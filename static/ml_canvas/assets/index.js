var C5=Object.defineProperty;var M1=e=>{throw TypeError(e)};var P5=(e,t,r)=>t in e?C5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tl=(e,t,r)=>P5(e,typeof t!="symbol"?t+"":t,r),rg=(e,t,r)=>t.has(e)||M1("Cannot "+r);var $=(e,t,r)=>(rg(e,t,"read from private field"),r?r.call(e):t.get(e)),he=(e,t,r)=>t.has(e)?M1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ne=(e,t,r,n)=>(rg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(rg(e,t,"access private method"),r);var pd=(e,t,r,n)=>({set _(a){ne(e,t,a,r)},get _(){return $(e,t,n)}});function O5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FS={exports:{}},xm={},BS={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),A5=Symbol.for("react.portal"),T5=Symbol.for("react.fragment"),M5=Symbol.for("react.strict_mode"),I5=Symbol.for("react.profiler"),D5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),L5=Symbol.for("react.forward_ref"),$5=Symbol.for("react.suspense"),z5=Symbol.for("react.memo"),F5=Symbol.for("react.lazy"),I1=Symbol.iterator;function B5(e){return e===null||typeof e!="object"?null:(e=I1&&e[I1]||e["@@iterator"],typeof e=="function"?e:null)}var US={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HS=Object.assign,VS={};function ul(e,t,r){this.props=e,this.context=t,this.refs=VS,this.updater=r||US}ul.prototype.isReactComponent={};ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WS(){}WS.prototype=ul.prototype;function qx(e,t,r){this.props=e,this.context=t,this.refs=VS,this.updater=r||US}var Yx=qx.prototype=new WS;Yx.constructor=qx;HS(Yx,ul.prototype);Yx.isPureReactComponent=!0;var D1=Array.isArray,KS=Object.prototype.hasOwnProperty,Gx={current:null},qS={key:!0,ref:!0,__self:!0,__source:!0};function YS(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)KS.call(t,n)&&!qS.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:xu,type:e,key:s,ref:i,props:a,_owner:Gx.current}}function U5(e,t){return{$$typeof:xu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xx(e){return typeof e=="object"&&e!==null&&e.$$typeof===xu}function H5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var R1=/\/+/g;function ng(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H5(""+e.key):t.toString(36)}function ff(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case xu:case A5:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+ng(i,0):n,D1(a)?(r="",e!=null&&(r=e.replace(R1,"$&/")+"/"),ff(a,t,r,"",function(u){return u})):a!=null&&(Xx(a)&&(a=U5(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(R1,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",D1(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+ng(s,l);i+=ff(s,t,r,c,a)}else if(c=B5(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+ng(s,l++),i+=ff(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function gd(e,t,r){if(e==null)return e;var n=[],a=0;return ff(e,n,"","",function(s){return t.call(r,s,a++)}),n}function V5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ar={current:null},hf={transition:null},W5={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:hf,ReactCurrentOwner:Gx};function GS(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:gd,forEach:function(e,t,r){gd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gd(e,function(){t++}),t},toArray:function(e){return gd(e,function(t){return t})||[]},only:function(e){if(!Xx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ul;ve.Fragment=T5;ve.Profiler=I5;ve.PureComponent=qx;ve.StrictMode=M5;ve.Suspense=$5;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W5;ve.act=GS;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HS({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Gx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)KS.call(t,c)&&!qS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xu,type:e.type,key:a,ref:s,props:n,_owner:i}};ve.createContext=function(e){return e={$$typeof:R5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D5,_context:e},e.Consumer=e};ve.createElement=YS;ve.createFactory=function(e){var t=YS.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:L5,render:e}};ve.isValidElement=Xx;ve.lazy=function(e){return{$$typeof:F5,_payload:{_status:-1,_result:e},_init:V5}};ve.memo=function(e,t){return{$$typeof:z5,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=hf.transition;hf.transition={};try{e()}finally{hf.transition=t}};ve.unstable_act=GS;ve.useCallback=function(e,t){return ar.current.useCallback(e,t)};ve.useContext=function(e){return ar.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return ar.current.useDeferredValue(e)};ve.useEffect=function(e,t){return ar.current.useEffect(e,t)};ve.useId=function(){return ar.current.useId()};ve.useImperativeHandle=function(e,t,r){return ar.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return ar.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return ar.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return ar.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return ar.current.useReducer(e,t,r)};ve.useRef=function(e){return ar.current.useRef(e)};ve.useState=function(e){return ar.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return ar.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return ar.current.useTransition()};ve.version="18.3.1";BS.exports=ve;var y=BS.exports;const Or=ta(y),K5=O5({__proto__:null,default:Or},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5=y,Y5=Symbol.for("react.element"),G5=Symbol.for("react.fragment"),X5=Object.prototype.hasOwnProperty,Q5=q5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z5={key:!0,ref:!0,__self:!0,__source:!0};function XS(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)X5.call(t,n)&&!Z5.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Y5,type:e,key:s,ref:i,props:a,_owner:Q5.current}}xm.Fragment=G5;xm.jsx=XS;xm.jsxs=XS;FS.exports=xm;var o=FS.exports,g0={},QS={exports:{}},Fr={},ZS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var z=T.length;T.push(M);e:for(;0<z;){var B=z-1>>>1,F=T[B];if(0<a(F,M))T[B]=M,T[z]=F,z=B;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var M=T[0],z=T.pop();if(z!==M){T[0]=z;e:for(var B=0,F=T.length,Y=F>>>1;B<Y;){var q=2*(B+1)-1,Q=T[q],le=q+1,Z=T[le];if(0>a(Q,z))le<F&&0>a(Z,Q)?(T[B]=Z,T[le]=z,B=le):(T[B]=Q,T[q]=z,B=q);else if(le<F&&0>a(Z,z))T[B]=Z,T[le]=z,B=le;else break e}}return M}function a(T,M){var z=T.sortIndex-M.sortIndex;return z!==0?z:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=T)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(T){if(x=!1,b(T),!p)if(r(c)!==null)p=!0,A(k);else{var M=r(u);M!==null&&R(j,M.startTime-T)}}function k(T,M){p=!1,x&&(x=!1,g(S),S=-1),m=!0;var z=h;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||T&&!E());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var F=B(f.expirationTime<=M);M=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var q=r(u);q!==null&&R(j,q.startTime-M),Y=!1}return Y}finally{f=null,h=z,m=!1}}var _=!1,N=null,S=-1,O=5,I=-1;function E(){return!(e.unstable_now()-I<O)}function C(){if(N!==null){var T=e.unstable_now();I=T;var M=!0;try{M=N(!0,T)}finally{M?L():(_=!1,N=null)}}else _=!1}var L;if(typeof w=="function")L=function(){w(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,D=P.port2;P.port1.onmessage=C,L=function(){D.postMessage(null)}}else L=function(){v(C,0)};function A(T){N=T,_||(_=!0,L())}function R(T,M){S=v(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,A(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return T()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return M()}finally{h=z}},e.unstable_scheduleCallback=function(T,M,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,T={id:d++,callback:M,priorityLevel:T,startTime:z,expirationTime:F,sortIndex:-1},z>B?(T.sortIndex=z,t(u,T),r(c)===null&&T===r(u)&&(x?(g(S),S=-1):x=!0,R(j,z-B))):(T.sortIndex=F,t(c,T),p||m||(p=!0,A(k))),T},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(T){var M=h;return function(){var z=h;h=M;try{return T.apply(this,arguments)}finally{h=z}}}})(JS);ZS.exports=JS;var J5=ZS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR=y,Dr=J5;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eE=new Set,_c={};function $i(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(_c[e]=t,e=0;e<t.length;e++)eE.add(t[e])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y0=Object.prototype.hasOwnProperty,tR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L1={},$1={};function rR(e){return y0.call($1,e)?!0:y0.call(L1,e)?!1:tR.test(e)?$1[e]=!0:(L1[e]=!0,!1)}function nR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aR(e,t,r,n){if(t===null||typeof t>"u"||nR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sr(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zt[e]=new sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zt[t]=new sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zt[e]=new sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zt[e]=new sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zt[e]=new sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zt[e]=new sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zt[e]=new sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zt[e]=new sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zt[e]=new sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qx=/[\-:]([a-z])/g;function Zx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qx,Zx);zt[t]=new sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qx,Zx);zt[t]=new sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qx,Zx);zt[t]=new sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zt[e]=new sr(e,1,!1,e.toLowerCase(),null,!1,!1)});zt.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zt[e]=new sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jx(e,t,r,n){var a=zt.hasOwnProperty(t)?zt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aR(t,r,a,n)&&(r=null),n||a===null?rR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $a=eR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),Zi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),x0=Symbol.for("react.profiler"),tE=Symbol.for("react.provider"),rE=Symbol.for("react.context"),tv=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),b0=Symbol.for("react.suspense_list"),rv=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),nE=Symbol.for("react.offscreen"),z1=Symbol.iterator;function Ml(e){return e===null||typeof e!="object"?null:(e=z1&&e[z1]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,ag;function tc(e){if(ag===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ag=t&&t[1]||""}return`
`+ag+e}var sg=!1;function ig(e,t){if(!e||sg)return"";sg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{sg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tc(e):""}function sR(e){switch(e.tag){case 5:return tc(e.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return e=ig(e.type,!1),e;case 11:return e=ig(e.type.render,!1),e;case 1:return e=ig(e.type,!0),e;default:return""}}function w0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ji:return"Fragment";case Zi:return"Portal";case x0:return"Profiler";case ev:return"StrictMode";case v0:return"Suspense";case b0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rE:return(e.displayName||"Context")+".Consumer";case tE:return(e._context.displayName||"Context")+".Provider";case tv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rv:return t=e.displayName||null,t!==null?t:w0(e.type)||"Memo";case Ga:t=e._payload,e=e._init;try{return w0(e(t))}catch{}}return null}function iR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w0(t);case 8:return t===ev?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oR(e){var t=aE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xd(e){e._valueTracker||(e._valueTracker=oR(e))}function sE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ff(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j0(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function F1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_s(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iE(e,t){t=t.checked,t!=null&&Jx(e,"checked",t,!1)}function k0(e,t){iE(e,t);var r=_s(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?N0(e,t.type,r):t.hasOwnProperty("defaultValue")&&N0(e,t.type,_s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function B1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function N0(e,t,r){(t!=="number"||Ff(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rc=Array.isArray;function po(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_s(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(rc(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_s(r)}}function oE(e,t){var r=_s(t.value),n=_s(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function H1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vd,cE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lR=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(e){lR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hc[t]=hc[e]})});function uE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hc.hasOwnProperty(e)&&hc[e]?(""+t).trim():t+"px"}function dE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=uE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var cR=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E0(e,t){if(t){if(cR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function C0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P0=null;function nv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var O0=null,go=null,yo=null;function V1(e){if(e=wu(e)){if(typeof O0!="function")throw Error(G(280));var t=e.stateNode;t&&(t=km(t),O0(e.stateNode,e.type,t))}}function fE(e){go?yo?yo.push(e):yo=[e]:go=e}function hE(){if(go){var e=go,t=yo;if(yo=go=null,V1(e),t)for(e=0;e<t.length;e++)V1(t[e])}}function mE(e,t){return e(t)}function pE(){}var og=!1;function gE(e,t,r){if(og)return e(t,r);og=!0;try{return mE(e,t,r)}finally{og=!1,(go!==null||yo!==null)&&(pE(),hE())}}function Ec(e,t){var r=e.stateNode;if(r===null)return null;var n=km(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var A0=!1;if(_a)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){A0=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{A0=!1}function uR(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var mc=!1,Bf=null,Uf=!1,T0=null,dR={onError:function(e){mc=!0,Bf=e}};function fR(e,t,r,n,a,s,i,l,c){mc=!1,Bf=null,uR.apply(dR,arguments)}function hR(e,t,r,n,a,s,i,l,c){if(fR.apply(this,arguments),mc){if(mc){var u=Bf;mc=!1,Bf=null}else throw Error(G(198));Uf||(Uf=!0,T0=u)}}function zi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function W1(e){if(zi(e)!==e)throw Error(G(188))}function mR(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return W1(a),e;if(s===n)return W1(a),t;s=s.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function xE(e){return e=mR(e),e!==null?vE(e):null}function vE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vE(e);if(t!==null)return t;e=e.sibling}return null}var bE=Dr.unstable_scheduleCallback,K1=Dr.unstable_cancelCallback,pR=Dr.unstable_shouldYield,gR=Dr.unstable_requestPaint,it=Dr.unstable_now,yR=Dr.unstable_getCurrentPriorityLevel,av=Dr.unstable_ImmediatePriority,wE=Dr.unstable_UserBlockingPriority,Hf=Dr.unstable_NormalPriority,xR=Dr.unstable_LowPriority,jE=Dr.unstable_IdlePriority,vm=null,Vn=null;function vR(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(vm,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:jR,bR=Math.log,wR=Math.LN2;function jR(e){return e>>>=0,e===0?32:31-(bR(e)/wR|0)|0}var bd=64,wd=4194304;function nc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=nc(l):(s&=i,s!==0&&(n=nc(s)))}else i=r&~a,i!==0?n=nc(i):s!==0&&(n=nc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wn(t),a=1<<r,n|=e[r],t&=~a;return n}function kR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-wn(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=kR(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function M0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kE(){var e=bd;return bd<<=1,!(bd&4194240)&&(bd=64),e}function lg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=r}function _R(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wn(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function sv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Me=0;function NE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _E,iv,SE,EE,CE,I0=!1,jd=[],ms=null,ps=null,gs=null,Cc=new Map,Pc=new Map,Ja=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q1(e,t){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(t.pointerId)}}function Dl(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=wu(t),t!==null&&iv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ER(e,t,r,n,a){switch(t){case"focusin":return ms=Dl(ms,e,t,r,n,a),!0;case"dragenter":return ps=Dl(ps,e,t,r,n,a),!0;case"mouseover":return gs=Dl(gs,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Cc.set(s,Dl(Cc.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Pc.set(s,Dl(Pc.get(s)||null,e,t,r,n,a)),!0}return!1}function PE(e){var t=Xs(e.target);if(t!==null){var r=zi(t);if(r!==null){if(t=r.tag,t===13){if(t=yE(r),t!==null){e.blockedOn=t,CE(e.priority,function(){SE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=D0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);P0=n,r.target.dispatchEvent(n),P0=null}else return t=wu(r),t!==null&&iv(t),e.blockedOn=r,!1;t.shift()}return!0}function Y1(e,t,r){mf(e)&&r.delete(t)}function CR(){I0=!1,ms!==null&&mf(ms)&&(ms=null),ps!==null&&mf(ps)&&(ps=null),gs!==null&&mf(gs)&&(gs=null),Cc.forEach(Y1),Pc.forEach(Y1)}function Rl(e,t){e.blockedOn===t&&(e.blockedOn=null,I0||(I0=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,CR)))}function Oc(e){function t(a){return Rl(a,e)}if(0<jd.length){Rl(jd[0],e);for(var r=1;r<jd.length;r++){var n=jd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ms!==null&&Rl(ms,e),ps!==null&&Rl(ps,e),gs!==null&&Rl(gs,e),Cc.forEach(t),Pc.forEach(t),r=0;r<Ja.length;r++)n=Ja[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ja.length&&(r=Ja[0],r.blockedOn===null);)PE(r),r.blockedOn===null&&Ja.shift()}var xo=$a.ReactCurrentBatchConfig,Wf=!0;function PR(e,t,r,n){var a=Me,s=xo.transition;xo.transition=null;try{Me=1,ov(e,t,r,n)}finally{Me=a,xo.transition=s}}function OR(e,t,r,n){var a=Me,s=xo.transition;xo.transition=null;try{Me=4,ov(e,t,r,n)}finally{Me=a,xo.transition=s}}function ov(e,t,r,n){if(Wf){var a=D0(e,t,r,n);if(a===null)xg(e,t,n,Kf,r),q1(e,n);else if(ER(a,e,t,r,n))n.stopPropagation();else if(q1(e,n),t&4&&-1<SR.indexOf(e)){for(;a!==null;){var s=wu(a);if(s!==null&&_E(s),s=D0(e,t,r,n),s===null&&xg(e,t,n,Kf,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else xg(e,t,n,null,r)}}var Kf=null;function D0(e,t,r,n){if(Kf=null,e=nv(n),e=Xs(e),e!==null)if(t=zi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kf=e,null}function OE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yR()){case av:return 1;case wE:return 4;case Hf:case xR:return 16;case jE:return 536870912;default:return 16}default:return 16}}var ds=null,lv=null,pf=null;function AE(){if(pf)return pf;var e,t=lv,r=t.length,n,a="value"in ds?ds.value:ds.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return pf=a.slice(e,1<n?1-n:void 0)}function gf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kd(){return!0}function G1(){return!1}function Br(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kd:G1,this.isPropagationStopped=G1,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),t}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cv=Br(dl),bu=et({},dl,{view:0,detail:0}),AR=Br(bu),cg,ug,Ll,bm=et({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ll&&(Ll&&e.type==="mousemove"?(cg=e.screenX-Ll.screenX,ug=e.screenY-Ll.screenY):ug=cg=0,Ll=e),cg)},movementY:function(e){return"movementY"in e?e.movementY:ug}}),X1=Br(bm),TR=et({},bm,{dataTransfer:0}),MR=Br(TR),IR=et({},bu,{relatedTarget:0}),dg=Br(IR),DR=et({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),RR=Br(DR),LR=et({},dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$R=Br(LR),zR=et({},dl,{data:0}),Q1=Br(zR),FR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UR[e])?!!t[e]:!1}function uv(){return HR}var VR=et({},bu,{key:function(e){if(e.key){var t=FR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(e){return e.type==="keypress"?gf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WR=Br(VR),KR=et({},bm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z1=Br(KR),qR=et({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),YR=Br(qR),GR=et({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),XR=Br(GR),QR=et({},bm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZR=Br(QR),JR=[9,13,27,32],dv=_a&&"CompositionEvent"in window,pc=null;_a&&"documentMode"in document&&(pc=document.documentMode);var eL=_a&&"TextEvent"in window&&!pc,TE=_a&&(!dv||pc&&8<pc&&11>=pc),J1=" ",ej=!1;function ME(e,t){switch(e){case"keyup":return JR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function tL(e,t){switch(e){case"compositionend":return IE(t);case"keypress":return t.which!==32?null:(ej=!0,J1);case"textInput":return e=t.data,e===J1&&ej?null:e;default:return null}}function rL(e,t){if(eo)return e==="compositionend"||!dv&&ME(e,t)?(e=AE(),pf=lv=ds=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TE&&t.locale!=="ko"?null:t.data;default:return null}}var nL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nL[e.type]:t==="textarea"}function DE(e,t,r,n){fE(n),t=qf(t,"onChange"),0<t.length&&(r=new cv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gc=null,Ac=null;function aL(e){KE(e,0)}function wm(e){var t=no(e);if(sE(t))return e}function sL(e,t){if(e==="change")return t}var RE=!1;if(_a){var fg;if(_a){var hg="oninput"in document;if(!hg){var rj=document.createElement("div");rj.setAttribute("oninput","return;"),hg=typeof rj.oninput=="function"}fg=hg}else fg=!1;RE=fg&&(!document.documentMode||9<document.documentMode)}function nj(){gc&&(gc.detachEvent("onpropertychange",LE),Ac=gc=null)}function LE(e){if(e.propertyName==="value"&&wm(Ac)){var t=[];DE(t,Ac,e,nv(e)),gE(aL,t)}}function iL(e,t,r){e==="focusin"?(nj(),gc=t,Ac=r,gc.attachEvent("onpropertychange",LE)):e==="focusout"&&nj()}function oL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wm(Ac)}function lL(e,t){if(e==="click")return wm(t)}function cL(e,t){if(e==="input"||e==="change")return wm(t)}function uL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:uL;function Tc(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!y0.call(t,a)||!_n(e[a],t[a]))return!1}return!0}function aj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sj(e,t){var r=aj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aj(r)}}function $E(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$E(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zE(){for(var e=window,t=Ff();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ff(e.document)}return t}function fv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dL(e){var t=zE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$E(r.ownerDocument.documentElement,r)){if(n!==null&&fv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=sj(r,s);var i=sj(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fL=_a&&"documentMode"in document&&11>=document.documentMode,to=null,R0=null,yc=null,L0=!1;function ij(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;L0||to==null||to!==Ff(n)||(n=to,"selectionStart"in n&&fv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yc&&Tc(yc,n)||(yc=n,n=qf(R0,"onSelect"),0<n.length&&(t=new cv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=to)))}function Nd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ro={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},mg={},FE={};_a&&(FE=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function jm(e){if(mg[e])return mg[e];if(!ro[e])return e;var t=ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in FE)return mg[e]=t[r];return e}var BE=jm("animationend"),UE=jm("animationiteration"),HE=jm("animationstart"),VE=jm("transitionend"),WE=new Map,oj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(e,t){WE.set(e,t),$i(t,[e])}for(var pg=0;pg<oj.length;pg++){var gg=oj[pg],hL=gg.toLowerCase(),mL=gg[0].toUpperCase()+gg.slice(1);As(hL,"on"+mL)}As(BE,"onAnimationEnd");As(UE,"onAnimationIteration");As(HE,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(VE,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pL=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function lj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hR(n,t,void 0,e),e.currentTarget=null}function KE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;lj(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;lj(a,l,u),s=c}}}if(Uf)throw e=T0,Uf=!1,T0=null,e}function Fe(e,t){var r=t[U0];r===void 0&&(r=t[U0]=new Set);var n=e+"__bubble";r.has(n)||(qE(t,e,2,!1),r.add(n))}function yg(e,t,r){var n=0;t&&(n|=4),qE(r,e,n,t)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Mc(e){if(!e[_d]){e[_d]=!0,eE.forEach(function(r){r!=="selectionchange"&&(pL.has(r)||yg(r,!1,e),yg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_d]||(t[_d]=!0,yg("selectionchange",!1,t))}}function qE(e,t,r,n){switch(OE(t)){case 1:var a=PR;break;case 4:a=OR;break;default:a=ov}r=a.bind(null,t,r,e),a=void 0,!A0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function xg(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Xs(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}gE(function(){var u=s,d=nv(r),f=[];e:{var h=WE.get(e);if(h!==void 0){var m=cv,p=e;switch(e){case"keypress":if(gf(r)===0)break e;case"keydown":case"keyup":m=WR;break;case"focusin":p="focus",m=dg;break;case"focusout":p="blur",m=dg;break;case"beforeblur":case"afterblur":m=dg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=X1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=YR;break;case BE:case UE:case HE:m=RR;break;case VE:m=XR;break;case"scroll":m=AR;break;case"wheel":m=ZR;break;case"copy":case"cut":case"paste":m=$R;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Z1}var x=(t&4)!==0,v=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=Ec(w,g),j!=null&&x.push(Ic(w,j,b)))),v)break;w=w.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==P0&&(p=r.relatedTarget||r.fromElement)&&(Xs(p)||p[Sa]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Xs(p):null,p!==null&&(v=zi(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=X1,j="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=Z1,j="onPointerLeave",g="onPointerEnter",w="pointer"),v=m==null?h:no(m),b=p==null?h:no(p),h=new x(j,w+"leave",m,r,d),h.target=v,h.relatedTarget=b,j=null,Xs(d)===u&&(x=new x(g,w+"enter",p,r,d),x.target=b,x.relatedTarget=v,j=x),v=j,m&&p)t:{for(x=m,g=p,w=0,b=x;b;b=Ki(b))w++;for(b=0,j=g;j;j=Ki(j))b++;for(;0<w-b;)x=Ki(x),w--;for(;0<b-w;)g=Ki(g),b--;for(;w--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ki(x),g=Ki(g)}x=null}else x=null;m!==null&&cj(f,h,m,x,!1),p!==null&&v!==null&&cj(f,v,p,x,!0)}}e:{if(h=u?no(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=sL;else if(tj(h))if(RE)k=cL;else{k=oL;var _=iL}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=lL);if(k&&(k=k(e,u))){DE(f,k,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&N0(h,"number",h.value)}switch(_=u?no(u):window,e){case"focusin":(tj(_)||_.contentEditable==="true")&&(to=_,R0=u,yc=null);break;case"focusout":yc=R0=to=null;break;case"mousedown":L0=!0;break;case"contextmenu":case"mouseup":case"dragend":L0=!1,ij(f,r,d);break;case"selectionchange":if(fL)break;case"keydown":case"keyup":ij(f,r,d)}var N;if(dv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else eo?ME(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(TE&&r.locale!=="ko"&&(eo||S!=="onCompositionStart"?S==="onCompositionEnd"&&eo&&(N=AE()):(ds=d,lv="value"in ds?ds.value:ds.textContent,eo=!0)),_=qf(u,S),0<_.length&&(S=new Q1(S,e,null,r,d),f.push({event:S,listeners:_}),N?S.data=N:(N=IE(r),N!==null&&(S.data=N)))),(N=eL?tL(e,r):rL(e,r))&&(u=qf(u,"onBeforeInput"),0<u.length&&(d=new Q1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}KE(f,t)})}function Ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Ec(e,r),s!=null&&n.unshift(Ic(e,s,a)),s=Ec(e,t),s!=null&&n.push(Ic(e,s,a))),e=e.return}return n}function Ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cj(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ec(r,s),c!=null&&i.unshift(Ic(r,c,l))):a||(c=Ec(r,s),c!=null&&i.push(Ic(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var gL=/\r\n?/g,yL=/\u0000|\uFFFD/g;function uj(e){return(typeof e=="string"?e:""+e).replace(gL,`
`).replace(yL,"")}function Sd(e,t,r){if(t=uj(t),uj(e)!==t&&r)throw Error(G(425))}function Yf(){}var $0=null,z0=null;function F0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var B0=typeof setTimeout=="function"?setTimeout:void 0,xL=typeof clearTimeout=="function"?clearTimeout:void 0,dj=typeof Promise=="function"?Promise:void 0,vL=typeof queueMicrotask=="function"?queueMicrotask:typeof dj<"u"?function(e){return dj.resolve(null).then(e).catch(bL)}:B0;function bL(e){setTimeout(function(){throw e})}function vg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Oc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Oc(t)}function ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Un="__reactFiber$"+fl,Dc="__reactProps$"+fl,Sa="__reactContainer$"+fl,U0="__reactEvents$"+fl,wL="__reactListeners$"+fl,jL="__reactHandles$"+fl;function Xs(e){var t=e[Un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sa]||r[Un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fj(e);e!==null;){if(r=e[Un])return r;e=fj(e)}return t}e=r,r=e.parentNode}return null}function wu(e){return e=e[Un]||e[Sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function km(e){return e[Dc]||null}var H0=[],ao=-1;function Ts(e){return{current:e}}function Ue(e){0>ao||(e.current=H0[ao],H0[ao]=null,ao--)}function ze(e,t){ao++,H0[ao]=e.current,e.current=t}var Ss={},Kt=Ts(Ss),xr=Ts(!1),bi=Ss;function Lo(e,t){var r=e.type.contextTypes;if(!r)return Ss;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vr(e){return e=e.childContextTypes,e!=null}function Gf(){Ue(xr),Ue(Kt)}function hj(e,t,r){if(Kt.current!==Ss)throw Error(G(168));ze(Kt,t),ze(xr,r)}function YE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,iR(e)||"Unknown",a));return et({},r,n)}function Xf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,bi=Kt.current,ze(Kt,e),ze(xr,xr.current),!0}function mj(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=YE(e,t,bi),n.__reactInternalMemoizedMergedChildContext=e,Ue(xr),Ue(Kt),ze(Kt,e)):Ue(xr),ze(xr,r)}var ca=null,Nm=!1,bg=!1;function GE(e){ca===null?ca=[e]:ca.push(e)}function kL(e){Nm=!0,GE(e)}function Ms(){if(!bg&&ca!==null){bg=!0;var e=0,t=Me;try{var r=ca;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ca=null,Nm=!1}catch(a){throw ca!==null&&(ca=ca.slice(e+1)),bE(av,Ms),a}finally{Me=t,bg=!1}}return null}var so=[],io=0,Qf=null,Zf=0,Yr=[],Gr=0,wi=null,pa=1,ga="";function Us(e,t){so[io++]=Zf,so[io++]=Qf,Qf=e,Zf=t}function XE(e,t,r){Yr[Gr++]=pa,Yr[Gr++]=ga,Yr[Gr++]=wi,wi=e;var n=pa;e=ga;var a=32-wn(n)-1;n&=~(1<<a),r+=1;var s=32-wn(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,pa=1<<32-wn(t)+a|r<<a|n,ga=s+e}else pa=1<<s|r<<a|n,ga=e}function hv(e){e.return!==null&&(Us(e,1),XE(e,1,0))}function mv(e){for(;e===Qf;)Qf=so[--io],so[io]=null,Zf=so[--io],so[io]=null;for(;e===wi;)wi=Yr[--Gr],Yr[Gr]=null,ga=Yr[--Gr],Yr[Gr]=null,pa=Yr[--Gr],Yr[Gr]=null}var Mr=null,Ar=null,We=!1,mn=null;function QE(e,t){var r=Xr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Ar=ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wi!==null?{id:pa,overflow:ga}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mr=e,Ar=null,!0):!1;default:return!1}}function V0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function W0(e){if(We){var t=Ar;if(t){var r=t;if(!pj(e,t)){if(V0(e))throw Error(G(418));t=ys(r.nextSibling);var n=Mr;t&&pj(e,t)?QE(n,r):(e.flags=e.flags&-4097|2,We=!1,Mr=e)}}else{if(V0(e))throw Error(G(418));e.flags=e.flags&-4097|2,We=!1,Mr=e}}}function gj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function Ed(e){if(e!==Mr)return!1;if(!We)return gj(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!F0(e.type,e.memoizedProps)),t&&(t=Ar)){if(V0(e))throw ZE(),Error(G(418));for(;t;)QE(e,t),t=ys(t.nextSibling)}if(gj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ar=ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ar=null}}else Ar=Mr?ys(e.stateNode.nextSibling):null;return!0}function ZE(){for(var e=Ar;e;)e=ys(e.nextSibling)}function $o(){Ar=Mr=null,We=!1}function pv(e){mn===null?mn=[e]:mn.push(e)}var NL=$a.ReactCurrentBatchConfig;function $l(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Cd(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yj(e){var t=e._init;return t(e._payload)}function JE(e){function t(g,w){if(e){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function r(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function a(g,w){return g=ws(g,w),g.index=0,g.sibling=null,g}function s(g,w,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,w,b,j){return w===null||w.tag!==6?(w=Eg(b,g.mode,j),w.return=g,w):(w=a(w,b),w.return=g,w)}function c(g,w,b,j){var k=b.type;return k===Ji?d(g,w,b.props.children,j,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ga&&yj(k)===w.type)?(j=a(w,b.props),j.ref=$l(g,w,b),j.return=g,j):(j=kf(b.type,b.key,b.props,null,g.mode,j),j.ref=$l(g,w,b),j.return=g,j)}function u(g,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Cg(b,g.mode,j),w.return=g,w):(w=a(w,b.children||[]),w.return=g,w)}function d(g,w,b,j,k){return w===null||w.tag!==7?(w=mi(b,g.mode,j,k),w.return=g,w):(w=a(w,b),w.return=g,w)}function f(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Eg(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yd:return b=kf(w.type,w.key,w.props,null,g.mode,b),b.ref=$l(g,null,w),b.return=g,b;case Zi:return w=Cg(w,g.mode,b),w.return=g,w;case Ga:var j=w._init;return f(g,j(w._payload),b)}if(rc(w)||Ml(w))return w=mi(w,g.mode,b,null),w.return=g,w;Cd(g,w)}return null}function h(g,w,b,j){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(g,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yd:return b.key===k?c(g,w,b,j):null;case Zi:return b.key===k?u(g,w,b,j):null;case Ga:return k=b._init,h(g,w,k(b._payload),j)}if(rc(b)||Ml(b))return k!==null?null:d(g,w,b,j,null);Cd(g,b)}return null}function m(g,w,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(w,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yd:return g=g.get(j.key===null?b:j.key)||null,c(w,g,j,k);case Zi:return g=g.get(j.key===null?b:j.key)||null,u(w,g,j,k);case Ga:var _=j._init;return m(g,w,b,_(j._payload),k)}if(rc(j)||Ml(j))return g=g.get(b)||null,d(w,g,j,k,null);Cd(w,j)}return null}function p(g,w,b,j){for(var k=null,_=null,N=w,S=w=0,O=null;N!==null&&S<b.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var I=h(g,N,b[S],j);if(I===null){N===null&&(N=O);break}e&&N&&I.alternate===null&&t(g,N),w=s(I,w,S),_===null?k=I:_.sibling=I,_=I,N=O}if(S===b.length)return r(g,N),We&&Us(g,S),k;if(N===null){for(;S<b.length;S++)N=f(g,b[S],j),N!==null&&(w=s(N,w,S),_===null?k=N:_.sibling=N,_=N);return We&&Us(g,S),k}for(N=n(g,N);S<b.length;S++)O=m(N,g,S,b[S],j),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?S:O.key),w=s(O,w,S),_===null?k=O:_.sibling=O,_=O);return e&&N.forEach(function(E){return t(g,E)}),We&&Us(g,S),k}function x(g,w,b,j){var k=Ml(b);if(typeof k!="function")throw Error(G(150));if(b=k.call(b),b==null)throw Error(G(151));for(var _=k=null,N=w,S=w=0,O=null,I=b.next();N!==null&&!I.done;S++,I=b.next()){N.index>S?(O=N,N=null):O=N.sibling;var E=h(g,N,I.value,j);if(E===null){N===null&&(N=O);break}e&&N&&E.alternate===null&&t(g,N),w=s(E,w,S),_===null?k=E:_.sibling=E,_=E,N=O}if(I.done)return r(g,N),We&&Us(g,S),k;if(N===null){for(;!I.done;S++,I=b.next())I=f(g,I.value,j),I!==null&&(w=s(I,w,S),_===null?k=I:_.sibling=I,_=I);return We&&Us(g,S),k}for(N=n(g,N);!I.done;S++,I=b.next())I=m(N,g,S,I.value,j),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?S:I.key),w=s(I,w,S),_===null?k=I:_.sibling=I,_=I);return e&&N.forEach(function(C){return t(g,C)}),We&&Us(g,S),k}function v(g,w,b,j){if(typeof b=="object"&&b!==null&&b.type===Ji&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yd:e:{for(var k=b.key,_=w;_!==null;){if(_.key===k){if(k=b.type,k===Ji){if(_.tag===7){r(g,_.sibling),w=a(_,b.props.children),w.return=g,g=w;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ga&&yj(k)===_.type){r(g,_.sibling),w=a(_,b.props),w.ref=$l(g,_,b),w.return=g,g=w;break e}r(g,_);break}else t(g,_);_=_.sibling}b.type===Ji?(w=mi(b.props.children,g.mode,j,b.key),w.return=g,g=w):(j=kf(b.type,b.key,b.props,null,g.mode,j),j.ref=$l(g,w,b),j.return=g,g=j)}return i(g);case Zi:e:{for(_=b.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(g,w.sibling),w=a(w,b.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else t(g,w);w=w.sibling}w=Cg(b,g.mode,j),w.return=g,g=w}return i(g);case Ga:return _=b._init,v(g,w,_(b._payload),j)}if(rc(b))return p(g,w,b,j);if(Ml(b))return x(g,w,b,j);Cd(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(g,w.sibling),w=a(w,b),w.return=g,g=w):(r(g,w),w=Eg(b,g.mode,j),w.return=g,g=w),i(g)):r(g,w)}return v}var zo=JE(!0),eC=JE(!1),Jf=Ts(null),eh=null,oo=null,gv=null;function yv(){gv=oo=eh=null}function xv(e){var t=Jf.current;Ue(Jf),e._currentValue=t}function K0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vo(e,t){eh=e,gv=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mr=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(gv!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(eh===null)throw Error(G(308));oo=e,eh.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var Qs=null;function vv(e){Qs===null?Qs=[e]:Qs.push(e)}function tC(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,vv(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ea(e,n)}function Ea(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xa=!1;function bv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ea(e,r)}return a=n.interleaved,a===null?(t.next=t,vv(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ea(e,r)}function yf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sv(e,r)}}function xj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function th(e,t,r,n){var a=e.updateQueue;Xa=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=et({},f,h);break e;case 2:Xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);ki|=i,e.lanes=i,e.memoizedState=f}}function vj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var ju={},Wn=Ts(ju),Rc=Ts(ju),Lc=Ts(ju);function Zs(e){if(e===ju)throw Error(G(174));return e}function wv(e,t){switch(ze(Lc,t),ze(Rc,e),ze(Wn,ju),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:S0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=S0(t,e)}Ue(Wn),ze(Wn,t)}function Fo(){Ue(Wn),Ue(Rc),Ue(Lc)}function nC(e){Zs(Lc.current);var t=Zs(Wn.current),r=S0(t,e.type);t!==r&&(ze(Rc,e),ze(Wn,r))}function jv(e){Rc.current===e&&(Ue(Wn),Ue(Rc))}var Xe=Ts(0);function rh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wg=[];function kv(){for(var e=0;e<wg.length;e++)wg[e]._workInProgressVersionPrimary=null;wg.length=0}var xf=$a.ReactCurrentDispatcher,jg=$a.ReactCurrentBatchConfig,ji=0,Qe=null,pt=null,Et=null,nh=!1,xc=!1,$c=0,_L=0;function Ft(){throw Error(G(321))}function Nv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_n(e[r],t[r]))return!1;return!0}function _v(e,t,r,n,a,s){if(ji=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xf.current=e===null||e.memoizedState===null?PL:OL,e=r(n,a),xc){s=0;do{if(xc=!1,$c=0,25<=s)throw Error(G(301));s+=1,Et=pt=null,t.updateQueue=null,xf.current=AL,e=r(n,a)}while(xc)}if(xf.current=ah,t=pt!==null&&pt.next!==null,ji=0,Et=pt=Qe=null,nh=!1,t)throw Error(G(300));return e}function Sv(){var e=$c!==0;return $c=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=e:Et=Et.next=e,Et}function en(){if(pt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Et===null?Qe.memoizedState:Et.next;if(t!==null)Et=t,pt=e;else{if(e===null)throw Error(G(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Qe.memoizedState=Et=e:Et=Et.next=e}return Et}function zc(e,t){return typeof t=="function"?t(e):t}function kg(e){var t=en(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=pt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ji&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Qe.lanes|=d,ki|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,_n(n,t.memoizedState)||(mr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Qe.lanes|=s,ki|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ng(e){var t=en(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);_n(s,t.memoizedState)||(mr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function aC(){}function sC(e,t){var r=Qe,n=en(),a=t(),s=!_n(n.memoizedState,a);if(s&&(n.memoizedState=a,mr=!0),n=n.queue,Ev(lC.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,Fc(9,oC.bind(null,r,n,a,t),void 0,null),Pt===null)throw Error(G(349));ji&30||iC(r,t,a)}return a}function iC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function oC(e,t,r,n){t.value=r,t.getSnapshot=n,cC(t)&&uC(e)}function lC(e,t,r){return r(function(){cC(t)&&uC(e)})}function cC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_n(e,r)}catch{return!0}}function uC(e){var t=Ea(e,1);t!==null&&jn(t,e,1,-1)}function bj(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:e},t.queue=e,e=e.dispatch=CL.bind(null,Qe,e),[t.memoizedState,e]}function Fc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dC(){return en().memoizedState}function vf(e,t,r,n){var a=Ln();Qe.flags|=e,a.memoizedState=Fc(1|t,r,void 0,n===void 0?null:n)}function _m(e,t,r,n){var a=en();n=n===void 0?null:n;var s=void 0;if(pt!==null){var i=pt.memoizedState;if(s=i.destroy,n!==null&&Nv(n,i.deps)){a.memoizedState=Fc(t,r,s,n);return}}Qe.flags|=e,a.memoizedState=Fc(1|t,r,s,n)}function wj(e,t){return vf(8390656,8,e,t)}function Ev(e,t){return _m(2048,8,e,t)}function fC(e,t){return _m(4,2,e,t)}function hC(e,t){return _m(4,4,e,t)}function mC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pC(e,t,r){return r=r!=null?r.concat([e]):null,_m(4,4,mC.bind(null,t,e),r)}function Cv(){}function gC(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yC(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Nv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xC(e,t,r){return ji&21?(_n(r,t)||(r=kE(),Qe.lanes|=r,ki|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mr=!0),e.memoizedState=r)}function SL(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=jg.transition;jg.transition={};try{e(!1),t()}finally{Me=r,jg.transition=n}}function vC(){return en().memoizedState}function EL(e,t,r){var n=bs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bC(e))wC(t,r);else if(r=tC(e,t,r,n),r!==null){var a=tr();jn(r,e,n,a),jC(r,t,n)}}function CL(e,t,r){var n=bs(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bC(e))wC(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,_n(l,i)){var c=t.interleaved;c===null?(a.next=a,vv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=tC(e,t,a,n),r!==null&&(a=tr(),jn(r,e,n,a),jC(r,t,n))}}function bC(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function wC(e,t){xc=nh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sv(e,r)}}var ah={readContext:Jr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},PL={readContext:Jr,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:Jr,useEffect:wj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vf(4194308,4,mC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vf(4194308,4,e,t)},useInsertionEffect:function(e,t){return vf(4,2,e,t)},useMemo:function(e,t){var r=Ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=EL.bind(null,Qe,e),[n.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:bj,useDebugValue:Cv,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=bj(!1),t=e[0];return e=SL.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qe,a=Ln();if(We){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Pt===null)throw Error(G(349));ji&30||iC(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,wj(lC.bind(null,n,s,e),[e]),n.flags|=2048,Fc(9,oC.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ln(),t=Pt.identifierPrefix;if(We){var r=ga,n=pa;r=(n&~(1<<32-wn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$c++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_L++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OL={readContext:Jr,useCallback:gC,useContext:Jr,useEffect:Ev,useImperativeHandle:pC,useInsertionEffect:fC,useLayoutEffect:hC,useMemo:yC,useReducer:kg,useRef:dC,useState:function(){return kg(zc)},useDebugValue:Cv,useDeferredValue:function(e){var t=en();return xC(t,pt.memoizedState,e)},useTransition:function(){var e=kg(zc)[0],t=en().memoizedState;return[e,t]},useMutableSource:aC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1},AL={readContext:Jr,useCallback:gC,useContext:Jr,useEffect:Ev,useImperativeHandle:pC,useInsertionEffect:fC,useLayoutEffect:hC,useMemo:yC,useReducer:Ng,useRef:dC,useState:function(){return Ng(zc)},useDebugValue:Cv,useDeferredValue:function(e){var t=en();return pt===null?t.memoizedState=e:xC(t,pt.memoizedState,e)},useTransition:function(){var e=Ng(zc)[0],t=en().memoizedState;return[e,t]},useMutableSource:aC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function q0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sm={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tr(),a=bs(e),s=ba(n,a);s.payload=t,r!=null&&(s.callback=r),t=xs(e,s,a),t!==null&&(jn(t,e,a,n),yf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tr(),a=bs(e),s=ba(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=xs(e,s,a),t!==null&&(jn(t,e,a,n),yf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tr(),n=bs(e),a=ba(r,n);a.tag=2,t!=null&&(a.callback=t),t=xs(e,a,n),t!==null&&(jn(t,e,n,r),yf(t,e,n))}};function jj(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Tc(r,n)||!Tc(a,s):!0}function kC(e,t,r){var n=!1,a=Ss,s=t.contextType;return typeof s=="object"&&s!==null?s=Jr(s):(a=vr(t)?bi:Kt.current,n=t.contextTypes,s=(n=n!=null)?Lo(e,a):Ss),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function kj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sm.enqueueReplaceState(t,t.state,null)}function Y0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},bv(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Jr(s):(s=vr(t)?bi:Kt.current,a.context=Lo(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(q0(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sm.enqueueReplaceState(a,a.state,null),th(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Bo(e,t){try{var r="",n=t;do r+=sR(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function _g(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function G0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TL=typeof WeakMap=="function"?WeakMap:Map;function NC(e,t,r){r=ba(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ih||(ih=!0,sy=n),G0(e,t)},r}function _C(e,t,r){r=ba(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){G0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){G0(e,t),typeof n!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Nj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=KL.bind(null,e,t,r),t.then(e,e))}function _j(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ba(-1,1),t.tag=2,xs(r,t,1))),r.lanes|=1),e)}var ML=$a.ReactCurrentOwner,mr=!1;function Zt(e,t,r,n){t.child=e===null?eC(t,null,r,n):zo(t,e.child,r,n)}function Ej(e,t,r,n,a){r=r.render;var s=t.ref;return vo(t,a),n=_v(e,t,r,n,s,a),r=Sv(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ca(e,t,a)):(We&&r&&hv(t),t.flags|=1,Zt(e,t,n,a),t.child)}function Cj(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Rv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,SC(e,t,s,n,a)):(e=kf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Tc,r(i,n)&&e.ref===t.ref)return Ca(e,t,a)}return t.flags|=1,e=ws(s,n),e.ref=t.ref,e.return=t,t.child=e}function SC(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Tc(s,n)&&e.ref===t.ref)if(mr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(mr=!0);else return t.lanes=e.lanes,Ca(e,t,a)}return X0(e,t,r,n,a)}function EC(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(co,Sr),Sr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(co,Sr),Sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ze(co,Sr),Sr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ze(co,Sr),Sr|=n;return Zt(e,t,a,r),t.child}function CC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function X0(e,t,r,n,a){var s=vr(r)?bi:Kt.current;return s=Lo(t,s),vo(t,a),r=_v(e,t,r,n,s,a),n=Sv(),e!==null&&!mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ca(e,t,a)):(We&&n&&hv(t),t.flags|=1,Zt(e,t,r,a),t.child)}function Pj(e,t,r,n,a){if(vr(r)){var s=!0;Xf(t)}else s=!1;if(vo(t,a),t.stateNode===null)bf(e,t),kC(t,r,n),Y0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=vr(r)?bi:Kt.current,u=Lo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&kj(t,i,n,u),Xa=!1;var h=t.memoizedState;i.state=h,th(t,n,i,a),c=t.memoizedState,l!==n||h!==c||xr.current||Xa?(typeof d=="function"&&(q0(t,r,d,n),c=t.memoizedState),(l=Xa||jj(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,rC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:cn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Jr(c):(c=vr(r)?bi:Kt.current,c=Lo(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&kj(t,i,n,c),Xa=!1,h=t.memoizedState,i.state=h,th(t,n,i,a);var p=t.memoizedState;l!==f||h!==p||xr.current||Xa?(typeof m=="function"&&(q0(t,r,m,n),p=t.memoizedState),(u=Xa||jj(t,r,u,n,h,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Q0(e,t,r,n,s,a)}function Q0(e,t,r,n,a,s){CC(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&mj(t,r,!1),Ca(e,t,s);n=t.stateNode,ML.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=zo(t,e.child,null,s),t.child=zo(t,null,l,s)):Zt(e,t,l,s),t.memoizedState=n.state,a&&mj(t,r,!0),t.child}function PC(e){var t=e.stateNode;t.pendingContext?hj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hj(e,t.context,!1),wv(e,t.containerInfo)}function Oj(e,t,r,n,a){return $o(),pv(a),t.flags|=256,Zt(e,t,r,n),t.child}var Z0={dehydrated:null,treeContext:null,retryLane:0};function J0(e){return{baseLanes:e,cachePool:null,transitions:null}}function OC(e,t,r){var n=t.pendingProps,a=Xe.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ze(Xe,a&1),e===null)return W0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Pm(i,n,0,null),e=mi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=J0(r),t.memoizedState=Z0,e):Pv(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return IL(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ws(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=ws(l,s):(s=mi(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?J0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Z0,n}return s=e.child,e=s.sibling,n=ws(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Pv(e,t){return t=Pm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pd(e,t,r,n){return n!==null&&pv(n),zo(t,e.child,null,r),e=Pv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IL(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=_g(Error(G(422))),Pd(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Pm({mode:"visible",children:n.children},a,0,null),s=mi(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&zo(t,e.child,null,i),t.child.memoizedState=J0(i),t.memoizedState=Z0,s);if(!(t.mode&1))return Pd(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(G(419)),n=_g(s,n,void 0),Pd(e,t,i,n)}if(l=(i&e.childLanes)!==0,mr||l){if(n=Pt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ea(e,a),jn(n,e,a,-1))}return Dv(),n=_g(Error(G(421))),Pd(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qL.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ar=ys(a.nextSibling),Mr=t,We=!0,mn=null,e!==null&&(Yr[Gr++]=pa,Yr[Gr++]=ga,Yr[Gr++]=wi,pa=e.id,ga=e.overflow,wi=t),t=Pv(t,n.children),t.flags|=4096,t)}function Aj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),K0(e.return,t,r)}function Sg(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function AC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Zt(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Aj(e,r,t);else if(e.tag===19)Aj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&rh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Sg(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&rh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Sg(t,!0,r,null,s);break;case"together":Sg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ca(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ws(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ws(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function DL(e,t,r){switch(t.tag){case 3:PC(t),$o();break;case 5:nC(t);break;case 1:vr(t.type)&&Xf(t);break;case 4:wv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ze(Jf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?OC(e,t,r):(ze(Xe,Xe.current&1),e=Ca(e,t,r),e!==null?e.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return AC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ze(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,EC(e,t,r)}return Ca(e,t,r)}var TC,ey,MC,IC;TC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ey=function(){};MC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Zs(Wn.current);var s=null;switch(r){case"input":a=j0(e,a),n=j0(e,n),s=[];break;case"select":a=et({},a,{value:void 0}),n=et({},n,{value:void 0}),s=[];break;case"textarea":a=_0(e,a),n=_0(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yf)}E0(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_c.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_c.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fe("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};IC=function(e,t,r,n){r!==n&&(t.flags|=4)};function zl(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function RL(e,t,r){var n=t.pendingProps;switch(mv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return vr(t.type)&&Gf(),Bt(t),null;case 3:return n=t.stateNode,Fo(),Ue(xr),Ue(Kt),kv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ed(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mn!==null&&(ly(mn),mn=null))),ey(e,t),Bt(t),null;case 5:jv(t);var a=Zs(Lc.current);if(r=t.type,e!==null&&t.stateNode!=null)MC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Bt(t),null}if(e=Zs(Wn.current),Ed(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Un]=t,n[Dc]=s,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<ac.length;a++)Fe(ac[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":F1(n,s),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",n);break;case"textarea":U1(n,s),Fe("invalid",n)}E0(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Sd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Sd(n.textContent,l,e),a=["children",""+l]):_c.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Fe("scroll",n)}switch(r){case"input":xd(n),B1(n,s,!0);break;case"textarea":xd(n),H1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Yf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Un]=t,e[Dc]=n,TC(e,t,!1,!1),t.stateNode=e;e:{switch(i=C0(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),a=n;break;case"iframe":case"object":case"embed":Fe("load",e),a=n;break;case"video":case"audio":for(a=0;a<ac.length;a++)Fe(ac[a],e);a=n;break;case"source":Fe("error",e),a=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),a=n;break;case"details":Fe("toggle",e),a=n;break;case"input":F1(e,n),a=j0(e,n),Fe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=et({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":U1(e,n),a=_0(e,n),Fe("invalid",e);break;default:a=n}E0(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?dE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cE(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sc(e,c):typeof c=="number"&&Sc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_c.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fe("scroll",e):c!=null&&Jx(e,s,c,i))}switch(r){case"input":xd(e),B1(e,n,!1);break;case"textarea":xd(e),H1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_s(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?po(e,!!n.multiple,s,!1):n.defaultValue!=null&&po(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)IC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Zs(Lc.current),Zs(Wn.current),Ed(t)){if(n=t.stateNode,r=t.memoizedProps,n[Un]=t,(s=n.nodeValue!==r)&&(e=Mr,e!==null))switch(e.tag){case 3:Sd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sd(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=t,t.stateNode=n}return Bt(t),null;case 13:if(Ue(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Ar!==null&&t.mode&1&&!(t.flags&128))ZE(),$o(),t.flags|=98560,s=!1;else if(s=Ed(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Un]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),s=!1}else mn!==null&&(ly(mn),mn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?yt===0&&(yt=3):Dv())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Fo(),ey(e,t),e===null&&Mc(t.stateNode.containerInfo),Bt(t),null;case 10:return xv(t.type._context),Bt(t),null;case 17:return vr(t.type)&&Gf(),Bt(t),null;case 19:if(Ue(Xe),s=t.memoizedState,s===null)return Bt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)zl(s,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=rh(e),i!==null){for(t.flags|=128,zl(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Xe,Xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&it()>Uo&&(t.flags|=128,n=!0,zl(s,!1),t.lanes=4194304)}else{if(!n)if(e=rh(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!We)return Bt(t),null}else 2*it()-s.renderingStartTime>Uo&&r!==1073741824&&(t.flags|=128,n=!0,zl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,r=Xe.current,ze(Xe,n?r&1|2:r&1),t):(Bt(t),null);case 22:case 23:return Iv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Sr&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function LL(e,t){switch(mv(t),t.tag){case 1:return vr(t.type)&&Gf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),Ue(xr),Ue(Kt),kv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jv(t),null;case 13:if(Ue(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Xe),null;case 4:return Fo(),null;case 10:return xv(t.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var Od=!1,Ht=!1,$L=typeof WeakSet=="function"?WeakSet:Set,se=null;function lo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function ty(e,t,r){try{r()}catch(n){nt(e,t,n)}}var Tj=!1;function zL(e,t){if($0=Wf,e=zE(),fv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(z0={focusedElem:e,selectionRange:r},Wf=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:cn(t.type,x),v);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){nt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return p=Tj,Tj=!1,p}function vc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ty(t,r,s)}a=a.next}while(a!==n)}}function Em(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ry(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function DC(e){var t=e.alternate;t!==null&&(e.alternate=null,DC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[Dc],delete t[U0],delete t[wL],delete t[jL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RC(e){return e.tag===5||e.tag===3||e.tag===4}function Mj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ny(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yf));else if(n!==4&&(e=e.child,e!==null))for(ny(e,t,r),e=e.sibling;e!==null;)ny(e,t,r),e=e.sibling}function ay(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ay(e,t,r),e=e.sibling;e!==null;)ay(e,t,r),e=e.sibling}var It=null,fn=!1;function Va(e,t,r){for(r=r.child;r!==null;)LC(e,t,r),r=r.sibling}function LC(e,t,r){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(vm,r)}catch{}switch(r.tag){case 5:Ht||lo(r,t);case 6:var n=It,a=fn;It=null,Va(e,t,r),It=n,fn=a,It!==null&&(fn?(e=It,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):It.removeChild(r.stateNode));break;case 18:It!==null&&(fn?(e=It,r=r.stateNode,e.nodeType===8?vg(e.parentNode,r):e.nodeType===1&&vg(e,r),Oc(e)):vg(It,r.stateNode));break;case 4:n=It,a=fn,It=r.stateNode.containerInfo,fn=!0,Va(e,t,r),It=n,fn=a;break;case 0:case 11:case 14:case 15:if(!Ht&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&ty(r,t,i),a=a.next}while(a!==n)}Va(e,t,r);break;case 1:if(!Ht&&(lo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}Va(e,t,r);break;case 21:Va(e,t,r);break;case 22:r.mode&1?(Ht=(n=Ht)||r.memoizedState!==null,Va(e,t,r),Ht=n):Va(e,t,r);break;default:Va(e,t,r)}}function Ij(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $L),t.forEach(function(n){var a=YL.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ln(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,fn=!1;break e;case 3:It=l.stateNode.containerInfo,fn=!0;break e;case 4:It=l.stateNode.containerInfo,fn=!0;break e}l=l.return}if(It===null)throw Error(G(160));LC(s,i,a),It=null,fn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$C(t,e),t=t.sibling}function $C(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),In(e),n&4){try{vc(3,e,e.return),Em(3,e)}catch(x){nt(e,e.return,x)}try{vc(5,e,e.return)}catch(x){nt(e,e.return,x)}}break;case 1:ln(t,e),In(e),n&512&&r!==null&&lo(r,r.return);break;case 5:if(ln(t,e),In(e),n&512&&r!==null&&lo(r,r.return),e.flags&32){var a=e.stateNode;try{Sc(a,"")}catch(x){nt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&iE(a,s),C0(l,i);var u=C0(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?dE(a,f):d==="dangerouslySetInnerHTML"?cE(a,f):d==="children"?Sc(a,f):Jx(a,d,f,u)}switch(l){case"input":k0(a,s);break;case"textarea":oE(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?po(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?po(a,!!s.multiple,s.defaultValue,!0):po(a,!!s.multiple,s.multiple?[]:"",!1))}a[Dc]=s}catch(x){nt(e,e.return,x)}}break;case 6:if(ln(t,e),In(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){nt(e,e.return,x)}}break;case 3:if(ln(t,e),In(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oc(t.containerInfo)}catch(x){nt(e,e.return,x)}break;case 4:ln(t,e),In(e);break;case 13:ln(t,e),In(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Tv=it())),n&4&&Ij(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ht=(u=Ht)||d,ln(t,e),Ht=u):ln(t,e),In(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:vc(4,h,h.return);break;case 1:lo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){nt(n,r,x)}}break;case 5:lo(h,h.return);break;case 22:if(h.memoizedState!==null){Rj(f);continue}}m!==null?(m.return=h,se=m):Rj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uE("display",i))}catch(x){nt(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){nt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(t,e),In(e),n&4&&Ij(e);break;case 21:break;default:ln(t,e),In(e)}}function In(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(RC(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Sc(a,""),n.flags&=-33);var s=Mj(e);ay(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Mj(e);ny(e,l,i);break;default:throw Error(G(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FL(e,t,r){se=e,zC(e)}function zC(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var a=se,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Od;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ht;l=Od;var u=Ht;if(Od=i,(Ht=c)&&!u)for(se=a;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?Lj(a):c!==null?(c.return=i,se=c):Lj(a);for(;s!==null;)se=s,zC(s),s=s.sibling;se=a,Od=l,Ht=u}Dj(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,se=s):Dj(e)}}function Dj(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ht||Em(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ht)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:cn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vj(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vj(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ht||t.flags&512&&ry(t)}catch(h){nt(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Rj(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Lj(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Em(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var s=t.return;try{ry(t)}catch(c){nt(t,s,c)}break;case 5:var i=t.return;try{ry(t)}catch(c){nt(t,i,c)}}}catch(c){nt(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var BL=Math.ceil,sh=$a.ReactCurrentDispatcher,Ov=$a.ReactCurrentOwner,Zr=$a.ReactCurrentBatchConfig,ke=0,Pt=null,dt=null,Lt=0,Sr=0,co=Ts(0),yt=0,Bc=null,ki=0,Cm=0,Av=0,bc=null,hr=null,Tv=0,Uo=1/0,la=null,ih=!1,sy=null,vs=null,Ad=!1,fs=null,oh=0,wc=0,iy=null,wf=-1,jf=0;function tr(){return ke&6?it():wf!==-1?wf:wf=it()}function bs(e){return e.mode&1?ke&2&&Lt!==0?Lt&-Lt:NL.transition!==null?(jf===0&&(jf=kE()),jf):(e=Me,e!==0||(e=window.event,e=e===void 0?16:OE(e.type)),e):1}function jn(e,t,r,n){if(50<wc)throw wc=0,iy=null,Error(G(185));vu(e,r,n),(!(ke&2)||e!==Pt)&&(e===Pt&&(!(ke&2)&&(Cm|=r),yt===4&&es(e,Lt)),br(e,n),r===1&&ke===0&&!(t.mode&1)&&(Uo=it()+500,Nm&&Ms()))}function br(e,t){var r=e.callbackNode;NR(e,t);var n=Vf(e,e===Pt?Lt:0);if(n===0)r!==null&&K1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&K1(r),t===1)e.tag===0?kL($j.bind(null,e)):GE($j.bind(null,e)),vL(function(){!(ke&6)&&Ms()}),r=null;else{switch(NE(n)){case 1:r=av;break;case 4:r=wE;break;case 16:r=Hf;break;case 536870912:r=jE;break;default:r=Hf}r=qC(r,FC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function FC(e,t){if(wf=-1,jf=0,ke&6)throw Error(G(327));var r=e.callbackNode;if(bo()&&e.callbackNode!==r)return null;var n=Vf(e,e===Pt?Lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lh(e,n);else{t=n;var a=ke;ke|=2;var s=UC();(Pt!==e||Lt!==t)&&(la=null,Uo=it()+500,hi(e,t));do try{VL();break}catch(l){BC(e,l)}while(!0);yv(),sh.current=s,ke=a,dt!==null?t=0:(Pt=null,Lt=0,t=yt)}if(t!==0){if(t===2&&(a=M0(e),a!==0&&(n=a,t=oy(e,a))),t===1)throw r=Bc,hi(e,0),es(e,n),br(e,it()),r;if(t===6)es(e,n);else{if(a=e.current.alternate,!(n&30)&&!UL(a)&&(t=lh(e,n),t===2&&(s=M0(e),s!==0&&(n=s,t=oy(e,s))),t===1))throw r=Bc,hi(e,0),es(e,n),br(e,it()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Hs(e,hr,la);break;case 3:if(es(e,n),(n&130023424)===n&&(t=Tv+500-it(),10<t)){if(Vf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){tr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=B0(Hs.bind(null,e,hr,la),t);break}Hs(e,hr,la);break;case 4:if(es(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-wn(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*BL(n/1960))-n,10<n){e.timeoutHandle=B0(Hs.bind(null,e,hr,la),n);break}Hs(e,hr,la);break;case 5:Hs(e,hr,la);break;default:throw Error(G(329))}}}return br(e,it()),e.callbackNode===r?FC.bind(null,e):null}function oy(e,t){var r=bc;return e.current.memoizedState.isDehydrated&&(hi(e,t).flags|=256),e=lh(e,t),e!==2&&(t=hr,hr=r,t!==null&&ly(t)),e}function ly(e){hr===null?hr=e:hr.push.apply(hr,e)}function UL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!_n(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function es(e,t){for(t&=~Av,t&=~Cm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wn(t),n=1<<r;e[r]=-1,t&=~n}}function $j(e){if(ke&6)throw Error(G(327));bo();var t=Vf(e,0);if(!(t&1))return br(e,it()),null;var r=lh(e,t);if(e.tag!==0&&r===2){var n=M0(e);n!==0&&(t=n,r=oy(e,n))}if(r===1)throw r=Bc,hi(e,0),es(e,t),br(e,it()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hs(e,hr,la),br(e,it()),null}function Mv(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(Uo=it()+500,Nm&&Ms())}}function Ni(e){fs!==null&&fs.tag===0&&!(ke&6)&&bo();var t=ke;ke|=1;var r=Zr.transition,n=Me;try{if(Zr.transition=null,Me=1,e)return e()}finally{Me=n,Zr.transition=r,ke=t,!(ke&6)&&Ms()}}function Iv(){Sr=co.current,Ue(co)}function hi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xL(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(mv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gf();break;case 3:Fo(),Ue(xr),Ue(Kt),kv();break;case 5:jv(n);break;case 4:Fo();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:xv(n.type._context);break;case 22:case 23:Iv()}r=r.return}if(Pt=e,dt=e=ws(e.current,null),Lt=Sr=t,yt=0,Bc=null,Av=Cm=ki=0,hr=bc=null,Qs!==null){for(t=0;t<Qs.length;t++)if(r=Qs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Qs=null}return e}function BC(e,t){do{var r=dt;try{if(yv(),xf.current=ah,nh){for(var n=Qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}nh=!1}if(ji=0,Et=pt=Qe=null,xc=!1,$c=0,Ov.current=null,r===null||r.return===null){yt=1,Bc=t,dt=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_j(i);if(m!==null){m.flags&=-257,Sj(m,i,l,s,t),m.mode&1&&Nj(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Nj(s,u,t),Dv();break e}c=Error(G(426))}}else if(We&&l.mode&1){var v=_j(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Sj(v,i,l,s,t),pv(Bo(c,l));break e}}s=c=Bo(c,l),yt!==4&&(yt=2),bc===null?bc=[s]:bc.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=NC(s,c,t);xj(s,g);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vs===null||!vs.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=_C(s,l,t);xj(s,j);break e}}s=s.return}while(s!==null)}VC(r)}catch(k){t=k,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function UC(){var e=sh.current;return sh.current=ah,e===null?ah:e}function Dv(){(yt===0||yt===3||yt===2)&&(yt=4),Pt===null||!(ki&268435455)&&!(Cm&268435455)||es(Pt,Lt)}function lh(e,t){var r=ke;ke|=2;var n=UC();(Pt!==e||Lt!==t)&&(la=null,hi(e,t));do try{HL();break}catch(a){BC(e,a)}while(!0);if(yv(),ke=r,sh.current=n,dt!==null)throw Error(G(261));return Pt=null,Lt=0,yt}function HL(){for(;dt!==null;)HC(dt)}function VL(){for(;dt!==null&&!pR();)HC(dt)}function HC(e){var t=KC(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,t===null?VC(e):dt=t,Ov.current=null}function VC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=LL(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,dt=null;return}}else if(r=RL(r,t,Sr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);yt===0&&(yt=5)}function Hs(e,t,r){var n=Me,a=Zr.transition;try{Zr.transition=null,Me=1,WL(e,t,r,n)}finally{Zr.transition=a,Me=n}return null}function WL(e,t,r,n){do bo();while(fs!==null);if(ke&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(_R(e,s),e===Pt&&(dt=Pt=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ad||(Ad=!0,qC(Hf,function(){return bo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Zr.transition,Zr.transition=null;var i=Me;Me=1;var l=ke;ke|=4,Ov.current=null,zL(e,r),$C(r,e),dL(z0),Wf=!!$0,z0=$0=null,e.current=r,FL(r),gR(),ke=l,Me=i,Zr.transition=s}else e.current=r;if(Ad&&(Ad=!1,fs=e,oh=a),s=e.pendingLanes,s===0&&(vs=null),vR(r.stateNode),br(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ih)throw ih=!1,e=sy,sy=null,e;return oh&1&&e.tag!==0&&bo(),s=e.pendingLanes,s&1?e===iy?wc++:(wc=0,iy=e):wc=0,Ms(),null}function bo(){if(fs!==null){var e=NE(oh),t=Zr.transition,r=Me;try{if(Zr.transition=null,Me=16>e?16:e,fs===null)var n=!1;else{if(e=fs,fs=null,oh=0,ke&6)throw Error(G(331));var a=ke;for(ke|=4,se=e.current;se!==null;){var s=se,i=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:vc(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(DC(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var p=s.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}se=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,se=i;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,se=g;break e}se=s.return}}var w=e.current;for(se=w;se!==null;){i=se;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,se=b;else e:for(i=w;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Em(9,l)}}catch(k){nt(l,l.return,k)}if(l===i){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(ke=a,Ms(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(vm,e)}catch{}n=!0}return n}finally{Me=r,Zr.transition=t}}return!1}function zj(e,t,r){t=Bo(r,t),t=NC(e,t,1),e=xs(e,t,1),t=tr(),e!==null&&(vu(e,1,t),br(e,t))}function nt(e,t,r){if(e.tag===3)zj(e,e,r);else for(;t!==null;){if(t.tag===3){zj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vs===null||!vs.has(n))){e=Bo(r,e),e=_C(t,e,1),t=xs(t,e,1),e=tr(),t!==null&&(vu(t,1,e),br(t,e));break}}t=t.return}}function KL(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=tr(),e.pingedLanes|=e.suspendedLanes&r,Pt===e&&(Lt&r)===r&&(yt===4||yt===3&&(Lt&130023424)===Lt&&500>it()-Tv?hi(e,0):Av|=r),br(e,t)}function WC(e,t){t===0&&(e.mode&1?(t=wd,wd<<=1,!(wd&130023424)&&(wd=4194304)):t=1);var r=tr();e=Ea(e,t),e!==null&&(vu(e,t,r),br(e,r))}function qL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),WC(e,r)}function YL(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),WC(e,r)}var KC;KC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xr.current)mr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return mr=!1,DL(e,t,r);mr=!!(e.flags&131072)}else mr=!1,We&&t.flags&1048576&&XE(t,Zf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bf(e,t),e=t.pendingProps;var a=Lo(t,Kt.current);vo(t,r),a=_v(null,t,n,e,a,r);var s=Sv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(n)?(s=!0,Xf(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,bv(t),a.updater=Sm,t.stateNode=a,a._reactInternals=t,Y0(t,n,e,r),t=Q0(null,t,n,!0,s,r)):(t.tag=0,We&&s&&hv(t),Zt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=XL(n),e=cn(n,e),a){case 0:t=X0(null,t,n,e,r);break e;case 1:t=Pj(null,t,n,e,r);break e;case 11:t=Ej(null,t,n,e,r);break e;case 14:t=Cj(null,t,n,cn(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cn(n,a),X0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cn(n,a),Pj(e,t,n,a,r);case 3:e:{if(PC(t),e===null)throw Error(G(387));n=t.pendingProps,s=t.memoizedState,a=s.element,rC(e,t),th(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Bo(Error(G(423)),t),t=Oj(e,t,n,r,a);break e}else if(n!==a){a=Bo(Error(G(424)),t),t=Oj(e,t,n,r,a);break e}else for(Ar=ys(t.stateNode.containerInfo.firstChild),Mr=t,We=!0,mn=null,r=eC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($o(),n===a){t=Ca(e,t,r);break e}Zt(e,t,n,r)}t=t.child}return t;case 5:return nC(t),e===null&&W0(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,F0(n,a)?i=null:s!==null&&F0(n,s)&&(t.flags|=32),CC(e,t),Zt(e,t,i,r),t.child;case 6:return e===null&&W0(t),null;case 13:return OC(e,t,r);case 4:return wv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zo(t,null,n,r):Zt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cn(n,a),Ej(e,t,n,a,r);case 7:return Zt(e,t,t.pendingProps,r),t.child;case 8:return Zt(e,t,t.pendingProps.children,r),t.child;case 12:return Zt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,ze(Jf,n._currentValue),n._currentValue=i,s!==null)if(_n(s.value,i)){if(s.children===a.children&&!xr.current){t=Ca(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ba(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),K0(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(G(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),K0(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Zt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,vo(t,r),a=Jr(a),n=n(a),t.flags|=1,Zt(e,t,n,r),t.child;case 14:return n=t.type,a=cn(n,t.pendingProps),a=cn(n.type,a),Cj(e,t,n,a,r);case 15:return SC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:cn(n,a),bf(e,t),t.tag=1,vr(n)?(e=!0,Xf(t)):e=!1,vo(t,r),kC(t,n,a),Y0(t,n,a,r),Q0(null,t,n,!0,e,r);case 19:return AC(e,t,r);case 22:return EC(e,t,r)}throw Error(G(156,t.tag))};function qC(e,t){return bE(e,t)}function GL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(e,t,r,n){return new GL(e,t,r,n)}function Rv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XL(e){if(typeof e=="function")return Rv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tv)return 11;if(e===rv)return 14}return 2}function ws(e,t){var r=e.alternate;return r===null?(r=Xr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kf(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")Rv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ji:return mi(r.children,a,s,t);case ev:i=8,a|=8;break;case x0:return e=Xr(12,r,t,a|2),e.elementType=x0,e.lanes=s,e;case v0:return e=Xr(13,r,t,a),e.elementType=v0,e.lanes=s,e;case b0:return e=Xr(19,r,t,a),e.elementType=b0,e.lanes=s,e;case nE:return Pm(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tE:i=10;break e;case rE:i=9;break e;case tv:i=11;break e;case rv:i=14;break e;case Ga:i=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Xr(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function mi(e,t,r,n){return e=Xr(7,e,n,t),e.lanes=r,e}function Pm(e,t,r,n){return e=Xr(22,e,n,t),e.elementType=nE,e.lanes=r,e.stateNode={isHidden:!1},e}function Eg(e,t,r){return e=Xr(6,e,null,t),e.lanes=r,e}function Cg(e,t,r){return t=Xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QL(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lg(0),this.expirationTimes=lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lv(e,t,r,n,a,s,i,l,c){return e=new QL(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bv(s),e}function ZL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function YC(e){if(!e)return Ss;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(vr(r))return YE(e,r,t)}return t}function GC(e,t,r,n,a,s,i,l,c){return e=Lv(r,n,!0,e,a,s,i,l,c),e.context=YC(null),r=e.current,n=tr(),a=bs(r),s=ba(n,a),s.callback=t??null,xs(r,s,a),e.current.lanes=a,vu(e,a,n),br(e,n),e}function Om(e,t,r,n){var a=t.current,s=tr(),i=bs(a);return r=YC(r),t.context===null?t.context=r:t.pendingContext=r,t=ba(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xs(a,t,i),e!==null&&(jn(e,a,i,s),yf(e,a,i)),i}function ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $v(e,t){Fj(e,t),(e=e.alternate)&&Fj(e,t)}function JL(){return null}var XC=typeof reportError=="function"?reportError:function(e){console.error(e)};function zv(e){this._internalRoot=e}Am.prototype.render=zv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Om(e,t,null,null)};Am.prototype.unmount=zv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){Om(null,e,null,null)}),t[Sa]=null}};function Am(e){this._internalRoot=e}Am.prototype.unstable_scheduleHydration=function(e){if(e){var t=EE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ja.length&&t!==0&&t<Ja[r].priority;r++);Ja.splice(r,0,e),r===0&&PE(e)}};function Fv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bj(){}function e$(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=ch(i);s.call(u)}}var i=GC(t,n,e,0,null,!1,!1,"",Bj);return e._reactRootContainer=i,e[Sa]=i.current,Mc(e.nodeType===8?e.parentNode:e),Ni(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ch(c);l.call(u)}}var c=Lv(e,0,!1,null,null,!1,!1,"",Bj);return e._reactRootContainer=c,e[Sa]=c.current,Mc(e.nodeType===8?e.parentNode:e),Ni(function(){Om(t,c,r,n)}),c}function Mm(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=ch(i);l.call(c)}}Om(t,i,e,a)}else i=e$(r,t,e,a,n);return ch(i)}_E=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nc(t.pendingLanes);r!==0&&(sv(t,r|1),br(t,it()),!(ke&6)&&(Uo=it()+500,Ms()))}break;case 13:Ni(function(){var n=Ea(e,1);if(n!==null){var a=tr();jn(n,e,1,a)}}),$v(e,1)}};iv=function(e){if(e.tag===13){var t=Ea(e,134217728);if(t!==null){var r=tr();jn(t,e,134217728,r)}$v(e,134217728)}};SE=function(e){if(e.tag===13){var t=bs(e),r=Ea(e,t);if(r!==null){var n=tr();jn(r,e,t,n)}$v(e,t)}};EE=function(){return Me};CE=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};O0=function(e,t,r){switch(t){case"input":if(k0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=km(n);if(!a)throw Error(G(90));sE(n),k0(n,a)}}}break;case"textarea":oE(e,r);break;case"select":t=r.value,t!=null&&po(e,!!r.multiple,t,!1)}};mE=Mv;pE=Ni;var t$={usingClientEntryPoint:!1,Events:[wu,no,km,fE,hE,Mv]},Fl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r$={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$a.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xE(e),e===null?null:e.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||JL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{vm=Td.inject(r$),Vn=Td}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t$;Fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(t))throw Error(G(200));return ZL(e,t,null,r)};Fr.createRoot=function(e,t){if(!Fv(e))throw Error(G(299));var r=!1,n="",a=XC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Lv(e,1,!1,null,null,r,!1,n,a),e[Sa]=t.current,Mc(e.nodeType===8?e.parentNode:e),new zv(t)};Fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=xE(t),e=e===null?null:e.stateNode,e};Fr.flushSync=function(e){return Ni(e)};Fr.hydrate=function(e,t,r){if(!Tm(t))throw Error(G(200));return Mm(null,e,t,!0,r)};Fr.hydrateRoot=function(e,t,r){if(!Fv(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=XC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=GC(t,null,e,1,r??null,a,!1,s,i),e[Sa]=t.current,Mc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Am(t)};Fr.render=function(e,t,r){if(!Tm(t))throw Error(G(200));return Mm(null,e,t,!1,r)};Fr.unmountComponentAtNode=function(e){if(!Tm(e))throw Error(G(40));return e._reactRootContainer?(Ni(function(){Mm(null,null,e,!1,function(){e._reactRootContainer=null,e[Sa]=null})}),!0):!1};Fr.unstable_batchedUpdates=Mv;Fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tm(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Mm(e,t,r,!1,n)};Fr.version="18.3.1-next-f1338f8080-20240426";function QC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QC)}catch(e){console.error(e)}}QC(),QS.exports=Fr;var ku=QS.exports,Uj=ku;g0.createRoot=Uj.createRoot,g0.hydrateRoot=Uj.hydrateRoot;var Nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},n$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ns,Kx,OS,a$=(OS=class{constructor(){he(this,ns,n$);he(this,Kx,!1)}setTimeoutProvider(e){ne(this,ns,e)}setTimeout(e,t){return $(this,ns).setTimeout(e,t)}clearTimeout(e){$(this,ns).clearTimeout(e)}setInterval(e,t){return $(this,ns).setInterval(e,t)}clearInterval(e){$(this,ns).clearInterval(e)}},ns=new WeakMap,Kx=new WeakMap,OS),Js=new a$;function s$(e){setTimeout(e,0)}var _i=typeof window>"u"||"Deno"in globalThis;function fr(){}function i$(e,t){return typeof e=="function"?e(t):e}function cy(e){return typeof e=="number"&&e>=0&&e!==1/0}function ZC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function js(e,t){return typeof e=="function"?e(t):e}function qr(e,t){return typeof e=="function"?e(t):e}function Hj(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Bv(i,t.options))return!1}else if(!Hc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function Vj(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Uc(t.options.mutationKey)!==Uc(s))return!1}else if(!Hc(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Bv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Uc)(e)}function Uc(e){return JSON.stringify(e,(t,r)=>dy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Hc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Hc(e[r],t[r])):!1}var o$=Object.prototype.hasOwnProperty;function JC(e,t){if(e===t)return e;const r=Wj(e)&&Wj(t);if(!r&&!(dy(e)&&dy(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),i=s.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:s[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:o$.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=JC(f,h);l[d]=m,m===f&&c++}return a===i&&c===a?e:l}function uy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Wj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dy(e){if(!Kj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Kj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Kj(e){return Object.prototype.toString.call(e)==="[object Object]"}function l$(e){return new Promise(t=>{Js.setTimeout(t,e)})}function fy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?JC(e,t):t}function c$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function u$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Uv=Symbol();function eP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function d$(e,t){return typeof e=="function"?e(...t):!!e}var ai,as,No,AS,f$=(AS=class extends Nu{constructor(){super();he(this,ai);he(this,as);he(this,No);ne(this,No,t=>{if(!_i&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,as)||this.setEventListener($(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,as))==null||t.call(this),ne(this,as,void 0))}setEventListener(t){var r;ne(this,No,t),(r=$(this,as))==null||r.call(this),ne(this,as,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,ai)!==t&&(ne(this,ai,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,ai)=="boolean"?$(this,ai):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ai=new WeakMap,as=new WeakMap,No=new WeakMap,AS),Hv=new f$;function hy(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var h$=s$;function m$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=h$;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Dt=m$(),_o,ss,So,TS,p$=(TS=class extends Nu{constructor(){super();he(this,_o,!0);he(this,ss);he(this,So);ne(this,So,t=>{if(!_i&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,ss)||this.setEventListener($(this,So))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,ss))==null||t.call(this),ne(this,ss,void 0))}setEventListener(t){var r;ne(this,So,t),(r=$(this,ss))==null||r.call(this),ne(this,ss,t(this.setOnline.bind(this)))}setOnline(t){$(this,_o)!==t&&(ne(this,_o,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,_o)}},_o=new WeakMap,ss=new WeakMap,So=new WeakMap,TS),uh=new p$;function g$(e){return Math.min(1e3*2**e,3e4)}function tP(e){return(e??"online")==="online"?uh.isOnline():!0}var my=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rP(e){let t=!1,r=0,n;const a=hy(),s=()=>a.status!=="pending",i=x=>{var v;if(!s()){const g=new my(x);h(g),(v=e.onCancel)==null||v.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Hv.isFocused()&&(e.networkMode==="always"||uh.isOnline())&&e.canRun(),d=()=>tP(e.networkMode)&&e.canRun(),f=x=>{s()||(n==null||n(),a.resolve(x))},h=x=>{s()||(n==null||n(),a.reject(x))},m=()=>new Promise(x=>{var v;n=g=>{(s()||u())&&x(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),p=()=>{if(s())return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(f).catch(g=>{var _;if(s())return;const w=e.retry??(_i?0:3),b=e.retryDelay??g$,j=typeof b=="function"?b(r,g):b,k=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,g);if(t||!k){h(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),l$(j).then(()=>u()?void 0:m()).then(()=>{t?h(g):p()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),a)}}var si,MS,nP=(MS=class{constructor(){he(this,si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cy(this.gcTime)&&ne(this,si,Js.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){$(this,si)&&(Js.clearTimeout($(this,si)),ne(this,si,void 0))}},si=new WeakMap,MS),ii,Eo,Kr,oi,_t,hu,li,un,oa,IS,y$=(IS=class extends nP{constructor(t){super();he(this,un);he(this,ii);he(this,Eo);he(this,Kr);he(this,oi);he(this,_t);he(this,hu);he(this,li);ne(this,li,!1),ne(this,hu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,oi,t.client),ne(this,Kr,$(this,oi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,ii,Yj(this.options)),this.state=t.state??$(this,ii),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,_t))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,hu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Yj(this.options);r.data!==void 0&&(this.setState(qj(r.data,r.dataUpdatedAt)),ne(this,ii,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Kr).remove(this)}setData(t,r){const n=fy(this.state.data,t,this.options);return be(this,un,oa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,un,oa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=$(this,_t))==null?void 0:n.promise;return(a=$(this,_t))==null||a.cancel(t),r?r.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ii))}isActive(){return this.observers.some(t=>qr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>js(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ZC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,_t))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,_t))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,_t)&&($(this,li)?$(this,_t).cancel({revert:!0}):$(this,_t).cancelRetry()),this.scheduleGc()),$(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,un,oa).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,p,x,v,g,w,b;if(this.state.fetchStatus!=="idle"&&((c=$(this,_t))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,_t))return $(this,_t).continueRetry(),$(this,_t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ne(this,li,!0),n.signal)})},s=()=>{const j=eP(this.options,r),_=(()=>{const N={client:$(this,oi),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return ne(this,li,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,oi),state:this.state,fetchFn:s};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ne(this,Eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&be(this,un,oa).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ne(this,_t,rP({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof my&&j.revert&&this.setState({...$(this,Eo),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{be(this,un,oa).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{be(this,un,oa).call(this,{type:"pause"})},onContinue:()=>{be(this,un,oa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await $(this,_t).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=$(this,Kr).config).onSuccess)==null||m.call(h,j,this),(x=(p=$(this,Kr).config).onSettled)==null||x.call(p,j,this.state.error,this),j}catch(j){if(j instanceof my){if(j.silent)return $(this,_t).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw be(this,un,oa).call(this,{type:"error",error:j}),(g=(v=$(this,Kr).config).onError)==null||g.call(v,j,this),(b=(w=$(this,Kr).config).onSettled)==null||b.call(w,this.state.data,j,this),j}finally{this.scheduleGc()}}},ii=new WeakMap,Eo=new WeakMap,Kr=new WeakMap,oi=new WeakMap,_t=new WeakMap,hu=new WeakMap,li=new WeakMap,un=new WeakSet,oa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aP(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...qj(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Eo,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,Kr).notify({query:this,type:"updated",action:t})})},IS);function aP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qj(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Yj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ur,we,mu,Xt,ci,Co,da,is,pu,Po,Oo,ui,di,os,Ao,Pe,sc,py,gy,yy,xy,vy,by,wy,sP,DS,x$=(DS=class extends Nu{constructor(t,r){super();he(this,Pe);he(this,ur);he(this,we);he(this,mu);he(this,Xt);he(this,ci);he(this,Co);he(this,da);he(this,is);he(this,pu);he(this,Po);he(this,Oo);he(this,ui);he(this,di);he(this,os);he(this,Ao,new Set);this.options=r,ne(this,ur,t),ne(this,is,null),ne(this,da,hy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,we).addObserver(this),Gj($(this,we),this.options)?be(this,Pe,sc).call(this):this.updateResult(),be(this,Pe,xy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jy($(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jy($(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Pe,vy).call(this),be(this,Pe,by).call(this),$(this,we).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,we);if(this.options=$(this,ur).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qr(this.options.enabled,$(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Pe,wy).call(this),$(this,we).setOptions(this.options),r._defaulted&&!uy(this.options,r)&&$(this,ur).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,we),observer:this});const a=this.hasListeners();a&&Xj($(this,we),n,this.options,r)&&be(this,Pe,sc).call(this),this.updateResult(),a&&($(this,we)!==n||qr(this.options.enabled,$(this,we))!==qr(r.enabled,$(this,we))||js(this.options.staleTime,$(this,we))!==js(r.staleTime,$(this,we)))&&be(this,Pe,py).call(this);const s=be(this,Pe,gy).call(this);a&&($(this,we)!==n||qr(this.options.enabled,$(this,we))!==qr(r.enabled,$(this,we))||s!==$(this,os))&&be(this,Pe,yy).call(this,s)}getOptimisticResult(t){const r=$(this,ur).getQueryCache().build($(this,ur),t),n=this.createResult(r,t);return b$(this,n)&&(ne(this,Xt,n),ne(this,Co,this.options),ne(this,ci,$(this,we).state)),n}getCurrentResult(){return $(this,Xt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,da).status==="pending"&&$(this,da).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){$(this,Ao).add(t)}getCurrentQuery(){return $(this,we)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,ur).defaultQueryOptions(t),n=$(this,ur).getQueryCache().build($(this,ur),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,Pe,sc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Xt)))}createResult(t,r){var O;const n=$(this,we),a=this.options,s=$(this,Xt),i=$(this,ci),l=$(this,Co),u=t!==n?t.state:$(this,mu),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const I=this.hasListeners(),E=!I&&Gj(t,r),C=I&&Xj(t,n,r,a);(E||C)&&(f={...f,...aP(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:x,status:v}=f;m=f.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let I;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=s.data,g=!0):I=typeof r.placeholderData=="function"?r.placeholderData((O=$(this,Oo))==null?void 0:O.state.data,$(this,Oo)):r.placeholderData,I!==void 0&&(v="success",m=fy(s==null?void 0:s.data,I,r),h=!0)}if(r.select&&m!==void 0&&!g)if(s&&m===(i==null?void 0:i.data)&&r.select===$(this,pu))m=$(this,Po);else try{ne(this,pu,r.select),m=r.select(m),m=fy(s==null?void 0:s.data,m,r),ne(this,Po,m),ne(this,is,null)}catch(I){ne(this,is,I)}$(this,is)&&(p=$(this,is),m=$(this,Po),x=Date.now(),v="error");const w=f.fetchStatus==="fetching",b=v==="pending",j=v==="error",k=b&&w,_=m!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:Vv(t,r),refetch:this.refetch,promise:$(this,da),isEnabled:qr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=L=>{S.status==="error"?L.reject(S.error):S.data!==void 0&&L.resolve(S.data)},E=()=>{const L=ne(this,da,S.promise=hy());I(L)},C=$(this,da);switch(C.status){case"pending":t.queryHash===n.queryHash&&I(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&E();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&E();break}}return S}updateResult(){const t=$(this,Xt),r=this.createResult($(this,we),this.options);if(ne(this,ci,$(this,we).state),ne(this,Co,this.options),$(this,ci).data!==void 0&&ne(this,Oo,$(this,we)),uy(r,t))return;ne(this,Xt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!$(this,Ao).size)return!0;const i=new Set(s??$(this,Ao));return this.options.throwOnError&&i.add("error"),Object.keys($(this,Xt)).some(l=>{const c=l;return $(this,Xt)[c]!==t[c]&&i.has(c)})};be(this,Pe,sP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Pe,xy).call(this)}},ur=new WeakMap,we=new WeakMap,mu=new WeakMap,Xt=new WeakMap,ci=new WeakMap,Co=new WeakMap,da=new WeakMap,is=new WeakMap,pu=new WeakMap,Po=new WeakMap,Oo=new WeakMap,ui=new WeakMap,di=new WeakMap,os=new WeakMap,Ao=new WeakMap,Pe=new WeakSet,sc=function(t){be(this,Pe,wy).call(this);let r=$(this,we).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(fr)),r},py=function(){be(this,Pe,vy).call(this);const t=js(this.options.staleTime,$(this,we));if(_i||$(this,Xt).isStale||!cy(t))return;const n=ZC($(this,Xt).dataUpdatedAt,t)+1;ne(this,ui,Js.setTimeout(()=>{$(this,Xt).isStale||this.updateResult()},n))},gy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,we)):this.options.refetchInterval)??!1},yy=function(t){be(this,Pe,by).call(this),ne(this,os,t),!(_i||qr(this.options.enabled,$(this,we))===!1||!cy($(this,os))||$(this,os)===0)&&ne(this,di,Js.setInterval(()=>{(this.options.refetchIntervalInBackground||Hv.isFocused())&&be(this,Pe,sc).call(this)},$(this,os)))},xy=function(){be(this,Pe,py).call(this),be(this,Pe,yy).call(this,be(this,Pe,gy).call(this))},vy=function(){$(this,ui)&&(Js.clearTimeout($(this,ui)),ne(this,ui,void 0))},by=function(){$(this,di)&&(Js.clearInterval($(this,di)),ne(this,di,void 0))},wy=function(){const t=$(this,ur).getQueryCache().build($(this,ur),this.options);if(t===$(this,we))return;const r=$(this,we);ne(this,we,t),ne(this,mu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},sP=function(t){Dt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Xt))}),$(this,ur).getQueryCache().notify({query:$(this,we),type:"observerResultsUpdated"})})},DS);function v$(e,t){return qr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gj(e,t){return v$(e,t)||e.state.data!==void 0&&jy(e,t,t.refetchOnMount)}function jy(e,t,r){if(qr(t.enabled,e)!==!1&&js(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Vv(e,t)}return!1}function Xj(e,t,r,n){return(e!==t||qr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Vv(e,r)}function Vv(e,t){return qr(t.enabled,e)!==!1&&e.isStaleByTime(js(t.staleTime,e))}function b$(e,t){return!uy(e.getCurrentResult(),t)}function Qj(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},g=eP(t.options,t.fetchOptions),w=async(b,j,k)=>{if(x)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(E),E})(),S=await g(N),{maxPages:O}=t.options,I=k?u$:c$;return{pages:I(b.pages,S,O),pageParams:I(b.pageParams,j,O)}};if(a&&s.length){const b=a==="backward",j=b?w$:Zj,k={pages:s,pageParams:i},_=j(n,k);l=await w(k,_,b)}else{const b=e??s.length;do{const j=c===0?i[0]??n.initialPageParam:Zj(n,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Zj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function w$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var gu,$n,Qt,fi,zn,Ya,RS,j$=(RS=class extends nP{constructor(t){super();he(this,zn);he(this,gu);he(this,$n);he(this,Qt);he(this,fi);ne(this,gu,t.client),this.mutationId=t.mutationId,ne(this,Qt,t.mutationCache),ne(this,$n,[]),this.state=t.state||k$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,$n).includes(t)||($(this,$n).push(t),this.clearGcTimeout(),$(this,Qt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,$n,$(this,$n).filter(r=>r!==t)),this.scheduleGc(),$(this,Qt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,$n).length||(this.state.status==="pending"?this.scheduleGc():$(this,Qt).remove(this))}continue(){var t;return((t=$(this,fi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,h,m,p,x,v,g,w,b,j,k,_,N,S,O;const r=()=>{be(this,zn,Ya).call(this,{type:"continue"})},n={client:$(this,gu),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,fi,rP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(I,E)=>{be(this,zn,Ya).call(this,{type:"failed",failureCount:I,error:E})},onPause:()=>{be(this,zn,Ya).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Qt).canRun(this)}));const a=this.state.status==="pending",s=!$(this,fi).canStart();try{if(a)r();else{be(this,zn,Ya).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(i=$(this,Qt).config).onMutate)==null?void 0:l.call(i,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&be(this,zn,Ya).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const I=await $(this,fi).start();return await((f=(d=$(this,Qt).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,I,t,this.state.context,n)),await((x=(p=$(this,Qt).config).onSettled)==null?void 0:x.call(p,I,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,I,null,t,this.state.context,n)),be(this,zn,Ya).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(w=$(this,Qt).config).onError)==null?void 0:b.call(w,I,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,I,t,this.state.context,n)),await((N=(_=$(this,Qt).config).onSettled)==null?void 0:N.call(_,void 0,I,this.state.variables,this.state.context,this,n)),await((O=(S=this.options).onSettled)==null?void 0:O.call(S,void 0,I,t,this.state.context,n)),I}finally{be(this,zn,Ya).call(this,{type:"error",error:I})}}finally{$(this,Qt).runNext(this)}}},gu=new WeakMap,$n=new WeakMap,Qt=new WeakMap,fi=new WeakMap,zn=new WeakSet,Ya=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{$(this,$n).forEach(n=>{n.onMutationUpdate(t)}),$(this,Qt).notify({mutation:this,type:"updated",action:t})})},RS);function k$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fa,dn,yu,LS,N$=(LS=class extends Nu{constructor(t={}){super();he(this,fa);he(this,dn);he(this,yu);this.config=t,ne(this,fa,new Set),ne(this,dn,new Map),ne(this,yu,0)}build(t,r,n){const a=new j$({client:t,mutationCache:this,mutationId:++pd(this,yu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){$(this,fa).add(t);const r=Md(t);if(typeof r=="string"){const n=$(this,dn).get(r);n?n.push(t):$(this,dn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,fa).delete(t)){const r=Md(t);if(typeof r=="string"){const n=$(this,dn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&$(this,dn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Md(t);if(typeof r=="string"){const n=$(this,dn).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Md(t);if(typeof r=="string"){const a=(n=$(this,dn).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{$(this,fa).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,fa).clear(),$(this,dn).clear()})}getAll(){return Array.from($(this,fa))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Vj(r,n))}findAll(t={}){return this.getAll().filter(r=>Vj(t,r))}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(fr))))}},fa=new WeakMap,dn=new WeakMap,yu=new WeakMap,LS);function Md(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Fn,$S,_$=($S=class extends Nu{constructor(t={}){super();he(this,Fn);this.config=t,ne(this,Fn,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Bv(a,r);let i=this.get(s);return i||(i=new y$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){$(this,Fn).has(t.queryHash)||($(this,Fn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,Fn).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,Fn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Fn).get(t)}getAll(){return[...$(this,Fn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hj(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Hj(t,n)):r}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fn=new WeakMap,$S),rt,ls,cs,To,Mo,us,Io,Do,zS,S$=(zS=class{constructor(e={}){he(this,rt);he(this,ls);he(this,cs);he(this,To);he(this,Mo);he(this,us);he(this,Io);he(this,Do);ne(this,rt,e.queryCache||new _$),ne(this,ls,e.mutationCache||new N$),ne(this,cs,e.defaultOptions||{}),ne(this,To,new Map),ne(this,Mo,new Map),ne(this,us,0)}mount(){pd(this,us)._++,$(this,us)===1&&(ne(this,Io,Hv.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,rt).onFocus())})),ne(this,Do,uh.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,rt).onOnline())})))}unmount(){var e,t;pd(this,us)._--,$(this,us)===0&&((e=$(this,Io))==null||e.call(this),ne(this,Io,void 0),(t=$(this,Do))==null||t.call(this),ne(this,Do,void 0))}isFetching(e){return $(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,ls).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,rt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(js(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=$(this,rt).get(n.queryHash),s=a==null?void 0:a.state.data,i=i$(t,s);if(i!==void 0)return $(this,rt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Dt.batch(()=>$(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,rt);Dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,rt);return Dt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Dt.batch(()=>$(this,rt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(fr).catch(fr)}invalidateQueries(e,t={}){return Dt.batch(()=>($(this,rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Dt.batch(()=>$(this,rt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(fr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,rt).build(this,t);return r.isStaleByTime(js(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fr).catch(fr)}fetchInfiniteQuery(e){return e.behavior=Qj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fr).catch(fr)}ensureInfiniteQueryData(e){return e.behavior=Qj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return uh.isOnline()?$(this,ls).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,rt)}getMutationCache(){return $(this,ls)}getDefaultOptions(){return $(this,cs)}setDefaultOptions(e){ne(this,cs,e)}setQueryDefaults(e,t){$(this,To).set(Uc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,To).values()],r={};return t.forEach(n=>{Hc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,Mo).set(Uc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Mo).values()],r={};return t.forEach(n=>{Hc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,cs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Uv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,cs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,rt).clear(),$(this,ls).clear()}},rt=new WeakMap,ls=new WeakMap,cs=new WeakMap,To=new WeakMap,Mo=new WeakMap,us=new WeakMap,Io=new WeakMap,Do=new WeakMap,zS),iP=y.createContext(void 0),E$=e=>{const t=y.useContext(iP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},C$=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(iP.Provider,{value:e,children:t})),oP=y.createContext(!1),P$=()=>y.useContext(oP);oP.Provider;function O$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var A$=y.createContext(O$()),T$=()=>y.useContext(A$),M$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},I$=e=>{y.useEffect(()=>{e.clearReset()},[e])},D$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||d$(r,[e.error,n])),R$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},L$=(e,t)=>e.isLoading&&e.isFetching&&!t,$$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Jj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function z$(e,t,r){var f,h,m,p,x;const n=P$(),a=T$(),s=E$(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",R$(i),M$(i,a),I$(a);const l=!s.getQueryCache().get(i.queryHash),[c]=y.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(v=>{const g=d?c.subscribe(Dt.batchCalls(v)):fr;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(i)},[i,c]),$$(i,u))throw Jj(i,c,a);if(D$({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,i,u),i.experimental_prefetchInRender&&!_i&&L$(u,n)){const v=l?Jj(i,c,a):(x=s.getQueryCache().get(i.queryHash))==null?void 0:x.promise;v==null||v.catch(fr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function F$(e,t){return z$(e,x$)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ek="popstate";function B$(e={}){function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return ky("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Vc(a)}return H$(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U$(){return Math.random().toString(36).substring(2,10)}function tk(e,t){return{usr:e.state,key:e.key,idx:t}}function ky(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hl(t):t,state:r,key:t&&t.key||n||U$()}}function Vc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function H$(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let v=d(),g=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:g})}function h(v,g){l="PUSH";let w=ky(x.location,v,g);u=d()+1;let b=tk(w,u),j=x.createHref(w);try{i.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}s&&c&&c({action:l,location:x.location,delta:1})}function m(v,g){l="REPLACE";let w=ky(x.location,v,g);u=d();let b=tk(w,u),j=x.createHref(w);i.replaceState(b,"",j),s&&c&&c({action:l,location:x.location,delta:0})}function p(v){return V$(v)}let x={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ek,f),c=v,()=>{a.removeEventListener(ek,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(v){return i.go(v)}};return x}function V$(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Vc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function lP(e,t,r="/"){return W$(e,t,r,!1)}function W$(e,t,r,n){let a=typeof t=="string"?hl(t):t,s=Pa(a.pathname||"/",r);if(s==null)return null;let i=cP(e);K$(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=nz(s);l=tz(i[c],u,n)}return l}function cP(e,t=[],r=[],n="",a=!1){let s=(i,l,c=a,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Ze(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=wa([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(Ze(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),cP(i.children,t,h,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:J$(f,i.index),routesMeta:h})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let u of uP(i.path))s(i,l,!0,u)}),t}function uP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=uP(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function K$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ez(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var q$=/^:[\w-]+$/,Y$=3,G$=2,X$=1,Q$=10,Z$=-2,rk=e=>e==="*";function J$(e,t){let r=e.split("/"),n=r.length;return r.some(rk)&&(n+=Z$),t&&(n+=G$),r.filter(a=>!rk(a)).reduce((a,s)=>a+(q$.test(s)?Y$:s===""?X$:Q$),n)}function ez(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function tz(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=dh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=dh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:wa([s,f.pathname]),pathnameBase:lz(wa([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=wa([s,f.pathnameBase]))}return i}function dh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=rz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let p=l[h]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function rz(e,t=!1,r=!0){Sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function nz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var az=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sz=e=>az.test(e);function iz(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?hl(e):e,s;if(r)if(sz(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?s=nk(r.substring(1),"/"):s=nk(r,t)}else s=t;return{pathname:s,search:cz(n),hash:uz(a)}}function nk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Pg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dP(e){let t=oz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function fP(e,t,r,n=!1){let a;typeof e=="string"?a=hl(e):(a={...e},Ze(!a.pathname||!a.pathname.includes("?"),Pg("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),Pg("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),Pg("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=iz(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var wa=e=>e.join("/").replace(/\/\/+/g,"/"),lz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function fz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hP=["POST","PUT","PATCH","DELETE"];new Set(hP);var hz=["GET",...hP];new Set(hz);var ml=y.createContext(null);ml.displayName="DataRouter";var Im=y.createContext(null);Im.displayName="DataRouterState";y.createContext(!1);var mP=y.createContext({isTransitioning:!1});mP.displayName="ViewTransition";var mz=y.createContext(new Map);mz.displayName="Fetchers";var pz=y.createContext(null);pz.displayName="Await";var On=y.createContext(null);On.displayName="Navigation";var _u=y.createContext(null);_u.displayName="Location";var ra=y.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var Wv=y.createContext(null);Wv.displayName="RouteError";function gz(e,{relative:t}={}){Ze(Su(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(On),{hash:a,pathname:s,search:i}=Eu(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:wa([r,s])),n.createHref({pathname:l,search:i,hash:a})}function Su(){return y.useContext(_u)!=null}function Is(){return Ze(Su(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(_u).location}var pP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gP(e){y.useContext(On).static||y.useLayoutEffect(e)}function Kv(){let{isDataRoute:e}=y.useContext(ra);return e?Az():yz()}function yz(){Ze(Su(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(ml),{basename:t,navigator:r}=y.useContext(On),{matches:n}=y.useContext(ra),{pathname:a}=Is(),s=JSON.stringify(dP(n)),i=y.useRef(!1);return gP(()=>{i.current=!0}),y.useCallback((c,u={})=>{if(Sn(i.current,pP),!i.current)return;if(typeof c=="number"){r.go(c);return}let d=fP(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:wa([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}var xz=y.createContext(null);function vz(e){let t=y.useContext(ra).outlet;return y.useMemo(()=>t&&y.createElement(xz.Provider,{value:e},t),[t,e])}function Eu(e,{relative:t}={}){let{matches:r}=y.useContext(ra),{pathname:n}=Is(),a=JSON.stringify(dP(r));return y.useMemo(()=>fP(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function bz(e,t){return yP(e,t)}function yP(e,t,r,n,a){var w;Ze(Su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(On),{matches:i}=y.useContext(ra),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";xP(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let h=Is(),m;if(t){let b=typeof t=="string"?hl(t):t;Ze(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),m=b}else m=h;let p=m.pathname||"/",x=p;if(d!=="/"){let b=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=lP(e,{pathname:x});Sn(f||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Sn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=_z(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:wa([d,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:wa([d,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),i,r,n,a);return t&&g?y.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function wz(){let e=Oz(),t=dz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,i)}var jz=y.createElement(wz,null),kz=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(ra.Provider,{value:this.props.routeContext},y.createElement(Wv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nz({routeContext:e,match:t,children:r}){let n=y.useContext(ml);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ra.Provider,{value:e},r)}function _z(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);Ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},unstable_pattern:fz(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,h)=>{let m,p=!1,x=null,v=null;r&&(m=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||jz,l&&(c<0&&h===0?(xP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),w=()=>{let b;return m?b=x:p?b=v:f.route.Component?b=y.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,y.createElement(Nz,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(kz,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):w()},null)}function qv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sz(e){let t=y.useContext(ml);return Ze(t,qv(e)),t}function Ez(e){let t=y.useContext(Im);return Ze(t,qv(e)),t}function Cz(e){let t=y.useContext(ra);return Ze(t,qv(e)),t}function Yv(e){let t=Cz(e),r=t.matches[t.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Pz(){return Yv("useRouteId")}function Oz(){var n;let e=y.useContext(Wv),t=Ez("useRouteError"),r=Yv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Az(){let{router:e}=Sz("useNavigate"),t=Yv("useNavigate"),r=y.useRef(!1);return gP(()=>{r.current=!0}),y.useCallback(async(a,s={})=>{Sn(r.current,pP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var ak={};function xP(e,t,r){!t&&!ak[e]&&(ak[e]=!0,Sn(!1,r))}y.memo(Tz);function Tz({routes:e,future:t,state:r,unstable_onError:n}){return yP(e,void 0,r,n,t)}function Mz(e){return vz(e.context)}function Vs(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Iz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:i}){Ze(!Su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:i,future:{}}),[l,a,s,i]);typeof r=="string"&&(r=hl(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,p=y.useMemo(()=>{let x=Pa(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:m},navigationType:n}},[l,u,d,f,h,m,n]);return Sn(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(On.Provider,{value:c},y.createElement(_u.Provider,{children:t,value:p}))}function Dz({children:e,location:t}){return bz(Ny(e),t)}function Ny(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let s=[...t,a];if(n.type===y.Fragment){r.push.apply(r,Ny(n.props.children,s));return}Ze(n.type===Vs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ny(n.props.children,s)),r.push(i)}),r}var Nf="get",_f="application/x-www-form-urlencoded";function Dm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Rz(e){return Dm(e)&&e.tagName.toLowerCase()==="button"}function Lz(e){return Dm(e)&&e.tagName.toLowerCase()==="form"}function $z(e){return Dm(e)&&e.tagName.toLowerCase()==="input"}function zz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fz(e,t){return e.button===0&&(!t||t==="_self")&&!zz(e)}var Id=null;function Bz(){if(Id===null)try{new FormData(document.createElement("form"),0),Id=!1}catch{Id=!0}return Id}var Uz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Og(e){return e!=null&&!Uz.has(e)?(Sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):e}function Hz(e,t){let r,n,a,s,i;if(Lz(e)){let l=e.getAttribute("action");n=l?Pa(l,t):null,r=e.getAttribute("method")||Nf,a=Og(e.getAttribute("enctype"))||_f,s=new FormData(e)}else if(Rz(e)||$z(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Pa(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Nf,a=Og(e.getAttribute("formenctype"))||Og(l.getAttribute("enctype"))||_f,s=new FormData(l,e),!Bz()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(Dm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nf,n=null,a=_f,i=e}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vz(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Pa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Wz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function qz(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let i=await Wz(s,r);return i.links?i.links():[]}return[]}));return Qz(n.flat(1).filter(Kz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function sk(e,t,r,n,a,s){let i=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Yz(e,t,{includeHydrateFallback:r}={}){return Gz(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Gz(e){return[...new Set(e)]}function Xz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Qz(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(Xz(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function vP(){let e=y.useContext(ml);return Gv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Zz(){let e=y.useContext(Im);return Gv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xv=y.createContext(void 0);Xv.displayName="FrameworkContext";function bP(){let e=y.useContext(Xv);return Gv(e,"You must render this element inside a <HydratedRouter> element"),e}function Jz(e,t){let r=y.useContext(Xv),[n,a]=y.useState(!1),[s,i]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=y.useRef(null);y.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=g=>{g.forEach(w=>{i(w.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),y.useEffect(()=>{if(n){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{a(!0)},p=()=>{a(!1),i(!1)};return r?e!=="intent"?[s,h,{}]:[s,h,{onFocus:Bl(l,m),onBlur:Bl(c,p),onMouseEnter:Bl(u,m),onMouseLeave:Bl(d,p),onTouchStart:Bl(f,m)}]:[!1,h,{}]}function Bl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function eF({page:e,...t}){let{router:r}=vP(),n=y.useMemo(()=>lP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(rF,{page:e,matches:n,...t}):null}function tF(e){let{manifest:t,routeModules:r}=bP(),[n,a]=y.useState([]);return y.useEffect(()=>{let s=!1;return qz(e,t,r).then(i=>{s||a(i)}),()=>{s=!0}},[e,t,r]),n}function rF({page:e,matches:t,...r}){let n=Is(),{manifest:a,routeModules:s}=bP(),{basename:i}=vP(),{loaderData:l,matches:c}=Zz(),u=y.useMemo(()=>sk(e,t,c,a,n,"data"),[e,t,c,a,n]),d=y.useMemo(()=>sk(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,x=!1;if(t.forEach(g=>{var b;let w=a.routes[g.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((b=s[g.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?x=!0:p.add(g.route.id))}),p.size===0)return[];let v=Vz(e,i,"data");return x&&p.size>0&&v.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[v.pathname+v.search]},[i,l,n,a,u,t,e,s]),h=y.useMemo(()=>Yz(d,a),[d,a]),m=tF(d);return y.createElement(y.Fragment,null,f.map(p=>y.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>y.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:x})=>y.createElement("link",{key:p,nonce:r.nonce,...x})))}function nF(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var wP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wP&&(window.__reactRouterVersion="7.10.1")}catch{}function aF({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=y.useRef();a.current==null&&(a.current=B$({window:n,v5Compat:!0}));let s=a.current,[i,l]=y.useState({action:s.action,location:s.location}),c=y.useCallback(u=>{r===!1?l(u):y.startTransition(()=>l(u))},[r]);return y.useLayoutEffect(()=>s.listen(c),[s,c]),y.createElement(Iz,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s,unstable_useTransitions:r===!0})}var jP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rm=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:p,unstable_useTransitions:x}=y.useContext(On),v=typeof u=="string"&&jP.test(u),g,w=!1;if(typeof u=="string"&&v&&(g=u,wP))try{let I=new URL(window.location.href),E=u.startsWith("//")?new URL(I.protocol+u):new URL(u),C=Pa(E.pathname,p);E.origin===I.origin&&C!=null?u=C+E.search+E.hash:w=!0}catch{Sn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=gz(u,{relative:a}),[j,k,_]=Jz(n,h),N=lF(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_useTransitions:x});function S(I){t&&t(I),I.defaultPrevented||N(I)}let O=y.createElement("a",{...h,..._,href:g||b,onClick:w||s?t:S,ref:nF(m,k),target:c,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?y.createElement(y.Fragment,null,O,y.createElement(eF,{page:b})):O});Rm.displayName="Link";var sF=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},d){let f=Eu(i,{relative:u.relative}),h=Is(),m=y.useContext(Im),{navigator:p,basename:x}=y.useContext(On),v=m!=null&&hF(f)&&l===!0,g=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=h.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&x&&(b=Pa(b,x)||b);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=w===g||!a&&w.startsWith(g)&&w.charAt(j)==="/",_=b!=null&&(b===g||!a&&b.startsWith(g)&&b.charAt(g.length)==="/"),N={isActive:k,isPending:_,isTransitioning:v},S=k?t:void 0,O;typeof n=="function"?O=n(N):O=[n,k?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(N):s;return y.createElement(Rm,{...u,"aria-current":S,className:O,ref:d,style:I,to:i,viewTransition:l},typeof c=="function"?c(N):c)});sF.displayName="NavLink";var iF=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:i=Nf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let{unstable_useTransitions:p}=y.useContext(On),x=dF(),v=fF(l,{relative:u}),g=i.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&jP.test(l),b=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,_=(k==null?void 0:k.getAttribute("formmethod"))||i,N=()=>x(k||j.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f});p&&r!==!1?y.startTransition(()=>N()):N()};return y.createElement("form",{ref:m,method:g,action:v,onSubmit:n?c:b,...h,"data-discover":!w&&e==="render"?"true":void 0})});iF.displayName="Form";function oF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kP(e){let t=y.useContext(ml);return Ze(t,oF(e)),t}function lF(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_useTransitions:l}={}){let c=Kv(),u=Is(),d=Eu(e,{relative:s});return y.useCallback(f=>{if(Fz(f,t)){f.preventDefault();let h=r!==void 0?r:Vc(u)===Vc(d),m=()=>c(e,{replace:h,state:n,preventScrollReset:a,relative:s,viewTransition:i});l?y.startTransition(()=>m()):m()}},[u,c,d,r,n,t,e,a,s,i,l])}var cF=0,uF=()=>`__${String(++cF)}__`;function dF(){let{router:e}=kP("useSubmit"),{basename:t}=y.useContext(On),r=Pz(),n=e.fetch,a=e.navigate;return y.useCallback(async(s,i={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=Hz(s,t);if(i.navigate===!1){let h=i.fetcherKey||uF();await n(h,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await a(i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,t,r])}function fF(e,{relative:t}={}){let{basename:r}=y.useContext(On),n=y.useContext(ra);Ze(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Eu(e||".",{relative:t})},i=Is();if(e==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:wa([r,s.pathname])),Vc(s)}function hF(e,{relative:t}={}){let r=y.useContext(mP);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kP("useViewTransitionState"),a=Eu(e,{relative:t});if(!r.isTransitioning)return!1;let s=Pa(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Pa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return dh(a.pathname,i)!=null||dh(a.pathname,s)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...mF,width:a,height:a,stroke:n,strokeWidth:i?Number(s)*24/Number(a):s,className:["lucide",`lucide-${pF(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ee("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=ee("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ee("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ee("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ee("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ee("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ee("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ee("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ee("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ee("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ee("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ee("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ee("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ee("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=ee("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ee("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=ee("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=ee("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),t6=()=>{const e=Is(),[t,r]=y.useState(!1);y.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const i=!t;r(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=i=>e.pathname===i,s=e.pathname==="/canvas";return o.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[o.jsxs("aside",{className:`${s?"w-16":"w-64"} bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-all duration-200`,children:[o.jsxs("div",{className:`${s?"p-4":"p-6"} border-b border-slate-800 dark:border-slate-900 flex items-center ${s?"justify-center":"gap-3"}`,children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-lg shrink-0 shadow-lg shadow-blue-900/20",children:"S"}),!s&&o.jsx("h1",{className:"text-xl font-bold tracking-tight whitespace-nowrap bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Skyulf ML"})]}),o.jsxs("nav",{className:"flex-1 p-2 space-y-2",children:[o.jsx(Ul,{to:"/",active:a("/"),icon:o.jsx(CP,{size:20}),collapsed:s,children:"Dashboard"}),o.jsx(Ul,{to:"/canvas",active:a("/canvas"),icon:o.jsx(EP,{size:20}),collapsed:s,children:"ML Canvas"}),o.jsx(Ul,{to:"/data",active:a("/data"),icon:o.jsx(Gn,{size:20}),collapsed:s,children:"Data Sources"}),o.jsx(Ul,{to:"/registry",active:a("/registry"),icon:o.jsx(_y,{size:20}),collapsed:s,children:"Model Registry"}),o.jsx(Ul,{to:"/deployments",active:a("/deployments"),icon:o.jsx(Lm,{size:20}),collapsed:s,children:"Deployments"})]}),o.jsx("div",{className:`${s?"p-2":"p-4"} border-t border-slate-800 space-y-4`,children:o.jsxs("button",{onClick:n,className:`flex items-center ${s?"justify-center":"gap-3"} w-full ${s?"px-2":"px-4"} py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors`,title:t?"Light Mode":"Dark Mode",children:[t?o.jsx(GF,{size:20}):o.jsx($F,{size:20}),!s&&(t?"Light Mode":"Dark Mode")]})})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(Mz,{})})]})},Ul=({to:e,children:t,active:r,icon:n,collapsed:a})=>o.jsxs(Rm,{to:e,className:`flex items-center ${a?"justify-center":"gap-3"} ${a?"px-2":"px-4"} py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:a?t:void 0,children:[n,!a&&t]});function MP(e,t){return function(){return e.apply(t,arguments)}}const{toString:r6}=Object.prototype,{getPrototypeOf:ab}=Object,{iterator:$m,toStringTag:IP}=Symbol,zm=(e=>t=>{const r=r6.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),An=e=>(e=e.toLowerCase(),t=>zm(t)===e),Fm=e=>t=>typeof t===e,{isArray:gl}=Array,Ho=Fm("undefined");function Pu(e){return e!==null&&!Ho(e)&&e.constructor!==null&&!Ho(e.constructor)&&wr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const DP=An("ArrayBuffer");function n6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&DP(e.buffer),t}const a6=Fm("string"),wr=Fm("function"),RP=Fm("number"),Ou=e=>e!==null&&typeof e=="object",s6=e=>e===!0||e===!1,Sf=e=>{if(zm(e)!=="object")return!1;const t=ab(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(IP in e)&&!($m in e)},i6=e=>{if(!Ou(e)||Pu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},o6=An("Date"),l6=An("File"),c6=An("Blob"),u6=An("FileList"),d6=e=>Ou(e)&&wr(e.pipe),f6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wr(e.append)&&((t=zm(e))==="formdata"||t==="object"&&wr(e.toString)&&e.toString()==="[object FormData]"))},h6=An("URLSearchParams"),[m6,p6,g6,y6]=["ReadableStream","Request","Response","Headers"].map(An),x6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Au(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),gl(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Pu(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function LP(e,t){if(Pu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$P=e=>!Ho(e)&&e!==ei;function Cy(){const{caseless:e,skipUndefined:t}=$P(this)&&this||{},r={},n=(a,s)=>{const i=e&&LP(r,s)||s;Sf(r[i])&&Sf(a)?r[i]=Cy(r[i],a):Sf(a)?r[i]=Cy({},a):gl(a)?r[i]=a.slice():(!t||!Ho(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Au(arguments[a],n);return r}const v6=(e,t,r,{allOwnKeys:n}={})=>(Au(t,(a,s)=>{r&&wr(a)?e[s]=MP(a,r):e[s]=a},{allOwnKeys:n}),e),b6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),w6=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},j6=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&ab(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},k6=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},N6=e=>{if(!e)return null;if(gl(e))return e;let t=e.length;if(!RP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},_6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ab(Uint8Array)),S6=(e,t)=>{const n=(e&&e[$m]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},E6=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},C6=An("HTMLFormElement"),P6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),lk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),O6=An("RegExp"),zP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Au(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},A6=e=>{zP(e,(t,r)=>{if(wr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(wr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},T6=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return gl(e)?n(e):n(String(e).split(t)),r},M6=()=>{},I6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function D6(e){return!!(e&&wr(e.append)&&e[IP]==="FormData"&&e[$m])}const R6=e=>{const t=new Array(10),r=(n,a)=>{if(Ou(n)){if(t.indexOf(n)>=0)return;if(Pu(n))return n;if(!("toJSON"in n)){t[a]=n;const s=gl(n)?[]:{};return Au(n,(i,l)=>{const c=r(i,a+1);!Ho(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},L6=An("AsyncFunction"),$6=e=>e&&(Ou(e)||wr(e))&&wr(e.then)&&wr(e.catch),FP=((e,t)=>e?setImmediate:t?((r,n)=>(ei.addEventListener("message",({source:a,data:s})=>{a===ei&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ei.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",wr(ei.postMessage)),z6=typeof queueMicrotask<"u"?queueMicrotask.bind(ei):typeof process<"u"&&process.nextTick||FP,F6=e=>e!=null&&wr(e[$m]),W={isArray:gl,isArrayBuffer:DP,isBuffer:Pu,isFormData:f6,isArrayBufferView:n6,isString:a6,isNumber:RP,isBoolean:s6,isObject:Ou,isPlainObject:Sf,isEmptyObject:i6,isReadableStream:m6,isRequest:p6,isResponse:g6,isHeaders:y6,isUndefined:Ho,isDate:o6,isFile:l6,isBlob:c6,isRegExp:O6,isFunction:wr,isStream:d6,isURLSearchParams:h6,isTypedArray:_6,isFileList:u6,forEach:Au,merge:Cy,extend:v6,trim:x6,stripBOM:b6,inherits:w6,toFlatObject:j6,kindOf:zm,kindOfTest:An,endsWith:k6,toArray:N6,forEachEntry:S6,matchAll:E6,isHTMLForm:C6,hasOwnProperty:lk,hasOwnProp:lk,reduceDescriptors:zP,freezeMethods:A6,toObjectSet:T6,toCamelCase:P6,noop:M6,toFiniteNumber:I6,findKey:LP,global:ei,isContextDefined:$P,isSpecCompliantForm:D6,toJSONObject:R6,isAsyncFn:L6,isThenable:$6,setImmediate:FP,asap:z6,isIterable:F6};function ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const BP=ye.prototype,UP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{UP[e]={value:e}});Object.defineProperties(ye,UP);Object.defineProperty(BP,"isAxiosError",{value:!0});ye.from=(e,t,r,n,a,s)=>{const i=Object.create(BP);W.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const B6=null;function Py(e){return W.isPlainObject(e)||W.isArray(e)}function HP(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function ck(e,t,r){return e?e.concat(t).map(function(a,s){return a=HP(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function U6(e){return W.isArray(e)&&!e.some(Py)}const H6=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function Bm(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!W.isUndefined(v[x])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(W.isDate(p))return p.toISOString();if(W.isBoolean(p))return p.toString();if(!c&&W.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,v){let g=p;if(p&&!v&&typeof p=="object"){if(W.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&U6(p)||(W.isFileList(p)||W.endsWith(x,"[]"))&&(g=W.toArray(p)))return x=HP(x),g.forEach(function(b,j){!(W.isUndefined(b)||b===null)&&t.append(i===!0?ck([x],j,s):i===null?x:x+"[]",u(b))}),!1}return Py(p)?!0:(t.append(ck(v,x,s),u(p)),!1)}const f=[],h=Object.assign(H6,{defaultVisitor:d,convertValue:u,isVisitable:Py});function m(p,x){if(!W.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),W.forEach(p,function(g,w){(!(W.isUndefined(g)||g===null)&&a.call(t,g,W.isString(w)?w.trim():w,x,h))===!0&&m(g,x?x.concat(w):[w])}),f.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return m(e),t}function uk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function sb(e,t){this._pairs=[],e&&Bm(e,this,t)}const VP=sb.prototype;VP.append=function(t,r){this._pairs.push([t,r])};VP.toString=function(t){const r=t?function(n){return t.call(this,n,uk)}:uk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function V6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function WP(e,t,r){if(!t)return e;const n=r&&r.encode||V6;W.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=W.isURLSearchParams(t)?t.toString():new sb(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class dk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const KP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W6=typeof URLSearchParams<"u"?URLSearchParams:sb,K6=typeof FormData<"u"?FormData:null,q6=typeof Blob<"u"?Blob:null,Y6={isBrowser:!0,classes:{URLSearchParams:W6,FormData:K6,Blob:q6},protocols:["http","https","file","blob","url","data"]},ib=typeof window<"u"&&typeof document<"u",Oy=typeof navigator=="object"&&navigator||void 0,G6=ib&&(!Oy||["ReactNative","NativeScript","NS"].indexOf(Oy.product)<0),X6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Q6=ib&&window.location.href||"http://localhost",Z6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ib,hasStandardBrowserEnv:G6,hasStandardBrowserWebWorkerEnv:X6,navigator:Oy,origin:Q6},Symbol.toStringTag,{value:"Module"})),Wt={...Z6,...Y6};function J6(e,t){return Bm(e,new Wt.classes.URLSearchParams,{visitor:function(r,n,a,s){return Wt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function e8(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function t8(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function qP(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&W.isArray(a)?a.length:i,c?(W.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!W.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&W.isArray(a[i])&&(a[i]=t8(a[i])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,a)=>{t(e8(n),a,r,0)}),r}return null}function r8(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Tu={transitional:KP,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=W.isObject(t);if(s&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return a?JSON.stringify(qP(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return J6(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Bm(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),r8(t)):t}],transformResponse:[function(t){const r=this.transitional||Tu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Tu.headers[e]={}});const n8=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a8=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&n8[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},fk=Symbol("internals");function Hl(e){return e&&String(e).trim().toLowerCase()}function Ef(e){return e===!1||e==null?e:W.isArray(e)?e.map(Ef):String(e)}function s8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const i8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ag(e,t,r,n,a){if(W.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function o8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function l8(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}let jr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=Hl(c);if(!d)throw new Error("header name must be a non-empty string");const f=W.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Ef(l))}const i=(l,c)=>W.forEach(l,(u,d)=>s(u,d,c));if(W.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(W.isString(t)&&(t=t.trim())&&!i8(t))i(a8(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,u;for(const d of t){if(!W.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?W.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Hl(t),t){const n=W.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return s8(a);if(W.isFunction(r))return r.call(this,a,n);if(W.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Hl(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ag(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=Hl(i),i){const l=W.findKey(n,i);l&&(!r||Ag(n,n[l],l,r))&&(delete n[l],a=!0)}}return W.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||Ag(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return W.forEach(this,(a,s)=>{const i=W.findKey(n,s);if(i){r[i]=Ef(a),delete r[s];return}const l=t?o8(s):String(s).trim();l!==s&&delete r[s],r[l]=Ef(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[fk]=this[fk]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Hl(i);n[l]||(l8(a,i),n[l]=!0)}return W.isArray(t)?t.forEach(s):s(t),this}};jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(jr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(jr);function Tg(e,t){const r=this||Tu,n=t||r,a=jr.from(n.headers);let s=n.data;return W.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function YP(e){return!!(e&&e.__CANCEL__)}function yl(e,t,r){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(yl,ye,{__CANCEL__:!0});function GP(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function c8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function u8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function d8(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const hh=(e,t,r=3)=>{let n=0;const a=u8(50,250);return d8(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},hk=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},mk=e=>(...t)=>W.asap(()=>e(...t)),f8=Wt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Wt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,h8=Wt.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];W.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),W.isString(n)&&l.push(`path=${n}`),W.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),W.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function m8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function p8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function XP(e,t,r){let n=!m8(t);return e&&(n||r==!1)?p8(e,t):t}const pk=e=>e instanceof jr?{...e}:e;function Ei(e,t){t=t||{};const r={};function n(u,d,f,h){return W.isPlainObject(u)&&W.isPlainObject(d)?W.merge.call({caseless:h},u,d):W.isPlainObject(d)?W.merge({},d):W.isArray(d)?d.slice():d}function a(u,d,f,h){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!W.isUndefined(d))return n(void 0,d)}function i(u,d){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(pk(u),pk(d),f,!0)};return W.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);W.isUndefined(h)&&f!==l||(r[d]=h)}),r}const QP=e=>{const t=Ei({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=jr.from(i),t.url=WP(XP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Wt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&f8(t.url))){const c=a&&s&&h8.read(s);c&&i.set(a,c)}return t},g8=typeof XMLHttpRequest<"u",y8=g8&&function(e){return new Promise(function(r,n){const a=QP(e);let s=a.data;const i=jr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function x(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;const b=jr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};GP(function(N){r(N),x()},function(N){n(N),x()},k),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(n(new ye("Request aborted",ye.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",_=new ye(k,ye.ERR_NETWORK,e,v);_.event=j||null,n(_),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||KP;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ye(j,k.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&W.forEach(i.toJSON(),function(j,k){v.setRequestHeader(k,j)}),W.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,p]=hh(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=hh(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new yl(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=c8(a.url);if(w&&Wt.protocols.indexOf(w)===-1){n(new ye("Unsupported protocol "+w+":",ye.ERR_BAD_REQUEST,e));return}v.send(s||null)})},x8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new yl(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},v8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},b8=async function*(e,t){for await(const r of w8(e))yield*v8(r,t)},w8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},gk=(e,t,r,n)=>{const a=b8(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},yk=64*1024,{isFunction:Dd}=W,j8=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:xk,TextEncoder:vk}=W.global,bk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},k8=e=>{e=W.merge.call({skipUndefined:!0},j8,e);const{fetch:t,Request:r,Response:n}=e,a=t?Dd(t):typeof fetch=="function",s=Dd(r),i=Dd(n);if(!a)return!1;const l=a&&Dd(xk),c=a&&(typeof vk=="function"?(p=>x=>p.encode(x))(new vk):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&bk(()=>{let p=!1;const x=new r(Wt.origin,{body:new xk,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=i&&l&&bk(()=>W.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,v)=>{let g=x&&x[p];if(g)return g.call(x);throw new ye(`Response type '${p}' is not supported`,ye.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(W.isBlob(p))return p.size;if(W.isSpecCompliantForm(p))return(await new r(Wt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(W.isArrayBufferView(p)||W.isArrayBuffer(p))return p.byteLength;if(W.isURLSearchParams(p)&&(p=p+""),W.isString(p))return(await c(p)).byteLength},m=async(p,x)=>{const v=W.toFiniteNumber(p.getContentLength());return v??h(x)};return async p=>{let{url:x,method:v,data:g,signal:w,cancelToken:b,timeout:j,onDownloadProgress:k,onUploadProgress:_,responseType:N,headers:S,withCredentials:O="same-origin",fetchOptions:I}=QP(p),E=t||fetch;N=N?(N+"").toLowerCase():"text";let C=x8([w,b&&b.toAbortSignal()],j),L=null;const P=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let D;try{if(_&&u&&v!=="get"&&v!=="head"&&(D=await m(S,g))!==0){let B=new r(x,{method:"POST",body:g,duplex:"half"}),F;if(W.isFormData(g)&&(F=B.headers.get("content-type"))&&S.setContentType(F),B.body){const[Y,q]=hk(D,hh(mk(_)));g=gk(B.body,yk,Y,q)}}W.isString(O)||(O=O?"include":"omit");const A=s&&"credentials"in r.prototype,R={...I,signal:C,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:A?O:void 0};L=s&&new r(x,R);let T=await(s?E(L,I):E(x,R));const M=d&&(N==="stream"||N==="response");if(d&&(k||M&&P)){const B={};["status","statusText","headers"].forEach(Q=>{B[Q]=T[Q]});const F=W.toFiniteNumber(T.headers.get("content-length")),[Y,q]=k&&hk(F,hh(mk(k),!0))||[];T=new n(gk(T.body,yk,Y,()=>{q&&q(),P&&P()}),B)}N=N||"text";let z=await f[W.findKey(f,N)||"text"](T,p);return!M&&P&&P(),await new Promise((B,F)=>{GP(B,F,{data:z,headers:jr.from(T.headers),status:T.status,statusText:T.statusText,config:p,request:L})})}catch(A){throw P&&P(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,p,L),{cause:A.cause||A}):ye.from(A,A&&A.code,p,L)}}},N8=new Map,ZP=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=N8;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:k8(t)),d=u;return u};ZP();const ob={http:B6,xhr:y8,fetch:{get:ZP}};W.forEach(ob,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wk=e=>`- ${e}`,_8=e=>W.isFunction(e)||e===null||e===!1;function S8(e,t){e=W.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!_8(n)&&(a=ob[(l=String(n)).toLowerCase()],a===void 0))throw new ye(`Unknown adapter '${l}'`);if(a&&(W.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(wk).join(`
`):" "+wk(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const JP={getAdapter:S8,adapters:ob};function Mg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yl(null,e)}function jk(e){return Mg(e),e.headers=jr.from(e.headers),e.data=Tg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),JP.getAdapter(e.adapter||Tu.adapter,e)(e).then(function(n){return Mg(e),n.data=Tg.call(e,e.transformResponse,n),n.headers=jr.from(n.headers),n},function(n){return YP(n)||(Mg(e),n&&n.response&&(n.response.data=Tg.call(e,e.transformResponse,n.response),n.response.headers=jr.from(n.response.headers))),Promise.reject(n)})}const eO="1.13.2",Um={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Um[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const kk={};Um.transitional=function(t,r,n){function a(s,i){return"[Axios v"+eO+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new ye(a(i," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!kk[i]&&(kk[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};Um.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function E8(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new ye("option "+s+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const Cf={assertOptions:E8,validators:Um},Dn=Cf.validators;let pi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dk,response:new dk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ei(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Cf.assertOptions(n,{silentJSONParsing:Dn.transitional(Dn.boolean),forcedJSONParsing:Dn.transitional(Dn.boolean),clarifyTimeoutError:Dn.transitional(Dn.boolean)},!1),a!=null&&(W.isFunction(a)?r.paramsSerializer={serialize:a}:Cf.assertOptions(a,{encode:Dn.function,serialize:Dn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Cf.assertOptions(r,{baseUrl:Dn.spelling("baseURL"),withXsrfToken:Dn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&W.merge(s.common,s[r.method]);s&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=jr.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const p=[jk.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],x=l[f++];try{m=p(m)}catch(v){x.call(this,v);break}}try{d=jk.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ei(this.defaults,t);const r=XP(t.baseURL,t.url,t.allowAbsoluteUrls);return WP(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){pi.prototype[t]=function(r,n){return this.request(Ei(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(Ei(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}pi.prototype[t]=r(),pi.prototype[t+"Form"]=r(!0)});let C8=class tO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new yl(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new tO(function(a){t=a}),cancel:t}}};function P8(e){return function(r){return e.apply(null,r)}}function O8(e){return W.isObject(e)&&e.isAxiosError===!0}const Ay={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ay).forEach(([e,t])=>{Ay[t]=e});function rO(e){const t=new pi(e),r=MP(pi.prototype.request,t);return W.extend(r,pi.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return rO(Ei(e,a))},r}const lt=rO(Tu);lt.Axios=pi;lt.CanceledError=yl;lt.CancelToken=C8;lt.isCancel=YP;lt.VERSION=eO;lt.toFormData=Bm;lt.AxiosError=ye;lt.Cancel=lt.CanceledError;lt.all=function(t){return Promise.all(t)};lt.spread=P8;lt.isAxiosError=O8;lt.mergeConfig=Ei;lt.AxiosHeaders=jr;lt.formToJSON=e=>qP(W.isHTMLForm(e)?new FormData(e):e);lt.getAdapter=JP.getAdapter;lt.HttpStatusCode=Ay;lt.default=lt;const{Axios:ife,AxiosError:ofe,CanceledError:lfe,isCancel:cfe,CancelToken:ufe,VERSION:dfe,all:ffe,Cancel:hfe,isAxiosError:mfe,spread:pfe,toFormData:gfe,AxiosHeaders:yfe,HttpStatusCode:xfe,formToJSON:vfe,getAdapter:bfe,mergeConfig:wfe}=lt,A8="/api",st=lt.create({baseURL:A8,headers:{"Content-Type":"application/json"}}),T8=async e=>(await st.post("/pipeline/preview",e)).data,M8=async e=>(await st.get(`/pipeline/datasets/${e}/schema`)).data,I8=async(e,t)=>(await st.post(`/pipeline/save/${e}`,t)).data,D8=async e=>{const t=await st.get(`/pipeline/load/${e}`);return t.data?t.data:null},Ct={runPipeline:async e=>(await st.post("/pipeline/run",e)).data,getJob:async e=>(await st.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await st.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await st.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await st.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await st.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await st.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await st.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await st.get(`/pipeline/jobs/tuning/history/${e}`)).data},R8=()=>{const[e,t]=y.useState(null),[r,n]=y.useState([]),[a,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const[l,c]=await Promise.all([st.get("/pipeline/stats"),Ct.getJobs(5,0,"training")]);t(l.data),n(c.map(u=>{var d;return{id:u.job_id,status:u.status,model_type:u.model_type||"Unknown",created_at:u.start_time||u.created_at||new Date().toISOString(),metrics:u.metrics||((d=u.result)==null?void 0:d.metrics)}}))}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{s(!1)}})()},[]),o.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),o.jsx(Rm,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(Ig,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),o.jsx(Ig,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),o.jsx(Ig,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(i=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:i.id,children:[i.id.substring(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:i.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${i.status==="succeeded"?"bg-green-100 text-green-800":i.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(i.created_at).toLocaleString()})]},i.id))})]})})]})]})},Ig=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&o.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Vl="/data/api",Rd="/api/ingestion",kn={getAll:async()=>{const e=await fetch(`${Vl}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getUsable:async()=>{const e=await fetch(`${Vl}/sources/usable`);if(!e.ok)throw new Error("Failed to fetch usable datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Rd}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Rd}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Rd}/${e}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},cancelIngestion:async e=>{const t=await fetch(`${Rd}/${e}/cancel`,{method:"POST"});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to cancel ingestion")}},getById:async e=>{const t=await fetch(`${Vl}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=await fetch(`${Vl}/sources/${e}/sample?limit=${t}`);if(!r.ok)throw new Error("Failed to fetch dataset sample");return(await r.json()).data},delete:async e=>{if(!(await fetch(`${Vl}/sources/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")},getProfile:async e=>{const t=await fetch(`/api/pipeline/datasets/${e}/schema`);if(!t.ok)throw new Error("Failed to fetch dataset profile");const r=await t.json(),n=Object.values(r.columns).map(i=>({name:i.name,dtype:i.dtype,missing_count:i.missing_count,missing_percentage:(i.missing_ratio||0)*100,distinct_count:i.unique_count,numeric_summary:i.column_type==="numeric"?{mean:i.mean_value,std:i.std_value,minimum:i.min_value,maximum:i.max_value}:void 0})),a=r.row_count*r.column_count,s=n.reduce((i,l)=>i+l.missing_count,0);return{metrics:{row_count:r.row_count,column_count:r.column_count,missing_cells:s,missing_percentage:a>0?(s/a*100).toFixed(2):0},columns:n}}},nO=({onUploadComplete:e,onCancel:t})=>{const[r,n]=y.useState(!1),[a,s]=y.useState(!1),[i,l]=y.useState(null),[c,u]=y.useState(0),d=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},[]),f=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),n(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&m(p.dataTransfer.files[0])},[]),h=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&m(p.target.files[0])},m=async p=>{s(!0),l(null),u(0);try{const x=await kn.upload(p);e(x.job_id,p.name)}catch(x){console.error("Upload failed:",x),l(x.message||"Failed to upload file. Please try again.")}finally{s(!1)}};return o.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:o.jsx(rr,{size:16})}),o.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[o.jsx(ZF,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),o.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:a?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",c,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(SF,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",o.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",o.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:h})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),i&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[o.jsx(En,{size:16,className:"mt-0.5 shrink-0"}),o.jsx("span",{children:i})]})]})},aO=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,s)).toFixed(n))} ${a[s]}`},L8=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState([]),[s,i]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState("sample"),[m,p]=y.useState(100);y.useEffect(()=>{t&&e?x(100):(a([]),i(null),d(null),h("sample"),p(100))},[t,e]);const x=async k=>{if(e){c(!0),d(null);try{const[_,N]=await Promise.all([kn.getSample(e.id,k),kn.getProfile(e.id)]);a(_),i(N)}catch(_){console.error("Failed to fetch data:",_),d("Failed to load dataset preview.")}finally{c(!1)}}},v=()=>{const k=m+500;p(k),x(k)};if(!t||!e)return null;const g=n.length>0?Object.keys(n[0]):[],w=(s==null?void 0:s.metrics.row_count)??e.rows??0,b=(s==null?void 0:s.metrics.column_count)??e.columns??0,j=e.size_bytes??0;return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:o.jsx(Gn,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(tb,{size:14})," ",e.format||"CSV"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(gF,{size:14})," ",w.toLocaleString()," rows"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(jF,{size:14})," ",b," columns"]}),o.jsx("span",{children:""}),o.jsx("span",{children:aO(j)})]})]})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o.jsx(rr,{size:20})})]}),o.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[o.jsx("button",{onClick:()=>{h("sample")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),o.jsx("button",{onClick:()=>{h("stats")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("p",{children:"Loading preview data..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx("p",{children:u}),o.jsx("button",{onClick:()=>x(m),className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):f==="sample"?n.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):g.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:o.jsx("tr",{children:g.map(k=>o.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:k},k))})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((k,_)=>o.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:g.map(N=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(k[N]??"")},`${_}-${N}`))},_))})]})})}),o.jsxs("div",{className:"flex justify-center items-center gap-4",children:[o.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),o.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Ld,{label:"Total Rows",value:s==null?void 0:s.metrics.row_count.toLocaleString()}),o.jsx(Ld,{label:"Total Columns",value:s==null?void 0:s.metrics.column_count}),o.jsx(Ld,{label:"Missing Cells",value:s==null?void 0:s.metrics.missing_cells.toLocaleString()}),o.jsx(Ld,{label:"Missing %",value:`${s==null?void 0:s.metrics.missing_percentage}%`})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:s==null?void 0:s.columns.map(k=>{var _,N,S,O;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:k.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:k.dtype}),o.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[k.missing_count," ",o.jsxs("span",{className:"text-xs text-slate-400",children:["(",k.missing_percentage,"%)"]})]}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:k.distinct_count}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((_=k.numeric_summary)==null?void 0:_.minimum.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((N=k.numeric_summary)==null?void 0:N.maximum.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((S=k.numeric_summary)==null?void 0:S.mean.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((O=k.numeric_summary)==null?void 0:O.std.toFixed(2))??"-"})]},k.name)})})]})})]})}),o.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:o.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Ld=({label:e,value:t})=>o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),$8=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=y.useState("database"),[s,i]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,p]=y.useState("GET"),[x,v]=y.useState(!1),[g,w]=y.useState(null);if(!e)return null;const b=async j=>{j.preventDefault(),v(!0),w(null);try{const k={};n==="database"?(k.connection_string=l,k.query=u):(k.url=f,k.method=m);const _={name:s,type:n,config:k,description:`Imported from ${n}`},N=await kn.createSource(_);r(N.job_id),t()}catch(k){w(k.message||"Failed to create source")}finally{v(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:o.jsx(rr,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs("button",{onClick:()=>{a("database")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(Gn,{size:16})," Database"]}),o.jsxs("button",{onClick:()=>{a("api")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(TF,{size:16})," API"]})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),o.jsx("input",{type:"text",required:!0,value:s,onChange:j=>{i(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),o.jsx("input",{type:"text",required:!0,value:l,onChange:j=>{c(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),o.jsx("textarea",{required:!0,value:u,onChange:j=>{d(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),o.jsx("input",{type:"url",required:!0,value:f,onChange:j=>{h(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),o.jsxs("select",{value:m,onChange:j=>{p(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"GET",children:"GET"}),o.jsx("option",{value:"POST",children:"POST"})]})]})]}),g&&o.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:g}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:x?"Creating...":o.jsxs(o.Fragment,{children:[o.jsx(Wc,{size:16})," Create Source"]})})]})]})]})]})})},z8=({isOpen:e,onClose:t,datasets:r,onRefresh:n})=>{const[a,s]=y.useState(null);if(!e)return null;const i=async c=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){s(c);try{await kn.cancelIngestion(c),n&&n()}catch(u){console.error("Failed to cancel ingestion:",u),alert("Failed to cancel ingestion")}finally{s(null)}}},l=r.map(c=>{var u,d,f,h,m,p;return{id:c.id,name:c.name,status:((d=(u=c.source_metadata)==null?void 0:u.ingestion_status)==null?void 0:d.status)||"completed",created_at:c.created_at,message:((h=(f=c.source_metadata)==null?void 0:f.ingestion_status)==null?void 0:h.error)||(((p=(m=c.source_metadata)==null?void 0:m.ingestion_status)==null?void 0:p.status)==="cancelled"?"Ingestion cancelled":"Ingestion completed successfully")}}).sort((c,u)=>new Date(u.created_at).getTime()-new Date(c.created_at).getTime());return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:o.jsx(rr,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?o.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):o.jsx("div",{className:"space-y-4",children:l.map(c=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[o.jsx("div",{className:"mt-1",children:c.status==="processing"||c.status==="pending"?o.jsx(Kn,{className:"text-blue-500 animate-spin",size:20}):c.status==="failed"?o.jsx(Jv,{className:"text-red-500",size:20}):c.status==="cancelled"?o.jsx(ik,{className:"text-slate-500",size:20}):o.jsx(Yn,{className:"text-green-500",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:c.name}),o.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[o.jsx(eb,{size:12}),new Date(c.created_at).toLocaleString()]})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",o.jsx("span",{className:"capitalize",children:c.status})]}),(c.status==="failed"||c.status==="cancelled")&&o.jsx("p",{className:`text-sm mt-1 p-2 rounded ${c.status==="failed"?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10":"text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800"}`,children:c.message})]}),(c.status==="processing"||c.status==="pending")&&o.jsx("button",{onClick:()=>i(c.id),disabled:a===c.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:a===c.id?o.jsx(Kn,{className:"animate-spin",size:20}):o.jsx(ik,{size:20})})]},c.id))})})]})})},F8=()=>{const e=Kv(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,p]=y.useState(null),[x,v]=y.useState(null),[g,w]=y.useState("completed"),b=t.filter(E=>{var L,P;const C=((P=(L=E.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:P.status)||"completed";return g==="all"?!0:g==="active"?["processing","pending"].includes(C):C===g}),j=async()=>{t.length===0&&a(!0);try{const E=await kn.getAll();r(E)}catch(E){console.error("Failed to fetch datasets:",E)}finally{a(!1)}};y.useEffect(()=>{j()},[]),y.useEffect(()=>{const E=setInterval(()=>{t.some(L=>{var P,D,A,R;return((D=(P=L.source_metadata)==null?void 0:P.ingestion_status)==null?void 0:D.status)==="pending"||((R=(A=L.source_metadata)==null?void 0:A.ingestion_status)==null?void 0:R.status)==="processing"})&&j()},5e3);return()=>{clearInterval(E)}},[t]);const k=async E=>{if(window.confirm("Are you sure you want to delete this dataset?")){h(E);try{await kn.delete(E),r(t.filter(C=>C.id!==E))}catch(C){console.error("Failed to delete dataset:",C),alert("Failed to delete dataset")}finally{h(null)}}},_=async E=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){p(E);try{await kn.cancelIngestion(E),j()}catch(C){console.error("Failed to cancel ingestion:",C),alert("Failed to cancel ingestion")}finally{p(null)}}},N=E=>{e(`/canvas?source_id=${E}`)},S=()=>{i(!1),j()},O=()=>{c(!1),j()},I=E=>{var L,P;const C=(P=(L=E.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:P.status;return!C||C==="completed"?null:C==="failed"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):C==="cancelled"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-400",children:"Cancelled"}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[o.jsx(Kn,{size:12,className:"animate-spin"}),C==="processing"?"Processing...":"Pending..."]})};return o.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[o.jsx(L8,{dataset:x,isOpen:!!x,onClose:()=>{v(null)}}),o.jsx($8,{isOpen:l,onClose:()=>{c(!1)},onSuccess:O}),o.jsx(z8,{isOpen:u,onClose:()=>{d(!1)},datasets:t,onRefresh:j}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>{d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[o.jsx(Sy,{size:18}),"Ingestion Jobs"]}),o.jsxs("button",{onClick:()=>{c(!0)},className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[o.jsx(Gn,{size:18}),"Add Source"]}),o.jsxs("button",{onClick:()=>{i(!s)},className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[o.jsx(Bi,{size:18}),s?"Cancel Upload":"Upload File"]})]})]}),s&&o.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:o.jsx(nO,{onUploadComplete:S,onCancel:()=>{i(!1)}})}),o.jsx("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:["all","active","completed","failed","cancelled"].map(E=>o.jsx("button",{onClick:()=>{w(E)},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${g===E?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-slate-800 text-slate-600 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):b.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:t.length===0?o.jsxs(o.Fragment,{children:[o.jsx(Gn,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),o.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]}):o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets match the selected filter"})})}):b.map(E=>{var C,L,P,D,A,R,T;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:o.jsx(tb,{size:18})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[E.name,I(E)]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:E.source_id||E.id})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:E.format||"CSV"})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:aO(E.size_bytes||0)}),o.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((C=E.rows)==null?void 0:C.toLocaleString())||"-"," rows  ",E.columns||"-"," cols"]})]})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sy,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(E.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((P=(L=E.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:P.status)==="completed"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{v(E)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:o.jsx(_F,{size:16})}),o.jsxs("button",{onClick:()=>{N(E.id)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[o.jsx(Fi,{size:16}),"Canvas"]})]}),(((A=(D=E.source_metadata)==null?void 0:D.ingestion_status)==null?void 0:A.status)==="pending"||((T=(R=E.source_metadata)==null?void 0:R.ingestion_status)==null?void 0:T.status)==="processing")&&o.jsx("button",{onClick:()=>_(E.id),disabled:m===E.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:m===E.id?o.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Jv,{size:16})}),o.jsx("button",{onClick:()=>k(E.id),disabled:f===E.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:f===E.id?o.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Ds,{size:16})})]})})]},E.id)})})]})})})]})},Gs=class Gs{constructor(){Tl(this,"nodes",new Map)}static getInstance(){return Gs.instance||(Gs.instance=new Gs),Gs.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};Tl(Gs,"instance");let Ty=Gs;const Se=Ty.getInstance(),B8={},Nk=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(B8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},sO=e=>e?Nk(e):Nk;var iO={exports:{}},oO={},lO={exports:{}},cO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=y;function U8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H8=typeof Object.is=="function"?Object.is:U8,V8=Vo.useState,W8=Vo.useEffect,K8=Vo.useLayoutEffect,q8=Vo.useDebugValue;function Y8(e,t){var r=t(),n=V8({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return K8(function(){a.value=r,a.getSnapshot=t,Dg(a)&&s({inst:a})},[e,r,t]),W8(function(){return Dg(a)&&s({inst:a}),e(function(){Dg(a)&&s({inst:a})})},[e]),q8(r),r}function Dg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!H8(e,r)}catch{return!0}}function G8(e,t){return t()}var X8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G8:Y8;cO.useSyncExternalStore=Vo.useSyncExternalStore!==void 0?Vo.useSyncExternalStore:X8;lO.exports=cO;var Q8=lO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm=y,Z8=Q8;function J8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eB=typeof Object.is=="function"?Object.is:J8,tB=Z8.useSyncExternalStore,rB=Hm.useRef,nB=Hm.useEffect,aB=Hm.useMemo,sB=Hm.useDebugValue;oO.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=rB(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=aB(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,eB(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=tB(e,s[0],s[1]);return nB(function(){i.hasValue=!0,i.value=l},[l]),sB(l),l};iO.exports=oO;var uO=iO.exports;const dO=ta(uO),fO={},{useDebugValue:iB}=Or,{useSyncExternalStoreWithSelector:oB}=dO;let _k=!1;const lB=e=>e;function cB(e,t=lB,r){(fO?"production":void 0)!=="production"&&r&&!_k&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_k=!0);const n=oB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return iB(n),n}const Sk=e=>{(fO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?sO(e):e,r=(n,a)=>cB(t,n,a);return Object.assign(r,t),r},lb=e=>e?Sk(e):Sk;function ht(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ht(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var uB={value:()=>{}};function Vm(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Pf(r)}function Pf(e){this._=e}function dB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Pf.prototype=Vm.prototype={constructor:Pf,on:function(e,t){var r=this._,n=dB(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=fB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=Ek(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Ek(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Pf(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function fB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Ek(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=uB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var My="http://www.w3.org/1999/xhtml";const Ck={svg:"http://www.w3.org/2000/svg",xhtml:My,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ck.hasOwnProperty(t)?{space:Ck[t],local:e}:e}function hB(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===My&&t.documentElement.namespaceURI===My?t.createElement(e):t.createElementNS(r,e)}}function mB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hO(e){var t=Wm(e);return(t.local?mB:hB)(t)}function pB(){}function cb(e){return e==null?pB:function(){return this.querySelector(e)}}function gB(e){typeof e!="function"&&(e=cb(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=new Array(i),c,u,d=0;d<i;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Rr(n,this._parents)}function yB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xB(){return[]}function mO(e){return e==null?xB:function(){return this.querySelectorAll(e)}}function vB(e){return function(){return yB(e.apply(this,arguments))}}function bB(e){typeof e=="function"?e=vB(e):e=mO(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&(n.push(e.call(c,c.__data__,u,i)),a.push(c));return new Rr(n,a)}function pO(e){return function(){return this.matches(e)}}function gO(e){return function(t){return t.matches(e)}}var wB=Array.prototype.find;function jB(e){return function(){return wB.call(this.children,e)}}function kB(){return this.firstElementChild}function NB(e){return this.select(e==null?kB:jB(typeof e=="function"?e:gO(e)))}var _B=Array.prototype.filter;function SB(){return Array.from(this.children)}function EB(e){return function(){return _B.call(this.children,e)}}function CB(e){return this.selectAll(e==null?SB:EB(typeof e=="function"?e:gO(e)))}function PB(e){typeof e!="function"&&(e=pO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Rr(n,this._parents)}function yO(e){return new Array(e.length)}function OB(){return new Rr(this._enter||this._groups.map(yO),this._parents)}function mh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}mh.prototype={constructor:mh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function AB(e){return function(){return e}}function TB(e,t,r,n,a,s){for(var i=0,l,c=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],n[i]=l):r[i]=new mh(e,s[i]);for(;i<c;++i)(l=t[i])&&(a[i]=l)}function MB(e,t,r,n,a,s,i){var l,c,u=new Map,d=t.length,f=s.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=i.call(c,c.__data__,l,t)+"",u.has(m)?a[l]=c:u.set(m,c));for(l=0;l<f;++l)m=i.call(e,s[l],l,s)+"",(c=u.get(m))?(n[l]=c,c.__data__=s[l],u.delete(m)):r[l]=new mh(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(a[l]=c)}function IB(e){return e.__data__}function DB(e,t){if(!arguments.length)return Array.from(this,IB);var r=t?MB:TB,n=this._parents,a=this._groups;typeof e!="function"&&(e=AB(e));for(var s=a.length,i=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],h=f.length,m=RB(e.call(d,d&&d.__data__,u,n)),p=m.length,x=l[u]=new Array(p),v=i[u]=new Array(p),g=c[u]=new Array(h);r(d,f,x,v,g,m,t);for(var w=0,b=0,j,k;w<p;++w)if(j=x[w]){for(w>=b&&(b=w+1);!(k=v[b])&&++b<p;);j._next=k||null}}return i=new Rr(i,n),i._enter=l,i._exit=c,i}function RB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LB(){return new Rr(this._exit||this._groups.map(yO),this._parents)}function $B(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function zB(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),l=new Array(a),c=0;c<i;++c)for(var u=r[c],d=n[c],f=u.length,h=l[c]=new Array(f),m,p=0;p<f;++p)(m=u[p]||d[p])&&(h[p]=m);for(;c<a;++c)l[c]=r[c];return new Rr(l,this._parents)}function FB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function BB(e){e||(e=UB);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],l=i.length,c=a[s]=new Array(l),u,d=0;d<l;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new Rr(a,this._parents).order()}function UB(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function HB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function VB(){return Array.from(this)}function WB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function KB(){let e=0;for(const t of this)++e;return e}function qB(){return!this.node()}function YB(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,l;s<i;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function GB(e){return function(){this.removeAttribute(e)}}function XB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QB(e,t){return function(){this.setAttribute(e,t)}}function ZB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function JB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function e7(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function t7(e,t){var r=Wm(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?XB:GB:typeof t=="function"?r.local?e7:JB:r.local?ZB:QB)(r,t))}function xO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function r7(e){return function(){this.style.removeProperty(e)}}function n7(e,t,r){return function(){this.style.setProperty(e,t,r)}}function a7(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function s7(e,t,r){return arguments.length>1?this.each((t==null?r7:typeof t=="function"?a7:n7)(e,t,r??"")):Wo(this.node(),e)}function Wo(e,t){return e.style.getPropertyValue(t)||xO(e).getComputedStyle(e,null).getPropertyValue(t)}function i7(e){return function(){delete this[e]}}function o7(e,t){return function(){this[e]=t}}function l7(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function c7(e,t){return arguments.length>1?this.each((t==null?i7:typeof t=="function"?l7:o7)(e,t)):this.node()[e]}function vO(e){return e.trim().split(/^|\s+/)}function ub(e){return e.classList||new bO(e)}function bO(e){this._node=e,this._names=vO(e.getAttribute("class")||"")}bO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wO(e,t){for(var r=ub(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function jO(e,t){for(var r=ub(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function u7(e){return function(){wO(this,e)}}function d7(e){return function(){jO(this,e)}}function f7(e,t){return function(){(t.apply(this,arguments)?wO:jO)(this,e)}}function h7(e,t){var r=vO(e+"");if(arguments.length<2){for(var n=ub(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?f7:t?u7:d7)(r,t))}function m7(){this.textContent=""}function p7(e){return function(){this.textContent=e}}function g7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function y7(e){return arguments.length?this.each(e==null?m7:(typeof e=="function"?g7:p7)(e)):this.node().textContent}function x7(){this.innerHTML=""}function v7(e){return function(){this.innerHTML=e}}function b7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function w7(e){return arguments.length?this.each(e==null?x7:(typeof e=="function"?b7:v7)(e)):this.node().innerHTML}function j7(){this.nextSibling&&this.parentNode.appendChild(this)}function k7(){return this.each(j7)}function N7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _7(){return this.each(N7)}function S7(e){var t=typeof e=="function"?e:hO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function E7(){return null}function C7(e,t){var r=typeof e=="function"?e:hO(e),n=t==null?E7:typeof t=="function"?t:cb(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function P7(){var e=this.parentNode;e&&e.removeChild(this)}function O7(){return this.each(P7)}function A7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function T7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function M7(e){return this.select(e?T7:A7)}function I7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function D7(e){return function(t){e.call(this,t,this.__data__)}}function R7(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function L7(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function $7(e,t,r){return function(){var n=this.__on,a,s=D7(t);if(n){for(var i=0,l=n.length;i<l;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function z7(e,t,r){var n=R7(e+""),a,s=n.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<s;++a)if((i=n[a]).type===d.type&&i.name===d.name)return d.value}return}for(l=t?$7:L7,a=0;a<s;++a)this.each(l(n[a],t,r));return this}function kO(e,t,r){var n=xO(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function F7(e,t){return function(){return kO(this,e,t)}}function B7(e,t){return function(){return kO(this,e,t.apply(this,arguments))}}function U7(e,t){return this.each((typeof t=="function"?B7:F7)(e,t))}function*H7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var NO=[null];function Rr(e,t){this._groups=e,this._parents=t}function Mu(){return new Rr([[document.documentElement]],NO)}function V7(){return this}Rr.prototype=Mu.prototype={constructor:Rr,select:gB,selectAll:bB,selectChild:NB,selectChildren:CB,filter:PB,data:DB,enter:OB,exit:LB,join:$B,merge:zB,selection:V7,order:FB,sort:BB,call:HB,nodes:VB,node:WB,size:KB,empty:qB,each:YB,attr:t7,style:s7,property:c7,classed:h7,text:y7,html:w7,raise:k7,lower:_7,append:S7,insert:C7,remove:O7,clone:M7,datum:I7,on:z7,dispatch:U7,[Symbol.iterator]:H7};function Cr(e){return typeof e=="string"?new Rr([[document.querySelector(e)]],[document.documentElement]):new Rr([[e]],NO)}function W7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function hn(e,t){if(e=W7(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const K7={passive:!1},Kc={capture:!0,passive:!1};function Rg(e){e.stopImmediatePropagation()}function wo(e){e.preventDefault(),e.stopImmediatePropagation()}function _O(e){var t=e.document.documentElement,r=Cr(e).on("dragstart.drag",wo,Kc);"onselectstart"in t?r.on("selectstart.drag",wo,Kc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function SO(e,t){var r=e.document.documentElement,n=Cr(e).on("dragstart.drag",null);t&&(n.on("click.drag",wo,Kc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const $d=e=>()=>e;function Iy(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Iy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function q7(e){return!e.ctrlKey&&!e.button}function Y7(){return this.parentNode}function G7(e,t){return t??{x:e.x,y:e.y}}function X7(){return navigator.maxTouchPoints||"ontouchstart"in this}function EO(){var e=q7,t=Y7,r=G7,n=X7,a={},s=Vm("start","drag","end"),i=0,l,c,u,d,f=0;function h(j){j.on("mousedown.drag",m).filter(n).on("touchstart.drag",v).on("touchmove.drag",g,K7).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(j,k){if(!(d||!e.call(this,j,k))){var _=b(this,t.call(this,j,k),j,k,"mouse");_&&(Cr(j.view).on("mousemove.drag",p,Kc).on("mouseup.drag",x,Kc),_O(j.view),Rg(j),u=!1,l=j.clientX,c=j.clientY,_("start",j))}}function p(j){if(wo(j),!u){var k=j.clientX-l,_=j.clientY-c;u=k*k+_*_>f}a.mouse("drag",j)}function x(j){Cr(j.view).on("mousemove.drag mouseup.drag",null),SO(j.view,u),wo(j),a.mouse("end",j)}function v(j,k){if(e.call(this,j,k)){var _=j.changedTouches,N=t.call(this,j,k),S=_.length,O,I;for(O=0;O<S;++O)(I=b(this,N,j,k,_[O].identifier,_[O]))&&(Rg(j),I("start",j,_[O]))}}function g(j){var k=j.changedTouches,_=k.length,N,S;for(N=0;N<_;++N)(S=a[k[N].identifier])&&(wo(j),S("drag",j,k[N]))}function w(j){var k=j.changedTouches,_=k.length,N,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<_;++N)(S=a[k[N].identifier])&&(Rg(j),S("end",j,k[N]))}function b(j,k,_,N,S,O){var I=s.copy(),E=hn(O||_,k),C,L,P;if((P=r.call(j,new Iy("beforestart",{sourceEvent:_,target:h,identifier:S,active:i,x:E[0],y:E[1],dx:0,dy:0,dispatch:I}),N))!=null)return C=P.x-E[0]||0,L=P.y-E[1]||0,function D(A,R,T){var M=E,z;switch(A){case"start":a[S]=D,z=i++;break;case"end":delete a[S],--i;case"drag":E=hn(T||R,k),z=i;break}I.call(A,j,new Iy(A,{sourceEvent:R,subject:P,target:h,identifier:S,active:z,x:E[0]+C,y:E[1]+L,dx:E[0]-M[0],dy:E[1]-M[1],dispatch:I}),N)}}return h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:$d(!!j),h):e},h.container=function(j){return arguments.length?(t=typeof j=="function"?j:$d(j),h):t},h.subject=function(j){return arguments.length?(r=typeof j=="function"?j:$d(j),h):r},h.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:$d(!!j),h):n},h.on=function(){var j=s.on.apply(s,arguments);return j===s?h:j},h.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,h):Math.sqrt(f)},h}function db(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Iu(){}var qc=.7,ph=1/qc,jo="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Q7=/^#([0-9a-f]{3,8})$/,Z7=new RegExp(`^rgb\\(${jo},${jo},${jo}\\)$`),J7=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),e9=new RegExp(`^rgba\\(${jo},${jo},${jo},${Yc}\\)$`),t9=new RegExp(`^rgba\\(${qn},${qn},${qn},${Yc}\\)$`),r9=new RegExp(`^hsl\\(${Yc},${qn},${qn}\\)$`),n9=new RegExp(`^hsla\\(${Yc},${qn},${qn},${Yc}\\)$`),Pk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};db(Iu,Ci,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ok,formatHex:Ok,formatHex8:a9,formatHsl:s9,formatRgb:Ak,toString:Ak});function Ok(){return this.rgb().formatHex()}function a9(){return this.rgb().formatHex8()}function s9(){return PO(this).formatHsl()}function Ak(){return this.rgb().formatRgb()}function Ci(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Q7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Tk(t):r===3?new pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z7.exec(e))?new pr(t[1],t[2],t[3],1):(t=J7.exec(e))?new pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e9.exec(e))?zd(t[1],t[2],t[3],t[4]):(t=t9.exec(e))?zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=r9.exec(e))?Dk(t[1],t[2]/100,t[3]/100,1):(t=n9.exec(e))?Dk(t[1],t[2]/100,t[3]/100,t[4]):Pk.hasOwnProperty(e)?Tk(Pk[e]):e==="transparent"?new pr(NaN,NaN,NaN,0):null}function Tk(e){return new pr(e>>16&255,e>>8&255,e&255,1)}function zd(e,t,r,n){return n<=0&&(e=t=r=NaN),new pr(e,t,r,n)}function i9(e){return e instanceof Iu||(e=Ci(e)),e?(e=e.rgb(),new pr(e.r,e.g,e.b,e.opacity)):new pr}function Dy(e,t,r,n){return arguments.length===1?i9(e):new pr(e,t,r,n??1)}function pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}db(pr,Dy,CO(Iu,{brighter(e){return e=e==null?ph:Math.pow(ph,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pr(gi(this.r),gi(this.g),gi(this.b),gh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mk,formatHex:Mk,formatHex8:o9,formatRgb:Ik,toString:Ik}));function Mk(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}`}function o9(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}${ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ik(){const e=gh(this.opacity);return`${e===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${e===1?")":`, ${e})`}`}function gh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return e=gi(e),(e<16?"0":"")+e.toString(16)}function Dk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gn(e,t,r,n)}function PO(e){if(e instanceof gn)return new gn(e.h,e.s,e.l,e.opacity);if(e instanceof Iu||(e=Ci(e)),!e)return new gn;if(e instanceof gn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new gn(i,l,c,e.opacity)}function l9(e,t,r,n){return arguments.length===1?PO(e):new gn(e,t,r,n??1)}function gn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}db(gn,l9,CO(Iu,{brighter(e){return e=e==null?ph:Math.pow(ph,e),new gn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qc:Math.pow(qc,e),new gn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new pr(Lg(e>=240?e-240:e+120,a,n),Lg(e,a,n),Lg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new gn(Rk(this.h),Fd(this.s),Fd(this.l),gh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gh(this.opacity);return`${e===1?"hsl(":"hsla("}${Rk(this.h)}, ${Fd(this.s)*100}%, ${Fd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Rk(e){return e=(e||0)%360,e<0?e+360:e}function Fd(e){return Math.max(0,Math.min(1,e||0))}function Lg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const fb=e=>()=>e;function c9(e,t){return function(r){return e+r*t}}function u9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function d9(e){return(e=+e)==1?OO:function(t,r){return r-t?u9(t,r,e):fb(isNaN(t)?r:t)}}function OO(e,t){var r=t-e;return r?c9(e,r):fb(isNaN(e)?t:e)}const yh=function e(t){var r=d9(t);function n(a,s){var i=r((a=Dy(a)).r,(s=Dy(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=OO(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function f9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function h9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function m9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=ja(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function p9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function g9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ja(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Ry=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$g=new RegExp(Ry.source,"g");function y9(e){return function(){return e}}function x9(e){return function(t){return e(t)+""}}function AO(e,t){var r=Ry.lastIndex=$g.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ry.exec(e))&&(a=$g.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:pn(n,a)})),r=$g.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?x9(c[0].x):y9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ja(e,t){var r=typeof t,n;return t==null||r==="boolean"?fb(t):(r==="number"?pn:r==="string"?(n=Ci(t))?(t=n,yh):AO:t instanceof Ci?yh:t instanceof Date?p9:h9(t)?f9:Array.isArray(t)?m9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?g9:pn)(e,t)}function hb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Lk=180/Math.PI,Ly={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TO(e,t,r,n,a,s){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Lk,skewX:Math.atan(c)*Lk,scaleX:i,scaleY:l}}var Bd;function v9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ly:TO(t.a,t.b,t.c,t.d,t.e,t.f)}function b9(e){return e==null||(Bd||(Bd=document.createElementNS("http://www.w3.org/2000/svg","g")),Bd.setAttribute("transform",e),!(e=Bd.transform.baseVal.consolidate()))?Ly:(e=e.matrix,TO(e.a,e.b,e.c,e.d,e.e,e.f))}function MO(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,m,p){if(u!==f||d!==h){var x=m.push("translate(",null,t,null,r);p.push({i:x-4,x:pn(u,f)},{i:x-2,x:pn(d,h)})}else(f||h)&&m.push("translate("+f+t+h+r)}function i(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:pn(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function l(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:pn(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,h,m,p){if(u!==f||d!==h){var x=m.push(a(m)+"scale(",null,",",null,")");p.push({i:x-4,x:pn(u,f)},{i:x-2,x:pn(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),i(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var p=-1,x=h.length,v;++p<x;)f[(v=h[p]).i]=v.x(m);return f.join("")}}}var w9=MO(v9,"px, ","px)","deg)"),j9=MO(b9,", ",")",")"),k9=1e-12;function $k(e){return((e=Math.exp(e))+1/e)/2}function N9(e){return((e=Math.exp(e))-1/e)/2}function _9(e){return((e=Math.exp(2*e))-1)/(e+1)}const Of=function e(t,r,n){function a(s,i){var l=s[0],c=s[1],u=s[2],d=i[0],f=i[1],h=i[2],m=d-l,p=f-c,x=m*m+p*p,v,g;if(x<k9)g=Math.log(h/u)/t,v=function(N){return[l+N*m,c+N*p,u*Math.exp(t*N*g)]};else{var w=Math.sqrt(x),b=(h*h-u*u+n*x)/(2*u*r*w),j=(h*h-u*u-n*x)/(2*h*r*w),k=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(j*j+1)-j);g=(_-k)/t,v=function(N){var S=N*g,O=$k(k),I=u/(r*w)*(O*_9(t*S+k)-N9(k));return[l+I*m,c+I*p,u*O/$k(t*S+k)]}}return v.duration=g*1e3*t/Math.SQRT2,v}return a.rho=function(s){var i=Math.max(.001,+s),l=i*i,c=l*l;return e(i,l,c)},a}(Math.SQRT2,2,4);function S9(e,t){t===void 0&&(t=e,e=ja);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}var Ko=0,ic=0,Wl=0,IO=1e3,xh,oc,vh=0,Pi=0,Km=0,Gc=typeof performance=="object"&&performance.now?performance:Date,DO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function mb(){return Pi||(DO(E9),Pi=Gc.now()+Km)}function E9(){Pi=0}function bh(){this._call=this._time=this._next=null}bh.prototype=RO.prototype={constructor:bh,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?mb():+r)+(t==null?0:+t),!this._next&&oc!==this&&(oc?oc._next=this:xh=this,oc=this),this._call=e,this._time=r,$y()},stop:function(){this._call&&(this._call=null,this._time=1/0,$y())}};function RO(e,t,r){var n=new bh;return n.restart(e,t,r),n}function C9(){mb(),++Ko;for(var e=xh,t;e;)(t=Pi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ko}function zk(){Pi=(vh=Gc.now())+Km,Ko=ic=0;try{C9()}finally{Ko=0,O9(),Pi=0}}function P9(){var e=Gc.now(),t=e-vh;t>IO&&(Km-=t,vh=e)}function O9(){for(var e,t=xh,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:xh=r);oc=e,$y(n)}function $y(e){if(!Ko){ic&&(ic=clearTimeout(ic));var t=e-Pi;t>24?(e<1/0&&(ic=setTimeout(zk,e-Gc.now()-Km)),Wl&&(Wl=clearInterval(Wl))):(Wl||(vh=Gc.now(),Wl=setInterval(P9,IO)),Ko=1,DO(zk))}}function Fk(e,t,r){var n=new bh;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var A9=Vm("start","end","cancel","interrupt"),T9=[],LO=0,Bk=1,zy=2,Af=3,Uk=4,Fy=5,Tf=6;function qm(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;M9(e,r,{name:t,index:n,group:a,on:A9,tween:T9,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:LO})}function pb(e,t){var r=Tn(e,t);if(r.state>LO)throw new Error("too late; already scheduled");return r}function na(e,t){var r=Tn(e,t);if(r.state>Af)throw new Error("too late; already running");return r}function Tn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function M9(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=RO(s,0,r.time);function s(u){r.state=Bk,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,h,m;if(r.state!==Bk)return c();for(d in n)if(m=n[d],m.name===r.name){if(m.state===Af)return Fk(i);m.state===Uk?(m.state=Tf,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=Tf,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(Fk(function(){r.state===Af&&(r.state=Uk,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=zy,r.on.call("start",e,e.__data__,r.index,r.group),r.state===zy){for(r.state=Af,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(m=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=m);a.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=Fy,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===Fy&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Tf,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Mf(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>zy&&n.state<Fy,n.state=Tf,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function I9(e){return this.each(function(){Mf(this,e)})}function D9(e,t){var r,n;return function(){var a=na(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,l=n.length;i<l;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function R9(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=na(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var l={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function L9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Tn(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?D9:R9)(r,e,t))}function gb(e,t,r){var n=e._id;return e.each(function(){var a=na(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Tn(a,n).value[t]}}function $O(e,t){var r;return(typeof t=="number"?pn:t instanceof Ci?yh:(r=Ci(t))?(t=r,yh):AO)(e,t)}function $9(e){return function(){this.removeAttribute(e)}}function z9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function F9(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function B9(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function U9(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function H9(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function V9(e,t){var r=Wm(e),n=r==="transform"?j9:$O;return this.attrTween(e,typeof t=="function"?(r.local?H9:U9)(r,n,gb(this,"attr."+e,t)):t==null?(r.local?z9:$9)(r):(r.local?B9:F9)(r,n,t))}function W9(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function K9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function q9(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&K9(e,s)),r}return a._value=t,a}function Y9(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&W9(e,s)),r}return a._value=t,a}function G9(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Wm(e);return this.tween(r,(n.local?q9:Y9)(n,t))}function X9(e,t){return function(){pb(this,e).delay=+t.apply(this,arguments)}}function Q9(e,t){return t=+t,function(){pb(this,e).delay=t}}function Z9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?X9:Q9)(t,e)):Tn(this.node(),t).delay}function J9(e,t){return function(){na(this,e).duration=+t.apply(this,arguments)}}function eU(e,t){return t=+t,function(){na(this,e).duration=t}}function tU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J9:eU)(t,e)):Tn(this.node(),t).duration}function rU(e,t){if(typeof t!="function")throw new Error;return function(){na(this,e).ease=t}}function nU(e){var t=this._id;return arguments.length?this.each(rU(t,e)):Tn(this.node(),t).ease}function aU(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;na(this,e).ease=r}}function sU(e){if(typeof e!="function")throw new Error;return this.each(aU(this._id,e))}function iU(e){typeof e!="function"&&(e=pO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Oa(n,this._parents,this._name,this._id)}function oU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),l=0;l<s;++l)for(var c=t[l],u=r[l],d=c.length,f=i[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<n;++l)i[l]=t[l];return new Oa(i,this._parents,this._name,this._id)}function lU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function cU(e,t,r){var n,a,s=lU(t)?pb:na;return function(){var i=s(this,e),l=i.on;l!==n&&(a=(n=l).copy()).on(t,r),i.on=a}}function uU(e,t){var r=this._id;return arguments.length<2?Tn(this.node(),r).on.on(e):this.each(cU(r,e,t))}function dU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function fU(){return this.on("end.remove",dU(this._id))}function hU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=cb(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var l=n[i],c=l.length,u=s[i]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,qm(u[h],t,r,h,u,Tn(d,r)));return new Oa(s,this._parents,t,r)}function mU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=mO(e));for(var n=this._groups,a=n.length,s=[],i=[],l=0;l<a;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,p=Tn(d,r),x=0,v=h.length;x<v;++x)(m=h[x])&&qm(m,t,r,x,h,p);s.push(h),i.push(d)}return new Oa(s,i,t,r)}var pU=Mu.prototype.constructor;function gU(){return new pU(this._groups,this._parents)}function yU(e,t){var r,n,a;return function(){var s=Wo(this,e),i=(this.style.removeProperty(e),Wo(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function zO(e){return function(){this.style.removeProperty(e)}}function xU(e,t,r){var n,a=r+"",s;return function(){var i=Wo(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function vU(e,t,r){var n,a,s;return function(){var i=Wo(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Wo(this,e))),i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l))}}function bU(e,t){var r,n,a,s="style."+t,i="end."+s,l;return function(){var c=na(this,e),u=c.on,d=c.value[s]==null?l||(l=zO(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(i,a=d),c.on=n}}function wU(e,t,r){var n=(e+="")=="transform"?w9:$O;return t==null?this.styleTween(e,yU(e,n)).on("end.style."+e,zO(e)):typeof t=="function"?this.styleTween(e,vU(e,n,gb(this,"style."+e,t))).each(bU(this._id,e)):this.styleTween(e,xU(e,n,t),r).on("end.style."+e,null)}function jU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function kU(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&jU(e,i,r)),n}return s._value=t,s}function NU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,kU(e,t,r??""))}function _U(e){return function(){this.textContent=e}}function SU(e){return function(){var t=e(this);this.textContent=t??""}}function EU(e){return this.tween("text",typeof e=="function"?SU(gb(this,"text",e)):_U(e==null?"":e+""))}function CU(e){return function(t){this.textContent=e.call(this,t)}}function PU(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&CU(a)),t}return n._value=e,n}function OU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,PU(e))}function AU(){for(var e=this._name,t=this._id,r=FO(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)if(c=i[u]){var d=Tn(c,t);qm(c,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Oa(n,this._parents,e,r)}function TU(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var l={value:i},c={value:function(){--a===0&&s()}};r.each(function(){var u=na(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var MU=0;function Oa(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function FO(){return++MU}var ia=Mu.prototype;Oa.prototype={constructor:Oa,select:hU,selectAll:mU,selectChild:ia.selectChild,selectChildren:ia.selectChildren,filter:iU,merge:oU,selection:gU,transition:AU,call:ia.call,nodes:ia.nodes,node:ia.node,size:ia.size,empty:ia.empty,each:ia.each,on:uU,attr:V9,attrTween:G9,style:wU,styleTween:NU,text:EU,textTween:OU,remove:fU,tween:L9,delay:Z9,duration:tU,ease:nU,easeVarying:sU,end:TU,[Symbol.iterator]:ia[Symbol.iterator]};function IU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var DU={time:null,delay:0,duration:250,ease:IU};function RU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function LU(e){var t,r;e instanceof Oa?(t=e._id,e=e._name):(t=FO(),(r=DU).time=mb(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&qm(c,e,t,u,i,r||RU(c,t));return new Oa(n,this._parents,e,t)}Mu.prototype.interrupt=I9;Mu.prototype.transition=LU;const Ud=e=>()=>e;function $U(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function ya(e,t,r){this.k=e,this.x=t,this.y=r}ya.prototype={constructor:ya,scale:function(e){return e===1?this:new ya(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ya(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ym=new ya(1,0,0);BO.prototype=ya.prototype;function BO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ym;return e.__zoom}function zg(e){e.stopImmediatePropagation()}function Kl(e){e.preventDefault(),e.stopImmediatePropagation()}function zU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function FU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hk(){return this.__zoom||Ym}function BU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function UU(){return navigator.maxTouchPoints||"ontouchstart"in this}function HU(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function UO(){var e=zU,t=FU,r=HU,n=BU,a=UU,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Of,u=Vm("start","zoom","end"),d,f,h,m=500,p=150,x=0,v=10;function g(P){P.property("__zoom",Hk).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",I).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(P,D,A,R){var T=P.selection?P.selection():P;T.property("__zoom",Hk),P!==T?k(P,D,A,R):T.interrupt().each(function(){_(this,arguments).event(R).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},g.scaleBy=function(P,D,A,R){g.scaleTo(P,function(){var T=this.__zoom.k,M=typeof D=="function"?D.apply(this,arguments):D;return T*M},A,R)},g.scaleTo=function(P,D,A,R){g.transform(P,function(){var T=t.apply(this,arguments),M=this.__zoom,z=A==null?j(T):typeof A=="function"?A.apply(this,arguments):A,B=M.invert(z),F=typeof D=="function"?D.apply(this,arguments):D;return r(b(w(M,F),z,B),T,i)},A,R)},g.translateBy=function(P,D,A,R){g.transform(P,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),i)},null,R)},g.translateTo=function(P,D,A,R,T){g.transform(P,function(){var M=t.apply(this,arguments),z=this.__zoom,B=R==null?j(M):typeof R=="function"?R.apply(this,arguments):R;return r(Ym.translate(B[0],B[1]).scale(z.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof A=="function"?-A.apply(this,arguments):-A),M,i)},R,T)};function w(P,D){return D=Math.max(s[0],Math.min(s[1],D)),D===P.k?P:new ya(D,P.x,P.y)}function b(P,D,A){var R=D[0]-A[0]*P.k,T=D[1]-A[1]*P.k;return R===P.x&&T===P.y?P:new ya(P.k,R,T)}function j(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function k(P,D,A,R){P.on("start.zoom",function(){_(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(R).end()}).tween("zoom",function(){var T=this,M=arguments,z=_(T,M).event(R),B=t.apply(T,M),F=A==null?j(B):typeof A=="function"?A.apply(T,M):A,Y=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),q=T.__zoom,Q=typeof D=="function"?D.apply(T,M):D,le=c(q.invert(F).concat(Y/q.k),Q.invert(F).concat(Y/Q.k));return function(Z){if(Z===1)Z=Q;else{var X=le(Z),U=Y/X[2];Z=new ya(U,F[0]-X[0]*U,F[1]-X[1]*U)}z.zoom(null,Z)}})}function _(P,D,A){return!A&&P.__zooming||new N(P,D)}function N(P,D){this.that=P,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(P,D),this.taps=0}N.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,D){return this.mouse&&P!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var D=Cr(this.that).datum();u.call(P,this.that,new $U(P,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),D)}};function S(P,...D){if(!e.apply(this,arguments))return;var A=_(this,D).event(P),R=this.__zoom,T=Math.max(s[0],Math.min(s[1],R.k*Math.pow(2,n.apply(this,arguments)))),M=hn(P);if(A.wheel)(A.mouse[0][0]!==M[0]||A.mouse[0][1]!==M[1])&&(A.mouse[1]=R.invert(A.mouse[0]=M)),clearTimeout(A.wheel);else{if(R.k===T)return;A.mouse=[M,R.invert(M)],Mf(this),A.start()}Kl(P),A.wheel=setTimeout(z,p),A.zoom("mouse",r(b(w(R,T),A.mouse[0],A.mouse[1]),A.extent,i));function z(){A.wheel=null,A.end()}}function O(P,...D){if(h||!e.apply(this,arguments))return;var A=P.currentTarget,R=_(this,D,!0).event(P),T=Cr(P.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",Y,!0),M=hn(P,A),z=P.clientX,B=P.clientY;_O(P.view),zg(P),R.mouse=[M,this.__zoom.invert(M)],Mf(this),R.start();function F(q){if(Kl(q),!R.moved){var Q=q.clientX-z,le=q.clientY-B;R.moved=Q*Q+le*le>x}R.event(q).zoom("mouse",r(b(R.that.__zoom,R.mouse[0]=hn(q,A),R.mouse[1]),R.extent,i))}function Y(q){T.on("mousemove.zoom mouseup.zoom",null),SO(q.view,R.moved),Kl(q),R.event(q).end()}}function I(P,...D){if(e.apply(this,arguments)){var A=this.__zoom,R=hn(P.changedTouches?P.changedTouches[0]:P,this),T=A.invert(R),M=A.k*(P.shiftKey?.5:2),z=r(b(w(A,M),R,T),t.apply(this,D),i);Kl(P),l>0?Cr(this).transition().duration(l).call(k,z,R,P):Cr(this).call(g.transform,z,R,P)}}function E(P,...D){if(e.apply(this,arguments)){var A=P.touches,R=A.length,T=_(this,D,P.changedTouches.length===R).event(P),M,z,B,F;for(zg(P),z=0;z<R;++z)B=A[z],F=hn(B,this),F=[F,this.__zoom.invert(F),B.identifier],T.touch0?!T.touch1&&T.touch0[2]!==F[2]&&(T.touch1=F,T.taps=0):(T.touch0=F,M=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(T.taps<2&&(f=F[0],d=setTimeout(function(){d=null},m)),Mf(this),T.start())}}function C(P,...D){if(this.__zooming){var A=_(this,D).event(P),R=P.changedTouches,T=R.length,M,z,B,F;for(Kl(P),M=0;M<T;++M)z=R[M],B=hn(z,this),A.touch0&&A.touch0[2]===z.identifier?A.touch0[0]=B:A.touch1&&A.touch1[2]===z.identifier&&(A.touch1[0]=B);if(z=A.that.__zoom,A.touch1){var Y=A.touch0[0],q=A.touch0[1],Q=A.touch1[0],le=A.touch1[1],Z=(Z=Q[0]-Y[0])*Z+(Z=Q[1]-Y[1])*Z,X=(X=le[0]-q[0])*X+(X=le[1]-q[1])*X;z=w(z,Math.sqrt(Z/X)),B=[(Y[0]+Q[0])/2,(Y[1]+Q[1])/2],F=[(q[0]+le[0])/2,(q[1]+le[1])/2]}else if(A.touch0)B=A.touch0[0],F=A.touch0[1];else return;A.zoom("touch",r(b(z,B,F),A.extent,i))}}function L(P,...D){if(this.__zooming){var A=_(this,D).event(P),R=P.changedTouches,T=R.length,M,z;for(zg(P),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<T;++M)z=R[M],A.touch0&&A.touch0[2]===z.identifier?delete A.touch0:A.touch1&&A.touch1[2]===z.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(z=hn(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<v)){var B=Cr(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return g.wheelDelta=function(P){return arguments.length?(n=typeof P=="function"?P:Ud(+P),g):n},g.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Ud(!!P),g):e},g.touchable=function(P){return arguments.length?(a=typeof P=="function"?P:Ud(!!P),g):a},g.extent=function(P){return arguments.length?(t=typeof P=="function"?P:Ud([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),g):t},g.scaleExtent=function(P){return arguments.length?(s[0]=+P[0],s[1]=+P[1],g):[s[0],s[1]]},g.translateExtent=function(P){return arguments.length?(i[0][0]=+P[0][0],i[1][0]=+P[1][0],i[0][1]=+P[0][1],i[1][1]=+P[1][1],g):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},g.constrain=function(P){return arguments.length?(r=P,g):r},g.duration=function(P){return arguments.length?(l=+P,g):l},g.interpolate=function(P){return arguments.length?(c=P,g):c},g.on=function(){var P=u.on.apply(u,arguments);return P===u?g:P},g.clickDistance=function(P){return arguments.length?(x=(P=+P)*P,g):Math.sqrt(x)},g.tapDistance=function(P){return arguments.length?(v=+P,g):v},g}const Xn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Xc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],HO=["Enter"," ","Escape"],VO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var qo;(function(e){e.Strict="strict",e.Loose="loose"})(qo||(qo={}));var yi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yi||(yi={}));var Qc;(function(e){e.Partial="partial",e.Full="full"})(Qc||(Qc={}));const WO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ts;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ts||(ts={}));var wh;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(wh||(wh={}));var de;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(de||(de={}));const Vk={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top};function KO(e){return e===null?null:e?"valid":"invalid"}const qO=e=>"id"in e&&"source"in e&&"target"in e,VU=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),yb=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Rs=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Du=(e,t=[0,0])=>{const{width:r,height:n}=za(e),a=e.origin??t,s=r*a[0],i=n*a[1];return{x:e.position.x-s,y:e.position.y-i}},WU=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const s=typeof a=="string";let i=!t.nodeLookup&&!s?a:void 0;t.nodeLookup&&(i=s?t.nodeLookup.get(a):yb(a)?a:t.nodeLookup.get(a.id));const l=i?jh(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Gm(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Xm(r)},Ru=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=Gm(r,jh(a)),n=!0)}),n?Xm(r):{x:0,y:0,width:0,height:0}},xb=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1)=>{const l={...$u(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=u;if(i&&!f||h)continue;const m=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,x=Zc(l,Go(u)),v=(m??0)*(p??0),g=s&&x>0;(!u.internals.handleBounds||g||x>=v||u.dragging)&&c.push(u)}return c},KU=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function qU(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function YU({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:s},i){if(e.size===0)return Promise.resolve(!0);const l=qU(e,i),c=Ru(l),u=vb(c,t,r,(i==null?void 0:i.minZoom)??a,(i==null?void 0:i.maxZoom)??s,(i==null?void 0:i.padding)??.1);return await n.setViewport(u,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function YO({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:s}){const i=r.get(e),l=i.parentId?r.get(i.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=i.origin??n;let f=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)s==null||s("005",Xn.error005());else{const m=l.measured.width,p=l.measured.height;m&&p&&(f=[[c,u],[c+m,u+p]])}else l&&Xo(i.extent)&&(f=[[i.extent[0][0]+c,i.extent[0][1]+u],[i.extent[1][0]+c,i.extent[1][1]+u]]);const h=Xo(f)?Oi(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(s==null||s("015",Xn.error015())),{position:{x:h.x-c+(i.measured.width??0)*d[0],y:h.y-u+(i.measured.height??0)*d[1]},positionAbsolute:h}}async function GU({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const s=new Set(e.map(h=>h.id)),i=[];for(const h of r){if(h.deletable===!1)continue;const m=s.has(h.id),p=!m&&h.parentId&&i.find(x=>x.id===h.parentId);(m||p)&&i.push(h)}const l=new Set(t.map(h=>h.id)),c=n.filter(h=>h.deletable!==!1),d=KU(i,c);for(const h of c)l.has(h.id)&&!d.find(p=>p.id===h.id)&&d.push(h);if(!a)return{edges:d,nodes:i};const f=await a({nodes:i,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:i}:{edges:[],nodes:[]}:f}const Yo=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Oi=(e={x:0,y:0},t,r)=>({x:Yo(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Yo(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function GO(e,t,r){const{width:n,height:a}=za(r),{x:s,y:i}=r.internals.positionAbsolute;return Oi(e,[[s,i],[s+n,i+a]],t)}const Wk=(e,t,r)=>e<t?Yo(Math.abs(e-t),1,t)/t:e>r?-Yo(Math.abs(e-r),1,t)/t:0,XO=(e,t,r=15,n=40)=>{const a=Wk(e.x,n,t.width-n)*r,s=Wk(e.y,n,t.height-n)*r;return[a,s]},Gm=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),By=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Xm=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Go=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=yb(e)?e.internals.positionAbsolute:Du(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},jh=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=yb(e)?e.internals.positionAbsolute:Du(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},QO=(e,t)=>Xm(Gm(By(e),By(t))),Zc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Kk=e=>vn(e.width)&&vn(e.height)&&vn(e.x)&&vn(e.y),vn=e=>!isNaN(e)&&isFinite(e),XU=(e,t)=>{},Lu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),$u=({x:e,y:t},[r,n,a],s=!1,i=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return s?Lu(l,i):l},kh=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function qi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function QU(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=qi(e,r),a=qi(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=qi(e.top??e.y??0,r),a=qi(e.bottom??e.y??0,r),s=qi(e.left??e.x??0,t),i=qi(e.right??e.x??0,t);return{top:n,right:i,bottom:a,left:s,x:s+i,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function ZU(e,t,r,n,a,s){const{x:i,y:l}=kh(e,[t,r,n]),{x:c,y:u}=kh({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=s-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const vb=(e,t,r,n,a,s)=>{const i=QU(s,t,r),l=(t-i.x)/e.width,c=(r-i.y)/e.height,u=Math.min(l,c),d=Yo(u,n,a),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*d,p=r/2-h*d,x=ZU(e,m,p,d,t,r),v={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:m-v.left+v.right,y:p-v.top+v.bottom,zoom:d}},Jc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Xo(e){return e!=null&&e!=="parent"}function za(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function ZO(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function JO(e,t={width:0,height:0},r,n,a){const s={...e},i=n.get(r);if(i){const l=i.origin||a;s.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],s.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return s}function qk(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function JU(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function eH(e){return{...VO,...e||{}}}function jc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:s,y:i}=bn(e),l=$u({x:s-((a==null?void 0:a.left)??0),y:i-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?Lu(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const bb=e=>({width:e.offsetWidth,height:e.offsetHeight}),eA=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},tH=["INPUT","SELECT","TEXTAREA"];function tA(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:tH.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const rA=e=>"clientX"in e,bn=(e,t)=>{var s,i;const r=rA(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Yk=(e,t,r,n,a)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...bb(i)}})};function nA({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:l}){const c=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function Hd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Gk({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case de.Left:return[t-Hd(t-n,s),r];case de.Right:return[t+Hd(n-t,s),r];case de.Top:return[t,r-Hd(r-a,s)];case de.Bottom:return[t,r+Hd(a-r,s)]}}function aA({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:s=de.Top,curvature:i=.25}){const[l,c]=Gk({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,d]=Gk({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[f,h,m,p]=nA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${a}`,f,h,m,p]}function sA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,l=n<t?n+i:n-i;return[s,l,a,i]}function rH({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:s="basic"}){if(s==="manual")return n;const i=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return i+l}function nH({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const s=Gm(jh(e),jh(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return Zc(i,Xm(s))>0}const aH=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,sH=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),iA=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||aH;let a;return qO(e)?a={...e}:a={...e,id:n(e)},sH(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function oA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,l]=sA({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,l]}const Xk={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},iH=({source:e,sourcePosition:t=de.Bottom,target:r})=>t===de.Left||t===de.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Qk=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function oH({source:e,sourcePosition:t=de.Bottom,target:r,targetPosition:n=de.Top,center:a,offset:s,stepPosition:i}){const l=Xk[t],c=Xk[n],u={x:e.x+l.x*s,y:e.y+l.y*s},d={x:r.x+c.x*s,y:r.y+c.y*s},f=iH({source:u,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",m=f[h];let p=[],x,v;const g={x:0,y:0},w={x:0,y:0},[,,b,j]=sA({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[h]*c[h]===-1){h==="x"?(x=a.x??u.x+(d.x-u.x)*i,v=a.y??(u.y+d.y)/2):(x=a.x??(u.x+d.x)/2,v=a.y??u.y+(d.y-u.y)*i);const _=[{x,y:u.y},{x,y:d.y}],N=[{x:u.x,y:v},{x:d.x,y:v}];l[h]===m?p=h==="x"?_:N:p=h==="x"?N:_}else{const _=[{x:u.x,y:d.y}],N=[{x:d.x,y:u.y}];if(h==="x"?p=l.x===m?N:_:p=l.y===m?_:N,t===n){const C=Math.abs(e[h]-r[h]);if(C<=s){const L=Math.min(s-1,s-C);l[h]===m?g[h]=(u[h]>e[h]?-1:1)*L:w[h]=(d[h]>r[h]?-1:1)*L}}if(t!==n){const C=h==="x"?"y":"x",L=l[h]===c[C],P=u[C]>d[C],D=u[C]<d[C];(l[h]===1&&(!L&&P||L&&D)||l[h]!==1&&(!L&&D||L&&P))&&(p=h==="x"?_:N)}const S={x:u.x+g.x,y:u.y+g.y},O={x:d.x+w.x,y:d.y+w.y},I=Math.max(Math.abs(S.x-p[0].x),Math.abs(O.x-p[0].x)),E=Math.max(Math.abs(S.y-p[0].y),Math.abs(O.y-p[0].y));I>=E?(x=(S.x+O.x)/2,v=p[0].y):(x=p[0].x,v=(S.y+O.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:d.x+w.x,y:d.y+w.y},r],x,v,b,j]}function lH(e,t,r,n){const a=Math.min(Qk(e,t)/2,Qk(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${i+a*c}Q ${s},${i} ${s+a*l},${i}`}function Nh({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:s=de.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,h,m,p,x]=oH({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:l,y:c},offset:u,stepPosition:d});return[f.reduce((g,w,b)=>{let j="";return b>0&&b<f.length-1?j=lH(f[b-1],w,f[b+1],i):j=`${b===0?"M":"L"}${w.x} ${w.y}`,g+=j,g},""),h,m,p,x]}function Zk(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function cH(e){var f;const{sourceNode:t,targetNode:r}=e;if(!Zk(t)||!Zk(r))return null;const n=t.internals.handleBounds||Jk(t.handles),a=r.internals.handleBounds||Jk(r.handles),s=eN((n==null?void 0:n.source)??[],e.sourceHandle),i=eN(e.connectionMode===qo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!s||!i)return(f=e.onError)==null||f.call(e,"008",Xn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(s==null?void 0:s.position)||de.Bottom,c=(i==null?void 0:i.position)||de.Top,u=Ai(t,s,l),d=Ai(r,i,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function Jk(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Ai(e,t,r=de.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??za(e);if(n)return{x:a+i/2,y:s+l/2};switch((t==null?void 0:t.position)??r){case de.Top:return{x:a+i/2,y:s};case de.Right:return{x:a+i,y:s+l/2};case de.Bottom:return{x:a+i/2,y:s+l};case de.Left:return{x:a,y:s+l/2}}}function eN(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Uy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function uH(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const s=new Set;return e.reduce((i,l)=>([l.markerStart||n,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=Uy(c,t);s.has(u)||(i.push({id:u,color:c.color||r,...c}),s.add(u))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const lA=1e3,dH=10,wb={nodeOrigin:[0,0],nodeExtent:Xc,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},fH={...wb,checkEquality:!0};function jb(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function hH(e,t,r){const n=jb(wb,r);for(const a of e.values())if(a.parentId)Nb(a,e,t,n);else{const s=Du(a,n.nodeOrigin),i=Xo(a.extent)?a.extent:n.nodeExtent,l=Oi(s,i,za(a));a.internals.positionAbsolute=l}}function mH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const s={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(s):a.type==="target"&&n.push(s)}return{source:r,target:n}}function kb(e){return e==="manual"}function Hy(e,t,r,n={}){var u,d;const a=jb(fH,n),s={i:0},i=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!kb(a.zIndexMode)?lA:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let h=i.get(f.id);if(a.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const m=Du(f,a.nodeOrigin),p=Xo(f.extent)?f.extent:a.nodeExtent,x=Oi(m,p,za(f));h={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:x,handleBounds:mH(f,h),z:cA(f,l,a.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),f.parentId&&Nb(h,t,r,n,s)}return c}function pH(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Nb(e,t,r,n,a){const{elevateNodesOnSelect:s,nodeOrigin:i,nodeExtent:l,zIndexMode:c}=jb(wb,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}pH(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*dH),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=s&&!kb(c)?lA:0,{x:h,y:m,z:p}=gH(e,d,i,l,f,c),{positionAbsolute:x}=e.internals,v=h!==x.x||m!==x.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:h,y:m}:x,z:p}})}function cA(e,t,r){const n=vn(e.zIndex)?e.zIndex:0;return kb(r)?n:n+(e.selected?t:0)}function gH(e,t,r,n,a,s){const{x:i,y:l}=t.internals.positionAbsolute,c=za(e),u=Du(e,r),d=Xo(e.extent)?Oi(u,e.extent,c):u;let f=Oi({x:i+d.x,y:l+d.y},n,c);e.extent==="parent"&&(f=GO(f,c,t));const h=cA(e,a,s),m=t.internals.z??0;return{x:f.x,y:f.y,z:m>=h?m+1:h}}function _b(e,t,r,n=[0,0]){var i;const a=[],s=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((i=s.get(l.parentId))==null?void 0:i.expandedRect)??Go(c),d=QO(u,l.rect);s.set(l.parentId,{expandedRect:d,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},u)=>{var b;const d=c.internals.positionAbsolute,f=za(c),h=c.origin??n,m=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,x=Math.max(f.width,Math.round(l.width)),v=Math.max(f.height,Math.round(l.height)),g=(x-f.width)*h[0],w=(v-f.height)*h[1];(m>0||p>0||g||w)&&(a.push({id:u,type:"position",position:{x:c.position.x-m+g,y:c.position.y-p+w}}),(b=r.get(u))==null||b.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+m,y:j.position.y+p}})})),(f.width<l.width||f.height<l.height||m||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(m?h[0]*m-g:0),height:v+(p?h[1]*p-w:0)}})}),a}function yH(e,t,r,n,a,s,i){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const m of e.values()){const p=t.get(m.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const x=bb(m.nodeElement),v=p.measured.width!==x.width||p.measured.height!==x.height;if(!!(x.width&&x.height&&(v||!p.internals.handleBounds||m.force))){const w=m.nodeElement.getBoundingClientRect(),b=Xo(p.extent)?p.extent:s;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=GO(j,x,t.get(p.parentId)):b&&(j=Oi(j,b,x));const k={...p,measured:x,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:Yk("source",m.nodeElement,w,f,p.id),target:Yk("target",m.nodeElement,w,f,p.id)}}};t.set(p.id,k),p.parentId&&Nb(k,t,r,{nodeOrigin:a,zIndexMode:i}),c=!0,v&&(u.push({id:p.id,type:"dimensions",dimensions:x}),p.expandParent&&p.parentId&&h.push({id:p.id,parentId:p.parentId,rect:Go(k,a)}))}}if(h.length>0){const m=_b(h,t,r,a);u.push(...m)}return{changes:u,updatedInternals:c}}async function xH({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,s]],n),l=!!i&&(i.x!==r[0]||i.y!==r[1]||i.k!==r[2]);return Promise.resolve(l)}function tN(e,t,r,n,a,s){let i=a;const l=n.get(i)||new Map;n.set(i,l.set(r,t)),i=`${a}-${e}`;const c=n.get(i)||new Map;if(n.set(i,c.set(r,t)),s){i=`${a}-${e}-${s}`;const u=n.get(i)||new Map;n.set(i,u.set(r,t))}}function uA(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:s,sourceHandle:i=null,targetHandle:l=null}=n,c={edgeId:n.id,source:a,target:s,sourceHandle:i,targetHandle:l},u=`${a}-${i}--${s}-${l}`,d=`${s}-${l}--${a}-${i}`;tN("source",c,d,e,a,i),tN("target",c,u,e,s,l),t.set(n.id,n)}}function dA(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:dA(r,t):!1}function rN(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function vH(e,t,r,n){const a=new Map;for(const[s,i]of e)if((i.selected||i.id===n)&&(!i.parentId||!dA(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(s);l&&a.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Fg({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var i,l,c;const a=[];for(const[u,d]of t){const f=(i=r.get(u))==null?void 0:i.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const s=(l=r.get(e))==null?void 0:l.internals.userNode;return[s?{...s,position:((c=t.get(e))==null?void 0:c.position)||s.position,dragging:n}:a[0],a]}function bH({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const s={x:r-a.distance.x,y:n-a.distance.y},i=Lu(s,t);return{x:i.x-s.x,y:i.y-s.y}}function wH({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let s={x:null,y:null},i=0,l=new Map,c=!1,u={x:0,y:0},d=null,f=!1,h=null,m=!1,p=!1,x=null;function v({noDragClassName:w,handleSelector:b,domNode:j,isSelectable:k,nodeId:_,nodeClickDistance:N=0}){h=Cr(j);function S({x:C,y:L}){const{nodeLookup:P,nodeExtent:D,snapGrid:A,snapToGrid:R,nodeOrigin:T,onNodeDrag:M,onSelectionDrag:z,onError:B,updateNodePositions:F}=t();s={x:C,y:L};let Y=!1;const q=l.size>1,Q=q&&D?By(Ru(l)):null,le=q&&R?bH({dragItems:l,snapGrid:A,x:C,y:L}):null;for(const[Z,X]of l){if(!P.has(Z))continue;let U={x:C-X.distance.x,y:L-X.distance.y};R&&(U=le?{x:Math.round(U.x+le.x),y:Math.round(U.y+le.y)}:Lu(U,A));let te=null;if(q&&D&&!X.extent&&Q){const{positionAbsolute:re}=X.internals,ce=re.x-Q.x+D[0][0],ge=re.x+X.measured.width-Q.x2+D[1][0],pe=re.y-Q.y+D[0][1],Ie=re.y+X.measured.height-Q.y2+D[1][1];te=[[ce,pe],[ge,Ie]]}const{position:J,positionAbsolute:K}=YO({nodeId:Z,nextPosition:U,nodeLookup:P,nodeExtent:te||D,nodeOrigin:T,onError:B});Y=Y||X.position.x!==J.x||X.position.y!==J.y,X.position=J,X.internals.positionAbsolute=K}if(p=p||Y,!!Y&&(F(l,!0),x&&(n||M||!_&&z))){const[Z,X]=Fg({nodeId:_,dragItems:l,nodeLookup:P});n==null||n(x,l,Z,X),M==null||M(x,Z,X),_||z==null||z(x,X)}}async function O(){if(!d)return;const{transform:C,panBy:L,autoPanSpeed:P,autoPanOnNodeDrag:D}=t();if(!D){c=!1,cancelAnimationFrame(i);return}const[A,R]=XO(u,d,P);(A!==0||R!==0)&&(s.x=(s.x??0)-A/C[2],s.y=(s.y??0)-R/C[2],await L({x:A,y:R})&&S(s)),i=requestAnimationFrame(O)}function I(C){var q;const{nodeLookup:L,multiSelectionActive:P,nodesDraggable:D,transform:A,snapGrid:R,snapToGrid:T,selectNodesOnDrag:M,onNodeDragStart:z,onSelectionDragStart:B,unselectNodesAndEdges:F}=t();f=!0,(!M||!k)&&!P&&_&&((q=L.get(_))!=null&&q.selected||F()),k&&M&&_&&(e==null||e(_));const Y=jc(C.sourceEvent,{transform:A,snapGrid:R,snapToGrid:T,containerBounds:d});if(s=Y,l=vH(L,D,Y,_),l.size>0&&(r||z||!_&&B)){const[Q,le]=Fg({nodeId:_,dragItems:l,nodeLookup:L});r==null||r(C.sourceEvent,l,Q,le),z==null||z(C.sourceEvent,Q,le),_||B==null||B(C.sourceEvent,le)}}const E=EO().clickDistance(N).on("start",C=>{const{domNode:L,nodeDragThreshold:P,transform:D,snapGrid:A,snapToGrid:R}=t();d=(L==null?void 0:L.getBoundingClientRect())||null,m=!1,p=!1,x=C.sourceEvent,P===0&&I(C),s=jc(C.sourceEvent,{transform:D,snapGrid:A,snapToGrid:R,containerBounds:d}),u=bn(C.sourceEvent,d)}).on("drag",C=>{const{autoPanOnNodeDrag:L,transform:P,snapGrid:D,snapToGrid:A,nodeDragThreshold:R,nodeLookup:T}=t(),M=jc(C.sourceEvent,{transform:P,snapGrid:D,snapToGrid:A,containerBounds:d});if(x=C.sourceEvent,(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1||_&&!T.has(_))&&(m=!0),!m){if(!c&&L&&f&&(c=!0,O()),!f){const z=bn(C.sourceEvent,d),B=z.x-u.x,F=z.y-u.y;Math.sqrt(B*B+F*F)>R&&I(C)}(s.x!==M.xSnapped||s.y!==M.ySnapped)&&l&&f&&(u=bn(C.sourceEvent,d),S(M))}}).on("end",C=>{if(!(!f||m)&&(c=!1,f=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:L,updateNodePositions:P,onNodeDragStop:D,onSelectionDragStop:A}=t();if(p&&(P(l,!1),p=!1),a||D||!_&&A){const[R,T]=Fg({nodeId:_,dragItems:l,nodeLookup:L,dragging:!1});a==null||a(C.sourceEvent,l,R,T),D==null||D(C.sourceEvent,R,T),_||A==null||A(C.sourceEvent,T)}}}).filter(C=>{const L=C.target;return!C.button&&(!w||!rN(L,`.${w}`,j))&&(!b||rN(L,b,j))});h.call(E)}function g(){h==null||h.on(".drag",null)}return{update:v,destroy:g}}function jH(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const s of t.values())Zc(a,Go(s))>0&&n.push(s);return n}const kH=250;function NH(e,t,r,n){var l,c;let a=[],s=1/0;const i=jH(e,r,t+kH);for(const u of i){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:h,y:m}=Ai(u,f,f.position,!0),p=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(m-e.y,2));p>t||(p<s?(a=[{...f,x:h,y:m}],s=p):p===s&&a.push({...f,x:h,y:m}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function fA(e,t,r,n,a,s=!1){var u,d,f;const i=n.get(e);if(!i)return null;const l=a==="strict"?(u=i.internals.handleBounds)==null?void 0:u[t]:[...((d=i.internals.handleBounds)==null?void 0:d.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?l==null?void 0:l.find(h=>h.id===r):l==null?void 0:l[0])??null;return c&&s?{...c,...Ai(i,c,c.position,!0)}:c}function hA(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function _H(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const mA=()=>!0;function SH(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:s,isTarget:i,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:m,onConnectStart:p,onConnect:x,onConnectEnd:v,isValidConnection:g=mA,onReconnectEnd:w,updateConnection:b,getTransform:j,getFromHandle:k,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:S}){const O=eA(e.target);let I=0,E;const{x:C,y:L}=bn(e),P=hA(s,S),D=l==null?void 0:l.getBoundingClientRect();let A=!1;if(!D||!P)return;const R=fA(a,P,n,c,t);if(!R)return;let T=bn(e,D),M=!1,z=null,B=!1,F=null;function Y(){if(!d||!D)return;const[J,K]=XO(T,D,_);h({x:J,y:K}),I=requestAnimationFrame(Y)}const q={...R,nodeId:a,type:P,position:R.position},Q=c.get(a);let Z={inProgress:!0,isValid:null,from:Ai(Q,q,de.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:Q,to:T,toHandle:null,toPosition:Vk[q.position],toNode:null,pointer:T};function X(){A=!0,b(Z),p==null||p(e,{nodeId:a,handleId:n,handleType:P})}N===0&&X();function U(J){if(!A){const{x:Ie,y:lr}=bn(J),H=Ie-C,ae=lr-L;if(!(H*H+ae*ae>N*N))return;X()}if(!k()||!q){te(J);return}const K=j();T=bn(J,D),E=NH($u(T,K,!1,[1,1]),r,c,q),M||(Y(),M=!0);const re=pA(J,{handle:E,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:i?"target":"source",isValidConnection:g,doc:O,lib:u,flowId:f,nodeLookup:c});F=re.handleDomNode,z=re.connection,B=_H(!!E,re.isValid);const ce=c.get(a),ge=ce?Ai(ce,q,de.Left,!0):Z.from,pe={...Z,from:ge,isValid:B,to:re.toHandle&&B?kh({x:re.toHandle.x,y:re.toHandle.y},K):T,toHandle:re.toHandle,toPosition:B&&re.toHandle?re.toHandle.position:Vk[q.position],toNode:re.toHandle?c.get(re.toHandle.nodeId):null,pointer:T};b(pe),Z=pe}function te(J){if(!("touches"in J&&J.touches.length>0)){if(A){(E||F)&&z&&B&&(x==null||x(z));const{inProgress:K,...re}=Z,ce={...re,toPosition:Z.toHandle?Z.toPosition:null};v==null||v(J,ce),s&&(w==null||w(J,ce))}m(),cancelAnimationFrame(I),M=!1,B=!1,z=null,F=null,O.removeEventListener("mousemove",U),O.removeEventListener("mouseup",te),O.removeEventListener("touchmove",U),O.removeEventListener("touchend",te)}}O.addEventListener("mousemove",U),O.addEventListener("mouseup",te),O.addEventListener("touchmove",U),O.addEventListener("touchend",te)}function pA(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:s,doc:i,lib:l,flowId:c,isValidConnection:u=mA,nodeLookup:d}){const f=s==="target",h=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:p}=bn(e),x=i.elementFromPoint(m,p),v=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:h,g={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const w=hA(void 0,v),b=v.getAttribute("data-nodeid"),j=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),_=v.classList.contains("connectableend");if(!b||!w)return g;const N={source:f?b:n,sourceHandle:f?j:a,target:f?n:b,targetHandle:f?a:j};g.connection=N;const O=k&&_&&(r===qo.Strict?f&&w==="source"||!f&&w==="target":b!==n||j!==a);g.isValid=O&&u(N),g.toHandle=fA(b,w,j,d,r,!0)}return g}const Vy={onPointerDown:SH,isValid:pA};function EH({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=Cr(e);function s({translateExtent:l,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:m=!1}){const p=b=>{if(b.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=b.sourceEvent.ctrlKey&&Jc()?10:1,_=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*d,N=j[2]*Math.pow(2,_*k);t.scaleTo(N)};let x=[0,0];const v=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(x=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},g=b=>{const j=r();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const k=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],_=[k[0]-x[0],k[1]-x[1]];x=k;const N=n()*Math.max(j[2],Math.log(j[2]))*(m?-1:1),S={x:j[0]-_[0]*N,y:j[1]-_[1]*N},O=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},O,l)},w=UO().on("start",v).on("zoom",f?g:null).on("zoom.wheel",h?p:null);a.call(w,{})}function i(){a.on("zoom",null)}return{update:s,destroy:i,pointer:hn}}const Qm=e=>({x:e.x,y:e.y,zoom:e.k}),Bg=({x:e,y:t,zoom:r})=>Ym.translate(e,t).scale(r),uo=(e,t)=>e.target.closest(`.${t}`),gA=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),CH=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Ug=(e,t=0,r=CH,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},yA=e=>{const t=e.ctrlKey&&Jc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function PH({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:s,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(uo(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&i){const v=hn(d),g=yA(d),w=f*Math.pow(2,g);n.scaleTo(r,w,v,d);return}const h=d.deltaMode===1?20:1;let m=a===yi.Vertical?0:d.deltaX*h,p=a===yi.Horizontal?0:d.deltaY*h;!Jc()&&d.shiftKey&&a!==yi.Vertical&&(m=d.deltaY*h,p=0),n.translateBy(r,-(m/f)*s,-(p/f)*s,{internal:!0});const x=Qm(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,x))}}function OH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const s=n.type==="wheel",i=!t&&s&&!n.ctrlKey,l=uo(n,e);if(n.ctrlKey&&s&&l&&n.preventDefault(),i||l)return null;n.preventDefault(),r.call(this,n,a)}}function AH({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var s,i,l;if((s=n.sourceEvent)!=null&&s.internal)return;const a=Qm(n.transform);e.mouseButton=((i=n.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function TH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return s=>{var i,l;e.usedRightMouseButton=!!(r&&gA(t,e.mouseButton??0)),(i=s.sourceEvent)!=null&&i.sync||n([s.transform.x,s.transform.y,s.transform.k]),a&&!((l=s.sourceEvent)!=null&&l.internal)&&(a==null||a(s.sourceEvent,Qm(s.transform)))}}function MH({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:s}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,s&&gA(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&s(i.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=Qm(i.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(i.sourceEvent,c)},r?150:0)}}}function IH({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:s,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var v;const h=e||t,m=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(uo(f,`${u}-flow__node`)||uo(f,`${u}-flow__edge`)))return!0;if(!n&&!h&&!a&&!s&&!r||i||d&&!p||uo(f,l)&&p||uo(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!h&&!a&&!m&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&x}}function DH({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:s,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=UO().scaleExtent([t,r]).translateExtent(n),h=Cr(e).call(f);w({x:a.x,y:a.y,zoom:Yo(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");f.wheelDelta(yA);function x(E,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?ja:Of).transform(Ug(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),E)}):Promise.resolve(!1)}function v({noWheelClassName:E,noPanClassName:C,onPaneContextMenu:L,userSelectionActive:P,panOnScroll:D,panOnDrag:A,panOnScrollMode:R,panOnScrollSpeed:T,preventScrolling:M,zoomOnPinch:z,zoomOnScroll:B,zoomOnDoubleClick:F,zoomActivationKeyPressed:Y,lib:q,onTransformChange:Q,connectionInProgress:le,paneClickDistance:Z,selectionOnDrag:X}){P&&!u.isZoomingOrPanning&&g();const U=D&&!Y&&!P;f.clickDistance(X?1/0:!vn(Z)||Z<0?0:Z);const te=U?PH({zoomPanValues:u,noWheelClassName:E,d3Selection:h,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:T,zoomOnPinch:z,onPanZoomStart:i,onPanZoom:s,onPanZoomEnd:l}):OH({noWheelClassName:E,preventScrolling:M,d3ZoomHandler:m});if(h.on("wheel.zoom",te,{passive:!1}),!P){const K=AH({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:i});f.on("start",K);const re=TH({zoomPanValues:u,panOnDrag:A,onPaneContextMenu:!!L,onPanZoom:s,onTransformChange:Q});f.on("zoom",re);const ce=MH({zoomPanValues:u,panOnDrag:A,panOnScroll:D,onPaneContextMenu:L,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ce)}const J=IH({zoomActivationKeyPressed:Y,panOnDrag:A,zoomOnScroll:B,panOnScroll:D,zoomOnDoubleClick:F,zoomOnPinch:z,userSelectionActive:P,noPanClassName:C,noWheelClassName:E,lib:q,connectionInProgress:le});f.filter(J),F?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function w(E,C,L){const P=Bg(E),D=f==null?void 0:f.constrain()(P,C,L);return D&&await x(D),new Promise(A=>A(D))}async function b(E,C){const L=Bg(E);return await x(L,C),new Promise(P=>P(L))}function j(E){if(h){const C=Bg(E),L=h.property("__zoom");(L.k!==E.zoom||L.x!==E.x||L.y!==E.y)&&(f==null||f.transform(h,C,null,{sync:!0}))}}function k(){const E=h?BO(h.node()):{x:0,y:0,k:1};return{x:E.x,y:E.y,zoom:E.k}}function _(E,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?ja:Of).scaleTo(Ug(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),E)}):Promise.resolve(!1)}function N(E,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?ja:Of).scaleBy(Ug(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),E)}):Promise.resolve(!1)}function S(E){f==null||f.scaleExtent(E)}function O(E){f==null||f.translateExtent(E)}function I(E){const C=!vn(E)||E<0?0:E;f==null||f.clickDistance(C)}return{update:v,destroy:g,setViewport:b,setViewportConstrained:w,getViewport:k,scaleTo:_,scaleBy:N,setScaleExtent:S,setTranslateExtent:O,syncViewport:j,setClickDistance:I}}var Qo;(function(e){e.Line="line",e.Handle="handle"})(Qo||(Qo={}));function RH({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:s}){const i=e-t,l=r-n,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function nN(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Wa(e,t){return Math.max(0,t-e)}function Ka(e,t){return Math.max(0,e-t)}function Vd(e,t,r){return Math.max(0,t-e,e-r)}function aN(e,t){return e?!t:t}function LH(e,t,r,n,a,s,i,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:m,ySnapped:p}=r,{minWidth:x,maxWidth:v,minHeight:g,maxHeight:w}=n,{x:b,y:j,width:k,height:_,aspectRatio:N}=e;let S=Math.floor(d?m-e.pointerX:0),O=Math.floor(f?p-e.pointerY:0);const I=k+(c?-S:S),E=_+(u?-O:O),C=-s[0]*k,L=-s[1]*_;let P=Vd(I,x,v),D=Vd(E,g,w);if(i){let T=0,M=0;c&&S<0?T=Wa(b+S+C,i[0][0]):!c&&S>0&&(T=Ka(b+I+C,i[1][0])),u&&O<0?M=Wa(j+O+L,i[0][1]):!u&&O>0&&(M=Ka(j+E+L,i[1][1])),P=Math.max(P,T),D=Math.max(D,M)}if(l){let T=0,M=0;c&&S>0?T=Ka(b+S,l[0][0]):!c&&S<0&&(T=Wa(b+I,l[1][0])),u&&O>0?M=Ka(j+O,l[0][1]):!u&&O<0&&(M=Wa(j+E,l[1][1])),P=Math.max(P,T),D=Math.max(D,M)}if(a){if(d){const T=Vd(I/N,g,w)*N;if(P=Math.max(P,T),i){let M=0;!c&&!u||c&&!u&&h?M=Ka(j+L+I/N,i[1][1])*N:M=Wa(j+L+(c?S:-S)/N,i[0][1])*N,P=Math.max(P,M)}if(l){let M=0;!c&&!u||c&&!u&&h?M=Wa(j+I/N,l[1][1])*N:M=Ka(j+(c?S:-S)/N,l[0][1])*N,P=Math.max(P,M)}}if(f){const T=Vd(E*N,x,v)/N;if(D=Math.max(D,T),i){let M=0;!c&&!u||u&&!c&&h?M=Ka(b+E*N+C,i[1][0])/N:M=Wa(b+(u?O:-O)*N+C,i[0][0])/N,D=Math.max(D,M)}if(l){let M=0;!c&&!u||u&&!c&&h?M=Wa(b+E*N,l[1][0])/N:M=Ka(b+(u?O:-O)*N,l[0][0])/N,D=Math.max(D,M)}}}O=O+(O<0?D:-D),S=S+(S<0?P:-P),a&&(h?I>E*N?O=(aN(c,u)?-S:S)/N:S=(aN(c,u)?-O:O)*N:d?(O=S/N,u=c):(S=O*N,c=u));const A=c?b+S:b,R=u?j+O:j;return{width:k+(c?-S:S),height:_+(u?-O:O),x:s[0]*S*(c?-1:1)+A,y:s[1]*O*(u?-1:1)+R}}const xA={width:0,height:0,x:0,y:0},$H={...xA,pointerX:0,pointerY:0,aspectRatio:1};function zH(e){return[[0,0],[e.measured.width,e.measured.height]]}function FH(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,s=e.measured.width??0,i=e.measured.height??0,l=r[0]*s,c=r[1]*i;return[[n-l,a-c],[n+s-l,a+i-c]]}function BH({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const s=Cr(e);let i={controlDirection:nN("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:m,onResize:p,onResizeEnd:x,shouldResize:v}){let g={...xA},w={...$H};i={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:nN(u)};let b,j=null,k=[],_,N,S,O=!1;const I=EO().on("start",E=>{const{nodeLookup:C,transform:L,snapGrid:P,snapToGrid:D,nodeOrigin:A,paneDomNode:R}=r();if(b=C.get(t),!b)return;j=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:M}=jc(E.sourceEvent,{transform:L,snapGrid:P,snapToGrid:D,containerBounds:j});g={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},w={...g,pointerX:T,pointerY:M,aspectRatio:g.width/g.height},_=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(_=C.get(b.parentId),N=_&&b.extent==="parent"?zH(_):void 0),k=[],S=void 0;for(const[z,B]of C)if(B.parentId===t&&(k.push({id:z,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const F=FH(B,b,B.origin??A);S?S=[[Math.min(F[0][0],S[0][0]),Math.min(F[0][1],S[0][1])],[Math.max(F[1][0],S[1][0]),Math.max(F[1][1],S[1][1])]]:S=F}m==null||m(E,{...g})}).on("drag",E=>{const{transform:C,snapGrid:L,snapToGrid:P,nodeOrigin:D}=r(),A=jc(E.sourceEvent,{transform:C,snapGrid:L,snapToGrid:P,containerBounds:j}),R=[];if(!b)return;const{x:T,y:M,width:z,height:B}=g,F={},Y=b.origin??D,{width:q,height:Q,x:le,y:Z}=LH(w,i.controlDirection,A,i.boundaries,i.keepAspectRatio,Y,N,S),X=q!==z,U=Q!==B,te=le!==T&&X,J=Z!==M&&U;if(!te&&!J&&!X&&!U)return;if((te||J||Y[0]===1||Y[1]===1)&&(F.x=te?le:g.x,F.y=J?Z:g.y,g.x=F.x,g.y=F.y,k.length>0)){const ge=le-T,pe=Z-M;for(const Ie of k)Ie.position={x:Ie.position.x-ge+Y[0]*(q-z),y:Ie.position.y-pe+Y[1]*(Q-B)},R.push(Ie)}if((X||U)&&(F.width=X&&(!i.resizeDirection||i.resizeDirection==="horizontal")?q:g.width,F.height=U&&(!i.resizeDirection||i.resizeDirection==="vertical")?Q:g.height,g.width=F.width,g.height=F.height),_&&b.expandParent){const ge=Y[0]*(F.width??0);F.x&&F.x<ge&&(g.x=ge,w.x=w.x-(F.x-ge));const pe=Y[1]*(F.height??0);F.y&&F.y<pe&&(g.y=pe,w.y=w.y-(F.y-pe))}const K=RH({width:g.width,prevWidth:z,height:g.height,prevHeight:B,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),re={...g,direction:K};(v==null?void 0:v(E,re))!==!1&&(O=!0,p==null||p(E,re),n(F,R))}).on("end",E=>{O&&(x==null||x(E,{...g}),a==null||a({...g}),O=!1)});s.call(I)}function c(){s.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:UH}=Or,{useSyncExternalStoreWithSelector:HH}=dO,VH=e=>e;function vA(e,t=VH,r){const n=HH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return UH(n),n}const sN=(e,t)=>{const r=sO(e),n=(a,s=t)=>vA(r,a,s);return Object.assign(n,r),n},WH=(e,t)=>e?sN(e,t):sN;function qe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const Zm=y.createContext(null),KH=Zm.Provider,bA=Xn.error001();function je(e,t){const r=y.useContext(Zm);if(r===null)throw new Error(bA);return vA(r,e,t)}function Ye(){const e=y.useContext(Zm);if(e===null)throw new Error(bA);return y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const iN={display:"none"},qH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},wA="react-flow__node-desc",jA="react-flow__edge-desc",YH="react-flow__aria-live",GH=e=>e.ariaLiveMessage,XH=e=>e.ariaLabelConfig;function QH({rfId:e}){const t=je(GH);return o.jsx("div",{id:`${YH}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:qH,children:t})}function ZH({rfId:e,disableKeyboardA11y:t}){const r=je(XH);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${wA}-${e}`,style:iN,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${jA}-${e}`,style:iN,children:r["edge.a11yDescription.default"]}),!t&&o.jsx(QH,{rfId:e})]})}const Jm=y.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},s)=>{const i=`${e}`.split("-");return o.jsx("div",{className:ht(["react-flow__panel",r,...i]),style:n,ref:s,...a,children:t})});Jm.displayName="Panel";function JH({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:o.jsx(Jm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const eV=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Wd=e=>e.id;function tV(e,t){return qe(e.selectedNodes.map(Wd),t.selectedNodes.map(Wd))&&qe(e.selectedEdges.map(Wd),t.selectedEdges.map(Wd))}function rV({onSelectionChange:e}){const t=Ye(),{selectedNodes:r,selectedEdges:n}=je(eV,tV);return y.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(s=>s(a))},[r,n,e]),null}const nV=e=>!!e.onSelectionChangeHandlers;function aV({onSelectionChange:e}){const t=je(nV);return e||t?o.jsx(rV,{onSelectionChange:e}):null}const kA=[0,0],sV={x:0,y:0,zoom:1},iV=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],oN=[...iV,"rfId"],oV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),lN={translateExtent:Xc,nodeOrigin:kA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function lV(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:s,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c}=je(oV,qe),u=Ye();y.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=lN,l()}),[]);const d=y.useRef(lN);return y.useEffect(()=>{for(const f of oN){const h=e[f],m=d.current[f];h!==m&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?r(h):f==="minZoom"?n(h):f==="maxZoom"?a(h):f==="translateExtent"?s(h):f==="nodeExtent"?i(h):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:eH(h)}):f==="fitView"?u.setState({fitViewQueued:h}):f==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[f]:h})))}d.current=e},oN.map(f=>e[f])),null}function cN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function cV(e){var n;const[t,r]=y.useState(e==="system"?null:e);return y.useEffect(()=>{if(e!=="system"){r(e);return}const a=cN(),s=()=>r(a!=null&&a.matches?"dark":"light");return s(),a==null||a.addEventListener("change",s),()=>{a==null||a.removeEventListener("change",s)}},[e]),t!==null?t:(n=cN())!=null&&n.matches?"dark":"light"}const uN=typeof document<"u"?document:null;function eu(e=null,t={target:uN,actInsideInputWithModifier:!0}){const[r,n]=y.useState(!1),a=y.useRef(!1),s=y.useRef(new Set([])),[i,l]=y.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return y.useEffect(()=>{const c=(t==null?void 0:t.target)??uN,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=m=>{var v,g;if(a.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!a.current||a.current&&!u)&&tA(m))return!1;const x=fN(m.code,l);if(s.current.add(m[x]),dN(i,s.current,!1)){const w=((g=(v=m.composedPath)==null?void 0:v.call(m))==null?void 0:g[0])||m.target,b=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";t.preventDefault!==!1&&(a.current||!b)&&m.preventDefault(),n(!0)}},f=m=>{const p=fN(m.code,l);dN(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(m[p]),m.key==="Meta"&&s.current.clear(),a.current=!1},h=()=>{s.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,n]),r}function dN(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function fN(e,t){return t.includes(e)?"code":"key"}const uV=()=>{const e=Ye();return y.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,s],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??s},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:s,maxZoom:i,panZoom:l}=e.getState(),c=vb(t,n,a,s,i,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:s,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??s;return $u(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:s}=n.getBoundingClientRect(),i=kh(t,r);return{x:i.x+a,y:i.y+s}}}),[])};function NA(e,t){const r=[],n=new Map,a=[];for(const s of e)if(s.type==="add"){a.push(s);continue}else if(s.type==="remove"||s.type==="replace")n.set(s.id,[s]);else{const i=n.get(s.id);i?i.push(s):n.set(s.id,[s])}for(const s of t){const i=n.get(s.id);if(!i){r.push(s);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){r.push({...i[0].item});continue}const l={...s};for(const c of i)dV(c,l);r.push(l)}return a.length&&a.forEach(s=>{s.index!==void 0?r.splice(s.index,0,{...s.item}):r.push({...s.item})}),r}function dV(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function _A(e,t){return NA(e,t)}function SA(e,t){return NA(e,t)}function Ws(e,t){return{id:e,type:"select",selected:t}}function fo(e,t=new Set,r=!1){const n=[];for(const[a,s]of e){const i=t.has(a);!(s.selected===void 0&&!i)&&s.selected!==i&&(r&&(s.selected=i),n.push(Ws(s.id,i)))}return n}function hN({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const l=t.get(i.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==i&&r.push({id:i.id,item:i,type:"replace"}),c===void 0&&r.push({item:i,type:"add",index:s})}for(const[s]of t)n.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function mN(e){return{id:e.id,type:"remove"}}const pN=e=>VU(e),fV=e=>qO(e);function EA(e){return y.forwardRef(e)}const hV=typeof window<"u"?y.useLayoutEffect:y.useEffect;function gN(e){const[t,r]=y.useState(BigInt(0)),[n]=y.useState(()=>mV(()=>r(a=>a+BigInt(1))));return hV(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function mV(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const CA=y.createContext(null);function pV({children:e}){const t=Ye(),r=y.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:m,onNodesChangeMiddlewareMap:p}=t.getState();let x=c;for(const g of l)x=typeof g=="function"?g(x):g;let v=hN({items:x,lookup:h});for(const g of p.values())v=g(v);d&&u(x),v.length>0?f==null||f(v):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:w,setNodes:b}=t.getState();g&&b(w)})},[]),n=gN(r),a=y.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let m=c;for(const p of l)m=typeof p=="function"?p(m):p;d?u(m):f&&f(hN({items:m,lookup:h}))},[]),s=gN(a),i=y.useMemo(()=>({nodeQueue:n,edgeQueue:s}),[]);return o.jsx(CA.Provider,{value:i,children:e})}function gV(){const e=y.useContext(CA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const yV=e=>!!e.panZoom;function xl(){const e=uV(),t=Ye(),r=gV(),n=je(yV),a=y.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),i=f=>{r.nodeQueue.push(f)},l=f=>{r.edgeQueue.push(f)},c=f=>{var g,w;const{nodeLookup:h,nodeOrigin:m}=t.getState(),p=pN(f)?f:h.get(f.id),x=p.parentId?JO(p.position,p.measured,p.parentId,h,m):p.position,v={...p,position:x,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((w=p.measured)==null?void 0:w.height)??p.height};return Go(v)},u=(f,h,m={replace:!1})=>{i(p=>p.map(x=>{if(x.id===f){const v=typeof h=="function"?h(x):h;return m.replace&&pN(v)?v:{...x,...v}}return x}))},d=(f,h,m={replace:!1})=>{l(p=>p.map(x=>{if(x.id===f){const v=typeof h=="function"?h(x):h;return m.replace&&fV(v)?v:{...x,...v}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=s(f))==null?void 0:h.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:l,addNodes:f=>{const h=Array.isArray(f)?f:[f];r.nodeQueue.push(m=>[...m,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];r.edgeQueue.push(m=>[...m,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:m}=t.getState(),[p,x,v]=m;return{nodes:f.map(g=>({...g})),edges:h.map(g=>({...g})),viewport:{x:p,y:x,zoom:v}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:m,edges:p,onNodesDelete:x,onEdgesDelete:v,triggerNodeChanges:g,triggerEdgeChanges:w,onDelete:b,onBeforeDelete:j}=t.getState(),{nodes:k,edges:_}=await GU({nodesToRemove:f,edgesToRemove:h,nodes:m,edges:p,onBeforeDelete:j}),N=_.length>0,S=k.length>0;if(N){const O=_.map(mN);v==null||v(_),w(O)}if(S){const O=k.map(mN);x==null||x(k),g(O)}return(S||N)&&(b==null||b({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(f,h=!0,m)=>{const p=Kk(f),x=p?f:c(f),v=m!==void 0;return x?(m||t.getState().nodes).filter(g=>{const w=t.getState().nodeLookup.get(g.id);if(w&&!p&&(g.id===f.id||!w.internals.positionAbsolute))return!1;const b=Go(v?g:w),j=Zc(b,x);return h&&j>0||j>=b.width*b.height||j>=x.width*x.height}):[]},isNodeIntersecting:(f,h,m=!0)=>{const x=Kk(f)?f:c(f);if(!x)return!1;const v=Zc(x,h);return m&&v>0||v>=h.width*h.height||v>=x.width*x.height},updateNode:u,updateNodeData:(f,h,m={replace:!1})=>{u(f,p=>{const x=typeof h=="function"?h(p):h;return m.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},m)},updateEdge:d,updateEdgeData:(f,h,m={replace:!1})=>{d(f,p=>{const x=typeof h=="function"?h(p):h;return m.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},m)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:m}=t.getState();return WU(f,{nodeLookup:h,nodeOrigin:m})},getHandleConnections:({type:f,id:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}-${f}${h?`-${h}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??JU();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),r.nodeQueue.push(m=>[...m]),h.promise}}},[]);return y.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const yN=e=>e.selected,xV=typeof window<"u"?window:void 0;function vV({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Ye(),{deleteElements:n}=xl(),a=eu(e,{actInsideInputWithModifier:!1}),s=eu(t,{target:xV});y.useEffect(()=>{if(a){const{edges:i,nodes:l}=r.getState();n({nodes:l.filter(yN),edges:i.filter(yN)}),r.setState({nodesSelectionActive:!1})}},[a]),y.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])}function bV(e){const t=Ye();y.useEffect(()=>{const r=()=>{var a,s,i,l;if(!e.current||!(((s=(a=e.current).checkVisibility)==null?void 0:s.call(a))??!0))return!1;const n=bb(e.current);(n.height===0||n.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",Xn.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const ep={position:"absolute",width:"100%",height:"100%",top:0,left:0},wV=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function jV({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:s=yi.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:m=!0,children:p,noWheelClassName:x,noPanClassName:v,onViewportChange:g,isControlledViewport:w,paneClickDistance:b,selectionOnDrag:j}){const k=Ye(),_=y.useRef(null),{userSelectionActive:N,lib:S,connectionInProgress:O}=je(wV,qe),I=eu(h),E=y.useRef();bV(_);const C=y.useCallback(L=>{g==null||g({x:L[0],y:L[1],zoom:L[2]}),w||k.setState({transform:L})},[g,w]);return y.useEffect(()=>{if(_.current){E.current=DH({domNode:_.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:A=>k.setState({paneDragging:A}),onPanZoomStart:(A,R)=>{const{onViewportChangeStart:T,onMoveStart:M}=k.getState();M==null||M(A,R),T==null||T(R)},onPanZoom:(A,R)=>{const{onViewportChange:T,onMove:M}=k.getState();M==null||M(A,R),T==null||T(R)},onPanZoomEnd:(A,R)=>{const{onViewportChangeEnd:T,onMoveEnd:M}=k.getState();M==null||M(A,R),T==null||T(R)}});const{x:L,y:P,zoom:D}=E.current.getViewport();return k.setState({panZoom:E.current,transform:[L,P,D],domNode:_.current.closest(".react-flow")}),()=>{var A;(A=E.current)==null||A.destroy()}}},[]),y.useEffect(()=>{var L;(L=E.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:s,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:I,preventScrolling:m,noPanClassName:v,userSelectionActive:N,noWheelClassName:x,lib:S,onTransformChange:C,connectionInProgress:O,selectionOnDrag:j,paneClickDistance:b})},[e,t,r,n,a,s,i,l,I,m,v,N,x,S,C,O,j,b]),o.jsx("div",{className:"react-flow__renderer",ref:_,style:ep,children:p})}const kV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function NV(){const{userSelectionActive:e,userSelectionRect:t}=je(kV,qe);return e&&t?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Hg=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},_V=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function SV({isSelecting:e,selectionKeyPressed:t,selectionMode:r=Qc.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:s,onSelectionStart:i,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:m,children:p}){const x=Ye(),{userSelectionActive:v,elementsSelectable:g,dragging:w,connectionInProgress:b}=je(_V,qe),j=g&&(e||v),k=y.useRef(null),_=y.useRef(),N=y.useRef(new Set),S=y.useRef(new Set),O=y.useRef(!1),I=T=>{if(O.current||b){O.current=!1;return}c==null||c(T),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},E=T=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){T.preventDefault();return}u==null||u(T)},C=d?T=>d(T):void 0,L=T=>{O.current&&(T.stopPropagation(),O.current=!1)},P=T=>{var Q,le;const{domNode:M}=x.getState();if(_.current=M==null?void 0:M.getBoundingClientRect(),!_.current)return;const z=T.target===k.current;if(!z&&!!T.target.closest(".nokey")||!e||!(s&&z||t)||T.button!==0||!T.isPrimary)return;(le=(Q=T.target)==null?void 0:Q.setPointerCapture)==null||le.call(Q,T.pointerId),O.current=!1;const{x:Y,y:q}=bn(T.nativeEvent,_.current);x.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:q,x:Y,y:q}}),z||(T.stopPropagation(),T.preventDefault())},D=T=>{const{userSelectionRect:M,transform:z,nodeLookup:B,edgeLookup:F,connectionLookup:Y,triggerNodeChanges:q,triggerEdgeChanges:Q,defaultEdgeOptions:le,resetSelectedElements:Z}=x.getState();if(!_.current||!M)return;const{x:X,y:U}=bn(T.nativeEvent,_.current),{startX:te,startY:J}=M;if(!O.current){const pe=t?0:a;if(Math.hypot(X-te,U-J)<=pe)return;Z(),i==null||i(T)}O.current=!0;const K={startX:te,startY:J,x:X<te?X:te,y:U<J?U:J,width:Math.abs(X-te),height:Math.abs(U-J)},re=N.current,ce=S.current;N.current=new Set(xb(B,K,z,r===Qc.Partial,!0).map(pe=>pe.id)),S.current=new Set;const ge=(le==null?void 0:le.selectable)??!0;for(const pe of N.current){const Ie=Y.get(pe);if(Ie)for(const{edgeId:lr}of Ie.values()){const H=F.get(lr);H&&(H.selectable??ge)&&S.current.add(lr)}}if(!qk(re,N.current)){const pe=fo(B,N.current,!0);q(pe)}if(!qk(ce,S.current)){const pe=fo(F,S.current);Q(pe)}x.setState({userSelectionRect:K,userSelectionActive:!0,nodesSelectionActive:!1})},A=T=>{var M,z;T.button===0&&((z=(M=T.target)==null?void 0:M.releasePointerCapture)==null||z.call(M,T.pointerId),!v&&T.target===k.current&&x.getState().userSelectionRect&&(I==null||I(T)),x.setState({userSelectionActive:!1,userSelectionRect:null}),O.current&&(l==null||l(T),x.setState({nodesSelectionActive:N.current.size>0})))},R=n===!0||Array.isArray(n)&&n.includes(0);return o.jsxs("div",{className:ht(["react-flow__pane",{draggable:R,dragging:w,selection:e}]),onClick:j?void 0:Hg(I,k),onContextMenu:Hg(E,k),onWheel:Hg(C,k),onPointerEnter:j?void 0:f,onPointerMove:j?D:h,onPointerUp:j?A:void 0,onPointerDownCapture:j?P:void 0,onClickCapture:j?L:void 0,onPointerLeave:m,ref:k,style:ep,children:[p,o.jsx(NV,{})]})}function Wy({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Xn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function PA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,nodeClickDistance:i}){const l=Ye(),[c,u]=y.useState(!1),d=y.useRef();return y.useEffect(()=>{d.current=wH({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{Wy({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),y.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:s,nodeId:a,nodeClickDistance:i}),()=>{var m;(m=d.current)==null||m.destroy()}},[r,n,t,s,e,a]),c}const EV=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function OA(){const e=Ye();return y.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:s,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,h=EV(i),m=a?s[0]:5,p=a?s[1]:5,x=r.direction.x*m*r.factor,v=r.direction.y*p*r.factor;for(const[,g]of u){if(!h(g))continue;let w={x:g.internals.positionAbsolute.x+x,y:g.internals.positionAbsolute.y+v};a&&(w=Lu(w,s));const{position:b,positionAbsolute:j}=YO({nodeId:g.id,nextPosition:w,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:l});g.position=b,g.internals.positionAbsolute=j,f.set(g.id,g)}c(f)},[])}const Sb=y.createContext(null),CV=Sb.Provider;Sb.Consumer;const AA=()=>y.useContext(Sb),PV=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),OV=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:s,connection:i}=n,{fromHandle:l,toHandle:c,isValid:u}=i,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:s===qo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:d&&u}};function AV({type:e="source",position:t=de.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m){var D,A;const p=i||null,x=e==="target",v=Ye(),g=AA(),{connectOnClick:w,noPanClassName:b,rfId:j}=je(PV,qe),{connectingFrom:k,connectingTo:_,clickConnecting:N,isPossibleEndHandle:S,connectionInProcess:O,clickConnectionInProcess:I,valid:E}=je(OV(g,p,e),qe);g||(A=(D=v.getState()).onError)==null||A.call(D,"010",Xn.error010());const C=R=>{const{defaultEdgeOptions:T,onConnect:M,hasDefaultEdges:z}=v.getState(),B={...T,...R};if(z){const{edges:F,setEdges:Y}=v.getState();Y(iA(B,F))}M==null||M(B),l==null||l(B)},L=R=>{if(!g)return;const T=rA(R.nativeEvent);if(a&&(T&&R.button===0||!T)){const M=v.getState();Vy.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:x,handleId:p,nodeId:g,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:C,isValidConnection:r||M.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}T?d==null||d(R):f==null||f(R)},P=R=>{const{onClickConnectStart:T,onClickConnectEnd:M,connectionClickStartHandle:z,connectionMode:B,isValidConnection:F,lib:Y,rfId:q,nodeLookup:Q,connection:le}=v.getState();if(!g||!z&&!a)return;if(!z){T==null||T(R.nativeEvent,{nodeId:g,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const Z=eA(R.target),X=r||F,{connection:U,isValid:te}=Vy.isValid(R.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:B,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:X,flowId:q,doc:Z,lib:Y,nodeLookup:Q});te&&U&&C(U);const J=structuredClone(le);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,M==null||M(R,J),v.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${j}-${g}-${p}-${e}`,className:ht(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!x,target:x,connectable:n,connectablestart:a,connectableend:s,clickconnecting:N,connectingfrom:k,connectingto:_,valid:E,connectionindicator:n&&(!O||S)&&(O||I?s:a)}]),onMouseDown:L,onTouchStart:L,onClick:w?P:void 0,ref:m,...h,children:c})}const Zo=y.memo(EA(AV));function TV({data:e,isConnectable:t,sourcePosition:r=de.Bottom}){return o.jsxs(o.Fragment,{children:[e==null?void 0:e.label,o.jsx(Zo,{type:"source",position:r,isConnectable:t})]})}function MV({data:e,isConnectable:t,targetPosition:r=de.Top,sourcePosition:n=de.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(Zo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,o.jsx(Zo,{type:"source",position:n,isConnectable:t})]})}function IV(){return null}function DV({data:e,isConnectable:t,targetPosition:r=de.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(Zo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const _h={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},xN={input:TV,default:MV,output:DV,group:IV};function RV(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const LV=e=>{const{width:t,height:r,x:n,y:a}=Ru(e.nodeLookup,{filter:s=>!!s.selected});return{width:vn(t)?t:null,height:vn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function $V({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Ye(),{width:a,height:s,transformString:i,userSelectionActive:l}=je(LV,qe),c=OA(),u=y.useRef(null);if(y.useEffect(()=>{var h;r||(h=u.current)==null||h.focus({preventScroll:!0})},[r]),PA({nodeRef:u}),l||!a||!s)return null;const d=e?h=>{const m=n.getState().nodes.filter(p=>p.selected);e(h,m)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(_h,h.key)&&(h.preventDefault(),c({direction:_h[h.key],factor:h.shiftKey?4:1}))};return o.jsx("div",{className:ht(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:o.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:s}})})}const vN=typeof window<"u"?window:void 0,zV=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function TA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:p,panActivationKeyCode:x,zoomActivationKeyCode:v,elementsSelectable:g,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:S,defaultViewport:O,translateExtent:I,minZoom:E,maxZoom:C,preventScrolling:L,onSelectionContextMenu:P,noWheelClassName:D,noPanClassName:A,disableKeyboardA11y:R,onViewportChange:T,isControlledViewport:M}){const{nodesSelectionActive:z,userSelectionActive:B}=je(zV,qe),F=eu(u,{target:vN}),Y=eu(x,{target:vN}),q=Y||S,Q=Y||j,le=d&&q!==!0,Z=F||B||le;return vV({deleteKeyCode:c,multiSelectionKeyCode:p}),o.jsx(jV,{onPaneContextMenu:s,elementsSelectable:g,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:Q,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!F&&q,defaultViewport:O,translateExtent:I,minZoom:E,maxZoom:C,zoomActivationKeyCode:v,preventScrolling:L,noWheelClassName:D,noPanClassName:A,onViewportChange:T,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:le,children:o.jsxs(SV,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:q,isSelecting:!!Z,selectionMode:f,selectionKeyPressed:F,paneClickDistance:l,selectionOnDrag:le,children:[e,z&&o.jsx($V,{onSelectionContextMenu:P,noPanClassName:A,disableKeyboardA11y:R})]})})}TA.displayName="FlowRenderer";const FV=y.memo(TA),BV=e=>t=>e?xb(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function UV(e){return je(y.useCallback(BV(e),[e]),qe)}const HV=e=>e.updateNodeInternals;function VV(){const e=je(HV),[t]=y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const s=a.target.getAttribute("data-id");n.set(s,{id:s,nodeElement:a.target,force:!0})}),e(n)}));return y.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function WV({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=Ye(),s=y.useRef(null),i=y.useRef(null),l=y.useRef(e.sourcePosition),c=y.useRef(e.targetPosition),u=y.useRef(t),d=r&&!!e.internals.handleBounds;return y.useEffect(()=>{s.current&&!e.hidden&&(!d||i.current!==s.current)&&(i.current&&(n==null||n.unobserve(i.current)),n==null||n.observe(s.current),i.current=s.current)},[d,e.hidden]),y.useEffect(()=>()=>{i.current&&(n==null||n.unobserve(i.current),i.current=null)},[]),y.useEffect(()=>{if(s.current){const f=u.current!==t,h=l.current!==e.sourcePosition,m=c.current!==e.targetPosition;(f||h||m)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function KV({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:s,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:m,disableKeyboardA11y:p,rfId:x,nodeTypes:v,nodeClickDistance:g,onError:w}){const{node:b,internals:j,isParent:k}=je(X=>{const U=X.nodeLookup.get(e),te=X.parentLookup.has(e);return{node:U,internals:U.internals,isParent:te}},qe);let _=b.type||"default",N=(v==null?void 0:v[_])||xN[_];N===void 0&&(w==null||w("003",Xn.error003(_)),_="default",N=(v==null?void 0:v.default)||xN.default);const S=!!(b.draggable||l&&typeof b.draggable>"u"),O=!!(b.selectable||c&&typeof b.selectable>"u"),I=!!(b.connectable||u&&typeof b.connectable>"u"),E=!!(b.focusable||d&&typeof b.focusable>"u"),C=Ye(),L=ZO(b),P=WV({node:b,nodeType:_,hasDimensions:L,resizeObserver:f}),D=PA({nodeRef:P,disabled:b.hidden||!S,noDragClassName:h,handleSelector:b.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:g}),A=OA();if(b.hidden)return null;const R=za(b),T=RV(b),M=O||S||t||r||n||a,z=r?X=>r(X,{...j.userNode}):void 0,B=n?X=>n(X,{...j.userNode}):void 0,F=a?X=>a(X,{...j.userNode}):void 0,Y=s?X=>s(X,{...j.userNode}):void 0,q=i?X=>i(X,{...j.userNode}):void 0,Q=X=>{const{selectNodesOnDrag:U,nodeDragThreshold:te}=C.getState();O&&(!U||!S||te>0)&&Wy({id:e,store:C,nodeRef:P}),t&&t(X,{...j.userNode})},le=X=>{if(!(tA(X.nativeEvent)||p)){if(HO.includes(X.key)&&O){const U=X.key==="Escape";Wy({id:e,store:C,unselect:U,nodeRef:P})}else if(S&&b.selected&&Object.prototype.hasOwnProperty.call(_h,X.key)){X.preventDefault();const{ariaLabelConfig:U}=C.getState();C.setState({ariaLiveMessage:U["node.a11yDescription.ariaLiveMessage"]({direction:X.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),A({direction:_h[X.key],factor:X.shiftKey?4:1})}}},Z=()=>{var ce;if(p||!((ce=P.current)!=null&&ce.matches(":focus-visible")))return;const{transform:X,width:U,height:te,autoPanOnNodeFocus:J,setCenter:K}=C.getState();if(!J)return;xb(new Map([[e,b]]),{x:0,y:0,width:U,height:te},X,!0).length>0||K(b.position.x+R.width/2,b.position.y+R.height/2,{zoom:X[2]})};return o.jsx("div",{className:ht(["react-flow__node",`react-flow__node-${_}`,{[m]:S},b.className,{selected:b.selected,selectable:O,parent:k,draggable:S,dragging:D}]),ref:P,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:L?"visible":"hidden",...b.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:B,onMouseLeave:F,onContextMenu:Y,onClick:Q,onDoubleClick:q,onKeyDown:E?le:void 0,tabIndex:E?0:void 0,onFocus:E?Z:void 0,role:b.ariaRole??(E?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${wA}-${x}`,"aria-label":b.ariaLabel,...b.domAttributes,children:o.jsx(CV,{value:e,children:o.jsx(N,{id:e,data:b.data,type:_,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:b.selected??!1,selectable:O,draggable:S,deletable:b.deletable??!0,isConnectable:I,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:D,dragHandle:b.dragHandle,zIndex:j.z,parentId:b.parentId,...R})})})}var qV=y.memo(KV);const YV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function MA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:s}=je(YV,qe),i=UV(e.onlyRenderVisibleElements),l=VV();return o.jsx("div",{className:"react-flow__nodes",style:ep,children:i.map(c=>o.jsx(qV,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}MA.displayName="NodeRenderer";const GV=y.memo(MA);function XV(e){return je(y.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const s=r.nodeLookup.get(a.source),i=r.nodeLookup.get(a.target);s&&i&&nH({sourceNode:s,targetNode:i,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),qe)}const QV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},ZV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},bN={[wh.Arrow]:QV,[wh.ArrowClosed]:ZV};function JV(e){const t=Ye();return y.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(bN,e)?bN[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",Xn.error009(e)),null)},[e])}const eW=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=JV(t);return c?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:o.jsx(c,{color:r,strokeWidth:i})}):null},IA=({defaultColor:e,rfId:t})=>{const r=je(s=>s.edges),n=je(s=>s.defaultEdgeOptions),a=y.useMemo(()=>uH(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:a.map(s=>o.jsx(eW,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};IA.displayName="MarkerDefinitions";var tW=y.memo(IA);function DA({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:s,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[f,h]=y.useState({x:1,y:0,width:0,height:0}),m=ht(["react-flow__edge-textwrapper",u]),p=y.useRef(null);return y.useEffect(()=>{if(p.current){const x=p.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d,children:[a&&o.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),o.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}DA.displayName="EdgeText";const rW=y.memo(DA);function Jo({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...d,d:e,fill:"none",className:ht(["react-flow__edge-path",d.className])}),u?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&vn(t)&&vn(r)?o.jsx(rW,{x:t,y:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function wN({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===de.Left||e===de.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function RA({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:s=de.Top}){const[i,l]=wN({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=wN({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,h,m]=nA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${l} ${c},${u} ${n},${a}`,d,f,h,m]}function LA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,interactionWidth:g})=>{const[w,b,j]=RA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l}),k=e.isInternal?void 0:t;return o.jsx(Jo,{id:k,path:w,labelX:b,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,interactionWidth:g})})}const nW=LA({isInternal:!1}),$A=LA({isInternal:!0});nW.displayName="SimpleBezierEdge";$A.displayName="SimpleBezierEdgeInternal";function zA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:m=de.Bottom,targetPosition:p=de.Top,markerEnd:x,markerStart:v,pathOptions:g,interactionWidth:w})=>{const[b,j,k]=Nh({sourceX:r,sourceY:n,sourcePosition:m,targetX:a,targetY:s,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),_=e.isInternal?void 0:t;return o.jsx(Jo,{id:_,path:b,labelX:j,labelY:k,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:x,markerStart:v,interactionWidth:w})})}const FA=zA({isInternal:!1}),BA=zA({isInternal:!0});FA.displayName="SmoothStepEdge";BA.displayName="SmoothStepEdgeInternal";function UA(e){return y.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return o.jsx(FA,{...r,id:n,pathOptions:y.useMemo(()=>{var s;return{borderRadius:0,offset:(s=r.pathOptions)==null?void 0:s.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const aW=UA({isInternal:!1}),HA=UA({isInternal:!0});aW.displayName="StepEdge";HA.displayName="StepEdgeInternal";function VA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:x})=>{const[v,g,w]=oA({sourceX:r,sourceY:n,targetX:a,targetY:s}),b=e.isInternal?void 0:t;return o.jsx(Jo,{id:b,path:v,labelX:g,labelY:w,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:x})})}const sW=VA({isInternal:!1}),WA=VA({isInternal:!0});sW.displayName="StraightEdge";WA.displayName="StraightEdgeInternal";function KA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i=de.Bottom,targetPosition:l=de.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,pathOptions:g,interactionWidth:w})=>{const[b,j,k]=aA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l,curvature:g==null?void 0:g.curvature}),_=e.isInternal?void 0:t;return o.jsx(Jo,{id:_,path:b,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,interactionWidth:w})})}const iW=KA({isInternal:!1}),qA=KA({isInternal:!0});iW.displayName="BezierEdge";qA.displayName="BezierEdgeInternal";const jN={default:qA,straight:WA,step:HA,smoothstep:BA,simplebezier:$A},kN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},oW=(e,t,r)=>r===de.Left?e-t:r===de.Right?e+t:e,lW=(e,t,r)=>r===de.Top?e-t:r===de.Bottom?e+t:e,NN="react-flow__edgeupdater";function _N({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:l}){return o.jsx("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:ht([NN,`${NN}-${l}`]),cx:oW(t,n,e),cy:lW(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function cW({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:s,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:m}){const p=Ye(),x=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:S,connectionMode:O,connectionRadius:I,lib:E,onConnectStart:C,onConnectEnd:L,cancelConnection:P,nodeLookup:D,rfId:A,panBy:R,updateConnection:T}=p.getState(),M=k.type==="target",z=(Y,q)=>{h(!1),f==null||f(Y,r,k.type,q)},B=Y=>u==null?void 0:u(r,Y),F=(Y,q)=>{h(!0),d==null||d(j,r,k.type),C==null||C(Y,q)};Vy.onPointerDown(j.nativeEvent,{autoPanOnConnect:_,connectionMode:O,connectionRadius:I,domNode:N,handleId:k.id,nodeId:k.nodeId,nodeLookup:D,isTarget:M,edgeUpdaterType:k.type,lib:E,flowId:A,cancelConnection:P,panBy:R,isValidConnection:S,onConnect:B,onConnectStart:F,onConnectEnd:L,onReconnectEnd:z,updateConnection:T,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},v=j=>x(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),g=j=>x(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),w=()=>m(!0),b=()=>m(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(_N,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:v,onMouseEnter:w,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&o.jsx(_N,{position:c,centerX:s,centerY:i,radius:t,onMouseDown:g,onMouseEnter:w,onMouseOut:b,type:"target"})]})}function uW({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,rfId:p,edgeTypes:x,noPanClassName:v,onError:g,disableKeyboardA11y:w}){let b=je(K=>K.edgeLookup.get(e));const j=je(K=>K.defaultEdgeOptions);b=j?{...j,...b}:b;let k=b.type||"default",_=(x==null?void 0:x[k])||jN[k];_===void 0&&(g==null||g("011",Xn.error011(k)),k="default",_=(x==null?void 0:x.default)||jN.default);const N=!!(b.focusable||t&&typeof b.focusable>"u"),S=typeof f<"u"&&(b.reconnectable||r&&typeof b.reconnectable>"u"),O=!!(b.selectable||n&&typeof b.selectable>"u"),I=y.useRef(null),[E,C]=y.useState(!1),[L,P]=y.useState(!1),D=Ye(),{zIndex:A,sourceX:R,sourceY:T,targetX:M,targetY:z,sourcePosition:B,targetPosition:F}=je(y.useCallback(K=>{const re=K.nodeLookup.get(b.source),ce=K.nodeLookup.get(b.target);if(!re||!ce)return{zIndex:b.zIndex,...kN};const ge=cH({id:e,sourceNode:re,targetNode:ce,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:K.connectionMode,onError:g});return{zIndex:rH({selected:b.selected,zIndex:b.zIndex,sourceNode:re,targetNode:ce,elevateOnSelect:K.elevateEdgesOnSelect,zIndexMode:K.zIndexMode}),...ge||kN}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),qe),Y=y.useMemo(()=>b.markerStart?`url('#${Uy(b.markerStart,p)}')`:void 0,[b.markerStart,p]),q=y.useMemo(()=>b.markerEnd?`url('#${Uy(b.markerEnd,p)}')`:void 0,[b.markerEnd,p]);if(b.hidden||R===null||T===null||M===null||z===null)return null;const Q=K=>{var pe;const{addSelectedEdges:re,unselectNodesAndEdges:ce,multiSelectionActive:ge}=D.getState();O&&(D.setState({nodesSelectionActive:!1}),b.selected&&ge?(ce({nodes:[],edges:[b]}),(pe=I.current)==null||pe.blur()):re([e])),a&&a(K,b)},le=s?K=>{s(K,{...b})}:void 0,Z=i?K=>{i(K,{...b})}:void 0,X=l?K=>{l(K,{...b})}:void 0,U=c?K=>{c(K,{...b})}:void 0,te=u?K=>{u(K,{...b})}:void 0,J=K=>{var re;if(!w&&HO.includes(K.key)&&O){const{unselectNodesAndEdges:ce,addSelectedEdges:ge}=D.getState();K.key==="Escape"?((re=I.current)==null||re.blur(),ce({edges:[b]})):ge([e])}};return o.jsx("svg",{style:{zIndex:A},children:o.jsxs("g",{className:ht(["react-flow__edge",`react-flow__edge-${k}`,b.className,v,{selected:b.selected,animated:b.animated,inactive:!O&&!a,updating:E,selectable:O}]),onClick:Q,onDoubleClick:le,onContextMenu:Z,onMouseEnter:X,onMouseMove:U,onMouseLeave:te,onKeyDown:N?J:void 0,tabIndex:N?0:void 0,role:b.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":N?`${jA}-${p}`:void 0,ref:I,...b.domAttributes,children:[!L&&o.jsx(_,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:O,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:R,sourceY:T,targetX:M,targetY:z,sourcePosition:B,targetPosition:F,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:Y,markerEnd:q,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),S&&o.jsx(cW,{edge:b,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,sourceX:R,sourceY:T,targetX:M,targetY:z,sourcePosition:B,targetPosition:F,setUpdateHover:C,setReconnecting:P})]})})}var dW=y.memo(uW);const fW=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function YA({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,disableKeyboardA11y:x}){const{edgesFocusable:v,edgesReconnectable:g,elementsSelectable:w,onError:b}=je(fW,qe),j=XV(t);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(tW,{defaultColor:e,rfId:r}),j.map(k=>o.jsx(dW,{id:k,edgesFocusable:v,edgesReconnectable:g,elementsSelectable:w,noPanClassName:a,onReconnect:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,rfId:r,onError:b,edgeTypes:n,disableKeyboardA11y:x},k))]})}YA.displayName="EdgeRenderer";const hW=y.memo(YA),mW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function pW({children:e}){const t=je(mW);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function gW(e){const t=xl(),r=y.useRef(!1);y.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const yW=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function xW(e){const t=je(yW),r=Ye();return y.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function vW(e){return e.connection.inProgress?{...e.connection,to:$u(e.connection.to,e.transform)}:{...e.connection}}function bW(e){return vW}function wW(e){const t=bW();return je(t,qe)}const jW=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function kW({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:s,height:i,isValid:l,inProgress:c}=je(jW,qe);return!(s&&a&&c)?null:o.jsx("svg",{style:e,width:s,height:i,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:ht(["react-flow__connection",KO(l)]),children:o.jsx(GA,{style:t,type:r,CustomComponent:n,isValid:l})})})}const GA=({style:e,type:t=ts.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:s,fromNode:i,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:h,pointer:m}=wW();if(!a)return;if(r)return o.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:h,connectionStatus:KO(n),toNode:d,toHandle:f,pointer:m});let p="";const x={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case ts.Bezier:[p]=aA(x);break;case ts.SimpleBezier:[p]=RA(x);break;case ts.Step:[p]=Nh({...x,borderRadius:0});break;case ts.SmoothStep:[p]=Nh(x);break;default:[p]=oA(x)}return o.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};GA.displayName="ConnectionLine";const NW={};function SN(e=NW){y.useRef(e),Ye(),y.useEffect(()=>{},[e])}function _W(){Ye(),y.useRef(!1),y.useEffect(()=>{},[])}function XA({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:s,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:m,connectionLineType:p,connectionLineStyle:x,connectionLineComponent:v,connectionLineContainerStyle:g,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:S,onlyRenderVisibleElements:O,elementsSelectable:I,defaultViewport:E,translateExtent:C,minZoom:L,maxZoom:P,preventScrolling:D,defaultMarkerColor:A,zoomOnScroll:R,zoomOnPinch:T,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:B,zoomOnDoubleClick:F,panOnDrag:Y,onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:le,onPaneMouseLeave:Z,onPaneScroll:X,onPaneContextMenu:U,paneClickDistance:te,nodeClickDistance:J,onEdgeContextMenu:K,onEdgeMouseEnter:re,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,onReconnect:Ie,onReconnectStart:lr,onReconnectEnd:H,noDragClassName:ae,noWheelClassName:fe,noPanClassName:me,disableKeyboardA11y:_e,nodeExtent:Oe,rfId:cr,viewport:Yt,onViewportChange:_r}){return SN(e),SN(t),_W(),gW(r),xW(Yt),o.jsx(FV,{onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:le,onPaneMouseLeave:Z,onPaneContextMenu:U,onPaneScroll:X,paneClickDistance:te,deleteKeyCode:S,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:I,zoomOnScroll:R,zoomOnPinch:T,zoomOnDoubleClick:F,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:B,panOnDrag:Y,defaultViewport:E,translateExtent:C,minZoom:L,maxZoom:P,onSelectionContextMenu:f,preventScrolling:D,noDragClassName:ae,noWheelClassName:fe,noPanClassName:me,disableKeyboardA11y:_e,onViewportChange:_r,isControlledViewport:!!Yt,children:o.jsxs(pW,{children:[o.jsx(hW,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Ie,onReconnectStart:lr,onReconnectEnd:H,onlyRenderVisibleElements:O,onEdgeContextMenu:K,onEdgeMouseEnter:re,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,defaultMarkerColor:A,noPanClassName:me,disableKeyboardA11y:_e,rfId:cr}),o.jsx(kW,{style:x,type:p,component:v,containerStyle:g}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(GV,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:J,onlyRenderVisibleElements:O,noPanClassName:me,noDragClassName:ae,disableKeyboardA11y:_e,nodeExtent:Oe,rfId:cr}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}XA.displayName="GraphView";const SW=y.memo(XA),EN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const m=new Map,p=new Map,x=new Map,v=new Map,g=n??t??[],w=r??e??[],b=d??[0,0],j=f??Xc;uA(x,v,g);const k=Hy(w,m,p,{nodeOrigin:b,nodeExtent:j,zIndexMode:h});let _=[0,0,1];if(i&&a&&s){const N=Ru(m,{filter:E=>!!((E.width||E.initialWidth)&&(E.height||E.initialHeight))}),{x:S,y:O,zoom:I}=vb(N,a,s,c,u,(l==null?void 0:l.padding)??.1);_=[S,O,I]}return{rfId:"1",width:a??0,height:s??0,transform:_,nodes:w,nodesInitialized:k,nodeLookup:m,parentLookup:p,edges:g,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:Xc,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:qo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...WO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:XU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:VO,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},EW=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>WH((m,p)=>{async function x(){const{nodeLookup:v,panZoom:g,fitViewOptions:w,fitViewResolver:b,width:j,height:k,minZoom:_,maxZoom:N}=p();g&&(await YU({nodes:v,width:j,height:k,panZoom:g,minZoom:_,maxZoom:N},w),b==null||b.resolve(!0),m({fitViewResolver:null}))}return{...EN({nodes:e,edges:t,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:h}),setNodes:v=>{const{nodeLookup:g,parentLookup:w,nodeOrigin:b,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:_}=p(),N=Hy(v,g,w,{nodeOrigin:b,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:_});k&&N?(x(),m({nodes:v,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:v,nodesInitialized:N})},setEdges:v=>{const{connectionLookup:g,edgeLookup:w}=p();uA(g,w,v),m({edges:v})},setDefaultNodesAndEdges:(v,g)=>{if(v){const{setNodes:w}=p();w(v),m({hasDefaultNodes:!0})}if(g){const{setEdges:w}=p();w(g),m({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:g,nodeLookup:w,parentLookup:b,domNode:j,nodeOrigin:k,nodeExtent:_,debug:N,fitViewQueued:S,zIndexMode:O}=p(),{changes:I,updatedInternals:E}=yH(v,w,b,j,k,_,O);E&&(hH(w,b,{nodeOrigin:k,nodeExtent:_,zIndexMode:O}),S?(x(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(I==null?void 0:I.length)>0&&(N&&console.log("React Flow: trigger node changes",I),g==null||g(I)))},updateNodePositions:(v,g=!1)=>{const w=[];let b=[];const{nodeLookup:j,triggerNodeChanges:k,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:S}=p();for(const[O,I]of v){const E=j.get(O),C=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(I!=null&&I.position)),L={id:O,type:"position",position:C?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:g};if(E&&_.inProgress&&_.fromNode.id===E.id){const P=Ai(E,_.fromHandle,de.Left,!0);N({..._,from:P})}C&&E.parentId&&w.push({id:O,parentId:E.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width??0,height:I.measured.height??0}}),b.push(L)}if(w.length>0){const{parentLookup:O,nodeOrigin:I}=p(),E=_b(w,j,O,I);b.push(...E)}for(const O of S.values())b=O(b);k(b)},triggerNodeChanges:v=>{const{onNodesChange:g,setNodes:w,nodes:b,hasDefaultNodes:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=_A(v,b);w(_)}k&&console.log("React Flow: trigger node changes",v),g==null||g(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:g,setEdges:w,edges:b,hasDefaultEdges:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=SA(v,b);w(_)}k&&console.log("React Flow: trigger edge changes",v),g==null||g(v)}},addSelectedNodes:v=>{const{multiSelectionActive:g,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>Ws(N,!0));j(_);return}j(fo(b,new Set([...v]),!0)),k(fo(w))},addSelectedEdges:v=>{const{multiSelectionActive:g,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>Ws(N,!0));k(_);return}k(fo(w,new Set([...v]))),j(fo(b,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:g}={})=>{const{edges:w,nodes:b,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:_}=p(),N=v||b,S=g||w,O=N.map(E=>{const C=j.get(E.id);return C&&(C.selected=!1),Ws(E.id,!1)}),I=S.map(E=>Ws(E.id,!1));k(O),_(I)},setMinZoom:v=>{const{panZoom:g,maxZoom:w}=p();g==null||g.setScaleExtent([v,w]),m({minZoom:v})},setMaxZoom:v=>{const{panZoom:g,minZoom:w}=p();g==null||g.setScaleExtent([w,v]),m({maxZoom:v})},setTranslateExtent:v=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(v),m({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:g,triggerNodeChanges:w,triggerEdgeChanges:b,elementsSelectable:j}=p();if(!j)return;const k=g.reduce((N,S)=>S.selected?[...N,Ws(S.id,!1)]:N,[]),_=v.reduce((N,S)=>S.selected?[...N,Ws(S.id,!1)]:N,[]);w(k),b(_)},setNodeExtent:v=>{const{nodes:g,nodeLookup:w,parentLookup:b,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:N}=p();v[0][0]===_[0][0]&&v[0][1]===_[0][1]&&v[1][0]===_[1][0]&&v[1][1]===_[1][1]||(Hy(g,w,b,{nodeOrigin:j,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:N}),m({nodeExtent:v}))},panBy:v=>{const{transform:g,width:w,height:b,panZoom:j,translateExtent:k}=p();return xH({delta:v,panZoom:j,transform:g,translateExtent:k,width:w,height:b})},setCenter:async(v,g,w)=>{const{width:b,height:j,maxZoom:k,panZoom:_}=p();if(!_)return Promise.resolve(!1);const N=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:k;return await _.setViewport({x:b/2-v*N,y:j/2-g*N,zoom:N},{duration:w==null?void 0:w.duration,ease:w==null?void 0:w.ease,interpolate:w==null?void 0:w.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...WO}})},updateConnection:v=>{m({connection:v})},reset:()=>m({...EN()})}},Object.is);function QA({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:s,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:m}){const[p]=y.useState(()=>EW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:u,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return o.jsx(KH,{value:p,children:o.jsx(pV,{children:m})})}function CW({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:s,height:i,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m}){return y.useContext(Zm)?o.jsx(o.Fragment,{children:e}):o.jsx(QA,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:s,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m,children:e})}const PW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function OW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:g,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:O,onNodesDelete:I,onEdgesDelete:E,onDelete:C,onSelectionChange:L,onSelectionDragStart:P,onSelectionDrag:D,onSelectionDragStop:A,onSelectionContextMenu:R,onSelectionStart:T,onSelectionEnd:M,onBeforeDelete:z,connectionMode:B,connectionLineType:F=ts.Bezier,connectionLineStyle:Y,connectionLineComponent:q,connectionLineContainerStyle:Q,deleteKeyCode:le="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:X=!1,selectionMode:U=Qc.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:J=Jc()?"Meta":"Control",zoomActivationKeyCode:K=Jc()?"Meta":"Control",snapToGrid:re,snapGrid:ce,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:pe,nodesDraggable:Ie,autoPanOnNodeFocus:lr,nodesConnectable:H,nodesFocusable:ae,nodeOrigin:fe=kA,edgesFocusable:me,edgesReconnectable:_e,elementsSelectable:Oe=!0,defaultViewport:cr=sV,minZoom:Yt=.5,maxZoom:_r=2,translateExtent:on=Xc,preventScrolling:Bs=!0,nodeExtent:Gt,defaultMarkerColor:Al="#b1b1b7",zoomOnScroll:E3=!0,zoomOnPinch:C3=!0,panOnScroll:P3=!1,panOnScrollSpeed:O3=.5,panOnScrollMode:A3=yi.Free,zoomOnDoubleClick:T3=!0,panOnDrag:M3=!0,onPaneClick:I3,onPaneMouseEnter:D3,onPaneMouseMove:R3,onPaneMouseLeave:L3,onPaneScroll:$3,onPaneContextMenu:z3,paneClickDistance:F3=1,nodeClickDistance:B3=0,children:U3,onReconnect:H3,onReconnectStart:V3,onReconnectEnd:W3,onEdgeContextMenu:K3,onEdgeDoubleClick:q3,onEdgeMouseEnter:Y3,onEdgeMouseMove:G3,onEdgeMouseLeave:X3,reconnectRadius:Q3=10,onNodesChange:Z3,onEdgesChange:J3,noDragClassName:e5="nodrag",noWheelClassName:t5="nowheel",noPanClassName:S1="nopan",fitView:E1,fitViewOptions:C1,connectOnClick:r5,attributionPosition:n5,proOptions:a5,defaultEdgeOptions:s5,elevateNodesOnSelect:i5=!0,elevateEdgesOnSelect:o5=!1,disableKeyboardA11y:P1=!1,autoPanOnConnect:l5,autoPanOnNodeDrag:c5,autoPanSpeed:u5,connectionRadius:d5,isValidConnection:f5,onError:h5,style:m5,id:O1,nodeDragThreshold:p5,connectionDragThreshold:g5,viewport:y5,onViewportChange:x5,width:v5,height:b5,colorMode:w5="light",debug:j5,onScroll:md,ariaLabelConfig:k5,zIndexMode:A1="basic",...N5},_5){const tg=O1||"1",S5=cV(w5),E5=y.useCallback(T1=>{T1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),md==null||md(T1)},[md]);return o.jsx("div",{"data-testid":"rf__wrapper",...N5,onScroll:E5,style:{...m5,...PW},ref:_5,className:ht(["react-flow",a,S5]),id:O1,role:"application",children:o.jsxs(CW,{nodes:e,edges:t,width:v5,height:b5,fitView:E1,fitViewOptions:C1,minZoom:Yt,maxZoom:_r,nodeOrigin:fe,nodeExtent:Gt,zIndexMode:A1,children:[o.jsx(SW,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:s,edgeTypes:i,connectionLineType:F,connectionLineStyle:Y,connectionLineComponent:q,connectionLineContainerStyle:Q,selectionKeyCode:Z,selectionOnDrag:X,selectionMode:U,deleteKeyCode:le,multiSelectionKeyCode:J,panActivationKeyCode:te,zoomActivationKeyCode:K,onlyRenderVisibleElements:ge,defaultViewport:cr,translateExtent:on,minZoom:Yt,maxZoom:_r,preventScrolling:Bs,zoomOnScroll:E3,zoomOnPinch:C3,zoomOnDoubleClick:T3,panOnScroll:P3,panOnScrollSpeed:O3,panOnScrollMode:A3,panOnDrag:M3,onPaneClick:I3,onPaneMouseEnter:D3,onPaneMouseMove:R3,onPaneMouseLeave:L3,onPaneScroll:$3,onPaneContextMenu:z3,paneClickDistance:F3,nodeClickDistance:B3,onSelectionContextMenu:R,onSelectionStart:T,onSelectionEnd:M,onReconnect:H3,onReconnectStart:V3,onReconnectEnd:W3,onEdgeContextMenu:K3,onEdgeDoubleClick:q3,onEdgeMouseEnter:Y3,onEdgeMouseMove:G3,onEdgeMouseLeave:X3,reconnectRadius:Q3,defaultMarkerColor:Al,noDragClassName:e5,noWheelClassName:t5,noPanClassName:S1,rfId:tg,disableKeyboardA11y:P1,nodeExtent:Gt,viewport:y5,onViewportChange:x5}),o.jsx(lV,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:g,nodesDraggable:Ie,autoPanOnNodeFocus:lr,nodesConnectable:H,nodesFocusable:ae,edgesFocusable:me,edgesReconnectable:_e,elementsSelectable:Oe,elevateNodesOnSelect:i5,elevateEdgesOnSelect:o5,minZoom:Yt,maxZoom:_r,nodeExtent:Gt,onNodesChange:Z3,onEdgesChange:J3,snapToGrid:re,snapGrid:ce,connectionMode:B,translateExtent:on,connectOnClick:r5,defaultEdgeOptions:s5,fitView:E1,fitViewOptions:C1,onNodesDelete:I,onEdgesDelete:E,onDelete:C,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:O,onSelectionDrag:D,onSelectionDragStart:P,onSelectionDragStop:A,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:S1,nodeOrigin:fe,rfId:tg,autoPanOnConnect:l5,autoPanOnNodeDrag:c5,autoPanSpeed:u5,onError:h5,connectionRadius:d5,isValidConnection:f5,selectNodesOnDrag:pe,nodeDragThreshold:p5,connectionDragThreshold:g5,onBeforeDelete:z,debug:j5,ariaLabelConfig:k5,zIndexMode:A1}),o.jsx(aV,{onSelectionChange:L}),U3,o.jsx(JH,{proOptions:a5,position:n5}),o.jsx(ZH,{rfId:tg,disableKeyboardA11y:P1})]})})}var AW=EA(OW);const TW=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function MW({children:e}){const t=je(TW);return t?ku.createPortal(e,t):null}function IW({dimensions:e,lineWidth:t,variant:r,className:n}){return o.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ht(["react-flow__background-pattern",r,n])})}function DW({radius:e,className:t}){return o.jsx("circle",{cx:e,cy:e,r:e,className:ht(["react-flow__background-pattern","dots",t])})}var ks;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ks||(ks={}));const RW={[ks.Dots]:1,[ks.Lines]:1,[ks.Cross]:6},LW=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function ZA({id:e,variant:t=ks.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=0,color:i,bgColor:l,style:c,className:u,patternClassName:d}){const f=y.useRef(null),{transform:h,patternId:m}=je(LW,qe),p=n||RW[t],x=t===ks.Dots,v=t===ks.Cross,g=Array.isArray(r)?r:[r,r],w=[g[0]*h[2]||1,g[1]*h[2]||1],b=p*h[2],j=Array.isArray(s)?s:[s,s],k=v?[b,b]:w,_=[j[0]*h[2]||1+k[0]/2,j[1]*h[2]||1+k[1]/2],N=`${m}${e||""}`;return o.jsxs("svg",{className:ht(["react-flow__background",u]),style:{...c,...ep,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[o.jsx("pattern",{id:N,x:h[0]%w[0],y:h[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:x?o.jsx(DW,{radius:b/2,className:d}):o.jsx(IW,{dimensions:k,lineWidth:a,variant:t,className:d})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}ZA.displayName="Background";const $W=y.memo(ZA);function zW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function FW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function BW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function UW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function HW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Kd({children:e,className:t,...r}){return o.jsx("button",{type:"button",className:ht(["react-flow__controls-button",t]),...r,children:e})}const VW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function JA({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":m}){const p=Ye(),{isInteractive:x,minZoomReached:v,maxZoomReached:g,ariaLabelConfig:w}=je(VW,qe),{zoomIn:b,zoomOut:j,fitView:k}=xl(),_=()=>{b(),s==null||s()},N=()=>{j(),i==null||i()},S=()=>{k(a),l==null||l()},O=()=>{p.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)},I=h==="horizontal"?"horizontal":"vertical";return o.jsxs(Jm,{className:ht(["react-flow__controls",I,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??w["controls.ariaLabel"],children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Kd,{onClick:_,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:g,children:o.jsx(zW,{})}),o.jsx(Kd,{onClick:N,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:v,children:o.jsx(FW,{})})]}),r&&o.jsx(Kd,{className:"react-flow__controls-fitview",onClick:S,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:o.jsx(BW,{})}),n&&o.jsx(Kd,{className:"react-flow__controls-interactive",onClick:O,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:x?o.jsx(HW,{}):o.jsx(UW,{})}),d]})}JA.displayName="Controls";const WW=y.memo(JA);function KW({id:e,x:t,y:r,width:n,height:a,style:s,color:i,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:h,onClick:m}){const{background:p,backgroundColor:x}=s||{},v=i||p||x;return o.jsx("rect",{className:ht(["react-flow__minimap-node",{selected:h},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:v,stroke:l,strokeWidth:c},shapeRendering:f,onClick:m?g=>m(g,e):void 0})}const qW=y.memo(KW),YW=e=>e.nodes.map(t=>t.id),Vg=e=>e instanceof Function?e:()=>e;function GW({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:s=qW,onClick:i}){const l=je(YW,qe),c=Vg(t),u=Vg(e),d=Vg(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:l.map(h=>o.jsx(QW,{id:h,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:s,onClick:i,shapeRendering:f},h))})}function XW({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:s,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:h,height:m}=je(p=>{const{internals:x}=p.nodeLookup.get(e),v=x.userNode,{x:g,y:w}=x.positionAbsolute,{width:b,height:j}=za(v);return{node:v,x:g,y:w,width:b,height:j}},qe);return!u||u.hidden||!ZO(u)?null:o.jsx(l,{x:d,y:f,width:h,height:m,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:s,shapeRendering:i,onClick:c,id:u.id})}const QW=y.memo(XW);var ZW=y.memo(GW);const JW=200,eK=150,tK=e=>!e.hidden,rK=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?QO(Ru(e.nodeLookup,{filter:tK}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},nK="react-flow__minimap-desc";function eT({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:s=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:m,onNodeClick:p,pannable:x=!1,zoomable:v=!1,ariaLabel:g,inversePan:w,zoomStep:b=1,offsetScale:j=5}){const k=Ye(),_=y.useRef(null),{boundingRect:N,viewBB:S,rfId:O,panZoom:I,translateExtent:E,flowWidth:C,flowHeight:L,ariaLabelConfig:P}=je(rK,qe),D=(e==null?void 0:e.width)??JW,A=(e==null?void 0:e.height)??eK,R=N.width/D,T=N.height/A,M=Math.max(R,T),z=M*D,B=M*A,F=j*M,Y=N.x-(z-N.width)/2-F,q=N.y-(B-N.height)/2-F,Q=z+F*2,le=B+F*2,Z=`${nK}-${O}`,X=y.useRef(0),U=y.useRef();X.current=M,y.useEffect(()=>{if(_.current&&I)return U.current=EH({domNode:_.current,panZoom:I,getTransform:()=>k.getState().transform,getViewScale:()=>X.current}),()=>{var re;(re=U.current)==null||re.destroy()}},[I]),y.useEffect(()=>{var re;(re=U.current)==null||re.update({translateExtent:E,width:C,height:L,inversePan:w,pannable:x,zoomStep:b,zoomable:v})},[x,v,w,b,E,C,L]);const te=m?re=>{var pe;const[ce,ge]=((pe=U.current)==null?void 0:pe.pointer(re))||[0,0];m(re,{x:ce,y:ge})}:void 0,J=p?y.useCallback((re,ce)=>{const ge=k.getState().nodeLookup.get(ce).internals.userNode;p(re,ge)},[]):void 0,K=g??P["minimap.ariaLabel"];return o.jsx(Jm,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:ht(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:D,height:A,viewBox:`${Y} ${q} ${Q} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:_,onClick:te,children:[K&&o.jsx("title",{id:Z,children:K}),o.jsx(ZW,{onClick:J,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-F},${q-F}h${Q+F*2}v${le+F*2}h${-Q-F*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}eT.displayName="MiniMap";y.memo(eT);const aK=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,sK={[Qo.Line]:"right",[Qo.Handle]:"bottom-right"};function iK({nodeId:e,position:t,variant:r=Qo.Handle,className:n,style:a=void 0,children:s,color:i,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:m=!0,shouldResize:p,onResizeStart:x,onResize:v,onResizeEnd:g}){const w=AA(),b=typeof e=="string"?e:w,j=Ye(),k=y.useRef(null),_=r===Qo.Handle,N=je(y.useCallback(aK(_&&m),[_,m]),qe),S=y.useRef(null),O=t??sK[r];y.useEffect(()=>{if(!(!k.current||!b))return S.current||(S.current=BH({domNode:k.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:E,transform:C,snapGrid:L,snapToGrid:P,nodeOrigin:D,domNode:A}=j.getState();return{nodeLookup:E,transform:C,snapGrid:L,snapToGrid:P,nodeOrigin:D,paneDomNode:A}},onChange:(E,C)=>{const{triggerNodeChanges:L,nodeLookup:P,parentLookup:D,nodeOrigin:A}=j.getState(),R=[],T={x:E.x,y:E.y},M=P.get(b);if(M&&M.expandParent&&M.parentId){const z=M.origin??A,B=E.width??M.measured.width??0,F=E.height??M.measured.height??0,Y={id:M.id,parentId:M.parentId,rect:{width:B,height:F,...JO({x:E.x??M.position.x,y:E.y??M.position.y},{width:B,height:F},M.parentId,P,z)}},q=_b([Y],P,D,A);R.push(...q),T.x=E.x?Math.max(z[0]*B,E.x):void 0,T.y=E.y?Math.max(z[1]*F,E.y):void 0}if(T.x!==void 0&&T.y!==void 0){const z={id:b,type:"position",position:{...T}};R.push(z)}if(E.width!==void 0&&E.height!==void 0){const B={id:b,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:E.width,height:E.height}};R.push(B)}for(const z of C){const B={...z,type:"position"};R.push(B)}L(R)},onEnd:({width:E,height:C})=>{const L={id:b,type:"dimensions",resizing:!1,dimensions:{width:E,height:C}};j.getState().triggerNodeChanges([L])}})),S.current.update({controlPosition:O,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:x,onResize:v,onResizeEnd:g,shouldResize:p}),()=>{var E;(E=S.current)==null||E.destroy()}},[O,l,c,u,d,f,x,v,g,p]);const I=O.split("-");return o.jsx("div",{className:ht(["react-flow__resize-control","nodrag",...I,r,n]),ref:k,style:{...a,scale:N,...i&&{[_?"backgroundColor":"borderColor"]:i}},children:s})}y.memo(iK);const xe=lb((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:_A(r,t().nodes)})},onEdgesChange:r=>{e({edges:SA(r,t().edges)})},onConnect:r=>{e({edges:iA(r,t().edges)})},addNode:(r,n,a={})=>{const s=Se.get(r);if(!s)return console.error(`Node type ${r} not found in registry`),"";const i=`${r}-${Date.now()}`,l={id:i,type:"custom",position:n,data:{definitionType:r,catalogType:r,...s.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),i},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const s=Se.get(a.data.definitionType);if(s){const i=s.validate(a.data);if(!i.isValid)return console.warn(`Node ${a.id} validation failed: ${i.message}`),!1}}for(const a of r){const s=Se.get(a.data.definitionType);if(s&&s.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${s.label}) is disconnected.`),!1}return!0}})),vl=lb(e=>({activeView:"canvas",setView:t=>e({activeView:t}),isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t}),isPropertiesPanelExpanded:!1,setPropertiesPanelExpanded:t=>e({isPropertiesPanelExpanded:t}),isResultsPanelExpanded:!0,setResultsPanelExpanded:t=>e({isResultsPanelExpanded:t})})),oK=()=>{const e=Se.getAll(),t=xe(u=>u.addNode),{isSidebarOpen:r,setSidebarOpen:n}=vl(),[a,s]=y.useState(""),i=(u,d)=>{u.dataTransfer.setData("application/reactflow",d),u.dataTransfer.effectAllowed="move"};if(!r)return o.jsx("div",{className:"absolute left-4 top-4 z-50",children:o.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-background border shadow-md rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Expand Components",children:o.jsx(BF,{className:"w-5 h-5"})})});const l=e.filter(u=>u.label.toLowerCase().includes(a.toLowerCase())||u.category.toLowerCase().includes(a.toLowerCase())),c=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return o.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10 transition-all duration-300",children:[o.jsxs("div",{className:"p-4 border-b space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),o.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Collapse Sidebar",children:o.jsx(FF,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Ui,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:a,onChange:u=>{s(u.target.value)}})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:c.map(u=>{const d=l.filter(f=>f.category===u);return d.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:u}),o.jsx("div",{className:"space-y-2",children:d.map(f=>o.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:h=>{i(h,f.type)},onClick:()=>t(f.type,{x:100,y:100}),children:[o.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:f.icon&&o.jsx(f.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium truncate",children:f.label}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:f.description})]})]},f.type))})]},u)})})]})};function lK(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:cK}=Or;function uK(e){const t=cK();return r=>{const n=e(r);return lK(t.current,n)?t.current:t.current=n}}const dK=y.memo(({id:e,data:t,selected:r})=>{const n=t.definitionType,a=Se.get(n),{deleteElements:s}=xl(),i=xe(u=>u.executionResult),l=i==null?void 0:i.node_results[e],c=u=>{u.stopPropagation(),s({nodes:[{id:e}]})};return a?o.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[o.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&o.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&o.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?o.jsx(wF,{size:10}):o.jsx(Jv,{size:10})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),o.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:o.jsx(rr,{size:14})})]}),o.jsx("div",{className:"p-3",children:a.component?o.jsx(a.component,{data:t}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((u,d)=>o.jsx(Zo,{type:"target",position:de.Left,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.inputs.length+1)}%`},children:o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`input-${u.id}`)),a.outputs.map((u,d)=>o.jsx(Zo,{type:"source",position:de.Right,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.outputs.length+1)}%`},children:o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`output-${u.id}`))]}):o.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[o.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[o.jsx(En,{size:16}),o.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),o.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),fK=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:s,targetPosition:i,style:l={},markerEnd:c})=>{const{deleteElements:u}=xl(),[d,f,h]=Nh({sourceX:t,sourceY:r,sourcePosition:s,targetX:n,targetY:a,targetPosition:i,borderRadius:24}),m=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return o.jsxs(o.Fragment,{children:[o.jsx(Jo,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),o.jsx(Jo,{path:d,markerEnd:c,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),o.jsx(MW,{children:o.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:o.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:m,title:"Remove Connection",children:o.jsx(rr,{size:10})})})})]})},hK={custom:dK},mK={custom:fK},pK=()=>{const e=y.useRef(null),{screenToFlowPosition:t}=xl(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,addNode:l,executionResult:c}=xe(uK(h=>({nodes:h.nodes,edges:h.edges,onNodesChange:h.onNodesChange,onEdgesChange:h.onEdgesChange,onConnect:h.onConnect,addNode:h.addNode,executionResult:h.executionResult}))),{isResultsPanelExpanded:u}=vl(),d=y.useCallback(h=>{h.preventDefault(),h.dataTransfer.dropEffect="move"},[]),f=y.useCallback(h=>{h.preventDefault();const m=h.dataTransfer.getData("application/reactflow");if(typeof m>"u"||!m)return;const p=t({x:h.clientX,y:h.clientY});l(m,p)},[t,l]);return o.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:o.jsxs(AW,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,nodeTypes:hK,onDragOver:d,onDrop:f,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:mK,deleteKeyCode:["Backspace","Delete"],children:[o.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"edge-gradient",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),o.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),o.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),o.jsx($W,{}),o.jsx(WW,{position:"bottom-left",style:c&&!u?{marginBottom:"40px",transition:"margin-bottom 0.3s ease-in-out"}:{transition:"margin-bottom 0.3s ease-in-out"}})]})})},gK=()=>o.jsx(QA,{children:o.jsx(pK,{})}),yK=()=>{const e=xe(i=>i.nodes),{isSidebarOpen:t,isPropertiesPanelExpanded:r,setPropertiesPanelExpanded:n}=vl(),a=e.find(i=>i.selected);Or.useEffect(()=>{a||n(!1)},[a,n]);const s=t?"w-[calc(100vw-300px)]":"w-[calc(100vw-50px)]";return o.jsx("aside",{className:`border-l bg-background shrink-0 transition-all duration-300 ease-in-out overflow-hidden ${a?r?`${s} opacity-100`:"w-80 opacity-100":"w-0 opacity-0"}`,children:a&&o.jsx(xK,{selectedNode:a,isExpanded:r,toggleExpand:()=>n(!r)})})},xK=({selectedNode:e,isExpanded:t,toggleExpand:r})=>{const n=xe(u=>u.updateNodeData),a=xe(u=>u.onNodesChange),s=()=>{a([{id:e.id,type:"select",selected:!1}])},i=e.data.definitionType,l=Se.get(i);if(!l)return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[o.jsx(rr,{className:"w-4 h-4"}),"Error: Node definition '",i,"' not found."]})});const c=l.settings;return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:o.jsx(rb,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-sm",children:String(e.data.label||l.label)}),o.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",e.id]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:r,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:t?o.jsx(LF,{className:"w-4 h-4"}):o.jsx(RF,{className:"w-4 h-4"})}),o.jsx("button",{onClick:s,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:o.jsx(rr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsx("div",{className:"space-y-6",children:o.jsx(c,{config:e.data,onChange:u=>n(e.id,u),nodeId:e.id})})})]})},vK=3e3,qa=50,bl=lb((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchJobs:async()=>{e({isLoading:!0,skip:0});try{const n=await Ct.getJobs(qa,0);e({jobs:n,isLoading:!1,hasMore:n.length===qa})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:s,hasMore:i}=t();if(s||!i)return;const l=n+qa;e({isLoading:!0});try{const c=await Ct.getJobs(qa,l);e({jobs:[...a,...c],isLoading:!1,skip:l,hasMore:c.length===qa})}catch(c){console.error("Failed to load more jobs:",c),e({isLoading:!1})}},submitJob:async n=>{try{const a=await Ct.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await Ct.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,s=n!==void 0?n:!a;e({isDrawerOpen:s}),s?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(async()=>{try{const n=await Ct.getJobs(qa,0);e(s=>s.jobs.length<=qa?{jobs:n}:{jobs:[...n,...s.jobs.slice(qa)]}),!n.some(s=>s.status==="running"||s.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}},vK))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),tp=(e,t)=>{const r=[],n=new Set,a=[],s=e.find(l=>l.data.definitionType==="dataset_node"),i=s==null?void 0:s.data.datasetId;for(s&&a.push(s.id);a.length>0;){const l=a.shift();if(!l||n.has(l))continue;n.add(l);const c=e.find(p=>p.id===l);if(!c)continue;let u="unknown",d={};const h=t.filter(p=>p.target===l).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data||{},x=p.method||"standard";x==="minmax"?u="MinMaxScaler":x==="maxabs"?u="MaxAbsScaler":x==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],x=[];for(const v of p)if(v.columns&&Array.isArray(v.columns))for(const g of v.columns)x.push({column:g,method:v.method,...v.params});d={transformations:x}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):c.data.definitionType==="data_preview"?(u="data_preview",d={}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data);r.push({node_id:c.id,step_type:u,params:d,inputs:h}),t.filter(p=>p.source===l).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:r,metadata:{dataset_source_id:i}}},bK=()=>{const e=xe(x=>x.nodes),t=xe(x=>x.edges),r=xe(x=>x.setExecutionResult),n=xe(x=>x.setGraph),{toggleDrawer:a}=bl(),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=()=>({nodes:e.map(x=>({id:x.id,type:x.type,position:x.position,data:{...x.data,catalogType:x.data.catalogType||x.data.definitionType}})),edges:t.map(x=>({id:x.id,source:x.source,target:x.target,sourceHandle:x.sourceHandle,targetHandle:x.targetHandle,type:x.type,data:x.data}))}),h=async()=>{const x=e.find(g=>g.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await I8(v,{name:"My Pipeline",description:"Saved from Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(g){console.error("Save failed:",g),alert("Failed to save pipeline.")}finally{c(!1)}},m=async()=>{const x=e.find(g=>g.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const g=await D8(v);g?(n(g.graph.nodes,g.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(g){console.error("Load failed:",g),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const x=e.find(g=>g.data.definitionType==="dataset_node");if(!(x==null?void 0:x.data.datasetId)){alert("No dataset node found!");return}i(!0),r(null);try{const g=tp(e,t),w=await T8(g);r(w)}catch(g){console.error("Pipeline failed:",g),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}};return o.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[o.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[o.jsx(IF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),o.jsxs("button",{onClick:m,disabled:u||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?o.jsx(Kn,{className:"w-4 h-4 animate-spin"}):o.jsx(OF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),o.jsxs("button",{onClick:h,disabled:l||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?o.jsx(Kn,{className:"w-4 h-4 animate-spin"}):o.jsx(VF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),o.jsxs("button",{onClick:p,disabled:s,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?o.jsx(Kn,{className:"w-4 h-4 animate-spin"}):o.jsx(Fi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]})]})},wK=()=>{const e=xe(h=>h.executionResult),{isResultsPanelExpanded:t,setResultsPanelExpanded:r}=vl(),[n,a]=y.useState(null),s=y.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),i=Object.keys(s);if(Or.useEffect(()=>{i.length>0&&(!n||!i.includes(n))&&(i.includes("train")?a("train"):i.includes("X")?a("X"):a(i[0]))},[i,n]),!e)return null;const l=n&&s[n]?s[n]:[],c=l.length>0?Object.keys(l[0]):[],u=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return o.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TP,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&o.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),o.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?o.jsx($t,{className:"w-4 h-4"}):o.jsx(pl,{className:"w-4 h-4"})})]}),t&&o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[o.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),o.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),i.length>1&&o.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[o.jsx(DF,{className:"w-3 h-3 text-muted-foreground mr-1"}),i.map(h=>o.jsx("button",{onClick:()=>{a(h)},className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),u.length>0&&e.status!=="failed"&&o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((h,m)=>o.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},m))}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[o.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:o.jsx("tr",{children:c.map(h=>o.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),o.jsx("tbody",{children:l.map((h,m)=>o.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(p=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[p]!==null?String(h[p]):o.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${m}-${p}`))},m))})]}),l.length===0&&o.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},jK=()=>{const{activeView:e,setView:t}=vl();return o.jsx("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-center shrink-0 relative",children:o.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(EP,{className:"w-4 h-4"}),"Canvas"]}),o.jsxs("button",{onClick:()=>t("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(vF,{className:"w-4 h-4"}),"Experiments"]}),o.jsxs("button",{onClick:()=>t("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(Lm,{className:"w-4 h-4"}),"Inference"]})]})})},kK=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:s,fetchJobs:i,hasMore:l,loadMoreJobs:c}=bl(),[u,d]=y.useState(null);if(!e)return null;const f=r.filter(h=>h.job_type===a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),o.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:u?o.jsx(NK,{job:u,onBack:()=>{d(null)},onClose:()=>t(!1)}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>i(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:o.jsx(Si,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(rr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("tuning"),children:"Model Optimization"}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("training"),children:"Standard Training"})]}),o.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"col-span-2",children:"Status"}),o.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),o.jsx("div",{className:"col-span-3",children:"Job ID"}),o.jsx("div",{className:"col-span-2",children:"Started"}),o.jsx("div",{className:"col-span-1",children:"Duration"}),o.jsx("div",{className:"col-span-1",children:"Ready"}),o.jsx("div",{className:"col-span-1",children:"Result"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:f.length===0?o.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):o.jsxs(o.Fragment,{children:[f.map(h=>o.jsx(_K,{job:h,onClick:()=>{d(h)}},h.job_id)),l&&o.jsx("div",{className:"flex justify-center pt-2 pb-4",children:o.jsxs("button",{onClick:()=>c(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?o.jsx(Si,{className:"w-3 h-3 animate-spin"}):o.jsx($t,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},NK=({job:e,onBack:t,onClose:r})=>{var h,m;const{cancelJob:n}=bl(),[a,s]=y.useState(e),[i,l]=y.useState("overview"),[c,u]=y.useState(!1),d=y.useRef(null);y.useEffect(()=>{let p;const x=async()=>{try{const v=await Ct.getJob(e.job_id);s(v)}catch(v){console.error("Failed to fetch job details",v)}};return x(),(a.status==="running"||a.status==="queued")&&(p=setInterval(x,2e3)),()=>{p&&clearInterval(p)}},[e.job_id,a.status]),y.useEffect(()=>{i==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,i]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:o.jsx(yF,{className:"w-4 h-4"})}),o.jsx("div",{children:o.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",o.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&o.jsxs("button",{onClick:f,disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[o.jsx(YF,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),o.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(rr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("overview")},children:[o.jsx(CP,{className:"w-4 h-4"}),"Overview"]}),o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("logs")},children:[o.jsx(tb,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="overview"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),o.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),o.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(Gn,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[o.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[o.jsx(En,{className:"w-4 h-4"}),"Error Log"]}),o.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(QF,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&o.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[o.jsx(Yn,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&a.result.metrics&&o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([p,x])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:p.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof x=="number"?x.toFixed(4):String(x)})]},p))}),a.job_type==="tuning"&&o.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Best Score"}),o.jsx("div",{className:"font-mono font-bold text-lg text-purple-600 dark:text-purple-400",children:Number(a.result.best_score).toFixed(4)})]}),((h=a.result)==null?void 0:h.metrics)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([p])=>!["best_score","best_params","trials"].includes(p)).map(([p,x])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:p.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof x=="number"?x.toFixed(4):String(x)})]},p))})]}),((m=a.result)==null?void 0:m.best_params)&&o.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[o.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),o.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((p,x)=>o.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:p},x)):o.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),o.jsx("div",{ref:d})]})})]})},_K=({job:e,onClick:t})=>{var i,l;const r=c=>{switch(c){case"completed":case"succeeded":return o.jsx(Yn,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(En,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return o.jsx(Si,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return o.jsx(eb,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=c=>{switch(c){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=c=>c?new Date(c).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=(c,u)=>{if(!c||!u)return"-";const d=new Date(u).getTime()-new Date(c).getTime(),f=Math.floor(d/1e3);return f<60?`${f}s`:`${Math.floor(f/60)}m ${f%60}s`};return o.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[o.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),o.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),o.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[o.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[o.jsx(Gn,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[o.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&((l=(i=e.config)==null?void 0:i.tuning)==null?void 0:l.strategy)&&o.jsxs("span",{className:"text-gray-400 truncate",children:["(",e.config.tuning.strategy,")"]})]})]}),o.jsx("div",{className:"col-span-3 font-mono text-xs text-gray-500 dark:text-gray-400 break-all",title:e.job_id,children:e.job_id}),o.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),o.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:s(e.start_time,e.end_time)}),o.jsx("div",{className:"col-span-1",children:e.status==="completed"&&o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:o.jsx(Yn,{className:"w-3 h-3"})})}),o.jsx("div",{className:"col-span-1",children:e.error?o.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?o.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([c,u])=>o.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[c,": ",Number(u).toFixed(3)]},c))}):e.job_type==="tuning"?o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&o.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&e.result.best_params&&o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function tT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=tT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ee(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=tT(e))&&(n&&(n+=" "),n+=t);return n}var SK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Eb(e){if(typeof e!="string")return!1;var t=SK;return t.includes(e)}var EK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CK=new Set(EK);function rT(e){return typeof e!="string"?!1:CK.has(e)}function nT(e){return typeof e=="string"&&e.startsWith("data-")}function Lr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rT(r)||nT(r))&&(t[r]=e[r]);return t}function wl(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Lr(t)}return typeof e=="object"&&!Array.isArray(e)?Lr(e):null}function qt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rT(r)||nT(r)||Eb(r))&&(t[r]=e[r]);return t}function PK(e){return e==null?null:y.isValidElement(e)?qt(e.props):typeof e=="object"&&!Array.isArray(e)?qt(e):null}var OK=["children","width","height","viewBox","className","style","title","desc"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function AK(e,t){if(e==null)return{};var r,n,a=TK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cb=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=e,d=AK(e,OK),f=s||{width:n,height:a,x:0,y:0},h=Ee("recharts-surface",i);return y.createElement("svg",Ky({},qt(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),MK=["children","className"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function IK(e,t){if(e==null)return{};var r,n,a=DK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ot=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=IK(e,MK),s=Ee("recharts-layer",n);return y.createElement("g",qy({className:s},qt(a),{ref:t}),r)}),aT=y.createContext(null),RK=()=>y.useContext(aT);function Le(e){return function(){return e}}const sT=Math.cos,Sh=Math.sin,Mn=Math.sqrt,Eh=Math.PI,rp=2*Eh,Yy=Math.PI,Gy=2*Yy,Ks=1e-6,LK=Gy-Ks;function iT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $K(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return iT;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class zK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?iT:$K(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ks)if(!(Math.abs(f*c-u*d)>Ks)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,p=a-l,x=c*c+u*u,v=m*m+p*p,g=Math.sqrt(x),w=Math.sqrt(h),b=s*Math.tan((Yy-Math.acos((x+h-v)/(2*g*w)))/2),j=b/w,k=b/g;Math.abs(j-1)>Ks&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ks||Math.abs(this._y1-d)>Ks)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Gy+Gy),h>LK?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ks&&this._append`A${n},${n},0,${+(h>=Yy)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Pb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zK(t)}function Ob(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oT(e){this._context=e}oT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function np(e){return new oT(e)}function lT(e){return e[0]}function cT(e){return e[1]}function uT(e,t){var r=Le(!0),n=null,a=np,s=null,i=Pb(l);e=typeof e=="function"?e:e===void 0?lT:Le(e),t=typeof t=="function"?t:t===void 0?cT:Le(t);function l(c){var u,d=(c=Ob(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Le(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Le(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Le(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function qd(e,t,r){var n=null,a=Le(!0),s=null,i=np,l=null,c=Pb(u);e=typeof e=="function"?e:e===void 0?lT:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cT:Le(+r);function u(f){var h,m,p,x=(f=Ob(f)).length,v,g=!1,w,b=new Array(x),j=new Array(x);for(s==null&&(l=i(w=c())),h=0;h<=x;++h){if(!(h<x&&a(v=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(b[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):j[h]))}if(w)return l=null,w+""||null}function d(){return uT().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Le(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class dT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function FK(e){return new dT(e,!0)}function BK(e){return new dT(e,!1)}const Ab={draw(e,t){const r=Mn(t/Eh);e.moveTo(r,0),e.arc(0,0,r,0,rp)}},UK={draw(e,t){const r=Mn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},fT=Mn(1/3),HK=fT*2,VK={draw(e,t){const r=Mn(t/HK),n=r*fT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},WK={draw(e,t){const r=Mn(t),n=-r/2;e.rect(n,n,r,r)}},KK=.8908130915292852,hT=Sh(Eh/10)/Sh(7*Eh/10),qK=Sh(rp/10)*hT,YK=-sT(rp/10)*hT,GK={draw(e,t){const r=Mn(t*KK),n=qK*r,a=YK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=rp*s/5,l=sT(i),c=Sh(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Wg=Mn(3),XK={draw(e,t){const r=-Mn(t/(Wg*3));e.moveTo(0,r*2),e.lineTo(-Wg*r,-r),e.lineTo(Wg*r,-r),e.closePath()}},Ur=-.5,Hr=Mn(3)/2,Xy=1/Mn(12),QK=(Xy/2+1)*3,ZK={draw(e,t){const r=Mn(t/QK),n=r/2,a=r*Xy,s=n,i=r*Xy+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(Ur*n-Hr*a,Hr*n+Ur*a),e.lineTo(Ur*s-Hr*i,Hr*s+Ur*i),e.lineTo(Ur*l-Hr*c,Hr*l+Ur*c),e.lineTo(Ur*n+Hr*a,Ur*a-Hr*n),e.lineTo(Ur*s+Hr*i,Ur*i-Hr*s),e.lineTo(Ur*l+Hr*c,Ur*c-Hr*l),e.closePath()}};function JK(e,t){let r=null,n=Pb(a);e=typeof e=="function"?e:Le(e||Ab),t=typeof t=="function"?t:Le(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Le(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Le(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ch(){}function Ph(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mT(e){this._context=e}mT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ph(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ph(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eq(e){return new mT(e)}function pT(e){this._context=e}pT.prototype={areaStart:Ch,areaEnd:Ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ph(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tq(e){return new pT(e)}function gT(e){this._context=e}gT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ph(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rq(e){return new gT(e)}function yT(e){this._context=e}yT.prototype={areaStart:Ch,areaEnd:Ch,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nq(e){return new yT(e)}function CN(e){return e<0?-1:1}function PN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(CN(s)+CN(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function ON(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function Oh(e){this._context=e}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kg(this,this._t0,ON(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kg(this,ON(this,r=PN(this,e,t)),r);break;default:Kg(this,this._t0,r=PN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function xT(e){this._context=new vT(e)}(xT.prototype=Object.create(Oh.prototype)).point=function(e,t){Oh.prototype.point.call(this,t,e)};function vT(e){this._context=e}vT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function aq(e){return new Oh(e)}function sq(e){return new xT(e)}function bT(e){this._context=e}bT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AN(e),a=AN(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AN(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function iq(e){return new bT(e)}function ap(e,t){this._context=e,this._t=t}ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oq(e){return new ap(e,.5)}function lq(e){return new ap(e,0)}function cq(e){return new ap(e,1)}function el(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uq(e,t){return e[t]}function dq(e){const t=[];return t.key=e,t}function fq(){var e=Le([]),t=Qy,r=el,n=uq;function a(s){var i=Array.from(e.apply(this,arguments),dq),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=Ob(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Le(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Le(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Qy:typeof s=="function"?s:Le(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??el,a):r},a}function hq(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}el(e,t)}}function mq(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}el(e,t)}}function pq(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var x=e[t[p]],v=x[n][1]||0,g=x[n-1][1]||0;m+=v-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,el(e,t)}}var sp={},wT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(wT);var Tb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Tb);var ip={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(ip);var op={},jT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(jT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jT,r=ip;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<i;){const f=a[l];u?f==="\\"&&l+1<i?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(op);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT,r=Tb,n=ip,a=op;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function i(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(sp);var gq=sp.get;const tl=ta(gq);var gr=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,Aa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),tn=e=>ue(e)||typeof e=="string",yq=0,tu=e=>{var t=++yq;return"".concat(e||"").concat(t)},Cn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var s;if(Aa(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return $r(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},kT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function $e(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function NT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):tl(n,t))===r)}var xq=e=>{for(var t=e.length,r=0,n=0,a=0,s=0,i=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,s+=c*c,i=Math.min(i,c),l=Math.max(l,c);var f=t*s!==r*r?(t*a-r*n)/(t*s-r*r):0;return{xmin:i,xmax:l,a:f,b:(n-f*r)/t}},Te=e=>e===null||typeof e>"u",zu=e=>Te(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function vq(e){return e!=null}function Fu(){}var bq=["type","size","sizeType"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nq(e,t){if(e==null)return{};var r,n,a=_q(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _T={symbolCircle:Ab,symbolCross:UK,symbolDiamond:VK,symbolSquare:WK,symbolStar:GK,symbolTriangle:XK,symbolWye:ZK},Sq=Math.PI/180,Eq=e=>{var t="symbol".concat(zu(e));return _T[t]||Ab},Cq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Sq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pq=(e,t)=>{_T["symbol".concat(zu(e))]=t},lp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Nq(e,bq),s=MN(MN({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var l=()=>{var h=Eq(i),m=JK().type(h).size(Cq(r,n,i)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=s,f=qt(s);return ue(u)&&ue(d)&&ue(r)?y.createElement("path",Zy({},f,{className:Ee("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};lp.registerSymbol=Pq;var ST=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Mb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Eb(a)&&(n[a]=s=>r[a](r,s))}),n},Oq=(e,t,r)=>n=>(e(t,r,n),null),Bu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Eb(a)&&typeof s=="function"&&(n||(n={}),n[a]=Oq(s,t,r))}),n},Aq=e=>Array.isArray(e)&&e.length>0;function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Dq(e,"string");return typeof t=="symbol"?t:t+""}function Dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t){var r=Tq({},e),n=t,a=Object.keys(t),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),r);return s}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){Lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=32,Fq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Bq(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Wr/2,s=Wr/6,i=Wr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Wr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Wr,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=Rq({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(lp,{fill:l,cx:a,cy:a,size:Wr,sizeType:"diameter",type:c})}function Uq(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,l={x:0,y:0,width:Wr,height:Wr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Ee({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,x=h?h(d.value,d,f):d.value;return y.createElement("li",Ah({className:m,style:c,key:"legend-item-".concat(f)},Bu(e,d,f)),y.createElement(Cb,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},y.createElement(Bq,{data:d,iconType:i,inactiveColor:s})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}var Hq=e=>{var t=mt(e,Fq),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:s},y.createElement(Uq,Ah({},t,{payload:r})))},ET={},CT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}e.uniqBy=t})(CT);var Ib={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ib);var PT={},cp={},OT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(OT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cp);var AT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(AT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cp,r=AT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(PT);var TT={},MT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sp;function r(n){return function(a){return t.get(a,n)}}e.property=r})(MT);var IT={},Db={},DT={},Rb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Rb);var Lb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Lb);var $b={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})($b);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rb,r=Lb,n=$b;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function m(p,x,v,g,w,b){const j=h(p,x,v,g,w,b);return j!==void 0?!!j:s(p,x,m,b)},new Map)}function s(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,h,m);case"function":return Object.keys(f).length>0?s(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(h(v,x,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let g=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const b=d[w];let j=!1;if(h(b,v,x,d,f,m)&&(j=!0),j){p.add(w),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(DT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Db);var RT={},zb={},LT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(LT);var Fb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Fb);var Bb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",g="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",S="[object BigInt64Array]",O="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=O,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=g})(Bb);var $T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})($T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT,r=Fb,n=Bb,a=Lb,s=$T;function i(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[g,w]of d)v.set(g,l(w,g,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const g of d)v.add(l(g,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=l(d[g],g,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),c(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,m,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),c(v,d,h,m,p),v}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const g=x[v],w=Object.getOwnPropertyDescriptor(d,g);(w==null||w.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=l,e.copyProperties=c})(zb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(RT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db,r=RT;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(IT);var zT={},FT={},BT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb,r=Bb;function n(a,s){return t.cloneDeepWith(a,(i,l,c,u)=>{const d=s==null?void 0:s(i,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(BT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(FT);var UT={},Ub={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ub);var HT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fb;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(HT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tb,r=Ub,n=HT,a=op;function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(i==null?void 0:i[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(UT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db,r=ip,n=FT,a=sp,s=UT;function i(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(zT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ib,r=MT,n=IT,a=zT;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(TT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CT,r=Ib,n=PT,a=TT;function s(i,l=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(l)):[]}e.uniqBy=s})(ET);var Vq=ET.uniqBy;const RN=ta(Vq);function VT(e,t,r){return t===!0?RN(e,r):typeof t=="function"?RN(e,t):e}var Hb=y.createContext(null),Wq=e=>e,Ge=()=>{var e=y.useContext(Hb);return e?e.store.dispatch:Wq},If=()=>{},Kq=()=>If,qq=(e,t)=>e===t;function ie(e){var t=y.useContext(Hb);return uO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Kq,t?t.store.getState:If,t?t.store.getState:If,t?e:If,qq)}function Yq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Gq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Xq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LN=e=>Array.isArray(e)?e:[e];function Qq(e){const t=Array.isArray(e[0])?e[0]:e;return Xq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Zq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Jq=class{constructor(e){this.value=e}deref(){return this.value}},eY=typeof WeakRef<"u"?WeakRef:Jq,tY=0,$N=1;function Yd(){return{s:tY,v:void 0,o:null,p:null}}function WT(e,t={}){let r=Yd();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const v=x.get(p);v===void 0?(l=Yd(),x.set(p,l)):l=v}else{let x=l.p;x===null&&(l.p=x=new Map);const v=x.get(p);v===void 0?(l=Yd(),x.set(p,l)):l=v}}const u=l;let d;if(l.s===$N)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new eY(d):d}return u.s=$N,u.v=d,d}return i.clearCache=()=>{r=Yd(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function rY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),Yq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=WT,argsMemoizeOptions:p=[]}=d,x=LN(h),v=LN(p),g=Qq(a),w=f(function(){return s++,u.apply(null,arguments)},...x),b=m(function(){i++;const k=Zq(g,arguments);return l=w.apply(null,k),l},...v);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var V=rY(WT),nY=Object.assign((e,t=V)=>{Gq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,l,c)=>(i[r[c]]=l,i),{}))},{withTypes:()=>nY}),KT={},qT={},YT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),l=t(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};e.compareValues=r})(YT);var GT={},Vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Vb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(GT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT,r=GT,n=op;function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let x=m;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(m.criteria[x],p.criteria[x],l[x]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(qT);var XT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(r,0),a}e.flatten=t})(XT);var Wb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub,r=cp,n=Rb,a=$b;function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}e.isIterateeCall=s})(Wb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT,r=XT,n=Wb;function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(KT);var aY=KT.sortBy;const up=ta(aY);var QT=e=>e.legend.settings,sY=e=>e.legend.size,iY=e=>e.legend.payload,oY=V([iY,QT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?up(n,r):n});function lY(){return ie(oY)}var Gd=1;function ZT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>Gd||Math.abs(i.left-t.left)>Gd||Math.abs(i.top-t.top)>Gd||Math.abs(i.width-t.width)>Gd)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Mt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cY=typeof Symbol=="function"&&Symbol.observable||"@@observable",zN=cY,qg=()=>Math.random().toString(36).substring(7).split("").join("."),uY={INIT:`@@redux/INIT${qg()}`,REPLACE:`@@redux/REPLACE${qg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qg()}`},Th=uY;function Kb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function JT(e,t,r){if(typeof e!="function")throw new Error(Mt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Mt(1));return r(JT)(e,t)}let n=e,a=t,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,g)=>{i.set(g,v)}))}function d(){if(c)throw new Error(Mt(3));return a}function f(v){if(typeof v!="function")throw new Error(Mt(4));if(c)throw new Error(Mt(5));let g=!0;u();const w=l++;return i.set(w,v),function(){if(g){if(c)throw new Error(Mt(6));g=!1,u(),i.delete(w),s=null}}}function h(v){if(!Kb(v))throw new Error(Mt(7));if(typeof v.type>"u")throw new Error(Mt(8));if(typeof v.type!="string")throw new Error(Mt(17));if(c)throw new Error(Mt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(w=>{w()}),v}function m(v){if(typeof v!="function")throw new Error(Mt(10));n=v,h({type:Th.REPLACE})}function p(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Mt(11));function w(){const j=g;j.next&&j.next(d())}return w(),{unsubscribe:v(w)}},[zN](){return this}}}return h({type:Th.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[zN]:p}}function dY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Th.INIT})>"u")throw new Error(Mt(12));if(typeof r(void 0,{type:Th.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mt(13))})}function eM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{dY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=i[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Mt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function Mh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function fY(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Mt(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(i));return s=Mh(...l)(a.dispatch),{...a,dispatch:s}}}function tM(e){return Kb(e)&&"type"in e&&typeof e.type=="string"}var rM=Symbol.for("immer-nothing"),FN=Symbol.for("immer-draftable"),nr=Symbol.for("immer-state");function yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tr=Object,rl=Tr.getPrototypeOf,Ih="constructor",dp="prototype",Jy="configurable",Dh="enumerable",Df="writable",ru="value",Ta=e=>!!e&&!!e[nr];function Pn(e){var t;return e?nM(e)||fp(e)||!!e[FN]||!!((t=e[Ih])!=null&&t[FN])||hp(e)||mp(e):!1}var hY=Tr[dp][Ih].toString(),BN=new WeakMap;function nM(e){if(!e||!qb(e))return!1;const t=rl(e);if(t===null||t===Tr[dp])return!0;const r=Tr.hasOwnProperty.call(t,Ih)&&t[Ih];if(r===Object)return!0;if(!Qi(r))return!1;let n=BN.get(r);return n===void 0&&(n=Function.toString.call(r),BN.set(r,n)),n===hY}function Uu(e,t,r=!0){Hu(e)===0?(r?Reflect.ownKeys(e):Tr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Hu(e){const t=e[nr];return t?t.type_:fp(e)?1:hp(e)?2:mp(e)?3:0}var UN=(e,t,r=Hu(e))=>r===2?e.has(t):Tr[dp].hasOwnProperty.call(e,t),ex=(e,t,r=Hu(e))=>r===2?e.get(t):e[t],Rh=(e,t,r,n=Hu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function mY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var fp=Array.isArray,hp=e=>e instanceof Map,mp=e=>e instanceof Set,qb=e=>typeof e=="object",Qi=e=>typeof e=="function",Yg=e=>typeof e=="boolean",ua=e=>e.copy_||e.base_,Yb=e=>e.modified_?e.copy_:e.base_;function tx(e,t){if(hp(e))return new Map(e);if(mp(e))return new Set(e);if(fp(e))return Array[dp].slice.call(e);const r=nM(e);if(t===!0||t==="class_only"&&!r){const n=Tr.getOwnPropertyDescriptors(e);delete n[nr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l[Df]===!1&&(l[Df]=!0,l[Jy]=!0),(l.get||l.set)&&(n[i]={[Jy]:!0,[Df]:!0,[Dh]:l[Dh],[ru]:e[i]})}return Tr.create(rl(e),n)}else{const n=rl(e);if(n!==null&&r)return{...e};const a=Tr.create(n);return Tr.assign(a,e)}}function Gb(e,t=!1){return pp(e)||Ta(e)||!Pn(e)||(Hu(e)>1&&Tr.defineProperties(e,{set:Xd,add:Xd,clear:Xd,delete:Xd}),Tr.freeze(e),t&&Uu(e,(r,n)=>{Gb(n,!0)},!1)),e}function pY(){yn(2)}var Xd={[ru]:pY};function pp(e){return e===null||!qb(e)?!0:Tr.isFrozen(e)}var Lh="MapSet",rx="Patches",aM={};function nl(e){const t=aM[e];return t||yn(0,e),t}var gY=e=>!!aM[e],nu,sM=()=>nu,yY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:gY(Lh)?nl(Lh):void 0});function HN(e,t){t&&(e.patchPlugin_=nl(rx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nx(e){ax(e),e.drafts_.forEach(xY),e.drafts_=null}function ax(e){e===nu&&(nu=e.parent_)}var VN=e=>nu=yY(nu,e);function xY(e){const t=e[nr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[nr].modified_&&(nx(t),yn(4)),Pn(e)&&(e=KN(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[nr].base_,e,t)}else e=KN(t,r);return vY(t,e,!0),nx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rM?e:void 0}function KN(e,t){if(pp(t))return t;const r=t[nr];if(!r)return Xb(t,e.handledSet_,e);if(!gp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);lM(r,e)}return r.copy_}function vY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gb(t,r)}function iM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var gp=(e,t)=>e.scope_===t,bY=[];function oM(e,t,r,n){const a=ua(e),s=e.type_;if(n!==void 0&&ex(a,n,s)===t){Rh(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Uu(a,(c,u)=>{if(Ta(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const i=e.draftLocations_.get(t)??bY;for(const l of i)Rh(a,l,r,s)}function wY(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!gp(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const i=Yb(s);oM(e,s.draft_??s,i,r),lM(s,a)})}function lM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}iM(e)}}function jY(e,t,r){const{scope_:n}=e;if(Ta(r)){const a=r[nr];gp(a,n)&&a.callbacks_.push(function(){Rf(e);const i=Yb(a);oM(e,r,i,t)})}else Pn(r)&&e.callbacks_.push(function(){const s=ua(e);ex(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Xb(ex(e.copy_,t,e.type_),n.handledSet_,n)})}function Xb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ta(e)||t.has(e)||!Pn(e)||pp(e)||(t.add(e),Uu(e,(n,a)=>{if(Ta(a)){const s=a[nr];if(gp(s,r)){const i=Yb(s);Rh(e,n,i,e.type_),iM(s)}}else Pn(a)&&Xb(a,t,r)})),e}function kY(e,t){const r=fp(e),n={type_:r?1:0,scope_:t?t.scope_:sM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Qb;r&&(a=[n],s=au);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,[l,n]}var Qb={get(e,t){if(t===nr)return e;const r=ua(e);if(!UN(r,t,e.type_))return NY(e,r,t);const n=r[t];if(e.finalized_||!Pn(n))return n;if(n===Gg(e.base_,t)){Rf(e);const a=e.type_===1?+t:t,s=ix(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in ua(e)},ownKeys(e){return Reflect.ownKeys(ua(e))},set(e,t,r){const n=cM(ua(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Gg(ua(e),t),s=a==null?void 0:a[nr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(mY(r,a)&&(r!==void 0||UN(e.base_,t,e.type_)))return!0;Rf(e),sx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),jY(e,t,r)),!0},deleteProperty(e,t){return Rf(e),Gg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),sx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ua(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Df]:!0,[Jy]:e.type_!==1||t!=="length",[Dh]:n[Dh],[ru]:r[t]}},defineProperty(){yn(11)},getPrototypeOf(e){return rl(e.base_)},setPrototypeOf(){yn(12)}},au={};Uu(Qb,(e,t)=>{au[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});au.deleteProperty=function(e,t){return au.set.call(this,e,t,void 0)};au.set=function(e,t,r){return Qb.set.call(this,e[0],t,r,e[0])};function Gg(e,t){const r=e[nr];return(r?ua(r):e)[t]}function NY(e,t,r){var a;const n=cM(t,r);return n?ru in n?n[ru]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function cM(e,t){if(!(t in e))return;let r=rl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=rl(r)}}function sx(e){e.modified_||(e.modified_=!0,e.parent_&&sx(e.parent_))}function Rf(e){e.copy_||(e.assigned_=new Map,e.copy_=tx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _Y=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Qi(r)&&!Qi(n)){const i=n;n=r;const l=this;return function(u=i,...d){return l.produce(u,f=>n.call(this,f,...d))}}Qi(n)||yn(6),a!==void 0&&!Qi(a)&&yn(7);let s;if(Pn(r)){const i=VN(this),l=ix(i,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?nx(i):ax(i)}return HN(i,a),WN(s,i)}else if(!r||!qb(r)){if(s=n(r),s===void 0&&(s=r),s===rM&&(s=void 0),this.autoFreeze_&&Gb(s,!0),a){const i=[],l=[];nl(rx).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:l}),a(i,l)}return s}else yn(1,r)},this.produceWithPatches=(r,n)=>{if(Qi(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},Yg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Yg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Yg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Pn(t)||yn(8),Ta(t)&&(t=Nn(t));const r=VN(this),n=ix(r,t,void 0);return n[nr].isManual_=!0,ax(r),n}finishDraft(t,r){const n=t&&t[nr];(!n||!n.isManual_)&&yn(9);const{scope_:a}=n;return HN(a,r),WN(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=nl(rx).applyPatches_;return Ta(t)?a(t,r):this.produce(t,s=>a(s,r))}};function ix(e,t,r,n){const[a,s]=hp(t)?nl(Lh).proxyMap_(t,r):mp(t)?nl(Lh).proxySet_(t,r):kY(t,r);return((r==null?void 0:r.scope_)??sM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?wY(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function Nn(e){return Ta(e)||yn(10,e),uM(e)}function uM(e){if(!Pn(e)||pp(e))return e;const t=e[nr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=tx(e,!0);return Uu(r,(a,s)=>{Rh(r,a,uM(s))},n),t&&(t.finalized_=!1),r}var SY=new _Y,dM=SY.produce;function fM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var EY=fM(),CY=fM,PY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mh:Mh.apply(null,arguments)};function rn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ir(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>tM(n)&&n.type===e,r}var hM=class lc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,lc.prototype)}static get[Symbol.species](){return lc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new lc(...t[0].concat(this)):new lc(...t.concat(this))}};function qN(e){return Pn(e)?dM(e,()=>{}):e}function Qd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function OY(e){return typeof e=="boolean"}var AY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new hM;return r&&(OY(r)?i.push(EY):i.push(CY(r.extraArgument))),i},mM="RTK_autoBatch",Ve=()=>e=>({payload:e,meta:{[mM]:!0}}),YN=e=>t=>{setTimeout(t,e)},pM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YN(10):e.type==="callback"?e.queueNotification:YN(e.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[mM]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},TY=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new hM(e);return n&&a.push(pM(typeof n=="object"?n:void 0)),a};function MY(e){const t=AY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Kb(r))l=eM(r);else throw new Error(Ir(1));let c;typeof n=="function"?c=n(t):c=t();let u=Mh;a&&(u=PY({trace:!1,...typeof a=="object"&&a}));const d=fY(...c),f=TY(d);let h=typeof i=="function"?i(f):f();const m=u(...h);return JT(l,s,m)}function gM(e){const t={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ir(28));if(l in t)throw new Error(Ir(29));return t[l]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function IY(e){return typeof e=="function"}function DY(e,t){let[r,n,a]=gM(t),s;if(IY(e))s=()=>qN(e());else{const l=qN(e);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Ta(d)){const m=f(d,c);return m===void 0?d:m}else{if(Pn(d))return dM(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return i.getInitialState=s,i}var RY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LY=(e=21)=>{let t="",r=e;for(;r--;)t+=RY[Math.random()*64|0];return t},$Y=Symbol.for("rtk-slice-createasyncthunk");function zY(e,t){return`${e}/${t}`}function FY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$Y];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Ir(11));const l=(typeof a.reducers=="function"?a.reducers(UY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(Ir(12));if(_ in u.sliceCaseReducersByType)throw new Error(Ir(13));return u.sliceCaseReducersByType[_]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=l[j],_={reducerName:j,type:zY(s,j),createNotation:typeof a.reducers=="function"};VY(k)?KY(_,k,d,t):HY(_,k,d)});function f(){const[j={},k=[],_=void 0]=typeof a.extraReducers=="function"?gM(a.extraReducers):[a.extraReducers],N={...j,...u.sliceCaseReducersByType};return DY(a.initialState,S=>{for(let O in N)S.addCase(O,N[O]);for(let O of u.sliceMatchers)S.addMatcher(O.matcher,O.reducer);for(let O of k)S.addMatcher(O.matcher,O.reducer);_&&S.addDefaultCase(_)})}const h=j=>j,m=new Map,p=new WeakMap;let x;function v(j,k){return x||(x=f()),x(j,k)}function g(){return x||(x=f()),x.getInitialState()}function w(j,k=!1){function _(S){let O=S[j];return typeof O>"u"&&k&&(O=Qd(p,_,g)),O}function N(S=h){const O=Qd(m,k,()=>new WeakMap);return Qd(O,S,()=>{const I={};for(const[E,C]of Object.entries(a.selectors??{}))I[E]=BY(C,S,()=>Qd(p,S,g),k);return I})}return{reducerPath:j,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const b={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...w(i),injectInto(j,{reducerPath:k,..._}={}){const N=k??i;return j.inject({reducerPath:N,reducer:v},_),{...b,...w(N,!0)}}};return b}}function BY(e,t,r,n){function a(s,...i){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...i)}return a.unwrapped=e,a}var Nr=FY();function UY(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function HY({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!WY(n))throw new Error(Ir(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?rn(e,i):rn(e))}function VY(e){return e._reducerDefinitionType==="asyncThunk"}function WY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function KY({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ir(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||Zd,pending:l||Zd,rejected:c||Zd,settled:u||Zd})}function Zd(){}var qY="task",yM="listener",xM="completed",Zb="cancelled",YY=`task-${Zb}`,GY=`task-${xM}`,ox=`${yM}-${Zb}`,XY=`${yM}-${xM}`,yp=class{constructor(e){Tl(this,"name","TaskAbortError");Tl(this,"message");this.code=e,this.message=`${qY} ${Zb} (reason: ${e})`}},Jb=(e,t)=>{if(typeof e!="function")throw new TypeError(Ir(32))},$h=()=>{},vM=(e,t=$h)=>(e.catch(t),e),bM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xi=e=>{if(e.aborted)throw new yp(e.reason)};function wM(e,t){let r=$h;return new Promise((n,a)=>{const s=()=>a(new yp(e.reason));if(e.aborted){s();return}r=bM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=$h})}var QY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof yp?"cancelled":"rejected",error:r}}finally{t==null||t()}},zh=e=>t=>vM(wM(e,t).then(r=>(xi(e),r))),jM=e=>{const t=zh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ko}=Object,GN={},xp="listenerMiddleware",ZY=(e,t)=>{const r=n=>bM(e,()=>n.abort(e.reason));return(n,a)=>{Jb(n);const s=new AbortController;r(s);const i=QY(async()=>{xi(e),xi(s.signal);const l=await n({pause:zh(s.signal),delay:jM(s.signal),signal:s.signal});return xi(s.signal),l},()=>s.abort(GY));return a!=null&&a.autoJoin&&t.push(i.catch($h)),{result:zh(e)(i),cancel(){s.abort(YY)}}}},JY=(e,t)=>{const r=async(n,a)=>{xi(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await wM(t,Promise.race(l));return xi(t),c}finally{s()}};return(n,a)=>vM(r(n,a))},kM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=rn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ir(21));return Jb(s),{predicate:a,type:t,effect:s}},NM=ko(e=>{const{type:t,predicate:r,effect:n}=kM(e);return{id:LY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ir(22))}}},{withTypes:()=>NM}),XN=(e,t)=>{const{type:r,effect:n,predicate:a}=kM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},lx=e=>{e.pending.forEach(t=>{t.abort(ox)})},eG=(e,t)=>()=>{for(const r of t.keys())lx(r);e.clear()},QN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},_M=ko(rn(`${xp}/add`),{withTypes:()=>_M}),tG=rn(`${xp}/removeAll`),SM=ko(rn(`${xp}/remove`),{withTypes:()=>SM}),rG=(...e)=>{console.error(`${xp}/error`,...e)},Vu=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:s,onError:i=rG}=e;Jb(i);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&lx(m)}),c=m=>{const p=XN(t,m)??NM(m);return l(p)};ko(c,{withTypes:()=>c});const u=m=>{const p=XN(t,m);return p&&(p.unsubscribe(),m.cancelActive&&lx(p)),!!p};ko(u,{withTypes:()=>u});const d=async(m,p,x,v)=>{const g=new AbortController,w=JY(c,g.signal),b=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,ko({},x,{getOriginalState:v,condition:(j,k)=>w(j,k).then(Boolean),take:w,delay:jM(g.signal),pause:zh(g.signal),extra:s,signal:g.signal,fork:ZY(g.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,k,_)=>{j!==g&&(j.abort(ox),_.delete(j))})},cancel:()=>{g.abort(ox),m.pending.delete(g)},throwIfCancelled:()=>{xi(g.signal)}})))}catch(j){j instanceof yp||QN(i,j,{raisedBy:"effect"})}finally{await Promise.all(b),g.abort(XY),a(m),m.pending.delete(g)}},f=eG(t,r);return{middleware:m=>p=>x=>{if(!tM(x))return p(x);if(_M.match(x))return c(x.payload);if(tG.match(x)){f();return}if(SM.match(x))return u(x.payload);let v=m.getState();const g=()=>{if(v===GN)throw new Error(Ir(23));return v};let w;try{if(w=p(x),t.size>0){const b=m.getState(),j=Array.from(t.values());for(const k of j){let _=!1;try{_=k.predicate(x,b,v)}catch(N){_=!1,QN(i,N,{raisedBy:"predicate"})}_&&d(k,x,m,g)}}}finally{v=GN}return w},startListening:c,stopListening:u,clearListeners:f}};function Ir(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EM=Nr({name:"chartLayout",initialState:nG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:aG,setLayout:sG,setChartSize:iG,setScale:oG}=EM.actions,lG=EM.reducer;function CM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e,t,r){return Te(e)||Te(t)?r:tn(t)?tl(e,t,r):typeof t=="function"?t(e):r}var fG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:l}=t;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&ue(e[s]))return ho(ho({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&ue(e[i]))return ho(ho({},e),{},{[i]:e[i]+(a||0)})}return e},Ls=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PM=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,i=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||i.push(t),s||i.push(r),i},OM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!i)return null;var p=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=a==="category"&&i.bandwidth?i.bandwidth()/p:0;if(x=m==="angleAxis"&&s&&s.length>=2?gr(s[0]-s[1])*2*x:x,f||h){var v=(f||h||[]).map((g,w)=>{var b=n?n.indexOf(g):g;return{coordinate:i(b)+x,value:g,offset:x,index:w}});return v.filter(g=>!$r(g.coordinate))}return c&&u?u.map((g,w)=>({coordinate:i(g)+x,value:g,index:w,offset:x})):i.ticks&&d!=null?i.ticks(d).map((g,w)=>({coordinate:i(g)+x,value:g,offset:x,index:w})):i.domain().map((g,w)=>({coordinate:i(g)+x,value:n?n[g]:g,index:w,offset:x}))},JN=1e-4,hG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-JN,s=Math.max(n[0],n[1])+JN,i=e(t[0]),l=e(t[r-1]);(i<a||i>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},mG=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(a[0]=r),(!ue(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},pG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var l=$r(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+l,s=e[i][r][1])}},gG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=$r(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},yG={sign:pG,expand:hq,none:el,silhouette:mq,wiggle:pq,positive:gG},xG=(e,t,r)=>{var n=yG[r],a=fq().keys(t).value((s,i)=>Number(Je(s,i,0))).order(Qy).offset(n);return a(e)};function vG(e){return e==null?void 0:String(e)}function Fh(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Te(a[t.dataKey])){var l=NT(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Je(a,Te(i)?t.dataKey:i);return Te(c)?null:t.scale(c)}var e2=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var l=Je(s,t.dataKey,t.scale.domain()[i]);return Te(l)?null:t.scale(l)-a/2+n},bG=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},wG=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},jG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kG=(e,t,r)=>{if(e!=null)return jG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var d=CM(u,t,r),f=wG(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},t2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,al=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=up(t,d=>d.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function n2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return ho(ho({},t),{},{dataKey:r,payload:n,value:a,name:s})}function jl(e,t){if(e)return String(e);if(typeof t=="string")return t}var NG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_G=(e,t)=>t==="centric"?e.angle:e.radius,Fa=e=>e.layout.width,Ba=e=>e.layout.height,SG=e=>e.layout.scale,AM=e=>e.layout.margin,vp=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bp=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),TM="data-recharts-item-index",MM="data-recharts-item-data-key",Wu=60;function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){EG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OG=e=>e.brush.height;function AG(e){var t=bp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wu;return r+a}return r},0)}function TG(e){var t=bp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wu;return r+a}return r},0)}function MG(e){var t=vp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function IG(e){var t=vp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var At=V([Fa,Ba,AM,OG,AG,TG,MG,IG,QT,sY],(e,t,r,n,a,s,i,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+l},h=Jd(Jd({},f),d),m=h.bottom;h.bottom+=n,h=fG(h,c,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return Jd(Jd({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),DG=V(At,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ew=V(Fa,Ba,(e,t)=>({x:0,y:0,width:e,height:t})),RG=y.createContext(null),xt=()=>y.useContext(RG)!=null,wp=e=>e.brush,jp=V([wp,At,AM],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),IM={},DM={},RM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(i,l),i=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),i=void 0,l=null},v=()=>{d()},g=function(...w){if(a!=null&&a.aborted)return;i=this,l=w;const b=h==null;m(),c&&b&&d()};return g.schedule=m,g.cancel=x,g.flush=v,a==null||a.addEventListener("abort",x,{once:!0}),g}e.debounce=t})(RM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RM;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(DM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DM;function r(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:l})}e.throttle=r})(IM);var LG=IM.throttle;const $G=ta(LG);var Bh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},LM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,l=Aa(n)?e:Number(n),c=Aa(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:l,calculatedHeight:c}},zG={width:0,height:0,overflow:"visible"},FG={width:0,overflowX:"visible"},BG={height:0,overflowY:"visible"},UG={},HG=e=>{var{width:t,height:r}=e,n=Aa(t),a=Aa(r);return n&&a?zG:n?FG:a?BG:UG};function VG(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function He(e){return Number.isFinite(e)}function Qn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $M=y.createContext({width:-1,height:-1});function YG(e){return Qn(e.width)&&Qn(e.height)}function zM(e){var{children:t,width:r,height:n}=e,a=y.useMemo(()=>({width:r,height:n}),[r,n]);return YG(a)?y.createElement($M.Provider,{value:a},t):null}var tw=()=>y.useContext($M),GG=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=y.useRef(null),v=y.useRef();v.current=m,y.useImperativeHandle(t,()=>x.current);var[g,w]=y.useState({containerWidth:n.width,containerHeight:n.height}),b=y.useCallback((S,O)=>{w(I=>{var E=Math.round(S),C=Math.round(O);return I.containerWidth===E&&I.containerHeight===C?I:{containerWidth:E,containerHeight:C}})},[]);y.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Fu;var S=C=>{var L,{width:P,height:D}=C[0].contentRect;b(P,D),(L=v.current)===null||L===void 0||L.call(v,P,D)};d>0&&(S=$G(S,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(S),{width:I,height:E}=x.current.getBoundingClientRect();return b(I,E),O.observe(x.current),()=>{O.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:k}=g;Bh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=LM(j,k,{width:a,height:s,aspect:r,maxHeight:c});return Bh(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,a,s,i,l,r),y.createElement("div",{id:f?"".concat(f):void 0,className:Ee("recharts-responsive-container",h),style:i2(i2({},p),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:x},y.createElement("div",{style:HG({width:a,height:s})},y.createElement(zM,{width:_,height:N},u)))}),ef=y.forwardRef((e,t)=>{var r=tw();if(Qn(r.width)&&Qn(r.height))return e.children;var{width:n,height:a}=VG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=LM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ue(s)&&ue(i)?y.createElement(zM,{width:s,height:i},e.children):y.createElement(GG,cx({},e,{width:n,height:a,ref:t}))});function FM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var kl=()=>{var e,t=xt(),r=ie(DG),n=ie(jp),a=(e=ie(wp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},XG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BM=()=>{var e;return(e=ie(At))!==null&&e!==void 0?e:XG},rw=()=>ie(Fa),nw=()=>ie(Ba),QG=()=>ie(e=>e.layout.margin),Ce=e=>e.layout.layoutType,Ku=()=>ie(Ce),ZG=()=>{var e=Ku();return e!==void 0},kp=e=>{var t=Ge(),r=xt(),{width:n,height:a}=e,s=tw(),i=n,l=a;return s&&(i=s.width>0?s.width:n,l=s.height>0?s.height:a),y.useEffect(()=>{!r&&Qn(i)&&Qn(l)&&t(iG({width:i,height:l}))},[t,r,i,l]),null},UM=Symbol.for("immer-nothing"),o2=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function xn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var su=Object.getPrototypeOf;function sl(e){return!!e&&!!e[zr]}function Ti(e){var t;return e?HM(e)||Array.isArray(e)||!!e[o2]||!!((t=e.constructor)!=null&&t[o2])||qu(e)||_p(e):!1}var JG=Object.prototype.constructor.toString(),l2=new WeakMap;function HM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=l2.get(r);return n===void 0&&(n=Function.toString.call(r),l2.set(r,n)),n===JG}function Uh(e,t,r=!0){Np(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Np(e){const t=e[zr];return t?t.type_:Array.isArray(e)?1:qu(e)?2:_p(e)?3:0}function ux(e,t){return Np(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VM(e,t,r){const n=Np(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function eX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function qu(e){return e instanceof Map}function _p(e){return e instanceof Set}function qs(e){return e.copy_||e.base_}function dx(e,t){if(qu(e))return new Map(e);if(_p(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=HM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[zr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(su(e),n)}else{const n=su(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function aw(e,t=!1){return Sp(e)||sl(e)||!Ti(e)||(Np(e)>1&&Object.defineProperties(e,{set:tf,add:tf,clear:tf,delete:tf}),Object.freeze(e),t&&Object.values(e).forEach(r=>aw(r,!0))),e}function tX(){xn(2)}var tf={value:tX};function Sp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var rX={};function Mi(e){const t=rX[e];return t||xn(0,e),t}var iu;function WM(){return iu}function nX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function c2(e,t){t&&(Mi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fx(e){hx(e),e.drafts_.forEach(aX),e.drafts_=null}function hx(e){e===iu&&(iu=e.parent_)}function u2(e){return iu=nX(iu,e)}function aX(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function d2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[zr].modified_&&(fx(t),xn(4)),Ti(e)&&(e=Hh(t,e),t.parent_||Vh(t,e)),t.patches_&&Mi("Patches").generateReplacementPatches_(r[zr].base_,e,t.patches_,t.inversePatches_)):e=Hh(t,r,[]),fx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UM?e:void 0}function Hh(e,t,r){if(Sp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[zr];if(!a)return Uh(t,(s,i)=>f2(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Vh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),Uh(i,(c,u)=>f2(e,a,s,c,u,r,l),n),Vh(e,s,!1),r&&e.patches_&&Mi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function f2(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const l=Sp(a);if(!(l&&!i)){if(sl(a)){const c=s&&t&&t.type_!==3&&!ux(t.assigned_,n)?s.concat(n):void 0,u=Hh(e,a,c);if(VM(r,n,u),sl(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Ti(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Hh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(qu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Vh(e,a)}}}function Vh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aw(t,r)}function sX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:WM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=sw;r&&(a=[n],s=ou);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var sw={get(e,t){if(t===zr)return e;const r=qs(e);if(!ux(r,t))return iX(e,r,t);const n=r[t];return e.finalized_||!Ti(n)?n:n===Xg(e.base_,t)?(Qg(e),e.copy_[t]=px(n,e)):n},has(e,t){return t in qs(e)},ownKeys(e){return Reflect.ownKeys(qs(e))},set(e,t,r){const n=KM(qs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Xg(qs(e),t),s=a==null?void 0:a[zr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(eX(r,a)&&(r!==void 0||ux(e.base_,t)))return!0;Qg(e),mx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qg(e),mx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){xn(11)},getPrototypeOf(e){return su(e.base_)},setPrototypeOf(){xn(12)}},ou={};Uh(sw,(e,t)=>{ou[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ou.deleteProperty=function(e,t){return ou.set.call(this,e,t,void 0)};ou.set=function(e,t,r){return sw.set.call(this,e[0],t,r,e[0])};function Xg(e,t){const r=e[zr];return(r?qs(r):e)[t]}function iX(e,t,r){var a;const n=KM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function KM(e,t){if(!(t in e))return;let r=su(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=su(r)}}function mx(e){e.modified_||(e.modified_=!0,e.parent_&&mx(e.parent_))}function Qg(e){e.copy_||(e.copy_=dx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&xn(6),n!==void 0&&typeof n!="function"&&xn(7);let a;if(Ti(t)){const s=u2(this),i=px(t,void 0);let l=!0;try{a=r(i),l=!1}finally{l?fx(s):hx(s)}return c2(s,n),d2(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===UM&&(a=void 0),this.autoFreeze_&&aw(a,!0),n){const s=[],i=[];Mi("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else xn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let n,a;return[this.produce(t,r,(i,l)=>{n=i,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ti(e)||xn(8),sl(e)&&(e=lX(e));const t=u2(this),r=px(e,void 0);return r[zr].isManual_=!0,hx(t),r}finishDraft(e,t){const r=e&&e[zr];(!r||!r.isManual_)&&xn(9);const{scope_:n}=r;return c2(n,t),d2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Mi("Patches").applyPatches_;return sl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function px(e,t){const r=qu(e)?Mi("MapSet").proxyMap_(e,t):_p(e)?Mi("MapSet").proxySet_(e,t):sX(e,t);return(t?t.scope_:WM()).drafts_.push(r),r}function lX(e){return sl(e)||xn(10,e),qM(e)}function qM(e){if(!Ti(e)||Sp(e))return e;const t=e[zr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=dx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=dx(e,!0);return Uh(r,(a,s)=>{VM(r,a,qM(s))},n),t&&(t.finalized_=!1),r}var cX=new oX;cX.produce;var uX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YM=Nr({name:"legend",initialState:uX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ve()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Nn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Ve()},removeLegendPayload:{reducer(e,t){var r=Nn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ve()}}}),{setLegendSize:h2,setLegendSettings:dX,addLegendPayload:fX,replaceLegendPayload:hX,removeLegendPayload:mX}=YM.actions,pX=YM.reducer,gX=["contextPayload"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){yX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yX(e,t,r){return(t=xX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bX(e,t){if(e==null)return{};var r,n,a=wX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jX(e){return e.value}function kX(e){var{contextPayload:t}=e,r=bX(e,gX),n=VT(t,e.payloadUniqBy,jX),a=il(il({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(Hq,a)}function NX(e,t,r,n,a,s){var{layout:i,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),il(il({},u),d)}function _X(e){var t=Ge();return y.useEffect(()=>{t(dX(e))},[t,e]),null}function SX(e){var t=Ge();return y.useEffect(()=>(t(h2(e)),()=>{t(h2({width:0,height:0}))}),[t,e]),null}function EX(e,t,r,n){return e==="vertical"&&ue(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var CX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function GM(e){var t=mt(e,CX),r=lY(),n=RK(),a=QG(),{width:s,height:i,wrapperStyle:l,portal:c}=t,[u,d]=ZT([r]),f=rw(),h=nw();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=EX(t.layout,i,s,m),x=c?l:il(il({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},NX(l,t,a,f,h,u)),l),v=c??n;if(v==null||r==null)return null;var g=y.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},y.createElement(_X,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&y.createElement(SX,{width:u.width,height:u.height}),y.createElement(kX,gx({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return ku.createPortal(g,v)}GM.displayName="Legend";function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TX(e){return Array.isArray(e)&&tn(e[0])&&tn(e[1])?e.join(" ~ "):e}var MX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var k={padding:0,margin:0},_=(l?up(s,l):s).map((N,S)=>{if(N.type==="none")return null;var O=N.formatter||i||TX,{value:I,name:E}=N,C=I,L=E;if(O){var P=O(I,E,N,S,s);if(Array.isArray(P))[C,L]=P;else if(P!=null)C=P;else return null}var D=Zg({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:D},tn(L)?y.createElement("span",{className:"recharts-tooltip-item-name"},L):null,tn(L)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},C),y.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:k},_)}return null},p=Zg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Zg({margin:0},a),v=!Te(d),g=v?d:"",w=Ee("recharts-default-tooltip",c),b=Ee("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(g=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",yx({className:w,style:p},j),y.createElement("p",{className:b,style:x},y.isValidElement(g)?g:"".concat(g)),m())},ql="recharts-tooltip-wrapper",IX={visibility:"hidden"};function DX(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ee(ql,{["".concat(ql,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(ql,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(ql,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(ql,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function g2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ue(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var h=c[n];if(h==null)return 0;if(i[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,v=h+u;return x>v?Math.max(d,h):Math.max(f,h)}function RX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function LX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=g2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=g2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=RX({translateX:d,translateY:f,useTranslate3d:l})):u=IX,{cssProperties:u,cssClasses:DX({translateX:d,translateY:f,coordinate:r})}}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){xx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xx(e,t,r){return(t=$X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class FX extends y.PureComponent{constructor(){super(...arguments),xx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:g}=this.props,{cssClasses:w,cssProperties:b}=LX({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=g?{}:rf(rf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=rf(rf({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:k,ref:v},s)}}var XM=()=>{var e;return(e=ie(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function x2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b2={curveBasisClosed:tq,curveBasisOpen:rq,curveBasis:eq,curveBumpX:FK,curveBumpY:BK,curveLinearClosed:nq,curveLinear:np,curveMonotoneX:aq,curveMonotoneY:sq,curveNatural:iq,curveStep:oq,curveStepAfter:cq,curveStepBefore:lq},Wh=e=>He(e.x)&&He(e.y),w2=e=>e.base!=null&&Wh(e.base)&&Wh(e),Yl=e=>e.x,Gl=e=>e.y,VX=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(zu(e));return(r==="curveMonotone"||r==="curveBump")&&t?b2["".concat(r).concat(t==="vertical"?"Y":"X")]:b2[r]||np},WX=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=VX(t,a),l=s?r.filter(Wh):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>v2(v2({},m),{},{base:n[p]}));a==="vertical"?c=qd().y(Gl).x1(Yl).x0(m=>m.base.x):c=qd().x(Yl).y1(Gl).y0(m=>m.base.y);var d=c.defined(w2).curve(i),f=s?u.filter(w2):u;return d(f)}a==="vertical"&&ue(n)?c=qd().y(Gl).x1(Yl).x0(n):ue(n)?c=qd().x(Yl).y1(Gl).y0(n):c=uT().x(Yl).y(Gl);var h=c.defined(Wh).curve(i);return h(l)},iw=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?WX(e):n;return y.createElement("path",vx({},Lr(e),Mb(e),{className:Ee("recharts-curve",t),d:s===null?void 0:s,ref:a}))},KX=["x","y","top","left","width","height","className"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(null,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){YX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YX(e,t,r){return(t=GX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QX(e,t){if(e==null)return{};var r,n,a=ZX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JX=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),eQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=e,c=QX(e,KX),u=qX({x:t,y:r,top:n,left:a,width:s,height:i},c);return!ue(t)||!ue(r)||!ue(s)||!ue(i)||!ue(n)||!ue(a)?null:y.createElement("path",bx({},qt(u),{className:Ee("recharts-cross",l),d:JX(t,r,s,i,n,a)}))};function tQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QM=(e,t,r)=>e.map(n=>"".concat(sQ(n)," ").concat(t,"ms ").concat(r)).join(","),iQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),lu=(e,t)=>Object.keys(t).reduce((r,n)=>N2(N2({},r),{},{[n]:e(n,t[n])}),{});function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){oQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t,r){return(t=lQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kh=(e,t,r)=>e+(t-e)*r,wx=e=>{var{from:t,to:r}=e;return t!==r},ZM=(e,t,r)=>{var n=lu((a,s)=>{if(wx(s)){var[i,l]=e(s.from,s.to,s.velocity);return gt(gt({},s),{},{from:i,velocity:l})}return s},t);return r<1?lu((a,s)=>wx(s)?gt(gt({},s),{},{velocity:Kh(s.velocity,n[a].velocity,r),from:Kh(s.from,n[a].from,r)}):s,t):ZM(e,n,r-1)};function uQ(e,t,r,n,a,s){var i,l=n.reduce((h,m)=>gt(gt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>lu((h,m)=>m.from,l),u=()=>!Object.values(l).filter(wx).length,d=null,f=h=>{i||(i=h);var m=h-i,p=m/r.dt;l=ZM(r,l,p),a(gt(gt(gt({},e),t),c())),i=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function dQ(e,t,r,n,a,s,i){var l=null,c=a.reduce((f,h)=>gt(gt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=lu((x,v)=>Kh(...v,r(h)),c);if(s(gt(gt(gt({},e),t),m)),h<1)l=i.setTimeout(d);else{var p=lu((x,v)=>Kh(...v,r(1)),c);s(gt(gt(gt({},e),t),p))}};return()=>(l=i.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const fQ=(e,t,r,n,a,s)=>{var i=iQ(e,t);return r==null?()=>(a(gt(gt({},e),t)),()=>{}):r.isStepper===!0?uQ(e,t,r,i,a,s):dQ(e,t,r,n,i,a,s)};var qh=1e-4,JM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),S2=(e,t)=>r=>{var n=JM(e,t);return eI(n,r)},hQ=(e,t)=>r=>{var n=JM(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return eI(a,r)},mQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},pQ=(e,t,r,n)=>{var a=S2(e,r),s=S2(t,n),i=hQ(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=i(f);if(Math.abs(m-d)<qh||p<qh)return s(f);f=l(f-m/p)}return s(f)};return c.isStepper=!1,c},E2=function(){return pQ(...mQ(...arguments))},gQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,l,c)=>{var u=-(i-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+i;return Math.abs(h-l)<qh&&Math.abs(f)<qh?[l,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},yQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return E2(e);case"spring":return gQ();default:if(e.split("(")[0]==="cubic-bezier")return E2(e)}return typeof e=="function"?e:null};function xQ(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class vQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function bQ(){return xQ(new vQ)}var wQ=y.createContext(bQ);function jQ(e,t){var r=y.useContext(wQ);return y.useMemo(()=>t??r(e),[e,t,r])}var kQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yu={devToolsEnabled:!1,isSsr:kQ()},NQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},C2={t:0},Jg={t:1};function Gu(e){var t=mt(e,NQ),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!Yu.isSsr:r,f=jQ(t.animationId,t.animationManager),[h,m]=y.useState(d?C2:Jg),p=y.useRef(null);return y.useEffect(()=>{d||m(Jg)},[d]),y.useEffect(()=>{if(!d||!n)return Fu;var x=fQ(C2,Jg,yQ(s),a,m,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([c,i,v,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,s,i,c,l,f]),u(h.t)}function Xu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(tu(t)),n=y.useRef(e);return n.current!==e&&(r.current=tu(t),n.current=e),r.current}var _Q=["radius"],SQ=["radius"];function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){EQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EQ(e,t,r){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yh.apply(null,arguments)}function A2(e,t){if(e==null)return{};var r,n,a=OQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T2=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},M2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tI=e=>{var t=mt(e,M2),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=y.useRef(l),g=y.useRef(c),w=y.useRef(s),b=y.useRef(i),j=y.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),k=Xu(j,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var _=Ee("recharts-rectangle",d);if(!x){var N=qt(t),{radius:S}=N,O=A2(N,_Q);return y.createElement("path",Yh({},O,{radius:typeof u=="number"?u:void 0,className:_,d:T2(s,i,l,c,u)}))}var I=v.current,E=g.current,C=w.current,L=b.current,P="0px ".concat(n===-1?1:n,"px"),D="".concat(n,"px 0px"),A=QM(["strokeDasharray"],h,typeof f=="string"?f:M2.animationEasing);return y.createElement(Gu,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},R=>{var T=$e(I,l,R),M=$e(E,c,R),z=$e(C,s,R),B=$e(L,i,R);r.current&&(v.current=T,g.current=M,w.current=z,b.current=B);var F;p?R>0?F={transition:A,strokeDasharray:D}:F={strokeDasharray:P}:F={strokeDasharray:D};var Y=qt(t),{radius:q}=Y,Q=A2(Y,SQ);return y.createElement("path",Yh({},Q,{radius:typeof u=="number"?u:void 0,className:_,d:T2(z,B,T,M,u),ref:r,style:O2(O2({},F),t.style)}))})};function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){AQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQ(e,t,r){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gh=Math.PI/180,IQ=e=>e*180/Math.PI,Rt=(e,t,r,n)=>({x:e+Math.cos(-Gh*n)*r,y:t+Math.sin(-Gh*n)*r}),DQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},RQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},LQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=RQ({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(r-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:IQ(c),angleInRadian:c}},$Q=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},zQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},FQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=LQ({x:r,y:n},t),{innerRadius:i,outerRadius:l}=t;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=$Q(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?D2(D2({},t),{},{radius:a,angle:zQ(d,t)}):null};function rI(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Rt(t,r,n,a),l=Rt(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(null,arguments)}var BQ=(e,t)=>{var r=gr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},nf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=e,u=l*(i?1:-1)+n,d=Math.asin(l/u)/Gh,f=c?a:a+s*d,h=Rt(t,r,u,f),m=Rt(t,r,n,f),p=c?a-s*d:a,x=Rt(t,r,u*Math.cos(d*Gh),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},nI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,l=BQ(s,i),c=s+l,u=Rt(t,r,a,s),d=Rt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Rt(t,r,n,s),m=Rt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},UQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=gr(u-c),{circleTangency:f,lineTangency:h,theta:m}=nf({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:v}=nf({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-v;if(g<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):nI({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=nf({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:_,lineTangency:N,theta:S}=nf({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=l?Math.abs(c-u):Math.abs(c-u)-k-S;if(O<0&&s===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},HQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aI=e=>{var t=mt(e,HQ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=Ee("recharts-sector",f),m=s-a,p=Cn(i,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=UQ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=nI({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),y.createElement("path",jx({},qt(t),{className:h,d:x}))};function VQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ST(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:l}=t,c=Rt(n,a,s,l),u=Rt(n,a,i,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return rI(t)}}var sI={},iI={},oI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(oI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(iI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wb,r=iI;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}e.range=n})(sI);var WQ=sI.range;const lI=ta(WQ);function Ns(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ow(e){let t,r,n;e.length!==2?(t=Ns,r=(l,c)=>Ns(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ns||e===KQ?e:qQ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function qQ(){return 0}function cI(e){return e===null?NaN:+e}function*YQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const GQ=ow(Ns),Qu=GQ.right;ow(cI).center;class R2 extends Map{constructor(t,r=ZQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(L2(this,t))}has(t){return super.has(L2(this,t))}set(t,r){return super.set(XQ(this,t),r)}delete(t){return super.delete(QQ(this,t))}}function L2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function XQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function QQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ZQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JQ(e=Ns){if(e===Ns)return uI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function uI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eZ=Math.sqrt(50),tZ=Math.sqrt(10),rZ=Math.sqrt(2);function Xh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=eZ?10:s>=tZ?5:s>=rZ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Xh(e,t,r*2):[l,c,u]}function kx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?Xh(t,e,r):Xh(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Nx(e,t,r){return t=+t,e=+e,r=+r,Xh(e,t,r)[2]}function _x(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Nx(t,e,r):Nx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function z2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?uI:JQ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));dI(e,t,m,p,a)}const s=e[t];let i=r,l=n;for(Xl(e,r,t),a(e[n],s)>0&&Xl(e,r,n);i<l;){for(Xl(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Xl(e,r,l):(++l,Xl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nZ(e,t,r){if(e=Float64Array.from(YQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return z2(e);if(t>=1)return $2(e);var n,a=(n-1)*t,s=Math.floor(a),i=$2(dI(e,s).subarray(0,s+1)),l=z2(e.subarray(s+1));return i+(l-i)*(a-s)}}function aZ(e,t,r=cI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function sZ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sx=Symbol("implicit");function lw(){var e=new R2,t=[],r=[],n=Sx;function a(s){let i=e.get(s);if(i===void 0){if(n!==Sx)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new R2;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return lw(t,r).unknown(n)},an.apply(a,arguments),a}function cw(){var e=lw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,x=m?n:a;s=(x-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(x-p-s*(h-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var v=sZ(h).map(function(g){return p+s*g});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return cw(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},an.apply(f(),arguments)}function fI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fI(t())},e}function iZ(){return fI(cw.apply(null,arguments).paddingInner(1))}function oZ(e){return function(){return e}}function Qh(e){return+e}var F2=[0,1];function er(e){return e}function Ex(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:oZ(isNaN(t)?NaN:.5)}function lZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function cZ(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Ex(a,n),s=r(i,s)):(n=Ex(n,a),s=r(s,i)),function(l){return s(n(l))}}function uZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Ex(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Qu(e,l,1,n)-1;return s[c](a[c](l))}}function Zu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ep(){var e=F2,t=F2,r=ja,n,a,s,i=er,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==er&&(i=lZ(e[0],e[h-1])),l=h>2?uZ:cZ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),pn)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Qh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=hb,d()},f.clamp=function(h){return arguments.length?(i=h?!0:er,d()):i!==er},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function uw(){return Ep()(er,er)}function dZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ol(e){return e=Zh(Math.abs(e)),e?e[1]:NaN}function fZ(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function hZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var mZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cu(e){if(!(t=mZ.exec(e)))throw new Error("invalid format: "+e);var t;return new dw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cu.prototype=dw.prototype;function dw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var hI;function gZ(e,t){var r=Zh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(hI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zh(e,Math.max(0,t+s-1))[0]}function B2(e,t){var r=Zh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const U2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>B2(e*100,t),r:B2,s:gZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function H2(e){return e}var V2=Array.prototype.map,W2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yZ(e){var t=e.grouping===void 0||e.thousands===void 0?H2:fZ(V2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?H2:hZ(V2.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=cu(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,v=f.zero,g=f.width,w=f.comma,b=f.precision,j=f.trim,k=f.type;k==="n"?(w=!0,k="g"):U2[k]||(b===void 0&&(b=12),j=!0,k="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var _=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=x==="$"?n:/[%p]/.test(k)?i:"",S=U2[k],O=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(E){var C=_,L=N,P,D,A;if(k==="c")L=S(E)+L,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),b),j&&(E=pZ(E)),R&&+E==0&&p!=="+"&&(R=!1),C=(R?p==="("?p:l:p==="-"||p==="("?"":p)+C,L=(k==="s"?W2[8+hI/3]:"")+L+(R&&p==="("?")":""),O){for(P=-1,D=E.length;++P<D;)if(A=E.charCodeAt(P),48>A||A>57){L=(A===46?a+E.slice(P+1):E.slice(P))+L,E=E.slice(0,P);break}}}w&&!v&&(E=t(E,1/0));var T=C.length+E.length+L.length,M=T<g?new Array(g-T+1).join(h):"";switch(w&&v&&(E=t(M+E,M.length?g-L.length:1/0),M=""),m){case"<":E=C+E+L+M;break;case"=":E=C+M+E+L;break;case"^":E=M.slice(0,T=M.length>>1)+C+E+L+M.slice(T);break;default:E=M+C+E+L;break}return s(E)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=cu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(ol(h)/3)))*3,x=Math.pow(10,-p),v=W2[8+p/3];return function(g){return m(x*g)+v}}return{format:u,formatPrefix:d}}var af,fw,mI;xZ({thousands:",",grouping:[3],currency:["$",""]});function xZ(e){return af=yZ(e),fw=af.format,mI=af.formatPrefix,af}function vZ(e){return Math.max(0,-ol(Math.abs(e)))}function bZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ol(t)/3)))*3-ol(Math.abs(e)))}function wZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ol(t)-ol(e))+1}function pI(e,t,r,n){var a=_x(e,t,r),s;switch(n=cu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=bZ(a,i))&&(n.precision=s),mI(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=wZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=vZ(a))&&(n.precision=s-(n.type==="%")*2);break}}return fw(n)}function $s(e){var t=e.domain;return e.ticks=function(r){var n=t();return kx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return pI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Nx(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function gI(){var e=uw();return e.copy=function(){return Zu(e,gI())},an.apply(e,arguments),$s(e)}function yI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return yI(e).unknown(t)},e=arguments.length?Array.from(e,Qh):[0,1],$s(r)}function xI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function K2(e){return Math.log(e)}function q2(e){return Math.exp(e)}function jZ(e){return-Math.log(-e)}function kZ(e){return-Math.exp(-e)}function NZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _Z(e){return e===10?NZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function SZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Y2(e){return(t,r)=>-e(-t,r)}function hw(e){const t=e(K2,q2),r=t.domain;let n=10,a,s;function i(){return a=SZ(n),s=_Z(n),r()[0]<0?(a=Y2(a),s=Y2(s),e(jZ,kZ)):e(K2,q2),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,x;const v=l==null?10:+l;let g=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<v&&(g=kx(u,d,v))}else g=kx(h,m,Math.min(m-h,v)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=cu(c)).precision==null&&(c.trim=!0),c=fw(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(xI(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function vI(){const e=hw(Ep()).domain([1,10]);return e.copy=()=>Zu(e,vI()).base(e.base()),an.apply(e,arguments),e}function G2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function X2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mw(e){var t=1,r=e(G2(t),X2(t));return r.constant=function(n){return arguments.length?e(G2(t=+n),X2(t)):t},$s(r)}function bI(){var e=mw(Ep());return e.copy=function(){return Zu(e,bI()).constant(e.constant())},an.apply(e,arguments)}function Q2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function EZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CZ(e){return e<0?-e*e:e*e}function pw(e){var t=e(er,er),r=1;function n(){return r===1?e(er,er):r===.5?e(EZ,CZ):e(Q2(r),Q2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$s(t)}function gw(){var e=pw(Ep());return e.copy=function(){return Zu(e,gw()).exponent(e.exponent())},an.apply(e,arguments),e}function PZ(){return gw.apply(null,arguments).exponent(.5)}function Z2(e){return Math.sign(e)*e*e}function OZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wI(){var e=uw(),t=[0,1],r=!1,n;function a(s){var i=OZ(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(Z2(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Qh)).map(Z2)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return wI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},an.apply(a,arguments),$s(a)}function jI(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=aZ(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Qu(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ns),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return jI().domain(e).range(t).unknown(n)},an.apply(s,arguments)}function kI(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Qu(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return kI().domain([e,t]).range(a).unknown(s)},an.apply($s(i),arguments)}function NI(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Qu(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return NI().domain(e).range(t).unknown(r)},an.apply(a,arguments)}const e0=new Date,t0=new Date;function vt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>vt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(e0.setTime(+s),t0.setTime(+i),e(e0),e(t0),Math.floor(r(e0,t0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Jh=vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jh);Jh.range;const xa=1e3,Qr=xa*60,va=Qr*60,Ma=va*24,yw=Ma*7,J2=Ma*30,r0=Ma*365,ri=vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getUTCSeconds());ri.range;const xw=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xa)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getMinutes());xw.range;const vw=vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCMinutes());vw.range;const bw=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*xa-e.getMinutes()*Qr)},(e,t)=>{e.setTime(+e+t*va)},(e,t)=>(t-e)/va,e=>e.getHours());bw.range;const ww=vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*va)},(e,t)=>(t-e)/va,e=>e.getUTCHours());ww.range;const Ju=vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/Ma,e=>e.getDate()-1);Ju.range;const Cp=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ma,e=>e.getUTCDate()-1);Cp.range;const _I=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ma,e=>Math.floor(e/Ma));_I.range;function Hi(e){return vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/yw)}const Pp=Hi(0),em=Hi(1),AZ=Hi(2),TZ=Hi(3),ll=Hi(4),MZ=Hi(5),IZ=Hi(6);Pp.range;em.range;AZ.range;TZ.range;ll.range;MZ.range;IZ.range;function Vi(e){return vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/yw)}const Op=Vi(0),tm=Vi(1),DZ=Vi(2),RZ=Vi(3),cl=Vi(4),LZ=Vi(5),$Z=Vi(6);Op.range;tm.range;DZ.range;RZ.range;cl.range;LZ.range;$Z.range;const jw=vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jw.range;const kw=vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kw.range;const Ia=vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ia.range;const Da=vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Da.range;function SI(e,t,r,n,a,s){const i=[[ri,1,xa],[ri,5,5*xa],[ri,15,15*xa],[ri,30,30*xa],[s,1,Qr],[s,5,5*Qr],[s,15,15*Qr],[s,30,30*Qr],[a,1,va],[a,3,3*va],[a,6,6*va],[a,12,12*va],[n,1,Ma],[n,2,2*Ma],[r,1,yw],[t,1,J2],[t,3,3*J2],[e,1,r0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=ow(([,,v])=>v).right(i,h);if(m===i.length)return e.every(_x(u/r0,d/r0,f));if(m===0)return Jh.every(Math.max(_x(u,d,f),1));const[p,x]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return p.every(x)}return[l,c]}const[zZ,FZ]=SI(Da,kw,Op,_I,ww,vw),[BZ,UZ]=SI(Ia,jw,Pp,Ju,bw,xw);function n0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ql(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function HZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Zl(a),d=Jl(a),f=Zl(s),h=Jl(s),m=Zl(i),p=Jl(i),x=Zl(l),v=Jl(l),g=Zl(c),w=Jl(c),b={a:R,A:T,b:M,B:z,c:null,d:s_,e:s_,f:fJ,g:jJ,G:NJ,H:cJ,I:uJ,j:dJ,L:EI,m:hJ,M:mJ,p:B,q:F,Q:l_,s:c_,S:pJ,u:gJ,U:yJ,V:xJ,w:vJ,W:bJ,x:null,X:null,y:wJ,Y:kJ,Z:_J,"%":o_},j={a:Y,A:q,b:Q,B:le,c:null,d:i_,e:i_,f:PJ,g:zJ,G:BJ,H:SJ,I:EJ,j:CJ,L:PI,m:OJ,M:AJ,p:Z,q:X,Q:l_,s:c_,S:TJ,u:MJ,U:IJ,V:DJ,w:RJ,W:LJ,x:null,X:null,y:$J,Y:FJ,Z:UJ,"%":o_},k={a:I,A:E,b:C,B:L,c:P,d:n_,e:n_,f:sJ,g:r_,G:t_,H:a_,I:a_,j:tJ,L:aJ,m:eJ,M:rJ,p:O,q:JZ,Q:oJ,s:lJ,S:nJ,u:YZ,U:GZ,V:XZ,w:qZ,W:QZ,x:D,X:A,y:r_,Y:t_,Z:ZZ,"%":iJ};b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(U,te){return function(J){var K=[],re=-1,ce=0,ge=U.length,pe,Ie,lr;for(J instanceof Date||(J=new Date(+J));++re<ge;)U.charCodeAt(re)===37&&(K.push(U.slice(ce,re)),(Ie=e_[pe=U.charAt(++re)])!=null?pe=U.charAt(++re):Ie=pe==="e"?" ":"0",(lr=te[pe])&&(pe=lr(J,Ie)),K.push(pe),ce=re+1);return K.push(U.slice(ce,re)),K.join("")}}function N(U,te){return function(J){var K=Ql(1900,void 0,1),re=S(K,U,J+="",0),ce,ge;if(re!=J.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(te&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ce=a0(Ql(K.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?tm.ceil(ce):tm(ce),ce=Cp.offset(ce,(K.V-1)*7),K.y=ce.getUTCFullYear(),K.m=ce.getUTCMonth(),K.d=ce.getUTCDate()+(K.w+6)%7):(ce=n0(Ql(K.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?em.ceil(ce):em(ce),ce=Ju.offset(ce,(K.V-1)*7),K.y=ce.getFullYear(),K.m=ce.getMonth(),K.d=ce.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ge="Z"in K?a0(Ql(K.y,0,1)).getUTCDay():n0(Ql(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ge+5)%7:K.w+K.U*7-(ge+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,a0(K)):n0(K)}}function S(U,te,J,K){for(var re=0,ce=te.length,ge=J.length,pe,Ie;re<ce;){if(K>=ge)return-1;if(pe=te.charCodeAt(re++),pe===37){if(pe=te.charAt(re++),Ie=k[pe in e_?te.charAt(re++):pe],!Ie||(K=Ie(U,J,K))<0)return-1}else if(pe!=J.charCodeAt(K++))return-1}return K}function O(U,te,J){var K=u.exec(te.slice(J));return K?(U.p=d.get(K[0].toLowerCase()),J+K[0].length):-1}function I(U,te,J){var K=m.exec(te.slice(J));return K?(U.w=p.get(K[0].toLowerCase()),J+K[0].length):-1}function E(U,te,J){var K=f.exec(te.slice(J));return K?(U.w=h.get(K[0].toLowerCase()),J+K[0].length):-1}function C(U,te,J){var K=g.exec(te.slice(J));return K?(U.m=w.get(K[0].toLowerCase()),J+K[0].length):-1}function L(U,te,J){var K=x.exec(te.slice(J));return K?(U.m=v.get(K[0].toLowerCase()),J+K[0].length):-1}function P(U,te,J){return S(U,t,te,J)}function D(U,te,J){return S(U,r,te,J)}function A(U,te,J){return S(U,n,te,J)}function R(U){return i[U.getDay()]}function T(U){return s[U.getDay()]}function M(U){return c[U.getMonth()]}function z(U){return l[U.getMonth()]}function B(U){return a[+(U.getHours()>=12)]}function F(U){return 1+~~(U.getMonth()/3)}function Y(U){return i[U.getUTCDay()]}function q(U){return s[U.getUTCDay()]}function Q(U){return c[U.getUTCMonth()]}function le(U){return l[U.getUTCMonth()]}function Z(U){return a[+(U.getUTCHours()>=12)]}function X(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var te=_(U+="",b);return te.toString=function(){return U},te},parse:function(U){var te=N(U+="",!1);return te.toString=function(){return U},te},utcFormat:function(U){var te=_(U+="",j);return te.toString=function(){return U},te},utcParse:function(U){var te=N(U+="",!0);return te.toString=function(){return U},te}}}var e_={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,VZ=/^%/,WZ=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function KZ(e){return e.replace(WZ,"\\$&")}function Zl(e){return new RegExp("^(?:"+e.map(KZ).join("|")+")","i")}function Jl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qZ(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function YZ(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function GZ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function XZ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function QZ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function t_(e,t,r){var n=Tt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function r_(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ZZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JZ(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function eJ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function n_(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function tJ(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function a_(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function rJ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nJ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function aJ(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sJ(e,t,r){var n=Tt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iJ(e,t,r){var n=VZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function oJ(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function lJ(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function s_(e,t){return Ne(e.getDate(),t,2)}function cJ(e,t){return Ne(e.getHours(),t,2)}function uJ(e,t){return Ne(e.getHours()%12||12,t,2)}function dJ(e,t){return Ne(1+Ju.count(Ia(e),e),t,3)}function EI(e,t){return Ne(e.getMilliseconds(),t,3)}function fJ(e,t){return EI(e,t)+"000"}function hJ(e,t){return Ne(e.getMonth()+1,t,2)}function mJ(e,t){return Ne(e.getMinutes(),t,2)}function pJ(e,t){return Ne(e.getSeconds(),t,2)}function gJ(e){var t=e.getDay();return t===0?7:t}function yJ(e,t){return Ne(Pp.count(Ia(e)-1,e),t,2)}function CI(e){var t=e.getDay();return t>=4||t===0?ll(e):ll.ceil(e)}function xJ(e,t){return e=CI(e),Ne(ll.count(Ia(e),e)+(Ia(e).getDay()===4),t,2)}function vJ(e){return e.getDay()}function bJ(e,t){return Ne(em.count(Ia(e)-1,e),t,2)}function wJ(e,t){return Ne(e.getFullYear()%100,t,2)}function jJ(e,t){return e=CI(e),Ne(e.getFullYear()%100,t,2)}function kJ(e,t){return Ne(e.getFullYear()%1e4,t,4)}function NJ(e,t){var r=e.getDay();return e=r>=4||r===0?ll(e):ll.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function _J(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function i_(e,t){return Ne(e.getUTCDate(),t,2)}function SJ(e,t){return Ne(e.getUTCHours(),t,2)}function EJ(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function CJ(e,t){return Ne(1+Cp.count(Da(e),e),t,3)}function PI(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function PJ(e,t){return PI(e,t)+"000"}function OJ(e,t){return Ne(e.getUTCMonth()+1,t,2)}function AJ(e,t){return Ne(e.getUTCMinutes(),t,2)}function TJ(e,t){return Ne(e.getUTCSeconds(),t,2)}function MJ(e){var t=e.getUTCDay();return t===0?7:t}function IJ(e,t){return Ne(Op.count(Da(e)-1,e),t,2)}function OI(e){var t=e.getUTCDay();return t>=4||t===0?cl(e):cl.ceil(e)}function DJ(e,t){return e=OI(e),Ne(cl.count(Da(e),e)+(Da(e).getUTCDay()===4),t,2)}function RJ(e){return e.getUTCDay()}function LJ(e,t){return Ne(tm.count(Da(e)-1,e),t,2)}function $J(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function zJ(e,t){return e=OI(e),Ne(e.getUTCFullYear()%100,t,2)}function FJ(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function BJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?cl(e):cl.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function UJ(){return"+0000"}function o_(){return"%"}function l_(e){return+e}function c_(e){return Math.floor(+e/1e3)}var Yi,AI,TI;HJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HJ(e){return Yi=HZ(e),AI=Yi.format,Yi.parse,TI=Yi.utcFormat,Yi.utcParse,Yi}function VJ(e){return new Date(e)}function WJ(e){return e instanceof Date?+e:+new Date(+e)}function Nw(e,t,r,n,a,s,i,l,c,u){var d=uw(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function k(_){return(c(_)<_?m:l(_)<_?p:i(_)<_?x:s(_)<_?v:n(_)<_?a(_)<_?g:w:r(_)<_?b:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,WJ)):h().map(VJ)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?k:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(xI(N,_)):d},d.copy=function(){return Zu(d,Nw(e,t,r,n,a,s,i,l,c,u))},d}function KJ(){return an.apply(Nw(BZ,UZ,Ia,jw,Pp,Ju,bw,xw,ri,AI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qJ(){return an.apply(Nw(zZ,FZ,Da,kw,Op,Cp,ww,vw,ri,TI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ap(){var e=0,t=1,r,n,a,s,i=er,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,i=f(m,p),u):[i(0),i(1)]}}return u.range=d(ja),u.rangeRound=d(hb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MI(){var e=$s(Ap()(er));return e.copy=function(){return zs(e,MI())},Ua.apply(e,arguments)}function II(){var e=hw(Ap()).domain([1,10]);return e.copy=function(){return zs(e,II()).base(e.base())},Ua.apply(e,arguments)}function DI(){var e=mw(Ap());return e.copy=function(){return zs(e,DI()).constant(e.constant())},Ua.apply(e,arguments)}function _w(){var e=pw(Ap());return e.copy=function(){return zs(e,_w()).exponent(e.exponent())},Ua.apply(e,arguments)}function YJ(){return _w.apply(null,arguments).exponent(.5)}function RI(){var e=[],t=er;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ns),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>nZ(e,s/n))},r.copy=function(){return RI(t).domain(e)},Ua.apply(r,arguments)}function Tp(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=er,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(v){var g,w,b;return arguments.length?([g,w,b]=v,u=S9(x,[g,w,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(ja),m.rangeRound=p(hb),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),s=x(t),i=x(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function LI(){var e=$s(Tp()(er));return e.copy=function(){return zs(e,LI())},Ua.apply(e,arguments)}function $I(){var e=hw(Tp()).domain([.1,1,10]);return e.copy=function(){return zs(e,$I()).base(e.base())},Ua.apply(e,arguments)}function zI(){var e=mw(Tp());return e.copy=function(){return zs(e,zI()).constant(e.constant())},Ua.apply(e,arguments)}function Sw(){var e=pw(Tp());return e.copy=function(){return zs(e,Sw()).exponent(e.exponent())},Ua.apply(e,arguments)}function GJ(){return Sw.apply(null,arguments).exponent(.5)}const cc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cw,scaleDiverging:LI,scaleDivergingLog:$I,scaleDivergingPow:Sw,scaleDivergingSqrt:GJ,scaleDivergingSymlog:zI,scaleIdentity:yI,scaleImplicit:Sx,scaleLinear:gI,scaleLog:vI,scaleOrdinal:lw,scalePoint:iZ,scalePow:gw,scaleQuantile:jI,scaleQuantize:kI,scaleRadial:wI,scaleSequential:MI,scaleSequentialLog:II,scaleSequentialPow:_w,scaleSequentialQuantile:RI,scaleSequentialSqrt:YJ,scaleSequentialSymlog:DI,scaleSqrt:PZ,scaleSymlog:bI,scaleThreshold:NI,scaleTime:KJ,scaleUtc:qJ,tickFormat:pI},Symbol.toStringTag,{value:"Module"}));var Fs=e=>e.chartData,XJ=V([Fs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ed=(e,t,r,n)=>n?XJ(e):Fs(e);function Cs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(He(t)&&He(r))return!0}return!1}function u_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function FI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(He(r))a=r;else if(typeof r=="function")return;if(He(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Cs(i))return i}}function QJ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Cs(n))return u_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,l;if(a==="auto")t!=null&&(i=Math.min(...t));else if(ue(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&t2.test(a)){var c=t2.exec(a);if(c==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ue(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&r2.test(s)){var d=r2.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[i,l];if(Cs(h))return t==null?h:u_(h,t,r)}}}var Nl=1e9,ZJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cw,Ke=!0,nn="[DecimalError] ",vi=nn+"Invalid argument: ",Ew=nn+"Exponent out of range: ",_l=Math.floor,Ys=Math.pow,JJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,St=1e7,Be=7,BI=9007199254740991,rm=_l(BI/Be),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Be;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(e){return ka(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,r=t.constructor;return De(ka(t,new r(e),0,1),r.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return ft(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pr))throw Error(nn+"NaN");if(r.s<1)throw Error(nn+(r.s?"NaN":"-Infinity"));return r.eq(Pr)?new n(0):(Ke=!1,t=ka(uu(r,s),uu(e,s),s),Ke=!0,De(t,a))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VI(t,e):UI(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(nn+"NaN");return r.s?(Ke=!1,t=ka(r,e,0,1).times(e),Ke=!0,r.minus(t)):De(new n(r),a)};oe.naturalExponential=oe.exp=function(){return HI(this)};oe.naturalLogarithm=oe.ln=function(){return uu(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UI(t,e):VI(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vi+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Be+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};oe.squareRoot=oe.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(nn+"NaN")}for(e=ft(l),Ke=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Hn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_l((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(ka(l,s,i+2)).times(.5),Hn(s.d).slice(0,i)===(t=Hn(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(De(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Ke=!0,De(n,r)};oe.times=oe.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%St|0,t=l/St|0;s[a]=(s[a]+t)%St|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ke?De(e,f.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zn(e,0,Nl),t===void 0?t=n.rounding:Zn(t,0,8),De(r,e+ft(r)+1,t))};oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ii(n,!0):(Zn(e,0,Nl),t===void 0?t=a.rounding:Zn(t,0,8),n=De(new a(n),e+1,t),r=Ii(n,!0,e+1)),r};oe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Ii(a):(Zn(e,0,Nl),t===void 0?t=s.rounding:Zn(t,0,8),n=De(new s(a),e+ft(a)+1,t),r=Ii(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return De(new t(e),ft(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Pr);if(l=new c(l),!l.s){if(e.s<1)throw Error(nn+"Infinity");return l}if(l.eq(Pr))return l;if(n=c.precision,e.eq(Pr))return De(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=BI){for(a=new c(Pr),t=Math.ceil(n/Be+4),Ke=!1;r%2&&(a=a.times(l),f_(a.d,t)),r=_l(r/2),r!==0;)l=l.times(l),f_(l.d,t);return Ke=!0,e.s<0?new c(Pr).div(a):De(a,n)}}else if(s<0)throw Error(nn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,a=e.times(uu(l,n+u)),Ke=!0,a=HI(a),a.s=s,a};oe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ft(a),n=Ii(a,r<=s.toExpNeg||r>=s.toExpPos)):(Zn(e,1,Nl),t===void 0?t=s.rounding:Zn(t,0,8),a=De(new s(a),e,t),r=ft(a),n=Ii(a,e<=r||r<=s.toExpNeg,e)),n};oe.toSignificantDigits=oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zn(e,1,Nl),t===void 0?t=n.rounding:Zn(t,0,8)),De(new n(r),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Ii(e,t<=r.toExpNeg||t>=r.toExpPos)};function UI(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?De(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Be),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/St|0,c[s]%=St;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ke?De(t,f):t}function Zn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vi+e)}function Hn(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Be-n.length,r&&(s+=Qa(r)),s+=n;i=e[t],n=i+"",r=Be-n.length,r&&(s+=Qa(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ka=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%St|0,i=s/St|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*St+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,p,x,v,g,w,b,j,k,_,N,S,O=n.constructor,I=n.s==a.s?1:-1,E=n.d,C=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(nn+"Division by zero");for(c=n.e-a.e,N=C.length,k=E.length,m=new O(I),p=m.d=[],u=0;C[u]==(E[u]||0);)++u;if(C[u]>(E[u]||0)&&--c,s==null?w=s=O.precision:i?w=s+(ft(n)-ft(a))+1:w=s,w<0)return new O(0);if(w=w/Be+2|0,u=0,N==1)for(d=0,C=C[0],w++;(u<k||d)&&w--;u++)b=d*St+(E[u]||0),p[u]=b/C|0,d=b%C|0;else{for(d=St/(C[0]+1)|0,d>1&&(C=e(C,d),E=e(E,d),N=C.length,k=E.length),j=N,x=E.slice(0,N),v=x.length;v<N;)x[v++]=0;S=C.slice(),S.unshift(0),_=C[0],C[1]>=St/2&&++_;do d=0,l=t(C,x,N,v),l<0?(g=x[0],N!=v&&(g=g*St+(x[1]||0)),d=g/_|0,d>1?(d>=St&&(d=St-1),f=e(C,d),h=f.length,v=x.length,l=t(f,x,h,v),l==1&&(d--,r(f,N<h?S:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(C,x,N,v),l<1&&(d++,r(x,N<v?S:C,v))),v=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[v++]=E[j]||0:(x=[E[j]],v=1);while((j++<k||x[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=c,De(m,i?s+ft(m)+1:s)}}();function HI(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error(Ew+ft(e));if(!e.s)return new d(Pr);for(Ke=!1,l=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Ys(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Pr),d.precision=l;;){if(a=De(a.times(e),l),r=r.times(++c),i=s.plus(ka(a,r,l)),Hn(i.d).slice(0,l)===Hn(s.d).slice(0,l)){for(;u--;)s=De(s.times(s),l);return d.precision=f,t==null?(Ke=!0,De(s,f)):s}s=i}}function ft(e){for(var t=e.e*Be,r=e.d[0];r>=10;r/=10)t++;return t}function s0(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(nn+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Qa(e){for(var t="";e--;)t+="0";return t}function uu(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(nn+(m.s?"NaN":"-Infinity"));if(m.eq(Pr))return new x(0);if(t==null?(Ke=!1,u=v):u=t,m.eq(10))return t==null&&(Ke=!0),s0(x,u);if(u+=h,x.precision=u,r=Hn(p),n=r.charAt(0),s=ft(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Hn(m.d),n=r.charAt(0),f++;s=ft(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=s0(x,u+2,v).times(s+""),m=uu(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=v,t==null?(Ke=!0,De(m,v)):m;for(l=i=m=ka(m.minus(Pr),m.plus(Pr),u),d=De(m.times(m),u),a=3;;){if(i=De(i.times(d),u),c=l.plus(ka(i,new x(a),u)),Hn(c.d).slice(0,u)===Hn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(s0(x,u+2,v).times(s+""))),l=ka(l,new x(f),u),x.precision=v,t==null?(Ke=!0,De(l,v)):l;l=c,a+=2}}function d_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=_l(r/Be),e.d=[],n=(r+1)%Be,r<0&&(n+=Be),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Be;n<a;)e.d.push(+t.slice(n,n+=Be));t=t.slice(n),n=Be-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>rm||e.e<-rm))throw Error(Ew+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Be,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Be),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Be,a=n-Be+i}if(r!==void 0&&(s=Ys(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ys(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ft(e),f.length=1,t=t-s-1,f[0]=Ys(10,(Be-t%Be)%Be),e.e=_l(-t/Be)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ys(10,Be-n),f[d]=a>0?(u/Ys(10,i-a)%Ys(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==St&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=St)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>rm||e.e<-rm))throw Error(Ew+ft(e));return e}function VI(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?De(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Be),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=St-1;--c[s],c[a]+=St}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ke?De(t,m):t):new h(0)}function Ii(e,t,r){var n,a=ft(e),s=Hn(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Qa(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Qa(-a-1)+s,r&&(n=r-i)>0&&(s+=Qa(n))):a>=i?(s+=Qa(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Qa(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Qa(n))),e.s<0?"-"+s:s}function f_(e,t){if(e.length>t)return e.length=t,!0}function WI(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vi+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return d_(i,s.toString())}else if(typeof s!="string")throw Error(vi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,JJ.test(s))d_(i,s);else throw Error(vi+s)}if(a.prototype=oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=WI,a.config=a.set=eee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function eee(e){if(!e||typeof e!="object")throw Error(nn+"Object expected");var t,r,n,a=["precision",1,Nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(_l(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(vi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vi+r+": "+n);return this}var Cw=WI(ZJ);Pr=new Cw(1);const Ae=Cw;var tee=e=>e,KI={},qI=e=>e===KI,h_=e=>function t(){return arguments.length===0||arguments.length===1&&qI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YI=(e,t)=>e===1?t:h_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==KI).length;return s>=e?t(...n):YI(e-s,h_(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(d=>qI(d)?l.shift():d);return t(...u,...l)}))}),ree=e=>YI(e.length,e),Cx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},nee=ree((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),aee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return tee;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},Px=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function GI(e){var t;return e===0?t=1:t=Math.floor(new Ae(e).abs().log(10).toNumber())+1,t}function XI(e,t,r){for(var n=new Ae(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var QI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},ZI=(e,t,r)=>{if(e.lte(0))return new Ae(0);var n=GI(e.toNumber()),a=new Ae(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new Ae(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?new Ae(c.toNumber()):new Ae(Math.ceil(c.toNumber()))},see=(e,t,r)=>{var n=new Ae(1),a=new Ae(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ae(10).pow(GI(e)-1),a=new Ae(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ae(Math.floor(e)))}else e===0?a=new Ae(Math.floor((t-1)/2)):r||(a=new Ae(Math.floor(e)));var i=Math.floor((t-1)/2),l=aee(nee(c=>a.add(new Ae(c-i).mul(n)).toNumber()),Cx);return l(0,t)},JI=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ae(0),tickMin:new Ae(0),tickMax:new Ae(0)};var i=ZI(new Ae(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Ae(0):(l=new Ae(t).add(r).div(2),l=l.sub(new Ae(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),u=Math.ceil(new Ae(r).sub(l).div(i).toNumber()),d=c+u+1;return d>n?JI(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:l.sub(new Ae(c).mul(i)),tickMax:l.add(new Ae(u).mul(i))})},iee=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,c]=QI([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Cx(0,a-1).map(()=>1/0)]:[...Cx(0,a-1).map(()=>-1/0),c];return r>n?Px(u):u}if(l===c)return see(l,a,s);var{step:d,tickMin:f,tickMax:h}=JI(l,c,i,s,0),m=XI(f,h.add(new Ae(.1).mul(d)),d);return r>n?Px(m):m},oee=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=QI([n,a]);if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(r,2),u=ZI(new Ae(l).sub(i).div(c-1),s,0),d=[...XI(new Ae(i),new Ae(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?Px(d):d},e4=e=>e.rootProps.maxBarSize,lee=e=>e.rootProps.barGap,t4=e=>e.rootProps.barCategoryGap,cee=e=>e.rootProps.barSize,Mp=e=>e.rootProps.stackOffset,r4=e=>e.rootProps.reverseStackOrder,Pw=e=>e.options.chartName,Ow=e=>e.rootProps.syncId,n4=e=>e.rootProps.syncMethod,Aw=e=>e.options.eventEmitter,ot={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ha={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Er={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ip=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},uee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ha.angleAxisId,includeHidden:!1,name:void 0,reversed:ha.reversed,scale:ha.scale,tick:ha.tick,tickCount:void 0,ticks:void 0,type:ha.type,unit:void 0},dee={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:Er.type,unit:void 0},fee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ha.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ha.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ha.scale,tick:ha.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},hee={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:"category",unit:void 0},Tw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?fee:uee,Mw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?hee:dee,Dp=e=>e.polarOptions,Iw=V([Fa,Ba,At],DQ),a4=V([Dp,Iw],(e,t)=>{if(e!=null)return Cn(e.innerRadius,t,0)}),s4=V([Dp,Iw],(e,t)=>{if(e!=null)return Cn(e.outerRadius,t,t*.8)}),mee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},i4=V([Dp],mee);V([Tw,i4],Ip);var o4=V([Iw,a4,s4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([Mw,o4],Ip);var l4=V([Ce,Dp,a4,s4,Fa,Ba],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=t;return{cx:Cn(i,a,a/2),cy:Cn(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),bt=(e,t)=>t,Rp=(e,t,r)=>r;function Dw(e){return e==null?void 0:e.id}function c4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Dw(l);u.forEach((f,h)=>{var m=s==null||a?h:String(Je(f,s,null)),p=Je(f,l.dataKey,0),x;i.has(m)?x=i.get(m):x={},Object.assign(x,{[d]:p}),i.set(m,x)})}}),Array.from(i.values())}function Lp(e){return e.stackId!=null&&e.dataKey!=null}var $p=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function zp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function pee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wt=e=>{var t=Ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Sl=e=>e.tooltip.settings.axisId;function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gee(e,t,r){return(t=yee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yee(e){var t=xee(e,"string");return typeof t=="symbol"?t:t+""}function xee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ox=[0,"auto"],kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},u4=(e,t)=>e.cartesianAxis.xAxis[t],aa=(e,t)=>{var r=u4(e,t);return r??kt},Nt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ox,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wu},d4=(e,t)=>e.cartesianAxis.yAxis[t],sa=(e,t)=>{var r=d4(e,t);return r??Nt},f4={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??f4},ir=(e,t,r)=>{switch(t){case"xAxis":return aa(e,r);case"yAxis":return sa(e,r);case"zAxis":return Rw(e,r);case"angleAxis":return Tw(e,r);case"radiusAxis":return Mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vee=(e,t,r)=>{switch(t){case"xAxis":return aa(e,r);case"yAxis":return sa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},td=(e,t,r)=>{switch(t){case"xAxis":return aa(e,r);case"yAxis":return sa(e,r);case"angleAxis":return Tw(e,r);case"radiusAxis":return Mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},h4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function m4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var rd=e=>e.graphicalItems.cartesianItems,bee=V([bt,Rp],m4),p4=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),nd=V([rd,ir,bee],p4,{memoizeOptions:{resultEqualityCheck:zp}}),g4=V([nd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Lp)),y4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wee=V([nd],y4),x4=e=>e.map(t=>t.data).filter(Boolean).flat(1),jee=V([nd],x4,{memoizeOptions:{resultEqualityCheck:zp}}),v4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Lw=V([jee,ed],v4),b4=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Je(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Je(a,n)}))):e.map(n=>({value:n})),Fp=V([Lw,ir,nd],b4);function w4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Lf(e){if(tn(e)||e instanceof Date){var t=Number(e);if(He(t))return t}}function p_(e){if(Array.isArray(e)){var t=[Lf(e[0]),Lf(e[1])];return Cs(t)?t:void 0}var r=Lf(e);if(r!=null)return[r,r]}function Ra(e){return e.map(Lf).filter(vq)}function kee(e,t,r){return!r||typeof t!="number"||$r(t)?[]:r.length?Ra(r.flatMap(n=>{var a=Je(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!He(s)||!He(i)))return[t-s,t+i]})):[]}var jt=e=>{var t=wt(e),r=Sl(e);return td(e,t,r)},ad=V([jt],e=>e==null?void 0:e.dataKey),Nee=V([g4,ed,jt],c4),j4=(e,t,r,n)=>{var a={},s=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[l,c]=i,u=n?[...c].reverse():c,d=u.map(Dw);return[l,{stackedData:xG(e,d,r),graphicalItems:u}]}))},Ax=V([Nee,g4,Mp,r4],j4),k4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=kG(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},_ee=V([ir],e=>e.allowDataOverflow),$w=e=>{var t;if(e==null||!("domain"in e))return Ox;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ra(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ox},N4=V([ir],$w),_4=V([N4,_ee],FI),See=V([Ax,Fs,bt,_4],k4,{memoizeOptions:{resultEqualityCheck:$p}}),zw=e=>e.errorBars,Eee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>w4(r,n)),am=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},S4=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(g=>w4(a,g)),h=Je(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=kee(l,h,f);if(m.length>=2){var p=Math.min(...m),x=Math.max(...m);(s==null||p<s)&&(s=p),(i==null||x>i)&&(i=x)}var v=p_(h);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),i=i==null?v[1]:Math.max(i,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=p_(Je(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),He(s)&&He(i))return[s,i]},Cee=V([Lw,ir,wee,zw,bt],S4,{memoizeOptions:{resultEqualityCheck:$p}});function Pee(e){var{value:t}=e;if(tn(t)||t instanceof Date)return t}var Oee=(e,t,r)=>{var n=e.map(Pee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&kT(n))?lI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},E4=e=>e.referenceElements.dots,El=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Aee=V([E4,bt,Rp],El),C4=e=>e.referenceElements.areas,Tee=V([C4,bt,Rp],El),P4=e=>e.referenceElements.lines,Mee=V([P4,bt,Rp],El),O4=(e,t)=>{var r=Ra(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Iee=V(Aee,bt,O4),A4=(e,t)=>{var r=Ra(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Dee=V([Tee,bt],A4);function Ree(e){var t;if(e.x!=null)return Ra([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ra(r)}function Lee(e){var t;if(e.y!=null)return Ra([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ra(r)}var T4=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Ree(n):Lee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$ee=V([Mee,bt],T4),zee=V(Iee,$ee,Dee,(e,t,r)=>am(e,r,t)),M4=(e,t,r,n,a,s,i,l)=>{if(r!=null)return r;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?am(n,s,a):am(s,a);return QJ(t,u,e.allowDataOverflow)},Fee=V([ir,N4,_4,See,Cee,zee,Ce,bt],M4,{memoizeOptions:{resultEqualityCheck:$p}}),Bee=[0,1],I4=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:l,type:c}=e,u=Ls(t,s);if(u&&l==null){var d;return lI(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Oee(n,e,u):a==="expand"?Bee:i}},Fw=V([ir,Ce,Lw,Fp,Mp,bt,Fee],I4),D4=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(zu(s));return l in cc?l:"point"}}},sd=V([ir,Ce,h4,Pw,bt],D4);function Uee(e){if(e!=null){if(e in cc)return cc[e]();var t="scale".concat(zu(e));if(t in cc)return cc[t]()}}function Bw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Uee(t);if(a!=null){var s=a.domain(r).range(n);return hG(s),s}}}var R4=(e,t,r)=>{var n=$w(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Cs(e))return iee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cs(e))return oee(e,t.tickCount,t.allowDecimals)}},Uw=V([Fw,td,sd],R4),L4=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Cs(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(i,l)]}return t},Hee=V([ir,Fw,Uw,bt],L4),Vee=V(Fp,ir,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ra(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),$4=V(Vee,Ce,t4,At,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!He(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=Cn(r,e*s),l=e*s/2;return l-i-(l-i)/s*i}return 0}),Wee=(e,t)=>{var r=aa(e,t);return r==null||typeof r.padding!="string"?0:$4(e,"xAxis",t,r.padding)},Kee=(e,t)=>{var r=sa(e,t);return r==null||typeof r.padding!="string"?0:$4(e,"yAxis",t,r.padding)},qee=V(aa,Wee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Yee=V(sa,Kee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Gee=V([At,qee,jp,wp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Xee=V([At,Ce,Yee,jp,wp,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),id=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Gee(e,r,n);case"yAxis":return Xee(e,r,n);case"zAxis":return(a=Rw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return i4(e);case"radiusAxis":return o4(e,r);default:return}},z4=V([ir,id],Ip),Ps=V([ir,sd,Hee,z4],Bw);V([nd,zw,bt],Eee);function F4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bp=(e,t)=>t,Up=(e,t,r)=>r,Qee=V(vp,Bp,Up,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F4)),Zee=V(bp,Bp,Up,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F4)),B4=(e,t)=>({width:e.width,height:t.height}),Jee=(e,t)=>{var r=typeof t.width=="number"?t.width:Wu;return{width:r,height:e.height}},U4=V(At,aa,B4),ete=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},tte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},rte=V(Ba,At,Qee,Bp,Up,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=B4(t,l);i==null&&(i=ete(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),nte=V(Fa,At,Zee,Bp,Up,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=Jee(t,l);i==null&&(i=tte(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),ate=(e,t)=>{var r=aa(e,t);if(r!=null)return rte(e,r.orientation,r.mirror)},ste=V([At,aa,ate,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ite=(e,t)=>{var r=sa(e,t);if(r!=null)return nte(e,r.orientation,r.mirror)},ote=V([At,sa,ite,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),H4=V(At,sa,(e,t)=>{var r=typeof t.width=="number"?t.width:Wu;return{width:r,height:e.height}}),g_=(e,t,r)=>{switch(t){case"xAxis":return U4(e,r).width;case"yAxis":return H4(e,r).height;default:return}},V4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,l=Ls(e,n),c=t.map(u=>u.value);if(i&&l&&s==="category"&&a&&kT(c))return c}},Hw=V([Ce,Fp,ir,bt],V4),W4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Ls(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},Vw=V([Ce,Fp,td,bt],W4),y_=V([Ce,vee,sd,Ps,Hw,Vw,id,Uw,bt],(e,t,r,n,a,s,i,l,c)=>{if(t!=null){var u=Ls(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:r,scale:n}}}),lte=(e,t,r,n,a,s,i,l,c)=>{if(!(t==null||n==null)){var u=Ls(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?gr(s[0]-s[1])*2*p:p;var x=f||a;if(x){var v=x.map((g,w)=>{var b=i?i.indexOf(g):g;return{index:w,coordinate:n(b)+p,value:g,offset:p}});return v.filter(g=>He(g.coordinate))}return u&&l?l.map((g,w)=>({coordinate:n(g)+p,value:g,index:w,offset:p})).filter(g=>He(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,w)=>({coordinate:n(g)+p,value:i?i[g]:g,index:w,offset:p}))}},K4=V([Ce,td,sd,Ps,Uw,id,Hw,Vw,bt],lte),cte=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ls(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?gr(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Jn=V([Ce,td,Ps,id,Hw,Vw,bt],cte),ea=V(ir,Ps,(e,t)=>{if(!(e==null||t==null))return nm(nm({},e),{},{scale:t})}),ute=V([ir,sd,Fw,z4],Bw),dte=V((e,t,r)=>Rw(e,r),ute,(e,t)=>{if(!(e==null||t==null))return nm(nm({},e),{},{scale:t})}),fte=V([Ce,vp,bp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),q4=e=>e.options.defaultTooltipEventType,Y4=e=>e.options.validateTooltipEventTypes;function G4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ww(e,t){var r=q4(e),n=Y4(e);return G4(t,r,n)}function hte(e){return ie(t=>Ww(t,e))}var X4=(e,t)=>{var r,n=Number(t);if(!($r(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},mte=e=>e.tooltip.settings,rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},pte={itemInteraction:{click:rs,hover:rs},axisInteraction:{click:rs,hover:rs},keyboardInteraction:rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Q4=Nr({name:"tooltip",initialState:pte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ve()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Nn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Ve()},removeTooltipEntrySettings:{reducer(e,t){var r=Nn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ve()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:gte,replaceTooltipEntrySettings:yte,removeTooltipEntrySettings:xte,setTooltipSettingsState:vte,setActiveMouseOverItemIndex:Z4,mouseLeaveItem:bte,mouseLeaveChart:J4,setActiveClickItemIndex:wte,setMouseOverAxisIndex:eD,setMouseClickAxisIndex:jte,setSyncInteraction:Tx,setKeyboardInteraction:Mx}=Q4.actions,kte=Q4.reducer;function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){Nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nte(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ete(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Cte(e){return e.index!=null}var tD=(e,t,r,n)=>{if(t==null)return rs;var a=Ete(e,t,r);if(a==null)return rs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Cte(a)){if(s)return sf(sf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return sf(sf({},rs),{},{coordinate:a.coordinate})};function Pte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Ote(e,t){var r=Pte(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function Ate(e,t,r){if(r==null||t==null)return!0;var n=Je(e,t);return n==null||!Cs(r)?!0:Ote(n,r)}var Kw=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!He(s))return a;var i=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(i,Math.min(s,l)),u=t[c];return u==null||Ate(u,r,n)?String(c):null},rD=(e,t,r,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},nD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},od=e=>e.options.tooltipPayloadSearcher,Cl=e=>e.tooltip;function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){Tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tte(e,t,r){return(t=Mte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mte(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dte(e,t){return e??t}var aD=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:v}=m,g=Dte(x,l),w=Array.isArray(g)?CM(g,u,d):g,b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&i==="axis"?k=NT(w,n,a):k=s(w,t,c,j),Array.isArray(k))k.forEach(N=>{var S=b_(b_({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(n2({tooltipEntrySettings:S,dataKey:N.dataKey,payload:N.payload,value:Je(N.payload,N.dataKey),name:N.name}))});else{var _;h.push(n2({tooltipEntrySettings:v,dataKey:b,payload:k,value:Je(k,b),name:(_=Je(k,j))!==null&&_!==void 0?_:v==null?void 0:v.name}))}return h},f)}},qw=V([jt,Ce,h4,Pw,wt],D4),Rte=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Lte=V([wt,Sl],m4),ld=V([Rte,jt,Lte],p4,{memoizeOptions:{resultEqualityCheck:zp}}),$te=V([ld],e=>e.filter(Lp)),zte=V([ld],x4,{memoizeOptions:{resultEqualityCheck:zp}}),Pl=V([zte,Fs],v4),Fte=V([$te,Fs,jt],c4),Yw=V([Pl,jt,ld],b4),sD=V([jt],$w),Bte=V([jt],e=>e.allowDataOverflow),iD=V([sD,Bte],FI),Ute=V([ld],e=>e.filter(Lp)),Hte=V([Fte,Ute,Mp,r4],j4),Vte=V([Hte,Fs,wt,iD],k4),Wte=V([ld],y4),Kte=V([Pl,jt,Wte,zw,wt],S4,{memoizeOptions:{resultEqualityCheck:$p}}),qte=V([E4,wt,Sl],El),Yte=V([qte,wt],O4),Gte=V([C4,wt,Sl],El),Xte=V([Gte,wt],A4),Qte=V([P4,wt,Sl],El),Zte=V([Qte,wt],T4),Jte=V([Yte,Zte,Xte],am),ere=V([jt,sD,iD,Vte,Kte,Jte,Ce,wt],M4),cd=V([jt,Ce,Pl,Yw,Mp,wt,ere],I4),tre=V([cd,jt,qw],R4),rre=V([jt,cd,tre,wt],L4),oD=e=>{var t=wt(e),r=Sl(e),n=!1;return id(e,t,r,n)},lD=V([jt,oD],Ip),cD=V([jt,qw,rre,lD],Bw),nre=V([Ce,Yw,jt,wt],V4),are=V([Ce,Yw,jt,wt],W4),sre=(e,t,r,n,a,s,i,l)=>{if(t){var{type:c}=t,u=Ls(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?gr(a[0]-a[1])*2*f:f,u&&i?i.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Ha=V([Ce,jt,qw,cD,oD,nre,are,wt],sre),Gw=V([q4,Y4,mte],(e,t,r)=>G4(r.shared,e,t)),uD=e=>e.tooltip.settings.trigger,Xw=e=>e.tooltip.settings.defaultIndex,ud=V([Cl,Gw,uD,Xw],tD),Os=V([ud,Pl,ad,cd],Kw),dD=V([Ha,Os],X4),fD=V([ud],e=>{if(e)return e.dataKey});V([ud],e=>{if(e)return e.graphicalItemId});var hD=V([Cl,Gw,uD,Xw],nD),ire=V([Fa,Ba,Ce,At,Ha,Xw,hD,od],rD),ore=V([ud,ire],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lre=V([ud],e=>e.active),cre=V([hD,Os,Fs,ad,dD,od,Gw],aD),ure=V([cre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dre(e,t,r){return(t=fre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fre(e){var t=hre(e,"string");return typeof t=="symbol"?t:t+""}function hre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mre=()=>ie(jt),pre=()=>{var e=mre(),t=ie(Ha),r=ie(cD);return al(!e||!r?void 0:j_(j_({},e),{},{scale:r}),t)};function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return(t=yre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vre=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},bre=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return Gi(Gi(Gi({},n),Rt(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return Gi(Gi(Gi({},n),Rt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var mD=(e,t,r,n,a)=>{var s,i=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(gr(d-u)!==gr(f-d)){var m=[];if(gr(f-d)===gr(a[1]-a[0])){h=f;var p=d+a[1]-a[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var x=f+a[1]-a[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:i}=r[c]);break}}else{var g=Math.min(u,f),w=Math.max(u,f);if(e>(g+d)/2&&e<=(w+d)/2){({index:i}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:i}=t[b]);break}}return i},jre=()=>ie(Pw),Qw=(e,t)=>t,pD=(e,t,r)=>r,Zw=(e,t,r,n)=>n,kre=V(Ha,e=>up(e,t=>t.coordinate)),Jw=V([Cl,Qw,pD,Zw],tD),e1=V([Jw,Pl,ad,cd],Kw),Nre=(e,t,r)=>{if(t!=null){var n=Cl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},gD=V([Cl,Qw,pD,Zw],nD),sm=V([Fa,Ba,Ce,At,Ha,Zw,gD,od],rD),_re=V([Jw,sm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),yD=V([Ha,e1],X4),Sre=V([gD,e1,Fs,ad,yD,od,Qw],aD),Ere=V([Jw,e1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Cre=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&wre(e,i)){var l=NG(e,t),c=mD(l,s,a,r,n),u=vre(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Pre=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var l=FQ(e,r);if(l){var c=_G(l,t),u=mD(c,i,s,n,a),d=bre(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Ore=(e,t,r,n,a,s,i,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Cre(e,t,n,a,s,i,l):Pre(e,t,r,n,a,s,i)},Are=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Tre=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ot)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:pee}});function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){Mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mre(e,t,r){return(t=Ire(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ire(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rre={},Lre={zIndexMap:Object.values(ot).reduce((e,t)=>__(__({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Rre)},$re=new Set(Object.values(ot));function zre(e){return $re.has(e)}var xD=Nr({name:"zIndex",initialState:Lre,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ve()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!zre(r)&&delete e.zIndexMap[r])},prepare:Ve()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Ve()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ve()}}}),{registerZIndexPortal:Fre,unregisterZIndexPortal:Bre,registerZIndexPortalId:Ure,unregisterZIndexPortalId:Hre}=xD.actions,Vre=xD.reducer;function or(e){var{zIndex:t,children:r}=e,n=ZG(),a=n&&t!==void 0&&t!==0,s=xt(),i=Ge();y.useLayoutEffect(()=>a?(i(Fre({zIndex:t})),()=>{i(Bre({zIndex:t}))}):Fu,[i,t,a]);var l=ie(u=>Are(u,t,s));if(!a)return r;if(!l)return null;var c=document.getElementById(l);return c?ku.createPortal(r,c):null}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(null,arguments)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){Wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wre(e,t,r){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kre(e){var t=qre(e,"string");return typeof t=="symbol"?t:t+""}function qre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yre(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function Gre(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=eQ,v=ot.cursorLine;else if(d==="BarChart")p=tQ(l,f,s,i),x=tI,v=ot.cursorRectangle;else if(l==="radial"&&ST(f)){var{cx:g,cy:w,radius:b,startAngle:j,endAngle:k}=rI(f);p={cx:g,cy:w,startAngle:j,endAngle:k,innerRadius:b,outerRadius:b},x=aI,v=ot.cursorLine}else p={points:VQ(l,f,s)},x=iw,v=ot.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,N=of(of(of(of({stroke:"#ccc",pointerEvents:"none"},s),p),wl(c)),{},{payload:h,payloadIndex:m,className:Ee("recharts-tooltip-cursor",_)});return y.createElement(or,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},y.createElement(Yre,{cursor:c,cursorComp:x,cursorProps:N}))}function Xre(e){var t=pre(),r=BM(),n=Ku(),a=jre();return t==null||r==null||n==null||a==null?null:y.createElement(Gre,Ix({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var vD=y.createContext(null),Qre=()=>y.useContext(vD),bD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(b=1,w=new Array(g-1);b<g;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var j=v.length,k;for(b=0;b<j;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),g){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!w)for(k=1,w=new Array(g-1);k<g;k++)w[k-1]=arguments[k];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&i(this,m);else{for(var x=0,v=[],g=p.length;x<g;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(bD);var Zre=bD.exports;const Jre=ta(Zre);var du=new Jre,Dx="recharts.syncEvent.tooltip",E_="recharts.syncEvent.brush";function t1(e,t){if(t){var r=Number.parseInt(t,10);if(!$r(r))return e==null?void 0:e[r]}}var ene={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wD=Nr({name:"options",initialState:ene,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tne=wD.reducer,{createEventEmitter:rne}=wD.actions;function nne(e){return e.tooltip.syncInteraction}var ane={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jD=Nr({name:"chartData",initialState:ane,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:C_,setDataStartEndIndexes:sne,setComputedData:kfe}=jD.actions,ine=jD.reducer,one=["x","y"];function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lne(e,t,r){return(t=cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t){if(e==null)return{};var r,n,a=fne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hne(){var e=ie(Ow),t=ie(Aw),r=Ge(),n=ie(n4),a=ie(Ha),s=Ku(),i=kl(),l=ie(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return Fu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(i&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:x}=m,v=dne(m,one),{x:g,y:w,width:b,height:j}=d.payload.sourceViewBox,k=Xi(Xi({},v),{},{x:i.x+(b?(p-g)/b:0)*i.width,y:i.y+(j?(x-w)/j:0)*i.height});r(Xi(Xi({},d),{},{payload:Xi(Xi({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,N);_=a[S]}else n==="value"&&(_=a.find(A=>String(A.value)===d.payload.label));var{coordinate:O}=d.payload;if(_==null||d.payload.active===!1||O==null||i==null){r(Tx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:E}=O,C=Math.min(I,i.x+i.width),L=Math.min(E,i.y+i.height),P={x:s==="horizontal"?_.coordinate:C,y:s==="horizontal"?L:_.coordinate},D=Tx({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(D)}}};return du.on(Dx,c),()=>{du.off(Dx,c)}},[l,r,t,e,n,a,s,i])}function mne(){var e=ie(Ow),t=ie(Aw),r=Ge();y.useEffect(()=>{if(e==null)return Fu;var n=(a,s,i)=>{t!==i&&e===a&&r(sne(s))};return du.on(E_,n),()=>{du.off(E_,n)}},[r,t,e])}function pne(){var e=Ge();y.useEffect(()=>{e(rne())},[e]),hne(),mne()}function gne(e,t,r,n,a,s){var i=ie(m=>Nre(m,e,t)),l=ie(Aw),c=ie(Ow),u=ie(n4),d=ie(nne),f=d==null?void 0:d.active,h=kl();y.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=Tx({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});du.emit(Dx,c,m,l)}},[f,r,i,a,n,l,c,u,s,h])}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yne(e,t,r){return(t=xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bne(e){return e.dataKey}function wne(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(MX,t)}var T_=[],jne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lf(e){var t,r,n=mt(e,jne),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:g,shared:w,trigger:b,defaultIndex:j,portal:k,axisId:_}=n,N=Ge(),S=typeof j=="number"?String(j):j;y.useEffect(()=>{N(vte({shared:w,trigger:b,axisId:_,active:a,defaultIndex:S}))},[N,w,b,_,a,S]);var O=kl(),I=XM(),E=hte(w),{activeIndex:C,isActive:L}=(t=ie(Z=>Ere(Z,E,b,S)))!==null&&t!==void 0?t:{},P=ie(Z=>Sre(Z,E,b,S)),D=ie(Z=>yD(Z,E,b,S)),A=ie(Z=>_re(Z,E,b,S)),R=P,T=Qre(),M=(r=a??L)!==null&&r!==void 0?r:!1,[z,B]=ZT([R,M]),F=E==="axis"?D:void 0;gne(E,b,A,F,C,M);var Y=k??T;if(Y==null||O==null||E==null)return null;var q=R??T_;M||(q=T_),u&&q.length&&(q=VT(q.filter(Z=>Z.value!=null&&(Z.hide!==!0||n.includeHidden)),h,bne));var Q=q.length>0,le=y.createElement(FX,{allowEscapeViewBox:s,animationDuration:i,animationEasing:l,isAnimationActive:d,active:M,coordinate:A,hasPayload:Q,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:O,wrapperStyle:v,lastBoundingBox:z,innerRef:B,hasPortalFromProps:!!k},wne(c,A_(A_({},n),{},{payload:q,label:F,active:M,activeIndex:C,coordinate:A,accessibilityLayer:I})));return y.createElement(y.Fragment,null,ku.createPortal(le,Y),M&&y.createElement(Xre,{cursor:g,tooltipEventType:E,coordinate:A,payload:q,index:C}))}var r1=e=>null;r1.displayName="Cell";function kne(e,t,r){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Sne{constructor(t){kne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ene(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){Cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cne(e,t,r){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ane={cacheSize:2e3,enableCache:!0},kD=Ene({},Ane),I_=new Sne(kD.cacheSize),Tne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},D_="recharts_measurement_span";function Mne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var R_=(e,t)=>{try{var r=document.getElementById(D_);r||(r=document.createElement("span"),r.setAttribute("id",D_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Tne,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},kc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yu.isSsr)return{width:0,height:0};if(!kD.enableCache)return R_(t,r);var n=Mne(t,r),a=I_.get(n);if(a)return a;var s=R_(t,r);return I_.set(n,s),s},L_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ine=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ND={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rne=Object.keys(ND),mo="NaN";function Lne(e,t){return e*ND[t]}class dr{static parse(t){var r,[,n,a]=(r=Dne.exec(t))!==null&&r!==void 0?r:[];return new dr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$r(t)&&(this.unit=""),r!==""&&!Ine.test(r)&&(this.num=NaN,this.unit=""),Rne.includes(r)&&(this.num=Lne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function _D(e){if(e.includes(mo))return mo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=L_.exec(t))!==null&&r!==void 0?r:[],i=dr.parse(n??""),l=dr.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return mo;t=t.replace(L_,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=$_.exec(t))!==null&&u!==void 0?u:[],m=dr.parse(d??""),p=dr.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return mo;t=t.replace($_,x.toString())}return t}var z_=/\(([^()]*)\)/;function $ne(e){for(var t=e,r;(r=z_.exec(t))!=null;){var[,n]=r;t=t.replace(z_,_D(n))}return t}function zne(e){var t=e.replace(/\s+/g,"");return t=$ne(t),t=_D(t),t}function Fne(e){try{return zne(e)}catch{return mo}}function i0(e){var t=Fne(e.slice(5,-1));return t===mo?"":t}var Bne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Une=["dx","dy","angle","className","breakAll"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(null,arguments)}function F_(e,t){if(e==null)return{};var r,n,a=Hne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SD=/[ \f\n\r\t\v\u2028\u2029]+/,ED=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Te(t)||(r?a=t.toString().split(""):a=t.toString().split(SD));var s=a.map(l=>({word:l,width:kc(l,n).width})),i=r?0:kc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function Vne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var CD=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(i),c.width+=l+r;else{var u={words:[i],width:l};a.push(u)}return a},[]),PD=e=>e.reduce((t,r)=>t.width>r.width?t:r),Wne="",B_=(e,t,r,n,a,s,i,l)=>{var c=e.slice(0,t),u=ED({breakAll:r,style:n,children:c+Wne});if(!u)return[!1,[]];var d=CD(u.wordsWithComputedWidth,s,i,l),f=d.length>a||PD(d).width>Number(s);return[f,d]},Kne=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=e,u=ue(s),d=String(i),f=CD(t,n,r,a);if(!u||a)return f;var h=f.length>s||PD(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,x=0,v;m<=p&&x<=d.length-1;){var g=Math.floor((m+p)/2),w=g-1,[b,j]=B_(d,w,c,l,s,n,r,a),[k]=B_(d,g,c,l,s,n,r,a);if(!b&&!k&&(m=g+1),b&&k&&(p=g-1),!b&&k){v=j;break}x++}return v||f},U_=e=>{var t=Te(e)?[]:e.toString().split(SD);return[{words:t,width:void 0}]},qne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Yu.isSsr){var l,c,u=ED({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return U_(n);return Kne({breakAll:s,children:n,maxLines:i,style:a},l,c,t,!!r)}return U_(n)},OD="#808080",Yne={angle:0,breakAll:!1,capHeight:"0.71em",fill:OD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},n1=y.forwardRef((e,t)=>{var r=mt(e,Yne),{x:n,y:a,lineHeight:s,capHeight:i,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=F_(r,Bne),h=y.useMemo(()=>qne({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:x,className:v,breakAll:g}=f,w=F_(f,Une);if(!tn(n)||!tn(a)||h.length===0)return null;var b=Number(n)+(ue(m)?m:0),j=Number(a)+(ue(p)?p:0);if(!He(b)||!He(j))return null;var k;switch(d){case"start":k=i0("calc(".concat(i,")"));break;case"middle":k=i0("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:k=i0("calc(".concat(h.length-1," * -").concat(s,")"));break}var _=[];if(c){var N=h[0].width,{width:S}=f;_.push("scale(".concat(ue(S)&&ue(N)?S/N:1,")"))}return x&&_.push("rotate(".concat(x,", ").concat(b,", ").concat(j,")")),_.length&&(w.transform=_.join(" ")),y.createElement("text",Rx({},qt(w),{ref:t,x:b,y:j,className:Ee("recharts-text",v),textAnchor:u,fill:l.includes("url")?OD:l}),h.map((O,I)=>{var E=O.words.join(g?"":" ");return y.createElement("tspan",{x:b,dy:I===0?k:s,key:"".concat(E,"-").concat(I)},E)}))});n1.displayName="Text";var Gne=["labelRef"];function Xne(e,t){if(e==null)return{};var r,n,a=Qne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jne(e){var t=eae(e,"string");return typeof t=="symbol"?t:t+""}function eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ma.apply(null,arguments)}var AD=y.createContext(null),TD=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:l}=e,c=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return y.createElement(AD.Provider,{value:c},l)},MD=()=>{var e=y.useContext(AD),t=kl();return e||FM(t)},tae=y.createContext(null),rae=()=>{var e=y.useContext(tae),t=ie(l4);return e||t},nae=e=>{var{value:t,formatter:r}=e,n=Te(e.children)?t:e.children;return typeof r=="function"?r(n):n},a1=e=>e!=null&&typeof e=="function",aae=(e,t)=>{var r=gr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},sae=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,x=aae(f,h),v=x>=0?1:-1,g,w;switch(t){case"insideStart":g=f+v*s,w=m;break;case"insideEnd":g=h-v*s,w=!m;break;case"end":g=h+v*s,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=x<=0?w:!w;var b=Rt(l,c,p,g),j=Rt(l,c,p,g+(w?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),_=Te(e.id)?tu("recharts-radial-line-"):e.id;return y.createElement("text",ma({},n,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",i)}),y.createElement("defs",null,y.createElement("path",{id:_,d:k})),y.createElement("textPath",{xlinkHref:"#".concat(_)},r))},iae=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Rt(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:m,y:p}=Rt(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Lx=e=>"cx"in e&&ue(e.cx),oae=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Lx(r)&&(s=r);var{x:i,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=i,h=i+(c-u)/2,m=(f+h)/2,p=(c+u)/2,x=f+c/2,v=d>=0?1:-1,g=v*n,w=v>0?"end":"start",b=v>0?"start":"end",j=c>=0?1:-1,k=j*n,_=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:l-g,textAnchor:"middle",verticalAnchor:w};return at(at({},S),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var O={x:h+u/2,y:l+d+g,textAnchor:"middle",verticalAnchor:b};return at(at({},O),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var I={x:m-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return at(at({},I),s?{width:Math.max(I.x-s.x,0),height:d}:{})}if(a==="right"){var E={x:m+p+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return at(at({},E),s?{width:Math.max(s.x+s.width-E.x,0),height:d}:{})}var C=s?{width:p,height:d}:{};return a==="insideLeft"?at({x:m+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},C):a==="insideRight"?at({x:m+p-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},C):a==="insideTop"?at({x:f+c/2,y:l+g,textAnchor:"middle",verticalAnchor:b},C):a==="insideBottom"?at({x:h+u/2,y:l+d-g,textAnchor:"middle",verticalAnchor:w},C):a==="insideTopLeft"?at({x:f+k,y:l+g,textAnchor:N,verticalAnchor:b},C):a==="insideTopRight"?at({x:f+c-k,y:l+g,textAnchor:_,verticalAnchor:b},C):a==="insideBottomLeft"?at({x:h+k,y:l+d-g,textAnchor:N,verticalAnchor:w},C):a==="insideBottomRight"?at({x:h+u-k,y:l+d-g,textAnchor:_,verticalAnchor:w},C):a&&typeof a=="object"&&(ue(a.x)||Aa(a.x))&&(ue(a.y)||Aa(a.y))?at({x:i+Cn(a.x,p),y:l+Cn(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):at({x,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},lae={angle:0,offset:5,zIndex:ot.label,position:"middle",textBreakAll:!1};function Za(e){var t=mt(e,lae),{viewBox:r,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=t,d=rae(),f=MD(),h=n==="center"?f:d??f,m,p,x;if(r==null?m=h:Lx(r)?m=r:m=FM(r),!m||Te(a)&&Te(s)&&!y.isValidElement(i)&&typeof i!="function")return null;var v=at(at({},t),{},{viewBox:m});if(y.isValidElement(i)){var{labelRef:g}=v,w=Xne(v,Gne);return y.cloneElement(i,w)}if(typeof i=="function"){if(p=y.createElement(i,v),y.isValidElement(p))return p}else p=nae(t);var b=qt(t);if(Lx(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return sae(t,n,p,b,m);x=iae(m,t.offset,t.position)}else x=oae(t,m);return y.createElement(or,{zIndex:t.zIndex},y.createElement(n1,ma({ref:u,className:Ee("recharts-label",l)},b,x,{textAnchor:Vne(b.textAnchor)?b.textAnchor:x.textAnchor,breakAll:c}),p))}Za.displayName="Label";var cae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Za,ma({key:"label-implicit"},n)):tn(e)?y.createElement(Za,ma({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Za?y.cloneElement(e,at({key:"label-implicit"},n)):y.createElement(Za,ma({key:"label-implicit",content:e},n)):a1(e)?y.createElement(Za,ma({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Za,ma({},e,{key:"label-implicit"},n)):null};function ID(e){var{label:t,labelRef:r}=e,n=MD();return cae(t,n,r)||null}var DD={},RD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(RD);var LD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(LD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RD,r=LD,n=cp;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(DD);var uae=DD.last;const dae=ta(uae);var fae=["valueAccessor"],hae=["dataKey","clockWise","id","textBreakAll","zIndex"];function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(null,arguments)}function V_(e,t){if(e==null)return{};var r,n,a=mae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pae=e=>Array.isArray(e.value)?dae(e.value):e.value,$D=y.createContext(void 0),s1=$D.Provider,zD=y.createContext(void 0);zD.Provider;function gae(){return y.useContext($D)}function yae(){return y.useContext(zD)}function $f(e){var{valueAccessor:t=pae}=e,r=V_(e,fae),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:l}=r,c=V_(r,hae),u=gae(),d=yae(),f=u||d;return!f||!f.length?null:y.createElement(or,{zIndex:l??ot.label},y.createElement(Ot,{className:"recharts-label-list"},f.map((h,m)=>{var p,x=Te(n)?t(h,m):Je(h&&h.payload,n),v=Te(s)?{}:{id:"".concat(s,"-").concat(m)};return y.createElement(Za,im({key:"label-".concat(m)},qt(h),c,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:i,viewBox:h.viewBox,index:m,zIndex:0}))})))}$f.displayName="LabelList";function i1(e){var{label:t}=e;return t?t===!0?y.createElement($f,{key:"labelList-implicit"}):y.isValidElement(t)||a1(t)?y.createElement($f,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement($f,im({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(null,arguments)}var FD=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ee("recharts-dot",a);return ue(t)&&ue(r)&&ue(n)?y.createElement("circle",$x({},Lr(e),Mb(e),{className:s,cx:t,cy:r,r:n})):null},xae={radiusAxis:{},angleAxis:{}},BD=Nr({name:"polarAxis",initialState:xae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Nfe,removeRadiusAxis:_fe,addAngleAxis:Sfe,removeAngleAxis:Efe}=BD.actions,vae=BD.reducer,UD={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1=Symbol.for("react.transitional.element"),l1=Symbol.for("react.portal"),Hp=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),Kp=Symbol.for("react.consumer"),qp=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),Gp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),Qp=Symbol.for("react.memo"),Zp=Symbol.for("react.lazy"),bae=Symbol.for("react.view_transition"),wae=Symbol.for("react.client.reference");function sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case o1:switch(e=e.type,e){case Hp:case Wp:case Vp:case Gp:case Xp:case bae:return e;default:switch(e=e&&e.$$typeof,e){case qp:case Yp:case Zp:case Qp:return e;case Kp:return e;default:return t}}case l1:return t}}}Re.ContextConsumer=Kp;Re.ContextProvider=qp;Re.Element=o1;Re.ForwardRef=Yp;Re.Fragment=Hp;Re.Lazy=Zp;Re.Memo=Qp;Re.Portal=l1;Re.Profiler=Wp;Re.StrictMode=Vp;Re.Suspense=Gp;Re.SuspenseList=Xp;Re.isContextConsumer=function(e){return sn(e)===Kp};Re.isContextProvider=function(e){return sn(e)===qp};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===o1};Re.isForwardRef=function(e){return sn(e)===Yp};Re.isFragment=function(e){return sn(e)===Hp};Re.isLazy=function(e){return sn(e)===Zp};Re.isMemo=function(e){return sn(e)===Qp};Re.isPortal=function(e){return sn(e)===l1};Re.isProfiler=function(e){return sn(e)===Wp};Re.isStrictMode=function(e){return sn(e)===Vp};Re.isSuspense=function(e){return sn(e)===Gp};Re.isSuspenseList=function(e){return sn(e)===Xp};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Hp||e===Wp||e===Vp||e===Gp||e===Xp||typeof e=="object"&&e!==null&&(e.$$typeof===Zp||e.$$typeof===Qp||e.$$typeof===qp||e.$$typeof===Kp||e.$$typeof===Yp||e.$$typeof===wae||e.getModuleId!==void 0)};Re.typeOf=sn;UD.exports=Re;var jae=UD.exports,W_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",K_=null,o0=null,HD=e=>{if(e===K_&&Array.isArray(o0))return o0;var t=[];return y.Children.forEach(e,r=>{Te(r)||(jae.isFragment(r)?t=t.concat(HD(r.props.children)):t.push(r))}),o0=t,K_=e,t};function VD(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>W_(a)):n=[W_(t)],HD(e).forEach(a=>{var s=tl(a,"type.displayName")||tl(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var WD=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,KD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(KD);var kae=KD.isPlainObject;const Nae=ta(kae);function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){_ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ae(e,t,r){return(t=Sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(null,arguments)}var G_=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Cae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pae=e=>{var t=mt(e,Cae),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=y.useRef(null),[m,p]=y.useState(-1),x=y.useRef(a),v=y.useRef(s),g=y.useRef(i),w=y.useRef(r),b=y.useRef(n),j=Xu(e,"trapezoid-");if(y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var P=h.current.getTotalLength();P&&p(P)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var k=Ee("recharts-trapezoid",l);if(!f)return y.createElement("g",null,y.createElement("path",om({},qt(t),{className:k,d:G_(r,n,a,s,i)})));var _=x.current,N=v.current,S=g.current,O=w.current,I=b.current,E="0px ".concat(m===-1?1:m,"px"),C="".concat(m,"px 0px"),L=QM(["strokeDasharray"],u,c);return y.createElement(Gu,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},P=>{var D=$e(_,a,P),A=$e(N,s,P),R=$e(S,i,P),T=$e(O,r,P),M=$e(I,n,P);h.current&&(x.current=D,v.current=A,g.current=R,w.current=T,b.current=M);var z=P>0?{transition:L,strokeDasharray:C}:{strokeDasharray:E};return y.createElement("path",om({},qt(t),{className:k,d:G_(T,M,D,A,R),ref:h,style:Y_(Y_({},z),t.style)}))})},Oae=["option","shapeType","propTransformer","activeClassName"];function Aae(e,t){if(e==null)return{};var r,n,a=Tae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){Mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mae(e,t,r){return(t=Iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iae(e){var t=Dae(e,"string");return typeof t=="symbol"?t:t+""}function Dae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rae(e,t){return lm(lm({},t),e)}function Lae(e,t){return e==="symbols"}function Q_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(tI,r);case"trapezoid":return y.createElement(Pae,r);case"sector":return y.createElement(aI,r);case"symbols":if(Lae(t))return y.createElement(lp,r);break;case"curve":return y.createElement(iw,r);default:return null}}function $ae(e){return y.isValidElement(e)?e.props:e}function cm(e){var{option:t,shapeType:r,propTransformer:n=Rae,activeClassName:a="recharts-active-shape"}=e,s=Aae(e,Oae),i;if(y.isValidElement(t))i=y.cloneElement(t,lm(lm({},s),$ae(t)));else if(typeof t=="function")i=t(s,s.index);else if(Nae(t)&&typeof t!="boolean"){var l=n(t,s);i=y.createElement(Q_,{shapeType:r,elementProps:l})}else{var c=s;i=y.createElement(Q_,{shapeType:r,elementProps:c})}return s.isActive?y.createElement(Ot,{className:a},i):i}var c1=(e,t,r)=>{var n=Ge();return(a,s)=>i=>{e==null||e(a,s,i),n(Z4({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},u1=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(bte())}},d1=(e,t,r)=>{var n=Ge();return(a,s)=>i=>{e==null||e(a,s,i),n(wte({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function f1(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=xt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(gte(t)):a.current!==t&&r(yte({prev:a.current,next:t})),a.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{a.current&&(r(xte(a.current)),a.current=null)},[r]),null}function h1(e){var{legendPayload:t}=e,r=Ge(),n=xt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(fX(t)):a.current!==t&&r(hX({prev:a.current,next:t})),a.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{a.current&&(r(mX(a.current)),a.current=null)},[r]),null}var l0,zae=()=>{var[e]=y.useState(()=>tu("uid-"));return e},Fae=(l0=K5.useId)!==null&&l0!==void 0?l0:zae;function qD(e,t){var r=Fae();return t||(e?"".concat(e,"-").concat(r):r)}var Bae=y.createContext(void 0),m1=e=>{var{id:t,type:r,children:n}=e,a=qD("recharts-".concat(r),t);return y.createElement(Bae.Provider,{value:a},n(a))},Uae={cartesianItems:[],polarItems:[]},YD=Nr({name:"graphicalItems",initialState:Uae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ve()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Nn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ve()},removeCartesianGraphicalItem:{reducer(e,t){var r=Nn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ve()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ve()},removePolarGraphicalItem:{reducer(e,t){var r=Nn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ve()}}}),{addCartesianGraphicalItem:Hae,replaceCartesianGraphicalItem:Vae,removeCartesianGraphicalItem:Wae,addPolarGraphicalItem:Cfe,removePolarGraphicalItem:Pfe}=YD.actions,Kae=YD.reducer,qae=e=>{var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(Hae(e)):r.current!==e&&t(Vae({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(Wae(r.current)),r.current=null)},[t]),null},p1=y.memo(qae),Yae=["points"];function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){Gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gae(e,t,r){return(t=Xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function um(){return um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},um.apply(null,arguments)}function Zae(e,t){if(e==null)return{};var r,n,a=Jae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ese(e){var{option:t,dotProps:r,className:n}=e;if(y.isValidElement(t))return y.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Ee(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,l=Zae(s,Yae);return y.createElement(FD,um({},l,{className:a}))}function tse(e,t){return e==null?!1:t?!0:e.length===1}function rse(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:l,clipPathId:c,zIndex:u=ot.scatter}=e;if(!tse(t,r))return null;var d=WD(r),f=PK(r),h=t.map((p,x)=>{var v,g,w=c0(c0(c0({r:3},i),f),{},{index:x,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(g=p.y)!==null&&g!==void 0?g:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return y.createElement(ese,{key:"dot-".concat(x),option:r,dotProps:w,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),y.createElement(or,{zIndex:u},y.createElement(Ot,um({className:n},m),h))}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nse(e,t,r){return(t=ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ase(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ise={xAxis:{},yAxis:{},zAxis:{}},GD=Nr({name:"cartesianAxis",initialState:ise,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ve()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ve()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ve()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ve()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ve()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ve()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ve()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ve()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ve()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=eS(eS({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:ose,replaceXAxis:lse,removeXAxis:cse,addYAxis:use,replaceYAxis:dse,removeYAxis:fse,addZAxis:Ofe,replaceZAxis:Afe,removeZAxis:Tfe,updateYAxisWidth:hse}=GD.actions,mse=GD.reducer,pse=V([At],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),gse=V([pse,Fa,Ba],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),g1=()=>ie(gse),yse=()=>ie(ure);function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xse(e,t,r){return(t=vse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vse(e){var t=bse(e,"string");return typeof t=="symbol"?t:t+""}function bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wse=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=u0(u0(u0({},l),wl(a)),Mb(a)),u;return y.isValidElement(a)?u=y.cloneElement(a,c):typeof a=="function"?u=a(c):u=y.createElement(FD,c),y.createElement(Ot,{className:"recharts-active-dot",clipPath:i},u)};function jse(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=ot.activeDot}=e,l=ie(Os),c=yse();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Te(u)?null:y.createElement(or,{zIndex:i},y.createElement(wse,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var kse="Invariant failed";function Nse(e,t){throw new Error(kse)}var _se=["x","y"];function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){Sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sse(e,t,r){return(t=Ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pse(e,t){if(e==null)return{};var r,n,a=Ose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ase(e,t){var{x:r,y:n}=e,a=Pse(e,_se),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return ec(ec(ec(ec(ec({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function dm(e){return y.createElement(cm,zx({shapeType:"rectangle",propTransformer:Ase,activeClassName:"recharts-active-bar"},e))}var Tse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ue(t))return t;var s=ue(n)||Te(n);return s?t(n,a):(s||Nse(),r)}},Mse={},XD=Nr({name:"errorBars",initialState:Mse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Mfe,replaceErrorBar:Ife,removeErrorBar:Dfe}=XD.actions,Ise=XD.reducer,Dse=["children"];function Rse(e,t){if(e==null)return{};var r,n,a=Lse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $se={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zse=y.createContext($se);function y1(e){var{children:t}=e,r=Rse(e,Dse);return y.createElement(zse.Provider,{value:r},t)}function Jp(e,t){var r,n,a=ie(u=>aa(u,e)),s=ie(u=>sa(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:kt.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Nt.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function x1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=g1(),{needClipX:s,needClipY:i,needClip:l}=Jp(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}function Fse(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&He(e.zIndex)?e.zIndex:t}var Bse={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=y;function Use(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hse=typeof Object.is=="function"?Object.is:Use,Vse=dd.useSyncExternalStore,Wse=dd.useRef,Kse=dd.useEffect,qse=dd.useMemo,Yse=dd.useDebugValue;Bse.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=Wse(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=qse(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,Hse(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=Vse(e,s[0],s[1]);return Kse(function(){i.hasValue=!0,i.value=l},[l]),Yse(l),l};function Gse(e){e()}function Xse(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Gse(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var nS={notify(){},get:()=>[]};function Qse(e,t){let r,n=nS,a=0,s=!1;function i(x){d();const v=n.subscribe(x);let g=!1;return()=>{g||(g=!0,v(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=Xse())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=nS)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Zse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jse=Zse(),eie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tie=eie(),rie=()=>Jse||tie?y.useLayoutEffect:y.useEffect,nie=rie();function aS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function aie(e,t){if(aS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!aS(e[r[a]],t[r[a]]))return!1;return!0}var d0=Symbol.for("react-redux-context"),f0=typeof globalThis<"u"?globalThis:{};function sie(){if(!y.createContext)return{};const e=f0[d0]??(f0[d0]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var iie=sie();function oie(e){const{children:t,context:r,serverState:n,store:a}=e,s=y.useMemo(()=>{const c=Qse(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=y.useMemo(()=>a.getState(),[a]);nie(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||iie;return y.createElement(l.Provider,{value:s},t)}var lie=oie,cie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function uie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function fd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(cie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!aie(e[n],t[n]))return!1}else if(!uie(e[n],t[n]))return!1;return!0}var die=["onMouseEnter","onMouseLeave","onClick"],fie=["value","background","tooltipPosition"],hie=["id"],mie=["onMouseEnter","onClick","onMouseLeave"];function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(null,arguments)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pie(e,t,r){return(t=gie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gie(e){var t=yie(e,"string");return typeof t=="symbol"?t:t+""}function yie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fm(e,t){if(e==null)return{};var r,n,a=xie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:jl(r,t),payload:e}]},bie=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:jl(s,t),hide:i,type:c,color:a,unit:l}};return y.createElement(f1,{tooltipEntrySettings:u})});function wie(e){var t=ie(Os),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=fm(s,die),d=c1(i,n),f=u1(l),h=d1(c,n);if(!a||r==null)return null;var m=wl(a);return y.createElement(or,{zIndex:Fse(a,ot.barBackground)},r.map((p,x)=>{var{value:v,background:g,tooltipPosition:w}=p,b=fm(p,fie);if(!g)return null;var j=d(p,x),k=f(p,x),_=h(p,x),N=Jt(Jt(Jt(Jt(Jt({option:a,isActive:String(x)===t},b),{},{fill:"#eee"},g),m),Bu(u,p,x)),{},{onMouseEnter:j,onMouseLeave:k,onClick:_,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(dm,La({key:"background-bar-".concat(x)},N))}))}function jie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Jt(Jt({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return y.createElement(s1,{value:t?a:void 0},r)}function kie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,l=ie(Os),c=ie(fD),u=r&&String(s)===l&&(c==null||i===c),d=u?r:t;return u?y.createElement(or,{zIndex:ot.activeBar},y.createElement(dm,La({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))):y.createElement(dm,La({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))}function Nie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return y.createElement(dm,La({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function _ie(e){var t,{data:r,props:n}=e,a=(t=Lr(n))!==null&&t!==void 0?t:{},{id:s}=a,i=fm(a,hie),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=fm(n,mie),p=c1(d,c),x=u1(h),v=d1(f,c);return r?y.createElement(y.Fragment,null,r.map((g,w)=>y.createElement(Ot,La({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(w),className:"recharts-bar-rectangle"},Bu(m,g,w),{onMouseEnter:p(g,w),onMouseLeave:x(g,w),onClick:v(g,w)}),u?y.createElement(kie,{shape:l,activeBar:u,baseProps:i,entry:g,index:w,dataKey:c}):y.createElement(Nie,{shape:l,baseProps:i,entry:g,index:w,dataKey:c})))):null}function Sie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Xu(t,"recharts-bar-"),[m,p]=y.useState(!1),x=!m,v=y.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),g=y.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return y.createElement(jie,{showLabels:x,rects:n},y.createElement(Gu,{animationId:h,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:g,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((j,k)=>{var _=f&&f[k];if(_)return Jt(Jt({},j),{},{x:$e(_.x,j.x,w),y:$e(_.y,j.y,w),width:$e(_.width,j.width,w),height:$e(_.height,j.height,w)});if(a==="horizontal"){var N=$e(0,j.height,w),S=$e(j.stackedBarStart,j.y,w);return Jt(Jt({},j),{},{y:S,height:N})}var O=$e(0,j.width,w),I=$e(j.stackedBarStart,j.x,w);return Jt(Jt({},j),{},{width:O,x:I})});return w>0&&(r.current=b??null),b==null?null:y.createElement(Ot,null,y.createElement(_ie,{props:t,data:b}))}),y.createElement(i1,{label:t.label}),t.children)}function Eie(e){var t=y.useRef(null);return y.createElement(Sie,{previousRectanglesRef:t,props:e})}var QD=0,Cie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Je(e,t)}};class Pie extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ee("recharts-bar",a),f=u;return y.createElement(Ot,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(x1,{clipPathId:f,xAxisId:s,yAxisId:i})),y.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(wie,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(Eie,this.props)))}}var Oie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:QD,xAxisId:0,yAxisId:0,zIndex:ot.bar};function Aie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Jp(t,r),h=Ku(),m=xt(),p=VD(e.children,r1),x=ie(w=>soe(w,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,g=x==null?void 0:x[0];return g==null||g.height==null||g.width==null?v=0:v=h==="vertical"?g.height/2:g.width/2,y.createElement(y1,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Cie,errorBarOffset:v},y.createElement(Pie,La({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Tie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:x}=e,v=t==="horizontal"?l:i,g=d?v.scale.domain():null,w=bG({numericAxis:v}),b=v.scale(w);return f.map((j,k)=>{var _,N,S,O,I,E;d?_=mG(d[k+x],g):(_=Je(j,r),Array.isArray(_)||(_=[w,_]));var C=Tse(n,QD)(_[1],k);if(t==="horizontal"){var L,[P,D]=[l.scale(_[0]),l.scale(_[1])];N=e2({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:j,index:k}),S=(L=D??P)!==null&&L!==void 0?L:void 0,O=a.size;var A=P-D;if(I=$r(A)?0:A,E={x:N,y:h.top,width:O,height:h.height},Math.abs(C)>0&&Math.abs(I)<Math.abs(C)){var R=gr(I||C)*(Math.abs(C)-Math.abs(I));S-=R,I+=R}}else{var[T,M]=[i.scale(_[0]),i.scale(_[1])];if(N=T,S=e2({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:j,index:k}),O=M-T,I=a.size,E={x:h.left,y:S,width:h.width,height:I},Math.abs(C)>0&&Math.abs(O)<Math.abs(C)){var z=gr(O||C)*(Math.abs(C)-Math.abs(O));O+=z}}if(N==null||S==null||O==null||I==null)return null;var B=Jt(Jt({},j),{},{stackedBarStart:b,x:N,y:S,width:O,height:I,value:d?_:_[1],payload:j,background:E,tooltipPosition:{x:N+O/2,y:S+I/2},parentViewBox:p},m&&m[k]&&m[k].props);return B}).filter(Boolean)}function Mie(e){var t=mt(e,Oie),r=xt();return y.createElement(m1,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(h1,{legendPayload:vie(t)}),y.createElement(bie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(p1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:vG(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(or,{zIndex:t.zIndex},y.createElement(Aie,La({},t,{id:n})))))}var ZD=y.memo(Mie,fd);ZD.displayName="Bar";function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){Iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iie(e,t,r){return(t=Die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Die(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lie=(e,t)=>t,$ie=(e,t,r)=>r,zie=(e,t,r,n)=>n,Fie=(e,t,r,n,a)=>a,hd=V([rd,Fie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Bie=V([hd],e=>e==null?void 0:e.maxBarSize),Uie=(e,t,r,n,a,s)=>s,oS=(e,t,r)=>{var n=r??e;if(!Te(n))return Cn(n,t,0)},Hie=V([Ce,rd,Lie,$ie,zie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Vie=(e,t,r,n)=>{var a=Ce(e);return a==="horizontal"?Ax(e,"yAxis",r,n):Ax(e,"xAxis",t,n)},Wie=(e,t,r)=>{var n=Ce(e);return n==="horizontal"?g_(e,"xAxis",t):g_(e,"yAxis",r)},Kie=(e,t,r)=>{var n={},a=e.filter(Lp),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(i).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=oS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=oS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},qie=V([Hie,cee,Wie],Kie),Yie=(e,t,r,n,a)=>{var s,i,l=hd(e,t,r,n,a);if(l!=null){var c=Ce(e),u=e4(e),{maxBarSize:d}=l,f=Te(d)?u:d,h,m;return c==="horizontal"?(h=ea(e,"xAxis",t,n),m=Jn(e,"xAxis",t,n)):(h=ea(e,"yAxis",r,n),m=Jn(e,"yAxis",r,n)),(s=(i=al(h,m,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},JD=(e,t,r,n)=>{var a=Ce(e),s,i;return a==="horizontal"?(s=ea(e,"xAxis",t,n),i=Jn(e,"xAxis",t,n)):(s=ea(e,"yAxis",r,n),i=Jn(e,"yAxis",r,n)),al(s,i)};function Gie(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=Cn(e,r,0,!0),l,c=[];if(He(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((g,w)=>g+(w.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-i,size:0};l=n.reduce((g,w)=>{var b,j={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+i,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},k=[...g,j];return m=k[k.length-1].position,k},c)}else{var p=Cn(t,r,0,!0);r-2*p-(s-1)*i<=0&&(i=0);var x=(r-2*p-(s-1)*i)/s;x>1&&(x>>=0);var v=He(a)?Math.min(x,a):x;l=n.reduce((g,w,b)=>[...g,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(x+i)*b+(x-v)/2,size:v}}],c)}return l}}var Xie=(e,t,r,n,a,s,i)=>{var l=Te(i)?t:i,c=Gie(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>cf(cf({},u),{},{position:cf(cf({},u.position),{},{offset:u.position.offset-a/2})}))),c},Qie=V([qie,e4,lee,t4,Yie,JD,Bie],Xie),Zie=(e,t,r,n)=>ea(e,"xAxis",t,n),Jie=(e,t,r,n)=>ea(e,"yAxis",r,n),eoe=(e,t,r,n)=>Jn(e,"xAxis",t,n),toe=(e,t,r,n)=>Jn(e,"yAxis",r,n),roe=V([Qie,hd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),noe=(e,t)=>{var r=Dw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},aoe=V([Vie,hd],noe),soe=V([At,ew,Zie,Jie,eoe,toe,roe,Ce,ed,JD,aoe,hd,Uie],(e,t,r,n,a,s,i,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||i==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:v}=f,g;if(v!=null&&v.length>0?g=v:g=m==null?void 0:m.slice(p,x+1),g!=null)return Tie({layout:l,barSettings:f,pos:i,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),ioe=e=>{var{chartData:t}=e,r=Ge(),n=xt();return y.useEffect(()=>n?()=>{}:(r(C_(t)),()=>{r(C_(void 0))}),[t,r,n]),null},lS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},e3=Nr({name:"brush",initialState:lS,reducers:{setBrushSettings(e,t){return t.payload==null?lS:t.payload}}}),{setBrushSettings:Rfe}=e3.actions,ooe=e3.reducer;function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){t3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t3(e,t,r){return(t=loe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loe(e){var t=coe(e,"string");return typeof t=="symbol"?t:t+""}function coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uoe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},doe=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return uoe({x:t,y:r},{x:n,y:a})};class eg{static create(t){return new eg(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}t3(eg,"EPS",1e-4);var foe=e=>{var t=Object.keys(e).reduce((r,n)=>uf(uf({},r),{},{[n]:eg.create(e[n])}),{});return uf(uf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,l]=s;return[i,t[i].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function hoe(e){return(e%180+180)%180}var moe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hoe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},poe={dots:[],areas:[],lines:[]},r3=Nr({name:"referenceElements",initialState:poe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Nn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Nn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Nn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Lfe,removeDot:$fe,addArea:zfe,removeArea:Ffe,addLine:goe,removeLine:yoe}=r3.actions,xoe=r3.reducer,n3=y.createContext(void 0),voe=e=>{var{children:t}=e,[r]=y.useState("".concat(tu("recharts"),"-clip")),n=g1();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return y.createElement(n3.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:s,height:l,width:i}))),t)},boe=()=>y.useContext(n3);function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function woe(e,t,r){return(t=joe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function joe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(null,arguments)}var Noe=(e,t)=>{var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!He(t.x1)||!He(t.y1)||!He(t.x2)||!He(t.y2))return null;r=y.createElement("line",hm({},t,{className:"recharts-reference-line-line"}))}return r},_oe=(e,t,r,n,a,s)=>{var{x:i,width:l}=s,c=a.y.apply(e,{position:r});if($r(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:i+l,y:c},{x:i,y:c}];return n==="left"?u.reverse():u},Soe=(e,t,r,n,a,s)=>{var{y:i,height:l}=s,c=a.x.apply(e,{position:r});if($r(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:i+l},{x:c,y:i}];return n==="top"?u.reverse():u},Eoe=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Coe=(e,t,r,n,a,s)=>{var{x:i,y:l,segment:c,ifOverflow:u}=s,d=tn(i),f=tn(l);return f?_oe(l,u,r,a,e,t):d?Soe(i,u,r,n,e,t):c!=null&&c.length===2?Eoe(c,u,r,e):null};function Poe(e){var t=Ge();return y.useEffect(()=>(t(goe(e)),()=>{t(yoe(e))})),null}function Ooe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=xt(),l=boe(),c=ie(_=>aa(_,t)),u=ie(_=>sa(_,r)),d=ie(_=>Ps(_,"xAxis",t,i)),f=ie(_=>Ps(_,"yAxis",r,i)),h=kl();if(!l||!h||c==null||u==null||d==null||f==null)return null;var m=foe({x:d,y:f}),p=Coe(m,h,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x,y:v},{x:g,y:w}]=p,b=s==="hidden"?"url(#".concat(l,")"):void 0,j=dS(dS({clipPath:b},qt(e)),{},{x1:x,y1:v,x2:g,y2:w}),k=doe({x1:x,y1:v,x2:g,y2:w});return y.createElement(or,{zIndex:e.zIndex},y.createElement(Ot,{className:Ee("recharts-reference-line",a)},Noe(n,j),y.createElement(TD,hm({},k,{lowerWidth:k.width,upperWidth:k.width}),y.createElement(ID,{label:e.label}),e.children)))}var Aoe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ot.line};function a3(e){var t=mt(e,Aoe);return y.createElement(y.Fragment,null,y.createElement(Poe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),y.createElement(Ooe,t))}a3.displayName="ReferenceLine";function s3(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Toe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return moe(n,r)}function Moe(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:l}=e;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function mm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Ioe(e,t){return s3(e,t+1)}function Doe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=t,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:s3(n,u)};var x=c,v,g=()=>(v===void 0&&(v=r(p,x)),v),w=p.coordinate,b=c===0||mm(e,w,g,d,l);b||(c=0,d=i,u+=1),b&&(d=w+e*(g()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){Roe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Roe(e,t,r){return(t=Loe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Loe(e){var t=$oe(e,"string");return typeof t=="symbol"?t:t+""}function $oe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zoe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===i-1){var v=e*(m.coordinate+e*x()/2-c);s[h]=m=Ut(Ut({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=Ut(Ut({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=mm(e,m.tickCoord,x,l,c);g&&(c=m.tickCoord-e*(x()/2+a),s[h]=Ut(Ut({},m),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return s}function Foe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(i[l-1]=d=Ut(Ut({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=mm(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=Ut(Ut({},d),{},{isShow:!0}))}}for(var p=s?l-1:l,x=function(w){var b=i[w],j,k=()=>(j===void 0&&(j=r(b,w)),j);if(w===0){var _=e*(b.coordinate-e*k()/2-c);i[w]=b=Ut(Ut({},b),{},{tickCoord:_<0?b.coordinate-_*e:b.coordinate})}else i[w]=b=Ut(Ut({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=mm(e,b.tickCoord,k,c,u);N&&(c=b.tickCoord+e*(k()/2+a),i[w]=Ut(Ut({},b),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return i}function v1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ue(c)||Yu.isSsr){var h;return(h=Ioe(a,ue(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?kc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,j)=>{var k=typeof u=="function"?u(b.value,j):b.value;return p==="width"?Toe(kc(k,{fontSize:t,letterSpacing:r}),x,f):kc(k,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?gr(a[1].coordinate-a[0].coordinate):1,w=Moe(s,g,p);return c==="equidistantPreserveStart"?Doe(g,w,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?m=Foe(g,w,v,a,i,c==="preserveStartEnd"):m=zoe(g,w,v,a,i),m.filter(b=>b.isShow))}var Boe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(r?n:0);return Math.round(u)}return 0},Uoe=["axisLine","width","height","className","hide","ticks","axisType"];function Hoe(e,t){if(e==null)return{};var r,n,a=Voe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Voe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(null,arguments)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){Woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Woe(e,t,r){return(t=Koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Koe(e){var t=qoe(e,"string");return typeof t=="symbol"?t:t+""}function qoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Na={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ot.axis};function Yoe(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ut(ut(ut({},c),Lr(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=ut(ut({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=ut(ut({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return y.createElement("line",Di({},u,{className:Ee("recharts-cartesian-axis-line",tl(l,"className"))}))}function Goe(e,t,r,n,a,s,i,l,c){var u,d,f,h,m,p,x=l?-1:1,v=e.tickSize||i,g=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-x*v,p=f-x*c,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-x*v,m=u-x*c,p=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+x*v,m=u+x*c,p=g;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+x*v,p=f+x*c,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Xoe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qoe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Zoe(e){var{option:t,tickProps:r,value:n}=e,a,s=Ee(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,ut(ut({},r),{},{className:s}));else if(typeof t=="function")a=t(ut(ut({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=Ee(i,t==null?void 0:t.className)),a=y.createElement(n1,Di({},r,{className:i}),n)}return a}var Joe=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:x,tickSize:v,tickMargin:g,fontSize:w,letterSpacing:b,getTicksConfig:j,events:k,axisType:_}=e,N=v1(ut(ut({},j),{},{ticks:r}),w,b),S=Xoe(d,f),O=Qoe(d,f),I=Lr(j),E=wl(n),C={};typeof a=="object"&&(C=a);var L=ut(ut({},I),{},{fill:"none"},C),P=N.map(R=>ut({entry:R},Goe(R,h,m,p,x,d,v,f,g))),D=P.map(R=>{var{entry:T,line:M}=R;return y.createElement(Ot,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},a&&y.createElement("line",Di({},L,M,{className:Ee("recharts-cartesian-axis-tick-line",tl(a,"className"))})))}),A=P.map((R,T)=>{var{entry:M,tick:z}=R,B=ut(ut(ut(ut({textAnchor:S,verticalAnchor:O},I),{},{stroke:"none",fill:s},E),z),{},{index:T,payload:M,visibleTicksCount:N.length,tickFormatter:i,padding:c},u);return y.createElement(Ot,Di({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Bu(k,M,T)),n&&y.createElement(Zoe,{option:n,tickProps:B,value:"".concat(typeof i=="function"?i(M.value,T):M.value).concat(l||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},A.length>0&&y.createElement(or,{zIndex:ot.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},A)),D.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},D))}),ele=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:l,axisType:c}=e,u=Hoe(e,Uoe),[d,f]=y.useState(""),[h,m]=y.useState(""),p=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Boe({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=y.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var w=g[0];if(w){var b=window.getComputedStyle(w),j=b.fontSize,k=b.letterSpacing;(j!==d||k!==h)&&(f(j),m(k))}}},[d,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(or,{zIndex:e.zIndex},y.createElement(Ot,{className:Ee("recharts-cartesian-axis",s)},y.createElement(Yoe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Lr(e)}),y.createElement(Joe,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(TD,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(ID,{label:e.label,labelRef:e.labelRef}),e.children)))}),b1=y.forwardRef((e,t)=>{var r=mt(e,Na);return y.createElement(ele,Di({},r,{ref:t}))});b1.displayName="CartesianAxis";var tle=["x1","y1","x2","y2","key"],rle=["offset"],nle=["xAxisId","yAxisId"],ale=["xAxisId","yAxisId"];function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sle(e,t,r){return(t=ile(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ile(e){var t=ole(e,"string");return typeof t=="symbol"?t:t+""}function ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function pm(e,t){if(e==null)return{};var r,n,a=lle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:l}=e;return y.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function i3(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:l,y2:c,key:u}=r,d=pm(r,tle),f=(a=Lr(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=pm(f,rle);n=y.createElement("line",ni({},m,{x1:s,y1:i,x2:l,y2:c,fill:"none",key:u}))}return n}function ule(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=pm(e,nle),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return y.createElement(i3,{key:"line-".concat(d),option:n,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function dle(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=pm(e,ale),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return y.createElement(i3,{option:n,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function fle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function hle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var mle=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return PM(v1(Vt(Vt(Vt({},Na),r),{},{ticks:OM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},ple=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return PM(v1(Vt(Vt(Vt({},Na),r),{},{ticks:OM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},gle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ot.grid};function uc(e){var t=rw(),r=nw(),n=BM(),a=Vt(Vt({},mt(e,gle)),{},{x:ue(e.x)?e.x:n.left,y:ue(e.y)?e.y:n.top,width:ue(e.width)?e.width:n.width,height:ue(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=xt(),x=ie(O=>y_(O,"xAxis",s,p)),v=ie(O=>y_(O,"yAxis",i,p));if(!Qn(u)||!Qn(d)||!ue(l)||!ue(c))return null;var g=a.verticalCoordinatesGenerator||mle,w=a.horizontalCoordinatesGenerator||ple,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof w=="function"){var k=h&&h.length,_=w({yAxis:v?Vt(Vt({},v),{},{ticks:k?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);Bh(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(b=_)}if((!j||!j.length)&&typeof g=="function"){var N=m&&m.length,S=g({xAxis:x?Vt(Vt({},x),{},{ticks:N?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);Bh(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return y.createElement(or,{zIndex:a.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(cle,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(fle,ni({},a,{horizontalPoints:b})),y.createElement(hle,ni({},a,{verticalPoints:j})),y.createElement(ule,ni({},a,{offset:n,horizontalPoints:b,xAxis:x,yAxis:v})),y.createElement(dle,ni({},a,{offset:n,verticalPoints:j,xAxis:x,yAxis:v}))))}uc.displayName="CartesianGrid";var o3=(e,t,r,n)=>ea(e,"xAxis",t,n),l3=(e,t,r,n)=>Jn(e,"xAxis",t,n),c3=(e,t,r,n)=>ea(e,"yAxis",r,n),u3=(e,t,r,n)=>Jn(e,"yAxis",r,n),yle=V([Ce,o3,c3,l3,u3],(e,t,r,n,a)=>Ls(e,"xAxis")?al(t,n,!1):al(r,a,!1)),xle=(e,t,r,n,a)=>a;function vle(e){return e.type==="line"}var ble=V([rd,xle],(e,t)=>e.filter(vle).find(r=>r.id===t)),wle=V([Ce,o3,c3,l3,u3,ble,yle,ed],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return Ule({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:m})}});function jle(e){var t=wl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),l=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(l)||l<0)&&(l=n),{r:i,strokeWidth:l}}return{r,strokeWidth:n}}var kle=["id"],Nle=["type","layout","connectNulls","needClip","shape"],_le=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fu.apply(null,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){Sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sle(e,t,r){return(t=Ele(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ele(e){var t=Cle(e,"string");return typeof t=="symbol"?t:t+""}function Cle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w1(e,t){if(e==null)return{};var r,n,a=Ple(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ple(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ole=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:jl(r,t),payload:e}]},Ale=y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:jl(i,t),hide:l,type:u,color:n,unit:c}};return y.createElement(f1,{tooltipEntrySettings:d})}),d3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Tle(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Mle=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return d3(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,i]:[i];return[...Tle(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Ile(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:l}=n,c=w1(n,kle),u=Lr(c);return y.createElement(rse,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:t})}function Dle(e){var{showLabels:t,children:r,points:n}=e,a=y.useMemo(()=>n==null?void 0:n.map(s=>{var i,l,c={x:(i=s.x)!==null&&i!==void 0?i:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bn(Bn({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(s1,{value:t?a:void 0},r)}function gS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=w1(s,Nle),h=Bn(Bn({},qt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return y.createElement(y.Fragment,null,(n==null?void 0:n.length)>1&&y.createElement(cm,fu({shapeType:"curve",option:d},h,{pathRef:r})),y.createElement(Ile,{points:n,clipPathId:t,props:s}))}function Rle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Lle(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:x,onAnimationStart:v}=r,g=a.current,w=Xu(i,"recharts-line-"),b=y.useRef(w),[j,k]=y.useState(!1),_=!j,N=y.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),S=y.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),O=Rle(n.current),I=y.useRef(0);b.current!==w&&(I.current=s.current,b.current=w);var E=I.current;return y.createElement(Dle,{points:i,showLabels:_},r.children,y.createElement(Gu,{animationId:w,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:S,key:w},C=>{var L=$e(E,O+E,C),P=Math.min(L,O),D;if(c)if(l){var A="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));D=Mle(P,O,A)}else D=d3(O,P);else D=l==null?void 0:String(l);if(C>0&&O>0&&(a.current=i,s.current=Math.max(s.current,P)),g){var R=g.length/i.length,T=C===1?i:i.map((M,z)=>{var B=Math.floor(z*R);if(g[B]){var F=g[B];return Bn(Bn({},M),{},{x:$e(F.x,M.x,C),y:$e(F.y,M.y,C)})}return h?Bn(Bn({},M),{},{x:$e(m*2,M.x,C),y:$e(p/2,M.y,C)}):Bn(Bn({},M),{},{x:M.x,y:M.y})});return a.current=T,y.createElement(gS,{props:r,points:T,clipPathId:t,pathRef:n,strokeDasharray:D})}return y.createElement(gS,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:D})}),y.createElement(i1,{label:r.label}))}function $le(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),a=y.useRef(0),s=y.useRef(null);return y.createElement(Lle,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var zle=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Je(e.payload,t)}};class Fle extends y.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:l,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Ee("recharts-line",a),x=f,{r:v,strokeWidth:g}=jle(r),w=WD(r),b=v*2+g,j=h?"url(#clipPath-".concat(w?"":"dots-").concat(x,")"):void 0;return y.createElement(or,{zIndex:m},y.createElement(Ot,{className:p},h&&y.createElement("defs",null,y.createElement(x1,{clipPathId:x,xAxisId:s,yAxisId:i}),!w&&y.createElement("clipPath",{id:"clipPath-dots-".concat(x)},y.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),y.createElement(y1,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:zle,errorBarOffset:0},y.createElement($le,{props:this.props,clipPathId:x}))),y.createElement(jse,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var f3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ot.line,type:"linear"};function Ble(e){var t=mt(e,f3),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:x}=t,v=w1(t,_le),{needClip:g}=Jp(m,p),w=g1(),b=Ku(),j=xt(),k=ie(I=>wle(I,m,p,j,x));if(b!=="horizontal"&&b!=="vertical"||k==null||w==null)return null;var{height:_,width:N,x:S,y:O}=w;return y.createElement(Fle,fu({},v,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:k,layout:b,height:_,width:N,left:S,top:O,needClip:g}))}function Ule(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Je(u,i);if(t==="horizontal"){var h=Fh({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=Te(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=Te(f)?null:r.scale(f),x=Fh({axis:n,ticks:s,bandSize:l,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function Hle(e){var t=mt(e,f3),r=xt();return y.createElement(m1,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(h1,{legendPayload:Ole(t)}),y.createElement(Ale,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(p1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(Ble,fu({},t,{id:n}))))}var zf=y.memo(Hle,fd);zf.displayName="Line";var Vle=["option","isActive"];function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(null,arguments)}function Wle(e,t){if(e==null)return{};var r,n,a=Kle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qle(e){var{option:t,isActive:r}=e,n=Wle(e,Vle);return typeof t=="string"?y.createElement(cm,Nc({option:y.createElement(lp,Nc({type:t},n)),isActive:r,shapeType:"symbols"},n)):y.createElement(cm,Nc({option:t,isActive:r,shapeType:"symbols"},n))}var Yle=(e,t,r,n,a,s,i)=>ea(e,"xAxis",t,i),Gle=(e,t,r,n,a,s,i)=>Jn(e,"xAxis",t,i),Xle=(e,t,r,n,a,s,i)=>ea(e,"yAxis",r,i),Qle=(e,t,r,n,a,s,i)=>Jn(e,"yAxis",r,i),Zle=(e,t,r,n)=>dte(e,"zAxis",n,!1),Jle=(e,t,r,n,a)=>a,ece=(e,t,r,n,a,s)=>s,tce=(e,t,r,n,a,s,i)=>ed(e,t,r,i),rce=V([rd,Jle],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),nce=V([tce,Yle,Gle,Xle,Qle,Zle,rce,ece],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(i!=null){var f;if((i==null?void 0:i.data)!=null&&i.data.length>0?f=i.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return yce({displayedData:f,xAxis:t,yAxis:n,zAxis:s,scatterSettings:i,xAxisTicks:r,yAxisTicks:a,cells:l})}}),ace=["onMouseEnter","onClick","onMouseLeave"],sce=["id"],ice=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Fx(e,t){if(e==null)return{};var r,n,a=oce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return(t=cce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return typeof t=="symbol"?t:t+""}function uce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:jl(r,t),payload:e}]},fce=y.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:jl(i,t),hide:l,type:c,color:s,unit:""}};return y.createElement(f1,{tooltipEntrySettings:u})});function hce(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:s}=r;if(!n)return null;var i=Lr(r),l=wl(n),c,u;if(a==="joint")c=t.map(v=>{var g,w;return{x:(g=v.cx)!==null&&g!==void 0?g:null,y:(w=v.cy)!==null&&w!==void 0?w:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=xq(t),p=v=>h*v+m;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var x=yr(yr(yr({},i),{},{fill:"none",stroke:i&&i.fill},l),{},{points:c});return y.isValidElement(n)?u=y.cloneElement(n,x):typeof n=="function"?u=n(x):u=y.createElement(iw,Ri({},x,{type:s})),y.createElement(Ot,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function mce(e){var{showLabels:t,points:r,children:n}=e,a=kl(),s=y.useMemo(()=>r==null?void 0:r.map(i=>{var l,c,u={x:(l=i.x)!==null&&l!==void 0?l:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:i.width,height:i.height,lowerWidth:i.width,upperWidth:i.width};return yr(yr({},u),{},{value:void 0,payload:i.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return y.createElement(s1,{value:t?s:void 0},n)}function pce(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:s}=r,i=ie(Os),{onMouseEnter:l,onClick:c,onMouseLeave:u}=r,d=Fx(r,ace),f=c1(l,r.dataKey),h=u1(u),m=d1(c,r.dataKey);if(!Aq(t))return null;var{id:p}=r,x=Fx(r,sce),v=Lr(x);return y.createElement(y.Fragment,null,y.createElement(hce,{points:t,props:x}),t.map((g,w)=>{var b=a!=null&&a!==!1,j=b&&i===String(w),k=b&&j?a:n,_=yr(yr(yr({},v),g),{},{[TM]:w,[MM]:String(s)});return y.createElement(or,{key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(w),zIndex:j?ot.activeDot:void 0},y.createElement(Ot,Ri({className:"recharts-scatter-symbol"},Bu(d,g,w),{onMouseEnter:f(g,w),onMouseLeave:h(g,w),onClick:m(g,w)}),y.createElement(qle,Ri({option:k,isActive:j},_))))}))}function gce(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l}=r,c=t.current,u=Xu(r,"recharts-scatter-"),[d,f]=y.useState(!1),h=y.useCallback(()=>{f(!1)},[]),m=y.useCallback(()=>{f(!0)},[]),p=!d;return y.createElement(mce,{showLabels:p,points:n},r.children,y.createElement(Gu,{animationId:u,begin:s,duration:i,isActive:a,easing:l,onAnimationEnd:h,onAnimationStart:m,key:u},x=>{var v=x===1?n:n==null?void 0:n.map((g,w)=>{var b=c&&c[w];return b?yr(yr({},g),{},{cx:g.cx==null?void 0:$e(b.cx,g.cx,x),cy:g.cy==null?void 0:$e(b.cy,g.cy,x),size:$e(b.size,g.size,x)}):yr(yr({},g),{},{size:$e(0,g.size,x)})});return x>0&&(t.current=v),y.createElement(Ot,null,y.createElement(pce,{points:v,allOtherScatterProps:r,showLabels:p}))}),y.createElement(i1,{label:r.label}))}function yce(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:i,yAxisTicks:l,cells:c}=e,u=Te(r.dataKey)?s.dataKey:r.dataKey,d=Te(n.dataKey)?s.dataKey:n.dataKey,f=a&&a.dataKey,h=a?a.range:f4.range,m=h&&h[0],p=r.scale.bandwidth?r.scale.bandwidth():0,x=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((v,g)=>{var w=Je(v,u),b=Je(v,d),j=!Te(f)&&Je(v,f)||"-",k=[{name:Te(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:v,dataKey:u,type:s.tooltipType},{name:Te(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:b,payload:v,dataKey:d,type:s.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:v,dataKey:f,type:s.tooltipType});var _=Fh({axis:r,ticks:i,bandSize:p,entry:v,index:g,dataKey:u}),N=Fh({axis:n,ticks:l,bandSize:x,entry:v,index:g,dataKey:d}),S=j!=="-"?a.scale(j):m,O=Math.sqrt(Math.max(S,0)/Math.PI);return yr(yr({},v),{},{cx:_,cy:N,x:_==null?void 0:_-O,y:N==null?void 0:N-O,width:2*O,height:2*O,size:S,node:{x:w,y:b,z:j},tooltipPayload:k,tooltipPosition:{x:_,y:N},payload:v},c&&c[g]&&c[g].props)})}var xce=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Je(e,t)});function vce(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:s,yAxisId:i,id:l}=e,c=y.useRef(null);if(t)return null;var u=Ee("recharts-scatter",n),d=l;return y.createElement(or,{zIndex:e.zIndex},y.createElement(Ot,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&y.createElement("defs",null,y.createElement(x1,{clipPathId:d,xAxisId:s,yAxisId:i})),y.createElement(y1,{xAxisId:s,yAxisId:i,data:r,dataPointFormatter:xce,errorBarOffset:0},y.createElement(Ot,{key:"recharts-scatter-symbols"},y.createElement(gce,{props:e,previousPointsRef:c})))))}var h3={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:ot.scatter};function bce(e){var t=mt(e,h3),{animationBegin:r,animationDuration:n,animationEasing:a,hide:s,isAnimationActive:i,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,p=Fx(t,ice),{needClip:x}=Jp(f,h),v=y.useMemo(()=>VD(e.children,r1),[e.children]),g=xt(),w=ie(b=>nce(b,f,h,m,e.id,v,g));return x==null||w==null?null:y.createElement(y.Fragment,null,y.createElement(fce,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),y.createElement(vce,Ri({},p,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:u,lineJointType:c,legendType:l,shape:d,hide:s,isAnimationActive:i,animationBegin:r,animationDuration:n,animationEasing:a,points:w,needClip:x})))}function wce(e){var t=mt(e,h3),r=xt();return y.createElement(m1,{id:t.id,type:"scatter"},n=>y.createElement(y.Fragment,null,y.createElement(h1,{legendPayload:dce(t)}),y.createElement(p1,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),y.createElement(bce,Ri({},t,{id:n}))))}var Bx=y.memo(wce,fd);Bx.displayName="Scatter";var jce=["domain","range"],kce=["domain","range"];function xS(e,t){if(e==null)return{};var r,n,a=Nce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function m3(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=xS(e,jce),{domain:s,range:i}=t,l=xS(t,kce);return!vS(r,s)||!vS(n,i)?!1:fd(a,l)}var _ce=["dangerouslySetInnerHTML","ticks"],Sce=["id"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function bS(e,t){if(e==null)return{};var r,n,a=Ece(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ece(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cce(e){var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(ose(e)):r.current!==e&&t(lse({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(cse(r.current)),r.current=null)},[t]),null}var Pce=e=>{var{xAxisId:t,className:r}=e,n=ie(ew),a=xt(),s="xAxis",i=ie(v=>Ps(v,s,t,a)),l=ie(v=>K4(v,s,t,a)),c=ie(v=>U4(v,t)),u=ie(v=>ste(v,t)),d=ie(v=>u4(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=bS(e,_ce),{id:p}=d,x=bS(d,Sce);return y.createElement(b1,Ux({},m,x,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:Ee("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Oce={allowDataOverflow:kt.allowDataOverflow,allowDecimals:kt.allowDecimals,allowDuplicatedCategory:kt.allowDuplicatedCategory,angle:kt.angle,axisLine:Na.axisLine,height:kt.height,hide:!1,includeHidden:kt.includeHidden,interval:kt.interval,minTickGap:kt.minTickGap,mirror:kt.mirror,orientation:kt.orientation,padding:kt.padding,reversed:kt.reversed,scale:kt.scale,tick:kt.tick,tickCount:kt.tickCount,tickLine:Na.tickLine,tickSize:Na.tickSize,type:kt.type,xAxisId:0},Ace=e=>{var t=mt(e,Oce);return y.createElement(y.Fragment,null,y.createElement(Cce,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(Pce,t))},dc=y.memo(Ace,m3);dc.displayName="XAxis";var Tce=["dangerouslySetInnerHTML","ticks"],Mce=["id"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function wS(e,t){if(e==null)return{};var r,n,a=Ice(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ice(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dce(e){var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(use(e)):r.current!==e&&t(dse({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(fse(r.current)),r.current=null)},[t]),null}var Rce=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=y.useRef(null),i=y.useRef(null),l=ie(ew),c=xt(),u=Ge(),d="yAxis",f=ie(k=>Ps(k,d,t,c)),h=ie(k=>H4(k,t)),m=ie(k=>ote(k,t)),p=ie(k=>K4(k,d,t,c)),x=ie(k=>d4(k,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!h||a1(a)||y.isValidElement(a)||x==null)){var k=s.current;if(k){var _=k.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&u(hse({id:t,width:_}))}}},[p,h,u,a,t,n,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:g}=e,w=wS(e,Tce),{id:b}=x,j=wS(x,Mce);return y.createElement(b1,Hx({},w,j,{ref:s,labelRef:i,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ee("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))},Lce={allowDataOverflow:Nt.allowDataOverflow,allowDecimals:Nt.allowDecimals,allowDuplicatedCategory:Nt.allowDuplicatedCategory,angle:Nt.angle,axisLine:Na.axisLine,hide:!1,includeHidden:Nt.includeHidden,interval:Nt.interval,minTickGap:Nt.minTickGap,mirror:Nt.mirror,orientation:Nt.orientation,padding:Nt.padding,reversed:Nt.reversed,scale:Nt.scale,tick:Nt.tick,tickCount:Nt.tickCount,tickLine:Na.tickLine,tickSize:Na.tickSize,type:Nt.type,width:Nt.width,yAxisId:0},$ce=e=>{var t=mt(e,Lce);return y.createElement(y.Fragment,null,y.createElement(Dce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(Rce,t))},fc=y.memo($ce,m3);fc.displayName="YAxis";var zce=(e,t)=>t,j1=V([zce,Ce,l4,wt,lD,Ha,kre,At],Ore),k1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},p3=rn("mouseClick"),g3=Vu();g3.startListening({actionCreator:p3,effect:(e,t)=>{var r=e.payload,n=j1(t.getState(),k1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(jte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Vx=rn("mouseMove"),y3=Vu(),df=null;y3.startListening({actionCreator:Vx,effect:(e,t)=>{var r=e.payload;df!==null&&cancelAnimationFrame(df);var n=k1(r);df=requestAnimationFrame(()=>{var a=t.getState(),s=Ww(a,a.tooltip.settings.shared);if(s==="axis"){var i=j1(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(eD({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(J4())}df=null})}});var jS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},x3=Nr({name:"rootProps",initialState:jS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:jS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Fce=x3.reducer,{updateOptions:Bce}=x3.actions,v3=Nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Bfe}=v3.actions,Uce=v3.reducer,b3=rn("keyDown"),w3=rn("focus"),N1=Vu();N1.startListening({actionCreator:b3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Kw(a,Pl(r),ad(r),cd(r)),l=i==null?-1:Number(i);if(!(!Number.isFinite(l)||l<0)){var c=Ha(r);if(s==="Enter"){var u=sm(r,"axis","hover",String(a.index));t.dispatch(Mx({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=fte(r),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var p=sm(r,"axis","hover",String(m));t.dispatch(Mx({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});N1.startListening({actionCreator:w3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=sm(r,"axis","hover",String(s));t.dispatch(Mx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Vr=rn("externalEvent"),j3=Vu(),h0=new Map;j3.startListening({actionCreator:Vr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=h0.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:ore(l),activeDataKey:fD(l),activeIndex:Os(l),activeLabel:dD(l),activeTooltipIndex:Os(l),isTooltipActive:lre(l)};r(c,n)}finally{h0.delete(a)}});h0.set(a,i)}}});var Hce=V([Cl],e=>e.tooltipItemPayloads),Vce=V([Hce,od,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),k3=rn("touchMove"),N3=Vu();N3.startListening({actionCreator:k3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Ww(n,n.tooltip.settings.shared);if(a==="axis"){var s=j1(n,k1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(eD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(TM),d=(i=c.getAttribute(MM))!==null&&i!==void 0?i:void 0,f=Vce(t.getState(),u,d);t.dispatch(Z4({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var Wce=eM({brush:ooe,cartesianAxis:mse,chartData:ine,errorBars:Ise,graphicalItems:Kae,layout:lG,legend:pX,options:tne,polarAxis:vae,polarOptions:Uce,referenceElements:xoe,rootProps:Fce,tooltip:kte,zIndex:Vre}),Kce=function(t){return MY({reducer:Wce,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([g3.middleware,y3.middleware,N1.middleware,j3.middleware,N3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(pM({type:"raf"}))},devTools:Yu.devToolsEnabled})};function qce(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=xt(),s=y.useRef(null);if(a)return r;s.current==null&&(s.current=Kce(t));var i=Hb;return y.createElement(lie,{context:i,store:s.current},r)}function Yce(e){var{layout:t,margin:r}=e,n=Ge(),a=xt();return y.useEffect(()=>{a||(n(sG(t)),n(aG(r)))},[n,a,t,r]),null}var Gce=y.memo(Yce,fd);function Xce(e){var t=Ge();return y.useEffect(()=>{t(Bce(e))},[t,e]),null}function kS(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=qD("".concat(n).concat(t)),s=Ge();return y.useLayoutEffect(()=>(s(Ure({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Hre({zIndex:t,isPanorama:r}))}),[s,t,a,r]),y.createElement("g",{tabIndex:-1,id:a})}function NS(e){var{children:t,isPanorama:r}=e,n=ie(Tre);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return y.createElement(y.Fragment,null,a.map(i=>y.createElement(kS,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>y.createElement(kS,{key:i,zIndex:i,isPanorama:r})))}var Qce=["children"];function Zce(e,t){if(e==null)return{};var r,n,a=Jce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(null,arguments)}var eue={width:"100%",height:"100%",display:"block"},tue=y.forwardRef((e,t)=>{var r=rw(),n=nw(),a=XM();if(!Qn(r)||!Qn(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0),y.createElement(Cb,gm({},i,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:eue,ref:t}),s)}),rue=e=>{var{children:t}=e,r=ie(jp);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return y.createElement(Cb,{width:n,height:a,x:i,y:s},t)},_S=y.forwardRef((e,t)=>{var{children:r}=e,n=Zce(e,Qce),a=xt();return a?y.createElement(rue,null,y.createElement(NS,{isPanorama:!0},r)):y.createElement(tue,gm({ref:t},n),y.createElement(NS,{isPanorama:!1},r))});function nue(){var e=Ge(),[t,r]=y.useState(null),n=ie(SG);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;He(s)&&s!==n&&e(oG(s))}},[t,e,n]),r}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){sue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sue(e,t,r){return(t=iue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(null,arguments)}var lue=()=>(pne(),null);function ym(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var cue=y.forwardRef((e,t)=>{var r,n,a=y.useRef(null),[s,i]=y.useState({containerWidth:ym((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ym((n=e.style)===null||n===void 0?void 0:n.height)}),l=y.useCallback((u,d)=>{i(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=p=>{var{width:x,height:v}=p[0].contentRect;l(x,v)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return y.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),y.createElement(y.Fragment,null,y.createElement(kp,{width:s.containerWidth,height:s.containerHeight}),y.createElement("div",Li({ref:c},e)))}),uue=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=y.useState({containerWidth:ym(r),containerHeight:ym(n)}),i=y.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return y.createElement(y.Fragment,null,y.createElement(kp,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Li({ref:l},e)))}),due=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(kp,{width:r,height:n}),y.createElement("div",Li({ref:t},e)))}),fue=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Aa(r)||Aa(n)?y.createElement(uue,Li({},e,{ref:t})):y.createElement(due,Li({},e,{ref:t}))});function hue(e){return e===!0?cue:fue}var mue=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:v,width:g,responsive:w,dispatchTouchEvents:b=!0}=e,j=y.useRef(null),k=Ge(),[_,N]=y.useState(null),[S,O]=y.useState(null),I=nue(),E=tw(),C=(E==null?void 0:E.width)>0?E.width:g,L=(E==null?void 0:E.height)>0?E.height:a,P=y.useCallback(U=>{I(U),typeof t=="function"&&t(U),N(U),O(U),U!=null&&(j.current=U)},[I,t,N,O]),D=y.useCallback(U=>{k(p3(U)),k(Vr({handler:s,reactEvent:U}))},[k,s]),A=y.useCallback(U=>{k(Vx(U)),k(Vr({handler:u,reactEvent:U}))},[k,u]),R=y.useCallback(U=>{k(J4()),k(Vr({handler:d,reactEvent:U}))},[k,d]),T=y.useCallback(U=>{k(Vx(U)),k(Vr({handler:f,reactEvent:U}))},[k,f]),M=y.useCallback(()=>{k(w3())},[k]),z=y.useCallback(U=>{k(b3(U.key))},[k]),B=y.useCallback(U=>{k(Vr({handler:i,reactEvent:U}))},[k,i]),F=y.useCallback(U=>{k(Vr({handler:l,reactEvent:U}))},[k,l]),Y=y.useCallback(U=>{k(Vr({handler:c,reactEvent:U}))},[k,c]),q=y.useCallback(U=>{k(Vr({handler:h,reactEvent:U}))},[k,h]),Q=y.useCallback(U=>{k(Vr({handler:x,reactEvent:U}))},[k,x]),le=y.useCallback(U=>{b&&k(k3(U)),k(Vr({handler:p,reactEvent:U}))},[k,b,p]),Z=y.useCallback(U=>{k(Vr({handler:m,reactEvent:U}))},[k,m]),X=hue(w);return y.createElement(vD.Provider,{value:_},y.createElement(aT.Provider,{value:S},y.createElement(X,{width:C??(v==null?void 0:v.width),height:L??(v==null?void 0:v.height),className:Ee("recharts-wrapper",n),style:aue({position:"relative",cursor:"default",width:C,height:L},v),onClick:D,onContextMenu:B,onDoubleClick:F,onFocus:M,onKeyDown:z,onMouseDown:Y,onMouseEnter:A,onMouseLeave:R,onMouseMove:T,onMouseUp:q,onTouchEnd:Z,onTouchMove:le,onTouchStart:Q,ref:P},y.createElement(lue,null),r)))}),pue=["width","height","responsive","children","className","style","compact","title","desc"];function gue(e,t){if(e==null)return{};var r,n,a=yue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xue=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:l,compact:c,title:u,desc:d}=e,f=gue(e,pue),h=Lr(f);return c?y.createElement(y.Fragment,null,y.createElement(kp,{width:r,height:n}),y.createElement(_S,{otherAttributes:h,title:u,desc:d},s)):y.createElement(mue,{className:i,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(_S,{otherAttributes:h,title:u,desc:d,ref:t},y.createElement(voe,null,s)))});function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}var vue={top:5,right:5,bottom:5,left:5},bue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},_1=y.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,bue),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(qce,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},y.createElement(ioe,{chartData:u.data}),y.createElement(Gce,{layout:a.layout,margin:a.margin}),y.createElement(Xce,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),y.createElement(xue,Wx({},a,{ref:r})))}),wue=["axis"],jue=y.forwardRef((e,t)=>y.createElement(_1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wue,tooltipPayloadSearcher:t1,categoricalChartProps:e,ref:t})),kue=["axis","item"],Nue=y.forwardRef((e,t)=>y.createElement(_1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kue,tooltipPayloadSearcher:t1,categoricalChartProps:e,ref:t})),_ue=["item"],ES=y.forwardRef((e,t)=>y.createElement(_1,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_ue,tooltipPayloadSearcher:t1,categoricalChartProps:e,ref:t}));const hs={deployModel:async e=>(await st.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await st.get("/deployment/active")).data}catch(e){if(e.response&&e.response.status===404)return null;throw e}},getHistory:async(e=50,t=0)=>(await st.get("/deployment/history",{params:{limit:e,skip:t}})).data,deactivate:async()=>{await st.post("/deployment/deactivate")},predict:async e=>(await st.post("/deployment/predict",{data:e})).data},Sue=()=>{var pe,Ie,lr;const{jobs:e,fetchJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=bl(),[s,i]=y.useState([]),[l,c]=y.useState("all"),[u,d]=y.useState([]),[f,h]=y.useState("all"),[m,p]=y.useState(null),[x,v]=y.useState(!0),[g,w]=y.useState(!0),[b,j]=y.useState(!0),[k,_]=y.useState(!0),[N,S]=y.useState(!0),[O,I]=y.useState("charts"),[E,C]=y.useState(null),[L,P]=y.useState(!1),[D,A]=y.useState(null),[R,T]=y.useState(null),[M,z]=y.useState(null);y.useEffect(()=>{t(),B()},[t]),y.useEffect(()=>{var H,ae,fe;(fe=(ae=(H=E==null?void 0:E.splits)==null?void 0:H.train)==null?void 0:ae.y_proba)!=null&&fe.classes&&E.splits.train.y_proba.classes.length>0&&z(String(E.splits.train.y_proba.classes[0]))},[E]);const B=async()=>{try{const H=await st.get("/pipeline/datasets/list");d(H.data)}catch(H){console.error("Failed to fetch datasets",H)}},F=async(H,ae)=>{if(H.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await hs.deployModel(ae),alert("Model deployed successfully!")}catch(fe){alert("Failed to deploy model"),console.error(fe)}},Y=async H=>{var ae,fe;P(!0),C(null),A(null),T(H);try{const me=await st.get(`/pipeline/jobs/${H}/evaluation`);C(me.data)}catch(me){console.error("Failed to fetch evaluation data",me),A(((fe=(ae=me==null?void 0:me.response)==null?void 0:ae.data)==null?void 0:fe.detail)||"Failed to fetch evaluation data")}finally{P(!1)}},q=(H,ae)=>{const fe=Array.from(new Set([...H,...ae])).sort(),me=fe.map(_e=>fe.map(Oe=>H.reduce((cr,Yt,_r)=>{const on=ae[_r];return Yt===_e&&on===Oe?cr+1:cr},0)));return{classes:fe,matrix:me}},Q=(H,ae,fe)=>{if(!ae.values)return null;const me=ae.classes.indexOf(fe);if(me===-1)return null;const Oe=ae.values.map(Gt=>Gt[me]).map((Gt,Al)=>({score:Gt,actual:H[Al]===fe?1:0}));Oe.sort((Gt,Al)=>Al.score-Gt.score);const cr=[];let Yt=0,_r=0;const on=Oe.filter(Gt=>Gt.actual===1).length,Bs=Oe.length-on;if(on===0||Bs===0)return null;cr.push({fpr:0,tpr:0});for(let Gt=0;Gt<Oe.length;Gt++)Oe[Gt].actual===1?Yt++:_r++,cr.push({fpr:_r/Bs,tpr:Yt/on});return cr};y.useEffect(()=>{O==="evaluation"&&(!R&&s.length>0||R&&!s.includes(R)&&s.length>0?Y(s[0]):s.length===0&&(C(null),T(null)))},[O,s,R]);const le=e.filter(H=>{const ae=l==="all"||H.job_type===l,fe=f==="all"||H.dataset_id===f,me=H.status==="completed";return ae&&fe&&me}),Z=e.filter(H=>s.includes(H.job_id)),X=H=>{i(ae=>ae.includes(H)?ae.filter(fe=>fe!==H):[...ae,H])},U=Z.map(H=>{var fe;const ae=H.metrics||((fe=H.result)==null?void 0:fe.metrics)||{};return{name:H.job_id,...ae}}),te=Array.from(new Set(Z.flatMap(H=>{var fe;const ae=H.metrics||((fe=H.result)==null?void 0:fe.metrics)||{};return Object.keys(ae).filter(me=>{const _e=ae[me];return typeof _e=="number"&&!isNaN(_e)})}))).filter(H=>!(H.startsWith("train_")&&!x||H.startsWith("test_")&&!g||H.startsWith("val_")&&!b)),J=(H,ae)=>{if(!H||!ae)return"-";const fe=new Date(ae).getTime()-new Date(H).getTime(),me=Math.floor(fe/1e3);return me<60?`${me}s`:`${Math.floor(me/60)}m ${me%60}s`},K=H=>H==="best_score"?{type:"val",base:"best_score"}:H.startsWith("train_")?{type:"train",base:H.replace("train_","")}:H.startsWith("test_")?{type:"test",base:H.replace("test_","")}:H.startsWith("val_")?{type:"val",base:H.replace("val_","")}:{type:"other",base:H},re=new Map;te.forEach(H=>{var fe;const{base:ae}=K(H);re.has(ae)||re.set(ae,[]),(fe=re.get(ae))==null||fe.push(H)}),re.forEach((H,ae)=>{re.set(ae,H.sort())});const ce=Array.from(re.keys()).sort(),ge=m&&ce.includes(m)?m:ce[0]||null;return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:f,onChange:H=>{h(H.target.value)},children:[o.jsx("option",{value:"all",children:"All Datasets"}),u.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]}),o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:H=>{c(H.target.value)},children:[o.jsx("option",{value:"all",children:"All Experiments"}),o.jsx("option",{value:"tuning",children:"Model Optimization"}),o.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",s.length,")"]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[le.map(H=>{var ae,fe,me,_e;return o.jsxs("div",{onClick:()=>{X(H.job_id)},className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${s.includes(H.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300 break-all",children:["#",H.version," - ",H.job_id]}),o.jsxs("div",{className:"flex items-center gap-2",children:[H.status==="completed"&&(H.job_type==="training"||H.job_type==="tuning")&&o.jsx("button",{onClick:Oe=>F(Oe,H.job_id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:o.jsx(Lm,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${H.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":H.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:H.status})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[H.model_type,"  ",H.dataset_name||"Unknown Dataset",H.job_type==="tuning"&&(H.search_strategy||((fe=(ae=H.config)==null?void 0:ae.tuning)==null?void 0:fe.strategy))&&o.jsxs("span",{className:"ml-1 text-gray-400",children:["(",H.search_strategy||((_e=(me=H.config)==null?void 0:me.tuning)==null?void 0:_e.strategy),")"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[o.jsx("span",{children:new Date(H.start_time||H.created_at).toLocaleString()}),o.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:J(H.start_time,H.end_time)})]})]},H.job_id)}),r&&o.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:o.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?o.jsx(Si,{className:"w-3 h-3 animate-spin"}):o.jsx($t,{className:"w-3 h-3"}),"Load More"]})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Z.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[o.jsx(SP,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${O==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{I("charts")},children:"Visual Comparison"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${O==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{I("table")},children:"Detailed Metrics & Params"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${O==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{I("evaluation")},children:"Model Evaluation"})]}),O==="charts"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:H=>{v(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:H=>{w(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:H=>{j(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ce.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ce.map(H=>o.jsx("button",{onClick:()=>{p(H)},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${ge===H?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:H.toUpperCase()},H))}),ge&&re.has(ge)&&o.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(ef,{width:"100%",height:"100%",children:o.jsxs(Nue,{data:U,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(uc,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),o.jsx(dc,{dataKey:"name",stroke:"#6B7280",fontSize:12}),o.jsx(fc,{stroke:"#6B7280",fontSize:12}),o.jsx(lf,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),o.jsx(GM,{}),(pe=re.get(ge))==null?void 0:pe.map(H=>{const{type:ae}=K(H);let fe="#8884d8";return ae==="train"&&(fe="#3b82f6"),ae==="test"&&(fe="#22c55e"),ae==="val"&&(fe="#f97316"),ae==="other"&&(fe="#a855f7"),o.jsx(ZD,{dataKey:H,fill:fe,name:`${ae} (${ge})`},H)})]})})})})]}),O==="table"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),Z.map(H=>o.jsx("th",{className:"px-4 py-2 font-mono break-all min-w-[100px]",children:H.job_id},H.job_id))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[o.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),Z.map(H=>o.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:H.model_type},H.job_id))]}),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{_(!k)},children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:Z.length+1,children:[k?o.jsx($t,{className:"w-3 h-3"}):o.jsx(Es,{className:"w-3 h-3"}),"Key Metrics"]})}),k&&te.map(H=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:H}),Z.map(ae=>{var _e;const me=(ae.metrics||((_e=ae.result)==null?void 0:_e.metrics)||{})[H];return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof me=="number"?me.toFixed(4):"-"},ae.job_id)})]},H)),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{S(!N)},children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:Z.length+1,children:[N?o.jsx($t,{className:"w-3 h-3"}):o.jsx(Es,{className:"w-3 h-3"}),"Hyperparameters"]})}),N&&Array.from(new Set(Z.flatMap(H=>Object.keys(H.hyperparameters||{})))).map(H=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:H}),Z.map(ae=>{var fe;return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((fe=ae.hyperparameters)==null?void 0:fe[H])??"-")},ae.job_id)})]},H))]})]})})]}),O==="evaluation"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(H=>o.jsx("button",{onClick:()=>Y(H),className:`px-3 py-1 text-xs font-mono rounded border whitespace-nowrap ${R===H?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:H},H))}),L?o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[o.jsx(kr,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):D?o.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[o.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),o.jsx("p",{className:"text-sm mt-2 opacity-80",children:D})]}):E?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:H=>v(H.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:H=>w(H.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:H=>j(H.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),E.problem_type==="classification"&&((lr=(Ie=E.splits)==null?void 0:Ie.train)==null?void 0:lr.y_proba)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),o.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:M||"",onChange:H=>{z(H.target.value)},children:E.splits.train.y_proba.classes.map(H=>o.jsx("option",{value:H,children:H},H))})]})]}),o.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(E.splits||{}).filter(([H])=>!(H==="train"&&!x||H==="test"&&!g||H==="validation"&&!b)).map(([H,ae])=>{const fe=ae.y_true.map((me,_e)=>({x:me,y:ae.y_pred[_e]}));return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[H," Set"]}),E.problem_type==="regression"?o.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),o.jsx(ef,{width:"100%",height:"100%",children:o.jsxs(ES,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(uc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(dc,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(fc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(lf,{cursor:{strokeDasharray:"3 3"},content:({active:me,payload:_e})=>{if(me&&_e&&_e.length){const Oe=_e[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Actual: ",Oe.x.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Predicted: ",Oe.y.toFixed(4)]}),o.jsxs("p",{className:"text-gray-500",children:["Error: ",(Oe.y-Oe.x).toFixed(4)]})]})}return null}}),o.jsx(zf,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),o.jsx(Bx,{name:"Predictions",data:fe,fill:"#8884d8",fillOpacity:.6})]})})]}),o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),o.jsx(ef,{width:"100%",height:"100%",children:o.jsxs(ES,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(uc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(dc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(fc,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(lf,{cursor:{strokeDasharray:"3 3"},content:({active:me,payload:_e})=>{if(me&&_e&&_e.length){const Oe=_e[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Predicted: ",Oe.y.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Residual: ",Oe.residual.toFixed(4)]})]})}return null}}),o.jsx(a3,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),o.jsx(Bx,{name:"Residuals",data:fe.map(me=>({...me,residual:me.x-me.y})),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const{classes:me,matrix:_e}=q(ae.y_true,ae.y_pred);return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-8"})," ",o.jsxs("div",{className:"flex ml-2",children:[" ",me.map(Oe=>o.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",Oe]},Oe))]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex flex-col justify-center mr-2",children:me.map(Oe=>o.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",Oe]},Oe))}),o.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:_e.map((Oe,cr)=>o.jsx("div",{className:"flex",children:Oe.map((Yt,_r)=>{const on=Math.max(..._e.flat()),Bs=on>0?Yt/on:0;return o.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Bs*.8+.1})`,color:Bs>.5?"white":"inherit"},title:`True: ${me[cr]}, Pred: ${me[_r]}, Count: ${Yt}`,children:Yt},_r)})},cr))})]}),o.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),ae.y_proba&&o.jsxs("div",{className:"h-[300px] w-full",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{if(!M)return o.jsx("div",{className:"text-center text-xs text-gray-400",children:"Select a class"});const me=Q(ae.y_true,ae.y_proba,M);return me?o.jsx(ef,{width:"100%",height:"100%",children:o.jsxs(jue,{data:me,margin:{top:5,right:20,bottom:20,left:20},children:[o.jsx(uc,{strokeDasharray:"3 3",opacity:.1}),o.jsx(dc,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),o.jsx(fc,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),o.jsx(lf,{}),o.jsx(zf,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),o.jsx(zf,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):o.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},H)})})]}):o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[o.jsx("p",{children:"Select a completed job to view evaluation details."}),o.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},Eue=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,s]=y.useState(null),[i,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null);y.useEffect(()=>{h()},[]);const h=async()=>{try{const x=await hs.getActive();if(t(x),x&&x.job_id)try{const v=await Ct.getJob(x.job_id);if(v.dataset_id){const g=v.target_column,w=v.dropped_columns||[],b=await kn.getSample(v.dataset_id,1);if(b&&b.length>0){const j=b.map(_=>{const N={..._};return g&&g in N&&Reflect.deleteProperty(N,g),w.forEach(S=>{S in N&&delete N[S]}),N});n(JSON.stringify(j,null,2));const k=[];g&&k.push(`Target: ${g}`),w.length>0&&k.push(`Dropped: ${w.length} cols`),k.length>0&&f(`Auto-filtered: ${k.join(", ")}`)}}}catch(v){console.warn("Failed to fetch dataset sample for inference auto-fill",v)}}catch{t(null)}},m=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await hs.deactivate(),t(null),s(null)}catch(x){console.error("Failed to deactivate",x)}},p=async()=>{l(!0),u(null),s(null);try{const x=JSON.parse(r);if(!Array.isArray(x))throw new Error("Input must be a JSON array of objects");const v=await hs.predict(x);s(v.predictions)}catch(x){u(x.message||"Prediction failed")}finally{l(!1)}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),o.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),o.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:x=>{n(x.target.value)},placeholder:'[{"col1": 1, "col2": "A"}]'}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:p,disabled:!e||i,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||i?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:i?"Running...":o.jsxs(o.Fragment,{children:[o.jsx(Fi,{className:"w-4 h-4"})," Run Prediction"]})})})]}),o.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fh,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&o.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[o.jsx(Ey,{className:"w-3 h-3"}),"Undeploy"]})]}),e?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),o.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200 break-all",children:e.job_id})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),o.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[o.jsx(Yn,{className:"w-4 h-4"})," Active"]})]})]}):o.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[o.jsx(En,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),o.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?o.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[o.jsx(En,{className:"w-5 h-5 shrink-0 mt-0.5"}),o.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?o.jsx("div",{className:"space-y-2",children:a.map((x,v)=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[o.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",v+1]}),o.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof x=="object"?JSON.stringify(x):String(x)})]},v))}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Cue=()=>{const{activeView:e,isPropertiesPanelExpanded:t}=vl();return o.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[o.jsx(kK,{}),o.jsx(jK,{}),e==="canvas"?o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[o.jsx(oK,{}),o.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[!t&&o.jsx(bK,{}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(gK,{}),o.jsx(wK,{})]})]}),o.jsx(yK,{})]}):e==="experiments"?o.jsx(Sue,{}):o.jsx(Eue,{})]})},Pue=()=>{const e=xe(t=>t.addNode);return Or.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("source_id");r&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:r})},100)},[]),o.jsx(Cue,{})},Oue=()=>{const e=Kv(),[t,r]=y.useState(null),[n,a]=y.useState([]),[s,i]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,p]=y.useState(0),[x,v]=y.useState(!0),g=10,[w,b]=y.useState(""),[j,k]=y.useState(""),[_,N]=y.useState(()=>{try{const A=localStorage.getItem("skyulf_manual_deployments");return A?JSON.parse(A):{}}catch{return{}}}),S=A=>{N(R=>{const T={...R,[A]:!R[A]};return localStorage.setItem("skyulf_manual_deployments",JSON.stringify(T)),T})},O=async()=>{try{const A=await fetch("/api/registry/stats");if(A.ok){const R=await A.json();r(R)}}catch(A){console.error("Failed to fetch stats",A)}},I=async(A,R=!1)=>{if(!s)try{i(!0);const T=A*g,M=await fetch(`/api/registry/models?skip=${T}&limit=${g}`);if(!M.ok)throw new Error("Failed to fetch models");const z=await M.json();return z.length<g?v(!1):v(!0),a(B=>R?z:[...B,...z]),z}catch(T){return c(T.message),null}finally{i(!1)}};y.useEffect(()=>{O(),I(0,!0)},[]),y.useEffect(()=>{const A=T=>{const M=T.target;M.scrollTop+M.clientHeight>=M.scrollHeight-100&&!s&&x&&p(z=>z+1)},R=document.querySelector("main");return R?(R.addEventListener("scroll",A),()=>{R.removeEventListener("scroll",A)}):(window.addEventListener("scroll",A),()=>{window.removeEventListener("scroll",A)})},[s,x]),y.useEffect(()=>{m>0&&I(m,!1)},[m]);const E=async A=>{if(confirm("Are you sure you want to deploy this model version? This will replace the currently active deployment."))try{h(A);const R=await fetch(`/api/deployment/deploy/${A}`,{method:"POST"});if(!R.ok){const M=await R.json();throw new Error(M.detail||"Deployment failed")}p(0);const T=await I(0,!0);if(u&&T){const M=T.find(z=>z.model_type===u.model_type&&z.dataset_id===u.dataset_id);M&&d(M)}confirm("Model deployed successfully! Do you want to go to the inference page?")&&e("/deployments")}catch(R){alert(`Error deploying model: ${R.message}`)}finally{h(null)}},C=A=>{switch(A.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-300"}},L=A=>{if(!A)return"-";const R=A.score||A.accuracy||A.f1_score||A.rmse||A.mse;if(R!==void 0)return typeof R=="number"?R.toFixed(4):String(R);const T=Object.keys(A);if(T.length>0){const M=A[T[0]];return`${T[0]}: ${typeof M=="number"?M.toFixed(4):M}`}return"-"},P=A=>A.toLowerCase()==="tuning"?"Advanced Training":A.toLowerCase()==="training"?"Standard Training":A.charAt(0).toUpperCase()+A.slice(1),D=n.filter(A=>{const R=(A.dataset_name||"").toLowerCase().includes(w.toLowerCase())||(A.dataset_id||"").toLowerCase().includes(w.toLowerCase()),T=A.model_type.toLowerCase().includes(j.toLowerCase());return R&&T});return s&&!t&&n.length===0?o.jsxs("div",{className:"p-8 flex justify-center items-center h-full text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading registry..."]}):l?o.jsxs("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:["Error: ",l]}):o.jsxs("div",{className:"p-8 min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[o.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Model Registry"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage versions, track metrics, and deploy your best models."})]}),o.jsx("button",{onClick:()=>{p(0),I(0,!0),O()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:"Refresh"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(m0,{title:"Total Versions",value:(t==null?void 0:t.total_versions)||0,icon:o.jsx(fh,{className:"text-blue-500"})}),o.jsx(m0,{title:"Active Deployments",value:(t==null?void 0:t.active_deployments)||0,icon:o.jsx(Aue,{className:"text-green-500"}),valueColor:"text-green-600 dark:text-green-400"}),o.jsx(m0,{title:"Model Types",value:n.length,icon:o.jsx(_y,{className:"text-purple-500"}),valueColor:"text-purple-600 dark:text-purple-400"})]}),o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Model Type"}),o.jsx("input",{type:"text",placeholder:"e.g. RandomForest",value:j,onChange:A=>{k(A.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Dataset"}),o.jsx("input",{type:"text",placeholder:"e.g. Iris Dataset",value:w,onChange:A=>{b(A.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(_y,{size:20,className:"text-slate-400"}),"Registered Models"]}),o.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",D.length," of ",n.length," models"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Dataset"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Latest Version"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Source"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Deployments"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:D.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(fh,{size:48,className:"mb-4 opacity-20"}),o.jsx("p",{children:"No models found matching your filters."})]})})}):D.map(A=>{const R=A.latest_version;if(!R)return null;const T=`${A.model_type}-${A.dataset_id}`,M=A.deployment_count>0,z=_[T]||!1,B=M||z;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:A.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:A.dataset_name}),o.jsx("span",{className:"text-xs text-slate-400 font-mono mt-0.5",children:A.dataset_id})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:["v",R.version]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:P(R.source)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(R.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${C(R.status)}`,children:R.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",onClick:F=>{F.stopPropagation()},children:[o.jsx("input",{type:"checkbox",checked:B,onChange:()=>{S(T)},disabled:M,className:`w-4 h-4 rounded border-gray-300 focus:ring-green-500 ${M?"text-green-600 opacity-50 cursor-not-allowed":"text-blue-600 cursor-pointer"}`}),B?o.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs",children:[o.jsx(Yn,{size:12})," ",M?"Active":"Manual"]}):o.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-xs",children:"None"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("button",{onClick:()=>{d(A)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 flex items-center justify-end gap-1 ml-auto",children:["View Versions ",o.jsx(Es,{size:16})]})})]},T)})})]})})]}),s&&n.length>0&&o.jsxs("div",{className:"py-4 flex justify-center text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading more models..."]}),u&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{d(null)},children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:A=>{A.stopPropagation()},children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:u.model_type}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Version History"})]}),o.jsx("button",{onClick:()=>{d(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:o.jsx(rr,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Version"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Metrics"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:u.versions.map(A=>o.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${A.is_deployed?"bg-green-50/50 dark:bg-green-900/10":""}`,children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-mono",children:["v",A.version]}),A.is_deployed&&o.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-1.5 py-0.5 rounded border border-green-200 dark:border-green-800",children:"Deployed"})]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(A.created_at).toLocaleString()}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-mono",children:L(A.metrics)}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${C(A.status)}`,children:A.status})}),o.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:[A.status==="completed"&&!A.is_deployed&&o.jsxs("button",{onClick:()=>E(A.job_id),disabled:f===A.job_id,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 disabled:opacity-50 flex items-center gap-1 ml-auto",children:[f===A.job_id?o.jsx("span",{className:"animate-spin h-3 w-3 border-b-2 border-current rounded-full"}):o.jsx(Fi,{size:14}),"Deploy"]}),A.is_deployed&&o.jsxs("span",{className:"text-green-600 dark:text-green-400 text-xs flex items-center justify-end gap-1",children:[o.jsx(Yn,{size:14})," Active"]})]})]},A.job_id))})]})}),o.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:o.jsx("button",{onClick:()=>{d(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})]})},m0=({title:e,value:t,icon:r,valueColor:n="text-slate-900 dark:text-white"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${n}`,children:t})]}),o.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:r})]}),Aue=({className:e})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[o.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),o.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),o.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),o.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Tue=()=>{const[e,t]=y.useState(null),[r,n]=y.useState([]),[a,s]=y.useState(!1),[i,l]=y.useState(null),c=async()=>{s(!0),l(null);try{const[f,h]=await Promise.all([hs.getActive(),hs.getHistory(50,0)]);t(f),n(h)}catch(f){console.error("Failed to load deployments",f),l("Failed to load deployment data.")}finally{s(!1)}};y.useEffect(()=>{c()},[]);const u=async()=>{if(confirm("Are you sure you want to deactivate the current deployment?"))try{await hs.deactivate(),await c()}catch(f){console.error("Failed to deactivate",f),alert("Failed to deactivate deployment.")}},d=async f=>{if(confirm(`Are you sure you want to redeploy job ${f}?`))try{await hs.deployModel(f),await c()}catch(h){console.error("Failed to redeploy",h),alert("Failed to redeploy model.")}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Model Deployments"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage active models and view deployment history"})]}),o.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Si,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[i&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[o.jsx(En,{className:"w-5 h-5"}),i]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(Lm,{className:"w-5 h-5 text-green-500"}),"Active Deployment"]}),e?o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-green-200 dark:border-green-900 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:o.jsx(fh,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.model_type}),o.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[o.jsx(Yn,{className:"w-3 h-3"})," Active"]})]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Job ID: ",e.job_id]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deployed: ",new Date(e.created_at).toLocaleString()]})]})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[o.jsx(Ey,{className:"w-4 h-4"}),"Deactivate"]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-xs font-mono text-gray-500 dark:text-gray-400 break-all",children:["Artifact URI: ",e.artifact_uri]})]}):o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx(Ey,{className:"w-6 h-6 text-gray-400"})}),o.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"No Active Model"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Deploy a model from the Experiments page to see it here."})]})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(eb,{className:"w-5 h-5 text-blue-500"}),"Deployment History"]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3",children:"Deployed At"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No deployment history found."})}):r.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:f.is_active?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Active"]}):o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"Inactive"]})}),o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:f.model_type}),o.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:[f.job_id.slice(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(f.created_at).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-right",children:!f.is_active&&o.jsx("button",{onClick:()=>d(f.job_id),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Redeploy"})})]},f.id))})]})})})]})]})]})};function Mue(){return o.jsx(aF,{children:o.jsx(Dz,{children:o.jsxs(Vs,{path:"/",element:o.jsx(t6,{}),children:[o.jsx(Vs,{index:!0,element:o.jsx(R8,{})}),o.jsx(Vs,{path:"data",element:o.jsx(F8,{})}),o.jsx(Vs,{path:"canvas",element:o.jsx(Pue,{})}),o.jsx(Vs,{path:"registry",element:o.jsx(Oue,{})}),o.jsx(Vs,{path:"deployments",element:o.jsx(Tue,{})})]})})})}const Iue=e=>{if(!e||!e.sample)return o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No data available"});const t=Object.keys(e.sample[0]||{}).slice(0,5);return o.jsxs("div",{className:"overflow-x-auto rounded border border-border",children:[o.jsxs("div",{className:"text-xs font-semibold mb-1 flex justify-between p-2 bg-muted/50 border-b border-border",children:[o.jsx("span",{children:e.name}),o.jsxs("span",{className:"text-muted-foreground",children:[e.shape[0]," rows x ",e.shape[1]," cols"]})]}),o.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-muted/30",children:t.map(r=>o.jsx("th",{className:"p-2 border-b border-r border-border text-left font-medium text-muted-foreground last:border-r-0",children:r},r))})}),o.jsx("tbody",{children:e.sample.slice(0,5).map((r,n)=>o.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/20",children:t.map(a=>o.jsx("td",{className:"p-2 border-r border-border truncate max-w-[80px] last:border-r-0",children:String(r[a])},a))},n))})]})]})},Due=({config:e,onChange:t,nodeId:r})=>{var x;const{nodes:n,edges:a}=xe(),[s,i]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState("train");y.useEffect(()=>{const v=e.lastRunJobId;if(!v)return;const g=async()=>{try{const b=await Ct.getJob(v);c(b),b.status!=="completed"&&b.status}catch(b){console.error("Failed to fetch job",b)}};g();const w=setInterval(g,2e3);return()=>{clearInterval(w)}},[e.lastRunJobId]);const f=async()=>{if(r){i(!0);try{const v=tp(n,a),g=await Ct.runPipeline({...v,target_node_id:r,job_type:"preview"});t({...e,lastRunJobId:g.job_id})}catch(v){console.error("Failed to run preview:",v),alert("Failed to start preview job.")}finally{i(!1)}}},h=((x=l==null?void 0:l.result)==null?void 0:x.metrics)||(l==null?void 0:l.result),m=h==null?void 0:h.data_summary,p=h==null?void 0:h.operation_mode;return o.jsxs("div",{className:"p-4 space-y-4 h-full overflow-y-auto",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Connect this node to any data output to inspect the data state, schema, and applied transformations."}),o.jsxs("button",{onClick:f,disabled:s,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-[#38bdf8] via-[#6366f1] to-[#a855f7] text-white px-3 py-1.5 rounded-md hover:opacity-90 disabled:opacity-50 transition-all text-xs font-medium shadow-md",children:[s?o.jsx(kr,{size:14,className:"animate-spin"}):o.jsx(Fi,{size:14}),s?"Running...":"Run Preview"]}),e.lastRunJobId&&l&&l.status!=="completed"&&o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 p-2 bg-muted/30 rounded border border-border",children:[o.jsx("span",{children:"Status:"}),o.jsx("span",{className:`ml-auto font-medium px-1.5 py-0.5 rounded text-[10px] ${l.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:l.status})]}),(l==null?void 0:l.status)==="completed"&&h&&o.jsxs("div",{className:"space-y-4 border-t border-border pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[o.jsxs("div",{className:"text-[10px] bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 p-2 rounded border border-blue-100 dark:border-blue-900/50",children:[o.jsx("strong",{className:"block mb-0.5",children:"Operation Mode"}),p||"Unknown"]}),m&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex border-b border-border",children:["train","test","validation"].map(v=>m[v]&&o.jsx("button",{className:`text-[10px] px-3 py-1.5 border-b-2 transition-colors ${u===v?"border-primary font-medium text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{d(v)},children:v.charAt(0).toUpperCase()+v.slice(1)},v))}),m[u]?Iue(m[u]):o.jsxs("div",{className:"text-xs text-muted-foreground p-4 text-center border border-dashed border-border rounded",children:["No ",u," data available"]})]}),h.applied_transformations&&h.applied_transformations.length>0&&o.jsxs("div",{className:"pt-2 border-t border-border",children:[o.jsx("div",{className:"text-[10px] font-semibold mb-2 text-foreground",children:"Applied Steps"}),o.jsx("div",{className:"space-y-1.5",children:h.applied_transformations.map((v,g)=>o.jsxs("div",{className:"text-[10px] flex items-center gap-2 text-muted-foreground p-1.5 bg-muted/30 rounded border border-border",children:[o.jsx("span",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center text-[8px] font-medium text-foreground",children:g+1}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-foreground",children:v.transformer_name}),o.jsx("span",{className:"text-[9px] opacity-80",children:v.transformer_type})]})]},g))})]})]})]})},Rue=({data:e})=>{const[t,r]=y.useState(null);return y.useEffect(()=>{const n=e.lastRunJobId;if(!n)return;const a=async()=>{try{const i=await Ct.getJob(n);r(i.status)}catch{r("error")}};a();const s=setInterval(()=>{a()},5e3);return()=>{clearInterval(s)}},[e.lastRunJobId]),o.jsx("div",{className:"text-xs flex items-center gap-2",children:e.lastRunJobId?t==="completed"?o.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[o.jsx(Yn,{size:12})," Ready"]}):t==="failed"?o.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium flex items-center gap-1",children:[o.jsx(En,{size:12})," Failed"]}):o.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1",children:[o.jsx(kr,{size:12,className:"animate-spin"})," Running"]}):o.jsx("span",{className:"text-muted-foreground italic",children:"Not run yet"})})},Lue={type:"data_preview",label:"Data Preview",category:"Evaluation",description:"Inspect data state and transformations at this point.",icon:TP,inputs:[{id:"in",label:"Input Data",type:"any"}],outputs:[],component:Rue,settings:Due,validate:()=>({isValid:!0}),getDefaultConfig:()=>({})},tt=e=>F$({queryKey:["dataset-schema",e],queryFn:()=>M8(e),enabled:!!e,staleTime:1e3*60*5}),$ue=({config:e,onChange:t})=>{const[r,n]=y.useState([]),[a,s]=y.useState(!1),[i,l]=y.useState(!1),{data:c,isLoading:u}=tt(e.datasetId),d=()=>{s(!0),kn.getUsable().then(n).catch(console.error).finally(()=>{s(!1)})};y.useEffect(()=>{d()},[]);const f=m=>{const p=m.target.value,x=r.find(v=>String(v.id)===p);t({...e,datasetId:p,datasetName:x==null?void 0:x.name})},h=(m,p)=>{l(!1),d(),t({...e,datasetId:m,datasetName:p})};return i?o.jsx(nO,{onUploadComplete:h,onCancel:()=>{l(!1)}}):o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),o.jsxs("button",{onClick:()=>{l(!0)},className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[o.jsx(Bi,{size:14}),"New Upload"]})]}),a?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:f,children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(m=>o.jsx("option",{value:m.id,children:m.name},m.id))]})]}),e.datasetId&&o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[o.jsx(XF,{size:14}),o.jsx("span",{children:"Dataset Schema"})]}),u?o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-auto",children:o.jsxs("table",{className:"w-full text-xs text-left min-w-max",children:[o.jsx("thead",{className:"bg-muted/20 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Column"}),o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Type"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Missing"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Unique"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Min"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Max"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Mean"})]})}),o.jsx("tbody",{children:Object.values(c.columns).map(m=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2 font-mono font-medium whitespace-nowrap",children:m.name}),o.jsx("td",{className:"p-2 text-muted-foreground whitespace-nowrap",children:m.dtype}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.missing_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.unique_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.min_value!==void 0?Number(m.min_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.max_value!==void 0?Number(m.max_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.mean_value!==void 0?Number(m.mean_value).toFixed(2):"-"})]},m.name))})]})}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},zue=({data:e})=>{const[t,r]=y.useState(void 0);y.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&kn.getById(e.datasetId).then(a=>{r(a.name)}).catch(()=>{r(e.datasetId)})},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return o.jsx("div",{className:"text-xs",children:e.datasetId?o.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):o.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},Fue={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Gn,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:$ue,component:zue,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},_3=(e,t,r,n=new Set)=>{var s;if(n.has(e.id))return;if(n.add(e.id),(s=e.data)!=null&&s.datasetId)return e.data.datasetId;const a=Rs(e,t,r);for(const i of a){const l=_3(i,t,r,n);if(l)return l}},ct=e=>{const t=xe(s=>s.nodes),r=xe(s=>s.edges),n=t.find(s=>s.id===e);return n?Rs(n,t,r).map(s=>{const i=_3(s,t,r);return i&&!s.data.datasetId?{...s.data,datasetId:i}:s.data}):[]},Ol=(e,t={})=>{var s;const n=(s=ct(e).find(i=>i.datasetId))==null?void 0:s.datasetId,a=xe(i=>i.executionResult);return y.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(i=>{var l,c;if(t.types||t.suggestedNodeTypes){const u=(l=t.types)==null?void 0:l.includes(i.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(i.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!i.target_columns||i.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Wi=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:o.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[o.jsx(PP,{className:"w-4 h-4"}),o.jsx("span",{children:"Recommendations"})]}),o.jsx("div",{className:"space-y-2",children:e.map(n=>o.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&o.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&o.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:o.jsx(Yn,{className:"w-5 h-5"})})]})},n.rule_id))})]}),Bue=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=ct(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(_=>_.name):[],c=xe(_=>_.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const _=new ResizeObserver(N=>{for(const S of N)m(S.contentRect.width>450)});return _.observe(f.current),()=>{_.disconnect()}},[]);const p=Ol(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),x=_=>{if(_.target_columns&&_.target_columns.length>0){const N=Array.from(new Set([...e.columns,..._.target_columns]));t({...e,columns:N})}},[v,g]=y.useState(""),w=y.useMemo(()=>l.filter(_=>_.toLowerCase().includes(v.toLowerCase())),[l,v]),b=()=>{t({...e,columns:w})},j=()=>{const _=e.columns.filter(N=>!w.includes(N));t({...e,columns:_})};return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Wi,{recommendations:p,onApply:x})}),o.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),o.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:_=>t({...e,missing_threshold:parseInt(_.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&o.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(kr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(_=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_))})]})]})]})]}),o.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[o.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"relative group",children:o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:_=>{g(_.target.value)}})}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?w.length>0?o.jsx("div",{className:"space-y-0.5",children:w.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(O=>O!==_);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),o.jsx("span",{className:"truncate font-mono text-xs",title:_,children:_})]},_))}):o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):o.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},Uue={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Ds,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:Bue,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},Hue=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=ct(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(N=>N.name):[],c=xe(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(S=>{for(const O of S)m(O.contentRect.width>450)});return N.observe(f.current),()=>{N.disconnect()}},[]);const p=Ol(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),x=N=>{if(N.target_columns.length>0){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[v,g]=y.useState(""),w=y.useMemo(()=>l.filter(N=>N.toLowerCase().includes(v.toLowerCase())),[l,v]),b=()=>{t({...e,columns:w})},j=()=>{const N=e.columns.filter(S=>!w.includes(S));t({...e,columns:N})},k=()=>d?o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:typeof S=="number"?S.toFixed(4):String(S)})]},N))})]}),d.missing_counts&&o.jsxs("div",{className:"space-y-1 mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:String(S)})]},N))}),d.total_missing!==void 0&&o.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",o.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(u==null?void 0:u.status)==="success"&&o.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Wi,{recommendations:p,onApply:x})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),o.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),o.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:N=>t({...e,strategy:N.target.value}),children:[o.jsx("option",{value:"mean",children:"Mean (Average)"}),o.jsx("option",{value:"median",children:"Median (Middle Value)"}),o.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),o.jsx("option",{value:"constant",children:"Constant Value"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:N=>t({...e,fill_value:N.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:N=>t({...e,n_neighbors:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:N=>t({...e,weights:N.target.value}),children:[o.jsx("option",{value:"uniform",children:"Uniform"}),o.jsx("option",{value:"distance",children:"Distance"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:N=>t({...e,max_iter:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:N=>t({...e,estimator:N.target.value}),children:[o.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),o.jsx("option",{value:"decision_tree",children:"Decision Tree"}),o.jsx("option",{value:"extra_trees",children:"Extra Trees"}),o.jsx("option",{value:"knn",children:"KNN"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:N=>t({...e,random_state:parseInt(N.target.value)})})]})]}),h&&o.jsx(k,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:v,onChange:N=>{g(N.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:w.length>0?w.map(N=>o.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const O=S.target.checked?[...e.columns,N]:e.columns.filter(I=>I!==N);t({...e,columns:O})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),o.jsx("span",{className:"truncate",title:N,children:N})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[N]!==void 0&&o.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[N]} missing values filled`,children:d.missing_counts[N]})]},N)):o.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!h&&o.jsx(k,{})]})]})},Vue={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:zF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Hue,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:e.method==="simple"&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},Wue=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=ct(r||"").find(j=>j.datasetId))==null?void 0:b.datasetId,{data:s,isLoading:i}=tt(a),l=xe(j=>j.executionResult),c=r?l==null?void 0:l.node_results[r]:null,u=y.useRef(null),[d,f]=y.useState(!1),[h,m]=y.useState("");y.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const _ of k)f(_.contentRect.width>450)});return j.observe(u.current),()=>{j.disconnect()}},[]);const p=s?Object.values(s.columns).filter(j=>["int","float","number"].some(k=>j.dtype.toLowerCase().includes(k))).map(j=>j.name):[],x=p.filter(j=>j.toLowerCase().includes(h.toLowerCase())),v=()=>{t({...e,columns:x})},g=()=>{const j=e.columns.filter(k=>!x.includes(k));t({...e,columns:j})},w=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const _=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:_()})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((N,S)=>{var I;let O="";if(e.method==="standard"){const E=j.mean[S],C=j.scale[S];typeof E=="number"&&(O=`=${E.toFixed(2)}, =${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="minmax"){const E=j.data_min[S],C=j.data_max[S];typeof E=="number"&&(O=`Min=${E.toFixed(2)}, Max=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="robust"){const E=j.center[S],C=(I=j.scale)==null?void 0:I[S];typeof E=="number"&&(O=`Med=${E.toFixed(2)}, IQR=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const E=j.max_abs[S];typeof E=="number"&&(O=`MaxAbs=${E.toFixed(2)}`)}return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:N,children:N}),o.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:O})]},N)})})]})};return o.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[o.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),o.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),o.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),o.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (with_mean)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (Median)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&o.jsx(w,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:v,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:j=>{m(j.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(j=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const _=k.target.checked?[...e.columns,j]:e.columns.filter(N=>N!==j);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:j,children:j})]},j)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:i?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&o.jsx(w,{})]})]})},Kue={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:WF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:Wue,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})};function S3(){const[e,t]=y.useState(null),[r,n]=y.useState({width:0,height:0}),a=y.useCallback(s=>{if(s.length===0)return;const{width:i,height:l}=s[0].contentRect;n({width:i,height:l})},[]);return y.useEffect(()=>{if(!e)return;const s=new ResizeObserver(a);return s.observe(e),()=>{s.disconnect()}},[e,a]),[t,r]}const que=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(_P,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Yue=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,s]=y.useState(r),[i,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(null);y.useEffect(()=>{e&&s(r)},[e,r]);const h=y.useCallback(()=>{a&&(u(!0),f(null),Ct.getTuningHistory(a).then(m=>{l(m)}).catch(m=>{console.error("Failed to fetch jobs",m),f("Failed to load history.")}).finally(()=>{u(!1)}))},[a]);return y.useEffect(()=>{e&&h()},[e,h]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(kr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),o.jsxs("select",{value:a,onChange:m=>{s(m.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Si,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(rr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Kn,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(En,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:d}),o.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Gn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(m=>{var p;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((p=m.result)==null?void 0:p.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Wc,{className:"w-3 h-3"})," Model Ready"]})]})]}),o.jsxs("button",{onClick:()=>{var x;(x=m.result)!=null&&x.best_params&&(n({params:m.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[o.jsx(Wc,{className:"w-3 h-3"}),"Apply"]})]})},m.job_id)})})]})]}):null},Gue=({value:e,type:t,onChange:r,step:n,min:a,max:s})=>{const[i,l]=y.useState("");y.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=i.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(u)};return o.jsx("input",{type:"text",value:i,onChange:u=>{l(u.target.value)},onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:s}:{}})},Xue=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:h}=bl(),m=ct(r||""),p=xe(P=>P.nodes),x=xe(P=>P.edges),g=(P=>{var R,T,M,z;const D=new Set,A=[P];for(;A.length>0;){const B=A.shift();if(!B||D.has(B))continue;D.add(B);const F=p.find(q=>q.id===B);if(!F)continue;if(B!==P){if((R=F.data)!=null&&R.datasetId)return F.data.datasetId;if((T=F.data)!=null&&T.dataset_id)return F.data.dataset_id;if((M=F.data)!=null&&M.config){const q=F.data.config;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}if((z=F.data)!=null&&z.params){const q=F.data.params;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}}const Y=Rs(F,p,x);for(const q of Y)A.push(q.id)}})(r||""),{data:w}=tt(g),b=w?Object.values(w.columns):[],[j,{width:k}]=S3(),_=k>450,[N,S]=y.useState("model"),[O,I]=y.useState(!1);y.useEffect(()=>{e.model_type&&(c(!0),Ct.getHyperparameters(e.model_type).then(P=>a(P)).catch(console.error).finally(()=>{c(!1)}))},[e.model_type]),y.useEffect(()=>{var D;const P=(D=m.find(A=>A.target_column))==null?void 0:D.target_column;P&&e.target_column!==P&&t({...e,target_column:P})},[m,e.target_column]);const E=async()=>{if(r)try{const P=tp(p,x);await Ct.runPipeline({...P,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),h("training"),f(!0)}catch(P){console.error("Failed to submit training job:",P),alert("Failed to submit training job. Check console for details.")}},C=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:P=>t({...e,model_type:P.target.value,hyperparameters:{}}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),b.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(nb,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[b.length>0?o.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),b.map(P=>o.jsx("option",{value:P.name,children:P.name},P.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),b.length>0&&o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>{I(!O)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qv,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Es,{className:`w-4 h-4 text-gray-400 transition-transform ${O?"rotate-90":""}`})]}),O&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"}),o.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),L=()=>{const P=Object.keys(e.hyperparameters).length>0,D=A=>{if(A){const R={};n.forEach(T=>{R[T.name]=T.default}),t({...e,hyperparameters:R})}else t({...e,hyperparameters:{}})};return o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(rb,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:P,onChange:A=>{D(A.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Customize"]})})]}),P?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-end mb-2",children:o.jsxs("button",{onClick:()=>i(!0),className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[o.jsx(ok,{className:"w-3 h-3"}),"Load Best"]})}),l?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(Kn,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(A=>{var R;return o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:A.label}),A.description&&o.jsx(que,{text:A.description})]}),A.type==="select"?o.jsx("select",{value:e.hyperparameters[A.name]??A.default,onChange:T=>t({...e,hyperparameters:{...e.hyperparameters,[A.name]:T.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(R=A.options)==null?void 0:R.map(T=>o.jsx("option",{value:String(T.value),children:T.label},String(T.value)))}):o.jsx(Gue,{type:A.type,value:e.hyperparameters[A.name]??A.default,onChange:T=>t({...e,hyperparameters:{...e.hyperparameters,[A.name]:T}}),step:A.step,min:A.min,max:A.max})]},A.name)}),n.length===0&&!l&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),o.jsxs("button",{onClick:()=>{i(!0)},className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[o.jsx(ok,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return o.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&o.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Train a model using fixed parameters or defaults."}),o.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:o.jsx(rr,{className:"w-3 h-3"})})]}),o.jsx(Yue,{isOpen:s,onClose:()=>{i(!1)},modelType:e.model_type,onSelect:P=>{const D=P;D.modelType&&D.modelType!==e.model_type?t({...e,model_type:D.modelType,hyperparameters:D.params}):t({...e,hyperparameters:D.params})}}),!_&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("model")},children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("params")},children:"Hyperparameters"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:_?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:C}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:o.jsx(L,{})})]}):o.jsxs(o.Fragment,{children:[N==="model"&&C,N==="params"&&o.jsx(L,{})]})}),o.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:o.jsxs("button",{onClick:E,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Fi,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},Que={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:bF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:Xue,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},Zue=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(_P,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Jue=({def:e,value:t,onChange:r})=>{const[n,a]=y.useState(""),[s,i]=y.useState(null);y.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const l=u=>{if(!u.trim())return[];const d=u.split(",").map(h=>h.trim()).filter(h=>h!==""),f=[];for(const h of d){if(h.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const m=Number(h);if(isNaN(m))throw new Error(`"${h}" is not a valid number`);f.push(m)}else if(e.type==="boolean"){const m=h.toLowerCase();if(m==="true")f.push(!0);else if(m==="false")f.push(!1);else throw new Error(`"${h}" must be true or false`)}else f.push(h)}return f},c=()=>{try{const u=l(n);i(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){i(u.message)}};return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&o.jsx(Zue,{text:e.description})]}),o.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${s?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),i(null)},onBlur:c}),e.type==="select"&&e.options&&o.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>o.jsx("button",{onClick:()=>{const d=l(n),h=d.includes(u.value)?d.filter(m=>m!==u.value):[...d,u.value];r(h)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},String(u.value)))})]}),s&&o.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[o.jsx(En,{className:"w-3 h-3"}),s]})]})},ede=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=y.useState(r),[s,i]=y.useState([]),[l,c]=y.useState(!1),[u,d]=y.useState(null);y.useEffect(()=>{e&&a(r)},[e,r]);const f=y.useCallback(()=>{n&&(c(!0),d(null),Ct.getTuningHistory(n).then(h=>{console.log("Fetched jobs for",n,h),i(h)}).catch(h=>{console.error("Failed to fetch jobs",h),d("Failed to load history.")}).finally(()=>{c(!1)}))},[n]);return y.useEffect(()=>{e&&f()},[e,f]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:o.jsx(kr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),o.jsxs("select",{value:n,onChange:h=>{a(h.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Si,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(rr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Kn,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(En,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:u}),o.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Gn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(h=>{var m;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((m=h.result)==null?void 0:m.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Wc,{className:"w-3 h-3"})," Model Ready"]})]})]})})},h.job_id)})})]})]}):null},tde=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState("config"),[f,h]=y.useState(!1),[m,p]=y.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[x,{width:v}]=S3(),g=v>450,{toggleDrawer:w,setTab:b}=bl(),j=ct(r||""),k=xe(D=>D.nodes),_=xe(D=>D.edges),S=(D=>{var T,M,z,B;const A=new Set,R=[D];for(;R.length>0;){const F=R.shift();if(A.has(F))continue;A.add(F);const Y=k.find(Q=>Q.id===F);if(!Y)continue;if(F!==D){if((T=Y.data)!=null&&T.datasetId)return Y.data.datasetId;if((M=Y.data)!=null&&M.dataset_id)return Y.data.dataset_id;const Q=Y.data;if((z=Q==null?void 0:Q.config)!=null&&z.datasetId)return Q.config.datasetId;if((B=Q==null?void 0:Q.config)!=null&&B.dataset_id)return Q.config.dataset_id}const q=Rs(Y,k,_);for(const Q of q)R.push(Q.id)}})(r||""),{data:O}=tt(S),I=O?Object.values(O.columns):[];y.useEffect(()=>{var A;const D=(A=j.find(R=>R.target_column))==null?void 0:A.target_column;D&&e.target_column!==D&&t({...e,target_column:D})},[j,e.target_column]);const E=y.useRef(null);y.useEffect(()=>{(async()=>{const A=e.model_type;if(!A)return;const R=A!==E.current;if(!(!R&&n.length>0)){i(!0);try{const T=await Ct.getHyperparameters(A);if(a(T),R||Object.keys(e.search_space||{}).length===0){const M=await Ct.getDefaultSearchSpace(A);t({...e,search_space:M||{}}),E.current=A}}catch(T){console.error("Failed to load model hyperparameters:",T)}finally{i(!1)}}})()},[e.model_type]);const C=async()=>{if(r)try{const D=tp(k,_);await Ct.runPipeline({...D,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),b("tuning"),w(!0)}catch(D){console.error("Failed to submit tuning job:",D),alert("Failed to submit tuning job.")}},L=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:D=>{E.current=null,t({...e,model_type:D.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),I.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(nb,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[I.length>0?o.jsxs("select",{value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),I.map(D=>o.jsx("option",{value:D.name,children:D.name},D.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:D=>t({...e,target_column:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),I.length>0&&o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),o.jsxs("select",{value:e.search_strategy??"random",onChange:D=>t({...e,search_strategy:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"random",children:"Random Search"}),o.jsx("option",{value:"grid",children:"Grid Search"}),o.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),o.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),o.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),o.jsxs("select",{value:e.metric,onChange:D=>t({...e,metric:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"accuracy",children:"Accuracy"}),o.jsx("option",{value:"f1",children:"F1 Score"}),o.jsx("option",{value:"roc_auc",children:"ROC AUC"}),o.jsx("option",{value:"mse",children:"MSE"}),o.jsx("option",{value:"r2",children:"R2 Score"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),o.jsx("input",{type:"number",value:e.n_trials,onChange:D=>t({...e,n_trials:Number(D.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>{h(!f)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qv,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Es,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:D=>t({...e,cv_enabled:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:D=>t({...e,cv_folds:Number(D.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:D=>t({...e,cv_type:D.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:D=>t({...e,cv_shuffle:D.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),P=o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(rb,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),s?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Kn,{className:"w-6 h-6 animate-spin text-purple-500"})}):o.jsxs("div",{className:"space-y-3",children:[n.map(D=>{var A;return o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:o.jsx(Jue,{def:D,value:((A=e.search_space)==null?void 0:A[D.name])||[],onChange:R=>{t({...e,search_space:{...e.search_space,[D.name]:R}})}})},`${e.model_type}-${D.name}`)}),n.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return o.jsxs("div",{className:"flex flex-col h-full",ref:x,children:[m&&o.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),o.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:o.jsx(rr,{className:"w-3 h-3"})})]}),!g&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("config")},children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("search_space")},children:"Search Space"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:g?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:L}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:P})]}):o.jsxs(o.Fragment,{children:[u==="config"&&L,u==="search_space"&&P]})}),o.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[o.jsxs("button",{onClick:C,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Fi,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),o.jsxs("button",{onClick:()=>{c(!0)},className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[o.jsx(kr,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),o.jsx(ede,{isOpen:l,onClose:()=>{c(!1)},modelType:e.model_type})]})},rde={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:qF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:tde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},nde=({config:e,onChange:t,nodeId:r})=>{var j;const n=ct(r||""),a=xe(k=>k.nodes),s=xe(k=>k.edges),i=xe(k=>k.executionResult),c=(k=>{var S;const _=new Set,N=[k];for(;N.length>0;){const O=N.shift();if(!O||_.has(O))continue;_.add(O);const I=a.find(C=>C.id===O);if(!I)continue;if(O!==k&&((S=I.data)!=null&&S.datasetId))return I.data.datasetId;const E=Rs(I,a,s);for(const C of E)N.push(C.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;y.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=tt(c||e.datasetId),h=d?Object.values(d.columns).map(k=>k.name):[],m=y.useRef(null),[p,x]=y.useState(!1);y.useEffect(()=>{if(!m.current)return;const k=new ResizeObserver(_=>{for(const N of _)x(N.contentRect.width>450)});return k.observe(m.current),()=>{k.disconnect()}},[]);const v=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},g=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),w=["select_from_model","rfe"].includes(e.method),b=()=>{const k=i==null?void 0:i.node_results[r||""];if(!k)return null;const _=k.metrics||{},N=_.dropped_columns,S=_.feature_scores,O=_.p_values,I=_.feature_importances,E=_.variances,C=_.ranking;return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&o.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),N&&N.length>0?o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:o.jsxs("span",{children:["Dropped Columns (",N.length,")"]})}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map(L=>{const P=S==null?void 0:S[L],D=O==null?void 0:O[L],A=I==null?void 0:I[L],R=E==null?void 0:E[L],T=C==null?void 0:C[L];return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:L,children:L}),o.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[P!==void 0&&o.jsxs("span",{children:["Score: ",P.toFixed(4)]}),D!==void 0&&o.jsxs("span",{children:["p-val: ",D.toExponential(2)]}),A!==void 0&&o.jsxs("span",{children:["Imp: ",A.toFixed(4)]}),R!==void 0&&o.jsxs("span",{children:["Var: ",R.toFixed(4)]}),T!==void 0&&o.jsxs("span",{children:["Rank: ",T]})]})]},L)})})]}):k.status==="success"&&o.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[o.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||I)&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||I||{}).sort(([,L],[,P])=>P-L).slice(0,5).map(([L,P])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"truncate max-w-[120px]",title:L,children:L}),o.jsx("span",{className:"font-mono text-[10px]",children:P.toFixed(4)})]},L))})]})]})};return o.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[o.jsxs("optgroup",{label:"Simple",children:[o.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),o.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),o.jsxs("optgroup",{label:"Univariate",children:[o.jsx("option",{value:"select_k_best",children:"Select K Best"}),o.jsx("option",{value:"select_percentile",children:"Select Percentile"}),o.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),o.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),o.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),o.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),o.jsxs("optgroup",{label:"Model Based",children:[o.jsx("option",{value:"select_from_model",children:"Select From Model"}),o.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?o.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",o.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[o.jsx("option",{value:"",children:"Select Target..."}),h.map(k=>o.jsx("option",{value:k,children:k},k))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(g||w)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto-detect"}),o.jsx("option",{value:"classification",children:"Classification"}),o.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&o.jsx(b,{})]}),o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[o.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[o.jsx("option",{value:"pearson",children:"Pearson"}),o.jsx("option",{value:"spearman",children:"Spearman"}),o.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),g&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[o.jsx("option",{value:"",children:"Auto (Default)"}),v().map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Mode"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[o.jsx("option",{value:"k_best",children:"K Best"}),o.jsx("option",{value:"percentile",children:"Percentile"}),o.jsx("option",{value:"fpr",children:"FPR"}),o.jsx("option",{value:"fdr",children:"FDR"}),o.jsx("option",{value:"fwe",children:"FWE"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),w&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto"}),o.jsx("option",{value:"RandomForest",children:"Random Forest"}),o.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),o.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Step"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[o.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),o.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&o.jsx(b,{})]})]})]})},ade={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:SP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:nde,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},sde=({config:e,onChange:t,nodeId:r})=>{var g;const n=ct(r||""),a=xe(w=>w.nodes),s=xe(w=>w.edges),l=(w=>{var k;const b=new Set,j=[w];for(;j.length>0;){const _=j.shift();if(!_||b.has(_))continue;b.add(_);const N=a.find(O=>O.id===_);if(!N)continue;if(_!==w&&((k=N.data)!=null&&k.datasetId))return N.data.datasetId;const S=Rs(N,a,s);for(const O of S)j.push(O.id)}})(r||""),c=(g=n.find(w=>w.target_column))==null?void 0:g.target_column;Or.useEffect(()=>{const w={};l&&e.datasetId!==l&&(w.datasetId=l),c&&e.target_column!==c&&(w.target_column=c),Object.keys(w).length>0&&t({...e,...w})},[l,c,e.datasetId,e.target_column,t]);const{data:u,isLoading:d}=tt(l||e.datasetId),f=u?Object.values(u.columns).map(w=>w.name):[],h=e.validation_size||0,m=1-e.test_size-h,p=Or.useRef(null),[x,v]=Or.useState(!1);return Or.useEffect(()=>{if(!p.current)return;const w=new ResizeObserver(b=>{for(const j of b)v(j.contentRect.width>450)});return w.observe(p.current),()=>{w.disconnect()}},[]),o.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${x?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${x?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:w=>t({...e,test_size:parseFloat(w.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:w=>t({...e,validation_size:parseFloat(w.target.value)})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(m*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),m<=0&&o.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:w=>t({...e,random_state:parseInt(w.target.value)})})]})]}),o.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:w=>t({...e,shuffle:w.target.checked})}),o.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:w=>t({...e,stratify:w.target.checked})}),o.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),o.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:w=>t({...e,target_column:w.target.value}),disabled:!e.stratify,children:[o.jsx("option",{value:"",children:"-- Select Target --"}),f.map(w=>o.jsx("option",{value:w,children:w},w))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},ide={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:OP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:sde,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},ode=({config:e,onChange:t,nodeId:r})=>{const n=xe(u=>u.nodes),a=xe(u=>u.edges),i=(u=>{var h;const d=new Set,f=[u];for(;f.length>0;){const m=f.shift();if(!m||d.has(m))continue;d.add(m);const p=n.find(v=>v.id===m);if(!p)continue;if(m!==u&&((h=p.data)!=null&&h.datasetId))return p.data.datasetId;const x=Rs(p,n,a);for(const v of x)f.push(v.id)}})(r||"");Or.useEffect(()=>{i&&e.datasetId!==i&&t({...e,datasetId:i})},[i,e.datasetId,t]);const{data:l}=tt(i||e.datasetId),c=l?Object.values(l.columns).map(u=>u.name):[];return o.jsx("div",{className:"p-4 space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>o.jsx("option",{value:u,children:u},u))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},lde={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:OP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:ode,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},cde=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=ct(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:s}=tt(a),i=xe(d=>d.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l==null?void 0:l.metrics;return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),o.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),o.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(kr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:c.DropMissingRows_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_total})]})]})]})]})},ude={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:CF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:cde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},dde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=ct(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(g=>g.name):[],c=xe(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,subset:m})},x=()=>{const g=e.subset.filter(w=>!m.includes(w));t({...e,subset:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:g=>t({...e,keep:g.target.value}),children:[o.jsx("option",{value:"first",children:"Keep First Occurrence"}),o.jsx("option",{value:"last",children:"Keep Last Occurrence"}),o.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>{h(g.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(g),onChange:w=>{const b=w.target.checked?[...e.subset,g]:e.subset.filter(j=>j!==g);t({...e,subset:b})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(kr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},fde={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:kF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:dde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},hde=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],mde=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=ct(r||"").find(b=>b.datasetId))==null?void 0:w.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(b=>b.name):[],c=xe(b=>b.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const b=new ResizeObserver(j=>{for(const k of j)m(k.contentRect.width>450)});return b.observe(f.current),()=>{b.disconnect()}},[]);const p=()=>{if(l.length===0)return;const b=l.find(j=>!e.column_types[j])||l[0];t({...e,column_types:{...e.column_types,[b]:"float"}})},x=b=>{const j={...e.column_types};Reflect.deleteProperty(j,b),t({...e,column_types:j})},v=(b,j)=>{if(b===j)return;const k=e.column_types[b],_={...e.column_types};Reflect.deleteProperty(_,b),_[j]=k,t({...e,column_types:_})},g=(b,j)=>{t({...e,column_types:{...e.column_types,[b]:j}})};return o.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),o.jsx("button",{onClick:p,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:o.jsx(Bi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([b,j])=>o.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[o.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:b,onChange:k=>{v(b,k.target.value)},children:l.map(k=>o.jsx("option",{value:k,disabled:k!==b&&!!e.column_types[k],children:k},k))}),o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>{g(b,k.target.value)},children:hde.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsx("button",{onClick:()=>{x(b)},className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:o.jsx(Ds,{className:"w-4 h-4"})})]},b)),Object.keys(e.column_types).length===0&&o.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(kr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),o.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},pde={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:EF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:mde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},gde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=ct(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(g=>g.name):[],c=xe(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,columns:m})},x=()=>{const g=e.columns.filter(w=>!m.includes(w));t({...e,columns:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:g=>t({...e,flag_suffix:g.target.value}),placeholder:"_was_missing"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>{h(g.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(g),onChange:w=>{const b=w.target.checked?[...e.columns,g]:e.columns.filter(j=>j!==g);t({...e,columns:b})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(kr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),o.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(g=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:g},g))})]})]})]})]})},yde={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:PF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:gde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},xde=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=ct(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:s,isLoading:i}=tt(a),[l,c]=y.useState(""),u=y.useRef(null),[d,f]=y.useState(!1),h=xe(_=>_.executionResult),m=r?h==null?void 0:h.node_results[r]:null,p=m==null?void 0:m.metrics,v=((h==null?void 0:h.recommendations)||[]).filter(_=>_.suggested_node_type==="encoding"||_.type.includes("encoding")||_.type.includes("cardinality"));y.useEffect(()=>{if(!u.current)return;const _=new ResizeObserver(N=>{for(const S of N)f(S.contentRect.width>400)});return _.observe(u.current),()=>{_.disconnect()}},[]);const g=s?Object.values(s.columns).filter(_=>["object","string","category","bool"].some(N=>_.dtype.toLowerCase().includes(N))).map(_=>_.name):[],w=g.filter(_=>_.toLowerCase().includes(l.toLowerCase())),b=()=>{t({...e,columns:[...g]})},j=()=>{t({...e,columns:[]})};return o.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[o.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),o.jsx("option",{value:"dummy",children:"Dummy Encoding"}),o.jsx("option",{value:"label",children:"Label Encoding"}),o.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),o.jsx("option",{value:"target",children:"Target Encoding"}),o.jsx("option",{value:"hash",children:"Hash Encoding"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),o.jsxs("div",{className:"pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:_=>t({...e,drop_original:_.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),o.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),o.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:_=>t({...e,drop_first:_.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),o.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:_=>t({...e,handle_unknown:_.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[o.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),o.jsx("option",{value:"error",children:"Raise Error"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:_=>t({...e,target_column:_.target.value}),children:[o.jsx("option",{value:"",children:"Select a target column..."}),s&&Object.values(s.columns).map(_=>o.jsxs("option",{value:_.name,children:[_.name," (",_.dtype,")"]},_.name))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:_=>t({...e,n_features:parseInt(_.target.value)})})]}),e.method==="ordinal"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:_=>t({...e,unknown_value:parseInt(_.target.value)}),title:"Integer to assign for unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:_=>t({...e,missing_code:parseInt(_.target.value)}),title:"Integer to assign for missing or unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:_=>{c(_.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),g.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[w.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(O=>O!==_);t({...e,columns:S})}}),_]},_)),w.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),v.length>0&&o.jsx(Wi,{recommendations:v}),p&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(kr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),o.jsx("span",{className:"font-medium",children:p.encoded_columns_count})]}),p.new_features_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary",children:p.new_features_count})]}),p.categories_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.categories_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]}),p.classes_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.classes_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]})]})]})]})},vde={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:MF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:xde,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},bde=({config:e,onChange:t,nodeId:r})=>{const n=xe(N=>N.nodes),a=xe(N=>N.edges),i=(N=>{var I;const S=new Set,O=[N];for(;O.length>0;){const E=O.shift();if(!E||S.has(E))continue;S.add(E);const C=n.find(P=>P.id===E);if(!C)continue;if(E!==N&&((I=C.data)!=null&&I.datasetId))return C.data.datasetId;const L=Rs(C,n,a);for(const P of L)O.push(P.id)}})(r||""),{data:l,isLoading:c}=tt(i),u=Ol(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=xe(N=>N.executionResult),f=r?d==null?void 0:d.node_results[r]:null,h=y.useRef(null),[m,p]=y.useState(!1),[x,v]=y.useState("");y.useEffect(()=>{if(!h.current)return;const N=new ResizeObserver(S=>{for(const O of S)p(O.contentRect.width>450)});return N.observe(h.current),()=>{N.disconnect()}},[]);const g=l?Object.values(l.columns).filter(N=>["int","float","number"].some(S=>N.dtype.toLowerCase().includes(S))).map(N=>N.name):[],w=g.filter(N=>N.toLowerCase().includes(x.toLowerCase())),b=()=>{t({...e,columns:w})},j=()=>{const N=e.columns.filter(S=>!w.includes(S));t({...e,columns:N})},k=()=>{if(!f||!f.metrics)return null;const N=f.metrics,S=N.rows_removed,O=N.rows_remaining,I=N.rows_total??(S??0)+(O??0),E=N.bounds,C=N.stats,L=N.contamination,P=N.warnings,D=N.values_clipped;if(S===void 0&&!E&&!C&&L===void 0&&!P&&D===void 0)return null;const A=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:A()})]}),P&&P.length>0&&o.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[o.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),o.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:P.map((R,T)=>o.jsx("li",{className:"truncate",title:R,children:R},T))})]}),e.method==="winsorize"?o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-mono font-medium text-blue-600",children:D??0}),o.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(S!==void 0||I!==void 0)&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),I>0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/I*100).toFixed(1),"%)"]})]}),O!==void 0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[O," remaining"]})]})]}),L!==void 0&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),o.jsxs("span",{className:"font-mono font-medium",children:[(L*100).toFixed(1),"%"]})]}),E&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(E).map(([R,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",T.lower.toFixed(2),", ",T.upper.toFixed(2),"]"]})]},R))})]}),C&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(C).map(([R,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",T.mean.toFixed(2),", =",T.std.toFixed(2)]})]},R))})]})]})},_=()=>{const N=[];if(f&&f.metrics){const O=f.metrics,I=O.rows_removed,C=O.rows_total??O[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(I!==void 0&&C!==void 0&&C>0){const L=I/C;L>.2?N.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):L===0&&e.method!=="winsorize"&&N.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&N.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,...N];return S.length===0?null:o.jsx("div",{className:"mt-4",children:o.jsx(Wi,{recommendations:S})})};return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!i&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),o.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),o.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),o.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:N=>t({...e,multiplier:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:N=>t({...e,lower_percentile:parseFloat(N.target.value)})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:N=>t({...e,upper_percentile:parseFloat(N.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),o.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:N=>t({...e,contamination:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${m?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:x,onChange:N=>{v(N.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:w.length>0?w.map(N=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const O=S.target.checked?[...e.columns,N]:e.columns.filter(I=>I!==N);t({...e,columns:O})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:N,children:N})]},N)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":g.length===0?"No numeric columns found":"No matches found"})})]}),!m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]})]})},wde={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:KF,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:bde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},p0={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},jde=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",kde=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=y.useState(""),s=y.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),i=()=>{const u=Array.from(new Set([...t,...s]));r(u)},l=()=>{const u=t.filter(d=>!s.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ui,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),o.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>{a(u.target.value)}})]})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[o.jsx("button",{onClick:i,className:"text-primary hover:underline font-medium",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:s.length===0?o.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):s.map(u=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>{c(u)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},Nde=({config:e,onChange:t,nodeId:r})=>{var j;const n=y.useMemo(()=>e||{transformations:[]},[e]),a=y.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[s,i]=y.useState([]),l=y.useRef(null),[c,u]=y.useState(!1);y.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(_=>{for(const N of _)u(N.contentRect.width>450)});return k.observe(l.current),()=>{k.disconnect()}},[]);const f=(j=ct(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:h}=tt(f),m=y.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(k=>["int","float","number"].some(_=>k.dtype.toLowerCase().includes(_))).map(k=>k.name):[],[h]),p=()=>{const k=a.length;i(_=>[..._,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},x=(k,_)=>{const N=[...a];N[k]={...N[k],..._},t({transformations:N})},v=k=>{const _=[...a];_.splice(k,1),t({transformations:_}),i(N=>N.filter(S=>S!==k).map(S=>S>k?S-1:S))},g=k=>{i(_=>_.includes(k)?_.filter(N=>N!==k):[..._,k])},w=(k,_)=>{const N=p0[_].methods[0].value;x(k,{method:N})},b=Ol(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return o.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),o.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[o.jsx(Bi,{size:12})," Add Rule"]})]}),o.jsxs("div",{className:"space-y-4",children:[a.map((k,_)=>{var I,E,C;const N=jde(k.method),S=s.includes(_),O=((I=p0[N].methods.find(L=>L.value===k.method))==null?void 0:I.label)||k.method;return o.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>{g(_)},children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?o.jsx($t,{size:16,className:"text-muted-foreground flex-shrink-0"}):o.jsx(Es,{size:16,className:"text-muted-foreground flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx("span",{className:"text-sm font-medium truncate",children:O}),o.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),o.jsx("button",{onClick:L=>{L.stopPropagation(),v(_)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:o.jsx(Ds,{size:14})})]}),S&&o.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),o.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:N,onChange:L=>{w(_,L.target.value)},onClick:L=>{L.stopPropagation()},children:[o.jsx("option",{value:"simple",children:"Simple Math"}),o.jsx("option",{value:"power",children:"Power Transform"})]}),o.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:L=>{x(_,{method:L.target.value})},onClick:L=>L.stopPropagation(),children:p0[N].methods.map(L=>o.jsx("option",{value:L.value,children:L.label},L.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&o.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:L=>{L.stopPropagation()},children:[o.jsx("input",{type:"checkbox",id:`std-${_}`,checked:((E=k.params)==null?void 0:E.standardize)!==!1,onChange:L=>{x(_,{params:{...k.params,standardize:L.target.checked}})}}),o.jsx("label",{htmlFor:`std-${_}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&o.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:L=>{L.stopPropagation()},children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),o.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((C=k.params)==null?void 0:C.clip_threshold)||700,onChange:L=>{x(_,{params:{...k.params,clip_threshold:parseFloat(L.target.value)}})}})]})]}),o.jsxs("div",{className:"space-y-1 min-w-0",onClick:L=>{L.stopPropagation()},children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),o.jsx(kde,{allColumns:m,selectedColumns:k.columns,onChange:L=>{x(_,{columns:L})}})]})]})]},_)}),a.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",o.jsx("br",{}),'Click "Add Rule" to start.']})]}),o.jsx(Wi,{recommendations:b||[],onApply:k=>{var O,I;const _=k,N=((O=_.suggested_params)==null?void 0:O.method)||((I=_.params)==null?void 0:I.method)||"log",S=_.target_columns||[];if(S.length>0){const E=a.length;i(C=>[...C,E]),t({transformations:[...a,{columns:S,method:N,params:{}}]})}}})]})},_de={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:AP,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:Nde,getDefaultConfig:()=>({transformations:[]})},Sde=({value:e,onChange:t})=>{const[r,n]=y.useState((e==null?void 0:e.join(", "))||""),a=y.useRef(e);y.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const s=()=>{const i=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,c)=>l-c);t(i)};return o.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:i=>{n(i.target.value)},onBlur:s})},Ede=({config:e,onChange:t,nodeId:r})=>{var g;const a=(g=ct(r||"").find(w=>w.datasetId))==null?void 0:g.datasetId,{data:s,isLoading:i}=tt(a),l=y.useRef(null),[c,u]=y.useState(!1),[d,f]=y.useState("");y.useEffect(()=>{if(!l.current)return;const w=new ResizeObserver(b=>{for(const j of b)u(j.contentRect.width>450)});return w.observe(l.current),()=>{w.disconnect()}},[]);const h=s?Object.values(s.columns).filter(w=>["int","float","number"].some(b=>w.dtype.toLowerCase().includes(b))).map(w=>w.name):[],m=h.filter(w=>w.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:m})},x=()=>{const w=e.columns.filter(b=>!m.includes(b));t({...e,columns:w})},v=w=>{e.columns.includes(w)?t({...e,columns:e.columns.filter(b=>b!==w)}):t({...e,columns:[...e.columns,w]})};return o.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:w=>t({...e,strategy:w.target.value}),children:[o.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),o.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),o.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),o.jsx("option",{value:"custom",children:"Custom Edges"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),o.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:w=>t({...e,n_bins:parseInt(w.target.value)||5})})]}),e.strategy==="custom"&&o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(w=>{var b;return o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-medium",children:w}),o.jsx(Sde,{value:(b=e.custom_bins)==null?void 0:b[w],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[w]:j}})})]},w)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:w=>t({...e,label_format:w.target.value}),children:[o.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),o.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),o.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),o.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:w=>t({...e,precision:parseInt(w.target.value)||0})}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:w=>t({...e,drop_original:w.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),o.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:w=>t({...e,output_suffix:w.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:w=>{f(w.target.value)}})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[o.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:x,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:i?o.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):m.length===0?o.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:h.length===0?"No numeric columns found.":`No columns match "${d}"`}):o.jsx("div",{className:"space-y-1",children:m.map(w=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(w),onChange:()=>{v(w)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:w,children:w})]},w))})})]})]})]})},Cde={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:Qv,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:Ede,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},Pde=({nodeId:e})=>{const t=xe(a=>a.executionResult),r=e?t==null?void 0:t.node_results[e]:null;if(!r)return null;const n=a=>a?o.jsx("div",{className:"space-y-1",children:Object.entries(a).map(([s,i])=>typeof i=="object"&&i!==null?o.jsxs("div",{className:"mt-1",children:[o.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[s.replace(/_/g," "),":"]}),o.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(i)})]},s):o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[s.replace(/_/g," "),":"]}),o.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(i)})]},s))}):null;return o.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),o.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&o.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&o.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&o.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},Ode=({config:e,onChange:t,nodeId:r})=>{var x,v;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),c=ct(r||""),u=(x=c.find(g=>g.datasetId))==null?void 0:x.datasetId,{data:d}=tt(u),f=(v=c.find(g=>{var w;return(w=g.config)==null?void 0:w.target_column}))==null?void 0:v.config.target_column;y.useEffect(()=>{if(!e.target_column){if(f)t({...e,target_column:f});else if(d!=null&&d.columns){const g=Object.values(d.columns).find(w=>w.name.toLowerCase()==="target"||w.name.toLowerCase()==="class"||w.column_type==="target");g&&t({...e,target_column:g.name})}}},[d,f,e.target_column]),y.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(w=>{for(const b of w)s(b.contentRect.width>400)});return g.observe(n.current),()=>{g.disconnect()}},[]);const h=Ol(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),m=g=>{g.suggested_params&&t({...e,...g.suggested_params})},p=(g,w)=>{const b={...e,[g]:w};g==="type"&&(w==="oversampling"?b.method="smote":b.method="random_under_sampling"),t(b)};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:g=>{p("type",g.target.value)},children:[o.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),o.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),o.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:g=>{p("method",g.target.value)},children:e.type==="oversampling"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"smote",children:"SMOTE"}),o.jsx("option",{value:"adasyn",children:"ADASYN"}),o.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),o.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),o.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),o.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),o.jsx("option",{value:"nearmiss",children:"NearMiss"}),o.jsx("option",{value:"tomek_links",children:"Tomek Links"}),o.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:g=>{p("target_column",g.target.value)},list:"target-column-suggestions"}),(d==null?void 0:d.columns)&&o.jsx("datalist",{id:"target-column-suggestions",children:Object.values(d.columns).map(g=>o.jsx("option",{value:g.name},g.name))})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Auto-detected from upstream node.":"The column containing the class labels."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:g=>{p("sampling_strategy",g.target.value)},children:[o.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),o.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),o.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),o.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),o.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:g=>{p("random_state",parseInt(g.target.value))}})]})]}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&o.jsxs(o.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:g=>{p("k_neighbors",parseInt(g.target.value))}})]}),["borderline_smote","svm_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:g=>{p("m_neighbors",parseInt(g.target.value))}})]}),e.method==="borderline_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:g=>{p("kind",g.target.value)},children:[o.jsx("option",{value:"borderline-1",children:"Borderline-1"}),o.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:g=>{p("out_step",parseFloat(g.target.value))}})]}),e.method==="kmeans_smote"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:g=>{p("cluster_balance_threshold",parseFloat(g.target.value))}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:g=>{p("density_exponent",g.target.value)}})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:g=>{p("replacement",g.target.checked)}})]}),e.type==="undersampling"&&e.method==="nearmiss"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:g=>{p("version",parseInt(g.target.value))},children:[o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:g=>{p("n_neighbors",parseInt(g.target.value))}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:g=>{p("kind_sel",g.target.value)},children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"mode",children:"Mode"})]})]})]}),h.length>0&&o.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>{l(!i)},children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",h.length,")"]}),i?o.jsx(pl,{size:16}):o.jsx($t,{size:16})]}),i&&o.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:o.jsx(Wi,{recommendations:h,onApply:m})})]}),r&&o.jsx(Pde,{nodeId:r})]})]})})},Ade=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},Tde={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:kr,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:Ode,validate:Ade,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},Mde=[{value:"arithmetic",label:"Arithmetic",icon:Zv},{value:"datetime_extract",label:"Date Extraction",icon:Sy},{value:"ratio",label:"Ratio",icon:UF},{value:"similarity",label:"Similarity",icon:AF},{value:"polynomial",label:"Polynomial",icon:e6},{value:"group_agg",label:"Group Agg",icon:AP}],Ide=["add","subtract","multiply","divide"],Dde=["year","month","day","weekday","hour","quarter","is_weekend"],Rde=["ratio","token_sort_ratio","token_set_ratio"],Lde=["mean","sum","count","min","max","std","median"],Rn=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[s,i]=y.useState(""),l=e.filter(u=>u.toLowerCase().includes(s.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:s,onChange:u=>{i(u.target.value)}})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(u=>{const d=t.includes(u);return o.jsxs("div",{onClick:()=>{c(u)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&o.jsx(Wc,{size:8,strokeWidth:4})}),o.jsx("span",{className:"truncate",children:u})]},u)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},$de=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=ct(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:s}=tt(a),i=xe(N=>N.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l==null?void 0:l.metrics,[u,d]=y.useState(!1),f=s?Object.values(s.columns).map(N=>N.name):[],h=s?Object.values(s.columns).filter(N=>["int","float","number"].some(S=>N.dtype.toLowerCase().includes(S))).map(N=>N.name):[],m=s?Object.values(s.columns).filter(N=>["date","time"].some(S=>N.dtype.toLowerCase().includes(S))).map(N=>N.name):[],p=s?Object.values(s.columns).filter(N=>["string","object","text"].some(S=>N.dtype.toLowerCase().includes(S))).map(N=>N.name):[],x=Ol(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),v=N=>{console.log("Applying recommendation:",N)},g=N=>{const S={operation_type:N,method:N==="arithmetic"?"add":N==="similarity"?"ratio":N==="group_agg"?"mean":N==="polynomial"?"poly":"year",input_columns:[],output_column:"",datetime_features:N==="datetime_extract"?["year"]:void 0,degree:N==="polynomial"?2:void 0,interaction_only:N==="polynomial"?!1:void 0,isExpanded:!0};t({operations:[...e.operations||[],S]})},w=(N,S)=>{const O=[...e.operations||[]];O[N]={...O[N],...S},t({operations:O})},b=(N,S)=>{S.stopPropagation();const O=[...e.operations||[]];O.splice(N,1),t({operations:O})},j=N=>{const S=[...e.operations||[]];S[N]={...S[N],isExpanded:!S[N].isExpanded},t({operations:S})},k=(N,S)=>`${N.operation_type}_${S}`;return o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),Mde.map(N=>o.jsxs("button",{onClick:()=>{g(N.value)},className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:N.label,children:[o.jsx(N.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),o.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:N.label.replace(" ",`
`)})]},N.value))]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[x.length>0&&o.jsxs("div",{className:"border-b bg-muted/10",children:[o.jsxs("button",{onClick:()=>{d(!u)},className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(PP,{size:14,className:x.length>0?"text-yellow-500":""}),o.jsxs("span",{children:["Recommendations (",x.length,")"]})]}),u?o.jsx($t,{size:14}):o.jsx(Es,{size:14})]}),u&&o.jsx("div",{className:"p-4 bg-muted/5 border-t",children:o.jsx(Wi,{recommendations:x,onApply:v,className:"mb-0"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((N,S)=>{var O,I,E;return o.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{j(S)},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[N.isExpanded?o.jsx($t,{size:14,className:"text-muted-foreground"}):o.jsx(Es,{size:14,className:"text-muted-foreground"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:N.operation_type==="datetime_extract"?"Date":N.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(N.operation_type)&&o.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:N.method,onClick:C=>{C.stopPropagation()},onChange:C=>{w(S,{method:C.target.value})},children:(N.operation_type==="arithmetic"?Ide:N.operation_type==="similarity"?Rde:N.operation_type==="group_agg"?Lde:[]).map(C=>o.jsx("option",{value:C,children:C.replace("_"," ")},C))})]}),o.jsx("button",{onClick:C=>{b(S,C)},className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:o.jsx(Ds,{size:14})})]}),N.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4",children:[N.operation_type==="arithmetic"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:N.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),o.jsx(Rn,{label:"Column A (Left Operand)",columns:h,selected:N.input_columns.slice(0,1),onChange:C=>{w(S,{input_columns:C})},single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:N.method==="add"?"+":N.method==="subtract"?"-":N.method==="multiply"?"":""}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(Rn,{label:"Column B (Right Operand)",columns:h,selected:((O=N.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:C=>{w(S,{secondary_columns:C})},single:!0})]}),N.operation_type==="ratio"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",o.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),o.jsx(Rn,{label:"Numerator (Sum)",columns:h,selected:N.input_columns,onChange:C=>w(S,{input_columns:C})}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),o.jsx(Rn,{label:"Denominator (Sum)",columns:h,selected:N.secondary_columns||[],onChange:C=>w(S,{secondary_columns:C})})]}),N.operation_type==="similarity"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[o.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),o.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),o.jsx(Rn,{label:"String A",columns:p,selected:N.input_columns.slice(0,1),onChange:C=>w(S,{input_columns:C}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(Rn,{label:"String B",columns:p,selected:((I=N.secondary_columns)==null?void 0:I.slice(0,1))||[],onChange:C=>w(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="polynomial"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Generates polynomial and interaction features (e.g., A, AB)."}),o.jsx(Rn,{label:"Input Columns",columns:h,selected:N.input_columns,onChange:C=>w(S,{input_columns:C})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Degree"}),o.jsx("input",{type:"number",min:"2",max:"5",className:"w-full text-xs border rounded p-1.5",value:N.degree||2,onChange:C=>{w(S,{degree:parseInt(C.target.value)})}})]}),o.jsx("div",{className:"space-y-1 pt-5",children:o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:N.interaction_only||!1,onChange:C=>{w(S,{interaction_only:C.target.checked})}}),"Interaction Only"]})})]})]}),N.operation_type==="group_agg"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),o.jsx(Rn,{label:"Group By (Categorical)",columns:p.length>0?p:f,selected:N.input_columns.slice(0,1),onChange:C=>w(S,{input_columns:C}),single:!0}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),o.jsx(Rn,{label:"Target (Numeric)",columns:h,selected:((E=N.secondary_columns)==null?void 0:E.slice(0,1))||[],onChange:C=>w(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="datetime_extract"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(Rn,{label:"Date Column",columns:m.length>0?m:f,selected:N.input_columns.slice(0,1),onChange:C=>w(S,{input_columns:C}),single:!0}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Dde.map(C=>o.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(N.datetime_features||[]).includes(C),onChange:L=>{const P=N.datetime_features||[],D=L.target.checked?[...P,C]:P.filter(A=>A!==C);w(S,{datetime_features:D})}}),o.jsx("span",{className:"capitalize",children:C.replace("_"," ")})]},C))})]})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),o.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:k(N,S),value:N.output_column||"",onChange:C=>{w(S,{output_column:C.target.value})}})]})]})]},S)}),(!e.operations||e.operations.length===0)&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[o.jsx(Zv,{size:32,className:"mb-2 opacity-20"}),o.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),o.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&o.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[o.jsx(kr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsx("div",{className:"space-y-2 text-xs",children:c.generated_features&&c.generated_features.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:c.generated_features.length})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.generated_features.map(N=>o.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:N},N))})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(Cu,{size:12}),o.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},zde={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:Zv,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n;if(!e.operations||e.operations.length===0)return{isValid:!1,message:"Add at least one operation."};for(const a of e.operations){if(a.operation_type==="arithmetic"&&(a.input_columns.length===0||!((t=a.secondary_columns)!=null&&t.length)&&!((r=a.constants)!=null&&r.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(a.operation_type==="datetime_extract"&&a.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(a.operation_type==="polynomial"&&a.input_columns.length===0)return{isValid:!1,message:"Select input columns for polynomial features."};if(a.operation_type==="group_agg"&&(a.input_columns.length===0||!((n=a.secondary_columns)!=null&&n.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:$de,getDefaultConfig:()=>({operations:[]})},Fde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Bde=({operation:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let s="both";a==="case"&&(s="lower"),a==="remove_special"&&(s="keep_alphanumeric"),a==="regex"&&(s="custom"),t({...e,op:a,mode:s})},children:[o.jsx("option",{value:"trim",children:"Trim Whitespace"}),o.jsx("option",{value:"case",children:"Change Case"}),o.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),o.jsx("option",{value:"regex",children:"Regex Replace"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ds,{size:14})})]}),o.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"both",children:"Both Ends"}),o.jsx("option",{value:"leading",children:"Leading Only"}),o.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"lower",children:"Lower Case"}),o.jsx("option",{value:"upper",children:"Upper Case"}),o.jsx("option",{value:"title",children:"Title Case"}),o.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),o.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),o.jsx("option",{value:"letters_only",children:"Letters Only"}),o.jsx("option",{value:"digits_only",children:"Digits Only"})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Pattern"}),o.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),o.jsx("option",{value:"extract_digits",children:"Extract Digits"}),o.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),o.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:o.jsx(JF,{size:14})})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),Ude=({config:e,onChange:t,nodeId:r})=>{var x;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(x=ct(r||"").find(v=>v.datasetId))==null?void 0:x.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(v=>v.dtype==="object"||v.dtype==="string"||v.dtype==="category").map(v=>v.name):[];y.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const w of g)s(w.contentRect.width>400)});return v.observe(n.current),()=>{v.disconnect()}},[]);const h=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},m=(v,g)=>{const w=[...e.operations];w[v]=g,t({...e,operations:w})},p=v=>{const g=e.operations.filter((w,b)=>b!==v);t({...e,operations:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Fde,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Cu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Bi,{size:14}),"Add Step"]})]}),o.jsx("div",{className:"space-y-3",children:e.operations.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((v,g)=>o.jsx(Bde,{operation:v,onChange:w=>{m(g,w)},onDelete:()=>{p(g)}},g))})]})]})})},Hde={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:NF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Ude,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},Vde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},CS=({value:e,type:t,onChange:r,placeholder:n})=>{const a=i=>{let l=e;i==="number"&&(l=Number(e)||0),i==="boolean"&&(l=!!e),i==="string"&&(l=String(e)),i==="null"&&(l=null),i==="nan"&&(l="NaN"),r(l,i)},s=i=>{let l=i.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:i=>{a(i.target.value)},children:[o.jsx("option",{value:"string",children:"Text"}),o.jsx("option",{value:"number",children:"Num"}),o.jsx("option",{value:"boolean",children:"Bool"}),o.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="number"&&o.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="boolean"&&o.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:i=>r(i.target.value==="true","boolean"),children:[o.jsx("option",{value:"true",children:"True"}),o.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&o.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},Wde=({item:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:o.jsx(Ds,{size:14})})]}),o.jsx(CS,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-gray-400",children:o.jsx(xF,{size:14,className:"rotate-90"})}),o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),o.jsx(CS,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),Kde=({config:e,onChange:t,nodeId:r})=>{var x;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(x=ct(r||"").find(v=>v.datasetId))==null?void 0:x.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).map(v=>v.name):[];y.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const w of g)s(w.contentRect.width>400)});return v.observe(n.current),()=>{v.disconnect()}},[]);const h=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},m=(v,g)=>{const w=[...e.replacements];w[v]=g,t({...e,replacements:w})},p=v=>{const g=e.replacements.filter((w,b)=>b!==v);t({...e,replacements:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Vde,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Cu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Value Replacement"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:'Replace specific values with new ones. Useful for fixing typos, recoding categories (e.g., "Yes" to 1), or handling specific placeholders.'})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Value Mappings"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Bi,{size:14}),"Add Mapping"]})]}),o.jsx("div",{className:"space-y-3",children:e.replacements.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No replacements defined."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first replacement"})]}):e.replacements.map((v,g)=>o.jsx(Wde,{item:v,onChange:w=>{m(g,w)},onDelete:()=>{p(g)}},g))})]})]})})},qde={type:"ValueReplacement",label:"Value Replacement",category:"Preprocessing",description:"Replace specific values in columns.",icon:HF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Processed Data",type:"dataset"}],settings:Kde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.replacements.length===0?{isValid:!1,message:"Add at least one replacement."}:{isValid:!0},getDefaultConfig:()=>({columns:[],replacements:[{old:"",new:"",oldType:"string",newType:"string"}]})},Yde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Gde=({pairs:e,onChange:t})=>{const[r,n]=y.useState(""),[a,s]=y.useState(""),i=()=>{r&&a&&(t({...e,[r]:a}),n(""),s(""))},l=c=>{const u={...e};Reflect.deleteProperty(u,c),t(u)};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>{n(c.target.value)}})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>{s(c.target.value)}})]}),o.jsx("button",{onClick:i,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Bi,{size:16})})]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?o.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>o.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),o.jsx(NP,{size:12,className:"text-gray-400 shrink-0"}),o.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),o.jsx("button",{onClick:()=>{l(c)},className:"text-gray-400 hover:text-red-500",children:o.jsx(Ds,{size:14})})]},c))})]})},Xde=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(h=ct(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(m=>m.dtype==="object"||m.dtype==="string"||m.dtype==="category").map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return m.observe(n.current),()=>{m.disconnect()}},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Yde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Cu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Mapping"}),o.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),o.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),o.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),o.jsx(Gde,{pairs:e.custom_pairs,onChange:m=>t({...e,custom_pairs:m})})]})]})]})})},Qde={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:NP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:Xde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},Zde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Jde=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(h=ct(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(m=>["int","float","number"].some(p=>{var x;return(x=m.dtype)==null?void 0:x.toLowerCase().includes(p)})).map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return m.observe(n.current),()=>{m.disconnect()}},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Zde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Cu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),o.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),o.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),o.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),o.jsx("option",{value:"custom_range",children:"Custom Range"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:m=>t({...e,min_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:m=>t({...e,max_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},efe={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:nb,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Jde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},tfe=()=>{Se.register(Lue),Se.register(Fue),Se.register(Uue),Se.register(Vue),Se.register(Kue),Se.register(wde),Se.register(_de),Se.register(Cde),Se.register(Tde),Se.register(zde),Se.register(Hde),Se.register(qde),Se.register(Qde),Se.register(efe),Se.register(vde),Se.register(ade),Se.register(ide),Se.register(lde),Se.register(ude),Se.register(fde),Se.register(pde),Se.register(yde),Se.register(Que),Se.register(rde),console.log("[Registry] Initialization complete. Total nodes:",Se.getAll().length)};tfe();const rfe=new S$,PS=document.getElementById("root");PS&&g0.createRoot(PS).render(o.jsx(Or.StrictMode,{children:o.jsx(C$,{client:rfe,children:o.jsx(Mue,{})})}));
