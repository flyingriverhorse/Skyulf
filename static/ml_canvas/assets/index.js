var z5=Object.defineProperty;var F1=e=>{throw TypeError(e)};var F5=(e,t,r)=>t in e?z5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rl=(e,t,r)=>F5(e,typeof t!="symbol"?t+"":t,r),cg=(e,t,r)=>t.has(e)||F1("Cannot "+r);var z=(e,t,r)=>(cg(e,t,"read from private field"),r?r.call(e):t.get(e)),he=(e,t,r)=>t.has(e)?F1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(cg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(cg(e,t,"access private method"),r);var bd=(e,t,r,n)=>({set _(a){se(e,t,a,r)},get _(){return z(e,t,n)}});function B5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function sa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q_={exports:{}},kh={},Z_={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),U5=Symbol.for("react.portal"),H5=Symbol.for("react.fragment"),V5=Symbol.for("react.strict_mode"),W5=Symbol.for("react.profiler"),K5=Symbol.for("react.provider"),q5=Symbol.for("react.context"),Y5=Symbol.for("react.forward_ref"),G5=Symbol.for("react.suspense"),X5=Symbol.for("react.memo"),Q5=Symbol.for("react.lazy"),B1=Symbol.iterator;function Z5(e){return e===null||typeof e!="object"?null:(e=B1&&e[B1]||e["@@iterator"],typeof e=="function"?e:null)}var J_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eE=Object.assign,tE={};function gl(e,t,r){this.props=e,this.context=t,this.refs=tE,this.updater=r||J_}gl.prototype.isReactComponent={};gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rE(){}rE.prototype=gl.prototype;function rv(e,t,r){this.props=e,this.context=t,this.refs=tE,this.updater=r||J_}var nv=rv.prototype=new rE;nv.constructor=rv;eE(nv,gl.prototype);nv.isPureReactComponent=!0;var U1=Array.isArray,nE=Object.prototype.hasOwnProperty,av={current:null},aE={key:!0,ref:!0,__self:!0,__source:!0};function sE(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)nE.call(t,n)&&!aE.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ju,type:e,key:s,ref:i,props:a,_owner:av.current}}function J5(e,t){return{$$typeof:ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sv(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju}function eR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var H1=/\/+/g;function ug(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eR(""+e.key):t.toString(36)}function yf(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ju:case U5:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+ug(i,0):n,U1(a)?(r="",e!=null&&(r=e.replace(H1,"$&/")+"/"),yf(a,t,r,"",function(u){return u})):a!=null&&(sv(a)&&(a=J5(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(H1,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",U1(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+ug(s,l);i+=yf(s,t,r,c,a)}else if(c=Z5(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+ug(s,l++),i+=yf(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function wd(e,t,r){if(e==null)return e;var n=[],a=0;return yf(e,n,"","",function(s){return t.call(r,s,a++)}),n}function tR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},xf={transition:null},rR={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:xf,ReactCurrentOwner:av};function iE(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:wd,forEach:function(e,t,r){wd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wd(e,function(){t++}),t},toArray:function(e){return wd(e,function(t){return t})||[]},only:function(e){if(!sv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=gl;ve.Fragment=H5;ve.Profiler=W5;ve.PureComponent=rv;ve.StrictMode=V5;ve.Suspense=G5;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rR;ve.act=iE;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eE({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=av.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)nE.call(t,c)&&!aE.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ju,type:e.type,key:a,ref:s,props:n,_owner:i}};ve.createContext=function(e){return e={$$typeof:q5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K5,_context:e},e.Consumer=e};ve.createElement=sE;ve.createFactory=function(e){var t=sE.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:Y5,render:e}};ve.isValidElement=sv;ve.lazy=function(e){return{$$typeof:Q5,_payload:{_status:-1,_result:e},_init:tR}};ve.memo=function(e,t){return{$$typeof:X5,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=xf.transition;xf.transition={};try{e()}finally{xf.transition=t}};ve.unstable_act=iE;ve.useCallback=function(e,t){return or.current.useCallback(e,t)};ve.useContext=function(e){return or.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return or.current.useDeferredValue(e)};ve.useEffect=function(e,t){return or.current.useEffect(e,t)};ve.useId=function(){return or.current.useId()};ve.useImperativeHandle=function(e,t,r){return or.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return or.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return or.current.useReducer(e,t,r)};ve.useRef=function(e){return or.current.useRef(e)};ve.useState=function(e){return or.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return or.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return or.current.useTransition()};ve.version="18.3.1";Z_.exports=ve;var g=Z_.exports;const Zr=sa(g),nR=B5({__proto__:null,default:Zr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=g,sR=Symbol.for("react.element"),iR=Symbol.for("react.fragment"),oR=Object.prototype.hasOwnProperty,lR=aR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cR={key:!0,ref:!0,__self:!0,__source:!0};function oE(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)oR.call(t,n)&&!cR.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:sR,type:e,key:s,ref:i,props:a,_owner:lR.current}}kh.Fragment=iR;kh.jsx=oE;kh.jsxs=oE;Q_.exports=kh;var o=Q_.exports,N0={},lE={exports:{}},Br={},cE={exports:{}},uE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var $=T.length;T.push(P);e:for(;0<$;){var F=$-1>>>1,H=T[F];if(0<a(H,P))T[F]=P,T[$]=H,$=F;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var P=T[0],$=T.pop();if($!==P){T[0]=$;e:for(var F=0,H=T.length,B=H>>>1;F<B;){var Y=2*(F+1)-1,X=T[Y],Q=Y+1,G=T[Q];if(0>a(X,$))Q<H&&0>a(G,X)?(T[F]=G,T[Q]=$,F=Q):(T[F]=X,T[Y]=$,F=Y);else if(Q<H&&0>a(G,$))T[F]=G,T[Q]=$,F=Q;else break e}}return P}function a(T,P){var $=T.sortIndex-P.sortIndex;return $!==0?$:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=T)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(T){if(x=!1,b(T),!p)if(r(c)!==null)p=!0,D(k);else{var P=r(u);P!==null&&R(j,P.startTime-T)}}function k(T,P){p=!1,x&&(x=!1,y(S),S=-1),h=!0;var $=m;try{for(b(P),f=r(c);f!==null&&(!(f.expirationTime>P)||T&&!C());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var H=F(f.expirationTime<=P);P=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(c)&&n(c),b(P)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var Y=r(u);Y!==null&&R(j,Y.startTime-P),B=!1}return B}finally{f=null,m=$,h=!1}}var N=!1,_=null,S=-1,E=5,A=-1;function C(){return!(e.unstable_now()-A<E)}function O(){if(_!==null){var T=e.unstable_now();A=T;var P=!0;try{P=_(!0,T)}finally{P?I():(N=!1,_=null)}}else N=!1}var I;if(typeof w=="function")I=function(){w(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=O,I=function(){L.postMessage(null)}}else I=function(){v(O,0)};function D(T){_=T,N||(N=!0,I())}function R(T,P){S=v(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,D(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var $=m;m=P;try{return T()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=m;m=T;try{return P()}finally{m=$}},e.unstable_scheduleCallback=function(T,P,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,T={id:d++,callback:P,priorityLevel:T,startTime:$,expirationTime:H,sortIndex:-1},$>F?(T.sortIndex=$,t(u,T),r(c)===null&&T===r(u)&&(x?(y(S),S=-1):x=!0,R(j,$-F))):(T.sortIndex=H,t(c,T),p||h||(p=!0,D(k))),T},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(T){var P=m;return function(){var $=m;m=P;try{return T.apply(this,arguments)}finally{m=$}}}})(uE);cE.exports=uE;var uR=cE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=g,Rr=uR;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dE=new Set,Pc={};function Vi(e,t){Uo(e,t),Uo(e+"Capture",t)}function Uo(e,t){for(Pc[e]=t,e=0;e<t.length;e++)dE.add(t[e])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=Object.prototype.hasOwnProperty,fR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V1={},W1={};function mR(e){return S0.call(W1,e)?!0:S0.call(V1,e)?!1:fR.test(e)?W1[e]=!0:(V1[e]=!0,!1)}function hR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pR(e,t,r,n){if(t===null||typeof t>"u"||hR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var iv=/[\-:]([a-z])/g;function ov(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iv,ov);Vt[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iv,ov);Vt[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iv,ov);Vt[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function lv(e,t,r,n){var a=Vt.hasOwnProperty(t)?Vt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pR(t,r,a,n)&&(r=null),n||a===null?mR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ha=dR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),ao=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),C0=Symbol.for("react.suspense_list"),dv=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),hE=Symbol.for("react.offscreen"),K1=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=K1&&e[K1]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,dg;function sc(e){if(dg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dg=t&&t[1]||""}return`
`+dg+e}var fg=!1;function mg(e,t){if(!e||fg)return"";fg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{fg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sc(e):""}function gR(e){switch(e.tag){case 5:return sc(e.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return e=mg(e.type,!1),e;case 11:return e=mg(e.type.render,!1),e;case 1:return e=mg(e.type,!0),e;default:return""}}function P0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case so:return"Fragment";case ao:return"Portal";case _0:return"Profiler";case cv:return"StrictMode";case E0:return"Suspense";case C0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mE:return(e.displayName||"Context")+".Consumer";case fE:return(e._context.displayName||"Context")+".Provider";case uv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dv:return t=e.displayName||null,t!==null?t:P0(e.type)||"Memo";case rs:t=e._payload,e=e._init;try{return P0(e(t))}catch{}}return null}function yR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P0(t);case 8:return t===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xR(e){var t=pE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kd(e){e._valueTracker||(e._valueTracker=xR(e))}function gE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=pE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function O0(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function q1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ms(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yE(e,t){t=t.checked,t!=null&&lv(e,"checked",t,!1)}function A0(e,t){yE(e,t);var r=Ms(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?M0(e,t.type,r):t.hasOwnProperty("defaultValue")&&M0(e,t.type,Ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Y1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function M0(e,t,r){(t!=="number"||Wf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ic=Array.isArray;function wo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ms(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function T0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(ic(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ms(r)}}function xE(e,t){var r=Ms(t.value),n=Ms(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function X1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nd,bE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nd=Nd||document.createElement("div"),Nd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vR=["Webkit","ms","Moz","O"];Object.keys(yc).forEach(function(e){vR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yc[t]=yc[e]})});function wE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yc.hasOwnProperty(e)&&yc[e]?(""+t).trim():t+"px"}function jE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=wE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var bR=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D0(e,t){if(t){if(bR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function R0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L0=null;function fv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $0=null,jo=null,ko=null;function Q1(e){if(e=Su(e)){if(typeof $0!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Ch(t),$0(e.stateNode,e.type,t))}}function kE(e){jo?ko?ko.push(e):ko=[e]:jo=e}function NE(){if(jo){var e=jo,t=ko;if(ko=jo=null,Q1(e),t)for(e=0;e<t.length;e++)Q1(t[e])}}function SE(e,t){return e(t)}function _E(){}var hg=!1;function EE(e,t,r){if(hg)return e(t,r);hg=!0;try{return SE(e,t,r)}finally{hg=!1,(jo!==null||ko!==null)&&(_E(),NE())}}function Ac(e,t){var r=e.stateNode;if(r===null)return null;var n=Ch(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var z0=!1;if(Oa)try{var $l={};Object.defineProperty($l,"passive",{get:function(){z0=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{z0=!1}function wR(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xc=!1,Kf=null,qf=!1,F0=null,jR={onError:function(e){xc=!0,Kf=e}};function kR(e,t,r,n,a,s,i,l,c){xc=!1,Kf=null,wR.apply(jR,arguments)}function NR(e,t,r,n,a,s,i,l,c){if(kR.apply(this,arguments),xc){if(xc){var u=Kf;xc=!1,Kf=null}else throw Error(J(198));qf||(qf=!0,F0=u)}}function Wi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function CE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z1(e){if(Wi(e)!==e)throw Error(J(188))}function SR(e){var t=e.alternate;if(!t){if(t=Wi(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Z1(a),e;if(s===n)return Z1(a),t;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function PE(e){return e=SR(e),e!==null?OE(e):null}function OE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OE(e);if(t!==null)return t;e=e.sibling}return null}var AE=Rr.unstable_scheduleCallback,J1=Rr.unstable_cancelCallback,_R=Rr.unstable_shouldYield,ER=Rr.unstable_requestPaint,ot=Rr.unstable_now,CR=Rr.unstable_getCurrentPriorityLevel,mv=Rr.unstable_ImmediatePriority,ME=Rr.unstable_UserBlockingPriority,Yf=Rr.unstable_NormalPriority,PR=Rr.unstable_LowPriority,TE=Rr.unstable_IdlePriority,Nh=null,qn=null;function OR(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Nh,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:TR,AR=Math.log,MR=Math.LN2;function TR(e){return e>>>=0,e===0?32:31-(AR(e)/MR|0)|0}var Sd=64,_d=4194304;function oc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=oc(l):(s&=i,s!==0&&(n=oc(s)))}else i=r&~a,i!==0?n=oc(i):s!==0&&(n=oc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_n(t),a=1<<r,n|=e[r],t&=~a;return n}function IR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-_n(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=IR(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function B0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function IE(){var e=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),e}function pg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ku(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=r}function RR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-_n(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function hv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_n(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Me=0;function DE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var RE,pv,LE,$E,zE,U0=!1,Ed=[],ws=null,js=null,ks=null,Mc=new Map,Tc=new Map,is=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ej(e,t){switch(e){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function zl(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Su(t),t!==null&&pv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $R(e,t,r,n,a){switch(t){case"focusin":return ws=zl(ws,e,t,r,n,a),!0;case"dragenter":return js=zl(js,e,t,r,n,a),!0;case"mouseover":return ks=zl(ks,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Mc.set(s,zl(Mc.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Tc.set(s,zl(Tc.get(s)||null,e,t,r,n,a)),!0}return!1}function FE(e){var t=ti(e.target);if(t!==null){var r=Wi(t);if(r!==null){if(t=r.tag,t===13){if(t=CE(r),t!==null){e.blockedOn=t,zE(e.priority,function(){LE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=H0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);L0=n,r.target.dispatchEvent(n),L0=null}else return t=Su(r),t!==null&&pv(t),e.blockedOn=r,!1;t.shift()}return!0}function tj(e,t,r){vf(e)&&r.delete(t)}function zR(){U0=!1,ws!==null&&vf(ws)&&(ws=null),js!==null&&vf(js)&&(js=null),ks!==null&&vf(ks)&&(ks=null),Mc.forEach(tj),Tc.forEach(tj)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,U0||(U0=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,zR)))}function Ic(e){function t(a){return Fl(a,e)}if(0<Ed.length){Fl(Ed[0],e);for(var r=1;r<Ed.length;r++){var n=Ed[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ws!==null&&Fl(ws,e),js!==null&&Fl(js,e),ks!==null&&Fl(ks,e),Mc.forEach(t),Tc.forEach(t),r=0;r<is.length;r++)n=is[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<is.length&&(r=is[0],r.blockedOn===null);)FE(r),r.blockedOn===null&&is.shift()}var No=Ha.ReactCurrentBatchConfig,Xf=!0;function FR(e,t,r,n){var a=Me,s=No.transition;No.transition=null;try{Me=1,gv(e,t,r,n)}finally{Me=a,No.transition=s}}function BR(e,t,r,n){var a=Me,s=No.transition;No.transition=null;try{Me=4,gv(e,t,r,n)}finally{Me=a,No.transition=s}}function gv(e,t,r,n){if(Xf){var a=H0(e,t,r,n);if(a===null)Sg(e,t,n,Qf,r),ej(e,n);else if($R(a,e,t,r,n))n.stopPropagation();else if(ej(e,n),t&4&&-1<LR.indexOf(e)){for(;a!==null;){var s=Su(a);if(s!==null&&RE(s),s=H0(e,t,r,n),s===null&&Sg(e,t,n,Qf,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Sg(e,t,n,null,r)}}var Qf=null;function H0(e,t,r,n){if(Qf=null,e=fv(n),e=ti(e),e!==null)if(t=Wi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=CE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qf=e,null}function BE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CR()){case mv:return 1;case ME:return 4;case Yf:case PR:return 16;case TE:return 536870912;default:return 16}default:return 16}}var xs=null,yv=null,bf=null;function UE(){if(bf)return bf;var e,t=yv,r=t.length,n,a="value"in xs?xs.value:xs.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return bf=a.slice(e,1<n?1-n:void 0)}function wf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cd(){return!0}function rj(){return!1}function Ur(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cd:rj,this.isPropagationStopped=rj,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cd)},persist:function(){},isPersistent:Cd}),t}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xv=Ur(yl),Nu=et({},yl,{view:0,detail:0}),UR=Ur(Nu),gg,yg,Bl,Sh=et({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bl&&(Bl&&e.type==="mousemove"?(gg=e.screenX-Bl.screenX,yg=e.screenY-Bl.screenY):yg=gg=0,Bl=e),gg)},movementY:function(e){return"movementY"in e?e.movementY:yg}}),nj=Ur(Sh),HR=et({},Sh,{dataTransfer:0}),VR=Ur(HR),WR=et({},Nu,{relatedTarget:0}),xg=Ur(WR),KR=et({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),qR=Ur(KR),YR=et({},yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),GR=Ur(YR),XR=et({},yl,{data:0}),aj=Ur(XR),QR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=JR[e])?!!t[e]:!1}function vv(){return eL}var tL=et({},Nu,{key:function(e){if(e.key){var t=QR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ZR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(e){return e.type==="keypress"?wf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rL=Ur(tL),nL=et({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sj=Ur(nL),aL=et({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),sL=Ur(aL),iL=et({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),oL=Ur(iL),lL=et({},Sh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cL=Ur(lL),uL=[9,13,27,32],bv=Oa&&"CompositionEvent"in window,vc=null;Oa&&"documentMode"in document&&(vc=document.documentMode);var dL=Oa&&"TextEvent"in window&&!vc,HE=Oa&&(!bv||vc&&8<vc&&11>=vc),ij=" ",oj=!1;function VE(e,t){switch(e){case"keyup":return uL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var io=!1;function fL(e,t){switch(e){case"compositionend":return WE(t);case"keypress":return t.which!==32?null:(oj=!0,ij);case"textInput":return e=t.data,e===ij&&oj?null:e;default:return null}}function mL(e,t){if(io)return e==="compositionend"||!bv&&VE(e,t)?(e=UE(),bf=yv=xs=null,io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HE&&t.locale!=="ko"?null:t.data;default:return null}}var hL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hL[e.type]:t==="textarea"}function KE(e,t,r,n){kE(n),t=Zf(t,"onChange"),0<t.length&&(r=new xv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bc=null,Dc=null;function pL(e){nC(e,0)}function _h(e){var t=co(e);if(gE(t))return e}function gL(e,t){if(e==="change")return t}var qE=!1;if(Oa){var vg;if(Oa){var bg="oninput"in document;if(!bg){var cj=document.createElement("div");cj.setAttribute("oninput","return;"),bg=typeof cj.oninput=="function"}vg=bg}else vg=!1;qE=vg&&(!document.documentMode||9<document.documentMode)}function uj(){bc&&(bc.detachEvent("onpropertychange",YE),Dc=bc=null)}function YE(e){if(e.propertyName==="value"&&_h(Dc)){var t=[];KE(t,Dc,e,fv(e)),EE(pL,t)}}function yL(e,t,r){e==="focusin"?(uj(),bc=t,Dc=r,bc.attachEvent("onpropertychange",YE)):e==="focusout"&&uj()}function xL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _h(Dc)}function vL(e,t){if(e==="click")return _h(t)}function bL(e,t){if(e==="input"||e==="change")return _h(t)}function wL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var On=typeof Object.is=="function"?Object.is:wL;function Rc(e,t){if(On(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!S0.call(t,a)||!On(e[a],t[a]))return!1}return!0}function dj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fj(e,t){var r=dj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dj(r)}}function GE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XE(){for(var e=window,t=Wf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wf(e.document)}return t}function wv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jL(e){var t=XE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&GE(r.ownerDocument.documentElement,r)){if(n!==null&&wv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=fj(r,s);var i=fj(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kL=Oa&&"documentMode"in document&&11>=document.documentMode,oo=null,V0=null,wc=null,W0=!1;function mj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;W0||oo==null||oo!==Wf(n)||(n=oo,"selectionStart"in n&&wv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wc&&Rc(wc,n)||(wc=n,n=Zf(V0,"onSelect"),0<n.length&&(t=new xv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oo)))}function Pd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lo={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},wg={},QE={};Oa&&(QE=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Eh(e){if(wg[e])return wg[e];if(!lo[e])return e;var t=lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in QE)return wg[e]=t[r];return e}var ZE=Eh("animationend"),JE=Eh("animationiteration"),eC=Eh("animationstart"),tC=Eh("transitionend"),rC=new Map,hj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(e,t){rC.set(e,t),Vi(t,[e])}for(var jg=0;jg<hj.length;jg++){var kg=hj[jg],NL=kg.toLowerCase(),SL=kg[0].toUpperCase()+kg.slice(1);Ls(NL,"on"+SL)}Ls(ZE,"onAnimationEnd");Ls(JE,"onAnimationIteration");Ls(eC,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(tC,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_L=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function pj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NR(n,t,void 0,e),e.currentTarget=null}function nC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;pj(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;pj(a,l,u),s=c}}}if(qf)throw e=F0,qf=!1,F0=null,e}function ze(e,t){var r=t[X0];r===void 0&&(r=t[X0]=new Set);var n=e+"__bubble";r.has(n)||(aC(t,e,2,!1),r.add(n))}function Ng(e,t,r){var n=0;t&&(n|=4),aC(r,e,n,t)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[Od]){e[Od]=!0,dE.forEach(function(r){r!=="selectionchange"&&(_L.has(r)||Ng(r,!1,e),Ng(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Od]||(t[Od]=!0,Ng("selectionchange",!1,t))}}function aC(e,t,r,n){switch(BE(t)){case 1:var a=FR;break;case 4:a=BR;break;default:a=gv}r=a.bind(null,t,r,e),a=void 0,!z0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Sg(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ti(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}EE(function(){var u=s,d=fv(r),f=[];e:{var m=rC.get(e);if(m!==void 0){var h=xv,p=e;switch(e){case"keypress":if(wf(r)===0)break e;case"keydown":case"keyup":h=rL;break;case"focusin":p="focus",h=xg;break;case"focusout":p="blur",h=xg;break;case"beforeblur":case"afterblur":h=xg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=nj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=VR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=sL;break;case ZE:case JE:case eC:h=qR;break;case tC:h=oL;break;case"scroll":h=UR;break;case"wheel":h=cL;break;case"copy":case"cut":case"paste":h=GR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=sj}var x=(t&4)!==0,v=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Ac(w,y),j!=null&&x.push($c(w,j,b)))),v)break;w=w.return}0<x.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==L0&&(p=r.relatedTarget||r.fromElement)&&(ti(p)||p[Aa]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?ti(p):null,p!==null&&(v=Wi(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(x=nj,j="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=sj,j="onPointerLeave",y="onPointerEnter",w="pointer"),v=h==null?m:co(h),b=p==null?m:co(p),m=new x(j,w+"leave",h,r,d),m.target=v,m.relatedTarget=b,j=null,ti(d)===u&&(x=new x(y,w+"enter",p,r,d),x.target=b,x.relatedTarget=v,j=x),v=j,h&&p)t:{for(x=h,y=p,w=0,b=x;b;b=Zi(b))w++;for(b=0,j=y;j;j=Zi(j))b++;for(;0<w-b;)x=Zi(x),w--;for(;0<b-w;)y=Zi(y),b--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=Zi(x),y=Zi(y)}x=null}else x=null;h!==null&&gj(f,m,h,x,!1),p!==null&&v!==null&&gj(f,v,p,x,!0)}}e:{if(m=u?co(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var k=gL;else if(lj(m))if(qE)k=bL;else{k=xL;var N=yL}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=vL);if(k&&(k=k(e,u))){KE(f,k,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&M0(m,"number",m.value)}switch(N=u?co(u):window,e){case"focusin":(lj(N)||N.contentEditable==="true")&&(oo=N,V0=u,wc=null);break;case"focusout":wc=V0=oo=null;break;case"mousedown":W0=!0;break;case"contextmenu":case"mouseup":case"dragend":W0=!1,mj(f,r,d);break;case"selectionchange":if(kL)break;case"keydown":case"keyup":mj(f,r,d)}var _;if(bv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else io?VE(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(HE&&r.locale!=="ko"&&(io||S!=="onCompositionStart"?S==="onCompositionEnd"&&io&&(_=UE()):(xs=d,yv="value"in xs?xs.value:xs.textContent,io=!0)),N=Zf(u,S),0<N.length&&(S=new aj(S,e,null,r,d),f.push({event:S,listeners:N}),_?S.data=_:(_=WE(r),_!==null&&(S.data=_)))),(_=dL?fL(e,r):mL(e,r))&&(u=Zf(u,"onBeforeInput"),0<u.length&&(d=new aj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}nC(f,t)})}function $c(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Ac(e,r),s!=null&&n.unshift($c(e,s,a)),s=Ac(e,t),s!=null&&n.push($c(e,s,a))),e=e.return}return n}function Zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gj(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ac(r,s),c!=null&&i.unshift($c(r,c,l))):a||(c=Ac(r,s),c!=null&&i.push($c(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var EL=/\r\n?/g,CL=/\u0000|\uFFFD/g;function yj(e){return(typeof e=="string"?e:""+e).replace(EL,`
`).replace(CL,"")}function Ad(e,t,r){if(t=yj(t),yj(e)!==t&&r)throw Error(J(425))}function Jf(){}var K0=null,q0=null;function Y0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var G0=typeof setTimeout=="function"?setTimeout:void 0,PL=typeof clearTimeout=="function"?clearTimeout:void 0,xj=typeof Promise=="function"?Promise:void 0,OL=typeof queueMicrotask=="function"?queueMicrotask:typeof xj<"u"?function(e){return xj.resolve(null).then(e).catch(AL)}:G0;function AL(e){setTimeout(function(){throw e})}function _g(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ic(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ic(t)}function Ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Wn="__reactFiber$"+xl,zc="__reactProps$"+xl,Aa="__reactContainer$"+xl,X0="__reactEvents$"+xl,ML="__reactListeners$"+xl,TL="__reactHandles$"+xl;function ti(e){var t=e[Wn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Aa]||r[Wn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vj(e);e!==null;){if(r=e[Wn])return r;e=vj(e)}return t}e=r,r=e.parentNode}return null}function Su(e){return e=e[Wn]||e[Aa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Ch(e){return e[zc]||null}var Q0=[],uo=-1;function $s(e){return{current:e}}function Be(e){0>uo||(e.current=Q0[uo],Q0[uo]=null,uo--)}function $e(e,t){uo++,Q0[uo]=e.current,e.current=t}var Ts={},Qt=$s(Ts),wr=$s(!1),_i=Ts;function Ho(e,t){var r=e.type.contextTypes;if(!r)return Ts;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function jr(e){return e=e.childContextTypes,e!=null}function em(){Be(wr),Be(Qt)}function bj(e,t,r){if(Qt.current!==Ts)throw Error(J(168));$e(Qt,t),$e(wr,r)}function sC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(J(108,yR(e)||"Unknown",a));return et({},r,n)}function tm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,_i=Qt.current,$e(Qt,e),$e(wr,wr.current),!0}function wj(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=sC(e,t,_i),n.__reactInternalMemoizedMergedChildContext=e,Be(wr),Be(Qt),$e(Qt,e)):Be(wr),$e(wr,r)}var ha=null,Ph=!1,Eg=!1;function iC(e){ha===null?ha=[e]:ha.push(e)}function IL(e){Ph=!0,iC(e)}function zs(){if(!Eg&&ha!==null){Eg=!0;var e=0,t=Me;try{var r=ha;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ha=null,Ph=!1}catch(a){throw ha!==null&&(ha=ha.slice(e+1)),AE(mv,zs),a}finally{Me=t,Eg=!1}}return null}var fo=[],mo=0,rm=null,nm=0,Xr=[],Qr=0,Ei=null,ba=1,wa="";function qs(e,t){fo[mo++]=nm,fo[mo++]=rm,rm=e,nm=t}function oC(e,t,r){Xr[Qr++]=ba,Xr[Qr++]=wa,Xr[Qr++]=Ei,Ei=e;var n=ba;e=wa;var a=32-_n(n)-1;n&=~(1<<a),r+=1;var s=32-_n(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ba=1<<32-_n(t)+a|r<<a|n,wa=s+e}else ba=1<<s|r<<a|n,wa=e}function jv(e){e.return!==null&&(qs(e,1),oC(e,1,0))}function kv(e){for(;e===rm;)rm=fo[--mo],fo[mo]=null,nm=fo[--mo],fo[mo]=null;for(;e===Ei;)Ei=Xr[--Qr],Xr[Qr]=null,wa=Xr[--Qr],Xr[Qr]=null,ba=Xr[--Qr],Xr[Qr]=null}var Ir=null,Mr=null,Ve=!1,vn=null;function lC(e,t){var r=Jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ir=e,Mr=Ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ir=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ei!==null?{id:ba,overflow:wa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ir=e,Mr=null,!0):!1;default:return!1}}function Z0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J0(e){if(Ve){var t=Mr;if(t){var r=t;if(!jj(e,t)){if(Z0(e))throw Error(J(418));t=Ns(r.nextSibling);var n=Ir;t&&jj(e,t)?lC(n,r):(e.flags=e.flags&-4097|2,Ve=!1,Ir=e)}}else{if(Z0(e))throw Error(J(418));e.flags=e.flags&-4097|2,Ve=!1,Ir=e}}}function kj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ir=e}function Md(e){if(e!==Ir)return!1;if(!Ve)return kj(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Y0(e.type,e.memoizedProps)),t&&(t=Mr)){if(Z0(e))throw cC(),Error(J(418));for(;t;)lC(e,t),t=Ns(t.nextSibling)}if(kj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mr=Ns(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Ir?Ns(e.stateNode.nextSibling):null;return!0}function cC(){for(var e=Mr;e;)e=Ns(e.nextSibling)}function Vo(){Mr=Ir=null,Ve=!1}function Nv(e){vn===null?vn=[e]:vn.push(e)}var DL=Ha.ReactCurrentBatchConfig;function Ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Td(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nj(e){var t=e._init;return t(e._payload)}function uC(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=Cs(y,w),y.index=0,y.sibling=null,y}function s(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,j){return w===null||w.tag!==6?(w=Ig(b,y.mode,j),w.return=y,w):(w=a(w,b),w.return=y,w)}function c(y,w,b,j){var k=b.type;return k===so?d(y,w,b.props.children,j,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rs&&Nj(k)===w.type)?(j=a(w,b.props),j.ref=Ul(y,w,b),j.return=y,j):(j=Cf(b.type,b.key,b.props,null,y.mode,j),j.ref=Ul(y,w,b),j.return=y,j)}function u(y,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Dg(b,y.mode,j),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function d(y,w,b,j,k){return w===null||w.tag!==7?(w=bi(b,y.mode,j,k),w.return=y,w):(w=a(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ig(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jd:return b=Cf(w.type,w.key,w.props,null,y.mode,b),b.ref=Ul(y,null,w),b.return=y,b;case ao:return w=Dg(w,y.mode,b),w.return=y,w;case rs:var j=w._init;return f(y,j(w._payload),b)}if(ic(w)||Ll(w))return w=bi(w,y.mode,b,null),w.return=y,w;Td(y,w)}return null}function m(y,w,b,j){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(y,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jd:return b.key===k?c(y,w,b,j):null;case ao:return b.key===k?u(y,w,b,j):null;case rs:return k=b._init,m(y,w,k(b._payload),j)}if(ic(b)||Ll(b))return k!==null?null:d(y,w,b,j,null);Td(y,b)}return null}function h(y,w,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(w,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jd:return y=y.get(j.key===null?b:j.key)||null,c(w,y,j,k);case ao:return y=y.get(j.key===null?b:j.key)||null,u(w,y,j,k);case rs:var N=j._init;return h(y,w,b,N(j._payload),k)}if(ic(j)||Ll(j))return y=y.get(b)||null,d(w,y,j,k,null);Td(w,j)}return null}function p(y,w,b,j){for(var k=null,N=null,_=w,S=w=0,E=null;_!==null&&S<b.length;S++){_.index>S?(E=_,_=null):E=_.sibling;var A=m(y,_,b[S],j);if(A===null){_===null&&(_=E);break}e&&_&&A.alternate===null&&t(y,_),w=s(A,w,S),N===null?k=A:N.sibling=A,N=A,_=E}if(S===b.length)return r(y,_),Ve&&qs(y,S),k;if(_===null){for(;S<b.length;S++)_=f(y,b[S],j),_!==null&&(w=s(_,w,S),N===null?k=_:N.sibling=_,N=_);return Ve&&qs(y,S),k}for(_=n(y,_);S<b.length;S++)E=h(_,y,S,b[S],j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?S:E.key),w=s(E,w,S),N===null?k=E:N.sibling=E,N=E);return e&&_.forEach(function(C){return t(y,C)}),Ve&&qs(y,S),k}function x(y,w,b,j){var k=Ll(b);if(typeof k!="function")throw Error(J(150));if(b=k.call(b),b==null)throw Error(J(151));for(var N=k=null,_=w,S=w=0,E=null,A=b.next();_!==null&&!A.done;S++,A=b.next()){_.index>S?(E=_,_=null):E=_.sibling;var C=m(y,_,A.value,j);if(C===null){_===null&&(_=E);break}e&&_&&C.alternate===null&&t(y,_),w=s(C,w,S),N===null?k=C:N.sibling=C,N=C,_=E}if(A.done)return r(y,_),Ve&&qs(y,S),k;if(_===null){for(;!A.done;S++,A=b.next())A=f(y,A.value,j),A!==null&&(w=s(A,w,S),N===null?k=A:N.sibling=A,N=A);return Ve&&qs(y,S),k}for(_=n(y,_);!A.done;S++,A=b.next())A=h(_,y,S,A.value,j),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?S:A.key),w=s(A,w,S),N===null?k=A:N.sibling=A,N=A);return e&&_.forEach(function(O){return t(y,O)}),Ve&&qs(y,S),k}function v(y,w,b,j){if(typeof b=="object"&&b!==null&&b.type===so&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case jd:e:{for(var k=b.key,N=w;N!==null;){if(N.key===k){if(k=b.type,k===so){if(N.tag===7){r(y,N.sibling),w=a(N,b.props.children),w.return=y,y=w;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rs&&Nj(k)===N.type){r(y,N.sibling),w=a(N,b.props),w.ref=Ul(y,N,b),w.return=y,y=w;break e}r(y,N);break}else t(y,N);N=N.sibling}b.type===so?(w=bi(b.props.children,y.mode,j,b.key),w.return=y,y=w):(j=Cf(b.type,b.key,b.props,null,y.mode,j),j.ref=Ul(y,w,b),j.return=y,y=j)}return i(y);case ao:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=Dg(b,y.mode,j),w.return=y,y=w}return i(y);case rs:return N=b._init,v(y,w,N(b._payload),j)}if(ic(b))return p(y,w,b,j);if(Ll(b))return x(y,w,b,j);Td(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=Ig(b,y.mode,j),w.return=y,y=w),i(y)):r(y,w)}return v}var Wo=uC(!0),dC=uC(!1),am=$s(null),sm=null,ho=null,Sv=null;function _v(){Sv=ho=sm=null}function Ev(e){var t=am.current;Be(am),e._currentValue=t}function ey(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function So(e,t){sm=e,Sv=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yr=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(Sv!==e)if(e={context:e,memoizedValue:t,next:null},ho===null){if(sm===null)throw Error(J(308));ho=e,sm.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return t}var ri=null;function Cv(e){ri===null?ri=[e]:ri.push(e)}function fC(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Cv(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ma(e,n)}function Ma(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ns=!1;function Pv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ma(e,r)}return a=n.interleaved,a===null?(t.next=t,Cv(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ma(e,r)}function jf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hv(e,r)}}function Sj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function im(e,t,r,n){var a=e.updateQueue;ns=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(m=t,h=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=et({},f,m);break e;case 2:ns=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Pi|=i,e.lanes=i,e.memoizedState=f}}function _j(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(J(191,a));a.call(n)}}}var _u={},Yn=$s(_u),Fc=$s(_u),Bc=$s(_u);function ni(e){if(e===_u)throw Error(J(174));return e}function Ov(e,t){switch($e(Bc,t),$e(Fc,e),$e(Yn,_u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:I0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=I0(t,e)}Be(Yn),$e(Yn,t)}function Ko(){Be(Yn),Be(Fc),Be(Bc)}function hC(e){ni(Bc.current);var t=ni(Yn.current),r=I0(t,e.type);t!==r&&($e(Fc,e),$e(Yn,r))}function Av(e){Fc.current===e&&(Be(Yn),Be(Fc))}var Xe=$s(0);function om(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cg=[];function Mv(){for(var e=0;e<Cg.length;e++)Cg[e]._workInProgressVersionPrimary=null;Cg.length=0}var kf=Ha.ReactCurrentDispatcher,Pg=Ha.ReactCurrentBatchConfig,Ci=0,Qe=null,yt=null,At=null,lm=!1,jc=!1,Uc=0,RL=0;function Wt(){throw Error(J(321))}function Tv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!On(e[r],t[r]))return!1;return!0}function Iv(e,t,r,n,a,s){if(Ci=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kf.current=e===null||e.memoizedState===null?FL:BL,e=r(n,a),jc){s=0;do{if(jc=!1,Uc=0,25<=s)throw Error(J(301));s+=1,At=yt=null,t.updateQueue=null,kf.current=UL,e=r(n,a)}while(jc)}if(kf.current=cm,t=yt!==null&&yt.next!==null,Ci=0,At=yt=Qe=null,lm=!1,t)throw Error(J(300));return e}function Dv(){var e=Uc!==0;return Uc=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Qe.memoizedState=At=e:At=At.next=e,At}function nn(){if(yt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=At===null?Qe.memoizedState:At.next;if(t!==null)At=t,yt=e;else{if(e===null)throw Error(J(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?Qe.memoizedState=At=e:At=At.next=e}return At}function Hc(e,t){return typeof t=="function"?t(e):t}function Og(e){var t=nn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=yt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Ci&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Qe.lanes|=d,Pi|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,On(n,t.memoizedState)||(yr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Qe.lanes|=s,Pi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ag(e){var t=nn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);On(s,t.memoizedState)||(yr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function pC(){}function gC(e,t){var r=Qe,n=nn(),a=t(),s=!On(n.memoizedState,a);if(s&&(n.memoizedState=a,yr=!0),n=n.queue,Rv(vC.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Vc(9,xC.bind(null,r,n,a,t),void 0,null),Tt===null)throw Error(J(349));Ci&30||yC(r,t,a)}return a}function yC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xC(e,t,r,n){t.value=r,t.getSnapshot=n,bC(t)&&wC(e)}function vC(e,t,r){return r(function(){bC(t)&&wC(e)})}function bC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!On(e,r)}catch{return!0}}function wC(e){var t=Ma(e,1);t!==null&&En(t,e,1,-1)}function Ej(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:e},t.queue=e,e=e.dispatch=zL.bind(null,Qe,e),[t.memoizedState,e]}function Vc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jC(){return nn().memoizedState}function Nf(e,t,r,n){var a=Fn();Qe.flags|=e,a.memoizedState=Vc(1|t,r,void 0,n===void 0?null:n)}function Oh(e,t,r,n){var a=nn();n=n===void 0?null:n;var s=void 0;if(yt!==null){var i=yt.memoizedState;if(s=i.destroy,n!==null&&Tv(n,i.deps)){a.memoizedState=Vc(t,r,s,n);return}}Qe.flags|=e,a.memoizedState=Vc(1|t,r,s,n)}function Cj(e,t){return Nf(8390656,8,e,t)}function Rv(e,t){return Oh(2048,8,e,t)}function kC(e,t){return Oh(4,2,e,t)}function NC(e,t){return Oh(4,4,e,t)}function SC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _C(e,t,r){return r=r!=null?r.concat([e]):null,Oh(4,4,SC.bind(null,t,e),r)}function Lv(){}function EC(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function CC(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function PC(e,t,r){return Ci&21?(On(r,t)||(r=IE(),Qe.lanes|=r,Pi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yr=!0),e.memoizedState=r)}function LL(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=Pg.transition;Pg.transition={};try{e(!1),t()}finally{Me=r,Pg.transition=n}}function OC(){return nn().memoizedState}function $L(e,t,r){var n=Es(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},AC(e))MC(t,r);else if(r=fC(e,t,r,n),r!==null){var a=sr();En(r,e,n,a),TC(r,t,n)}}function zL(e,t,r){var n=Es(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(AC(e))MC(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,On(l,i)){var c=t.interleaved;c===null?(a.next=a,Cv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=fC(e,t,a,n),r!==null&&(a=sr(),En(r,e,n,a),TC(r,t,n))}}function AC(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function MC(e,t){jc=lm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function TC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hv(e,r)}}var cm={readContext:rn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},FL={readContext:rn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:Cj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nf(4194308,4,SC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nf(4,2,e,t)},useMemo:function(e,t){var r=Fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$L.bind(null,Qe,e),[n.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:Ej,useDebugValue:Lv,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=Ej(!1),t=e[0];return e=LL.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qe,a=Fn();if(Ve){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),Tt===null)throw Error(J(349));Ci&30||yC(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Cj(vC.bind(null,n,s,e),[e]),n.flags|=2048,Vc(9,xC.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Fn(),t=Tt.identifierPrefix;if(Ve){var r=wa,n=ba;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Uc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BL={readContext:rn,useCallback:EC,useContext:rn,useEffect:Rv,useImperativeHandle:_C,useInsertionEffect:kC,useLayoutEffect:NC,useMemo:CC,useReducer:Og,useRef:jC,useState:function(){return Og(Hc)},useDebugValue:Lv,useDeferredValue:function(e){var t=nn();return PC(t,yt.memoizedState,e)},useTransition:function(){var e=Og(Hc)[0],t=nn().memoizedState;return[e,t]},useMutableSource:pC,useSyncExternalStore:gC,useId:OC,unstable_isNewReconciler:!1},UL={readContext:rn,useCallback:EC,useContext:rn,useEffect:Rv,useImperativeHandle:_C,useInsertionEffect:kC,useLayoutEffect:NC,useMemo:CC,useReducer:Ag,useRef:jC,useState:function(){return Ag(Hc)},useDebugValue:Lv,useDeferredValue:function(e){var t=nn();return yt===null?t.memoizedState=e:PC(t,yt.memoizedState,e)},useTransition:function(){var e=Ag(Hc)[0],t=nn().memoizedState;return[e,t]},useMutableSource:pC,useSyncExternalStore:gC,useId:OC,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ty(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ah={isMounted:function(e){return(e=e._reactInternals)?Wi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sr(),a=Es(e),s=Sa(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ss(e,s,a),t!==null&&(En(t,e,a,n),jf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sr(),a=Es(e),s=Sa(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ss(e,s,a),t!==null&&(En(t,e,a,n),jf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sr(),n=Es(e),a=Sa(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ss(e,a,n),t!==null&&(En(t,e,n,r),jf(t,e,n))}};function Pj(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Rc(r,n)||!Rc(a,s):!0}function IC(e,t,r){var n=!1,a=Ts,s=t.contextType;return typeof s=="object"&&s!==null?s=rn(s):(a=jr(t)?_i:Qt.current,n=t.contextTypes,s=(n=n!=null)?Ho(e,a):Ts),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ah,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Oj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ah.enqueueReplaceState(t,t.state,null)}function ry(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Pv(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=rn(s):(s=jr(t)?_i:Qt.current,a.context=Ho(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ty(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ah.enqueueReplaceState(a,a.state,null),im(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qo(e,t){try{var r="",n=t;do r+=gR(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Mg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ny(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var HL=typeof WeakMap=="function"?WeakMap:Map;function DC(e,t,r){r=Sa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dm||(dm=!0,my=n),ny(e,t)},r}function RC(e,t,r){r=Sa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ny(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ny(e,t),typeof n!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Aj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new HL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=n$.bind(null,e,t,r),t.then(e,e))}function Mj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sa(-1,1),t.tag=2,Ss(r,t,1))),r.lanes|=1),e)}var VL=Ha.ReactCurrentOwner,yr=!1;function rr(e,t,r,n){t.child=e===null?dC(t,null,r,n):Wo(t,e.child,r,n)}function Ij(e,t,r,n,a){r=r.render;var s=t.ref;return So(t,a),n=Iv(e,t,r,n,s,a),r=Dv(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ta(e,t,a)):(Ve&&r&&jv(t),t.flags|=1,rr(e,t,n,a),t.child)}function Dj(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Wv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,LC(e,t,s,n,a)):(e=Cf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Rc,r(i,n)&&e.ref===t.ref)return Ta(e,t,a)}return t.flags|=1,e=Cs(s,n),e.ref=t.ref,e.return=t,t.child=e}function LC(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Rc(s,n)&&e.ref===t.ref)if(yr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(yr=!0);else return t.lanes=e.lanes,Ta(e,t,a)}return ay(e,t,r,n,a)}function $C(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(go,Cr),Cr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(go,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,$e(go,Cr),Cr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,$e(go,Cr),Cr|=n;return rr(e,t,a,r),t.child}function zC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ay(e,t,r,n,a){var s=jr(r)?_i:Qt.current;return s=Ho(t,s),So(t,a),r=Iv(e,t,r,n,s,a),n=Dv(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ta(e,t,a)):(Ve&&n&&jv(t),t.flags|=1,rr(e,t,r,a),t.child)}function Rj(e,t,r,n,a){if(jr(r)){var s=!0;tm(t)}else s=!1;if(So(t,a),t.stateNode===null)Sf(e,t),IC(t,r,n),ry(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=jr(r)?_i:Qt.current,u=Ho(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Oj(t,i,n,u),ns=!1;var m=t.memoizedState;i.state=m,im(t,n,i,a),c=t.memoizedState,l!==n||m!==c||wr.current||ns?(typeof d=="function"&&(ty(t,r,d,n),c=t.memoizedState),(l=ns||Pj(t,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,mC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:hn(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=jr(r)?_i:Qt.current,c=Ho(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Oj(t,i,n,c),ns=!1,m=t.memoizedState,i.state=m,im(t,n,i,a);var p=t.memoizedState;l!==f||m!==p||wr.current||ns?(typeof h=="function"&&(ty(t,r,h,n),p=t.memoizedState),(u=ns||Pj(t,r,u,n,m,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return sy(e,t,r,n,s,a)}function sy(e,t,r,n,a,s){zC(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&wj(t,r,!1),Ta(e,t,s);n=t.stateNode,VL.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Wo(t,e.child,null,s),t.child=Wo(t,null,l,s)):rr(e,t,l,s),t.memoizedState=n.state,a&&wj(t,r,!0),t.child}function FC(e){var t=e.stateNode;t.pendingContext?bj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bj(e,t.context,!1),Ov(e,t.containerInfo)}function Lj(e,t,r,n,a){return Vo(),Nv(a),t.flags|=256,rr(e,t,r,n),t.child}var iy={dehydrated:null,treeContext:null,retryLane:0};function oy(e){return{baseLanes:e,cachePool:null,transitions:null}}function BC(e,t,r){var n=t.pendingProps,a=Xe.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$e(Xe,a&1),e===null)return J0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ih(i,n,0,null),e=bi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=oy(r),t.memoizedState=iy,e):$v(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return WL(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Cs(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Cs(l,s):(s=bi(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?oy(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=iy,n}return s=e.child,e=s.sibling,n=Cs(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $v(e,t){return t=Ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Id(e,t,r,n){return n!==null&&Nv(n),Wo(t,e.child,null,r),e=$v(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WL(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Mg(Error(J(422))),Id(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Ih({mode:"visible",children:n.children},a,0,null),s=bi(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Wo(t,e.child,null,i),t.child.memoizedState=oy(i),t.memoizedState=iy,s);if(!(t.mode&1))return Id(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(J(419)),n=Mg(s,n,void 0),Id(e,t,i,n)}if(l=(i&e.childLanes)!==0,yr||l){if(n=Tt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ma(e,a),En(n,e,a,-1))}return Vv(),n=Mg(Error(J(421))),Id(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=a$.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Mr=Ns(a.nextSibling),Ir=t,Ve=!0,vn=null,e!==null&&(Xr[Qr++]=ba,Xr[Qr++]=wa,Xr[Qr++]=Ei,ba=e.id,wa=e.overflow,Ei=t),t=$v(t,n.children),t.flags|=4096,t)}function $j(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ey(e.return,t,r)}function Tg(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function UC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(rr(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$j(e,r,t);else if(e.tag===19)$j(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&om(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Tg(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&om(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Tg(t,!0,r,null,s);break;case"together":Tg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ta(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=Cs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KL(e,t,r){switch(t.tag){case 3:FC(t),Vo();break;case 5:hC(t);break;case 1:jr(t.type)&&tm(t);break;case 4:Ov(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;$e(am,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($e(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?BC(e,t,r):($e(Xe,Xe.current&1),e=Ta(e,t,r),e!==null?e.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return UC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$e(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,$C(e,t,r)}return Ta(e,t,r)}var HC,ly,VC,WC;HC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ly=function(){};VC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ni(Yn.current);var s=null;switch(r){case"input":a=O0(e,a),n=O0(e,n),s=[];break;case"select":a=et({},a,{value:void 0}),n=et({},n,{value:void 0}),s=[];break;case"textarea":a=T0(e,a),n=T0(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jf)}D0(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};WC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hl(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qL(e,t,r){var n=t.pendingProps;switch(kv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return jr(t.type)&&em(),Kt(t),null;case 3:return n=t.stateNode,Ko(),Be(wr),Be(Qt),Mv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(gy(vn),vn=null))),ly(e,t),Kt(t),null;case 5:Av(t);var a=ni(Bc.current);if(r=t.type,e!==null&&t.stateNode!=null)VC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return Kt(t),null}if(e=ni(Yn.current),Md(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Wn]=t,n[zc]=s,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<lc.length;a++)ze(lc[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":q1(n,s),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ze("invalid",n);break;case"textarea":G1(n,s),ze("invalid",n)}D0(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ad(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ad(n.textContent,l,e),a=["children",""+l]):Pc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ze("scroll",n)}switch(r){case"input":kd(n),Y1(n,s,!0);break;case"textarea":kd(n),X1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Jf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Wn]=t,e[zc]=n,HC(e,t,!1,!1),t.stateNode=e;e:{switch(i=R0(r,n),r){case"dialog":ze("cancel",e),ze("close",e),a=n;break;case"iframe":case"object":case"embed":ze("load",e),a=n;break;case"video":case"audio":for(a=0;a<lc.length;a++)ze(lc[a],e);a=n;break;case"source":ze("error",e),a=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),a=n;break;case"details":ze("toggle",e),a=n;break;case"input":q1(e,n),a=O0(e,n),ze("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=et({},n,{value:void 0}),ze("invalid",e);break;case"textarea":G1(e,n),a=T0(e,n),ze("invalid",e);break;default:a=n}D0(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?jE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bE(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Oc(e,c):typeof c=="number"&&Oc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&lv(e,s,c,i))}switch(r){case"input":kd(e),Y1(e,n,!1);break;case"textarea":kd(e),X1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ms(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?wo(e,!!n.multiple,s,!1):n.defaultValue!=null&&wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Jf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)WC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=ni(Bc.current),ni(Yn.current),Md(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wn]=t,(s=n.nodeValue!==r)&&(e=Ir,e!==null))switch(e.tag){case 3:Ad(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ad(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wn]=t,t.stateNode=n}return Kt(t),null;case 13:if(Be(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Mr!==null&&t.mode&1&&!(t.flags&128))cC(),Vo(),t.flags|=98560,s=!1;else if(s=Md(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(J(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Wn]=t}else Vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),s=!1}else vn!==null&&(gy(vn),vn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?vt===0&&(vt=3):Vv())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return Ko(),ly(e,t),e===null&&Lc(t.stateNode.containerInfo),Kt(t),null;case 10:return Ev(t.type._context),Kt(t),null;case 17:return jr(t.type)&&em(),Kt(t),null;case 19:if(Be(Xe),s=t.memoizedState,s===null)return Kt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Hl(s,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=om(e),i!==null){for(t.flags|=128,Hl(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Xe,Xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ot()>Yo&&(t.flags|=128,n=!0,Hl(s,!1),t.lanes=4194304)}else{if(!n)if(e=om(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ve)return Kt(t),null}else 2*ot()-s.renderingStartTime>Yo&&r!==1073741824&&(t.flags|=128,n=!0,Hl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ot(),t.sibling=null,r=Xe.current,$e(Xe,n?r&1|2:r&1),t):(Kt(t),null);case 22:case 23:return Hv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cr&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function YL(e,t){switch(kv(t),t.tag){case 1:return jr(t.type)&&em(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ko(),Be(wr),Be(Qt),Mv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Av(t),null;case 13:if(Be(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Xe),null;case 4:return Ko(),null;case 10:return Ev(t.type._context),null;case 22:case 23:return Hv(),null;case 24:return null;default:return null}}var Dd=!1,Yt=!1,GL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function cy(e,t,r){try{r()}catch(n){nt(e,t,n)}}var zj=!1;function XL(e,t){if(K0=Xf,e=XE(),wv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(q0={focusedElem:e,selectionRange:r},Xf=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:hn(t.type,x),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(j){nt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return p=zj,zj=!1,p}function kc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&cy(t,r,s)}a=a.next}while(a!==n)}}function Mh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function KC(e){var t=e.alternate;t!==null&&(e.alternate=null,KC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wn],delete t[zc],delete t[X0],delete t[ML],delete t[TL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qC(e){return e.tag===5||e.tag===3||e.tag===4}function Fj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jf));else if(n!==4&&(e=e.child,e!==null))for(dy(e,t,r),e=e.sibling;e!==null;)dy(e,t,r),e=e.sibling}function fy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fy(e,t,r),e=e.sibling;e!==null;)fy(e,t,r),e=e.sibling}var Ft=null,yn=!1;function Qa(e,t,r){for(r=r.child;r!==null;)YC(e,t,r),r=r.sibling}function YC(e,t,r){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Nh,r)}catch{}switch(r.tag){case 5:Yt||po(r,t);case 6:var n=Ft,a=yn;Ft=null,Qa(e,t,r),Ft=n,yn=a,Ft!==null&&(yn?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(yn?(e=Ft,r=r.stateNode,e.nodeType===8?_g(e.parentNode,r):e.nodeType===1&&_g(e,r),Ic(e)):_g(Ft,r.stateNode));break;case 4:n=Ft,a=yn,Ft=r.stateNode.containerInfo,yn=!0,Qa(e,t,r),Ft=n,yn=a;break;case 0:case 11:case 14:case 15:if(!Yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&cy(r,t,i),a=a.next}while(a!==n)}Qa(e,t,r);break;case 1:if(!Yt&&(po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}Qa(e,t,r);break;case 21:Qa(e,t,r);break;case 22:r.mode&1?(Yt=(n=Yt)||r.memoizedState!==null,Qa(e,t,r),Yt=n):Qa(e,t,r);break;default:Qa(e,t,r)}}function Bj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new GL),t.forEach(function(n){var a=s$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function mn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ft=l.stateNode,yn=!1;break e;case 3:Ft=l.stateNode.containerInfo,yn=!0;break e;case 4:Ft=l.stateNode.containerInfo,yn=!0;break e}l=l.return}if(Ft===null)throw Error(J(160));YC(s,i,a),Ft=null,yn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GC(t,e),t=t.sibling}function GC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),$n(e),n&4){try{kc(3,e,e.return),Mh(3,e)}catch(x){nt(e,e.return,x)}try{kc(5,e,e.return)}catch(x){nt(e,e.return,x)}}break;case 1:mn(t,e),$n(e),n&512&&r!==null&&po(r,r.return);break;case 5:if(mn(t,e),$n(e),n&512&&r!==null&&po(r,r.return),e.flags&32){var a=e.stateNode;try{Oc(a,"")}catch(x){nt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&yE(a,s),R0(l,i);var u=R0(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?jE(a,f):d==="dangerouslySetInnerHTML"?bE(a,f):d==="children"?Oc(a,f):lv(a,d,f,u)}switch(l){case"input":A0(a,s);break;case"textarea":xE(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?wo(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?wo(a,!!s.multiple,s.defaultValue,!0):wo(a,!!s.multiple,s.multiple?[]:"",!1))}a[zc]=s}catch(x){nt(e,e.return,x)}}break;case 6:if(mn(t,e),$n(e),n&4){if(e.stateNode===null)throw Error(J(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){nt(e,e.return,x)}}break;case 3:if(mn(t,e),$n(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ic(t.containerInfo)}catch(x){nt(e,e.return,x)}break;case 4:mn(t,e),$n(e);break;case 13:mn(t,e),$n(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Bv=ot())),n&4&&Bj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||d,mn(t,e),Yt=u):mn(t,e),$n(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(m=ie,h=m.child,m.tag){case 0:case 11:case 14:case 15:kc(4,m,m.return);break;case 1:po(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){nt(n,r,x)}}break;case 5:po(m,m.return);break;case 22:if(m.memoizedState!==null){Hj(f);continue}}h!==null?(h.return=m,ie=h):Hj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=wE("display",i))}catch(x){nt(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){nt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mn(t,e),$n(e),n&4&&Bj(e);break;case 21:break;default:mn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(qC(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Oc(a,""),n.flags&=-33);var s=Fj(e);fy(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Fj(e);dy(e,l,i);break;default:throw Error(J(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QL(e,t,r){ie=e,XC(e)}function XC(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var a=ie,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Dd;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=Dd;var u=Yt;if(Dd=i,(Yt=c)&&!u)for(ie=a;ie!==null;)i=ie,c=i.child,i.tag===22&&i.memoizedState!==null?Vj(a):c!==null?(c.return=i,ie=c):Vj(a);for(;s!==null;)ie=s,XC(s),s=s.sibling;ie=a,Dd=l,Yt=u}Uj(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ie=s):Uj(e)}}function Uj(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Mh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:hn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_j(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_j(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ic(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Yt||t.flags&512&&uy(t)}catch(m){nt(t,t.return,m)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Hj(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Vj(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mh(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var s=t.return;try{uy(t)}catch(c){nt(t,s,c)}break;case 5:var i=t.return;try{uy(t)}catch(c){nt(t,i,c)}}}catch(c){nt(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var ZL=Math.ceil,um=Ha.ReactCurrentDispatcher,zv=Ha.ReactCurrentOwner,tn=Ha.ReactCurrentBatchConfig,Ne=0,Tt=null,dt=null,Ht=0,Cr=0,go=$s(0),vt=0,Wc=null,Pi=0,Th=0,Fv=0,Nc=null,gr=null,Bv=0,Yo=1/0,ma=null,dm=!1,my=null,_s=null,Rd=!1,vs=null,fm=0,Sc=0,hy=null,_f=-1,Ef=0;function sr(){return Ne&6?ot():_f!==-1?_f:_f=ot()}function Es(e){return e.mode&1?Ne&2&&Ht!==0?Ht&-Ht:DL.transition!==null?(Ef===0&&(Ef=IE()),Ef):(e=Me,e!==0||(e=window.event,e=e===void 0?16:BE(e.type)),e):1}function En(e,t,r,n){if(50<Sc)throw Sc=0,hy=null,Error(J(185));ku(e,r,n),(!(Ne&2)||e!==Tt)&&(e===Tt&&(!(Ne&2)&&(Th|=r),vt===4&&os(e,Ht)),kr(e,n),r===1&&Ne===0&&!(t.mode&1)&&(Yo=ot()+500,Ph&&zs()))}function kr(e,t){var r=e.callbackNode;DR(e,t);var n=Gf(e,e===Tt?Ht:0);if(n===0)r!==null&&J1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&J1(r),t===1)e.tag===0?IL(Wj.bind(null,e)):iC(Wj.bind(null,e)),OL(function(){!(Ne&6)&&zs()}),r=null;else{switch(DE(n)){case 1:r=mv;break;case 4:r=ME;break;case 16:r=Yf;break;case 536870912:r=TE;break;default:r=Yf}r=aP(r,QC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function QC(e,t){if(_f=-1,Ef=0,Ne&6)throw Error(J(327));var r=e.callbackNode;if(_o()&&e.callbackNode!==r)return null;var n=Gf(e,e===Tt?Ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mm(e,n);else{t=n;var a=Ne;Ne|=2;var s=JC();(Tt!==e||Ht!==t)&&(ma=null,Yo=ot()+500,vi(e,t));do try{t$();break}catch(l){ZC(e,l)}while(!0);_v(),um.current=s,Ne=a,dt!==null?t=0:(Tt=null,Ht=0,t=vt)}if(t!==0){if(t===2&&(a=B0(e),a!==0&&(n=a,t=py(e,a))),t===1)throw r=Wc,vi(e,0),os(e,n),kr(e,ot()),r;if(t===6)os(e,n);else{if(a=e.current.alternate,!(n&30)&&!JL(a)&&(t=mm(e,n),t===2&&(s=B0(e),s!==0&&(n=s,t=py(e,s))),t===1))throw r=Wc,vi(e,0),os(e,n),kr(e,ot()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:Ys(e,gr,ma);break;case 3:if(os(e,n),(n&130023424)===n&&(t=Bv+500-ot(),10<t)){if(Gf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){sr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=G0(Ys.bind(null,e,gr,ma),t);break}Ys(e,gr,ma);break;case 4:if(os(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-_n(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ZL(n/1960))-n,10<n){e.timeoutHandle=G0(Ys.bind(null,e,gr,ma),n);break}Ys(e,gr,ma);break;case 5:Ys(e,gr,ma);break;default:throw Error(J(329))}}}return kr(e,ot()),e.callbackNode===r?QC.bind(null,e):null}function py(e,t){var r=Nc;return e.current.memoizedState.isDehydrated&&(vi(e,t).flags|=256),e=mm(e,t),e!==2&&(t=gr,gr=r,t!==null&&gy(t)),e}function gy(e){gr===null?gr=e:gr.push.apply(gr,e)}function JL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!On(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function os(e,t){for(t&=~Fv,t&=~Th,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_n(t),n=1<<r;e[r]=-1,t&=~n}}function Wj(e){if(Ne&6)throw Error(J(327));_o();var t=Gf(e,0);if(!(t&1))return kr(e,ot()),null;var r=mm(e,t);if(e.tag!==0&&r===2){var n=B0(e);n!==0&&(t=n,r=py(e,n))}if(r===1)throw r=Wc,vi(e,0),os(e,t),kr(e,ot()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e,gr,ma),kr(e,ot()),null}function Uv(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Yo=ot()+500,Ph&&zs())}}function Oi(e){vs!==null&&vs.tag===0&&!(Ne&6)&&_o();var t=Ne;Ne|=1;var r=tn.transition,n=Me;try{if(tn.transition=null,Me=1,e)return e()}finally{Me=n,tn.transition=r,Ne=t,!(Ne&6)&&zs()}}function Hv(){Cr=go.current,Be(go)}function vi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PL(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(kv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&em();break;case 3:Ko(),Be(wr),Be(Qt),Mv();break;case 5:Av(n);break;case 4:Ko();break;case 13:Be(Xe);break;case 19:Be(Xe);break;case 10:Ev(n.type._context);break;case 22:case 23:Hv()}r=r.return}if(Tt=e,dt=e=Cs(e.current,null),Ht=Cr=t,vt=0,Wc=null,Fv=Th=Pi=0,gr=Nc=null,ri!==null){for(t=0;t<ri.length;t++)if(r=ri[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}ri=null}return e}function ZC(e,t){do{var r=dt;try{if(_v(),kf.current=cm,lm){for(var n=Qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}lm=!1}if(Ci=0,At=yt=Qe=null,jc=!1,Uc=0,zv.current=null,r===null||r.return===null){vt=1,Wc=t,dt=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Mj(i);if(h!==null){h.flags&=-257,Tj(h,i,l,s,t),h.mode&1&&Aj(s,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Aj(s,u,t),Vv();break e}c=Error(J(426))}}else if(Ve&&l.mode&1){var v=Mj(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Tj(v,i,l,s,t),Nv(qo(c,l));break e}}s=c=qo(c,l),vt!==4&&(vt=2),Nc===null?Nc=[s]:Nc.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=DC(s,c,t);Sj(s,y);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_s===null||!_s.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=RC(s,l,t);Sj(s,j);break e}}s=s.return}while(s!==null)}tP(r)}catch(k){t=k,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function JC(){var e=um.current;return um.current=cm,e===null?cm:e}function Vv(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||!(Pi&268435455)&&!(Th&268435455)||os(Tt,Ht)}function mm(e,t){var r=Ne;Ne|=2;var n=JC();(Tt!==e||Ht!==t)&&(ma=null,vi(e,t));do try{e$();break}catch(a){ZC(e,a)}while(!0);if(_v(),Ne=r,um.current=n,dt!==null)throw Error(J(261));return Tt=null,Ht=0,vt}function e$(){for(;dt!==null;)eP(dt)}function t$(){for(;dt!==null&&!_R();)eP(dt)}function eP(e){var t=nP(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?tP(e):dt=t,zv.current=null}function tP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=YL(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,dt=null;return}}else if(r=qL(r,t,Cr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);vt===0&&(vt=5)}function Ys(e,t,r){var n=Me,a=tn.transition;try{tn.transition=null,Me=1,r$(e,t,r,n)}finally{tn.transition=a,Me=n}return null}function r$(e,t,r,n){do _o();while(vs!==null);if(Ne&6)throw Error(J(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(RR(e,s),e===Tt&&(dt=Tt=null,Ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rd||(Rd=!0,aP(Yf,function(){return _o(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=tn.transition,tn.transition=null;var i=Me;Me=1;var l=Ne;Ne|=4,zv.current=null,XL(e,r),GC(r,e),jL(q0),Xf=!!K0,q0=K0=null,e.current=r,QL(r),ER(),Ne=l,Me=i,tn.transition=s}else e.current=r;if(Rd&&(Rd=!1,vs=e,fm=a),s=e.pendingLanes,s===0&&(_s=null),OR(r.stateNode),kr(e,ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(dm)throw dm=!1,e=my,my=null,e;return fm&1&&e.tag!==0&&_o(),s=e.pendingLanes,s&1?e===hy?Sc++:(Sc=0,hy=e):Sc=0,zs(),null}function _o(){if(vs!==null){var e=DE(fm),t=tn.transition,r=Me;try{if(tn.transition=null,Me=16>e?16:e,vs===null)var n=!1;else{if(e=vs,vs=null,fm=0,Ne&6)throw Error(J(331));var a=Ne;for(Ne|=4,ie=e.current;ie!==null;){var s=ie,i=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:kc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var m=d.sibling,h=d.return;if(KC(d),d===u){ie=null;break}if(m!==null){m.return=h,ie=m;break}ie=h}}}var p=s.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ie=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ie=i;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var w=e.current;for(ie=w;ie!==null;){i=ie;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ie=b;else e:for(i=w;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mh(9,l)}}catch(k){nt(l,l.return,k)}if(l===i){ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ie=j;break e}ie=l.return}}if(Ne=a,zs(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Nh,e)}catch{}n=!0}return n}finally{Me=r,tn.transition=t}}return!1}function Kj(e,t,r){t=qo(r,t),t=DC(e,t,1),e=Ss(e,t,1),t=sr(),e!==null&&(ku(e,1,t),kr(e,t))}function nt(e,t,r){if(e.tag===3)Kj(e,e,r);else for(;t!==null;){if(t.tag===3){Kj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_s===null||!_s.has(n))){e=qo(r,e),e=RC(t,e,1),t=Ss(t,e,1),e=sr(),t!==null&&(ku(t,1,e),kr(t,e));break}}t=t.return}}function n$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Ht&r)===r&&(vt===4||vt===3&&(Ht&130023424)===Ht&&500>ot()-Bv?vi(e,0):Fv|=r),kr(e,t)}function rP(e,t){t===0&&(e.mode&1?(t=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):t=1);var r=sr();e=Ma(e,t),e!==null&&(ku(e,t,r),kr(e,r))}function a$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rP(e,r)}function s$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),rP(e,r)}var nP;nP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)yr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yr=!1,KL(e,t,r);yr=!!(e.flags&131072)}else yr=!1,Ve&&t.flags&1048576&&oC(t,nm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sf(e,t),e=t.pendingProps;var a=Ho(t,Qt.current);So(t,r),a=Iv(null,t,n,e,a,r);var s=Dv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jr(n)?(s=!0,tm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Pv(t),a.updater=Ah,t.stateNode=a,a._reactInternals=t,ry(t,n,e,r),t=sy(null,t,n,!0,s,r)):(t.tag=0,Ve&&s&&jv(t),rr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=o$(n),e=hn(n,e),a){case 0:t=ay(null,t,n,e,r);break e;case 1:t=Rj(null,t,n,e,r);break e;case 11:t=Ij(null,t,n,e,r);break e;case 14:t=Dj(null,t,n,hn(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:hn(n,a),ay(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:hn(n,a),Rj(e,t,n,a,r);case 3:e:{if(FC(t),e===null)throw Error(J(387));n=t.pendingProps,s=t.memoizedState,a=s.element,mC(e,t),im(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=qo(Error(J(423)),t),t=Lj(e,t,n,r,a);break e}else if(n!==a){a=qo(Error(J(424)),t),t=Lj(e,t,n,r,a);break e}else for(Mr=Ns(t.stateNode.containerInfo.firstChild),Ir=t,Ve=!0,vn=null,r=dC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vo(),n===a){t=Ta(e,t,r);break e}rr(e,t,n,r)}t=t.child}return t;case 5:return hC(t),e===null&&J0(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Y0(n,a)?i=null:s!==null&&Y0(n,s)&&(t.flags|=32),zC(e,t),rr(e,t,i,r),t.child;case 6:return e===null&&J0(t),null;case 13:return BC(e,t,r);case 4:return Ov(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wo(t,null,n,r):rr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:hn(n,a),Ij(e,t,n,a,r);case 7:return rr(e,t,t.pendingProps,r),t.child;case 8:return rr(e,t,t.pendingProps.children,r),t.child;case 12:return rr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,$e(am,n._currentValue),n._currentValue=i,s!==null)if(On(s.value,i)){if(s.children===a.children&&!wr.current){t=Ta(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Sa(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),ey(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(J(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ey(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}rr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,So(t,r),a=rn(a),n=n(a),t.flags|=1,rr(e,t,n,r),t.child;case 14:return n=t.type,a=hn(n,t.pendingProps),a=hn(n.type,a),Dj(e,t,n,a,r);case 15:return LC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:hn(n,a),Sf(e,t),t.tag=1,jr(n)?(e=!0,tm(t)):e=!1,So(t,r),IC(t,n,a),ry(t,n,a,r),sy(null,t,n,!0,e,r);case 19:return UC(e,t,r);case 22:return $C(e,t,r)}throw Error(J(156,t.tag))};function aP(e,t){return AE(e,t)}function i$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(e,t,r,n){return new i$(e,t,r,n)}function Wv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function o$(e){if(typeof e=="function")return Wv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uv)return 11;if(e===dv)return 14}return 2}function Cs(e,t){var r=e.alternate;return r===null?(r=Jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cf(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")Wv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case so:return bi(r.children,a,s,t);case cv:i=8,a|=8;break;case _0:return e=Jr(12,r,t,a|2),e.elementType=_0,e.lanes=s,e;case E0:return e=Jr(13,r,t,a),e.elementType=E0,e.lanes=s,e;case C0:return e=Jr(19,r,t,a),e.elementType=C0,e.lanes=s,e;case hE:return Ih(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fE:i=10;break e;case mE:i=9;break e;case uv:i=11;break e;case dv:i=14;break e;case rs:i=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Jr(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function bi(e,t,r,n){return e=Jr(7,e,n,t),e.lanes=r,e}function Ih(e,t,r,n){return e=Jr(22,e,n,t),e.elementType=hE,e.lanes=r,e.stateNode={isHidden:!1},e}function Ig(e,t,r){return e=Jr(6,e,null,t),e.lanes=r,e}function Dg(e,t,r){return t=Jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pg(0),this.expirationTimes=pg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kv(e,t,r,n,a,s,i,l,c){return e=new l$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Jr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pv(s),e}function c$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sP(e){if(!e)return Ts;e=e._reactInternals;e:{if(Wi(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(jr(r))return sC(e,r,t)}return t}function iP(e,t,r,n,a,s,i,l,c){return e=Kv(r,n,!0,e,a,s,i,l,c),e.context=sP(null),r=e.current,n=sr(),a=Es(r),s=Sa(n,a),s.callback=t??null,Ss(r,s,a),e.current.lanes=a,ku(e,a,n),kr(e,n),e}function Dh(e,t,r,n){var a=t.current,s=sr(),i=Es(a);return r=sP(r),t.context===null?t.context=r:t.pendingContext=r,t=Sa(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ss(a,t,i),e!==null&&(En(e,a,i,s),jf(e,a,i)),i}function hm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qv(e,t){qj(e,t),(e=e.alternate)&&qj(e,t)}function u$(){return null}var oP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yv(e){this._internalRoot=e}Rh.prototype.render=Yv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Dh(e,t,null,null)};Rh.prototype.unmount=Yv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oi(function(){Dh(null,e,null,null)}),t[Aa]=null}};function Rh(e){this._internalRoot=e}Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=$E();e={blockedOn:null,target:e,priority:t};for(var r=0;r<is.length&&t!==0&&t<is[r].priority;r++);is.splice(r,0,e),r===0&&FE(e)}};function Gv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yj(){}function d$(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=hm(i);s.call(u)}}var i=iP(t,n,e,0,null,!1,!1,"",Yj);return e._reactRootContainer=i,e[Aa]=i.current,Lc(e.nodeType===8?e.parentNode:e),Oi(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=hm(c);l.call(u)}}var c=Kv(e,0,!1,null,null,!1,!1,"",Yj);return e._reactRootContainer=c,e[Aa]=c.current,Lc(e.nodeType===8?e.parentNode:e),Oi(function(){Dh(t,c,r,n)}),c}function $h(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=hm(i);l.call(c)}}Dh(t,i,e,a)}else i=d$(r,t,e,a,n);return hm(i)}RE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=oc(t.pendingLanes);r!==0&&(hv(t,r|1),kr(t,ot()),!(Ne&6)&&(Yo=ot()+500,zs()))}break;case 13:Oi(function(){var n=Ma(e,1);if(n!==null){var a=sr();En(n,e,1,a)}}),qv(e,1)}};pv=function(e){if(e.tag===13){var t=Ma(e,134217728);if(t!==null){var r=sr();En(t,e,134217728,r)}qv(e,134217728)}};LE=function(e){if(e.tag===13){var t=Es(e),r=Ma(e,t);if(r!==null){var n=sr();En(r,e,t,n)}qv(e,t)}};$E=function(){return Me};zE=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};$0=function(e,t,r){switch(t){case"input":if(A0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ch(n);if(!a)throw Error(J(90));gE(n),A0(n,a)}}}break;case"textarea":xE(e,r);break;case"select":t=r.value,t!=null&&wo(e,!!r.multiple,t,!1)}};SE=Uv;_E=Oi;var f$={usingClientEntryPoint:!1,Events:[Su,co,Ch,kE,NE,Uv]},Vl={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m$={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=PE(e),e===null?null:e.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||u$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Nh=Ld.inject(m$),qn=Ld}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f$;Br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gv(t))throw Error(J(200));return c$(e,t,null,r)};Br.createRoot=function(e,t){if(!Gv(e))throw Error(J(299));var r=!1,n="",a=oP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Kv(e,1,!1,null,null,r,!1,n,a),e[Aa]=t.current,Lc(e.nodeType===8?e.parentNode:e),new Yv(t)};Br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=PE(t),e=e===null?null:e.stateNode,e};Br.flushSync=function(e){return Oi(e)};Br.hydrate=function(e,t,r){if(!Lh(t))throw Error(J(200));return $h(null,e,t,!0,r)};Br.hydrateRoot=function(e,t,r){if(!Gv(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=oP;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=iP(t,null,e,1,r??null,a,!1,s,i),e[Aa]=t.current,Lc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Rh(t)};Br.render=function(e,t,r){if(!Lh(t))throw Error(J(200));return $h(null,e,t,!1,r)};Br.unmountComponentAtNode=function(e){if(!Lh(e))throw Error(J(40));return e._reactRootContainer?(Oi(function(){$h(null,null,e,!1,function(){e._reactRootContainer=null,e[Aa]=null})}),!0):!1};Br.unstable_batchedUpdates=Uv;Br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lh(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return $h(e,t,r,!1,n)};Br.version="18.3.1-next-f1338f8080-20240426";function lP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lP)}catch(e){console.error(e)}}lP(),lE.exports=Br;var Eu=lE.exports,Gj=Eu;N0.createRoot=Gj.createRoot,N0.hydrateRoot=Gj.hydrateRoot;var Cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},h$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},us,tv,B_,p$=(B_=class{constructor(){he(this,us,h$);he(this,tv,!1)}setTimeoutProvider(e){se(this,us,e)}setTimeout(e,t){return z(this,us).setTimeout(e,t)}clearTimeout(e){z(this,us).clearTimeout(e)}setInterval(e,t){return z(this,us).setInterval(e,t)}clearInterval(e){z(this,us).clearInterval(e)}},us=new WeakMap,tv=new WeakMap,B_),ai=new p$;function g$(e){setTimeout(e,0)}var Ai=typeof window>"u"||"Deno"in globalThis;function pr(){}function y$(e,t){return typeof e=="function"?e(t):e}function yy(e){return typeof e=="number"&&e>=0&&e!==1/0}function cP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ps(e,t){return typeof e=="function"?e(t):e}function Gr(e,t){return typeof e=="function"?e(t):e}function Xj(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Xv(i,t.options))return!1}else if(!qc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function Qj(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Kc(t.options.mutationKey)!==Kc(s))return!1}else if(!qc(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Xv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kc)(e)}function Kc(e){return JSON.stringify(e,(t,r)=>vy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>qc(e[r],t[r])):!1}var x$=Object.prototype.hasOwnProperty;function uP(e,t){if(e===t)return e;const r=Zj(e)&&Zj(t);if(!r&&!(vy(e)&&vy(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),i=s.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:s[u],f=e[d],m=t[d];if(f===m){l[d]=f,(r?u<a:x$.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const h=uP(f,m);l[d]=h,h===f&&c++}return a===i&&c===a?e:l}function xy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Zj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vy(e){if(!Jj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Jj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jj(e){return Object.prototype.toString.call(e)==="[object Object]"}function v$(e){return new Promise(t=>{ai.setTimeout(t,e)})}function by(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?uP(e,t):t}function b$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function w$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Qv=Symbol();function dP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function j$(e,t){return typeof e=="function"?e(...t):!!e}var ui,ds,Oo,U_,k$=(U_=class extends Cu{constructor(){super();he(this,ui);he(this,ds);he(this,Oo);se(this,Oo,t=>{if(!Ai&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,ds)||this.setEventListener(z(this,Oo))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ds))==null||t.call(this),se(this,ds,void 0))}setEventListener(t){var r;se(this,Oo,t),(r=z(this,ds))==null||r.call(this),se(this,ds,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,ui)!==t&&(se(this,ui,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,ui)=="boolean"?z(this,ui):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ui=new WeakMap,ds=new WeakMap,Oo=new WeakMap,U_),Zv=new k$;function wy(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var N$=g$;function S$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=N$;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Bt=S$(),Ao,fs,Mo,H_,_$=(H_=class extends Cu{constructor(){super();he(this,Ao,!0);he(this,fs);he(this,Mo);se(this,Mo,t=>{if(!Ai&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,fs)||this.setEventListener(z(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,fs))==null||t.call(this),se(this,fs,void 0))}setEventListener(t){var r;se(this,Mo,t),(r=z(this,fs))==null||r.call(this),se(this,fs,t(this.setOnline.bind(this)))}setOnline(t){z(this,Ao)!==t&&(se(this,Ao,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,Ao)}},Ao=new WeakMap,fs=new WeakMap,Mo=new WeakMap,H_),pm=new _$;function E$(e){return Math.min(1e3*2**e,3e4)}function fP(e){return(e??"online")==="online"?pm.isOnline():!0}var jy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function mP(e){let t=!1,r=0,n;const a=wy(),s=()=>a.status!=="pending",i=x=>{var v;if(!s()){const y=new jy(x);m(y),(v=e.onCancel)==null||v.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Zv.isFocused()&&(e.networkMode==="always"||pm.isOnline())&&e.canRun(),d=()=>fP(e.networkMode)&&e.canRun(),f=x=>{s()||(n==null||n(),a.resolve(x))},m=x=>{s()||(n==null||n(),a.reject(x))},h=()=>new Promise(x=>{var v;n=y=>{(s()||u())&&x(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),p=()=>{if(s())return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(f).catch(y=>{var N;if(s())return;const w=e.retry??(Ai?0:3),b=e.retryDelay??E$,j=typeof b=="function"?b(r,y):b,k=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(t||!k){m(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),v$(j).then(()=>u()?void 0:h()).then(()=>{t?m(y):p()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():h().then(p),a)}}var di,V_,hP=(V_=class{constructor(){he(this,di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yy(this.gcTime)&&se(this,di,ai.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ai?1/0:5*60*1e3))}clearGcTimeout(){z(this,di)&&(ai.clearTimeout(z(this,di)),se(this,di,void 0))}},di=new WeakMap,V_),fi,To,Yr,mi,Pt,yu,hi,pn,fa,W_,C$=(W_=class extends hP{constructor(t){super();he(this,pn);he(this,fi);he(this,To);he(this,Yr);he(this,mi);he(this,Pt);he(this,yu);he(this,hi);se(this,hi,!1),se(this,yu,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,mi,t.client),se(this,Yr,z(this,mi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,fi,tk(this.options)),this.state=t.state??z(this,fi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Pt))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,yu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=tk(this.options);r.data!==void 0&&(this.setState(ek(r.data,r.dataUpdatedAt)),se(this,fi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Yr).remove(this)}setData(t,r){const n=by(this.state.data,t,this.options);return be(this,pn,fa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,pn,fa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,Pt))==null?void 0:n.promise;return(a=z(this,Pt))==null||a.cancel(t),r?r.then(pr).catch(pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,fi))}isActive(){return this.observers.some(t=>Gr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ps(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Yr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,Pt)&&(z(this,hi)?z(this,Pt).cancel({revert:!0}):z(this,Pt).cancelRetry()),this.scheduleGc()),z(this,Yr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,pn,fa).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,m,h,p,x,v,y,w,b;if(this.state.fetchStatus!=="idle"&&((c=z(this,Pt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Pt))return z(this,Pt).continueRetry(),z(this,Pt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(se(this,hi,!0),n.signal)})},s=()=>{const j=dP(this.options,r),N=(()=>{const _={client:z(this,mi),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return se(this,hi,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,mi),state:this.state,fetchFn:s};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),se(this,To,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&be(this,pn,fa).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),se(this,Pt,mP({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof jy&&j.revert&&this.setState({...z(this,To),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{be(this,pn,fa).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{be(this,pn,fa).call(this,{type:"pause"})},onContinue:()=>{be(this,pn,fa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await z(this,Pt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(h=(m=z(this,Yr).config).onSuccess)==null||h.call(m,j,this),(x=(p=z(this,Yr).config).onSettled)==null||x.call(p,j,this.state.error,this),j}catch(j){if(j instanceof jy){if(j.silent)return z(this,Pt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw be(this,pn,fa).call(this,{type:"error",error:j}),(y=(v=z(this,Yr).config).onError)==null||y.call(v,j,this),(b=(w=z(this,Yr).config).onSettled)==null||b.call(w,this.state.data,j,this),j}finally{this.scheduleGc()}}},fi=new WeakMap,To=new WeakMap,Yr=new WeakMap,mi=new WeakMap,Pt=new WeakMap,yu=new WeakMap,hi=new WeakMap,pn=new WeakSet,fa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pP(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...ek(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,To,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Bt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Yr).notify({query:this,type:"updated",action:t})})},W_);function pP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ek(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function tk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mr,we,xu,er,pi,Io,ga,ms,vu,Do,Ro,gi,yi,hs,Lo,Pe,cc,ky,Ny,Sy,_y,Ey,Cy,Py,gP,K_,P$=(K_=class extends Cu{constructor(t,r){super();he(this,Pe);he(this,mr);he(this,we);he(this,xu);he(this,er);he(this,pi);he(this,Io);he(this,ga);he(this,ms);he(this,vu);he(this,Do);he(this,Ro);he(this,gi);he(this,yi);he(this,hs);he(this,Lo,new Set);this.options=r,se(this,mr,t),se(this,ms,null),se(this,ga,wy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,we).addObserver(this),rk(z(this,we),this.options)?be(this,Pe,cc).call(this):this.updateResult(),be(this,Pe,_y).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oy(z(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oy(z(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Pe,Ey).call(this),be(this,Pe,Cy).call(this),z(this,we).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,we);if(this.options=z(this,mr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gr(this.options.enabled,z(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Pe,Py).call(this),z(this,we).setOptions(this.options),r._defaulted&&!xy(this.options,r)&&z(this,mr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,we),observer:this});const a=this.hasListeners();a&&nk(z(this,we),n,this.options,r)&&be(this,Pe,cc).call(this),this.updateResult(),a&&(z(this,we)!==n||Gr(this.options.enabled,z(this,we))!==Gr(r.enabled,z(this,we))||Ps(this.options.staleTime,z(this,we))!==Ps(r.staleTime,z(this,we)))&&be(this,Pe,ky).call(this);const s=be(this,Pe,Ny).call(this);a&&(z(this,we)!==n||Gr(this.options.enabled,z(this,we))!==Gr(r.enabled,z(this,we))||s!==z(this,hs))&&be(this,Pe,Sy).call(this,s)}getOptimisticResult(t){const r=z(this,mr).getQueryCache().build(z(this,mr),t),n=this.createResult(r,t);return A$(this,n)&&(se(this,er,n),se(this,Io,this.options),se(this,pi,z(this,we).state)),n}getCurrentResult(){return z(this,er)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,ga).status==="pending"&&z(this,ga).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,Lo).add(t)}getCurrentQuery(){return z(this,we)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,mr).defaultQueryOptions(t),n=z(this,mr).getQueryCache().build(z(this,mr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,Pe,cc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,er)))}createResult(t,r){var E;const n=z(this,we),a=this.options,s=z(this,er),i=z(this,pi),l=z(this,Io),u=t!==n?t.state:z(this,xu),{state:d}=t;let f={...d},m=!1,h;if(r._optimisticResults){const A=this.hasListeners(),C=!A&&rk(t,r),O=A&&nk(t,n,r,a);(C||O)&&(f={...f,...pP(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:x,status:v}=f;h=f.data;let y=!1;if(r.placeholderData!==void 0&&h===void 0&&v==="pending"){let A;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=s.data,y=!0):A=typeof r.placeholderData=="function"?r.placeholderData((E=z(this,Ro))==null?void 0:E.state.data,z(this,Ro)):r.placeholderData,A!==void 0&&(v="success",h=by(s==null?void 0:s.data,A,r),m=!0)}if(r.select&&h!==void 0&&!y)if(s&&h===(i==null?void 0:i.data)&&r.select===z(this,vu))h=z(this,Do);else try{se(this,vu,r.select),h=r.select(h),h=by(s==null?void 0:s.data,h,r),se(this,Do,h),se(this,ms,null)}catch(A){se(this,ms,A)}z(this,ms)&&(p=z(this,ms),h=z(this,Do),x=Date.now(),v="error");const w=f.fetchStatus==="fetching",b=v==="pending",j=v==="error",k=b&&w,N=h!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&N,isStale:Jv(t,r),refetch:this.refetch,promise:z(this,ga),isEnabled:Gr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},C=()=>{const I=se(this,ga,S.promise=wy());A(I)},O=z(this,ga);switch(O.status){case"pending":t.queryHash===n.queryHash&&A(O);break;case"fulfilled":(S.status==="error"||S.data!==O.value)&&C();break;case"rejected":(S.status!=="error"||S.error!==O.reason)&&C();break}}return S}updateResult(){const t=z(this,er),r=this.createResult(z(this,we),this.options);if(se(this,pi,z(this,we).state),se(this,Io,this.options),z(this,pi).data!==void 0&&se(this,Ro,z(this,we)),xy(r,t))return;se(this,er,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,Lo).size)return!0;const i=new Set(s??z(this,Lo));return this.options.throwOnError&&i.add("error"),Object.keys(z(this,er)).some(l=>{const c=l;return z(this,er)[c]!==t[c]&&i.has(c)})};be(this,Pe,gP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Pe,_y).call(this)}},mr=new WeakMap,we=new WeakMap,xu=new WeakMap,er=new WeakMap,pi=new WeakMap,Io=new WeakMap,ga=new WeakMap,ms=new WeakMap,vu=new WeakMap,Do=new WeakMap,Ro=new WeakMap,gi=new WeakMap,yi=new WeakMap,hs=new WeakMap,Lo=new WeakMap,Pe=new WeakSet,cc=function(t){be(this,Pe,Py).call(this);let r=z(this,we).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(pr)),r},ky=function(){be(this,Pe,Ey).call(this);const t=Ps(this.options.staleTime,z(this,we));if(Ai||z(this,er).isStale||!yy(t))return;const n=cP(z(this,er).dataUpdatedAt,t)+1;se(this,gi,ai.setTimeout(()=>{z(this,er).isStale||this.updateResult()},n))},Ny=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,we)):this.options.refetchInterval)??!1},Sy=function(t){be(this,Pe,Cy).call(this),se(this,hs,t),!(Ai||Gr(this.options.enabled,z(this,we))===!1||!yy(z(this,hs))||z(this,hs)===0)&&se(this,yi,ai.setInterval(()=>{(this.options.refetchIntervalInBackground||Zv.isFocused())&&be(this,Pe,cc).call(this)},z(this,hs)))},_y=function(){be(this,Pe,ky).call(this),be(this,Pe,Sy).call(this,be(this,Pe,Ny).call(this))},Ey=function(){z(this,gi)&&(ai.clearTimeout(z(this,gi)),se(this,gi,void 0))},Cy=function(){z(this,yi)&&(ai.clearInterval(z(this,yi)),se(this,yi,void 0))},Py=function(){const t=z(this,mr).getQueryCache().build(z(this,mr),this.options);if(t===z(this,we))return;const r=z(this,we);se(this,we,t),se(this,xu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},gP=function(t){Bt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,er))}),z(this,mr).getQueryCache().notify({query:z(this,we),type:"observerResultsUpdated"})})},K_);function O$(e,t){return Gr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rk(e,t){return O$(e,t)||e.state.data!==void 0&&Oy(e,t,t.refetchOnMount)}function Oy(e,t,r){if(Gr(t.enabled,e)!==!1&&Ps(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Jv(e,t)}return!1}function nk(e,t,r,n){return(e!==t||Gr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Jv(e,r)}function Jv(e,t){return Gr(t.enabled,e)!==!1&&e.isStaleByTime(Ps(t.staleTime,e))}function A$(e,t){return!xy(e.getCurrentResult(),t)}function ak(e){return{onFetch:(t,r)=>{var d,f,m,h,p;const n=t.options,a=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},y=dP(t.options,t.fetchOptions),w=async(b,j,k)=>{if(x)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(C),C})(),S=await y(_),{maxPages:E}=t.options,A=k?w$:b$;return{pages:A(b.pages,S,E),pageParams:A(b.pageParams,j,E)}};if(a&&s.length){const b=a==="backward",j=b?M$:sk,k={pages:s,pageParams:i},N=j(n,k);l=await w(k,N,b)}else{const b=e??s.length;do{const j=c===0?i[0]??n.initialPageParam:sk(n,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function sk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function M$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var bu,Bn,tr,xi,Un,ts,q_,T$=(q_=class extends hP{constructor(t){super();he(this,Un);he(this,bu);he(this,Bn);he(this,tr);he(this,xi);se(this,bu,t.client),this.mutationId=t.mutationId,se(this,tr,t.mutationCache),se(this,Bn,[]),this.state=t.state||I$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Bn).includes(t)||(z(this,Bn).push(t),this.clearGcTimeout(),z(this,tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Bn,z(this,Bn).filter(r=>r!==t)),this.scheduleGc(),z(this,tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Bn).length||(this.state.status==="pending"?this.scheduleGc():z(this,tr).remove(this))}continue(){var t;return((t=z(this,xi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,m,h,p,x,v,y,w,b,j,k,N,_,S,E;const r=()=>{be(this,Un,ts).call(this,{type:"continue"})},n={client:z(this,bu),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,xi,mP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,C)=>{be(this,Un,ts).call(this,{type:"failed",failureCount:A,error:C})},onPause:()=>{be(this,Un,ts).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,tr).canRun(this)}));const a=this.state.status==="pending",s=!z(this,xi).canStart();try{if(a)r();else{be(this,Un,ts).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(i=z(this,tr).config).onMutate)==null?void 0:l.call(i,t,this,n));const C=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));C!==this.state.context&&be(this,Un,ts).call(this,{type:"pending",context:C,variables:t,isPaused:s})}const A=await z(this,xi).start();return await((f=(d=z(this,tr).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,A,t,this.state.context,n)),await((x=(p=z(this,tr).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this,n)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,A,null,t,this.state.context,n)),be(this,Un,ts).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(w=z(this,tr).config).onError)==null?void 0:b.call(w,A,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,A,t,this.state.context,n)),await((_=(N=z(this,tr).config).onSettled)==null?void 0:_.call(N,void 0,A,this.state.variables,this.state.context,this,n)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,A,t,this.state.context,n)),A}finally{be(this,Un,ts).call(this,{type:"error",error:A})}}finally{z(this,tr).runNext(this)}}},bu=new WeakMap,Bn=new WeakMap,tr=new WeakMap,xi=new WeakMap,Un=new WeakSet,ts=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Bt.batch(()=>{z(this,Bn).forEach(n=>{n.onMutationUpdate(t)}),z(this,tr).notify({mutation:this,type:"updated",action:t})})},q_);function I$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ya,gn,wu,Y_,D$=(Y_=class extends Cu{constructor(t={}){super();he(this,ya);he(this,gn);he(this,wu);this.config=t,se(this,ya,new Set),se(this,gn,new Map),se(this,wu,0)}build(t,r,n){const a=new T$({client:t,mutationCache:this,mutationId:++bd(this,wu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,ya).add(t);const r=$d(t);if(typeof r=="string"){const n=z(this,gn).get(r);n?n.push(t):z(this,gn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,ya).delete(t)){const r=$d(t);if(typeof r=="string"){const n=z(this,gn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,gn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=$d(t);if(typeof r=="string"){const n=z(this,gn).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=$d(t);if(typeof r=="string"){const a=(n=z(this,gn).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bt.batch(()=>{z(this,ya).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,ya).clear(),z(this,gn).clear()})}getAll(){return Array.from(z(this,ya))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Qj(r,n))}findAll(t={}){return this.getAll().filter(r=>Qj(t,r))}notify(t){Bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Bt.batch(()=>Promise.all(t.map(r=>r.continue().catch(pr))))}},ya=new WeakMap,gn=new WeakMap,wu=new WeakMap,Y_);function $d(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hn,G_,R$=(G_=class extends Cu{constructor(t={}){super();he(this,Hn);this.config=t,se(this,Hn,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Xv(a,r);let i=this.get(s);return i||(i=new C$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){z(this,Hn).has(t.queryHash)||(z(this,Hn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,Hn).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,Hn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Hn).get(t)}getAll(){return[...z(this,Hn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Xj(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Xj(t,n)):r}notify(t){Bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hn=new WeakMap,G_),rt,ps,gs,$o,zo,ys,Fo,Bo,X_,L$=(X_=class{constructor(e={}){he(this,rt);he(this,ps);he(this,gs);he(this,$o);he(this,zo);he(this,ys);he(this,Fo);he(this,Bo);se(this,rt,e.queryCache||new R$),se(this,ps,e.mutationCache||new D$),se(this,gs,e.defaultOptions||{}),se(this,$o,new Map),se(this,zo,new Map),se(this,ys,0)}mount(){bd(this,ys)._++,z(this,ys)===1&&(se(this,Fo,Zv.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,rt).onFocus())})),se(this,Bo,pm.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,rt).onOnline())})))}unmount(){var e,t;bd(this,ys)._--,z(this,ys)===0&&((e=z(this,Fo))==null||e.call(this),se(this,Fo,void 0),(t=z(this,Bo))==null||t.call(this),se(this,Bo,void 0))}isFetching(e){return z(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,ps).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,rt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ps(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,rt).get(n.queryHash),s=a==null?void 0:a.state.data,i=y$(t,s);if(i!==void 0)return z(this,rt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Bt.batch(()=>z(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,rt);Bt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,rt);return Bt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Bt.batch(()=>z(this,rt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(pr).catch(pr)}invalidateQueries(e,t={}){return Bt.batch(()=>(z(this,rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Bt.batch(()=>z(this,rt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(pr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(pr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,rt).build(this,t);return r.isStaleByTime(Ps(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pr).catch(pr)}fetchInfiniteQuery(e){return e.behavior=ak(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pr).catch(pr)}ensureInfiniteQueryData(e){return e.behavior=ak(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pm.isOnline()?z(this,ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,rt)}getMutationCache(){return z(this,ps)}getDefaultOptions(){return z(this,gs)}setDefaultOptions(e){se(this,gs,e)}setQueryDefaults(e,t){z(this,$o).set(Kc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,$o).values()],r={};return t.forEach(n=>{qc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,zo).set(Kc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,zo).values()],r={};return t.forEach(n=>{qc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,gs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,gs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,rt).clear(),z(this,ps).clear()}},rt=new WeakMap,ps=new WeakMap,gs=new WeakMap,$o=new WeakMap,zo=new WeakMap,ys=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,X_),yP=g.createContext(void 0),$$=e=>{const t=g.useContext(yP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},z$=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(yP.Provider,{value:e,children:t})),xP=g.createContext(!1),F$=()=>g.useContext(xP);xP.Provider;function B$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var U$=g.createContext(B$()),H$=()=>g.useContext(U$),V$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},W$=e=>{g.useEffect(()=>{e.clearReset()},[e])},K$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||j$(r,[e.error,n])),q$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Y$=(e,t)=>e.isLoading&&e.isFetching&&!t,G$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ik=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function X$(e,t,r){var f,m,h,p,x;const n=F$(),a=H$(),s=$$(),i=s.defaultQueryOptions(e);(m=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",q$(i),V$(i,a),W$(a);const l=!s.getQueryCache().get(i.queryHash),[c]=g.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(v=>{const y=d?c.subscribe(Bt.batchCalls(v)):pr;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(i)},[i,c]),G$(i,u))throw ik(i,c,a);if(K$({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((p=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,i,u),i.experimental_prefetchInRender&&!Ai&&Y$(u,n)){const v=l?ik(i,c,a):(x=s.getQueryCache().get(i.queryHash))==null?void 0:x.promise;v==null||v.catch(pr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Q$(e,t){return X$(e,P$)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ok="popstate";function Z$(e={}){function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return Ay("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Yc(a)}return ez(t,r,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function an(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J$(){return Math.random().toString(36).substring(2,10)}function lk(e,t){return{usr:e.state,key:e.key,idx:t}}function Ay(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vl(t):t,state:r,key:t&&t.key||n||J$()}}function Yc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function ez(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:y})}function m(v,y){l="PUSH";let w=Ay(x.location,v,y);u=d()+1;let b=lk(w,u),j=x.createHref(w);try{i.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}s&&c&&c({action:l,location:x.location,delta:1})}function h(v,y){l="REPLACE";let w=Ay(x.location,v,y);u=d();let b=lk(w,u),j=x.createHref(w);i.replaceState(b,"",j),s&&c&&c({action:l,location:x.location,delta:0})}function p(v){return tz(v)}let x={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ok,f),c=v,()=>{a.removeEventListener(ok,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:h,go(v){return i.go(v)}};return x}function tz(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Yc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function vP(e,t,r="/"){return rz(e,t,r,!1)}function rz(e,t,r,n){let a=typeof t=="string"?vl(t):t,s=Ia(a.pathname||"/",r);if(s==null)return null;let i=bP(e);nz(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=hz(s);l=fz(i[c],u,n)}return l}function bP(e,t=[],r=[],n="",a=!1){let s=(i,l,c=a,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Ze(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=_a([n,d.relativePath]),m=r.concat(d);i.children&&i.children.length>0&&(Ze(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),bP(i.children,t,m,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:uz(f,i.index),routesMeta:m})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let u of wP(i.path))s(i,l,!0,u)}),t}function wP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=wP(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function nz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var az=/^:[\w-]+$/,sz=3,iz=2,oz=1,lz=10,cz=-2,ck=e=>e==="*";function uz(e,t){let r=e.split("/"),n=r.length;return r.some(ck)&&(n+=cz),t&&(n+=iz),r.filter(a=>!ck(a)).reduce((a,s)=>a+(az.test(s)?sz:s===""?oz:lz),n)}function dz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function fz(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:_a([s,f.pathname]),pathnameBase:vz(_a([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=_a([s,f.pathnameBase]))}return i}function gm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=mz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=l[m]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function mz(e,t=!1,r=!0){an(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function hz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return an(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ia(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var pz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gz=e=>pz.test(e);function yz(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?vl(e):e,s;if(r)if(gz(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),an(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?s=uk(r.substring(1),"/"):s=uk(r,t)}else s=t;return{pathname:s,search:bz(n),hash:wz(a)}}function uk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Rg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jP(e){let t=xz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function kP(e,t,r,n=!1){let a;typeof e=="string"?a=vl(e):(a={...e},Ze(!a.pathname||!a.pathname.includes("?"),Rg("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),Rg("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),Rg("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=yz(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var _a=e=>e.join("/").replace(/\/\/+/g,"/"),vz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function kz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NP=["POST","PUT","PATCH","DELETE"];new Set(NP);var Nz=["GET",...NP];new Set(Nz);var bl=g.createContext(null);bl.displayName="DataRouter";var zh=g.createContext(null);zh.displayName="DataRouterState";g.createContext(!1);var SP=g.createContext({isTransitioning:!1});SP.displayName="ViewTransition";var Sz=g.createContext(new Map);Sz.displayName="Fetchers";var _z=g.createContext(null);_z.displayName="Await";var In=g.createContext(null);In.displayName="Navigation";var Pu=g.createContext(null);Pu.displayName="Location";var ia=g.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var eb=g.createContext(null);eb.displayName="RouteError";function Ez(e,{relative:t}={}){Ze(Ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(In),{hash:a,pathname:s,search:i}=Au(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:_a([r,s])),n.createHref({pathname:l,search:i,hash:a})}function Ou(){return g.useContext(Pu)!=null}function Va(){return Ze(Ou(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Pu).location}var _P="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EP(e){g.useContext(In).static||g.useLayoutEffect(e)}function Fh(){let{isDataRoute:e}=g.useContext(ia);return e?Uz():Cz()}function Cz(){Ze(Ou(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(bl),{basename:t,navigator:r}=g.useContext(In),{matches:n}=g.useContext(ia),{pathname:a}=Va(),s=JSON.stringify(jP(n)),i=g.useRef(!1);return EP(()=>{i.current=!0}),g.useCallback((c,u={})=>{if(an(i.current,_P),!i.current)return;if(typeof c=="number"){r.go(c);return}let d=kP(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:_a([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}var Pz=g.createContext(null);function Oz(e){let t=g.useContext(ia).outlet;return g.useMemo(()=>t&&g.createElement(Pz.Provider,{value:e},t),[t,e])}function Au(e,{relative:t}={}){let{matches:r}=g.useContext(ia),{pathname:n}=Va(),a=JSON.stringify(jP(r));return g.useMemo(()=>kP(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Az(e,t){return CP(e,t)}function CP(e,t,r,n,a){var w;Ze(Ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(In),{matches:i}=g.useContext(ia),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";PP(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let m=Va(),h;if(t){let b=typeof t=="string"?vl(t):t;Ze(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),h=b}else h=m;let p=h.pathname||"/",x=p;if(d!=="/"){let b=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=vP(e,{pathname:x});an(f||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),an(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Rz(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:_a([d,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:_a([d,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),i,r,n,a);return t&&y?g.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function Mz(){let e=Bz(),t=jz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,i)}var Tz=g.createElement(Mz,null),Iz=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(ia.Provider,{value:this.props.routeContext},g.createElement(eb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Dz({routeContext:e,match:t,children:r}){let n=g.useContext(bl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(ia.Provider,{value:e},r)}function Rz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);Ze(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=r&&n?(d,f)=>{var m,h;n(d,{location:r.location,params:((h=(m=r.matches)==null?void 0:m[0])==null?void 0:h.params)??{},unstable_pattern:kz(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,m)=>{let h,p=!1,x=null,v=null;r&&(h=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||Tz,l&&(c<0&&m===0?(PP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===m&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,m+1)),w=()=>{let b;return h?b=x:p?b=v:f.route.Component?b=g.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,g.createElement(Dz,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(Iz,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):w()},null)}function tb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lz(e){let t=g.useContext(bl);return Ze(t,tb(e)),t}function $z(e){let t=g.useContext(zh);return Ze(t,tb(e)),t}function zz(e){let t=g.useContext(ia);return Ze(t,tb(e)),t}function rb(e){let t=zz(e),r=t.matches[t.matches.length-1];return Ze(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Fz(){return rb("useRouteId")}function Bz(){var n;let e=g.useContext(eb),t=$z("useRouteError"),r=rb("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Uz(){let{router:e}=Lz("useNavigate"),t=rb("useNavigate"),r=g.useRef(!1);return EP(()=>{r.current=!0}),g.useCallback(async(a,s={})=>{an(r.current,_P),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var dk={};function PP(e,t,r){!t&&!dk[e]&&(dk[e]=!0,an(!1,r))}g.memo(Hz);function Hz({routes:e,future:t,state:r,unstable_onError:n}){return CP(e,void 0,r,n,t)}function Vz(e){return Oz(e.context)}function Gs(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:i}){Ze(!Ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:i,future:{}}),[l,a,s,i]);typeof r=="string"&&(r=vl(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:h="default"}=r,p=g.useMemo(()=>{let x=Ia(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:h},navigationType:n}},[l,u,d,f,m,h,n]);return an(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:g.createElement(In.Provider,{value:c},g.createElement(Pu.Provider,{children:t,value:p}))}function Kz({children:e,location:t}){return Az(My(e),t)}function My(e,t=[]){let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let s=[...t,a];if(n.type===g.Fragment){r.push.apply(r,My(n.props.children,s));return}Ze(n.type===Gs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=My(n.props.children,s)),r.push(i)}),r}var Pf="get",Of="application/x-www-form-urlencoded";function Bh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function qz(e){return Bh(e)&&e.tagName.toLowerCase()==="button"}function Yz(e){return Bh(e)&&e.tagName.toLowerCase()==="form"}function Gz(e){return Bh(e)&&e.tagName.toLowerCase()==="input"}function Xz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qz(e,t){return e.button===0&&(!t||t==="_self")&&!Xz(e)}function Ty(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Zz(e,t){let r=Ty(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}var zd=null;function Jz(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var eF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(e){return e!=null&&!eF.has(e)?(an(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):e}function tF(e,t){let r,n,a,s,i;if(Yz(e)){let l=e.getAttribute("action");n=l?Ia(l,t):null,r=e.getAttribute("method")||Pf,a=Lg(e.getAttribute("enctype"))||Of,s=new FormData(e)}else if(qz(e)||Gz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ia(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Pf,a=Lg(e.getAttribute("formenctype"))||Lg(l.getAttribute("enctype"))||Of,s=new FormData(l,e),!Jz()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,f)}}else{if(Bh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pf,n=null,a=Of,i=e}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rF(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Ia(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function nF(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function sF(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let i=await nF(s,r);return i.links?i.links():[]}return[]}));return cF(n.flat(1).filter(aF).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fk(e,t,r,n,a,s){let i=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function iF(e,t,{includeHydrateFallback:r}={}){return oF(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function oF(e){return[...new Set(e)]}function lF(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function cF(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(lF(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function OP(){let e=g.useContext(bl);return nb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function uF(){let e=g.useContext(zh);return nb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ab=g.createContext(void 0);ab.displayName="FrameworkContext";function AP(){let e=g.useContext(ab);return nb(e,"You must render this element inside a <HydratedRouter> element"),e}function dF(e,t){let r=g.useContext(ab),[n,a]=g.useState(!1),[s,i]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=g.useRef(null);g.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=y=>{y.forEach(w=>{i(w.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),g.useEffect(()=>{if(n){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[n]);let h=()=>{a(!0)},p=()=>{a(!1),i(!1)};return r?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Wl(l,h),onBlur:Wl(c,p),onMouseEnter:Wl(u,h),onMouseLeave:Wl(d,p),onTouchStart:Wl(f,h)}]:[!1,m,{}]}function Wl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function fF({page:e,...t}){let{router:r}=OP(),n=g.useMemo(()=>vP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?g.createElement(hF,{page:e,matches:n,...t}):null}function mF(e){let{manifest:t,routeModules:r}=AP(),[n,a]=g.useState([]);return g.useEffect(()=>{let s=!1;return sF(e,t,r).then(i=>{s||a(i)}),()=>{s=!0}},[e,t,r]),n}function hF({page:e,matches:t,...r}){let n=Va(),{manifest:a,routeModules:s}=AP(),{basename:i}=OP(),{loaderData:l,matches:c}=uF(),u=g.useMemo(()=>fk(e,t,c,a,n,"data"),[e,t,c,a,n]),d=g.useMemo(()=>fk(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=g.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,x=!1;if(t.forEach(y=>{var b;let w=a.routes[y.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===y.route.id)&&y.route.id in l&&((b=s[y.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?x=!0:p.add(y.route.id))}),p.size===0)return[];let v=rF(e,i,"data");return x&&p.size>0&&v.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[i,l,n,a,u,t,e,s]),m=g.useMemo(()=>iF(d,a),[d,a]),h=mF(d);return g.createElement(g.Fragment,null,f.map(p=>g.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),m.map(p=>g.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),h.map(({key:p,link:x})=>g.createElement("link",{key:p,nonce:r.nonce,...x})))}function pF(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var MP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MP&&(window.__reactRouterVersion="7.10.1")}catch{}function gF({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=g.useRef();a.current==null&&(a.current=Z$({window:n,v5Compat:!0}));let s=a.current,[i,l]=g.useState({action:s.action,location:s.location}),c=g.useCallback(u=>{r===!1?l(u):g.startTransition(()=>l(u))},[r]);return g.useLayoutEffect(()=>s.listen(c),[s,c]),g.createElement(Wz,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s,unstable_useTransitions:r===!0})}var TP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uh=g.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:p,unstable_useTransitions:x}=g.useContext(In),v=typeof u=="string"&&TP.test(u),y,w=!1;if(typeof u=="string"&&v&&(y=u,MP))try{let A=new URL(window.location.href),C=u.startsWith("//")?new URL(A.protocol+u):new URL(u),O=Ia(C.pathname,p);C.origin===A.origin&&O!=null?u=O+C.search+C.hash:w=!0}catch{an(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Ez(u,{relative:a}),[j,k,N]=dF(n,m),_=bF(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_useTransitions:x});function S(A){t&&t(A),A.defaultPrevented||_(A)}let E=g.createElement("a",{...m,...N,href:y||b,onClick:w||s?t:S,ref:pF(h,k),target:c,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?g.createElement(g.Fragment,null,E,g.createElement(fF,{page:b})):E});Uh.displayName="Link";var yF=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},d){let f=Au(i,{relative:u.relative}),m=Va(),h=g.useContext(zh),{navigator:p,basename:x}=g.useContext(In),v=h!=null&&_F(f)&&l===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=m.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&x&&(b=Ia(b,x)||b);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=w===y||!a&&w.startsWith(y)&&w.charAt(j)==="/",N=b!=null&&(b===y||!a&&b.startsWith(y)&&b.charAt(y.length)==="/"),_={isActive:k,isPending:N,isTransitioning:v},S=k?t:void 0,E;typeof n=="function"?E=n(_):E=[n,k?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(_):s;return g.createElement(Uh,{...u,"aria-current":S,className:E,ref:d,style:A,to:i,viewTransition:l},typeof c=="function"?c(_):c)});yF.displayName="NavLink";var xF=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:i=Pf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let{unstable_useTransitions:p}=g.useContext(In),x=NF(),v=SF(l,{relative:u}),y=i.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&TP.test(l),b=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,N=(k==null?void 0:k.getAttribute("formmethod"))||i,_=()=>x(k||j.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f});p&&r!==!1?g.startTransition(()=>_()):_()};return g.createElement("form",{ref:h,method:y,action:v,onSubmit:n?c:b,...m,"data-discover":!w&&e==="render"?"true":void 0})});xF.displayName="Form";function vF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IP(e){let t=g.useContext(bl);return Ze(t,vF(e)),t}function bF(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_useTransitions:l}={}){let c=Fh(),u=Va(),d=Au(e,{relative:s});return g.useCallback(f=>{if(Qz(f,t)){f.preventDefault();let m=r!==void 0?r:Yc(u)===Yc(d),h=()=>c(e,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:i});l?g.startTransition(()=>h()):h()}},[u,c,d,r,n,t,e,a,s,i,l])}function wF(e){an(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Ty(e)),r=g.useRef(!1),n=Va(),a=g.useMemo(()=>Zz(n.search,r.current?null:t.current),[n.search]),s=Fh(),i=g.useCallback((l,c)=>{const u=Ty(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,i]}var jF=0,kF=()=>`__${String(++jF)}__`;function NF(){let{router:e}=IP("useSubmit"),{basename:t}=g.useContext(In),r=Fz(),n=e.fetch,a=e.navigate;return g.useCallback(async(s,i={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=tF(s,t);if(i.navigate===!1){let m=i.fetcherKey||kF();await n(m,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await a(i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,t,r])}function SF(e,{relative:t}={}){let{basename:r}=g.useContext(In),n=g.useContext(ia);Ze(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Au(e||".",{relative:t})},i=Va();if(e==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:_a([r,s.pathname])),Yc(s)}function _F(e,{relative:t}={}){let r=g.useContext(SP);Ze(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=IP("useViewTransitionState"),a=Au(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ia(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Ia(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gm(a.pathname,i)!=null||gm(a.pathname,s)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...EF,width:a,height:a,stroke:n,strokeWidth:i?Number(s)*24/Number(a):s,className:["lucide",`lucide-${CF(e)}`,l].join(" "),...u},[...t.map(([f,m])=>g.createElement(f,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ee("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ee("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ee("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=ee("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ee("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ee("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ee("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ee("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ee("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=ee("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ee("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=ee("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ee("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=ee("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=ee("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=ee("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ee("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=ee("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=ee("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),h6=()=>{const e=Va(),[t,r]=g.useState(!1);g.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const i=!t;r(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=i=>e.pathname===i,s=e.pathname==="/canvas";return o.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[o.jsxs("aside",{className:`${s?"w-16":"w-64"} bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-all duration-200`,children:[o.jsxs("div",{className:`${s?"p-4":"p-6"} border-b border-slate-800 dark:border-slate-900 flex items-center ${s?"justify-center":"gap-3"}`,children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-lg shrink-0 shadow-lg shadow-blue-900/20",children:"S"}),!s&&o.jsx("h1",{className:"text-xl font-bold tracking-tight whitespace-nowrap bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Skyulf ML"})]}),o.jsxs("nav",{className:"flex-1 p-2 space-y-2",children:[o.jsx(Kl,{to:"/",active:a("/"),icon:o.jsx(FP,{size:20}),collapsed:s,children:"Dashboard"}),o.jsx(Kl,{to:"/canvas",active:a("/canvas"),icon:o.jsx(zP,{size:20}),collapsed:s,children:"ML Canvas"}),o.jsx(Kl,{to:"/data",active:a("/data"),icon:o.jsx(Jn,{size:20}),collapsed:s,children:"Data Sources"}),o.jsx(Kl,{to:"/registry",active:a("/registry"),icon:o.jsx(Iy,{size:20}),collapsed:s,children:"Model Registry"}),o.jsx(Kl,{to:"/deployments",active:a("/deployments"),icon:o.jsx(Vh,{size:20}),collapsed:s,children:"Deployments"})]}),o.jsx("div",{className:`${s?"p-2":"p-4"} border-t border-slate-800 space-y-4`,children:o.jsxs("button",{onClick:n,className:`flex items-center ${s?"justify-center":"gap-3"} w-full ${s?"px-2":"px-4"} py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors`,title:t?"Light Mode":"Dark Mode",children:[t?o.jsx(c6,{size:20}):o.jsx(ZF,{size:20}),!s&&(t?"Light Mode":"Dark Mode")]})})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(Vz,{})})]})},Kl=({to:e,children:t,active:r,icon:n,collapsed:a})=>o.jsxs(Uh,{to:e,className:`flex items-center ${a?"justify-center":"gap-3"} ${a?"px-2":"px-4"} py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:a?t:void 0,children:[n,!a&&t]});function WP(e,t){return function(){return e.apply(t,arguments)}}const{toString:p6}=Object.prototype,{getPrototypeOf:db}=Object,{iterator:Wh,toStringTag:KP}=Symbol,Kh=(e=>t=>{const r=p6.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Dn=e=>(e=e.toLowerCase(),t=>Kh(t)===e),qh=e=>t=>typeof t===e,{isArray:wl}=Array,Go=qh("undefined");function Iu(e){return e!==null&&!Go(e)&&e.constructor!==null&&!Go(e.constructor)&&Nr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qP=Dn("ArrayBuffer");function g6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qP(e.buffer),t}const y6=qh("string"),Nr=qh("function"),YP=qh("number"),Du=e=>e!==null&&typeof e=="object",x6=e=>e===!0||e===!1,Af=e=>{if(Kh(e)!=="object")return!1;const t=db(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(KP in e)&&!(Wh in e)},v6=e=>{if(!Du(e)||Iu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},b6=Dn("Date"),w6=Dn("File"),j6=Dn("Blob"),k6=Dn("FileList"),N6=e=>Du(e)&&Nr(e.pipe),S6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nr(e.append)&&((t=Kh(e))==="formdata"||t==="object"&&Nr(e.toString)&&e.toString()==="[object FormData]"))},_6=Dn("URLSearchParams"),[E6,C6,P6,O6]=["ReadableStream","Request","Response","Headers"].map(Dn),A6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ru(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),wl(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Iu(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function GP(e,t){if(Iu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XP=e=>!Go(e)&&e!==si;function Ly(){const{caseless:e,skipUndefined:t}=XP(this)&&this||{},r={},n=(a,s)=>{const i=e&&GP(r,s)||s;Af(r[i])&&Af(a)?r[i]=Ly(r[i],a):Af(a)?r[i]=Ly({},a):wl(a)?r[i]=a.slice():(!t||!Go(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ru(arguments[a],n);return r}const M6=(e,t,r,{allOwnKeys:n}={})=>(Ru(t,(a,s)=>{r&&Nr(a)?e[s]=WP(a,r):e[s]=a},{allOwnKeys:n}),e),T6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),I6=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},D6=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&db(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},R6=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},L6=e=>{if(!e)return null;if(wl(e))return e;let t=e.length;if(!YP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},$6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&db(Uint8Array)),z6=(e,t)=>{const n=(e&&e[Wh]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},F6=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},B6=Dn("HTMLFormElement"),U6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),yk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),H6=Dn("RegExp"),QP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ru(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},V6=e=>{QP(e,(t,r)=>{if(Nr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Nr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},W6=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return wl(e)?n(e):n(String(e).split(t)),r},K6=()=>{},q6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Y6(e){return!!(e&&Nr(e.append)&&e[KP]==="FormData"&&e[Wh])}const G6=e=>{const t=new Array(10),r=(n,a)=>{if(Du(n)){if(t.indexOf(n)>=0)return;if(Iu(n))return n;if(!("toJSON"in n)){t[a]=n;const s=wl(n)?[]:{};return Ru(n,(i,l)=>{const c=r(i,a+1);!Go(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},X6=Dn("AsyncFunction"),Q6=e=>e&&(Du(e)||Nr(e))&&Nr(e.then)&&Nr(e.catch),ZP=((e,t)=>e?setImmediate:t?((r,n)=>(si.addEventListener("message",({source:a,data:s})=>{a===si&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),si.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Nr(si.postMessage)),Z6=typeof queueMicrotask<"u"?queueMicrotask.bind(si):typeof process<"u"&&process.nextTick||ZP,J6=e=>e!=null&&Nr(e[Wh]),K={isArray:wl,isArrayBuffer:qP,isBuffer:Iu,isFormData:S6,isArrayBufferView:g6,isString:y6,isNumber:YP,isBoolean:x6,isObject:Du,isPlainObject:Af,isEmptyObject:v6,isReadableStream:E6,isRequest:C6,isResponse:P6,isHeaders:O6,isUndefined:Go,isDate:b6,isFile:w6,isBlob:j6,isRegExp:H6,isFunction:Nr,isStream:N6,isURLSearchParams:_6,isTypedArray:$6,isFileList:k6,forEach:Ru,merge:Ly,extend:M6,trim:A6,stripBOM:T6,inherits:I6,toFlatObject:D6,kindOf:Kh,kindOfTest:Dn,endsWith:R6,toArray:L6,forEachEntry:z6,matchAll:F6,isHTMLForm:B6,hasOwnProperty:yk,hasOwnProp:yk,reduceDescriptors:QP,freezeMethods:V6,toObjectSet:W6,toCamelCase:U6,noop:K6,toFiniteNumber:q6,findKey:GP,global:si,isContextDefined:XP,isSpecCompliantForm:Y6,toJSONObject:G6,isAsyncFn:X6,isThenable:Q6,setImmediate:ZP,asap:Z6,isIterable:J6};function ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}K.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const JP=ye.prototype,eO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eO[e]={value:e}});Object.defineProperties(ye,eO);Object.defineProperty(JP,"isAxiosError",{value:!0});ye.from=(e,t,r,n,a,s)=>{const i=Object.create(JP);K.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const e8=null;function $y(e){return K.isPlainObject(e)||K.isArray(e)}function tO(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function xk(e,t,r){return e?e.concat(t).map(function(a,s){return a=tO(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function t8(e){return K.isArray(e)&&!e.some($y)}const r8=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function Yh(e,t,r){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!K.isUndefined(v[x])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(K.isBoolean(p))return p.toString();if(!c&&K.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,v){let y=p;if(p&&!v&&typeof p=="object"){if(K.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&t8(p)||(K.isFileList(p)||K.endsWith(x,"[]"))&&(y=K.toArray(p)))return x=tO(x),y.forEach(function(b,j){!(K.isUndefined(b)||b===null)&&t.append(i===!0?xk([x],j,s):i===null?x:x+"[]",u(b))}),!1}return $y(p)?!0:(t.append(xk(v,x,s),u(p)),!1)}const f=[],m=Object.assign(r8,{defaultVisitor:d,convertValue:u,isVisitable:$y});function h(p,x){if(!K.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),K.forEach(p,function(y,w){(!(K.isUndefined(y)||y===null)&&a.call(t,y,K.isString(w)?w.trim():w,x,m))===!0&&h(y,x?x.concat(w):[w])}),f.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return h(e),t}function vk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function fb(e,t){this._pairs=[],e&&Yh(e,this,t)}const rO=fb.prototype;rO.append=function(t,r){this._pairs.push([t,r])};rO.toString=function(t){const r=t?function(n){return t.call(this,n,vk)}:vk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function n8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function nO(e,t,r){if(!t)return e;const n=r&&r.encode||n8;K.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=K.isURLSearchParams(t)?t.toString():new fb(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class bk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(n){n!==null&&t(n)})}}const aO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a8=typeof URLSearchParams<"u"?URLSearchParams:fb,s8=typeof FormData<"u"?FormData:null,i8=typeof Blob<"u"?Blob:null,o8={isBrowser:!0,classes:{URLSearchParams:a8,FormData:s8,Blob:i8},protocols:["http","https","file","blob","url","data"]},mb=typeof window<"u"&&typeof document<"u",zy=typeof navigator=="object"&&navigator||void 0,l8=mb&&(!zy||["ReactNative","NativeScript","NS"].indexOf(zy.product)<0),c8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u8=mb&&window.location.href||"http://localhost",d8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mb,hasStandardBrowserEnv:l8,hasStandardBrowserWebWorkerEnv:c8,navigator:zy,origin:u8},Symbol.toStringTag,{value:"Module"})),Xt={...d8,...o8};function f8(e,t){return Yh(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,a,s){return Xt.isNode&&K.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function m8(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function h8(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function sO(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&K.isArray(a)?a.length:i,c?(K.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!K.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&K.isArray(a[i])&&(a[i]=h8(a[i])),!l)}if(K.isFormData(e)&&K.isFunction(e.entries)){const r={};return K.forEachEntry(e,(n,a)=>{t(m8(n),a,r,0)}),r}return null}function p8(e,t,r){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Lu={transitional:aO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=K.isObject(t);if(s&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return a?JSON.stringify(sO(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return f8(t,this.formSerializer).toString();if((l=K.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Yh(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),p8(t)):t}],transformResponse:[function(t){const r=this.transitional||Lu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{Lu.headers[e]={}});const g8=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y8=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&g8[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},wk=Symbol("internals");function ql(e){return e&&String(e).trim().toLowerCase()}function Mf(e){return e===!1||e==null?e:K.isArray(e)?e.map(Mf):String(e)}function x8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const v8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $g(e,t,r,n,a){if(K.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!K.isString(t)){if(K.isString(n))return t.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(t)}}function b8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function w8(e,t){const r=K.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}let Sr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=ql(c);if(!d)throw new Error("header name must be a non-empty string");const f=K.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Mf(l))}const i=(l,c)=>K.forEach(l,(u,d)=>s(u,d,c));if(K.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(K.isString(t)&&(t=t.trim())&&!v8(t))i(y8(t),r);else if(K.isObject(t)&&K.isIterable(t)){let l={},c,u;for(const d of t){if(!K.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?K.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=ql(t),t){const n=K.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return x8(a);if(K.isFunction(r))return r.call(this,a,n);if(K.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ql(t),t){const n=K.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||$g(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=ql(i),i){const l=K.findKey(n,i);l&&(!r||$g(n,n[l],l,r))&&(delete n[l],a=!0)}}return K.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||$g(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return K.forEach(this,(a,s)=>{const i=K.findKey(n,s);if(i){r[i]=Mf(a),delete r[s];return}const l=t?b8(s):String(s).trim();l!==s&&delete r[s],r[l]=Mf(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return K.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&K.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[wk]=this[wk]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=ql(i);n[l]||(w8(a,i),n[l]=!0)}return K.isArray(t)?t.forEach(s):s(t),this}};Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Sr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});K.freezeMethods(Sr);function zg(e,t){const r=this||Lu,n=t||r,a=Sr.from(n.headers);let s=n.data;return K.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function iO(e){return!!(e&&e.__CANCEL__)}function jl(e,t,r){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,r),this.name="CanceledError"}K.inherits(jl,ye,{__CANCEL__:!0});function oO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function j8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function k8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function N8(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const xm=(e,t,r=3)=>{let n=0;const a=k8(50,250);return N8(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},jk=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},kk=e=>(...t)=>K.asap(()=>e(...t)),S8=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,_8=Xt.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];K.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),K.isString(n)&&l.push(`path=${n}`),K.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),K.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function E8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function C8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lO(e,t,r){let n=!E8(t);return e&&(n||r==!1)?C8(e,t):t}const Nk=e=>e instanceof Sr?{...e}:e;function Ti(e,t){t=t||{};const r={};function n(u,d,f,m){return K.isPlainObject(u)&&K.isPlainObject(d)?K.merge.call({caseless:m},u,d):K.isPlainObject(d)?K.merge({},d):K.isArray(d)?d.slice():d}function a(u,d,f,m){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!K.isUndefined(d))return n(void 0,d)}function i(u,d){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(Nk(u),Nk(d),f,!0)};return K.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,m=f(e[d],t[d],d);K.isUndefined(m)&&f!==l||(r[d]=m)}),r}const cO=e=>{const t=Ti({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Sr.from(i),t.url=nO(lO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),K.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(K.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Xt.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(t)),n||n!==!1&&S8(t.url))){const c=a&&s&&_8.read(s);c&&i.set(a,c)}return t},P8=typeof XMLHttpRequest<"u",O8=P8&&function(e){return new Promise(function(r,n){const a=cO(e);let s=a.data;const i=Sr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,p;function x(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const b=Sr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};oO(function(_){r(_),x()},function(_){n(_),x()},k),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new ye("Request aborted",ye.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",N=new ye(k,ye.ERR_NETWORK,e,v);N.event=j||null,n(N),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||aO;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ye(j,k.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&K.forEach(i.toJSON(),function(j,k){v.setRequestHeader(k,j)}),K.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([m,p]=xm(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,h]=xm(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new jl(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=j8(a.url);if(w&&Xt.protocols.indexOf(w)===-1){n(new ye("Unsupported protocol "+w+":",ye.ERR_BAD_REQUEST,e));return}v.send(s||null)})},A8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new jl(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>K.asap(l),c}},M8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},T8=async function*(e,t){for await(const r of I8(e))yield*M8(r,t)},I8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Sk=(e,t,r,n)=>{const a=T8(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},_k=64*1024,{isFunction:Fd}=K,D8=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:Ek,TextEncoder:Ck}=K.global,Pk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},R8=e=>{e=K.merge.call({skipUndefined:!0},D8,e);const{fetch:t,Request:r,Response:n}=e,a=t?Fd(t):typeof fetch=="function",s=Fd(r),i=Fd(n);if(!a)return!1;const l=a&&Fd(Ek),c=a&&(typeof Ck=="function"?(p=>x=>p.encode(x))(new Ck):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&Pk(()=>{let p=!1;const x=new r(Xt.origin,{body:new Ek,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=i&&l&&Pk(()=>K.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,v)=>{let y=x&&x[p];if(y)return y.call(x);throw new ye(`Response type '${p}' is not supported`,ye.ERR_NOT_SUPPORT,v)})});const m=async p=>{if(p==null)return 0;if(K.isBlob(p))return p.size;if(K.isSpecCompliantForm(p))return(await new r(Xt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(K.isArrayBufferView(p)||K.isArrayBuffer(p))return p.byteLength;if(K.isURLSearchParams(p)&&(p=p+""),K.isString(p))return(await c(p)).byteLength},h=async(p,x)=>{const v=K.toFiniteNumber(p.getContentLength());return v??m(x)};return async p=>{let{url:x,method:v,data:y,signal:w,cancelToken:b,timeout:j,onDownloadProgress:k,onUploadProgress:N,responseType:_,headers:S,withCredentials:E="same-origin",fetchOptions:A}=cO(p),C=t||fetch;_=_?(_+"").toLowerCase():"text";let O=A8([w,b&&b.toAbortSignal()],j),I=null;const M=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let L;try{if(N&&u&&v!=="get"&&v!=="head"&&(L=await h(S,y))!==0){let F=new r(x,{method:"POST",body:y,duplex:"half"}),H;if(K.isFormData(y)&&(H=F.headers.get("content-type"))&&S.setContentType(H),F.body){const[B,Y]=jk(L,xm(kk(N)));y=Sk(F.body,_k,B,Y)}}K.isString(E)||(E=E?"include":"omit");const D=s&&"credentials"in r.prototype,R={...A,signal:O,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:y,duplex:"half",credentials:D?E:void 0};I=s&&new r(x,R);let T=await(s?C(I,A):C(x,R));const P=d&&(_==="stream"||_==="response");if(d&&(k||P&&M)){const F={};["status","statusText","headers"].forEach(X=>{F[X]=T[X]});const H=K.toFiniteNumber(T.headers.get("content-length")),[B,Y]=k&&jk(H,xm(kk(k),!0))||[];T=new n(Sk(T.body,_k,B,()=>{Y&&Y(),M&&M()}),F)}_=_||"text";let $=await f[K.findKey(f,_)||"text"](T,p);return!P&&M&&M(),await new Promise((F,H)=>{oO(F,H,{data:$,headers:Sr.from(T.headers),status:T.status,statusText:T.statusText,config:p,request:I})})}catch(D){throw M&&M(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,p,I),{cause:D.cause||D}):ye.from(D,D&&D.code,p,I)}}},L8=new Map,uO=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=L8;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:R8(t)),d=u;return u};uO();const hb={http:e8,xhr:O8,fetch:{get:uO}};K.forEach(hb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ok=e=>`- ${e}`,$8=e=>K.isFunction(e)||e===null||e===!1;function z8(e,t){e=K.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!$8(n)&&(a=hb[(l=String(n)).toLowerCase()],a===void 0))throw new ye(`Unknown adapter '${l}'`);if(a&&(K.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(Ok).join(`
`):" "+Ok(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const dO={getAdapter:z8,adapters:hb};function Fg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jl(null,e)}function Ak(e){return Fg(e),e.headers=Sr.from(e.headers),e.data=zg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dO.getAdapter(e.adapter||Lu.adapter,e)(e).then(function(n){return Fg(e),n.data=zg.call(e,e.transformResponse,n),n.headers=Sr.from(n.headers),n},function(n){return iO(n)||(Fg(e),n&&n.response&&(n.response.data=zg.call(e,e.transformResponse,n.response),n.response.headers=Sr.from(n.response.headers))),Promise.reject(n)})}const fO="1.13.2",Gh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Mk={};Gh.transitional=function(t,r,n){function a(s,i){return"[Axios v"+fO+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new ye(a(i," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!Mk[i]&&(Mk[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};Gh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function F8(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new ye("option "+s+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const Tf={assertOptions:F8,validators:Gh},zn=Tf.validators;let wi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bk,response:new bk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ti(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Tf.assertOptions(n,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),a!=null&&(K.isFunction(a)?r.paramsSerializer={serialize:a}:Tf.assertOptions(a,{encode:zn.function,serialize:zn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tf.assertOptions(r,{baseUrl:zn.spelling("baseURL"),withXsrfToken:zn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&K.merge(s.common,s[r.method]);s&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Sr.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,m;if(!c){const p=[Ak.bind(this),void 0];for(p.unshift(...l),p.push(...u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(;f<m;){const p=l[f++],x=l[f++];try{h=p(h)}catch(v){x.call(this,v);break}}try{d=Ak.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ti(this.defaults,t);const r=lO(t.baseURL,t.url,t.allowAbsoluteUrls);return nO(r,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){wi.prototype[t]=function(r,n){return this.request(Ti(n||{},{method:t,url:r,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(Ti(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}wi.prototype[t]=r(),wi.prototype[t+"Form"]=r(!0)});let B8=class mO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new jl(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new mO(function(a){t=a}),cancel:t}}};function U8(e){return function(r){return e.apply(null,r)}}function H8(e){return K.isObject(e)&&e.isAxiosError===!0}const Fy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fy).forEach(([e,t])=>{Fy[t]=e});function hO(e){const t=new wi(e),r=WP(wi.prototype.request,t);return K.extend(r,wi.prototype,t,{allOwnKeys:!0}),K.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return hO(Ti(e,a))},r}const ct=hO(Lu);ct.Axios=wi;ct.CanceledError=jl;ct.CancelToken=B8;ct.isCancel=iO;ct.VERSION=fO;ct.toFormData=Yh;ct.AxiosError=ye;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=U8;ct.isAxiosError=H8;ct.mergeConfig=Ti;ct.AxiosHeaders=Sr;ct.formToJSON=e=>sO(K.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=dO.getAdapter;ct.HttpStatusCode=Fy;ct.default=ct;const{Axios:_fe,AxiosError:Efe,CanceledError:Cfe,isCancel:Pfe,CancelToken:Ofe,VERSION:Afe,all:Mfe,Cancel:Tfe,isAxiosError:Ife,spread:Dfe,toFormData:Rfe,AxiosHeaders:Lfe,HttpStatusCode:$fe,formToJSON:zfe,getAdapter:Ffe,mergeConfig:Bfe}=ct,V8="/api",at=ct.create({baseURL:V8,headers:{"Content-Type":"application/json"}}),W8=async e=>(await at.post("/pipeline/preview",e)).data,K8=async e=>(await at.get(`/pipeline/datasets/${e}/schema`)).data,q8=async(e,t)=>(await at.post(`/pipeline/save/${e}`,t)).data,Y8=async e=>{const t=await at.get(`/pipeline/load/${e}`);return t.data?t.data:null},Mt={runPipeline:async e=>(await at.post("/pipeline/run",e)).data,getJob:async e=>(await at.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await at.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await at.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await at.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await at.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await at.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await at.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await at.get(`/pipeline/jobs/tuning/history/${e}`)).data},Tk=e=>typeof e=="object"&&e!==null,G8=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,s]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const[l,c]=await Promise.all([at.get("/pipeline/stats"),Mt.getJobs(5,0,"training")]);t(l.data),n(c.map(u=>({id:u.job_id,status:u.status,model_type:u.model_type||"Unknown",created_at:u.start_time||u.created_at||new Date().toISOString(),metrics:(()=>{const d=u.metrics??(Tk(u.result)?u.result.metrics:void 0);return Tk(d)?d:void 0})()})))}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{s(!1)}})()},[]),o.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),o.jsx(Uh,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(Bg,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),o.jsx(Bg,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),o.jsx(Bg,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(i=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:i.id,children:[i.id.substring(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:i.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${i.status==="succeeded"?"bg-green-100 text-green-800":i.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(i.created_at).toLocaleString()})]},i.id))})]})})]})]})},Bg=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&o.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Yl="/data/api",Bd="/api/ingestion",Cn={getAll:async()=>{const e=await fetch(`${Yl}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getUsable:async()=>{const e=await fetch(`${Yl}/sources/usable`);if(!e.ok)throw new Error("Failed to fetch usable datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Bd}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Bd}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Bd}/${encodeURIComponent(e)}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},cancelIngestion:async e=>{const t=await fetch(`${Bd}/${encodeURIComponent(e)}/cancel`,{method:"POST"});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to cancel ingestion")}},getById:async e=>{const t=await fetch(`${Yl}/sources/${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=new URLSearchParams({limit:t.toString()}),n=await fetch(`${Yl}/sources/${encodeURIComponent(e)}/sample?${r.toString()}`);if(!n.ok)throw new Error("Failed to fetch dataset sample");return(await n.json()).data},getProfile:async e=>{const t=await fetch(`/api/pipeline/datasets/${encodeURIComponent(e)}/schema`);if(!t.ok)throw new Error("Failed to fetch dataset profile");const r=await t.json(),n=Object.values(r.columns).map(i=>{const l=i;return{name:l.name,dtype:l.dtype,missing_count:l.missing_count||0,missing_percentage:(l.missing_ratio||0)*100,distinct_count:l.unique_count||0,numeric_summary:l.column_type==="numeric"?{mean:l.mean_value,std:l.std_value,minimum:l.min_value,maximum:l.max_value}:void 0}}),a=r.row_count*r.column_count,s=n.reduce((i,l)=>i+l.missing_count,0);return{metrics:{row_count:r.row_count,column_count:r.column_count,missing_cells:s,missing_percentage:a>0?Number((s/a*100).toFixed(2)):0},columns:n}},delete:async e=>{if(!(await fetch(`${Yl}/sources/${encodeURIComponent(e)}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")}},pO=({onUploadComplete:e,onCancel:t})=>{const[r,n]=g.useState(!1),[a,s]=g.useState(!1),[i,l]=g.useState(null),[c,u]=g.useState(0),d=g.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},[]),f=g.useCallback(p=>{p.preventDefault(),p.stopPropagation(),n(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&h(p.dataTransfer.files[0])},[]),m=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&h(p.target.files[0])},h=async p=>{s(!0),l(null),u(0);try{const x=await Cn.upload(p);e(x.job_id,p.name)}catch(x){console.error("Upload failed:",x),l(x.message||"Failed to upload file. Please try again.")}finally{s(!1)}};return o.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:o.jsx(Zt,{size:16})}),o.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[o.jsx(f6,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),o.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:a?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",c,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(zF,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",o.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",o.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:m})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),i&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[o.jsx(An,{size:16,className:"mt-0.5 shrink-0"}),o.jsx("span",{children:i})]})]})},gO=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,s)).toFixed(n))} ${a[s]}`},X8=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=g.useState([]),[s,i]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState("sample"),[h,p]=g.useState(100);g.useEffect(()=>{t&&e?x(100):(a([]),i(null),d(null),m("sample"),p(100))},[t,e]);const x=async k=>{if(e){c(!0),d(null);try{const[N,_]=await Promise.all([Cn.getSample(e.id,k),Cn.getProfile(e.id)]);a(N),i(_)}catch(N){console.error("Failed to fetch data:",N),d("Failed to load dataset preview.")}finally{c(!1)}}},v=()=>{const k=h+500;p(k),x(k)};if(!t||!e)return null;const y=n.length>0?Object.keys(n[0]):[],w=(s==null?void 0:s.metrics.row_count)??e.rows??0,b=(s==null?void 0:s.metrics.column_count)??e.columns??0,j=e.size_bytes??0;return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:o.jsx(Jn,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Hh,{size:14})," ",e.format||"CSV"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(PF,{size:14})," ",w.toLocaleString()," rows"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(DF,{size:14})," ",b," columns"]}),o.jsx("span",{children:""}),o.jsx("span",{children:gO(j)})]})]})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o.jsx(Zt,{size:20})})]}),o.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[o.jsx("button",{onClick:()=>{m("sample")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),o.jsx("button",{onClick:()=>{m("stats")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("p",{children:"Loading preview data..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx("p",{children:u}),o.jsx("button",{onClick:()=>{x(h)},className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):f==="sample"?n.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):y.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:o.jsx("tr",{children:y.map(k=>o.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:k},k))})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((k,N)=>o.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:y.map(_=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(k[_]??"")},`${N}-${_}`))},N))})]})})}),o.jsxs("div",{className:"flex justify-center items-center gap-4",children:[o.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),o.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Ud,{label:"Total Rows",value:s==null?void 0:s.metrics.row_count.toLocaleString()}),o.jsx(Ud,{label:"Total Columns",value:s==null?void 0:s.metrics.column_count}),o.jsx(Ud,{label:"Missing Cells",value:s==null?void 0:s.metrics.missing_cells.toLocaleString()}),o.jsx(Ud,{label:"Missing %",value:`${s==null?void 0:s.metrics.missing_percentage}%`})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:s==null?void 0:s.columns.map(k=>{var N,_,S,E;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:k.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:k.dtype}),o.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[k.missing_count," ",o.jsxs("span",{className:"text-xs text-slate-400",children:["(",k.missing_percentage,"%)"]})]}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:k.distinct_count}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((N=k.numeric_summary)==null?void 0:N.minimum.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((_=k.numeric_summary)==null?void 0:_.maximum.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((S=k.numeric_summary)==null?void 0:S.mean.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((E=k.numeric_summary)==null?void 0:E.std.toFixed(2))??"-"})]},k.name)})})]})})]})}),o.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:o.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Ud=({label:e,value:t})=>o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),Q8=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=g.useState("database"),[s,i]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(""),[f,m]=g.useState(""),[h,p]=g.useState("GET"),[x,v]=g.useState(""),[y,w]=g.useState(!1),[b,j]=g.useState(!1),[k,N]=g.useState(null);if(!e)return null;const _=async S=>{var E,A,C;S.preventDefault(),j(!0),N(null);try{const O={};if(n==="database")O.connection_string=l,O.query=u;else if(n==="s3"){O.path=x;const L=S.target,D=(E=L.elements.namedItem("aws_access_key_id"))==null?void 0:E.value,R=(A=L.elements.namedItem("aws_secret_access_key"))==null?void 0:A.value,T=(C=L.elements.namedItem("region_name"))==null?void 0:C.value;D&&R&&(O.storage_options={aws_access_key_id:D,aws_secret_access_key:R,region:T||void 0})}else O.url=f,O.method=h;const I={name:s,type:n,config:O,description:`Imported from ${n}`},M=await Cn.createSource(I);r(M.job_id),t()}catch(O){N(O.message||"Failed to create source")}finally{j(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700 shrink-0",children:[o.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:o.jsx(Zt,{size:20})})]}),o.jsxs("div",{className:"p-4 overflow-y-auto",children:[o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs("button",{onClick:()=>{a("database")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(Jn,{size:16})," Database"]}),o.jsxs("button",{onClick:()=>{a("s3")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="s3"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(LP,{size:16})," S3"]}),o.jsxs("button",{onClick:()=>{a("api")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(WF,{size:16})," API"]})]}),o.jsxs("form",{onSubmit:S=>{_(S)},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),o.jsx("input",{type:"text",required:!0,value:s,onChange:S=>{i(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),o.jsx("input",{type:"text",required:!0,value:l,onChange:S=>{c(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),o.jsx("textarea",{required:!0,value:u,onChange:S=>{d(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}),n==="s3"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S3 Path"}),o.jsx("input",{type:"text",required:!0,value:x,onChange:S=>{v(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"s3://my-bucket/path/to/data.parquet"})]}),o.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-md overflow-hidden",children:[o.jsxs("button",{type:"button",onClick:()=>w(!y),className:"w-full flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Credentials (Optional)"})}),y?o.jsx(It,{size:16,className:"text-slate-500"}):o.jsx(Qn,{size:16,className:"text-slate-500"})]}),y&&o.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"If your bucket is private, provide credentials here. They will be stored securely. Leave blank if using backend's IAM role."}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Access Key ID"}),o.jsx("input",{type:"text",name:"aws_access_key_id",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"AKIA..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Secret Access Key"}),o.jsx("input",{type:"password",name:"aws_secret_access_key",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"Secret..."})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Region"}),o.jsx("input",{type:"text",name:"region_name",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"us-east-1"})]})]})]})]})]}),n==="api"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),o.jsx("input",{type:"url",required:!0,value:f,onChange:S=>{m(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),o.jsxs("select",{value:h,onChange:S=>{p(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"GET",children:"GET"}),o.jsx("option",{value:"POST",children:"POST"})]})]})]}),k&&o.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:k}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:b?"Creating...":o.jsxs(o.Fragment,{children:[o.jsx(Gc,{size:16})," Create Source"]})})]})]})]})]})})},Z8=({isOpen:e,onClose:t,datasets:r,onRefresh:n})=>{const[a,s]=g.useState(null);if(!e)return null;const i=async c=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){s(c);try{await Cn.cancelIngestion(c),n&&n()}catch(u){console.error("Failed to cancel ingestion:",u),alert("Failed to cancel ingestion")}finally{s(null)}}},l=r.map(c=>{var u,d,f,m,h,p;return{id:c.id,name:c.name,status:((d=(u=c.source_metadata)==null?void 0:u.ingestion_status)==null?void 0:d.status)||"completed",created_at:c.created_at,message:((m=(f=c.source_metadata)==null?void 0:f.ingestion_status)==null?void 0:m.error)||(((p=(h=c.source_metadata)==null?void 0:h.ingestion_status)==null?void 0:p.status)==="cancelled"?"Ingestion cancelled":"Ingestion completed successfully")}}).sort((c,u)=>new Date(u.created_at).getTime()-new Date(c.created_at).getTime());return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:o.jsx(Zt,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?o.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):o.jsx("div",{className:"space-y-4",children:l.map(c=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[o.jsx("div",{className:"mt-1",children:c.status==="processing"||c.status==="pending"?o.jsx(Gn,{className:"text-blue-500 animate-spin",size:20}):c.status==="failed"?o.jsx(ob,{className:"text-red-500",size:20}):c.status==="cancelled"?o.jsx(mk,{className:"text-slate-500",size:20}):o.jsx(Zn,{className:"text-green-500",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:c.name}),o.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[o.jsx(lb,{size:12}),new Date(c.created_at).toLocaleString()]})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",o.jsx("span",{className:"capitalize",children:c.status})]}),(c.status==="failed"||c.status==="cancelled")&&o.jsx("p",{className:`text-sm mt-1 p-2 rounded ${c.status==="failed"?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10":"text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800"}`,children:c.message})]}),(c.status==="processing"||c.status==="pending")&&o.jsx("button",{onClick:()=>{i(c.id)},disabled:a===c.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:a===c.id?o.jsx(Gn,{className:"animate-spin",size:20}):o.jsx(mk,{size:20})})]},c.id))})})]})})},J8=()=>{const e=Fh(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(null),[h,p]=g.useState(null),[x,v]=g.useState(null),[y,w]=g.useState("completed"),b=t.filter(C=>{var I,M;const O=((M=(I=C.source_metadata)==null?void 0:I.ingestion_status)==null?void 0:M.status)||"completed";return y==="all"?!0:y==="active"?["processing","pending"].includes(O):O===y}),j=async()=>{t.length===0&&a(!0);try{const C=await Cn.getAll();r(C)}catch(C){console.error("Failed to fetch datasets:",C)}finally{a(!1)}};g.useEffect(()=>{j()},[]),g.useEffect(()=>{const C=setInterval(()=>{t.some(I=>{var M,L,D,R;return((L=(M=I.source_metadata)==null?void 0:M.ingestion_status)==null?void 0:L.status)==="pending"||((R=(D=I.source_metadata)==null?void 0:D.ingestion_status)==null?void 0:R.status)==="processing"})&&j()},5e3);return()=>{clearInterval(C)}},[t]);const k=async C=>{if(window.confirm("Are you sure you want to delete this dataset?")){m(C);try{await Cn.delete(C),r(t.filter(O=>O.id!==C))}catch(O){console.error("Failed to delete dataset:",O),alert("Failed to delete dataset")}finally{m(null)}}},N=async C=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){p(C);try{await Cn.cancelIngestion(C),j()}catch(O){console.error("Failed to cancel ingestion:",O),alert("Failed to cancel ingestion")}finally{p(null)}}},_=C=>{e(`/canvas?source_id=${C}`)},S=()=>{i(!1),j()},E=()=>{c(!1),j()},A=C=>{var I,M;const O=(M=(I=C.source_metadata)==null?void 0:I.ingestion_status)==null?void 0:M.status;return!O||O==="completed"?null:O==="failed"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):O==="cancelled"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-400",children:"Cancelled"}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[o.jsx(Gn,{size:12,className:"animate-spin"}),O==="processing"?"Processing...":"Pending..."]})};return o.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[o.jsx(X8,{dataset:x,isOpen:!!x,onClose:()=>{v(null)}}),o.jsx(Q8,{isOpen:l,onClose:()=>{c(!1)},onSuccess:E}),o.jsx(Z8,{isOpen:u,onClose:()=>{d(!1)},datasets:t,onRefresh:j}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>{d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[o.jsx(Dy,{size:18}),"Ingestion Jobs"]}),o.jsxs("button",{onClick:()=>{c(!0)},className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[o.jsx(Jn,{size:18}),"Add Source"]}),o.jsxs("button",{onClick:()=>{i(!s)},className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[o.jsx(qi,{size:18}),s?"Cancel Upload":"Upload File"]})]})]}),s&&o.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:o.jsx(pO,{onUploadComplete:S,onCancel:()=>{i(!1)}})}),o.jsx("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:["all","active","completed","failed","cancelled"].map(C=>o.jsx("button",{onClick:()=>{w(C)},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${y===C?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-slate-800 text-slate-600 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):b.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:t.length===0?o.jsxs(o.Fragment,{children:[o.jsx(Jn,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),o.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]}):o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets match the selected filter"})})}):b.map(C=>{var O,I,M,L,D,R,T;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:o.jsx(Hh,{size:18})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[C.name,A(C)]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:C.source_id||C.id})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:C.format||"CSV"})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:gO(C.size_bytes||0)}),o.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((O=C.rows)==null?void 0:O.toLocaleString())||"-"," rows  ",C.columns||"-"," cols"]})]})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dy,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(C.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((M=(I=C.source_metadata)==null?void 0:I.ingestion_status)==null?void 0:M.status)==="completed"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{v(C)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:o.jsx($F,{size:16})}),o.jsxs("button",{onClick:()=>{_(C.id)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[o.jsx(Ki,{size:16}),"Canvas"]})]}),(((D=(L=C.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:D.status)==="pending"||((T=(R=C.source_metadata)==null?void 0:R.ingestion_status)==null?void 0:T.status)==="processing")&&o.jsx("button",{onClick:()=>{N(C.id)},disabled:h===C.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:h===C.id?o.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):o.jsx(ob,{size:16})}),o.jsx("button",{onClick:()=>{k(C.id)},disabled:f===C.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:f===C.id?o.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Bs,{size:16})})]})})]},C.id)})})]})})})]})},ei=class ei{constructor(){Rl(this,"nodes",new Map)}static getInstance(){return ei.instance||(ei.instance=new ei),ei.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};Rl(ei,"instance");let By=ei;const _e=By.getInstance(),eB={},Ik=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(p=>p(t,h))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(eB?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},yO=e=>e?Ik(e):Ik;var xO={exports:{}},vO={},bO={exports:{}},wO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=g;function tB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rB=typeof Object.is=="function"?Object.is:tB,nB=Xo.useState,aB=Xo.useEffect,sB=Xo.useLayoutEffect,iB=Xo.useDebugValue;function oB(e,t){var r=t(),n=nB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return sB(function(){a.value=r,a.getSnapshot=t,Ug(a)&&s({inst:a})},[e,r,t]),aB(function(){return Ug(a)&&s({inst:a}),e(function(){Ug(a)&&s({inst:a})})},[e]),iB(r),r}function Ug(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rB(e,r)}catch{return!0}}function lB(e,t){return t()}var cB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lB:oB;wO.useSyncExternalStore=Xo.useSyncExternalStore!==void 0?Xo.useSyncExternalStore:cB;bO.exports=wO;var uB=bO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=g,dB=uB;function fB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mB=typeof Object.is=="function"?Object.is:fB,hB=dB.useSyncExternalStore,pB=Xh.useRef,gB=Xh.useEffect,yB=Xh.useMemo,xB=Xh.useDebugValue;vO.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=pB(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=yB(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var p=i.value;if(a(p,h))return f=p}return f=h}if(p=f,mB(d,h))return p;var x=n(h);return a!==void 0&&a(p,x)?(d=h,p):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=hB(e,s[0],s[1]);return gB(function(){i.hasValue=!0,i.value=l},[l]),xB(l),l};xO.exports=vO;var jO=xO.exports;const kO=sa(jO),NO={},{useDebugValue:vB}=Zr,{useSyncExternalStoreWithSelector:bB}=kO;let Dk=!1;const wB=e=>e;function jB(e,t=wB,r){(NO?"production":void 0)!=="production"&&r&&!Dk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Dk=!0);const n=bB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return vB(n),n}const Rk=e=>{(NO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?yO(e):e,r=(n,a)=>jB(t,n,a);return Object.assign(r,t),r},pb=e=>e?Rk(e):Rk;function mt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=mt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var kB={value:()=>{}};function Qh(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new If(r)}function If(e){this._=e}function NB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}If.prototype=Qh.prototype={constructor:If,on:function(e,t){var r=this._,n=NB(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=SB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=Lk(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Lk(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new If(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function SB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Lk(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=kB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Uy="http://www.w3.org/1999/xhtml";const $k={svg:"http://www.w3.org/2000/svg",xhtml:Uy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zh(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),$k.hasOwnProperty(t)?{space:$k[t],local:e}:e}function _B(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Uy&&t.documentElement.namespaceURI===Uy?t.createElement(e):t.createElementNS(r,e)}}function EB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function SO(e){var t=Zh(e);return(t.local?EB:_B)(t)}function CB(){}function gb(e){return e==null?CB:function(){return this.querySelector(e)}}function PB(e){typeof e!="function"&&(e=gb(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=new Array(i),c,u,d=0;d<i;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Lr(n,this._parents)}function OB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function AB(){return[]}function _O(e){return e==null?AB:function(){return this.querySelectorAll(e)}}function MB(e){return function(){return OB(e.apply(this,arguments))}}function TB(e){typeof e=="function"?e=MB(e):e=_O(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&(n.push(e.call(c,c.__data__,u,i)),a.push(c));return new Lr(n,a)}function EO(e){return function(){return this.matches(e)}}function CO(e){return function(t){return t.matches(e)}}var IB=Array.prototype.find;function DB(e){return function(){return IB.call(this.children,e)}}function RB(){return this.firstElementChild}function LB(e){return this.select(e==null?RB:DB(typeof e=="function"?e:CO(e)))}var $B=Array.prototype.filter;function zB(){return Array.from(this.children)}function FB(e){return function(){return $B.call(this.children,e)}}function BB(e){return this.selectAll(e==null?zB:FB(typeof e=="function"?e:CO(e)))}function UB(e){typeof e!="function"&&(e=EO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Lr(n,this._parents)}function PO(e){return new Array(e.length)}function HB(){return new Lr(this._enter||this._groups.map(PO),this._parents)}function vm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}vm.prototype={constructor:vm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function VB(e){return function(){return e}}function WB(e,t,r,n,a,s){for(var i=0,l,c=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],n[i]=l):r[i]=new vm(e,s[i]);for(;i<c;++i)(l=t[i])&&(a[i]=l)}function KB(e,t,r,n,a,s,i){var l,c,u=new Map,d=t.length,f=s.length,m=new Array(d),h;for(l=0;l<d;++l)(c=t[l])&&(m[l]=h=i.call(c,c.__data__,l,t)+"",u.has(h)?a[l]=c:u.set(h,c));for(l=0;l<f;++l)h=i.call(e,s[l],l,s)+"",(c=u.get(h))?(n[l]=c,c.__data__=s[l],u.delete(h)):r[l]=new vm(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(m[l])===c&&(a[l]=c)}function qB(e){return e.__data__}function YB(e,t){if(!arguments.length)return Array.from(this,qB);var r=t?KB:WB,n=this._parents,a=this._groups;typeof e!="function"&&(e=VB(e));for(var s=a.length,i=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],m=f.length,h=GB(e.call(d,d&&d.__data__,u,n)),p=h.length,x=l[u]=new Array(p),v=i[u]=new Array(p),y=c[u]=new Array(m);r(d,f,x,v,y,h,t);for(var w=0,b=0,j,k;w<p;++w)if(j=x[w]){for(w>=b&&(b=w+1);!(k=v[b])&&++b<p;);j._next=k||null}}return i=new Lr(i,n),i._enter=l,i._exit=c,i}function GB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XB(){return new Lr(this._exit||this._groups.map(PO),this._parents)}function QB(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function ZB(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),l=new Array(a),c=0;c<i;++c)for(var u=r[c],d=n[c],f=u.length,m=l[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||d[p])&&(m[p]=h);for(;c<a;++c)l[c]=r[c];return new Lr(l,this._parents)}function JB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function e7(e){e||(e=t7);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],l=i.length,c=a[s]=new Array(l),u,d=0;d<l;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new Lr(a,this._parents).order()}function t7(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function r7(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function n7(){return Array.from(this)}function a7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function s7(){let e=0;for(const t of this)++e;return e}function i7(){return!this.node()}function o7(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,l;s<i;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function l7(e){return function(){this.removeAttribute(e)}}function c7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u7(e,t){return function(){this.setAttribute(e,t)}}function d7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function f7(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function m7(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function h7(e,t){var r=Zh(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?c7:l7:typeof t=="function"?r.local?m7:f7:r.local?d7:u7)(r,t))}function OO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function p7(e){return function(){this.style.removeProperty(e)}}function g7(e,t,r){return function(){this.style.setProperty(e,t,r)}}function y7(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function x7(e,t,r){return arguments.length>1?this.each((t==null?p7:typeof t=="function"?y7:g7)(e,t,r??"")):Qo(this.node(),e)}function Qo(e,t){return e.style.getPropertyValue(t)||OO(e).getComputedStyle(e,null).getPropertyValue(t)}function v7(e){return function(){delete this[e]}}function b7(e,t){return function(){this[e]=t}}function w7(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function j7(e,t){return arguments.length>1?this.each((t==null?v7:typeof t=="function"?w7:b7)(e,t)):this.node()[e]}function AO(e){return e.trim().split(/^|\s+/)}function yb(e){return e.classList||new MO(e)}function MO(e){this._node=e,this._names=AO(e.getAttribute("class")||"")}MO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function TO(e,t){for(var r=yb(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function IO(e,t){for(var r=yb(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function k7(e){return function(){TO(this,e)}}function N7(e){return function(){IO(this,e)}}function S7(e,t){return function(){(t.apply(this,arguments)?TO:IO)(this,e)}}function _7(e,t){var r=AO(e+"");if(arguments.length<2){for(var n=yb(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?S7:t?k7:N7)(r,t))}function E7(){this.textContent=""}function C7(e){return function(){this.textContent=e}}function P7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function O7(e){return arguments.length?this.each(e==null?E7:(typeof e=="function"?P7:C7)(e)):this.node().textContent}function A7(){this.innerHTML=""}function M7(e){return function(){this.innerHTML=e}}function T7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function I7(e){return arguments.length?this.each(e==null?A7:(typeof e=="function"?T7:M7)(e)):this.node().innerHTML}function D7(){this.nextSibling&&this.parentNode.appendChild(this)}function R7(){return this.each(D7)}function L7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $7(){return this.each(L7)}function z7(e){var t=typeof e=="function"?e:SO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function F7(){return null}function B7(e,t){var r=typeof e=="function"?e:SO(e),n=t==null?F7:typeof t=="function"?t:gb(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function U7(){var e=this.parentNode;e&&e.removeChild(this)}function H7(){return this.each(U7)}function V7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function W7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function K7(e){return this.select(e?W7:V7)}function q7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Y7(e){return function(t){e.call(this,t,this.__data__)}}function G7(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function X7(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Q7(e,t,r){return function(){var n=this.__on,a,s=Y7(t);if(n){for(var i=0,l=n.length;i<l;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function Z7(e,t,r){var n=G7(e+""),a,s=n.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<s;++a)if((i=n[a]).type===d.type&&i.name===d.name)return d.value}return}for(l=t?Q7:X7,a=0;a<s;++a)this.each(l(n[a],t,r));return this}function DO(e,t,r){var n=OO(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function J7(e,t){return function(){return DO(this,e,t)}}function e9(e,t){return function(){return DO(this,e,t.apply(this,arguments))}}function t9(e,t){return this.each((typeof t=="function"?e9:J7)(e,t))}function*r9(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var RO=[null];function Lr(e,t){this._groups=e,this._parents=t}function $u(){return new Lr([[document.documentElement]],RO)}function n9(){return this}Lr.prototype=$u.prototype={constructor:Lr,select:PB,selectAll:TB,selectChild:LB,selectChildren:BB,filter:UB,data:YB,enter:HB,exit:XB,join:QB,merge:ZB,selection:n9,order:JB,sort:e7,call:r7,nodes:n7,node:a7,size:s7,empty:i7,each:o7,attr:h7,style:x7,property:j7,classed:_7,text:O7,html:I7,raise:R7,lower:$7,append:z7,insert:B7,remove:H7,clone:K7,datum:q7,on:Z7,dispatch:t9,[Symbol.iterator]:r9};function Or(e){return typeof e=="string"?new Lr([[document.querySelector(e)]],[document.documentElement]):new Lr([[e]],RO)}function a9(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xn(e,t){if(e=a9(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const s9={passive:!1},Xc={capture:!0,passive:!1};function Hg(e){e.stopImmediatePropagation()}function Eo(e){e.preventDefault(),e.stopImmediatePropagation()}function LO(e){var t=e.document.documentElement,r=Or(e).on("dragstart.drag",Eo,Xc);"onselectstart"in t?r.on("selectstart.drag",Eo,Xc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $O(e,t){var r=e.document.documentElement,n=Or(e).on("dragstart.drag",null);t&&(n.on("click.drag",Eo,Xc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Hd=e=>()=>e;function Hy(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Hy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function i9(e){return!e.ctrlKey&&!e.button}function o9(){return this.parentNode}function l9(e,t){return t??{x:e.x,y:e.y}}function c9(){return navigator.maxTouchPoints||"ontouchstart"in this}function zO(){var e=i9,t=o9,r=l9,n=c9,a={},s=Qh("start","drag","end"),i=0,l,c,u,d,f=0;function m(j){j.on("mousedown.drag",h).filter(n).on("touchstart.drag",v).on("touchmove.drag",y,s9).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(j,k){if(!(d||!e.call(this,j,k))){var N=b(this,t.call(this,j,k),j,k,"mouse");N&&(Or(j.view).on("mousemove.drag",p,Xc).on("mouseup.drag",x,Xc),LO(j.view),Hg(j),u=!1,l=j.clientX,c=j.clientY,N("start",j))}}function p(j){if(Eo(j),!u){var k=j.clientX-l,N=j.clientY-c;u=k*k+N*N>f}a.mouse("drag",j)}function x(j){Or(j.view).on("mousemove.drag mouseup.drag",null),$O(j.view,u),Eo(j),a.mouse("end",j)}function v(j,k){if(e.call(this,j,k)){var N=j.changedTouches,_=t.call(this,j,k),S=N.length,E,A;for(E=0;E<S;++E)(A=b(this,_,j,k,N[E].identifier,N[E]))&&(Hg(j),A("start",j,N[E]))}}function y(j){var k=j.changedTouches,N=k.length,_,S;for(_=0;_<N;++_)(S=a[k[_].identifier])&&(Eo(j),S("drag",j,k[_]))}function w(j){var k=j.changedTouches,N=k.length,_,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),_=0;_<N;++_)(S=a[k[_].identifier])&&(Hg(j),S("end",j,k[_]))}function b(j,k,N,_,S,E){var A=s.copy(),C=xn(E||N,k),O,I,M;if((M=r.call(j,new Hy("beforestart",{sourceEvent:N,target:m,identifier:S,active:i,x:C[0],y:C[1],dx:0,dy:0,dispatch:A}),_))!=null)return O=M.x-C[0]||0,I=M.y-C[1]||0,function L(D,R,T){var P=C,$;switch(D){case"start":a[S]=L,$=i++;break;case"end":delete a[S],--i;case"drag":C=xn(T||R,k),$=i;break}A.call(D,j,new Hy(D,{sourceEvent:R,subject:M,target:m,identifier:S,active:$,x:C[0]+O,y:C[1]+I,dx:C[0]-P[0],dy:C[1]-P[1],dispatch:A}),_)}}return m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Hd(!!j),m):e},m.container=function(j){return arguments.length?(t=typeof j=="function"?j:Hd(j),m):t},m.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Hd(j),m):r},m.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:Hd(!!j),m):n},m.on=function(){var j=s.on.apply(s,arguments);return j===s?m:j},m.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,m):Math.sqrt(f)},m}function xb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zu(){}var Qc=.7,bm=1/Qc,Co="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u9=/^#([0-9a-f]{3,8})$/,d9=new RegExp(`^rgb\\(${Co},${Co},${Co}\\)$`),f9=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),m9=new RegExp(`^rgba\\(${Co},${Co},${Co},${Zc}\\)$`),h9=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${Zc}\\)$`),p9=new RegExp(`^hsl\\(${Zc},${Xn},${Xn}\\)$`),g9=new RegExp(`^hsla\\(${Zc},${Xn},${Xn},${Zc}\\)$`),zk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xb(zu,Ii,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fk,formatHex:Fk,formatHex8:y9,formatHsl:x9,formatRgb:Bk,toString:Bk});function Fk(){return this.rgb().formatHex()}function y9(){return this.rgb().formatHex8()}function x9(){return BO(this).formatHsl()}function Bk(){return this.rgb().formatRgb()}function Ii(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=u9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Uk(t):r===3?new xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=d9.exec(e))?new xr(t[1],t[2],t[3],1):(t=f9.exec(e))?new xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=m9.exec(e))?Vd(t[1],t[2],t[3],t[4]):(t=h9.exec(e))?Vd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=p9.exec(e))?Wk(t[1],t[2]/100,t[3]/100,1):(t=g9.exec(e))?Wk(t[1],t[2]/100,t[3]/100,t[4]):zk.hasOwnProperty(e)?Uk(zk[e]):e==="transparent"?new xr(NaN,NaN,NaN,0):null}function Uk(e){return new xr(e>>16&255,e>>8&255,e&255,1)}function Vd(e,t,r,n){return n<=0&&(e=t=r=NaN),new xr(e,t,r,n)}function v9(e){return e instanceof zu||(e=Ii(e)),e?(e=e.rgb(),new xr(e.r,e.g,e.b,e.opacity)):new xr}function Vy(e,t,r,n){return arguments.length===1?v9(e):new xr(e,t,r,n??1)}function xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xb(xr,Vy,FO(zu,{brighter(e){return e=e==null?bm:Math.pow(bm,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xr(ji(this.r),ji(this.g),ji(this.b),wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hk,formatHex:Hk,formatHex8:b9,formatRgb:Vk,toString:Vk}));function Hk(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}`}function b9(){return`#${ii(this.r)}${ii(this.g)}${ii(this.b)}${ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vk(){const e=wm(this.opacity);return`${e===1?"rgb(":"rgba("}${ji(this.r)}, ${ji(this.g)}, ${ji(this.b)}${e===1?")":`, ${e})`}`}function wm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ji(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ii(e){return e=ji(e),(e<16?"0":"")+e.toString(16)}function Wk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wn(e,t,r,n)}function BO(e){if(e instanceof wn)return new wn(e.h,e.s,e.l,e.opacity);if(e instanceof zu||(e=Ii(e)),!e)return new wn;if(e instanceof wn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new wn(i,l,c,e.opacity)}function w9(e,t,r,n){return arguments.length===1?BO(e):new wn(e,t,r,n??1)}function wn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xb(wn,w9,FO(zu,{brighter(e){return e=e==null?bm:Math.pow(bm,e),new wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xr(Vg(e>=240?e-240:e+120,a,n),Vg(e,a,n),Vg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new wn(Kk(this.h),Wd(this.s),Wd(this.l),wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wm(this.opacity);return`${e===1?"hsl(":"hsla("}${Kk(this.h)}, ${Wd(this.s)*100}%, ${Wd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Kk(e){return e=(e||0)%360,e<0?e+360:e}function Wd(e){return Math.max(0,Math.min(1,e||0))}function Vg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vb=e=>()=>e;function j9(e,t){return function(r){return e+r*t}}function k9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function N9(e){return(e=+e)==1?UO:function(t,r){return r-t?k9(t,r,e):vb(isNaN(t)?r:t)}}function UO(e,t){var r=t-e;return r?j9(e,r):vb(isNaN(e)?t:e)}const jm=function e(t){var r=N9(t);function n(a,s){var i=r((a=Vy(a)).r,(s=Vy(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=UO(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function S9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function _9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Ea(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function C9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function bn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function P9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ea(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Wy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wg=new RegExp(Wy.source,"g");function O9(e){return function(){return e}}function A9(e){return function(t){return e(t)+""}}function HO(e,t){var r=Wy.lastIndex=Wg.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Wy.exec(e))&&(a=Wg.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:bn(n,a)})),r=Wg.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?A9(c[0].x):O9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ea(e,t){var r=typeof t,n;return t==null||r==="boolean"?vb(t):(r==="number"?bn:r==="string"?(n=Ii(t))?(t=n,jm):HO:t instanceof Ii?jm:t instanceof Date?C9:_9(t)?S9:Array.isArray(t)?E9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?P9:bn)(e,t)}function bb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var qk=180/Math.PI,Ky={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function VO(e,t,r,n,a,s){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*qk,skewX:Math.atan(c)*qk,scaleX:i,scaleY:l}}var Kd;function M9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ky:VO(t.a,t.b,t.c,t.d,t.e,t.f)}function T9(e){return e==null||(Kd||(Kd=document.createElementNS("http://www.w3.org/2000/svg","g")),Kd.setAttribute("transform",e),!(e=Kd.transform.baseVal.consolidate()))?Ky:(e=e.matrix,VO(e.a,e.b,e.c,e.d,e.e,e.f))}function WO(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,m,h,p){if(u!==f||d!==m){var x=h.push("translate(",null,t,null,r);p.push({i:x-4,x:bn(u,f)},{i:x-2,x:bn(d,m)})}else(f||m)&&h.push("translate("+f+t+m+r)}function i(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(a(f)+"rotate(",null,n)-2,x:bn(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function l(u,d,f,m){u!==d?m.push({i:f.push(a(f)+"skewX(",null,n)-2,x:bn(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,m,h,p){if(u!==f||d!==m){var x=h.push(a(h)+"scale(",null,",",null,")");p.push({i:x-4,x:bn(u,f)},{i:x-2,x:bn(d,m)})}else(f!==1||m!==1)&&h.push(a(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,m),i(u.rotate,d.rotate,f,m),l(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var p=-1,x=m.length,v;++p<x;)f[(v=m[p]).i]=v.x(h);return f.join("")}}}var I9=WO(M9,"px, ","px)","deg)"),D9=WO(T9,", ",")",")"),R9=1e-12;function Yk(e){return((e=Math.exp(e))+1/e)/2}function L9(e){return((e=Math.exp(e))-1/e)/2}function $9(e){return((e=Math.exp(2*e))-1)/(e+1)}const Df=function e(t,r,n){function a(s,i){var l=s[0],c=s[1],u=s[2],d=i[0],f=i[1],m=i[2],h=d-l,p=f-c,x=h*h+p*p,v,y;if(x<R9)y=Math.log(m/u)/t,v=function(_){return[l+_*h,c+_*p,u*Math.exp(t*_*y)]};else{var w=Math.sqrt(x),b=(m*m-u*u+n*x)/(2*u*r*w),j=(m*m-u*u-n*x)/(2*m*r*w),k=Math.log(Math.sqrt(b*b+1)-b),N=Math.log(Math.sqrt(j*j+1)-j);y=(N-k)/t,v=function(_){var S=_*y,E=Yk(k),A=u/(r*w)*(E*$9(t*S+k)-L9(k));return[l+A*h,c+A*p,u*E/Yk(t*S+k)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return a.rho=function(s){var i=Math.max(.001,+s),l=i*i,c=l*l;return e(i,l,c)},a}(Math.SQRT2,2,4);function z9(e,t){t===void 0&&(t=e,e=Ea);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}var Zo=0,uc=0,Gl=0,KO=1e3,km,dc,Nm=0,Di=0,Jh=0,Jc=typeof performance=="object"&&performance.now?performance:Date,qO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wb(){return Di||(qO(F9),Di=Jc.now()+Jh)}function F9(){Di=0}function Sm(){this._call=this._time=this._next=null}Sm.prototype=YO.prototype={constructor:Sm,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?wb():+r)+(t==null?0:+t),!this._next&&dc!==this&&(dc?dc._next=this:km=this,dc=this),this._call=e,this._time=r,qy()},stop:function(){this._call&&(this._call=null,this._time=1/0,qy())}};function YO(e,t,r){var n=new Sm;return n.restart(e,t,r),n}function B9(){wb(),++Zo;for(var e=km,t;e;)(t=Di-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Zo}function Gk(){Di=(Nm=Jc.now())+Jh,Zo=uc=0;try{B9()}finally{Zo=0,H9(),Di=0}}function U9(){var e=Jc.now(),t=e-Nm;t>KO&&(Jh-=t,Nm=e)}function H9(){for(var e,t=km,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:km=r);dc=e,qy(n)}function qy(e){if(!Zo){uc&&(uc=clearTimeout(uc));var t=e-Di;t>24?(e<1/0&&(uc=setTimeout(Gk,e-Jc.now()-Jh)),Gl&&(Gl=clearInterval(Gl))):(Gl||(Nm=Jc.now(),Gl=setInterval(U9,KO)),Zo=1,qO(Gk))}}function Xk(e,t,r){var n=new Sm;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var V9=Qh("start","end","cancel","interrupt"),W9=[],GO=0,Qk=1,Yy=2,Rf=3,Zk=4,Gy=5,Lf=6;function ep(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;K9(e,r,{name:t,index:n,group:a,on:V9,tween:W9,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:GO})}function jb(e,t){var r=Rn(e,t);if(r.state>GO)throw new Error("too late; already scheduled");return r}function oa(e,t){var r=Rn(e,t);if(r.state>Rf)throw new Error("too late; already running");return r}function Rn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function K9(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=YO(s,0,r.time);function s(u){r.state=Qk,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,m,h;if(r.state!==Qk)return c();for(d in n)if(h=n[d],h.name===r.name){if(h.state===Rf)return Xk(i);h.state===Zk?(h.state=Lf,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[d]):+d<t&&(h.state=Lf,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[d])}if(Xk(function(){r.state===Rf&&(r.state=Zk,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=Yy,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Yy){for(r.state=Rf,a=new Array(m=r.tween.length),d=0,f=-1;d<m;++d)(h=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=h);a.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=Gy,1),f=-1,m=a.length;++f<m;)a[f].call(e,d);r.state===Gy&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Lf,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function $f(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>Yy&&n.state<Gy,n.state=Lf,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function q9(e){return this.each(function(){$f(this,e)})}function Y9(e,t){var r,n;return function(){var a=oa(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,l=n.length;i<l;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function G9(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=oa(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var l={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function X9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Rn(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?Y9:G9)(r,e,t))}function kb(e,t,r){var n=e._id;return e.each(function(){var a=oa(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Rn(a,n).value[t]}}function XO(e,t){var r;return(typeof t=="number"?bn:t instanceof Ii?jm:(r=Ii(t))?(t=r,jm):HO)(e,t)}function Q9(e){return function(){this.removeAttribute(e)}}function Z9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J9(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function eU(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function tU(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function rU(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function nU(e,t){var r=Zh(e),n=r==="transform"?D9:XO;return this.attrTween(e,typeof t=="function"?(r.local?rU:tU)(r,n,kb(this,"attr."+e,t)):t==null?(r.local?Z9:Q9)(r):(r.local?eU:J9)(r,n,t))}function aU(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function sU(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function iU(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&sU(e,s)),r}return a._value=t,a}function oU(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&aU(e,s)),r}return a._value=t,a}function lU(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Zh(e);return this.tween(r,(n.local?iU:oU)(n,t))}function cU(e,t){return function(){jb(this,e).delay=+t.apply(this,arguments)}}function uU(e,t){return t=+t,function(){jb(this,e).delay=t}}function dU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cU:uU)(t,e)):Rn(this.node(),t).delay}function fU(e,t){return function(){oa(this,e).duration=+t.apply(this,arguments)}}function mU(e,t){return t=+t,function(){oa(this,e).duration=t}}function hU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fU:mU)(t,e)):Rn(this.node(),t).duration}function pU(e,t){if(typeof t!="function")throw new Error;return function(){oa(this,e).ease=t}}function gU(e){var t=this._id;return arguments.length?this.each(pU(t,e)):Rn(this.node(),t).ease}function yU(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;oa(this,e).ease=r}}function xU(e){if(typeof e!="function")throw new Error;return this.each(yU(this._id,e))}function vU(e){typeof e!="function"&&(e=EO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Da(n,this._parents,this._name,this._id)}function bU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),l=0;l<s;++l)for(var c=t[l],u=r[l],d=c.length,f=i[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;l<n;++l)i[l]=t[l];return new Da(i,this._parents,this._name,this._id)}function wU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function jU(e,t,r){var n,a,s=wU(t)?jb:oa;return function(){var i=s(this,e),l=i.on;l!==n&&(a=(n=l).copy()).on(t,r),i.on=a}}function kU(e,t){var r=this._id;return arguments.length<2?Rn(this.node(),r).on.on(e):this.each(jU(r,e,t))}function NU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function SU(){return this.on("end.remove",NU(this._id))}function _U(e){var t=this._name,r=this._id;typeof e!="function"&&(e=gb(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var l=n[i],c=l.length,u=s[i]=new Array(c),d,f,m=0;m<c;++m)(d=l[m])&&(f=e.call(d,d.__data__,m,l))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,ep(u[m],t,r,m,u,Rn(d,r)));return new Da(s,this._parents,t,r)}function EU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=_O(e));for(var n=this._groups,a=n.length,s=[],i=[],l=0;l<a;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,p=Rn(d,r),x=0,v=m.length;x<v;++x)(h=m[x])&&ep(h,t,r,x,m,p);s.push(m),i.push(d)}return new Da(s,i,t,r)}var CU=$u.prototype.constructor;function PU(){return new CU(this._groups,this._parents)}function OU(e,t){var r,n,a;return function(){var s=Qo(this,e),i=(this.style.removeProperty(e),Qo(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function QO(e){return function(){this.style.removeProperty(e)}}function AU(e,t,r){var n,a=r+"",s;return function(){var i=Qo(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function MU(e,t,r){var n,a,s;return function(){var i=Qo(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Qo(this,e))),i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l))}}function TU(e,t){var r,n,a,s="style."+t,i="end."+s,l;return function(){var c=oa(this,e),u=c.on,d=c.value[s]==null?l||(l=QO(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(i,a=d),c.on=n}}function IU(e,t,r){var n=(e+="")=="transform"?I9:XO;return t==null?this.styleTween(e,OU(e,n)).on("end.style."+e,QO(e)):typeof t=="function"?this.styleTween(e,MU(e,n,kb(this,"style."+e,t))).each(TU(this._id,e)):this.styleTween(e,AU(e,n,t),r).on("end.style."+e,null)}function DU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function RU(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&DU(e,i,r)),n}return s._value=t,s}function LU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,RU(e,t,r??""))}function $U(e){return function(){this.textContent=e}}function zU(e){return function(){var t=e(this);this.textContent=t??""}}function FU(e){return this.tween("text",typeof e=="function"?zU(kb(this,"text",e)):$U(e==null?"":e+""))}function BU(e){return function(t){this.textContent=e.call(this,t)}}function UU(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&BU(a)),t}return n._value=e,n}function HU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,UU(e))}function VU(){for(var e=this._name,t=this._id,r=ZO(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)if(c=i[u]){var d=Rn(c,t);ep(c,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Da(n,this._parents,e,r)}function WU(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var l={value:i},c={value:function(){--a===0&&s()}};r.each(function(){var u=oa(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var KU=0;function Da(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function ZO(){return++KU}var ua=$u.prototype;Da.prototype={constructor:Da,select:_U,selectAll:EU,selectChild:ua.selectChild,selectChildren:ua.selectChildren,filter:vU,merge:bU,selection:PU,transition:VU,call:ua.call,nodes:ua.nodes,node:ua.node,size:ua.size,empty:ua.empty,each:ua.each,on:kU,attr:nU,attrTween:lU,style:IU,styleTween:LU,text:FU,textTween:HU,remove:SU,tween:X9,delay:dU,duration:hU,ease:gU,easeVarying:xU,end:WU,[Symbol.iterator]:ua[Symbol.iterator]};function qU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var YU={time:null,delay:0,duration:250,ease:qU};function GU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function XU(e){var t,r;e instanceof Da?(t=e._id,e=e._name):(t=ZO(),(r=YU).time=wb(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&ep(c,e,t,u,i,r||GU(c,t));return new Da(n,this._parents,e,t)}$u.prototype.interrupt=q9;$u.prototype.transition=XU;const qd=e=>()=>e;function QU(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function ja(e,t,r){this.k=e,this.x=t,this.y=r}ja.prototype={constructor:ja,scale:function(e){return e===1?this:new ja(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ja(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tp=new ja(1,0,0);JO.prototype=ja.prototype;function JO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return tp;return e.__zoom}function Kg(e){e.stopImmediatePropagation()}function Xl(e){e.preventDefault(),e.stopImmediatePropagation()}function ZU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function JU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Jk(){return this.__zoom||tp}function eH(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tH(){return navigator.maxTouchPoints||"ontouchstart"in this}function rH(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function eA(){var e=ZU,t=JU,r=rH,n=eH,a=tH,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Df,u=Qh("start","zoom","end"),d,f,m,h=500,p=150,x=0,v=10;function y(M){M.property("__zoom",Jk).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(M,L,D,R){var T=M.selection?M.selection():M;T.property("__zoom",Jk),M!==T?k(M,L,D,R):T.interrupt().each(function(){N(this,arguments).event(R).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},y.scaleBy=function(M,L,D,R){y.scaleTo(M,function(){var T=this.__zoom.k,P=typeof L=="function"?L.apply(this,arguments):L;return T*P},D,R)},y.scaleTo=function(M,L,D,R){y.transform(M,function(){var T=t.apply(this,arguments),P=this.__zoom,$=D==null?j(T):typeof D=="function"?D.apply(this,arguments):D,F=P.invert($),H=typeof L=="function"?L.apply(this,arguments):L;return r(b(w(P,H),$,F),T,i)},D,R)},y.translateBy=function(M,L,D,R){y.transform(M,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),i)},null,R)},y.translateTo=function(M,L,D,R,T){y.transform(M,function(){var P=t.apply(this,arguments),$=this.__zoom,F=R==null?j(P):typeof R=="function"?R.apply(this,arguments):R;return r(tp.translate(F[0],F[1]).scale($.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof D=="function"?-D.apply(this,arguments):-D),P,i)},R,T)};function w(M,L){return L=Math.max(s[0],Math.min(s[1],L)),L===M.k?M:new ja(L,M.x,M.y)}function b(M,L,D){var R=L[0]-D[0]*M.k,T=L[1]-D[1]*M.k;return R===M.x&&T===M.y?M:new ja(M.k,R,T)}function j(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function k(M,L,D,R){M.on("start.zoom",function(){N(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(R).end()}).tween("zoom",function(){var T=this,P=arguments,$=N(T,P).event(R),F=t.apply(T,P),H=D==null?j(F):typeof D=="function"?D.apply(T,P):D,B=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),Y=T.__zoom,X=typeof L=="function"?L.apply(T,P):L,Q=c(Y.invert(H).concat(B/Y.k),X.invert(H).concat(B/X.k));return function(G){if(G===1)G=X;else{var Z=Q(G),U=B/Z[2];G=new ja(U,H[0]-Z[0]*U,H[1]-Z[1]*U)}$.zoom(null,G)}})}function N(M,L,D){return!D&&M.__zooming||new _(M,L)}function _(M,L){this.that=M,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,L),this.taps=0}_.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,L){return this.mouse&&M!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var L=Or(this.that).datum();u.call(M,this.that,new QU(M,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),L)}};function S(M,...L){if(!e.apply(this,arguments))return;var D=N(this,L).event(M),R=this.__zoom,T=Math.max(s[0],Math.min(s[1],R.k*Math.pow(2,n.apply(this,arguments)))),P=xn(M);if(D.wheel)(D.mouse[0][0]!==P[0]||D.mouse[0][1]!==P[1])&&(D.mouse[1]=R.invert(D.mouse[0]=P)),clearTimeout(D.wheel);else{if(R.k===T)return;D.mouse=[P,R.invert(P)],$f(this),D.start()}Xl(M),D.wheel=setTimeout($,p),D.zoom("mouse",r(b(w(R,T),D.mouse[0],D.mouse[1]),D.extent,i));function $(){D.wheel=null,D.end()}}function E(M,...L){if(m||!e.apply(this,arguments))return;var D=M.currentTarget,R=N(this,L,!0).event(M),T=Or(M.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",B,!0),P=xn(M,D),$=M.clientX,F=M.clientY;LO(M.view),Kg(M),R.mouse=[P,this.__zoom.invert(P)],$f(this),R.start();function H(Y){if(Xl(Y),!R.moved){var X=Y.clientX-$,Q=Y.clientY-F;R.moved=X*X+Q*Q>x}R.event(Y).zoom("mouse",r(b(R.that.__zoom,R.mouse[0]=xn(Y,D),R.mouse[1]),R.extent,i))}function B(Y){T.on("mousemove.zoom mouseup.zoom",null),$O(Y.view,R.moved),Xl(Y),R.event(Y).end()}}function A(M,...L){if(e.apply(this,arguments)){var D=this.__zoom,R=xn(M.changedTouches?M.changedTouches[0]:M,this),T=D.invert(R),P=D.k*(M.shiftKey?.5:2),$=r(b(w(D,P),R,T),t.apply(this,L),i);Xl(M),l>0?Or(this).transition().duration(l).call(k,$,R,M):Or(this).call(y.transform,$,R,M)}}function C(M,...L){if(e.apply(this,arguments)){var D=M.touches,R=D.length,T=N(this,L,M.changedTouches.length===R).event(M),P,$,F,H;for(Kg(M),$=0;$<R;++$)F=D[$],H=xn(F,this),H=[H,this.__zoom.invert(H),F.identifier],T.touch0?!T.touch1&&T.touch0[2]!==H[2]&&(T.touch1=H,T.taps=0):(T.touch0=H,P=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),P&&(T.taps<2&&(f=H[0],d=setTimeout(function(){d=null},h)),$f(this),T.start())}}function O(M,...L){if(this.__zooming){var D=N(this,L).event(M),R=M.changedTouches,T=R.length,P,$,F,H;for(Xl(M),P=0;P<T;++P)$=R[P],F=xn($,this),D.touch0&&D.touch0[2]===$.identifier?D.touch0[0]=F:D.touch1&&D.touch1[2]===$.identifier&&(D.touch1[0]=F);if($=D.that.__zoom,D.touch1){var B=D.touch0[0],Y=D.touch0[1],X=D.touch1[0],Q=D.touch1[1],G=(G=X[0]-B[0])*G+(G=X[1]-B[1])*G,Z=(Z=Q[0]-Y[0])*Z+(Z=Q[1]-Y[1])*Z;$=w($,Math.sqrt(G/Z)),F=[(B[0]+X[0])/2,(B[1]+X[1])/2],H=[(Y[0]+Q[0])/2,(Y[1]+Q[1])/2]}else if(D.touch0)F=D.touch0[0],H=D.touch0[1];else return;D.zoom("touch",r(b($,F,H),D.extent,i))}}function I(M,...L){if(this.__zooming){var D=N(this,L).event(M),R=M.changedTouches,T=R.length,P,$;for(Kg(M),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),P=0;P<T;++P)$=R[P],D.touch0&&D.touch0[2]===$.identifier?delete D.touch0:D.touch1&&D.touch1[2]===$.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&($=xn($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<v)){var F=Or(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(M){return arguments.length?(n=typeof M=="function"?M:qd(+M),y):n},y.filter=function(M){return arguments.length?(e=typeof M=="function"?M:qd(!!M),y):e},y.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:qd(!!M),y):a},y.extent=function(M){return arguments.length?(t=typeof M=="function"?M:qd([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),y):t},y.scaleExtent=function(M){return arguments.length?(s[0]=+M[0],s[1]=+M[1],y):[s[0],s[1]]},y.translateExtent=function(M){return arguments.length?(i[0][0]=+M[0][0],i[1][0]=+M[1][0],i[0][1]=+M[0][1],i[1][1]=+M[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(M){return arguments.length?(r=M,y):r},y.duration=function(M){return arguments.length?(l=+M,y):l},y.interpolate=function(M){return arguments.length?(c=M,y):c},y.on=function(){var M=u.on.apply(u,arguments);return M===u?y:M},y.clickDistance=function(M){return arguments.length?(x=(M=+M)*M,y):Math.sqrt(x)},y.tapDistance=function(M){return arguments.length?(v=+M,y):v},y}const ea={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},eu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],tA=["Enter"," ","Escape"],rA={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Jo;(function(e){e.Strict="strict",e.Loose="loose"})(Jo||(Jo={}));var ki;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(ki||(ki={}));var tu;(function(e){e.Partial="partial",e.Full="full"})(tu||(tu={}));const nA={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ls;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ls||(ls={}));var _m;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(_m||(_m={}));var fe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(fe||(fe={}));const eN={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function aA(e){return e===null?null:e?"valid":"invalid"}const sA=e=>"id"in e&&"source"in e&&"target"in e,nH=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Nb=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Yi=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Fu=(e,t=[0,0])=>{const{width:r,height:n}=Wa(e),a=e.origin??t,s=r*a[0],i=n*a[1];return{x:e.position.x-s,y:e.position.y-i}},aH=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const s=typeof a=="string";let i=!t.nodeLookup&&!s?a:void 0;t.nodeLookup&&(i=s?t.nodeLookup.get(a):Nb(a)?a:t.nodeLookup.get(a.id));const l=i?Em(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return rp(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return np(r)},Bu=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=rp(r,Em(a)),n=!0)}),n?np(r):{x:0,y:0,width:0,height:0}},Sb=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1)=>{const l={...Hu(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:m=!1}=u;if(i&&!f||m)continue;const h=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,x=ru(l,tl(u)),v=(h??0)*(p??0),y=s&&x>0;(!u.internals.handleBounds||y||x>=v||u.dragging)&&c.push(u)}return c},sH=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function iH(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function oH({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:s},i){if(e.size===0)return Promise.resolve(!0);const l=iH(e,i),c=Bu(l),u=_b(c,t,r,(i==null?void 0:i.minZoom)??a,(i==null?void 0:i.maxZoom)??s,(i==null?void 0:i.padding)??.1);return await n.setViewport(u,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function iA({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:s}){const i=r.get(e),l=i.parentId?r.get(i.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=i.origin??n;let f=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)s==null||s("005",ea.error005());else{const h=l.measured.width,p=l.measured.height;h&&p&&(f=[[c,u],[c+h,u+p]])}else l&&rl(i.extent)&&(f=[[i.extent[0][0]+c,i.extent[0][1]+u],[i.extent[1][0]+c,i.extent[1][1]+u]]);const m=rl(f)?Ri(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(s==null||s("015",ea.error015())),{position:{x:m.x-c+(i.measured.width??0)*d[0],y:m.y-u+(i.measured.height??0)*d[1]},positionAbsolute:m}}async function lH({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const s=new Set(e.map(m=>m.id)),i=[];for(const m of r){if(m.deletable===!1)continue;const h=s.has(m.id),p=!h&&m.parentId&&i.find(x=>x.id===m.parentId);(h||p)&&i.push(m)}const l=new Set(t.map(m=>m.id)),c=n.filter(m=>m.deletable!==!1),d=sH(i,c);for(const m of c)l.has(m.id)&&!d.find(p=>p.id===m.id)&&d.push(m);if(!a)return{edges:d,nodes:i};const f=await a({nodes:i,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:i}:{edges:[],nodes:[]}:f}const el=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Ri=(e={x:0,y:0},t,r)=>({x:el(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:el(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function oA(e,t,r){const{width:n,height:a}=Wa(r),{x:s,y:i}=r.internals.positionAbsolute;return Ri(e,[[s,i],[s+n,i+a]],t)}const tN=(e,t,r)=>e<t?el(Math.abs(e-t),1,t)/t:e>r?-el(Math.abs(e-r),1,t)/t:0,lA=(e,t,r=15,n=40)=>{const a=tN(e.x,n,t.width-n)*r,s=tN(e.y,n,t.height-n)*r;return[a,s]},rp=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Xy=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),np=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),tl=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=Nb(e)?e.internals.positionAbsolute:Fu(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},Em=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=Nb(e)?e.internals.positionAbsolute:Fu(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},cA=(e,t)=>np(rp(Xy(e),Xy(t))),ru=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},rN=e=>Nn(e.width)&&Nn(e.height)&&Nn(e.x)&&Nn(e.y),Nn=e=>!isNaN(e)&&isFinite(e),cH=(e,t)=>{},Uu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Hu=({x:e,y:t},[r,n,a],s=!1,i=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return s?Uu(l,i):l},Cm=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function Ji(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function uH(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=Ji(e,r),a=Ji(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=Ji(e.top??e.y??0,r),a=Ji(e.bottom??e.y??0,r),s=Ji(e.left??e.x??0,t),i=Ji(e.right??e.x??0,t);return{top:n,right:i,bottom:a,left:s,x:s+i,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function dH(e,t,r,n,a,s){const{x:i,y:l}=Cm(e,[t,r,n]),{x:c,y:u}=Cm({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=s-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const _b=(e,t,r,n,a,s)=>{const i=uH(s,t,r),l=(t-i.x)/e.width,c=(r-i.y)/e.height,u=Math.min(l,c),d=el(u,n,a),f=e.x+e.width/2,m=e.y+e.height/2,h=t/2-f*d,p=r/2-m*d,x=dH(e,h,p,d,t,r),v={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:h-v.left+v.right,y:p-v.top+v.bottom,zoom:d}},nu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function rl(e){return e!=null&&e!=="parent"}function Wa(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function uA(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function dA(e,t={width:0,height:0},r,n,a){const s={...e},i=n.get(r);if(i){const l=i.origin||a;s.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],s.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return s}function nN(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function fH(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function mH(e){return{...rA,...e||{}}}function _c(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:s,y:i}=Sn(e),l=Hu({x:s-((a==null?void 0:a.left)??0),y:i-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?Uu(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const Eb=e=>({width:e.offsetWidth,height:e.offsetHeight}),fA=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},hH=["INPUT","SELECT","TEXTAREA"];function mA(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:hH.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const hA=e=>"clientX"in e,Sn=(e,t)=>{var s,i;const r=hA(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},aN=(e,t,r,n,a)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...Eb(i)}})};function pA({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:l}){const c=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function Yd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function sN({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case fe.Left:return[t-Yd(t-n,s),r];case fe.Right:return[t+Yd(n-t,s),r];case fe.Top:return[t,r-Yd(r-a,s)];case fe.Bottom:return[t,r+Yd(a-r,s)]}}function gA({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top,curvature:i=.25}){const[l,c]=sN({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,d]=sN({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[f,m,h,p]=pA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${a}`,f,m,h,p]}function yA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,l=n<t?n+i:n-i;return[s,l,a,i]}function pH({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:s="basic"}){if(s==="manual")return n;const i=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return i+l}function gH({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const s=rp(Em(e),Em(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return ru(i,np(s))>0}const yH=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,xH=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),xA=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||yH;let a;return sA(e)?a={...e}:a={...e,id:n(e)},xH(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function vA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,l]=yA({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,l]}const iN={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},vH=({source:e,sourcePosition:t=fe.Bottom,target:r})=>t===fe.Left||t===fe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},oN=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function bH({source:e,sourcePosition:t=fe.Bottom,target:r,targetPosition:n=fe.Top,center:a,offset:s,stepPosition:i}){const l=iN[t],c=iN[n],u={x:e.x+l.x*s,y:e.y+l.y*s},d={x:r.x+c.x*s,y:r.y+c.y*s},f=vH({source:u,sourcePosition:t,target:d}),m=f.x!==0?"x":"y",h=f[m];let p=[],x,v;const y={x:0,y:0},w={x:0,y:0},[,,b,j]=yA({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[m]*c[m]===-1){m==="x"?(x=a.x??u.x+(d.x-u.x)*i,v=a.y??(u.y+d.y)/2):(x=a.x??(u.x+d.x)/2,v=a.y??u.y+(d.y-u.y)*i);const N=[{x,y:u.y},{x,y:d.y}],_=[{x:u.x,y:v},{x:d.x,y:v}];l[m]===h?p=m==="x"?N:_:p=m==="x"?_:N}else{const N=[{x:u.x,y:d.y}],_=[{x:d.x,y:u.y}];if(m==="x"?p=l.x===h?_:N:p=l.y===h?N:_,t===n){const O=Math.abs(e[m]-r[m]);if(O<=s){const I=Math.min(s-1,s-O);l[m]===h?y[m]=(u[m]>e[m]?-1:1)*I:w[m]=(d[m]>r[m]?-1:1)*I}}if(t!==n){const O=m==="x"?"y":"x",I=l[m]===c[O],M=u[O]>d[O],L=u[O]<d[O];(l[m]===1&&(!I&&M||I&&L)||l[m]!==1&&(!I&&L||I&&M))&&(p=m==="x"?N:_)}const S={x:u.x+y.x,y:u.y+y.y},E={x:d.x+w.x,y:d.y+w.y},A=Math.max(Math.abs(S.x-p[0].x),Math.abs(E.x-p[0].x)),C=Math.max(Math.abs(S.y-p[0].y),Math.abs(E.y-p[0].y));A>=C?(x=(S.x+E.x)/2,v=p[0].y):(x=p[0].x,v=(S.y+E.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...p,{x:d.x+w.x,y:d.y+w.y},r],x,v,b,j]}function wH(e,t,r,n){const a=Math.min(oN(e,t)/2,oN(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${i+a*c}Q ${s},${i} ${s+a*l},${i}`}function Pm({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,m,h,p,x]=bH({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:l,y:c},offset:u,stepPosition:d});return[f.reduce((y,w,b)=>{let j="";return b>0&&b<f.length-1?j=wH(f[b-1],w,f[b+1],i):j=`${b===0?"M":"L"}${w.x} ${w.y}`,y+=j,y},""),m,h,p,x]}function lN(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function jH(e){var f;const{sourceNode:t,targetNode:r}=e;if(!lN(t)||!lN(r))return null;const n=t.internals.handleBounds||cN(t.handles),a=r.internals.handleBounds||cN(r.handles),s=uN((n==null?void 0:n.source)??[],e.sourceHandle),i=uN(e.connectionMode===Jo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!s||!i)return(f=e.onError)==null||f.call(e,"008",ea.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(s==null?void 0:s.position)||fe.Bottom,c=(i==null?void 0:i.position)||fe.Top,u=Li(t,s,l),d=Li(r,i,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function cN(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Li(e,t,r=fe.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Wa(e);if(n)return{x:a+i/2,y:s+l/2};switch((t==null?void 0:t.position)??r){case fe.Top:return{x:a+i/2,y:s};case fe.Right:return{x:a+i,y:s+l/2};case fe.Bottom:return{x:a+i/2,y:s+l};case fe.Left:return{x:a,y:s+l/2}}}function uN(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Qy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function kH(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const s=new Set;return e.reduce((i,l)=>([l.markerStart||n,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=Qy(c,t);s.has(u)||(i.push({id:u,color:c.color||r,...c}),s.add(u))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const bA=1e3,NH=10,Cb={nodeOrigin:[0,0],nodeExtent:eu,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},SH={...Cb,checkEquality:!0};function Pb(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function _H(e,t,r){const n=Pb(Cb,r);for(const a of e.values())if(a.parentId)Ab(a,e,t,n);else{const s=Fu(a,n.nodeOrigin),i=rl(a.extent)?a.extent:n.nodeExtent,l=Ri(s,i,Wa(a));a.internals.positionAbsolute=l}}function EH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const s={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(s):a.type==="target"&&n.push(s)}return{source:r,target:n}}function Ob(e){return e==="manual"}function Zy(e,t,r,n={}){var u,d;const a=Pb(SH,n),s={i:0},i=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!Ob(a.zIndexMode)?bA:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let m=i.get(f.id);if(a.checkEquality&&f===(m==null?void 0:m.internals.userNode))t.set(f.id,m);else{const h=Fu(f,a.nodeOrigin),p=rl(f.extent)?f.extent:a.nodeExtent,x=Ri(h,p,Wa(f));m={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:x,handleBounds:EH(f,m),z:wA(f,l,a.zIndexMode),userNode:f}},t.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(c=!1),f.parentId&&Ab(m,t,r,n,s)}return c}function CH(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Ab(e,t,r,n,a){const{elevateNodesOnSelect:s,nodeOrigin:i,nodeExtent:l,zIndexMode:c}=Pb(Cb,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}CH(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*NH),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=s&&!Ob(c)?bA:0,{x:m,y:h,z:p}=PH(e,d,i,l,f,c),{positionAbsolute:x}=e.internals,v=m!==x.x||h!==x.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:m,y:h}:x,z:p}})}function wA(e,t,r){const n=Nn(e.zIndex)?e.zIndex:0;return Ob(r)?n:n+(e.selected?t:0)}function PH(e,t,r,n,a,s){const{x:i,y:l}=t.internals.positionAbsolute,c=Wa(e),u=Fu(e,r),d=rl(e.extent)?Ri(u,e.extent,c):u;let f=Ri({x:i+d.x,y:l+d.y},n,c);e.extent==="parent"&&(f=oA(f,c,t));const m=wA(e,a,s),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=m?h+1:m}}function Mb(e,t,r,n=[0,0]){var i;const a=[],s=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((i=s.get(l.parentId))==null?void 0:i.expandedRect)??tl(c),d=cA(u,l.rect);s.set(l.parentId,{expandedRect:d,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},u)=>{var b;const d=c.internals.positionAbsolute,f=Wa(c),m=c.origin??n,h=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,x=Math.max(f.width,Math.round(l.width)),v=Math.max(f.height,Math.round(l.height)),y=(x-f.width)*m[0],w=(v-f.height)*m[1];(h>0||p>0||y||w)&&(a.push({id:u,type:"position",position:{x:c.position.x-h+y,y:c.position.y-p+w}}),(b=r.get(u))==null||b.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+h,y:j.position.y+p}})})),(f.width<l.width||f.height<l.height||h||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(h?m[0]*h-y:0),height:v+(p?m[1]*p-w:0)}})}),a}function OH(e,t,r,n,a,s,i){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const x=Eb(h.nodeElement),v=p.measured.width!==x.width||p.measured.height!==x.height;if(!!(x.width&&x.height&&(v||!p.internals.handleBounds||h.force))){const w=h.nodeElement.getBoundingClientRect(),b=rl(p.extent)?p.extent:s;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=oA(j,x,t.get(p.parentId)):b&&(j=Ri(j,b,x));const k={...p,measured:x,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:aN("source",h.nodeElement,w,f,p.id),target:aN("target",h.nodeElement,w,f,p.id)}}};t.set(p.id,k),p.parentId&&Ab(k,t,r,{nodeOrigin:a,zIndexMode:i}),c=!0,v&&(u.push({id:p.id,type:"dimensions",dimensions:x}),p.expandParent&&p.parentId&&m.push({id:p.id,parentId:p.parentId,rect:tl(k,a)}))}}if(m.length>0){const h=Mb(m,t,r,a);u.push(...h)}return{changes:u,updatedInternals:c}}async function AH({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,s]],n),l=!!i&&(i.x!==r[0]||i.y!==r[1]||i.k!==r[2]);return Promise.resolve(l)}function dN(e,t,r,n,a,s){let i=a;const l=n.get(i)||new Map;n.set(i,l.set(r,t)),i=`${a}-${e}`;const c=n.get(i)||new Map;if(n.set(i,c.set(r,t)),s){i=`${a}-${e}-${s}`;const u=n.get(i)||new Map;n.set(i,u.set(r,t))}}function jA(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:s,sourceHandle:i=null,targetHandle:l=null}=n,c={edgeId:n.id,source:a,target:s,sourceHandle:i,targetHandle:l},u=`${a}-${i}--${s}-${l}`,d=`${s}-${l}--${a}-${i}`;dN("source",c,d,e,a,i),dN("target",c,u,e,s,l),t.set(n.id,n)}}function kA(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:kA(r,t):!1}function fN(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function MH(e,t,r,n){const a=new Map;for(const[s,i]of e)if((i.selected||i.id===n)&&(!i.parentId||!kA(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(s);l&&a.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function qg({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var i,l,c;const a=[];for(const[u,d]of t){const f=(i=r.get(u))==null?void 0:i.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const s=(l=r.get(e))==null?void 0:l.internals.userNode;return[s?{...s,position:((c=t.get(e))==null?void 0:c.position)||s.position,dragging:n}:a[0],a]}function TH({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const s={x:r-a.distance.x,y:n-a.distance.y},i=Uu(s,t);return{x:i.x-s.x,y:i.y-s.y}}function IH({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let s={x:null,y:null},i=0,l=new Map,c=!1,u={x:0,y:0},d=null,f=!1,m=null,h=!1,p=!1,x=null;function v({noDragClassName:w,handleSelector:b,domNode:j,isSelectable:k,nodeId:N,nodeClickDistance:_=0}){m=Or(j);function S({x:O,y:I}){const{nodeLookup:M,nodeExtent:L,snapGrid:D,snapToGrid:R,nodeOrigin:T,onNodeDrag:P,onSelectionDrag:$,onError:F,updateNodePositions:H}=t();s={x:O,y:I};let B=!1;const Y=l.size>1,X=Y&&L?Xy(Bu(l)):null,Q=Y&&R?TH({dragItems:l,snapGrid:D,x:O,y:I}):null;for(const[G,Z]of l){if(!M.has(G))continue;let U={x:O-Z.distance.x,y:I-Z.distance.y};R&&(U=Q?{x:Math.round(U.x+Q.x),y:Math.round(U.y+Q.y)}:Uu(U,D));let ne=null;if(Y&&L&&!Z.extent&&X){const{positionAbsolute:ae}=Z.internals,ce=ae.x-X.x+L[0][0],ge=ae.x+Z.measured.width-X.x2+L[1][0],pe=ae.y-X.y+L[0][1],Te=ae.y+Z.measured.height-X.y2+L[1][1];ne=[[ce,pe],[ge,Te]]}const{position:te,positionAbsolute:q}=iA({nodeId:G,nextPosition:U,nodeLookup:M,nodeExtent:ne||L,nodeOrigin:T,onError:F});B=B||Z.position.x!==te.x||Z.position.y!==te.y,Z.position=te,Z.internals.positionAbsolute=q}if(p=p||B,!!B&&(H(l,!0),x&&(n||P||!N&&$))){const[G,Z]=qg({nodeId:N,dragItems:l,nodeLookup:M});n==null||n(x,l,G,Z),P==null||P(x,G,Z),N||$==null||$(x,Z)}}async function E(){if(!d)return;const{transform:O,panBy:I,autoPanSpeed:M,autoPanOnNodeDrag:L}=t();if(!L){c=!1,cancelAnimationFrame(i);return}const[D,R]=lA(u,d,M);(D!==0||R!==0)&&(s.x=(s.x??0)-D/O[2],s.y=(s.y??0)-R/O[2],await I({x:D,y:R})&&S(s)),i=requestAnimationFrame(E)}function A(O){var Y;const{nodeLookup:I,multiSelectionActive:M,nodesDraggable:L,transform:D,snapGrid:R,snapToGrid:T,selectNodesOnDrag:P,onNodeDragStart:$,onSelectionDragStart:F,unselectNodesAndEdges:H}=t();f=!0,(!P||!k)&&!M&&N&&((Y=I.get(N))!=null&&Y.selected||H()),k&&P&&N&&(e==null||e(N));const B=_c(O.sourceEvent,{transform:D,snapGrid:R,snapToGrid:T,containerBounds:d});if(s=B,l=MH(I,L,B,N),l.size>0&&(r||$||!N&&F)){const[X,Q]=qg({nodeId:N,dragItems:l,nodeLookup:I});r==null||r(O.sourceEvent,l,X,Q),$==null||$(O.sourceEvent,X,Q),N||F==null||F(O.sourceEvent,Q)}}const C=zO().clickDistance(_).on("start",O=>{const{domNode:I,nodeDragThreshold:M,transform:L,snapGrid:D,snapToGrid:R}=t();d=(I==null?void 0:I.getBoundingClientRect())||null,h=!1,p=!1,x=O.sourceEvent,M===0&&A(O),s=_c(O.sourceEvent,{transform:L,snapGrid:D,snapToGrid:R,containerBounds:d}),u=Sn(O.sourceEvent,d)}).on("drag",O=>{const{autoPanOnNodeDrag:I,transform:M,snapGrid:L,snapToGrid:D,nodeDragThreshold:R,nodeLookup:T}=t(),P=_c(O.sourceEvent,{transform:M,snapGrid:L,snapToGrid:D,containerBounds:d});if(x=O.sourceEvent,(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||N&&!T.has(N))&&(h=!0),!h){if(!c&&I&&f&&(c=!0,E()),!f){const $=Sn(O.sourceEvent,d),F=$.x-u.x,H=$.y-u.y;Math.sqrt(F*F+H*H)>R&&A(O)}(s.x!==P.xSnapped||s.y!==P.ySnapped)&&l&&f&&(u=Sn(O.sourceEvent,d),S(P))}}).on("end",O=>{if(!(!f||h)&&(c=!1,f=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:I,updateNodePositions:M,onNodeDragStop:L,onSelectionDragStop:D}=t();if(p&&(M(l,!1),p=!1),a||L||!N&&D){const[R,T]=qg({nodeId:N,dragItems:l,nodeLookup:I,dragging:!1});a==null||a(O.sourceEvent,l,R,T),L==null||L(O.sourceEvent,R,T),N||D==null||D(O.sourceEvent,T)}}}).filter(O=>{const I=O.target;return!O.button&&(!w||!fN(I,`.${w}`,j))&&(!b||fN(I,b,j))});m.call(C)}function y(){m==null||m.on(".drag",null)}return{update:v,destroy:y}}function DH(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const s of t.values())ru(a,tl(s))>0&&n.push(s);return n}const RH=250;function LH(e,t,r,n){var l,c;let a=[],s=1/0;const i=DH(e,r,t+RH);for(const u of i){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:m,y:h}=Li(u,f,f.position,!0),p=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(h-e.y,2));p>t||(p<s?(a=[{...f,x:m,y:h}],s=p):p===s&&a.push({...f,x:m,y:h}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function NA(e,t,r,n,a,s=!1){var u,d,f;const i=n.get(e);if(!i)return null;const l=a==="strict"?(u=i.internals.handleBounds)==null?void 0:u[t]:[...((d=i.internals.handleBounds)==null?void 0:d.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?l==null?void 0:l.find(m=>m.id===r):l==null?void 0:l[0])??null;return c&&s?{...c,...Li(i,c,c.position,!0)}:c}function SA(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function $H(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const _A=()=>!0;function zH(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:s,isTarget:i,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:m,cancelConnection:h,onConnectStart:p,onConnect:x,onConnectEnd:v,isValidConnection:y=_A,onReconnectEnd:w,updateConnection:b,getTransform:j,getFromHandle:k,autoPanSpeed:N,dragThreshold:_=1,handleDomNode:S}){const E=fA(e.target);let A=0,C;const{x:O,y:I}=Sn(e),M=SA(s,S),L=l==null?void 0:l.getBoundingClientRect();let D=!1;if(!L||!M)return;const R=NA(a,M,n,c,t);if(!R)return;let T=Sn(e,L),P=!1,$=null,F=!1,H=null;function B(){if(!d||!L)return;const[te,q]=lA(T,L,N);m({x:te,y:q}),A=requestAnimationFrame(B)}const Y={...R,nodeId:a,type:M,position:R.position},X=c.get(a);let G={inProgress:!0,isValid:null,from:Li(X,Y,fe.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:X,to:T,toHandle:null,toPosition:eN[Y.position],toNode:null,pointer:T};function Z(){D=!0,b(G),p==null||p(e,{nodeId:a,handleId:n,handleType:M})}_===0&&Z();function U(te){if(!D){const{x:Te,y:dr}=Sn(te),Hr=Te-O,V=dr-I;if(!(Hr*Hr+V*V>_*_))return;Z()}if(!k()||!Y){ne(te);return}const q=j();T=Sn(te,L),C=LH(Hu(T,q,!1,[1,1]),r,c,Y),P||(B(),P=!0);const ae=EA(te,{handle:C,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:i?"target":"source",isValidConnection:y,doc:E,lib:u,flowId:f,nodeLookup:c});H=ae.handleDomNode,$=ae.connection,F=$H(!!C,ae.isValid);const ce=c.get(a),ge=ce?Li(ce,Y,fe.Left,!0):G.from,pe={...G,from:ge,isValid:F,to:ae.toHandle&&F?Cm({x:ae.toHandle.x,y:ae.toHandle.y},q):T,toHandle:ae.toHandle,toPosition:F&&ae.toHandle?ae.toHandle.position:eN[Y.position],toNode:ae.toHandle?c.get(ae.toHandle.nodeId):null,pointer:T};b(pe),G=pe}function ne(te){if(!("touches"in te&&te.touches.length>0)){if(D){(C||H)&&$&&F&&(x==null||x($));const{inProgress:q,...ae}=G,ce={...ae,toPosition:G.toHandle?G.toPosition:null};v==null||v(te,ce),s&&(w==null||w(te,ce))}h(),cancelAnimationFrame(A),P=!1,F=!1,$=null,H=null,E.removeEventListener("mousemove",U),E.removeEventListener("mouseup",ne),E.removeEventListener("touchmove",U),E.removeEventListener("touchend",ne)}}E.addEventListener("mousemove",U),E.addEventListener("mouseup",ne),E.addEventListener("touchmove",U),E.addEventListener("touchend",ne)}function EA(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:s,doc:i,lib:l,flowId:c,isValidConnection:u=_A,nodeLookup:d}){const f=s==="target",m=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=Sn(e),x=i.elementFromPoint(h,p),v=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:m,y={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const w=SA(void 0,v),b=v.getAttribute("data-nodeid"),j=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),N=v.classList.contains("connectableend");if(!b||!w)return y;const _={source:f?b:n,sourceHandle:f?j:a,target:f?n:b,targetHandle:f?a:j};y.connection=_;const E=k&&N&&(r===Jo.Strict?f&&w==="source"||!f&&w==="target":b!==n||j!==a);y.isValid=E&&u(_),y.toHandle=NA(b,w,j,d,r,!0)}return y}const Jy={onPointerDown:zH,isValid:EA};function FH({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=Or(e);function s({translateExtent:l,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:m=!0,inversePan:h=!1}){const p=b=>{if(b.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=b.sourceEvent.ctrlKey&&nu()?10:1,N=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*d,_=j[2]*Math.pow(2,N*k);t.scaleTo(_)};let x=[0,0];const v=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(x=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},y=b=>{const j=r();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const k=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],N=[k[0]-x[0],k[1]-x[1]];x=k;const _=n()*Math.max(j[2],Math.log(j[2]))*(h?-1:1),S={x:j[0]-N[0]*_,y:j[1]-N[1]*_},E=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},E,l)},w=eA().on("start",v).on("zoom",f?y:null).on("zoom.wheel",m?p:null);a.call(w,{})}function i(){a.on("zoom",null)}return{update:s,destroy:i,pointer:xn}}const ap=e=>({x:e.x,y:e.y,zoom:e.k}),Yg=({x:e,y:t,zoom:r})=>tp.translate(e,t).scale(r),yo=(e,t)=>e.target.closest(`.${t}`),CA=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),BH=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Gg=(e,t=0,r=BH,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},PA=e=>{const t=e.ctrlKey&&nu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function UH({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:s,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(yo(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&i){const v=xn(d),y=PA(d),w=f*Math.pow(2,y);n.scaleTo(r,w,v,d);return}const m=d.deltaMode===1?20:1;let h=a===ki.Vertical?0:d.deltaX*m,p=a===ki.Horizontal?0:d.deltaY*m;!nu()&&d.shiftKey&&a!==ki.Vertical&&(h=d.deltaY*m,p=0),n.translateBy(r,-(h/f)*s,-(p/f)*s,{internal:!0});const x=ap(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,x))}}function HH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const s=n.type==="wheel",i=!t&&s&&!n.ctrlKey,l=yo(n,e);if(n.ctrlKey&&s&&l&&n.preventDefault(),i||l)return null;n.preventDefault(),r.call(this,n,a)}}function VH({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var s,i,l;if((s=n.sourceEvent)!=null&&s.internal)return;const a=ap(n.transform);e.mouseButton=((i=n.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function WH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return s=>{var i,l;e.usedRightMouseButton=!!(r&&CA(t,e.mouseButton??0)),(i=s.sourceEvent)!=null&&i.sync||n([s.transform.x,s.transform.y,s.transform.k]),a&&!((l=s.sourceEvent)!=null&&l.internal)&&(a==null||a(s.sourceEvent,ap(s.transform)))}}function KH({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:s}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,s&&CA(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&s(i.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=ap(i.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(i.sourceEvent,c)},r?150:0)}}}function qH({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:s,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var v;const m=e||t,h=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(yo(f,`${u}-flow__node`)||yo(f,`${u}-flow__edge`)))return!0;if(!n&&!m&&!a&&!s&&!r||i||d&&!p||yo(f,l)&&p||yo(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!m&&!a&&!h&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&x}}function YH({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:s,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=eA().scaleExtent([t,r]).translateExtent(n),m=Or(e).call(f);w({x:a.x,y:a.y,zoom:el(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const h=m.on("wheel.zoom"),p=m.on("dblclick.zoom");f.wheelDelta(PA);function x(C,O){return m?new Promise(I=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Ea:Df).transform(Gg(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>I(!0)),C)}):Promise.resolve(!1)}function v({noWheelClassName:C,noPanClassName:O,onPaneContextMenu:I,userSelectionActive:M,panOnScroll:L,panOnDrag:D,panOnScrollMode:R,panOnScrollSpeed:T,preventScrolling:P,zoomOnPinch:$,zoomOnScroll:F,zoomOnDoubleClick:H,zoomActivationKeyPressed:B,lib:Y,onTransformChange:X,connectionInProgress:Q,paneClickDistance:G,selectionOnDrag:Z}){M&&!u.isZoomingOrPanning&&y();const U=L&&!B&&!M;f.clickDistance(Z?1/0:!Nn(G)||G<0?0:G);const ne=U?UH({zoomPanValues:u,noWheelClassName:C,d3Selection:m,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:T,zoomOnPinch:$,onPanZoomStart:i,onPanZoom:s,onPanZoomEnd:l}):HH({noWheelClassName:C,preventScrolling:P,d3ZoomHandler:h});if(m.on("wheel.zoom",ne,{passive:!1}),!M){const q=VH({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:i});f.on("start",q);const ae=WH({zoomPanValues:u,panOnDrag:D,onPaneContextMenu:!!I,onPanZoom:s,onTransformChange:X});f.on("zoom",ae);const ce=KH({zoomPanValues:u,panOnDrag:D,panOnScroll:L,onPaneContextMenu:I,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ce)}const te=qH({zoomActivationKeyPressed:B,panOnDrag:D,zoomOnScroll:F,panOnScroll:L,zoomOnDoubleClick:H,zoomOnPinch:$,userSelectionActive:M,noPanClassName:O,noWheelClassName:C,lib:Y,connectionInProgress:Q});f.filter(te),H?m.on("dblclick.zoom",p):m.on("dblclick.zoom",null)}function y(){f.on("zoom",null)}async function w(C,O,I){const M=Yg(C),L=f==null?void 0:f.constrain()(M,O,I);return L&&await x(L),new Promise(D=>D(L))}async function b(C,O){const I=Yg(C);return await x(I,O),new Promise(M=>M(I))}function j(C){if(m){const O=Yg(C),I=m.property("__zoom");(I.k!==C.zoom||I.x!==C.x||I.y!==C.y)&&(f==null||f.transform(m,O,null,{sync:!0}))}}function k(){const C=m?JO(m.node()):{x:0,y:0,k:1};return{x:C.x,y:C.y,zoom:C.k}}function N(C,O){return m?new Promise(I=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Ea:Df).scaleTo(Gg(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>I(!0)),C)}):Promise.resolve(!1)}function _(C,O){return m?new Promise(I=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Ea:Df).scaleBy(Gg(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>I(!0)),C)}):Promise.resolve(!1)}function S(C){f==null||f.scaleExtent(C)}function E(C){f==null||f.translateExtent(C)}function A(C){const O=!Nn(C)||C<0?0:C;f==null||f.clickDistance(O)}return{update:v,destroy:y,setViewport:b,setViewportConstrained:w,getViewport:k,scaleTo:N,scaleBy:_,setScaleExtent:S,setTranslateExtent:E,syncViewport:j,setClickDistance:A}}var nl;(function(e){e.Line="line",e.Handle="handle"})(nl||(nl={}));function GH({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:s}){const i=e-t,l=r-n,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function mN(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Za(e,t){return Math.max(0,t-e)}function Ja(e,t){return Math.max(0,e-t)}function Gd(e,t,r){return Math.max(0,t-e,e-r)}function hN(e,t){return e?!t:t}function XH(e,t,r,n,a,s,i,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,m=d&&f,{xSnapped:h,ySnapped:p}=r,{minWidth:x,maxWidth:v,minHeight:y,maxHeight:w}=n,{x:b,y:j,width:k,height:N,aspectRatio:_}=e;let S=Math.floor(d?h-e.pointerX:0),E=Math.floor(f?p-e.pointerY:0);const A=k+(c?-S:S),C=N+(u?-E:E),O=-s[0]*k,I=-s[1]*N;let M=Gd(A,x,v),L=Gd(C,y,w);if(i){let T=0,P=0;c&&S<0?T=Za(b+S+O,i[0][0]):!c&&S>0&&(T=Ja(b+A+O,i[1][0])),u&&E<0?P=Za(j+E+I,i[0][1]):!u&&E>0&&(P=Ja(j+C+I,i[1][1])),M=Math.max(M,T),L=Math.max(L,P)}if(l){let T=0,P=0;c&&S>0?T=Ja(b+S,l[0][0]):!c&&S<0&&(T=Za(b+A,l[1][0])),u&&E>0?P=Ja(j+E,l[0][1]):!u&&E<0&&(P=Za(j+C,l[1][1])),M=Math.max(M,T),L=Math.max(L,P)}if(a){if(d){const T=Gd(A/_,y,w)*_;if(M=Math.max(M,T),i){let P=0;!c&&!u||c&&!u&&m?P=Ja(j+I+A/_,i[1][1])*_:P=Za(j+I+(c?S:-S)/_,i[0][1])*_,M=Math.max(M,P)}if(l){let P=0;!c&&!u||c&&!u&&m?P=Za(j+A/_,l[1][1])*_:P=Ja(j+(c?S:-S)/_,l[0][1])*_,M=Math.max(M,P)}}if(f){const T=Gd(C*_,x,v)/_;if(L=Math.max(L,T),i){let P=0;!c&&!u||u&&!c&&m?P=Ja(b+C*_+O,i[1][0])/_:P=Za(b+(u?E:-E)*_+O,i[0][0])/_,L=Math.max(L,P)}if(l){let P=0;!c&&!u||u&&!c&&m?P=Za(b+C*_,l[1][0])/_:P=Ja(b+(u?E:-E)*_,l[0][0])/_,L=Math.max(L,P)}}}E=E+(E<0?L:-L),S=S+(S<0?M:-M),a&&(m?A>C*_?E=(hN(c,u)?-S:S)/_:S=(hN(c,u)?-E:E)*_:d?(E=S/_,u=c):(S=E*_,c=u));const D=c?b+S:b,R=u?j+E:j;return{width:k+(c?-S:S),height:N+(u?-E:E),x:s[0]*S*(c?-1:1)+D,y:s[1]*E*(u?-1:1)+R}}const OA={width:0,height:0,x:0,y:0},QH={...OA,pointerX:0,pointerY:0,aspectRatio:1};function ZH(e){return[[0,0],[e.measured.width,e.measured.height]]}function JH(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,s=e.measured.width??0,i=e.measured.height??0,l=r[0]*s,c=r[1]*i;return[[n-l,a-c],[n+s-l,a+i-c]]}function eV({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const s=Or(e);let i={controlDirection:mN("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:m,onResizeStart:h,onResize:p,onResizeEnd:x,shouldResize:v}){let y={...OA},w={...QH};i={boundaries:d,resizeDirection:m,keepAspectRatio:f,controlDirection:mN(u)};let b,j=null,k=[],N,_,S,E=!1;const A=zO().on("start",C=>{const{nodeLookup:O,transform:I,snapGrid:M,snapToGrid:L,nodeOrigin:D,paneDomNode:R}=r();if(b=O.get(t),!b)return;j=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:P}=_c(C.sourceEvent,{transform:I,snapGrid:M,snapToGrid:L,containerBounds:j});y={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},w={...y,pointerX:T,pointerY:P,aspectRatio:y.width/y.height},N=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(N=O.get(b.parentId),_=N&&b.extent==="parent"?ZH(N):void 0),k=[],S=void 0;for(const[$,F]of O)if(F.parentId===t&&(k.push({id:$,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const H=JH(F,b,F.origin??D);S?S=[[Math.min(H[0][0],S[0][0]),Math.min(H[0][1],S[0][1])],[Math.max(H[1][0],S[1][0]),Math.max(H[1][1],S[1][1])]]:S=H}h==null||h(C,{...y})}).on("drag",C=>{const{transform:O,snapGrid:I,snapToGrid:M,nodeOrigin:L}=r(),D=_c(C.sourceEvent,{transform:O,snapGrid:I,snapToGrid:M,containerBounds:j}),R=[];if(!b)return;const{x:T,y:P,width:$,height:F}=y,H={},B=b.origin??L,{width:Y,height:X,x:Q,y:G}=XH(w,i.controlDirection,D,i.boundaries,i.keepAspectRatio,B,_,S),Z=Y!==$,U=X!==F,ne=Q!==T&&Z,te=G!==P&&U;if(!ne&&!te&&!Z&&!U)return;if((ne||te||B[0]===1||B[1]===1)&&(H.x=ne?Q:y.x,H.y=te?G:y.y,y.x=H.x,y.y=H.y,k.length>0)){const ge=Q-T,pe=G-P;for(const Te of k)Te.position={x:Te.position.x-ge+B[0]*(Y-$),y:Te.position.y-pe+B[1]*(X-F)},R.push(Te)}if((Z||U)&&(H.width=Z&&(!i.resizeDirection||i.resizeDirection==="horizontal")?Y:y.width,H.height=U&&(!i.resizeDirection||i.resizeDirection==="vertical")?X:y.height,y.width=H.width,y.height=H.height),N&&b.expandParent){const ge=B[0]*(H.width??0);H.x&&H.x<ge&&(y.x=ge,w.x=w.x-(H.x-ge));const pe=B[1]*(H.height??0);H.y&&H.y<pe&&(y.y=pe,w.y=w.y-(H.y-pe))}const q=GH({width:y.width,prevWidth:$,height:y.height,prevHeight:F,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),ae={...y,direction:q};(v==null?void 0:v(C,ae))!==!1&&(E=!0,p==null||p(C,ae),n(H,R))}).on("end",C=>{E&&(x==null||x(C,{...y}),a==null||a({...y}),E=!1)});s.call(A)}function c(){s.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:tV}=Zr,{useSyncExternalStoreWithSelector:rV}=kO,nV=e=>e;function AA(e,t=nV,r){const n=rV(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return tV(n),n}const pN=(e,t)=>{const r=yO(e),n=(a,s=t)=>AA(r,a,s);return Object.assign(n,r),n},aV=(e,t)=>e?pN(e,t):pN;function Ke(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const sp=g.createContext(null),sV=sp.Provider,MA=ea.error001();function je(e,t){const r=g.useContext(sp);if(r===null)throw new Error(MA);return AA(r,e,t)}function qe(){const e=g.useContext(sp);if(e===null)throw new Error(MA);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const gN={display:"none"},iV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},TA="react-flow__node-desc",IA="react-flow__edge-desc",oV="react-flow__aria-live",lV=e=>e.ariaLiveMessage,cV=e=>e.ariaLabelConfig;function uV({rfId:e}){const t=je(lV);return o.jsx("div",{id:`${oV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:iV,children:t})}function dV({rfId:e,disableKeyboardA11y:t}){const r=je(cV);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${TA}-${e}`,style:gN,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${IA}-${e}`,style:gN,children:r["edge.a11yDescription.default"]}),!t&&o.jsx(uV,{rfId:e})]})}const ip=g.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},s)=>{const i=`${e}`.split("-");return o.jsx("div",{className:mt(["react-flow__panel",r,...i]),style:n,ref:s,...a,children:t})});ip.displayName="Panel";function fV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:o.jsx(ip,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const mV=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Xd=e=>e.id;function hV(e,t){return Ke(e.selectedNodes.map(Xd),t.selectedNodes.map(Xd))&&Ke(e.selectedEdges.map(Xd),t.selectedEdges.map(Xd))}function pV({onSelectionChange:e}){const t=qe(),{selectedNodes:r,selectedEdges:n}=je(mV,hV);return g.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(s=>s(a))},[r,n,e]),null}const gV=e=>!!e.onSelectionChangeHandlers;function yV({onSelectionChange:e}){const t=je(gV);return e||t?o.jsx(pV,{onSelectionChange:e}):null}const DA=[0,0],xV={x:0,y:0,zoom:1},vV=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],yN=[...vV,"rfId"],bV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),xN={translateExtent:eu,nodeOrigin:DA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function wV(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:s,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c}=je(bV,Ke),u=qe();g.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=xN,l()}),[]);const d=g.useRef(xN);return g.useEffect(()=>{for(const f of yN){const m=e[f],h=d.current[f];m!==h&&(typeof e[f]>"u"||(f==="nodes"?t(m):f==="edges"?r(m):f==="minZoom"?n(m):f==="maxZoom"?a(m):f==="translateExtent"?s(m):f==="nodeExtent"?i(m):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:mH(m)}):f==="fitView"?u.setState({fitViewQueued:m}):f==="fitViewOptions"?u.setState({fitViewOptions:m}):u.setState({[f]:m})))}d.current=e},yN.map(f=>e[f])),null}function vN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function jV(e){var n;const[t,r]=g.useState(e==="system"?null:e);return g.useEffect(()=>{if(e!=="system"){r(e);return}const a=vN(),s=()=>r(a!=null&&a.matches?"dark":"light");return s(),a==null||a.addEventListener("change",s),()=>{a==null||a.removeEventListener("change",s)}},[e]),t!==null?t:(n=vN())!=null&&n.matches?"dark":"light"}const bN=typeof document<"u"?document:null;function au(e=null,t={target:bN,actInsideInputWithModifier:!0}){const[r,n]=g.useState(!1),a=g.useRef(!1),s=g.useRef(new Set([])),[i,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=(t==null?void 0:t.target)??bN,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=h=>{var v,y;if(a.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!a.current||a.current&&!u)&&mA(h))return!1;const x=jN(h.code,l);if(s.current.add(h[x]),wN(i,s.current,!1)){const w=((y=(v=h.composedPath)==null?void 0:v.call(h))==null?void 0:y[0])||h.target,b=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";t.preventDefault!==!1&&(a.current||!b)&&h.preventDefault(),n(!0)}},f=h=>{const p=jN(h.code,l);wN(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),a.current=!1},m=()=>{s.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,n]),r}function wN(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function jN(e,t){return t.includes(e)?"code":"key"}const kV=()=>{const e=qe();return g.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,s],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??s},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:s,maxZoom:i,panZoom:l}=e.getState(),c=_b(t,n,a,s,i,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:s,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??s;return Hu(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:s}=n.getBoundingClientRect(),i=Cm(t,r);return{x:i.x+a,y:i.y+s}}}),[])};function RA(e,t){const r=[],n=new Map,a=[];for(const s of e)if(s.type==="add"){a.push(s);continue}else if(s.type==="remove"||s.type==="replace")n.set(s.id,[s]);else{const i=n.get(s.id);i?i.push(s):n.set(s.id,[s])}for(const s of t){const i=n.get(s.id);if(!i){r.push(s);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){r.push({...i[0].item});continue}const l={...s};for(const c of i)NV(c,l);r.push(l)}return a.length&&a.forEach(s=>{s.index!==void 0?r.splice(s.index,0,{...s.item}):r.push({...s.item})}),r}function NV(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function LA(e,t){return RA(e,t)}function $A(e,t){return RA(e,t)}function Xs(e,t){return{id:e,type:"select",selected:t}}function xo(e,t=new Set,r=!1){const n=[];for(const[a,s]of e){const i=t.has(a);!(s.selected===void 0&&!i)&&s.selected!==i&&(r&&(s.selected=i),n.push(Xs(s.id,i)))}return n}function kN({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const l=t.get(i.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==i&&r.push({id:i.id,item:i,type:"replace"}),c===void 0&&r.push({item:i,type:"add",index:s})}for(const[s]of t)n.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function NN(e){return{id:e.id,type:"remove"}}const SN=e=>nH(e),SV=e=>sA(e);function zA(e){return g.forwardRef(e)}const _V=typeof window<"u"?g.useLayoutEffect:g.useEffect;function _N(e){const[t,r]=g.useState(BigInt(0)),[n]=g.useState(()=>EV(()=>r(a=>a+BigInt(1))));return _V(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function EV(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const FA=g.createContext(null);function CV({children:e}){const t=qe(),r=g.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:m,fitViewQueued:h,onNodesChangeMiddlewareMap:p}=t.getState();let x=c;for(const y of l)x=typeof y=="function"?y(x):y;let v=kN({items:x,lookup:m});for(const y of p.values())v=y(v);d&&u(x),v.length>0?f==null||f(v):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:w,setNodes:b}=t.getState();y&&b(w)})},[]),n=_N(r),a=g.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:m}=t.getState();let h=c;for(const p of l)h=typeof p=="function"?p(h):p;d?u(h):f&&f(kN({items:h,lookup:m}))},[]),s=_N(a),i=g.useMemo(()=>({nodeQueue:n,edgeQueue:s}),[]);return o.jsx(FA.Provider,{value:i,children:e})}function PV(){const e=g.useContext(FA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const OV=e=>!!e.panZoom;function kl(){const e=kV(),t=qe(),r=PV(),n=je(OV),a=g.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),i=f=>{r.nodeQueue.push(f)},l=f=>{r.edgeQueue.push(f)},c=f=>{var y,w;const{nodeLookup:m,nodeOrigin:h}=t.getState(),p=SN(f)?f:m.get(f.id),x=p.parentId?dA(p.position,p.measured,p.parentId,m,h):p.position,v={...p,position:x,width:((y=p.measured)==null?void 0:y.width)??p.width,height:((w=p.measured)==null?void 0:w.height)??p.height};return tl(v)},u=(f,m,h={replace:!1})=>{i(p=>p.map(x=>{if(x.id===f){const v=typeof m=="function"?m(x):m;return h.replace&&SN(v)?v:{...x,...v}}return x}))},d=(f,m,h={replace:!1})=>{l(p=>p.map(x=>{if(x.id===f){const v=typeof m=="function"?m(x):m;return h.replace&&SV(v)?v:{...x,...v}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var m;return(m=s(f))==null?void 0:m.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(m=>({...m}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:l,addNodes:f=>{const m=Array.isArray(f)?f:[f];r.nodeQueue.push(h=>[...h,...m])},addEdges:f=>{const m=Array.isArray(f)?f:[f];r.edgeQueue.push(h=>[...h,...m])},toObject:()=>{const{nodes:f=[],edges:m=[],transform:h}=t.getState(),[p,x,v]=h;return{nodes:f.map(y=>({...y})),edges:m.map(y=>({...y})),viewport:{x:p,y:x,zoom:v}}},deleteElements:async({nodes:f=[],edges:m=[]})=>{const{nodes:h,edges:p,onNodesDelete:x,onEdgesDelete:v,triggerNodeChanges:y,triggerEdgeChanges:w,onDelete:b,onBeforeDelete:j}=t.getState(),{nodes:k,edges:N}=await lH({nodesToRemove:f,edgesToRemove:m,nodes:h,edges:p,onBeforeDelete:j}),_=N.length>0,S=k.length>0;if(_){const E=N.map(NN);v==null||v(N),w(E)}if(S){const E=k.map(NN);x==null||x(k),y(E)}return(S||_)&&(b==null||b({nodes:k,edges:N})),{deletedNodes:k,deletedEdges:N}},getIntersectingNodes:(f,m=!0,h)=>{const p=rN(f),x=p?f:c(f),v=h!==void 0;return x?(h||t.getState().nodes).filter(y=>{const w=t.getState().nodeLookup.get(y.id);if(w&&!p&&(y.id===f.id||!w.internals.positionAbsolute))return!1;const b=tl(v?y:w),j=ru(b,x);return m&&j>0||j>=b.width*b.height||j>=x.width*x.height}):[]},isNodeIntersecting:(f,m,h=!0)=>{const x=rN(f)?f:c(f);if(!x)return!1;const v=ru(x,m);return h&&v>0||v>=m.width*m.height||v>=x.width*x.height},updateNode:u,updateNodeData:(f,m,h={replace:!1})=>{u(f,p=>{const x=typeof m=="function"?m(p):m;return h.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},h)},updateEdge:d,updateEdgeData:(f,m,h={replace:!1})=>{d(f,p=>{const x=typeof m=="function"?m(p):m;return h.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},h)},getNodesBounds:f=>{const{nodeLookup:m,nodeOrigin:h}=t.getState();return aH(f,{nodeLookup:m,nodeOrigin:h})},getHandleConnections:({type:f,id:m,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${m?`-${m}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:m,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?m?`-${f}-${m}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const m=t.getState().fitViewResolver??fH();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:m}),r.nodeQueue.push(h=>[...h]),m.promise}}},[]);return g.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const EN=e=>e.selected,AV=typeof window<"u"?window:void 0;function MV({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=qe(),{deleteElements:n}=kl(),a=au(e,{actInsideInputWithModifier:!1}),s=au(t,{target:AV});g.useEffect(()=>{if(a){const{edges:i,nodes:l}=r.getState();n({nodes:l.filter(EN),edges:i.filter(EN)}),r.setState({nodesSelectionActive:!1})}},[a]),g.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])}function TV(e){const t=qe();g.useEffect(()=>{const r=()=>{var a,s,i,l;if(!e.current||!(((s=(a=e.current).checkVisibility)==null?void 0:s.call(a))??!0))return!1;const n=Eb(e.current);(n.height===0||n.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",ea.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const op={position:"absolute",width:"100%",height:"100%",top:0,left:0},IV=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function DV({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:s=ki.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:m,preventScrolling:h=!0,children:p,noWheelClassName:x,noPanClassName:v,onViewportChange:y,isControlledViewport:w,paneClickDistance:b,selectionOnDrag:j}){const k=qe(),N=g.useRef(null),{userSelectionActive:_,lib:S,connectionInProgress:E}=je(IV,Ke),A=au(m),C=g.useRef();TV(N);const O=g.useCallback(I=>{y==null||y({x:I[0],y:I[1],zoom:I[2]}),w||k.setState({transform:I})},[y,w]);return g.useEffect(()=>{if(N.current){C.current=YH({domNode:N.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:D=>k.setState({paneDragging:D}),onPanZoomStart:(D,R)=>{const{onViewportChangeStart:T,onMoveStart:P}=k.getState();P==null||P(D,R),T==null||T(R)},onPanZoom:(D,R)=>{const{onViewportChange:T,onMove:P}=k.getState();P==null||P(D,R),T==null||T(R)},onPanZoomEnd:(D,R)=>{const{onViewportChangeEnd:T,onMoveEnd:P}=k.getState();P==null||P(D,R),T==null||T(R)}});const{x:I,y:M,zoom:L}=C.current.getViewport();return k.setState({panZoom:C.current,transform:[I,M,L],domNode:N.current.closest(".react-flow")}),()=>{var D;(D=C.current)==null||D.destroy()}}},[]),g.useEffect(()=>{var I;(I=C.current)==null||I.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:s,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:A,preventScrolling:h,noPanClassName:v,userSelectionActive:_,noWheelClassName:x,lib:S,onTransformChange:O,connectionInProgress:E,selectionOnDrag:j,paneClickDistance:b})},[e,t,r,n,a,s,i,l,A,h,v,_,x,S,O,E,j,b]),o.jsx("div",{className:"react-flow__renderer",ref:N,style:op,children:p})}const RV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function LV(){const{userSelectionActive:e,userSelectionRect:t}=je(RV,Ke);return e&&t?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Xg=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},$V=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function zV({isSelecting:e,selectionKeyPressed:t,selectionMode:r=tu.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:s,onSelectionStart:i,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:h,children:p}){const x=qe(),{userSelectionActive:v,elementsSelectable:y,dragging:w,connectionInProgress:b}=je($V,Ke),j=y&&(e||v),k=g.useRef(null),N=g.useRef(),_=g.useRef(new Set),S=g.useRef(new Set),E=g.useRef(!1),A=T=>{if(E.current||b){E.current=!1;return}c==null||c(T),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},C=T=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){T.preventDefault();return}u==null||u(T)},O=d?T=>d(T):void 0,I=T=>{E.current&&(T.stopPropagation(),E.current=!1)},M=T=>{var X,Q;const{domNode:P}=x.getState();if(N.current=P==null?void 0:P.getBoundingClientRect(),!N.current)return;const $=T.target===k.current;if(!$&&!!T.target.closest(".nokey")||!e||!(s&&$||t)||T.button!==0||!T.isPrimary)return;(Q=(X=T.target)==null?void 0:X.setPointerCapture)==null||Q.call(X,T.pointerId),E.current=!1;const{x:B,y:Y}=Sn(T.nativeEvent,N.current);x.setState({userSelectionRect:{width:0,height:0,startX:B,startY:Y,x:B,y:Y}}),$||(T.stopPropagation(),T.preventDefault())},L=T=>{const{userSelectionRect:P,transform:$,nodeLookup:F,edgeLookup:H,connectionLookup:B,triggerNodeChanges:Y,triggerEdgeChanges:X,defaultEdgeOptions:Q,resetSelectedElements:G}=x.getState();if(!N.current||!P)return;const{x:Z,y:U}=Sn(T.nativeEvent,N.current),{startX:ne,startY:te}=P;if(!E.current){const pe=t?0:a;if(Math.hypot(Z-ne,U-te)<=pe)return;G(),i==null||i(T)}E.current=!0;const q={startX:ne,startY:te,x:Z<ne?Z:ne,y:U<te?U:te,width:Math.abs(Z-ne),height:Math.abs(U-te)},ae=_.current,ce=S.current;_.current=new Set(Sb(F,q,$,r===tu.Partial,!0).map(pe=>pe.id)),S.current=new Set;const ge=(Q==null?void 0:Q.selectable)??!0;for(const pe of _.current){const Te=B.get(pe);if(Te)for(const{edgeId:dr}of Te.values()){const Hr=H.get(dr);Hr&&(Hr.selectable??ge)&&S.current.add(dr)}}if(!nN(ae,_.current)){const pe=xo(F,_.current,!0);Y(pe)}if(!nN(ce,S.current)){const pe=xo(H,S.current);X(pe)}x.setState({userSelectionRect:q,userSelectionActive:!0,nodesSelectionActive:!1})},D=T=>{var P,$;T.button===0&&(($=(P=T.target)==null?void 0:P.releasePointerCapture)==null||$.call(P,T.pointerId),!v&&T.target===k.current&&x.getState().userSelectionRect&&(A==null||A(T)),x.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(l==null||l(T),x.setState({nodesSelectionActive:_.current.size>0})))},R=n===!0||Array.isArray(n)&&n.includes(0);return o.jsxs("div",{className:mt(["react-flow__pane",{draggable:R,dragging:w,selection:e}]),onClick:j?void 0:Xg(A,k),onContextMenu:Xg(C,k),onWheel:Xg(O,k),onPointerEnter:j?void 0:f,onPointerMove:j?L:m,onPointerUp:j?D:void 0,onPointerDownCapture:j?M:void 0,onClickCapture:j?I:void 0,onPointerLeave:h,ref:k,style:op,children:[p,o.jsx(LV,{})]})}function ex({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",ea.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function BA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,nodeClickDistance:i}){const l=qe(),[c,u]=g.useState(!1),d=g.useRef();return g.useEffect(()=>{d.current=IH({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{ex({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),g.useEffect(()=>{var f,m;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(m=d.current)==null||m.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:s,nodeId:a,nodeClickDistance:i}),()=>{var h;(h=d.current)==null||h.destroy()}},[r,n,t,s,e,a]),c}const FV=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function UA(){const e=qe();return g.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:s,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,m=FV(i),h=a?s[0]:5,p=a?s[1]:5,x=r.direction.x*h*r.factor,v=r.direction.y*p*r.factor;for(const[,y]of u){if(!m(y))continue;let w={x:y.internals.positionAbsolute.x+x,y:y.internals.positionAbsolute.y+v};a&&(w=Uu(w,s));const{position:b,positionAbsolute:j}=iA({nodeId:y.id,nextPosition:w,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:l});y.position=b,y.internals.positionAbsolute=j,f.set(y.id,y)}c(f)},[])}const Tb=g.createContext(null),BV=Tb.Provider;Tb.Consumer;const HA=()=>g.useContext(Tb),UV=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),HV=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:s,connection:i}=n,{fromHandle:l,toHandle:c,isValid:u}=i,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:s===Jo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:d&&u}};function VV({type:e="source",position:t=fe.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h){var L,D;const p=i||null,x=e==="target",v=qe(),y=HA(),{connectOnClick:w,noPanClassName:b,rfId:j}=je(UV,Ke),{connectingFrom:k,connectingTo:N,clickConnecting:_,isPossibleEndHandle:S,connectionInProcess:E,clickConnectionInProcess:A,valid:C}=je(HV(y,p,e),Ke);y||(D=(L=v.getState()).onError)==null||D.call(L,"010",ea.error010());const O=R=>{const{defaultEdgeOptions:T,onConnect:P,hasDefaultEdges:$}=v.getState(),F={...T,...R};if($){const{edges:H,setEdges:B}=v.getState();B(xA(F,H))}P==null||P(F),l==null||l(F)},I=R=>{if(!y)return;const T=hA(R.nativeEvent);if(a&&(T&&R.button===0||!T)){const P=v.getState();Jy.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:x,handleId:p,nodeId:y,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:O,isValidConnection:r||P.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}T?d==null||d(R):f==null||f(R)},M=R=>{const{onClickConnectStart:T,onClickConnectEnd:P,connectionClickStartHandle:$,connectionMode:F,isValidConnection:H,lib:B,rfId:Y,nodeLookup:X,connection:Q}=v.getState();if(!y||!$&&!a)return;if(!$){T==null||T(R.nativeEvent,{nodeId:y,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:y,type:e,id:p}});return}const G=fA(R.target),Z=r||H,{connection:U,isValid:ne}=Jy.isValid(R.nativeEvent,{handle:{nodeId:y,id:p,type:e},connectionMode:F,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:Z,flowId:Y,doc:G,lib:B,nodeLookup:X});ne&&U&&O(U);const te=structuredClone(Q);delete te.inProgress,te.toPosition=te.toHandle?te.toHandle.position:null,P==null||P(R,te),v.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${j}-${y}-${p}-${e}`,className:mt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!x,target:x,connectable:n,connectablestart:a,connectableend:s,clickconnecting:_,connectingfrom:k,connectingto:N,valid:C,connectionindicator:n&&(!E||S)&&(E||A?s:a)}]),onMouseDown:I,onTouchStart:I,onClick:w?M:void 0,ref:h,...m,children:c})}const al=g.memo(zA(VV));function WV({data:e,isConnectable:t,sourcePosition:r=fe.Bottom}){return o.jsxs(o.Fragment,{children:[e==null?void 0:e.label,o.jsx(al,{type:"source",position:r,isConnectable:t})]})}function KV({data:e,isConnectable:t,targetPosition:r=fe.Top,sourcePosition:n=fe.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(al,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,o.jsx(al,{type:"source",position:n,isConnectable:t})]})}function qV(){return null}function YV({data:e,isConnectable:t,targetPosition:r=fe.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(al,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Om={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},CN={input:WV,default:KV,output:YV,group:qV};function GV(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const XV=e=>{const{width:t,height:r,x:n,y:a}=Bu(e.nodeLookup,{filter:s=>!!s.selected});return{width:Nn(t)?t:null,height:Nn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function QV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=qe(),{width:a,height:s,transformString:i,userSelectionActive:l}=je(XV,Ke),c=UA(),u=g.useRef(null);if(g.useEffect(()=>{var m;r||(m=u.current)==null||m.focus({preventScroll:!0})},[r]),BA({nodeRef:u}),l||!a||!s)return null;const d=e?m=>{const h=n.getState().nodes.filter(p=>p.selected);e(m,h)}:void 0,f=m=>{Object.prototype.hasOwnProperty.call(Om,m.key)&&(m.preventDefault(),c({direction:Om[m.key],factor:m.shiftKey?4:1}))};return o.jsx("div",{className:mt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:o.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:s}})})}const PN=typeof window<"u"?window:void 0,ZV=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function VA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:x,zoomActivationKeyCode:v,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:S,defaultViewport:E,translateExtent:A,minZoom:C,maxZoom:O,preventScrolling:I,onSelectionContextMenu:M,noWheelClassName:L,noPanClassName:D,disableKeyboardA11y:R,onViewportChange:T,isControlledViewport:P}){const{nodesSelectionActive:$,userSelectionActive:F}=je(ZV,Ke),H=au(u,{target:PN}),B=au(x,{target:PN}),Y=B||S,X=B||j,Q=d&&Y!==!0,G=H||F||Q;return MV({deleteKeyCode:c,multiSelectionKeyCode:p}),o.jsx(DV,{onPaneContextMenu:s,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:!H&&Y,defaultViewport:E,translateExtent:A,minZoom:C,maxZoom:O,zoomActivationKeyCode:v,preventScrolling:I,noWheelClassName:L,noPanClassName:D,onViewportChange:T,isControlledViewport:P,paneClickDistance:l,selectionOnDrag:Q,children:o.jsxs(zV,{onSelectionStart:m,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:Y,isSelecting:!!G,selectionMode:f,selectionKeyPressed:H,paneClickDistance:l,selectionOnDrag:Q,children:[e,$&&o.jsx(QV,{onSelectionContextMenu:M,noPanClassName:D,disableKeyboardA11y:R})]})})}VA.displayName="FlowRenderer";const JV=g.memo(VA),eW=e=>t=>e?Sb(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function tW(e){return je(g.useCallback(eW(e),[e]),Ke)}const rW=e=>e.updateNodeInternals;function nW(){const e=je(rW),[t]=g.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const s=a.target.getAttribute("data-id");n.set(s,{id:s,nodeElement:a.target,force:!0})}),e(n)}));return g.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function aW({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=qe(),s=g.useRef(null),i=g.useRef(null),l=g.useRef(e.sourcePosition),c=g.useRef(e.targetPosition),u=g.useRef(t),d=r&&!!e.internals.handleBounds;return g.useEffect(()=>{s.current&&!e.hidden&&(!d||i.current!==s.current)&&(i.current&&(n==null||n.unobserve(i.current)),n==null||n.observe(s.current),i.current=s.current)},[d,e.hidden]),g.useEffect(()=>()=>{i.current&&(n==null||n.unobserve(i.current),i.current=null)},[]),g.useEffect(()=>{if(s.current){const f=u.current!==t,m=l.current!==e.sourcePosition,h=c.current!==e.targetPosition;(f||m||h)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function sW({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:s,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:m,noPanClassName:h,disableKeyboardA11y:p,rfId:x,nodeTypes:v,nodeClickDistance:y,onError:w}){const{node:b,internals:j,isParent:k}=je(Z=>{const U=Z.nodeLookup.get(e),ne=Z.parentLookup.has(e);return{node:U,internals:U.internals,isParent:ne}},Ke);let N=b.type||"default",_=(v==null?void 0:v[N])||CN[N];_===void 0&&(w==null||w("003",ea.error003(N)),N="default",_=(v==null?void 0:v.default)||CN.default);const S=!!(b.draggable||l&&typeof b.draggable>"u"),E=!!(b.selectable||c&&typeof b.selectable>"u"),A=!!(b.connectable||u&&typeof b.connectable>"u"),C=!!(b.focusable||d&&typeof b.focusable>"u"),O=qe(),I=uA(b),M=aW({node:b,nodeType:N,hasDimensions:I,resizeObserver:f}),L=BA({nodeRef:M,disabled:b.hidden||!S,noDragClassName:m,handleSelector:b.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:y}),D=UA();if(b.hidden)return null;const R=Wa(b),T=GV(b),P=E||S||t||r||n||a,$=r?Z=>r(Z,{...j.userNode}):void 0,F=n?Z=>n(Z,{...j.userNode}):void 0,H=a?Z=>a(Z,{...j.userNode}):void 0,B=s?Z=>s(Z,{...j.userNode}):void 0,Y=i?Z=>i(Z,{...j.userNode}):void 0,X=Z=>{const{selectNodesOnDrag:U,nodeDragThreshold:ne}=O.getState();E&&(!U||!S||ne>0)&&ex({id:e,store:O,nodeRef:M}),t&&t(Z,{...j.userNode})},Q=Z=>{if(!(mA(Z.nativeEvent)||p)){if(tA.includes(Z.key)&&E){const U=Z.key==="Escape";ex({id:e,store:O,unselect:U,nodeRef:M})}else if(S&&b.selected&&Object.prototype.hasOwnProperty.call(Om,Z.key)){Z.preventDefault();const{ariaLabelConfig:U}=O.getState();O.setState({ariaLiveMessage:U["node.a11yDescription.ariaLiveMessage"]({direction:Z.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),D({direction:Om[Z.key],factor:Z.shiftKey?4:1})}}},G=()=>{var ce;if(p||!((ce=M.current)!=null&&ce.matches(":focus-visible")))return;const{transform:Z,width:U,height:ne,autoPanOnNodeFocus:te,setCenter:q}=O.getState();if(!te)return;Sb(new Map([[e,b]]),{x:0,y:0,width:U,height:ne},Z,!0).length>0||q(b.position.x+R.width/2,b.position.y+R.height/2,{zoom:Z[2]})};return o.jsx("div",{className:mt(["react-flow__node",`react-flow__node-${N}`,{[h]:S},b.className,{selected:b.selected,selectable:E,parent:k,draggable:S,dragging:L}]),ref:M,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:P?"all":"none",visibility:I?"visible":"hidden",...b.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:$,onMouseMove:F,onMouseLeave:H,onContextMenu:B,onClick:X,onDoubleClick:Y,onKeyDown:C?Q:void 0,tabIndex:C?0:void 0,onFocus:C?G:void 0,role:b.ariaRole??(C?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${TA}-${x}`,"aria-label":b.ariaLabel,...b.domAttributes,children:o.jsx(BV,{value:e,children:o.jsx(_,{id:e,data:b.data,type:N,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:b.selected??!1,selectable:E,draggable:S,deletable:b.deletable??!0,isConnectable:A,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:L,dragHandle:b.dragHandle,zIndex:j.z,parentId:b.parentId,...R})})})}var iW=g.memo(sW);const oW=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function WA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:s}=je(oW,Ke),i=tW(e.onlyRenderVisibleElements),l=nW();return o.jsx("div",{className:"react-flow__nodes",style:op,children:i.map(c=>o.jsx(iW,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}WA.displayName="NodeRenderer";const lW=g.memo(WA);function cW(e){return je(g.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const s=r.nodeLookup.get(a.source),i=r.nodeLookup.get(a.target);s&&i&&gH({sourceNode:s,targetNode:i,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),Ke)}const uW=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},dW=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},ON={[_m.Arrow]:uW,[_m.ArrowClosed]:dW};function fW(e){const t=qe();return g.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(ON,e)?ON[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",ea.error009(e)),null)},[e])}const mW=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=fW(t);return c?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:o.jsx(c,{color:r,strokeWidth:i})}):null},KA=({defaultColor:e,rfId:t})=>{const r=je(s=>s.edges),n=je(s=>s.defaultEdgeOptions),a=g.useMemo(()=>kH(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:a.map(s=>o.jsx(mW,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};KA.displayName="MarkerDefinitions";var hW=g.memo(KA);function qA({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:s,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[f,m]=g.useState({x:1,y:0,width:0,height:0}),h=mt(["react-flow__edge-textwrapper",u]),p=g.useRef(null);return g.useEffect(()=>{if(p.current){const x=p.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...d,children:[a&&o.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),o.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}qA.displayName="EdgeText";const pW=g.memo(qA);function sl({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...d,d:e,fill:"none",className:mt(["react-flow__edge-path",d.className])}),u?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&Nn(t)&&Nn(r)?o.jsx(pW,{x:t,y:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function AN({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===fe.Left||e===fe.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function YA({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top}){const[i,l]=AN({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=AN({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,m,h]=pA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${l} ${c},${u} ${n},${a}`,d,f,m,h]}function GA(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:y})=>{const[w,b,j]=YA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l}),k=e.isInternal?void 0:t;return o.jsx(sl,{id:k,path:w,labelX:b,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:y})})}const gW=GA({isInternal:!1}),XA=GA({isInternal:!0});gW.displayName="SimpleBezierEdge";XA.displayName="SimpleBezierEdgeInternal";function QA(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,sourcePosition:h=fe.Bottom,targetPosition:p=fe.Top,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[b,j,k]=Pm({sourceX:r,sourceY:n,sourcePosition:h,targetX:a,targetY:s,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset,stepPosition:y==null?void 0:y.stepPosition}),N=e.isInternal?void 0:t;return o.jsx(sl,{id:N,path:b,labelX:j,labelY:k,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:x,markerStart:v,interactionWidth:w})})}const ZA=QA({isInternal:!1}),JA=QA({isInternal:!0});ZA.displayName="SmoothStepEdge";JA.displayName="SmoothStepEdgeInternal";function eM(e){return g.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return o.jsx(ZA,{...r,id:n,pathOptions:g.useMemo(()=>{var s;return{borderRadius:0,offset:(s=r.pathOptions)==null?void 0:s.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const yW=eM({isInternal:!1}),tM=eM({isInternal:!0});yW.displayName="StepEdge";tM.displayName="StepEdgeInternal";function rM(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:x})=>{const[v,y,w]=vA({sourceX:r,sourceY:n,targetX:a,targetY:s}),b=e.isInternal?void 0:t;return o.jsx(sl,{id:b,path:v,labelX:y,labelY:w,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:x})})}const xW=rM({isInternal:!1}),nM=rM({isInternal:!0});xW.displayName="StraightEdge";nM.displayName="StraightEdgeInternal";function aM(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i=fe.Bottom,targetPosition:l=fe.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[b,j,k]=gA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l,curvature:y==null?void 0:y.curvature}),N=e.isInternal?void 0:t;return o.jsx(sl,{id:N,path:b,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:w})})}const vW=aM({isInternal:!1}),sM=aM({isInternal:!0});vW.displayName="BezierEdge";sM.displayName="BezierEdgeInternal";const MN={default:sM,straight:nM,step:tM,smoothstep:JA,simplebezier:XA},TN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},bW=(e,t,r)=>r===fe.Left?e-t:r===fe.Right?e+t:e,wW=(e,t,r)=>r===fe.Top?e-t:r===fe.Bottom?e+t:e,IN="react-flow__edgeupdater";function DN({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:l}){return o.jsx("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:mt([IN,`${IN}-${l}`]),cx:bW(t,n,e),cy:wW(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function jW({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:s,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:m,setUpdateHover:h}){const p=qe(),x=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:N,domNode:_,isValidConnection:S,connectionMode:E,connectionRadius:A,lib:C,onConnectStart:O,onConnectEnd:I,cancelConnection:M,nodeLookup:L,rfId:D,panBy:R,updateConnection:T}=p.getState(),P=k.type==="target",$=(B,Y)=>{m(!1),f==null||f(B,r,k.type,Y)},F=B=>u==null?void 0:u(r,B),H=(B,Y)=>{m(!0),d==null||d(j,r,k.type),O==null||O(B,Y)};Jy.onPointerDown(j.nativeEvent,{autoPanOnConnect:N,connectionMode:E,connectionRadius:A,domNode:_,handleId:k.id,nodeId:k.nodeId,nodeLookup:L,isTarget:P,edgeUpdaterType:k.type,lib:C,flowId:D,cancelConnection:M,panBy:R,isValidConnection:S,onConnect:F,onConnectStart:H,onConnectEnd:I,onReconnectEnd:$,updateConnection:T,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},v=j=>x(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),y=j=>x(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),w=()=>h(!0),b=()=>h(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(DN,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:v,onMouseEnter:w,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&o.jsx(DN,{position:c,centerX:s,centerY:i,radius:t,onMouseDown:y,onMouseEnter:w,onMouseOut:b,type:"target"})]})}function kW({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:h,rfId:p,edgeTypes:x,noPanClassName:v,onError:y,disableKeyboardA11y:w}){let b=je(q=>q.edgeLookup.get(e));const j=je(q=>q.defaultEdgeOptions);b=j?{...j,...b}:b;let k=b.type||"default",N=(x==null?void 0:x[k])||MN[k];N===void 0&&(y==null||y("011",ea.error011(k)),k="default",N=(x==null?void 0:x.default)||MN.default);const _=!!(b.focusable||t&&typeof b.focusable>"u"),S=typeof f<"u"&&(b.reconnectable||r&&typeof b.reconnectable>"u"),E=!!(b.selectable||n&&typeof b.selectable>"u"),A=g.useRef(null),[C,O]=g.useState(!1),[I,M]=g.useState(!1),L=qe(),{zIndex:D,sourceX:R,sourceY:T,targetX:P,targetY:$,sourcePosition:F,targetPosition:H}=je(g.useCallback(q=>{const ae=q.nodeLookup.get(b.source),ce=q.nodeLookup.get(b.target);if(!ae||!ce)return{zIndex:b.zIndex,...TN};const ge=jH({id:e,sourceNode:ae,targetNode:ce,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:q.connectionMode,onError:y});return{zIndex:pH({selected:b.selected,zIndex:b.zIndex,sourceNode:ae,targetNode:ce,elevateOnSelect:q.elevateEdgesOnSelect,zIndexMode:q.zIndexMode}),...ge||TN}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),Ke),B=g.useMemo(()=>b.markerStart?`url('#${Qy(b.markerStart,p)}')`:void 0,[b.markerStart,p]),Y=g.useMemo(()=>b.markerEnd?`url('#${Qy(b.markerEnd,p)}')`:void 0,[b.markerEnd,p]);if(b.hidden||R===null||T===null||P===null||$===null)return null;const X=q=>{var pe;const{addSelectedEdges:ae,unselectNodesAndEdges:ce,multiSelectionActive:ge}=L.getState();E&&(L.setState({nodesSelectionActive:!1}),b.selected&&ge?(ce({nodes:[],edges:[b]}),(pe=A.current)==null||pe.blur()):ae([e])),a&&a(q,b)},Q=s?q=>{s(q,{...b})}:void 0,G=i?q=>{i(q,{...b})}:void 0,Z=l?q=>{l(q,{...b})}:void 0,U=c?q=>{c(q,{...b})}:void 0,ne=u?q=>{u(q,{...b})}:void 0,te=q=>{var ae;if(!w&&tA.includes(q.key)&&E){const{unselectNodesAndEdges:ce,addSelectedEdges:ge}=L.getState();q.key==="Escape"?((ae=A.current)==null||ae.blur(),ce({edges:[b]})):ge([e])}};return o.jsx("svg",{style:{zIndex:D},children:o.jsxs("g",{className:mt(["react-flow__edge",`react-flow__edge-${k}`,b.className,v,{selected:b.selected,animated:b.animated,inactive:!E&&!a,updating:C,selectable:E}]),onClick:X,onDoubleClick:Q,onContextMenu:G,onMouseEnter:Z,onMouseMove:U,onMouseLeave:ne,onKeyDown:_?te:void 0,tabIndex:_?0:void 0,role:b.ariaRole??(_?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":_?`${IA}-${p}`:void 0,ref:A,...b.domAttributes,children:[!I&&o.jsx(N,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:E,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:R,sourceY:T,targetX:P,targetY:$,sourcePosition:F,targetPosition:H,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:B,markerEnd:Y,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),S&&o.jsx(jW,{edge:b,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:h,sourceX:R,sourceY:T,targetX:P,targetY:$,sourcePosition:F,targetPosition:H,setUpdateHover:O,setReconnecting:M})]})})}var NW=g.memo(kW);const SW=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function iM({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:m,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:x}){const{edgesFocusable:v,edgesReconnectable:y,elementsSelectable:w,onError:b}=je(SW,Ke),j=cW(t);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(hW,{defaultColor:e,rfId:r}),j.map(k=>o.jsx(NW,{id:k,edgesFocusable:v,edgesReconnectable:y,elementsSelectable:w,noPanClassName:a,onReconnect:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:m,onReconnectStart:h,onReconnectEnd:p,rfId:r,onError:b,edgeTypes:n,disableKeyboardA11y:x},k))]})}iM.displayName="EdgeRenderer";const _W=g.memo(iM),EW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function CW({children:e}){const t=je(EW);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function PW(e){const t=kl(),r=g.useRef(!1);g.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const OW=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function AW(e){const t=je(OW),r=qe();return g.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function MW(e){return e.connection.inProgress?{...e.connection,to:Hu(e.connection.to,e.transform)}:{...e.connection}}function TW(e){return MW}function IW(e){const t=TW();return je(t,Ke)}const DW=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function RW({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:s,height:i,isValid:l,inProgress:c}=je(DW,Ke);return!(s&&a&&c)?null:o.jsx("svg",{style:e,width:s,height:i,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:mt(["react-flow__connection",aA(l)]),children:o.jsx(oM,{style:t,type:r,CustomComponent:n,isValid:l})})})}const oM=({style:e,type:t=ls.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:s,fromNode:i,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:m,pointer:h}=IW();if(!a)return;if(r)return o.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:m,connectionStatus:aA(n),toNode:d,toHandle:f,pointer:h});let p="";const x={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:m};switch(t){case ls.Bezier:[p]=gA(x);break;case ls.SimpleBezier:[p]=YA(x);break;case ls.Step:[p]=Pm({...x,borderRadius:0});break;case ls.SmoothStep:[p]=Pm(x);break;default:[p]=vA(x)}return o.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};oM.displayName="ConnectionLine";const LW={};function RN(e=LW){g.useRef(e),qe(),g.useEffect(()=>{},[e])}function $W(){qe(),g.useRef(!1),g.useEffect(()=>{},[])}function lM({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:s,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:m,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:x,connectionLineComponent:v,connectionLineContainerStyle:y,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:_,deleteKeyCode:S,onlyRenderVisibleElements:E,elementsSelectable:A,defaultViewport:C,translateExtent:O,minZoom:I,maxZoom:M,preventScrolling:L,defaultMarkerColor:D,zoomOnScroll:R,zoomOnPinch:T,panOnScroll:P,panOnScrollSpeed:$,panOnScrollMode:F,zoomOnDoubleClick:H,panOnDrag:B,onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:G,onPaneScroll:Z,onPaneContextMenu:U,paneClickDistance:ne,nodeClickDistance:te,onEdgeContextMenu:q,onEdgeMouseEnter:ae,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,onReconnect:Te,onReconnectStart:dr,onReconnectEnd:Hr,noDragClassName:V,noWheelClassName:re,noPanClassName:me,disableKeyboardA11y:ue,nodeExtent:ke,rfId:tt,viewport:fr,onViewportChange:pt}){return RN(e),RN(t),$W(),PW(r),AW(fr),o.jsx(JV,{onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:G,onPaneContextMenu:U,onPaneScroll:Z,paneClickDistance:ne,deleteKeyCode:S,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:_,elementsSelectable:A,zoomOnScroll:R,zoomOnPinch:T,zoomOnDoubleClick:H,panOnScroll:P,panOnScrollSpeed:$,panOnScrollMode:F,panOnDrag:B,defaultViewport:C,translateExtent:O,minZoom:I,maxZoom:M,onSelectionContextMenu:f,preventScrolling:L,noDragClassName:V,noWheelClassName:re,noPanClassName:me,disableKeyboardA11y:ue,onViewportChange:pt,isControlledViewport:!!fr,children:o.jsxs(CW,{children:[o.jsx(_W,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Te,onReconnectStart:dr,onReconnectEnd:Hr,onlyRenderVisibleElements:E,onEdgeContextMenu:q,onEdgeMouseEnter:ae,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,defaultMarkerColor:D,noPanClassName:me,disableKeyboardA11y:ue,rfId:tt}),o.jsx(RW,{style:x,type:p,component:v,containerStyle:y}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(lW,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:te,onlyRenderVisibleElements:E,noPanClassName:me,noDragClassName:V,disableKeyboardA11y:ue,nodeExtent:ke,rfId:tt}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}lM.displayName="GraphView";const zW=g.memo(lM),LN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:m="basic"}={})=>{const h=new Map,p=new Map,x=new Map,v=new Map,y=n??t??[],w=r??e??[],b=d??[0,0],j=f??eu;jA(x,v,y);const k=Zy(w,h,p,{nodeOrigin:b,nodeExtent:j,zIndexMode:m});let N=[0,0,1];if(i&&a&&s){const _=Bu(h,{filter:C=>!!((C.width||C.initialWidth)&&(C.height||C.initialHeight))}),{x:S,y:E,zoom:A}=_b(_,a,s,c,u,(l==null?void 0:l.padding)??.1);N=[S,E,A]}return{rfId:"1",width:a??0,height:s??0,transform:N,nodes:w,nodesInitialized:k,nodeLookup:h,parentLookup:p,edges:y,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:eu,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Jo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...nA},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:cH,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:rA,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},FW=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:m})=>aV((h,p)=>{async function x(){const{nodeLookup:v,panZoom:y,fitViewOptions:w,fitViewResolver:b,width:j,height:k,minZoom:N,maxZoom:_}=p();y&&(await oH({nodes:v,width:j,height:k,panZoom:y,minZoom:N,maxZoom:_},w),b==null||b.resolve(!0),h({fitViewResolver:null}))}return{...LN({nodes:e,edges:t,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:m}),setNodes:v=>{const{nodeLookup:y,parentLookup:w,nodeOrigin:b,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:N}=p(),_=Zy(v,y,w,{nodeOrigin:b,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:N});k&&_?(x(),h({nodes:v,nodesInitialized:_,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:v,nodesInitialized:_})},setEdges:v=>{const{connectionLookup:y,edgeLookup:w}=p();jA(y,w,v),h({edges:v})},setDefaultNodesAndEdges:(v,y)=>{if(v){const{setNodes:w}=p();w(v),h({hasDefaultNodes:!0})}if(y){const{setEdges:w}=p();w(y),h({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:y,nodeLookup:w,parentLookup:b,domNode:j,nodeOrigin:k,nodeExtent:N,debug:_,fitViewQueued:S,zIndexMode:E}=p(),{changes:A,updatedInternals:C}=OH(v,w,b,j,k,N,E);C&&(_H(w,b,{nodeOrigin:k,nodeExtent:N,zIndexMode:E}),S?(x(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(A==null?void 0:A.length)>0&&(_&&console.log("React Flow: trigger node changes",A),y==null||y(A)))},updateNodePositions:(v,y=!1)=>{const w=[];let b=[];const{nodeLookup:j,triggerNodeChanges:k,connection:N,updateConnection:_,onNodesChangeMiddlewareMap:S}=p();for(const[E,A]of v){const C=j.get(E),O=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(A!=null&&A.position)),I={id:E,type:"position",position:O?{x:Math.max(0,A.position.x),y:Math.max(0,A.position.y)}:A.position,dragging:y};if(C&&N.inProgress&&N.fromNode.id===C.id){const M=Li(C,N.fromHandle,fe.Left,!0);_({...N,from:M})}O&&C.parentId&&w.push({id:E,parentId:C.parentId,rect:{...A.internals.positionAbsolute,width:A.measured.width??0,height:A.measured.height??0}}),b.push(I)}if(w.length>0){const{parentLookup:E,nodeOrigin:A}=p(),C=Mb(w,j,E,A);b.push(...C)}for(const E of S.values())b=E(b);k(b)},triggerNodeChanges:v=>{const{onNodesChange:y,setNodes:w,nodes:b,hasDefaultNodes:j,debug:k}=p();if(v!=null&&v.length){if(j){const N=LA(v,b);w(N)}k&&console.log("React Flow: trigger node changes",v),y==null||y(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:y,setEdges:w,edges:b,hasDefaultEdges:j,debug:k}=p();if(v!=null&&v.length){if(j){const N=$A(v,b);w(N)}k&&console.log("React Flow: trigger edge changes",v),y==null||y(v)}},addSelectedNodes:v=>{const{multiSelectionActive:y,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(y){const N=v.map(_=>Xs(_,!0));j(N);return}j(xo(b,new Set([...v]),!0)),k(xo(w))},addSelectedEdges:v=>{const{multiSelectionActive:y,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(y){const N=v.map(_=>Xs(_,!0));k(N);return}k(xo(w,new Set([...v]))),j(xo(b,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:y}={})=>{const{edges:w,nodes:b,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:N}=p(),_=v||b,S=y||w,E=_.map(C=>{const O=j.get(C.id);return O&&(O.selected=!1),Xs(C.id,!1)}),A=S.map(C=>Xs(C.id,!1));k(E),N(A)},setMinZoom:v=>{const{panZoom:y,maxZoom:w}=p();y==null||y.setScaleExtent([v,w]),h({minZoom:v})},setMaxZoom:v=>{const{panZoom:y,minZoom:w}=p();y==null||y.setScaleExtent([w,v]),h({maxZoom:v})},setTranslateExtent:v=>{var y;(y=p().panZoom)==null||y.setTranslateExtent(v),h({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:y,triggerNodeChanges:w,triggerEdgeChanges:b,elementsSelectable:j}=p();if(!j)return;const k=y.reduce((_,S)=>S.selected?[..._,Xs(S.id,!1)]:_,[]),N=v.reduce((_,S)=>S.selected?[..._,Xs(S.id,!1)]:_,[]);w(k),b(N)},setNodeExtent:v=>{const{nodes:y,nodeLookup:w,parentLookup:b,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:N,zIndexMode:_}=p();v[0][0]===N[0][0]&&v[0][1]===N[0][1]&&v[1][0]===N[1][0]&&v[1][1]===N[1][1]||(Zy(y,w,b,{nodeOrigin:j,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:_}),h({nodeExtent:v}))},panBy:v=>{const{transform:y,width:w,height:b,panZoom:j,translateExtent:k}=p();return AH({delta:v,panZoom:j,transform:y,translateExtent:k,width:w,height:b})},setCenter:async(v,y,w)=>{const{width:b,height:j,maxZoom:k,panZoom:N}=p();if(!N)return Promise.resolve(!1);const _=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:k;return await N.setViewport({x:b/2-v*_,y:j/2-y*_,zoom:_},{duration:w==null?void 0:w.duration,ease:w==null?void 0:w.ease,interpolate:w==null?void 0:w.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...nA}})},updateConnection:v=>{h({connection:v})},reset:()=>h({...LN()})}},Object.is);function cM({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:s,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:m,children:h}){const[p]=g.useState(()=>FW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:u,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:m}));return o.jsx(sV,{value:p,children:o.jsx(CV,{children:h})})}function BW({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:s,height:i,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:m,zIndexMode:h}){return g.useContext(sp)?o.jsx(o.Fragment,{children:e}):o.jsx(cM,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:s,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:m,zIndexMode:h,children:e})}const UW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function HW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:N,onNodeDragStart:_,onNodeDrag:S,onNodeDragStop:E,onNodesDelete:A,onEdgesDelete:C,onDelete:O,onSelectionChange:I,onSelectionDragStart:M,onSelectionDrag:L,onSelectionDragStop:D,onSelectionContextMenu:R,onSelectionStart:T,onSelectionEnd:P,onBeforeDelete:$,connectionMode:F,connectionLineType:H=ls.Bezier,connectionLineStyle:B,connectionLineComponent:Y,connectionLineContainerStyle:X,deleteKeyCode:Q="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Z=!1,selectionMode:U=tu.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:te=nu()?"Meta":"Control",zoomActivationKeyCode:q=nu()?"Meta":"Control",snapToGrid:ae,snapGrid:ce,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:pe,nodesDraggable:Te,autoPanOnNodeFocus:dr,nodesConnectable:Hr,nodesFocusable:V,nodeOrigin:re=DA,edgesFocusable:me,edgesReconnectable:ue,elementsSelectable:ke=!0,defaultViewport:tt=xV,minZoom:fr=.5,maxZoom:pt=2,translateExtent:dn=eu,preventScrolling:St=!0,nodeExtent:gt,defaultMarkerColor:fn="#b1b1b7",zoomOnScroll:Ks=!0,zoomOnPinch:_t=!0,panOnScroll:Xa=!1,panOnScrollSpeed:B3=.5,panOnScrollMode:U3=ki.Free,zoomOnDoubleClick:H3=!0,panOnDrag:V3=!0,onPaneClick:W3,onPaneMouseEnter:K3,onPaneMouseMove:q3,onPaneMouseLeave:Y3,onPaneScroll:G3,onPaneContextMenu:X3,paneClickDistance:Q3=1,nodeClickDistance:Z3=0,children:J3,onReconnect:e5,onReconnectStart:t5,onReconnectEnd:r5,onEdgeContextMenu:n5,onEdgeDoubleClick:a5,onEdgeMouseEnter:s5,onEdgeMouseMove:i5,onEdgeMouseLeave:o5,reconnectRadius:l5=10,onNodesChange:c5,onEdgesChange:u5,noDragClassName:d5="nodrag",noWheelClassName:f5="nowheel",noPanClassName:T1="nopan",fitView:I1,fitViewOptions:D1,connectOnClick:m5,attributionPosition:h5,proOptions:p5,defaultEdgeOptions:g5,elevateNodesOnSelect:y5=!0,elevateEdgesOnSelect:x5=!1,disableKeyboardA11y:R1=!1,autoPanOnConnect:v5,autoPanOnNodeDrag:b5,autoPanSpeed:w5,connectionRadius:j5,isValidConnection:k5,onError:N5,style:S5,id:L1,nodeDragThreshold:_5,connectionDragThreshold:E5,viewport:C5,onViewportChange:P5,width:O5,height:A5,colorMode:M5="light",debug:T5,onScroll:vd,ariaLabelConfig:I5,zIndexMode:$1="basic",...D5},R5){const lg=L1||"1",L5=jV(M5),$5=g.useCallback(z1=>{z1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),vd==null||vd(z1)},[vd]);return o.jsx("div",{"data-testid":"rf__wrapper",...D5,onScroll:$5,style:{...S5,...UW},ref:R5,className:mt(["react-flow",a,L5]),id:L1,role:"application",children:o.jsxs(BW,{nodes:e,edges:t,width:O5,height:A5,fitView:I1,fitViewOptions:D1,minZoom:fr,maxZoom:pt,nodeOrigin:re,nodeExtent:gt,zIndexMode:$1,children:[o.jsx(zW,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:N,nodeTypes:s,edgeTypes:i,connectionLineType:H,connectionLineStyle:B,connectionLineComponent:Y,connectionLineContainerStyle:X,selectionKeyCode:G,selectionOnDrag:Z,selectionMode:U,deleteKeyCode:Q,multiSelectionKeyCode:te,panActivationKeyCode:ne,zoomActivationKeyCode:q,onlyRenderVisibleElements:ge,defaultViewport:tt,translateExtent:dn,minZoom:fr,maxZoom:pt,preventScrolling:St,zoomOnScroll:Ks,zoomOnPinch:_t,zoomOnDoubleClick:H3,panOnScroll:Xa,panOnScrollSpeed:B3,panOnScrollMode:U3,panOnDrag:V3,onPaneClick:W3,onPaneMouseEnter:K3,onPaneMouseMove:q3,onPaneMouseLeave:Y3,onPaneScroll:G3,onPaneContextMenu:X3,paneClickDistance:Q3,nodeClickDistance:Z3,onSelectionContextMenu:R,onSelectionStart:T,onSelectionEnd:P,onReconnect:e5,onReconnectStart:t5,onReconnectEnd:r5,onEdgeContextMenu:n5,onEdgeDoubleClick:a5,onEdgeMouseEnter:s5,onEdgeMouseMove:i5,onEdgeMouseLeave:o5,reconnectRadius:l5,defaultMarkerColor:fn,noDragClassName:d5,noWheelClassName:f5,noPanClassName:T1,rfId:lg,disableKeyboardA11y:R1,nodeExtent:gt,viewport:C5,onViewportChange:P5}),o.jsx(wV,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:h,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:Te,autoPanOnNodeFocus:dr,nodesConnectable:Hr,nodesFocusable:V,edgesFocusable:me,edgesReconnectable:ue,elementsSelectable:ke,elevateNodesOnSelect:y5,elevateEdgesOnSelect:x5,minZoom:fr,maxZoom:pt,nodeExtent:gt,onNodesChange:c5,onEdgesChange:u5,snapToGrid:ae,snapGrid:ce,connectionMode:F,translateExtent:dn,connectOnClick:m5,defaultEdgeOptions:g5,fitView:I1,fitViewOptions:D1,onNodesDelete:A,onEdgesDelete:C,onDelete:O,onNodeDragStart:_,onNodeDrag:S,onNodeDragStop:E,onSelectionDrag:L,onSelectionDragStart:M,onSelectionDragStop:D,onMove:d,onMoveStart:f,onMoveEnd:m,noPanClassName:T1,nodeOrigin:re,rfId:lg,autoPanOnConnect:v5,autoPanOnNodeDrag:b5,autoPanSpeed:w5,onError:N5,connectionRadius:j5,isValidConnection:k5,selectNodesOnDrag:pe,nodeDragThreshold:_5,connectionDragThreshold:E5,onBeforeDelete:$,debug:T5,ariaLabelConfig:I5,zIndexMode:$1}),o.jsx(yV,{onSelectionChange:I}),J3,o.jsx(fV,{proOptions:p5,position:h5}),o.jsx(dV,{rfId:lg,disableKeyboardA11y:R1})]})})}var VW=zA(HW);const WW=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function KW({children:e}){const t=je(WW);return t?Eu.createPortal(e,t):null}function qW({dimensions:e,lineWidth:t,variant:r,className:n}){return o.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:mt(["react-flow__background-pattern",r,n])})}function YW({radius:e,className:t}){return o.jsx("circle",{cx:e,cy:e,r:e,className:mt(["react-flow__background-pattern","dots",t])})}var Os;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Os||(Os={}));const GW={[Os.Dots]:1,[Os.Lines]:1,[Os.Cross]:6},XW=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function uM({id:e,variant:t=Os.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=0,color:i,bgColor:l,style:c,className:u,patternClassName:d}){const f=g.useRef(null),{transform:m,patternId:h}=je(XW,Ke),p=n||GW[t],x=t===Os.Dots,v=t===Os.Cross,y=Array.isArray(r)?r:[r,r],w=[y[0]*m[2]||1,y[1]*m[2]||1],b=p*m[2],j=Array.isArray(s)?s:[s,s],k=v?[b,b]:w,N=[j[0]*m[2]||1+k[0]/2,j[1]*m[2]||1+k[1]/2],_=`${h}${e||""}`;return o.jsxs("svg",{className:mt(["react-flow__background",u]),style:{...c,...op,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[o.jsx("pattern",{id:_,x:m[0]%w[0],y:m[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:x?o.jsx(YW,{radius:b/2,className:d}):o.jsx(qW,{dimensions:k,lineWidth:a,variant:t,className:d})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}uM.displayName="Background";const QW=g.memo(uM);function ZW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function JW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function eK(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tK(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function rK(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Qd({children:e,className:t,...r}){return o.jsx("button",{type:"button",className:mt(["react-flow__controls-button",t]),...r,children:e})}const nK=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function dM({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:m="vertical","aria-label":h}){const p=qe(),{isInteractive:x,minZoomReached:v,maxZoomReached:y,ariaLabelConfig:w}=je(nK,Ke),{zoomIn:b,zoomOut:j,fitView:k}=kl(),N=()=>{b(),s==null||s()},_=()=>{j(),i==null||i()},S=()=>{k(a),l==null||l()},E=()=>{p.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)},A=m==="horizontal"?"horizontal":"vertical";return o.jsxs(ip,{className:mt(["react-flow__controls",A,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??w["controls.ariaLabel"],children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Qd,{onClick:N,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:y,children:o.jsx(ZW,{})}),o.jsx(Qd,{onClick:_,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:v,children:o.jsx(JW,{})})]}),r&&o.jsx(Qd,{className:"react-flow__controls-fitview",onClick:S,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:o.jsx(eK,{})}),n&&o.jsx(Qd,{className:"react-flow__controls-interactive",onClick:E,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:x?o.jsx(rK,{}):o.jsx(tK,{})}),d]})}dM.displayName="Controls";const aK=g.memo(dM);function sK({id:e,x:t,y:r,width:n,height:a,style:s,color:i,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:m,onClick:h}){const{background:p,backgroundColor:x}=s||{},v=i||p||x;return o.jsx("rect",{className:mt(["react-flow__minimap-node",{selected:m},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:v,stroke:l,strokeWidth:c},shapeRendering:f,onClick:h?y=>h(y,e):void 0})}const iK=g.memo(sK),oK=e=>e.nodes.map(t=>t.id),Qg=e=>e instanceof Function?e:()=>e;function lK({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:s=iK,onClick:i}){const l=je(oK,Ke),c=Qg(t),u=Qg(e),d=Qg(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:l.map(m=>o.jsx(uK,{id:m,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:s,onClick:i,shapeRendering:f},m))})}function cK({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:s,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:m,height:h}=je(p=>{const{internals:x}=p.nodeLookup.get(e),v=x.userNode,{x:y,y:w}=x.positionAbsolute,{width:b,height:j}=Wa(v);return{node:v,x:y,y:w,width:b,height:j}},Ke);return!u||u.hidden||!uA(u)?null:o.jsx(l,{x:d,y:f,width:m,height:h,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:s,shapeRendering:i,onClick:c,id:u.id})}const uK=g.memo(cK);var dK=g.memo(lK);const fK=200,mK=150,hK=e=>!e.hidden,pK=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?cA(Bu(e.nodeLookup,{filter:hK}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},gK="react-flow__minimap-desc";function fM({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:s=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:m="bottom-right",onClick:h,onNodeClick:p,pannable:x=!1,zoomable:v=!1,ariaLabel:y,inversePan:w,zoomStep:b=1,offsetScale:j=5}){const k=qe(),N=g.useRef(null),{boundingRect:_,viewBB:S,rfId:E,panZoom:A,translateExtent:C,flowWidth:O,flowHeight:I,ariaLabelConfig:M}=je(pK,Ke),L=(e==null?void 0:e.width)??fK,D=(e==null?void 0:e.height)??mK,R=_.width/L,T=_.height/D,P=Math.max(R,T),$=P*L,F=P*D,H=j*P,B=_.x-($-_.width)/2-H,Y=_.y-(F-_.height)/2-H,X=$+H*2,Q=F+H*2,G=`${gK}-${E}`,Z=g.useRef(0),U=g.useRef();Z.current=P,g.useEffect(()=>{if(N.current&&A)return U.current=FH({domNode:N.current,panZoom:A,getTransform:()=>k.getState().transform,getViewScale:()=>Z.current}),()=>{var ae;(ae=U.current)==null||ae.destroy()}},[A]),g.useEffect(()=>{var ae;(ae=U.current)==null||ae.update({translateExtent:C,width:O,height:I,inversePan:w,pannable:x,zoomStep:b,zoomable:v})},[x,v,w,b,C,O,I]);const ne=h?ae=>{var pe;const[ce,ge]=((pe=U.current)==null?void 0:pe.pointer(ae))||[0,0];h(ae,{x:ce,y:ge})}:void 0,te=p?g.useCallback((ae,ce)=>{const ge=k.getState().nodeLookup.get(ce).internals.userNode;p(ae,ge)},[]):void 0,q=y??M["minimap.ariaLabel"];return o.jsx(ip,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*P:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:mt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:L,height:D,viewBox:`${B} ${Y} ${X} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:N,onClick:ne,children:[q&&o.jsx("title",{id:G,children:q}),o.jsx(dK,{onClick:te,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${B-H},${Y-H}h${X+H*2}v${Q+H*2}h${-X-H*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}fM.displayName="MiniMap";g.memo(fM);const yK=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,xK={[nl.Line]:"right",[nl.Handle]:"bottom-right"};function vK({nodeId:e,position:t,variant:r=nl.Handle,className:n,style:a=void 0,children:s,color:i,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:m,autoScale:h=!0,shouldResize:p,onResizeStart:x,onResize:v,onResizeEnd:y}){const w=HA(),b=typeof e=="string"?e:w,j=qe(),k=g.useRef(null),N=r===nl.Handle,_=je(g.useCallback(yK(N&&h),[N,h]),Ke),S=g.useRef(null),E=t??xK[r];g.useEffect(()=>{if(!(!k.current||!b))return S.current||(S.current=eV({domNode:k.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:C,transform:O,snapGrid:I,snapToGrid:M,nodeOrigin:L,domNode:D}=j.getState();return{nodeLookup:C,transform:O,snapGrid:I,snapToGrid:M,nodeOrigin:L,paneDomNode:D}},onChange:(C,O)=>{const{triggerNodeChanges:I,nodeLookup:M,parentLookup:L,nodeOrigin:D}=j.getState(),R=[],T={x:C.x,y:C.y},P=M.get(b);if(P&&P.expandParent&&P.parentId){const $=P.origin??D,F=C.width??P.measured.width??0,H=C.height??P.measured.height??0,B={id:P.id,parentId:P.parentId,rect:{width:F,height:H,...dA({x:C.x??P.position.x,y:C.y??P.position.y},{width:F,height:H},P.parentId,M,$)}},Y=Mb([B],M,L,D);R.push(...Y),T.x=C.x?Math.max($[0]*F,C.x):void 0,T.y=C.y?Math.max($[1]*H,C.y):void 0}if(T.x!==void 0&&T.y!==void 0){const $={id:b,type:"position",position:{...T}};R.push($)}if(C.width!==void 0&&C.height!==void 0){const F={id:b,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:C.width,height:C.height}};R.push(F)}for(const $ of O){const F={...$,type:"position"};R.push(F)}I(R)},onEnd:({width:C,height:O})=>{const I={id:b,type:"dimensions",resizing:!1,dimensions:{width:C,height:O}};j.getState().triggerNodeChanges([I])}})),S.current.update({controlPosition:E,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:m,onResizeStart:x,onResize:v,onResizeEnd:y,shouldResize:p}),()=>{var C;(C=S.current)==null||C.destroy()}},[E,l,c,u,d,f,x,v,y,p]);const A=E.split("-");return o.jsx("div",{className:mt(["react-flow__resize-control","nodrag",...A,r,n]),ref:k,style:{...a,scale:_,...i&&{[N?"backgroundColor":"borderColor"]:i}},children:s})}g.memo(vK);const $t=[];for(let e=0;e<256;++e)$t.push((e+256).toString(16).slice(1));function bK(e,t=0){return($t[e[t+0]]+$t[e[t+1]]+$t[e[t+2]]+$t[e[t+3]]+"-"+$t[e[t+4]]+$t[e[t+5]]+"-"+$t[e[t+6]]+$t[e[t+7]]+"-"+$t[e[t+8]]+$t[e[t+9]]+"-"+$t[e[t+10]]+$t[e[t+11]]+$t[e[t+12]]+$t[e[t+13]]+$t[e[t+14]]+$t[e[t+15]]).toLowerCase()}let Zg;const wK=new Uint8Array(16);function jK(){if(!Zg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zg=crypto.getRandomValues.bind(crypto)}return Zg(wK)}const kK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$N={randomUUID:kK};function NK(e,t,r){var a;e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??jK();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,bK(n)}function mM(e,t,r){return $N.randomUUID&&!e?$N.randomUUID():NK(e)}const xe=pb((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:LA(r,t().nodes)})},onEdgesChange:r=>{e({edges:$A(r,t().edges)})},onConnect:r=>{const n=t().nodes,a=t().edges,s=n.find(l=>l.id===r.source),i=n.find(l=>l.id===r.target);if(s&&i&&s.data.definitionType==="feature_target_split"){let c=i.data.definitionType==="TrainTestSplitter";if(!c){const u=[s.id],d=new Set;for(;u.length>0;){const f=u.shift();if(d.has(f))continue;d.add(f);const m=n.find(p=>p.id===f);if((m==null?void 0:m.data.definitionType)==="TrainTestSplitter"){c=!0;break}const h=a.filter(p=>p.target===f);for(const p of h)u.push(p.source)}}c||alert(`Warning: You are using an X/Y Split without a prior Train-Test Split.

Any processing or modeling done on this data will use 100% of the dataset (Data Leakage).

Recommended: Add a "Train-Test Split" node BEFORE the "Feature-Target Split" node.`)}e({edges:xA(r,t().edges)})},addNode:(r,n,a={})=>{const s=_e.get(r);if(!s)return console.error(`Node type ${r} not found in registry`),"";const i=`${r}-${mM()}`,l={id:i,type:"custom",position:n,data:{definitionType:r,catalogType:r,...s.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),i},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const s=_e.get(a.data.definitionType);if(s){const i=s.validate(a.data);if(!i.isValid)return console.warn(`Node ${a.id} validation failed: ${i.message}`),!1}}for(const a of r){const s=_e.get(a.data.definitionType);if(s&&s.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${s.label}) is disconnected.`),!1}return!0}})),Nl=pb(e=>({activeView:"canvas",setView:t=>e({activeView:t}),isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t}),isPropertiesPanelExpanded:!1,setPropertiesPanelExpanded:t=>e({isPropertiesPanelExpanded:t}),isResultsPanelExpanded:!0,setResultsPanelExpanded:t=>e({isResultsPanelExpanded:t})})),SK=()=>{const e=_e.getAll(),t=xe(u=>u.addNode),{isSidebarOpen:r,setSidebarOpen:n}=Nl(),[a,s]=g.useState(""),i=(u,d)=>{u.dataTransfer.setData("application/reactflow",d),u.dataTransfer.effectAllowed="move"};if(!r)return o.jsx("div",{className:"absolute left-4 top-4 z-50",children:o.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-background border shadow-md rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Expand Components",children:o.jsx(t6,{className:"w-5 h-5"})})});const l=e.filter(u=>u.label.toLowerCase().includes(a.toLowerCase())||u.category.toLowerCase().includes(a.toLowerCase())),c=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return o.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10 transition-all duration-300",children:[o.jsxs("div",{className:"p-4 border-b space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),o.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Collapse Sidebar",children:o.jsx(e6,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:a,onChange:u=>{s(u.target.value)}})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:c.map(u=>{const d=l.filter(f=>f.category===u);return d.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:u}),o.jsx("div",{className:"space-y-2",children:d.map(f=>o.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:m=>{i(m,f.type)},onClick:()=>t(f.type,{x:100,y:100}),children:[o.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:f.icon&&o.jsx(f.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium truncate",children:f.label}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:f.description})]})]},f.type))})]},u)})})]})};function _K(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:EK}=Zr;function CK(e){const t=EK();return r=>{const n=e(r);return _K(t.current,n)?t.current:t.current=n}}const PK=g.memo(({id:e,data:t,selected:r})=>{var u;const n=t.definitionType,a=_e.get(n),{deleteElements:s}=kl(),i=xe(d=>d.executionResult),l=(u=i==null?void 0:i.node_results)==null?void 0:u[e],c=d=>{d.stopPropagation(),s({nodes:[{id:e}]})};return a?o.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[o.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&o.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&o.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?o.jsx(IF,{size:10}):o.jsx(ob,{size:10})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),o.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:o.jsx(Zt,{size:14})})]}),o.jsx("div",{className:"p-3",children:a.component?o.jsx(a.component,{data:t}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((d,f)=>o.jsx(al,{type:"target",position:fe.Left,id:d.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(a.inputs.length+1)}%`},children:o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:d.label})},`input-${d.id}`)),a.outputs.map((d,f)=>o.jsx(al,{type:"source",position:fe.Right,id:d.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(a.outputs.length+1)}%`},children:o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:d.label})},`output-${d.id}`))]}):o.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[o.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[o.jsx(An,{size:16}),o.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),o.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),OK=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:s,targetPosition:i,style:l={},markerEnd:c})=>{const{deleteElements:u}=kl(),[d,f,m]=Pm({sourceX:t,sourceY:r,sourcePosition:s,targetX:n,targetY:a,targetPosition:i,borderRadius:24}),h=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return o.jsxs(o.Fragment,{children:[o.jsx(sl,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),o.jsx(sl,{path:d,markerEnd:c,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),o.jsx(KW,{children:o.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${m}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:o.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:h,title:"Remove Connection",children:o.jsx(Zt,{size:10})})})})]})},AK={custom:PK},MK={custom:OK},TK=()=>{const e=g.useRef(null),{screenToFlowPosition:t}=kl(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,addNode:l,executionResult:c}=xe(CK(m=>({nodes:m.nodes,edges:m.edges,onNodesChange:m.onNodesChange,onEdgesChange:m.onEdgesChange,onConnect:m.onConnect,addNode:m.addNode,executionResult:m.executionResult}))),{isResultsPanelExpanded:u}=Nl(),d=g.useCallback(m=>{m.preventDefault(),m.dataTransfer.dropEffect="move"},[]),f=g.useCallback(m=>{m.preventDefault();const h=m.dataTransfer.getData("application/reactflow");if(typeof h>"u"||!h)return;const p=t({x:m.clientX,y:m.clientY});l(h,p)},[t,l]);return o.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:o.jsxs(VW,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,nodeTypes:AK,onDragOver:d,onDrop:f,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:MK,deleteKeyCode:["Backspace","Delete"],children:[o.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"edge-gradient",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),o.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),o.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),o.jsx(QW,{}),o.jsx(aK,{position:"bottom-left",style:c&&!u?{marginBottom:"40px",transition:"margin-bottom 0.3s ease-in-out"}:{transition:"margin-bottom 0.3s ease-in-out"}})]})})},IK=()=>o.jsx(cM,{children:o.jsx(TK,{})}),DK=()=>{const e=xe(i=>i.nodes),{isSidebarOpen:t,isPropertiesPanelExpanded:r,setPropertiesPanelExpanded:n}=Nl(),a=e.find(i=>i.selected);Zr.useEffect(()=>{a||n(!1)},[a,n]);const s=t?"w-[calc(100vw-300px)]":"w-[calc(100vw-50px)]";return o.jsx("aside",{className:`border-l bg-background shrink-0 transition-all duration-300 ease-in-out overflow-hidden ${a?r?`${s} opacity-100`:"w-80 opacity-100":"w-0 opacity-0"}`,children:a&&o.jsx(RK,{selectedNode:a,isExpanded:r,toggleExpand:()=>n(!r)})})},RK=({selectedNode:e,isExpanded:t,toggleExpand:r})=>{const n=xe(u=>u.updateNodeData),a=xe(u=>u.onNodesChange),s=()=>{a([{id:e.id,type:"select",selected:!1}])},i=e.data.definitionType,l=_e.get(i);if(!l)return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[o.jsx(Zt,{className:"w-4 h-4"}),"Error: Node definition '",i,"' not found."]})});const c=l.settings;return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:o.jsx(cb,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-sm",children:String(e.data.label||l.label)}),o.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",e.id]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:r,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:t?o.jsx(QF,{className:"w-4 h-4"}):o.jsx(XF,{className:"w-4 h-4"})}),o.jsx("button",{onClick:s,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:o.jsx(Zt,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsx("div",{className:"space-y-6",children:o.jsx(c,{config:e.data,onChange:u=>n(e.id,u),nodeId:e.id})})})]})},LK=3e3,es=50,Sl=pb((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchJobs:async()=>{e({isLoading:!0,skip:0});try{const n=await Mt.getJobs(es,0);e({jobs:n,isLoading:!1,hasMore:n.length===es})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:s,hasMore:i}=t();if(s||!i)return;const l=n+es;e({isLoading:!0});try{const c=await Mt.getJobs(es,l);e({jobs:[...a,...c],isLoading:!1,skip:l,hasMore:c.length===es})}catch(c){console.error("Failed to load more jobs:",c),e({isLoading:!1})}},submitJob:async n=>{try{const a=await Mt.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await Mt.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,s=n!==void 0?n:!a;e({isDrawerOpen:s}),s?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(()=>{(async()=>{try{const n=await Mt.getJobs(es,0);e(s=>s.jobs.length<=es?{jobs:n}:{jobs:[...n,...s.jobs.slice(es)]}),!n.some(s=>s.status==="running"||s.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}})()},LK))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),lp=(e,t)=>{const r=[],n=new Set,a=[],s=e.find(l=>l.data.definitionType==="dataset_node"),i=s==null?void 0:s.data.datasetId;for(s&&a.push(s.id);a.length>0;){const l=a.shift();if(!l||n.has(l))continue;n.add(l);const c=e.find(p=>p.id===l);if(!c)continue;let u="unknown",d={};const m=t.filter(p=>p.target===l).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data&&typeof c.data=="object"?c.data:{},x=p.method||"standard";x==="minmax"?u="MinMaxScaler":x==="maxabs"?u="MaxAbsScaler":x==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],x=[];for(const v of p){const y=v;if(y.columns&&Array.isArray(y.columns))for(const w of y.columns)x.push({column:w,method:y.method,...y.params})}d={transformations:x}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="PolynomialFeaturesNode"?(u="PolynomialFeatures",d={columns:c.data.columns,degree:c.data.degree,interaction_only:c.data.interaction_only,include_bias:c.data.include_bias,output_prefix:c.data.output_prefix,include_input_features:c.data.include_input_features}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):c.data.definitionType==="data_preview"?(u="data_preview",d={}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data&&typeof c.data=="object"?c.data:{});r.push({node_id:c.id,step_type:u,params:d,inputs:m}),t.filter(p=>p.source===l).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${mM()}`,nodes:r,metadata:{dataset_source_id:i}}},$K=()=>{const e=xe(x=>x.nodes),t=xe(x=>x.edges),r=xe(x=>x.setExecutionResult),n=xe(x=>x.setGraph),{toggleDrawer:a}=Sl(),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),f=()=>({nodes:e.map(x=>({id:x.id,type:x.type,position:x.position,data:{...x.data,catalogType:x.data.catalogType||x.data.definitionType}})),edges:t.map(x=>({id:x.id,source:x.source,target:x.target,sourceHandle:x.sourceHandle,targetHandle:x.targetHandle,type:x.type,data:x.data}))}),m=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await q8(v,{name:"My Pipeline",description:"Saved from Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(y){console.error("Save failed:",y),alert("Failed to save pipeline.")}finally{c(!1)}},h=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const y=await Y8(v);if(y){const w=Array.isArray(y.graph.nodes)?y.graph.nodes:[],b=Array.isArray(y.graph.edges)?y.graph.edges:[];n(w,b),alert("Pipeline loaded successfully!")}else alert("No saved pipeline found for this dataset.")}catch(y){console.error("Load failed:",y),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node");if(!(x==null?void 0:x.data.datasetId)){alert("No dataset node found!");return}i(!0),r(null);try{const y=lp(e,t),w=await W8(y);r(w)}catch(y){console.error("Pipeline failed:",y),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}};return o.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[o.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[o.jsx(YF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),o.jsxs("button",{onClick:()=>{h()},disabled:u||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?o.jsx(Gn,{className:"w-4 h-4 animate-spin"}):o.jsx(HF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),o.jsxs("button",{onClick:()=>{m()},disabled:l||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?o.jsx(Gn,{className:"w-4 h-4 animate-spin"}):o.jsx(a6,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),o.jsxs("button",{onClick:()=>{p()},disabled:s,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?o.jsx(Gn,{className:"w-4 h-4 animate-spin"}):o.jsx(Ki,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]})]})},zK=()=>{var h;const e=xe(p=>p.executionResult),{isResultsPanelExpanded:t,setResultsPanelExpanded:r}=Nl(),[n,a]=g.useState(null),s=g.useMemo(()=>{const p=e==null?void 0:e.preview_data;return p?Array.isArray(p)?{Result:p}:typeof p=="object"?p:{}:{}},[e]),i=Object.keys(s);if(Zr.useEffect(()=>{i.length>0&&(!n||!i.includes(n))&&(i.includes("train")?a("train"):i.includes("X")?a("X"):a(i[0]))},[i,n]),!e)return null;const l=n&&s[n]?s[n]:[],c=l.length>0?Object.keys(l[0]??{}):[],u=e.node_results?Object.keys(e.node_results):[],d=e.node_results||{},f=Object.keys(d).find(p=>{const x=d[p];return(x==null?void 0:x.status)==="failed"}),m=f?(h=d[f])==null?void 0:h.error:null;return o.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(VP,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&o.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),o.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?o.jsx(It,{className:"w-4 h-4"}):o.jsx(Mu,{className:"w-4 h-4"})})]}),t&&o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[o.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),o.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:m||"Unknown error occurred during execution."})]}),i.length>1&&o.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[o.jsx(GF,{className:"w-3 h-3 text-muted-foreground mr-1"}),i.map(p=>o.jsx("button",{onClick:()=>{a(p)},className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===p?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:p},p))]}),u.length>0&&e.status!=="failed"&&o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((p,x)=>o.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:p},x))}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[o.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:o.jsx("tr",{children:c.map(p=>o.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:p},p))})}),o.jsx("tbody",{children:l.map((p,x)=>o.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(v=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:p[v]!==null?String(p[v]):o.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${x}-${v}`))},x))})]}),l.length===0&&o.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},FK=()=>{const{activeView:e,setView:t}=Nl();return o.jsx("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-center shrink-0 relative",children:o.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(zP,{className:"w-4 h-4"}),"Canvas"]}),o.jsxs("button",{onClick:()=>t("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(MF,{className:"w-4 h-4"}),"Experiments"]}),o.jsxs("button",{onClick:()=>t("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(Vh,{className:"w-4 h-4"}),"Inference"]})]})})},BK=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:s,fetchJobs:i,hasMore:l,loadMoreJobs:c}=Sl(),[u,d]=g.useState(null);if(!e)return null;const f=r.filter(m=>m.job_type===a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),o.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:u?o.jsx(UK,{job:u,onBack:()=>{d(null)},onClose:()=>t(!1)}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>i(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:o.jsx(Mi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(Zt,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("tuning"),children:"Model Optimization"}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("training"),children:"Standard Training"})]}),o.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"col-span-2",children:"Status"}),o.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),o.jsx("div",{className:"col-span-3",children:"Job ID"}),o.jsx("div",{className:"col-span-2",children:"Started"}),o.jsx("div",{className:"col-span-1",children:"Duration"}),o.jsx("div",{className:"col-span-1",children:"Ready"}),o.jsx("div",{className:"col-span-1",children:"Result"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:f.length===0?o.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):o.jsxs(o.Fragment,{children:[f.map(m=>o.jsx(HK,{job:m,onClick:()=>{d(m)}},m.job_id)),l&&o.jsx("div",{className:"flex justify-center pt-2 pb-4",children:o.jsxs("button",{onClick:()=>c(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?o.jsx(Mi,{className:"w-3 h-3 animate-spin"}):o.jsx(It,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},UK=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=Sl(),[a,s]=g.useState(e),[i,l]=g.useState("overview"),[c,u]=g.useState(!1),d=g.useRef(null);g.useEffect(()=>{let m;const h=async()=>{try{const p=await Mt.getJob(e.job_id);s(p)}catch(p){console.error("Failed to fetch job details",p)}};return h(),(a.status==="running"||a.status==="queued")&&(m=setInterval(()=>{h()},2e3)),()=>{m&&clearInterval(m)}},[e.job_id,a.status]),g.useEffect(()=>{i==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,i]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:o.jsx(OF,{className:"w-4 h-4"})}),o.jsx("div",{children:o.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",o.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&o.jsxs("button",{onClick:()=>{f()},disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[o.jsx(l6,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),o.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(Zt,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("overview")},children:[o.jsx(FP,{className:"w-4 h-4"}),"Overview"]}),o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("logs")},children:[o.jsx(Hh,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="overview"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),o.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),o.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(Jn,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[o.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[o.jsx(An,{className:"w-4 h-4"}),"Error Log"]}),o.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(d6,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&o.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[o.jsx(Zn,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&!!a.result.metrics&&o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([m,h])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:m.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof h=="number"?h.toFixed(4):String(h)})]},m))}),a.job_type==="tuning"&&o.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Best Score"}),o.jsx("div",{className:"font-mono font-bold text-lg text-purple-600 dark:text-purple-400",children:Number(a.result.best_score).toFixed(4)})]}),!!a.result.metrics&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([m])=>!["best_score","best_params","trials"].includes(m)).map(([m,h])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:m.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof h=="number"?h.toFixed(4):String(h)})]},m))})]}),!!a.result.best_params&&o.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[o.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),o.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((m,h)=>o.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:m},h)):o.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),o.jsx("div",{ref:d})]})})]})},HK=({job:e,onClick:t})=>{var i;const r=l=>{switch(l){case"completed":case"succeeded":return o.jsx(Zn,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(An,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return o.jsx(Mi,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return o.jsx(lb,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=l=>{switch(l){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=l=>l?new Date(l).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=(l,c)=>{if(!l||!c)return"-";const u=new Date(c).getTime()-new Date(l).getTime(),d=Math.floor(u/1e3);return d<60?`${d}s`:`${Math.floor(d/60)}m ${d%60}s`};return o.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[o.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),o.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),o.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[o.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[o.jsx(Jn,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[o.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&!!e.config&&!!e.config.tuning&&o.jsxs("span",{className:"text-gray-400 truncate",children:["(",(i=e.config.tuning)==null?void 0:i.strategy,")"]})]})]}),o.jsx("div",{className:"col-span-3 font-mono text-xs text-gray-500 dark:text-gray-400 break-all",title:e.job_id,children:e.job_id}),o.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),o.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:s(e.start_time,e.end_time)}),o.jsx("div",{className:"col-span-1",children:e.status==="completed"&&o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:o.jsx(Zn,{className:"w-3 h-3"})})}),o.jsx("div",{className:"col-span-1",children:e.error?o.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?o.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([l,c])=>o.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[l,": ",Number(c).toFixed(3)]},l))}):e.job_type==="tuning"?o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&o.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&!!e.result.best_params&&o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function hM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=hM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ee(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=hM(e))&&(n&&(n+=" "),n+=t);return n}var VK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ib(e){if(typeof e!="string")return!1;var t=VK;return t.includes(e)}var WK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KK=new Set(WK);function pM(e){return typeof e!="string"?!1:KK.has(e)}function gM(e){return typeof e=="string"&&e.startsWith("data-")}function $r(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(pM(r)||gM(r))&&(t[r]=e[r]);return t}function _l(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return $r(t)}return typeof e=="object"&&!Array.isArray(e)?$r(e):null}function Jt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(pM(r)||gM(r)||Ib(r))&&(t[r]=e[r]);return t}function qK(e){return e==null?null:g.isValidElement(e)?Jt(e.props):typeof e=="object"&&!Array.isArray(e)?Jt(e):null}var YK=["children","width","height","viewBox","className","style","title","desc"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}function GK(e,t){if(e==null)return{};var r,n,a=XK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Db=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=e,d=GK(e,YK),f=s||{width:n,height:a,x:0,y:0},m=Ee("recharts-surface",i);return g.createElement("svg",tx({},Jt(d),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),QK=["children","className"];function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(null,arguments)}function ZK(e,t){if(e==null)return{};var r,n,a=JK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dt=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=ZK(e,QK),s=Ee("recharts-layer",n);return g.createElement("g",rx({className:s},Jt(a),{ref:t}),r)}),yM=g.createContext(null),eq=()=>g.useContext(yM);function Re(e){return function(){return e}}const xM=Math.cos,Am=Math.sin,Ln=Math.sqrt,Mm=Math.PI,cp=2*Mm,nx=Math.PI,ax=2*nx,Qs=1e-6,tq=ax-Qs;function vM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function rq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vM;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class nq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vM:rq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Qs)if(!(Math.abs(f*c-u*d)>Qs)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-i,p=a-l,x=c*c+u*u,v=h*h+p*p,y=Math.sqrt(x),w=Math.sqrt(m),b=s*Math.tan((nx-Math.acos((x+m-v)/(2*y*w)))/2),j=b/w,k=b/y;Math.abs(j-1)>Qs&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*h>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Qs||Math.abs(this._y1-d)>Qs)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%ax+ax),m>tq?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Qs&&this._append`A${n},${n},0,${+(m>=nx)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Rb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new nq(t)}function Lb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bM(e){this._context=e}bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function up(e){return new bM(e)}function wM(e){return e[0]}function jM(e){return e[1]}function kM(e,t){var r=Re(!0),n=null,a=up,s=null,i=Rb(l);e=typeof e=="function"?e:e===void 0?wM:Re(e),t=typeof t=="function"?t:t===void 0?jM:Re(t);function l(c){var u,d=(c=Lb(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,u,c),+t(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Zd(e,t,r){var n=null,a=Re(!0),s=null,i=up,l=null,c=Rb(u);e=typeof e=="function"?e:e===void 0?wM:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?jM:Re(+r);function u(f){var m,h,p,x=(f=Lb(f)).length,v,y=!1,w,b=new Array(x),j=new Array(x);for(s==null&&(l=i(w=c())),m=0;m<=x;++m){if(!(m<x&&a(v=f[m],m,f))===y)if(y=!y)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(b[p],j[p]);l.lineEnd(),l.areaEnd()}y&&(b[m]=+e(v,m,f),j[m]=+t(v,m,f),l.point(n?+n(v,m,f):b[m],r?+r(v,m,f):j[m]))}if(w)return l=null,w+""||null}function d(){return kM().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Re(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class NM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aq(e){return new NM(e,!0)}function sq(e){return new NM(e,!1)}const $b={draw(e,t){const r=Ln(t/Mm);e.moveTo(r,0),e.arc(0,0,r,0,cp)}},iq={draw(e,t){const r=Ln(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},SM=Ln(1/3),oq=SM*2,lq={draw(e,t){const r=Ln(t/oq),n=r*SM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},cq={draw(e,t){const r=Ln(t),n=-r/2;e.rect(n,n,r,r)}},uq=.8908130915292852,_M=Am(Mm/10)/Am(7*Mm/10),dq=Am(cp/10)*_M,fq=-xM(cp/10)*_M,mq={draw(e,t){const r=Ln(t*uq),n=dq*r,a=fq*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=cp*s/5,l=xM(i),c=Am(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Jg=Ln(3),hq={draw(e,t){const r=-Ln(t/(Jg*3));e.moveTo(0,r*2),e.lineTo(-Jg*r,-r),e.lineTo(Jg*r,-r),e.closePath()}},Vr=-.5,Wr=Ln(3)/2,sx=1/Ln(12),pq=(sx/2+1)*3,gq={draw(e,t){const r=Ln(t/pq),n=r/2,a=r*sx,s=n,i=r*sx+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(Vr*n-Wr*a,Wr*n+Vr*a),e.lineTo(Vr*s-Wr*i,Wr*s+Vr*i),e.lineTo(Vr*l-Wr*c,Wr*l+Vr*c),e.lineTo(Vr*n+Wr*a,Vr*a-Wr*n),e.lineTo(Vr*s+Wr*i,Vr*i-Wr*s),e.lineTo(Vr*l+Wr*c,Vr*c-Wr*l),e.closePath()}};function yq(e,t){let r=null,n=Rb(a);e=typeof e=="function"?e:Re(e||$b),t=typeof t=="function"?t:Re(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Re(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Tm(){}function Im(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function EM(e){this._context=e}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Im(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xq(e){return new EM(e)}function CM(e){this._context=e}CM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vq(e){return new CM(e)}function PM(e){this._context=e}PM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bq(e){return new PM(e)}function OM(e){this._context=e}OM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wq(e){return new OM(e)}function zN(e){return e<0?-1:1}function FN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(zN(s)+zN(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function BN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function e0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function Dm(e){this._context=e}Dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e0(this,this._t0,BN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,e0(this,BN(this,r=FN(this,e,t)),r);break;default:e0(this,this._t0,r=FN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function AM(e){this._context=new MM(e)}(AM.prototype=Object.create(Dm.prototype)).point=function(e,t){Dm.prototype.point.call(this,t,e)};function MM(e){this._context=e}MM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function jq(e){return new Dm(e)}function kq(e){return new AM(e)}function TM(e){this._context=e}TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=UN(e),a=UN(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UN(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Nq(e){return new TM(e)}function dp(e,t){this._context=e,this._t=t}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Sq(e){return new dp(e,.5)}function _q(e){return new dp(e,0)}function Eq(e){return new dp(e,1)}function il(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ix(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Cq(e,t){return e[t]}function Pq(e){const t=[];return t.key=e,t}function Oq(){var e=Re([]),t=ix,r=il,n=Cq;function a(s){var i=Array.from(e.apply(this,arguments),Pq),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=Lb(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Re(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Re(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?ix:typeof s=="function"?s:Re(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??il,a):r},a}function Aq(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}il(e,t)}}function Mq(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}il(e,t)}}function Tq(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var x=e[t[p]],v=x[n][1]||0,y=x[n-1][1]||0;h+=v-y}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,il(e,t)}}var fp={},IM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(IM);var zb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(zb);var mp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(mp);var hp={},DM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(DM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DM,r=mp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<i;){const f=a[l];u?f==="\\"&&l+1<i?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(hp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IM,r=zb,n=mp,a=hp;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function i(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(fp);var Iq=fp.get;const ol=sa(Iq);var vr=e=>e===0?0:e>0?1:-1,zr=e=>typeof e=="number"&&e!=+e,Ra=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!zr(e),sn=e=>de(e)||typeof e=="string",Dq=0,su=e=>{var t=++Dq;return"".concat(e||"").concat(t)},Mn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var s;if(Ra(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return zr(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},RM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Le(e,t,r){return de(e)&&de(t)?e+r*(t-e):t}function LM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ol(n,t))===r)}var Rq=e=>{for(var t=e.length,r=0,n=0,a=0,s=0,i=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,s+=c*c,i=Math.min(i,c),l=Math.max(l,c);var f=t*s!==r*r?(t*a-r*n)/(t*s-r*r):0;return{xmin:i,xmax:l,a:f,b:(n-f*r)/t}},Ae=e=>e===null||typeof e>"u",Vu=e=>Ae(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Lq(e){return e!=null}function Wu(){}var $q=["type","size","sizeType"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uq(e,t){if(e==null)return{};var r,n,a=Hq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $M={symbolCircle:$b,symbolCross:iq,symbolDiamond:lq,symbolSquare:cq,symbolStar:mq,symbolTriangle:hq,symbolWye:gq},Vq=Math.PI/180,Wq=e=>{var t="symbol".concat(Vu(e));return $M[t]||$b},Kq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Vq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qq=(e,t)=>{$M["symbol".concat(Vu(e))]=t},pp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Uq(e,$q),s=VN(VN({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var l=()=>{var m=Wq(i),h=yq().type(m).size(Kq(r,n,i)),p=h();if(p!==null)return p},{className:c,cx:u,cy:d}=s,f=Jt(s);return de(u)&&de(d)&&de(r)?g.createElement("path",ox({},f,{className:Ee("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};pp.registerSymbol=qq;var zM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Fb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Ib(a)&&(n[a]=s=>r[a](r,s))}),n},Yq=(e,t,r)=>n=>(e(t,r,n),null),Ku=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Ib(a)&&typeof s=="function"&&(n||(n={}),n[a]=Yq(s,t,r))}),n},Gq=e=>Array.isArray(e)&&e.length>0;function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t){var r=Xq({},e),n=t,a=Object.keys(t),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),r);return s}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qr=32,aY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function sY(e){var{data:t,iconType:r,inactiveColor:n}=e,a=qr/2,s=qr/6,i=qr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:qr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(qr,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=eY({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(pp,{fill:l,cx:a,cy:a,size:qr,sizeType:"diameter",type:c})}function iY(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,l={x:0,y:0,width:qr,height:qr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var m=d.formatter||a,h=Ee({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,x=m?m(d.value,d,f):d.value;return g.createElement("li",Rm({className:h,style:c,key:"legend-item-".concat(f)},Ku(e,d,f)),g.createElement(Db,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},g.createElement(sY,{data:d,iconType:i,inactiveColor:s})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}var oY=e=>{var t=ht(e,aY),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:s},g.createElement(iY,Rm({},t,{payload:r})))},FM={},BM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}e.uniqBy=t})(BM);var Bb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Bb);var UM={},gp={},HM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(HM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gp);var VM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(VM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gp,r=VM;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(UM);var WM={},KM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fp;function r(n){return function(a){return t.get(a,n)}}e.property=r})(KM);var qM={},Ub={},YM={},Hb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Hb);var Vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Vb);var Wb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Wb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb,r=Vb,n=Wb;function a(d,f,m){return typeof m!="function"?a(d,f,()=>{}):s(d,f,function h(p,x,v,y,w,b){const j=m(p,x,v,y,w,b);return j!==void 0?!!j:s(p,x,h,b)},new Map)}function s(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,m,h);case"function":return Object.keys(f).length>0?s(d,{...f},m,h):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return l(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!m(d[v],f[v],v,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function l(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(m(v,x,p,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let y=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const b=d[w];let j=!1;if(m(b,v,x,d,f,h)&&(j=!0),j){p.add(w),y=!0;break}}if(!y)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(YM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YM;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ub);var GM={},Kb={},XM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(XM);var qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(qb);var Yb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=_,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(Yb);var QM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(QM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XM,r=qb,n=Yb,a=Vb,s=QM;function i(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,p=void 0){const x=p==null?void 0:p(d,f,m,h);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const v=new Array(d.length);h.set(d,v);for(let y=0;y<d.length;y++)v[y]=l(d[y],y,m,h,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;h.set(d,v);for(const[y,w]of d)v.set(y,l(w,y,m,h,p));return v}if(d instanceof Set){const v=new Set;h.set(d,v);for(const y of d)v.add(l(y,void 0,m,h,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,v);for(let y=0;y<d.length;y++)v[y]=l(d[y],y,m,h,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,v),c(v,d,m,h,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return h.set(d,v),c(v,d,m,h,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof Error){const v=new d.constructor;return h.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,m,h,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof String){const v=new String(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return h.set(d,v),c(v,d,m,h,p),v}return d}function c(d,f,m=d,h,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const y=x[v],w=Object.getOwnPropertyDescriptor(d,y);(w==null||w.writable)&&(d[y]=l(f[y],y,m,h,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=l,e.copyProperties=c})(Kb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kb;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(GM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub,r=GM;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(qM);var ZM={},JM={},eT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kb,r=Yb;function n(a,s){return t.cloneDeepWith(a,(i,l,c,u)=>{const d=s==null?void 0:s(i,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(eT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(JM);var tT={},Gb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Gb);var rT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qb;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(rT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb,r=Gb,n=rT,a=hp;function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(i==null?void 0:i[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(tT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub,r=mp,n=JM,a=fp,s=tT;function i(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bb,r=KM,n=qM,a=ZM;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(WM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BM,r=Bb,n=UM,a=WM;function s(i,l=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(l)):[]}e.uniqBy=s})(FM);var lY=FM.uniqBy;const qN=sa(lY);function nT(e,t,r){return t===!0?qN(e,r):typeof t=="function"?qN(e,t):e}var Xb=g.createContext(null),cY=e=>e,Ye=()=>{var e=g.useContext(Xb);return e?e.store.dispatch:cY},zf=()=>{},uY=()=>zf,dY=(e,t)=>e===t;function oe(e){var t=g.useContext(Xb);return jO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:uY,t?t.store.getState:zf,t?t.store.getState:zf,t?e:zf,dY)}function fY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function mY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function hY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var YN=e=>Array.isArray(e)?e:[e];function pY(e){const t=Array.isArray(e[0])?e[0]:e;return hY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function gY(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var yY=class{constructor(e){this.value=e}deref(){return this.value}},xY=typeof WeakRef<"u"?WeakRef:yY,vY=0,GN=1;function Jd(){return{s:vY,v:void 0,o:null,p:null}}function aT(e,t={}){let r=Jd();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let l=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const p=arguments[m];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const v=x.get(p);v===void 0?(l=Jd(),x.set(p,l)):l=v}else{let x=l.p;x===null&&(l.p=x=new Map);const v=x.get(p);v===void 0?(l=Jd(),x.set(p,l)):l=v}}const u=l;let d;if(l.s===GN)d=l.v;else if(d=e.apply(null,arguments),s++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new xY(d):d}return u.s=GN,u.v=d,d}return i.clearCache=()=>{r=Jd(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function bY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),fY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=aT,argsMemoizeOptions:p=[]}=d,x=YN(m),v=YN(p),y=pY(a),w=f(function(){return s++,u.apply(null,arguments)},...x),b=h(function(){i++;const k=gY(y,arguments);return l=w.apply(null,k),l},...v);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var W=bY(aT),wY=Object.assign((e,t=W)=>{mY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,l,c)=>(i[r[c]]=l,i),{}))},{withTypes:()=>wY}),sT={},iT={},oT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),l=t(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};e.compareValues=r})(oT);var lT={},Qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Qb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(lT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oT,r=lT,n=hp;function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,p)=>{let x=h;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:u(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?u(p,h):typeof p=="object"?p[h]:p,f=i.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return s.map(h=>({original:h,criteria:f.map(p=>d(p,h))})).slice().sort((h,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(h.criteria[x],p.criteria[x],l[x]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=a})(iT);var cT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(r,0),a}e.flatten=t})(cT);var Zb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gb,r=gp,n=Hb,a=Wb;function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}e.isIterateeCall=s})(Zb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT,r=cT,n=Zb;function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(sT);var jY=sT.sortBy;const yp=sa(jY);var uT=e=>e.legend.settings,kY=e=>e.legend.size,NY=e=>e.legend.payload,SY=W([NY,uT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?yp(n,r):n});function _Y(){return oe(SY)}var ef=1;function dT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>ef||Math.abs(i.left-t.left)>ef||Math.abs(i.top-t.top)>ef||Math.abs(i.width-t.width)>ef)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EY=typeof Symbol=="function"&&Symbol.observable||"@@observable",XN=EY,t0=()=>Math.random().toString(36).substring(7).split("").join("."),CY={INIT:`@@redux/INIT${t0()}`,REPLACE:`@@redux/REPLACE${t0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${t0()}`},Lm=CY;function Jb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function fT(e,t,r){if(typeof e!="function")throw new Error(zt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zt(1));return r(fT)(e,t)}let n=e,a=t,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,y)=>{i.set(y,v)}))}function d(){if(c)throw new Error(zt(3));return a}function f(v){if(typeof v!="function")throw new Error(zt(4));if(c)throw new Error(zt(5));let y=!0;u();const w=l++;return i.set(w,v),function(){if(y){if(c)throw new Error(zt(6));y=!1,u(),i.delete(w),s=null}}}function m(v){if(!Jb(v))throw new Error(zt(7));if(typeof v.type>"u")throw new Error(zt(8));if(typeof v.type!="string")throw new Error(zt(17));if(c)throw new Error(zt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(w=>{w()}),v}function h(v){if(typeof v!="function")throw new Error(zt(10));n=v,m({type:Lm.REPLACE})}function p(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(zt(11));function w(){const j=y;j.next&&j.next(d())}return w(),{unsubscribe:v(w)}},[XN](){return this}}}return m({type:Lm.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[XN]:p}}function PY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Lm.INIT})>"u")throw new Error(zt(12));if(typeof r(void 0,{type:Lm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function mT(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{PY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],p=m(h,l);if(typeof p>"u")throw l&&l.type,new Error(zt(14));u[f]=p,c=c||p!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function $m(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function OY(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(zt(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(i));return s=$m(...l)(a.dispatch),{...a,dispatch:s}}}function hT(e){return Jb(e)&&"type"in e&&typeof e.type=="string"}var pT=Symbol.for("immer-nothing"),QN=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function jn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tr=Object,ll=Tr.getPrototypeOf,zm="constructor",xp="prototype",lx="configurable",Fm="enumerable",Ff="writable",iu="value",La=e=>!!e&&!!e[ir];function Tn(e){var t;return e?gT(e)||vp(e)||!!e[QN]||!!((t=e[zm])!=null&&t[QN])||bp(e)||wp(e):!1}var AY=Tr[xp][zm].toString(),ZN=new WeakMap;function gT(e){if(!e||!ew(e))return!1;const t=ll(e);if(t===null||t===Tr[xp])return!0;const r=Tr.hasOwnProperty.call(t,zm)&&t[zm];if(r===Object)return!0;if(!no(r))return!1;let n=ZN.get(r);return n===void 0&&(n=Function.toString.call(r),ZN.set(r,n)),n===AY}function qu(e,t,r=!0){Yu(e)===0?(r?Reflect.ownKeys(e):Tr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Yu(e){const t=e[ir];return t?t.type_:vp(e)?1:bp(e)?2:wp(e)?3:0}var JN=(e,t,r=Yu(e))=>r===2?e.has(t):Tr[xp].hasOwnProperty.call(e,t),cx=(e,t,r=Yu(e))=>r===2?e.get(t):e[t],Bm=(e,t,r,n=Yu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function MY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vp=Array.isArray,bp=e=>e instanceof Map,wp=e=>e instanceof Set,ew=e=>typeof e=="object",no=e=>typeof e=="function",r0=e=>typeof e=="boolean",pa=e=>e.copy_||e.base_,tw=e=>e.modified_?e.copy_:e.base_;function ux(e,t){if(bp(e))return new Map(e);if(wp(e))return new Set(e);if(vp(e))return Array[xp].slice.call(e);const r=gT(e);if(t===!0||t==="class_only"&&!r){const n=Tr.getOwnPropertyDescriptors(e);delete n[ir];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l[Ff]===!1&&(l[Ff]=!0,l[lx]=!0),(l.get||l.set)&&(n[i]={[lx]:!0,[Ff]:!0,[Fm]:l[Fm],[iu]:e[i]})}return Tr.create(ll(e),n)}else{const n=ll(e);if(n!==null&&r)return{...e};const a=Tr.create(n);return Tr.assign(a,e)}}function rw(e,t=!1){return jp(e)||La(e)||!Tn(e)||(Yu(e)>1&&Tr.defineProperties(e,{set:tf,add:tf,clear:tf,delete:tf}),Tr.freeze(e),t&&qu(e,(r,n)=>{rw(n,!0)},!1)),e}function TY(){jn(2)}var tf={[iu]:TY};function jp(e){return e===null||!ew(e)?!0:Tr.isFrozen(e)}var Um="MapSet",dx="Patches",yT={};function cl(e){const t=yT[e];return t||jn(0,e),t}var IY=e=>!!yT[e],ou,xT=()=>ou,DY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IY(Um)?cl(Um):void 0});function e2(e,t){t&&(e.patchPlugin_=cl(dx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fx(e){mx(e),e.drafts_.forEach(RY),e.drafts_=null}function mx(e){e===ou&&(ou=e.parent_)}var t2=e=>ou=DY(ou,e);function RY(e){const t=e[ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function r2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ir].modified_&&(fx(t),jn(4)),Tn(e)&&(e=n2(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ir].base_,e,t)}else e=n2(t,r);return LY(t,e,!0),fx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pT?e:void 0}function n2(e,t){if(jp(t))return t;const r=t[ir];if(!r)return nw(t,e.handledSet_,e);if(!kp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);wT(r,e)}return r.copy_}function LY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rw(t,r)}function vT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var kp=(e,t)=>e.scope_===t,$Y=[];function bT(e,t,r,n){const a=pa(e),s=e.type_;if(n!==void 0&&cx(a,n,s)===t){Bm(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;qu(a,(c,u)=>{if(La(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const i=e.draftLocations_.get(t)??$Y;for(const l of i)Bm(a,l,r,s)}function zY(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!kp(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const i=tw(s);bT(e,s.draft_??s,i,r),wT(s,a)})}function wT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}vT(e)}}function FY(e,t,r){const{scope_:n}=e;if(La(r)){const a=r[ir];kp(a,n)&&a.callbacks_.push(function(){Bf(e);const i=tw(a);bT(e,r,i,t)})}else Tn(r)&&e.callbacks_.push(function(){const s=pa(e);cx(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&nw(cx(e.copy_,t,e.type_),n.handledSet_,n)})}function nw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||La(e)||t.has(e)||!Tn(e)||jp(e)||(t.add(e),qu(e,(n,a)=>{if(La(a)){const s=a[ir];if(kp(s,r)){const i=tw(s);Bm(e,n,i,e.type_),vT(s)}}else Tn(a)&&nw(a,t,r)})),e}function BY(e,t){const r=vp(e),n={type_:r?1:0,scope_:t?t.scope_:xT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=aw;r&&(a=[n],s=lu);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,[l,n]}var aw={get(e,t){if(t===ir)return e;const r=pa(e);if(!JN(r,t,e.type_))return UY(e,r,t);const n=r[t];if(e.finalized_||!Tn(n))return n;if(n===n0(e.base_,t)){Bf(e);const a=e.type_===1?+t:t,s=px(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in pa(e)},ownKeys(e){return Reflect.ownKeys(pa(e))},set(e,t,r){const n=jT(pa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=n0(pa(e),t),s=a==null?void 0:a[ir];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(MY(r,a)&&(r!==void 0||JN(e.base_,t,e.type_)))return!0;Bf(e),hx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),FY(e,t,r)),!0},deleteProperty(e,t){return Bf(e),n0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=pa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ff]:!0,[lx]:e.type_!==1||t!=="length",[Fm]:n[Fm],[iu]:r[t]}},defineProperty(){jn(11)},getPrototypeOf(e){return ll(e.base_)},setPrototypeOf(){jn(12)}},lu={};qu(aw,(e,t)=>{lu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});lu.deleteProperty=function(e,t){return lu.set.call(this,e,t,void 0)};lu.set=function(e,t,r){return aw.set.call(this,e[0],t,r,e[0])};function n0(e,t){const r=e[ir];return(r?pa(r):e)[t]}function UY(e,t,r){var a;const n=jT(t,r);return n?iu in n?n[iu]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function jT(e,t){if(!(t in e))return;let r=ll(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ll(r)}}function hx(e){e.modified_||(e.modified_=!0,e.parent_&&hx(e.parent_))}function Bf(e){e.copy_||(e.assigned_=new Map,e.copy_=ux(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(no(r)&&!no(n)){const i=n;n=r;const l=this;return function(u=i,...d){return l.produce(u,f=>n.call(this,f,...d))}}no(n)||jn(6),a!==void 0&&!no(a)&&jn(7);let s;if(Tn(r)){const i=t2(this),l=px(i,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?fx(i):mx(i)}return e2(i,a),r2(s,i)}else if(!r||!ew(r)){if(s=n(r),s===void 0&&(s=r),s===pT&&(s=void 0),this.autoFreeze_&&rw(s,!0),a){const i=[],l=[];cl(dx).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:l}),a(i,l)}return s}else jn(1,r)},this.produceWithPatches=(r,n)=>{if(no(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},r0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),r0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),r0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Tn(t)||jn(8),La(t)&&(t=Pn(t));const r=t2(this),n=px(r,t,void 0);return n[ir].isManual_=!0,mx(r),n}finishDraft(t,r){const n=t&&t[ir];(!n||!n.isManual_)&&jn(9);const{scope_:a}=n;return e2(a,r),r2(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=cl(dx).applyPatches_;return La(t)?a(t,r):this.produce(t,s=>a(s,r))}};function px(e,t,r,n){const[a,s]=bp(t)?cl(Um).proxyMap_(t,r):wp(t)?cl(Um).proxySet_(t,r):BY(t,r);return((r==null?void 0:r.scope_)??xT()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?zY(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function Pn(e){return La(e)||jn(10,e),kT(e)}function kT(e){if(!Tn(e)||jp(e))return e;const t=e[ir];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ux(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ux(e,!0);return qu(r,(a,s)=>{Bm(r,a,kT(s))},n),t&&(t.finalized_=!1),r}var VY=new HY,NT=VY.produce;function ST(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var WY=ST(),KY=ST,qY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$m:$m.apply(null,arguments)};function on(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Dr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>hT(n)&&n.type===e,r}var _T=class fc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fc.prototype)}static get[Symbol.species](){return fc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fc(...t[0].concat(this)):new fc(...t.concat(this))}};function a2(e){return Tn(e)?NT(e,()=>{}):e}function rf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function YY(e){return typeof e=="boolean"}var GY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new _T;return r&&(YY(r)?i.push(WY):i.push(KY(r.extraArgument))),i},ET="RTK_autoBatch",He=()=>e=>({payload:e,meta:{[ET]:!0}}),s2=e=>t=>{setTimeout(t,e)},CT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:s2(10):e.type==="callback"?e.queueNotification:s2(e.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[ET]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},XY=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new _T(e);return n&&a.push(CT(typeof n=="object"?n:void 0)),a};function QY(e){const t=GY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Jb(r))l=mT(r);else throw new Error(Dr(1));let c;typeof n=="function"?c=n(t):c=t();let u=$m;a&&(u=qY({trace:!1,...typeof a=="object"&&a}));const d=OY(...c),f=XY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return fT(l,s,h)}function PT(e){const t={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Dr(28));if(l in t)throw new Error(Dr(29));return t[l]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function ZY(e){return typeof e=="function"}function JY(e,t){let[r,n,a]=PT(t),s;if(ZY(e))s=()=>a2(e());else{const l=a2(e);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(La(d)){const h=f(d,c);return h===void 0?d:h}else{if(Tn(d))return NT(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var eG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tG=(e=21)=>{let t="",r=e;for(;r--;)t+=eG[Math.random()*64|0];return t},rG=Symbol.for("rtk-slice-createasyncthunk");function nG(e,t){return`${e}/${t}`}function aG({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[rG];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Dr(11));const l=(typeof a.reducers=="function"?a.reducers(iG()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(Dr(12));if(N in u.sliceCaseReducersByType)throw new Error(Dr(13));return u.sliceCaseReducersByType[N]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=l[j],N={reducerName:j,type:nG(s,j),createNotation:typeof a.reducers=="function"};lG(k)?uG(N,k,d,t):oG(N,k,d)});function f(){const[j={},k=[],N=void 0]=typeof a.extraReducers=="function"?PT(a.extraReducers):[a.extraReducers],_={...j,...u.sliceCaseReducersByType};return JY(a.initialState,S=>{for(let E in _)S.addCase(E,_[E]);for(let E of u.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of k)S.addMatcher(E.matcher,E.reducer);N&&S.addDefaultCase(N)})}const m=j=>j,h=new Map,p=new WeakMap;let x;function v(j,k){return x||(x=f()),x(j,k)}function y(){return x||(x=f()),x.getInitialState()}function w(j,k=!1){function N(S){let E=S[j];return typeof E>"u"&&k&&(E=rf(p,N,y)),E}function _(S=m){const E=rf(h,k,()=>new WeakMap);return rf(E,S,()=>{const A={};for(const[C,O]of Object.entries(a.selectors??{}))A[C]=sG(O,S,()=>rf(p,S,y),k);return A})}return{reducerPath:j,getSelectors:_,get selectors(){return _(N)},selectSlice:N}}const b={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(i),injectInto(j,{reducerPath:k,...N}={}){const _=k??i;return j.inject({reducerPath:_,reducer:v},N),{...b,...w(_,!0)}}};return b}}function sG(e,t,r,n){function a(s,...i){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...i)}return a.unwrapped=e,a}var Er=aG();function iG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function oG({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!cG(n))throw new Error(Dr(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?on(e,i):on(e))}function lG(e){return e._reducerDefinitionType==="asyncThunk"}function cG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uG({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Dr(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||nf,pending:l||nf,rejected:c||nf,settled:u||nf})}function nf(){}var dG="task",OT="listener",AT="completed",sw="cancelled",fG=`task-${sw}`,mG=`task-${AT}`,gx=`${OT}-${sw}`,hG=`${OT}-${AT}`,Np=class{constructor(e){Rl(this,"name","TaskAbortError");Rl(this,"message");this.code=e,this.message=`${dG} ${sw} (reason: ${e})`}},iw=(e,t)=>{if(typeof e!="function")throw new TypeError(Dr(32))},Hm=()=>{},MT=(e,t=Hm)=>(e.catch(t),e),TT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ni=e=>{if(e.aborted)throw new Np(e.reason)};function IT(e,t){let r=Hm;return new Promise((n,a)=>{const s=()=>a(new Np(e.reason));if(e.aborted){s();return}r=TT(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Hm})}var pG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Np?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vm=e=>t=>MT(IT(e,t).then(r=>(Ni(e),r))),DT=e=>{const t=Vm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Po}=Object,i2={},Sp="listenerMiddleware",gG=(e,t)=>{const r=n=>TT(e,()=>n.abort(e.reason));return(n,a)=>{iw(n);const s=new AbortController;r(s);const i=pG(async()=>{Ni(e),Ni(s.signal);const l=await n({pause:Vm(s.signal),delay:DT(s.signal),signal:s.signal});return Ni(s.signal),l},()=>s.abort(mG));return a!=null&&a.autoJoin&&t.push(i.catch(Hm)),{result:Vm(e)(i),cancel(){s.abort(fG)}}}},yG=(e,t)=>{const r=async(n,a)=>{Ni(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await IT(t,Promise.race(l));return Ni(t),c}finally{s()}};return(n,a)=>MT(r(n,a))},RT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=on(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Dr(21));return iw(s),{predicate:a,type:t,effect:s}},LT=Po(e=>{const{type:t,predicate:r,effect:n}=RT(e);return{id:tG(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Dr(22))}}},{withTypes:()=>LT}),o2=(e,t)=>{const{type:r,effect:n,predicate:a}=RT(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},yx=e=>{e.pending.forEach(t=>{t.abort(gx)})},xG=(e,t)=>()=>{for(const r of t.keys())yx(r);e.clear()},l2=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},$T=Po(on(`${Sp}/add`),{withTypes:()=>$T}),vG=on(`${Sp}/removeAll`),zT=Po(on(`${Sp}/remove`),{withTypes:()=>zT}),bG=(...e)=>{console.error(`${Sp}/error`,...e)},Gu=(e={})=>{const t=new Map,r=new Map,n=h=>{const p=r.get(h)??0;r.set(h,p+1)},a=h=>{const p=r.get(h)??1;p===1?r.delete(h):r.set(h,p-1)},{extra:s,onError:i=bG}=e;iw(i);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&yx(h)}),c=h=>{const p=o2(t,h)??LT(h);return l(p)};Po(c,{withTypes:()=>c});const u=h=>{const p=o2(t,h);return p&&(p.unsubscribe(),h.cancelActive&&yx(p)),!!p};Po(u,{withTypes:()=>u});const d=async(h,p,x,v)=>{const y=new AbortController,w=yG(c,y.signal),b=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(p,Po({},x,{getOriginalState:v,condition:(j,k)=>w(j,k).then(Boolean),take:w,delay:DT(y.signal),pause:Vm(y.signal),extra:s,signal:y.signal,fork:gG(y.signal,b),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((j,k,N)=>{j!==y&&(j.abort(gx),N.delete(j))})},cancel:()=>{y.abort(gx),h.pending.delete(y)},throwIfCancelled:()=>{Ni(y.signal)}})))}catch(j){j instanceof Np||l2(i,j,{raisedBy:"effect"})}finally{await Promise.all(b),y.abort(hG),a(h),h.pending.delete(y)}},f=xG(t,r);return{middleware:h=>p=>x=>{if(!hT(x))return p(x);if($T.match(x))return c(x.payload);if(vG.match(x)){f();return}if(zT.match(x))return u(x.payload);let v=h.getState();const y=()=>{if(v===i2)throw new Error(Dr(23));return v};let w;try{if(w=p(x),t.size>0){const b=h.getState(),j=Array.from(t.values());for(const k of j){let N=!1;try{N=k.predicate(x,b,v)}catch(_){N=!1,l2(i,_,{raisedBy:"predicate"})}N&&d(k,x,h,y)}}}finally{v=i2}return w},startListening:c,stopListening:u,clearListeners:f}};function Dr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FT=Er({name:"chartLayout",initialState:wG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jG,setLayout:kG,setChartSize:NG,setScale:SG}=FT.actions,_G=FT.reducer;function BT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function c2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(r),!0).forEach(function(n){EG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e,t,r){return Ae(e)||Ae(t)?r:sn(t)?ol(e,t,r):typeof t=="function"?t(e):r}var OG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:l}=t;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&de(e[s]))return vo(vo({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&de(e[i]))return vo(vo({},e),{},{[i]:e[i]+(a||0)})}return e},Us=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",UT=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,i=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||i.push(t),s||i.push(r),i},HT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!i)return null;var p=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=a==="category"&&i.bandwidth?i.bandwidth()/p:0;if(x=h==="angleAxis"&&s&&s.length>=2?vr(s[0]-s[1])*2*x:x,f||m){var v=(f||m||[]).map((y,w)=>{var b=n?n.indexOf(y):y;return{coordinate:i(b)+x,value:y,offset:x,index:w}});return v.filter(y=>!zr(y.coordinate))}return c&&u?u.map((y,w)=>({coordinate:i(y)+x,value:y,index:w,offset:x})):i.ticks&&d!=null?i.ticks(d).map((y,w)=>({coordinate:i(y)+x,value:y,offset:x,index:w})):i.domain().map((y,w)=>({coordinate:i(y)+x,value:n?n[y]:y,index:w,offset:x}))},u2=1e-4,AG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-u2,s=Math.max(n[0],n[1])+u2,i=e(t[0]),l=e(t[r-1]);(i<a||i>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},MG=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},TG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var l=zr(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+l,s=e[i][r][1])}},IG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=zr(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},DG={sign:TG,expand:Aq,none:il,silhouette:Mq,wiggle:Tq,positive:IG},RG=(e,t,r)=>{var n=DG[r],a=Oq().keys(t).value((s,i)=>Number(Je(s,i,0))).order(ix).offset(n);return a(e)};function LG(e){return e==null?void 0:String(e)}function Wm(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ae(a[t.dataKey])){var l=LM(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Je(a,Ae(i)?t.dataKey:i);return Ae(c)?null:t.scale(c)}var d2=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var l=Je(s,t.dataKey,t.scale.domain()[i]);return Ae(l)?null:t.scale(l)-a/2+n},$G=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},zG=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},FG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],BG=(e,t,r)=>{if(e!=null)return FG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var d=BT(u,t,r),f=zG(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},f2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ul=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=yp(t,d=>d.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function h2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return vo(vo({},t),{},{dataKey:r,payload:n,value:a,name:s})}function El(e,t){if(e)return String(e);if(typeof t=="string")return t}var UG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},HG=(e,t)=>t==="centric"?e.angle:e.radius,Ka=e=>e.layout.width,qa=e=>e.layout.height,VG=e=>e.layout.scale,VT=e=>e.layout.margin,_p=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ep=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),WT="data-recharts-item-index",KT="data-recharts-item-data-key",Xu=60;function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YG=e=>e.brush.height;function GG(e){var t=Ep(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xu;return r+a}return r},0)}function XG(e){var t=Ep(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xu;return r+a}return r},0)}function QG(e){var t=_p(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ZG(e){var t=_p(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Rt=W([Ka,qa,VT,YG,GG,XG,QG,ZG,uT,kY],(e,t,r,n,a,s,i,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+l},m=af(af({},f),d),h=m.bottom;m.bottom+=n,m=OG(m,c,u);var p=e-m.left-m.right,x=t-m.top-m.bottom;return af(af({brushBottom:h},m),{},{width:Math.max(p,0),height:Math.max(x,0)})}),JG=W(Rt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ow=W(Ka,qa,(e,t)=>({x:0,y:0,width:e,height:t})),eX=g.createContext(null),bt=()=>g.useContext(eX)!=null,Cp=e=>e.brush,Pp=W([Cp,Rt,VT],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),qT={},YT={},GT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(i,l),i=void 0,l=null)},f=()=>{u&&d(),x()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},p=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{p(),i=void 0,l=null},v=()=>{d()},y=function(...w){if(a!=null&&a.aborted)return;i=this,l=w;const b=m==null;h(),c&&b&&d()};return y.schedule=h,y.cancel=x,y.flush=v,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(GT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),h=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},p=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=p,h}e.debounce=r})(YT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT;function r(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:l})}e.throttle=r})(qT);var tX=qT.throttle;const rX=sa(tX);var Km=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},XT=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,l=Ra(n)?e:Number(n),c=Ra(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:l,calculatedHeight:c}},nX={width:0,height:0,overflow:"visible"},aX={width:0,overflowX:"visible"},sX={height:0,overflowY:"visible"},iX={},oX=e=>{var{width:t,height:r}=e,n=Ra(t),a=Ra(r);return n&&a?nX:n?aX:a?sX:iX};function lX(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function Ue(e){return Number.isFinite(e)}function ta(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(null,arguments)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QT=g.createContext({width:-1,height:-1});function fX(e){return ta(e.width)&&ta(e.height)}function ZT(e){var{children:t,width:r,height:n}=e,a=g.useMemo(()=>({width:r,height:n}),[r,n]);return fX(a)?g.createElement(QT.Provider,{value:a},t):null}var lw=()=>g.useContext(QT),mX=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:h,style:p={}}=e,x=g.useRef(null),v=g.useRef();v.current=h,g.useImperativeHandle(t,()=>x.current);var[y,w]=g.useState({containerWidth:n.width,containerHeight:n.height}),b=g.useCallback((S,E)=>{w(A=>{var C=Math.round(S),O=Math.round(E);return A.containerWidth===C&&A.containerHeight===O?A:{containerWidth:C,containerHeight:O}})},[]);g.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Wu;var S=O=>{var I,{width:M,height:L}=O[0].contentRect;b(M,L),(I=v.current)===null||I===void 0||I.call(v,M,L)};d>0&&(S=rX(S,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:A,height:C}=x.current.getBoundingClientRect();return b(A,C),E.observe(x.current),()=>{E.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:k}=y;Km(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:_}=XT(j,k,{width:a,height:s,aspect:r,maxHeight:c});return Km(N!=null&&N>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,_,a,s,i,l,r),g.createElement("div",{id:f?"".concat(f):void 0,className:Ee("recharts-responsive-container",m),style:y2(y2({},p),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:x},g.createElement("div",{style:oX({width:a,height:s})},g.createElement(ZT,{width:N,height:_},u)))}),sf=g.forwardRef((e,t)=>{var r=lw();if(ta(r.width)&&ta(r.height))return e.children;var{width:n,height:a}=lX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=XT(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(s)&&de(i)?g.createElement(ZT,{width:s,height:i},e.children):g.createElement(mX,xx({},e,{width:n,height:a,ref:t}))});function JT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Cl=()=>{var e,t=bt(),r=oe(JG),n=oe(Pp),a=(e=oe(Cp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},hX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eI=()=>{var e;return(e=oe(Rt))!==null&&e!==void 0?e:hX},cw=()=>oe(Ka),uw=()=>oe(qa),pX=()=>oe(e=>e.layout.margin),Ce=e=>e.layout.layoutType,Qu=()=>oe(Ce),gX=()=>{var e=Qu();return e!==void 0},Op=e=>{var t=Ye(),r=bt(),{width:n,height:a}=e,s=lw(),i=n,l=a;return s&&(i=s.width>0?s.width:n,l=s.height>0?s.height:a),g.useEffect(()=>{!r&&ta(i)&&ta(l)&&t(NG({width:i,height:l}))},[t,r,i,l]),null},tI=Symbol.for("immer-nothing"),x2=Symbol.for("immer-draftable"),Fr=Symbol.for("immer-state");function kn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cu=Object.getPrototypeOf;function dl(e){return!!e&&!!e[Fr]}function $i(e){var t;return e?rI(e)||Array.isArray(e)||!!e[x2]||!!((t=e.constructor)!=null&&t[x2])||Zu(e)||Mp(e):!1}var yX=Object.prototype.constructor.toString(),v2=new WeakMap;function rI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=v2.get(r);return n===void 0&&(n=Function.toString.call(r),v2.set(r,n)),n===yX}function qm(e,t,r=!0){Ap(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Ap(e){const t=e[Fr];return t?t.type_:Array.isArray(e)?1:Zu(e)?2:Mp(e)?3:0}function vx(e,t){return Ap(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nI(e,t,r){const n=Ap(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function xX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zu(e){return e instanceof Map}function Mp(e){return e instanceof Set}function Zs(e){return e.copy_||e.base_}function bx(e,t){if(Zu(e))return new Map(e);if(Mp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=rI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Fr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(cu(e),n)}else{const n=cu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function dw(e,t=!1){return Tp(e)||dl(e)||!$i(e)||(Ap(e)>1&&Object.defineProperties(e,{set:of,add:of,clear:of,delete:of}),Object.freeze(e),t&&Object.values(e).forEach(r=>dw(r,!0))),e}function vX(){kn(2)}var of={value:vX};function Tp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var bX={};function zi(e){const t=bX[e];return t||kn(0,e),t}var uu;function aI(){return uu}function wX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b2(e,t){t&&(zi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wx(e){jx(e),e.drafts_.forEach(jX),e.drafts_=null}function jx(e){e===uu&&(uu=e.parent_)}function w2(e){return uu=wX(uu,e)}function jX(e){const t=e[Fr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function j2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Fr].modified_&&(wx(t),kn(4)),$i(e)&&(e=Ym(t,e),t.parent_||Gm(t,e)),t.patches_&&zi("Patches").generateReplacementPatches_(r[Fr].base_,e,t.patches_,t.inversePatches_)):e=Ym(t,r,[]),wx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tI?e:void 0}function Ym(e,t,r){if(Tp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Fr];if(!a)return qm(t,(s,i)=>k2(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Gm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),qm(i,(c,u)=>k2(e,a,s,c,u,r,l),n),Gm(e,s,!1),r&&e.patches_&&zi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function k2(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const l=Tp(a);if(!(l&&!i)){if(dl(a)){const c=s&&t&&t.type_!==3&&!vx(t.assigned_,n)?s.concat(n):void 0,u=Ym(e,a,c);if(nI(r,n,u),dl(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if($i(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Ym(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Zu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Gm(e,a)}}}function Gm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dw(t,r)}function kX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:aI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=fw;r&&(a=[n],s=du);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var fw={get(e,t){if(t===Fr)return e;const r=Zs(e);if(!vx(r,t))return NX(e,r,t);const n=r[t];return e.finalized_||!$i(n)?n:n===a0(e.base_,t)?(s0(e),e.copy_[t]=Nx(n,e)):n},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,r){const n=sI(Zs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=a0(Zs(e),t),s=a==null?void 0:a[Fr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(xX(r,a)&&(r!==void 0||vx(e.base_,t)))return!0;s0(e),kx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return a0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,s0(e),kx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Zs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){kn(11)},getPrototypeOf(e){return cu(e.base_)},setPrototypeOf(){kn(12)}},du={};qm(fw,(e,t)=>{du[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});du.deleteProperty=function(e,t){return du.set.call(this,e,t,void 0)};du.set=function(e,t,r){return fw.set.call(this,e[0],t,r,e[0])};function a0(e,t){const r=e[Fr];return(r?Zs(r):e)[t]}function NX(e,t,r){var a;const n=sI(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function sI(e,t){if(!(t in e))return;let r=cu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cu(r)}}function kx(e){e.modified_||(e.modified_=!0,e.parent_&&kx(e.parent_))}function s0(e){e.copy_||(e.copy_=bx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&kn(6),n!==void 0&&typeof n!="function"&&kn(7);let a;if($i(t)){const s=w2(this),i=Nx(t,void 0);let l=!0;try{a=r(i),l=!1}finally{l?wx(s):jx(s)}return b2(s,n),j2(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===tI&&(a=void 0),this.autoFreeze_&&dw(a,!0),n){const s=[],i=[];zi("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else kn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let n,a;return[this.produce(t,r,(i,l)=>{n=i,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$i(e)||kn(8),dl(e)&&(e=_X(e));const t=w2(this),r=Nx(e,void 0);return r[Fr].isManual_=!0,jx(t),r}finishDraft(e,t){const r=e&&e[Fr];(!r||!r.isManual_)&&kn(9);const{scope_:n}=r;return b2(n,t),j2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=zi("Patches").applyPatches_;return dl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Nx(e,t){const r=Zu(e)?zi("MapSet").proxyMap_(e,t):Mp(e)?zi("MapSet").proxySet_(e,t):kX(e,t);return(t?t.scope_:aI()).drafts_.push(r),r}function _X(e){return dl(e)||kn(10,e),iI(e)}function iI(e){if(!$i(e)||Tp(e))return e;const t=e[Fr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=bx(e,!0);return qm(r,(a,s)=>{nI(r,a,iI(s))},n),t&&(t.finalized_=!1),r}var EX=new SX;EX.produce;var CX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oI=Er({name:"legend",initialState:CX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:He()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Pn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:He()},removeLegendPayload:{reducer(e,t){var r=Pn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:He()}}}),{setLegendSize:N2,setLegendSettings:PX,addLegendPayload:OX,replaceLegendPayload:AX,removeLegendPayload:MX}=oI.actions,TX=oI.reducer,IX=["contextPayload"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(null,arguments)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){DX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $X(e,t){if(e==null)return{};var r,n,a=zX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FX(e){return e.value}function BX(e){var{contextPayload:t}=e,r=$X(e,IX),n=nT(t,e.payloadUniqBy,FX),a=fl(fl({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(oY,a)}function UX(e,t,r,n,a,s){var{layout:i,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),fl(fl({},u),d)}function HX(e){var t=Ye();return g.useEffect(()=>{t(PX(e))},[t,e]),null}function VX(e){var t=Ye();return g.useEffect(()=>(t(N2(e)),()=>{t(N2({width:0,height:0}))}),[t,e]),null}function WX(e,t,r,n){return e==="vertical"&&de(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var KX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function lI(e){var t=ht(e,KX),r=_Y(),n=eq(),a=pX(),{width:s,height:i,wrapperStyle:l,portal:c}=t,[u,d]=dT([r]),f=cw(),m=uw();if(f==null||m==null)return null;var h=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=WX(t.layout,i,s,h),x=c?l:fl(fl({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},UX(l,t,a,f,m,u)),l),v=c??n;if(v==null||r==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},g.createElement(HX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&g.createElement(VX,{width:u.width,height:u.height}),g.createElement(BX,Sx({},t,p,{margin:a,chartWidth:f,chartHeight:m,contextPayload:r})));return Eu.createPortal(y,v)}lI.displayName="Legend";function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(null,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){qX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var QX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(s&&s.length){var k={padding:0,margin:0},N=(l?yp(s,l):s).map((_,S)=>{if(_.type==="none")return null;var E=_.formatter||i||XX,{value:A,name:C}=_,O=A,I=C;if(E){var M=E(A,C,_,S,s);if(Array.isArray(M))[O,I]=M;else if(M!=null)O=M;else return null}var L=i0({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:L},sn(I)?g.createElement("span",{className:"recharts-tooltip-item-name"},I):null,sn(I)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:k},N)}return null},p=i0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=i0({margin:0},a),v=!Ae(d),y=v?d:"",w=Ee("recharts-default-tooltip",c),b=Ee("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(y=f(d,s));var j=m?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",_x({className:w,style:p},j),g.createElement("p",{className:b,style:x},g.isValidElement(y)?y:"".concat(y)),h())},Ql="recharts-tooltip-wrapper",ZX={visibility:"hidden"};function JX(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ee(Ql,{["".concat(Ql,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(Ql,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(Ql,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(Ql,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function E2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&de(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var m=c[n];if(m==null)return 0;if(i[n]){var h=d,p=m;return h<p?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var x=f+l,v=m+u;return x>v?Math.max(d,m):Math.max(f,m)}function eQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function tQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=E2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=E2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=eQ({translateX:d,translateY:f,useTranslate3d:l})):u=ZX,{cssProperties:u,cssClasses:JX({translateX:d,translateY:f,coordinate:r})}}function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){Ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ex(e,t,r){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aQ extends g.PureComponent{constructor(){super(...arguments),Ex(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ex(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:b}=tQ({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:h}),j=y?{}:lf(lf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=lf(lf({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:k,ref:v},s)}}var cI=()=>{var e;return(e=oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(null,arguments)}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){sQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A2={curveBasisClosed:vq,curveBasisOpen:bq,curveBasis:xq,curveBumpX:aq,curveBumpY:sq,curveLinearClosed:wq,curveLinear:up,curveMonotoneX:jq,curveMonotoneY:kq,curveNatural:Nq,curveStep:Sq,curveStepAfter:Eq,curveStepBefore:_q},Xm=e=>Ue(e.x)&&Ue(e.y),M2=e=>e.base!=null&&Xm(e.base)&&Xm(e),Zl=e=>e.x,Jl=e=>e.y,lQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Vu(e));return(r==="curveMonotone"||r==="curveBump")&&t?A2["".concat(r).concat(t==="vertical"?"Y":"X")]:A2[r]||up},cQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=lQ(t,a),l=s?r.filter(Xm):r,c;if(Array.isArray(n)){var u=r.map((h,p)=>O2(O2({},h),{},{base:n[p]}));a==="vertical"?c=Zd().y(Jl).x1(Zl).x0(h=>h.base.x):c=Zd().x(Zl).y1(Jl).y0(h=>h.base.y);var d=c.defined(M2).curve(i),f=s?u.filter(M2):u;return d(f)}a==="vertical"&&de(n)?c=Zd().y(Jl).x1(Zl).x0(n):de(n)?c=Zd().x(Zl).y1(Jl).y0(n):c=kM().x(Zl).y(Jl);var m=c.defined(Xm).curve(i);return m(l)},mw=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?cQ(e):n;return g.createElement("path",Cx({},$r(e),Fb(e),{className:Ee("recharts-curve",t),d:s===null?void 0:s,ref:a}))},uQ=["x","y","top","left","width","height","className"];function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(null,arguments)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){fQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fQ(e,t,r){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pQ(e,t){if(e==null)return{};var r,n,a=gQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),xQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=e,c=pQ(e,uQ),u=dQ({x:t,y:r,top:n,left:a,width:s,height:i},c);return!de(t)||!de(r)||!de(s)||!de(i)||!de(n)||!de(a)?null:g.createElement("path",Px({},Jt(u),{className:Ee("recharts-cross",l),d:yQ(t,r,s,i,n,a)}))};function vQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){bQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),uI=(e,t,r)=>e.map(n=>"".concat(kQ(n)," ").concat(t,"ms ").concat(r)).join(","),NQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),fu=(e,t)=>Object.keys(t).reduce((r,n)=>D2(D2({},r),{},{[n]:e(n,t[n])}),{});function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){SQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SQ(e,t,r){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm=(e,t,r)=>e+(t-e)*r,Ox=e=>{var{from:t,to:r}=e;return t!==r},dI=(e,t,r)=>{var n=fu((a,s)=>{if(Ox(s)){var[i,l]=e(s.from,s.to,s.velocity);return xt(xt({},s),{},{from:i,velocity:l})}return s},t);return r<1?fu((a,s)=>Ox(s)?xt(xt({},s),{},{velocity:Qm(s.velocity,n[a].velocity,r),from:Qm(s.from,n[a].from,r)}):s,t):dI(e,n,r-1)};function CQ(e,t,r,n,a,s){var i,l=n.reduce((m,h)=>xt(xt({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>fu((m,h)=>h.from,l),u=()=>!Object.values(l).filter(Ox).length,d=null,f=m=>{i||(i=m);var h=m-i,p=h/r.dt;l=dI(r,l,p),a(xt(xt(xt({},e),t),c())),i=m,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function PQ(e,t,r,n,a,s,i){var l=null,c=a.reduce((f,m)=>xt(xt({},f),{},{[m]:[e[m],t[m]]}),{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=fu((x,v)=>Qm(...v,r(m)),c);if(s(xt(xt(xt({},e),t),h)),m<1)l=i.setTimeout(d);else{var p=fu((x,v)=>Qm(...v,r(1)),c);s(xt(xt(xt({},e),t),p))}};return()=>(l=i.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const OQ=(e,t,r,n,a,s)=>{var i=NQ(e,t);return r==null?()=>(a(xt(xt({},e),t)),()=>{}):r.isStepper===!0?CQ(e,t,r,i,a,s):PQ(e,t,r,n,i,a,s)};var Zm=1e-4,fI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],mI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),L2=(e,t)=>r=>{var n=fI(e,t);return mI(n,r)},AQ=(e,t)=>r=>{var n=fI(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return mI(a,r)},MQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},TQ=(e,t,r,n)=>{var a=L2(e,r),s=L2(t,n),i=AQ(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=a(f)-d,p=i(f);if(Math.abs(h-d)<Zm||p<Zm)return s(f);f=l(f-h/p)}return s(f)};return c.isStepper=!1,c},$2=function(){return TQ(...MQ(...arguments))},IQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,l,c)=>{var u=-(i-l)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+i;return Math.abs(m-l)<Zm&&Math.abs(f)<Zm?[l,0]:[m,f]};return s.isStepper=!0,s.dt=a,s},DQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $2(e);case"spring":return IQ();default:if(e.split("(")[0]==="cubic-bezier")return $2(e)}return typeof e=="function"?e:null};function RQ(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class LQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function $Q(){return RQ(new LQ)}var zQ=g.createContext($Q);function FQ(e,t){var r=g.useContext(zQ);return g.useMemo(()=>t??r(e),[e,t,r])}var BQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ju={devToolsEnabled:!1,isSsr:BQ()},UQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},z2={t:0},o0={t:1};function ed(e){var t=ht(e,UQ),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!Ju.isSsr:r,f=FQ(t.animationId,t.animationManager),[m,h]=g.useState(d?z2:o0),p=g.useRef(null);return g.useEffect(()=>{d||h(o0)},[d]),g.useEffect(()=>{if(!d||!n)return Wu;var x=OQ(z2,o0,DQ(s),a,h,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([c,i,v,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,s,i,c,l,f]),u(m.t)}function td(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(su(t)),n=g.useRef(e);return n.current!==e&&(r.current=su(t),n.current=e),r.current}var HQ=["radius"],VQ=["radius"];function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){WQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WQ(e,t,r){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(null,arguments)}function U2(e,t){if(e==null)return{};var r,n,a=YQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var H2=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);u="M ".concat(e,",").concat(t+i*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*h,`
            L `).concat(e+r,",").concat(t+n-i*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},V2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hI=e=>{var t=ht(e,V2),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=g.useRef(l),y=g.useRef(c),w=g.useRef(s),b=g.useRef(i),j=g.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),k=td(j,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var N=Ee("recharts-rectangle",d);if(!x){var _=Jt(t),{radius:S}=_,E=U2(_,HQ);return g.createElement("path",Jm({},E,{radius:typeof u=="number"?u:void 0,className:N,d:H2(s,i,l,c,u)}))}var A=v.current,C=y.current,O=w.current,I=b.current,M="0px ".concat(n===-1?1:n,"px"),L="".concat(n,"px 0px"),D=uI(["strokeDasharray"],m,typeof f=="string"?f:V2.animationEasing);return g.createElement(ed,{animationId:k,key:k,canBegin:n>0,duration:m,easing:f,isActive:x,begin:h},R=>{var T=Le(A,l,R),P=Le(C,c,R),$=Le(O,s,R),F=Le(I,i,R);r.current&&(v.current=T,y.current=P,w.current=$,b.current=F);var H;p?R>0?H={transition:D,strokeDasharray:L}:H={strokeDasharray:M}:H={strokeDasharray:L};var B=Jt(t),{radius:Y}=B,X=U2(B,VQ);return g.createElement("path",Jm({},X,{radius:typeof u=="number"?u:void 0,className:N,d:H2($,F,T,P,u),ref:r,style:B2(B2({},H),t.style)}))})};function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=Math.PI/180,ZQ=e=>e*180/Math.PI,Ut=(e,t,r,n)=>({x:e+Math.cos(-eh*n)*r,y:t+Math.sin(-eh*n)*r}),JQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},eZ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},tZ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=eZ({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(r-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:ZQ(c),angleInRadian:c}},rZ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},nZ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},aZ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=tZ({x:r,y:n},t),{innerRadius:i,outerRadius:l}=t;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=rZ(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?K2(K2({},t),{},{radius:a,angle:nZ(d,t)}):null};function pI(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Ut(t,r,n,a),l=Ut(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(null,arguments)}var sZ=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},cf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=e,u=l*(i?1:-1)+n,d=Math.asin(l/u)/eh,f=c?a:a+s*d,m=Ut(t,r,u,f),h=Ut(t,r,n,f),p=c?a-s*d:a,x=Ut(t,r,u*Math.cos(d*eh),p);return{center:m,circleTangency:h,lineTangency:x,theta:d}},gI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,l=sZ(s,i),c=s+l,u=Ut(t,r,a,s),d=Ut(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var m=Ut(t,r,n,s),h=Ut(t,r,n,c);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},iZ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=vr(u-c),{circleTangency:f,lineTangency:m,theta:h}=cf({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:v}=cf({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-h-v;if(y<0)return i?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):gI({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=cf({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:_,theta:S}=cf({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-k-S;if(E<0&&s===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},oZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yI=e=>{var t=ht(e,oZ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var m=Ee("recharts-sector",f),h=s-a,p=Mn(i,h,0,!0),x;return p>0&&Math.abs(u-d)<360?x=iZ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=gI({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),g.createElement("path",Ax({},Jt(t),{className:m,d:x}))};function lZ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(zM(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:l}=t,c=Ut(n,a,s,l),u=Ut(n,a,i,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return pI(t)}}var xI={},vI={},bI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(bI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(vI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zb,r=vI;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}e.range=n})(xI);var cZ=xI.range;const wI=sa(cZ);function As(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hw(e){let t,r,n;e.length!==2?(t=As,r=(l,c)=>As(e(l),c),n=(l,c)=>e(l)-c):(t=e===As||e===uZ?e:dZ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function dZ(){return 0}function jI(e){return e===null?NaN:+e}function*fZ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mZ=hw(As),rd=mZ.right;hw(jI).center;class q2 extends Map{constructor(t,r=gZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Y2(this,t))}has(t){return super.has(Y2(this,t))}set(t,r){return super.set(hZ(this,t),r)}delete(t){return super.delete(pZ(this,t))}}function Y2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function gZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yZ(e=As){if(e===As)return kI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xZ=Math.sqrt(50),vZ=Math.sqrt(10),bZ=Math.sqrt(2);function th(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=xZ?10:s>=vZ?5:s>=bZ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?th(e,t,r*2):[l,c,u]}function Mx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?th(t,e,r):th(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Tx(e,t,r){return t=+t,e=+e,r=+r,th(e,t,r)[2]}function Ix(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Tx(t,e,r):Tx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function G2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function X2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function NI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?kI:yZ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),p=Math.min(n,Math.floor(t+(c-u)*f/c+m));NI(e,t,h,p,a)}const s=e[t];let i=r,l=n;for(ec(e,r,t),a(e[n],s)>0&&ec(e,r,n);i<l;){for(ec(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?ec(e,r,l):(++l,ec(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ec(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function wZ(e,t,r){if(e=Float64Array.from(fZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return X2(e);if(t>=1)return G2(e);var n,a=(n-1)*t,s=Math.floor(a),i=G2(NI(e,s).subarray(0,s+1)),l=X2(e.subarray(s+1));return i+(l-i)*(a-s)}}function jZ(e,t,r=jI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function kZ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function cn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ya(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dx=Symbol("implicit");function pw(){var e=new q2,t=[],r=[],n=Dx;function a(s){let i=e.get(s);if(i===void 0){if(n!==Dx)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new q2;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return pw(t,r).unknown(n)},cn.apply(a,arguments),a}function gw(){var e=pw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,p=h?a:n,x=h?n:a;s=(x-p)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),p+=(x-p-s*(m-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var v=kZ(m).map(function(y){return p+s*y});return r(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return gw(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},cn.apply(f(),arguments)}function SI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SI(t())},e}function NZ(){return SI(gw.apply(null,arguments).paddingInner(1))}function SZ(e){return function(){return e}}function rh(e){return+e}var Q2=[0,1];function ar(e){return e}function Rx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:SZ(isNaN(t)?NaN:.5)}function _Z(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function EZ(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Rx(a,n),s=r(i,s)):(n=Rx(n,a),s=r(s,i)),function(l){return s(n(l))}}function CZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Rx(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=rd(e,l,1,n)-1;return s[c](a[c](l))}}function nd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ip(){var e=Q2,t=Q2,r=Ea,n,a,s,i=ar,l,c,u;function d(){var m=Math.min(e.length,t.length);return i!==ar&&(i=_Z(e[0],e[m-1])),l=m>2?CZ:EZ,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(t,e.map(n),bn)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,rh),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=bb,d()},f.clamp=function(m){return arguments.length?(i=m?!0:ar,d()):i!==ar},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function yw(){return Ip()(ar,ar)}function PZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ml(e){return e=nh(Math.abs(e)),e?e[1]:NaN}function OZ(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function AZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var MZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mu(e){if(!(t=MZ.exec(e)))throw new Error("invalid format: "+e);var t;return new xw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mu.prototype=xw.prototype;function xw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var _I;function IZ(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(_I=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+nh(e,Math.max(0,t+s-1))[0]}function Z2(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const J2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:PZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Z2(e*100,t),r:Z2,s:IZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eS(e){return e}var tS=Array.prototype.map,rS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DZ(e){var t=e.grouping===void 0||e.thousands===void 0?eS:OZ(tS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?eS:AZ(tS.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=mu(f);var m=f.fill,h=f.align,p=f.sign,x=f.symbol,v=f.zero,y=f.width,w=f.comma,b=f.precision,j=f.trim,k=f.type;k==="n"?(w=!0,k="g"):J2[k]||(b===void 0&&(b=12),j=!0,k="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=x==="$"?n:/[%p]/.test(k)?i:"",S=J2[k],E=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(C){var O=N,I=_,M,L,D;if(k==="c")I=S(C)+I,C="";else{C=+C;var R=C<0||1/C<0;if(C=isNaN(C)?c:S(Math.abs(C),b),j&&(C=TZ(C)),R&&+C==0&&p!=="+"&&(R=!1),O=(R?p==="("?p:l:p==="-"||p==="("?"":p)+O,I=(k==="s"?rS[8+_I/3]:"")+I+(R&&p==="("?")":""),E){for(M=-1,L=C.length;++M<L;)if(D=C.charCodeAt(M),48>D||D>57){I=(D===46?a+C.slice(M+1):C.slice(M))+I,C=C.slice(0,M);break}}}w&&!v&&(C=t(C,1/0));var T=O.length+C.length+I.length,P=T<y?new Array(y-T+1).join(m):"";switch(w&&v&&(C=t(P+C,P.length?y-I.length:1/0),P=""),h){case"<":C=O+C+I+P;break;case"=":C=O+P+C+I;break;case"^":C=P.slice(0,T=P.length>>1)+O+C+I+P.slice(T);break;default:C=P+O+C+I;break}return s(C)}return A.toString=function(){return f+""},A}function d(f,m){var h=u((f=mu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(ml(m)/3)))*3,x=Math.pow(10,-p),v=rS[8+p/3];return function(y){return h(x*y)+v}}return{format:u,formatPrefix:d}}var uf,vw,EI;RZ({thousands:",",grouping:[3],currency:["$",""]});function RZ(e){return uf=DZ(e),vw=uf.format,EI=uf.formatPrefix,uf}function LZ(e){return Math.max(0,-ml(Math.abs(e)))}function $Z(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ml(t)/3)))*3-ml(Math.abs(e)))}function zZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ml(t)-ml(e))+1}function CI(e,t,r,n){var a=Ix(e,t,r),s;switch(n=mu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=$Z(a,i))&&(n.precision=s),EI(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=zZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=LZ(a))&&(n.precision=s-(n.type==="%")*2);break}}return vw(n)}function Hs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Mx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return CI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Tx(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function PI(){var e=yw();return e.copy=function(){return nd(e,PI())},cn.apply(e,arguments),Hs(e)}function OI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return OI(e).unknown(t)},e=arguments.length?Array.from(e,rh):[0,1],Hs(r)}function AI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function nS(e){return Math.log(e)}function aS(e){return Math.exp(e)}function FZ(e){return-Math.log(-e)}function BZ(e){return-Math.exp(-e)}function UZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HZ(e){return e===10?UZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sS(e){return(t,r)=>-e(-t,r)}function bw(e){const t=e(nS,aS),r=t.domain;let n=10,a,s;function i(){return a=VZ(n),s=HZ(n),r()[0]<0?(a=sS(a),s=sS(s),e(FZ,BZ)):e(nS,aS),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),p,x;const v=l==null?10:+l;let y=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(x=m<0?p/s(-m):p*s(m),!(x<u)){if(x>d)break;y.push(x)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(x=m>0?p/s(-m):p*s(m),!(x<u)){if(x>d)break;y.push(x)}y.length*2<v&&(y=Mx(u,d,v))}else y=Mx(m,h,Math.min(h-m,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=mu(c)).precision==null&&(c.trim=!0),c=vw(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(AI(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function MI(){const e=bw(Ip()).domain([1,10]);return e.copy=()=>nd(e,MI()).base(e.base()),cn.apply(e,arguments),e}function iS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ww(e){var t=1,r=e(iS(t),oS(t));return r.constant=function(n){return arguments.length?e(iS(t=+n),oS(t)):t},Hs(r)}function TI(){var e=ww(Ip());return e.copy=function(){return nd(e,TI()).constant(e.constant())},cn.apply(e,arguments)}function lS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KZ(e){return e<0?-e*e:e*e}function jw(e){var t=e(ar,ar),r=1;function n(){return r===1?e(ar,ar):r===.5?e(WZ,KZ):e(lS(r),lS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Hs(t)}function kw(){var e=jw(Ip());return e.copy=function(){return nd(e,kw()).exponent(e.exponent())},cn.apply(e,arguments),e}function qZ(){return kw.apply(null,arguments).exponent(.5)}function cS(e){return Math.sign(e)*e*e}function YZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function II(){var e=yw(),t=[0,1],r=!1,n;function a(s){var i=YZ(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(cS(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,rh)).map(cS)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return II(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},cn.apply(a,arguments),Hs(a)}function DI(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=jZ(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[rd(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(As),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return DI().domain(e).range(t).unknown(n)},cn.apply(s,arguments)}function RI(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[rd(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return RI().domain([e,t]).range(a).unknown(s)},cn.apply(Hs(i),arguments)}function LI(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[rd(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return LI().domain(e).range(t).unknown(r)},cn.apply(a,arguments)}const l0=new Date,c0=new Date;function wt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>wt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(l0.setTime(+s),c0.setTime(+i),e(l0),e(c0),Math.floor(r(l0,c0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const ah=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ah.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ah);ah.range;const ka=1e3,en=ka*60,Na=en*60,$a=Na*24,Nw=$a*7,uS=$a*30,u0=$a*365,oi=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getUTCSeconds());oi.range;const Sw=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ka)},(e,t)=>{e.setTime(+e+t*en)},(e,t)=>(t-e)/en,e=>e.getMinutes());Sw.range;const _w=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*en)},(e,t)=>(t-e)/en,e=>e.getUTCMinutes());_w.range;const Ew=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ka-e.getMinutes()*en)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getHours());Ew.range;const Cw=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCHours());Cw.range;const ad=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*en)/$a,e=>e.getDate()-1);ad.range;const Dp=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>e.getUTCDate()-1);Dp.range;const $I=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>Math.floor(e/$a));$I.range;function Gi(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*en)/Nw)}const Rp=Gi(0),sh=Gi(1),GZ=Gi(2),XZ=Gi(3),hl=Gi(4),QZ=Gi(5),ZZ=Gi(6);Rp.range;sh.range;GZ.range;XZ.range;hl.range;QZ.range;ZZ.range;function Xi(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Nw)}const Lp=Xi(0),ih=Xi(1),JZ=Xi(2),eJ=Xi(3),pl=Xi(4),tJ=Xi(5),rJ=Xi(6);Lp.range;ih.range;JZ.range;eJ.range;pl.range;tJ.range;rJ.range;const Pw=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pw.range;const Ow=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ow.range;const za=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});za.range;const Fa=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fa.range;function zI(e,t,r,n,a,s){const i=[[oi,1,ka],[oi,5,5*ka],[oi,15,15*ka],[oi,30,30*ka],[s,1,en],[s,5,5*en],[s,15,15*en],[s,30,30*en],[a,1,Na],[a,3,3*Na],[a,6,6*Na],[a,12,12*Na],[n,1,$a],[n,2,2*$a],[r,1,Nw],[t,1,uS],[t,3,3*uS],[e,1,u0]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=hw(([,,v])=>v).right(i,m);if(h===i.length)return e.every(Ix(u/u0,d/u0,f));if(h===0)return ah.every(Math.max(Ix(u,d,f),1));const[p,x]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return p.every(x)}return[l,c]}const[nJ,aJ]=zI(Fa,Ow,Lp,$I,Cw,_w),[sJ,iJ]=zI(za,Pw,Rp,ad,Ew,Sw);function d0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=rc(a),d=nc(a),f=rc(s),m=nc(s),h=rc(i),p=nc(i),x=rc(l),v=nc(l),y=rc(c),w=nc(c),b={a:R,A:T,b:P,B:$,c:null,d:gS,e:gS,f:OJ,g:FJ,G:UJ,H:EJ,I:CJ,j:PJ,L:FI,m:AJ,M:MJ,p:F,q:H,Q:vS,s:bS,S:TJ,u:IJ,U:DJ,V:RJ,w:LJ,W:$J,x:null,X:null,y:zJ,Y:BJ,Z:HJ,"%":xS},j={a:B,A:Y,b:X,B:Q,c:null,d:yS,e:yS,f:qJ,g:nee,G:see,H:VJ,I:WJ,j:KJ,L:UI,m:YJ,M:GJ,p:G,q:Z,Q:vS,s:bS,S:XJ,u:QJ,U:ZJ,V:JJ,w:eee,W:tee,x:null,X:null,y:ree,Y:aee,Z:iee,"%":xS},k={a:A,A:C,b:O,B:I,c:M,d:hS,e:hS,f:kJ,g:mS,G:fS,H:pS,I:pS,j:vJ,L:jJ,m:xJ,M:bJ,p:E,q:yJ,Q:SJ,s:_J,S:wJ,u:fJ,U:mJ,V:hJ,w:dJ,W:pJ,x:L,X:D,y:mS,Y:fS,Z:gJ,"%":NJ};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(U,ne){return function(te){var q=[],ae=-1,ce=0,ge=U.length,pe,Te,dr;for(te instanceof Date||(te=new Date(+te));++ae<ge;)U.charCodeAt(ae)===37&&(q.push(U.slice(ce,ae)),(Te=dS[pe=U.charAt(++ae)])!=null?pe=U.charAt(++ae):Te=pe==="e"?" ":"0",(dr=ne[pe])&&(pe=dr(te,Te)),q.push(pe),ce=ae+1);return q.push(U.slice(ce,ae)),q.join("")}}function _(U,ne){return function(te){var q=tc(1900,void 0,1),ae=S(q,U,te+="",0),ce,ge;if(ae!=te.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ne&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ce=f0(tc(q.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?ih.ceil(ce):ih(ce),ce=Dp.offset(ce,(q.V-1)*7),q.y=ce.getUTCFullYear(),q.m=ce.getUTCMonth(),q.d=ce.getUTCDate()+(q.w+6)%7):(ce=d0(tc(q.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?sh.ceil(ce):sh(ce),ce=ad.offset(ce,(q.V-1)*7),q.y=ce.getFullYear(),q.m=ce.getMonth(),q.d=ce.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ge="Z"in q?f0(tc(q.y,0,1)).getUTCDay():d0(tc(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ge+5)%7:q.w+q.U*7-(ge+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,f0(q)):d0(q)}}function S(U,ne,te,q){for(var ae=0,ce=ne.length,ge=te.length,pe,Te;ae<ce;){if(q>=ge)return-1;if(pe=ne.charCodeAt(ae++),pe===37){if(pe=ne.charAt(ae++),Te=k[pe in dS?ne.charAt(ae++):pe],!Te||(q=Te(U,te,q))<0)return-1}else if(pe!=te.charCodeAt(q++))return-1}return q}function E(U,ne,te){var q=u.exec(ne.slice(te));return q?(U.p=d.get(q[0].toLowerCase()),te+q[0].length):-1}function A(U,ne,te){var q=h.exec(ne.slice(te));return q?(U.w=p.get(q[0].toLowerCase()),te+q[0].length):-1}function C(U,ne,te){var q=f.exec(ne.slice(te));return q?(U.w=m.get(q[0].toLowerCase()),te+q[0].length):-1}function O(U,ne,te){var q=y.exec(ne.slice(te));return q?(U.m=w.get(q[0].toLowerCase()),te+q[0].length):-1}function I(U,ne,te){var q=x.exec(ne.slice(te));return q?(U.m=v.get(q[0].toLowerCase()),te+q[0].length):-1}function M(U,ne,te){return S(U,t,ne,te)}function L(U,ne,te){return S(U,r,ne,te)}function D(U,ne,te){return S(U,n,ne,te)}function R(U){return i[U.getDay()]}function T(U){return s[U.getDay()]}function P(U){return c[U.getMonth()]}function $(U){return l[U.getMonth()]}function F(U){return a[+(U.getHours()>=12)]}function H(U){return 1+~~(U.getMonth()/3)}function B(U){return i[U.getUTCDay()]}function Y(U){return s[U.getUTCDay()]}function X(U){return c[U.getUTCMonth()]}function Q(U){return l[U.getUTCMonth()]}function G(U){return a[+(U.getUTCHours()>=12)]}function Z(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ne=N(U+="",b);return ne.toString=function(){return U},ne},parse:function(U){var ne=_(U+="",!1);return ne.toString=function(){return U},ne},utcFormat:function(U){var ne=N(U+="",j);return ne.toString=function(){return U},ne},utcParse:function(U){var ne=_(U+="",!0);return ne.toString=function(){return U},ne}}}var dS={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,lJ=/^%/,cJ=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function uJ(e){return e.replace(cJ,"\\$&")}function rc(e){return new RegExp("^(?:"+e.map(uJ).join("|")+")","i")}function nc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dJ(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fJ(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function mJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fS(e,t,r){var n=Lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mS(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yJ(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function xJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hS(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vJ(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pS(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jJ(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kJ(e,t,r){var n=Lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function NJ(e,t,r){var n=lJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function SJ(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _J(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gS(e,t){return Se(e.getDate(),t,2)}function EJ(e,t){return Se(e.getHours(),t,2)}function CJ(e,t){return Se(e.getHours()%12||12,t,2)}function PJ(e,t){return Se(1+ad.count(za(e),e),t,3)}function FI(e,t){return Se(e.getMilliseconds(),t,3)}function OJ(e,t){return FI(e,t)+"000"}function AJ(e,t){return Se(e.getMonth()+1,t,2)}function MJ(e,t){return Se(e.getMinutes(),t,2)}function TJ(e,t){return Se(e.getSeconds(),t,2)}function IJ(e){var t=e.getDay();return t===0?7:t}function DJ(e,t){return Se(Rp.count(za(e)-1,e),t,2)}function BI(e){var t=e.getDay();return t>=4||t===0?hl(e):hl.ceil(e)}function RJ(e,t){return e=BI(e),Se(hl.count(za(e),e)+(za(e).getDay()===4),t,2)}function LJ(e){return e.getDay()}function $J(e,t){return Se(sh.count(za(e)-1,e),t,2)}function zJ(e,t){return Se(e.getFullYear()%100,t,2)}function FJ(e,t){return e=BI(e),Se(e.getFullYear()%100,t,2)}function BJ(e,t){return Se(e.getFullYear()%1e4,t,4)}function UJ(e,t){var r=e.getDay();return e=r>=4||r===0?hl(e):hl.ceil(e),Se(e.getFullYear()%1e4,t,4)}function HJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function yS(e,t){return Se(e.getUTCDate(),t,2)}function VJ(e,t){return Se(e.getUTCHours(),t,2)}function WJ(e,t){return Se(e.getUTCHours()%12||12,t,2)}function KJ(e,t){return Se(1+Dp.count(Fa(e),e),t,3)}function UI(e,t){return Se(e.getUTCMilliseconds(),t,3)}function qJ(e,t){return UI(e,t)+"000"}function YJ(e,t){return Se(e.getUTCMonth()+1,t,2)}function GJ(e,t){return Se(e.getUTCMinutes(),t,2)}function XJ(e,t){return Se(e.getUTCSeconds(),t,2)}function QJ(e){var t=e.getUTCDay();return t===0?7:t}function ZJ(e,t){return Se(Lp.count(Fa(e)-1,e),t,2)}function HI(e){var t=e.getUTCDay();return t>=4||t===0?pl(e):pl.ceil(e)}function JJ(e,t){return e=HI(e),Se(pl.count(Fa(e),e)+(Fa(e).getUTCDay()===4),t,2)}function eee(e){return e.getUTCDay()}function tee(e,t){return Se(ih.count(Fa(e)-1,e),t,2)}function ree(e,t){return Se(e.getUTCFullYear()%100,t,2)}function nee(e,t){return e=HI(e),Se(e.getUTCFullYear()%100,t,2)}function aee(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function see(e,t){var r=e.getUTCDay();return e=r>=4||r===0?pl(e):pl.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function iee(){return"+0000"}function xS(){return"%"}function vS(e){return+e}function bS(e){return Math.floor(+e/1e3)}var eo,VI,WI;oee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oee(e){return eo=oJ(e),VI=eo.format,eo.parse,WI=eo.utcFormat,eo.utcParse,eo}function lee(e){return new Date(e)}function cee(e){return e instanceof Date?+e:+new Date(+e)}function Aw(e,t,r,n,a,s,i,l,c,u){var d=yw(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function k(N){return(c(N)<N?h:l(N)<N?p:i(N)<N?x:s(N)<N?v:n(N)<N?a(N)<N?y:w:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,cee)):m().map(lee)},d.ticks=function(N){var _=m();return e(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?k:u(_)},d.nice=function(N){var _=m();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?m(AI(_,N)):d},d.copy=function(){return nd(d,Aw(e,t,r,n,a,s,i,l,c,u))},d}function uee(){return cn.apply(Aw(sJ,iJ,za,Pw,Rp,ad,Ew,Sw,oi,VI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dee(){return cn.apply(Aw(nJ,aJ,Fa,Ow,Lp,Dp,Cw,_w,oi,WI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $p(){var e=0,t=1,r,n,a,s,i=ar,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,i=f(h,p),u):[i(0),i(1)]}}return u.range=d(Ea),u.rangeRound=d(bb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Vs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KI(){var e=Hs($p()(ar));return e.copy=function(){return Vs(e,KI())},Ya.apply(e,arguments)}function qI(){var e=bw($p()).domain([1,10]);return e.copy=function(){return Vs(e,qI()).base(e.base())},Ya.apply(e,arguments)}function YI(){var e=ww($p());return e.copy=function(){return Vs(e,YI()).constant(e.constant())},Ya.apply(e,arguments)}function Mw(){var e=jw($p());return e.copy=function(){return Vs(e,Mw()).exponent(e.exponent())},Ya.apply(e,arguments)}function fee(){return Mw.apply(null,arguments).exponent(.5)}function GI(){var e=[],t=ar;function r(n){if(n!=null&&!isNaN(n=+n))return t((rd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(As),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>wZ(e,s/n))},r.copy=function(){return GI(t).domain(e)},Ya.apply(r,arguments)}function zp(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=ar,d,f=!1,m;function h(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function p(x){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,u=z9(x,[y,w,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Ea),h.rangeRound=p(bb),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return d=x,a=x(e),s=x(t),i=x(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function XI(){var e=Hs(zp()(ar));return e.copy=function(){return Vs(e,XI())},Ya.apply(e,arguments)}function QI(){var e=bw(zp()).domain([.1,1,10]);return e.copy=function(){return Vs(e,QI()).base(e.base())},Ya.apply(e,arguments)}function ZI(){var e=ww(zp());return e.copy=function(){return Vs(e,ZI()).constant(e.constant())},Ya.apply(e,arguments)}function Tw(){var e=jw(zp());return e.copy=function(){return Vs(e,Tw()).exponent(e.exponent())},Ya.apply(e,arguments)}function mee(){return Tw.apply(null,arguments).exponent(.5)}const mc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gw,scaleDiverging:XI,scaleDivergingLog:QI,scaleDivergingPow:Tw,scaleDivergingSqrt:mee,scaleDivergingSymlog:ZI,scaleIdentity:OI,scaleImplicit:Dx,scaleLinear:PI,scaleLog:MI,scaleOrdinal:pw,scalePoint:NZ,scalePow:kw,scaleQuantile:DI,scaleQuantize:RI,scaleRadial:II,scaleSequential:KI,scaleSequentialLog:qI,scaleSequentialPow:Mw,scaleSequentialQuantile:GI,scaleSequentialSqrt:fee,scaleSequentialSymlog:YI,scaleSqrt:qZ,scaleSymlog:TI,scaleThreshold:LI,scaleTime:uee,scaleUtc:dee,tickFormat:CI},Symbol.toStringTag,{value:"Module"}));var Ws=e=>e.chartData,hee=W([Ws],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sd=(e,t,r,n)=>n?hee(e):Ws(e);function Is(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ue(t)&&Ue(r))return!0}return!1}function wS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function JI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Ue(r))a=r;else if(typeof r=="function")return;if(Ue(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Is(i))return i}}function pee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Is(n))return wS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,l;if(a==="auto")t!=null&&(i=Math.min(...t));else if(de(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&f2.test(a)){var c=f2.exec(a);if(c==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(de(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&m2.test(s)){var d=m2.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[i,l];if(Is(m))return t==null?m:wS(m,t,r)}}}var Pl=1e9,gee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dw,We=!0,ln="[DecimalError] ",Si=ln+"Invalid argument: ",Iw=ln+"Exponent out of range: ",Ol=Math.floor,Js=Math.pow,yee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,Ot=1e7,Fe=7,e4=9007199254740991,oh=Ol(e4/Fe),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return Ca(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return Ie(Ca(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return ft(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ar))throw Error(ln+"NaN");if(r.s<1)throw Error(ln+(r.s?"NaN":"-Infinity"));return r.eq(Ar)?new n(0):(We=!1,t=Ca(hu(r,s),hu(e,s),s),We=!0,Ie(t,a))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n4(t,e):t4(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ln+"NaN");return r.s?(We=!1,t=Ca(r,e,0,1).times(e),We=!0,r.minus(t)):Ie(new n(r),a)};le.naturalExponential=le.exp=function(){return r4(this)};le.naturalLogarithm=le.ln=function(){return hu(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t4(t,e):n4(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Si+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Fe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ln+"NaN")}for(e=ft(l),We=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Kn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ol((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Ca(l,s,i+2)).times(.5),Kn(s.d).slice(0,i)===(t=Kn(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Ie(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return We=!0,Ie(n,r)};le.times=le.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+t,s[a--]=l%Ot|0,t=l/Ot|0;s[a]=(s[a]+t)%Ot|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,We?Ie(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ra(e,0,Pl),t===void 0?t=n.rounding:ra(t,0,8),Ie(r,e+ft(r)+1,t))};le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Fi(n,!0):(ra(e,0,Pl),t===void 0?t=a.rounding:ra(t,0,8),n=Ie(new a(n),e+1,t),r=Fi(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Fi(a):(ra(e,0,Pl),t===void 0?t=s.rounding:ra(t,0,8),n=Ie(new s(a),e+ft(a)+1,t),r=Fi(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ft(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ar);if(l=new c(l),!l.s){if(e.s<1)throw Error(ln+"Infinity");return l}if(l.eq(Ar))return l;if(n=c.precision,e.eq(Ar))return Ie(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=e4){for(a=new c(Ar),t=Math.ceil(n/Fe+4),We=!1;r%2&&(a=a.times(l),kS(a.d,t)),r=Ol(r/2),r!==0;)l=l.times(l),kS(l.d,t);return We=!0,e.s<0?new c(Ar).div(a):Ie(a,n)}}else if(s<0)throw Error(ln+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,a=e.times(hu(l,n+u)),We=!0,a=r4(a),a.s=s,a};le.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ft(a),n=Fi(a,r<=s.toExpNeg||r>=s.toExpPos)):(ra(e,1,Pl),t===void 0?t=s.rounding:ra(t,0,8),a=Ie(new s(a),e,t),r=ft(a),n=Fi(a,e<=r||r<=s.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ra(e,1,Pl),t===void 0?t=n.rounding:ra(t,0,8)),Ie(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Fi(e,t<=r.toExpNeg||t>=r.toExpPos)};function t4(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?Ie(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Fe),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ot|0,c[s]%=Ot;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,We?Ie(t,f):t}function ra(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Si+e)}function Kn(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=as(r)),s+=n;i=e[t],n=i+"",r=Fe-n.length,r&&(s+=as(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Ca=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Ot|0,i=s/Ot|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Ot+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,p,x,v,y,w,b,j,k,N,_,S,E=n.constructor,A=n.s==a.s?1:-1,C=n.d,O=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(ln+"Division by zero");for(c=n.e-a.e,_=O.length,k=C.length,h=new E(A),p=h.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,s==null?w=s=E.precision:i?w=s+(ft(n)-ft(a))+1:w=s,w<0)return new E(0);if(w=w/Fe+2|0,u=0,_==1)for(d=0,O=O[0],w++;(u<k||d)&&w--;u++)b=d*Ot+(C[u]||0),p[u]=b/O|0,d=b%O|0;else{for(d=Ot/(O[0]+1)|0,d>1&&(O=e(O,d),C=e(C,d),_=O.length,k=C.length),j=_,x=C.slice(0,_),v=x.length;v<_;)x[v++]=0;S=O.slice(),S.unshift(0),N=O[0],O[1]>=Ot/2&&++N;do d=0,l=t(O,x,_,v),l<0?(y=x[0],_!=v&&(y=y*Ot+(x[1]||0)),d=y/N|0,d>1?(d>=Ot&&(d=Ot-1),f=e(O,d),m=f.length,v=x.length,l=t(f,x,m,v),l==1&&(d--,r(f,_<m?S:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(O,x,_,v),l<1&&(d++,r(x,_<v?S:O,v))),v=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[v++]=C[j]||0:(x=[C[j]],v=1);while((j++<k||x[0]!==void 0)&&w--)}return p[0]||p.shift(),h.e=c,Ie(h,i?s+ft(h)+1:s)}}();function r4(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error(Iw+ft(e));if(!e.s)return new d(Ar);for(We=!1,l=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Js(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Ar),d.precision=l;;){if(a=Ie(a.times(e),l),r=r.times(++c),i=s.plus(Ca(a,r,l)),Kn(i.d).slice(0,l)===Kn(s.d).slice(0,l)){for(;u--;)s=Ie(s.times(s),l);return d.precision=f,t==null?(We=!0,Ie(s,f)):s}s=i}}function ft(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function m0(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(ln+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function as(e){for(var t="";e--;)t+="0";return t}function hu(e,t){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=e,p=h.d,x=h.constructor,v=x.precision;if(h.s<1)throw Error(ln+(h.s?"NaN":"-Infinity"));if(h.eq(Ar))return new x(0);if(t==null?(We=!1,u=v):u=t,h.eq(10))return t==null&&(We=!0),m0(x,u);if(u+=m,x.precision=u,r=Kn(p),n=r.charAt(0),s=ft(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Kn(h.d),n=r.charAt(0),f++;s=ft(h),n>1?(h=new x("0."+r),s++):h=new x(n+"."+r.slice(1))}else return c=m0(x,u+2,v).times(s+""),h=hu(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=v,t==null?(We=!0,Ie(h,v)):h;for(l=i=h=Ca(h.minus(Ar),h.plus(Ar),u),d=Ie(h.times(h),u),a=3;;){if(i=Ie(i.times(d),u),c=l.plus(Ca(i,new x(a),u)),Kn(c.d).slice(0,u)===Kn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(m0(x,u+2,v).times(s+""))),l=Ca(l,new x(f),u),x.precision=v,t==null?(We=!0,Ie(l,v)):l;l=c,a+=2}}function jS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ol(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Fe;n<a;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),We&&(e.e>oh||e.e<-oh))throw Error(Iw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Fe,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Fe,a=n-Fe+i}if(r!==void 0&&(s=Js(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Js(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ft(e),f.length=1,t=t-s-1,f[0]=Js(10,(Fe-t%Fe)%Fe),e.e=Ol(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Js(10,Fe-n),f[d]=a>0?(u/Js(10,i-a)%Js(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ot&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Ot)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(We&&(e.e>oh||e.e<-oh))throw Error(Iw+ft(e));return e}function n4(e,t){var r,n,a,s,i,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),We?Ie(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Fe),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Ot-1;--c[s],c[a]+=Ot}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,We?Ie(t,h):t):new m(0)}function Fi(e,t,r){var n,a=ft(e),s=Kn(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+as(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+as(-a-1)+s,r&&(n=r-i)>0&&(s+=as(n))):a>=i?(s+=as(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+as(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=as(n))),e.s<0?"-"+s:s}function kS(e,t){if(e.length>t)return e.length=t,!0}function a4(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Si+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return jS(i,s.toString())}else if(typeof s!="string")throw Error(Si+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,yee.test(s))jS(i,s);else throw Error(Si+s)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=a4,a.config=a.set=xee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function xee(e){if(!e||typeof e!="object")throw Error(ln+"Object expected");var t,r,n,a=["precision",1,Pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ol(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Si+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Si+r+": "+n);return this}var Dw=a4(gee);Ar=new Dw(1);const Oe=Dw;var vee=e=>e,s4={},i4=e=>e===s4,NS=e=>function t(){return arguments.length===0||arguments.length===1&&i4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},o4=(e,t)=>e===1?t:NS(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==s4).length;return s>=e?t(...n):o4(e-s,NS(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(d=>i4(d)?l.shift():d);return t(...u,...l)}))}),bee=e=>o4(e.length,e),Lx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},wee=bee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),jee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vee;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},$x=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function l4(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function c4(e,t,r){for(var n=new Oe(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var u4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},d4=(e,t,r)=>{if(e.lte(0))return new Oe(0);var n=l4(e.toNumber()),a=new Oe(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new Oe(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?new Oe(c.toNumber()):new Oe(Math.ceil(c.toNumber()))},kee=(e,t,r)=>{var n=new Oe(1),a=new Oe(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Oe(10).pow(l4(e)-1),a=new Oe(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Oe(Math.floor(e)))}else e===0?a=new Oe(Math.floor((t-1)/2)):r||(a=new Oe(Math.floor(e)));var i=Math.floor((t-1)/2),l=jee(wee(c=>a.add(new Oe(c-i).mul(n)).toNumber()),Lx);return l(0,t)},f4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var i=d4(new Oe(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Oe(0):(l=new Oe(t).add(r).div(2),l=l.sub(new Oe(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),u=Math.ceil(new Oe(r).sub(l).div(i).toNumber()),d=c+u+1;return d>n?f4(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:l.sub(new Oe(c).mul(i)),tickMax:l.add(new Oe(u).mul(i))})},Nee=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,c]=u4([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Lx(0,a-1).map(()=>1/0)]:[...Lx(0,a-1).map(()=>-1/0),c];return r>n?$x(u):u}if(l===c)return kee(l,a,s);var{step:d,tickMin:f,tickMax:m}=f4(l,c,i,s,0),h=c4(f,m.add(new Oe(.1).mul(d)),d);return r>n?$x(h):h},See=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=u4([n,a]);if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(r,2),u=d4(new Oe(l).sub(i).div(c-1),s,0),d=[...c4(new Oe(i),new Oe(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?$x(d):d},m4=e=>e.rootProps.maxBarSize,_ee=e=>e.rootProps.barGap,h4=e=>e.rootProps.barCategoryGap,Eee=e=>e.rootProps.barSize,Fp=e=>e.rootProps.stackOffset,p4=e=>e.rootProps.reverseStackOrder,Rw=e=>e.options.chartName,Lw=e=>e.rootProps.syncId,g4=e=>e.rootProps.syncMethod,$w=e=>e.options.eventEmitter,lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xa.angleAxisId,includeHidden:!1,name:void 0,reversed:xa.reversed,scale:xa.scale,tick:xa.tick,tickCount:void 0,ticks:void 0,type:xa.type,unit:void 0},Pee={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:Pr.type,unit:void 0},Oee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xa.scale,tick:xa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Aee={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:"category",unit:void 0},zw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Oee:Cee,Fw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Aee:Pee,Up=e=>e.polarOptions,Bw=W([Ka,qa,Rt],JQ),y4=W([Up,Bw],(e,t)=>{if(e!=null)return Mn(e.innerRadius,t,0)}),x4=W([Up,Bw],(e,t)=>{if(e!=null)return Mn(e.outerRadius,t,t*.8)}),Mee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},v4=W([Up],Mee);W([zw,v4],Bp);var b4=W([Bw,y4,x4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([Fw,b4],Bp);var w4=W([Ce,Up,y4,x4,Ka,qa],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=t;return{cx:Mn(i,a,a/2),cy:Mn(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),jt=(e,t)=>t,Hp=(e,t,r)=>r;function Uw(e){return e==null?void 0:e.id}function j4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Uw(l);u.forEach((f,m)=>{var h=s==null||a?m:String(Je(f,s,null)),p=Je(f,l.dataKey,0),x;i.has(h)?x=i.get(h):x={},Object.assign(x,{[d]:p}),i.set(h,x)})}}),Array.from(i.values())}function Vp(e){return e.stackId!=null&&e.dataKey!=null}var Wp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Kp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Tee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var kt=e=>{var t=Ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Al=e=>e.tooltip.settings.axisId;function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){Iee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iee(e,t,r){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dee(e){var t=Ree(e,"string");return typeof t=="symbol"?t:t+""}function Ree(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zx=[0,"auto"],Et={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},k4=(e,t)=>e.cartesianAxis.xAxis[t],la=(e,t)=>{var r=k4(e,t);return r??Et},Ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xu},N4=(e,t)=>e.cartesianAxis.yAxis[t],ca=(e,t)=>{var r=N4(e,t);return r??Ct},S4={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Hw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??S4},cr=(e,t,r)=>{switch(t){case"xAxis":return la(e,r);case"yAxis":return ca(e,r);case"zAxis":return Hw(e,r);case"angleAxis":return zw(e,r);case"radiusAxis":return Fw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lee=(e,t,r)=>{switch(t){case"xAxis":return la(e,r);case"yAxis":return ca(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},id=(e,t,r)=>{switch(t){case"xAxis":return la(e,r);case"yAxis":return ca(e,r);case"angleAxis":return zw(e,r);case"radiusAxis":return Fw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function E4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var od=e=>e.graphicalItems.cartesianItems,$ee=W([jt,Hp],E4),C4=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ld=W([od,cr,$ee],C4,{memoizeOptions:{resultEqualityCheck:Kp}}),P4=W([ld],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vp)),O4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),zee=W([ld],O4),A4=e=>e.map(t=>t.data).filter(Boolean).flat(1),Fee=W([ld],A4,{memoizeOptions:{resultEqualityCheck:Kp}}),M4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Vw=W([Fee,sd],M4),T4=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Je(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Je(a,n)}))):e.map(n=>({value:n})),qp=W([Vw,cr,ld],T4);function I4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uf(e){if(sn(e)||e instanceof Date){var t=Number(e);if(Ue(t))return t}}function _S(e){if(Array.isArray(e)){var t=[Uf(e[0]),Uf(e[1])];return Is(t)?t:void 0}var r=Uf(e);if(r!=null)return[r,r]}function Ba(e){return e.map(Uf).filter(Lq)}function Bee(e,t,r){return!r||typeof t!="number"||zr(t)?[]:r.length?Ba(r.flatMap(n=>{var a=Je(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Ue(s)||!Ue(i)))return[t-s,t+i]})):[]}var Nt=e=>{var t=kt(e),r=Al(e);return id(e,t,r)},cd=W([Nt],e=>e==null?void 0:e.dataKey),Uee=W([P4,sd,Nt],j4),D4=(e,t,r,n)=>{var a={},s=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[l,c]=i,u=n?[...c].reverse():c,d=u.map(Uw);return[l,{stackedData:RG(e,d,r),graphicalItems:u}]}))},Fx=W([Uee,P4,Fp,p4],D4),R4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=BG(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Hee=W([cr],e=>e.allowDataOverflow),Ww=e=>{var t;if(e==null||!("domain"in e))return zx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ba(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:zx},L4=W([cr],Ww),$4=W([L4,Hee],JI),Vee=W([Fx,Ws,jt,$4],R4,{memoizeOptions:{resultEqualityCheck:Wp}}),Kw=e=>e.errorBars,Wee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>I4(r,n)),ch=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},z4=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>I4(a,y)),m=Je(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=Bee(l,m,f);if(h.length>=2){var p=Math.min(...h),x=Math.max(...h);(s==null||p<s)&&(s=p),(i==null||x>i)&&(i=x)}var v=_S(m);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),i=i==null?v[1]:Math.max(i,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=_S(Je(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),Ue(s)&&Ue(i))return[s,i]},Kee=W([Vw,cr,zee,Kw,jt],z4,{memoizeOptions:{resultEqualityCheck:Wp}});function qee(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var Yee=(e,t,r)=>{var n=e.map(qee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&RM(n))?wI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},F4=e=>e.referenceElements.dots,Ml=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Gee=W([F4,jt,Hp],Ml),B4=e=>e.referenceElements.areas,Xee=W([B4,jt,Hp],Ml),U4=e=>e.referenceElements.lines,Qee=W([U4,jt,Hp],Ml),H4=(e,t)=>{var r=Ba(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zee=W(Gee,jt,H4),V4=(e,t)=>{var r=Ba(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Jee=W([Xee,jt],V4);function ete(e){var t;if(e.x!=null)return Ba([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ba(r)}function tte(e){var t;if(e.y!=null)return Ba([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ba(r)}var W4=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?ete(n):tte(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rte=W([Qee,jt],W4),nte=W(Zee,rte,Jee,(e,t,r)=>ch(e,r,t)),K4=(e,t,r,n,a,s,i,l)=>{if(r!=null)return r;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?ch(n,s,a):ch(s,a);return pee(t,u,e.allowDataOverflow)},ate=W([cr,L4,$4,Vee,Kee,nte,Ce,jt],K4,{memoizeOptions:{resultEqualityCheck:Wp}}),ste=[0,1],q4=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:l,type:c}=e,u=Us(t,s);if(u&&l==null){var d;return wI(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Yee(n,e,u):a==="expand"?ste:i}},qw=W([cr,Ce,Vw,qp,Fp,jt,ate],q4),Y4=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Vu(s));return l in mc?l:"point"}}},ud=W([cr,Ce,_4,Rw,jt],Y4);function ite(e){if(e!=null){if(e in mc)return mc[e]();var t="scale".concat(Vu(e));if(t in mc)return mc[t]()}}function Yw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=ite(t);if(a!=null){var s=a.domain(r).range(n);return AG(s),s}}}var G4=(e,t,r)=>{var n=Ww(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Is(e))return Nee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Is(e))return See(e,t.tickCount,t.allowDecimals)}},Gw=W([qw,id,ud],G4),X4=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Is(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(i,l)]}return t},ote=W([cr,qw,Gw,jt],X4),lte=W(qp,cr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ba(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),Q4=W(lte,Ce,h4,Rt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ue(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=Mn(r,e*s),l=e*s/2;return l-i-(l-i)/s*i}return 0}),cte=(e,t)=>{var r=la(e,t);return r==null||typeof r.padding!="string"?0:Q4(e,"xAxis",t,r.padding)},ute=(e,t)=>{var r=ca(e,t);return r==null||typeof r.padding!="string"?0:Q4(e,"yAxis",t,r.padding)},dte=W(la,cte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),fte=W(ca,ute,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),mte=W([Rt,dte,Pp,Cp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),hte=W([Rt,Ce,fte,Pp,Cp,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),dd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return mte(e,r,n);case"yAxis":return hte(e,r,n);case"zAxis":return(a=Hw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return v4(e);case"radiusAxis":return b4(e,r);default:return}},Z4=W([cr,dd],Bp),Ds=W([cr,ud,ote,Z4],Yw);W([ld,Kw,jt],Wee);function J4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yp=(e,t)=>t,Gp=(e,t,r)=>r,pte=W(_p,Yp,Gp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(J4)),gte=W(Ep,Yp,Gp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(J4)),eD=(e,t)=>({width:e.width,height:t.height}),yte=(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}},tD=W(Rt,la,eD),xte=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},bte=W(qa,Rt,pte,Yp,Gp,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=eD(t,l);i==null&&(i=xte(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),wte=W(Ka,Rt,gte,Yp,Gp,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=yte(t,l);i==null&&(i=vte(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),jte=(e,t)=>{var r=la(e,t);if(r!=null)return bte(e,r.orientation,r.mirror)},kte=W([Rt,la,jte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Nte=(e,t)=>{var r=ca(e,t);if(r!=null)return wte(e,r.orientation,r.mirror)},Ste=W([Rt,ca,Nte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),rD=W(Rt,ca,(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}}),ES=(e,t,r)=>{switch(t){case"xAxis":return tD(e,r).width;case"yAxis":return rD(e,r).height;default:return}},nD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,l=Us(e,n),c=t.map(u=>u.value);if(i&&l&&s==="category"&&a&&RM(c))return c}},Xw=W([Ce,qp,cr,jt],nD),aD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Us(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},Qw=W([Ce,qp,id,jt],aD),CS=W([Ce,Lee,ud,Ds,Xw,Qw,dd,Gw,jt],(e,t,r,n,a,s,i,l,c)=>{if(t!=null){var u=Us(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:r,scale:n}}}),_te=(e,t,r,n,a,s,i,l,c)=>{if(!(t==null||n==null)){var u=Us(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&s!=null&&s.length>=2?vr(s[0]-s[1])*2*p:p;var x=f||a;if(x){var v=x.map((y,w)=>{var b=i?i.indexOf(y):y;return{index:w,coordinate:n(b)+p,value:y,offset:p}});return v.filter(y=>Ue(y.coordinate))}return u&&l?l.map((y,w)=>({coordinate:n(y)+p,value:y,index:w,offset:p})).filter(y=>Ue(y.coordinate)):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,w)=>({coordinate:n(y)+p,value:i?i[y]:y,index:w,offset:p}))}},sD=W([Ce,id,ud,Ds,Gw,dd,Xw,Qw,jt],_te),Ete=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Us(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?vr(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},na=W([Ce,id,Ds,dd,Xw,Qw,jt],Ete),aa=W(cr,Ds,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})}),Cte=W([cr,ud,qw,Z4],Yw),Pte=W((e,t,r)=>Hw(e,r),Cte,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})}),Ote=W([Ce,_p,Ep],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iD=e=>e.options.defaultTooltipEventType,oD=e=>e.options.validateTooltipEventTypes;function lD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Zw(e,t){var r=iD(e),n=oD(e);return lD(t,r,n)}function Ate(e){return oe(t=>Zw(t,e))}var cD=(e,t)=>{var r,n=Number(t);if(!(zr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Mte=e=>e.tooltip.settings,cs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Tte={itemInteraction:{click:cs,hover:cs},axisInteraction:{click:cs,hover:cs},keyboardInteraction:cs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uD=Er({name:"tooltip",initialState:Tte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:He()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Pn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:He()},removeTooltipEntrySettings:{reducer(e,t){var r=Pn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:He()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Ite,replaceTooltipEntrySettings:Dte,removeTooltipEntrySettings:Rte,setTooltipSettingsState:Lte,setActiveMouseOverItemIndex:dD,mouseLeaveItem:$te,mouseLeaveChart:fD,setActiveClickItemIndex:zte,setMouseOverAxisIndex:mD,setMouseClickAxisIndex:Fte,setSyncInteraction:Bx,setKeyboardInteraction:Ux}=uD.actions,Bte=uD.reducer;function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t,r){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hte(e){var t=Vte(e,"string");return typeof t=="symbol"?t:t+""}function Vte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Kte(e){return e.index!=null}var hD=(e,t,r,n)=>{if(t==null)return cs;var a=Wte(e,t,r);if(a==null)return cs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Kte(a)){if(s)return df(df({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return df(df({},cs),{},{coordinate:a.coordinate})};function qte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Yte(e,t){var r=qte(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function Gte(e,t,r){if(r==null||t==null)return!0;var n=Je(e,t);return n==null||!Is(r)?!0:Yte(n,r)}var Jw=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Ue(s))return a;var i=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(i,Math.min(s,l)),u=t[c];return u==null||Gte(u,r,n)?String(c):null},pD=(e,t,r,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},gD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},fd=e=>e.options.tooltipPayloadSearcher,Tl=e=>e.tooltip;function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){Xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xte(e,t,r){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=Zte(e,"string");return typeof t=="symbol"?t:t+""}function Zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jte(e,t){return e??t}var yD=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var p,{dataDefinedOnItem:x,settings:v}=h,y=Jte(x,l),w=Array.isArray(y)?BT(y,u,d):y,b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&i==="axis"?k=LM(w,n,a):k=s(w,t,c,j),Array.isArray(k))k.forEach(_=>{var S=AS(AS({},v),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(h2({tooltipEntrySettings:S,dataKey:_.dataKey,payload:_.payload,value:Je(_.payload,_.dataKey),name:_.name}))});else{var N;m.push(h2({tooltipEntrySettings:v,dataKey:b,payload:k,value:Je(k,b),name:(N=Je(k,j))!==null&&N!==void 0?N:v==null?void 0:v.name}))}return m},f)}},e1=W([Nt,Ce,_4,Rw,kt],Y4),ere=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),tre=W([kt,Al],E4),md=W([ere,Nt,tre],C4,{memoizeOptions:{resultEqualityCheck:Kp}}),rre=W([md],e=>e.filter(Vp)),nre=W([md],A4,{memoizeOptions:{resultEqualityCheck:Kp}}),Il=W([nre,Ws],M4),are=W([rre,Ws,Nt],j4),t1=W([Il,Nt,md],T4),xD=W([Nt],Ww),sre=W([Nt],e=>e.allowDataOverflow),vD=W([xD,sre],JI),ire=W([md],e=>e.filter(Vp)),ore=W([are,ire,Fp,p4],D4),lre=W([ore,Ws,kt,vD],R4),cre=W([md],O4),ure=W([Il,Nt,cre,Kw,kt],z4,{memoizeOptions:{resultEqualityCheck:Wp}}),dre=W([F4,kt,Al],Ml),fre=W([dre,kt],H4),mre=W([B4,kt,Al],Ml),hre=W([mre,kt],V4),pre=W([U4,kt,Al],Ml),gre=W([pre,kt],W4),yre=W([fre,gre,hre],ch),xre=W([Nt,xD,vD,lre,ure,yre,Ce,kt],K4),hd=W([Nt,Ce,Il,t1,Fp,kt,xre],q4),vre=W([hd,Nt,e1],G4),bre=W([Nt,hd,vre,kt],X4),bD=e=>{var t=kt(e),r=Al(e),n=!1;return dd(e,t,r,n)},wD=W([Nt,bD],Bp),jD=W([Nt,e1,bre,wD],Yw),wre=W([Ce,t1,Nt,kt],nD),jre=W([Ce,t1,Nt,kt],aD),kre=(e,t,r,n,a,s,i,l)=>{if(t){var{type:c}=t,u=Us(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?vr(a[0]-a[1])*2*f:f,u&&i?i.map((m,h)=>({coordinate:n(m)+f,value:m,index:h,offset:f})):n.domain().map((m,h)=>({coordinate:n(m)+f,value:s?s[m]:m,index:h,offset:f}))}}},Ga=W([Ce,Nt,e1,jD,bD,wre,jre,kt],kre),r1=W([iD,oD,Mte],(e,t,r)=>lD(r.shared,e,t)),kD=e=>e.tooltip.settings.trigger,n1=e=>e.tooltip.settings.defaultIndex,pd=W([Tl,r1,kD,n1],hD),Rs=W([pd,Il,cd,hd],Jw),ND=W([Ga,Rs],cD),SD=W([pd],e=>{if(e)return e.dataKey});W([pd],e=>{if(e)return e.graphicalItemId});var _D=W([Tl,r1,kD,n1],gD),Nre=W([Ka,qa,Ce,Rt,Ga,n1,_D,fd],pD),Sre=W([pd,Nre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_re=W([pd],e=>e.active),Ere=W([_D,Rs,Ws,cd,ND,fd,r1],yD),Cre=W([Ere],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){Pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pre(e,t,r){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ore(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mre=()=>oe(Nt),Tre=()=>{var e=Mre(),t=oe(Ga),r=oe(jD);return ul(!e||!r?void 0:TS(TS({},e),{},{scale:r}),t)};function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lre=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},$re=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return to(to(to({},n),Ut(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return to(to(to({},n),Ut(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function zre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var ED=(e,t,r,n,a)=>{var s,i=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(vr(d-u)!==vr(f-d)){var h=[];if(vr(f-d)===vr(a[1]-a[0])){m=f;var p=d+a[1]-a[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{m=u;var x=f+a[1]-a[0];h[0]=Math.min(d,(x+d)/2),h[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){({index:i}=r[c]);break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+d)/2&&e<=(w+d)/2){({index:i}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:i}=t[b]);break}}return i},Fre=()=>oe(Rw),a1=(e,t)=>t,CD=(e,t,r)=>r,s1=(e,t,r,n)=>n,Bre=W(Ga,e=>yp(e,t=>t.coordinate)),i1=W([Tl,a1,CD,s1],hD),o1=W([i1,Il,cd,hd],Jw),Ure=(e,t,r)=>{if(t!=null){var n=Tl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},PD=W([Tl,a1,CD,s1],gD),uh=W([Ka,qa,Ce,Rt,Ga,s1,PD,fd],pD),Hre=W([i1,uh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),OD=W([Ga,o1],cD),Vre=W([PD,o1,Ws,cd,OD,fd,a1],yD),Wre=W([i1,o1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Kre=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&zre(e,i)){var l=UG(e,t),c=ED(l,s,a,r,n),u=Lre(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},qre=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var l=aZ(e,r);if(l){var c=HG(l,t),u=ED(c,i,s,n,a),d=$re(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Yre=(e,t,r,n,a,s,i,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Kre(e,t,n,a,s,i,l):qre(e,t,r,n,a,s,i)},Gre=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Xre=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(lt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Tee}});function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){Qre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qre(e,t,r){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zre(e){var t=Jre(e,"string");return typeof t=="symbol"?t:t+""}function Jre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ene={},tne={zIndexMap:Object.values(lt).reduce((e,t)=>RS(RS({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),ene)},rne=new Set(Object.values(lt));function nne(e){return rne.has(e)}var AD=Er({name:"zIndex",initialState:tne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:He()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!nne(r)&&delete e.zIndexMap[r])},prepare:He()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:He()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:He()}}}),{registerZIndexPortal:ane,unregisterZIndexPortal:sne,registerZIndexPortalId:ine,unregisterZIndexPortalId:one}=AD.actions,lne=AD.reducer;function ur(e){var{zIndex:t,children:r}=e,n=gX(),a=n&&t!==void 0&&t!==0,s=bt(),i=Ye();g.useLayoutEffect(()=>a?(i(ane({zIndex:t})),()=>{i(sne({zIndex:t}))}):Wu,[i,t,a]);var l=oe(u=>Gre(u,t,s));if(!a)return r;if(!l)return null;var c=document.getElementById(l);return c?Eu.createPortal(r,c):null}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t,r){return(t=une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fne(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function mne(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=xQ,v=lt.cursorLine;else if(d==="BarChart")p=vQ(l,f,s,i),x=hI,v=lt.cursorRectangle;else if(l==="radial"&&zM(f)){var{cx:y,cy:w,radius:b,startAngle:j,endAngle:k}=pI(f);p={cx:y,cy:w,startAngle:j,endAngle:k,innerRadius:b,outerRadius:b},x=yI,v=lt.cursorLine}else p={points:lZ(l,f,s)},x=mw,v=lt.cursorLine;var N=typeof c=="object"&&"className"in c?c.className:void 0,_=ff(ff(ff(ff({stroke:"#ccc",pointerEvents:"none"},s),p),_l(c)),{},{payload:m,payloadIndex:h,className:Ee("recharts-tooltip-cursor",N)});return g.createElement(ur,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},g.createElement(fne,{cursor:c,cursorComp:x,cursorProps:_}))}function hne(e){var t=Tre(),r=eI(),n=Qu(),a=Fre();return t==null||r==null||n==null||a==null?null:g.createElement(mne,Hx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var MD=g.createContext(null),pne=()=>g.useContext(MD),TD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,p),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var j=v.length,k;for(b=0;b<j;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,m);break;default:if(!w)for(k=1,w=new Array(y-1);k<y;k++)w[k-1]=arguments[k];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var x=0,v=[],y=p.length;x<y;x++)(p[x].fn!==d||m&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[h]=v.length===1?v[0]:v:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(TD);var gne=TD.exports;const yne=sa(gne);var pu=new yne,Vx="recharts.syncEvent.tooltip",$S="recharts.syncEvent.brush";function l1(e,t){if(t){var r=Number.parseInt(t,10);if(!zr(r))return e==null?void 0:e[r]}}var xne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ID=Er({name:"options",initialState:xne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vne=ID.reducer,{createEventEmitter:bne}=ID.actions;function wne(e){return e.tooltip.syncInteraction}var jne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},DD=Er({name:"chartData",initialState:jne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:zS,setDataStartEndIndexes:kne,setComputedData:Hfe}=DD.actions,Nne=DD.reducer,Sne=["x","y"];function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){_ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ne(e,t,r){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=Cne(e,"string");return typeof t=="symbol"?t:t+""}function Cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pne(e,t){if(e==null)return{};var r,n,a=One(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function One(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ane(){var e=oe(Lw),t=oe($w),r=Ye(),n=oe(g4),a=oe(Ga),s=Qu(),i=Cl(),l=oe(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return Wu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(i&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:p,y:x}=h,v=Pne(h,Sne),{x:y,y:w,width:b,height:j}=d.payload.sourceViewBox,k=ro(ro({},v),{},{x:i.x+(b?(p-y)/b:0)*i.width,y:i.y+(j?(x-w)/j:0)*i.height});r(ro(ro({},d),{},{payload:ro(ro({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var N;if(typeof n=="function"){var _={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,_);N=a[S]}else n==="value"&&(N=a.find(D=>String(D.value)===d.payload.label));var{coordinate:E}=d.payload;if(N==null||d.payload.active===!1||E==null||i==null){r(Bx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:C}=E,O=Math.min(A,i.x+i.width),I=Math.min(C,i.y+i.height),M={x:s==="horizontal"?N.coordinate:O,y:s==="horizontal"?I:N.coordinate},L=Bx({active:d.payload.active,coordinate:M,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(L)}}};return pu.on(Vx,c),()=>{pu.off(Vx,c)}},[l,r,t,e,n,a,s,i])}function Mne(){var e=oe(Lw),t=oe($w),r=Ye();g.useEffect(()=>{if(e==null)return Wu;var n=(a,s,i)=>{t!==i&&e===a&&r(kne(s))};return pu.on($S,n),()=>{pu.off($S,n)}},[r,t,e])}function Tne(){var e=Ye();g.useEffect(()=>{e(bne())},[e]),Ane(),Mne()}function Ine(e,t,r,n,a,s){var i=oe(h=>Ure(h,e,t)),l=oe($w),c=oe(Lw),u=oe(g4),d=oe(wne),f=d==null?void 0:d.active,m=Cl();g.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Bx({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});pu.emit(Vx,c,h,l)}},[f,r,i,a,n,l,c,u,s,m])}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){Dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dne(e,t,r){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rne(e){var t=Lne(e,"string");return typeof t=="symbol"?t:t+""}function Lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ne(e){return e.dataKey}function zne(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(QX,t)}var HS=[],Fne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mf(e){var t,r,n=ht(e,Fne),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:y,shared:w,trigger:b,defaultIndex:j,portal:k,axisId:N}=n,_=Ye(),S=typeof j=="number"?String(j):j;g.useEffect(()=>{_(Lte({shared:w,trigger:b,axisId:N,active:a,defaultIndex:S}))},[_,w,b,N,a,S]);var E=Cl(),A=cI(),C=Ate(w),{activeIndex:O,isActive:I}=(t=oe(G=>Wre(G,C,b,S)))!==null&&t!==void 0?t:{},M=oe(G=>Vre(G,C,b,S)),L=oe(G=>OD(G,C,b,S)),D=oe(G=>Hre(G,C,b,S)),R=M,T=pne(),P=(r=a??I)!==null&&r!==void 0?r:!1,[$,F]=dT([R,P]),H=C==="axis"?L:void 0;Ine(C,b,D,H,O,P);var B=k??T;if(B==null||E==null||C==null)return null;var Y=R??HS;P||(Y=HS),u&&Y.length&&(Y=nT(Y.filter(G=>G.value!=null&&(G.hide!==!0||n.includeHidden)),m,$ne));var X=Y.length>0,Q=g.createElement(aQ,{allowEscapeViewBox:s,animationDuration:i,animationEasing:l,isAnimationActive:d,active:P,coordinate:D,hasPayload:X,offset:f,position:h,reverseDirection:p,useTranslate3d:x,viewBox:E,wrapperStyle:v,lastBoundingBox:$,innerRef:F,hasPortalFromProps:!!k},zne(c,US(US({},n),{},{payload:Y,label:H,active:P,activeIndex:O,coordinate:D,accessibilityLayer:A})));return g.createElement(g.Fragment,null,Eu.createPortal(Q,B),P&&g.createElement(hne,{cursor:y,tooltipEventType:C,coordinate:D,payload:Y,index:O}))}var c1=e=>null;c1.displayName="Cell";function Bne(e,t,r){return(t=Une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Une(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vne{constructor(t){Bne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){Kne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kne(e,t,r){return(t=qne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gne={cacheSize:2e3,enableCache:!0},RD=Wne({},Gne),WS=new Vne(RD.cacheSize),Xne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KS="recharts_measurement_span";function Qne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var qS=(e,t)=>{try{var r=document.getElementById(KS);r||(r=document.createElement("span"),r.setAttribute("id",KS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Xne,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ec=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ju.isSsr)return{width:0,height:0};if(!RD.enableCache)return qS(t,r);var n=Qne(t,r),a=WS.get(n);if(a)return a;var s=qS(t,r);return WS.set(n,s),s},YS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eae=Object.keys(LD),bo="NaN";function tae(e,t){return e*LD[t]}class hr{static parse(t){var r,[,n,a]=(r=Jne.exec(t))!==null&&r!==void 0?r:[];return new hr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,zr(t)&&(this.unit=""),r!==""&&!Zne.test(r)&&(this.num=NaN,this.unit=""),eae.includes(r)&&(this.num=tae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return zr(this.num)}}function $D(e){if(e.includes(bo))return bo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=YS.exec(t))!==null&&r!==void 0?r:[],i=hr.parse(n??""),l=hr.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return bo;t=t.replace(YS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=GS.exec(t))!==null&&u!==void 0?u:[],h=hr.parse(d??""),p=hr.parse(m??""),x=f==="+"?h.add(p):h.subtract(p);if(x.isNaN())return bo;t=t.replace(GS,x.toString())}return t}var XS=/\(([^()]*)\)/;function rae(e){for(var t=e,r;(r=XS.exec(t))!=null;){var[,n]=r;t=t.replace(XS,$D(n))}return t}function nae(e){var t=e.replace(/\s+/g,"");return t=rae(t),t=$D(t),t}function aae(e){try{return nae(e)}catch{return bo}}function h0(e){var t=aae(e.slice(5,-1));return t===bo?"":t}var sae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],iae=["dx","dy","angle","className","breakAll"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function QS(e,t){if(e==null)return{};var r,n,a=oae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zD=/[ \f\n\r\t\v\u2028\u2029]+/,FD=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ae(t)||(r?a=t.toString().split(""):a=t.toString().split(zD));var s=a.map(l=>({word:l,width:Ec(l,n).width})),i=r?0:Ec("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function lae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var BD=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(i),c.width+=l+r;else{var u={words:[i],width:l};a.push(u)}return a},[]),UD=e=>e.reduce((t,r)=>t.width>r.width?t:r),cae="",ZS=(e,t,r,n,a,s,i,l)=>{var c=e.slice(0,t),u=FD({breakAll:r,style:n,children:c+cae});if(!u)return[!1,[]];var d=BD(u.wordsWithComputedWidth,s,i,l),f=d.length>a||UD(d).width>Number(s);return[f,d]},uae=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=e,u=de(s),d=String(i),f=BD(t,n,r,a);if(!u||a)return f;var m=f.length>s||UD(f).width>Number(n);if(!m)return f;for(var h=0,p=d.length-1,x=0,v;h<=p&&x<=d.length-1;){var y=Math.floor((h+p)/2),w=y-1,[b,j]=ZS(d,w,c,l,s,n,r,a),[k]=ZS(d,y,c,l,s,n,r,a);if(!b&&!k&&(h=y+1),b&&k&&(p=y-1),!b&&k){v=j;break}x++}return v||f},JS=e=>{var t=Ae(e)?[]:e.toString().split(zD);return[{words:t,width:void 0}]},dae=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Ju.isSsr){var l,c,u=FD({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return JS(n);return uae({breakAll:s,children:n,maxLines:i,style:a},l,c,t,!!r)}return JS(n)},HD="#808080",fae={angle:0,breakAll:!1,capHeight:"0.71em",fill:HD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},u1=g.forwardRef((e,t)=>{var r=ht(e,fae),{x:n,y:a,lineHeight:s,capHeight:i,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=QS(r,sae),m=g.useMemo(()=>dae({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:p,angle:x,className:v,breakAll:y}=f,w=QS(f,iae);if(!sn(n)||!sn(a)||m.length===0)return null;var b=Number(n)+(de(h)?h:0),j=Number(a)+(de(p)?p:0);if(!Ue(b)||!Ue(j))return null;var k;switch(d){case"start":k=h0("calc(".concat(i,")"));break;case"middle":k=h0("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:k=h0("calc(".concat(m.length-1," * -").concat(s,")"));break}var N=[];if(c){var _=m[0].width,{width:S}=f;N.push("scale(".concat(de(S)&&de(_)?S/_:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(b,", ").concat(j,")")),N.length&&(w.transform=N.join(" ")),g.createElement("text",Wx({},Jt(w),{ref:t,x:b,y:j,className:Ee("recharts-text",v),textAnchor:u,fill:l.includes("url")?HD:l}),m.map((E,A)=>{var C=E.words.join(y?"":" ");return g.createElement("tspan",{x:b,dy:A===0?k:s,key:"".concat(C,"-").concat(A)},C)}))});u1.displayName="Text";var mae=["labelRef"];function hae(e,t){if(e==null)return{};var r,n,a=pae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gae(e,t,r){return(t=yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(null,arguments)}var VD=g.createContext(null),WD=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:l}=e,c=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return g.createElement(VD.Provider,{value:c},l)},KD=()=>{var e=g.useContext(VD),t=Cl();return e||JT(t)},vae=g.createContext(null),bae=()=>{var e=g.useContext(vae),t=oe(w4);return e||t},wae=e=>{var{value:t,formatter:r}=e,n=Ae(e.children)?t:e.children;return typeof r=="function"?r(n):n},d1=e=>e!=null&&typeof e=="function",jae=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},kae=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,p=(u+d)/2,x=jae(f,m),v=x>=0?1:-1,y,w;switch(t){case"insideStart":y=f+v*s,w=h;break;case"insideEnd":y=m-v*s,w=!h;break;case"end":y=m+v*s,w=h;break;default:throw new Error("Unsupported position ".concat(t))}w=x<=0?w:!w;var b=Ut(l,c,p,y),j=Ut(l,c,p,y+(w?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),N=Ae(e.id)?su("recharts-radial-line-"):e.id;return g.createElement("text",va({},n,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",i)}),g.createElement("defs",null,g.createElement("path",{id:N,d:k})),g.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Nae=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Ut(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+i)/2,{x:h,y:p}=Ut(n,a,m,u);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Kx=e=>"cx"in e&&de(e.cx),Sae=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Kx(r)&&(s=r);var{x:i,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=i,m=i+(c-u)/2,h=(f+m)/2,p=(c+u)/2,x=f+c/2,v=d>=0?1:-1,y=v*n,w=v>0?"end":"start",b=v>0?"start":"end",j=c>=0?1:-1,k=j*n,N=j>0?"end":"start",_=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:l-y,textAnchor:"middle",verticalAnchor:w};return it(it({},S),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var E={x:m+u/2,y:l+d+y,textAnchor:"middle",verticalAnchor:b};return it(it({},E),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var A={x:h-k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return it(it({},A),s?{width:Math.max(A.x-s.x,0),height:d}:{})}if(a==="right"){var C={x:h+p+k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return it(it({},C),s?{width:Math.max(s.x+s.width-C.x,0),height:d}:{})}var O=s?{width:p,height:d}:{};return a==="insideLeft"?it({x:h+k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},O):a==="insideRight"?it({x:h+p-k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideTop"?it({x:f+c/2,y:l+y,textAnchor:"middle",verticalAnchor:b},O):a==="insideBottom"?it({x:m+u/2,y:l+d-y,textAnchor:"middle",verticalAnchor:w},O):a==="insideTopLeft"?it({x:f+k,y:l+y,textAnchor:_,verticalAnchor:b},O):a==="insideTopRight"?it({x:f+c-k,y:l+y,textAnchor:N,verticalAnchor:b},O):a==="insideBottomLeft"?it({x:m+k,y:l+d-y,textAnchor:_,verticalAnchor:w},O):a==="insideBottomRight"?it({x:m+u-k,y:l+d-y,textAnchor:N,verticalAnchor:w},O):a&&typeof a=="object"&&(de(a.x)||Ra(a.x))&&(de(a.y)||Ra(a.y))?it({x:i+Mn(a.x,p),y:l+Mn(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):it({x,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},_ae={angle:0,offset:5,zIndex:lt.label,position:"middle",textBreakAll:!1};function ss(e){var t=ht(e,_ae),{viewBox:r,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=t,d=bae(),f=KD(),m=n==="center"?f:d??f,h,p,x;if(r==null?h=m:Kx(r)?h=r:h=JT(r),!h||Ae(a)&&Ae(s)&&!g.isValidElement(i)&&typeof i!="function")return null;var v=it(it({},t),{},{viewBox:h});if(g.isValidElement(i)){var{labelRef:y}=v,w=hae(v,mae);return g.cloneElement(i,w)}if(typeof i=="function"){if(p=g.createElement(i,v),g.isValidElement(p))return p}else p=wae(t);var b=Jt(t);if(Kx(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return kae(t,n,p,b,h);x=Nae(h,t.offset,t.position)}else x=Sae(t,h);return g.createElement(ur,{zIndex:t.zIndex},g.createElement(u1,va({ref:u,className:Ee("recharts-label",l)},b,x,{textAnchor:lae(b.textAnchor)?b.textAnchor:x.textAnchor,breakAll:c}),p))}ss.displayName="Label";var Eae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(ss,va({key:"label-implicit"},n)):sn(e)?g.createElement(ss,va({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===ss?g.cloneElement(e,it({key:"label-implicit"},n)):g.createElement(ss,va({key:"label-implicit",content:e},n)):d1(e)?g.createElement(ss,va({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(ss,va({},e,{key:"label-implicit"},n)):null};function qD(e){var{label:t,labelRef:r}=e,n=KD();return Eae(t,n,r)||null}var YD={},GD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(GD);var XD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(XD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GD,r=XD,n=gp;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(YD);var Cae=YD.last;const Pae=sa(Cae);var Oae=["valueAccessor"],Aae=["dataKey","clockWise","id","textBreakAll","zIndex"];function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(null,arguments)}function t_(e,t){if(e==null)return{};var r,n,a=Mae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tae=e=>Array.isArray(e.value)?Pae(e.value):e.value,QD=g.createContext(void 0),f1=QD.Provider,ZD=g.createContext(void 0);ZD.Provider;function Iae(){return g.useContext(QD)}function Dae(){return g.useContext(ZD)}function Hf(e){var{valueAccessor:t=Tae}=e,r=t_(e,Oae),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:l}=r,c=t_(r,Aae),u=Iae(),d=Dae(),f=u||d;return!f||!f.length?null:g.createElement(ur,{zIndex:l??lt.label},g.createElement(Dt,{className:"recharts-label-list"},f.map((m,h)=>{var p,x=Ae(n)?t(m,h):Je(m&&m.payload,n),v=Ae(s)?{}:{id:"".concat(s,"-").concat(h)};return g.createElement(ss,dh({key:"label-".concat(h)},Jt(m),c,v,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:i,viewBox:m.viewBox,index:h,zIndex:0}))})))}Hf.displayName="LabelList";function m1(e){var{label:t}=e;return t?t===!0?g.createElement(Hf,{key:"labelList-implicit"}):g.isValidElement(t)||d1(t)?g.createElement(Hf,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Hf,dh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(null,arguments)}var JD=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ee("recharts-dot",a);return de(t)&&de(r)&&de(n)?g.createElement("circle",qx({},$r(e),Fb(e),{className:s,cx:t,cy:r,r:n})):null},Rae={radiusAxis:{},angleAxis:{}},e3=Er({name:"polarAxis",initialState:Rae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Vfe,removeRadiusAxis:Wfe,addAngleAxis:Kfe,removeAngleAxis:qfe}=e3.actions,Lae=e3.reducer,t3={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1=Symbol.for("react.transitional.element"),p1=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),Jp=Symbol.for("react.consumer"),eg=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),ng=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),sg=Symbol.for("react.lazy"),$ae=Symbol.for("react.view_transition"),zae=Symbol.for("react.client.reference");function un(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case h1:switch(e=e.type,e){case Xp:case Zp:case Qp:case rg:case ng:case $ae:return e;default:switch(e=e&&e.$$typeof,e){case eg:case tg:case sg:case ag:return e;case Jp:return e;default:return t}}case p1:return t}}}De.ContextConsumer=Jp;De.ContextProvider=eg;De.Element=h1;De.ForwardRef=tg;De.Fragment=Xp;De.Lazy=sg;De.Memo=ag;De.Portal=p1;De.Profiler=Zp;De.StrictMode=Qp;De.Suspense=rg;De.SuspenseList=ng;De.isContextConsumer=function(e){return un(e)===Jp};De.isContextProvider=function(e){return un(e)===eg};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===h1};De.isForwardRef=function(e){return un(e)===tg};De.isFragment=function(e){return un(e)===Xp};De.isLazy=function(e){return un(e)===sg};De.isMemo=function(e){return un(e)===ag};De.isPortal=function(e){return un(e)===p1};De.isProfiler=function(e){return un(e)===Zp};De.isStrictMode=function(e){return un(e)===Qp};De.isSuspense=function(e){return un(e)===rg};De.isSuspenseList=function(e){return un(e)===ng};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xp||e===Zp||e===Qp||e===rg||e===ng||typeof e=="object"&&e!==null&&(e.$$typeof===sg||e.$$typeof===ag||e.$$typeof===eg||e.$$typeof===Jp||e.$$typeof===tg||e.$$typeof===zae||e.getModuleId!==void 0)};De.typeOf=un;t3.exports=De;var Fae=t3.exports,r_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",n_=null,p0=null,r3=e=>{if(e===n_&&Array.isArray(p0))return p0;var t=[];return g.Children.forEach(e,r=>{Ae(r)||(Fae.isFragment(r)?t=t.concat(r3(r.props.children)):t.push(r))}),p0=t,n_=e,t};function n3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>r_(a)):n=[r_(t)],r3(e).forEach(a=>{var s=ol(a,"type.displayName")||ol(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var a3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,s3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(s3);var Bae=s3.isPlainObject;const Uae=sa(Bae);function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){Hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hae(e,t,r){return(t=Vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vae(e){var t=Wae(e,"string");return typeof t=="symbol"?t:t+""}function Wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}var i_=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Kae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qae=e=>{var t=ht(e,Kae),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=g.useRef(null),[h,p]=g.useState(-1),x=g.useRef(a),v=g.useRef(s),y=g.useRef(i),w=g.useRef(r),b=g.useRef(n),j=td(e,"trapezoid-");if(g.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var M=m.current.getTotalLength();M&&p(M)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var k=Ee("recharts-trapezoid",l);if(!f)return g.createElement("g",null,g.createElement("path",fh({},Jt(t),{className:k,d:i_(r,n,a,s,i)})));var N=x.current,_=v.current,S=y.current,E=w.current,A=b.current,C="0px ".concat(h===-1?1:h,"px"),O="".concat(h,"px 0px"),I=uI(["strokeDasharray"],u,c);return g.createElement(ed,{animationId:j,key:j,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},M=>{var L=Le(N,a,M),D=Le(_,s,M),R=Le(S,i,M),T=Le(E,r,M),P=Le(A,n,M);m.current&&(x.current=L,v.current=D,y.current=R,w.current=T,b.current=P);var $=M>0?{transition:I,strokeDasharray:O}:{strokeDasharray:C};return g.createElement("path",fh({},Jt(t),{className:k,d:i_(T,P,L,D,R),ref:m,style:s_(s_({},$),t.style)}))})},Yae=["option","shapeType","propTransformer","activeClassName"];function Gae(e,t){if(e==null)return{};var r,n,a=Xae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){Qae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qae(e,t,r){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zae(e){var t=Jae(e,"string");return typeof t=="symbol"?t:t+""}function Jae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ese(e,t){return mh(mh({},t),e)}function tse(e,t){return e==="symbols"}function l_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(hI,r);case"trapezoid":return g.createElement(qae,r);case"sector":return g.createElement(yI,r);case"symbols":if(tse(t))return g.createElement(pp,r);break;case"curve":return g.createElement(mw,r);default:return null}}function rse(e){return g.isValidElement(e)?e.props:e}function hh(e){var{option:t,shapeType:r,propTransformer:n=ese,activeClassName:a="recharts-active-shape"}=e,s=Gae(e,Yae),i;if(g.isValidElement(t))i=g.cloneElement(t,mh(mh({},s),rse(t)));else if(typeof t=="function")i=t(s,s.index);else if(Uae(t)&&typeof t!="boolean"){var l=n(t,s);i=g.createElement(l_,{shapeType:r,elementProps:l})}else{var c=s;i=g.createElement(l_,{shapeType:r,elementProps:c})}return s.isActive?g.createElement(Dt,{className:a},i):i}var g1=(e,t,r)=>{var n=Ye();return(a,s)=>i=>{e==null||e(a,s,i),n(dD({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},y1=e=>{var t=Ye();return(r,n)=>a=>{e==null||e(r,n,a),t($te())}},x1=(e,t,r)=>{var n=Ye();return(a,s)=>i=>{e==null||e(a,s,i),n(zte({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function v1(e){var{tooltipEntrySettings:t}=e,r=Ye(),n=bt(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(Ite(t)):a.current!==t&&r(Dte({prev:a.current,next:t})),a.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{a.current&&(r(Rte(a.current)),a.current=null)},[r]),null}function b1(e){var{legendPayload:t}=e,r=Ye(),n=bt(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(OX(t)):a.current!==t&&r(AX({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(MX(a.current)),a.current=null)},[r]),null}var g0,nse=()=>{var[e]=g.useState(()=>su("uid-"));return e},ase=(g0=nR.useId)!==null&&g0!==void 0?g0:nse;function i3(e,t){var r=ase();return t||(e?"".concat(e,"-").concat(r):r)}var sse=g.createContext(void 0),w1=e=>{var{id:t,type:r,children:n}=e,a=i3("recharts-".concat(r),t);return g.createElement(sse.Provider,{value:a},n(a))},ise={cartesianItems:[],polarItems:[]},o3=Er({name:"graphicalItems",initialState:ise,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:He()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Pn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:He()},removeCartesianGraphicalItem:{reducer(e,t){var r=Pn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:He()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:He()},removePolarGraphicalItem:{reducer(e,t){var r=Pn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:He()}}}),{addCartesianGraphicalItem:ose,replaceCartesianGraphicalItem:lse,removeCartesianGraphicalItem:cse,addPolarGraphicalItem:Yfe,removePolarGraphicalItem:Gfe}=o3.actions,use=o3.reducer,dse=e=>{var t=Ye(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(ose(e)):r.current!==e&&t(lse({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(cse(r.current)),r.current=null)},[t]),null},j1=g.memo(dse),fse=["points"];function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mse(e,t,r){return(t=hse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hse(e){var t=pse(e,"string");return typeof t=="symbol"?t:t+""}function pse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function gse(e,t){if(e==null)return{};var r,n,a=yse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xse(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Ee(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,l=gse(s,fse);return g.createElement(JD,ph({},l,{className:a}))}function vse(e,t){return e==null?!1:t?!0:e.length===1}function bse(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:l,clipPathId:c,zIndex:u=lt.scatter}=e;if(!vse(t,r))return null;var d=a3(r),f=qK(r),m=t.map((p,x)=>{var v,y,w=y0(y0(y0({r:3},i),f),{},{index:x,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(y=p.y)!==null&&y!==void 0?y:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return g.createElement(xse,{key:"dot-".concat(x),option:r,dotProps:w,className:a})}),h={};return l&&c!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),g.createElement(ur,{zIndex:u},g.createElement(Dt,ph({className:n},h),m))}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wse(e,t,r){return(t=jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jse(e){var t=kse(e,"string");return typeof t=="symbol"?t:t+""}function kse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nse={xAxis:{},yAxis:{},zAxis:{}},l3=Er({name:"cartesianAxis",initialState:Nse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:He()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:He()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:He()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:He()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:He()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:He()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:He()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:He()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:He()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=d_(d_({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:Sse,replaceXAxis:_se,removeXAxis:Ese,addYAxis:Cse,replaceYAxis:Pse,removeYAxis:Ose,addZAxis:Xfe,replaceZAxis:Qfe,removeZAxis:Zfe,updateYAxisWidth:Ase}=l3.actions,Mse=l3.reducer,Tse=W([Rt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Ise=W([Tse,Ka,qa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),k1=()=>oe(Ise),Dse=()=>oe(Cre);function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){Rse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rse(e,t,r){return(t=Lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lse(e){var t=$se(e,"string");return typeof t=="symbol"?t:t+""}function $se(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zse=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=x0(x0(x0({},l),_l(a)),Fb(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,c):typeof a=="function"?u=a(c):u=g.createElement(JD,c),g.createElement(Dt,{className:"recharts-active-dot",clipPath:i},u)};function Fse(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=lt.activeDot}=e,l=oe(Rs),c=Dse();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Ae(u)?null:g.createElement(ur,{zIndex:i},g.createElement(zse,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Bse="Invariant failed";function Use(e,t){throw new Error(Bse)}var Hse=["x","y"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(null,arguments)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){Vse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vse(e,t,r){return(t=Wse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=Kse(e,"string");return typeof t=="symbol"?t:t+""}function Kse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qse(e,t){if(e==null)return{};var r,n,a=Yse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gse(e,t){var{x:r,y:n}=e,a=qse(e,Hse),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return ac(ac(ac(ac(ac({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function gh(e){return g.createElement(hh,Yx({shapeType:"rectangle",propTransformer:Gse,activeClassName:"recharts-active-bar"},e))}var Xse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var s=de(n)||Ae(n);return s?t(n,a):(s||Use(),r)}},Qse={},c3=Er({name:"errorBars",initialState:Qse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Jfe,replaceErrorBar:eme,removeErrorBar:tme}=c3.actions,Zse=c3.reducer,Jse=["children"];function eie(e,t){if(e==null)return{};var r,n,a=tie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nie=g.createContext(rie);function N1(e){var{children:t}=e,r=eie(e,Jse);return g.createElement(nie.Provider,{value:r},t)}function ig(e,t){var r,n,a=oe(u=>la(u,e)),s=oe(u=>ca(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Et.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Ct.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function S1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=k1(),{needClipX:s,needClipY:i,needClip:l}=ig(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}function aie(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ue(e.zIndex)?e.zIndex:t}var sie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=g;function iie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oie=typeof Object.is=="function"?Object.is:iie,lie=gd.useSyncExternalStore,cie=gd.useRef,uie=gd.useEffect,die=gd.useMemo,fie=gd.useDebugValue;sie.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=cie(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=die(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var p=i.value;if(a(p,h))return f=p}return f=h}if(p=f,oie(d,h))return p;var x=n(h);return a!==void 0&&a(p,x)?(d=h,p):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=lie(e,s[0],s[1]);return uie(function(){i.hasValue=!0,i.value=l},[l]),fie(l),l};function mie(e){e()}function hie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var h_={notify(){},get:()=>[]};function pie(e,t){let r,n=h_,a=0,s=!1;function i(x){d();const v=n.subscribe(x);let y=!1;return()=>{y||(y=!0,v(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=hie())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=h_)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return p}var gie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yie=gie(),xie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vie=xie(),bie=()=>yie||vie?g.useLayoutEffect:g.useEffect,wie=bie();function p_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function jie(e,t){if(p_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!p_(e[r[a]],t[r[a]]))return!1;return!0}var v0=Symbol.for("react-redux-context"),b0=typeof globalThis<"u"?globalThis:{};function kie(){if(!g.createContext)return{};const e=b0[v0]??(b0[v0]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Nie=kie();function Sie(e){const{children:t,context:r,serverState:n,store:a}=e,s=g.useMemo(()=>{const c=pie(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=g.useMemo(()=>a.getState(),[a]);wie(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||Nie;return g.createElement(l.Provider,{value:s},t)}var _ie=Sie,Eie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Cie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function yd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Eie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!jie(e[n],t[n]))return!1}else if(!Cie(e[n],t[n]))return!1;return!0}var Pie=["onMouseEnter","onMouseLeave","onClick"],Oie=["value","background","tooltipPosition"],Aie=["id"],Mie=["onMouseEnter","onClick","onMouseLeave"];function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){Tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tie(e,t,r){return(t=Iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(e,t){if(e==null)return{};var r,n,a=Rie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:El(r,t),payload:e}]},$ie=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:El(s,t),hide:i,type:c,color:a,unit:l}};return g.createElement(v1,{tooltipEntrySettings:u})});function zie(e){var t=oe(Rs),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=yh(s,Pie),d=g1(i,n),f=y1(l),m=x1(c,n);if(!a||r==null)return null;var h=_l(a);return g.createElement(ur,{zIndex:aie(a,lt.barBackground)},r.map((p,x)=>{var{value:v,background:y,tooltipPosition:w}=p,b=yh(p,Oie);if(!y)return null;var j=d(p,x),k=f(p,x),N=m(p,x),_=nr(nr(nr(nr(nr({option:a,isActive:String(x)===t},b),{},{fill:"#eee"},y),h),Ku(u,p,x)),{},{onMouseEnter:j,onMouseLeave:k,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return g.createElement(gh,Ua({key:"background-bar-".concat(x)},_))}))}function Fie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return nr(nr({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return g.createElement(f1,{value:t?a:void 0},r)}function Bie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,l=oe(Rs),c=oe(SD),u=r&&String(s)===l&&(c==null||i===c),d=u?r:t;return u?g.createElement(ur,{zIndex:lt.activeBar},g.createElement(gh,Ua({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))):g.createElement(gh,Ua({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))}function Uie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return g.createElement(gh,Ua({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Hie(e){var t,{data:r,props:n}=e,a=(t=$r(n))!==null&&t!==void 0?t:{},{id:s}=a,i=yh(a,Aie),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=yh(n,Mie),p=g1(d,c),x=y1(m),v=x1(f,c);return r?g.createElement(g.Fragment,null,r.map((y,w)=>g.createElement(Dt,Ua({key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(w),className:"recharts-bar-rectangle"},Ku(h,y,w),{onMouseEnter:p(y,w),onMouseLeave:x(y,w),onClick:v(y,w)}),u?g.createElement(Bie,{shape:l,activeBar:u,baseProps:i,entry:y,index:w,dataKey:c}):g.createElement(Uie,{shape:l,baseProps:i,entry:y,index:w,dataKey:c})))):null}function Vie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=td(t,"recharts-bar-"),[h,p]=g.useState(!1),x=!h,v=g.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),y=g.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return g.createElement(Fie,{showLabels:x,rects:n},g.createElement(ed,{animationId:m,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:y,key:m},w=>{var b=w===1?n:n==null?void 0:n.map((j,k)=>{var N=f&&f[k];if(N)return nr(nr({},j),{},{x:Le(N.x,j.x,w),y:Le(N.y,j.y,w),width:Le(N.width,j.width,w),height:Le(N.height,j.height,w)});if(a==="horizontal"){var _=Le(0,j.height,w),S=Le(j.stackedBarStart,j.y,w);return nr(nr({},j),{},{y:S,height:_})}var E=Le(0,j.width,w),A=Le(j.stackedBarStart,j.x,w);return nr(nr({},j),{},{width:E,x:A})});return w>0&&(r.current=b??null),b==null?null:g.createElement(Dt,null,g.createElement(Hie,{props:t,data:b}))}),g.createElement(m1,{label:t.label}),t.children)}function Wie(e){var t=g.useRef(null);return g.createElement(Vie,{previousRectanglesRef:t,props:e})}var u3=0,Kie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Je(e,t)}};class qie extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ee("recharts-bar",a),f=u;return g.createElement(Dt,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(S1,{clipPathId:f,xAxisId:s,yAxisId:i})),g.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},g.createElement(zie,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(Wie,this.props)))}}var Yie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:u3,xAxisId:0,yAxisId:0,zIndex:lt.bar};function Gie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=ig(t,r),m=Qu(),h=bt(),p=n3(e.children,c1),x=oe(w=>koe(w,t,r,h,e.id,p));if(m!=="vertical"&&m!=="horizontal")return null;var v,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?v=0:v=m==="vertical"?y.height/2:y.width/2,g.createElement(N1,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Kie,errorBarOffset:v},g.createElement(qie,Ua({},e,{layout:m,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Xie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:p,dataStartIndex:x}=e,v=t==="horizontal"?l:i,y=d?v.scale.domain():null,w=$G({numericAxis:v}),b=v.scale(w);return f.map((j,k)=>{var N,_,S,E,A,C;d?N=MG(d[k+x],y):(N=Je(j,r),Array.isArray(N)||(N=[w,N]));var O=Xse(n,u3)(N[1],k);if(t==="horizontal"){var I,[M,L]=[l.scale(N[0]),l.scale(N[1])];_=d2({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:j,index:k}),S=(I=L??M)!==null&&I!==void 0?I:void 0,E=a.size;var D=M-L;if(A=zr(D)?0:D,C={x:_,y:m.top,width:E,height:m.height},Math.abs(O)>0&&Math.abs(A)<Math.abs(O)){var R=vr(A||O)*(Math.abs(O)-Math.abs(A));S-=R,A+=R}}else{var[T,P]=[i.scale(N[0]),i.scale(N[1])];if(_=T,S=d2({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:j,index:k}),E=P-T,A=a.size,C={x:m.left,y:S,width:m.width,height:A},Math.abs(O)>0&&Math.abs(E)<Math.abs(O)){var $=vr(E||O)*(Math.abs(O)-Math.abs(E));E+=$}}if(_==null||S==null||E==null||A==null)return null;var F=nr(nr({},j),{},{stackedBarStart:b,x:_,y:S,width:E,height:A,value:d?N:N[1],payload:j,background:C,tooltipPosition:{x:_+E/2,y:S+A/2},parentViewBox:p},h&&h[k]&&h[k].props);return F}).filter(Boolean)}function Qie(e){var t=ht(e,Yie),r=bt();return g.createElement(w1,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(b1,{legendPayload:Lie(t)}),g.createElement($ie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(j1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:LG(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(ur,{zIndex:t.zIndex},g.createElement(Gie,Ua({},t,{id:n})))))}var d3=g.memo(Qie,yd);d3.displayName="Bar";function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){Zie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zie(e,t,r){return(t=Jie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jie(e){var t=eoe(e,"string");return typeof t=="symbol"?t:t+""}function eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var toe=(e,t)=>t,roe=(e,t,r)=>r,noe=(e,t,r,n)=>n,aoe=(e,t,r,n,a)=>a,xd=W([od,aoe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),soe=W([xd],e=>e==null?void 0:e.maxBarSize),ioe=(e,t,r,n,a,s)=>s,x_=(e,t,r)=>{var n=r??e;if(!Ae(n))return Mn(n,t,0)},ooe=W([Ce,od,toe,roe,noe],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),loe=(e,t,r,n)=>{var a=Ce(e);return a==="horizontal"?Fx(e,"yAxis",r,n):Fx(e,"xAxis",t,n)},coe=(e,t,r)=>{var n=Ce(e);return n==="horizontal"?ES(e,"xAxis",t):ES(e,"yAxis",r)},uoe=(e,t,r)=>{var n={},a=e.filter(Vp),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(i).map(u=>{var[d,f]=u,m=f.map(p=>p.dataKey),h=x_(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:h}}),c=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=x_(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},doe=W([ooe,Eee,coe],uoe),foe=(e,t,r,n,a)=>{var s,i,l=xd(e,t,r,n,a);if(l!=null){var c=Ce(e),u=m4(e),{maxBarSize:d}=l,f=Ae(d)?u:d,m,h;return c==="horizontal"?(m=aa(e,"xAxis",t,n),h=na(e,"xAxis",t,n)):(m=aa(e,"yAxis",r,n),h=na(e,"yAxis",r,n)),(s=(i=ul(m,h,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},f3=(e,t,r,n)=>{var a=Ce(e),s,i;return a==="horizontal"?(s=aa(e,"xAxis",t,n),i=na(e,"xAxis",t,n)):(s=aa(e,"yAxis",r,n),i=na(e,"yAxis",r,n)),ul(s,i)};function moe(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=Mn(e,r,0,!0),l,c=[];if(Ue(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,w)=>y+(w.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var m=(r-f)/2>>0,h={offset:m-i,size:0};l=n.reduce((y,w)=>{var b,j={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:h.offset+h.size+i,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},k=[...y,j];return h=k[k.length-1].position,k},c)}else{var p=Mn(t,r,0,!0);r-2*p-(s-1)*i<=0&&(i=0);var x=(r-2*p-(s-1)*i)/s;x>1&&(x>>=0);var v=Ue(a)?Math.min(x,a):x;l=n.reduce((y,w,b)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(x+i)*b+(x-v)/2,size:v}}],c)}return l}}var hoe=(e,t,r,n,a,s,i)=>{var l=Ae(i)?t:i,c=moe(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>hf(hf({},u),{},{position:hf(hf({},u.position),{},{offset:u.position.offset-a/2})}))),c},poe=W([doe,m4,_ee,h4,foe,f3,soe],hoe),goe=(e,t,r,n)=>aa(e,"xAxis",t,n),yoe=(e,t,r,n)=>aa(e,"yAxis",r,n),xoe=(e,t,r,n)=>na(e,"xAxis",t,n),voe=(e,t,r,n)=>na(e,"yAxis",r,n),boe=W([poe,xd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),woe=(e,t)=>{var r=Uw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},joe=W([loe,xd],woe),koe=W([Rt,ow,goe,yoe,xoe,voe,boe,Ce,sd,f3,joe,xd,ioe],(e,t,r,n,a,s,i,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||i==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=h==null?void 0:h.slice(p,x+1),y!=null)return Xie({layout:l,barSettings:f,pos:i,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:y,offset:e,cells:m,dataStartIndex:p})}}),Noe=e=>{var{chartData:t}=e,r=Ye(),n=bt();return g.useEffect(()=>n?()=>{}:(r(zS(t)),()=>{r(zS(void 0))}),[t,r,n]),null},v_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},m3=Er({name:"brush",initialState:v_,reducers:{setBrushSettings(e,t){return t.payload==null?v_:t.payload}}}),{setBrushSettings:rme}=m3.actions,Soe=m3.reducer;function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){h3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3(e,t,r){return(t=_oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _oe(e){var t=Eoe(e,"string");return typeof t=="symbol"?t:t+""}function Eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Coe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Poe=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Coe({x:t,y:r},{x:n,y:a})};class og{static create(t){return new og(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}h3(og,"EPS",1e-4);var Ooe=e=>{var t=Object.keys(e).reduce((r,n)=>pf(pf({},r),{},{[n]:og.create(e[n])}),{});return pf(pf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,l]=s;return[i,t[i].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function Aoe(e){return(e%180+180)%180}var Moe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Aoe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},Toe={dots:[],areas:[],lines:[]},p3=Er({name:"referenceElements",initialState:Toe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Pn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Pn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Pn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:nme,removeDot:ame,addArea:sme,removeArea:ime,addLine:Ioe,removeLine:Doe}=p3.actions,Roe=p3.reducer,g3=g.createContext(void 0),Loe=e=>{var{children:t}=e,[r]=g.useState("".concat(su("recharts"),"-clip")),n=k1();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return g.createElement(g3.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:s,height:l,width:i}))),t)},$oe=()=>g.useContext(g3);function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function j_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){zoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zoe(e,t,r){return(t=Foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=Boe(e,"string");return typeof t=="symbol"?t:t+""}function Boe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}var Uoe=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Ue(t.x1)||!Ue(t.y1)||!Ue(t.x2)||!Ue(t.y2))return null;r=g.createElement("line",xh({},t,{className:"recharts-reference-line-line"}))}return r},Hoe=(e,t,r,n,a,s)=>{var{x:i,width:l}=s,c=a.y.apply(e,{position:r});if(zr(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:i+l,y:c},{x:i,y:c}];return n==="left"?u.reverse():u},Voe=(e,t,r,n,a,s)=>{var{y:i,height:l}=s,c=a.x.apply(e,{position:r});if(zr(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:i+l},{x:c,y:i}];return n==="top"?u.reverse():u},Woe=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Koe=(e,t,r,n,a,s)=>{var{x:i,y:l,segment:c,ifOverflow:u}=s,d=sn(i),f=sn(l);return f?Hoe(l,u,r,a,e,t):d?Voe(i,u,r,n,e,t):c!=null&&c.length===2?Woe(c,u,r,e):null};function qoe(e){var t=Ye();return g.useEffect(()=>(t(Ioe(e)),()=>{t(Doe(e))})),null}function Yoe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=bt(),l=$oe(),c=oe(N=>la(N,t)),u=oe(N=>ca(N,r)),d=oe(N=>Ds(N,"xAxis",t,i)),f=oe(N=>Ds(N,"yAxis",r,i)),m=Cl();if(!l||!m||c==null||u==null||d==null||f==null)return null;var h=Ooe({x:d,y:f}),p=Koe(h,m,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x,y:v},{x:y,y:w}]=p,b=s==="hidden"?"url(#".concat(l,")"):void 0,j=j_(j_({clipPath:b},Jt(e)),{},{x1:x,y1:v,x2:y,y2:w}),k=Poe({x1:x,y1:v,x2:y,y2:w});return g.createElement(ur,{zIndex:e.zIndex},g.createElement(Dt,{className:Ee("recharts-reference-line",a)},Uoe(n,j),g.createElement(WD,xh({},k,{lowerWidth:k.width,upperWidth:k.width}),g.createElement(qD,{label:e.label}),e.children)))}var Goe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:lt.line};function y3(e){var t=ht(e,Goe);return g.createElement(g.Fragment,null,g.createElement(qoe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(Yoe,t))}y3.displayName="ReferenceLine";function x3(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Xoe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Moe(n,r)}function Qoe(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:l}=e;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function vh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Zoe(e,t){return x3(e,t+1)}function Joe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=t,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:x3(n,u)};var x=c,v,y=()=>(v===void 0&&(v=r(p,x)),v),w=p.coordinate,b=c===0||vh(e,w,y,d,l);b||(c=0,d=i,u+=1),b&&(d=w+e*(y()/2+a),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){ele(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ele(e,t,r){return(t=tle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tle(e){var t=rle(e,"string");return typeof t=="symbol"?t:t+""}function rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nle(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=t,{end:c}=t,u=function(m){var h=s[m],p,x=()=>(p===void 0&&(p=r(h,m)),p);if(m===i-1){var v=e*(h.coordinate+e*x()/2-c);s[m]=h=qt(qt({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else s[m]=h=qt(qt({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var y=vh(e,h.tickCoord,x,l,c);y&&(c=h.tickCoord-e*(x()/2+a),s[m]=qt(qt({},h),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return s}function ale(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);if(i[l-1]=d=qt(qt({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=vh(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),i[l-1]=qt(qt({},d),{},{isShow:!0}))}}for(var p=s?l-1:l,x=function(w){var b=i[w],j,k=()=>(j===void 0&&(j=r(b,w)),j);if(w===0){var N=e*(b.coordinate-e*k()/2-c);i[w]=b=qt(qt({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else i[w]=b=qt(qt({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var _=vh(e,b.tickCoord,k,c,u);_&&(c=b.tickCoord+e*(k()/2+a),i[w]=qt(qt({},b),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return i}function _1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(de(c)||Ju.isSsr){var m;return(m=Zoe(a,de(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?Ec(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,j)=>{var k=typeof u=="function"?u(b.value,j):b.value;return p==="width"?Xoe(Ec(k,{fontSize:t,letterSpacing:r}),x,f):Ec(k,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?vr(a[1].coordinate-a[0].coordinate):1,w=Qoe(s,y,p);return c==="equidistantPreserveStart"?Joe(y,w,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=ale(y,w,v,a,i,c==="preserveStartEnd"):h=nle(y,w,v,a,i),h.filter(b=>b.isShow))}var sle=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(r?n:0);return Math.round(u)}return 0},ile=["axisLine","width","height","className","hide","ticks","axisType"];function ole(e,t){if(e==null)return{};var r,n,a=lle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(null,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cle(e,t,r){return(t=ule(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ule(e){var t=dle(e,"string");return typeof t=="symbol"?t:t+""}function dle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:lt.axis};function fle(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ut(ut(ut({},c),$r(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=ut(ut({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=ut(ut({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return g.createElement("line",Bi({},u,{className:Ee("recharts-cartesian-axis-line",ol(l,"className"))}))}function mle(e,t,r,n,a,s,i,l,c){var u,d,f,m,h,p,x=l?-1:1,v=e.tickSize||i,y=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,m=r+ +!l*a,f=m-x*v,p=f-x*c,h=y;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-x*v,h=u-x*c,p=y;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+x*v,h=u+x*c,p=y;break;default:u=d=e.coordinate,m=r+ +l*a,f=m+x*v,p=f+x*c,h=y;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:p}}}function hle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ple(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gle(e){var{option:t,tickProps:r,value:n}=e,a,s=Ee(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,ut(ut({},r),{},{className:s}));else if(typeof t=="function")a=t(ut(ut({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=Ee(i,t==null?void 0:t.className)),a=g.createElement(u1,Bi({},r,{className:i}),n)}return a}var yle=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:p,height:x,tickSize:v,tickMargin:y,fontSize:w,letterSpacing:b,getTicksConfig:j,events:k,axisType:N}=e,_=_1(ut(ut({},j),{},{ticks:r}),w,b),S=hle(d,f),E=ple(d,f),A=$r(j),C=_l(n),O={};typeof a=="object"&&(O=a);var I=ut(ut({},A),{},{fill:"none"},O),M=_.map(R=>ut({entry:R},mle(R,m,h,p,x,d,v,f,y))),L=M.map(R=>{var{entry:T,line:P}=R;return g.createElement(Dt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},a&&g.createElement("line",Bi({},I,P,{className:Ee("recharts-cartesian-axis-tick-line",ol(a,"className"))})))}),D=M.map((R,T)=>{var{entry:P,tick:$}=R,F=ut(ut(ut(ut({textAnchor:S,verticalAnchor:E},A),{},{stroke:"none",fill:s},C),$),{},{index:T,payload:P,visibleTicksCount:_.length,tickFormatter:i,padding:c},u);return g.createElement(Dt,Bi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Ku(k,P,T)),n&&g.createElement(gle,{option:n,tickProps:F,value:"".concat(typeof i=="function"?i(P.value,T):P.value).concat(l||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},D.length>0&&g.createElement(ur,{zIndex:lt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},D)),L.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},L))}),xle=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:l,axisType:c}=e,u=ole(e,ile),[d,f]=g.useState(""),[m,h]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return sle({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=g.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=y;var w=y[0];if(w){var b=window.getComputedStyle(w),j=b.fontSize,k=b.letterSpacing;(j!==d||k!==m)&&(f(j),h(k))}}},[d,m]);return i||n!=null&&n<=0||a!=null&&a<=0?null:g.createElement(ur,{zIndex:e.zIndex},g.createElement(Dt,{className:Ee("recharts-cartesian-axis",s)},g.createElement(fle,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:$r(e)}),g.createElement(yle,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(WD,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(qD,{label:e.label,labelRef:e.labelRef}),e.children)))}),E1=g.forwardRef((e,t)=>{var r=ht(e,Pa);return g.createElement(xle,Bi({},r,{ref:t}))});E1.displayName="CartesianAxis";var vle=["x1","y1","x2","y2","key"],ble=["offset"],wle=["xAxisId","yAxisId"],jle=["xAxisId","yAxisId"];function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){kle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kle(e,t,r){return(t=Nle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nle(e){var t=Sle(e,"string");return typeof t=="symbol"?t:t+""}function Sle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},li.apply(null,arguments)}function bh(e,t){if(e==null)return{};var r,n,a=_le(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _le(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ele=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:l}=e;return g.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function v3(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:l,y2:c,key:u}=r,d=bh(r,vle),f=(a=$r(d))!==null&&a!==void 0?a:{},{offset:m}=f,h=bh(f,ble);n=g.createElement("line",li({},h,{x1:s,y1:i,x2:l,y2:c,fill:"none",key:u}))}return n}function Cle(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=bh(e,wle),c=a.map((u,d)=>{var f=Gt(Gt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return g.createElement(v3,{key:"line-".concat(d),option:n,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Ple(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=bh(e,jle),c=a.map((u,d)=>{var f=Gt(Gt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return g.createElement(v3,{option:n,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Ole(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],p=h?a+i-f:u[m+1]-f;if(p<=0)return null;var x=m%t.length;return g.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Ale(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],p=h?a+i-f:u[m+1]-f;if(p<=0)return null;var x=m%r.length;return g.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:p,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Mle=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return UT(_1(Gt(Gt(Gt({},Pa),r),{},{ticks:HT(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Tle=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return UT(_1(Gt(Gt(Gt({},Pa),r),{},{ticks:HT(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Ile={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:lt.grid};function hc(e){var t=cw(),r=uw(),n=eI(),a=Gt(Gt({},ht(e,Ile)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,p=bt(),x=oe(E=>CS(E,"xAxis",s,p)),v=oe(E=>CS(E,"yAxis",i,p));if(!ta(u)||!ta(d)||!de(l)||!de(c))return null;var y=a.verticalCoordinatesGenerator||Mle,w=a.horizontalCoordinatesGenerator||Tle,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof w=="function"){var k=m&&m.length,N=w({yAxis:v?Gt(Gt({},v),{},{ticks:k?m:v.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);Km(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!j||!j.length)&&typeof y=="function"){var _=h&&h.length,S=y({xAxis:x?Gt(Gt({},x),{},{ticks:_?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},_?!0:f);Km(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return g.createElement(ur,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Ele,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Ole,li({},a,{horizontalPoints:b})),g.createElement(Ale,li({},a,{verticalPoints:j})),g.createElement(Cle,li({},a,{offset:n,horizontalPoints:b,xAxis:x,yAxis:v})),g.createElement(Ple,li({},a,{offset:n,verticalPoints:j,xAxis:x,yAxis:v}))))}hc.displayName="CartesianGrid";var b3=(e,t,r,n)=>aa(e,"xAxis",t,n),w3=(e,t,r,n)=>na(e,"xAxis",t,n),j3=(e,t,r,n)=>aa(e,"yAxis",r,n),k3=(e,t,r,n)=>na(e,"yAxis",r,n),Dle=W([Ce,b3,j3,w3,k3],(e,t,r,n,a)=>Us(e,"xAxis")?ul(t,n,!1):ul(r,a,!1)),Rle=(e,t,r,n,a)=>a;function Lle(e){return e.type==="line"}var $le=W([od,Rle],(e,t)=>e.filter(Lle).find(r=>r.id===t)),zle=W([Ce,b3,j3,w3,k3,$le,Dle,sd],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=s,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(u,d+1),h!=null)return ice({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:h})}});function Fle(e){var t=_l(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),l=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(l)||l<0)&&(l=n),{r:i,strokeWidth:l}}return{r,strokeWidth:n}}var Ble=["id"],Ule=["type","layout","connectNulls","needClip","shape"],Hle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){Vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vle(e,t,r){return(t=Wle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wle(e){var t=Kle(e,"string");return typeof t=="symbol"?t:t+""}function Kle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C1(e,t){if(e==null)return{};var r,n,a=qle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yle=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:El(r,t),payload:e}]},Gle=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:El(i,t),hide:l,type:u,color:n,unit:c}};return g.createElement(v1,{tooltipEntrySettings:d})}),N3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Xle(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Qle=(e,t,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return N3(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,i]:[i];return[...Xle(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Zle(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:l}=n,c=C1(n,Ble),u=$r(c);return g.createElement(bse,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:t})}function Jle(e){var{showLabels:t,children:r,points:n}=e,a=g.useMemo(()=>n==null?void 0:n.map(s=>{var i,l,c={x:(i=s.x)!==null&&i!==void 0?i:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vn(Vn({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return g.createElement(f1,{value:t?a:void 0},r)}function E_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=C1(s,Ule),m=Vn(Vn({},Jt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(hh,gu({shapeType:"curve",option:d},m,{pathRef:r})),g.createElement(Zle,{points:n,clipPathId:t,props:s}))}function ece(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function tce(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:h,height:p,onAnimationEnd:x,onAnimationStart:v}=r,y=a.current,w=td(i,"recharts-line-"),b=g.useRef(w),[j,k]=g.useState(!1),N=!j,_=g.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),S=g.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),E=ece(n.current),A=g.useRef(0);b.current!==w&&(A.current=s.current,b.current=w);var C=A.current;return g.createElement(Jle,{points:i,showLabels:N},r.children,g.createElement(ed,{animationId:w,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:S,key:w},O=>{var I=Le(C,E+C,O),M=Math.min(I,E),L;if(c)if(l){var D="".concat(l).split(/[,\s]+/gim).map(P=>parseFloat(P));L=Qle(M,E,D)}else L=N3(E,M);else L=l==null?void 0:String(l);if(O>0&&E>0&&(a.current=i,s.current=Math.max(s.current,M)),y){var R=y.length/i.length,T=O===1?i:i.map((P,$)=>{var F=Math.floor($*R);if(y[F]){var H=y[F];return Vn(Vn({},P),{},{x:Le(H.x,P.x,O),y:Le(H.y,P.y,O)})}return m?Vn(Vn({},P),{},{x:Le(h*2,P.x,O),y:Le(p/2,P.y,O)}):Vn(Vn({},P),{},{x:P.x,y:P.y})});return a.current=T,g.createElement(E_,{props:r,points:T,clipPathId:t,pathRef:n,strokeDasharray:L})}return g.createElement(E_,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:L})}),g.createElement(m1,{label:r.label}))}function rce(e){var{clipPathId:t,props:r}=e,n=g.useRef(null),a=g.useRef(0),s=g.useRef(null);return g.createElement(tce,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var nce=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Je(e.payload,t)}};class ace extends g.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:l,left:c,width:u,height:d,id:f,needClip:m,zIndex:h}=this.props;if(t)return null;var p=Ee("recharts-line",a),x=f,{r:v,strokeWidth:y}=Fle(r),w=a3(r),b=v*2+y,j=m?"url(#clipPath-".concat(w?"":"dots-").concat(x,")"):void 0;return g.createElement(ur,{zIndex:h},g.createElement(Dt,{className:p},m&&g.createElement("defs",null,g.createElement(S1,{clipPathId:x,xAxisId:s,yAxisId:i}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),g.createElement(N1,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:nce,errorBarOffset:0},g.createElement(rce,{props:this.props,clipPathId:x}))),g.createElement(Fse,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var S3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:lt.line,type:"linear"};function sce(e){var t=ht(e,S3),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:h,yAxisId:p,id:x}=t,v=C1(t,Hle),{needClip:y}=ig(h,p),w=k1(),b=Qu(),j=bt(),k=oe(A=>zle(A,h,p,j,x));if(b!=="horizontal"&&b!=="vertical"||k==null||w==null)return null;var{height:N,width:_,x:S,y:E}=w;return g.createElement(ace,gu({},v,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:h,yAxisId:p,points:k,layout:b,height:N,width:_,left:S,top:E,needClip:y}))}function ice(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Je(u,i);if(t==="horizontal"){var m=Wm({axis:r,ticks:a,bandSize:l,entry:u,index:d}),h=Ae(f)?null:n.scale(f);return{x:m,y:h,value:f,payload:u}}var p=Ae(f)?null:r.scale(f),x=Wm({axis:n,ticks:s,bandSize:l,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function oce(e){var t=ht(e,S3),r=bt();return g.createElement(w1,{id:t.id,type:"line"},n=>g.createElement(g.Fragment,null,g.createElement(b1,{legendPayload:Yle(t)}),g.createElement(Gle,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(j1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement(sce,gu({},t,{id:n}))))}var Vf=g.memo(oce,yd);Vf.displayName="Line";var lce=["option","isActive"];function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(null,arguments)}function cce(e,t){if(e==null)return{};var r,n,a=uce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dce(e){var{option:t,isActive:r}=e,n=cce(e,lce);return typeof t=="string"?g.createElement(hh,Cc({option:g.createElement(pp,Cc({type:t},n)),isActive:r,shapeType:"symbols"},n)):g.createElement(hh,Cc({option:t,isActive:r,shapeType:"symbols"},n))}var fce=(e,t,r,n,a,s,i)=>aa(e,"xAxis",t,i),mce=(e,t,r,n,a,s,i)=>na(e,"xAxis",t,i),hce=(e,t,r,n,a,s,i)=>aa(e,"yAxis",r,i),pce=(e,t,r,n,a,s,i)=>na(e,"yAxis",r,i),gce=(e,t,r,n)=>Pte(e,"zAxis",n,!1),yce=(e,t,r,n,a)=>a,xce=(e,t,r,n,a,s)=>s,vce=(e,t,r,n,a,s,i)=>sd(e,t,r,i),bce=W([od,yce],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),wce=W([vce,fce,mce,hce,pce,gce,bce,xce],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(i!=null){var f;if((i==null?void 0:i.data)!=null&&i.data.length>0?f=i.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return Dce({displayedData:f,xAxis:t,yAxis:n,zAxis:s,scatterSettings:i,xAxisTicks:r,yAxisTicks:a,cells:l})}}),jce=["onMouseEnter","onClick","onMouseLeave"],kce=["id"],Nce=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Gx(e,t){if(e==null)return{};var r,n,a=Sce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(null,arguments)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){_ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ce(e,t,r){return(t=Ece(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ece(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:El(r,t),payload:e}]},Oce=g.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:El(i,t),hide:l,type:c,color:s,unit:""}};return g.createElement(v1,{tooltipEntrySettings:u})});function Ace(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:s}=r;if(!n)return null;var i=$r(r),l=_l(n),c,u;if(a==="joint")c=t.map(v=>{var y,w;return{x:(y=v.cx)!==null&&y!==void 0?y:null,y:(w=v.cy)!==null&&w!==void 0?w:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:m,b:h}=Rq(t),p=v=>m*v+h;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var x=br(br(br({},i),{},{fill:"none",stroke:i&&i.fill},l),{},{points:c});return g.isValidElement(n)?u=g.cloneElement(n,x):typeof n=="function"?u=n(x):u=g.createElement(mw,Ui({},x,{type:s})),g.createElement(Dt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function Mce(e){var{showLabels:t,points:r,children:n}=e,a=Cl(),s=g.useMemo(()=>r==null?void 0:r.map(i=>{var l,c,u={x:(l=i.x)!==null&&l!==void 0?l:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:i.width,height:i.height,lowerWidth:i.width,upperWidth:i.width};return br(br({},u),{},{value:void 0,payload:i.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return g.createElement(f1,{value:t?s:void 0},n)}function Tce(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:s}=r,i=oe(Rs),{onMouseEnter:l,onClick:c,onMouseLeave:u}=r,d=Gx(r,jce),f=g1(l,r.dataKey),m=y1(u),h=x1(c,r.dataKey);if(!Gq(t))return null;var{id:p}=r,x=Gx(r,kce),v=$r(x);return g.createElement(g.Fragment,null,g.createElement(Ace,{points:t,props:x}),t.map((y,w)=>{var b=a!=null&&a!==!1,j=b&&i===String(w),k=b&&j?a:n,N=br(br(br({},v),y),{},{[WT]:w,[KT]:String(s)});return g.createElement(ur,{key:"symbol-".concat(y==null?void 0:y.cx,"-").concat(y==null?void 0:y.cy,"-").concat(y==null?void 0:y.size,"-").concat(w),zIndex:j?lt.activeDot:void 0},g.createElement(Dt,Ui({className:"recharts-scatter-symbol"},Ku(d,y,w),{onMouseEnter:f(y,w),onMouseLeave:m(y,w),onClick:h(y,w)}),g.createElement(dce,Ui({option:k,isActive:j},N))))}))}function Ice(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l}=r,c=t.current,u=td(r,"recharts-scatter-"),[d,f]=g.useState(!1),m=g.useCallback(()=>{f(!1)},[]),h=g.useCallback(()=>{f(!0)},[]),p=!d;return g.createElement(Mce,{showLabels:p,points:n},r.children,g.createElement(ed,{animationId:u,begin:s,duration:i,isActive:a,easing:l,onAnimationEnd:m,onAnimationStart:h,key:u},x=>{var v=x===1?n:n==null?void 0:n.map((y,w)=>{var b=c&&c[w];return b?br(br({},y),{},{cx:y.cx==null?void 0:Le(b.cx,y.cx,x),cy:y.cy==null?void 0:Le(b.cy,y.cy,x),size:Le(b.size,y.size,x)}):br(br({},y),{},{size:Le(0,y.size,x)})});return x>0&&(t.current=v),g.createElement(Dt,null,g.createElement(Tce,{points:v,allOtherScatterProps:r,showLabels:p}))}),g.createElement(m1,{label:r.label}))}function Dce(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:i,yAxisTicks:l,cells:c}=e,u=Ae(r.dataKey)?s.dataKey:r.dataKey,d=Ae(n.dataKey)?s.dataKey:n.dataKey,f=a&&a.dataKey,m=a?a.range:S4.range,h=m&&m[0],p=r.scale.bandwidth?r.scale.bandwidth():0,x=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((v,y)=>{var w=Je(v,u),b=Je(v,d),j=!Ae(f)&&Je(v,f)||"-",k=[{name:Ae(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:v,dataKey:u,type:s.tooltipType},{name:Ae(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:b,payload:v,dataKey:d,type:s.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:v,dataKey:f,type:s.tooltipType});var N=Wm({axis:r,ticks:i,bandSize:p,entry:v,index:y,dataKey:u}),_=Wm({axis:n,ticks:l,bandSize:x,entry:v,index:y,dataKey:d}),S=j!=="-"?a.scale(j):h,E=Math.sqrt(Math.max(S,0)/Math.PI);return br(br({},v),{},{cx:N,cy:_,x:N==null?void 0:N-E,y:_==null?void 0:_-E,width:2*E,height:2*E,size:S,node:{x:w,y:b,z:j},tooltipPayload:k,tooltipPosition:{x:N,y:_},payload:v},c&&c[y]&&c[y].props)})}var Rce=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Je(e,t)});function Lce(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:s,yAxisId:i,id:l}=e,c=g.useRef(null);if(t)return null;var u=Ee("recharts-scatter",n),d=l;return g.createElement(ur,{zIndex:e.zIndex},g.createElement(Dt,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&g.createElement("defs",null,g.createElement(S1,{clipPathId:d,xAxisId:s,yAxisId:i})),g.createElement(N1,{xAxisId:s,yAxisId:i,data:r,dataPointFormatter:Rce,errorBarOffset:0},g.createElement(Dt,{key:"recharts-scatter-symbols"},g.createElement(Ice,{props:e,previousPointsRef:c})))))}var _3={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:lt.scatter};function $ce(e){var t=ht(e,_3),{animationBegin:r,animationDuration:n,animationEasing:a,hide:s,isAnimationActive:i,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:m,zAxisId:h}=t,p=Gx(t,Nce),{needClip:x}=ig(f,m),v=g.useMemo(()=>n3(e.children,c1),[e.children]),y=bt(),w=oe(b=>wce(b,f,m,h,e.id,v,y));return x==null||w==null?null:g.createElement(g.Fragment,null,g.createElement(Oce,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),g.createElement(Lce,Ui({},p,{xAxisId:f,yAxisId:m,zAxisId:h,lineType:u,lineJointType:c,legendType:l,shape:d,hide:s,isAnimationActive:i,animationBegin:r,animationDuration:n,animationEasing:a,points:w,needClip:x})))}function zce(e){var t=ht(e,_3),r=bt();return g.createElement(w1,{id:t.id,type:"scatter"},n=>g.createElement(g.Fragment,null,g.createElement(b1,{legendPayload:Pce(t)}),g.createElement(j1,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),g.createElement($ce,Ui({},t,{id:n}))))}var Xx=g.memo(zce,yd);Xx.displayName="Scatter";var Fce=["domain","range"],Bce=["domain","range"];function P_(e,t){if(e==null)return{};var r,n,a=Uce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function O_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function E3(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=P_(e,Fce),{domain:s,range:i}=t,l=P_(t,Bce);return!O_(r,s)||!O_(n,i)?!1:yd(a,l)}var Hce=["dangerouslySetInnerHTML","ticks"],Vce=["id"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(null,arguments)}function A_(e,t){if(e==null)return{};var r,n,a=Wce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Kce(e){var t=Ye(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Sse(e)):r.current!==e&&t(_se({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Ese(r.current)),r.current=null)},[t]),null}var qce=e=>{var{xAxisId:t,className:r}=e,n=oe(ow),a=bt(),s="xAxis",i=oe(v=>Ds(v,s,t,a)),l=oe(v=>sD(v,s,t,a)),c=oe(v=>tD(v,t)),u=oe(v=>kte(v,t)),d=oe(v=>k4(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:m}=e,h=A_(e,Hce),{id:p}=d,x=A_(d,Vce);return g.createElement(E1,Qx({},h,x,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:Ee("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Yce={allowDataOverflow:Et.allowDataOverflow,allowDecimals:Et.allowDecimals,allowDuplicatedCategory:Et.allowDuplicatedCategory,angle:Et.angle,axisLine:Pa.axisLine,height:Et.height,hide:!1,includeHidden:Et.includeHidden,interval:Et.interval,minTickGap:Et.minTickGap,mirror:Et.mirror,orientation:Et.orientation,padding:Et.padding,reversed:Et.reversed,scale:Et.scale,tick:Et.tick,tickCount:Et.tickCount,tickLine:Pa.tickLine,tickSize:Pa.tickSize,type:Et.type,xAxisId:0},Gce=e=>{var t=ht(e,Yce);return g.createElement(g.Fragment,null,g.createElement(Kce,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(qce,t))},pc=g.memo(Gce,E3);pc.displayName="XAxis";var Xce=["dangerouslySetInnerHTML","ticks"],Qce=["id"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(null,arguments)}function M_(e,t){if(e==null)return{};var r,n,a=Zce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jce(e){var t=Ye(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Cse(e)):r.current!==e&&t(Pse({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Ose(r.current)),r.current=null)},[t]),null}var eue=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=g.useRef(null),i=g.useRef(null),l=oe(ow),c=bt(),u=Ye(),d="yAxis",f=oe(k=>Ds(k,d,t,c)),m=oe(k=>rD(k,t)),h=oe(k=>Ste(k,t)),p=oe(k=>sD(k,d,t,c)),x=oe(k=>N4(k,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!m||d1(a)||g.isValidElement(a)||x==null)){var k=s.current;if(k){var N=k.getCalculatedWidth();Math.round(m.width)!==Math.round(N)&&u(Ase({id:t,width:N}))}}},[p,m,u,a,t,n,x]),m==null||h==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,w=M_(e,Xce),{id:b}=x,j=M_(x,Qce);return g.createElement(E1,Zx({},w,j,{ref:s,labelRef:i,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ee("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))},tue={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:Ct.allowDecimals,allowDuplicatedCategory:Ct.allowDuplicatedCategory,angle:Ct.angle,axisLine:Pa.axisLine,hide:!1,includeHidden:Ct.includeHidden,interval:Ct.interval,minTickGap:Ct.minTickGap,mirror:Ct.mirror,orientation:Ct.orientation,padding:Ct.padding,reversed:Ct.reversed,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,tickLine:Pa.tickLine,tickSize:Pa.tickSize,type:Ct.type,width:Ct.width,yAxisId:0},rue=e=>{var t=ht(e,tue);return g.createElement(g.Fragment,null,g.createElement(Jce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(eue,t))},gc=g.memo(rue,E3);gc.displayName="YAxis";var nue=(e,t)=>t,P1=W([nue,Ce,w4,kt,wD,Ga,Bre,Rt],Yre),O1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},C3=on("mouseClick"),P3=Gu();P3.startListening({actionCreator:C3,effect:(e,t)=>{var r=e.payload,n=P1(t.getState(),O1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Fte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Jx=on("mouseMove"),O3=Gu(),gf=null;O3.startListening({actionCreator:Jx,effect:(e,t)=>{var r=e.payload;gf!==null&&cancelAnimationFrame(gf);var n=O1(r);gf=requestAnimationFrame(()=>{var a=t.getState(),s=Zw(a,a.tooltip.settings.shared);if(s==="axis"){var i=P1(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(mD({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(fD())}gf=null})}});var T_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},A3=Er({name:"rootProps",initialState:T_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:T_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),aue=A3.reducer,{updateOptions:sue}=A3.actions,M3=Er({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ome}=M3.actions,iue=M3.reducer,T3=on("keyDown"),I3=on("focus"),A1=Gu();A1.startListening({actionCreator:T3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Jw(a,Il(r),cd(r),hd(r)),l=i==null?-1:Number(i);if(!(!Number.isFinite(l)||l<0)){var c=Ga(r);if(s==="Enter"){var u=uh(r,"axis","hover",String(a.index));t.dispatch(Ux({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=Ote(r),f=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,h=l+m*f;if(!(c==null||h>=c.length||h<0)){var p=uh(r,"axis","hover",String(h));t.dispatch(Ux({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});A1.startListening({actionCreator:I3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=uh(r,"axis","hover",String(s));t.dispatch(Ux({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Kr=on("externalEvent"),D3=Gu(),w0=new Map;D3.startListening({actionCreator:Kr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=w0.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:Sre(l),activeDataKey:SD(l),activeIndex:Rs(l),activeLabel:ND(l),activeTooltipIndex:Rs(l),isTooltipActive:_re(l)};r(c,n)}finally{w0.delete(a)}});w0.set(a,i)}}});var oue=W([Tl],e=>e.tooltipItemPayloads),lue=W([oue,fd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),R3=on("touchMove"),L3=Gu();L3.startListening({actionCreator:R3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Zw(n,n.tooltip.settings.shared);if(a==="axis"){var s=P1(n,O1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(mD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(WT),d=(i=c.getAttribute(KT))!==null&&i!==void 0?i:void 0,f=lue(t.getState(),u,d);t.dispatch(dD({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var cue=mT({brush:Soe,cartesianAxis:Mse,chartData:Nne,errorBars:Zse,graphicalItems:use,layout:_G,legend:TX,options:vne,polarAxis:Lae,polarOptions:iue,referenceElements:Roe,rootProps:aue,tooltip:Bte,zIndex:lne}),uue=function(t){return QY({reducer:cue,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([P3.middleware,O3.middleware,A1.middleware,D3.middleware,L3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(CT({type:"raf"}))},devTools:Ju.devToolsEnabled})};function due(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=bt(),s=g.useRef(null);if(a)return r;s.current==null&&(s.current=uue(t));var i=Xb;return g.createElement(_ie,{context:i,store:s.current},r)}function fue(e){var{layout:t,margin:r}=e,n=Ye(),a=bt();return g.useEffect(()=>{a||(n(kG(t)),n(jG(r)))},[n,a,t,r]),null}var mue=g.memo(fue,yd);function hue(e){var t=Ye();return g.useEffect(()=>{t(sue(e))},[t,e]),null}function I_(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=i3("".concat(n).concat(t)),s=Ye();return g.useLayoutEffect(()=>(s(ine({zIndex:t,elementId:a,isPanorama:r})),()=>{s(one({zIndex:t,isPanorama:r}))}),[s,t,a,r]),g.createElement("g",{tabIndex:-1,id:a})}function D_(e){var{children:t,isPanorama:r}=e,n=oe(Xre);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return g.createElement(g.Fragment,null,a.map(i=>g.createElement(I_,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>g.createElement(I_,{key:i,zIndex:i,isPanorama:r})))}var pue=["children"];function gue(e,t){if(e==null)return{};var r,n,a=yue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}var xue={width:"100%",height:"100%",display:"block"},vue=g.forwardRef((e,t)=>{var r=cw(),n=uw(),a=cI();if(!ta(r)||!ta(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0),g.createElement(Db,wh({},i,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:xue,ref:t}),s)}),bue=e=>{var{children:t}=e,r=oe(Pp);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return g.createElement(Db,{width:n,height:a,x:i,y:s},t)},R_=g.forwardRef((e,t)=>{var{children:r}=e,n=gue(e,pue),a=bt();return a?g.createElement(bue,null,g.createElement(D_,{isPanorama:!0},r)):g.createElement(vue,wh({ref:t},n),g.createElement(D_,{isPanorama:!1},r))});function wue(){var e=Ye(),[t,r]=g.useState(null),n=oe(VG);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ue(s)&&s!==n&&e(SG(s))}},[t,e,n]),r}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){kue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kue(e,t,r){return(t=Nue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(null,arguments)}var _ue=()=>(Tne(),null);function jh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Eue=g.forwardRef((e,t)=>{var r,n,a=g.useRef(null),[s,i]=g.useState({containerWidth:jh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:jh((n=e.style)===null||n===void 0?void 0:n.height)}),l=g.useCallback((u,d)=>{i(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var m=p=>{var{width:x,height:v}=p[0].contentRect;l(x,v)},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,l]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),g.createElement(g.Fragment,null,g.createElement(Op,{width:s.containerWidth,height:s.containerHeight}),g.createElement("div",Hi({ref:c},e)))}),Cue=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=g.useState({containerWidth:jh(r),containerHeight:jh(n)}),i=g.useCallback((c,u)=>{s(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),l=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return g.createElement(g.Fragment,null,g.createElement(Op,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Hi({ref:l},e)))}),Pue=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(Op,{width:r,height:n}),g.createElement("div",Hi({ref:t},e)))}),Oue=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ra(r)||Ra(n)?g.createElement(Cue,Hi({},e,{ref:t})):g.createElement(Pue,Hi({},e,{ref:t}))});function Aue(e){return e===!0?Eue:Oue}var Mue=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:p,onTouchStart:x,style:v,width:y,responsive:w,dispatchTouchEvents:b=!0}=e,j=g.useRef(null),k=Ye(),[N,_]=g.useState(null),[S,E]=g.useState(null),A=wue(),C=lw(),O=(C==null?void 0:C.width)>0?C.width:y,I=(C==null?void 0:C.height)>0?C.height:a,M=g.useCallback(U=>{A(U),typeof t=="function"&&t(U),_(U),E(U),U!=null&&(j.current=U)},[A,t,_,E]),L=g.useCallback(U=>{k(C3(U)),k(Kr({handler:s,reactEvent:U}))},[k,s]),D=g.useCallback(U=>{k(Jx(U)),k(Kr({handler:u,reactEvent:U}))},[k,u]),R=g.useCallback(U=>{k(fD()),k(Kr({handler:d,reactEvent:U}))},[k,d]),T=g.useCallback(U=>{k(Jx(U)),k(Kr({handler:f,reactEvent:U}))},[k,f]),P=g.useCallback(()=>{k(I3())},[k]),$=g.useCallback(U=>{k(T3(U.key))},[k]),F=g.useCallback(U=>{k(Kr({handler:i,reactEvent:U}))},[k,i]),H=g.useCallback(U=>{k(Kr({handler:l,reactEvent:U}))},[k,l]),B=g.useCallback(U=>{k(Kr({handler:c,reactEvent:U}))},[k,c]),Y=g.useCallback(U=>{k(Kr({handler:m,reactEvent:U}))},[k,m]),X=g.useCallback(U=>{k(Kr({handler:x,reactEvent:U}))},[k,x]),Q=g.useCallback(U=>{b&&k(R3(U)),k(Kr({handler:p,reactEvent:U}))},[k,b,p]),G=g.useCallback(U=>{k(Kr({handler:h,reactEvent:U}))},[k,h]),Z=Aue(w);return g.createElement(MD.Provider,{value:N},g.createElement(yM.Provider,{value:S},g.createElement(Z,{width:O??(v==null?void 0:v.width),height:I??(v==null?void 0:v.height),className:Ee("recharts-wrapper",n),style:jue({position:"relative",cursor:"default",width:O,height:I},v),onClick:L,onContextMenu:F,onDoubleClick:H,onFocus:P,onKeyDown:$,onMouseDown:B,onMouseEnter:D,onMouseLeave:R,onMouseMove:T,onMouseUp:Y,onTouchEnd:G,onTouchMove:Q,onTouchStart:X,ref:M},g.createElement(_ue,null),r)))}),Tue=["width","height","responsive","children","className","style","compact","title","desc"];function Iue(e,t){if(e==null)return{};var r,n,a=Due(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Due(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Rue=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:l,compact:c,title:u,desc:d}=e,f=Iue(e,Tue),m=$r(f);return c?g.createElement(g.Fragment,null,g.createElement(Op,{width:r,height:n}),g.createElement(R_,{otherAttributes:m,title:u,desc:d},s)):g.createElement(Mue,{className:i,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(R_,{otherAttributes:m,title:u,desc:d,ref:t},g.createElement(Loe,null,s)))});function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}var Lue={top:5,right:5,bottom:5,left:5},$ue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Lue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},M1=g.forwardRef(function(t,r){var n,a=ht(t.categoricalChartProps,$ue),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(due,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},g.createElement(Noe,{chartData:u.data}),g.createElement(mue,{layout:a.layout,margin:a.margin}),g.createElement(hue,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(Rue,ev({},a,{ref:r})))}),zue=["axis"],Fue=g.forwardRef((e,t)=>g.createElement(M1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zue,tooltipPayloadSearcher:l1,categoricalChartProps:e,ref:t})),Bue=["axis","item"],Uue=g.forwardRef((e,t)=>g.createElement(M1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bue,tooltipPayloadSearcher:l1,categoricalChartProps:e,ref:t})),Hue=["item"],$_=g.forwardRef((e,t)=>g.createElement(M1,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hue,tooltipPayloadSearcher:l1,categoricalChartProps:e,ref:t}));const bs={deployModel:async e=>(await at.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await at.get("/deployment/active")).data}catch(e){const t=e;if(t.response&&t.response.status===404)return null;throw e}},getHistory:async(e=50,t=0)=>(await at.get("/deployment/history",{params:{limit:e,skip:t}})).data,deactivate:async()=>{await at.post("/deployment/deactivate")},predict:async e=>(await at.post("/deployment/predict",{data:e})).data},Vue=()=>{var pe,Te,dr,Hr;const{jobs:e,fetchJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=Sl(),[s,i]=g.useState([]),[l,c]=g.useState("all"),[u,d]=g.useState([]),[f,m]=g.useState("all"),[h,p]=g.useState(null),[x,v]=g.useState(!0),[y,w]=g.useState(!0),[b,j]=g.useState(!0),[k,N]=g.useState(!0),[_,S]=g.useState(!0),[E,A]=g.useState("charts"),[C,O]=g.useState(null),[I,M]=g.useState(!1),[L,D]=g.useState(null),[R,T]=g.useState(null),[P,$]=g.useState(null);g.useEffect(()=>{t(),F()},[t]),g.useEffect(()=>{var V,re,me;if((re=(V=C==null?void 0:C.splits.train)==null?void 0:V.y_proba)!=null&&re.classes&&C.splits.train.y_proba.classes.length>0){const ue=C.splits.train.y_proba,ke=((me=ue.labels)==null?void 0:me[0])??ue.classes[0];$(String(ke))}},[C]);const F=async()=>{try{const V=await at.get("/pipeline/datasets/list");d(V.data)}catch(V){console.error("Failed to fetch datasets",V)}},H=async(V,re)=>{if(V.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await bs.deployModel(re),alert("Model deployed successfully!")}catch(me){alert("Failed to deploy model"),console.error(me)}},B=async V=>{var re,me;M(!0),O(null),D(null),T(V);try{const ue=await at.get(`/pipeline/jobs/${V}/evaluation`);O(ue.data)}catch(ue){console.error("Failed to fetch evaluation data",ue),D(((me=(re=ue.response)==null?void 0:re.data)==null?void 0:me.detail)||"Failed to fetch evaluation data")}finally{M(!1)}},Y=(V,re,me)=>{const ue=me&&me.length>0?[...me]:Array.from(new Set([...V,...re])).sort((tt,fr)=>String(tt).localeCompare(String(fr))),ke=ue.map(tt=>ue.map(fr=>V.reduce((pt,dn,St)=>{const gt=re[St];return String(dn)===String(tt)&&String(gt)===String(fr)?pt+1:pt},0)));return{classes:ue,matrix:ke}},X=(V,re,me)=>{const ue=String(me),tt=((re.labels&&re.labels.length===re.classes.length?re.labels:void 0)??re.classes).findIndex(_t=>String(_t)===ue);if(tt===-1)return null;const pt=re.values.map(_t=>_t[tt]).map((_t,Xa)=>({score:_t,actual:String(V[Xa])===ue?1:0}));pt.sort((_t,Xa)=>Xa.score-_t.score);const dn=[];let St=0,gt=0;const fn=pt.filter(_t=>_t.actual===1).length,Ks=pt.length-fn;if(fn===0||Ks===0)return null;dn.push({fpr:0,tpr:0});for(let _t=0;_t<pt.length;_t++)pt[_t].actual===1?St++:gt++,dn.push({fpr:gt/Ks,tpr:St/fn});return dn};g.useEffect(()=>{E==="evaluation"&&(!R&&s.length>0||R&&!s.includes(R)&&s.length>0?B(s[0]):s.length===0&&(O(null),T(null)))},[E,s,R]);const Q=e.filter(V=>{const re=l==="all"||V.job_type===l,me=f==="all"||V.dataset_id===f,ue=V.status==="completed";return re&&me&&ue}),G=e.filter(V=>s.includes(V.job_id)),Z=V=>{i(re=>re.includes(V)?re.filter(me=>me!==V):[...re,V])},U=G.map(V=>{var me;const re=V.metrics||((me=V.result)==null?void 0:me.metrics)||{};return{name:V.job_id,...re}}),ne=Array.from(new Set(G.flatMap(V=>{var me;const re=V.metrics||((me=V.result)==null?void 0:me.metrics)||{};return Object.keys(re).filter(ue=>{const ke=re[ue];return typeof ke=="number"&&!isNaN(ke)})}))).filter(V=>!(V.startsWith("train_")&&!x||V.startsWith("test_")&&!y||V.startsWith("val_")&&!b)),te=(V,re)=>{if(!V||!re)return"-";const me=new Date(re).getTime()-new Date(V).getTime(),ue=Math.floor(me/1e3);return ue<60?`${ue}s`:`${Math.floor(ue/60)}m ${ue%60}s`},q=V=>V==="best_score"?{type:"val",base:"best_score"}:V.startsWith("train_")?{type:"train",base:V.replace("train_","")}:V.startsWith("test_")?{type:"test",base:V.replace("test_","")}:V.startsWith("val_")?{type:"val",base:V.replace("val_","")}:{type:"other",base:V},ae=new Map;ne.forEach(V=>{var me;const{base:re}=q(V);ae.has(re)||ae.set(re,[]),(me=ae.get(re))==null||me.push(V)}),ae.forEach((V,re)=>{ae.set(re,V.sort())});const ce=Array.from(ae.keys()).sort(),ge=h&&ce.includes(h)?h:ce[0]||null;return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:f,onChange:V=>{m(V.target.value)},children:[o.jsx("option",{value:"all",children:"All Datasets"}),u.map(V=>o.jsx("option",{value:V.id,children:V.name},V.id))]}),o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:V=>{c(V.target.value)},children:[o.jsx("option",{value:"all",children:"All Experiments"}),o.jsx("option",{value:"tuning",children:"Model Optimization"}),o.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",s.length,")"]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[Q.map(V=>{var re,me;return o.jsxs("div",{onClick:()=>{Z(V.job_id)},className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${s.includes(V.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300 break-all",children:["#",V.version," - ",V.job_id]}),o.jsxs("div",{className:"flex items-center gap-2",children:[V.status==="completed"&&(V.job_type==="training"||V.job_type==="tuning")&&o.jsx("button",{onClick:ue=>{H(ue,V.job_id)},className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:o.jsx(Vh,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${V.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":V.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:V.status})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[V.model_type,"  ",V.dataset_name||"Unknown Dataset",V.job_type==="tuning"&&(V.search_strategy||((re=V.config.tuning)==null?void 0:re.strategy))&&o.jsxs("span",{className:"ml-1 text-gray-400",children:["(",V.search_strategy||((me=V.config.tuning)==null?void 0:me.strategy),")"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[o.jsx("span",{children:new Date(V.start_time||V.created_at).toLocaleString()}),o.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:te(V.start_time,V.end_time)})]})]},V.job_id)}),r&&o.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:o.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?o.jsx(Mi,{className:"w-3 h-3 animate-spin"}):o.jsx(It,{className:"w-3 h-3"}),"Load More"]})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:G.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[o.jsx($P,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{A("charts")},children:"Visual Comparison"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{A("table")},children:"Detailed Metrics & Params"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{A("evaluation")},children:"Model Evaluation"})]}),E==="charts"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:V=>{v(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:V=>{w(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:V=>{j(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ce.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ce.map(V=>o.jsx("button",{onClick:()=>{p(V)},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${ge===V?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:V.toUpperCase()},V))}),ge&&ae.has(ge)&&o.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs(Uue,{data:U,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(hc,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),o.jsx(pc,{dataKey:"name",stroke:"#6B7280",fontSize:12}),o.jsx(gc,{stroke:"#6B7280",fontSize:12}),o.jsx(mf,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),o.jsx(lI,{}),(pe=ae.get(ge))==null?void 0:pe.map(V=>{const{type:re}=q(V);let me="#8884d8";return re==="train"&&(me="#3b82f6"),re==="test"&&(me="#22c55e"),re==="val"&&(me="#f97316"),re==="other"&&(me="#a855f7"),o.jsx(d3,{dataKey:V,fill:me,name:`${re} (${ge})`},V)})]})})})})]}),E==="table"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),G.map(V=>o.jsx("th",{className:"px-4 py-2 font-mono break-all min-w-[100px]",children:V.job_id},V.job_id))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[o.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),G.map(V=>o.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:V.model_type},V.job_id))]}),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{N(!k)},children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:G.length+1,children:[k?o.jsx(It,{className:"w-3 h-3"}):o.jsx(Qn,{className:"w-3 h-3"}),"Key Metrics"]})}),k&&ne.map(V=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:V}),G.map(re=>{var ke;const ue=(re.metrics||((ke=re.result)==null?void 0:ke.metrics)||{})[V];return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof ue=="number"?ue.toFixed(4):"-"},re.job_id)})]},V)),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{S(!_)},children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:G.length+1,children:[_?o.jsx(It,{className:"w-3 h-3"}):o.jsx(Qn,{className:"w-3 h-3"}),"Hyperparameters"]})}),_&&Array.from(new Set(G.flatMap(V=>Object.keys(V.hyperparameters||{})))).map(V=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:V}),G.map(re=>{var me;return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((me=re.hyperparameters)==null?void 0:me[V])??"-")},re.job_id)})]},V))]})]})})]}),E==="evaluation"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(V=>o.jsx("button",{onClick:()=>{B(V)},className:`px-3 py-1 text-xs font-mono rounded border whitespace-nowrap ${R===V?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:V},V))}),I?o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[o.jsx(_r,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):L?o.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[o.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),o.jsx("p",{className:"text-sm mt-2 opacity-80",children:L})]}):C?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:V=>{v(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:V=>{w(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:b,onChange:V=>{j(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),C.problem_type==="classification"&&((Te=C.splits.train)==null?void 0:Te.y_proba)&&(()=>{const V=C.splits.train.y_proba;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),o.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:P||"",onChange:re=>{$(re.target.value)},children:V.classes.map((re,me)=>{var ke;const ue=((ke=V.labels)==null?void 0:ke[me])??re;return o.jsx("option",{value:String(ue),children:String(ue)},String(re))})})]})})()]}),C.problem_type==="classification"&&((Hr=(dr=C.splits.train)==null?void 0:dr.y_proba)==null?void 0:Hr.labels)&&(()=>{const V=C.splits.train.y_proba;return o.jsxs("div",{className:"w-full text-xs text-gray-500 dark:text-gray-400",children:["Mapping: ",V.classes.map((re,me)=>{var ue;return`${String(re)}${String(((ue=V.labels)==null?void 0:ue[me])??re)}`}).join(", ")]})})()]}),o.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(C.splits).filter(([V])=>!(V==="train"&&!x||V==="test"&&!y||V==="validation"&&!b)).map(([V,re])=>{const me=re.y_true.map((ue,ke)=>({x:ue,y:re.y_pred[ke]}));return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[V," Set"]}),C.problem_type==="regression"?o.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs($_,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(hc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(pc,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(gc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(mf,{cursor:{strokeDasharray:"3 3"},content:({active:ue,payload:ke})=>{if(ue&&ke&&ke.length){const tt=ke[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Actual: ",tt.x.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Predicted: ",tt.y.toFixed(4)]}),o.jsxs("p",{className:"text-gray-500",children:["Error: ",(tt.y-tt.x).toFixed(4)]})]})}return null}}),o.jsx(Vf,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),o.jsx(Xx,{name:"Predictions",data:me,fill:"#8884d8",fillOpacity:.6})]})})]}),o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs($_,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(hc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(pc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(gc,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(mf,{cursor:{strokeDasharray:"3 3"},content:({active:ue,payload:ke})=>{if(ue&&ke&&ke.length){const tt=ke[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Predicted: ",tt.y.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Residual: ",tt.residual.toFixed(4)]})]})}return null}}),o.jsx(y3,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),o.jsx(Xx,{name:"Residuals",data:me.map(ue=>{const ke=ue;return{...ke,residual:ke.x-ke.y}}),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const ue=re.y_proba,ke=ue==null?void 0:ue.classes;let tt=re.y_true,fr=re.y_pred;if(ue!=null&&ue.labels&&ue.labels.length===ue.classes.length){const St=new Map;ue.labels.forEach((gt,fn)=>{St.set(String(gt),ue.classes[fn])}),tt=re.y_true.map(gt=>St.get(String(gt))??gt),fr=re.y_pred.map(gt=>St.get(String(gt))??gt)}const{classes:pt,matrix:dn}=Y(tt,fr,ke);return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-8"})," ",o.jsxs("div",{className:"flex ml-2",children:[" ",pt.map(St=>o.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",String(St)]},String(St)))]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex flex-col justify-center mr-2",children:pt.map(St=>o.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",String(St)]},String(St)))}),o.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:dn.map((St,gt)=>o.jsx("div",{className:"flex",children:St.map((fn,Ks)=>{const _t=Math.max(...dn.flat()),Xa=_t>0?fn/_t:0;return o.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Xa*.8+.1})`,color:Xa>.5?"white":"inherit"},title:`True: ${pt[gt]}, Pred: ${pt[Ks]}, Count: ${fn}`,children:fn},Ks)})},gt))})]}),o.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),re.y_proba&&o.jsxs("div",{className:"h-[300px] w-full",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{if(!P)return o.jsx("div",{className:"text-center text-xs text-gray-400",children:"Select a class"});const ue=X(re.y_true,re.y_proba,P);return ue?o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs(Fue,{data:ue,margin:{top:5,right:20,bottom:20,left:20},children:[o.jsx(hc,{strokeDasharray:"3 3",opacity:.1}),o.jsx(pc,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),o.jsx(gc,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),o.jsx(mf,{}),o.jsx(Vf,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),o.jsx(Vf,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):o.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},V)})})]}):o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[o.jsx("p",{children:"Select a completed job to view evaluation details."}),o.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},Wue=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,s]=g.useState(null),[i,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(null);g.useEffect(()=>{m()},[]);const m=async()=>{try{const x=await bs.getActive();if(t(x),x){let v={},y=!1;if(x.input_schema&&x.input_schema.length>0&&(x.input_schema.forEach(w=>{v[w.name]=0}),y=!0,f(`Schema loaded from artifacts (${x.input_schema.length} features)`)),x.job_id)try{const w=await Mt.getJob(x.job_id);if(w.dataset_id){const b=await Cn.getSample(w.dataset_id,1);if(b.length>0){const j=b[0];if(y)Object.keys(v).forEach(k=>{k in j&&(v[k]=j[k])});else{const k=w.target_column,N=w.dropped_columns||[],_={...j};typeof k=="string"&&k in _&&Reflect.deleteProperty(_,k),N.forEach(E=>{typeof E=="string"&&E in _&&Reflect.deleteProperty(_,E)}),v=_;const S=[];k&&S.push(`Target: ${k}`),N.length>0&&S.push(`Dropped: ${N.length} cols`),S.length>0&&f(`Auto-filtered from dataset: ${S.join(", ")}`)}}}}catch(w){console.warn("Failed to fetch dataset sample",w)}Object.keys(v).length>0&&n(JSON.stringify([v],null,2))}}catch{t(null)}},h=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await bs.deactivate(),t(null),s(null)}catch(x){console.error("Failed to deactivate",x)}},p=async()=>{l(!0),u(null),s(null);try{const x=JSON.parse(r);if(!Array.isArray(x))throw new Error("Input must be a JSON array of objects");const v=await bs.predict(x);s(v.predictions)}catch(x){u(x.message||"Prediction failed")}finally{l(!1)}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),o.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),o.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:x=>{n(x.target.value)},placeholder:'[{"col1": 1, "col2": "A"}]'}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:()=>{p()},disabled:!e||i,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||i?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:i?"Running...":o.jsxs(o.Fragment,{children:[o.jsx(Ki,{className:"w-4 h-4"})," Run Prediction"]})})})]}),o.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ym,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&o.jsxs("button",{onClick:()=>{h()},className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[o.jsx(Ry,{className:"w-3 h-3"}),"Undeploy"]})]}),e?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),o.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200 break-all",children:e.job_id})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),o.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[o.jsx(Zn,{className:"w-4 h-4"})," Active"]})]})]}):o.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[o.jsx(An,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),o.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?o.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[o.jsx(An,{className:"w-5 h-5 shrink-0 mt-0.5"}),o.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?o.jsx("div",{className:"space-y-2",children:a.map((x,v)=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[o.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",v+1]}),o.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof x=="object"?JSON.stringify(x):String(x)})]},v))}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Kue=()=>{const{activeView:e,isPropertiesPanelExpanded:t}=Nl();return o.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[o.jsx(BK,{}),o.jsx(FK,{}),e==="canvas"?o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[o.jsx(SK,{}),o.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[!t&&o.jsx($K,{}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(IK,{}),o.jsx(zK,{})]})]}),o.jsx(DK,{})]}):e==="experiments"?o.jsx(Vue,{}):o.jsx(Wue,{})]})},que=()=>{const e=xe(s=>s.addNode),t=xe(s=>s.nodes),[r,n]=wF(),a=g.useRef(!1);return g.useEffect(()=>{const s=r.get("source_id");if(s){if(a.current)return;if(t.some(c=>{var u;return c.type==="dataset_node"&&((u=c.data)==null?void 0:u.datasetId)===s})){const c=new URLSearchParams(r);c.delete("source_id"),n(c,{replace:!0});return}a.current=!0,e("dataset_node",{x:100,y:100},{datasetId:s});const l=new URLSearchParams(r);l.delete("source_id"),n(l,{replace:!0})}},[r,e,t,n]),o.jsx(Kue,{})},Yue=()=>{const e=Fh(),[t,r]=g.useState(null),[n,a]=g.useState([]),[s,i]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,p]=g.useState(null),[x,v]=g.useState(null),[y,w]=g.useState(!1),[b,j]=g.useState(0),[k,N]=g.useState(!0),_=10,[S,E]=g.useState(""),[A,C]=g.useState(""),[O,I]=g.useState(()=>{try{const B=localStorage.getItem("skyulf_manual_deployments");return B?JSON.parse(B):{}}catch{return{}}}),M=B=>{I(Y=>{const X={...Y,[B]:!Y[B]};return localStorage.setItem("skyulf_manual_deployments",JSON.stringify(X)),X})},L=async B=>{p(B),w(!0),v(null);try{const Y=await fetch(`/api/registry/artifacts/${B}`);if(Y.ok){const X=await Y.json();v(X)}else{const X=await Y.json();v({storage_type:"error",base_uri:"",files:[`Failed to load artifacts: ${X.detail||"Unknown error"}`]})}}catch{v({storage_type:"error",base_uri:"",files:["Error loading artifacts"]})}finally{w(!1)}},D=async()=>{try{const B=await fetch("/api/registry/stats");if(B.ok){const Y=await B.json();r(Y)}}catch(B){console.error("Failed to fetch stats",B)}},R=async(B,Y=!1)=>{if(!s)try{i(!0);const X=B*_,Q=new URLSearchParams({skip:X.toString(),limit:_.toString()}),G=await fetch(`/api/registry/models?${Q.toString()}`);if(!G.ok)throw new Error("Failed to fetch models");const Z=await G.json();return Z.length<_?N(!1):N(!0),a(U=>Y?Z:[...U,...Z]),Z}catch(X){return c(X.message),null}finally{i(!1)}};g.useEffect(()=>{D(),R(0,!0)},[]),g.useEffect(()=>{const B=X=>{const Q=X.target;Q.scrollTop+Q.clientHeight>=Q.scrollHeight-100&&!s&&k&&j(G=>G+1)},Y=document.querySelector("main");return Y?(Y.addEventListener("scroll",B),()=>{Y.removeEventListener("scroll",B)}):(window.addEventListener("scroll",B),()=>{window.removeEventListener("scroll",B)})},[s,k]),g.useEffect(()=>{b>0&&R(b,!1)},[b]);const T=async B=>{if(confirm("Are you sure you want to deploy this model version? This will replace the currently active deployment."))try{m(B);const Y=await fetch(`/api/deployment/deploy/${B}`,{method:"POST"});if(!Y.ok){const Q=await Y.json();throw new Error(Q.detail||"Deployment failed")}j(0);const X=await R(0,!0);if(u&&X){const Q=X.find(G=>G.model_type===u.model_type&&G.dataset_id===u.dataset_id);Q&&d(Q)}confirm("Model deployed successfully! Do you want to go to the inference page?")&&e("/deployments")}catch(Y){alert(`Error deploying model: ${Y.message}`)}finally{m(null)}},P=B=>{switch(B.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-300"}},$=B=>{const Y=B.score||B.accuracy||B.f1_score||B.rmse||B.mse;if(Y!==void 0)return typeof Y=="number"?Y.toFixed(4):String(Y);const X=Object.keys(B);if(X.length>0){const Q=B[X[0]];return`${X[0]}: ${typeof Q=="number"?Q.toFixed(4):Q}`}return"-"},F=B=>B.toLowerCase()==="tuning"?"Advanced Training":B.toLowerCase()==="training"?"Standard Training":B.charAt(0).toUpperCase()+B.slice(1),H=n.filter(B=>{const Y=(B.dataset_name||"").toLowerCase().includes(S.toLowerCase())||(B.dataset_id||"").toLowerCase().includes(S.toLowerCase()),X=B.model_type.toLowerCase().includes(A.toLowerCase());return Y&&X});return s&&!t&&n.length===0?o.jsxs("div",{className:"p-8 flex justify-center items-center h-full text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading registry..."]}):l?o.jsxs("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:["Error: ",l]}):o.jsxs("div",{className:"p-8 min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[o.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Model Registry"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage versions, track metrics, and deploy your best models."})]}),o.jsx("button",{onClick:()=>{j(0),R(0,!0),D()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:"Refresh"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(j0,{title:"Total Versions",value:(t==null?void 0:t.total_versions)||0,icon:o.jsx(ym,{className:"text-blue-500"})}),o.jsx(j0,{title:"Active Deployments",value:(t==null?void 0:t.active_deployments)||0,icon:o.jsx(Gue,{className:"text-green-500"}),valueColor:"text-green-600 dark:text-green-400"}),o.jsx(j0,{title:"Model Types",value:n.length,icon:o.jsx(Iy,{className:"text-purple-500"}),valueColor:"text-purple-600 dark:text-purple-400"})]}),o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Model Type"}),o.jsx("input",{type:"text",placeholder:"e.g. RandomForest",value:A,onChange:B=>{C(B.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Dataset"}),o.jsx("input",{type:"text",placeholder:"e.g. Iris Dataset",value:S,onChange:B=>{E(B.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Iy,{size:20,className:"text-slate-400"}),"Registered Models"]}),o.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",H.length," of ",n.length," models"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Dataset"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Latest Version"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Source"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Deployments"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:H.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(ym,{size:48,className:"mb-4 opacity-20"}),o.jsx("p",{children:"No models found matching your filters."})]})})}):H.map(B=>{const Y=B.latest_version;if(!Y)return null;const X=`${B.model_type}-${B.dataset_id}`,Q=B.deployment_count>0,G=O[X]||!1,Z=Q||G;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:B.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsx("div",{className:"flex flex-col",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:B.dataset_name}),B.dataset_type&&o.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-600 uppercase",children:B.dataset_type})]})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:["v",Y.version]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:F(Y.source)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(Y.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P(Y.status)}`,children:Y.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",onClick:U=>{U.stopPropagation()},children:[o.jsx("input",{type:"checkbox",checked:Z,onChange:()=>{M(X)},disabled:Q,className:`w-4 h-4 rounded border-gray-300 focus:ring-green-500 ${Q?"text-green-600 opacity-50 cursor-not-allowed":"text-blue-600 cursor-pointer"}`}),Z?o.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs",children:[o.jsx(Zn,{size:12})," ",Q?"Active":"Manual"]}):o.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-xs",children:"None"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("button",{onClick:()=>{d(B)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 flex items-center justify-end gap-1 ml-auto",children:["View Versions ",o.jsx(Qn,{size:16})]})})]},X)})})]})})]}),s&&n.length>0&&o.jsxs("div",{className:"py-4 flex justify-center text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading more models..."]}),u&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{d(null)},children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:B=>{B.stopPropagation()},children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:u.model_type}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Version History"})]}),o.jsx("button",{onClick:()=>{d(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:o.jsx(Zt,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Version"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Metrics"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:u.versions.map(B=>o.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${B.is_deployed?"bg-green-50/50 dark:bg-green-900/10":""}`,children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-mono",children:["v",B.version]}),B.is_deployed&&o.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-1.5 py-0.5 rounded border border-green-200 dark:border-green-800",children:"Deployed"})]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(B.created_at).toLocaleString()}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-mono",children:$(B.metrics)}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${P(B.status)}`,children:B.status})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>{L(B.job_id)},className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:"View Artifacts",children:o.jsx(pk,{size:16})}),B.status==="completed"&&!B.is_deployed&&o.jsxs("button",{onClick:()=>{T(B.job_id)},disabled:f===B.job_id,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 disabled:opacity-50 flex items-center gap-1",children:[f===B.job_id?o.jsx("span",{className:"animate-spin h-3 w-3 border-b-2 border-current rounded-full"}):o.jsx(Ki,{size:14}),"Deploy"]}),B.is_deployed&&o.jsxs("span",{className:"text-green-600 dark:text-green-400 text-xs flex items-center gap-1",children:[o.jsx(Zn,{size:14})," Active"]})]})})]},B.job_id))})]})}),o.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:o.jsx("button",{onClick:()=>{d(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})}),h&&o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{p(null)},children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:B=>{B.stopPropagation()},children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[o.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[o.jsx(pk,{size:20,className:"text-blue-500"}),"Artifacts"]}),o.jsx("button",{onClick:()=>{p(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:o.jsx(Zt,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y?o.jsxs("div",{className:"flex justify-center py-8 text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading artifacts..."]}):!x||x.files.length===0?o.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No artifacts found."}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[x.storage_type==="s3"?o.jsx(LP,{size:20,className:"text-blue-600 dark:text-blue-400 flex-shrink-0"}):o.jsx(KF,{size:20,className:"text-slate-600 dark:text-slate-400 flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-700 dark:text-blue-300",children:x.storage_type==="s3"?"S3 Bucket Storage":"Local Storage"}),o.jsx("span",{className:"text-xs font-mono text-slate-600 dark:text-slate-400 truncate",title:x.base_uri,children:x.base_uri})]})]}),o.jsx("ul",{className:"space-y-2",children:x.files.map((B,Y)=>o.jsxs("li",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-700/30 border border-slate-100 dark:border-slate-700",children:[o.jsx(Hh,{size:18,className:"text-slate-400"}),o.jsx("span",{className:"text-sm font-mono text-slate-700 dark:text-slate-300 break-all",children:B})]},Y))})]})}),o.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:o.jsx("button",{onClick:()=>{p(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})]})},j0=({title:e,value:t,icon:r,valueColor:n="text-slate-900 dark:text-white"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${n}`,children:t})]}),o.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:r})]}),Gue=({className:e})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[o.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),o.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),o.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),o.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Xue=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,s]=g.useState(!1),[i,l]=g.useState(null),c=async()=>{s(!0),l(null);try{const[f,m]=await Promise.all([bs.getActive(),bs.getHistory(50,0)]);t(f),n(m)}catch(f){console.error("Failed to load deployments",f),l("Failed to load deployment data.")}finally{s(!1)}};g.useEffect(()=>{c()},[]);const u=async()=>{if(confirm("Are you sure you want to deactivate the current deployment?"))try{await bs.deactivate(),await c()}catch(f){console.error("Failed to deactivate",f),alert("Failed to deactivate deployment.")}},d=async f=>{if(confirm(`Are you sure you want to redeploy job ${f}?`))try{await bs.deployModel(f),await c()}catch(m){console.error("Failed to redeploy",m),alert("Failed to redeploy model.")}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Model Deployments"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage active models and view deployment history"})]}),o.jsx("button",{onClick:()=>{c()},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Mi,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[i&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[o.jsx(An,{className:"w-5 h-5"}),i]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(Vh,{className:"w-5 h-5 text-green-500"}),"Active Deployment"]}),e?o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-green-200 dark:border-green-900 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:o.jsx(ym,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.model_type}),o.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[o.jsx(Zn,{className:"w-3 h-3"})," Active"]})]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Job ID: ",e.job_id]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deployed: ",new Date(e.created_at).toLocaleString()]})]})]}),o.jsxs("button",{onClick:()=>{u()},className:"flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[o.jsx(Ry,{className:"w-4 h-4"}),"Deactivate"]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-xs font-mono text-gray-500 dark:text-gray-400 break-all",children:["Artifact URI: ",e.artifact_uri]})]}):o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx(Ry,{className:"w-6 h-6 text-gray-400"})}),o.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"No Active Model"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Deploy a model from the Experiments page to see it here."})]})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(lb,{className:"w-5 h-5 text-blue-500"}),"Deployment History"]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3",children:"Deployed At"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No deployment history found."})}):r.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:f.is_active?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Active"]}):o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"Inactive"]})}),o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:f.model_type}),o.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:[f.job_id.slice(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(f.created_at).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-right",children:!f.is_active&&o.jsx("button",{onClick:()=>{d(f.job_id)},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Redeploy"})})]},f.id))})]})})})]})]})]})};function Que(){return o.jsx(gF,{children:o.jsx(Kz,{children:o.jsxs(Gs,{path:"/",element:o.jsx(h6,{}),children:[o.jsx(Gs,{index:!0,element:o.jsx(G8,{})}),o.jsx(Gs,{path:"data",element:o.jsx(J8,{})}),o.jsx(Gs,{path:"canvas",element:o.jsx(que,{})}),o.jsx(Gs,{path:"registry",element:o.jsx(Yue,{})}),o.jsx(Gs,{path:"deployments",element:o.jsx(Xue,{})})]})})})}const ci=e=>e&&typeof e=="object"?e:null,Zue=e=>{const t=ci(e),r=t==null?void 0:t.sample;if(!t||!Array.isArray(r)||r.length===0)return o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No data available"});const n=ci(r[0])??{},a=Object.keys(n).slice(0,5),s=typeof t.name=="string"?t.name:"Dataset",i=Array.isArray(t.shape)?t.shape:null,l=i&&i.length>0?i[0]:void 0,c=i&&i.length>1?i[1]:void 0;return o.jsxs("div",{className:"overflow-x-auto rounded border border-border",children:[o.jsxs("div",{className:"text-xs font-semibold mb-1 flex justify-between p-2 bg-muted/50 border-b border-border",children:[o.jsx("span",{children:s}),o.jsxs("span",{className:"text-muted-foreground",children:[l??"?"," rows x ",c??"?"," cols"]})]}),o.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-muted/30",children:a.map(u=>o.jsx("th",{className:"p-2 border-b border-r border-border text-left font-medium text-muted-foreground last:border-r-0",children:u},u))})}),o.jsx("tbody",{children:r.slice(0,5).map((u,d)=>o.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/20",children:a.map(f=>{var m;return o.jsx("td",{className:"p-2 border-r border-border truncate max-w-[80px] last:border-r-0",children:String(((m=ci(u))==null?void 0:m[f])??"")},f)})},d))})]})]})},Jue=({config:e,onChange:t,nodeId:r})=>{var y;const{nodes:n,edges:a}=xe(),[s,i]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState("train");g.useEffect(()=>{const w=e.lastRunJobId;if(!w)return;const b=async()=>{try{const k=await Mt.getJob(w);c(k),k.status!=="completed"&&k.status}catch(k){console.error("Failed to fetch job",k)}};b();const j=setInterval(()=>{b()},2e3);return()=>{clearInterval(j)}},[e.lastRunJobId]);const f=async()=>{if(r){i(!0);try{const w=lp(n,a),b=await Mt.runPipeline({...w,target_node_id:r,job_type:"preview"});t({...e,lastRunJobId:b.job_id})}catch(w){console.error("Failed to run preview:",w),alert("Failed to start preview job.")}finally{i(!1)}}},m=((y=l==null?void 0:l.result)==null?void 0:y.metrics)??(l==null?void 0:l.result),h=ci(m),p=h?ci(h.data_summary):null,x=h==null?void 0:h.operation_mode,v=typeof x=="string"?x:void 0;return o.jsxs("div",{className:"p-4 space-y-4 h-full overflow-y-auto",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Connect this node to any data output to inspect the data state, schema, and applied transformations."}),o.jsxs("button",{onClick:()=>{f()},disabled:s,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-[#38bdf8] via-[#6366f1] to-[#a855f7] text-white px-3 py-1.5 rounded-md hover:opacity-90 disabled:opacity-50 transition-all text-xs font-medium shadow-md",children:[s?o.jsx(_r,{size:14,className:"animate-spin"}):o.jsx(Ki,{size:14}),s?"Running...":"Run Preview"]}),e.lastRunJobId&&l&&l.status!=="completed"&&o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 p-2 bg-muted/30 rounded border border-border",children:[o.jsx("span",{children:"Status:"}),o.jsx("span",{className:`ml-auto font-medium px-1.5 py-0.5 rounded text-[10px] ${l.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:l.status})]}),(l==null?void 0:l.status)==="completed"&&m&&o.jsxs("div",{className:"space-y-4 border-t border-border pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[o.jsxs("div",{className:"text-[10px] bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 p-2 rounded border border-blue-100 dark:border-blue-900/50",children:[o.jsx("strong",{className:"block mb-0.5",children:"Operation Mode"}),v||"Unknown"]}),p&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex border-b border-border",children:["train","test","validation"].map(w=>p[w]?o.jsx("button",{className:`text-[10px] px-3 py-1.5 border-b-2 transition-colors ${u===w?"border-primary font-medium text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{d(w)},children:w.charAt(0).toUpperCase()+w.slice(1)},w):null)}),p[u]?Zue(p[u]):o.jsxs("div",{className:"text-xs text-muted-foreground p-4 text-center border border-dashed border-border rounded",children:["No ",u," data available"]})]}),Array.isArray(h==null?void 0:h.applied_transformations)&&h.applied_transformations.length>0&&o.jsxs("div",{className:"pt-2 border-t border-border",children:[o.jsx("div",{className:"text-[10px] font-semibold mb-2 text-foreground",children:"Applied Steps"}),o.jsx("div",{className:"space-y-1.5",children:h.applied_transformations.map((w,b)=>{var j,k;return o.jsxs("div",{className:"text-[10px] flex items-center gap-2 text-muted-foreground p-1.5 bg-muted/30 rounded border border-border",children:[o.jsx("span",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center text-[8px] font-medium text-foreground",children:b+1}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-foreground",children:String(((j=ci(w))==null?void 0:j.transformer_name)??"")}),o.jsx("span",{className:"text-[9px] opacity-80",children:String(((k=ci(w))==null?void 0:k.transformer_type)??"")})]})]},b)})})]})]})]})},ede=({data:e})=>{const[t,r]=g.useState(null);return g.useEffect(()=>{const n=e.lastRunJobId;if(!n)return;const a=async()=>{try{const i=await Mt.getJob(n);r(i.status)}catch{r("error")}};a();const s=setInterval(()=>{a()},5e3);return()=>{clearInterval(s)}},[e.lastRunJobId]),o.jsx("div",{className:"text-xs flex items-center gap-2",children:e.lastRunJobId?t==="completed"?o.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[o.jsx(Zn,{size:12})," Ready"]}):t==="failed"?o.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium flex items-center gap-1",children:[o.jsx(An,{size:12})," Failed"]}):o.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1",children:[o.jsx(_r,{size:12,className:"animate-spin"})," Running"]}):o.jsx("span",{className:"text-muted-foreground italic",children:"Not run yet"})})},tde={type:"data_preview",label:"Data Preview",category:"Evaluation",description:"Inspect data state and transformations at this point.",icon:VP,inputs:[{id:"in",label:"Input Data",type:"any"}],outputs:[],component:ede,settings:Jue,validate:()=>({isValid:!0}),getDefaultConfig:()=>({})},Ge=e=>Q$({queryKey:["dataset-schema",e],queryFn:()=>K8(e),enabled:!!e,staleTime:1e3*60*5}),rde=({config:e,onChange:t})=>{const[r,n]=g.useState([]),[a,s]=g.useState(!1),[i,l]=g.useState(!1),{data:c,isLoading:u}=Ge(e.datasetId),d=()=>{s(!0),Cn.getUsable().then(n).catch(console.error).finally(()=>{s(!1)})};g.useEffect(()=>{d()},[]);const f=h=>{const p=h.target.value,x=r.find(v=>String(v.id)===p);t({...e,datasetId:p,datasetName:x==null?void 0:x.name})},m=(h,p)=>{l(!1),d(),t({...e,datasetId:h,datasetName:p})};return i?o.jsx(pO,{onUploadComplete:m,onCancel:()=>{l(!1)}}):o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),o.jsxs("button",{onClick:()=>{l(!0)},className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[o.jsx(qi,{size:14}),"New Upload"]})]}),a?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:f,children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(h=>o.jsx("option",{value:h.id,children:h.name},h.id))]})]}),e.datasetId&&o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[o.jsx(u6,{size:14}),o.jsx("span",{children:"Dataset Schema"})]}),u?o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-auto",children:o.jsxs("table",{className:"w-full text-xs text-left min-w-max",children:[o.jsx("thead",{className:"bg-muted/20 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Column"}),o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Type"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Missing"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Unique"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Min"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Max"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Mean"})]})}),o.jsx("tbody",{children:Object.values(c.columns).map(h=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2 font-mono font-medium whitespace-nowrap",children:h.name}),o.jsx("td",{className:"p-2 text-muted-foreground whitespace-nowrap",children:h.dtype}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.missing_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.unique_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.min_value!==void 0?Number(h.min_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.max_value!==void 0?Number(h.max_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.mean_value!==void 0?Number(h.mean_value).toFixed(2):"-"})]},h.name))})]})}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},nde=({data:e})=>{const[t,r]=g.useState(void 0);g.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Cn.getById(e.datasetId).then(a=>{r(a.name)}).catch(()=>{r(e.datasetId)})},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return o.jsx("div",{className:"text-xs",children:e.datasetId?o.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):o.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},ade={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Jn,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:rde,component:nde,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},$3=(e,t,r,n=new Set)=>{var s;if(n.has(e.id))return;if(n.add(e.id),(s=e.data)!=null&&s.datasetId)return e.data.datasetId;const a=Yi(e,t,r);for(const i of a){const l=$3(i,t,r,n);if(l)return l}},st=e=>{const t=xe(s=>s.nodes),r=xe(s=>s.edges),n=t.find(s=>s.id===e);return n?Yi(n,t,r).map(s=>{const i=$3(s,t,r);return i&&!s.data.datasetId?{...s.data,datasetId:i}:s.data}):[]},Dl=(e,t={})=>{var s;const n=(s=st(e).find(i=>i.datasetId))==null?void 0:s.datasetId,a=xe(i=>i.executionResult);return g.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(i=>{var l,c;if(t.types||t.suggestedNodeTypes){const u=(l=t.types)==null?void 0:l.includes(i.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(i.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!i.target_columns||i.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Qi=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:o.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[o.jsx(BP,{className:"w-4 h-4"}),o.jsx("span",{children:"Recommendations"})]}),o.jsx("div",{className:"space-y-2",children:e.map(n=>o.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&o.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&o.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:o.jsx(Zn,{className:"w-5 h-5"})})]})},n.rule_id))})]}),sde=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=st(r||"").find(N=>N.datasetId))==null?void 0:k.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(N=>N.name):[],c=xe(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=g.useRef(null),[m,h]=g.useState(!1);g.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(_=>{for(const S of _)h(S.contentRect.width>450)});return N.observe(f.current),()=>{N.disconnect()}},[]);const p=Dl(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),x=N=>{var _;if((_=N.target_columns)!=null&&_.length){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[v,y]=g.useState(""),w=g.useMemo(()=>l.filter(N=>N.toLowerCase().includes(v.toLowerCase())),[l,v]),b=()=>{t({...e,columns:w})},j=()=>{const N=e.columns.filter(_=>!w.includes(_));t({...e,columns:N})};return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Qi,{recommendations:p,onApply:x})}),o.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),o.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:N=>t({...e,missing_threshold:parseInt(N.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&o.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(d.dropped_columns_count)})]}),Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(N=>{const _=String(N);return o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_)})})]})]})]})]}),o.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${m?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[o.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"relative group",children:o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:N=>{y(N.target.value)}})}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?w.length>0?o.jsx("div",{className:"space-y-0.5",children:w.map(N=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:_=>{const S=_.target.checked?[...e.columns,N]:e.columns.filter(E=>E!==N);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),o.jsx("span",{className:"truncate font-mono text-xs",title:N,children:N})]},N))}):o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):o.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},ide={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Bs,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:sde,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},ode=({config:e,onChange:t,nodeId:r})=>{var S;const a=(S=st(r||"").find(E=>E.datasetId))==null?void 0:S.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(E=>E.name):[],c=xe(E=>E.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=d!=null&&d.fill_values&&typeof d.fill_values=="object"?d.fill_values:null,m=d!=null&&d.missing_counts&&typeof d.missing_counts=="object"?d.missing_counts:null,h=g.useRef(null),[p,x]=g.useState(!1);g.useEffect(()=>{if(!h.current)return;const E=new ResizeObserver(A=>{for(const C of A)x(C.contentRect.width>450)});return E.observe(h.current),()=>{E.disconnect()}},[]);const v=Dl(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),y=E=>{if(E.target_columns.length>0){const A=Array.from(new Set([...e.columns,...E.target_columns]));t({...e,columns:A})}},[w,b]=g.useState(""),j=g.useMemo(()=>l.filter(E=>E.toLowerCase().includes(w.toLowerCase())),[l,w]),k=()=>{t({...e,columns:j})},N=()=>{const E=e.columns.filter(A=>!j.includes(A));t({...e,columns:E})},_=()=>d?o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),f&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(f).map(([E,A])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:E,children:[E,":"]}),o.jsx("span",{className:"font-mono",children:typeof A=="number"?A.toFixed(4):String(A)})]},E))})]}),m&&o.jsxs("div",{className:"space-y-1 mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(m).map(([E,A])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:E,children:[E,":"]}),o.jsx("span",{className:"font-mono",children:String(A)})]},E))}),d.total_missing!==void 0&&o.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",o.jsx("span",{className:"font-mono font-medium",children:String(d.total_missing)})]})]}),!f&&!m&&(u==null?void 0:u.status)==="success"&&o.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[v.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Qi,{recommendations:v,onApply:y})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:E=>t({...e,method:E.target.value}),children:[o.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),o.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),o.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:E=>t({...e,strategy:E.target.value}),children:[o.jsx("option",{value:"mean",children:"Mean (Average)"}),o.jsx("option",{value:"median",children:"Median (Middle Value)"}),o.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),o.jsx("option",{value:"constant",children:"Constant Value"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:E=>t({...e,fill_value:E.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:E=>t({...e,n_neighbors:parseInt(E.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:E=>t({...e,weights:E.target.value}),children:[o.jsx("option",{value:"uniform",children:"Uniform"}),o.jsx("option",{value:"distance",children:"Distance"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:E=>t({...e,max_iter:parseInt(E.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:E=>t({...e,estimator:E.target.value}),children:[o.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),o.jsx("option",{value:"decision_tree",children:"Decision Tree"}),o.jsx("option",{value:"extra_trees",children:"Extra Trees"}),o.jsx("option",{value:"knn",children:"KNN"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:E=>t({...e,random_state:parseInt(E.target.value)})})]})]}),p&&o.jsx(_,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${p?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:k,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:N,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:w,onChange:E=>{b(E.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:j.length>0?j.map(E=>o.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(E),onChange:A=>{const C=A.target.checked?[...e.columns,E]:e.columns.filter(O=>O!==E);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),o.jsx("span",{className:"truncate",title:E,children:E})]}),m&&m[E]!==void 0&&o.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${String(m[E])} missing values filled`,children:String(m[E])})]},E)):o.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!p&&o.jsx(_,{})]})]})},lde={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:JF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:ode,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:e.method==="simple"&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},cde=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=st(r||"").find(j=>j.datasetId))==null?void 0:b.datasetId,{data:s,isLoading:i}=Ge(a),l=xe(j=>j.executionResult),c=r?l==null?void 0:l.node_results[r]:null,u=g.useRef(null),[d,f]=g.useState(!1),[m,h]=g.useState("");g.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const N of k)f(N.contentRect.width>450)});return j.observe(u.current),()=>{j.disconnect()}},[]);const p=s?Object.values(s.columns).filter(j=>["int","float","number"].some(k=>j.dtype.toLowerCase().includes(k))).map(j=>j.name):[],x=p.filter(j=>j.toLowerCase().includes(m.toLowerCase())),v=()=>{t({...e,columns:x})},y=()=>{const j=e.columns.filter(k=>!x.includes(k));t({...e,columns:j})},w=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const N=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:N()})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((_,S)=>{let E="";if(e.method==="standard"){const A=j.mean?j.mean[S]:void 0,C=j.scale?j.scale[S]:void 0;typeof A=="number"&&(E=`=${A.toFixed(2)}, =${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="minmax"){const A=j.data_min?j.data_min[S]:void 0,C=j.data_max?j.data_max[S]:void 0;typeof A=="number"&&(E=`Min=${A.toFixed(2)}, Max=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="robust"){const A=j.center?j.center[S]:void 0,C=j.scale?j.scale[S]:void 0;typeof A=="number"&&(E=`Med=${A.toFixed(2)}, IQR=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const A=j.max_abs?j.max_abs[S]:void 0;typeof A=="number"&&(E=`MaxAbs=${A.toFixed(2)}`)}return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:_,children:_}),o.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},_)})})]})};return o.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[o.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),o.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),o.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),o.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (with_mean)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (Median)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&o.jsx(w,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:v,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:y,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:m,onChange:j=>{h(j.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(j=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const N=k.target.checked?[...e.columns,j]:e.columns.filter(_=>_!==j);t({...e,columns:N})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:j,children:j})]},j)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:i?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&o.jsx(w,{})]})]})},ude={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:s6,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:cde,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},z3={getAllNodes:async()=>(await at.get("/ml/registry")).data};function F3(){const[e,t]=g.useState(null),[r,n]=g.useState({width:0,height:0}),a=g.useCallback(s=>{if(s.length===0)return;const{width:i,height:l}=s[0].contentRect;n({width:i,height:l})},[]);return g.useEffect(()=>{if(!e)return;const s=new ResizeObserver(a);return s.observe(e),()=>{s.disconnect()}},[e,a]),[t,r]}const dde=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(RP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),fde=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,s]=g.useState(r),[i,l]=g.useState([]),[c,u]=g.useState(!1),[d,f]=g.useState(null);g.useEffect(()=>{e&&s(r)},[e,r]);const m=g.useCallback(()=>{a&&(u(!0),f(null),Mt.getTuningHistory(a).then(h=>{l(h)}).catch(h=>{console.error("Failed to fetch jobs",h),f("Failed to load history.")}).finally(()=>{u(!1)}))},[a]);return g.useEffect(()=>{e&&m()},[e,m]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(_r,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),o.jsxs("select",{value:a,onChange:h=>{s(h.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Mi,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(Zt,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Gn,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(An,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:d}),o.jsx("button",{onClick:m,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Jn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(h=>{var p;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((p=h.result)==null?void 0:p.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Gc,{className:"w-3 h-3"})," Model Ready"]})]})]}),o.jsxs("button",{onClick:()=>{var x;(x=h.result)!=null&&x.best_params&&(n({params:h.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[o.jsx(Gc,{className:"w-3 h-3"}),"Apply"]})]})},h.job_id)})})]})]}):null},mde=({value:e,type:t,onChange:r,step:n,min:a,max:s})=>{const[i,l]=g.useState("");g.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=i.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(u)};return o.jsx("input",{type:"text",value:i,onChange:u=>{l(u.target.value)},onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:s}:{}})},hde=({config:e,onChange:t,nodeId:r})=>{const[n,a]=g.useState([]),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:m}=Sl(),h=st(r||""),p=xe(P=>P.nodes),x=xe(P=>P.edges),y=(P=>{var H,B,Y,X;const $=new Set,F=[P];for(;F.length>0;){const Q=F.shift();if(!Q||$.has(Q))continue;$.add(Q);const G=p.find(U=>U.id===Q);if(!G)continue;if(Q!==P){if((H=G.data)!=null&&H.datasetId)return G.data.datasetId;if((B=G.data)!=null&&B.dataset_id)return G.data.dataset_id;if((Y=G.data)!=null&&Y.config){const U=G.data.config;if(U.datasetId)return U.datasetId;if(U.dataset_id)return U.dataset_id}if((X=G.data)!=null&&X.params){const U=G.data.params;if(U.datasetId)return U.datasetId;if(U.dataset_id)return U.dataset_id}}const Z=Yi(G,p,x);for(const U of Z)F.push(U.id)}})(r||""),{data:w}=Ge(y),b=w?Object.values(w.columns):[],[j,{width:k}]=F3(),N=k>450,[_,S]=g.useState("model"),[E,A]=g.useState(!1),[C,O]=g.useState([]),[I,M]=g.useState(!1);g.useEffect(()=>{(async()=>{M(!0);try{const F=(await z3.getAllNodes()).filter(H=>H.category==="Model");O(F)}catch($){console.error("Failed to fetch models:",$),O([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{M(!1)}})()},[]);const L=g.useRef(!1);g.useEffect(()=>{e.model_type&&(c(!0),Mt.getHyperparameters(e.model_type).then(P=>{const $=P;if(a($),L.current){const F={};$.forEach(H=>{F[H.name]=H.default}),t({...e,hyperparameters:F}),L.current=!1}}).catch(console.error).finally(()=>{c(!1)}))},[e.model_type]),g.useEffect(()=>{var $;const P=($=h.find(F=>F.target_column))==null?void 0:$.target_column;P&&e.target_column!==P&&(e.target_column||t({...e,target_column:P}))},[h,e.target_column,t]);const D=async()=>{if(r)try{const P=lp(p,x);await Mt.runPipeline({...P,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),m("training"),f(!0)}catch(P){console.error("Failed to submit training job:",P),alert("Failed to submit training job. Check console for details.")}},R=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:e.model_type,onChange:P=>{Object.keys(e.hyperparameters).length>0&&(L.current=!0),t({...e,model_type:P.target.value,hyperparameters:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:I,children:C.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))}),o.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),b.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(ub,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[b.length>0?o.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),b.map(P=>o.jsx("option",{value:P.name,children:P.name},P.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),b.length>0&&o.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>{A(!E)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sb,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Qn,{className:`w-4 h-4 text-gray-400 transition-transform ${E?"rotate-90":""}`})]}),E&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"}),o.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),T=()=>{const P=Object.keys(e.hyperparameters).length>0,$=F=>{if(F){const H={};n.forEach(B=>{H[B.name]=B.default}),Object.keys(e.hyperparameters).length===0&&t({...e,hyperparameters:H})}else t({...e,hyperparameters:{}})};return o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(cb,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:`text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none ${l?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("input",{type:"checkbox",checked:P,onChange:F=>{$(F.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),"Customize"]})})]}),P?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-end mb-2",children:o.jsxs("button",{onClick:()=>{i(!0)},className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[o.jsx(hk,{className:"w-3 h-3"}),"Load Best"]})}),l?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(Gn,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(F=>{var H;return o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:F.label}),F.description&&o.jsx(dde,{text:F.description})]}),F.type==="select"?o.jsx("select",{value:e.hyperparameters[F.name]??F.default,onChange:B=>t({...e,hyperparameters:{...e.hyperparameters,[F.name]:B.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(H=F.options)==null?void 0:H.map(B=>o.jsx("option",{value:String(B.value),children:B.label},String(B.value)))}):o.jsx(mde,{type:F.type,value:e.hyperparameters[F.name]??F.default,onChange:B=>t({...e,hyperparameters:{...e.hyperparameters,[F.name]:B}}),step:F.step,min:F.min,max:F.max})]},F.name)}),n.length===0&&!l&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),o.jsxs("button",{onClick:()=>{i(!0)},className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[o.jsx(hk,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return o.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&o.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Train a model using fixed parameters or defaults."}),o.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:o.jsx(Zt,{className:"w-3 h-3"})})]}),o.jsx(fde,{isOpen:s,onClose:()=>{i(!1)},modelType:e.model_type,onSelect:P=>{const $=P;$.modelType&&$.modelType!==e.model_type?t({...e,model_type:$.modelType,hyperparameters:$.params}):t({...e,hyperparameters:$.params})}}),!N&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${_==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("model")},children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${_==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("params")},children:"Hyperparameters"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:N?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:R}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:o.jsx(T,{})})]}):o.jsxs(o.Fragment,{children:[_==="model"&&R,_==="params"&&o.jsx(T,{})]})}),o.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:o.jsxs("button",{onClick:()=>{D()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Ki,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},pde={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:TF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:hde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},gde=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(RP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),yde=({def:e,value:t,onChange:r})=>{const[n,a]=g.useState(""),[s,i]=g.useState(null);g.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const l=u=>{if(!u.trim())return[];const d=u.split(",").map(m=>m.trim()).filter(m=>m!==""),f=[];for(const m of d){if(m.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const h=Number(m);if(isNaN(h))throw new Error(`"${m}" is not a valid number`);f.push(h)}else if(e.type==="boolean"){const h=m.toLowerCase();if(h==="true")f.push(!0);else if(h==="false")f.push(!1);else throw new Error(`"${m}" must be true or false`)}else f.push(m)}return f},c=()=>{try{const u=l(n);i(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){i(u.message)}};return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&o.jsx(gde,{text:e.description})]}),o.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${s?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),i(null)},onBlur:c}),e.type==="select"&&e.options&&o.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>o.jsx("button",{onClick:()=>{const d=l(n),m=d.includes(u.value)?d.filter(h=>h!==u.value):[...d,u.value];r(m)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},String(u.value)))})]}),s&&o.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[o.jsx(An,{className:"w-3 h-3"}),s]})]})},xde=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=g.useState(r),[s,i]=g.useState([]),[l,c]=g.useState(!1),[u,d]=g.useState(null);g.useEffect(()=>{e&&a(r)},[e,r]);const f=g.useCallback(()=>{n&&(c(!0),d(null),Mt.getTuningHistory(n).then(m=>{i(m)}).catch(m=>{console.error("Failed to fetch jobs",m),d("Failed to load history.")}).finally(()=>{c(!1)}))},[n]);return g.useEffect(()=>{e&&f()},[e,f]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:o.jsx(_r,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),o.jsxs("select",{value:n,onChange:m=>{a(m.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Mi,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(Zt,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Gn,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(An,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:u}),o.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Jn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(m=>{var h;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((h=m.result)==null?void 0:h.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Gc,{className:"w-3 h-3"})," Model Ready"]})]})]})})},m.job_id)})})]})]}):null},vde=({config:e,onChange:t,nodeId:r})=>{const[n,a]=g.useState([]),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState("config"),[f,m]=g.useState(!1),[h,p]=g.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[x,{width:v}]=F3(),y=v>450,{toggleDrawer:w,setTab:b}=Sl(),j=st(r||""),k=xe(P=>P.nodes),N=xe(P=>P.edges),S=(P=>{var H,B,Y,X;const $=new Set,F=[P];for(;F.length>0;){const Q=F.shift();if($.has(Q))continue;$.add(Q);const G=k.find(U=>U.id===Q);if(!G)continue;if(Q!==P){if((H=G.data)!=null&&H.datasetId)return G.data.datasetId;if((B=G.data)!=null&&B.dataset_id)return G.data.dataset_id;const U=G.data;if((Y=U.config)!=null&&Y.datasetId)return U.config.datasetId;if((X=U.config)!=null&&X.dataset_id)return U.config.dataset_id}const Z=Yi(G,k,N);for(const U of Z)F.push(U.id)}})(r||""),{data:E}=Ge(S),A=E?Object.values(E.columns):[],[C,O]=g.useState([]),[I,M]=g.useState(!1);g.useEffect(()=>{(async()=>{M(!0);try{const F=(await z3.getAllNodes()).filter(H=>H.category==="Model");O(F)}catch($){console.error("Failed to fetch models:",$),O([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{M(!1)}})()},[]),g.useEffect(()=>{var $;const P=($=j.find(F=>F.target_column))==null?void 0:$.target_column;P&&e.target_column!==P&&t({...e,target_column:P})},[j,e.target_column]);const L=g.useRef(null);g.useEffect(()=>{(async()=>{const $=e.model_type;if(!$)return;const F=$!==L.current;if(!(!F&&n.length>0)){i(!0);try{const H=await Mt.getHyperparameters($);if(a(H),F){const B=await Mt.getDefaultSearchSpace($);t({...e,search_space:B||{}}),L.current=$}}catch(H){console.error("Failed to load model hyperparameters:",H)}finally{i(!1)}}})()},[e.model_type]);const D=async()=>{if(r)try{const P=lp(k,N);await Mt.runPipeline({...P,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),b("tuning"),w(!0)}catch(P){console.error("Failed to submit tuning job:",P),alert("Failed to submit tuning job.")}},R=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:e.model_type,onChange:P=>{t({...e,model_type:P.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:I,children:C.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))}),o.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),A.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(ub,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[A.length>0?o.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),A.map(P=>o.jsx("option",{value:P.name,children:P.name},P.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),A.length>0&&o.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),o.jsxs("select",{value:e.search_strategy??"random",onChange:P=>t({...e,search_strategy:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"random",children:"Random Search"}),o.jsx("option",{value:"grid",children:"Grid Search"}),o.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),o.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),o.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),o.jsxs("select",{value:e.metric,onChange:P=>t({...e,metric:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"accuracy",children:"Accuracy"}),o.jsx("option",{value:"f1",children:"F1 Score"}),o.jsx("option",{value:"roc_auc",children:"ROC AUC"}),o.jsx("option",{value:"mse",children:"MSE"}),o.jsx("option",{value:"r2",children:"R2 Score"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),o.jsx("input",{type:"number",value:e.n_trials,onChange:P=>t({...e,n_trials:Number(P.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>{m(!f)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sb,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Qn,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),T=o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(cb,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),s?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Gn,{className:"w-6 h-6 animate-spin text-purple-500"})}):o.jsxs("div",{className:"space-y-3",children:[n.map(P=>{var $;return o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:o.jsx(yde,{def:P,value:(($=e.search_space)==null?void 0:$[P.name])||[],onChange:F=>{t({...e,search_space:{...e.search_space,[P.name]:F}})}})},`${e.model_type}-${P.name}`)}),n.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return o.jsxs("div",{className:"flex flex-col h-full",ref:x,children:[h&&o.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),o.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:o.jsx(Zt,{className:"w-3 h-3"})})]}),!y&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("config")},children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("search_space")},children:"Search Space"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:y?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:R}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:T})]}):o.jsxs(o.Fragment,{children:[u==="config"&&R,u==="search_space"&&T]})}),o.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[o.jsxs("button",{onClick:()=>{D()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Ki,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),o.jsxs("button",{onClick:()=>{c(!0)},className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[o.jsx(_r,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),o.jsx(xde,{isOpen:l,onClose:()=>{c(!1)},modelType:e.model_type})]})},bde={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:o6,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:vde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},wde=({config:e,onChange:t,nodeId:r})=>{var j;const n=st(r||""),a=xe(k=>k.nodes),s=xe(k=>k.edges),i=xe(k=>k.executionResult),c=(k=>{var S;const N=new Set,_=[k];for(;_.length>0;){const E=_.shift();if(!E||N.has(E))continue;N.add(E);const A=a.find(O=>O.id===E);if(!A)continue;if(E!==k&&((S=A.data)!=null&&S.datasetId))return A.data.datasetId;const C=Yi(A,a,s);for(const O of C)_.push(O.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;g.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=Ge(c||e.datasetId),m=d?Object.values(d.columns).map(k=>k.name):[],h=g.useRef(null),[p,x]=g.useState(!1);g.useEffect(()=>{if(!h.current)return;const k=new ResizeObserver(N=>{for(const _ of N)x(_.contentRect.width>450)});return k.observe(h.current),()=>{k.disconnect()}},[]);const v=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},y=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),w=["select_from_model","rfe"].includes(e.method),b=()=>{const k=i==null?void 0:i.node_results[r||""];if(!k)return null;const N=k.metrics||{},_=N.dropped_columns,S=N.feature_scores,E=N.p_values,A=N.feature_importances,C=N.variances,O=N.ranking;return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&o.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),_&&_.length>0?o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:o.jsxs("span",{children:["Dropped Columns (",_.length,")"]})}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:_.map(I=>{const M=S==null?void 0:S[I],L=E==null?void 0:E[I],D=A==null?void 0:A[I],R=C==null?void 0:C[I],T=O==null?void 0:O[I];return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:I,children:I}),o.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[M!==void 0&&o.jsxs("span",{children:["Score: ",M.toFixed(4)]}),L!==void 0&&o.jsxs("span",{children:["p-val: ",L.toExponential(2)]}),D!==void 0&&o.jsxs("span",{children:["Imp: ",D.toFixed(4)]}),R!==void 0&&o.jsxs("span",{children:["Var: ",R.toFixed(4)]}),T!==void 0&&o.jsxs("span",{children:["Rank: ",T]})]})]},I)})})]}):k.status==="success"&&o.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[o.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||A)&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||A||{}).sort(([,I],[,M])=>M-I).slice(0,5).map(([I,M])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"truncate max-w-[120px]",title:I,children:I}),o.jsx("span",{className:"font-mono text-[10px]",children:M.toFixed(4)})]},I))})]})]})};return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[o.jsxs("optgroup",{label:"Simple",children:[o.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),o.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),o.jsxs("optgroup",{label:"Univariate",children:[o.jsx("option",{value:"select_k_best",children:"Select K Best"}),o.jsx("option",{value:"select_percentile",children:"Select Percentile"}),o.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),o.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),o.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),o.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),o.jsxs("optgroup",{label:"Model Based",children:[o.jsx("option",{value:"select_from_model",children:"Select From Model"}),o.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?o.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",o.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[o.jsx("option",{value:"",children:"Select Target..."}),m.map(k=>o.jsx("option",{value:k,children:k},k))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(y||w)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto-detect"}),o.jsx("option",{value:"classification",children:"Classification"}),o.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&o.jsx(b,{})]}),o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[o.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[o.jsx("option",{value:"pearson",children:"Pearson"}),o.jsx("option",{value:"spearman",children:"Spearman"}),o.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),y&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[o.jsx("option",{value:"",children:"Auto (Default)"}),v().map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Mode"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[o.jsx("option",{value:"k_best",children:"K Best"}),o.jsx("option",{value:"percentile",children:"Percentile"}),o.jsx("option",{value:"fpr",children:"FPR"}),o.jsx("option",{value:"fdr",children:"FDR"}),o.jsx("option",{value:"fwe",children:"FWE"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),w&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto"}),o.jsx("option",{value:"RandomForest",children:"Random Forest"}),o.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),o.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Step"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[o.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),o.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&o.jsx(b,{})]})]})]})},jde={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:$P,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:wde,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},kde=({config:e,onChange:t,nodeId:r})=>{var p,x;const n=st(r||""),a=(p=n.find(v=>v.datasetId))==null?void 0:p.datasetId,s=(x=n.find(v=>v.target_column))==null?void 0:x.target_column;Zr.useEffect(()=>{const v={};a&&e.datasetId!==a&&(v.datasetId=a),s&&e.target_column!==s&&(v.target_column=s),Object.keys(v).length>0&&t({...e,...v})},[a,s,e.datasetId,e.target_column,t]);const{data:i,isLoading:l}=Ge(a||e.datasetId),c=i?Object.values(i.columns).map(v=>v.name):[],u=e.validation_size||0,d=1-e.test_size-u,f=Zr.useRef(null),[m,h]=Zr.useState(!1);return Zr.useEffect(()=>{if(!f.current)return;const v=new ResizeObserver(y=>{for(const w of y)h(w.contentRect.width>450)});return v.observe(f.current),()=>{v.disconnect()}},[]),o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&!e.datasetId&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:v=>t({...e,test_size:parseFloat(v.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:u,onChange:v=>t({...e,validation_size:parseFloat(v.target.value)})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(d*100),"% Training, ",Math.round(u*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),d<=0&&o.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:v=>t({...e,random_state:parseInt(v.target.value)})})]})]}),o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:v=>t({...e,shuffle:v.target.checked})}),o.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:v=>t({...e,stratify:v.target.checked})}),o.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),o.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:v=>t({...e,target_column:v.target.value}),disabled:!e.stratify,children:[o.jsx("option",{value:"",children:"-- Select Target --"}),c.map(v=>o.jsx("option",{value:v,children:v},v))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},Nde={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:UP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:kde,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},Sde=({config:e,onChange:t,nodeId:r})=>{const n=xe(u=>u.nodes),a=xe(u=>u.edges),i=(u=>{var m;const d=new Set,f=[u];for(;f.length>0;){const h=f.shift();if(!h||d.has(h))continue;d.add(h);const p=n.find(v=>v.id===h);if(!p)continue;if(h!==u&&((m=p.data)!=null&&m.datasetId))return p.data.datasetId;const x=Yi(p,n,a);for(const v of x)f.push(v.id)}})(r||"");Zr.useEffect(()=>{i&&e.datasetId!==i&&t({...e,datasetId:i})},[i,e.datasetId,t]);const{data:l}=Ge(i||e.datasetId),c=l?Object.values(l.columns).map(u=>u.name):[];return o.jsx("div",{className:"p-4 space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>o.jsx("option",{value:u,children:u},u))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},_de={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:UP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:Sde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},Ede=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=st(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:s}=Ge(a),i=xe(d=>d.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null;return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),o.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),o.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(c.DropMissingRows_rows_removed)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:String(c.DropMissingRows_rows_remaining)})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:String(c.DropMissingRows_rows_total)})]})]})]})]})},Cde={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:BF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Ede,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},Pde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=st(r||"").find(y=>y.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(y=>y.name):[],c=xe(y=>y.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,[f,m]=g.useState(""),h=g.useMemo(()=>l.filter(y=>y.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,subset:h})},x=()=>{const y=e.subset.filter(w=>!h.includes(w));t({...e,subset:y})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:y=>t({...e,keep:y.target.value}),children:[o.jsx("option",{value:"first",children:"Keep First Occurrence"}),o.jsx("option",{value:"last",children:"Keep Last Occurrence"}),o.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:y=>{m(y.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[h.map(y=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(y),onChange:w=>{const b=w.target.checked?[...e.subset,y]:e.subset.filter(j=>j!==y);t({...e,subset:b})}}),y]},y)),h.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(d.Deduplicate_rows_removed)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:String(d.Deduplicate_rows_remaining)})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:String(d.Deduplicate_rows_total)})]})]})]})]})},Ode={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:RF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:Pde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},Ade=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],Mde=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=st(r||"").find(b=>b.datasetId))==null?void 0:w.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(b=>b.name):[],c=xe(b=>b.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=g.useRef(null),[m,h]=g.useState(!1);g.useEffect(()=>{if(!f.current)return;const b=new ResizeObserver(j=>{for(const k of j)h(k.contentRect.width>450)});return b.observe(f.current),()=>{b.disconnect()}},[]);const p=()=>{if(l.length===0)return;const b=l.find(j=>!e.column_types[j])||l[0];t({...e,column_types:{...e.column_types,[b]:"float"}})},x=b=>{const j={...e.column_types};Reflect.deleteProperty(j,b),t({...e,column_types:j})},v=(b,j)=>{if(b===j)return;const k=e.column_types[b],N={...e.column_types};Reflect.deleteProperty(N,b),N[j]=k,t({...e,column_types:N})},y=(b,j)=>{t({...e,column_types:{...e.column_types,[b]:j}})};return o.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),o.jsx("button",{onClick:p,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:o.jsx(qi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:`space-y-2 ${m?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([b,j])=>o.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[o.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:b,onChange:k=>{v(b,k.target.value)},children:l.map(k=>o.jsx("option",{value:k,disabled:k!==b&&!!e.column_types[k],children:k},k))}),o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>{y(b,k.target.value)},children:Ade.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsx("button",{onClick:()=>{x(b)},className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:o.jsx(Bs,{className:"w-4 h-4"})})]},b)),Object.keys(e.column_types).length===0&&o.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${m?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),o.jsx("span",{className:"font-medium",children:String(d.casted_columns_count)})]}),d.cast_errors!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(d.cast_errors)})]})]})]})]})},Tde={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:FF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:Mde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},Ide=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=st(r||"").find(y=>y.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(y=>y.name):[],c=xe(y=>y.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,[f,m]=g.useState(""),h=g.useMemo(()=>l.filter(y=>y.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,columns:h})},x=()=>{const y=e.columns.filter(w=>!h.includes(w));t({...e,columns:y})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:y=>t({...e,flag_suffix:y.target.value}),placeholder:"_was_missing"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:y=>{m(y.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[h.map(y=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(y),onChange:w=>{const b=w.target.checked?[...e.columns,y]:e.columns.filter(j=>j!==y);t({...e,columns:b})}}),y]},y)),h.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),(()=>{const y=d==null?void 0:d.missing_indicators_created,w=Array.isArray(d==null?void 0:d.missing_indicators_columns)?d==null?void 0:d.missing_indicators_columns:[];return y===void 0?null:o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),o.jsx("span",{className:"font-medium text-primary",children:String(y)})]}),w.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(b=>{const j=String(b);return o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:j},j)})})]})]})]})})()]})},Dde={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:UF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:Ide,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},Rde=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=st(r||"").find(S=>S.datasetId))==null?void 0:_.datasetId,{data:s,isLoading:i}=Ge(a),[l,c]=g.useState(""),u=g.useRef(null),[d,f]=g.useState(!1),m=xe(S=>S.executionResult),h=r?m==null?void 0:m.node_results[r]:null,p=h!=null&&h.metrics&&typeof h.metrics=="object"?h.metrics:null,x=p!=null&&p.categories_count&&typeof p.categories_count=="object"?p.categories_count:null,v=p!=null&&p.classes_count&&typeof p.classes_count=="object"?p.classes_count:null,w=((m==null?void 0:m.recommendations)||[]).filter(S=>S.suggested_node_type==="encoding"||S.type.includes("encoding")||S.type.includes("cardinality"));g.useEffect(()=>{if(!u.current)return;const S=new ResizeObserver(E=>{for(const A of E)f(A.contentRect.width>400)});return S.observe(u.current),()=>{S.disconnect()}},[]);const b=s?Object.values(s.columns).filter(S=>["object","string","category","bool"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],j=b.filter(S=>S.toLowerCase().includes(l.toLowerCase())),k=()=>{t({...e,columns:[...b]})},N=()=>{t({...e,columns:[]})};return o.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:S=>t({...e,method:S.target.value}),children:[o.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),o.jsx("option",{value:"dummy",children:"Dummy Encoding"}),o.jsx("option",{value:"label",children:"Label Encoding"}),o.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),o.jsx("option",{value:"target",children:"Target Encoding"}),o.jsx("option",{value:"hash",children:"Hash Encoding"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),o.jsxs("div",{className:"pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:S=>t({...e,drop_original:S.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),o.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),o.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:S=>t({...e,drop_first:S.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),o.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:S=>t({...e,handle_unknown:S.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[o.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),o.jsx("option",{value:"error",children:"Raise Error"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:S=>t({...e,target_column:S.target.value}),children:[o.jsx("option",{value:"",children:"Select a target column..."}),s&&Object.values(s.columns).map(S=>o.jsxs("option",{value:S.name,children:[S.name," (",S.dtype,")"]},S.name))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:S=>t({...e,n_features:parseInt(S.target.value)})})]}),e.method==="ordinal"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:S=>t({...e,unknown_value:parseInt(S.target.value)}),title:"Integer to assign for unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:S=>t({...e,missing_code:parseInt(S.target.value)}),title:"Integer to assign for missing or unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:S=>{c(S.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:k,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:N,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),b.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[j.map(S=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(S),onChange:E=>{const A=E.target.checked?[...e.columns,S]:e.columns.filter(C=>C!==S);t({...e,columns:A})}}),S]},S)),j.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),w.length>0&&o.jsx(Qi,{recommendations:w}),p&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),o.jsx("span",{className:"font-medium",children:String(p.encoded_columns_count)})]}),p.new_features_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary",children:String(p.new_features_count)})]}),x&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(x).map(([S,E])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),o.jsx("span",{className:"font-mono",children:String(E)})]},S))})]}),v&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(v).map(([S,E])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),o.jsx("span",{className:"font-mono",children:String(E)})]},S))})]})]})]})]})},Lde={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:qF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:Rde,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},$de=({config:e,onChange:t,nodeId:r})=>{const n=xe(_=>_.nodes),a=xe(_=>_.edges),i=(_=>{var A;const S=new Set,E=[_];for(;E.length>0;){const C=E.shift();if(!C||S.has(C))continue;S.add(C);const O=n.find(M=>M.id===C);if(!O)continue;if(C!==_&&((A=O.data)!=null&&A.datasetId))return O.data.datasetId;const I=Yi(O,n,a);for(const M of I)E.push(M.id)}})(r||""),{data:l,isLoading:c}=Ge(i),u=Dl(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=xe(_=>_.executionResult),f=r?d==null?void 0:d.node_results[r]:null,m=g.useRef(null),[h,p]=g.useState(!1),[x,v]=g.useState("");g.useEffect(()=>{if(!m.current)return;const _=new ResizeObserver(S=>{for(const E of S)p(E.contentRect.width>450)});return _.observe(m.current),()=>{_.disconnect()}},[]);const y=l?Object.values(l.columns).filter(_=>["int","float","number"].some(S=>_.dtype.toLowerCase().includes(S))).map(_=>_.name):[],w=y.filter(_=>_.toLowerCase().includes(x.toLowerCase())),b=()=>{t({...e,columns:w})},j=()=>{const _=e.columns.filter(S=>!w.includes(S));t({...e,columns:_})},k=()=>{if(!f||!f.metrics)return null;const _=f.metrics,S=_.rows_removed,E=_.rows_remaining,A=_.rows_total??(S??0)+(E??0),C=_.bounds,O=_.stats,I=_.contamination,M=_.warnings,L=_.values_clipped;if(S===void 0&&!C&&!O&&I===void 0&&!M&&L===void 0)return null;const D=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:D()})]}),M&&M.length>0&&o.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[o.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),o.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:M.map((R,T)=>o.jsx("li",{className:"truncate",title:R,children:R},T))})]}),e.method==="winsorize"?o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-mono font-medium text-blue-600",children:L??0}),o.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),A>0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/A*100).toFixed(1),"%)"]})]}),E!==void 0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),I!==void 0&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),o.jsxs("span",{className:"font-mono font-medium",children:[(I*100).toFixed(1),"%"]})]}),C&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(C).map(([R,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",T.lower.toFixed(2),", ",T.upper.toFixed(2),"]"]})]},R))})]}),O&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O).map(([R,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",T.mean.toFixed(2),", =",T.std.toFixed(2)]})]},R))})]})]})},N=()=>{const _=[];if(f&&f.metrics){const E=f.metrics,A=E.rows_removed,O=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(A!==void 0&&O!==void 0&&O>0){const I=A/O;I>.2?_.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):I===0&&e.method!=="winsorize"&&_.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&_.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,..._];return S.length===0?null:o.jsx("div",{className:"mt-4",children:o.jsx(Qi,{recommendations:S})})};return o.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!i&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[o.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),o.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),o.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),o.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:_=>t({...e,multiplier:parseFloat(_.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:_=>t({...e,threshold:parseFloat(_.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:_=>t({...e,lower_percentile:parseFloat(_.target.value)})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:_=>t({...e,upper_percentile:parseFloat(_.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),o.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:_=>t({...e,contamination:parseFloat(_.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),h&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(N,{})]})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:x,onChange:_=>{v(_.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:w.length>0?w.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:S=>{const E=S.target.checked?[...e.columns,_]:e.columns.filter(A=>A!==_);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:_,children:_})]},_)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!h&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(N,{})]})]})]})},zde={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:i6,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:$de,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},k0={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},Fde=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",Bde=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=g.useState(""),s=g.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),i=()=>{const u=Array.from(new Set([...t,...s]));r(u)},l=()=>{const u=t.filter(d=>!s.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Fs,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),o.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>{a(u.target.value)}})]})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[o.jsx("button",{onClick:i,className:"text-primary hover:underline font-medium",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:s.length===0?o.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):s.map(u=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>{c(u)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},Ude=({config:e,onChange:t,nodeId:r})=>{var j;const n=g.useMemo(()=>e||{transformations:[]},[e]),a=g.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[s,i]=g.useState([]),l=g.useRef(null),[c,u]=g.useState(!1);g.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(N=>{for(const _ of N)u(_.contentRect.width>450)});return k.observe(l.current),()=>{k.disconnect()}},[]);const f=(j=st(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:m}=Ge(f),h=g.useMemo(()=>m!=null&&m.columns?Object.values(m.columns).filter(k=>["int","float","number"].some(N=>k.dtype.toLowerCase().includes(N))).map(k=>k.name):[],[m]),p=()=>{const k=a.length;i(N=>[...N,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},x=(k,N)=>{const _=[...a];_[k]={..._[k],...N},t({transformations:_})},v=k=>{const N=[...a];N.splice(k,1),t({transformations:N}),i(_=>_.filter(S=>S!==k).map(S=>S>k?S-1:S))},y=k=>{i(N=>N.includes(k)?N.filter(_=>_!==k):[...N,k])},w=(k,N)=>{const _=k0[N].methods[0].value;x(k,{method:_})},b=Dl(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return o.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),o.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[o.jsx(qi,{size:12})," Add Rule"]})]}),o.jsxs("div",{className:"space-y-4",children:[a.map((k,N)=>{var A,C,O;const _=Fde(k.method),S=s.includes(N),E=((A=k0[_].methods.find(I=>I.value===k.method))==null?void 0:A.label)||k.method;return o.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>{y(N)},children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?o.jsx(It,{size:16,className:"text-muted-foreground flex-shrink-0"}):o.jsx(Qn,{size:16,className:"text-muted-foreground flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx("span",{className:"text-sm font-medium truncate",children:E}),o.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),o.jsx("button",{onClick:I=>{I.stopPropagation(),v(N)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:o.jsx(Bs,{size:14})})]}),S&&o.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),o.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:_,onChange:I=>{w(N,I.target.value)},onClick:I=>{I.stopPropagation()},children:[o.jsx("option",{value:"simple",children:"Simple Math"}),o.jsx("option",{value:"power",children:"Power Transform"})]}),o.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:I=>{x(N,{method:I.target.value})},onClick:I=>{I.stopPropagation()},children:k0[_].methods.map(I=>o.jsx("option",{value:I.value,children:I.label},I.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&o.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:I=>{I.stopPropagation()},children:[o.jsx("input",{type:"checkbox",id:`std-${N}`,checked:((C=k.params)==null?void 0:C.standardize)!==!1,onChange:I=>{x(N,{params:{...k.params,standardize:I.target.checked}})}}),o.jsx("label",{htmlFor:`std-${N}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&o.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:I=>{I.stopPropagation()},children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),o.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((O=k.params)==null?void 0:O.clip_threshold)||700,onChange:I=>{x(N,{params:{...k.params,clip_threshold:parseFloat(I.target.value)}})}})]})]}),o.jsxs("div",{className:"space-y-1 min-w-0",onClick:I=>{I.stopPropagation()},children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),o.jsx(Bde,{allColumns:h,selectedColumns:k.columns,onChange:I=>{x(N,{columns:I})}})]})]})]},N)}),a.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",o.jsx("br",{}),'Click "Add Rule" to start.']})]}),o.jsx(Qi,{recommendations:b||[],onApply:k=>{var E;const N=k,_=N.suggested_params.method||((E=N.params)==null?void 0:E.method)||"log",S=N.target_columns||[];if(S.length>0){const A=a.length;i(C=>[...C,A]),t({transformations:[...a,{columns:S,method:_,params:{}}]})}}})]})},Hde={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:HP,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:Ude,getDefaultConfig:()=>({transformations:[]})},Vde=({value:e,onChange:t})=>{const[r,n]=g.useState((e==null?void 0:e.join(", "))||""),a=g.useRef(e);g.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const s=()=>{const i=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,c)=>l-c);t(i)};return o.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:i=>{n(i.target.value)},onBlur:s})},Wde=({config:e,onChange:t,nodeId:r})=>{var y;const a=(y=st(r||"").find(w=>w.datasetId))==null?void 0:y.datasetId,{data:s,isLoading:i}=Ge(a),l=g.useRef(null),[c,u]=g.useState(!1),[d,f]=g.useState("");g.useEffect(()=>{if(!l.current)return;const w=new ResizeObserver(b=>{for(const j of b)u(j.contentRect.width>450)});return w.observe(l.current),()=>{w.disconnect()}},[]);const m=s?Object.values(s.columns).filter(w=>["int","float","number"].some(b=>w.dtype.toLowerCase().includes(b))).map(w=>w.name):[],h=m.filter(w=>w.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:h})},x=()=>{const w=e.columns.filter(b=>!h.includes(b));t({...e,columns:w})},v=w=>{e.columns.includes(w)?t({...e,columns:e.columns.filter(b=>b!==w)}):t({...e,columns:[...e.columns,w]})};return o.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:w=>t({...e,strategy:w.target.value}),children:[o.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),o.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),o.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),o.jsx("option",{value:"custom",children:"Custom Edges"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),o.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:w=>t({...e,n_bins:parseInt(w.target.value)||5})})]}),e.strategy==="custom"&&o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(w=>{var b;return o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-medium",children:w}),o.jsx(Vde,{value:(b=e.custom_bins)==null?void 0:b[w],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[w]:j}})})]},w)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:w=>t({...e,label_format:w.target.value}),children:[o.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),o.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),o.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),o.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:w=>t({...e,precision:parseInt(w.target.value)||0})}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:w=>t({...e,drop_original:w.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),o.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:w=>t({...e,output_suffix:w.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:w=>{f(w.target.value)}})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[o.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:x,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:i?o.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):h.length===0?o.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:m.length===0?"No numeric columns found.":`No columns match "${d}"`}):o.jsx("div",{className:"space-y-1",children:h.map(w=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(w),onChange:()=>{v(w)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:w,children:w})]},w))})})]})]})]})},Kde={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:sb,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:Wde,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},qde=({nodeId:e})=>{var a;const t=xe(s=>s.executionResult),r=e?(a=t==null?void 0:t.node_results)==null?void 0:a[e]:void 0;if(!r)return null;const n=s=>o.jsx("div",{className:"space-y-1",children:Object.entries(s).map(([i,l])=>typeof l=="object"&&l!==null?o.jsxs("div",{className:"mt-1",children:[o.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[i.replace(/_/g," "),":"]}),o.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(l)})]},i):o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[i.replace(/_/g," "),":"]}),o.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(l)})]},i))});return o.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),o.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&o.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&o.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&o.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},Yde=({config:e,onChange:t,nodeId:r})=>{var y;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),c=st(r||""),u=Array.isArray(c)?c.filter(Boolean):[],d=(y=u.find(w=>typeof w.datasetId=="string"))==null?void 0:y.datasetId,{data:f}=Ge(d),m=u.find(w=>{const b=w.config;if(!b||typeof b!="object")return!1;const j=b.target_column;return typeof j=="string"&&j.trim().length>0}),h=m?m.config.target_column??void 0:void 0;g.useEffect(()=>{if(!e.target_column){if(m&&h)t({...e,target_column:h});else if(f!=null&&f.columns){const w=Object.values(f.columns).find(b=>b.name.toLowerCase()==="target"||b.name.toLowerCase()==="class"||b.column_type==="target");w&&t({...e,target_column:w.name})}}},[f,m,h,e.target_column,e,t]),g.useEffect(()=>{if(!n.current)return;const w=new ResizeObserver(b=>{for(const j of b)s(j.contentRect.width>400)});return w.observe(n.current),()=>{w.disconnect()}},[]);const p=Dl(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),x=w=>{w.suggested_params&&t({...e,...w.suggested_params})},v=(w,b)=>{const j={...e,[w]:b};w==="type"&&(b==="oversampling"?j.method="smote":j.method="random_under_sampling"),t(j)};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:w=>{v("type",w.target.value)},children:[o.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),o.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),o.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:w=>{v("method",w.target.value)},children:e.type==="oversampling"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"smote",children:"SMOTE"}),o.jsx("option",{value:"adasyn",children:"ADASYN"}),o.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),o.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),o.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),o.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),o.jsx("option",{value:"nearmiss",children:"NearMiss"}),o.jsx("option",{value:"tomek_links",children:"Tomek Links"}),o.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:w=>{v("target_column",w.target.value)},list:"target-column-suggestions"}),(f==null?void 0:f.columns)&&o.jsx("datalist",{id:"target-column-suggestions",children:Object.values(f.columns).map(w=>o.jsx("option",{value:w.name},w.name))})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m?"Auto-detected from upstream node.":"The column containing the class labels."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:w=>{v("sampling_strategy",w.target.value)},children:[o.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),o.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),o.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),o.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),o.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:w=>{v("random_state",parseInt(w.target.value))}})]})]}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&o.jsxs(o.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:w=>{v("k_neighbors",parseInt(w.target.value))}})]}),["borderline_smote","svm_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:w=>{v("m_neighbors",parseInt(w.target.value))}})]}),e.method==="borderline_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:w=>{v("kind",w.target.value)},children:[o.jsx("option",{value:"borderline-1",children:"Borderline-1"}),o.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:w=>{v("out_step",parseFloat(w.target.value))}})]}),e.method==="kmeans_smote"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:w=>{v("cluster_balance_threshold",parseFloat(w.target.value))}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:w=>{v("density_exponent",w.target.value)}})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:w=>{v("replacement",w.target.checked)}})]}),e.type==="undersampling"&&e.method==="nearmiss"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:w=>{v("version",parseInt(w.target.value))},children:[o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:w=>{v("n_neighbors",parseInt(w.target.value))}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:w=>{v("kind_sel",w.target.value)},children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"mode",children:"Mode"})]})]})]}),p.length>0&&o.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>{l(!i)},children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",p.length,")"]}),i?o.jsx(Mu,{size:16}):o.jsx(It,{size:16})]}),i&&o.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:o.jsx(Qi,{recommendations:p,onApply:x})})]}),r&&o.jsx(qde,{nodeId:r})]})]})})},Gde=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},Xde={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:_r,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:Yde,validate:Gde,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},Qde=[{value:"arithmetic",label:"Arithmetic",icon:ib},{value:"datetime_extract",label:"Date Extraction",icon:Dy},{value:"ratio",label:"Ratio",icon:r6},{value:"similarity",label:"Similarity",icon:VF},{value:"group_agg",label:"Group Agg",icon:HP}],Zde=["add","subtract","multiply","divide"],Jde=["year","month","day","weekday","hour","quarter","is_weekend"],efe=["ratio","token_sort_ratio","token_set_ratio"],tfe=["mean","sum","count","min","max","std","median"],da=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[s,i]=g.useState(""),l=e.filter(u=>u.toLowerCase().includes(s.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:s,onChange:u=>{i(u.target.value)}})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(u=>{const d=t.includes(u);return o.jsxs("div",{onClick:()=>{c(u)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&o.jsx(Gc,{size:8,strokeWidth:4})}),o.jsx("span",{className:"truncate",children:u})]},u)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},rfe=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=st(r||"").find(S=>S.datasetId))==null?void 0:_.datasetId,{data:s}=Ge(a),i=xe(S=>S.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null,u=c&&Array.isArray(c.generated_features)?c.generated_features.map(S=>String(S)):[],[d,f]=g.useState(!1),m=s?Object.values(s.columns).map(S=>S.name):[],h=s?Object.values(s.columns).filter(S=>["int","float","number"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],p=s?Object.values(s.columns).filter(S=>["date","time"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],x=s?Object.values(s.columns).filter(S=>["string","object","text"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],v=Dl(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),y=S=>{},w=S=>{const E={operation_type:S,method:S==="arithmetic"?"add":S==="similarity"?"ratio":S==="group_agg"?"mean":"year",input_columns:[],output_column:"",datetime_features:S==="datetime_extract"?["year"]:void 0,isExpanded:!0};t({operations:[...e.operations||[],E]})},b=(S,E)=>{const A=[...e.operations||[]];A[S]={...A[S],...E},t({operations:A})},j=(S,E)=>{E.stopPropagation();const A=[...e.operations||[]];A.splice(S,1),t({operations:A})},k=S=>{const E=[...e.operations||[]];E[S]={...E[S],isExpanded:!E[S].isExpanded},t({operations:E})},N=(S,E)=>`${S.operation_type}_${E}`;return o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),Qde.map(S=>o.jsxs("button",{onClick:()=>{w(S.value)},className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:S.label,children:[o.jsx(S.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),o.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:S.label.replace(" ",`
`)})]},S.value))]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[v.length>0&&o.jsxs("div",{className:"border-b bg-muted/10",children:[o.jsxs("button",{onClick:()=>{f(!d)},className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(BP,{size:14,className:v.length>0?"text-yellow-500":""}),o.jsxs("span",{children:["Recommendations (",v.length,")"]})]}),d?o.jsx(It,{size:14}):o.jsx(Qn,{size:14})]}),d&&o.jsx("div",{className:"p-4 bg-muted/5 border-t",children:o.jsx(Qi,{recommendations:v,onApply:y,className:"mb-0"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((S,E)=>{var A,C,O;return o.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{k(E)},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[S.isExpanded?o.jsx(It,{size:14,className:"text-muted-foreground"}):o.jsx(Qn,{size:14,className:"text-muted-foreground"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:S.operation_type==="datetime_extract"?"Date":S.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(S.operation_type)&&o.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:S.method,onClick:I=>{I.stopPropagation()},onChange:I=>{b(E,{method:I.target.value})},children:(S.operation_type==="arithmetic"?Zde:S.operation_type==="similarity"?efe:S.operation_type==="group_agg"?tfe:[]).map(I=>o.jsx("option",{value:I,children:I.replace("_"," ")},I))})]}),o.jsx("button",{onClick:I=>{j(E,I)},className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:o.jsx(Bs,{size:14})})]}),S.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4",children:[S.operation_type==="arithmetic"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:S.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),o.jsx(da,{label:"Column A (Left Operand)",columns:h,selected:S.input_columns.slice(0,1),onChange:I=>{b(E,{input_columns:I})},single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:S.method==="add"?"+":S.method==="subtract"?"-":S.method==="multiply"?"":""}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(da,{label:"Column B (Right Operand)",columns:h,selected:((A=S.secondary_columns)==null?void 0:A.slice(0,1))||[],onChange:I=>{b(E,{secondary_columns:I})},single:!0})]}),S.operation_type==="ratio"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",o.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),o.jsx(da,{label:"Numerator (Sum)",columns:h,selected:S.input_columns,onChange:I=>{b(E,{input_columns:I})}}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),o.jsx(da,{label:"Denominator (Sum)",columns:h,selected:S.secondary_columns||[],onChange:I=>{b(E,{secondary_columns:I})}})]}),S.operation_type==="similarity"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[o.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),o.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),o.jsx(da,{label:"String A",columns:x,selected:S.input_columns.slice(0,1),onChange:I=>b(E,{input_columns:I}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(da,{label:"String B",columns:x,selected:((C=S.secondary_columns)==null?void 0:C.slice(0,1))||[],onChange:I=>b(E,{secondary_columns:I}),single:!0})]}),S.operation_type==="group_agg"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),o.jsx(da,{label:"Group By (Categorical)",columns:x.length>0?x:m,selected:S.input_columns.slice(0,1),onChange:I=>b(E,{input_columns:I}),single:!0}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),o.jsx(da,{label:"Target (Numeric)",columns:h,selected:((O=S.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:I=>b(E,{secondary_columns:I}),single:!0})]}),S.operation_type==="datetime_extract"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(da,{label:"Date Column",columns:p.length>0?p:m,selected:S.input_columns.slice(0,1),onChange:I=>b(E,{input_columns:I}),single:!0}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Jde.map(I=>o.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(S.datetime_features||[]).includes(I),onChange:M=>{const L=S.datetime_features||[],D=M.target.checked?[...L,I]:L.filter(R=>R!==I);b(E,{datetime_features:D})}}),o.jsx("span",{className:"capitalize",children:I.replace("_"," ")})]},I))})]})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),o.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:N(S,E),value:S.output_column||"",onChange:I=>{b(E,{output_column:I.target.value})}})]})]})]},E)}),(!e.operations||e.operations.length===0)&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[o.jsx(ib,{size:32,className:"mb-2 opacity-20"}),o.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),o.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&o.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsx("div",{className:"space-y-2 text-xs",children:u.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:u.length})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(S=>o.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:S},S))})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(Tu,{size:12}),o.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},nfe={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:ib,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n,a;if(!((t=e.operations)!=null&&t.length))return{isValid:!1,message:"Add at least one operation."};for(const s of e.operations){if(s.operation_type==="arithmetic"&&(s.input_columns.length===0||!((r=s.secondary_columns)!=null&&r.length)&&!((n=s.constants)!=null&&n.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(s.operation_type==="datetime_extract"&&s.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(s.operation_type==="group_agg"&&(s.input_columns.length===0||!((a=s.secondary_columns)!=null&&a.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:rfe,getDefaultConfig:()=>({operations:[]})},afe=({columns:e,selected:t,onChange:r,label:n})=>{const[a,s]=g.useState(""),i=e.filter(c=>c.toLowerCase().includes(a.toLowerCase())),l=c=>{t.includes(c)?r(t.filter(u=>u!==c)):r([...t,c])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:a,onChange:c=>{s(c.target.value)}})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(c=>{const u=t.includes(c);return o.jsxs("div",{onClick:()=>{l(c)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${u?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${u?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:u&&o.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-sm"})}),o.jsx("span",{className:"truncate",children:c})]},c)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center",children:"No columns found"})})]}),o.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[t.length," selected"]})]})},sfe={type:"PolynomialFeaturesNode",label:"Polynomial Features",description:"Generate polynomial and interaction features.",category:"Preprocessing",icon:gk,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Transformed Data",type:"dataset"}],getDefaultConfig:()=>({columns:[],degree:2,interaction_only:!1,include_bias:!1,output_prefix:"poly",include_input_features:!1,isExpanded:!0}),settings:({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=st(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{data:s}=Ge(a),i=s?Object.values(s.columns).filter(d=>["int","float","number","double","long"].some(f=>d.dtype.toLowerCase().includes(f))).map(d=>d.name):[],l=d=>{t({...e,...d})},c=()=>{l({isExpanded:!e.isExpanded})};return o.jsx("div",{className:"space-y-2 min-w-[280px]",children:o.jsxs("div",{className:"border rounded-md bg-card",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:c,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gk,{size:14,className:"text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Configuration"})]}),e.isExpanded?o.jsx(It,{size:14}):o.jsx(Qn,{size:14})]}),e.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4 border-t",children:[o.jsx(afe,{label:"Input Columns (Numeric)",columns:i,selected:e.columns||[],onChange:d=>l({columns:d})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:["Degree",o.jsxs("div",{className:"group relative",children:[o.jsx(Tu,{size:10,className:"cursor-help"}),o.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block w-48 p-2 bg-popover text-popover-foreground text-[10px] rounded border shadow-lg z-50",children:"The degree of the polynomial features. Default = 2."})]})]}),o.jsx("input",{type:"number",min:2,max:5,className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.degree||2,onChange:d=>l({degree:parseInt(d.target.value)||2})})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Prefix"}),o.jsx("input",{type:"text",className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.output_prefix||"poly",onChange:d=>l({output_prefix:d.target.value})})]}),o.jsxs("div",{className:"space-y-2 pt-1",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.interaction_only||!1,onChange:d=>l({interaction_only:d.target.checked})}),o.jsx("span",{className:"text-xs",children:"Interaction Only"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground pl-5",children:"If true, only interaction features are produced: features that are products of at most degree distinct input features."}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_bias||!1,onChange:d=>l({include_bias:d.target.checked})}),o.jsx("span",{className:"text-xs",children:"Include Bias"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_input_features||!1,onChange:d=>l({include_input_features:d.target.checked})}),o.jsx("span",{className:"text-xs",children:"Include Input Features"})]})]})]})]})]})})},validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one input column."}:e.degree<2?{isValid:!1,message:"Degree must be at least 2."}:{isValid:!0}},ife=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},ofe=({operation:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let s="both";a==="case"&&(s="lower"),a==="remove_special"&&(s="keep_alphanumeric"),a==="regex"&&(s="custom"),t({...e,op:a,mode:s})},children:[o.jsx("option",{value:"trim",children:"Trim Whitespace"}),o.jsx("option",{value:"case",children:"Change Case"}),o.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),o.jsx("option",{value:"regex",children:"Regex Replace"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Bs,{size:14})})]}),o.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"both",children:"Both Ends"}),o.jsx("option",{value:"leading",children:"Leading Only"}),o.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"lower",children:"Lower Case"}),o.jsx("option",{value:"upper",children:"Upper Case"}),o.jsx("option",{value:"title",children:"Title Case"}),o.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),o.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),o.jsx("option",{value:"letters_only",children:"Letters Only"}),o.jsx("option",{value:"digits_only",children:"Digits Only"})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Pattern"}),o.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),o.jsx("option",{value:"extract_digits",children:"Extract Digits"}),o.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),o.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:o.jsx(m6,{size:14})})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),lfe=({config:e,onChange:t,nodeId:r})=>{var x;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),u=(x=st(r||"").find(v=>v.datasetId))==null?void 0:x.datasetId,{data:d}=Ge(u),f=d?Object.values(d.columns).filter(v=>{const y=String(v.dtype).toLowerCase();return y.includes("object")||y.includes("string")||y.includes("category")||y.includes("text")}).map(v=>v.name):[];g.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(y=>{for(const w of y)s(w.contentRect.width>400)});return v.observe(n.current),()=>{v.disconnect()}},[]);const m=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},h=(v,y)=>{const w=[...e.operations];w[v]=y,t({...e,operations:w})},p=v=>{const y=e.operations.filter((w,b)=>b!==v);t({...e,operations:y})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(ife,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Tu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),i?o.jsx(Mu,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(It,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),o.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(qi,{size:14}),"Add Step"]})]}),o.jsx("div",{className:"space-y-3",children:e.operations.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),o.jsx("button",{onClick:m,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((v,y)=>o.jsx(ofe,{operation:v,onChange:w=>{h(y,w)},onDelete:()=>{p(y)}},y))})]})]})})},cfe={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:LF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:lfe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},ufe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},z_=({value:e,type:t,onChange:r,placeholder:n})=>{const a=i=>{let l=e;i==="number"&&(l=Number(e)||0),i==="boolean"&&(l=!!e),i==="string"&&(l=String(e)),i==="null"&&(l=null),i==="nan"&&(l="NaN"),r(l,i)},s=i=>{let l=i.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:i=>{a(i.target.value)},children:[o.jsx("option",{value:"string",children:"Text"}),o.jsx("option",{value:"number",children:"Num"}),o.jsx("option",{value:"boolean",children:"Bool"}),o.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="number"&&o.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="boolean"&&o.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:i=>r(i.target.value==="true","boolean"),children:[o.jsx("option",{value:"true",children:"True"}),o.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&o.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},dfe=({item:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:o.jsx(Bs,{size:14})})]}),o.jsx(z_,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-gray-400",children:o.jsx(AF,{size:14,className:"rotate-90"})}),o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),o.jsx(z_,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),ffe=({config:e,onChange:t,nodeId:r})=>{var d;const a=(d=st(r||"").find(f=>f==null?void 0:f.datasetId))==null?void 0:d.datasetId,{data:s}=Ge(a),i=s?Object.values(s.columns).map(f=>f.name):[],l=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},c=(f,m)=>{const h=[...e.replacements];h[f]=m,t({...e,replacements:h})},u=f=>{const m=e.replacements.filter((h,p)=>p!==f);t({...e,replacements:m})};return o.jsxs("div",{className:"space-y-4 p-1",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Target Columns"}),o.jsx(ufe,{columns:i,selected:e.columns,onChange:f=>t({...e,columns:f})}),o.jsx("p",{className:"text-[10px] text-gray-500",children:"Select columns to apply replacements to. If empty, applies to all compatible columns."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Replacements"}),o.jsxs("button",{onClick:l,className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[o.jsx(qi,{size:12})," Add"]})]}),o.jsxs("div",{className:"space-y-3",children:[e.replacements.map((f,m)=>o.jsx(dfe,{item:f,onChange:h=>{c(m,h)},onDelete:()=>{u(m)}},m)),e.replacements.length===0&&o.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border border-dashed rounded",children:"No replacements defined."})]})]})]})},mfe={type:"value_replacement",label:"Replace Values",category:"Preprocessing",description:"Replace specific values in columns (e.g. -999 to NaN).",icon:n6,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Dataset",type:"dataset"}],settings:ffe,validate:e=>{var t;return(t=e.replacements)!=null&&t.length?{isValid:!0}:{isValid:!0,message:"No replacements defined (pass-through)."}},getDefaultConfig:()=>({columns:[],replacements:[]})},hfe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},pfe=({pairs:e,onChange:t})=>{const[r,n]=g.useState(""),[a,s]=g.useState(""),i=()=>{r&&a&&(t({...e,[r]:a}),n(""),s(""))},l=c=>{const u={...e};Reflect.deleteProperty(u,c),t(u)};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>{n(c.target.value)}})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>{s(c.target.value)}})]}),o.jsx("button",{onClick:i,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(qi,{size:16})})]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?o.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>o.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),o.jsx(DP,{size:12,className:"text-gray-400 shrink-0"}),o.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),o.jsx("button",{onClick:()=>{l(c)},className:"text-gray-400 hover:text-red-500",children:o.jsx(Bs,{size:14})})]},c))})]})},gfe=({config:e,onChange:t,nodeId:r})=>{var m;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),u=(m=st(r||"").find(h=>h.datasetId))==null?void 0:m.datasetId,{data:d}=Ge(u),f=d?Object.values(d.columns).filter(h=>{const p=String(h.dtype).toLowerCase();return p.includes("object")||p.includes("string")||p.includes("category")||p.includes("text")}).map(h=>h.name):[];return g.useEffect(()=>{if(!n.current)return;const h=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return h.observe(n.current),()=>{h.disconnect()}},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(hfe,{columns:f,selected:e.columns,onChange:h=>t({...e,columns:h})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Tu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),i?o.jsx(Mu,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(It,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:h=>t({...e,mode:h.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Mapping"}),o.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),o.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),o.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),o.jsx(pfe,{pairs:e.custom_pairs,onChange:h=>t({...e,custom_pairs:h})})]})]})]})})},yfe={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:DP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:gfe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},xfe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},vfe=({config:e,onChange:t,nodeId:r})=>{var m;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),u=(m=st(r||"").find(h=>h.datasetId))==null?void 0:m.datasetId,{data:d}=Ge(u),f=d?Object.values(d.columns).filter(h=>["int","float","number"].some(p=>h.dtype.toLowerCase().includes(p))).map(h=>String(h.name)):[];return g.useEffect(()=>{if(!n.current)return;const h=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return h.observe(n.current),()=>{h.disconnect()}},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(xfe,{columns:f,selected:e.columns,onChange:h=>t({...e,columns:h})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Tu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),i?o.jsx(Mu,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(It,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:h=>t({...e,mode:h.target.value}),children:[o.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),o.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),o.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),o.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),o.jsx("option",{value:"custom_range",children:"Custom Range"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:h=>t({...e,min_value:h.target.value?parseFloat(h.target.value):void 0})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:h=>t({...e,max_value:h.target.value?parseFloat(h.target.value):void 0})})]}),o.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},bfe={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:ub,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:vfe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},wfe=()=>{_e.register(tde),_e.register(ade),_e.register(ide),_e.register(lde),_e.register(ude),_e.register(zde),_e.register(Hde),_e.register(Kde),_e.register(Xde),_e.register(nfe),_e.register(sfe),_e.register(cfe),_e.register(mfe),_e.register(yfe),_e.register(bfe),_e.register(Lde),_e.register(jde),_e.register(Nde),_e.register(_de),_e.register(Cde),_e.register(Ode),_e.register(Tde),_e.register(Dde),_e.register(pde),_e.register(bde)};wfe();const jfe=new L$,F_=document.getElementById("root");F_&&N0.createRoot(F_).render(o.jsx(Zr.StrictMode,{children:o.jsx(z$,{client:jfe,children:o.jsx(Que,{})})}));
