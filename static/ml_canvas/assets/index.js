var Mw=Object.defineProperty;var Af=e=>{throw TypeError(e)};var Rw=(e,t,n)=>t in e?Mw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ql=(e,t,n)=>Rw(e,typeof t!="symbol"?t+"":t,n),Xl=(e,t,n)=>t.has(e)||Af("Cannot "+n);var R=(e,t,n)=>(Xl(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>t.has(e)?Af("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(Xl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),le=(e,t,n)=>(Xl(e,t,"access private method"),n);var Co=(e,t,n,r)=>({set _(s){q(e,t,s,n)},get _(){return R(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Dm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},ul={},Om={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Pw=Symbol.for("react.portal"),Iw=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),Aw=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),zw=Symbol.for("react.forward_ref"),Fw=Symbol.for("react.suspense"),$w=Symbol.for("react.memo"),Hw=Symbol.for("react.lazy"),Of=Symbol.iterator;function Vw(e){return e===null||typeof e!="object"?null:(e=Of&&e[Of]||e["@@iterator"],typeof e=="function"?e:null)}var Lm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zm=Object.assign,Fm={};function Us(e,t,n){this.props=e,this.context=t,this.refs=Fm,this.updater=n||Lm}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $m(){}$m.prototype=Us.prototype;function od(e,t,n){this.props=e,this.context=t,this.refs=Fm,this.updater=n||Lm}var ad=od.prototype=new $m;ad.constructor=od;zm(ad,Us.prototype);ad.isPureReactComponent=!0;var Lf=Array.isArray,Hm=Object.prototype.hasOwnProperty,ld={current:null},Vm={key:!0,ref:!0,__self:!0,__source:!0};function Um(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Hm.call(t,r)&&!Vm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:lo,type:e,key:i,ref:o,props:s,_owner:ld.current}}function Uw(e,t){return{$$typeof:lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function Bw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zf=/\/+/g;function Kl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bw(""+e.key):t.toString(36)}function sa(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case lo:case Pw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Kl(o,0):r,Lf(s)?(n="",e!=null&&(n=e.replace(zf,"$&/")+"/"),sa(s,t,n,"",function(c){return c})):s!=null&&(ud(s)&&(s=Uw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Lf(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+Kl(i,a);o+=sa(i,t,n,u,s)}else if(u=Vw(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+Kl(i,a++),o+=sa(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function To(e,t,n){if(e==null)return e;var r=[],s=0;return sa(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Ww(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},ia={transition:null},Qw={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:ia,ReactCurrentOwner:ld};function Bm(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:To,forEach:function(e,t,n){To(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return To(e,function(){t++}),t},toArray:function(e){return To(e,function(t){return t})||[]},only:function(e){if(!ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Us;ae.Fragment=Iw;ae.Profiler=Aw;ae.PureComponent=od;ae.StrictMode=Dw;ae.Suspense=Fw;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qw;ae.act=Bm;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ld.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Hm.call(t,u)&&!Vm.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:lo,type:e.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:Lw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ow,_context:e},e.Consumer=e};ae.createElement=Um;ae.createFactory=function(e){var t=Um.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:zw,render:e}};ae.isValidElement=ud;ae.lazy=function(e){return{$$typeof:Hw,_payload:{_status:-1,_result:e},_init:Ww}};ae.memo=function(e,t){return{$$typeof:$w,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=ia.transition;ia.transition={};try{e()}finally{ia.transition=t}};ae.unstable_act=Bm;ae.useCallback=function(e,t){return Je.current.useCallback(e,t)};ae.useContext=function(e){return Je.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Je.current.useEffect(e,t)};ae.useId=function(){return Je.current.useId()};ae.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Je.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};ae.useRef=function(e){return Je.current.useRef(e)};ae.useState=function(e){return Je.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Je.current.useTransition()};ae.version="18.3.1";Om.exports=ae;var I=Om.exports;const Lt=Dm(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=I,Xw=Symbol.for("react.element"),Kw=Symbol.for("react.fragment"),Yw=Object.prototype.hasOwnProperty,Gw=qw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zw={key:!0,ref:!0,__self:!0,__source:!0};function Wm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Yw.call(t,r)&&!Zw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Xw,type:e,key:i,ref:o,props:s,_owner:Gw.current}}ul.Fragment=Kw;ul.jsx=Wm;ul.jsxs=Wm;Am.exports=ul;var l=Am.exports,Du={},Qm={exports:{}},xt={},qm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,T){var z=E.length;E.push(T);e:for(;0<z;){var H=z-1>>>1,V=E[H];if(0<s(V,T))E[H]=T,E[z]=V,z=H;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var T=E[0],z=E.pop();if(z!==T){E[0]=z;e:for(var H=0,V=E.length,Q=V>>>1;H<Q;){var B=2*(H+1)-1,K=E[B],Y=B+1,Z=E[Y];if(0>s(K,z))Y<V&&0>s(Z,K)?(E[H]=Z,E[Y]=z,H=Y):(E[H]=K,E[B]=z,H=B);else if(Y<V&&0>s(Z,z))E[H]=Z,E[Y]=z,H=Y;else break e}}return T}function s(E,T){var z=E.sortIndex-T.sortIndex;return z!==0?z:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,h=3,v=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(E){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=E)r(c),T.sortIndex=T.expirationTime,t(u,T);else break;T=n(c)}}function x(E){if(w=!1,p(E),!y)if(n(u)!==null)y=!0,D(N);else{var T=n(c);T!==null&&O(x,T.startTime-E)}}function N(E,T){y=!1,w&&(w=!1,m(k),k=-1),v=!0;var z=h;try{for(p(T),f=n(u);f!==null&&(!(f.expirationTime>T)||E&&!P());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=T);T=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(u)&&r(u),p(T)}else r(u);f=n(u)}if(f!==null)var Q=!0;else{var B=n(c);B!==null&&O(x,B.startTime-T),Q=!1}return Q}finally{f=null,h=z,v=!1}}var S=!1,b=null,k=-1,C=5,M=-1;function P(){return!(e.unstable_now()-M<C)}function A(){if(b!==null){var E=e.unstable_now();M=E;var T=!0;try{T=b(!0,E)}finally{T?F():(S=!1,b=null)}}else S=!1}var F;if(typeof g=="function")F=function(){g(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,L=j.port2;j.port1.onmessage=A,F=function(){L.postMessage(null)}}else F=function(){_(A,0)};function D(E){b=E,S||(S=!0,F())}function O(E,T){k=_(function(){E(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,D(N))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var z=h;h=T;try{return E()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=h;h=E;try{return T()}finally{h=z}},e.unstable_scheduleCallback=function(E,T,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,E){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=z+V,E={id:d++,callback:T,priorityLevel:E,startTime:z,expirationTime:V,sortIndex:-1},z>H?(E.sortIndex=z,t(c,E),n(u)===null&&E===n(c)&&(w?(m(k),k=-1):w=!0,O(x,z-H))):(E.sortIndex=V,t(u,E),y||v||(y=!0,D(N))),E},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(E){var T=h;return function(){var z=h;h=T;try{return E.apply(this,arguments)}finally{h=z}}}})(Xm);qm.exports=Xm;var Jw=qm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=I,gt=Jw;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Km=new Set,Ti={};function $r(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Ti[e]=t,e=0;e<t.length;e++)Km.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=Object.prototype.hasOwnProperty,t1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ff={},$f={};function n1(e){return Au.call($f,e)?!0:Au.call(Ff,e)?!1:t1.test(e)?$f[e]=!0:(Ff[e]=!0,!1)}function r1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s1(e,t,n,r){if(t===null||typeof t>"u"||r1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var cd=/[\-:]([a-z])/g;function dd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cd,dd);Ve[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cd,dd);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cd,dd);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function fd(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s1(t,n,s,r)&&(n=null),r||s===null?n1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bn=e1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),Ou=Symbol.for("react.profiler"),Ym=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),pd=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),md=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Zm=Symbol.for("react.offscreen"),Hf=Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=Hf&&e[Hf]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Yl;function di(e){if(Yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yl=t&&t[1]||""}return`
`+Yl+e}var Gl=!1;function Zl(e,t){if(!e||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?di(e):""}function i1(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=Zl(e.type,!1),e;case 11:return e=Zl(e.type.render,!1),e;case 1:return e=Zl(e.type,!0),e;default:return""}}function Fu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Wr:return"Portal";case Ou:return"Profiler";case hd:return"StrictMode";case Lu:return"Suspense";case zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gm:return(e.displayName||"Context")+".Consumer";case Ym:return(e._context.displayName||"Context")+".Provider";case pd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case md:return t=e.displayName||null,t!==null?t:Fu(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Fu(e(t))}catch{}}return null}function o1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fu(t);case 8:return t===hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a1(e){var t=Jm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ro(e){e._valueTracker||(e._valueTracker=a1(e))}function eg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $u(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tg(e,t){t=t.checked,t!=null&&fd(e,"checked",t,!1)}function Hu(e,t){tg(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vu(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vu(e,t,n){(t!=="number"||Sa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fi=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Uu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(fi(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function ng(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,sg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l1=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){l1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xi[t]=xi[e]})});function ig(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xi.hasOwnProperty(e)&&xi[e]?(""+t).trim():t+"px"}function og(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ig(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var u1=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wu(e,t){if(t){if(u1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Qu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=null;function gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xu=null,os=null,as=null;function Qf(e){if(e=fo(e)){if(typeof Xu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=pl(t),Xu(e.stateNode,e.type,t))}}function ag(e){os?as?as.push(e):as=[e]:os=e}function lg(){if(os){var e=os,t=as;if(as=os=null,Qf(e),t)for(e=0;e<t.length;e++)Qf(t[e])}}function ug(e,t){return e(t)}function cg(){}var Jl=!1;function dg(e,t,n){if(Jl)return e(t,n);Jl=!0;try{return ug(e,t,n)}finally{Jl=!1,(os!==null||as!==null)&&(cg(),lg())}}function Ri(e,t){var n=e.stateNode;if(n===null)return null;var r=pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Ku=!1;if(gn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Ku=!1}function c1(e,t,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var vi=!1,ka=null,ja=!1,Yu=null,d1={onError:function(e){vi=!0,ka=e}};function f1(e,t,n,r,s,i,o,a,u){vi=!1,ka=null,c1.apply(d1,arguments)}function h1(e,t,n,r,s,i,o,a,u){if(f1.apply(this,arguments),vi){if(vi){var c=ka;vi=!1,ka=null}else throw Error(U(198));ja||(ja=!0,Yu=c)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qf(e){if(Hr(e)!==e)throw Error(U(188))}function p1(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qf(s),e;if(i===r)return qf(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function hg(e){return e=p1(e),e!==null?pg(e):null}function pg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pg(e);if(t!==null)return t;e=e.sibling}return null}var mg=gt.unstable_scheduleCallback,Xf=gt.unstable_cancelCallback,m1=gt.unstable_shouldYield,g1=gt.unstable_requestPaint,Me=gt.unstable_now,y1=gt.unstable_getCurrentPriorityLevel,yd=gt.unstable_ImmediatePriority,gg=gt.unstable_UserBlockingPriority,Ea=gt.unstable_NormalPriority,x1=gt.unstable_LowPriority,yg=gt.unstable_IdlePriority,cl=null,Jt=null;function v1(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(cl,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:N1,w1=Math.log,b1=Math.LN2;function N1(e){return e>>>=0,e===0?32:31-(w1(e)/b1|0)|0}var Io=64,Do=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=hi(a):(i&=o,i!==0&&(r=hi(i)))}else o=n&~s,o!==0?r=hi(o):i!==0&&(r=hi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function _1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$t(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=_1(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function Gu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xg(){var e=Io;return Io<<=1,!(Io&4194240)&&(Io=64),e}function eu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function k1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function xd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function vg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wg,vd,bg,Ng,_g,Zu=!1,Ao=[],Un=null,Bn=null,Wn=null,Pi=new Map,Ii=new Map,Mn=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function ni(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fo(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function E1(e,t,n,r,s){switch(t){case"focusin":return Un=ni(Un,e,t,n,r,s),!0;case"dragenter":return Bn=ni(Bn,e,t,n,r,s),!0;case"mouseover":return Wn=ni(Wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,ni(Pi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ii.set(i,ni(Ii.get(i)||null,e,t,n,r,s)),!0}return!1}function Sg(e){var t=ur(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=fg(n),t!==null){e.blockedOn=t,_g(e.priority,function(){bg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ju(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qu=r,n.target.dispatchEvent(r),qu=null}else return t=fo(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Yf(e,t,n){oa(e)&&n.delete(t)}function C1(){Zu=!1,Un!==null&&oa(Un)&&(Un=null),Bn!==null&&oa(Bn)&&(Bn=null),Wn!==null&&oa(Wn)&&(Wn=null),Pi.forEach(Yf),Ii.forEach(Yf)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,C1)))}function Di(e){function t(s){return ri(s,e)}if(0<Ao.length){ri(Ao[0],e);for(var n=1;n<Ao.length;n++){var r=Ao[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&ri(Un,e),Bn!==null&&ri(Bn,e),Wn!==null&&ri(Wn,e),Pi.forEach(t),Ii.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Sg(n),n.blockedOn===null&&Mn.shift()}var ls=bn.ReactCurrentBatchConfig,Ta=!0;function T1(e,t,n,r){var s=ge,i=ls.transition;ls.transition=null;try{ge=1,wd(e,t,n,r)}finally{ge=s,ls.transition=i}}function M1(e,t,n,r){var s=ge,i=ls.transition;ls.transition=null;try{ge=4,wd(e,t,n,r)}finally{ge=s,ls.transition=i}}function wd(e,t,n,r){if(Ta){var s=Ju(e,t,n,r);if(s===null)cu(e,t,r,Ma,n),Kf(e,r);else if(E1(s,e,t,n,r))r.stopPropagation();else if(Kf(e,r),t&4&&-1<j1.indexOf(e)){for(;s!==null;){var i=fo(s);if(i!==null&&wg(i),i=Ju(e,t,n,r),i===null&&cu(e,t,r,Ma,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cu(e,t,r,null,n)}}var Ma=null;function Ju(e,t,n,r){if(Ma=null,e=gd(r),e=ur(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ma=e,null}function kg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y1()){case yd:return 1;case gg:return 4;case Ea:case x1:return 16;case yg:return 536870912;default:return 16}default:return 16}}var Hn=null,bd=null,aa=null;function jg(){if(aa)return aa;var e,t=bd,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return aa=s.slice(e,1<r?1-r:void 0)}function la(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function Gf(){return!1}function vt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oo:Gf,this.isPropagationStopped=Gf,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=vt(Bs),co=Ee({},Bs,{view:0,detail:0}),R1=vt(co),tu,nu,si,dl=Ee({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(tu=e.screenX-si.screenX,nu=e.screenY-si.screenY):nu=tu=0,si=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),Zf=vt(dl),P1=Ee({},dl,{dataTransfer:0}),I1=vt(P1),D1=Ee({},co,{relatedTarget:0}),ru=vt(D1),A1=Ee({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),O1=vt(A1),L1=Ee({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z1=vt(L1),F1=Ee({},Bs,{data:0}),Jf=vt(F1),$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=V1[e])?!!t[e]:!1}function _d(){return U1}var B1=Ee({},co,{key:function(e){if(e.key){var t=$1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=la(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(e){return e.type==="keypress"?la(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?la(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W1=vt(B1),Q1=Ee({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eh=vt(Q1),q1=Ee({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),X1=vt(q1),K1=Ee({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y1=vt(K1),G1=Ee({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z1=vt(G1),J1=[9,13,27,32],Sd=gn&&"CompositionEvent"in window,wi=null;gn&&"documentMode"in document&&(wi=document.documentMode);var eb=gn&&"TextEvent"in window&&!wi,Eg=gn&&(!Sd||wi&&8<wi&&11>=wi),th=" ",nh=!1;function Cg(e,t){switch(e){case"keyup":return J1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function tb(e,t){switch(e){case"compositionend":return Tg(t);case"keypress":return t.which!==32?null:(nh=!0,th);case"textInput":return e=t.data,e===th&&nh?null:e;default:return null}}function nb(e,t){if(qr)return e==="compositionend"||!Sd&&Cg(e,t)?(e=jg(),aa=bd=Hn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eg&&t.locale!=="ko"?null:t.data;default:return null}}var rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rb[e.type]:t==="textarea"}function Mg(e,t,n,r){ag(r),t=Ra(t,"onChange"),0<t.length&&(n=new Nd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bi=null,Ai=null;function sb(e){Hg(e,0)}function fl(e){var t=Yr(e);if(eg(t))return e}function ib(e,t){if(e==="change")return t}var Rg=!1;if(gn){var su;if(gn){var iu="oninput"in document;if(!iu){var sh=document.createElement("div");sh.setAttribute("oninput","return;"),iu=typeof sh.oninput=="function"}su=iu}else su=!1;Rg=su&&(!document.documentMode||9<document.documentMode)}function ih(){bi&&(bi.detachEvent("onpropertychange",Pg),Ai=bi=null)}function Pg(e){if(e.propertyName==="value"&&fl(Ai)){var t=[];Mg(t,Ai,e,gd(e)),dg(sb,t)}}function ob(e,t,n){e==="focusin"?(ih(),bi=t,Ai=n,bi.attachEvent("onpropertychange",Pg)):e==="focusout"&&ih()}function ab(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(Ai)}function lb(e,t){if(e==="click")return fl(t)}function ub(e,t){if(e==="input"||e==="change")return fl(t)}function cb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:cb;function Oi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Au.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ah(e,t){var n=oh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oh(n)}}function Ig(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ig(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dg(){for(var e=window,t=Sa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sa(e.document)}return t}function kd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function db(e){var t=Dg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ig(n.ownerDocument.documentElement,n)){if(r!==null&&kd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ah(n,i);var o=ah(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fb=gn&&"documentMode"in document&&11>=document.documentMode,Xr=null,ec=null,Ni=null,tc=!1;function lh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tc||Xr==null||Xr!==Sa(r)||(r=Xr,"selectionStart"in r&&kd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&Oi(Ni,r)||(Ni=r,r=Ra(ec,"onSelect"),0<r.length&&(t=new Nd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function Lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},ou={},Ag={};gn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function hl(e){if(ou[e])return ou[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ag)return ou[e]=t[n];return e}var Og=hl("animationend"),Lg=hl("animationiteration"),zg=hl("animationstart"),Fg=hl("transitionend"),$g=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){$g.set(e,t),$r(t,[e])}for(var au=0;au<uh.length;au++){var lu=uh[au],hb=lu.toLowerCase(),pb=lu[0].toUpperCase()+lu.slice(1);tr(hb,"on"+pb)}tr(Og,"onAnimationEnd");tr(Lg,"onAnimationIteration");tr(zg,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Fg,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function ch(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,h1(r,t,void 0,e),e.currentTarget=null}function Hg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;ch(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;ch(s,a,c),i=u}}}if(ja)throw e=Yu,ja=!1,Yu=null,e}function ve(e,t){var n=t[oc];n===void 0&&(n=t[oc]=new Set);var r=e+"__bubble";n.has(r)||(Vg(t,e,2,!1),n.add(r))}function uu(e,t,n){var r=0;t&&(r|=4),Vg(n,e,r,t)}var zo="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[zo]){e[zo]=!0,Km.forEach(function(n){n!=="selectionchange"&&(mb.has(n)||uu(n,!1,e),uu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zo]||(t[zo]=!0,uu("selectionchange",!1,t))}}function Vg(e,t,n,r){switch(kg(t)){case 1:var s=T1;break;case 4:s=M1;break;default:s=wd}n=s.bind(null,t,n,e),s=void 0,!Ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}dg(function(){var c=i,d=gd(n),f=[];e:{var h=$g.get(e);if(h!==void 0){var v=Nd,y=e;switch(e){case"keypress":if(la(n)===0)break e;case"keydown":case"keyup":v=W1;break;case"focusin":y="focus",v=ru;break;case"focusout":y="blur",v=ru;break;case"beforeblur":case"afterblur":v=ru;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=I1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=X1;break;case Og:case Lg:case zg:v=O1;break;case Fg:v=Y1;break;case"scroll":v=R1;break;case"wheel":v=Z1;break;case"copy":case"cut":case"paste":v=z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=eh}var w=(t&4)!==0,_=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var g=c,p;g!==null;){p=g;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,m!==null&&(x=Ri(g,m),x!=null&&w.push(zi(g,x,p)))),_)break;g=g.return}0<w.length&&(h=new v(h,y,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==qu&&(y=n.relatedTarget||n.fromElement)&&(ur(y)||y[yn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?ur(y):null,y!==null&&(_=Hr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=Zf,x="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=eh,x="onPointerLeave",m="onPointerEnter",g="pointer"),_=v==null?h:Yr(v),p=y==null?h:Yr(y),h=new w(x,g+"leave",v,n,d),h.target=_,h.relatedTarget=p,x=null,ur(d)===c&&(w=new w(m,g+"enter",y,n,d),w.target=p,w.relatedTarget=_,x=w),_=x,v&&y)t:{for(w=v,m=y,g=0,p=w;p;p=Ur(p))g++;for(p=0,x=m;x;x=Ur(x))p++;for(;0<g-p;)w=Ur(w),g--;for(;0<p-g;)m=Ur(m),p--;for(;g--;){if(w===m||m!==null&&w===m.alternate)break t;w=Ur(w),m=Ur(m)}w=null}else w=null;v!==null&&dh(f,h,v,w,!1),y!==null&&_!==null&&dh(f,_,y,w,!0)}}e:{if(h=c?Yr(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var N=ib;else if(rh(h))if(Rg)N=ub;else{N=ab;var S=ob}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=lb);if(N&&(N=N(e,c))){Mg(f,N,n,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Vu(h,"number",h.value)}switch(S=c?Yr(c):window,e){case"focusin":(rh(S)||S.contentEditable==="true")&&(Xr=S,ec=c,Ni=null);break;case"focusout":Ni=ec=Xr=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,lh(f,n,d);break;case"selectionchange":if(fb)break;case"keydown":case"keyup":lh(f,n,d)}var b;if(Sd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qr?Cg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Eg&&n.locale!=="ko"&&(qr||k!=="onCompositionStart"?k==="onCompositionEnd"&&qr&&(b=jg()):(Hn=d,bd="value"in Hn?Hn.value:Hn.textContent,qr=!0)),S=Ra(c,k),0<S.length&&(k=new Jf(k,e,null,n,d),f.push({event:k,listeners:S}),b?k.data=b:(b=Tg(n),b!==null&&(k.data=b)))),(b=eb?tb(e,n):nb(e,n))&&(c=Ra(c,"onBeforeInput"),0<c.length&&(d=new Jf("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}Hg(f,t)})}function zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ra(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ri(e,n),i!=null&&r.unshift(zi(e,i,s)),i=Ri(e,t),i!=null&&r.push(zi(e,i,s))),e=e.return}return r}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Ri(n,i),u!=null&&o.unshift(zi(n,u,a))):s||(u=Ri(n,i),u!=null&&o.push(zi(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var gb=/\r\n?/g,yb=/\u0000|\uFFFD/g;function fh(e){return(typeof e=="string"?e:""+e).replace(gb,`
`).replace(yb,"")}function Fo(e,t,n){if(t=fh(t),fh(e)!==t&&n)throw Error(U(425))}function Pa(){}var nc=null,rc=null;function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(wb)}:ic;function wb(e){setTimeout(function(){throw e})}function du(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Di(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ws,Fi="__reactProps$"+Ws,yn="__reactContainer$"+Ws,oc="__reactEvents$"+Ws,bb="__reactListeners$"+Ws,Nb="__reactHandles$"+Ws;function ur(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ph(e);e!==null;){if(n=e[Zt])return n;e=ph(e)}return t}e=n,n=e.parentNode}return null}function fo(e){return e=e[Zt]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function pl(e){return e[Fi]||null}var ac=[],Gr=-1;function nr(e){return{current:e}}function we(e){0>Gr||(e.current=ac[Gr],ac[Gr]=null,Gr--)}function ye(e,t){Gr++,ac[Gr]=e.current,e.current=t}var er={},Xe=nr(er),ot=nr(!1),Tr=er;function js(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Ia(){we(ot),we(Xe)}function mh(e,t,n){if(Xe.current!==er)throw Error(U(168));ye(Xe,t),ye(ot,n)}function Ug(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,o1(e)||"Unknown",s));return Ee({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Tr=Xe.current,ye(Xe,e),ye(ot,ot.current),!0}function gh(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Ug(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=e,we(ot),we(Xe),ye(Xe,e)):we(ot),ye(ot,n)}var un=null,ml=!1,fu=!1;function Bg(e){un===null?un=[e]:un.push(e)}function _b(e){ml=!0,Bg(e)}function rr(){if(!fu&&un!==null){fu=!0;var e=0,t=ge;try{var n=un;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,ml=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),mg(yd,rr),s}finally{ge=t,fu=!1}}return null}var Zr=[],Jr=0,Aa=null,Oa=0,Nt=[],_t=0,Mr=null,fn=1,hn="";function ir(e,t){Zr[Jr++]=Oa,Zr[Jr++]=Aa,Aa=e,Oa=t}function Wg(e,t,n){Nt[_t++]=fn,Nt[_t++]=hn,Nt[_t++]=Mr,Mr=e;var r=fn;e=hn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-$t(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function jd(e){e.return!==null&&(ir(e,1),Wg(e,1,0))}function Ed(e){for(;e===Aa;)Aa=Zr[--Jr],Zr[Jr]=null,Oa=Zr[--Jr],Zr[Jr]=null;for(;e===Mr;)Mr=Nt[--_t],Nt[_t]=null,hn=Nt[--_t],Nt[_t]=null,fn=Nt[--_t],Nt[_t]=null}var mt=null,pt=null,be=!1,At=null;function Qg(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function lc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function uc(e){if(be){var t=pt;if(t){var n=t;if(!yh(e,t)){if(lc(e))throw Error(U(418));t=Qn(n.nextSibling);var r=mt;t&&yh(e,t)?Qg(r,n):(e.flags=e.flags&-4097|2,be=!1,mt=e)}}else{if(lc(e))throw Error(U(418));e.flags=e.flags&-4097|2,be=!1,mt=e}}}function xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function $o(e){if(e!==mt)return!1;if(!be)return xh(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sc(e.type,e.memoizedProps)),t&&(t=pt)){if(lc(e))throw qg(),Error(U(418));for(;t;)Qg(e,t),t=Qn(t.nextSibling)}if(xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?Qn(e.stateNode.nextSibling):null;return!0}function qg(){for(var e=pt;e;)e=Qn(e.nextSibling)}function Es(){pt=mt=null,be=!1}function Cd(e){At===null?At=[e]:At.push(e)}var Sb=bn.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Ho(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vh(e){var t=e._init;return t(e._payload)}function Xg(e){function t(m,g){if(e){var p=m.deletions;p===null?(m.deletions=[g],m.flags|=16):p.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Yn(m,g),m.index=0,m.sibling=null,m}function i(m,g,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<g?(m.flags|=2,g):p):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,p,x){return g===null||g.tag!==6?(g=vu(p,m.mode,x),g.return=m,g):(g=s(g,p),g.return=m,g)}function u(m,g,p,x){var N=p.type;return N===Qr?d(m,g,p.props.children,x,p.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cn&&vh(N)===g.type)?(x=s(g,p.props),x.ref=ii(m,g,p),x.return=m,x):(x=ma(p.type,p.key,p.props,null,m.mode,x),x.ref=ii(m,g,p),x.return=m,x)}function c(m,g,p,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=wu(p,m.mode,x),g.return=m,g):(g=s(g,p.children||[]),g.return=m,g)}function d(m,g,p,x,N){return g===null||g.tag!==7?(g=kr(p,m.mode,x,N),g.return=m,g):(g=s(g,p),g.return=m,g)}function f(m,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vu(""+g,m.mode,p),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Mo:return p=ma(g.type,g.key,g.props,null,m.mode,p),p.ref=ii(m,null,g),p.return=m,p;case Wr:return g=wu(g,m.mode,p),g.return=m,g;case Cn:var x=g._init;return f(m,x(g._payload),p)}if(fi(g)||ei(g))return g=kr(g,m.mode,p,null),g.return=m,g;Ho(m,g)}return null}function h(m,g,p,x){var N=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:a(m,g,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Mo:return p.key===N?u(m,g,p,x):null;case Wr:return p.key===N?c(m,g,p,x):null;case Cn:return N=p._init,h(m,g,N(p._payload),x)}if(fi(p)||ei(p))return N!==null?null:d(m,g,p,x,null);Ho(m,p)}return null}function v(m,g,p,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(p)||null,a(g,m,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mo:return m=m.get(x.key===null?p:x.key)||null,u(g,m,x,N);case Wr:return m=m.get(x.key===null?p:x.key)||null,c(g,m,x,N);case Cn:var S=x._init;return v(m,g,p,S(x._payload),N)}if(fi(x)||ei(x))return m=m.get(p)||null,d(g,m,x,N,null);Ho(g,x)}return null}function y(m,g,p,x){for(var N=null,S=null,b=g,k=g=0,C=null;b!==null&&k<p.length;k++){b.index>k?(C=b,b=null):C=b.sibling;var M=h(m,b,p[k],x);if(M===null){b===null&&(b=C);break}e&&b&&M.alternate===null&&t(m,b),g=i(M,g,k),S===null?N=M:S.sibling=M,S=M,b=C}if(k===p.length)return n(m,b),be&&ir(m,k),N;if(b===null){for(;k<p.length;k++)b=f(m,p[k],x),b!==null&&(g=i(b,g,k),S===null?N=b:S.sibling=b,S=b);return be&&ir(m,k),N}for(b=r(m,b);k<p.length;k++)C=v(b,m,k,p[k],x),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?k:C.key),g=i(C,g,k),S===null?N=C:S.sibling=C,S=C);return e&&b.forEach(function(P){return t(m,P)}),be&&ir(m,k),N}function w(m,g,p,x){var N=ei(p);if(typeof N!="function")throw Error(U(150));if(p=N.call(p),p==null)throw Error(U(151));for(var S=N=null,b=g,k=g=0,C=null,M=p.next();b!==null&&!M.done;k++,M=p.next()){b.index>k?(C=b,b=null):C=b.sibling;var P=h(m,b,M.value,x);if(P===null){b===null&&(b=C);break}e&&b&&P.alternate===null&&t(m,b),g=i(P,g,k),S===null?N=P:S.sibling=P,S=P,b=C}if(M.done)return n(m,b),be&&ir(m,k),N;if(b===null){for(;!M.done;k++,M=p.next())M=f(m,M.value,x),M!==null&&(g=i(M,g,k),S===null?N=M:S.sibling=M,S=M);return be&&ir(m,k),N}for(b=r(m,b);!M.done;k++,M=p.next())M=v(b,m,k,M.value,x),M!==null&&(e&&M.alternate!==null&&b.delete(M.key===null?k:M.key),g=i(M,g,k),S===null?N=M:S.sibling=M,S=M);return e&&b.forEach(function(A){return t(m,A)}),be&&ir(m,k),N}function _(m,g,p,x){if(typeof p=="object"&&p!==null&&p.type===Qr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Mo:e:{for(var N=p.key,S=g;S!==null;){if(S.key===N){if(N=p.type,N===Qr){if(S.tag===7){n(m,S.sibling),g=s(S,p.props.children),g.return=m,m=g;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cn&&vh(N)===S.type){n(m,S.sibling),g=s(S,p.props),g.ref=ii(m,S,p),g.return=m,m=g;break e}n(m,S);break}else t(m,S);S=S.sibling}p.type===Qr?(g=kr(p.props.children,m.mode,x,p.key),g.return=m,m=g):(x=ma(p.type,p.key,p.props,null,m.mode,x),x.ref=ii(m,g,p),x.return=m,m=x)}return o(m);case Wr:e:{for(S=p.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(m,g.sibling),g=s(g,p.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=wu(p,m.mode,x),g.return=m,m=g}return o(m);case Cn:return S=p._init,_(m,g,S(p._payload),x)}if(fi(p))return y(m,g,p,x);if(ei(p))return w(m,g,p,x);Ho(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,p),g.return=m,m=g):(n(m,g),g=vu(p,m.mode,x),g.return=m,m=g),o(m)):n(m,g)}return _}var Cs=Xg(!0),Kg=Xg(!1),La=nr(null),za=null,es=null,Td=null;function Md(){Td=es=za=null}function Rd(e){var t=La.current;we(La),e._currentValue=t}function cc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){za=e,Td=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(Td!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(za===null)throw Error(U(308));es=e,za.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var cr=null;function Pd(e){cr===null?cr=[e]:cr.push(e)}function Yg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Pd(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Pd(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xd(e,n)}}function wh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var s=e.updateQueue;Tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,w=a;switch(h=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(v,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(v,f,h):y,h==null)break e;f=Ee({},f,h);break e;case 2:Tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pr|=o,e.lanes=o,e.memoizedState=f}}function bh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ho={},en=nr(ho),$i=nr(ho),Hi=nr(ho);function dr(e){if(e===ho)throw Error(U(174));return e}function Dd(e,t){switch(ye(Hi,t),ye($i,e),ye(en,ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bu(t,e)}we(en),ye(en,t)}function Ts(){we(en),we($i),we(Hi)}function Zg(e){dr(Hi.current);var t=dr(en.current),n=Bu(t,e.type);t!==n&&(ye($i,e),ye(en,n))}function Ad(e){$i.current===e&&(we(en),we($i))}var ke=nr(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hu=[];function Od(){for(var e=0;e<hu.length;e++)hu[e]._workInProgressVersionPrimary=null;hu.length=0}var ca=bn.ReactCurrentDispatcher,pu=bn.ReactCurrentBatchConfig,Rr=0,je=null,De=null,Le=null,Ha=!1,_i=!1,Vi=0,kb=0;function Be(){throw Error(U(321))}function Ld(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function zd(e,t,n,r,s,i){if(Rr=i,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=e===null||e.memoizedState===null?Tb:Mb,e=n(r,s),_i){i=0;do{if(_i=!1,Vi=0,25<=i)throw Error(U(301));i+=1,Le=De=null,t.updateQueue=null,ca.current=Rb,e=n(r,s)}while(_i)}if(ca.current=Va,t=De!==null&&De.next!==null,Rr=0,Le=De=je=null,Ha=!1,t)throw Error(U(300));return e}function Fd(){var e=Vi!==0;return Vi=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?je.memoizedState=Le=e:Le=Le.next=e,Le}function Et(){if(De===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Le===null?je.memoizedState:Le.next;if(t!==null)Le=t,De=e;else{if(e===null)throw Error(U(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Le===null?je.memoizedState=Le=e:Le=Le.next=e}return Le}function Ui(e,t){return typeof t=="function"?t(e):t}function mu(e){var t=Et(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((Rr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,je.lanes|=d,Pr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Vt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,je.lanes|=i,Pr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gu(e){var t=Et(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Jg(){}function ey(e,t){var n=je,r=Et(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,$d(ry.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Bi(9,ny.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(U(349));Rr&30||ty(n,t,s)}return s}function ty(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ny(e,t,n,r){t.value=n,t.getSnapshot=r,sy(t)&&iy(e)}function ry(e,t,n){return n(function(){sy(t)&&iy(e)})}function sy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function iy(e){var t=xn(e,1);t!==null&&Ht(t,e,1,-1)}function Nh(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=Cb.bind(null,je,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oy(){return Et().memoizedState}function da(e,t,n,r){var s=qt();je.flags|=e,s.memoizedState=Bi(1|t,n,void 0,r===void 0?null:r)}function gl(e,t,n,r){var s=Et();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&Ld(r,o.deps)){s.memoizedState=Bi(t,n,i,r);return}}je.flags|=e,s.memoizedState=Bi(1|t,n,i,r)}function _h(e,t){return da(8390656,8,e,t)}function $d(e,t){return gl(2048,8,e,t)}function ay(e,t){return gl(4,2,e,t)}function ly(e,t){return gl(4,4,e,t)}function uy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cy(e,t,n){return n=n!=null?n.concat([e]):null,gl(4,4,uy.bind(null,t,e),n)}function Hd(){}function dy(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ld(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fy(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ld(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hy(e,t,n){return Rr&21?(Vt(n,t)||(n=xg(),je.lanes|=n,Pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function jb(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=pu.transition;pu.transition={};try{e(!1),t()}finally{ge=n,pu.transition=r}}function py(){return Et().memoizedState}function Eb(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},my(e))gy(t,n);else if(n=Yg(e,t,n,r),n!==null){var s=Ze();Ht(n,e,r,s),yy(n,t,r)}}function Cb(e,t,n){var r=Kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(my(e))gy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Vt(a,o)){var u=t.interleaved;u===null?(s.next=s,Pd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Yg(e,t,s,r),n!==null&&(s=Ze(),Ht(n,e,r,s),yy(n,t,r))}}function my(e){var t=e.alternate;return e===je||t!==null&&t===je}function gy(e,t){_i=Ha=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xd(e,n)}}var Va={readContext:jt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Tb={readContext:jt,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:_h,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,da(4194308,4,uy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4194308,4,e,t)},useInsertionEffect:function(e,t){return da(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Eb.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Nh,useDebugValue:Hd,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Nh(!1),t=e[0];return e=jb.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,s=qt();if(be){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ze===null)throw Error(U(349));Rr&30||ty(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,_h(ry.bind(null,r,i,e),[e]),r.flags|=2048,Bi(9,ny.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qt(),t=ze.identifierPrefix;if(be){var n=hn,r=fn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mb={readContext:jt,useCallback:dy,useContext:jt,useEffect:$d,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:fy,useReducer:mu,useRef:oy,useState:function(){return mu(Ui)},useDebugValue:Hd,useDeferredValue:function(e){var t=Et();return hy(t,De.memoizedState,e)},useTransition:function(){var e=mu(Ui)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Jg,useSyncExternalStore:ey,useId:py,unstable_isNewReconciler:!1},Rb={readContext:jt,useCallback:dy,useContext:jt,useEffect:$d,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:fy,useReducer:gu,useRef:oy,useState:function(){return gu(Ui)},useDebugValue:Hd,useDeferredValue:function(e){var t=Et();return De===null?t.memoizedState=e:hy(t,De.memoizedState,e)},useTransition:function(){var e=gu(Ui)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Jg,useSyncExternalStore:ey,useId:py,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yl={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ht(t,e,s,r),ua(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ht(t,e,s,r),ua(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Kn(e),s=mn(n,r);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,r),t!==null&&(Ht(t,e,r,n),ua(t,e,r))}};function Sh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,r)||!Oi(s,i):!0}function xy(e,t,n){var r=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=jt(i):(s=at(t)?Tr:Xe.current,r=t.contextTypes,i=(r=r!=null)?js(e,s):er),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function fc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Id(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=jt(i):(i=at(t)?Tr:Xe.current,s.context=js(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yl.enqueueReplaceState(s,s.state,null),Fa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var n="",r=t;do n+=i1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function yu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pb=typeof WeakMap=="function"?WeakMap:Map;function vy(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,_c=r),hc(e,t)},n}function wy(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){hc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hc(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Qb.bind(null,e,t,n),t.then(e,e))}function Eh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ch(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,qn(n,t,1))),n.lanes|=1),e)}var Ib=bn.ReactCurrentOwner,st=!1;function Ge(e,t,n,r){t.child=e===null?Kg(t,null,n,r):Cs(t,e.child,n,r)}function Th(e,t,n,r,s){n=n.render;var i=t.ref;return us(t,s),r=zd(e,t,n,r,i,s),n=Fd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(be&&n&&jd(t),t.flags|=1,Ge(e,t,r,s),t.child)}function Mh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Kd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,by(e,t,i,r,s)):(e=ma(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function by(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Oi(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,vn(e,t,s)}return pc(e,t,n,r,s)}function Ny(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ns,ft),ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ns,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(ns,ft),ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(ns,ft),ft|=r;return Ge(e,t,s,n),t.child}function _y(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pc(e,t,n,r,s){var i=at(n)?Tr:Xe.current;return i=js(t,i),us(t,s),n=zd(e,t,n,r,i,s),r=Fd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(be&&r&&jd(t),t.flags|=1,Ge(e,t,n,s),t.child)}function Rh(e,t,n,r,s){if(at(n)){var i=!0;Da(t)}else i=!1;if(us(t,s),t.stateNode===null)fa(e,t),xy(t,n,r),fc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=at(n)?Tr:Xe.current,c=js(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&kh(t,o,r,c),Tn=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,s),u=t.memoizedState,a!==r||h!==u||ot.current||Tn?(typeof d=="function"&&(dc(t,n,d,r),u=t.memoizedState),(a=Tn||Sh(t,n,a,r,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Gg(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Mt(t.type,a),o.props=c,f=t.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=jt(u):(u=at(n)?Tr:Xe.current,u=js(t,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==u)&&kh(t,o,r,u),Tn=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,s);var y=t.memoizedState;a!==f||h!==y||ot.current||Tn?(typeof v=="function"&&(dc(t,n,v,r),y=t.memoizedState),(c=Tn||Sh(t,n,c,r,h,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return mc(e,t,n,r,i,s)}function mc(e,t,n,r,s,i){_y(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&gh(t,n,!1),vn(e,t,i);r=t.stateNode,Ib.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Cs(t,e.child,null,i),t.child=Cs(t,null,a,i)):Ge(e,t,a,i),t.memoizedState=r.state,s&&gh(t,n,!0),t.child}function Sy(e){var t=e.stateNode;t.pendingContext?mh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mh(e,t.context,!1),Dd(e,t.containerInfo)}function Ph(e,t,n,r,s){return Es(),Cd(s),t.flags|=256,Ge(e,t,n,r),t.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function ky(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(ke,s&1),e===null)return uc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wl(o,r,0,null),e=kr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yc(n),t.memoizedState=gc,e):Vd(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Db(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Yn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yn(a,i):(i=kr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?yc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=gc,r}return i=e.child,e=i.sibling,r=Yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vd(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vo(e,t,n,r){return r!==null&&Cd(r),Cs(t,e.child,null,n),e=Vd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Db(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=yu(Error(U(422))),Vo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=wl({mode:"visible",children:r.children},s,0,null),i=kr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cs(t,e.child,null,o),t.child.memoizedState=yc(o),t.memoizedState=gc,i);if(!(t.mode&1))return Vo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=yu(i,r,void 0),Vo(e,t,o,r)}if(a=(o&e.childLanes)!==0,st||a){if(r=ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),Ht(r,e,s,-1))}return Xd(),r=yu(Error(U(421))),Vo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pt=Qn(s.nextSibling),mt=t,be=!0,At=null,e!==null&&(Nt[_t++]=fn,Nt[_t++]=hn,Nt[_t++]=Mr,fn=e.id,hn=e.overflow,Mr=t),t=Vd(t,r.children),t.flags|=4096,t)}function Ih(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cc(e.return,t,n)}function xu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ge(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,n,t);else if(e.tag===19)Ih(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$a(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$a(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xu(t,!0,n,null,i);break;case"together":xu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ab(e,t,n){switch(t.tag){case 3:Sy(t),Es();break;case 5:Zg(t);break;case 1:at(t.type)&&Da(t);break;case 4:Dd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(La,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?ky(e,t,n):(ye(ke,ke.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Ny(e,t,n)}return vn(e,t,n)}var Ey,xc,Cy,Ty;Ey=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xc=function(){};Cy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(en.current);var i=null;switch(n){case"input":s=$u(e,s),r=$u(e,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Uu(e,s),r=Uu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pa)}Wu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ti.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ve("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ty=function(e,t,n,r){n!==r&&(t.flags|=4)};function oi(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ob(e,t,n){var r=t.pendingProps;switch(Ed(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return at(t.type)&&Ia(),We(t),null;case 3:return r=t.stateNode,Ts(),we(ot),we(Xe),Od(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($o(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(jc(At),At=null))),xc(e,t),We(t),null;case 5:Ad(t);var s=dr(Hi.current);if(n=t.type,e!==null&&t.stateNode!=null)Cy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return We(t),null}if(e=dr(en.current),$o(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[Fi]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<pi.length;s++)ve(pi[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Vf(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Bf(r,i),ve("invalid",r)}Wu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fo(r.textContent,a,e),s=["children",""+a]):Ti.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Ro(r),Uf(r,i,!0);break;case"textarea":Ro(r),Wf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[Fi]=r,Ey(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<pi.length;s++)ve(pi[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":Vf(e,r),s=$u(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ve("invalid",e);break;case"textarea":Bf(e,r),s=Uu(e,r),ve("invalid",e);break;default:s=r}Wu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?og(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sg(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Mi(e,u):typeof u=="number"&&Mi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ve("scroll",e):u!=null&&fd(e,i,u,o))}switch(n){case"input":Ro(e),Uf(e,r,!1);break;case"textarea":Ro(e),Wf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?is(e,!!r.multiple,i,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Pa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Ty(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=dr(Hi.current),dr(en.current),$o(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:Fo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return We(t),null;case 13:if(we(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&pt!==null&&t.mode&1&&!(t.flags&128))qg(),Es(),t.flags|=98560,i=!1;else if(i=$o(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Zt]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else At!==null&&(jc(At),At=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ae===0&&(Ae=3):Xd())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ts(),xc(e,t),e===null&&Li(t.stateNode.containerInfo),We(t),null;case 10:return Rd(t.type._context),We(t),null;case 17:return at(t.type)&&Ia(),We(t),null;case 19:if(we(ke),i=t.memoizedState,i===null)return We(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)oi(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$a(e),o!==null){for(t.flags|=128,oi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>Rs&&(t.flags|=128,r=!0,oi(i,!1),t.lanes=4194304)}else{if(!r)if(e=$a(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return We(t),null}else 2*Me()-i.renderingStartTime>Rs&&n!==1073741824&&(t.flags|=128,r=!0,oi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return qd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Lb(e,t){switch(Ed(t),t.tag){case 1:return at(t.type)&&Ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ts(),we(ot),we(Xe),Od(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ad(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return Ts(),null;case 10:return Rd(t.type._context),null;case 22:case 23:return qd(),null;case 24:return null;default:return null}}var Uo=!1,Qe=!1,zb=typeof WeakSet=="function"?WeakSet:Set,X=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function vc(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Dh=!1;function Fb(e,t){if(nc=Ta,e=Dg(),kd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(u=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rc={focusedElem:e,selectionRange:n},Ta=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Mt(t.type,w),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(x){Te(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return y=Dh,Dh=!1,y}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&vc(t,n,i)}s=s.next}while(s!==r)}}function xl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function My(e){var t=e.alternate;t!==null&&(e.alternate=null,My(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Fi],delete t[oc],delete t[bb],delete t[Nb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ry(e){return e.tag===5||e.tag===3||e.tag===4}function Ah(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pa));else if(r!==4&&(e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}function Nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nc(e,t,n),e=e.sibling;e!==null;)Nc(e,t,n),e=e.sibling}var Fe=null,It=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Py(e,t,n),n=n.sibling}function Py(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:Qe||ts(n,t);case 6:var r=Fe,s=It;Fe=null,Sn(e,t,n),Fe=r,It=s,Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?du(e.parentNode,n):e.nodeType===1&&du(e,n),Di(e)):du(Fe,n.stateNode));break;case 4:r=Fe,s=It,Fe=n.stateNode.containerInfo,It=!0,Sn(e,t,n),Fe=r,It=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vc(n,t,o),s=s.next}while(s!==r)}Sn(e,t,n);break;case 1:if(!Qe&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,t,a)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Sn(e,t,n),Qe=r):Sn(e,t,n);break;default:Sn(e,t,n)}}function Oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zb),t.forEach(function(r){var s=Xb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,It=!1;break e;case 3:Fe=a.stateNode.containerInfo,It=!0;break e;case 4:Fe=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Fe===null)throw Error(U(160));Py(i,o,s),Fe=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Iy(t,e),t=t.sibling}function Iy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Wt(e),r&4){try{Si(3,e,e.return),xl(3,e)}catch(w){Te(e,e.return,w)}try{Si(5,e,e.return)}catch(w){Te(e,e.return,w)}}break;case 1:Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var s=e.stateNode;try{Mi(s,"")}catch(w){Te(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&tg(s,i),Qu(a,o);var c=Qu(a,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?og(s,f):d==="dangerouslySetInnerHTML"?sg(s,f):d==="children"?Mi(s,f):fd(s,d,f,c)}switch(a){case"input":Hu(s,i);break;case"textarea":ng(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?is(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?is(s,!!i.multiple,i.defaultValue,!0):is(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fi]=i}catch(w){Te(e,e.return,w)}}break;case 6:if(Tt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Te(e,e.return,w)}}break;case 3:if(Tt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(w){Te(e,e.return,w)}break;case 4:Tt(t,e),Wt(e);break;case 13:Tt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wd=Me())),r&4&&Oh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(c=Qe)||d,Tt(t,e),Qe=c):Tt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,v=h.child,h.tag){case 0:case 11:case 14:case 15:Si(4,h,h.return);break;case 1:ts(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){Te(r,n,w)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){zh(f);continue}}v!==null?(v.return=h,X=v):zh(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ig("display",o))}catch(w){Te(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Te(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Wt(e),r&4&&Oh(e);break;case 21:break;default:Tt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ry(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mi(s,""),r.flags&=-33);var i=Ah(e);Nc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ah(e);bc(e,a,o);break;default:throw Error(U(161))}}catch(u){Te(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $b(e,t,n){X=e,Dy(e)}function Dy(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uo;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Qe;a=Uo;var c=Qe;if(Uo=o,(Qe=u)&&!c)for(X=s;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Fh(s):u!==null?(u.return=o,X=u):Fh(s);for(;i!==null;)X=i,Dy(i),i=i.sibling;X=s,Uo=a,Qe=c}Lh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Lh(e)}}function Lh(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||xl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Qe||t.flags&512&&wc(t)}catch(h){Te(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function zh(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Fh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xl(4,t)}catch(u){Te(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Te(t,s,u)}}var i=t.return;try{wc(t)}catch(u){Te(t,i,u)}break;case 5:var o=t.return;try{wc(t)}catch(u){Te(t,o,u)}}}catch(u){Te(t,t.return,u)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var Hb=Math.ceil,Ua=bn.ReactCurrentDispatcher,Ud=bn.ReactCurrentOwner,kt=bn.ReactCurrentBatchConfig,de=0,ze=null,Pe=null,He=0,ft=0,ns=nr(0),Ae=0,Wi=null,Pr=0,vl=0,Bd=0,ki=null,rt=null,Wd=0,Rs=1/0,ln=null,Ba=!1,_c=null,Xn=null,Bo=!1,Vn=null,Wa=0,ji=0,Sc=null,ha=-1,pa=0;function Ze(){return de&6?Me():ha!==-1?ha:ha=Me()}function Kn(e){return e.mode&1?de&2&&He!==0?He&-He:Sb.transition!==null?(pa===0&&(pa=xg()),pa):(e=ge,e!==0||(e=window.event,e=e===void 0?16:kg(e.type)),e):1}function Ht(e,t,n,r){if(50<ji)throw ji=0,Sc=null,Error(U(185));uo(e,n,r),(!(de&2)||e!==ze)&&(e===ze&&(!(de&2)&&(vl|=n),Ae===4&&Rn(e,He)),lt(e,r),n===1&&de===0&&!(t.mode&1)&&(Rs=Me()+500,ml&&rr()))}function lt(e,t){var n=e.callbackNode;S1(e,t);var r=Ca(e,e===ze?He:0);if(r===0)n!==null&&Xf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xf(n),t===1)e.tag===0?_b($h.bind(null,e)):Bg($h.bind(null,e)),vb(function(){!(de&6)&&rr()}),n=null;else{switch(vg(r)){case 1:n=yd;break;case 4:n=gg;break;case 16:n=Ea;break;case 536870912:n=yg;break;default:n=Ea}n=Vy(n,Ay.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ay(e,t){if(ha=-1,pa=0,de&6)throw Error(U(327));var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var r=Ca(e,e===ze?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qa(e,r);else{t=r;var s=de;de|=2;var i=Ly();(ze!==e||He!==t)&&(ln=null,Rs=Me()+500,Sr(e,t));do try{Bb();break}catch(a){Oy(e,a)}while(!0);Md(),Ua.current=i,de=s,Pe!==null?t=0:(ze=null,He=0,t=Ae)}if(t!==0){if(t===2&&(s=Gu(e),s!==0&&(r=s,t=kc(e,s))),t===1)throw n=Wi,Sr(e,0),Rn(e,r),lt(e,Me()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Vb(s)&&(t=Qa(e,r),t===2&&(i=Gu(e),i!==0&&(r=i,t=kc(e,i))),t===1))throw n=Wi,Sr(e,0),Rn(e,r),lt(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:or(e,rt,ln);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Wd+500-Me(),10<t)){if(Ca(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ic(or.bind(null,e,rt,ln),t);break}or(e,rt,ln);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hb(r/1960))-r,10<r){e.timeoutHandle=ic(or.bind(null,e,rt,ln),r);break}or(e,rt,ln);break;case 5:or(e,rt,ln);break;default:throw Error(U(329))}}}return lt(e,Me()),e.callbackNode===n?Ay.bind(null,e):null}function kc(e,t){var n=ki;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=rt,rt=n,t!==null&&jc(t)),e}function jc(e){rt===null?rt=e:rt.push.apply(rt,e)}function Vb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Bd,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function $h(e){if(de&6)throw Error(U(327));cs();var t=Ca(e,0);if(!(t&1))return lt(e,Me()),null;var n=Qa(e,t);if(e.tag!==0&&n===2){var r=Gu(e);r!==0&&(t=r,n=kc(e,r))}if(n===1)throw n=Wi,Sr(e,0),Rn(e,t),lt(e,Me()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,rt,ln),lt(e,Me()),null}function Qd(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Rs=Me()+500,ml&&rr())}}function Ir(e){Vn!==null&&Vn.tag===0&&!(de&6)&&cs();var t=de;de|=1;var n=kt.transition,r=ge;try{if(kt.transition=null,ge=1,e)return e()}finally{ge=r,kt.transition=n,de=t,!(de&6)&&rr()}}function qd(){ft=ns.current,we(ns)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xb(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Ed(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ia();break;case 3:Ts(),we(ot),we(Xe),Od();break;case 5:Ad(r);break;case 4:Ts();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Rd(r.type._context);break;case 22:case 23:qd()}n=n.return}if(ze=e,Pe=e=Yn(e.current,null),He=ft=t,Ae=0,Wi=null,Bd=vl=Pr=0,rt=ki=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return e}function Oy(e,t){do{var n=Pe;try{if(Md(),ca.current=Va,Ha){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ha=!1}if(Rr=0,Le=De=je=null,_i=!1,Vi=0,Ud.current=null,n===null||n.return===null){Ae=1,Wi=t,Pe=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=He,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Eh(o);if(v!==null){v.flags&=-257,Ch(v,o,a,i,t),v.mode&1&&jh(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){jh(i,c,t),Xd();break e}u=Error(U(426))}}else if(be&&a.mode&1){var _=Eh(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ch(_,o,a,i,t),Cd(Ms(u,a));break e}}i=u=Ms(u,a),Ae!==4&&(Ae=2),ki===null?ki=[i]:ki.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=vy(i,u,t);wh(i,m);break e;case 1:a=u;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xn===null||!Xn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=wy(i,a,t);wh(i,x);break e}}i=i.return}while(i!==null)}Fy(n)}catch(N){t=N,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Ly(){var e=Ua.current;return Ua.current=Va,e===null?Va:e}function Xd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),ze===null||!(Pr&268435455)&&!(vl&268435455)||Rn(ze,He)}function Qa(e,t){var n=de;de|=2;var r=Ly();(ze!==e||He!==t)&&(ln=null,Sr(e,t));do try{Ub();break}catch(s){Oy(e,s)}while(!0);if(Md(),de=n,Ua.current=r,Pe!==null)throw Error(U(261));return ze=null,He=0,Ae}function Ub(){for(;Pe!==null;)zy(Pe)}function Bb(){for(;Pe!==null&&!m1();)zy(Pe)}function zy(e){var t=Hy(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Fy(e):Pe=t,Ud.current=null}function Fy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lb(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(n=Ob(n,t,ft),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function or(e,t,n){var r=ge,s=kt.transition;try{kt.transition=null,ge=1,Wb(e,t,n,r)}finally{kt.transition=s,ge=r}return null}function Wb(e,t,n,r){do cs();while(Vn!==null);if(de&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(k1(e,i),e===ze&&(Pe=ze=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,Vy(Ea,function(){return cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var o=ge;ge=1;var a=de;de|=4,Ud.current=null,Fb(e,n),Iy(n,e),db(rc),Ta=!!nc,rc=nc=null,e.current=n,$b(n),g1(),de=a,ge=o,kt.transition=i}else e.current=n;if(Bo&&(Bo=!1,Vn=e,Wa=s),i=e.pendingLanes,i===0&&(Xn=null),v1(n.stateNode),lt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ba)throw Ba=!1,e=_c,_c=null,e;return Wa&1&&e.tag!==0&&cs(),i=e.pendingLanes,i&1?e===Sc?ji++:(ji=0,Sc=e):ji=0,rr(),null}function cs(){if(Vn!==null){var e=vg(Wa),t=kt.transition,n=ge;try{if(kt.transition=null,ge=16>e?16:e,Vn===null)var r=!1;else{if(e=Vn,Vn=null,Wa=0,de&6)throw Error(U(331));var s=de;for(de|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Si(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,v=d.return;if(My(d),d===c){X=null;break}if(h!==null){h.return=v,X=h;break}X=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Si(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,X=m;break e}X=i.return}}var g=e.current;for(X=g;X!==null;){o=X;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,X=p;else e:for(o=g;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xl(9,a)}}catch(N){Te(a,a.return,N)}if(a===o){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(de=s,rr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(cl,e)}catch{}r=!0}return r}finally{ge=n,kt.transition=t}}return!1}function Hh(e,t,n){t=Ms(n,t),t=vy(e,t,1),e=qn(e,t,1),t=Ze(),e!==null&&(uo(e,1,t),lt(e,t))}function Te(e,t,n){if(e.tag===3)Hh(e,e,n);else for(;t!==null;){if(t.tag===3){Hh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=Ms(n,e),e=wy(t,e,1),t=qn(t,e,1),e=Ze(),t!==null&&(uo(t,1,e),lt(t,e));break}}t=t.return}}function Qb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(He&n)===n&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Me()-Wd?Sr(e,0):Bd|=n),lt(e,t)}function $y(e,t){t===0&&(e.mode&1?(t=Do,Do<<=1,!(Do&130023424)&&(Do=4194304)):t=1);var n=Ze();e=xn(e,t),e!==null&&(uo(e,t,n),lt(e,n))}function qb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$y(e,n)}function Xb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),$y(e,n)}var Hy;Hy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,Ab(e,t,n);st=!!(e.flags&131072)}else st=!1,be&&t.flags&1048576&&Wg(t,Oa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fa(e,t),e=t.pendingProps;var s=js(t,Xe.current);us(t,n),s=zd(null,t,r,e,s,n);var i=Fd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,Da(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Id(t),s.updater=yl,t.stateNode=s,s._reactInternals=t,fc(t,r,e,n),t=mc(null,t,r,!0,i,n)):(t.tag=0,be&&i&&jd(t),Ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Yb(r),e=Mt(r,e),s){case 0:t=pc(null,t,r,e,n);break e;case 1:t=Rh(null,t,r,e,n);break e;case 11:t=Th(null,t,r,e,n);break e;case 14:t=Mh(null,t,r,Mt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),pc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Rh(e,t,r,s,n);case 3:e:{if(Sy(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Gg(e,t),Fa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ms(Error(U(423)),t),t=Ph(e,t,r,n,s);break e}else if(r!==s){s=Ms(Error(U(424)),t),t=Ph(e,t,r,n,s);break e}else for(pt=Qn(t.stateNode.containerInfo.firstChild),mt=t,be=!0,At=null,n=Kg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===s){t=vn(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return Zg(t),e===null&&uc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sc(r,s)?o=null:i!==null&&sc(r,i)&&(t.flags|=32),_y(e,t),Ge(e,t,o,n),t.child;case 6:return e===null&&uc(t),null;case 13:return ky(e,t,n);case 4:return Dd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cs(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Th(e,t,r,s,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(La,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!ot.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=mn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),cc(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,us(t,n),s=jt(s),r=r(s),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),Mh(e,t,r,s,n);case 15:return by(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),fa(e,t),t.tag=1,at(r)?(e=!0,Da(t)):e=!1,us(t,n),xy(t,r,s),fc(t,r,s,n),mc(null,t,r,!0,e,n);case 19:return jy(e,t,n);case 22:return Ny(e,t,n)}throw Error(U(156,t.tag))};function Vy(e,t){return mg(e,t)}function Kb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new Kb(e,t,n,r)}function Kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yb(e){if(typeof e=="function")return Kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pd)return 11;if(e===md)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ma(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Kd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return kr(n.children,s,i,t);case hd:o=8,s|=8;break;case Ou:return e=St(12,n,t,s|2),e.elementType=Ou,e.lanes=i,e;case Lu:return e=St(13,n,t,s),e.elementType=Lu,e.lanes=i,e;case zu:return e=St(19,n,t,s),e.elementType=zu,e.lanes=i,e;case Zm:return wl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ym:o=10;break e;case Gm:o=9;break e;case pd:o=11;break e;case md:o=14;break e;case Cn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=St(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function kr(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function wl(e,t,n,r){return e=St(22,e,r,t),e.elementType=Zm,e.lanes=n,e.stateNode={isHidden:!1},e}function vu(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function wu(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yd(e,t,n,r,s,i,o,a,u){return e=new Gb(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=St(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(i),e}function Zb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Uy(e){if(!e)return er;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(at(n))return Ug(e,n,t)}return t}function By(e,t,n,r,s,i,o,a,u){return e=Yd(n,r,!0,e,s,i,o,a,u),e.context=Uy(null),n=e.current,r=Ze(),s=Kn(n),i=mn(r,s),i.callback=t??null,qn(n,i,s),e.current.lanes=s,uo(e,s,r),lt(e,r),e}function bl(e,t,n,r){var s=t.current,i=Ze(),o=Kn(s);return n=Uy(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qn(s,t,o),e!==null&&(Ht(e,s,o,i),ua(e,s,o)),o}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gd(e,t){Vh(e,t),(e=e.alternate)&&Vh(e,t)}function Jb(){return null}var Wy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zd(e){this._internalRoot=e}Nl.prototype.render=Zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));bl(e,t,null,null)};Nl.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){bl(null,e,null,null)}),t[yn]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ng();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&Sg(e)}};function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uh(){}function eN(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=qa(o);i.call(c)}}var o=By(t,r,e,0,null,!1,!1,"",Uh);return e._reactRootContainer=o,e[yn]=o.current,Li(e.nodeType===8?e.parentNode:e),Ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=qa(u);a.call(c)}}var u=Yd(e,0,!1,null,null,!1,!1,"",Uh);return e._reactRootContainer=u,e[yn]=u.current,Li(e.nodeType===8?e.parentNode:e),Ir(function(){bl(t,u,n,r)}),u}function Sl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=qa(o);a.call(u)}}bl(t,o,e,s)}else o=eN(n,t,e,s,r);return qa(o)}wg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hi(t.pendingLanes);n!==0&&(xd(t,n|1),lt(t,Me()),!(de&6)&&(Rs=Me()+500,rr()))}break;case 13:Ir(function(){var r=xn(e,1);if(r!==null){var s=Ze();Ht(r,e,1,s)}}),Gd(e,1)}};vd=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=Ze();Ht(t,e,134217728,n)}Gd(e,134217728)}};bg=function(e){if(e.tag===13){var t=Kn(e),n=xn(e,t);if(n!==null){var r=Ze();Ht(n,e,t,r)}Gd(e,t)}};Ng=function(){return ge};_g=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Xu=function(e,t,n){switch(t){case"input":if(Hu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=pl(r);if(!s)throw Error(U(90));eg(r),Hu(r,s)}}}break;case"textarea":ng(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};ug=Qd;cg=Ir;var tN={usingClientEntryPoint:!1,Events:[fo,Yr,pl,ag,lg,Qd]},ai={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nN={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hg(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||Jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{cl=Wo.inject(nN),Jt=Wo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tN;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(t))throw Error(U(200));return Zb(e,t,null,n)};xt.createRoot=function(e,t){if(!Jd(e))throw Error(U(299));var n=!1,r="",s=Wy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yd(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,Li(e.nodeType===8?e.parentNode:e),new Zd(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=hg(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Ir(e)};xt.hydrate=function(e,t,n){if(!_l(t))throw Error(U(200));return Sl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Jd(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Wy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=By(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,Li(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Nl(t)};xt.render=function(e,t,n){if(!_l(t))throw Error(U(200));return Sl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!_l(e))throw Error(U(40));return e._reactRootContainer?(Ir(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};xt.unstable_batchedUpdates=Qd;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_l(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Sl(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Qy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qy)}catch(e){console.error(e)}}Qy(),Qm.exports=xt;var qy=Qm.exports,Bh=qy;Du.createRoot=Bh.createRoot,Du.hydrateRoot=Bh.hydrateRoot;var po=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rN={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},In,id,Sm,sN=(Sm=class{constructor(){ee(this,In,rN);ee(this,id,!1)}setTimeoutProvider(e){q(this,In,e)}setTimeout(e,t){return R(this,In).setTimeout(e,t)}clearTimeout(e){R(this,In).clearTimeout(e)}setInterval(e,t){return R(this,In).setInterval(e,t)}clearInterval(e){R(this,In).clearInterval(e)}},In=new WeakMap,id=new WeakMap,Sm),fr=new sN;function iN(e){setTimeout(e,0)}var Dr=typeof window>"u"||"Deno"in globalThis;function nt(){}function oN(e,t){return typeof e=="function"?e(t):e}function Ec(e){return typeof e=="number"&&e>=0&&e!==1/0}function Xy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gn(e,t){return typeof e=="function"?e(t):e}function bt(e,t){return typeof e=="function"?e(t):e}function Wh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==ef(o,t.options))return!1}else if(!qi(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Qh(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Qi(t.options.mutationKey)!==Qi(i))return!1}else if(!qi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ef(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qi)(e)}function Qi(e){return JSON.stringify(e,(t,n)=>Tc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function qi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>qi(e[n],t[n])):!1}var aN=Object.prototype.hasOwnProperty;function Ky(e,t){if(e===t)return e;const n=qh(e)&&qh(t);if(!n&&!(Tc(e)&&Tc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c],f=e[d],h=t[d];if(f===h){a[d]=f,(n?c<s:aN.call(e,d))&&u++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){a[d]=h;continue}const v=Ky(f,h);a[d]=v,v===f&&u++}return s===o&&u===s?e:a}function Cc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function qh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tc(e){if(!Xh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Xh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xh(e){return Object.prototype.toString.call(e)==="[object Object]"}function lN(e){return new Promise(t=>{fr.setTimeout(t,e)})}function Mc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ky(e,t):t}function uN(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function cN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tf=Symbol();function Yy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function dN(e,t){return typeof e=="function"?e(...t):!!e}var mr,Dn,hs,km,fN=(km=class extends po{constructor(){super();ee(this,mr);ee(this,Dn);ee(this,hs);q(this,hs,t=>{if(!Dr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,Dn)||this.setEventListener(R(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Dn))==null||t.call(this),q(this,Dn,void 0))}setEventListener(t){var n;q(this,hs,t),(n=R(this,Dn))==null||n.call(this),q(this,Dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,mr)!==t&&(q(this,mr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof R(this,mr)=="boolean"?R(this,mr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mr=new WeakMap,Dn=new WeakMap,hs=new WeakMap,km),nf=new fN;function Rc(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var hN=iN;function pN(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=hN;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var $e=pN(),ps,An,ms,jm,mN=(jm=class extends po{constructor(){super();ee(this,ps,!0);ee(this,An);ee(this,ms);q(this,ms,t=>{if(!Dr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,An)||this.setEventListener(R(this,ms))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,An))==null||t.call(this),q(this,An,void 0))}setEventListener(t){var n;q(this,ms,t),(n=R(this,An))==null||n.call(this),q(this,An,t(this.setOnline.bind(this)))}setOnline(t){R(this,ps)!==t&&(q(this,ps,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,ps)}},ps=new WeakMap,An=new WeakMap,ms=new WeakMap,jm),Xa=new mN;function gN(e){return Math.min(1e3*2**e,3e4)}function Gy(e){return(e??"online")==="online"?Xa.isOnline():!0}var Pc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zy(e){let t=!1,n=0,r;const s=Rc(),i=()=>s.status!=="pending",o=w=>{var _;if(!i()){const m=new Pc(w);h(m),(_=e.onCancel)==null||_.call(e,m)}},a=()=>{t=!0},u=()=>{t=!1},c=()=>nf.isFocused()&&(e.networkMode==="always"||Xa.isOnline())&&e.canRun(),d=()=>Gy(e.networkMode)&&e.canRun(),f=w=>{i()||(r==null||r(),s.resolve(w))},h=w=>{i()||(r==null||r(),s.reject(w))},v=()=>new Promise(w=>{var _;r=m=>{(i()||c())&&w(m)},(_=e.onPause)==null||_.call(e)}).then(()=>{var w;r=void 0,i()||(w=e.onContinue)==null||w.call(e)}),y=()=>{if(i())return;let w;const _=n===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(m){w=Promise.reject(m)}Promise.resolve(w).then(f).catch(m=>{var S;if(i())return;const g=e.retry??(Dr?0:3),p=e.retryDelay??gN,x=typeof p=="function"?p(n,m):p,N=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(t||!N){h(m);return}n++,(S=e.onFail)==null||S.call(e,n,m),lN(x).then(()=>c()?void 0:v()).then(()=>{t?h(m):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:u,canStart:d,start:()=>(d()?y():v().then(y),s)}}var gr,Em,Jy=(Em=class{constructor(){ee(this,gr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ec(this.gcTime)&&q(this,gr,fr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Dr?1/0:5*60*1e3))}clearGcTimeout(){R(this,gr)&&(fr.clearTimeout(R(this,gr)),q(this,gr,void 0))}},gr=new WeakMap,Em),yr,gs,wt,xr,Oe,ro,vr,Rt,an,Cm,yN=(Cm=class extends Jy{constructor(t){super();ee(this,Rt);ee(this,yr);ee(this,gs);ee(this,wt);ee(this,xr);ee(this,Oe);ee(this,ro);ee(this,vr);q(this,vr,!1),q(this,ro,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,xr,t.client),q(this,wt,R(this,xr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,yr,Yh(this.options)),this.state=t.state??R(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,Oe))==null?void 0:t.promise}setOptions(t){if(this.options={...R(this,ro),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Yh(this.options);n.data!==void 0&&(this.setState(Kh(n.data,n.dataUpdatedAt)),q(this,yr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,wt).remove(this)}setData(t,n){const r=Mc(this.state.data,t,this.options);return le(this,Rt,an).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){le(this,Rt,an).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=R(this,Oe))==null?void 0:r.promise;return(s=R(this,Oe))==null||s.cancel(t),n?n.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,yr))}isActive(){return this.observers.some(t=>bt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Xy(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Oe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Oe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(R(this,Oe)&&(R(this,vr)?R(this,Oe).cancel({revert:!0}):R(this,Oe).cancelRetry()),this.scheduleGc()),R(this,wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Rt,an).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,d,f,h,v,y,w,_,m,g,p;if(this.state.fetchStatus!=="idle"&&((u=R(this,Oe))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,Oe))return R(this,Oe).continueRetry(),R(this,Oe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(N=>N.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(q(this,vr,!0),r.signal)})},i=()=>{const x=Yy(this.options,n),S=(()=>{const b={client:R(this,xr),queryKey:this.queryKey,meta:this.meta};return s(b),b})();return q(this,vr,!1),this.options.persister?this.options.persister(x,S,this):x(S)},a=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:R(this,xr),state:this.state,fetchFn:i};return s(x),x})();(c=this.options.behavior)==null||c.onFetch(a,this),q(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&le(this,Rt,an).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),q(this,Oe,Zy({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:x=>{x instanceof Pc&&x.revert&&this.setState({...R(this,gs),fetchStatus:"idle"}),r.abort()},onFail:(x,N)=>{le(this,Rt,an).call(this,{type:"failed",failureCount:x,error:N})},onPause:()=>{le(this,Rt,an).call(this,{type:"pause"})},onContinue:()=>{le(this,Rt,an).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const x=await R(this,Oe).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(v=(h=R(this,wt).config).onSuccess)==null||v.call(h,x,this),(w=(y=R(this,wt).config).onSettled)==null||w.call(y,x,this.state.error,this),x}catch(x){if(x instanceof Pc){if(x.silent)return R(this,Oe).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw le(this,Rt,an).call(this,{type:"error",error:x}),(m=(_=R(this,wt).config).onError)==null||m.call(_,x,this),(p=(g=R(this,wt).config).onSettled)==null||p.call(g,this.state.data,x,this),x}finally{this.scheduleGc()}}},yr=new WeakMap,gs=new WeakMap,wt=new WeakMap,xr=new WeakMap,Oe=new WeakMap,ro=new WeakMap,vr=new WeakMap,Rt=new WeakSet,an=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ex(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Kh(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,gs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,wt).notify({query:this,type:"updated",action:t})})},Cm);function ex(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Yh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tt,ue,so,Ke,wr,ys,cn,On,io,xs,vs,br,Nr,Ln,ws,me,mi,Ic,Dc,Ac,Oc,Lc,zc,Fc,tx,Tm,xN=(Tm=class extends po{constructor(t,n){super();ee(this,me);ee(this,tt);ee(this,ue);ee(this,so);ee(this,Ke);ee(this,wr);ee(this,ys);ee(this,cn);ee(this,On);ee(this,io);ee(this,xs);ee(this,vs);ee(this,br);ee(this,Nr);ee(this,Ln);ee(this,ws,new Set);this.options=n,q(this,tt,t),q(this,On,null),q(this,cn,Rc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,ue).addObserver(this),Gh(R(this,ue),this.options)?le(this,me,mi).call(this):this.updateResult(),le(this,me,Oc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $c(R(this,ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $c(R(this,ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,me,Lc).call(this),le(this,me,zc).call(this),R(this,ue).removeObserver(this)}setOptions(t){const n=this.options,r=R(this,ue);if(this.options=R(this,tt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bt(this.options.enabled,R(this,ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,me,Fc).call(this),R(this,ue).setOptions(this.options),n._defaulted&&!Cc(this.options,n)&&R(this,tt).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,ue),observer:this});const s=this.hasListeners();s&&Zh(R(this,ue),r,this.options,n)&&le(this,me,mi).call(this),this.updateResult(),s&&(R(this,ue)!==r||bt(this.options.enabled,R(this,ue))!==bt(n.enabled,R(this,ue))||Gn(this.options.staleTime,R(this,ue))!==Gn(n.staleTime,R(this,ue)))&&le(this,me,Ic).call(this);const i=le(this,me,Dc).call(this);s&&(R(this,ue)!==r||bt(this.options.enabled,R(this,ue))!==bt(n.enabled,R(this,ue))||i!==R(this,Ln))&&le(this,me,Ac).call(this,i)}getOptimisticResult(t){const n=R(this,tt).getQueryCache().build(R(this,tt),t),r=this.createResult(n,t);return wN(this,r)&&(q(this,Ke,r),q(this,ys,this.options),q(this,wr,R(this,ue).state)),r}getCurrentResult(){return R(this,Ke)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,cn).status==="pending"&&R(this,cn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){R(this,ws).add(t)}getCurrentQuery(){return R(this,ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=R(this,tt).defaultQueryOptions(t),r=R(this,tt).getQueryCache().build(R(this,tt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return le(this,me,mi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Ke)))}createResult(t,n){var C;const r=R(this,ue),s=this.options,i=R(this,Ke),o=R(this,wr),a=R(this,ys),c=t!==r?t.state:R(this,so),{state:d}=t;let f={...d},h=!1,v;if(n._optimisticResults){const M=this.hasListeners(),P=!M&&Gh(t,n),A=M&&Zh(t,r,n,s);(P||A)&&(f={...f,...ex(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:_}=f;v=f.data;let m=!1;if(n.placeholderData!==void 0&&v===void 0&&_==="pending"){let M;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(M=i.data,m=!0):M=typeof n.placeholderData=="function"?n.placeholderData((C=R(this,vs))==null?void 0:C.state.data,R(this,vs)):n.placeholderData,M!==void 0&&(_="success",v=Mc(i==null?void 0:i.data,M,n),h=!0)}if(n.select&&v!==void 0&&!m)if(i&&v===(o==null?void 0:o.data)&&n.select===R(this,io))v=R(this,xs);else try{q(this,io,n.select),v=n.select(v),v=Mc(i==null?void 0:i.data,v,n),q(this,xs,v),q(this,On,null)}catch(M){q(this,On,M)}R(this,On)&&(y=R(this,On),v=R(this,xs),w=Date.now(),_="error");const g=f.fetchStatus==="fetching",p=_==="pending",x=_==="error",N=p&&g,S=v!==void 0,k={status:_,fetchStatus:f.fetchStatus,isPending:p,isSuccess:_==="success",isError:x,isInitialLoading:N,isLoading:N,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!p,isLoadingError:x&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&S,isStale:rf(t,n),refetch:this.refetch,promise:R(this,cn),isEnabled:bt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=F=>{k.status==="error"?F.reject(k.error):k.data!==void 0&&F.resolve(k.data)},P=()=>{const F=q(this,cn,k.promise=Rc());M(F)},A=R(this,cn);switch(A.status){case"pending":t.queryHash===r.queryHash&&M(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&P();break}}return k}updateResult(){const t=R(this,Ke),n=this.createResult(R(this,ue),this.options);if(q(this,wr,R(this,ue).state),q(this,ys,this.options),R(this,wr).data!==void 0&&q(this,vs,R(this,ue)),Cc(n,t))return;q(this,Ke,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!R(this,ws).size)return!0;const o=new Set(i??R(this,ws));return this.options.throwOnError&&o.add("error"),Object.keys(R(this,Ke)).some(a=>{const u=a;return R(this,Ke)[u]!==t[u]&&o.has(u)})};le(this,me,tx).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,me,Oc).call(this)}},tt=new WeakMap,ue=new WeakMap,so=new WeakMap,Ke=new WeakMap,wr=new WeakMap,ys=new WeakMap,cn=new WeakMap,On=new WeakMap,io=new WeakMap,xs=new WeakMap,vs=new WeakMap,br=new WeakMap,Nr=new WeakMap,Ln=new WeakMap,ws=new WeakMap,me=new WeakSet,mi=function(t){le(this,me,Fc).call(this);let n=R(this,ue).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nt)),n},Ic=function(){le(this,me,Lc).call(this);const t=Gn(this.options.staleTime,R(this,ue));if(Dr||R(this,Ke).isStale||!Ec(t))return;const r=Xy(R(this,Ke).dataUpdatedAt,t)+1;q(this,br,fr.setTimeout(()=>{R(this,Ke).isStale||this.updateResult()},r))},Dc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,ue)):this.options.refetchInterval)??!1},Ac=function(t){le(this,me,zc).call(this),q(this,Ln,t),!(Dr||bt(this.options.enabled,R(this,ue))===!1||!Ec(R(this,Ln))||R(this,Ln)===0)&&q(this,Nr,fr.setInterval(()=>{(this.options.refetchIntervalInBackground||nf.isFocused())&&le(this,me,mi).call(this)},R(this,Ln)))},Oc=function(){le(this,me,Ic).call(this),le(this,me,Ac).call(this,le(this,me,Dc).call(this))},Lc=function(){R(this,br)&&(fr.clearTimeout(R(this,br)),q(this,br,void 0))},zc=function(){R(this,Nr)&&(fr.clearInterval(R(this,Nr)),q(this,Nr,void 0))},Fc=function(){const t=R(this,tt).getQueryCache().build(R(this,tt),this.options);if(t===R(this,ue))return;const n=R(this,ue);q(this,ue,t),q(this,so,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},tx=function(t){$e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(R(this,Ke))}),R(this,tt).getQueryCache().notify({query:R(this,ue),type:"observerResultsUpdated"})})},Tm);function vN(e,t){return bt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gh(e,t){return vN(e,t)||e.state.data!==void 0&&$c(e,t,t.refetchOnMount)}function $c(e,t,n){if(bt(t.enabled,e)!==!1&&Gn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&rf(e,t)}return!1}function Zh(e,t,n,r){return(e!==t||bt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&rf(e,n)}function rf(e,t){return bt(t.enabled,e)!==!1&&e.isStaleByTime(Gn(t.staleTime,e))}function wN(e,t){return!Cc(e.getCurrentResult(),t)}function Jh(e){return{onFetch:(t,n)=>{var d,f,h,v,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let w=!1;const _=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},m=Yy(t.options,t.fetchOptions),g=async(p,x,N)=>{if(w)return Promise.reject();if(x==null&&p.pages.length)return Promise.resolve(p);const b=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:x,direction:N?"backward":"forward",meta:t.options.meta};return _(P),P})(),k=await m(b),{maxPages:C}=t.options,M=N?cN:uN;return{pages:M(p.pages,k,C),pageParams:M(p.pageParams,x,C)}};if(s&&i.length){const p=s==="backward",x=p?bN:ep,N={pages:i,pageParams:o},S=x(r,N);a=await g(N,S,p)}else{const p=e??i.length;do{const x=u===0?o[0]??r.initialPageParam:ep(r,a);if(u>0&&x==null)break;a=await g(a,x),u++}while(u<p)}return a};t.options.persister?t.fetchFn=()=>{var w,_;return(_=(w=t.options).persister)==null?void 0:_.call(w,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function ep(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function bN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var oo,Xt,Ye,_r,Kt,En,Mm,NN=(Mm=class extends Jy{constructor(t){super();ee(this,Kt);ee(this,oo);ee(this,Xt);ee(this,Ye);ee(this,_r);q(this,oo,t.client),this.mutationId=t.mutationId,q(this,Ye,t.mutationCache),q(this,Xt,[]),this.state=t.state||_N(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Xt).includes(t)||(R(this,Xt).push(t),this.clearGcTimeout(),R(this,Ye).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Xt,R(this,Xt).filter(n=>n!==t)),this.scheduleGc(),R(this,Ye).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():R(this,Ye).remove(this))}continue(){var t;return((t=R(this,_r))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,u,c,d,f,h,v,y,w,_,m,g,p,x,N,S,b,k,C;const n=()=>{le(this,Kt,En).call(this,{type:"continue"})},r={client:R(this,oo),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,_r,Zy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(M,P)=>{le(this,Kt,En).call(this,{type:"failed",failureCount:M,error:P})},onPause:()=>{le(this,Kt,En).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Ye).canRun(this)}));const s=this.state.status==="pending",i=!R(this,_r).canStart();try{if(s)n();else{le(this,Kt,En).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=R(this,Ye).config).onMutate)==null?void 0:a.call(o,t,this,r));const P=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));P!==this.state.context&&le(this,Kt,En).call(this,{type:"pending",context:P,variables:t,isPaused:i})}const M=await R(this,_r).start();return await((f=(d=R(this,Ye).config).onSuccess)==null?void 0:f.call(d,M,t,this.state.context,this,r)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,M,t,this.state.context,r)),await((w=(y=R(this,Ye).config).onSettled)==null?void 0:w.call(y,M,null,this.state.variables,this.state.context,this,r)),await((m=(_=this.options).onSettled)==null?void 0:m.call(_,M,null,t,this.state.context,r)),le(this,Kt,En).call(this,{type:"success",data:M}),M}catch(M){try{throw await((p=(g=R(this,Ye).config).onError)==null?void 0:p.call(g,M,t,this.state.context,this,r)),await((N=(x=this.options).onError)==null?void 0:N.call(x,M,t,this.state.context,r)),await((b=(S=R(this,Ye).config).onSettled)==null?void 0:b.call(S,void 0,M,this.state.variables,this.state.context,this,r)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,M,t,this.state.context,r)),M}finally{le(this,Kt,En).call(this,{type:"error",error:M})}}finally{R(this,Ye).runNext(this)}}},oo=new WeakMap,Xt=new WeakMap,Ye=new WeakMap,_r=new WeakMap,Kt=new WeakSet,En=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$e.batch(()=>{R(this,Xt).forEach(r=>{r.onMutationUpdate(t)}),R(this,Ye).notify({mutation:this,type:"updated",action:t})})},Mm);function _N(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dn,Pt,ao,Rm,SN=(Rm=class extends po{constructor(t={}){super();ee(this,dn);ee(this,Pt);ee(this,ao);this.config=t,q(this,dn,new Set),q(this,Pt,new Map),q(this,ao,0)}build(t,n,r){const s=new NN({client:t,mutationCache:this,mutationId:++Co(this,ao)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){R(this,dn).add(t);const n=Qo(t);if(typeof n=="string"){const r=R(this,Pt).get(n);r?r.push(t):R(this,Pt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,dn).delete(t)){const n=Qo(t);if(typeof n=="string"){const r=R(this,Pt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&R(this,Pt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qo(t);if(typeof n=="string"){const r=R(this,Pt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Qo(t);if(typeof n=="string"){const s=(r=R(this,Pt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$e.batch(()=>{R(this,dn).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,dn).clear(),R(this,Pt).clear()})}getAll(){return Array.from(R(this,dn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Qh(n,r))}findAll(t={}){return this.getAll().filter(n=>Qh(t,n))}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $e.batch(()=>Promise.all(t.map(n=>n.continue().catch(nt))))}},dn=new WeakMap,Pt=new WeakMap,ao=new WeakMap,Rm);function Qo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yt,Pm,kN=(Pm=class extends po{constructor(t={}){super();ee(this,Yt);this.config=t,q(this,Yt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??ef(s,n);let o=this.get(i);return o||(o=new yN({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){R(this,Yt).has(t.queryHash)||(R(this,Yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=R(this,Yt).get(t.queryHash);n&&(t.destroy(),n===t&&R(this,Yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Yt).get(t)}getAll(){return[...R(this,Yt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Wh(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Wh(t,r)):n}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yt=new WeakMap,Pm),Ce,zn,Fn,bs,Ns,$n,_s,Ss,Im,jN=(Im=class{constructor(e={}){ee(this,Ce);ee(this,zn);ee(this,Fn);ee(this,bs);ee(this,Ns);ee(this,$n);ee(this,_s);ee(this,Ss);q(this,Ce,e.queryCache||new kN),q(this,zn,e.mutationCache||new SN),q(this,Fn,e.defaultOptions||{}),q(this,bs,new Map),q(this,Ns,new Map),q(this,$n,0)}mount(){Co(this,$n)._++,R(this,$n)===1&&(q(this,_s,nf.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ce).onFocus())})),q(this,Ss,Xa.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ce).onOnline())})))}unmount(){var e,t;Co(this,$n)._--,R(this,$n)===0&&((e=R(this,_s))==null||e.call(this),q(this,_s,void 0),(t=R(this,Ss))==null||t.call(this),q(this,Ss,void 0))}isFetching(e){return R(this,Ce).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ce).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=R(this,Ce).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return R(this,Ce).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=R(this,Ce).get(r.queryHash),i=s==null?void 0:s.state.data,o=oN(t,i);if(o!==void 0)return R(this,Ce).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $e.batch(()=>R(this,Ce).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,Ce).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=R(this,Ce);$e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=R(this,Ce);return $e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=$e.batch(()=>R(this,Ce).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(nt).catch(nt)}invalidateQueries(e,t={}){return $e.batch(()=>(R(this,Ce).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=$e.batch(()=>R(this,Ce).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=R(this,Ce).build(this,t);return n.isStaleByTime(Gn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nt).catch(nt)}fetchInfiniteQuery(e){return e.behavior=Jh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nt).catch(nt)}ensureInfiniteQueryData(e){return e.behavior=Jh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xa.isOnline()?R(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Ce)}getMutationCache(){return R(this,zn)}getDefaultOptions(){return R(this,Fn)}setDefaultOptions(e){q(this,Fn,e)}setQueryDefaults(e,t){R(this,bs).set(Qi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,bs).values()],n={};return t.forEach(r=>{qi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){R(this,Ns).set(Qi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Ns).values()],n={};return t.forEach(r=>{qi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,Fn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ef(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,Fn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Ce).clear(),R(this,zn).clear()}},Ce=new WeakMap,zn=new WeakMap,Fn=new WeakMap,bs=new WeakMap,Ns=new WeakMap,$n=new WeakMap,_s=new WeakMap,Ss=new WeakMap,Im),nx=I.createContext(void 0),EN=e=>{const t=I.useContext(nx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},CN=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(nx.Provider,{value:e,children:t})),rx=I.createContext(!1),TN=()=>I.useContext(rx);rx.Provider;function MN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var RN=I.createContext(MN()),PN=()=>I.useContext(RN),IN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},DN=e=>{I.useEffect(()=>{e.clearReset()},[e])},AN=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||dN(n,[e.error,r])),ON=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},LN=(e,t)=>e.isLoading&&e.isFetching&&!t,zN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,tp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function FN(e,t,n){var f,h,v,y,w;const r=TN(),s=PN(),i=EN(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",ON(o),IN(o,s),DN(s);const a=!i.getQueryCache().get(o.queryHash),[u]=I.useState(()=>new t(i,o)),c=u.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(_=>{const m=d?u.subscribe($e.batchCalls(_)):nt;return u.updateResult(),m},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),I.useEffect(()=>{u.setOptions(o)},[o,u]),zN(o,c))throw tp(o,u,s);if(AN({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((y=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,o,c),o.experimental_prefetchInRender&&!Dr&&LN(c,r)){const _=a?tp(o,u,s):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;_==null||_.catch(nt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function $N(e,t){return FN(e,xN)}const lr=class lr{constructor(){ql(this,"nodes",new Map)}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(n=>{t[n.category]||(t[n.category]=[]),t[n.category].push(n)}),t}};ql(lr,"instance");let Hc=lr;const Se=Hc.getInstance(),HN={},np=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const v=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(HN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,u);return u},sx=e=>e?np(e):np;var ix={exports:{}},ox={},ax={exports:{}},lx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=I;function VN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var UN=typeof Object.is=="function"?Object.is:VN,BN=Ps.useState,WN=Ps.useEffect,QN=Ps.useLayoutEffect,qN=Ps.useDebugValue;function XN(e,t){var n=t(),r=BN({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return QN(function(){s.value=n,s.getSnapshot=t,bu(s)&&i({inst:s})},[e,n,t]),WN(function(){return bu(s)&&i({inst:s}),e(function(){bu(s)&&i({inst:s})})},[e]),qN(n),n}function bu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!UN(e,n)}catch{return!0}}function KN(e,t){return t()}var YN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?KN:XN;lx.useSyncExternalStore=Ps.useSyncExternalStore!==void 0?Ps.useSyncExternalStore:YN;ax.exports=lx;var GN=ax.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=I,ZN=GN;function JN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e2=typeof Object.is=="function"?Object.is:JN,t2=ZN.useSyncExternalStore,n2=kl.useRef,r2=kl.useEffect,s2=kl.useMemo,i2=kl.useDebugValue;ox.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=n2(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=s2(function(){function u(v){if(!c){if(c=!0,d=v,v=r(v),s!==void 0&&o.hasValue){var y=o.value;if(s(y,v))return f=y}return f=v}if(y=f,e2(d,v))return y;var w=r(v);return s!==void 0&&s(y,w)?(d=v,y):(d=v,f=w)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,n,r,s]);var a=t2(e,i[0],i[1]);return r2(function(){o.hasValue=!0,o.value=a},[a]),i2(a),a};ix.exports=ox;var o2=ix.exports;const ux=Dm(o2),cx={},{useDebugValue:a2}=Lt,{useSyncExternalStoreWithSelector:l2}=ux;let rp=!1;const u2=e=>e;function c2(e,t=u2,n){(cx?"production":void 0)!=="production"&&n&&!rp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),rp=!0);const r=l2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return a2(r),r}const sp=e=>{(cx?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?sx(e):e,n=(r,s)=>c2(t,r,s);return Object.assign(n,t),n},d2=e=>e?sp(e):sp;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var f2={value:()=>{}};function jl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ga(n)}function ga(e){this._=e}function h2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ga.prototype=jl.prototype={constructor:ga,on:function(e,t){var n=this._,r=h2(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=p2(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=ip(n[s],e.name,t);else if(t==null)for(s in n)n[s]=ip(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ga(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function p2(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function ip(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=f2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Vc="http://www.w3.org/1999/xhtml";const op={svg:"http://www.w3.org/2000/svg",xhtml:Vc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function El(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),op.hasOwnProperty(t)?{space:op[t],local:e}:e}function m2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Vc&&t.documentElement.namespaceURI===Vc?t.createElement(e):t.createElementNS(n,e)}}function g2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dx(e){var t=El(e);return(t.local?g2:m2)(t)}function y2(){}function sf(e){return e==null?y2:function(){return this.querySelector(e)}}function x2(e){typeof e!="function"&&(e=sf(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),u,c,d=0;d<o;++d)(u=i[d])&&(c=e.call(u,u.__data__,d,i))&&("__data__"in u&&(c.__data__=u.__data__),a[d]=c);return new yt(r,this._parents)}function v2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function w2(){return[]}function fx(e){return e==null?w2:function(){return this.querySelectorAll(e)}}function b2(e){return function(){return v2(e.apply(this,arguments))}}function N2(e){typeof e=="function"?e=b2(e):e=fx(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,u,c=0;c<a;++c)(u=o[c])&&(r.push(e.call(u,u.__data__,c,o)),s.push(u));return new yt(r,s)}function hx(e){return function(){return this.matches(e)}}function px(e){return function(t){return t.matches(e)}}var _2=Array.prototype.find;function S2(e){return function(){return _2.call(this.children,e)}}function k2(){return this.firstElementChild}function j2(e){return this.select(e==null?k2:S2(typeof e=="function"?e:px(e)))}var E2=Array.prototype.filter;function C2(){return Array.from(this.children)}function T2(e){return function(){return E2.call(this.children,e)}}function M2(e){return this.selectAll(e==null?C2:T2(typeof e=="function"?e:px(e)))}function R2(e){typeof e!="function"&&(e=hx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&a.push(u);return new yt(r,this._parents)}function mx(e){return new Array(e.length)}function P2(){return new yt(this._enter||this._groups.map(mx),this._parents)}function Ka(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ka.prototype={constructor:Ka,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function I2(e){return function(){return e}}function D2(e,t,n,r,s,i){for(var o=0,a,u=t.length,c=i.length;o<c;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new Ka(e,i[o]);for(;o<u;++o)(a=t[o])&&(s[o]=a)}function A2(e,t,n,r,s,i,o){var a,u,c=new Map,d=t.length,f=i.length,h=new Array(d),v;for(a=0;a<d;++a)(u=t[a])&&(h[a]=v=o.call(u,u.__data__,a,t)+"",c.has(v)?s[a]=u:c.set(v,u));for(a=0;a<f;++a)v=o.call(e,i[a],a,i)+"",(u=c.get(v))?(r[a]=u,u.__data__=i[a],c.delete(v)):n[a]=new Ka(e,i[a]);for(a=0;a<d;++a)(u=t[a])&&c.get(h[a])===u&&(s[a]=u)}function O2(e){return e.__data__}function L2(e,t){if(!arguments.length)return Array.from(this,O2);var n=t?A2:D2,r=this._parents,s=this._groups;typeof e!="function"&&(e=I2(e));for(var i=s.length,o=new Array(i),a=new Array(i),u=new Array(i),c=0;c<i;++c){var d=r[c],f=s[c],h=f.length,v=z2(e.call(d,d&&d.__data__,c,r)),y=v.length,w=a[c]=new Array(y),_=o[c]=new Array(y),m=u[c]=new Array(h);n(d,f,w,_,m,v,t);for(var g=0,p=0,x,N;g<y;++g)if(x=w[g]){for(g>=p&&(p=g+1);!(N=_[p])&&++p<y;);x._next=N||null}}return o=new yt(o,r),o._enter=a,o._exit=u,o}function z2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F2(){return new yt(this._exit||this._groups.map(mx),this._parents)}function $2(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function H2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),u=0;u<o;++u)for(var c=n[u],d=r[u],f=c.length,h=a[u]=new Array(f),v,y=0;y<f;++y)(v=c[y]||d[y])&&(h[y]=v);for(;u<s;++u)a[u]=n[u];return new yt(a,this._parents)}function V2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function U2(e){e||(e=B2);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,u=s[i]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(u[d]=c);u.sort(t)}return new yt(s,this._parents).order()}function B2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function W2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Q2(){return Array.from(this)}function q2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function X2(){let e=0;for(const t of this)++e;return e}function K2(){return!this.node()}function Y2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function G2(e){return function(){this.removeAttribute(e)}}function Z2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J2(e,t){return function(){this.setAttribute(e,t)}}function e_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function t_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function n_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function r_(e,t){var n=El(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Z2:G2:typeof t=="function"?n.local?n_:t_:n.local?e_:J2)(n,t))}function gx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function s_(e){return function(){this.style.removeProperty(e)}}function i_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function a_(e,t,n){return arguments.length>1?this.each((t==null?s_:typeof t=="function"?o_:i_)(e,t,n??"")):Is(this.node(),e)}function Is(e,t){return e.style.getPropertyValue(t)||gx(e).getComputedStyle(e,null).getPropertyValue(t)}function l_(e){return function(){delete this[e]}}function u_(e,t){return function(){this[e]=t}}function c_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function d_(e,t){return arguments.length>1?this.each((t==null?l_:typeof t=="function"?c_:u_)(e,t)):this.node()[e]}function yx(e){return e.trim().split(/^|\s+/)}function of(e){return e.classList||new xx(e)}function xx(e){this._node=e,this._names=yx(e.getAttribute("class")||"")}xx.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vx(e,t){for(var n=of(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function wx(e,t){for(var n=of(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function f_(e){return function(){vx(this,e)}}function h_(e){return function(){wx(this,e)}}function p_(e,t){return function(){(t.apply(this,arguments)?vx:wx)(this,e)}}function m_(e,t){var n=yx(e+"");if(arguments.length<2){for(var r=of(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?p_:t?f_:h_)(n,t))}function g_(){this.textContent=""}function y_(e){return function(){this.textContent=e}}function x_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function v_(e){return arguments.length?this.each(e==null?g_:(typeof e=="function"?x_:y_)(e)):this.node().textContent}function w_(){this.innerHTML=""}function b_(e){return function(){this.innerHTML=e}}function N_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function __(e){return arguments.length?this.each(e==null?w_:(typeof e=="function"?N_:b_)(e)):this.node().innerHTML}function S_(){this.nextSibling&&this.parentNode.appendChild(this)}function k_(){return this.each(S_)}function j_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function E_(){return this.each(j_)}function C_(e){var t=typeof e=="function"?e:dx(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function T_(){return null}function M_(e,t){var n=typeof e=="function"?e:dx(e),r=t==null?T_:typeof t=="function"?t:sf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function R_(){var e=this.parentNode;e&&e.removeChild(this)}function P_(){return this.each(R_)}function I_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function D_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function A_(e){return this.select(e?D_:I_)}function O_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function L_(e){return function(t){e.call(this,t,this.__data__)}}function z_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function F_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function $_(e,t,n){return function(){var r=this.__on,s,i=L_(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function H_(e,t,n){var r=z_(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,d;u<c;++u)for(s=0,d=a[u];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?$_:F_,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function bx(e,t,n){var r=gx(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function V_(e,t){return function(){return bx(this,e,t)}}function U_(e,t){return function(){return bx(this,e,t.apply(this,arguments))}}function B_(e,t){return this.each((typeof t=="function"?U_:V_)(e,t))}function*W_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Nx=[null];function yt(e,t){this._groups=e,this._parents=t}function mo(){return new yt([[document.documentElement]],Nx)}function Q_(){return this}yt.prototype=mo.prototype={constructor:yt,select:x2,selectAll:N2,selectChild:j2,selectChildren:M2,filter:R2,data:L2,enter:P2,exit:F2,join:$2,merge:H2,selection:Q_,order:V2,sort:U2,call:W2,nodes:Q2,node:q2,size:X2,empty:K2,each:Y2,attr:r_,style:a_,property:d_,classed:m_,text:v_,html:__,raise:k_,lower:E_,append:C_,insert:M_,remove:P_,clone:A_,datum:O_,on:H_,dispatch:B_,[Symbol.iterator]:W_};function ht(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],Nx)}function q_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Dt(e,t){if(e=q_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const X_={passive:!1},Xi={capture:!0,passive:!1};function Nu(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function _x(e){var t=e.document.documentElement,n=ht(e).on("dragstart.drag",ds,Xi);"onselectstart"in t?n.on("selectstart.drag",ds,Xi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Sx(e,t){var n=e.document.documentElement,r=ht(e).on("dragstart.drag",null);t&&(r.on("click.drag",ds,Xi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const qo=e=>()=>e;function Uc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Uc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function K_(e){return!e.ctrlKey&&!e.button}function Y_(){return this.parentNode}function G_(e,t){return t??{x:e.x,y:e.y}}function Z_(){return navigator.maxTouchPoints||"ontouchstart"in this}function kx(){var e=K_,t=Y_,n=G_,r=Z_,s={},i=jl("start","drag","end"),o=0,a,u,c,d,f=0;function h(x){x.on("mousedown.drag",v).filter(r).on("touchstart.drag",_).on("touchmove.drag",m,X_).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(x,N){if(!(d||!e.call(this,x,N))){var S=p(this,t.call(this,x,N),x,N,"mouse");S&&(ht(x.view).on("mousemove.drag",y,Xi).on("mouseup.drag",w,Xi),_x(x.view),Nu(x),c=!1,a=x.clientX,u=x.clientY,S("start",x))}}function y(x){if(ds(x),!c){var N=x.clientX-a,S=x.clientY-u;c=N*N+S*S>f}s.mouse("drag",x)}function w(x){ht(x.view).on("mousemove.drag mouseup.drag",null),Sx(x.view,c),ds(x),s.mouse("end",x)}function _(x,N){if(e.call(this,x,N)){var S=x.changedTouches,b=t.call(this,x,N),k=S.length,C,M;for(C=0;C<k;++C)(M=p(this,b,x,N,S[C].identifier,S[C]))&&(Nu(x),M("start",x,S[C]))}}function m(x){var N=x.changedTouches,S=N.length,b,k;for(b=0;b<S;++b)(k=s[N[b].identifier])&&(ds(x),k("drag",x,N[b]))}function g(x){var N=x.changedTouches,S=N.length,b,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),b=0;b<S;++b)(k=s[N[b].identifier])&&(Nu(x),k("end",x,N[b]))}function p(x,N,S,b,k,C){var M=i.copy(),P=Dt(C||S,N),A,F,j;if((j=n.call(x,new Uc("beforestart",{sourceEvent:S,target:h,identifier:k,active:o,x:P[0],y:P[1],dx:0,dy:0,dispatch:M}),b))!=null)return A=j.x-P[0]||0,F=j.y-P[1]||0,function L(D,O,E){var T=P,z;switch(D){case"start":s[k]=L,z=o++;break;case"end":delete s[k],--o;case"drag":P=Dt(E||O,N),z=o;break}M.call(D,x,new Uc(D,{sourceEvent:O,subject:j,target:h,identifier:k,active:z,x:P[0]+A,y:P[1]+F,dx:P[0]-T[0],dy:P[1]-T[1],dispatch:M}),b)}}return h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:qo(!!x),h):e},h.container=function(x){return arguments.length?(t=typeof x=="function"?x:qo(x),h):t},h.subject=function(x){return arguments.length?(n=typeof x=="function"?x:qo(x),h):n},h.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:qo(!!x),h):r},h.on=function(){var x=i.on.apply(i,arguments);return x===i?h:x},h.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,h):Math.sqrt(f)},h}function af(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function go(){}var Ki=.7,Ya=1/Ki,fs="\\s*([+-]?\\d+)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J_=/^#([0-9a-f]{3,8})$/,eS=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),tS=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),nS=new RegExp(`^rgba\\(${fs},${fs},${fs},${Yi}\\)$`),rS=new RegExp(`^rgba\\(${tn},${tn},${tn},${Yi}\\)$`),sS=new RegExp(`^hsl\\(${Yi},${tn},${tn}\\)$`),iS=new RegExp(`^hsla\\(${Yi},${tn},${tn},${Yi}\\)$`),ap={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};af(go,Ar,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lp,formatHex:lp,formatHex8:oS,formatHsl:aS,formatRgb:up,toString:up});function lp(){return this.rgb().formatHex()}function oS(){return this.rgb().formatHex8()}function aS(){return Ex(this).formatHsl()}function up(){return this.rgb().formatRgb()}function Ar(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=J_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cp(t):n===3?new it(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eS.exec(e))?new it(t[1],t[2],t[3],1):(t=tS.exec(e))?new it(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nS.exec(e))?Xo(t[1],t[2],t[3],t[4]):(t=rS.exec(e))?Xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sS.exec(e))?hp(t[1],t[2]/100,t[3]/100,1):(t=iS.exec(e))?hp(t[1],t[2]/100,t[3]/100,t[4]):ap.hasOwnProperty(e)?cp(ap[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function cp(e){return new it(e>>16&255,e>>8&255,e&255,1)}function Xo(e,t,n,r){return r<=0&&(e=t=n=NaN),new it(e,t,n,r)}function lS(e){return e instanceof go||(e=Ar(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function Bc(e,t,n,r){return arguments.length===1?lS(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}af(it,Bc,jx(go,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ki:Math.pow(Ki,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(jr(this.r),jr(this.g),jr(this.b),Ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dp,formatHex:dp,formatHex8:uS,formatRgb:fp,toString:fp}));function dp(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function uS(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function fp(){const e=Ga(this.opacity);return`${e===1?"rgb(":"rgba("}${jr(this.r)}, ${jr(this.g)}, ${jr(this.b)}${e===1?")":`, ${e})`}`}function Ga(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hr(e){return e=jr(e),(e<16?"0":"")+e.toString(16)}function hp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ot(e,t,n,r)}function Ex(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof go||(e=Ar(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,u=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?i+s:2-i-s,o*=60):a=u>0&&u<1?0:o,new Ot(o,a,u,e.opacity)}function cS(e,t,n,r){return arguments.length===1?Ex(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}af(Ot,cS,jx(go,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ki:Math.pow(Ki,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new it(_u(e>=240?e-240:e+120,s,r),_u(e,s,r),_u(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Ot(pp(this.h),Ko(this.s),Ko(this.l),Ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ga(this.opacity);return`${e===1?"hsl(":"hsla("}${pp(this.h)}, ${Ko(this.s)*100}%, ${Ko(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pp(e){return e=(e||0)%360,e<0?e+360:e}function Ko(e){return Math.max(0,Math.min(1,e||0))}function _u(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lf=e=>()=>e;function dS(e,t){return function(n){return e+n*t}}function fS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hS(e){return(e=+e)==1?Cx:function(t,n){return n-t?fS(t,n,e):lf(isNaN(t)?n:t)}}function Cx(e,t){var n=t-e;return n?dS(e,n):lf(isNaN(e)?t:e)}const Za=function e(t){var n=hS(t);function r(s,i){var o=n((s=Bc(s)).r,(i=Bc(i)).r),a=n(s.g,i.g),u=n(s.b,i.b),c=Cx(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=u(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function pS(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function mS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gS(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ei(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(a){for(o=0;o<r;++o)i[o]=s[o](a);return i}}function yS(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xS(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ei(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Wc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Su=new RegExp(Wc.source,"g");function vS(e){return function(){return e}}function wS(e){return function(t){return e(t)+""}}function Tx(e,t){var n=Wc.lastIndex=Su.lastIndex=0,r,s,i,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Wc.exec(e))&&(s=Su.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,u.push({i:o,x:Gt(r,s)})),n=Su.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?u[0]?wS(u[0].x):vS(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)a[(f=u[d]).i]=f.x(c);return a.join("")})}function Ei(e,t){var n=typeof t,r;return t==null||n==="boolean"?lf(t):(n==="number"?Gt:n==="string"?(r=Ar(t))?(t=r,Za):Tx:t instanceof Ar?Za:t instanceof Date?yS:mS(t)?pS:Array.isArray(t)?gS:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xS:Gt)(e,t)}var mp=180/Math.PI,Qc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mx(e,t,n,r,s,i){var o,a,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*mp,skewX:Math.atan(u)*mp,scaleX:o,scaleY:a}}var Yo;function bS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Qc:Mx(t.a,t.b,t.c,t.d,t.e,t.f)}function NS(e){return e==null||(Yo||(Yo=document.createElementNS("http://www.w3.org/2000/svg","g")),Yo.setAttribute("transform",e),!(e=Yo.transform.baseVal.consolidate()))?Qc:(e=e.matrix,Mx(e.a,e.b,e.c,e.d,e.e,e.f))}function Rx(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,f,h,v,y){if(c!==f||d!==h){var w=v.push("translate(",null,t,null,n);y.push({i:w-4,x:Gt(c,f)},{i:w-2,x:Gt(d,h)})}else(f||h)&&v.push("translate("+f+t+h+n)}function o(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Gt(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function a(c,d,f,h){c!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Gt(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function u(c,d,f,h,v,y){if(c!==f||d!==h){var w=v.push(s(v)+"scale(",null,",",null,")");y.push({i:w-4,x:Gt(c,f)},{i:w-2,x:Gt(d,h)})}else(f!==1||h!==1)&&v.push(s(v)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,h),o(c.rotate,d.rotate,f,h),a(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(v){for(var y=-1,w=h.length,_;++y<w;)f[(_=h[y]).i]=_.x(v);return f.join("")}}}var _S=Rx(bS,"px, ","px)","deg)"),SS=Rx(NS,", ",")",")"),kS=1e-12;function gp(e){return((e=Math.exp(e))+1/e)/2}function jS(e){return((e=Math.exp(e))-1/e)/2}function ES(e){return((e=Math.exp(2*e))-1)/(e+1)}const ya=function e(t,n,r){function s(i,o){var a=i[0],u=i[1],c=i[2],d=o[0],f=o[1],h=o[2],v=d-a,y=f-u,w=v*v+y*y,_,m;if(w<kS)m=Math.log(h/c)/t,_=function(b){return[a+b*v,u+b*y,c*Math.exp(t*b*m)]};else{var g=Math.sqrt(w),p=(h*h-c*c+r*w)/(2*c*n*g),x=(h*h-c*c-r*w)/(2*h*n*g),N=Math.log(Math.sqrt(p*p+1)-p),S=Math.log(Math.sqrt(x*x+1)-x);m=(S-N)/t,_=function(b){var k=b*m,C=gp(N),M=c/(n*g)*(C*ES(t*k+N)-jS(N));return[a+M*v,u+M*y,c*C/gp(t*k+N)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,u=a*a;return e(o,a,u)},s}(Math.SQRT2,2,4);var Ds=0,gi=0,li=0,Px=1e3,Ja,yi,el=0,Or=0,Cl=0,Gi=typeof performance=="object"&&performance.now?performance:Date,Ix=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uf(){return Or||(Ix(CS),Or=Gi.now()+Cl)}function CS(){Or=0}function tl(){this._call=this._time=this._next=null}tl.prototype=Dx.prototype={constructor:tl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?uf():+n)+(t==null?0:+t),!this._next&&yi!==this&&(yi?yi._next=this:Ja=this,yi=this),this._call=e,this._time=n,qc()},stop:function(){this._call&&(this._call=null,this._time=1/0,qc())}};function Dx(e,t,n){var r=new tl;return r.restart(e,t,n),r}function TS(){uf(),++Ds;for(var e=Ja,t;e;)(t=Or-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ds}function yp(){Or=(el=Gi.now())+Cl,Ds=gi=0;try{TS()}finally{Ds=0,RS(),Or=0}}function MS(){var e=Gi.now(),t=e-el;t>Px&&(Cl-=t,el=e)}function RS(){for(var e,t=Ja,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ja=n);yi=e,qc(r)}function qc(e){if(!Ds){gi&&(gi=clearTimeout(gi));var t=e-Or;t>24?(e<1/0&&(gi=setTimeout(yp,e-Gi.now()-Cl)),li&&(li=clearInterval(li))):(li||(el=Gi.now(),li=setInterval(MS,Px)),Ds=1,Ix(yp))}}function xp(e,t,n){var r=new tl;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var PS=jl("start","end","cancel","interrupt"),IS=[],Ax=0,vp=1,Xc=2,xa=3,wp=4,Kc=5,va=6;function Tl(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;DS(e,n,{name:t,index:r,group:s,on:PS,tween:IS,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ax})}function cf(e,t){var n=Ut(e,t);if(n.state>Ax)throw new Error("too late; already scheduled");return n}function rn(e,t){var n=Ut(e,t);if(n.state>xa)throw new Error("too late; already running");return n}function Ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function DS(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Dx(i,0,n.time);function i(c){n.state=vp,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,h,v;if(n.state!==vp)return u();for(d in r)if(v=r[d],v.name===n.name){if(v.state===xa)return xp(o);v.state===wp?(v.state=va,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[d]):+d<t&&(v.state=va,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[d])}if(xp(function(){n.state===xa&&(n.state=wp,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Xc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Xc){for(n.state=xa,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=v);s.length=f+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Kc,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===Kc&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=va,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function wa(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Xc&&r.state<Kc,r.state=va,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function AS(e){return this.each(function(){wa(this,e)})}function OS(e,t){var n,r;return function(){var s=rn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function LS(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=rn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},u=0,c=s.length;u<c;++u)if(s[u].name===t){s[u]=a;break}u===c&&s.push(a)}i.tween=s}}function zS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ut(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?OS:LS)(n,e,t))}function df(e,t,n){var r=e._id;return e.each(function(){var s=rn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ut(s,r).value[t]}}function Ox(e,t){var n;return(typeof t=="number"?Gt:t instanceof Ar?Za:(n=Ar(t))?(t=n,Za):Tx)(e,t)}function FS(e){return function(){this.removeAttribute(e)}}function $S(e){return function(){this.removeAttributeNS(e.space,e.local)}}function HS(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function VS(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function US(e,t,n){var r,s,i;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=a+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,a)))}}function BS(e,t,n){var r,s,i;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=a+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,a)))}}function WS(e,t){var n=El(e),r=n==="transform"?SS:Ox;return this.attrTween(e,typeof t=="function"?(n.local?BS:US)(n,r,df(this,"attr."+e,t)):t==null?(n.local?$S:FS)(n):(n.local?VS:HS)(n,r,t))}function QS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function XS(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&qS(e,i)),n}return s._value=t,s}function KS(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&QS(e,i)),n}return s._value=t,s}function YS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=El(e);return this.tween(n,(r.local?XS:KS)(r,t))}function GS(e,t){return function(){cf(this,e).delay=+t.apply(this,arguments)}}function ZS(e,t){return t=+t,function(){cf(this,e).delay=t}}function JS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?GS:ZS)(t,e)):Ut(this.node(),t).delay}function ek(e,t){return function(){rn(this,e).duration=+t.apply(this,arguments)}}function tk(e,t){return t=+t,function(){rn(this,e).duration=t}}function nk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ek:tk)(t,e)):Ut(this.node(),t).duration}function rk(e,t){if(typeof t!="function")throw new Error;return function(){rn(this,e).ease=t}}function sk(e){var t=this._id;return arguments.length?this.each(rk(t,e)):Ut(this.node(),t).ease}function ik(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rn(this,e).ease=n}}function ok(e){if(typeof e!="function")throw new Error;return this.each(ik(this._id,e))}function ak(e){typeof e!="function"&&(e=hx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&a.push(u);return new wn(r,this._parents,this._name,this._id)}function lk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var u=t[a],c=n[a],d=u.length,f=o[a]=new Array(d),h,v=0;v<d;++v)(h=u[v]||c[v])&&(f[v]=h);for(;a<r;++a)o[a]=t[a];return new wn(o,this._parents,this._name,this._id)}function uk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ck(e,t,n){var r,s,i=uk(t)?cf:rn;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function dk(e,t){var n=this._id;return arguments.length<2?Ut(this.node(),n).on.on(e):this.each(ck(n,e,t))}function fk(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hk(){return this.on("end.remove",fk(this._id))}function pk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sf(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],u=a.length,c=i[o]=new Array(u),d,f,h=0;h<u;++h)(d=a[h])&&(f=e.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Tl(c[h],t,n,h,c,Ut(d,n)));return new wn(i,this._parents,t,n)}function mk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=fx(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var u=r[a],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=e.call(d,d.__data__,f,u),v,y=Ut(d,n),w=0,_=h.length;w<_;++w)(v=h[w])&&Tl(v,t,n,w,h,y);i.push(h),o.push(d)}return new wn(i,o,t,n)}var gk=mo.prototype.constructor;function yk(){return new gk(this._groups,this._parents)}function xk(e,t){var n,r,s;return function(){var i=Is(this,e),o=(this.style.removeProperty(e),Is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Lx(e){return function(){this.style.removeProperty(e)}}function vk(e,t,n){var r,s=n+"",i;return function(){var o=Is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function wk(e,t,n){var r,s,i;return function(){var o=Is(this,e),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),Is(this,e))),o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,a))}}function bk(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var u=rn(this,e),c=u.on,d=u.value[i]==null?a||(a=Lx(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),u.on=r}}function Nk(e,t,n){var r=(e+="")=="transform"?_S:Ox;return t==null?this.styleTween(e,xk(e,r)).on("end.style."+e,Lx(e)):typeof t=="function"?this.styleTween(e,wk(e,r,df(this,"style."+e,t))).each(bk(this._id,e)):this.styleTween(e,vk(e,r,t),n).on("end.style."+e,null)}function _k(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Sk(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&_k(e,o,n)),r}return i._value=t,i}function kk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Sk(e,t,n??""))}function jk(e){return function(){this.textContent=e}}function Ek(e){return function(){var t=e(this);this.textContent=t??""}}function Ck(e){return this.tween("text",typeof e=="function"?Ek(df(this,"text",e)):jk(e==null?"":e+""))}function Tk(e){return function(t){this.textContent=e.call(this,t)}}function Mk(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Tk(s)),t}return r._value=e,r}function Rk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Mk(e))}function Pk(){for(var e=this._name,t=this._id,n=zx(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,u,c=0;c<a;++c)if(u=o[c]){var d=Ut(u,t);Tl(u,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new wn(r,this._parents,e,n)}function Ik(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},u={value:function(){--s===0&&i()}};n.each(function(){var c=rn(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),c.on=t}),s===0&&i()})}var Dk=0;function wn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zx(){return++Dk}var on=mo.prototype;wn.prototype={constructor:wn,select:pk,selectAll:mk,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:ak,merge:lk,selection:yk,transition:Pk,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:dk,attr:WS,attrTween:YS,style:Nk,styleTween:kk,text:Ck,textTween:Rk,remove:hk,tween:zS,delay:JS,duration:nk,ease:sk,easeVarying:ok,end:Ik,[Symbol.iterator]:on[Symbol.iterator]};function Ak(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ok={time:null,delay:0,duration:250,ease:Ak};function Lk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function zk(e){var t,n;e instanceof wn?(t=e._id,e=e._name):(t=zx(),(n=Ok).time=uf(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,u,c=0;c<a;++c)(u=o[c])&&Tl(u,e,t,c,o,n||Lk(u,t));return new wn(r,this._parents,e,t)}mo.prototype.interrupt=AS;mo.prototype.transition=zk;const Go=e=>()=>e;function Fk(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ml=new pn(1,0,0);Fx.prototype=pn.prototype;function Fx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ml;return e.__zoom}function ku(e){e.stopImmediatePropagation()}function ui(e){e.preventDefault(),e.stopImmediatePropagation()}function $k(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Hk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function bp(){return this.__zoom||Ml}function Vk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Uk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function $x(){var e=$k,t=Hk,n=Bk,r=Vk,s=Uk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,u=ya,c=jl("start","zoom","end"),d,f,h,v=500,y=150,w=0,_=10;function m(j){j.property("__zoom",bp).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",P).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(j,L,D,O){var E=j.selection?j.selection():j;E.property("__zoom",bp),j!==E?N(j,L,D,O):E.interrupt().each(function(){S(this,arguments).event(O).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},m.scaleBy=function(j,L,D,O){m.scaleTo(j,function(){var E=this.__zoom.k,T=typeof L=="function"?L.apply(this,arguments):L;return E*T},D,O)},m.scaleTo=function(j,L,D,O){m.transform(j,function(){var E=t.apply(this,arguments),T=this.__zoom,z=D==null?x(E):typeof D=="function"?D.apply(this,arguments):D,H=T.invert(z),V=typeof L=="function"?L.apply(this,arguments):L;return n(p(g(T,V),z,H),E,o)},D,O)},m.translateBy=function(j,L,D,O){m.transform(j,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),o)},null,O)},m.translateTo=function(j,L,D,O,E){m.transform(j,function(){var T=t.apply(this,arguments),z=this.__zoom,H=O==null?x(T):typeof O=="function"?O.apply(this,arguments):O;return n(Ml.translate(H[0],H[1]).scale(z.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof D=="function"?-D.apply(this,arguments):-D),T,o)},O,E)};function g(j,L){return L=Math.max(i[0],Math.min(i[1],L)),L===j.k?j:new pn(L,j.x,j.y)}function p(j,L,D){var O=L[0]-D[0]*j.k,E=L[1]-D[1]*j.k;return O===j.x&&E===j.y?j:new pn(j.k,O,E)}function x(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function N(j,L,D,O){j.on("start.zoom",function(){S(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(O).end()}).tween("zoom",function(){var E=this,T=arguments,z=S(E,T).event(O),H=t.apply(E,T),V=D==null?x(H):typeof D=="function"?D.apply(E,T):D,Q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),B=E.__zoom,K=typeof L=="function"?L.apply(E,T):L,Y=u(B.invert(V).concat(Q/B.k),K.invert(V).concat(Q/K.k));return function(Z){if(Z===1)Z=K;else{var W=Y(Z),J=Q/W[2];Z=new pn(J,V[0]-W[0]*J,V[1]-W[1]*J)}z.zoom(null,Z)}})}function S(j,L,D){return!D&&j.__zooming||new b(j,L)}function b(j,L){this.that=j,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,L),this.taps=0}b.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,L){return this.mouse&&j!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var L=ht(this.that).datum();c.call(j,this.that,new Fk(j,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),L)}};function k(j,...L){if(!e.apply(this,arguments))return;var D=S(this,L).event(j),O=this.__zoom,E=Math.max(i[0],Math.min(i[1],O.k*Math.pow(2,r.apply(this,arguments)))),T=Dt(j);if(D.wheel)(D.mouse[0][0]!==T[0]||D.mouse[0][1]!==T[1])&&(D.mouse[1]=O.invert(D.mouse[0]=T)),clearTimeout(D.wheel);else{if(O.k===E)return;D.mouse=[T,O.invert(T)],wa(this),D.start()}ui(j),D.wheel=setTimeout(z,y),D.zoom("mouse",n(p(g(O,E),D.mouse[0],D.mouse[1]),D.extent,o));function z(){D.wheel=null,D.end()}}function C(j,...L){if(h||!e.apply(this,arguments))return;var D=j.currentTarget,O=S(this,L,!0).event(j),E=ht(j.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",Q,!0),T=Dt(j,D),z=j.clientX,H=j.clientY;_x(j.view),ku(j),O.mouse=[T,this.__zoom.invert(T)],wa(this),O.start();function V(B){if(ui(B),!O.moved){var K=B.clientX-z,Y=B.clientY-H;O.moved=K*K+Y*Y>w}O.event(B).zoom("mouse",n(p(O.that.__zoom,O.mouse[0]=Dt(B,D),O.mouse[1]),O.extent,o))}function Q(B){E.on("mousemove.zoom mouseup.zoom",null),Sx(B.view,O.moved),ui(B),O.event(B).end()}}function M(j,...L){if(e.apply(this,arguments)){var D=this.__zoom,O=Dt(j.changedTouches?j.changedTouches[0]:j,this),E=D.invert(O),T=D.k*(j.shiftKey?.5:2),z=n(p(g(D,T),O,E),t.apply(this,L),o);ui(j),a>0?ht(this).transition().duration(a).call(N,z,O,j):ht(this).call(m.transform,z,O,j)}}function P(j,...L){if(e.apply(this,arguments)){var D=j.touches,O=D.length,E=S(this,L,j.changedTouches.length===O).event(j),T,z,H,V;for(ku(j),z=0;z<O;++z)H=D[z],V=Dt(H,this),V=[V,this.__zoom.invert(V),H.identifier],E.touch0?!E.touch1&&E.touch0[2]!==V[2]&&(E.touch1=V,E.taps=0):(E.touch0=V,T=!0,E.taps=1+!!d);d&&(d=clearTimeout(d)),T&&(E.taps<2&&(f=V[0],d=setTimeout(function(){d=null},v)),wa(this),E.start())}}function A(j,...L){if(this.__zooming){var D=S(this,L).event(j),O=j.changedTouches,E=O.length,T,z,H,V;for(ui(j),T=0;T<E;++T)z=O[T],H=Dt(z,this),D.touch0&&D.touch0[2]===z.identifier?D.touch0[0]=H:D.touch1&&D.touch1[2]===z.identifier&&(D.touch1[0]=H);if(z=D.that.__zoom,D.touch1){var Q=D.touch0[0],B=D.touch0[1],K=D.touch1[0],Y=D.touch1[1],Z=(Z=K[0]-Q[0])*Z+(Z=K[1]-Q[1])*Z,W=(W=Y[0]-B[0])*W+(W=Y[1]-B[1])*W;z=g(z,Math.sqrt(Z/W)),H=[(Q[0]+K[0])/2,(Q[1]+K[1])/2],V=[(B[0]+Y[0])/2,(B[1]+Y[1])/2]}else if(D.touch0)H=D.touch0[0],V=D.touch0[1];else return;D.zoom("touch",n(p(z,H,V),D.extent,o))}}function F(j,...L){if(this.__zooming){var D=S(this,L).event(j),O=j.changedTouches,E=O.length,T,z;for(ku(j),h&&clearTimeout(h),h=setTimeout(function(){h=null},v),T=0;T<E;++T)z=O[T],D.touch0&&D.touch0[2]===z.identifier?delete D.touch0:D.touch1&&D.touch1[2]===z.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(z=Dt(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<_)){var H=ht(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return m.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:Go(+j),m):r},m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Go(!!j),m):e},m.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:Go(!!j),m):s},m.extent=function(j){return arguments.length?(t=typeof j=="function"?j:Go([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),m):t},m.scaleExtent=function(j){return arguments.length?(i[0]=+j[0],i[1]=+j[1],m):[i[0],i[1]]},m.translateExtent=function(j){return arguments.length?(o[0][0]=+j[0][0],o[1][0]=+j[1][0],o[0][1]=+j[0][1],o[1][1]=+j[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(j){return arguments.length?(n=j,m):n},m.duration=function(j){return arguments.length?(a=+j,m):a},m.interpolate=function(j){return arguments.length?(u=j,m):u},m.on=function(){var j=c.on.apply(c,arguments);return j===c?m:j},m.clickDistance=function(j){return arguments.length?(w=(j=+j)*j,m):Math.sqrt(w)},m.tapDistance=function(j){return arguments.length?(_=+j,m):_},m}const nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Zi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Hx=["Enter"," ","Escape"],Vx={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var As;(function(e){e.Strict="strict",e.Loose="loose"})(As||(As={}));var Er;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Er||(Er={}));var Ji;(function(e){e.Partial="partial",e.Full="full"})(Ji||(Ji={}));const Ux={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Pn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Pn||(Pn={}));var nl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(nl||(nl={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));const Np={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top};function Bx(e){return e===null?null:e?"valid":"invalid"}const Wx=e=>"id"in e&&"source"in e&&"target"in e,Wk=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),ff=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),yo=(e,t,n)=>{if(!e.id)return[];const r=new Set;return n.forEach(s=>{s.target===e.id&&r.add(s.source)}),t.filter(s=>r.has(s.id))},xo=(e,t=[0,0])=>{const{width:n,height:r}=Nn(e),s=e.origin??t,i=n*s[0],o=r*s[1];return{x:e.position.x-i,y:e.position.y-o}},Qk=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let o=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(s):ff(s)?s:t.nodeLookup.get(s.id));const a=o?rl(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Rl(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Pl(n)},vo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Rl(n,rl(s)),r=!0)}),r?Pl(n):{x:0,y:0,width:0,height:0}},hf=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1)=>{const a={...bo(t,[n,r,s]),width:t.width/s,height:t.height/s},u=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=c;if(o&&!f||h)continue;const v=d.width??c.width??c.initialWidth??null,y=d.height??c.height??c.initialHeight??null,w=eo(a,Ls(c)),_=(v??0)*(y??0),m=i&&w>0;(!c.internals.handleBounds||m||w>=_||c.dragging)&&u.push(c)}return u},qk=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Xk(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function Kk({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const a=Xk(e,o),u=vo(a),c=pf(u,t,n,(o==null?void 0:o.minZoom)??s,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Qx({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:u,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let f=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!a)i==null||i("005",nn.error005());else{const v=a.measured.width,y=a.measured.height;v&&y&&(f=[[u,c],[u+v,c+y]])}else a&&zs(o.extent)&&(f=[[o.extent[0][0]+u,o.extent[0][1]+c],[o.extent[1][0]+u,o.extent[1][1]+c]]);const h=zs(f)?Lr(t,f,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",nn.error015())),{position:{x:h.x-u+(o.measured.width??0)*d[0],y:h.y-c+(o.measured.height??0)*d[1]},positionAbsolute:h}}async function Yk({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const v=i.has(h.id),y=!v&&h.parentId&&o.find(w=>w.id===h.parentId);(v||y)&&o.push(h)}const a=new Set(t.map(h=>h.id)),u=r.filter(h=>h.deletable!==!1),d=qk(o,u);for(const h of u)a.has(h.id)&&!d.find(y=>y.id===h.id)&&d.push(h);if(!s)return{edges:d,nodes:o};const f=await s({nodes:o,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:o}:{edges:[],nodes:[]}:f}const Os=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Lr=(e={x:0,y:0},t,n)=>({x:Os(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Os(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function qx(e,t,n){const{width:r,height:s}=Nn(n),{x:i,y:o}=n.internals.positionAbsolute;return Lr(e,[[i,o],[i+r,o+s]],t)}const _p=(e,t,n)=>e<t?Os(Math.abs(e-t),1,t)/t:e>n?-Os(Math.abs(e-n),1,t)/t:0,Xx=(e,t,n=15,r=40)=>{const s=_p(e.x,r,t.width-r)*n,i=_p(e.y,r,t.height-r)*n;return[s,i]},Rl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Yc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Pl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ls=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=ff(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},rl=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=ff(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Kx=(e,t)=>Pl(Rl(Yc(e),Yc(t))),eo=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Sp=e=>zt(e.width)&&zt(e.height)&&zt(e.x)&&zt(e.y),zt=e=>!isNaN(e)&&isFinite(e),Gk=(e,t)=>{},wo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),bo=({x:e,y:t},[n,r,s],i=!1,o=[1,1])=>{const a={x:(e-n)/s,y:(t-r)/s};return i?wo(a,o):a},sl=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Br(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Zk(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Br(e,n),s=Br(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Br(e.top??e.y??0,n),s=Br(e.bottom??e.y??0,n),i=Br(e.left??e.x??0,t),o=Br(e.right??e.x??0,t);return{top:r,right:o,bottom:s,left:i,x:i+o,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Jk(e,t,n,r,s,i){const{x:o,y:a}=sl(e,[t,n,r]),{x:u,y:c}=sl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-u,f=i-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(f)}}const pf=(e,t,n,r,s,i)=>{const o=Zk(i,t,n),a=(t-o.x)/e.width,u=(n-o.y)/e.height,c=Math.min(a,u),d=Os(c,r,s),f=e.x+e.width/2,h=e.y+e.height/2,v=t/2-f*d,y=n/2-h*d,w=Jk(e,v,y,d,t,n),_={left:Math.min(w.left-o.left,0),top:Math.min(w.top-o.top,0),right:Math.min(w.right-o.right,0),bottom:Math.min(w.bottom-o.bottom,0)};return{x:v-_.left+_.right,y:y-_.top+_.bottom,zoom:d}},to=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function zs(e){return e!=null&&e!=="parent"}function Nn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Yx(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Gx(e,t={width:0,height:0},n,r,s){const i={...e},o=r.get(n);if(o){const a=o.origin||s;i.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function kp(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ej(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function tj(e){return{...Vx,...e||{}}}function Ci(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:o}=Ft(e),a=bo({x:i-((s==null?void 0:s.left)??0),y:o-((s==null?void 0:s.top)??0)},r),{x:u,y:c}=n?wo(a,t):a;return{xSnapped:u,ySnapped:c,...a}}const mf=e=>({width:e.offsetWidth,height:e.offsetHeight}),Zx=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},nj=["INPUT","SELECT","TEXTAREA"];function Jx(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:nj.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const e0=e=>"clientX"in e,Ft=(e,t)=>{var i,o;const n=e0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},jp=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...mf(o)}})};function t0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const u=e*.125+s*.375+o*.375+n*.125,c=t*.125+i*.375+a*.375+r*.125,d=Math.abs(u-e),f=Math.abs(c-t);return[u,c,d,f]}function Zo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ep({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-Zo(t-r,i),n];case G.Right:return[t+Zo(r-t,i),n];case G.Top:return[t,n-Zo(n-s,i)];case G.Bottom:return[t,n+Zo(s-n,i)]}}function n0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[a,u]=Ep({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[c,d]=Ep({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,v,y]=t0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${a},${u} ${c},${d} ${r},${s}`,f,h,v,y]}function r0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[i,a,s,o]}function rj({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const o=s&&n?r+1e3:r,a=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return o+a}function sj({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Rl(rl(e),rl(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return eo(o,Pl(i))>0}const ij=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,oj=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),s0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||ij;let s;return Wx(e)?s={...e}:s={...e,id:r(e)},oj(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function i0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,a]=r0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,a]}const Cp={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},aj=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Tp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function lj({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i,stepPosition:o}){const a=Cp[t],u=Cp[r],c={x:e.x+a.x*i,y:e.y+a.y*i},d={x:n.x+u.x*i,y:n.y+u.y*i},f=aj({source:c,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",v=f[h];let y=[],w,_;const m={x:0,y:0},g={x:0,y:0},[,,p,x]=r0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*u[h]===-1){h==="x"?(w=s.x??c.x+(d.x-c.x)*o,_=s.y??(c.y+d.y)/2):(w=s.x??(c.x+d.x)/2,_=s.y??c.y+(d.y-c.y)*o);const S=[{x:w,y:c.y},{x:w,y:d.y}],b=[{x:c.x,y:_},{x:d.x,y:_}];a[h]===v?y=h==="x"?S:b:y=h==="x"?b:S}else{const S=[{x:c.x,y:d.y}],b=[{x:d.x,y:c.y}];if(h==="x"?y=a.x===v?b:S:y=a.y===v?S:b,t===r){const A=Math.abs(e[h]-n[h]);if(A<=i){const F=Math.min(i-1,i-A);a[h]===v?m[h]=(c[h]>e[h]?-1:1)*F:g[h]=(d[h]>n[h]?-1:1)*F}}if(t!==r){const A=h==="x"?"y":"x",F=a[h]===u[A],j=c[A]>d[A],L=c[A]<d[A];(a[h]===1&&(!F&&j||F&&L)||a[h]!==1&&(!F&&L||F&&j))&&(y=h==="x"?S:b)}const k={x:c.x+m.x,y:c.y+m.y},C={x:d.x+g.x,y:d.y+g.y},M=Math.max(Math.abs(k.x-y[0].x),Math.abs(C.x-y[0].x)),P=Math.max(Math.abs(k.y-y[0].y),Math.abs(C.y-y[0].y));M>=P?(w=(k.x+C.x)/2,_=y[0].y):(w=y[0].x,_=(k.y+C.y)/2)}return[[e,{x:c.x+m.x,y:c.y+m.y},...y,{x:d.x+g.x,y:d.y+g.y},n],w,_,p,x]}function uj(e,t,n,r){const s=Math.min(Tp(e,t)/2,Tp(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const a=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${o+s*u}Q ${i},${o} ${i+s*a},${o}`}function il({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:a,centerY:u,offset:c=20,stepPosition:d=.5}){const[f,h,v,y,w]=lj({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:u},offset:c,stepPosition:d});return[f.reduce((m,g,p)=>{let x="";return p>0&&p<f.length-1?x=uj(f[p-1],g,f[p+1],o):x=`${p===0?"M":"L"}${g.x} ${g.y}`,m+=x,m},""),h,v,y,w]}function Mp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function cj(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Mp(t)||!Mp(n))return null;const r=t.internals.handleBounds||Rp(t.handles),s=n.internals.handleBounds||Rp(n.handles),i=Pp((r==null?void 0:r.source)??[],e.sourceHandle),o=Pp(e.connectionMode===As.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!o)return(f=e.onError)==null||f.call(e,"008",nn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||G.Bottom,u=(o==null?void 0:o.position)||G.Top,c=zr(t,i,a),d=zr(n,o,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:u}}function Rp(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function zr(e,t,n=G.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??Nn(e);if(r)return{x:s+o/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case G.Top:return{x:s+o/2,y:i};case G.Right:return{x:s+o,y:i+a/2};case G.Bottom:return{x:s+o/2,y:i+a};case G.Left:return{x:s,y:i+a/2}}}function Pp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Gc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function dj(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||s].forEach(u=>{if(u&&typeof u=="object"){const c=Gc(u,t);i.has(c)||(o.push({id:c,color:u.color||n,...u}),i.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const o0=1e3,fj=10,gf={nodeOrigin:[0,0],nodeExtent:Zi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},hj={...gf,checkEquality:!0};function yf(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function pj(e,t,n){const r=yf(gf,n);for(const s of e.values())if(s.parentId)vf(s,e,t,r);else{const i=xo(s,r.nodeOrigin),o=zs(s.extent)?s.extent:r.nodeExtent,a=Lr(i,o,Nn(s));s.internals.positionAbsolute=a}}function mj(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function xf(e){return e==="manual"}function Zc(e,t,n,r={}){var c,d;const s=yf(hj,r),i={i:0},o=new Map(t),a=s!=null&&s.elevateNodesOnSelect&&!xf(s.zIndexMode)?o0:0;let u=e.length>0;t.clear(),n.clear();for(const f of e){let h=o.get(f.id);if(s.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const v=xo(f,s.nodeOrigin),y=zs(f.extent)?f.extent:s.nodeExtent,w=Lr(v,y,Nn(f));h={...s.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:w,handleBounds:mj(f,h),z:a0(f,a,s.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(u=!1),f.parentId&&vf(h,t,n,r,i)}return u}function gj(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function vf(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a,zIndexMode:u}=yf(gf,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}gj(e,n),s&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++s.i,d.internals.z=d.internals.z+s.i*fj),s&&d.internals.rootParentIndex!==void 0&&(s.i=d.internals.rootParentIndex);const f=i&&!xf(u)?o0:0,{x:h,y:v,z:y}=yj(e,d,o,a,f,u),{positionAbsolute:w}=e.internals,_=h!==w.x||v!==w.y;(_||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:h,y:v}:w,z:y}})}function a0(e,t,n){const r=zt(e.zIndex)?e.zIndex:0;return xf(n)?r:r+(e.selected?t:0)}function yj(e,t,n,r,s,i){const{x:o,y:a}=t.internals.positionAbsolute,u=Nn(e),c=xo(e,n),d=zs(e.extent)?Lr(c,e.extent,u):c;let f=Lr({x:o+d.x,y:a+d.y},r,u);e.extent==="parent"&&(f=qx(f,u,t));const h=a0(e,s,i),v=t.internals.z??0;return{x:f.x,y:f.y,z:v>=h?v+1:h}}function wf(e,t,n,r=[0,0]){var o;const s=[],i=new Map;for(const a of e){const u=t.get(a.parentId);if(!u)continue;const c=((o=i.get(a.parentId))==null?void 0:o.expandedRect)??Ls(u),d=Kx(c,a.rect);i.set(a.parentId,{expandedRect:d,parent:u})}return i.size>0&&i.forEach(({expandedRect:a,parent:u},c)=>{var p;const d=u.internals.positionAbsolute,f=Nn(u),h=u.origin??r,v=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,y=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,w=Math.max(f.width,Math.round(a.width)),_=Math.max(f.height,Math.round(a.height)),m=(w-f.width)*h[0],g=(_-f.height)*h[1];(v>0||y>0||m||g)&&(s.push({id:c,type:"position",position:{x:u.position.x-v+m,y:u.position.y-y+g}}),(p=n.get(c))==null||p.forEach(x=>{e.some(N=>N.id===x.id)||s.push({id:x.id,type:"position",position:{x:x.position.x+v,y:x.position.y+y}})})),(f.width<a.width||f.height<a.height||v||y)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?h[0]*v-m:0),height:_+(y?h[1]*y-g:0)}})}),s}function xj(e,t,n,r,s,i,o){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(a),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const v of e.values()){const y=t.get(v.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),u=!0;continue}const w=mf(v.nodeElement),_=y.measured.width!==w.width||y.measured.height!==w.height;if(!!(w.width&&w.height&&(_||!y.internals.handleBounds||v.force))){const g=v.nodeElement.getBoundingClientRect(),p=zs(y.extent)?y.extent:i;let{positionAbsolute:x}=y.internals;y.parentId&&y.extent==="parent"?x=qx(x,w,t.get(y.parentId)):p&&(x=Lr(x,p,w));const N={...y,measured:w,internals:{...y.internals,positionAbsolute:x,handleBounds:{source:jp("source",v.nodeElement,g,f,y.id),target:jp("target",v.nodeElement,g,f,y.id)}}};t.set(y.id,N),y.parentId&&vf(N,t,n,{nodeOrigin:s,zIndexMode:o}),u=!0,_&&(c.push({id:y.id,type:"dimensions",dimensions:w}),y.expandParent&&y.parentId&&h.push({id:y.id,parentId:y.parentId,rect:Ls(N,s)}))}}if(h.length>0){const v=wf(h,t,n,s);c.push(...v)}return{changes:c,updatedInternals:u}}async function vj({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Ip(e,t,n,r,s,i){let o=s;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${s}-${e}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,t)),i){o=`${s}-${e}-${i}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function l0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:o=null,targetHandle:a=null}=r,u={edgeId:r.id,source:s,target:i,sourceHandle:o,targetHandle:a},c=`${s}-${o}--${i}-${a}`,d=`${i}-${a}--${s}-${o}`;Ip("source",u,d,e,s,o),Ip("target",u,c,e,i,a),t.set(r.id,r)}}function u0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:u0(n,t):!1}function Dp(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function wj(e,t,n,r){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!u0(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(i);a&&s.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return s}function ju({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,a,u;const s=[];for(const[c,d]of t){const f=(o=n.get(c))==null?void 0:o.internals.userNode;f&&s.push({...f,position:d.position,dragging:r})}if(!e)return[s[0],s];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:r}:s[0],s]}function bj({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},o=wo(i,t);return{x:o.x-i.x,y:o.y-i.y}}function Nj({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},o=0,a=new Map,u=!1,c={x:0,y:0},d=null,f=!1,h=null,v=!1,y=!1,w=null;function _({noDragClassName:g,handleSelector:p,domNode:x,isSelectable:N,nodeId:S,nodeClickDistance:b=0}){h=ht(x);function k({x:A,y:F}){const{nodeLookup:j,nodeExtent:L,snapGrid:D,snapToGrid:O,nodeOrigin:E,onNodeDrag:T,onSelectionDrag:z,onError:H,updateNodePositions:V}=t();i={x:A,y:F};let Q=!1;const B=a.size>1,K=B&&L?Yc(vo(a)):null,Y=B&&O?bj({dragItems:a,snapGrid:D,x:A,y:F}):null;for(const[Z,W]of a){if(!j.has(Z))continue;let J={x:A-W.distance.x,y:F-W.distance.y};O&&(J=Y?{x:Math.round(J.x+Y.x),y:Math.round(J.y+Y.y)}:wo(J,D));let oe=null;if(B&&L&&!W.extent&&K){const{positionAbsolute:te}=W.internals,pe=te.x-K.x+L[0][0],xe=te.x+W.measured.width-K.x2+L[1][0],he=te.y-K.y+L[0][1],Ue=te.y+W.measured.height-K.y2+L[1][1];oe=[[pe,he],[xe,Ue]]}const{position:re,positionAbsolute:ne}=Qx({nodeId:Z,nextPosition:J,nodeLookup:j,nodeExtent:oe||L,nodeOrigin:E,onError:H});Q=Q||W.position.x!==re.x||W.position.y!==re.y,W.position=re,W.internals.positionAbsolute=ne}if(y=y||Q,!!Q&&(V(a,!0),w&&(r||T||!S&&z))){const[Z,W]=ju({nodeId:S,dragItems:a,nodeLookup:j});r==null||r(w,a,Z,W),T==null||T(w,Z,W),S||z==null||z(w,W)}}async function C(){if(!d)return;const{transform:A,panBy:F,autoPanSpeed:j,autoPanOnNodeDrag:L}=t();if(!L){u=!1,cancelAnimationFrame(o);return}const[D,O]=Xx(c,d,j);(D!==0||O!==0)&&(i.x=(i.x??0)-D/A[2],i.y=(i.y??0)-O/A[2],await F({x:D,y:O})&&k(i)),o=requestAnimationFrame(C)}function M(A){var B;const{nodeLookup:F,multiSelectionActive:j,nodesDraggable:L,transform:D,snapGrid:O,snapToGrid:E,selectNodesOnDrag:T,onNodeDragStart:z,onSelectionDragStart:H,unselectNodesAndEdges:V}=t();f=!0,(!T||!N)&&!j&&S&&((B=F.get(S))!=null&&B.selected||V()),N&&T&&S&&(e==null||e(S));const Q=Ci(A.sourceEvent,{transform:D,snapGrid:O,snapToGrid:E,containerBounds:d});if(i=Q,a=wj(F,L,Q,S),a.size>0&&(n||z||!S&&H)){const[K,Y]=ju({nodeId:S,dragItems:a,nodeLookup:F});n==null||n(A.sourceEvent,a,K,Y),z==null||z(A.sourceEvent,K,Y),S||H==null||H(A.sourceEvent,Y)}}const P=kx().clickDistance(b).on("start",A=>{const{domNode:F,nodeDragThreshold:j,transform:L,snapGrid:D,snapToGrid:O}=t();d=(F==null?void 0:F.getBoundingClientRect())||null,v=!1,y=!1,w=A.sourceEvent,j===0&&M(A),i=Ci(A.sourceEvent,{transform:L,snapGrid:D,snapToGrid:O,containerBounds:d}),c=Ft(A.sourceEvent,d)}).on("drag",A=>{const{autoPanOnNodeDrag:F,transform:j,snapGrid:L,snapToGrid:D,nodeDragThreshold:O,nodeLookup:E}=t(),T=Ci(A.sourceEvent,{transform:j,snapGrid:L,snapToGrid:D,containerBounds:d});if(w=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||S&&!E.has(S))&&(v=!0),!v){if(!u&&F&&f&&(u=!0,C()),!f){const z=Ft(A.sourceEvent,d),H=z.x-c.x,V=z.y-c.y;Math.sqrt(H*H+V*V)>O&&M(A)}(i.x!==T.xSnapped||i.y!==T.ySnapped)&&a&&f&&(c=Ft(A.sourceEvent,d),k(T))}}).on("end",A=>{if(!(!f||v)&&(u=!1,f=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:F,updateNodePositions:j,onNodeDragStop:L,onSelectionDragStop:D}=t();if(y&&(j(a,!1),y=!1),s||L||!S&&D){const[O,E]=ju({nodeId:S,dragItems:a,nodeLookup:F,dragging:!1});s==null||s(A.sourceEvent,a,O,E),L==null||L(A.sourceEvent,O,E),S||D==null||D(A.sourceEvent,E)}}}).filter(A=>{const F=A.target;return!A.button&&(!g||!Dp(F,`.${g}`,x))&&(!p||Dp(F,p,x))});h.call(P)}function m(){h==null||h.on(".drag",null)}return{update:_,destroy:m}}function _j(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())eo(s,Ls(i))>0&&r.push(i);return r}const Sj=250;function kj(e,t,n,r){var a,u;let s=[],i=1/0;const o=_j(e,n,t+Sj);for(const c of o){const d=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:h,y:v}=zr(c,f,f.position,!0),y=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(v-e.y,2));y>t||(y<i?(s=[{...f,x:h,y:v}],i=y):y===i&&s.push({...f,x:h,y:v}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(d=>d.type===c)??s[0]}return s[0]}function c0(e,t,n,r,s,i=!1){var c,d,f;const o=r.get(e);if(!o)return null;const a=s==="strict"?(c=o.internals.handleBounds)==null?void 0:c[t]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],u=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return u&&i?{...u,...zr(o,u,u.position,!0)}:u}function d0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function jj(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const f0=()=>!0;function Ej(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:a,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:v,onConnectStart:y,onConnect:w,onConnectEnd:_,isValidConnection:m=f0,onReconnectEnd:g,updateConnection:p,getTransform:x,getFromHandle:N,autoPanSpeed:S,dragThreshold:b=1,handleDomNode:k}){const C=Zx(e.target);let M=0,P;const{x:A,y:F}=Ft(e),j=d0(i,k),L=a==null?void 0:a.getBoundingClientRect();let D=!1;if(!L||!j)return;const O=c0(s,j,r,u,t);if(!O)return;let E=Ft(e,L),T=!1,z=null,H=!1,V=null;function Q(){if(!d||!L)return;const[re,ne]=Xx(E,L,S);h({x:re,y:ne}),M=requestAnimationFrame(Q)}const B={...O,nodeId:s,type:j,position:O.position},K=u.get(s);let Z={inProgress:!0,isValid:null,from:zr(K,B,G.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:K,to:E,toHandle:null,toPosition:Np[B.position],toNode:null,pointer:E};function W(){D=!0,p(Z),y==null||y(e,{nodeId:s,handleId:r,handleType:j})}b===0&&W();function J(re){if(!D){const{x:Ue,y:_n}=Ft(re),sn=Ue-A,sr=_n-F;if(!(sn*sn+sr*sr>b*b))return;W()}if(!N()||!B){oe(re);return}const ne=x();E=Ft(re,L),P=kj(bo(E,ne,!1,[1,1]),n,u,B),T||(Q(),T=!0);const te=h0(re,{handle:P,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:o?"target":"source",isValidConnection:m,doc:C,lib:c,flowId:f,nodeLookup:u});V=te.handleDomNode,z=te.connection,H=jj(!!P,te.isValid);const pe=u.get(s),xe=pe?zr(pe,B,G.Left,!0):Z.from,he={...Z,from:xe,isValid:H,to:te.toHandle&&H?sl({x:te.toHandle.x,y:te.toHandle.y},ne):E,toHandle:te.toHandle,toPosition:H&&te.toHandle?te.toHandle.position:Np[B.position],toNode:te.toHandle?u.get(te.toHandle.nodeId):null,pointer:E};p(he),Z=he}function oe(re){if(!("touches"in re&&re.touches.length>0)){if(D){(P||V)&&z&&H&&(w==null||w(z));const{inProgress:ne,...te}=Z,pe={...te,toPosition:Z.toHandle?Z.toPosition:null};_==null||_(re,pe),i&&(g==null||g(re,pe))}v(),cancelAnimationFrame(M),T=!1,H=!1,z=null,V=null,C.removeEventListener("mousemove",J),C.removeEventListener("mouseup",oe),C.removeEventListener("touchmove",J),C.removeEventListener("touchend",oe)}}C.addEventListener("mousemove",J),C.addEventListener("mouseup",oe),C.addEventListener("touchmove",J),C.addEventListener("touchend",oe)}function h0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:o,lib:a,flowId:u,isValidConnection:c=f0,nodeLookup:d}){const f=i==="target",h=t?o.querySelector(`.${a}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y}=Ft(e),w=o.elementFromPoint(v,y),_=w!=null&&w.classList.contains(`${a}-flow__handle`)?w:h,m={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const g=d0(void 0,_),p=_.getAttribute("data-nodeid"),x=_.getAttribute("data-handleid"),N=_.classList.contains("connectable"),S=_.classList.contains("connectableend");if(!p||!g)return m;const b={source:f?p:r,sourceHandle:f?x:s,target:f?r:p,targetHandle:f?s:x};m.connection=b;const C=N&&S&&(n===As.Strict?f&&g==="source"||!f&&g==="target":p!==r||x!==s);m.isValid=C&&c(b),m.toHandle=c0(p,g,x,d,n,!0)}return m}const Jc={onPointerDown:Ej,isValid:h0};function Cj({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=ht(e);function i({translateExtent:a,width:u,height:c,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:v=!1}){const y=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const x=n(),N=p.sourceEvent.ctrlKey&&to()?10:1,S=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*d,b=x[2]*Math.pow(2,S*N);t.scaleTo(b)};let w=[0,0];const _=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(w=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},m=p=>{const x=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const N=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],S=[N[0]-w[0],N[1]-w[1]];w=N;const b=r()*Math.max(x[2],Math.log(x[2]))*(v?-1:1),k={x:x[0]-S[0]*b,y:x[1]-S[1]*b},C=[[0,0],[u,c]];t.setViewportConstrained({x:k.x,y:k.y,zoom:x[2]},C,a)},g=$x().on("start",_).on("zoom",f?m:null).on("zoom.wheel",h?y:null);s.call(g,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Dt}}const Il=e=>({x:e.x,y:e.y,zoom:e.k}),Eu=({x:e,y:t,zoom:n})=>Ml.translate(e,t).scale(n),rs=(e,t)=>e.target.closest(`.${t}`),p0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Tj=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Cu=(e,t=0,n=Tj,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},m0=e=>{const t=e.ctrlKey&&to()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Mj({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(rs(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&o){const _=Dt(d),m=m0(d),g=f*Math.pow(2,m);r.scaleTo(n,g,_,d);return}const h=d.deltaMode===1?20:1;let v=s===Er.Vertical?0:d.deltaX*h,y=s===Er.Horizontal?0:d.deltaY*h;!to()&&d.shiftKey&&s!==Er.Vertical&&(v=d.deltaY*h,y=0),r.translateBy(n,-(v/f)*i,-(y/f)*i,{internal:!0});const w=Il(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(d,w),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(d,w))}}function Rj({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,a=rs(r,e);if(r.ctrlKey&&i&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,s)}}function Pj({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,a;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Il(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function Ij({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var o,a;e.usedRightMouseButton=!!(n&&p0(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((a=i.sourceEvent)!=null&&a.internal)&&(s==null||s(i.sourceEvent,Il(i.transform)))}}function Dj({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&p0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const u=Il(o.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(o.sourceEvent,u)},n?150:0)}}}function Aj({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:a,noPanClassName:u,lib:c,connectionInProgress:d}){return f=>{var _;const h=e||t,v=n&&f.ctrlKey,y=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(rs(f,`${c}-flow__node`)||rs(f,`${c}-flow__edge`)))return!0;if(!r&&!h&&!s&&!i&&!n||o||d&&!y||rs(f,a)&&y||rs(f,u)&&(!y||s&&y&&!e)||!n&&f.ctrlKey&&y)return!1;if(!n&&f.type==="touchstart"&&((_=f.touches)==null?void 0:_.length)>1)return f.preventDefault(),!1;if(!h&&!s&&!v&&y||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||y)&&w}}function Oj({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=$x().scaleExtent([t,n]).translateExtent(r),h=ht(e).call(f);g({x:s.x,y:s.y,zoom:Os(s.zoom,t,n)},[[0,0],[d.width,d.height]],r);const v=h.on("wheel.zoom"),y=h.on("dblclick.zoom");f.wheelDelta(m0);function w(P,A){return h?new Promise(F=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:ya).transform(Cu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>F(!0)),P)}):Promise.resolve(!1)}function _({noWheelClassName:P,noPanClassName:A,onPaneContextMenu:F,userSelectionActive:j,panOnScroll:L,panOnDrag:D,panOnScrollMode:O,panOnScrollSpeed:E,preventScrolling:T,zoomOnPinch:z,zoomOnScroll:H,zoomOnDoubleClick:V,zoomActivationKeyPressed:Q,lib:B,onTransformChange:K,connectionInProgress:Y,paneClickDistance:Z,selectionOnDrag:W}){j&&!c.isZoomingOrPanning&&m();const J=L&&!Q&&!j;f.clickDistance(W?1/0:!zt(Z)||Z<0?0:Z);const oe=J?Mj({zoomPanValues:c,noWheelClassName:P,d3Selection:h,d3Zoom:f,panOnScrollMode:O,panOnScrollSpeed:E,zoomOnPinch:z,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:a}):Rj({noWheelClassName:P,preventScrolling:T,d3ZoomHandler:v});if(h.on("wheel.zoom",oe,{passive:!1}),!j){const ne=Pj({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:o});f.on("start",ne);const te=Ij({zoomPanValues:c,panOnDrag:D,onPaneContextMenu:!!F,onPanZoom:i,onTransformChange:K});f.on("zoom",te);const pe=Dj({zoomPanValues:c,panOnDrag:D,panOnScroll:L,onPaneContextMenu:F,onPanZoomEnd:a,onDraggingChange:u});f.on("end",pe)}const re=Aj({zoomActivationKeyPressed:Q,panOnDrag:D,zoomOnScroll:H,panOnScroll:L,zoomOnDoubleClick:V,zoomOnPinch:z,userSelectionActive:j,noPanClassName:A,noWheelClassName:P,lib:B,connectionInProgress:Y});f.filter(re),V?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function m(){f.on("zoom",null)}async function g(P,A,F){const j=Eu(P),L=f==null?void 0:f.constrain()(j,A,F);return L&&await w(L),new Promise(D=>D(L))}async function p(P,A){const F=Eu(P);return await w(F,A),new Promise(j=>j(F))}function x(P){if(h){const A=Eu(P),F=h.property("__zoom");(F.k!==P.zoom||F.x!==P.x||F.y!==P.y)&&(f==null||f.transform(h,A,null,{sync:!0}))}}function N(){const P=h?Fx(h.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function S(P,A){return h?new Promise(F=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:ya).scaleTo(Cu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>F(!0)),P)}):Promise.resolve(!1)}function b(P,A){return h?new Promise(F=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:ya).scaleBy(Cu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>F(!0)),P)}):Promise.resolve(!1)}function k(P){f==null||f.scaleExtent(P)}function C(P){f==null||f.translateExtent(P)}function M(P){const A=!zt(P)||P<0?0:P;f==null||f.clickDistance(A)}return{update:_,destroy:m,setViewport:p,setViewportConstrained:g,getViewport:N,scaleTo:S,scaleBy:b,setScaleExtent:k,setTranslateExtent:C,syncViewport:x,setClickDistance:M}}var Fs;(function(e){e.Line="line",e.Handle="handle"})(Fs||(Fs={}));function Lj({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const o=e-t,a=n-r,u=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&s&&(u[0]=u[0]*-1),a&&i&&(u[1]=u[1]*-1),u}function Ap(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function kn(e,t){return Math.max(0,t-e)}function jn(e,t){return Math.max(0,e-t)}function Jo(e,t,n){return Math.max(0,t-e,e-n)}function Op(e,t){return e?!t:t}function zj(e,t,n,r,s,i,o,a){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:v,ySnapped:y}=n,{minWidth:w,maxWidth:_,minHeight:m,maxHeight:g}=r,{x:p,y:x,width:N,height:S,aspectRatio:b}=e;let k=Math.floor(d?v-e.pointerX:0),C=Math.floor(f?y-e.pointerY:0);const M=N+(u?-k:k),P=S+(c?-C:C),A=-i[0]*N,F=-i[1]*S;let j=Jo(M,w,_),L=Jo(P,m,g);if(o){let E=0,T=0;u&&k<0?E=kn(p+k+A,o[0][0]):!u&&k>0&&(E=jn(p+M+A,o[1][0])),c&&C<0?T=kn(x+C+F,o[0][1]):!c&&C>0&&(T=jn(x+P+F,o[1][1])),j=Math.max(j,E),L=Math.max(L,T)}if(a){let E=0,T=0;u&&k>0?E=jn(p+k,a[0][0]):!u&&k<0&&(E=kn(p+M,a[1][0])),c&&C>0?T=jn(x+C,a[0][1]):!c&&C<0&&(T=kn(x+P,a[1][1])),j=Math.max(j,E),L=Math.max(L,T)}if(s){if(d){const E=Jo(M/b,m,g)*b;if(j=Math.max(j,E),o){let T=0;!u&&!c||u&&!c&&h?T=jn(x+F+M/b,o[1][1])*b:T=kn(x+F+(u?k:-k)/b,o[0][1])*b,j=Math.max(j,T)}if(a){let T=0;!u&&!c||u&&!c&&h?T=kn(x+M/b,a[1][1])*b:T=jn(x+(u?k:-k)/b,a[0][1])*b,j=Math.max(j,T)}}if(f){const E=Jo(P*b,w,_)/b;if(L=Math.max(L,E),o){let T=0;!u&&!c||c&&!u&&h?T=jn(p+P*b+A,o[1][0])/b:T=kn(p+(c?C:-C)*b+A,o[0][0])/b,L=Math.max(L,T)}if(a){let T=0;!u&&!c||c&&!u&&h?T=kn(p+P*b,a[1][0])/b:T=jn(p+(c?C:-C)*b,a[0][0])/b,L=Math.max(L,T)}}}C=C+(C<0?L:-L),k=k+(k<0?j:-j),s&&(h?M>P*b?C=(Op(u,c)?-k:k)/b:k=(Op(u,c)?-C:C)*b:d?(C=k/b,c=u):(k=C*b,u=c));const D=u?p+k:p,O=c?x+C:x;return{width:N+(u?-k:k),height:S+(c?-C:C),x:i[0]*k*(u?-1:1)+D,y:i[1]*C*(c?-1:1)+O}}const g0={width:0,height:0,x:0,y:0},Fj={...g0,pointerX:0,pointerY:0,aspectRatio:1};function $j(e){return[[0,0],[e.measured.width,e.measured.height]]}function Hj(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,a=n[0]*i,u=n[1]*o;return[[r-a,s-u],[r+i-a,s+o-u]]}function Vj({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=ht(e);let o={controlDirection:Ap("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:v,onResize:y,onResizeEnd:w,shouldResize:_}){let m={...g0},g={...Fj};o={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:Ap(c)};let p,x=null,N=[],S,b,k,C=!1;const M=kx().on("start",P=>{const{nodeLookup:A,transform:F,snapGrid:j,snapToGrid:L,nodeOrigin:D,paneDomNode:O}=n();if(p=A.get(t),!p)return;x=(O==null?void 0:O.getBoundingClientRect())??null;const{xSnapped:E,ySnapped:T}=Ci(P.sourceEvent,{transform:F,snapGrid:j,snapToGrid:L,containerBounds:x});m={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},g={...m,pointerX:E,pointerY:T,aspectRatio:m.width/m.height},S=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(S=A.get(p.parentId),b=S&&p.extent==="parent"?$j(S):void 0),N=[],k=void 0;for(const[z,H]of A)if(H.parentId===t&&(N.push({id:z,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const V=Hj(H,p,H.origin??D);k?k=[[Math.min(V[0][0],k[0][0]),Math.min(V[0][1],k[0][1])],[Math.max(V[1][0],k[1][0]),Math.max(V[1][1],k[1][1])]]:k=V}v==null||v(P,{...m})}).on("drag",P=>{const{transform:A,snapGrid:F,snapToGrid:j,nodeOrigin:L}=n(),D=Ci(P.sourceEvent,{transform:A,snapGrid:F,snapToGrid:j,containerBounds:x}),O=[];if(!p)return;const{x:E,y:T,width:z,height:H}=m,V={},Q=p.origin??L,{width:B,height:K,x:Y,y:Z}=zj(g,o.controlDirection,D,o.boundaries,o.keepAspectRatio,Q,b,k),W=B!==z,J=K!==H,oe=Y!==E&&W,re=Z!==T&&J;if(!oe&&!re&&!W&&!J)return;if((oe||re||Q[0]===1||Q[1]===1)&&(V.x=oe?Y:m.x,V.y=re?Z:m.y,m.x=V.x,m.y=V.y,N.length>0)){const xe=Y-E,he=Z-T;for(const Ue of N)Ue.position={x:Ue.position.x-xe+Q[0]*(B-z),y:Ue.position.y-he+Q[1]*(K-H)},O.push(Ue)}if((W||J)&&(V.width=W&&(!o.resizeDirection||o.resizeDirection==="horizontal")?B:m.width,V.height=J&&(!o.resizeDirection||o.resizeDirection==="vertical")?K:m.height,m.width=V.width,m.height=V.height),S&&p.expandParent){const xe=Q[0]*(V.width??0);V.x&&V.x<xe&&(m.x=xe,g.x=g.x-(V.x-xe));const he=Q[1]*(V.height??0);V.y&&V.y<he&&(m.y=he,g.y=g.y-(V.y-he))}const ne=Lj({width:m.width,prevWidth:z,height:m.height,prevHeight:H,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),te={...m,direction:ne};(_==null?void 0:_(P,te))!==!1&&(C=!0,y==null||y(P,te),r(V,O))}).on("end",P=>{C&&(w==null||w(P,{...m}),s==null||s({...m}),C=!1)});i.call(M)}function u(){i.on(".drag",null)}return{update:a,destroy:u}}const{useDebugValue:Uj}=Lt,{useSyncExternalStoreWithSelector:Bj}=ux,Wj=e=>e;function y0(e,t=Wj,n){const r=Bj(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Uj(r),r}const Lp=(e,t)=>{const n=sx(e),r=(s,i=t)=>y0(n,s,i);return Object.assign(r,n),r},Qj=(e,t)=>e?Lp(e,t):Lp;function Ne(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Dl=I.createContext(null),qj=Dl.Provider,x0=nn.error001();function ce(e,t){const n=I.useContext(Dl);if(n===null)throw new Error(x0);return y0(n,e,t)}function _e(){const e=I.useContext(Dl);if(e===null)throw new Error(x0);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const zp={display:"none"},Xj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},v0="react-flow__node-desc",w0="react-flow__edge-desc",Kj="react-flow__aria-live",Yj=e=>e.ariaLiveMessage,Gj=e=>e.ariaLabelConfig;function Zj({rfId:e}){const t=ce(Yj);return l.jsx("div",{id:`${Kj}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Xj,children:t})}function Jj({rfId:e,disableKeyboardA11y:t}){const n=ce(Gj);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${v0}-${e}`,style:zp,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${w0}-${e}`,style:zp,children:n["edge.a11yDescription.default"]}),!t&&l.jsx(Zj,{rfId:e})]})}const Al=I.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const o=`${e}`.split("-");return l.jsx("div",{className:Ie(["react-flow__panel",n,...o]),style:r,ref:i,...s,children:t})});Al.displayName="Panel";function eE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:l.jsx(Al,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const tE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},ea=e=>e.id;function nE(e,t){return Ne(e.selectedNodes.map(ea),t.selectedNodes.map(ea))&&Ne(e.selectedEdges.map(ea),t.selectedEdges.map(ea))}function rE({onSelectionChange:e}){const t=_e(),{selectedNodes:n,selectedEdges:r}=ce(tE,nE);return I.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const sE=e=>!!e.onSelectionChangeHandlers;function iE({onSelectionChange:e}){const t=ce(sE);return e||t?l.jsx(rE,{onSelectionChange:e}):null}const b0=[0,0],oE={x:0,y:0,zoom:1},aE=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Fp=[...aE,"rfId"],lE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),$p={translateExtent:Zi,nodeOrigin:b0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function uE(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:u}=ce(lE,Ne),c=_e();I.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=$p,a()}),[]);const d=I.useRef($p);return I.useEffect(()=>{for(const f of Fp){const h=e[f],v=d.current[f];h!==v&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?s(h):f==="translateExtent"?i(h):f==="nodeExtent"?o(h):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:tj(h)}):f==="fitView"?c.setState({fitViewQueued:h}):f==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[f]:h})))}d.current=e},Fp.map(f=>e[f])),null}function Hp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function cE(e){var r;const[t,n]=I.useState(e==="system"?null:e);return I.useEffect(()=>{if(e!=="system"){n(e);return}const s=Hp(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=Hp())!=null&&r.matches?"dark":"light"}const Vp=typeof document<"u"?document:null;function no(e=null,t={target:Vp,actInsideInputWithModifier:!0}){const[n,r]=I.useState(!1),s=I.useRef(!1),i=I.useRef(new Set([])),[o,a]=I.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,h)=>f.concat(...h),[]);return[c,d]}return[[],[]]},[e]);return I.useEffect(()=>{const u=(t==null?void 0:t.target)??Vp,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=v=>{var _,m;if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!c)&&Jx(v))return!1;const w=Bp(v.code,a);if(i.current.add(v[w]),Up(o,i.current,!1)){const g=((m=(_=v.composedPath)==null?void 0:_.call(v))==null?void 0:m[0])||v.target,p=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(s.current||!p)&&v.preventDefault(),r(!0)}},f=v=>{const y=Bp(v.code,a);Up(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(v[y]),v.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function Up(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Bp(e,t){return t.includes(e)?"code":"key"}const dE=()=>{const e=_e();return I.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:o,panZoom:a}=e.getState(),u=pf(t,r,s,i,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(u,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:a,y:u}=o.getBoundingClientRect(),c={x:t.x-a,y:t.y-u},d=n.snapGrid??s,f=n.snapToGrid??i;return bo(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),o=sl(t,n);return{x:o.x+s,y:o.y+i}}}),[])};function N0(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...i};for(const u of o)fE(u,a);n.push(a)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function fE(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function _0(e,t){return N0(e,t)}function S0(e,t){return N0(e,t)}function ar(e,t){return{id:e,type:"select",selected:t}}function ss(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const o=t.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(ar(i.id,o)))}return r}function Wp({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const a=t.get(o.id),u=((s=a==null?void 0:a.internals)==null?void 0:s.userNode)??a;u!==void 0&&u!==o&&n.push({id:o.id,item:o,type:"replace"}),u===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Qp(e){return{id:e.id,type:"remove"}}const qp=e=>Wk(e),hE=e=>Wx(e);function k0(e){return I.forwardRef(e)}const pE=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Xp(e){const[t,n]=I.useState(BigInt(0)),[r]=I.useState(()=>mE(()=>n(s=>s+BigInt(1))));return pE(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function mE(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const j0=I.createContext(null);function gE({children:e}){const t=_e(),n=I.useCallback(a=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:v,onNodesChangeMiddlewareMap:y}=t.getState();let w=u;for(const m of a)w=typeof m=="function"?m(w):m;let _=Wp({items:w,lookup:h});for(const m of y.values())_=m(_);d&&c(w),_.length>0?f==null||f(_):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:g,setNodes:p}=t.getState();m&&p(g)})},[]),r=Xp(n),s=I.useCallback(a=>{const{edges:u=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let v=u;for(const y of a)v=typeof y=="function"?y(v):y;d?c(v):f&&f(Wp({items:v,lookup:h}))},[]),i=Xp(s),o=I.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return l.jsx(j0.Provider,{value:o,children:e})}function yE(){const e=I.useContext(j0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const xE=e=>!!e.panZoom;function Qs(){const e=dE(),t=_e(),n=yE(),r=ce(xE),s=I.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),o=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},u=f=>{var m,g;const{nodeLookup:h,nodeOrigin:v}=t.getState(),y=qp(f)?f:h.get(f.id),w=y.parentId?Gx(y.position,y.measured,y.parentId,h,v):y.position,_={...y,position:w,width:((m=y.measured)==null?void 0:m.width)??y.width,height:((g=y.measured)==null?void 0:g.height)??y.height};return Ls(_)},c=(f,h,v={replace:!1})=>{o(y=>y.map(w=>{if(w.id===f){const _=typeof h=="function"?h(w):h;return v.replace&&qp(_)?_:{...w,..._}}return w}))},d=(f,h,v={replace:!1})=>{a(y=>y.map(w=>{if(w.id===f){const _=typeof h=="function"?h(w):h;return v.replace&&hE(_)?_:{...w,..._}}return w}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:o,setEdges:a,addNodes:f=>{const h=Array.isArray(f)?f:[f];n.nodeQueue.push(v=>[...v,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];n.edgeQueue.push(v=>[...v,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:v}=t.getState(),[y,w,_]=v;return{nodes:f.map(m=>({...m})),edges:h.map(m=>({...m})),viewport:{x:y,y:w,zoom:_}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:v,edges:y,onNodesDelete:w,onEdgesDelete:_,triggerNodeChanges:m,triggerEdgeChanges:g,onDelete:p,onBeforeDelete:x}=t.getState(),{nodes:N,edges:S}=await Yk({nodesToRemove:f,edgesToRemove:h,nodes:v,edges:y,onBeforeDelete:x}),b=S.length>0,k=N.length>0;if(b){const C=S.map(Qp);_==null||_(S),g(C)}if(k){const C=N.map(Qp);w==null||w(N),m(C)}return(k||b)&&(p==null||p({nodes:N,edges:S})),{deletedNodes:N,deletedEdges:S}},getIntersectingNodes:(f,h=!0,v)=>{const y=Sp(f),w=y?f:u(f),_=v!==void 0;return w?(v||t.getState().nodes).filter(m=>{const g=t.getState().nodeLookup.get(m.id);if(g&&!y&&(m.id===f.id||!g.internals.positionAbsolute))return!1;const p=Ls(_?m:g),x=eo(p,w);return h&&x>0||x>=p.width*p.height||x>=w.width*w.height}):[]},isNodeIntersecting:(f,h,v=!0)=>{const w=Sp(f)?f:u(f);if(!w)return!1;const _=eo(w,h);return v&&_>0||_>=h.width*h.height||_>=w.width*w.height},updateNode:c,updateNodeData:(f,h,v={replace:!1})=>{c(f,y=>{const w=typeof h=="function"?h(y):h;return v.replace?{...y,data:w}:{...y,data:{...y.data,...w}}},v)},updateEdge:d,updateEdgeData:(f,h,v={replace:!1})=>{d(f,y=>{const w=typeof h=="function"?h(y):h;return v.replace?{...y,data:w}:{...y,data:{...y.data,...w}}},v)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:v}=t.getState();return Qk(f,{nodeLookup:h,nodeOrigin:v})},getHandleConnections:({type:f,id:h,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}-${f}${h?`-${h}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:y.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??ej();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),n.nodeQueue.push(v=>[...v]),h.promise}}},[]);return I.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const Kp=e=>e.selected,vE=typeof window<"u"?window:void 0;function wE({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=_e(),{deleteElements:r}=Qs(),s=no(e,{actInsideInputWithModifier:!1}),i=no(t,{target:vE});I.useEffect(()=>{if(s){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(Kp),edges:o.filter(Kp)}),n.setState({nodesSelectionActive:!1})}},[s]),I.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function bE(e){const t=_e();I.useEffect(()=>{const n=()=>{var s,i,o,a;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=mf(e.current);(r.height===0||r.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",nn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Ol={position:"absolute",width:"100%",height:"100%",top:0,left:0},NE=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function _E({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Er.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:u,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:v=!0,children:y,noWheelClassName:w,noPanClassName:_,onViewportChange:m,isControlledViewport:g,paneClickDistance:p,selectionOnDrag:x}){const N=_e(),S=I.useRef(null),{userSelectionActive:b,lib:k,connectionInProgress:C}=ce(NE,Ne),M=no(h),P=I.useRef();bE(S);const A=I.useCallback(F=>{m==null||m({x:F[0],y:F[1],zoom:F[2]}),g||N.setState({transform:F})},[m,g]);return I.useEffect(()=>{if(S.current){P.current=Oj({domNode:S.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:u,onDraggingChange:D=>N.setState({paneDragging:D}),onPanZoomStart:(D,O)=>{const{onViewportChangeStart:E,onMoveStart:T}=N.getState();T==null||T(D,O),E==null||E(O)},onPanZoom:(D,O)=>{const{onViewportChange:E,onMove:T}=N.getState();T==null||T(D,O),E==null||E(O)},onPanZoomEnd:(D,O)=>{const{onViewportChangeEnd:E,onMoveEnd:T}=N.getState();T==null||T(D,O),E==null||E(O)}});const{x:F,y:j,zoom:L}=P.current.getViewport();return N.setState({panZoom:P.current,transform:[F,j,L],domNode:S.current.closest(".react-flow")}),()=>{var D;(D=P.current)==null||D.destroy()}}},[]),I.useEffect(()=>{var F;(F=P.current)==null||F.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:M,preventScrolling:v,noPanClassName:_,userSelectionActive:b,noWheelClassName:w,lib:k,onTransformChange:A,connectionInProgress:C,selectionOnDrag:x,paneClickDistance:p})},[e,t,n,r,s,i,o,a,M,v,_,b,w,k,A,C,x,p]),l.jsx("div",{className:"react-flow__renderer",ref:S,style:Ol,children:y})}const SE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function kE(){const{userSelectionActive:e,userSelectionRect:t}=ce(SE,Ne);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Tu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},jE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function EE({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ji.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:v,children:y}){const w=_e(),{userSelectionActive:_,elementsSelectable:m,dragging:g,connectionInProgress:p}=ce(jE,Ne),x=m&&(e||_),N=I.useRef(null),S=I.useRef(),b=I.useRef(new Set),k=I.useRef(new Set),C=I.useRef(!1),M=E=>{if(C.current||p){C.current=!1;return}u==null||u(E),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},P=E=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){E.preventDefault();return}c==null||c(E)},A=d?E=>d(E):void 0,F=E=>{C.current&&(E.stopPropagation(),C.current=!1)},j=E=>{var K,Y;const{domNode:T}=w.getState();if(S.current=T==null?void 0:T.getBoundingClientRect(),!S.current)return;const z=E.target===N.current;if(!z&&!!E.target.closest(".nokey")||!e||!(i&&z||t)||E.button!==0||!E.isPrimary)return;(Y=(K=E.target)==null?void 0:K.setPointerCapture)==null||Y.call(K,E.pointerId),C.current=!1;const{x:Q,y:B}=Ft(E.nativeEvent,S.current);w.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:B,x:Q,y:B}}),z||(E.stopPropagation(),E.preventDefault())},L=E=>{const{userSelectionRect:T,transform:z,nodeLookup:H,edgeLookup:V,connectionLookup:Q,triggerNodeChanges:B,triggerEdgeChanges:K,defaultEdgeOptions:Y,resetSelectedElements:Z}=w.getState();if(!S.current||!T)return;const{x:W,y:J}=Ft(E.nativeEvent,S.current),{startX:oe,startY:re}=T;if(!C.current){const he=t?0:s;if(Math.hypot(W-oe,J-re)<=he)return;Z(),o==null||o(E)}C.current=!0;const ne={startX:oe,startY:re,x:W<oe?W:oe,y:J<re?J:re,width:Math.abs(W-oe),height:Math.abs(J-re)},te=b.current,pe=k.current;b.current=new Set(hf(H,ne,z,n===Ji.Partial,!0).map(he=>he.id)),k.current=new Set;const xe=(Y==null?void 0:Y.selectable)??!0;for(const he of b.current){const Ue=Q.get(he);if(Ue)for(const{edgeId:_n}of Ue.values()){const sn=V.get(_n);sn&&(sn.selectable??xe)&&k.current.add(_n)}}if(!kp(te,b.current)){const he=ss(H,b.current,!0);B(he)}if(!kp(pe,k.current)){const he=ss(V,k.current);K(he)}w.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},D=E=>{var T,z;E.button===0&&((z=(T=E.target)==null?void 0:T.releasePointerCapture)==null||z.call(T,E.pointerId),!_&&E.target===N.current&&w.getState().userSelectionRect&&(M==null||M(E)),w.setState({userSelectionActive:!1,userSelectionRect:null}),C.current&&(a==null||a(E),w.setState({nodesSelectionActive:b.current.size>0})))},O=r===!0||Array.isArray(r)&&r.includes(0);return l.jsxs("div",{className:Ie(["react-flow__pane",{draggable:O,dragging:g,selection:e}]),onClick:x?void 0:Tu(M,N),onContextMenu:Tu(P,N),onWheel:Tu(A,N),onPointerEnter:x?void 0:f,onPointerMove:x?L:h,onPointerUp:x?D:void 0,onPointerDownCapture:x?j:void 0,onClickCapture:x?F:void 0,onPointerLeave:v,ref:N,style:Ol,children:[y,l.jsx(kE,{})]})}function ed({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:a,onError:u}=t.getState(),c=a.get(e);if(!c){u==null||u("012",nn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function E0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:o}){const a=_e(),[u,c]=I.useState(!1),d=I.useRef();return I.useEffect(()=>{d.current=Nj({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{ed({id:f,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),I.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{var v;(v=d.current)==null||v.destroy()}},[n,r,t,i,e,s]),u}const CE=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function C0(){const e=_e();return I.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:a,updateNodePositions:u,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,h=CE(o),v=s?i[0]:5,y=s?i[1]:5,w=n.direction.x*v*n.factor,_=n.direction.y*y*n.factor;for(const[,m]of c){if(!h(m))continue;let g={x:m.internals.positionAbsolute.x+w,y:m.internals.positionAbsolute.y+_};s&&(g=wo(g,i));const{position:p,positionAbsolute:x}=Qx({nodeId:m.id,nextPosition:g,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:a});m.position=p,m.internals.positionAbsolute=x,f.set(m.id,m)}u(f)},[])}const bf=I.createContext(null),TE=bf.Provider;bf.Consumer;const T0=()=>I.useContext(bf),ME=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),RE=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=r,{fromHandle:a,toHandle:u,isValid:c}=o,d=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===As.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!s,valid:d&&c}};function PE({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:u,className:c,onMouseDown:d,onTouchStart:f,...h},v){var L,D;const y=o||null,w=e==="target",_=_e(),m=T0(),{connectOnClick:g,noPanClassName:p,rfId:x}=ce(ME,Ne),{connectingFrom:N,connectingTo:S,clickConnecting:b,isPossibleEndHandle:k,connectionInProcess:C,clickConnectionInProcess:M,valid:P}=ce(RE(m,y,e),Ne);m||(D=(L=_.getState()).onError)==null||D.call(L,"010",nn.error010());const A=O=>{const{defaultEdgeOptions:E,onConnect:T,hasDefaultEdges:z}=_.getState(),H={...E,...O};if(z){const{edges:V,setEdges:Q}=_.getState();Q(s0(H,V))}T==null||T(H),a==null||a(H)},F=O=>{if(!m)return;const E=e0(O.nativeEvent);if(s&&(E&&O.button===0||!E)){const T=_.getState();Jc.onPointerDown(O.nativeEvent,{handleDomNode:O.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:w,handleId:y,nodeId:m,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:A,isValidConnection:n||T.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}E?d==null||d(O):f==null||f(O)},j=O=>{const{onClickConnectStart:E,onClickConnectEnd:T,connectionClickStartHandle:z,connectionMode:H,isValidConnection:V,lib:Q,rfId:B,nodeLookup:K,connection:Y}=_.getState();if(!m||!z&&!s)return;if(!z){E==null||E(O.nativeEvent,{nodeId:m,handleId:y,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:m,type:e,id:y}});return}const Z=Zx(O.target),W=n||V,{connection:J,isValid:oe}=Jc.isValid(O.nativeEvent,{handle:{nodeId:m,id:y,type:e},connectionMode:H,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:W,flowId:B,doc:Z,lib:Q,nodeLookup:K});oe&&J&&A(J);const re=structuredClone(Y);delete re.inProgress,re.toPosition=re.toHandle?re.toHandle.position:null,T==null||T(O,re),_.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${x}-${m}-${y}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,c,{source:!w,target:w,connectable:r,connectablestart:s,connectableend:i,clickconnecting:b,connectingfrom:N,connectingto:S,valid:P,connectionindicator:r&&(!C||k)&&(C||M?i:s)}]),onMouseDown:F,onTouchStart:F,onClick:g?j:void 0,ref:v,...h,children:u})}const $s=I.memo(k0(PE));function IE({data:e,isConnectable:t,sourcePosition:n=G.Bottom}){return l.jsxs(l.Fragment,{children:[e==null?void 0:e.label,l.jsx($s,{type:"source",position:n,isConnectable:t})]})}function DE({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,l.jsx($s,{type:"source",position:r,isConnectable:t})]})}function AE(){return null}function OE({data:e,isConnectable:t,targetPosition:n=G.Top}){return l.jsxs(l.Fragment,{children:[l.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const ol={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Yp={input:IE,default:DE,output:OE,group:AE};function LE(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const zE=e=>{const{width:t,height:n,x:r,y:s}=vo(e.nodeLookup,{filter:i=>!!i.selected});return{width:zt(t)?t:null,height:zt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function FE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_e(),{width:s,height:i,transformString:o,userSelectionActive:a}=ce(zE,Ne),u=C0(),c=I.useRef(null);if(I.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),E0({nodeRef:c}),a||!s||!i)return null;const d=e?h=>{const v=r.getState().nodes.filter(y=>y.selected);e(h,v)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(ol,h.key)&&(h.preventDefault(),u({direction:ol[h.key],factor:h.shiftKey?4:1}))};return l.jsx("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:l.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:i}})})}const Gp=typeof window<"u"?window:void 0,$E=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function M0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:w,zoomActivationKeyCode:_,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:x,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:b,panOnDrag:k,defaultViewport:C,translateExtent:M,minZoom:P,maxZoom:A,preventScrolling:F,onSelectionContextMenu:j,noWheelClassName:L,noPanClassName:D,disableKeyboardA11y:O,onViewportChange:E,isControlledViewport:T}){const{nodesSelectionActive:z,userSelectionActive:H}=ce($E,Ne),V=no(c,{target:Gp}),Q=no(w,{target:Gp}),B=Q||k,K=Q||x,Y=d&&B!==!0,Z=V||H||Y;return wE({deleteKeyCode:u,multiSelectionKeyCode:y}),l.jsx(_E,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:K,panOnScrollSpeed:N,panOnScrollMode:S,zoomOnDoubleClick:b,panOnDrag:!V&&B,defaultViewport:C,translateExtent:M,minZoom:P,maxZoom:A,zoomActivationKeyCode:_,preventScrolling:F,noWheelClassName:L,noPanClassName:D,onViewportChange:E,isControlledViewport:T,paneClickDistance:a,selectionOnDrag:Y,children:l.jsxs(EE,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:B,isSelecting:!!Z,selectionMode:f,selectionKeyPressed:V,paneClickDistance:a,selectionOnDrag:Y,children:[e,z&&l.jsx(FE,{onSelectionContextMenu:j,noPanClassName:D,disableKeyboardA11y:O})]})})}M0.displayName="FlowRenderer";const HE=I.memo(M0),VE=e=>t=>e?hf(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function UE(e){return ce(I.useCallback(VE(e),[e]),Ne)}const BE=e=>e.updateNodeInternals;function WE(){const e=ce(BE),[t]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return I.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function QE({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=_e(),i=I.useRef(null),o=I.useRef(null),a=I.useRef(e.sourcePosition),u=I.useRef(e.targetPosition),c=I.useRef(t),d=n&&!!e.internals.handleBounds;return I.useEffect(()=>{i.current&&!e.hidden&&(!d||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[d,e.hidden]),I.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),I.useEffect(()=>{if(i.current){const f=c.current!==t,h=a.current!==e.sourcePosition,v=u.current!==e.targetPosition;(f||h||v)&&(c.current=t,a.current=e.sourcePosition,u.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function qE({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:a,elementsSelectable:u,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:v,disableKeyboardA11y:y,rfId:w,nodeTypes:_,nodeClickDistance:m,onError:g}){const{node:p,internals:x,isParent:N}=ce(W=>{const J=W.nodeLookup.get(e),oe=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:oe}},Ne);let S=p.type||"default",b=(_==null?void 0:_[S])||Yp[S];b===void 0&&(g==null||g("003",nn.error003(S)),S="default",b=(_==null?void 0:_.default)||Yp.default);const k=!!(p.draggable||a&&typeof p.draggable>"u"),C=!!(p.selectable||u&&typeof p.selectable>"u"),M=!!(p.connectable||c&&typeof p.connectable>"u"),P=!!(p.focusable||d&&typeof p.focusable>"u"),A=_e(),F=Yx(p),j=QE({node:p,nodeType:S,hasDimensions:F,resizeObserver:f}),L=E0({nodeRef:j,disabled:p.hidden||!k,noDragClassName:h,handleSelector:p.dragHandle,nodeId:e,isSelectable:C,nodeClickDistance:m}),D=C0();if(p.hidden)return null;const O=Nn(p),E=LE(p),T=C||k||t||n||r||s,z=n?W=>n(W,{...x.userNode}):void 0,H=r?W=>r(W,{...x.userNode}):void 0,V=s?W=>s(W,{...x.userNode}):void 0,Q=i?W=>i(W,{...x.userNode}):void 0,B=o?W=>o(W,{...x.userNode}):void 0,K=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:oe}=A.getState();C&&(!J||!k||oe>0)&&ed({id:e,store:A,nodeRef:j}),t&&t(W,{...x.userNode})},Y=W=>{if(!(Jx(W.nativeEvent)||y)){if(Hx.includes(W.key)&&C){const J=W.key==="Escape";ed({id:e,store:A,unselect:J,nodeRef:j})}else if(k&&p.selected&&Object.prototype.hasOwnProperty.call(ol,W.key)){W.preventDefault();const{ariaLabelConfig:J}=A.getState();A.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~x.positionAbsolute.x,y:~~x.positionAbsolute.y})}),D({direction:ol[W.key],factor:W.shiftKey?4:1})}}},Z=()=>{var pe;if(y||!((pe=j.current)!=null&&pe.matches(":focus-visible")))return;const{transform:W,width:J,height:oe,autoPanOnNodeFocus:re,setCenter:ne}=A.getState();if(!re)return;hf(new Map([[e,p]]),{x:0,y:0,width:J,height:oe},W,!0).length>0||ne(p.position.x+O.width/2,p.position.y+O.height/2,{zoom:W[2]})};return l.jsx("div",{className:Ie(["react-flow__node",`react-flow__node-${S}`,{[v]:k},p.className,{selected:p.selected,selectable:C,parent:N,draggable:k,dragging:L}]),ref:j,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:F?"visible":"hidden",...p.style,...E},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:H,onMouseLeave:V,onContextMenu:Q,onClick:K,onDoubleClick:B,onKeyDown:P?Y:void 0,tabIndex:P?0:void 0,onFocus:P?Z:void 0,role:p.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${v0}-${w}`,"aria-label":p.ariaLabel,...p.domAttributes,children:l.jsx(TE,{value:e,children:l.jsx(b,{id:e,data:p.data,type:S,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:p.selected??!1,selectable:C,draggable:k,deletable:p.deletable??!0,isConnectable:M,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:L,dragHandle:p.dragHandle,zIndex:x.z,parentId:p.parentId,...O})})})}var XE=I.memo(qE);const KE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function R0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=ce(KE,Ne),o=UE(e.onlyRenderVisibleElements),a=WE();return l.jsx("div",{className:"react-flow__nodes",style:Ol,children:o.map(u=>l.jsx(XE,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}R0.displayName="NodeRenderer";const YE=I.memo(R0);function GE(e){return ce(I.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),o=n.nodeLookup.get(s.target);i&&o&&sj({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),Ne)}const ZE=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},JE=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Zp={[nl.Arrow]:ZE,[nl.ArrowClosed]:JE};function eC(e){const t=_e();return I.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Zp,e)?Zp[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",nn.error009(e)),null)},[e])}const tC=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const u=eC(t);return u?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:l.jsx(u,{color:n,strokeWidth:o})}):null},P0=({defaultColor:e,rfId:t})=>{const n=ce(i=>i.edges),r=ce(i=>i.defaultEdgeOptions),s=I.useMemo(()=>dj(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:s.map(i=>l.jsx(tC,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};P0.displayName="MarkerDefinitions";var nC=I.memo(P0);function I0({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:u,className:c,...d}){const[f,h]=I.useState({x:1,y:0,width:0,height:0}),v=Ie(["react-flow__edge-textwrapper",c]),y=I.useRef(null);return I.useEffect(()=>{if(y.current){const w=y.current.getBBox();h({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?l.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:v,visibility:f.width?"visible":"hidden",...d,children:[s&&l.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),l.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:y,style:r,children:n}),u]}):null}I0.displayName="EdgeText";const rC=I.memo(I0);function Hs({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u,interactionWidth:c=20,...d}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...d,d:e,fill:"none",className:Ie(["react-flow__edge-path",d.className])}),c?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&zt(t)&&zt(n)?l.jsx(rC,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:u}):null]})}function Jp({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function D0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,a]=Jp({pos:n,x1:e,y1:t,x2:r,y2:s}),[u,c]=Jp({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,f,h,v]=t0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${o},${a} ${u},${c} ${r},${s}`,d,f,h,v]}function A0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o,targetPosition:a,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:_,interactionWidth:m})=>{const[g,p,x]=D0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a}),N=e.isInternal?void 0:t;return l.jsx(Hs,{id:N,path:g,labelX:p,labelY:x,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:_,interactionWidth:m})})}const sC=A0({isInternal:!1}),O0=A0({isInternal:!0});sC.displayName="SimpleBezierEdge";O0.displayName="SimpleBezierEdgeInternal";function L0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:v=G.Bottom,targetPosition:y=G.Top,markerEnd:w,markerStart:_,pathOptions:m,interactionWidth:g})=>{const[p,x,N]=il({sourceX:n,sourceY:r,sourcePosition:v,targetX:s,targetY:i,targetPosition:y,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),S=e.isInternal?void 0:t;return l.jsx(Hs,{id:S,path:p,labelX:x,labelY:N,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:w,markerStart:_,interactionWidth:g})})}const z0=L0({isInternal:!1}),F0=L0({isInternal:!0});z0.displayName="SmoothStepEdge";F0.displayName="SmoothStepEdgeInternal";function $0(e){return I.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return l.jsx(z0,{...n,id:r,pathOptions:I.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const iC=$0({isInternal:!1}),H0=$0({isInternal:!0});iC.displayName="StepEdge";H0.displayName="StepEdgeInternal";function V0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:y,interactionWidth:w})=>{const[_,m,g]=i0({sourceX:n,sourceY:r,targetX:s,targetY:i}),p=e.isInternal?void 0:t;return l.jsx(Hs,{id:p,path:_,labelX:m,labelY:g,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:y,interactionWidth:w})})}const oC=V0({isInternal:!1}),U0=V0({isInternal:!0});oC.displayName="StraightEdge";U0.displayName="StraightEdgeInternal";function B0(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o=G.Bottom,targetPosition:a=G.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:_,pathOptions:m,interactionWidth:g})=>{const[p,x,N]=n0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a,curvature:m==null?void 0:m.curvature}),S=e.isInternal?void 0:t;return l.jsx(Hs,{id:S,path:p,labelX:x,labelY:N,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:w,markerStart:_,interactionWidth:g})})}const aC=B0({isInternal:!1}),W0=B0({isInternal:!0});aC.displayName="BezierEdge";W0.displayName="BezierEdgeInternal";const em={default:W0,straight:U0,step:H0,smoothstep:F0,simplebezier:O0},tm={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},lC=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,uC=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,nm="react-flow__edgeupdater";function rm({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a}){return l.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Ie([nm,`${nm}-${a}`]),cx:lC(t,r,e),cy:uC(n,r,e),r,stroke:"transparent",fill:"transparent"})}function cC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:o,sourcePosition:a,targetPosition:u,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:v}){const y=_e(),w=(x,N)=>{if(x.button!==0)return;const{autoPanOnConnect:S,domNode:b,isValidConnection:k,connectionMode:C,connectionRadius:M,lib:P,onConnectStart:A,onConnectEnd:F,cancelConnection:j,nodeLookup:L,rfId:D,panBy:O,updateConnection:E}=y.getState(),T=N.type==="target",z=(Q,B)=>{h(!1),f==null||f(Q,n,N.type,B)},H=Q=>c==null?void 0:c(n,Q),V=(Q,B)=>{h(!0),d==null||d(x,n,N.type),A==null||A(Q,B)};Jc.onPointerDown(x.nativeEvent,{autoPanOnConnect:S,connectionMode:C,connectionRadius:M,domNode:b,handleId:N.id,nodeId:N.nodeId,nodeLookup:L,isTarget:T,edgeUpdaterType:N.type,lib:P,flowId:D,cancelConnection:j,panBy:O,isValidConnection:k,onConnect:H,onConnectStart:V,onConnectEnd:F,onReconnectEnd:z,updateConnection:E,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:x.currentTarget})},_=x=>w(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=x=>w(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>v(!0),p=()=>v(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(rm,{position:a,centerX:r,centerY:s,radius:t,onMouseDown:_,onMouseEnter:g,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&l.jsx(rm,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:m,onMouseEnter:g,onMouseOut:p,type:"target"})]})}function dC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:a,onMouseMove:u,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:v,rfId:y,edgeTypes:w,noPanClassName:_,onError:m,disableKeyboardA11y:g}){let p=ce(ne=>ne.edgeLookup.get(e));const x=ce(ne=>ne.defaultEdgeOptions);p=x?{...x,...p}:p;let N=p.type||"default",S=(w==null?void 0:w[N])||em[N];S===void 0&&(m==null||m("011",nn.error011(N)),N="default",S=(w==null?void 0:w.default)||em.default);const b=!!(p.focusable||t&&typeof p.focusable>"u"),k=typeof f<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),C=!!(p.selectable||r&&typeof p.selectable>"u"),M=I.useRef(null),[P,A]=I.useState(!1),[F,j]=I.useState(!1),L=_e(),{zIndex:D,sourceX:O,sourceY:E,targetX:T,targetY:z,sourcePosition:H,targetPosition:V}=ce(I.useCallback(ne=>{const te=ne.nodeLookup.get(p.source),pe=ne.nodeLookup.get(p.target);if(!te||!pe)return{zIndex:p.zIndex,...tm};const xe=cj({id:e,sourceNode:te,targetNode:pe,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:ne.connectionMode,onError:m});return{zIndex:rj({selected:p.selected,zIndex:p.zIndex,sourceNode:te,targetNode:pe,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...xe||tm}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),Ne),Q=I.useMemo(()=>p.markerStart?`url('#${Gc(p.markerStart,y)}')`:void 0,[p.markerStart,y]),B=I.useMemo(()=>p.markerEnd?`url('#${Gc(p.markerEnd,y)}')`:void 0,[p.markerEnd,y]);if(p.hidden||O===null||E===null||T===null||z===null)return null;const K=ne=>{var he;const{addSelectedEdges:te,unselectNodesAndEdges:pe,multiSelectionActive:xe}=L.getState();C&&(L.setState({nodesSelectionActive:!1}),p.selected&&xe?(pe({nodes:[],edges:[p]}),(he=M.current)==null||he.blur()):te([e])),s&&s(ne,p)},Y=i?ne=>{i(ne,{...p})}:void 0,Z=o?ne=>{o(ne,{...p})}:void 0,W=a?ne=>{a(ne,{...p})}:void 0,J=u?ne=>{u(ne,{...p})}:void 0,oe=c?ne=>{c(ne,{...p})}:void 0,re=ne=>{var te;if(!g&&Hx.includes(ne.key)&&C){const{unselectNodesAndEdges:pe,addSelectedEdges:xe}=L.getState();ne.key==="Escape"?((te=M.current)==null||te.blur(),pe({edges:[p]})):xe([e])}};return l.jsx("svg",{style:{zIndex:D},children:l.jsxs("g",{className:Ie(["react-flow__edge",`react-flow__edge-${N}`,p.className,_,{selected:p.selected,animated:p.animated,inactive:!C&&!s,updating:P,selectable:C}]),onClick:K,onDoubleClick:Y,onContextMenu:Z,onMouseEnter:W,onMouseMove:J,onMouseLeave:oe,onKeyDown:b?re:void 0,tabIndex:b?0:void 0,role:p.ariaRole??(b?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":b?`${w0}-${y}`:void 0,ref:M,...p.domAttributes,children:[!F&&l.jsx(S,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:C,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:O,sourceY:E,targetX:T,targetY:z,sourcePosition:H,targetPosition:V,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:Q,markerEnd:B,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),k&&l.jsx(cC,{edge:p,isReconnectable:k,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:v,sourceX:O,sourceY:E,targetX:T,targetY:z,sourcePosition:H,targetPosition:V,setUpdateHover:A,setReconnecting:j})]})})}var fC=I.memo(dC);const hC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Q0({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,disableKeyboardA11y:w}){const{edgesFocusable:_,edgesReconnectable:m,elementsSelectable:g,onError:p}=ce(hC,Ne),x=GE(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(nC,{defaultColor:e,rfId:n}),x.map(N=>l.jsx(fC,{id:N,edgesFocusable:_,edgesReconnectable:m,elementsSelectable:g,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:a,onMouseMove:u,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:w},N))]})}Q0.displayName="EdgeRenderer";const pC=I.memo(Q0),mC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function gC({children:e}){const t=ce(mC);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function yC(e){const t=Qs(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const xC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function vC(e){const t=ce(xC),n=_e();return I.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function wC(e){return e.connection.inProgress?{...e.connection,to:bo(e.connection.to,e.transform)}:{...e.connection}}function bC(e){return wC}function NC(e){const t=bC();return ce(t,Ne)}const _C=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function SC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:o,isValid:a,inProgress:u}=ce(_C,Ne);return!(i&&s&&u)?null:l.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:Ie(["react-flow__connection",Bx(a)]),children:l.jsx(q0,{style:t,type:n,CustomComponent:r,isValid:a})})})}const q0=({style:e,type:t=Pn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:a,fromPosition:u,to:c,toNode:d,toHandle:f,toPosition:h,pointer:v}=NC();if(!s)return;if(n)return l.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:i.x,fromY:i.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:h,connectionStatus:Bx(r),toNode:d,toHandle:f,pointer:v});let y="";const w={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case Pn.Bezier:[y]=n0(w);break;case Pn.SimpleBezier:[y]=D0(w);break;case Pn.Step:[y]=il({...w,borderRadius:0});break;case Pn.SmoothStep:[y]=il(w);break;default:[y]=i0(w)}return l.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};q0.displayName="ConnectionLine";const kC={};function sm(e=kC){I.useRef(e),_e(),I.useEffect(()=>{},[e])}function jC(){_e(),I.useRef(!1),I.useEffect(()=>{},[])}function X0({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:w,connectionLineComponent:_,connectionLineContainerStyle:m,selectionKeyCode:g,selectionOnDrag:p,selectionMode:x,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:b,deleteKeyCode:k,onlyRenderVisibleElements:C,elementsSelectable:M,defaultViewport:P,translateExtent:A,minZoom:F,maxZoom:j,preventScrolling:L,defaultMarkerColor:D,zoomOnScroll:O,zoomOnPinch:E,panOnScroll:T,panOnScrollSpeed:z,panOnScrollMode:H,zoomOnDoubleClick:V,panOnDrag:Q,onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:oe,nodeClickDistance:re,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:xe,reconnectRadius:he,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:sn,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Gs,disableKeyboardA11y:Zs,nodeExtent:Bl,rfId:jo,viewport:Vr,onViewportChange:Js}){return sm(e),sm(t),jC(),yC(n),vC(Vr),l.jsx(HE,{onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:oe,deleteKeyCode:k,selectionKeyCode:g,selectionOnDrag:p,selectionMode:x,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:N,panActivationKeyCode:S,zoomActivationKeyCode:b,elementsSelectable:M,zoomOnScroll:O,zoomOnPinch:E,zoomOnDoubleClick:V,panOnScroll:T,panOnScrollSpeed:z,panOnScrollMode:H,panOnDrag:Q,defaultViewport:P,translateExtent:A,minZoom:F,maxZoom:j,onSelectionContextMenu:f,preventScrolling:L,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Gs,disableKeyboardA11y:Zs,onViewportChange:Js,isControlledViewport:!!Vr,children:l.jsxs(gC,{children:[l.jsx(pC,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:sn,onlyRenderVisibleElements:C,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:xe,reconnectRadius:he,defaultMarkerColor:D,noPanClassName:Gs,disableKeyboardA11y:Zs,rfId:jo}),l.jsx(SC,{style:w,type:y,component:_,containerStyle:m}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(YE,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:re,onlyRenderVisibleElements:C,noPanClassName:Gs,noDragClassName:sr,disableKeyboardA11y:Zs,nodeExtent:Bl,rfId:jo}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}X0.displayName="GraphView";const EC=I.memo(X0),im=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:u=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const v=new Map,y=new Map,w=new Map,_=new Map,m=r??t??[],g=n??e??[],p=d??[0,0],x=f??Zi;l0(w,_,m);const N=Zc(g,v,y,{nodeOrigin:p,nodeExtent:x,zIndexMode:h});let S=[0,0,1];if(o&&s&&i){const b=vo(v,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:k,y:C,zoom:M}=pf(b,s,i,u,c,(a==null?void 0:a.padding)??.1);S=[k,C,M]}return{rfId:"1",width:s??0,height:i??0,transform:S,nodes:g,nodesInitialized:N,nodeLookup:v,parentLookup:y,edges:m,edgeLookup:_,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:Zi,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:As.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Ux},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Gk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Vx,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},CC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>Qj((v,y)=>{async function w(){const{nodeLookup:_,panZoom:m,fitViewOptions:g,fitViewResolver:p,width:x,height:N,minZoom:S,maxZoom:b}=y();m&&(await Kk({nodes:_,width:x,height:N,panZoom:m,minZoom:S,maxZoom:b},g),p==null||p.resolve(!0),v({fitViewResolver:null}))}return{...im({nodes:e,edges:t,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:_=>{const{nodeLookup:m,parentLookup:g,nodeOrigin:p,elevateNodesOnSelect:x,fitViewQueued:N,zIndexMode:S}=y(),b=Zc(_,m,g,{nodeOrigin:p,nodeExtent:f,elevateNodesOnSelect:x,checkEquality:!0,zIndexMode:S});N&&b?(w(),v({nodes:_,nodesInitialized:b,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:_,nodesInitialized:b})},setEdges:_=>{const{connectionLookup:m,edgeLookup:g}=y();l0(m,g,_),v({edges:_})},setDefaultNodesAndEdges:(_,m)=>{if(_){const{setNodes:g}=y();g(_),v({hasDefaultNodes:!0})}if(m){const{setEdges:g}=y();g(m),v({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:m,nodeLookup:g,parentLookup:p,domNode:x,nodeOrigin:N,nodeExtent:S,debug:b,fitViewQueued:k,zIndexMode:C}=y(),{changes:M,updatedInternals:P}=xj(_,g,p,x,N,S,C);P&&(pj(g,p,{nodeOrigin:N,nodeExtent:S,zIndexMode:C}),k?(w(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(M==null?void 0:M.length)>0&&(b&&console.log("React Flow: trigger node changes",M),m==null||m(M)))},updateNodePositions:(_,m=!1)=>{const g=[];let p=[];const{nodeLookup:x,triggerNodeChanges:N,connection:S,updateConnection:b,onNodesChangeMiddlewareMap:k}=y();for(const[C,M]of _){const P=x.get(C),A=!!(P!=null&&P.expandParent&&(P!=null&&P.parentId)&&(M!=null&&M.position)),F={id:C,type:"position",position:A?{x:Math.max(0,M.position.x),y:Math.max(0,M.position.y)}:M.position,dragging:m};if(P&&S.inProgress&&S.fromNode.id===P.id){const j=zr(P,S.fromHandle,G.Left,!0);b({...S,from:j})}A&&P.parentId&&g.push({id:C,parentId:P.parentId,rect:{...M.internals.positionAbsolute,width:M.measured.width??0,height:M.measured.height??0}}),p.push(F)}if(g.length>0){const{parentLookup:C,nodeOrigin:M}=y(),P=wf(g,x,C,M);p.push(...P)}for(const C of k.values())p=C(p);N(p)},triggerNodeChanges:_=>{const{onNodesChange:m,setNodes:g,nodes:p,hasDefaultNodes:x,debug:N}=y();if(_!=null&&_.length){if(x){const S=_0(_,p);g(S)}N&&console.log("React Flow: trigger node changes",_),m==null||m(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:m,setEdges:g,edges:p,hasDefaultEdges:x,debug:N}=y();if(_!=null&&_.length){if(x){const S=S0(_,p);g(S)}N&&console.log("React Flow: trigger edge changes",_),m==null||m(_)}},addSelectedNodes:_=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:N}=y();if(m){const S=_.map(b=>ar(b,!0));x(S);return}x(ss(p,new Set([..._]),!0)),N(ss(g))},addSelectedEdges:_=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:N}=y();if(m){const S=_.map(b=>ar(b,!0));N(S);return}N(ss(g,new Set([..._]))),x(ss(p,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:m}={})=>{const{edges:g,nodes:p,nodeLookup:x,triggerNodeChanges:N,triggerEdgeChanges:S}=y(),b=_||p,k=m||g,C=b.map(P=>{const A=x.get(P.id);return A&&(A.selected=!1),ar(P.id,!1)}),M=k.map(P=>ar(P.id,!1));N(C),S(M)},setMinZoom:_=>{const{panZoom:m,maxZoom:g}=y();m==null||m.setScaleExtent([_,g]),v({minZoom:_})},setMaxZoom:_=>{const{panZoom:m,minZoom:g}=y();m==null||m.setScaleExtent([g,_]),v({maxZoom:_})},setTranslateExtent:_=>{var m;(m=y().panZoom)==null||m.setTranslateExtent(_),v({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:m,triggerNodeChanges:g,triggerEdgeChanges:p,elementsSelectable:x}=y();if(!x)return;const N=m.reduce((b,k)=>k.selected?[...b,ar(k.id,!1)]:b,[]),S=_.reduce((b,k)=>k.selected?[...b,ar(k.id,!1)]:b,[]);g(N),p(S)},setNodeExtent:_=>{const{nodes:m,nodeLookup:g,parentLookup:p,nodeOrigin:x,elevateNodesOnSelect:N,nodeExtent:S,zIndexMode:b}=y();_[0][0]===S[0][0]&&_[0][1]===S[0][1]&&_[1][0]===S[1][0]&&_[1][1]===S[1][1]||(Zc(m,g,p,{nodeOrigin:x,nodeExtent:_,elevateNodesOnSelect:N,checkEquality:!1,zIndexMode:b}),v({nodeExtent:_}))},panBy:_=>{const{transform:m,width:g,height:p,panZoom:x,translateExtent:N}=y();return vj({delta:_,panZoom:x,transform:m,translateExtent:N,width:g,height:p})},setCenter:async(_,m,g)=>{const{width:p,height:x,maxZoom:N,panZoom:S}=y();if(!S)return Promise.resolve(!1);const b=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:N;return await S.setViewport({x:p/2-_*b,y:x/2-m*b,zoom:b},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...Ux}})},updateConnection:_=>{v({connection:_})},reset:()=>v({...im()})}},Object.is);function K0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:u,fitView:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:v}){const[y]=I.useState(()=>CC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:c,minZoom:o,maxZoom:a,fitViewOptions:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return l.jsx(qj,{value:y,children:l.jsx(gE,{children:v})})}function TC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:o,fitView:a,fitViewOptions:u,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:v}){return I.useContext(Dl)?l.jsx(l.Fragment,{children:e}):l.jsx(K0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:a,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:v,children:e})}const MC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function RC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:a,onEdgeClick:u,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:v,onConnectStart:y,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:N,onNodeDoubleClick:S,onNodeDragStart:b,onNodeDrag:k,onNodeDragStop:C,onNodesDelete:M,onEdgesDelete:P,onDelete:A,onSelectionChange:F,onSelectionDragStart:j,onSelectionDrag:L,onSelectionDragStop:D,onSelectionContextMenu:O,onSelectionStart:E,onSelectionEnd:T,onBeforeDelete:z,connectionMode:H,connectionLineType:V=Pn.Bezier,connectionLineStyle:Q,connectionLineComponent:B,connectionLineContainerStyle:K,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:W=!1,selectionMode:J=Ji.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:re=to()?"Meta":"Control",zoomActivationKeyCode:ne=to()?"Meta":"Control",snapToGrid:te,snapGrid:pe,onlyRenderVisibleElements:xe=!1,selectNodesOnDrag:he,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:sn,nodesFocusable:sr,nodeOrigin:Ys=b0,edgesFocusable:Gs,edgesReconnectable:Zs,elementsSelectable:Bl=!0,defaultViewport:jo=oE,minZoom:Vr=.5,maxZoom:Js=2,translateExtent:Ef=Zi,preventScrolling:Ev=!0,nodeExtent:Wl,defaultMarkerColor:Cv="#b1b1b7",zoomOnScroll:Tv=!0,zoomOnPinch:Mv=!0,panOnScroll:Rv=!1,panOnScrollSpeed:Pv=.5,panOnScrollMode:Iv=Er.Free,zoomOnDoubleClick:Dv=!0,panOnDrag:Av=!0,onPaneClick:Ov,onPaneMouseEnter:Lv,onPaneMouseMove:zv,onPaneMouseLeave:Fv,onPaneScroll:$v,onPaneContextMenu:Hv,paneClickDistance:Vv=1,nodeClickDistance:Uv=0,children:Bv,onReconnect:Wv,onReconnectStart:Qv,onReconnectEnd:qv,onEdgeContextMenu:Xv,onEdgeDoubleClick:Kv,onEdgeMouseEnter:Yv,onEdgeMouseMove:Gv,onEdgeMouseLeave:Zv,reconnectRadius:Jv=10,onNodesChange:ew,onEdgesChange:tw,noDragClassName:nw="nodrag",noWheelClassName:rw="nowheel",noPanClassName:Cf="nopan",fitView:Tf,fitViewOptions:Mf,connectOnClick:sw,attributionPosition:iw,proOptions:ow,defaultEdgeOptions:aw,elevateNodesOnSelect:lw=!0,elevateEdgesOnSelect:uw=!1,disableKeyboardA11y:Rf=!1,autoPanOnConnect:cw,autoPanOnNodeDrag:dw,autoPanSpeed:fw,connectionRadius:hw,isValidConnection:pw,onError:mw,style:gw,id:Pf,nodeDragThreshold:yw,connectionDragThreshold:xw,viewport:vw,onViewportChange:ww,width:bw,height:Nw,colorMode:_w="light",debug:Sw,onScroll:Eo,ariaLabelConfig:kw,zIndexMode:If="basic",...jw},Ew){const Ql=Pf||"1",Cw=cE(_w),Tw=I.useCallback(Df=>{Df.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Eo==null||Eo(Df)},[Eo]);return l.jsx("div",{"data-testid":"rf__wrapper",...jw,onScroll:Tw,style:{...gw,...MC},ref:Ew,className:Ie(["react-flow",s,Cw]),id:Pf,role:"application",children:l.jsxs(TC,{nodes:e,edges:t,width:bw,height:Nw,fitView:Tf,fitViewOptions:Mf,minZoom:Vr,maxZoom:Js,nodeOrigin:Ys,nodeExtent:Wl,zIndexMode:If,children:[l.jsx(EC,{onInit:c,onNodeClick:a,onEdgeClick:u,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:N,onNodeDoubleClick:S,nodeTypes:i,edgeTypes:o,connectionLineType:V,connectionLineStyle:Q,connectionLineComponent:B,connectionLineContainerStyle:K,selectionKeyCode:Z,selectionOnDrag:W,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:re,panActivationKeyCode:oe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:xe,defaultViewport:jo,translateExtent:Ef,minZoom:Vr,maxZoom:Js,preventScrolling:Ev,zoomOnScroll:Tv,zoomOnPinch:Mv,zoomOnDoubleClick:Dv,panOnScroll:Rv,panOnScrollSpeed:Pv,panOnScrollMode:Iv,panOnDrag:Av,onPaneClick:Ov,onPaneMouseEnter:Lv,onPaneMouseMove:zv,onPaneMouseLeave:Fv,onPaneScroll:$v,onPaneContextMenu:Hv,paneClickDistance:Vv,nodeClickDistance:Uv,onSelectionContextMenu:O,onSelectionStart:E,onSelectionEnd:T,onReconnect:Wv,onReconnectStart:Qv,onReconnectEnd:qv,onEdgeContextMenu:Xv,onEdgeDoubleClick:Kv,onEdgeMouseEnter:Yv,onEdgeMouseMove:Gv,onEdgeMouseLeave:Zv,reconnectRadius:Jv,defaultMarkerColor:Cv,noDragClassName:nw,noWheelClassName:rw,noPanClassName:Cf,rfId:Ql,disableKeyboardA11y:Rf,nodeExtent:Wl,viewport:vw,onViewportChange:ww}),l.jsx(uE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:y,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:m,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:sn,nodesFocusable:sr,edgesFocusable:Gs,edgesReconnectable:Zs,elementsSelectable:Bl,elevateNodesOnSelect:lw,elevateEdgesOnSelect:uw,minZoom:Vr,maxZoom:Js,nodeExtent:Wl,onNodesChange:ew,onEdgesChange:tw,snapToGrid:te,snapGrid:pe,connectionMode:H,translateExtent:Ef,connectOnClick:sw,defaultEdgeOptions:aw,fitView:Tf,fitViewOptions:Mf,onNodesDelete:M,onEdgesDelete:P,onDelete:A,onNodeDragStart:b,onNodeDrag:k,onNodeDragStop:C,onSelectionDrag:L,onSelectionDragStart:j,onSelectionDragStop:D,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:Cf,nodeOrigin:Ys,rfId:Ql,autoPanOnConnect:cw,autoPanOnNodeDrag:dw,autoPanSpeed:fw,onError:mw,connectionRadius:hw,isValidConnection:pw,selectNodesOnDrag:he,nodeDragThreshold:yw,connectionDragThreshold:xw,onBeforeDelete:z,debug:Sw,ariaLabelConfig:kw,zIndexMode:If}),l.jsx(iE,{onSelectionChange:F}),Bv,l.jsx(eE,{proOptions:ow,position:iw}),l.jsx(Jj,{rfId:Ql,disableKeyboardA11y:Rf})]})})}var PC=k0(RC);const IC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function DC({children:e}){const t=ce(IC);return t?qy.createPortal(e,t):null}function AC({dimensions:e,lineWidth:t,variant:n,className:r}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ie(["react-flow__background-pattern",n,r])})}function OC({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:Ie(["react-flow__background-pattern","dots",t])})}var Zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zn||(Zn={}));const LC={[Zn.Dots]:1,[Zn.Lines]:1,[Zn.Cross]:6},zC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Y0({id:e,variant:t=Zn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:o,bgColor:a,style:u,className:c,patternClassName:d}){const f=I.useRef(null),{transform:h,patternId:v}=ce(zC,Ne),y=r||LC[t],w=t===Zn.Dots,_=t===Zn.Cross,m=Array.isArray(n)?n:[n,n],g=[m[0]*h[2]||1,m[1]*h[2]||1],p=y*h[2],x=Array.isArray(i)?i:[i,i],N=_?[p,p]:g,S=[x[0]*h[2]||1+N[0]/2,x[1]*h[2]||1+N[1]/2],b=`${v}${e||""}`;return l.jsxs("svg",{className:Ie(["react-flow__background",c]),style:{...u,...Ol,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[l.jsx("pattern",{id:b,x:h[0]%g[0],y:h[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`,children:w?l.jsx(OC,{radius:p/2,className:d}):l.jsx(AC,{dimensions:N,lineWidth:s,variant:t,className:d})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b})`})]})}Y0.displayName="Background";const FC=I.memo(Y0);function $C(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function HC(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function VC(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function UC(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function BC(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ta({children:e,className:t,...n}){return l.jsx("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n,children:e})}const WC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function G0({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:u,className:c,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":v}){const y=_e(),{isInteractive:w,minZoomReached:_,maxZoomReached:m,ariaLabelConfig:g}=ce(WC,Ne),{zoomIn:p,zoomOut:x,fitView:N}=Qs(),S=()=>{p(),i==null||i()},b=()=>{x(),o==null||o()},k=()=>{N(s),a==null||a()},C=()=>{y.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),u==null||u(!w)},M=h==="horizontal"?"horizontal":"vertical";return l.jsxs(Al,{className:Ie(["react-flow__controls",M,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":v??g["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(ta,{onClick:S,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:m,children:l.jsx($C,{})}),l.jsx(ta,{onClick:b,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:_,children:l.jsx(HC,{})})]}),n&&l.jsx(ta,{className:"react-flow__controls-fitview",onClick:k,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:l.jsx(VC,{})}),r&&l.jsx(ta,{className:"react-flow__controls-interactive",onClick:C,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:w?l.jsx(BC,{}):l.jsx(UC,{})}),d]})}G0.displayName="Controls";const QC=I.memo(G0);function qC({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:u,className:c,borderRadius:d,shapeRendering:f,selected:h,onClick:v}){const{background:y,backgroundColor:w}=i||{},_=o||y||w;return l.jsx("rect",{className:Ie(["react-flow__minimap-node",{selected:h},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:_,stroke:a,strokeWidth:u},shapeRendering:f,onClick:v?m=>v(m,e):void 0})}const XC=I.memo(qC),KC=e=>e.nodes.map(t=>t.id),Mu=e=>e instanceof Function?e:()=>e;function YC({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=XC,onClick:o}){const a=ce(KC,Ne),u=Mu(t),c=Mu(e),d=Mu(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:a.map(h=>l.jsx(ZC,{id:h,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:f},h))})}function GC({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:a,onClick:u}){const{node:c,x:d,y:f,width:h,height:v}=ce(y=>{const{internals:w}=y.nodeLookup.get(e),_=w.userNode,{x:m,y:g}=w.positionAbsolute,{width:p,height:x}=Nn(_);return{node:_,x:m,y:g,width:p,height:x}},Ne);return!c||c.hidden||!Yx(c)?null:l.jsx(a,{x:d,y:f,width:h,height:v,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:i,shapeRendering:o,onClick:u,id:c.id})}const ZC=I.memo(GC);var JC=I.memo(YC);const eT=200,tT=150,nT=e=>!e.hidden,rT=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Kx(vo(e.nodeLookup,{filter:nT}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},sT="react-flow__minimap-desc";function Z0({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:u,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:v,onNodeClick:y,pannable:w=!1,zoomable:_=!1,ariaLabel:m,inversePan:g,zoomStep:p=1,offsetScale:x=5}){const N=_e(),S=I.useRef(null),{boundingRect:b,viewBB:k,rfId:C,panZoom:M,translateExtent:P,flowWidth:A,flowHeight:F,ariaLabelConfig:j}=ce(rT,Ne),L=(e==null?void 0:e.width)??eT,D=(e==null?void 0:e.height)??tT,O=b.width/L,E=b.height/D,T=Math.max(O,E),z=T*L,H=T*D,V=x*T,Q=b.x-(z-b.width)/2-V,B=b.y-(H-b.height)/2-V,K=z+V*2,Y=H+V*2,Z=`${sT}-${C}`,W=I.useRef(0),J=I.useRef();W.current=T,I.useEffect(()=>{if(S.current&&M)return J.current=Cj({domNode:S.current,panZoom:M,getTransform:()=>N.getState().transform,getViewScale:()=>W.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[M]),I.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:P,width:A,height:F,inversePan:g,pannable:w,zoomStep:p,zoomable:_})},[w,_,g,p,P,A,F]);const oe=v?te=>{var he;const[pe,xe]=((he=J.current)==null?void 0:he.pointer(te))||[0,0];v(te,{x:pe,y:xe})}:void 0,re=y?I.useCallback((te,pe)=>{const xe=N.getState().nodeLookup.get(pe).internals.userNode;y(te,xe)},[]):void 0,ne=m??j["minimap.ariaLabel"];return l.jsx(Al,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*T:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:L,height:D,viewBox:`${Q} ${B} ${K} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:S,onClick:oe,children:[ne&&l.jsx("title",{id:Z,children:ne}),l.jsx(JC,{onClick:re,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${Q-V},${B-V}h${K+V*2}v${Y+V*2}h${-K-V*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Z0.displayName="MiniMap";I.memo(Z0);const iT=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,oT={[Fs.Line]:"right",[Fs.Handle]:"bottom-right"};function aT({nodeId:e,position:t,variant:n=Fs.Handle,className:r,style:s=void 0,children:i,color:o,minWidth:a=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:v=!0,shouldResize:y,onResizeStart:w,onResize:_,onResizeEnd:m}){const g=T0(),p=typeof e=="string"?e:g,x=_e(),N=I.useRef(null),S=n===Fs.Handle,b=ce(I.useCallback(iT(S&&v),[S,v]),Ne),k=I.useRef(null),C=t??oT[n];I.useEffect(()=>{if(!(!N.current||!p))return k.current||(k.current=Vj({domNode:N.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:P,transform:A,snapGrid:F,snapToGrid:j,nodeOrigin:L,domNode:D}=x.getState();return{nodeLookup:P,transform:A,snapGrid:F,snapToGrid:j,nodeOrigin:L,paneDomNode:D}},onChange:(P,A)=>{const{triggerNodeChanges:F,nodeLookup:j,parentLookup:L,nodeOrigin:D}=x.getState(),O=[],E={x:P.x,y:P.y},T=j.get(p);if(T&&T.expandParent&&T.parentId){const z=T.origin??D,H=P.width??T.measured.width??0,V=P.height??T.measured.height??0,Q={id:T.id,parentId:T.parentId,rect:{width:H,height:V,...Gx({x:P.x??T.position.x,y:P.y??T.position.y},{width:H,height:V},T.parentId,j,z)}},B=wf([Q],j,L,D);O.push(...B),E.x=P.x?Math.max(z[0]*H,P.x):void 0,E.y=P.y?Math.max(z[1]*V,P.y):void 0}if(E.x!==void 0&&E.y!==void 0){const z={id:p,type:"position",position:{...E}};O.push(z)}if(P.width!==void 0&&P.height!==void 0){const H={id:p,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};O.push(H)}for(const z of A){const H={...z,type:"position"};O.push(H)}F(O)},onEnd:({width:P,height:A})=>{const F={id:p,type:"dimensions",resizing:!1,dimensions:{width:P,height:A}};x.getState().triggerNodeChanges([F])}})),k.current.update({controlPosition:C,boundaries:{minWidth:a,minHeight:u,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:w,onResize:_,onResizeEnd:m,shouldResize:y}),()=>{var P;(P=k.current)==null||P.destroy()}},[C,a,u,c,d,f,w,_,m,y]);const M=C.split("-");return l.jsx("div",{className:Ie(["react-flow__resize-control","nodrag",...M,n,r]),ref:N,style:{...s,scale:b,...o&&{[S?"backgroundColor":"borderColor"]:o}},children:i})}I.memo(aT);const fe=d2((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:n=>e({executionResult:n}),setGraph:(n,r)=>e({nodes:n,edges:r}),onNodesChange:n=>{e({nodes:_0(n,t().nodes)})},onEdgesChange:n=>{e({edges:S0(n,t().edges)})},onConnect:n=>{e({edges:s0(n,t().edges)})},addNode:(n,r,s={})=>{const i=Se.get(n);if(!i)return console.error(`Node type ${n} not found in registry`),"";const o=`${n}-${Date.now()}`,a={id:o,type:"custom",position:r,data:{definitionType:n,catalogType:n,...i.getDefaultConfig(),...s}};return e({nodes:[...t().nodes,a]}),o},updateNodeData:(n,r)=>{e({nodes:t().nodes.map(s=>s.id===n?{...s,data:{...s.data,...r}}:s)})},validateGraph:async()=>{const{nodes:n,edges:r}=t();if(n.length===0)return!1;for(const s of n){const i=Se.get(s.data.definitionType);if(i){const o=i.validate(s.data);if(!o.isValid)return console.warn(`Node ${s.id} validation failed: ${o.message}`),!1}}for(const s of n){const i=Se.get(s.data.definitionType);if(i&&i.inputs.length>0&&!r.some(a=>a.target===s.id))return console.warn(`Node ${s.id} (${i.label}) is disconnected.`),!1}return!0}}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>I.createElement("svg",{ref:d,...lT,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${uT(e)}`,a].join(" "),...c},[...t.map(([f,h])=>I.createElement(f,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ie("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ie("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ie("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ie("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ie("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ie("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ie("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ie("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ie("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ie("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ie("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ie("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ie("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ie("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ie("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),UT=()=>{const e=Se.getAll(),t=fe(a=>a.addNode),[n,r]=I.useState(""),s=(a,u)=>{a.dataTransfer.setData("application/reactflow",u),a.dataTransfer.effectAllowed="move"},i=e.filter(a=>a.label.toLowerCase().includes(n.toLowerCase())||a.category.toLowerCase().includes(n.toLowerCase())),o=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return l.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[l.jsxs("div",{className:"p-4 border-b space-y-3",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(zT,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:n,onChange:a=>r(a.target.value)})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:o.map(a=>{const u=i.filter(c=>c.category===a);return u.length===0?null:l.jsxs("div",{children:[l.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:a}),l.jsx("div",{className:"space-y-2",children:u.map(c=>l.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>s(d,c.type),onClick:()=>t(c.type,{x:100,y:100}),children:[l.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:c.icon&&l.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium truncate",children:c.label}),l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:c.description})]})]},c.type))})]},a)})})]})};function BT(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:WT}=Lt;function QT(e){const t=WT();return n=>{const r=e(n);return BT(t.current,r)?t.current:t.current=r}}const qT=I.memo(({id:e,data:t,selected:n})=>{const r=t.definitionType,s=Se.get(r),{deleteElements:i}=Qs(),o=fe(c=>c.executionResult),a=o==null?void 0:o.node_results[e],u=c=>{c.stopPropagation(),i({nodes:[{id:e}]})};return s?l.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${n?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[l.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[l.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:s.icon&&l.jsx(s.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-sm font-bold",children:s.label}),a&&l.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${a.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:a.status==="success"?l.jsx(gT,{size:10}):l.jsx(yT,{size:10})})]}),l.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:s.category})]}),l.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:l.jsx(al,{size:14})})]}),l.jsx("div",{className:"p-3",children:s.component?l.jsx(s.component,{data:t}):l.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),s.inputs.map((c,d)=>l.jsx($s,{type:"target",position:G.Left,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.inputs.length+1)}%`},children:l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`input-${c.id}`)),s.outputs.map((c,d)=>l.jsx($s,{type:"source",position:G.Right,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.outputs.length+1)}%`},children:l.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`output-${c.id}`))]}):l.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[l.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[l.jsx(pT,{size:16}),l.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),l.jsxs("div",{className:"text-xs mt-1",children:["Type: ",r]})]})}),XT=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,style:a={},markerEnd:u})=>{const{deleteElements:c}=Qs(),[d,f,h]=il({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o,borderRadius:24}),v=y=>{y.stopPropagation(),c({edges:[{id:e}]})};return l.jsxs(l.Fragment,{children:[l.jsx(Hs,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),l.jsx(Hs,{path:d,markerEnd:u,style:{...a,strokeWidth:2},className:"react-flow__edge-path"}),l.jsx(DC,{children:l.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:l.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:v,title:"Remove Connection",children:l.jsx(al,{size:10})})})})]})},KT={custom:qT},YT={custom:XT},GT=()=>{const e=I.useRef(null),{screenToFlowPosition:t}=Qs(),{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,addNode:a}=fe(QT(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),u=I.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),c=I.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});a(f,h)},[t,a]);return l.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:l.jsxs(PC,{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,nodeTypes:KT,onDragOver:u,onDrop:c,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:YT,deleteKeyCode:["Backspace","Delete"],children:[l.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"edge-gradient",children:[l.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),l.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),l.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),l.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[l.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),l.jsxs("feMerge",{children:[l.jsx("feMergeNode",{in:"coloredBlur"}),l.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),l.jsx(FC,{}),l.jsx(QC,{position:"top-left"})]})})},ZT=()=>l.jsx(K0,{children:l.jsx(GT,{})}),JT=()=>{const e=fe(f=>f.nodes),t=fe(f=>f.updateNodeData),n=fe(f=>f.onNodesChange),[r,s]=I.useState(!1),i=e.find(f=>f.selected);if(!i)return l.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[l.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:l.jsx(FT,{className:"w-8 h-8 opacity-50"})}),l.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),l.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const o=()=>{n([{id:i.id,type:"select",selected:!1}])},a=()=>{s(!r)},u=i.data.definitionType,c=Se.get(u);if(!c)return l.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:l.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[l.jsx(al,{className:"w-4 h-4"}),"Error: Node definition '",u,"' not found."]})});const d=c.settings;return l.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${r?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:c.icon&&l.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"font-semibold text-sm",children:c.label}),l.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:c.category})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:a,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:r?"Collapse":"Expand",children:r?l.jsx(TT,{className:"w-4 h-4"}):l.jsx(CT,{className:"w-4 h-4"})}),l.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:l.jsx(al,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:d?l.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):l.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),l.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[l.jsxs("span",{children:["ID: ",i.id]}),l.jsx("span",{children:"v1.0"})]})]})};function nv(e,t){return function(){return e.apply(t,arguments)}}const{toString:e4}=Object.prototype,{getPrototypeOf:Nf}=Object,{iterator:Ll,toStringTag:rv}=Symbol,zl=(e=>t=>{const n=e4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>zl(t)===e),Fl=e=>t=>typeof t===e,{isArray:Xs}=Array,Vs=Fl("undefined");function No(e){return e!==null&&!Vs(e)&&e.constructor!==null&&!Vs(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sv=Bt("ArrayBuffer");function t4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sv(e.buffer),t}const n4=Fl("string"),ut=Fl("function"),iv=Fl("number"),_o=e=>e!==null&&typeof e=="object",r4=e=>e===!0||e===!1,ba=e=>{if(zl(e)!=="object")return!1;const t=Nf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rv in e)&&!(Ll in e)},s4=e=>{if(!_o(e)||No(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},i4=Bt("Date"),o4=Bt("File"),a4=Bt("Blob"),l4=Bt("FileList"),u4=e=>_o(e)&&ut(e.pipe),c4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=zl(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},d4=Bt("URLSearchParams"),[f4,h4,p4,m4]=["ReadableStream","Request","Response","Headers"].map(Bt),g4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function So(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Xs(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(No(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function ov(e,t){if(No(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,av=e=>!Vs(e)&&e!==pr;function td(){const{caseless:e,skipUndefined:t}=av(this)&&this||{},n={},r=(s,i)=>{const o=e&&ov(n,i)||i;ba(n[o])&&ba(s)?n[o]=td(n[o],s):ba(s)?n[o]=td({},s):Xs(s)?n[o]=s.slice():(!t||!Vs(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&So(arguments[s],r);return n}const y4=(e,t,n,{allOwnKeys:r}={})=>(So(t,(s,i)=>{n&&ut(s)?e[i]=nv(s,n):e[i]=s},{allOwnKeys:r}),e),x4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),v4=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},w4=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&Nf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},b4=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},N4=e=>{if(!e)return null;if(Xs(e))return e;let t=e.length;if(!iv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Nf(Uint8Array)),S4=(e,t)=>{const r=(e&&e[Ll]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},k4=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},j4=Bt("HTMLFormElement"),E4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),om=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),C4=Bt("RegExp"),lv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};So(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},T4=e=>{lv(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},M4=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Xs(e)?r(e):r(String(e).split(t)),n},R4=()=>{},P4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function I4(e){return!!(e&&ut(e.append)&&e[rv]==="FormData"&&e[Ll])}const D4=e=>{const t=new Array(10),n=(r,s)=>{if(_o(r)){if(t.indexOf(r)>=0)return;if(No(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Xs(r)?[]:{};return So(r,(o,a)=>{const u=n(o,s+1);!Vs(u)&&(i[a]=u)}),t[s]=void 0,i}}return r};return n(e,0)},A4=Bt("AsyncFunction"),O4=e=>e&&(_o(e)||ut(e))&&ut(e.then)&&ut(e.catch),uv=((e,t)=>e?setImmediate:t?((n,r)=>(pr.addEventListener("message",({source:s,data:i})=>{s===pr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(pr.postMessage)),L4=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||uv,z4=e=>e!=null&&ut(e[Ll]),$={isArray:Xs,isArrayBuffer:sv,isBuffer:No,isFormData:c4,isArrayBufferView:t4,isString:n4,isNumber:iv,isBoolean:r4,isObject:_o,isPlainObject:ba,isEmptyObject:s4,isReadableStream:f4,isRequest:h4,isResponse:p4,isHeaders:m4,isUndefined:Vs,isDate:i4,isFile:o4,isBlob:a4,isRegExp:C4,isFunction:ut,isStream:u4,isURLSearchParams:d4,isTypedArray:_4,isFileList:l4,forEach:So,merge:td,extend:y4,trim:g4,stripBOM:x4,inherits:v4,toFlatObject:w4,kindOf:zl,kindOfTest:Bt,endsWith:b4,toArray:N4,forEachEntry:S4,matchAll:k4,isHTMLForm:j4,hasOwnProperty:om,hasOwnProp:om,reduceDescriptors:lv,freezeMethods:T4,toObjectSet:M4,toCamelCase:E4,noop:R4,toFiniteNumber:P4,findKey:ov,global:pr,isContextDefined:av,isSpecCompliantForm:I4,toJSONObject:D4,isAsyncFn:A4,isThenable:O4,setImmediate:uv,asap:L4,isIterable:z4};function se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const cv=se.prototype,dv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dv[e]={value:e}});Object.defineProperties(se,dv);Object.defineProperty(cv,"isAxiosError",{value:!0});se.from=(e,t,n,r,s,i)=>{const o=Object.create(cv);$.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return se.call(o,a,u,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const F4=null;function nd(e){return $.isPlainObject(e)||$.isArray(e)}function fv(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function am(e,t,n){return e?e.concat(t).map(function(s,i){return s=fv(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function $4(e){return $.isArray(e)&&!e.some(nd)}const H4=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function $l(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!$.isUndefined(_[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if($.isDate(y))return y.toISOString();if($.isBoolean(y))return y.toString();if(!u&&$.isBlob(y))throw new se("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(y)||$.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,_){let m=y;if(y&&!_&&typeof y=="object"){if($.endsWith(w,"{}"))w=r?w:w.slice(0,-2),y=JSON.stringify(y);else if($.isArray(y)&&$4(y)||($.isFileList(y)||$.endsWith(w,"[]"))&&(m=$.toArray(y)))return w=fv(w),m.forEach(function(p,x){!($.isUndefined(p)||p===null)&&t.append(o===!0?am([w],x,i):o===null?w:w+"[]",c(p))}),!1}return nd(y)?!0:(t.append(am(_,w,i),c(y)),!1)}const f=[],h=Object.assign(H4,{defaultVisitor:d,convertValue:c,isVisitable:nd});function v(y,w){if(!$.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(y),$.forEach(y,function(m,g){(!($.isUndefined(m)||m===null)&&s.call(t,m,$.isString(g)?g.trim():g,w,h))===!0&&v(m,w?w.concat(g):[g])}),f.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return v(e),t}function lm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _f(e,t){this._pairs=[],e&&$l(e,this,t)}const hv=_f.prototype;hv.append=function(t,n){this._pairs.push([t,n])};hv.toString=function(t){const n=t?function(r){return t.call(this,r,lm)}:lm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function V4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pv(e,t,n){if(!t)return e;const r=n&&n.encode||V4;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=$.isURLSearchParams(t)?t.toString():new _f(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class um{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(r){r!==null&&t(r)})}}const mv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U4=typeof URLSearchParams<"u"?URLSearchParams:_f,B4=typeof FormData<"u"?FormData:null,W4=typeof Blob<"u"?Blob:null,Q4={isBrowser:!0,classes:{URLSearchParams:U4,FormData:B4,Blob:W4},protocols:["http","https","file","blob","url","data"]},Sf=typeof window<"u"&&typeof document<"u",rd=typeof navigator=="object"&&navigator||void 0,q4=Sf&&(!rd||["ReactNative","NativeScript","NS"].indexOf(rd.product)<0),X4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",K4=Sf&&window.location.href||"http://localhost",Y4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sf,hasStandardBrowserEnv:q4,hasStandardBrowserWebWorkerEnv:X4,navigator:rd,origin:K4},Symbol.toStringTag,{value:"Module"})),qe={...Y4,...Q4};function G4(e,t){return $l(e,new qe.classes.URLSearchParams,{visitor:function(n,r,s,i){return qe.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Z4(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function J4(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function gv(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=i>=n.length;return o=!o&&$.isArray(s)?s.length:o,u?($.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!$.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&$.isArray(s[o])&&(s[o]=J4(s[o])),!a)}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,(r,s)=>{t(Z4(r),s,n,0)}),n}return null}function eM(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ko={transitional:mv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=$.isObject(t);if(i&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return s?JSON.stringify(gv(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return G4(t,this.formSerializer).toString();if((a=$.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $l(a?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),eM(t)):t}],transformResponse:[function(t){const n=this.transitional||ko.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qe.classes.FormData,Blob:qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{ko.headers[e]={}});const tM=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nM=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&tM[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},cm=Symbol("internals");function ci(e){return e&&String(e).trim().toLowerCase()}function Na(e){return e===!1||e==null?e:$.isArray(e)?e.map(Na):String(e)}function rM(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const sM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ru(e,t,n,r,s){if($.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!$.isString(t)){if($.isString(r))return t.indexOf(r)!==-1;if($.isRegExp(r))return r.test(t)}}function iM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function oM(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,u,c){const d=ci(u);if(!d)throw new Error("header name must be a non-empty string");const f=$.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||u]=Na(a))}const o=(a,u)=>$.forEach(a,(c,d)=>i(c,d,u));if($.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if($.isString(t)&&(t=t.trim())&&!sM(t))o(nM(t),n);else if($.isObject(t)&&$.isIterable(t)){let a={},u,c;for(const d of t){if(!$.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(u=a[c])?$.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ci(t),t){const r=$.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return rM(s);if($.isFunction(n))return n.call(this,s,r);if($.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ci(t),t){const r=$.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ru(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=ci(o),o){const a=$.findKey(r,o);a&&(!n||Ru(r,r[a],a,n))&&(delete r[a],s=!0)}}return $.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Ru(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return $.forEach(this,(s,i)=>{const o=$.findKey(r,i);if(o){n[o]=Na(s),delete n[i];return}const a=t?iM(i):String(i).trim();a!==i&&delete n[i],n[a]=Na(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return $.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[cm]=this[cm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ci(o);r[a]||(oM(s,o),r[a]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(ct.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});$.freezeMethods(ct);function Pu(e,t){const n=this||ko,r=t||n,s=ct.from(r.headers);let i=r.data;return $.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function yv(e){return!!(e&&e.__CANCEL__)}function Ks(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}$.inherits(Ks,se,{__CANCEL__:!0});function xv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lM(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=r[i];o||(o=c),n[s]=u,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const v=d&&c-d;return v?Math.round(h*1e3/v):void 0}}function uM(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const ll=(e,t,n=3)=>{let r=0;const s=lM(50,250);return uM(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,u=o-r,c=s(u),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},dm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},fm=e=>(...t)=>$.asap(()=>e(...t)),cM=qe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qe.origin),qe.navigator&&/(msie|trident)/i.test(qe.navigator.userAgent)):()=>!0,dM=qe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];$.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&a.push(`path=${r}`),$.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),$.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function fM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vv(e,t,n){let r=!fM(t);return e&&(r||n==!1)?hM(e,t):t}const hm=e=>e instanceof ct?{...e}:e;function Fr(e,t){t=t||{};const n={};function r(c,d,f,h){return $.isPlainObject(c)&&$.isPlainObject(d)?$.merge.call({caseless:h},c,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function s(c,d,f,h){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!$.isUndefined(d))return r(void 0,d)}function o(c,d){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>s(hm(c),hm(d),f,!0)};return $.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||s,h=f(e[d],t[d],d);$.isUndefined(h)&&f!==a||(n[d]=h)}),n}const wv=e=>{const t=Fr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=ct.from(o),t.url=pv(vv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),$.isFormData(n)){if(qe.hasStandardBrowserEnv||qe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if($.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&o.set(d,f)})}}if(qe.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(t)),r||r!==!1&&cM(t.url))){const u=s&&i&&dM.read(i);u&&o.set(s,u)}return t},pM=typeof XMLHttpRequest<"u",mM=pM&&function(e){return new Promise(function(n,r){const s=wv(e);let i=s.data;const o=ct.from(s.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=s,d,f,h,v,y;function w(){v&&v(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function m(){if(!_)return;const p=ct.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:p,config:e,request:_};xv(function(b){n(b),w()},function(b){r(b),w()},N),_=null}"onloadend"in _?_.onloadend=m:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(m)},_.onabort=function(){_&&(r(new se("Request aborted",se.ECONNABORTED,e,_)),_=null)},_.onerror=function(x){const N=x&&x.message?x.message:"Network Error",S=new se(N,se.ERR_NETWORK,e,_);S.event=x||null,r(S),_=null},_.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||mv;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new se(x,N.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&$.forEach(o.toJSON(),function(x,N){_.setRequestHeader(N,x)}),$.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),a&&a!=="json"&&(_.responseType=s.responseType),c&&([h,y]=ll(c,!0),_.addEventListener("progress",h)),u&&_.upload&&([f,v]=ll(u),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=p=>{_&&(r(!p||p.type?new Ks(null,e,_):p),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=aM(s.url);if(g&&qe.protocols.indexOf(g)===-1){r(new se("Unsupported protocol "+g+":",se.ERR_BAD_REQUEST,e));return}_.send(i||null)})},gM=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof se?d:new Ks(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>$.asap(a),u}},yM=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},xM=async function*(e,t){for await(const n of vM(e))yield*yM(n,t)},vM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},pm=(e,t,n,r)=>{const s=xM(e,t);let i=0,o,a=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){a(),u.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}u.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(u){return a(u),s.return()}},{highWaterMark:2})},mm=64*1024,{isFunction:ra}=$,wM=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:gm,TextEncoder:ym}=$.global,xm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bM=e=>{e=$.merge.call({skipUndefined:!0},wM,e);const{fetch:t,Request:n,Response:r}=e,s=t?ra(t):typeof fetch=="function",i=ra(n),o=ra(r);if(!s)return!1;const a=s&&ra(gm),u=s&&(typeof ym=="function"?(y=>w=>y.encode(w))(new ym):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=i&&a&&xm(()=>{let y=!1;const w=new n(qe.origin,{body:new gm,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),d=o&&a&&xm(()=>$.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(w,_)=>{let m=w&&w[y];if(m)return m.call(w);throw new se(`Response type '${y}' is not supported`,se.ERR_NOT_SUPPORT,_)})});const h=async y=>{if(y==null)return 0;if($.isBlob(y))return y.size;if($.isSpecCompliantForm(y))return(await new n(qe.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if($.isArrayBufferView(y)||$.isArrayBuffer(y))return y.byteLength;if($.isURLSearchParams(y)&&(y=y+""),$.isString(y))return(await u(y)).byteLength},v=async(y,w)=>{const _=$.toFiniteNumber(y.getContentLength());return _??h(w)};return async y=>{let{url:w,method:_,data:m,signal:g,cancelToken:p,timeout:x,onDownloadProgress:N,onUploadProgress:S,responseType:b,headers:k,withCredentials:C="same-origin",fetchOptions:M}=wv(y),P=t||fetch;b=b?(b+"").toLowerCase():"text";let A=gM([g,p&&p.toAbortSignal()],x),F=null;const j=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let L;try{if(S&&c&&_!=="get"&&_!=="head"&&(L=await v(k,m))!==0){let H=new n(w,{method:"POST",body:m,duplex:"half"}),V;if($.isFormData(m)&&(V=H.headers.get("content-type"))&&k.setContentType(V),H.body){const[Q,B]=dm(L,ll(fm(S)));m=pm(H.body,mm,Q,B)}}$.isString(C)||(C=C?"include":"omit");const D=i&&"credentials"in n.prototype,O={...M,signal:A,method:_.toUpperCase(),headers:k.normalize().toJSON(),body:m,duplex:"half",credentials:D?C:void 0};F=i&&new n(w,O);let E=await(i?P(F,M):P(w,O));const T=d&&(b==="stream"||b==="response");if(d&&(N||T&&j)){const H={};["status","statusText","headers"].forEach(K=>{H[K]=E[K]});const V=$.toFiniteNumber(E.headers.get("content-length")),[Q,B]=N&&dm(V,ll(fm(N),!0))||[];E=new r(pm(E.body,mm,Q,()=>{B&&B(),j&&j()}),H)}b=b||"text";let z=await f[$.findKey(f,b)||"text"](E,y);return!T&&j&&j(),await new Promise((H,V)=>{xv(H,V,{data:z,headers:ct.from(E.headers),status:E.status,statusText:E.statusText,config:y,request:F})})}catch(D){throw j&&j(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,y,F),{cause:D.cause||D}):se.from(D,D&&D.code,y,F)}}},NM=new Map,bv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,u,c,d=NM;for(;a--;)u=i[a],c=d.get(u),c===void 0&&d.set(u,c=a?new Map:bM(t)),d=c;return c};bv();const kf={http:F4,xhr:mM,fetch:{get:bv}};$.forEach(kf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vm=e=>`- ${e}`,_M=e=>$.isFunction(e)||e===null||e===!1;function SM(e,t){e=$.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!_M(r)&&(s=kf[(a=String(r)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${a}'`);if(s&&($.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(vm).join(`
`):" "+vm(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Nv={getAdapter:SM,adapters:kf};function Iu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ks(null,e)}function wm(e){return Iu(e),e.headers=ct.from(e.headers),e.data=Pu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nv.getAdapter(e.adapter||ko.adapter,e)(e).then(function(r){return Iu(e),r.data=Pu.call(e,e.transformResponse,r),r.headers=ct.from(r.headers),r},function(r){return yv(r)||(Iu(e),r&&r.response&&(r.response.data=Pu.call(e,e.transformResponse,r.response),r.response.headers=ct.from(r.response.headers))),Promise.reject(r)})}const _v="1.13.2",Hl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bm={};Hl.transitional=function(t,n,r){function s(i,o){return"[Axios v"+_v+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new se(s(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!bm[o]&&(bm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Hl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function kM(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],u=a===void 0||o(a,i,e);if(u!==!0)throw new se("option "+i+" must be "+u,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const _a={assertOptions:kM,validators:Hl},Qt=_a.validators;let Cr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new um,response:new um}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&_a.assertOptions(r,{silentJSONParsing:Qt.transitional(Qt.boolean),forcedJSONParsing:Qt.transitional(Qt.boolean),clarifyTimeoutError:Qt.transitional(Qt.boolean)},!1),s!=null&&($.isFunction(s)?n.paramsSerializer={serialize:s}:_a.assertOptions(s,{encode:Qt.function,serialize:Qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_a.assertOptions(n,{baseUrl:Qt.spelling("baseURL"),withXsrfToken:Qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&$.merge(i.common,i[n.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=ct.concat(o,i);const a=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,f=0,h;if(!u){const y=[wm.bind(this),void 0];for(y.unshift(...a),y.push(...c),h=y.length,d=Promise.resolve(n);f<h;)d=d.then(y[f++],y[f++]);return d}h=a.length;let v=n;for(;f<h;){const y=a[f++],w=a[f++];try{v=y(v)}catch(_){w.call(this,_);break}}try{d=wm.call(this,v)}catch(y){return Promise.reject(y)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Fr(this.defaults,t);const n=vv(t.baseURL,t.url,t.allowAbsoluteUrls);return pv(n,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){Cr.prototype[t]=function(n,r){return this.request(Fr(r||{},{method:t,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Fr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Cr.prototype[t]=n(),Cr.prototype[t+"Form"]=n(!0)});let jM=class Sv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Ks(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Sv(function(s){t=s}),cancel:t}}};function EM(e){return function(n){return e.apply(null,n)}}function CM(e){return $.isObject(e)&&e.isAxiosError===!0}const sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(sd).forEach(([e,t])=>{sd[t]=e});function kv(e){const t=new Cr(e),n=nv(Cr.prototype.request,t);return $.extend(n,Cr.prototype,t,{allOwnKeys:!0}),$.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return kv(Fr(e,s))},n}const Re=kv(ko);Re.Axios=Cr;Re.CanceledError=Ks;Re.CancelToken=jM;Re.isCancel=yv;Re.VERSION=_v;Re.toFormData=$l;Re.AxiosError=se;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=EM;Re.isAxiosError=CM;Re.mergeConfig=Fr;Re.AxiosHeaders=ct;Re.formToJSON=e=>gv($.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=Nv.getAdapter;Re.HttpStatusCode=sd;Re.default=Re;const{Axios:S3,AxiosError:k3,CanceledError:j3,isCancel:E3,CancelToken:C3,VERSION:T3,all:M3,Cancel:R3,isAxiosError:P3,spread:I3,toFormData:D3,AxiosHeaders:A3,HttpStatusCode:O3,formToJSON:L3,getAdapter:z3,mergeConfig:F3}=Re,TM="/api",Vl=Re.create({baseURL:TM,headers:{"Content-Type":"application/json"}}),MM=async e=>(await Vl.post("/pipeline/preview",e)).data,RM=async e=>(await Vl.get(`/pipeline/datasets/${e}/schema`)).data,Nm=async(e,t)=>(await Vl.post(`/pipeline/save/${e}`,t)).data,PM=async e=>{const t=await Vl.get(`/pipeline/load/${e}`);return t.data?t.data:null},IM=async e=>(console.warn("submitTrainingJob is not yet implemented in V2",e),{job_id:"mock_job_id"}),DM=()=>{const e=fe(g=>g.nodes),t=fe(g=>g.edges),n=fe(g=>g.setExecutionResult),r=fe(g=>g.setGraph),[s,i]=I.useState(!1),[o,a]=I.useState(!1),[u,c]=I.useState(!1),[d,f]=I.useState(!1),h=()=>({nodes:e.map(g=>({id:g.id,type:g.type,position:g.position,data:{...g.data,catalogType:g.data.catalogType||g.data.definitionType}})),edges:t.map(g=>({id:g.id,source:g.source,target:g.target,sourceHandle:g.sourceHandle,targetHandle:g.targetHandle,type:g.type,data:g.data}))}),v=g=>{const p=[],x=new Set,N=[],S=e.find(b=>b.data.definitionType==="dataset_node");for(S&&N.push(S.id);N.length>0;){const b=N.shift();if(x.has(b))continue;x.add(b);const k=e.find(j=>j.id===b);if(!k)continue;let C="unknown",M={};const A=t.filter(j=>j.target===b).map(j=>j.source);if(k.data.definitionType==="dataset_node")C="data_loader",M={dataset_id:k.data.datasetId};else if(k.data.definitionType==="imputation_node"){const j=k.data.method||"simple";j==="knn"?(C="KNNImputer",M={columns:k.data.columns,n_neighbors:k.data.n_neighbors,weights:k.data.weights}):j==="iterative"?(C="IterativeImputer",M={columns:k.data.columns,max_iter:k.data.max_iter,estimator:k.data.estimator,random_state:0}):(C="SimpleImputer",M={columns:k.data.columns,strategy:k.data.strategy,fill_value:k.data.fill_value})}else if(k.data.definitionType==="simple_imputer")C="SimpleImputer",M=k.data||{};else if(k.data.definitionType==="drop_missing_columns"||k.data.definitionType==="DropMissingColumns")C="DropMissingColumns",M={columns:k.data.columns||[],missing_threshold:k.data.missing_threshold};else if(k.data.definitionType==="drop_missing_rows"||k.data.definitionType==="DropMissingRows")C="DropMissingRows",M={missing_threshold:k.data.missing_threshold,drop_if_any_missing:k.data.drop_if_any_missing};else if(k.data.definitionType==="deduplicate"||k.data.definitionType==="Deduplicate")C="Deduplicate",M={subset:k.data.subset,keep:k.data.keep};else if(k.data.definitionType==="casting"||k.data.definitionType==="Casting")C="Casting",M={column_types:k.data.column_types};else if(k.data.definitionType==="MissingIndicator"||k.data.definitionType==="missing_indicator")C="MissingIndicator",M={columns:k.data.columns,flag_suffix:k.data.flag_suffix};else if(k.data.definitionType==="scale_numeric_features"){const j=k.data||{},L=j.method||"standard";L==="minmax"?C="MinMaxScaler":L==="maxabs"?C="MaxAbsScaler":L==="robust"?C="RobustScaler":C="StandardScaler",M=j}else if(k.data.definitionType==="encoding"){const j=k.data.method;j==="onehot"?C="OneHotEncoder":j==="dummy"?(C="DummyEncoder",M={...k.data,drop_first:!0}):j==="label"?C="LabelEncoder":j==="ordinal"?C="OrdinalEncoder":j==="target"?C="TargetEncoder":j==="hash"?C="HashEncoder":C="OneHotEncoder",C!=="DummyEncoder"&&(M=k.data)}else if(k.data.definitionType==="TrainTestSplitter")C="TrainTestSplitter",M=k.data||{};else if(k.data.definitionType==="label_encoding")C="LabelEncoder",M=k.data||{};else if(k.data.definitionType==="feature_target_split")C="feature_target_split",M=k.data||{};else if(k.data.definitionType==="train_model_draft"){C="model_training";let j=k.data.modelType;j==="random_forest"&&(j="random_forest_classifier"),M={target_column:k.data.targetColumn,algorithm:j,hyperparameters:k.data.hyperparameters}}else if(k.data.definitionType==="feature_selection")C="feature_selection",M=k.data||{};else if(k.data.definitionType==="outlier"){const j=k.data.method||"iqr";j==="iqr"?C="IQR":j==="zscore"?C="ZScore":j==="winsorize"?C="Winsorize":j==="elliptic_envelope"?C="EllipticEnvelope":C="IQR",M=k.data}else throw console.error(`Unknown node type: ${k.data.definitionType}`),new Error(`Unknown node type: ${k.data.definitionType}. Pipeline execution stopped.`);p.push({node_id:k.id,step_type:C,params:M,inputs:A}),t.filter(j=>j.source===b).forEach(j=>N.push(j.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:p,metadata:{dataset_source_id:g}}},y=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}a(!0);try{await Nm(p,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(x){console.error("Save failed:",x),alert("Failed to save pipeline.")}finally{a(!1)}},w=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){c(!0);try{const x=await PM(p);x&&x.graph?(r(x.graph.nodes,x.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(x){console.error("Load failed:",x),alert("Failed to load pipeline.")}finally{c(!1)}}},_=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found!");return}i(!0),n(null);try{const x=v(p),N=await MM(x);n(N)}catch(x){console.error("Pipeline failed:",x),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}},m=async()=>{const g=e.find(N=>N.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId,x=e.find(N=>N.data.definitionType==="train_model_draft");if(!p){alert("No dataset node found!");return}if(!x){alert('No training node found! Add a "Model Training" node to train a model.');return}f(!0);try{const N=await Nm(p,{name:"Training Pipeline",description:"Auto-saved before training",graph:h()});await IM({dataset_source_id:p,pipeline_id:N.id.toString(),node_id:x.id,model_types:[x.data.modelType],hyperparameters:x.data.hyperparameters,graph:h(),run_training:!0}),alert("Training job submitted successfully! Check the jobs dashboard.")}catch(N){console.error("Training failed:",N),alert("Failed to submit training job.")}finally{f(!1)}};return l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[l.jsxs("button",{onClick:w,disabled:u||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?l.jsx(na,{className:"w-4 h-4 animate-spin"}):l.jsx(ST,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),l.jsxs("button",{onClick:y,disabled:o||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?l.jsx(na,{className:"w-4 h-4 animate-spin"}):l.jsx(AT,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),l.jsxs("button",{onClick:_,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?l.jsx(na,{className:"w-4 h-4 animate-spin"}):l.jsx(IT,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]}),l.jsxs("button",{onClick:m,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:[d?l.jsx(na,{className:"w-4 h-4 animate-spin"}):l.jsx(J0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:d?"Submitting...":"Train Model"})]})]})},AM=()=>{const e=fe(h=>h.executionResult),[t,n]=I.useState(!0),[r,s]=I.useState(null),i=I.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),o=Object.keys(i);if(Lt.useEffect(()=>{o.length>0&&(!r||!o.includes(r))&&(o.includes("train")?s("train"):o.includes("X")?s("X"):s(o[0]))},[o,r]),!e)return null;const a=r&&i[r]?i[r]:[],u=a.length>0?Object.keys(a[0]):[],c=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return l.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>n(!t),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(VT,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),l.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[a.length," rows shown"]}),e.status==="failed"&&l.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),l.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?l.jsx(fT,{className:"w-4 h-4"}):l.jsx(hT,{className:"w-4 h-4"})})]}),t&&l.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&l.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[l.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),l.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),o.length>1&&l.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[l.jsx(jT,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(h=>l.jsx("button",{onClick:()=>s(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${r===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),c.length>0&&e.status!=="failed"&&l.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:c.map((h,v)=>l.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},v))}),l.jsxs("div",{className:"flex-1 overflow-auto",children:[l.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[l.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:l.jsx("tr",{children:u.map(h=>l.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),l.jsx("tbody",{children:a.map((h,v)=>l.jsx("tr",{className:"border-b hover:bg-muted/10",children:u.map(y=>l.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[y]!==null?String(h[y]):l.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${v}-${y}`))},v))})]}),a.length===0&&l.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",r?`for ${r}`:""]})]})]})]})},OM=()=>{const[e,t]=I.useState(!1);I.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const n=()=>{const r=!e;t(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return l.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:l.jsx(PT,{className:"w-5 h-5 text-primary"})}),l.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?l.jsx(MT,{className:"w-5 h-5"}):l.jsx($T,{className:"w-5 h-5"})})]})]})},LM=()=>l.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[l.jsx(OM,{}),l.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[l.jsx(UT,{}),l.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[l.jsx(DM,{}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ZT,{}),l.jsx(AM,{})]})]}),l.jsx(JT,{})]})]});function zM(){const e=fe(t=>t.addNode);return I.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("source_id");n&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:n})},100)},[]),I.useEffect(()=>{},[]),l.jsx(LM,{})}const FM=({config:e,onChange:t})=>l.jsxs("div",{className:"p-4 space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:n=>t({...e,message:n.target.value})})]}),$M={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:dT,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>l.jsxs("div",{className:"text-xs",children:["Msg: ",l.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:FM,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},_m="/data/api",jv={getAll:async()=>{const e=await fetch(`${_m}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${_m}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return t.json()}},dt=e=>$N({queryKey:["dataset-schema",e],queryFn:()=>RM(e),enabled:!!e,staleTime:1e3*60*5}),HM=({config:e,onChange:t})=>{const[n,r]=I.useState([]),[s,i]=I.useState(!1),{data:o,isLoading:a}=dt(e.datasetId);I.useEffect(()=>{i(!0),jv.getAll().then(r).catch(console.error).finally(()=>i(!1))},[]);const u=c=>{const d=c.target.value,f=n.find(h=>String(h.id)===d);t({...e,datasetId:d,datasetName:f==null?void 0:f.name})};return l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s?l.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:u,children:[l.jsx("option",{value:"",children:"-- Select --"}),n.map(c=>l.jsx("option",{value:c.id,children:c.name},c.id))]})]}),e.datasetId&&l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[l.jsx(HT,{size:14}),l.jsx("span",{children:"Dataset Schema"})]}),a?l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-xs text-left",children:[l.jsx("thead",{className:"bg-muted/20 sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),l.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),l.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),l.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),l.jsx("tbody",{children:Object.values(o.columns).map(c=>l.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[l.jsx("td",{className:"p-2 font-mono font-medium",children:c.name}),l.jsx("td",{className:"p-2 text-muted-foreground",children:c.dtype}),l.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.missing_count}),l.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.unique_count})]},c.name))})]})}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},VM=({data:e})=>{const[t,n]=I.useState(void 0);I.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&jv.getById(e.datasetId).then(s=>n(s.name)).catch(()=>n(e.datasetId))},[e.datasetId,e.datasetName,t]);const r=e.datasetName||t||e.datasetId;return l.jsx("div",{className:"text-xs",children:e.datasetId?l.jsx("div",{className:"font-medium truncate max-w-[150px]",title:r,children:r||"Loading..."}):l.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},UM={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:vT,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:HM,component:VM,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},Ct=e=>{const t=fe(i=>i.nodes),n=fe(i=>i.edges),r=t.find(i=>i.id===e);return r?yo(r,t,n).map(i=>i.data):[]},jf=(e,t={})=>{var i;const r=(i=Ct(e).find(o=>o.datasetId))==null?void 0:i.datasetId,s=fe(o=>o.executionResult);return I.useMemo(()=>!r||!(s!=null&&s.recommendations)?[]:s.recommendations.filter(o=>{var a,u;if(t.types||t.suggestedNodeTypes){const c=(a=t.types)==null?void 0:a.includes(o.type),d=(u=t.suggestedNodeTypes)==null?void 0:u.includes(o.suggested_node_type);if(!c&&!d)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[s,r,t.types,t.suggestedNodeTypes,t.scope])},Ul=({recommendations:e,onApply:t,className:n=""})=>!e||e.length===0?null:l.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${n}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[l.jsx(ET,{className:"w-4 h-4"}),l.jsx("span",{children:"Recommendations"})]}),l.jsx("div",{className:"space-y-2",children:e.map(r=>l.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:r.type.replace("_"," ").toUpperCase()}),l.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:r.description}),r.reasoning&&l.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",r.reasoning]})]}),t&&l.jsx("button",{onClick:()=>t(r),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:l.jsx(mT,{className:"w-5 h-5"})})]})},r.rule_id))})]}),BM=({config:e,onChange:t,nodeId:n})=>{var N;const s=(N=Ct(n||"").find(S=>S.datasetId))==null?void 0:N.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(S=>S.name):[],u=fe(S=>S.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=I.useRef(null),[h,v]=I.useState(!1);I.useEffect(()=>{if(!f.current)return;const S=new ResizeObserver(b=>{for(const k of b)v(k.contentRect.width>450)});return S.observe(f.current),()=>S.disconnect()},[]);const y=jf(n||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),w=S=>{if(S.target_columns&&S.target_columns.length>0){const b=Array.from(new Set([...e.columns,...S.target_columns]));t({...e,columns:b})}},[_,m]=I.useState(""),g=I.useMemo(()=>a.filter(S=>S.toLowerCase().includes(_.toLowerCase())),[a,_]),p=()=>{t({...e,columns:g})},x=()=>{const S=e.columns.filter(b=>!g.includes(b));t({...e,columns:S})};return l.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&l.jsx("div",{className:"shrink-0",children:l.jsx(Ul,{recommendations:y,onApply:w})}),l.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),l.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),l.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),l.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:S=>t({...e,missing_threshold:parseInt(S.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&l.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(qs,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&l.jsxs("div",{className:"pt-1 border-t mt-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(S=>l.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:S},S))})]})]})]})]}),l.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[l.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("div",{className:"relative group",children:l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:_,onChange:S=>m(S.target.value)})}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:a.length>0?g.length>0?l.jsx("div",{className:"space-y-0.5",children:g.map(S=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(S),onChange:b=>{const k=b.target.checked?[...e.columns,S]:e.columns.filter(C=>C!==S);t({...e,columns:k})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),l.jsx("span",{className:"truncate font-mono text-xs",title:S,children:S})]},S))}):l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',_,'"']}):l.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},WM={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:tv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:BM,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},QM=({config:e,onChange:t,nodeId:n})=>{var S;const s=(S=Ct(n||"").find(b=>b.datasetId))==null?void 0:S.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(b=>b.name):[],u=fe(b=>b.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=I.useRef(null),[h,v]=I.useState(!1);I.useEffect(()=>{if(!f.current)return;const b=new ResizeObserver(k=>{for(const C of k)v(C.contentRect.width>450)});return b.observe(f.current),()=>b.disconnect()},[]);const y=jf(n||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),w=b=>{if(b.target_columns&&b.target_columns.length>0){const k=Array.from(new Set([...e.columns,...b.target_columns]));t({...e,columns:k})}},[_,m]=I.useState(""),g=I.useMemo(()=>a.filter(b=>b.toLowerCase().includes(_.toLowerCase())),[a,_]),p=()=>{t({...e,columns:g})},x=()=>{const b=e.columns.filter(k=>!g.includes(k));t({...e,columns:b})},N=()=>d?l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([b,k])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:b,children:[b,":"]}),l.jsx("span",{className:"font-mono",children:typeof k=="number"?k.toFixed(4):String(k)})]},b))})]}),d.missing_counts&&l.jsxs("div",{className:"space-y-1 mt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([b,k])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:b,children:[b,":"]}),l.jsx("span",{className:"font-mono",children:String(k)})]},b))}),d.total_missing!==void 0&&l.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",l.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(c==null?void 0:c.status)==="success"&&l.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return l.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&l.jsx("div",{className:"shrink-0",children:l.jsx(Ul,{recommendations:y,onApply:w})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:b=>t({...e,method:b.target.value}),children:[l.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),l.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),l.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:b=>t({...e,strategy:b.target.value}),children:[l.jsx("option",{value:"mean",children:"Mean (Average)"}),l.jsx("option",{value:"median",children:"Median (Middle Value)"}),l.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),l.jsx("option",{value:"constant",children:"Constant Value"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:b=>t({...e,fill_value:b.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:b=>t({...e,n_neighbors:parseInt(b.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:b=>t({...e,weights:b.target.value}),children:[l.jsx("option",{value:"uniform",children:"Uniform"}),l.jsx("option",{value:"distance",children:"Distance"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:b=>t({...e,max_iter:parseInt(b.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:b=>t({...e,estimator:b.target.value}),children:[l.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),l.jsx("option",{value:"decision_tree",children:"Decision Tree"}),l.jsx("option",{value:"extra_trees",children:"Extra Trees"}),l.jsx("option",{value:"knn",children:"KNN"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:b=>t({...e,random_state:parseInt(b.target.value)})})]})]}),h&&l.jsx(N,{})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:p,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:_,onChange:b=>m(b.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:g.length>0?g.map(b=>l.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(b),onChange:k=>{const C=k.target.checked?[...e.columns,b]:e.columns.filter(M=>M!==b);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),l.jsx("span",{className:"truncate",title:b,children:b})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[b]!==void 0&&l.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[b]} missing values filled`,children:d.missing_counts[b]})]},b)):l.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:a.length===0?"No columns available":"No matches found"})})]}),!h&&l.jsx(N,{})]})]})},qM={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:RT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:QM,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},XM=({config:e,onChange:t,nodeId:n})=>{var p;const s=(p=Ct(n||"").find(x=>x.datasetId))==null?void 0:p.datasetId,{data:i,isLoading:o}=dt(s),a=fe(x=>x.executionResult),u=n?a==null?void 0:a.node_results[n]:null,c=I.useRef(null),[d,f]=I.useState(!1),[h,v]=I.useState("");I.useEffect(()=>{if(!c.current)return;const x=new ResizeObserver(N=>{for(const S of N)f(S.contentRect.width>450)});return x.observe(c.current),()=>x.disconnect()},[]);const y=i?Object.values(i.columns).filter(x=>["int","float","number"].some(N=>{var S;return(S=x.dtype)==null?void 0:S.toLowerCase().includes(N)})).map(x=>x.name):[],w=y.filter(x=>x.toLowerCase().includes(h.toLowerCase())),_=()=>{t({...e,columns:w})},m=()=>{const x=e.columns.filter(N=>!w.includes(N));t({...e,columns:x})},g=()=>{if(!u||!u.metrics)return null;const x=u.metrics,N=x.columns;if(!N)return null;const S=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),l.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:S()})]}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map((b,k)=>{var M,P,A,F,j,L,D;let C="";if(e.method==="standard"){const O=(M=x.mean)==null?void 0:M[k],E=(P=x.scale)==null?void 0:P[k];typeof O=="number"&&(C=`=${O.toFixed(2)}, =${typeof E=="number"?E.toFixed(2):"-"}`)}else if(e.method==="minmax"){const O=(A=x.data_min)==null?void 0:A[k],E=(F=x.data_max)==null?void 0:F[k];typeof O=="number"&&(C=`Min=${O.toFixed(2)}, Max=${typeof E=="number"?E.toFixed(2):"-"}`)}else if(e.method==="robust"){const O=(j=x.center)==null?void 0:j[k],E=(L=x.scale)==null?void 0:L[k];typeof O=="number"&&(C=`Med=${O.toFixed(2)}, IQR=${typeof E=="number"?E.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const O=(D=x.max_abs)==null?void 0:D[k];typeof O=="number"&&(C=`MaxAbs=${O.toFixed(2)}`)}return l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:b,children:b}),l.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:C})]},b)})})]})};return l.jsxs("div",{ref:c,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:x=>t({...e,method:x.target.value}),children:[l.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),l.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),l.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),l.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:x=>t({...e,with_mean:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Center Data (with_mean)"})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:x=>t({...e,with_std:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:x=>t({...e,feature_range_min:parseFloat(x.target.value)})}),l.jsx("span",{className:"text-muted-foreground",children:"-"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:x=>t({...e,feature_range_max:parseFloat(x.target.value)})})]})]}),e.method==="robust"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:x=>t({...e,quantile_range_min:parseFloat(x.target.value)})}),l.jsx("span",{className:"text-muted-foreground",children:"-"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:x=>t({...e,quantile_range_max:parseFloat(x.target.value)})})]}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:x=>t({...e,with_centering:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Center Data (Median)"})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:x=>t({...e,with_scaling:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&l.jsx(g,{})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:_,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:m,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:x=>v(x.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:w.length>0?w.map(x=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(x),onChange:N=>{const S=N.target.checked?[...e.columns,x]:e.columns.filter(b=>b!==x);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:x,children:x})]},x)):l.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:o?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!d&&l.jsx(g,{})]})]})},KM={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:OT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:XM,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},YM=({config:e,onChange:t,nodeId:n})=>{var c,d;const r=Ct(n||""),s=(c=r.find(f=>f.datasetId))==null?void 0:c.datasetId,i=(d=r.find(f=>f.target_column))==null?void 0:d.target_column;Lt.useEffect(()=>{const f={};s&&e.datasetId!==s&&(f.datasetId=s),i&&e.targetColumn!==i&&(f.targetColumn=i),Object.keys(f).length>0&&t({...e,...f})},[s,i,e.datasetId,e.targetColumn,t]);const{data:o,isLoading:a}=dt(s||e.datasetId),u=o?Object.values(o.columns).map(f=>f.name):[];return l.jsxs("div",{className:"p-4 space-y-4",children:[!s&&!e.datasetId&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),a&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.targetColumn??"",onChange:f=>t({...e,targetColumn:f.target.value}),disabled:!!i,children:[l.jsx("option",{value:"",children:"-- Select Target --"}),u.map(f=>l.jsx("option",{value:f,children:f},f))]}),i&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target column inherited from upstream split."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.modelType,onChange:f=>t({...e,modelType:f.target.value}),children:[l.jsx("option",{value:"random_forest",children:"Random Forest"}),l.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),l.jsx("option",{value:"xgboost",children:"XGBoost"})]})]}),e.modelType==="random_forest"&&l.jsxs("div",{className:"space-y-2 border-t pt-2",children:[l.jsx("h4",{className:"text-xs font-semibold text-muted-foreground",children:"Hyperparameters"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs mb-1",children:"N Estimators"}),l.jsx("input",{type:"number",className:"w-full p-1 border rounded text-sm",value:e.hyperparameters.n_estimators||100,onChange:f=>t({...e,hyperparameters:{...e.hyperparameters,n_estimators:parseInt(f.target.value)}})})]})]})]})},GM={type:"train_model_draft",label:"Model Training",category:"Modeling",description:"Train a machine learning model.",icon:J0,inputs:[{id:"train",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:YM,validate:e=>e.targetColumn?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({targetColumn:"",modelType:"random_forest",hyperparameters:{n_estimators:100}})},ZM=({config:e,onChange:t})=>{const n=["train","validation","test"],r=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],s=o=>{const a=e.splits.includes(o)?e.splits.filter(u=>u!==o):[...e.splits,o];t({...e,splits:a})},i=o=>{const a=e.metrics.includes(o)?e.metrics.filter(u=>u!==o):[...e.metrics,o];t({...e,metrics:a})};return l.jsxs("div",{className:"p-4 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),l.jsx("div",{className:"space-y-2",children:n.map(o=>l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.splits.includes(o),onChange:()=>s(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsxs("span",{className:"capitalize",children:[o," Set"]})]},o))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(o=>l.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.metrics.includes(o),onChange:()=>i(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"uppercase",children:o.replace("_"," ")})]},o))})]})]})},JM={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:cT,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:ZM,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},e3=({config:e,onChange:t,nodeId:n})=>{var x;const r=Ct(n||""),s=fe(N=>N.nodes),i=fe(N=>N.edges),o=fe(N=>N.executionResult),u=(N=>{var k;const S=new Set,b=[N];for(;b.length>0;){const C=b.shift();if(S.has(C))continue;S.add(C);const M=s.find(A=>A.id===C);if(!M)continue;if(C!==N&&((k=M.data)!=null&&k.datasetId))return M.data.datasetId;const P=yo(M,s,i);for(const A of P)b.push(A.id)}})(n||""),c=(x=r.find(N=>N.target_column))==null?void 0:x.target_column;I.useEffect(()=>{const N={};u&&e.datasetId!==u&&(N.datasetId=u),c&&e.target_column!==c&&(N.target_column=c),Object.keys(N).length>0&&t({...e,...N})},[u,c,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=dt(u||e.datasetId),h=d?Object.values(d.columns).map(N=>N.name):[],v=I.useRef(null),[y,w]=I.useState(!1);I.useEffect(()=>{if(!v.current)return;const N=new ResizeObserver(S=>{for(const b of S)w(b.contentRect.width>450)});return N.observe(v.current),()=>N.disconnect()},[]);const _=()=>{const N=e.problem_type||"auto";return N==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:N==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},m=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),g=["select_from_model","rfe"].includes(e.method),p=()=>{const N=o==null?void 0:o.node_results[n||""];if(!N)return null;const S=N.metrics||{},b=S.dropped_columns,k=S.feature_scores,C=S.p_values,M=S.feature_importances,P=S.variances,A=S.ranking;return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),N.error&&l.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:N.error}),b&&b.length>0?l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:l.jsxs("span",{children:["Dropped Columns (",b.length,")"]})}),l.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:b.map(F=>{const j=k==null?void 0:k[F],L=C==null?void 0:C[F],D=M==null?void 0:M[F],O=P==null?void 0:P[F],E=A==null?void 0:A[F];return l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:F,children:F}),l.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[j!==void 0&&l.jsxs("span",{children:["Score: ",j.toFixed(4)]}),L!==void 0&&l.jsxs("span",{children:["p-val: ",L.toExponential(2)]}),D!==void 0&&l.jsxs("span",{children:["Imp: ",D.toFixed(4)]}),O!==void 0&&l.jsxs("span",{children:["Var: ",O.toFixed(4)]}),E!==void 0&&l.jsxs("span",{children:["Rank: ",E]})]})]},F)})})]}):N.status==="success"&&l.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[l.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&l.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(k||M)&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(k||M||{}).sort(([,F],[,j])=>j-F).slice(0,5).map(([F,j])=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"truncate max-w-[120px]",title:F,children:F}),l.jsx("span",{className:"font-mono text-[10px]",children:j.toFixed(4)})]},F))})]})]})};return l.jsxs("div",{ref:v,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!u&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!u&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[l.jsxs("optgroup",{label:"Simple",children:[l.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),l.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),l.jsxs("optgroup",{label:"Univariate",children:[l.jsx("option",{value:"select_k_best",children:"Select K Best"}),l.jsx("option",{value:"select_percentile",children:"Select Percentile"}),l.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),l.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),l.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),l.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),l.jsxs("optgroup",{label:"Model Based",children:[l.jsx("option",{value:"select_from_model",children:"Select From Model"}),l.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),c?l.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[c," ",l.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:N=>t({...e,target_column:N.target.value}),children:[l.jsx("option",{value:"",children:"Select Target..."}),h.map(N=>l.jsx("option",{value:N,children:N},N))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(m||g)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:N=>t({...e,problem_type:N.target.value}),children:[l.jsx("option",{value:"auto",children:"Auto-detect"}),l.jsx("option",{value:"classification",children:"Classification"}),l.jsx("option",{value:"regression",children:"Regression"})]})]}),y&&l.jsx(p,{})]}),l.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[l.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:N=>t({...e,correlation_method:N.target.value}),children:[l.jsx("option",{value:"pearson",children:"Pearson"}),l.jsx("option",{value:"spearman",children:"Spearman"}),l.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),m&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:N=>t({...e,score_func:N.target.value}),children:[l.jsx("option",{value:"",children:"Auto (Default)"}),_().map(N=>l.jsx("option",{value:N.value,children:N.label},N.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:N=>t({...e,k:parseInt(N.target.value)})})]}),e.method==="select_percentile"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:N=>t({...e,percentile:parseInt(N.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),l.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:N=>t({...e,alpha:parseFloat(N.target.value)})})]}),e.method==="generic_univariate_select"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Mode"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:N=>t({...e,mode:N.target.value}),children:[l.jsx("option",{value:"k_best",children:"K Best"}),l.jsx("option",{value:"percentile",children:"Percentile"}),l.jsx("option",{value:"fpr",children:"FPR"}),l.jsx("option",{value:"fdr",children:"FDR"}),l.jsx("option",{value:"fwe",children:"FWE"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),l.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:N=>t({...e,param:parseFloat(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),g&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:N=>t({...e,estimator:N.target.value}),children:[l.jsx("option",{value:"auto",children:"Auto"}),l.jsx("option",{value:"RandomForest",children:"Random Forest"}),l.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),l.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:N=>t({...e,threshold:N.target.value})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Step"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:N=>t({...e,step:parseInt(N.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),l.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[l.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:N=>t({...e,drop_columns:N.target.checked})}),l.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!y&&l.jsx(p,{})]})]})]})},t3={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:NT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:e3,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},n3=({config:e,onChange:t,nodeId:n})=>{var m;const r=Ct(n||""),s=fe(g=>g.nodes),i=fe(g=>g.edges),a=(g=>{var N;const p=new Set,x=[g];for(;x.length>0;){const S=x.shift();if(p.has(S))continue;p.add(S);const b=s.find(C=>C.id===S);if(!b)continue;if(S!==g&&((N=b.data)!=null&&N.datasetId))return b.data.datasetId;const k=yo(b,s,i);for(const C of k)x.push(C.id)}})(n||""),u=(m=r.find(g=>g.target_column))==null?void 0:m.target_column;Lt.useEffect(()=>{const g={};a&&e.datasetId!==a&&(g.datasetId=a),u&&e.target_column!==u&&(g.target_column=u),Object.keys(g).length>0&&t({...e,...g})},[a,u,e.datasetId,e.target_column,t]);const{data:c,isLoading:d}=dt(a||e.datasetId),f=c?Object.values(c.columns).map(g=>g.name):[],h=e.validation_size||0,v=1-e.test_size-h,y=Lt.useRef(null),[w,_]=Lt.useState(!1);return Lt.useEffect(()=>{if(!y.current)return;const g=new ResizeObserver(p=>{for(const x of p)_(x.contentRect.width>450)});return g.observe(y.current),()=>g.disconnect()},[]),l.jsxs("div",{ref:y,className:`flex flex-col h-full w-full bg-background ${w?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&!e.datasetId&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${w?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${w?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),l.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:g=>t({...e,test_size:parseFloat(g.target.value)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),l.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:g=>t({...e,validation_size:parseFloat(g.target.value)})}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(v*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),v<=0&&l.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Random State"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:g=>t({...e,random_state:parseInt(g.target.value)})})]})]}),l.jsxs("div",{className:`space-y-4 ${w?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:g=>t({...e,shuffle:g.target.checked})}),l.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:g=>t({...e,stratify:g.target.checked})}),l.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),l.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:g=>t({...e,target_column:g.target.value}),disabled:!e.stratify,children:[l.jsx("option",{value:"",children:"-- Select Target --"}),f.map(g=>l.jsx("option",{value:g,children:g},g))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},r3={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:ev,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:n3,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},s3=({config:e,onChange:t,nodeId:n})=>{const r=fe(c=>c.nodes),s=fe(c=>c.edges),o=(c=>{var h;const d=new Set,f=[c];for(;f.length>0;){const v=f.shift();if(d.has(v))continue;d.add(v);const y=r.find(_=>_.id===v);if(!y)continue;if(v!==c&&((h=y.data)!=null&&h.datasetId))return y.data.datasetId;const w=yo(y,r,s);for(const _ of w)f.push(_.id)}})(n||"");Lt.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:a}=dt(o||e.datasetId),u=a?Object.values(a.columns).map(c=>c.name):[];return l.jsx("div",{className:"p-4 space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:c=>t({...e,target_column:c.target.value}),children:[l.jsx("option",{value:"",children:"-- Select Target --"}),u.map(c=>l.jsx("option",{value:c,children:c},c))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},i3={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:ev,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:s3,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},o3=({config:e,onChange:t,nodeId:n})=>{var c;const s=(c=Ct(n||"").find(d=>d.datasetId))==null?void 0:c.datasetId,{isLoading:i}=dt(s),o=fe(d=>d.executionResult),a=n?o==null?void 0:o.node_results[n]:null,u=a==null?void 0:a.metrics;return l.jsxs("div",{className:"p-4 space-y-4",children:[!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!s&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[l.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),l.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[l.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),l.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),u&&u.DropMissingRows_rows_removed!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(qs,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),l.jsx("span",{className:"font-medium text-destructive",children:u.DropMissingRows_rows_removed})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),l.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_remaining})]}),l.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),l.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_total})]})]})]})]})},a3={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:bT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:o3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},l3=({config:e,onChange:t,nodeId:n})=>{var _;const s=(_=Ct(n||"").find(m=>m.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(m=>m.name):[],u=fe(m=>m.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=I.useState(""),v=I.useMemo(()=>a.filter(m=>m.toLowerCase().includes(f.toLowerCase())),[a,f]),y=()=>{t({...e,subset:v})},w=()=>{const m=e.subset.filter(g=>!v.includes(g));t({...e,subset:m})};return l.jsxs("div",{className:"p-4 space-y-4",children:[!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:m=>t({...e,keep:m.target.value}),children:[l.jsx("option",{value:"first",children:"Keep First Occurrence"}),l.jsx("option",{value:"last",children:"Keep Last Occurrence"}),l.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:m=>h(m.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),a.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(m),onChange:g=>{const p=g.target.checked?[...e.subset,m]:e.subset.filter(x=>x!==m);t({...e,subset:p})}}),m]},m)),v.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(qs,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),l.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),l.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[l.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),l.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},u3={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:xT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:l3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},c3=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],d3=({config:e,onChange:t,nodeId:n})=>{var g;const s=(g=Ct(n||"").find(p=>p.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(p=>p.name):[],u=fe(p=>p.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=I.useRef(null),[h,v]=I.useState(!1);I.useEffect(()=>{if(!f.current)return;const p=new ResizeObserver(x=>{for(const N of x)v(N.contentRect.width>450)});return p.observe(f.current),()=>p.disconnect()},[]);const y=()=>{if(a.length===0)return;const p=a.find(x=>!e.column_types[x])||a[0];t({...e,column_types:{...e.column_types,[p]:"float"}})},w=p=>{const x={...e.column_types};delete x[p],t({...e,column_types:x})},_=(p,x)=>{if(p===x)return;const N=e.column_types[p],S={...e.column_types};delete S[p],S[x]=N,t({...e,column_types:S})},m=(p,x)=>{t({...e,column_types:{...e.column_types,[p]:x}})};return l.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),l.jsx("button",{onClick:y,disabled:!s||a.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:l.jsx(DT,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([p,x])=>l.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[l.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[l.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:p,onChange:N=>_(p,N.target.value),children:a.map(N=>l.jsx("option",{value:N,disabled:N!==p&&!!e.column_types[N],children:N},N))}),l.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:x,onChange:N=>m(p,N.target.value),children:c3.map(N=>l.jsx("option",{value:N.value,children:N.label},N.value))})]}),l.jsx("button",{onClick:()=>w(p),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:l.jsx(tv,{className:"w-4 h-4"})})]},p)),Object.keys(e.column_types).length===0&&l.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(qs,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),l.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),l.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},f3={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:wT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:d3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},h3=({config:e,onChange:t,nodeId:n})=>{var _;const s=(_=Ct(n||"").find(m=>m.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=dt(s),a=i?Object.values(i.columns).map(m=>m.name):[],u=fe(m=>m.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=I.useState(""),v=I.useMemo(()=>a.filter(m=>m.toLowerCase().includes(f.toLowerCase())),[a,f]),y=()=>{t({...e,columns:v})},w=()=>{const m=e.columns.filter(g=>!v.includes(g));t({...e,columns:m})};return l.jsxs("div",{className:"p-4 space-y-4",children:[!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:m=>t({...e,flag_suffix:m.target.value}),placeholder:"_was_missing"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:m=>h(m.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),a.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(m),onChange:g=>{const p=g.target.checked?[...e.columns,m]:e.columns.filter(x=>x!==m);t({...e,columns:p})}}),m]},m)),v.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(qs,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),l.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&l.jsxs("div",{className:"pt-1 border-t mt-1",children:[l.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(m=>l.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:m},m))})]})]})]})]})},p3={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:_T,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:h3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},m3=({config:e,onChange:t,nodeId:n})=>{var N;const s=(N=Ct(n||"").find(S=>S.datasetId))==null?void 0:N.datasetId,{data:i,isLoading:o}=dt(s),[a,u]=I.useState(""),c=I.useRef(null),[d,f]=I.useState(!1),h=fe(S=>S.executionResult),v=n?h==null?void 0:h.node_results[n]:null,y=v==null?void 0:v.metrics,_=((h==null?void 0:h.recommendations)||[]).filter(S=>S.suggested_node_type==="encoding"||S.type.includes("encoding")||S.type.includes("cardinality"));I.useEffect(()=>{if(!c.current)return;const S=new ResizeObserver(b=>{for(const k of b)f(k.contentRect.width>400)});return S.observe(c.current),()=>S.disconnect()},[]);const m=i?Object.values(i.columns).filter(S=>["object","string","category","bool"].some(b=>{var k;return(k=S.dtype)==null?void 0:k.toLowerCase().includes(b)})).map(S=>S.name):[],g=m.filter(S=>S.toLowerCase().includes(a.toLowerCase())),p=()=>{t({...e,columns:[...m]})},x=()=>{t({...e,columns:[]})};return l.jsxs("div",{ref:c,className:"p-4 space-y-4",children:[!s&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&l.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),l.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:S=>t({...e,method:S.target.value}),children:[l.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),l.jsx("option",{value:"dummy",children:"Dummy Encoding"}),l.jsx("option",{value:"label",children:"Label Encoding"}),l.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),l.jsx("option",{value:"target",children:"Target Encoding"}),l.jsx("option",{value:"hash",children:"Hash Encoding"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]})]}),l.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:S=>t({...e,drop_first:S.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),l.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:S=>t({...e,handle_unknown:S.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[l.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),l.jsx("option",{value:"error",children:"Raise Error"})]}),l.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:S=>t({...e,target_column:S.target.value}),children:[l.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(S=>l.jsxs("option",{value:S.name,children:[S.name," (",S.dtype,")"]},S.name))]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),l.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:S=>t({...e,n_features:parseInt(S.target.value)})})]}),e.method==="ordinal"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:S=>t({...e,unknown_value:parseInt(S.target.value)}),title:"Integer to assign for unknown categories."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&l.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:S=>t({...e,missing_code:parseInt(S.target.value)}),title:"Integer to assign for missing or unknown categories."}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),l.jsxs("div",{className:"space-y-2 mb-2",children:[l.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:a,onChange:S=>u(S.target.value)}),l.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[l.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),l.jsx("span",{className:"text-border",children:"|"}),l.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),m.length>0?l.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[g.map(S=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(S),onChange:b=>{const k=b.target.checked?[...e.columns,S]:e.columns.filter(C=>C!==S);t({...e,columns:k})}}),S]},S)),g.length===0&&l.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',a,'"']})]}):l.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),_.length>0&&l.jsx(Ul,{recommendations:_}),y&&l.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[l.jsx(qs,{size:14}),l.jsx("span",{children:"Last Run Results"})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[y.encoded_columns_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),l.jsx("span",{className:"font-medium",children:y.encoded_columns_count})]}),y.new_features_count!==void 0&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),l.jsx("span",{className:"font-medium text-primary",children:y.new_features_count})]}),y.categories_count&&l.jsxs("div",{className:"mt-2 border-t pt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(y.categories_count).map(([S,b])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),l.jsx("span",{className:"font-mono",children:b})]},S))})]}),y.classes_count&&l.jsxs("div",{className:"mt-2 border-t pt-2",children:[l.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),l.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(y.classes_count).map(([S,b])=>l.jsxs("div",{className:"flex justify-between text-[10px]",children:[l.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),l.jsx("span",{className:"font-mono",children:b})]},S))})]})]})]})]})},g3={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:kT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:m3,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},y3=({config:e,onChange:t,nodeId:n})=>{const r=fe(b=>b.nodes),s=fe(b=>b.edges),o=(b=>{var M;const k=new Set,C=[b];for(;C.length>0;){const P=C.shift();if(k.has(P))continue;k.add(P);const A=r.find(j=>j.id===P);if(!A)continue;if(P!==b&&((M=A.data)!=null&&M.datasetId))return A.data.datasetId;const F=yo(A,r,s);for(const j of F)C.push(j.id)}})(n||""),{data:a,isLoading:u}=dt(o),c=jf(n||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=fe(b=>b.executionResult),f=n?d==null?void 0:d.node_results[n]:null,h=I.useRef(null),[v,y]=I.useState(!1),[w,_]=I.useState("");I.useEffect(()=>{if(!h.current)return;const b=new ResizeObserver(k=>{for(const C of k)y(C.contentRect.width>450)});return b.observe(h.current),()=>b.disconnect()},[]);const m=a?Object.values(a.columns).filter(b=>["int","float","number"].some(k=>{var C;return(C=b.dtype)==null?void 0:C.toLowerCase().includes(k)})).map(b=>b.name):[],g=m.filter(b=>b.toLowerCase().includes(w.toLowerCase())),p=()=>{t({...e,columns:g})},x=()=>{const b=e.columns.filter(k=>!g.includes(k));t({...e,columns:b})},N=()=>{if(!f||!f.metrics)return null;const b=f.metrics,k=b.rows_removed,C=b.rows_remaining,M=b.rows_total??(k??0)+(C??0),P=b.bounds,A=b.stats,F=b.contamination,j=b.warnings,L=b.values_clipped;if(k===void 0&&!P&&!A&&F===void 0&&!j&&L===void 0)return null;const D=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return l.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),l.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:D()})]}),j&&j.length>0&&l.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[l.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),l.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:j.map((O,E)=>l.jsx("li",{className:"truncate",title:O,children:O},E))})]}),e.method==="winsorize"?l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-mono font-medium text-blue-600",children:L??0}),l.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(k!==void 0||M!==void 0)&&l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx("span",{className:"font-mono font-medium text-destructive",children:k??0}),M>0&&l.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((k??0)/M*100).toFixed(1),"%)"]})]}),C!==void 0&&l.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[C," remaining"]})]})]}),F!==void 0&&l.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[l.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),l.jsxs("span",{className:"font-mono font-medium",children:[(F*100).toFixed(1),"%"]})]}),P&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(P).map(([O,E])=>l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:O,children:O}),l.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",E.lower.toFixed(2),", ",E.upper.toFixed(2),"]"]})]},O))})]}),A&&l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),l.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(A).map(([O,E])=>l.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[l.jsx("span",{className:"truncate max-w-[100px] font-medium",title:O,children:O}),l.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",E.mean.toFixed(2),", =",E.std.toFixed(2)]})]},O))})]})]})},S=()=>{const b=[];if(f&&f.metrics){const C=f.metrics,M=C.rows_removed,A=C.rows_total??C[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(M!==void 0&&A!==void 0&&A>0){const F=M/A;F>.2?b.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):F===0&&e.method!=="winsorize"&&b.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&b.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const k=[...c,...b];return k.length===0?null:l.jsx("div",{className:"mt-4",children:l.jsx(Ul,{recommendations:k})})};return l.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${v?"overflow-hidden":"overflow-y-auto"}`,children:[l.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!o&&l.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),l.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${v?"grid grid-cols-2":"flex flex-col"}`,children:[l.jsxs("div",{className:`space-y-4 ${v?"overflow-y-auto pr-2":"shrink-0"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),l.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:b=>t({...e,method:b.target.value}),children:[l.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),l.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),l.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),l.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),l.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:b=>t({...e,multiplier:parseFloat(b.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),l.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:b=>t({...e,threshold:parseFloat(b.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:b=>t({...e,lower_percentile:parseFloat(b.target.value)})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),l.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:b=>t({...e,upper_percentile:parseFloat(b.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),l.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:b=>t({...e,contamination:parseFloat(b.target.value)})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),v&&l.jsxs(l.Fragment,{children:[l.jsx(N,{}),l.jsx(S,{})]})]}),l.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${v?"":"shrink-0"}`,children:[l.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:p,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),l.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),l.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:w,onChange:b=>_(b.target.value)})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:g.length>0?g.map(b=>l.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:e.columns.includes(b),onChange:k=>{const C=k.target.checked?[...e.columns,b]:e.columns.filter(M=>M!==b);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),l.jsx("span",{className:"truncate",title:b,children:b})]},b)):l.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:u?"Loading schema...":m.length===0?"No numeric columns found":"No matches found"})})]}),!v&&l.jsxs(l.Fragment,{children:[l.jsx(N,{}),l.jsx(S,{})]})]})]})},x3={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:LT,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:y3,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},v3=()=>{Se.register($M),Se.register(UM),Se.register(WM),Se.register(qM),Se.register(KM),Se.register(x3),Se.register(g3),Se.register(t3),Se.register(r3),Se.register(i3),Se.register(a3),Se.register(u3),Se.register(f3),Se.register(p3),Se.register(GM),Se.register(JM),console.log("[Registry] Initialization complete. Total nodes:",Se.getAll().length)};v3();const w3=new jN;Du.createRoot(document.getElementById("root")).render(l.jsx(Lt.StrictMode,{children:l.jsx(CN,{client:w3,children:l.jsx(zM,{})})}));
