var W3=Object.defineProperty;var K1=e=>{throw TypeError(e)};var K3=(e,t,r)=>t in e?W3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bl=(e,t,r)=>K3(e,typeof t!="symbol"?t+"":t,r),gg=(e,t,r)=>t.has(e)||K1("Cannot "+r);var z=(e,t,r)=>(gg(e,t,"read from private field"),r?r.call(e):t.get(e)),he=(e,t,r)=>t.has(e)?K1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(gg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(gg(e,t,"access private method"),r);var kd=(e,t,r,n)=>({set _(a){se(e,t,a,r)},get _(){return z(e,t,n)}});function q3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nE={exports:{}},Eh={},aE={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),Y3=Symbol.for("react.portal"),G3=Symbol.for("react.fragment"),X3=Symbol.for("react.strict_mode"),Q3=Symbol.for("react.profiler"),Z3=Symbol.for("react.provider"),J3=Symbol.for("react.context"),eR=Symbol.for("react.forward_ref"),tR=Symbol.for("react.suspense"),rR=Symbol.for("react.memo"),nR=Symbol.for("react.lazy"),q1=Symbol.iterator;function aR(e){return e===null||typeof e!="object"?null:(e=q1&&e[q1]||e["@@iterator"],typeof e=="function"?e:null)}var sE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iE=Object.assign,oE={};function wl(e,t,r){this.props=e,this.context=t,this.refs=oE,this.updater=r||sE}wl.prototype.isReactComponent={};wl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lE(){}lE.prototype=wl.prototype;function lv(e,t,r){this.props=e,this.context=t,this.refs=oE,this.updater=r||sE}var cv=lv.prototype=new lE;cv.constructor=lv;iE(cv,wl.prototype);cv.isPureReactComponent=!0;var Y1=Array.isArray,cE=Object.prototype.hasOwnProperty,uv={current:null},uE={key:!0,ref:!0,__self:!0,__source:!0};function dE(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)cE.call(t,n)&&!uE.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Su,type:e,key:s,ref:o,props:a,_owner:uv.current}}function sR(e,t){return{$$typeof:Su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Su}function iR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var G1=/\/+/g;function yg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iR(""+e.key):t.toString(36)}function bf(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Su:case Y3:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+yg(o,0):n,Y1(a)?(r="",e!=null&&(r=e.replace(G1,"$&/")+"/"),bf(a,t,r,"",function(u){return u})):a!=null&&(dv(a)&&(a=sR(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(G1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Y1(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+yg(s,l);o+=bf(s,t,r,c,a)}else if(c=aR(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+yg(s,l++),o+=bf(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nd(e,t,r){if(e==null)return e;var n=[],a=0;return bf(e,n,"","",function(s){return t.call(r,s,a++)}),n}function oR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lr={current:null},wf={transition:null},lR={ReactCurrentDispatcher:lr,ReactCurrentBatchConfig:wf,ReactCurrentOwner:uv};function fE(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Nd,forEach:function(e,t,r){Nd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Nd(e,function(){t++}),t},toArray:function(e){return Nd(e,function(t){return t})||[]},only:function(e){if(!dv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=wl;ve.Fragment=G3;ve.Profiler=Q3;ve.PureComponent=lv;ve.StrictMode=X3;ve.Suspense=tR;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;ve.act=fE;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=iE({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=uv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cE.call(t,c)&&!uE.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Su,type:e.type,key:a,ref:s,props:n,_owner:o}};ve.createContext=function(e){return e={$$typeof:J3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z3,_context:e},e.Consumer=e};ve.createElement=dE;ve.createFactory=function(e){var t=dE.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:eR,render:e}};ve.isValidElement=dv;ve.lazy=function(e){return{$$typeof:nR,_payload:{_status:-1,_result:e},_init:oR}};ve.memo=function(e,t){return{$$typeof:rR,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=wf.transition;wf.transition={};try{e()}finally{wf.transition=t}};ve.unstable_act=fE;ve.useCallback=function(e,t){return lr.current.useCallback(e,t)};ve.useContext=function(e){return lr.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return lr.current.useDeferredValue(e)};ve.useEffect=function(e,t){return lr.current.useEffect(e,t)};ve.useId=function(){return lr.current.useId()};ve.useImperativeHandle=function(e,t,r){return lr.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return lr.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return lr.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return lr.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return lr.current.useReducer(e,t,r)};ve.useRef=function(e){return lr.current.useRef(e)};ve.useState=function(e){return lr.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return lr.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return lr.current.useTransition()};ve.version="18.3.1";aE.exports=ve;var g=aE.exports;const Ir=ia(g),cR=q3({__proto__:null,default:Ir},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR=g,dR=Symbol.for("react.element"),fR=Symbol.for("react.fragment"),mR=Object.prototype.hasOwnProperty,hR=uR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pR={key:!0,ref:!0,__self:!0,__source:!0};function mE(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mR.call(t,n)&&!pR.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:dR,type:e,key:s,ref:o,props:a,_owner:hR.current}}Eh.Fragment=fR;Eh.jsx=mE;Eh.jsxs=mE;nE.exports=Eh;var i=nE.exports,A0={},hE={exports:{}},Vr={},pE={exports:{}},gE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,P){var $=I.length;I.push(P);e:for(;0<$;){var F=$-1>>>1,H=I[F];if(0<a(H,P))I[F]=P,I[$]=H,$=F;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var P=I[0],$=I.pop();if($!==P){I[0]=$;e:for(var F=0,H=I.length,B=H>>>1;F<B;){var Y=2*(F+1)-1,X=I[Y],Q=Y+1,G=I[Q];if(0>a(X,$))Q<H&&0>a(G,X)?(I[F]=G,I[Q]=$,F=Q):(I[F]=X,I[Y]=$,F=Y);else if(Q<H&&0>a(G,$))I[F]=G,I[Q]=$,F=Q;else break e}}return P}function a(I,P){var $=I.sortIndex-P.sortIndex;return $!==0?$:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=I)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(I){if(x=!1,b(I),!p)if(r(c)!==null)p=!0,D(k);else{var P=r(u);P!==null&&R(j,P.startTime-I)}}function k(I,P){p=!1,x&&(x=!1,y(S),S=-1),h=!0;var $=m;try{for(b(P),f=r(c);f!==null&&(!(f.expirationTime>P)||I&&!E());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var H=F(f.expirationTime<=P);P=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(c)&&n(c),b(P)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var Y=r(u);Y!==null&&R(j,Y.startTime-P),B=!1}return B}finally{f=null,m=$,h=!1}}var N=!1,_=null,S=-1,C=5,T=-1;function E(){return!(e.unstable_now()-T<C)}function O(){if(_!==null){var I=e.unstable_now();T=I;var P=!0;try{P=_(!0,I)}finally{P?M():(N=!1,_=null)}}else N=!1}var M;if(typeof w=="function")M=function(){w(O)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=O,M=function(){L.postMessage(null)}}else M=function(){v(O,0)};function D(I){_=I,N||(N=!0,M())}function R(I,P){S=v(function(){I(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,D(k))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var $=m;m=P;try{return I()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var $=m;m=I;try{return P()}finally{m=$}},e.unstable_scheduleCallback=function(I,P,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,I={id:d++,callback:P,priorityLevel:I,startTime:$,expirationTime:H,sortIndex:-1},$>F?(I.sortIndex=$,t(u,I),r(c)===null&&I===r(u)&&(x?(y(S),S=-1):x=!0,R(j,$-F))):(I.sortIndex=H,t(c,I),p||h||(p=!0,D(k))),I},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(I){var P=m;return function(){var $=m;m=P;try{return I.apply(this,arguments)}finally{m=$}}}})(gE);pE.exports=gE;var gR=pE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=g,zr=gR;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yE=new Set,Ac={};function Wi(e,t){qo(e,t),qo(e+"Capture",t)}function qo(e,t){for(Ac[e]=t,e=0;e<t.length;e++)yE.add(t[e])}var Aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T0=Object.prototype.hasOwnProperty,xR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X1={},Q1={};function vR(e){return T0.call(Q1,e)?!0:T0.call(X1,e)?!1:xR.test(e)?Q1[e]=!0:(X1[e]=!0,!1)}function bR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wR(e,t,r,n){if(t===null||typeof t>"u"||bR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cr(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new cr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new cr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new cr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new cr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new cr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new cr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new cr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new cr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new cr(e,5,!1,e.toLowerCase(),null,!1,!1)});var fv=/[\-:]([a-z])/g;function mv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fv,mv);Vt[t]=new cr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fv,mv);Vt[t]=new cr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fv,mv);Vt[t]=new cr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new cr(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new cr(e,1,!1,e.toLowerCase(),null,!0,!0)});function hv(e,t,r,n){var a=Vt.hasOwnProperty(t)?Vt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wR(t,r,a,n)&&(r=null),n||a===null?vR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Va=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sd=Symbol.for("react.element"),so=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),M0=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),vE=Symbol.for("react.context"),gv=Symbol.for("react.forward_ref"),I0=Symbol.for("react.suspense"),D0=Symbol.for("react.suspense_list"),yv=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),bE=Symbol.for("react.offscreen"),Z1=Symbol.iterator;function Ul(e){return e===null||typeof e!="object"?null:(e=Z1&&e[Z1]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,xg;function cc(e){if(xg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xg=t&&t[1]||""}return`
`+xg+e}var vg=!1;function bg(e,t){if(!e||vg)return"";vg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{vg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cc(e):""}function jR(e){switch(e.tag){case 5:return cc(e.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return e=bg(e.type,!1),e;case 11:return e=bg(e.type.render,!1),e;case 1:return e=bg(e.type,!0),e;default:return""}}function R0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case io:return"Fragment";case so:return"Portal";case M0:return"Profiler";case pv:return"StrictMode";case I0:return"Suspense";case D0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vE:return(e.displayName||"Context")+".Consumer";case xE:return(e._context.displayName||"Context")+".Provider";case gv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yv:return t=e.displayName||null,t!==null?t:R0(e.type)||"Memo";case as:t=e._payload,e=e._init;try{return R0(e(t))}catch{}}return null}function kR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R0(t);case 8:return t===pv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NR(e){var t=wE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _d(e){e._valueTracker||(e._valueTracker=NR(e))}function jE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function L0(e,t){var r=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function J1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Is(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kE(e,t){t=t.checked,t!=null&&hv(e,"checked",t,!1)}function $0(e,t){kE(e,t);var r=Is(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?z0(e,t.type,r):t.hasOwnProperty("defaultValue")&&z0(e,t.type,Is(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ej(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function z0(e,t,r){(t!=="number"||Yf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var uc=Array.isArray;function _o(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Is(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function F0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(uc(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Is(r)}}function NE(e,t){var r=Is(t.value),n=Is(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function rj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function SE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?SE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ed,_E=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ed.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SR=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(e){SR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vc[t]=vc[e]})});function EE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vc.hasOwnProperty(e)&&vc[e]?(""+t).trim():t+"px"}function CE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=EE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var _R=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U0(e,t){if(t){if(_R[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function H0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=null;function xv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W0=null,Eo=null,Co=null;function nj(e){if(e=Cu(e)){if(typeof W0!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Th(t),W0(e.stateNode,e.type,t))}}function PE(e){Eo?Co?Co.push(e):Co=[e]:Eo=e}function OE(){if(Eo){var e=Eo,t=Co;if(Co=Eo=null,nj(e),t)for(e=0;e<t.length;e++)nj(t[e])}}function AE(e,t){return e(t)}function TE(){}var wg=!1;function ME(e,t,r){if(wg)return e(t,r);wg=!0;try{return AE(e,t,r)}finally{wg=!1,(Eo!==null||Co!==null)&&(TE(),OE())}}function Mc(e,t){var r=e.stateNode;if(r===null)return null;var n=Th(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var K0=!1;if(Aa)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){K0=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{K0=!1}function ER(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var bc=!1,Gf=null,Xf=!1,q0=null,CR={onError:function(e){bc=!0,Gf=e}};function PR(e,t,r,n,a,s,o,l,c){bc=!1,Gf=null,ER.apply(CR,arguments)}function OR(e,t,r,n,a,s,o,l,c){if(PR.apply(this,arguments),bc){if(bc){var u=Gf;bc=!1,Gf=null}else throw Error(J(198));Xf||(Xf=!0,q0=u)}}function Ki(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function IE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aj(e){if(Ki(e)!==e)throw Error(J(188))}function AR(e){var t=e.alternate;if(!t){if(t=Ki(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return aj(a),e;if(s===n)return aj(a),t;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function DE(e){return e=AR(e),e!==null?RE(e):null}function RE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=RE(e);if(t!==null)return t;e=e.sibling}return null}var LE=zr.unstable_scheduleCallback,sj=zr.unstable_cancelCallback,TR=zr.unstable_shouldYield,MR=zr.unstable_requestPaint,lt=zr.unstable_now,IR=zr.unstable_getCurrentPriorityLevel,vv=zr.unstable_ImmediatePriority,$E=zr.unstable_UserBlockingPriority,Qf=zr.unstable_NormalPriority,DR=zr.unstable_LowPriority,zE=zr.unstable_IdlePriority,Ch=null,Gn=null;function RR(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Ch,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:zR,LR=Math.log,$R=Math.LN2;function zR(e){return e>>>=0,e===0?32:31-(LR(e)/$R|0)|0}var Cd=64,Pd=4194304;function dc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=dc(l):(s&=o,s!==0&&(n=dc(s)))}else o=r&~a,o!==0?n=dc(o):s!==0&&(n=dc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-On(t),a=1<<r,n|=e[r],t&=~a;return n}function FR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-On(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=FR(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Y0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function FE(){var e=Cd;return Cd<<=1,!(Cd&4194240)&&(Cd=64),e}function jg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _u(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=r}function UR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-On(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function bv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-On(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Te=0;function BE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var UE,wv,HE,VE,WE,G0=!1,Od=[],ks=null,Ns=null,Ss=null,Ic=new Map,Dc=new Map,ls=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ij(e,t){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(t.pointerId)}}function Vl(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Cu(t),t!==null&&wv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function VR(e,t,r,n,a){switch(t){case"focusin":return ks=Vl(ks,e,t,r,n,a),!0;case"dragenter":return Ns=Vl(Ns,e,t,r,n,a),!0;case"mouseover":return Ss=Vl(Ss,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ic.set(s,Vl(Ic.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Dc.set(s,Vl(Dc.get(s)||null,e,t,r,n,a)),!0}return!1}function KE(e){var t=ni(e.target);if(t!==null){var r=Ki(t);if(r!==null){if(t=r.tag,t===13){if(t=IE(r),t!==null){e.blockedOn=t,WE(e.priority,function(){HE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=X0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);V0=n,r.target.dispatchEvent(n),V0=null}else return t=Cu(r),t!==null&&wv(t),e.blockedOn=r,!1;t.shift()}return!0}function oj(e,t,r){jf(e)&&r.delete(t)}function WR(){G0=!1,ks!==null&&jf(ks)&&(ks=null),Ns!==null&&jf(Ns)&&(Ns=null),Ss!==null&&jf(Ss)&&(Ss=null),Ic.forEach(oj),Dc.forEach(oj)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,G0||(G0=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,WR)))}function Rc(e){function t(a){return Wl(a,e)}if(0<Od.length){Wl(Od[0],e);for(var r=1;r<Od.length;r++){var n=Od[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ks!==null&&Wl(ks,e),Ns!==null&&Wl(Ns,e),Ss!==null&&Wl(Ss,e),Ic.forEach(t),Dc.forEach(t),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)KE(r),r.blockedOn===null&&ls.shift()}var Po=Va.ReactCurrentBatchConfig,Jf=!0;function KR(e,t,r,n){var a=Te,s=Po.transition;Po.transition=null;try{Te=1,jv(e,t,r,n)}finally{Te=a,Po.transition=s}}function qR(e,t,r,n){var a=Te,s=Po.transition;Po.transition=null;try{Te=4,jv(e,t,r,n)}finally{Te=a,Po.transition=s}}function jv(e,t,r,n){if(Jf){var a=X0(e,t,r,n);if(a===null)Tg(e,t,n,em,r),ij(e,n);else if(VR(a,e,t,r,n))n.stopPropagation();else if(ij(e,n),t&4&&-1<HR.indexOf(e)){for(;a!==null;){var s=Cu(a);if(s!==null&&UE(s),s=X0(e,t,r,n),s===null&&Tg(e,t,n,em,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Tg(e,t,n,null,r)}}var em=null;function X0(e,t,r,n){if(em=null,e=xv(n),e=ni(e),e!==null)if(t=Ki(e),t===null)e=null;else if(r=t.tag,r===13){if(e=IE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return em=e,null}function qE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IR()){case vv:return 1;case $E:return 4;case Qf:case DR:return 16;case zE:return 536870912;default:return 16}default:return 16}}var bs=null,kv=null,kf=null;function YE(){if(kf)return kf;var e,t=kv,r=t.length,n,a="value"in bs?bs.value:bs.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return kf=a.slice(e,1<n?1-n:void 0)}function Nf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ad(){return!0}function lj(){return!1}function Wr(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ad:lj,this.isPropagationStopped=lj,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nv=Wr(jl),Eu=tt({},jl,{view:0,detail:0}),YR=Wr(Eu),kg,Ng,Kl,Ph=tt({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(kg=e.screenX-Kl.screenX,Ng=e.screenY-Kl.screenY):Ng=kg=0,Kl=e),kg)},movementY:function(e){return"movementY"in e?e.movementY:Ng}}),cj=Wr(Ph),GR=tt({},Ph,{dataTransfer:0}),XR=Wr(GR),QR=tt({},Eu,{relatedTarget:0}),Sg=Wr(QR),ZR=tt({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),JR=Wr(ZR),eL=tt({},jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tL=Wr(eL),rL=tt({},jl,{data:0}),uj=Wr(rL),nL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sL[e])?!!t[e]:!1}function Sv(){return iL}var oL=tt({},Eu,{key:function(e){if(e.key){var t=nL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sv,charCode:function(e){return e.type==="keypress"?Nf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lL=Wr(oL),cL=tt({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dj=Wr(cL),uL=tt({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sv}),dL=Wr(uL),fL=tt({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mL=Wr(fL),hL=tt({},Ph,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pL=Wr(hL),gL=[9,13,27,32],_v=Aa&&"CompositionEvent"in window,wc=null;Aa&&"documentMode"in document&&(wc=document.documentMode);var yL=Aa&&"TextEvent"in window&&!wc,GE=Aa&&(!_v||wc&&8<wc&&11>=wc),fj=" ",mj=!1;function XE(e,t){switch(e){case"keyup":return gL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oo=!1;function xL(e,t){switch(e){case"compositionend":return QE(t);case"keypress":return t.which!==32?null:(mj=!0,fj);case"textInput":return e=t.data,e===fj&&mj?null:e;default:return null}}function vL(e,t){if(oo)return e==="compositionend"||!_v&&XE(e,t)?(e=YE(),kf=kv=bs=null,oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GE&&t.locale!=="ko"?null:t.data;default:return null}}var bL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bL[e.type]:t==="textarea"}function ZE(e,t,r,n){PE(n),t=tm(t,"onChange"),0<t.length&&(r=new Nv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jc=null,Lc=null;function wL(e){cC(e,0)}function Oh(e){var t=uo(e);if(jE(t))return e}function jL(e,t){if(e==="change")return t}var JE=!1;if(Aa){var _g;if(Aa){var Eg="oninput"in document;if(!Eg){var pj=document.createElement("div");pj.setAttribute("oninput","return;"),Eg=typeof pj.oninput=="function"}_g=Eg}else _g=!1;JE=_g&&(!document.documentMode||9<document.documentMode)}function gj(){jc&&(jc.detachEvent("onpropertychange",eC),Lc=jc=null)}function eC(e){if(e.propertyName==="value"&&Oh(Lc)){var t=[];ZE(t,Lc,e,xv(e)),ME(wL,t)}}function kL(e,t,r){e==="focusin"?(gj(),jc=t,Lc=r,jc.attachEvent("onpropertychange",eC)):e==="focusout"&&gj()}function NL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oh(Lc)}function SL(e,t){if(e==="click")return Oh(t)}function _L(e,t){if(e==="input"||e==="change")return Oh(t)}function EL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:EL;function $c(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!T0.call(t,a)||!Mn(e[a],t[a]))return!1}return!0}function yj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xj(e,t){var r=yj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yj(r)}}function tC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rC(){for(var e=window,t=Yf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yf(e.document)}return t}function Ev(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CL(e){var t=rC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&tC(r.ownerDocument.documentElement,r)){if(n!==null&&Ev(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=xj(r,s);var o=xj(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PL=Aa&&"documentMode"in document&&11>=document.documentMode,lo=null,Q0=null,kc=null,Z0=!1;function vj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Z0||lo==null||lo!==Yf(n)||(n=lo,"selectionStart"in n&&Ev(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kc&&$c(kc,n)||(kc=n,n=tm(Q0,"onSelect"),0<n.length&&(t=new Nv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=lo)))}function Td(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var co={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Cg={},nC={};Aa&&(nC=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Ah(e){if(Cg[e])return Cg[e];if(!co[e])return e;var t=co[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nC)return Cg[e]=t[r];return e}var aC=Ah("animationend"),sC=Ah("animationiteration"),iC=Ah("animationstart"),oC=Ah("transitionend"),lC=new Map,bj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){lC.set(e,t),Wi(t,[e])}for(var Pg=0;Pg<bj.length;Pg++){var Og=bj[Pg],OL=Og.toLowerCase(),AL=Og[0].toUpperCase()+Og.slice(1);zs(OL,"on"+AL)}zs(aC,"onAnimationEnd");zs(sC,"onAnimationIteration");zs(iC,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(oC,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TL=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function wj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OR(n,t,void 0,e),e.currentTarget=null}function cC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;wj(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;wj(a,l,u),s=c}}}if(Xf)throw e=q0,Xf=!1,q0=null,e}function ze(e,t){var r=t[ny];r===void 0&&(r=t[ny]=new Set);var n=e+"__bubble";r.has(n)||(uC(t,e,2,!1),r.add(n))}function Ag(e,t,r){var n=0;t&&(n|=4),uC(r,e,n,t)}var Md="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Md]){e[Md]=!0,yE.forEach(function(r){r!=="selectionchange"&&(TL.has(r)||Ag(r,!1,e),Ag(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Md]||(t[Md]=!0,Ag("selectionchange",!1,t))}}function uC(e,t,r,n){switch(qE(t)){case 1:var a=KR;break;case 4:a=qR;break;default:a=jv}r=a.bind(null,t,r,e),a=void 0,!K0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Tg(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ni(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}ME(function(){var u=s,d=xv(r),f=[];e:{var m=lC.get(e);if(m!==void 0){var h=Nv,p=e;switch(e){case"keypress":if(Nf(r)===0)break e;case"keydown":case"keyup":h=lL;break;case"focusin":p="focus",h=Sg;break;case"focusout":p="blur",h=Sg;break;case"beforeblur":case"afterblur":h=Sg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=cj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=dL;break;case aC:case sC:case iC:h=JR;break;case oC:h=mL;break;case"scroll":h=YR;break;case"wheel":h=pL;break;case"copy":case"cut":case"paste":h=tL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dj}var x=(t&4)!==0,v=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Mc(w,y),j!=null&&x.push(Fc(w,j,b)))),v)break;w=w.return}0<x.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==V0&&(p=r.relatedTarget||r.fromElement)&&(ni(p)||p[Ta]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?ni(p):null,p!==null&&(v=Ki(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(x=cj,j="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=dj,j="onPointerLeave",y="onPointerEnter",w="pointer"),v=h==null?m:uo(h),b=p==null?m:uo(p),m=new x(j,w+"leave",h,r,d),m.target=v,m.relatedTarget=b,j=null,ni(d)===u&&(x=new x(y,w+"enter",p,r,d),x.target=b,x.relatedTarget=v,j=x),v=j,h&&p)t:{for(x=h,y=p,w=0,b=x;b;b=Zi(b))w++;for(b=0,j=y;j;j=Zi(j))b++;for(;0<w-b;)x=Zi(x),w--;for(;0<b-w;)y=Zi(y),b--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=Zi(x),y=Zi(y)}x=null}else x=null;h!==null&&jj(f,m,h,x,!1),p!==null&&v!==null&&jj(f,v,p,x,!0)}}e:{if(m=u?uo(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var k=jL;else if(hj(m))if(JE)k=_L;else{k=NL;var N=kL}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=SL);if(k&&(k=k(e,u))){ZE(f,k,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&z0(m,"number",m.value)}switch(N=u?uo(u):window,e){case"focusin":(hj(N)||N.contentEditable==="true")&&(lo=N,Q0=u,kc=null);break;case"focusout":kc=Q0=lo=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,vj(f,r,d);break;case"selectionchange":if(PL)break;case"keydown":case"keyup":vj(f,r,d)}var _;if(_v)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else oo?XE(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(GE&&r.locale!=="ko"&&(oo||S!=="onCompositionStart"?S==="onCompositionEnd"&&oo&&(_=YE()):(bs=d,kv="value"in bs?bs.value:bs.textContent,oo=!0)),N=tm(u,S),0<N.length&&(S=new uj(S,e,null,r,d),f.push({event:S,listeners:N}),_?S.data=_:(_=QE(r),_!==null&&(S.data=_)))),(_=yL?xL(e,r):vL(e,r))&&(u=tm(u,"onBeforeInput"),0<u.length&&(d=new uj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}cC(f,t)})}function Fc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Mc(e,r),s!=null&&n.unshift(Fc(e,s,a)),s=Mc(e,t),s!=null&&n.push(Fc(e,s,a))),e=e.return}return n}function Zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jj(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Mc(r,s),c!=null&&o.unshift(Fc(r,c,l))):a||(c=Mc(r,s),c!=null&&o.push(Fc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ML=/\r\n?/g,IL=/\u0000|\uFFFD/g;function kj(e){return(typeof e=="string"?e:""+e).replace(ML,`
`).replace(IL,"")}function Id(e,t,r){if(t=kj(t),kj(e)!==t&&r)throw Error(J(425))}function rm(){}var J0=null,ey=null;function ty(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ry=typeof setTimeout=="function"?setTimeout:void 0,DL=typeof clearTimeout=="function"?clearTimeout:void 0,Nj=typeof Promise=="function"?Promise:void 0,RL=typeof queueMicrotask=="function"?queueMicrotask:typeof Nj<"u"?function(e){return Nj.resolve(null).then(e).catch(LL)}:ry;function LL(e){setTimeout(function(){throw e})}function Mg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Rc(t)}function _s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var kl=Math.random().toString(36).slice(2),qn="__reactFiber$"+kl,Bc="__reactProps$"+kl,Ta="__reactContainer$"+kl,ny="__reactEvents$"+kl,$L="__reactListeners$"+kl,zL="__reactHandles$"+kl;function ni(e){var t=e[qn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ta]||r[qn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Sj(e);e!==null;){if(r=e[qn])return r;e=Sj(e)}return t}e=r,r=e.parentNode}return null}function Cu(e){return e=e[qn]||e[Ta],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Th(e){return e[Bc]||null}var ay=[],fo=-1;function Fs(e){return{current:e}}function Be(e){0>fo||(e.current=ay[fo],ay[fo]=null,fo--)}function $e(e,t){fo++,ay[fo]=e.current,e.current=t}var Ds={},Qt=Fs(Ds),jr=Fs(!1),Ci=Ds;function Yo(e,t){var r=e.type.contextTypes;if(!r)return Ds;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function kr(e){return e=e.childContextTypes,e!=null}function nm(){Be(jr),Be(Qt)}function _j(e,t,r){if(Qt.current!==Ds)throw Error(J(168));$e(Qt,t),$e(jr,r)}function dC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(J(108,kR(e)||"Unknown",a));return tt({},r,n)}function am(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,Ci=Qt.current,$e(Qt,e),$e(jr,jr.current),!0}function Ej(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=dC(e,t,Ci),n.__reactInternalMemoizedMergedChildContext=e,Be(jr),Be(Qt),$e(Qt,e)):Be(jr),$e(jr,r)}var pa=null,Mh=!1,Ig=!1;function fC(e){pa===null?pa=[e]:pa.push(e)}function FL(e){Mh=!0,fC(e)}function Bs(){if(!Ig&&pa!==null){Ig=!0;var e=0,t=Te;try{var r=pa;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pa=null,Mh=!1}catch(a){throw pa!==null&&(pa=pa.slice(e+1)),LE(vv,Bs),a}finally{Te=t,Ig=!1}}return null}var mo=[],ho=0,sm=null,im=0,Jr=[],en=0,Pi=null,wa=1,ja="";function Xs(e,t){mo[ho++]=im,mo[ho++]=sm,sm=e,im=t}function mC(e,t,r){Jr[en++]=wa,Jr[en++]=ja,Jr[en++]=Pi,Pi=e;var n=wa;e=ja;var a=32-On(n)-1;n&=~(1<<a),r+=1;var s=32-On(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,wa=1<<32-On(t)+a|r<<a|n,ja=s+e}else wa=1<<s|r<<a|n,ja=e}function Cv(e){e.return!==null&&(Xs(e,1),mC(e,1,0))}function Pv(e){for(;e===sm;)sm=mo[--ho],mo[ho]=null,im=mo[--ho],mo[ho]=null;for(;e===Pi;)Pi=Jr[--en],Jr[en]=null,ja=Jr[--en],Jr[en]=null,wa=Jr[--en],Jr[en]=null}var Lr=null,Dr=null,We=!1,jn=null;function hC(e,t){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lr=e,Dr=_s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lr=e,Dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pi!==null?{id:wa,overflow:ja}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Lr=e,Dr=null,!0):!1;default:return!1}}function sy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iy(e){if(We){var t=Dr;if(t){var r=t;if(!Cj(e,t)){if(sy(e))throw Error(J(418));t=_s(r.nextSibling);var n=Lr;t&&Cj(e,t)?hC(n,r):(e.flags=e.flags&-4097|2,We=!1,Lr=e)}}else{if(sy(e))throw Error(J(418));e.flags=e.flags&-4097|2,We=!1,Lr=e}}}function Pj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lr=e}function Dd(e){if(e!==Lr)return!1;if(!We)return Pj(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ty(e.type,e.memoizedProps)),t&&(t=Dr)){if(sy(e))throw pC(),Error(J(418));for(;t;)hC(e,t),t=_s(t.nextSibling)}if(Pj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dr=_s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dr=null}}else Dr=Lr?_s(e.stateNode.nextSibling):null;return!0}function pC(){for(var e=Dr;e;)e=_s(e.nextSibling)}function Go(){Dr=Lr=null,We=!1}function Ov(e){jn===null?jn=[e]:jn.push(e)}var BL=Va.ReactCurrentBatchConfig;function ql(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Rd(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Oj(e){var t=e._init;return t(e._payload)}function gC(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=Os(y,w),y.index=0,y.sibling=null,y}function s(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,j){return w===null||w.tag!==6?(w=Bg(b,y.mode,j),w.return=y,w):(w=a(w,b),w.return=y,w)}function c(y,w,b,j){var k=b.type;return k===io?d(y,w,b.props.children,j,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===as&&Oj(k)===w.type)?(j=a(w,b.props),j.ref=ql(y,w,b),j.return=y,j):(j=Af(b.type,b.key,b.props,null,y.mode,j),j.ref=ql(y,w,b),j.return=y,j)}function u(y,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Ug(b,y.mode,j),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function d(y,w,b,j,k){return w===null||w.tag!==7?(w=ji(b,y.mode,j,k),w.return=y,w):(w=a(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bg(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sd:return b=Af(w.type,w.key,w.props,null,y.mode,b),b.ref=ql(y,null,w),b.return=y,b;case so:return w=Ug(w,y.mode,b),w.return=y,w;case as:var j=w._init;return f(y,j(w._payload),b)}if(uc(w)||Ul(w))return w=ji(w,y.mode,b,null),w.return=y,w;Rd(y,w)}return null}function m(y,w,b,j){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:l(y,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sd:return b.key===k?c(y,w,b,j):null;case so:return b.key===k?u(y,w,b,j):null;case as:return k=b._init,m(y,w,k(b._payload),j)}if(uc(b)||Ul(b))return k!==null?null:d(y,w,b,j,null);Rd(y,b)}return null}function h(y,w,b,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(w,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Sd:return y=y.get(j.key===null?b:j.key)||null,c(w,y,j,k);case so:return y=y.get(j.key===null?b:j.key)||null,u(w,y,j,k);case as:var N=j._init;return h(y,w,b,N(j._payload),k)}if(uc(j)||Ul(j))return y=y.get(b)||null,d(w,y,j,k,null);Rd(w,j)}return null}function p(y,w,b,j){for(var k=null,N=null,_=w,S=w=0,C=null;_!==null&&S<b.length;S++){_.index>S?(C=_,_=null):C=_.sibling;var T=m(y,_,b[S],j);if(T===null){_===null&&(_=C);break}e&&_&&T.alternate===null&&t(y,_),w=s(T,w,S),N===null?k=T:N.sibling=T,N=T,_=C}if(S===b.length)return r(y,_),We&&Xs(y,S),k;if(_===null){for(;S<b.length;S++)_=f(y,b[S],j),_!==null&&(w=s(_,w,S),N===null?k=_:N.sibling=_,N=_);return We&&Xs(y,S),k}for(_=n(y,_);S<b.length;S++)C=h(_,y,S,b[S],j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),w=s(C,w,S),N===null?k=C:N.sibling=C,N=C);return e&&_.forEach(function(E){return t(y,E)}),We&&Xs(y,S),k}function x(y,w,b,j){var k=Ul(b);if(typeof k!="function")throw Error(J(150));if(b=k.call(b),b==null)throw Error(J(151));for(var N=k=null,_=w,S=w=0,C=null,T=b.next();_!==null&&!T.done;S++,T=b.next()){_.index>S?(C=_,_=null):C=_.sibling;var E=m(y,_,T.value,j);if(E===null){_===null&&(_=C);break}e&&_&&E.alternate===null&&t(y,_),w=s(E,w,S),N===null?k=E:N.sibling=E,N=E,_=C}if(T.done)return r(y,_),We&&Xs(y,S),k;if(_===null){for(;!T.done;S++,T=b.next())T=f(y,T.value,j),T!==null&&(w=s(T,w,S),N===null?k=T:N.sibling=T,N=T);return We&&Xs(y,S),k}for(_=n(y,_);!T.done;S++,T=b.next())T=h(_,y,S,T.value,j),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?S:T.key),w=s(T,w,S),N===null?k=T:N.sibling=T,N=T);return e&&_.forEach(function(O){return t(y,O)}),We&&Xs(y,S),k}function v(y,w,b,j){if(typeof b=="object"&&b!==null&&b.type===io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Sd:e:{for(var k=b.key,N=w;N!==null;){if(N.key===k){if(k=b.type,k===io){if(N.tag===7){r(y,N.sibling),w=a(N,b.props.children),w.return=y,y=w;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===as&&Oj(k)===N.type){r(y,N.sibling),w=a(N,b.props),w.ref=ql(y,N,b),w.return=y,y=w;break e}r(y,N);break}else t(y,N);N=N.sibling}b.type===io?(w=ji(b.props.children,y.mode,j,b.key),w.return=y,y=w):(j=Af(b.type,b.key,b.props,null,y.mode,j),j.ref=ql(y,w,b),j.return=y,y=j)}return o(y);case so:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=Ug(b,y.mode,j),w.return=y,y=w}return o(y);case as:return N=b._init,v(y,w,N(b._payload),j)}if(uc(b))return p(y,w,b,j);if(Ul(b))return x(y,w,b,j);Rd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=Bg(b,y.mode,j),w.return=y,y=w),o(y)):r(y,w)}return v}var Xo=gC(!0),yC=gC(!1),om=Fs(null),lm=null,po=null,Av=null;function Tv(){Av=po=lm=null}function Mv(e){var t=om.current;Be(om),e._currentValue=t}function oy(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oo(e,t){lm=e,Av=po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xr=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(Av!==e)if(e={context:e,memoizedValue:t,next:null},po===null){if(lm===null)throw Error(J(308));po=e,lm.dependencies={lanes:0,firstContext:e}}else po=po.next=e;return t}var ai=null;function Iv(e){ai===null?ai=[e]:ai.push(e)}function xC(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Iv(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ma(e,n)}function Ma(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ss=!1;function Dv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Es(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ma(e,r)}return a=n.interleaved,a===null?(t.next=t,Iv(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ma(e,r)}function Sf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bv(e,r)}}function Aj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cm(e,t,r,n){var a=e.updateQueue;ss=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(m=t,h=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=tt({},f,m);break e;case 2:ss=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Ai|=o,e.lanes=o,e.memoizedState=f}}function Tj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(J(191,a));a.call(n)}}}var Pu={},Xn=Fs(Pu),Uc=Fs(Pu),Hc=Fs(Pu);function si(e){if(e===Pu)throw Error(J(174));return e}function Rv(e,t){switch($e(Hc,t),$e(Uc,e),$e(Xn,Pu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:B0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=B0(t,e)}Be(Xn),$e(Xn,t)}function Qo(){Be(Xn),Be(Uc),Be(Hc)}function bC(e){si(Hc.current);var t=si(Xn.current),r=B0(t,e.type);t!==r&&($e(Uc,e),$e(Xn,r))}function Lv(e){Uc.current===e&&(Be(Xn),Be(Uc))}var Qe=Fs(0);function um(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dg=[];function $v(){for(var e=0;e<Dg.length;e++)Dg[e]._workInProgressVersionPrimary=null;Dg.length=0}var _f=Va.ReactCurrentDispatcher,Rg=Va.ReactCurrentBatchConfig,Oi=0,Ze=null,yt=null,At=null,dm=!1,Nc=!1,Vc=0,UL=0;function Wt(){throw Error(J(321))}function zv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mn(e[r],t[r]))return!1;return!0}function Fv(e,t,r,n,a,s){if(Oi=s,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_f.current=e===null||e.memoizedState===null?KL:qL,e=r(n,a),Nc){s=0;do{if(Nc=!1,Vc=0,25<=s)throw Error(J(301));s+=1,At=yt=null,t.updateQueue=null,_f.current=YL,e=r(n,a)}while(Nc)}if(_f.current=fm,t=yt!==null&&yt.next!==null,Oi=0,At=yt=Ze=null,dm=!1,t)throw Error(J(300));return e}function Bv(){var e=Vc!==0;return Vc=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ze.memoizedState=At=e:At=At.next=e,At}function on(){if(yt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=At===null?Ze.memoizedState:At.next;if(t!==null)At=t,yt=e;else{if(e===null)throw Error(J(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?Ze.memoizedState=At=e:At=At.next=e}return At}function Wc(e,t){return typeof t=="function"?t(e):t}function Lg(e){var t=on(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=yt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Oi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ze.lanes|=d,Ai|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Mn(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Ze.lanes|=s,Ai|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $g(e){var t=on(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Mn(s,t.memoizedState)||(xr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function wC(){}function jC(e,t){var r=Ze,n=on(),a=t(),s=!Mn(n.memoizedState,a);if(s&&(n.memoizedState=a,xr=!0),n=n.queue,Uv(SC.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Kc(9,NC.bind(null,r,n,a,t),void 0,null),Mt===null)throw Error(J(349));Oi&30||kC(r,t,a)}return a}function kC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function NC(e,t,r,n){t.value=r,t.getSnapshot=n,_C(t)&&EC(e)}function SC(e,t,r){return r(function(){_C(t)&&EC(e)})}function _C(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mn(e,r)}catch{return!0}}function EC(e){var t=Ma(e,1);t!==null&&An(t,e,1,-1)}function Mj(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:e},t.queue=e,e=e.dispatch=WL.bind(null,Ze,e),[t.memoizedState,e]}function Kc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function CC(){return on().memoizedState}function Ef(e,t,r,n){var a=Un();Ze.flags|=e,a.memoizedState=Kc(1|t,r,void 0,n===void 0?null:n)}function Ih(e,t,r,n){var a=on();n=n===void 0?null:n;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,n!==null&&zv(n,o.deps)){a.memoizedState=Kc(t,r,s,n);return}}Ze.flags|=e,a.memoizedState=Kc(1|t,r,s,n)}function Ij(e,t){return Ef(8390656,8,e,t)}function Uv(e,t){return Ih(2048,8,e,t)}function PC(e,t){return Ih(4,2,e,t)}function OC(e,t){return Ih(4,4,e,t)}function AC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TC(e,t,r){return r=r!=null?r.concat([e]):null,Ih(4,4,AC.bind(null,t,e),r)}function Hv(){}function MC(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function IC(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function DC(e,t,r){return Oi&21?(Mn(r,t)||(r=FE(),Ze.lanes|=r,Ai|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r)}function HL(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=Rg.transition;Rg.transition={};try{e(!1),t()}finally{Te=r,Rg.transition=n}}function RC(){return on().memoizedState}function VL(e,t,r){var n=Ps(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},LC(e))$C(t,r);else if(r=xC(e,t,r,n),r!==null){var a=ir();An(r,e,n,a),zC(r,t,n)}}function WL(e,t,r){var n=Ps(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(LC(e))$C(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Mn(l,o)){var c=t.interleaved;c===null?(a.next=a,Iv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=xC(e,t,a,n),r!==null&&(a=ir(),An(r,e,n,a),zC(r,t,n))}}function LC(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function $C(e,t){Nc=dm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bv(e,r)}}var fm={readContext:sn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},KL={readContext:sn,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:Ij,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ef(4194308,4,AC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ef(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ef(4,2,e,t)},useMemo:function(e,t){var r=Un();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Un();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=VL.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:Mj,useDebugValue:Hv,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=Mj(!1),t=e[0];return e=HL.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,a=Un();if(We){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),Mt===null)throw Error(J(349));Oi&30||kC(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Ij(SC.bind(null,n,s,e),[e]),n.flags|=2048,Kc(9,NC.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Un(),t=Mt.identifierPrefix;if(We){var r=ja,n=wa;r=(n&~(1<<32-On(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=UL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qL={readContext:sn,useCallback:MC,useContext:sn,useEffect:Uv,useImperativeHandle:TC,useInsertionEffect:PC,useLayoutEffect:OC,useMemo:IC,useReducer:Lg,useRef:CC,useState:function(){return Lg(Wc)},useDebugValue:Hv,useDeferredValue:function(e){var t=on();return DC(t,yt.memoizedState,e)},useTransition:function(){var e=Lg(Wc)[0],t=on().memoizedState;return[e,t]},useMutableSource:wC,useSyncExternalStore:jC,useId:RC,unstable_isNewReconciler:!1},YL={readContext:sn,useCallback:MC,useContext:sn,useEffect:Uv,useImperativeHandle:TC,useInsertionEffect:PC,useLayoutEffect:OC,useMemo:IC,useReducer:$g,useRef:CC,useState:function(){return $g(Wc)},useDebugValue:Hv,useDeferredValue:function(e){var t=on();return yt===null?t.memoizedState=e:DC(t,yt.memoizedState,e)},useTransition:function(){var e=$g(Wc)[0],t=on().memoizedState;return[e,t]},useMutableSource:wC,useSyncExternalStore:jC,useId:RC,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ly(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dh={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ir(),a=Ps(e),s=_a(n,a);s.payload=t,r!=null&&(s.callback=r),t=Es(e,s,a),t!==null&&(An(t,e,a,n),Sf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ir(),a=Ps(e),s=_a(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Es(e,s,a),t!==null&&(An(t,e,a,n),Sf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ir(),n=Ps(e),a=_a(r,n);a.tag=2,t!=null&&(a.callback=t),t=Es(e,a,n),t!==null&&(An(t,e,n,r),Sf(t,e,n))}};function Dj(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!$c(r,n)||!$c(a,s):!0}function FC(e,t,r){var n=!1,a=Ds,s=t.contextType;return typeof s=="object"&&s!==null?s=sn(s):(a=kr(t)?Ci:Qt.current,n=t.contextTypes,s=(n=n!=null)?Yo(e,a):Ds),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Rj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dh.enqueueReplaceState(t,t.state,null)}function cy(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Dv(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=sn(s):(s=kr(t)?Ci:Qt.current,a.context=Yo(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ly(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dh.enqueueReplaceState(a,a.state,null),cm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var r="",n=t;do r+=jR(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function zg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GL=typeof WeakMap=="function"?WeakMap:Map;function BC(e,t,r){r=_a(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hm||(hm=!0,by=n),uy(e,t)},r}function UC(e,t,r){r=_a(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uy(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){uy(e,t),typeof n!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Lj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=c$.bind(null,e,t,r),t.then(e,e))}function $j(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_a(-1,1),t.tag=2,Es(r,t,1))),r.lanes|=1),e)}var XL=Va.ReactCurrentOwner,xr=!1;function rr(e,t,r,n){t.child=e===null?yC(t,null,r,n):Xo(t,e.child,r,n)}function Fj(e,t,r,n,a){r=r.render;var s=t.ref;return Oo(t,a),n=Fv(e,t,r,n,s,a),r=Bv(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ia(e,t,a)):(We&&r&&Cv(t),t.flags|=1,rr(e,t,n,a),t.child)}function Bj(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Qv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,HC(e,t,s,n,a)):(e=Af(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:$c,r(o,n)&&e.ref===t.ref)return Ia(e,t,a)}return t.flags|=1,e=Os(s,n),e.ref=t.ref,e.return=t,t.child=e}function HC(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if($c(s,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(xr=!0);else return t.lanes=e.lanes,Ia(e,t,a)}return dy(e,t,r,n,a)}function VC(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(yo,Or),Or|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(yo,Or),Or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,$e(yo,Or),Or|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,$e(yo,Or),Or|=n;return rr(e,t,a,r),t.child}function WC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dy(e,t,r,n,a){var s=kr(r)?Ci:Qt.current;return s=Yo(t,s),Oo(t,a),r=Fv(e,t,r,n,s,a),n=Bv(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ia(e,t,a)):(We&&n&&Cv(t),t.flags|=1,rr(e,t,r,a),t.child)}function Uj(e,t,r,n,a){if(kr(r)){var s=!0;am(t)}else s=!1;if(Oo(t,a),t.stateNode===null)Cf(e,t),FC(t,r,n),cy(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=kr(r)?Ci:Qt.current,u=Yo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Rj(t,o,n,u),ss=!1;var m=t.memoizedState;o.state=m,cm(t,n,o,a),c=t.memoizedState,l!==n||m!==c||jr.current||ss?(typeof d=="function"&&(ly(t,r,d,n),c=t.memoizedState),(l=ss||Dj(t,r,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,vC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yn(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=sn(c):(c=kr(r)?Ci:Qt.current,c=Yo(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Rj(t,o,n,c),ss=!1,m=t.memoizedState,o.state=m,cm(t,n,o,a);var p=t.memoizedState;l!==f||m!==p||jr.current||ss?(typeof h=="function"&&(ly(t,r,h,n),p=t.memoizedState),(u=ss||Dj(t,r,u,n,m,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return fy(e,t,r,n,s,a)}function fy(e,t,r,n,a,s){WC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Ej(t,r,!1),Ia(e,t,s);n=t.stateNode,XL.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xo(t,e.child,null,s),t.child=Xo(t,null,l,s)):rr(e,t,l,s),t.memoizedState=n.state,a&&Ej(t,r,!0),t.child}function KC(e){var t=e.stateNode;t.pendingContext?_j(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_j(e,t.context,!1),Rv(e,t.containerInfo)}function Hj(e,t,r,n,a){return Go(),Ov(a),t.flags|=256,rr(e,t,r,n),t.child}var my={dehydrated:null,treeContext:null,retryLane:0};function hy(e){return{baseLanes:e,cachePool:null,transitions:null}}function qC(e,t,r){var n=t.pendingProps,a=Qe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$e(Qe,a&1),e===null)return iy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$h(o,n,0,null),e=ji(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=hy(r),t.memoizedState=my,e):Vv(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return QL(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Os(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Os(l,s):(s=ji(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?hy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=my,n}return s=e.child,e=s.sibling,n=Os(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vv(e,t){return t=$h({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ld(e,t,r,n){return n!==null&&Ov(n),Xo(t,e.child,null,r),e=Vv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QL(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=zg(Error(J(422))),Ld(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=$h({mode:"visible",children:n.children},a,0,null),s=ji(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Xo(t,e.child,null,o),t.child.memoizedState=hy(o),t.memoizedState=my,s);if(!(t.mode&1))return Ld(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(J(419)),n=zg(s,n,void 0),Ld(e,t,o,n)}if(l=(o&e.childLanes)!==0,xr||l){if(n=Mt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ma(e,a),An(n,e,a,-1))}return Xv(),n=zg(Error(J(421))),Ld(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=u$.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Dr=_s(a.nextSibling),Lr=t,We=!0,jn=null,e!==null&&(Jr[en++]=wa,Jr[en++]=ja,Jr[en++]=Pi,wa=e.id,ja=e.overflow,Pi=t),t=Vv(t,n.children),t.flags|=4096,t)}function Vj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oy(e.return,t,r)}function Fg(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function YC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(rr(e,t,n.children,r),n=Qe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vj(e,r,t);else if(e.tag===19)Vj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Qe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&um(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Fg(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&um(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Fg(t,!0,r,null,s);break;case"together":Fg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ia(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ai|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=Os(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Os(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ZL(e,t,r){switch(t.tag){case 3:KC(t),Go();break;case 5:bC(t);break;case 1:kr(t.type)&&am(t);break;case 4:Rv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;$e(om,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($e(Qe,Qe.current&1),t.flags|=128,null):r&t.child.childLanes?qC(e,t,r):($e(Qe,Qe.current&1),e=Ia(e,t,r),e!==null?e.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return YC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$e(Qe,Qe.current),n)break;return null;case 22:case 23:return t.lanes=0,VC(e,t,r)}return Ia(e,t,r)}var GC,py,XC,QC;GC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};py=function(){};XC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,si(Xn.current);var s=null;switch(r){case"input":a=L0(e,a),n=L0(e,n),s=[];break;case"select":a=tt({},a,{value:void 0}),n=tt({},n,{value:void 0}),s=[];break;case"textarea":a=F0(e,a),n=F0(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rm)}U0(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ac.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};QC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yl(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function JL(e,t,r){var n=t.pendingProps;switch(Pv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return kr(t.type)&&nm(),Kt(t),null;case 3:return n=t.stateNode,Qo(),Be(jr),Be(Qt),$v(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Dd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jn!==null&&(ky(jn),jn=null))),py(e,t),Kt(t),null;case 5:Lv(t);var a=si(Hc.current);if(r=t.type,e!==null&&t.stateNode!=null)XC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return Kt(t),null}if(e=si(Xn.current),Dd(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[qn]=t,n[Bc]=s,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<fc.length;a++)ze(fc[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":J1(n,s),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ze("invalid",n);break;case"textarea":tj(n,s),ze("invalid",n)}U0(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Id(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Id(n.textContent,l,e),a=["children",""+l]):Ac.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ze("scroll",n)}switch(r){case"input":_d(n),ej(n,s,!0);break;case"textarea":_d(n),rj(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=rm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=SE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[qn]=t,e[Bc]=n,GC(e,t,!1,!1),t.stateNode=e;e:{switch(o=H0(r,n),r){case"dialog":ze("cancel",e),ze("close",e),a=n;break;case"iframe":case"object":case"embed":ze("load",e),a=n;break;case"video":case"audio":for(a=0;a<fc.length;a++)ze(fc[a],e);a=n;break;case"source":ze("error",e),a=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),a=n;break;case"details":ze("toggle",e),a=n;break;case"input":J1(e,n),a=L0(e,n),ze("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=tt({},n,{value:void 0}),ze("invalid",e);break;case"textarea":tj(e,n),a=F0(e,n),ze("invalid",e);break;default:a=n}U0(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?CE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_E(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Tc(e,c):typeof c=="number"&&Tc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ac.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&hv(e,s,c,o))}switch(r){case"input":_d(e),ej(e,n,!1);break;case"textarea":_d(e),rj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Is(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?_o(e,!!n.multiple,s,!1):n.defaultValue!=null&&_o(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=rm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)QC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=si(Hc.current),si(Xn.current),Dd(t)){if(n=t.stateNode,r=t.memoizedProps,n[qn]=t,(s=n.nodeValue!==r)&&(e=Lr,e!==null))switch(e.tag){case 3:Id(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Id(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qn]=t,t.stateNode=n}return Kt(t),null;case 13:if(Be(Qe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Dr!==null&&t.mode&1&&!(t.flags&128))pC(),Go(),t.flags|=98560,s=!1;else if(s=Dd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(J(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[qn]=t}else Go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),s=!1}else jn!==null&&(ky(jn),jn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?vt===0&&(vt=3):Xv())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return Qo(),py(e,t),e===null&&zc(t.stateNode.containerInfo),Kt(t),null;case 10:return Mv(t.type._context),Kt(t),null;case 17:return kr(t.type)&&nm(),Kt(t),null;case 19:if(Be(Qe),s=t.memoizedState,s===null)return Kt(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Yl(s,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=um(e),o!==null){for(t.flags|=128,Yl(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Qe,Qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&lt()>Jo&&(t.flags|=128,n=!0,Yl(s,!1),t.lanes=4194304)}else{if(!n)if(e=um(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Kt(t),null}else 2*lt()-s.renderingStartTime>Jo&&r!==1073741824&&(t.flags|=128,n=!0,Yl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=lt(),t.sibling=null,r=Qe.current,$e(Qe,n?r&1|2:r&1),t):(Kt(t),null);case 22:case 23:return Gv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Or&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function e$(e,t){switch(Pv(t),t.tag){case 1:return kr(t.type)&&nm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qo(),Be(jr),Be(Qt),$v(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lv(t),null;case 13:if(Be(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Qe),null;case 4:return Qo(),null;case 10:return Mv(t.type._context),null;case 22:case 23:return Gv(),null;case 24:return null;default:return null}}var $d=!1,Yt=!1,t$=typeof WeakSet=="function"?WeakSet:Set,ie=null;function go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(e,t,n)}else r.current=null}function gy(e,t,r){try{r()}catch(n){at(e,t,n)}}var Wj=!1;function r$(e,t){if(J0=Jf,e=rC(),Ev(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===a&&(l=o),m===s&&++d===n&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ey={focusedElem:e,selectionRange:r},Jf=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:yn(t.type,x),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(j){at(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return p=Wj,Wj=!1,p}function Sc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&gy(t,r,s)}a=a.next}while(a!==n)}}function Rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function yy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ZC(e){var t=e.alternate;t!==null&&(e.alternate=null,ZC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qn],delete t[Bc],delete t[ny],delete t[$L],delete t[zL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JC(e){return e.tag===5||e.tag===3||e.tag===4}function Kj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rm));else if(n!==4&&(e=e.child,e!==null))for(xy(e,t,r),e=e.sibling;e!==null;)xy(e,t,r),e=e.sibling}function vy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vy(e,t,r),e=e.sibling;e!==null;)vy(e,t,r),e=e.sibling}var Ft=null,bn=!1;function Za(e,t,r){for(r=r.child;r!==null;)eP(e,t,r),r=r.sibling}function eP(e,t,r){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Ch,r)}catch{}switch(r.tag){case 5:Yt||go(r,t);case 6:var n=Ft,a=bn;Ft=null,Za(e,t,r),Ft=n,bn=a,Ft!==null&&(bn?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(bn?(e=Ft,r=r.stateNode,e.nodeType===8?Mg(e.parentNode,r):e.nodeType===1&&Mg(e,r),Rc(e)):Mg(Ft,r.stateNode));break;case 4:n=Ft,a=bn,Ft=r.stateNode.containerInfo,bn=!0,Za(e,t,r),Ft=n,bn=a;break;case 0:case 11:case 14:case 15:if(!Yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gy(r,t,o),a=a.next}while(a!==n)}Za(e,t,r);break;case 1:if(!Yt&&(go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){at(r,t,l)}Za(e,t,r);break;case 21:Za(e,t,r);break;case 22:r.mode&1?(Yt=(n=Yt)||r.memoizedState!==null,Za(e,t,r),Yt=n):Za(e,t,r);break;default:Za(e,t,r)}}function qj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new t$),t.forEach(function(n){var a=d$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function gn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ft=l.stateNode,bn=!1;break e;case 3:Ft=l.stateNode.containerInfo,bn=!0;break e;case 4:Ft=l.stateNode.containerInfo,bn=!0;break e}l=l.return}if(Ft===null)throw Error(J(160));eP(s,o,a),Ft=null,bn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){at(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tP(t,e),t=t.sibling}function tP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(t,e),Fn(e),n&4){try{Sc(3,e,e.return),Rh(3,e)}catch(x){at(e,e.return,x)}try{Sc(5,e,e.return)}catch(x){at(e,e.return,x)}}break;case 1:gn(t,e),Fn(e),n&512&&r!==null&&go(r,r.return);break;case 5:if(gn(t,e),Fn(e),n&512&&r!==null&&go(r,r.return),e.flags&32){var a=e.stateNode;try{Tc(a,"")}catch(x){at(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&kE(a,s),H0(l,o);var u=H0(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?CE(a,f):d==="dangerouslySetInnerHTML"?_E(a,f):d==="children"?Tc(a,f):hv(a,d,f,u)}switch(l){case"input":$0(a,s);break;case"textarea":NE(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?_o(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?_o(a,!!s.multiple,s.defaultValue,!0):_o(a,!!s.multiple,s.multiple?[]:"",!1))}a[Bc]=s}catch(x){at(e,e.return,x)}}break;case 6:if(gn(t,e),Fn(e),n&4){if(e.stateNode===null)throw Error(J(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){at(e,e.return,x)}}break;case 3:if(gn(t,e),Fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rc(t.containerInfo)}catch(x){at(e,e.return,x)}break;case 4:gn(t,e),Fn(e);break;case 13:gn(t,e),Fn(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(qv=lt())),n&4&&qj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||d,gn(t,e),Yt=u):gn(t,e),Fn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(m=ie,h=m.child,m.tag){case 0:case 11:case 14:case 15:Sc(4,m,m.return);break;case 1:go(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){at(n,r,x)}}break;case 5:go(m,m.return);break;case 22:if(m.memoizedState!==null){Gj(f);continue}}h!==null?(h.return=m,ie=h):Gj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EE("display",o))}catch(x){at(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){at(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(t,e),Fn(e),n&4&&qj(e);break;case 21:break;default:gn(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(JC(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Tc(a,""),n.flags&=-33);var s=Kj(e);vy(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Kj(e);xy(e,l,o);break;default:throw Error(J(161))}}catch(c){at(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n$(e,t,r){ie=e,rP(e)}function rP(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var a=ie,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||$d;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=$d;var u=Yt;if($d=o,(Yt=c)&&!u)for(ie=a;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?Xj(a):c!==null?(c.return=o,ie=c):Xj(a);for(;s!==null;)ie=s,rP(s),s=s.sibling;ie=a,$d=l,Yt=u}Yj(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ie=s):Yj(e)}}function Yj(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:yn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Tj(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tj(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Yt||t.flags&512&&yy(t)}catch(m){at(t,t.return,m)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Gj(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Xj(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rh(4,t)}catch(c){at(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){at(t,a,c)}}var s=t.return;try{yy(t)}catch(c){at(t,s,c)}break;case 5:var o=t.return;try{yy(t)}catch(c){at(t,o,c)}}}catch(c){at(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var a$=Math.ceil,mm=Va.ReactCurrentDispatcher,Wv=Va.ReactCurrentOwner,nn=Va.ReactCurrentBatchConfig,Ne=0,Mt=null,dt=null,Ht=0,Or=0,yo=Fs(0),vt=0,qc=null,Ai=0,Lh=0,Kv=0,_c=null,yr=null,qv=0,Jo=1/0,ha=null,hm=!1,by=null,Cs=null,zd=!1,ws=null,pm=0,Ec=0,wy=null,Pf=-1,Of=0;function ir(){return Ne&6?lt():Pf!==-1?Pf:Pf=lt()}function Ps(e){return e.mode&1?Ne&2&&Ht!==0?Ht&-Ht:BL.transition!==null?(Of===0&&(Of=FE()),Of):(e=Te,e!==0||(e=window.event,e=e===void 0?16:qE(e.type)),e):1}function An(e,t,r,n){if(50<Ec)throw Ec=0,wy=null,Error(J(185));_u(e,r,n),(!(Ne&2)||e!==Mt)&&(e===Mt&&(!(Ne&2)&&(Lh|=r),vt===4&&cs(e,Ht)),Nr(e,n),r===1&&Ne===0&&!(t.mode&1)&&(Jo=lt()+500,Mh&&Bs()))}function Nr(e,t){var r=e.callbackNode;BR(e,t);var n=Zf(e,e===Mt?Ht:0);if(n===0)r!==null&&sj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sj(r),t===1)e.tag===0?FL(Qj.bind(null,e)):fC(Qj.bind(null,e)),RL(function(){!(Ne&6)&&Bs()}),r=null;else{switch(BE(n)){case 1:r=vv;break;case 4:r=$E;break;case 16:r=Qf;break;case 536870912:r=zE;break;default:r=Qf}r=uP(r,nP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nP(e,t){if(Pf=-1,Of=0,Ne&6)throw Error(J(327));var r=e.callbackNode;if(Ao()&&e.callbackNode!==r)return null;var n=Zf(e,e===Mt?Ht:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gm(e,n);else{t=n;var a=Ne;Ne|=2;var s=sP();(Mt!==e||Ht!==t)&&(ha=null,Jo=lt()+500,wi(e,t));do try{o$();break}catch(l){aP(e,l)}while(!0);Tv(),mm.current=s,Ne=a,dt!==null?t=0:(Mt=null,Ht=0,t=vt)}if(t!==0){if(t===2&&(a=Y0(e),a!==0&&(n=a,t=jy(e,a))),t===1)throw r=qc,wi(e,0),cs(e,n),Nr(e,lt()),r;if(t===6)cs(e,n);else{if(a=e.current.alternate,!(n&30)&&!s$(a)&&(t=gm(e,n),t===2&&(s=Y0(e),s!==0&&(n=s,t=jy(e,s))),t===1))throw r=qc,wi(e,0),cs(e,n),Nr(e,lt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:Qs(e,yr,ha);break;case 3:if(cs(e,n),(n&130023424)===n&&(t=qv+500-lt(),10<t)){if(Zf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ir(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ry(Qs.bind(null,e,yr,ha),t);break}Qs(e,yr,ha);break;case 4:if(cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-On(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*a$(n/1960))-n,10<n){e.timeoutHandle=ry(Qs.bind(null,e,yr,ha),n);break}Qs(e,yr,ha);break;case 5:Qs(e,yr,ha);break;default:throw Error(J(329))}}}return Nr(e,lt()),e.callbackNode===r?nP.bind(null,e):null}function jy(e,t){var r=_c;return e.current.memoizedState.isDehydrated&&(wi(e,t).flags|=256),e=gm(e,t),e!==2&&(t=yr,yr=r,t!==null&&ky(t)),e}function ky(e){yr===null?yr=e:yr.push.apply(yr,e)}function s$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Mn(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~Kv,t&=~Lh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-On(t),n=1<<r;e[r]=-1,t&=~n}}function Qj(e){if(Ne&6)throw Error(J(327));Ao();var t=Zf(e,0);if(!(t&1))return Nr(e,lt()),null;var r=gm(e,t);if(e.tag!==0&&r===2){var n=Y0(e);n!==0&&(t=n,r=jy(e,n))}if(r===1)throw r=qc,wi(e,0),cs(e,t),Nr(e,lt()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,yr,ha),Nr(e,lt()),null}function Yv(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Jo=lt()+500,Mh&&Bs())}}function Ti(e){ws!==null&&ws.tag===0&&!(Ne&6)&&Ao();var t=Ne;Ne|=1;var r=nn.transition,n=Te;try{if(nn.transition=null,Te=1,e)return e()}finally{Te=n,nn.transition=r,Ne=t,!(Ne&6)&&Bs()}}function Gv(){Or=yo.current,Be(yo)}function wi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,DL(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(Pv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nm();break;case 3:Qo(),Be(jr),Be(Qt),$v();break;case 5:Lv(n);break;case 4:Qo();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:Mv(n.type._context);break;case 22:case 23:Gv()}r=r.return}if(Mt=e,dt=e=Os(e.current,null),Ht=Or=t,vt=0,qc=null,Kv=Lh=Ai=0,yr=_c=null,ai!==null){for(t=0;t<ai.length;t++)if(r=ai[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}ai=null}return e}function aP(e,t){do{var r=dt;try{if(Tv(),_f.current=fm,dm){for(var n=Ze.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}dm=!1}if(Oi=0,At=yt=Ze=null,Nc=!1,Vc=0,Wv.current=null,r===null||r.return===null){vt=1,qc=t,dt=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Ht,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=$j(o);if(h!==null){h.flags&=-257,zj(h,o,l,s,t),h.mode&1&&Lj(s,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Lj(s,u,t),Xv();break e}c=Error(J(426))}}else if(We&&l.mode&1){var v=$j(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),zj(v,o,l,s,t),Ov(Zo(c,l));break e}}s=c=Zo(c,l),vt!==4&&(vt=2),_c===null?_c=[s]:_c.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=BC(s,c,t);Aj(s,y);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Cs===null||!Cs.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=UC(s,l,t);Aj(s,j);break e}}s=s.return}while(s!==null)}oP(r)}catch(k){t=k,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function sP(){var e=mm.current;return mm.current=fm,e===null?fm:e}function Xv(){(vt===0||vt===3||vt===2)&&(vt=4),Mt===null||!(Ai&268435455)&&!(Lh&268435455)||cs(Mt,Ht)}function gm(e,t){var r=Ne;Ne|=2;var n=sP();(Mt!==e||Ht!==t)&&(ha=null,wi(e,t));do try{i$();break}catch(a){aP(e,a)}while(!0);if(Tv(),Ne=r,mm.current=n,dt!==null)throw Error(J(261));return Mt=null,Ht=0,vt}function i$(){for(;dt!==null;)iP(dt)}function o$(){for(;dt!==null&&!TR();)iP(dt)}function iP(e){var t=cP(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?oP(e):dt=t,Wv.current=null}function oP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=e$(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,dt=null;return}}else if(r=JL(r,t,Or),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);vt===0&&(vt=5)}function Qs(e,t,r){var n=Te,a=nn.transition;try{nn.transition=null,Te=1,l$(e,t,r,n)}finally{nn.transition=a,Te=n}return null}function l$(e,t,r,n){do Ao();while(ws!==null);if(Ne&6)throw Error(J(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(UR(e,s),e===Mt&&(dt=Mt=null,Ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zd||(zd=!0,uP(Qf,function(){return Ao(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=nn.transition,nn.transition=null;var o=Te;Te=1;var l=Ne;Ne|=4,Wv.current=null,r$(e,r),tP(r,e),CL(ey),Jf=!!J0,ey=J0=null,e.current=r,n$(r),MR(),Ne=l,Te=o,nn.transition=s}else e.current=r;if(zd&&(zd=!1,ws=e,pm=a),s=e.pendingLanes,s===0&&(Cs=null),RR(r.stateNode),Nr(e,lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(hm)throw hm=!1,e=by,by=null,e;return pm&1&&e.tag!==0&&Ao(),s=e.pendingLanes,s&1?e===wy?Ec++:(Ec=0,wy=e):Ec=0,Bs(),null}function Ao(){if(ws!==null){var e=BE(pm),t=nn.transition,r=Te;try{if(nn.transition=null,Te=16>e?16:e,ws===null)var n=!1;else{if(e=ws,ws=null,pm=0,Ne&6)throw Error(J(331));var a=Ne;for(Ne|=4,ie=e.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:Sc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var m=d.sibling,h=d.return;if(ZC(d),d===u){ie=null;break}if(m!==null){m.return=h,ie=m;break}ie=h}}}var p=s.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var w=e.current;for(ie=w;ie!==null;){o=ie;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ie=b;else e:for(o=w;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rh(9,l)}}catch(k){at(l,l.return,k)}if(l===o){ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ie=j;break e}ie=l.return}}if(Ne=a,Bs(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Ch,e)}catch{}n=!0}return n}finally{Te=r,nn.transition=t}}return!1}function Zj(e,t,r){t=Zo(r,t),t=BC(e,t,1),e=Es(e,t,1),t=ir(),e!==null&&(_u(e,1,t),Nr(e,t))}function at(e,t,r){if(e.tag===3)Zj(e,e,r);else for(;t!==null;){if(t.tag===3){Zj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cs===null||!Cs.has(n))){e=Zo(r,e),e=UC(t,e,1),t=Es(t,e,1),e=ir(),t!==null&&(_u(t,1,e),Nr(t,e));break}}t=t.return}}function c$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ir(),e.pingedLanes|=e.suspendedLanes&r,Mt===e&&(Ht&r)===r&&(vt===4||vt===3&&(Ht&130023424)===Ht&&500>lt()-qv?wi(e,0):Kv|=r),Nr(e,t)}function lP(e,t){t===0&&(e.mode&1?(t=Pd,Pd<<=1,!(Pd&130023424)&&(Pd=4194304)):t=1);var r=ir();e=Ma(e,t),e!==null&&(_u(e,t,r),Nr(e,r))}function u$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lP(e,r)}function d$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),lP(e,r)}var cP;cP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)xr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xr=!1,ZL(e,t,r);xr=!!(e.flags&131072)}else xr=!1,We&&t.flags&1048576&&mC(t,im,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cf(e,t),e=t.pendingProps;var a=Yo(t,Qt.current);Oo(t,r),a=Fv(null,t,n,e,a,r);var s=Bv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kr(n)?(s=!0,am(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Dv(t),a.updater=Dh,t.stateNode=a,a._reactInternals=t,cy(t,n,e,r),t=fy(null,t,n,!0,s,r)):(t.tag=0,We&&s&&Cv(t),rr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=m$(n),e=yn(n,e),a){case 0:t=dy(null,t,n,e,r);break e;case 1:t=Uj(null,t,n,e,r);break e;case 11:t=Fj(null,t,n,e,r);break e;case 14:t=Bj(null,t,n,yn(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),dy(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),Uj(e,t,n,a,r);case 3:e:{if(KC(t),e===null)throw Error(J(387));n=t.pendingProps,s=t.memoizedState,a=s.element,vC(e,t),cm(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Zo(Error(J(423)),t),t=Hj(e,t,n,r,a);break e}else if(n!==a){a=Zo(Error(J(424)),t),t=Hj(e,t,n,r,a);break e}else for(Dr=_s(t.stateNode.containerInfo.firstChild),Lr=t,We=!0,jn=null,r=yC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Go(),n===a){t=Ia(e,t,r);break e}rr(e,t,n,r)}t=t.child}return t;case 5:return bC(t),e===null&&iy(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,ty(n,a)?o=null:s!==null&&ty(n,s)&&(t.flags|=32),WC(e,t),rr(e,t,o,r),t.child;case 6:return e===null&&iy(t),null;case 13:return qC(e,t,r);case 4:return Rv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xo(t,null,n,r):rr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),Fj(e,t,n,a,r);case 7:return rr(e,t,t.pendingProps,r),t.child;case 8:return rr(e,t,t.pendingProps.children,r),t.child;case 12:return rr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,$e(om,n._currentValue),n._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===a.children&&!jr.current){t=Ia(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=_a(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),oy(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),oy(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Oo(t,r),a=sn(a),n=n(a),t.flags|=1,rr(e,t,n,r),t.child;case 14:return n=t.type,a=yn(n,t.pendingProps),a=yn(n.type,a),Bj(e,t,n,a,r);case 15:return HC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yn(n,a),Cf(e,t),t.tag=1,kr(n)?(e=!0,am(t)):e=!1,Oo(t,r),FC(t,n,a),cy(t,n,a,r),fy(null,t,n,!0,e,r);case 19:return YC(e,t,r);case 22:return VC(e,t,r)}throw Error(J(156,t.tag))};function uP(e,t){return LE(e,t)}function f$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,r,n){return new f$(e,t,r,n)}function Qv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m$(e){if(typeof e=="function")return Qv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gv)return 11;if(e===yv)return 14}return 2}function Os(e,t){var r=e.alternate;return r===null?(r=tn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Af(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")Qv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case io:return ji(r.children,a,s,t);case pv:o=8,a|=8;break;case M0:return e=tn(12,r,t,a|2),e.elementType=M0,e.lanes=s,e;case I0:return e=tn(13,r,t,a),e.elementType=I0,e.lanes=s,e;case D0:return e=tn(19,r,t,a),e.elementType=D0,e.lanes=s,e;case bE:return $h(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xE:o=10;break e;case vE:o=9;break e;case gv:o=11;break e;case yv:o=14;break e;case as:o=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=tn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function ji(e,t,r,n){return e=tn(7,e,n,t),e.lanes=r,e}function $h(e,t,r,n){return e=tn(22,e,n,t),e.elementType=bE,e.lanes=r,e.stateNode={isHidden:!1},e}function Bg(e,t,r){return e=tn(6,e,null,t),e.lanes=r,e}function Ug(e,t,r){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jg(0),this.expirationTimes=jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zv(e,t,r,n,a,s,o,l,c){return e=new h$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=tn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dv(s),e}function p$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dP(e){if(!e)return Ds;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(kr(r))return dC(e,r,t)}return t}function fP(e,t,r,n,a,s,o,l,c){return e=Zv(r,n,!0,e,a,s,o,l,c),e.context=dP(null),r=e.current,n=ir(),a=Ps(r),s=_a(n,a),s.callback=t??null,Es(r,s,a),e.current.lanes=a,_u(e,a,n),Nr(e,n),e}function zh(e,t,r,n){var a=t.current,s=ir(),o=Ps(a);return r=dP(r),t.context===null?t.context=r:t.pendingContext=r,t=_a(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Es(a,t,o),e!==null&&(An(e,a,o,s),Sf(e,a,o)),o}function ym(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Jv(e,t){Jj(e,t),(e=e.alternate)&&Jj(e,t)}function g$(){return null}var mP=typeof reportError=="function"?reportError:function(e){console.error(e)};function eb(e){this._internalRoot=e}Fh.prototype.render=eb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));zh(e,t,null,null)};Fh.prototype.unmount=eb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ti(function(){zh(null,e,null,null)}),t[Ta]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var t=VE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ls.length&&t!==0&&t<ls[r].priority;r++);ls.splice(r,0,e),r===0&&KE(e)}};function tb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ek(){}function y$(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=ym(o);s.call(u)}}var o=fP(t,n,e,0,null,!1,!1,"",ek);return e._reactRootContainer=o,e[Ta]=o.current,zc(e.nodeType===8?e.parentNode:e),Ti(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ym(c);l.call(u)}}var c=Zv(e,0,!1,null,null,!1,!1,"",ek);return e._reactRootContainer=c,e[Ta]=c.current,zc(e.nodeType===8?e.parentNode:e),Ti(function(){zh(t,c,r,n)}),c}function Uh(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=ym(o);l.call(c)}}zh(t,o,e,a)}else o=y$(r,t,e,a,n);return ym(o)}UE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dc(t.pendingLanes);r!==0&&(bv(t,r|1),Nr(t,lt()),!(Ne&6)&&(Jo=lt()+500,Bs()))}break;case 13:Ti(function(){var n=Ma(e,1);if(n!==null){var a=ir();An(n,e,1,a)}}),Jv(e,1)}};wv=function(e){if(e.tag===13){var t=Ma(e,134217728);if(t!==null){var r=ir();An(t,e,134217728,r)}Jv(e,134217728)}};HE=function(e){if(e.tag===13){var t=Ps(e),r=Ma(e,t);if(r!==null){var n=ir();An(r,e,t,n)}Jv(e,t)}};VE=function(){return Te};WE=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};W0=function(e,t,r){switch(t){case"input":if($0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Th(n);if(!a)throw Error(J(90));jE(n),$0(n,a)}}}break;case"textarea":NE(e,r);break;case"select":t=r.value,t!=null&&_o(e,!!r.multiple,t,!1)}};AE=Yv;TE=Ti;var x$={usingClientEntryPoint:!1,Events:[Cu,uo,Th,PE,OE,Yv]},Gl={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v$={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DE(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||g$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Ch=Fd.inject(v$),Gn=Fd}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x$;Vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tb(t))throw Error(J(200));return p$(e,t,null,r)};Vr.createRoot=function(e,t){if(!tb(e))throw Error(J(299));var r=!1,n="",a=mP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Zv(e,1,!1,null,null,r,!1,n,a),e[Ta]=t.current,zc(e.nodeType===8?e.parentNode:e),new eb(t)};Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=DE(t),e=e===null?null:e.stateNode,e};Vr.flushSync=function(e){return Ti(e)};Vr.hydrate=function(e,t,r){if(!Bh(t))throw Error(J(200));return Uh(null,e,t,!0,r)};Vr.hydrateRoot=function(e,t,r){if(!tb(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=mP;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fP(t,null,e,1,r??null,a,!1,s,o),e[Ta]=t.current,zc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Fh(t)};Vr.render=function(e,t,r){if(!Bh(t))throw Error(J(200));return Uh(null,e,t,!1,r)};Vr.unmountComponentAtNode=function(e){if(!Bh(e))throw Error(J(40));return e._reactRootContainer?(Ti(function(){Uh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ta]=null})}),!0):!1};Vr.unstable_batchedUpdates=Yv;Vr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bh(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Uh(e,t,r,!1,n)};Vr.version="18.3.1-next-f1338f8080-20240426";function hP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hP)}catch(e){console.error(e)}}hP(),hE.exports=Vr;var Ou=hE.exports,tk=Ou;A0.createRoot=tk.createRoot,A0.hydrateRoot=tk.hydrateRoot;var Au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},b$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},fs,ov,q_,w$=(q_=class{constructor(){he(this,fs,b$);he(this,ov,!1)}setTimeoutProvider(e){se(this,fs,e)}setTimeout(e,t){return z(this,fs).setTimeout(e,t)}clearTimeout(e){z(this,fs).clearTimeout(e)}setInterval(e,t){return z(this,fs).setInterval(e,t)}clearInterval(e){z(this,fs).clearInterval(e)}},fs=new WeakMap,ov=new WeakMap,q_),ii=new w$;function j$(e){setTimeout(e,0)}var Mi=typeof window>"u"||"Deno"in globalThis;function gr(){}function k$(e,t){return typeof e=="function"?e(t):e}function Ny(e){return typeof e=="number"&&e>=0&&e!==1/0}function pP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function As(e,t){return typeof e=="function"?e(t):e}function Zr(e,t){return typeof e=="function"?e(t):e}function rk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==rb(o,t.options))return!1}else if(!Gc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function nk(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Yc(t.options.mutationKey)!==Yc(s))return!1}else if(!Gc(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function rb(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yc)(e)}function Yc(e){return JSON.stringify(e,(t,r)=>_y(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Gc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Gc(e[r],t[r])):!1}var N$=Object.prototype.hasOwnProperty;function gP(e,t){if(e===t)return e;const r=ak(e)&&ak(t);if(!r&&!(_y(e)&&_y(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),o=s.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u],f=e[d],m=t[d];if(f===m){l[d]=f,(r?u<a:N$.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const h=gP(f,m);l[d]=h,h===f&&c++}return a===o&&c===a?e:l}function Sy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ak(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _y(e){if(!sk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!sk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sk(e){return Object.prototype.toString.call(e)==="[object Object]"}function S$(e){return new Promise(t=>{ii.setTimeout(t,e)})}function Ey(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?gP(e,t):t}function _$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function E$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var nb=Symbol();function yP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function C$(e,t){return typeof e=="function"?e(...t):!!e}var fi,ms,Do,Y_,P$=(Y_=class extends Au{constructor(){super();he(this,fi);he(this,ms);he(this,Do);se(this,Do,t=>{if(!Mi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,ms)||this.setEventListener(z(this,Do))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ms))==null||t.call(this),se(this,ms,void 0))}setEventListener(t){var r;se(this,Do,t),(r=z(this,ms))==null||r.call(this),se(this,ms,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,fi)!==t&&(se(this,fi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,fi)=="boolean"?z(this,fi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fi=new WeakMap,ms=new WeakMap,Do=new WeakMap,Y_),ab=new P$;function Cy(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var O$=j$;function A$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=O$;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Bt=A$(),Ro,hs,Lo,G_,T$=(G_=class extends Au{constructor(){super();he(this,Ro,!0);he(this,hs);he(this,Lo);se(this,Lo,t=>{if(!Mi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,hs)||this.setEventListener(z(this,Lo))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,hs))==null||t.call(this),se(this,hs,void 0))}setEventListener(t){var r;se(this,Lo,t),(r=z(this,hs))==null||r.call(this),se(this,hs,t(this.setOnline.bind(this)))}setOnline(t){z(this,Ro)!==t&&(se(this,Ro,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,Ro)}},Ro=new WeakMap,hs=new WeakMap,Lo=new WeakMap,G_),xm=new T$;function M$(e){return Math.min(1e3*2**e,3e4)}function xP(e){return(e??"online")==="online"?xm.isOnline():!0}var Py=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vP(e){let t=!1,r=0,n;const a=Cy(),s=()=>a.status!=="pending",o=x=>{var v;if(!s()){const y=new Py(x);m(y),(v=e.onCancel)==null||v.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>ab.isFocused()&&(e.networkMode==="always"||xm.isOnline())&&e.canRun(),d=()=>xP(e.networkMode)&&e.canRun(),f=x=>{s()||(n==null||n(),a.resolve(x))},m=x=>{s()||(n==null||n(),a.reject(x))},h=()=>new Promise(x=>{var v;n=y=>{(s()||u())&&x(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),p=()=>{if(s())return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(f).catch(y=>{var N;if(s())return;const w=e.retry??(Mi?0:3),b=e.retryDelay??M$,j=typeof b=="function"?b(r,y):b,k=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(t||!k){m(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),S$(j).then(()=>u()?void 0:h()).then(()=>{t?m(y):p()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():h().then(p),a)}}var mi,X_,bP=(X_=class{constructor(){he(this,mi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ny(this.gcTime)&&se(this,mi,ii.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mi?1/0:5*60*1e3))}clearGcTimeout(){z(this,mi)&&(ii.clearTimeout(z(this,mi)),se(this,mi,void 0))}},mi=new WeakMap,X_),hi,$o,Qr,pi,Pt,bu,gi,xn,ma,Q_,I$=(Q_=class extends bP{constructor(t){super();he(this,xn);he(this,hi);he(this,$o);he(this,Qr);he(this,pi);he(this,Pt);he(this,bu);he(this,gi);se(this,gi,!1),se(this,bu,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,pi,t.client),se(this,Qr,z(this,pi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,hi,ok(this.options)),this.state=t.state??z(this,hi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Pt))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,bu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ok(this.options);r.data!==void 0&&(this.setState(ik(r.data,r.dataUpdatedAt)),se(this,hi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Qr).remove(this)}setData(t,r){const n=Ey(this.state.data,t,this.options);return be(this,xn,ma).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,xn,ma).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,Pt))==null?void 0:n.promise;return(a=z(this,Pt))==null||a.cancel(t),r?r.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,hi))}isActive(){return this.observers.some(t=>Zr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>As(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!pP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,Pt)&&(z(this,gi)?z(this,Pt).cancel({revert:!0}):z(this,Pt).cancelRetry()),this.scheduleGc()),z(this,Qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,xn,ma).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,m,h,p,x,v,y,w,b;if(this.state.fetchStatus!=="idle"&&((c=z(this,Pt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Pt))return z(this,Pt).continueRetry(),z(this,Pt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(se(this,gi,!0),n.signal)})},s=()=>{const j=yP(this.options,r),N=(()=>{const _={client:z(this,pi),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return se(this,gi,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,pi),state:this.state,fetchFn:s};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),se(this,$o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&be(this,xn,ma).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),se(this,Pt,vP({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Py&&j.revert&&this.setState({...z(this,$o),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{be(this,xn,ma).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{be(this,xn,ma).call(this,{type:"pause"})},onContinue:()=>{be(this,xn,ma).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await z(this,Pt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(h=(m=z(this,Qr).config).onSuccess)==null||h.call(m,j,this),(x=(p=z(this,Qr).config).onSettled)==null||x.call(p,j,this.state.error,this),j}catch(j){if(j instanceof Py){if(j.silent)return z(this,Pt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw be(this,xn,ma).call(this,{type:"error",error:j}),(y=(v=z(this,Qr).config).onError)==null||y.call(v,j,this),(b=(w=z(this,Qr).config).onSettled)==null||b.call(w,this.state.data,j,this),j}finally{this.scheduleGc()}}},hi=new WeakMap,$o=new WeakMap,Qr=new WeakMap,pi=new WeakMap,Pt=new WeakMap,bu=new WeakMap,gi=new WeakMap,xn=new WeakSet,ma=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...wP(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...ik(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,$o,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Bt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Qr).notify({query:this,type:"updated",action:t})})},Q_);function wP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ik(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ok(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var hr,we,wu,er,yi,zo,ya,ps,ju,Fo,Bo,xi,vi,gs,Uo,Pe,mc,Oy,Ay,Ty,My,Iy,Dy,Ry,jP,Z_,D$=(Z_=class extends Au{constructor(t,r){super();he(this,Pe);he(this,hr);he(this,we);he(this,wu);he(this,er);he(this,yi);he(this,zo);he(this,ya);he(this,ps);he(this,ju);he(this,Fo);he(this,Bo);he(this,xi);he(this,vi);he(this,gs);he(this,Uo,new Set);this.options=r,se(this,hr,t),se(this,ps,null),se(this,ya,Cy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,we).addObserver(this),lk(z(this,we),this.options)?be(this,Pe,mc).call(this):this.updateResult(),be(this,Pe,My).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ly(z(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ly(z(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Pe,Iy).call(this),be(this,Pe,Dy).call(this),z(this,we).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,we);if(this.options=z(this,hr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zr(this.options.enabled,z(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Pe,Ry).call(this),z(this,we).setOptions(this.options),r._defaulted&&!Sy(this.options,r)&&z(this,hr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,we),observer:this});const a=this.hasListeners();a&&ck(z(this,we),n,this.options,r)&&be(this,Pe,mc).call(this),this.updateResult(),a&&(z(this,we)!==n||Zr(this.options.enabled,z(this,we))!==Zr(r.enabled,z(this,we))||As(this.options.staleTime,z(this,we))!==As(r.staleTime,z(this,we)))&&be(this,Pe,Oy).call(this);const s=be(this,Pe,Ay).call(this);a&&(z(this,we)!==n||Zr(this.options.enabled,z(this,we))!==Zr(r.enabled,z(this,we))||s!==z(this,gs))&&be(this,Pe,Ty).call(this,s)}getOptimisticResult(t){const r=z(this,hr).getQueryCache().build(z(this,hr),t),n=this.createResult(r,t);return L$(this,n)&&(se(this,er,n),se(this,zo,this.options),se(this,yi,z(this,we).state)),n}getCurrentResult(){return z(this,er)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,ya).status==="pending"&&z(this,ya).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,Uo).add(t)}getCurrentQuery(){return z(this,we)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,hr).defaultQueryOptions(t),n=z(this,hr).getQueryCache().build(z(this,hr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,Pe,mc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,er)))}createResult(t,r){var C;const n=z(this,we),a=this.options,s=z(this,er),o=z(this,yi),l=z(this,zo),u=t!==n?t.state:z(this,wu),{state:d}=t;let f={...d},m=!1,h;if(r._optimisticResults){const T=this.hasListeners(),E=!T&&lk(t,r),O=T&&ck(t,n,r,a);(E||O)&&(f={...f,...wP(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:x,status:v}=f;h=f.data;let y=!1;if(r.placeholderData!==void 0&&h===void 0&&v==="pending"){let T;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=s.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((C=z(this,Bo))==null?void 0:C.state.data,z(this,Bo)):r.placeholderData,T!==void 0&&(v="success",h=Ey(s==null?void 0:s.data,T,r),m=!0)}if(r.select&&h!==void 0&&!y)if(s&&h===(o==null?void 0:o.data)&&r.select===z(this,ju))h=z(this,Fo);else try{se(this,ju,r.select),h=r.select(h),h=Ey(s==null?void 0:s.data,h,r),se(this,Fo,h),se(this,ps,null)}catch(T){se(this,ps,T)}z(this,ps)&&(p=z(this,ps),h=z(this,Fo),x=Date.now(),v="error");const w=f.fetchStatus==="fetching",b=v==="pending",j=v==="error",k=b&&w,N=h!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:b,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&N,isStale:sb(t,r),refetch:this.refetch,promise:z(this,ya),isEnabled:Zr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=M=>{S.status==="error"?M.reject(S.error):S.data!==void 0&&M.resolve(S.data)},E=()=>{const M=se(this,ya,S.promise=Cy());T(M)},O=z(this,ya);switch(O.status){case"pending":t.queryHash===n.queryHash&&T(O);break;case"fulfilled":(S.status==="error"||S.data!==O.value)&&E();break;case"rejected":(S.status!=="error"||S.error!==O.reason)&&E();break}}return S}updateResult(){const t=z(this,er),r=this.createResult(z(this,we),this.options);if(se(this,yi,z(this,we).state),se(this,zo,this.options),z(this,yi).data!==void 0&&se(this,Bo,z(this,we)),Sy(r,t))return;se(this,er,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,Uo).size)return!0;const o=new Set(s??z(this,Uo));return this.options.throwOnError&&o.add("error"),Object.keys(z(this,er)).some(l=>{const c=l;return z(this,er)[c]!==t[c]&&o.has(c)})};be(this,Pe,jP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Pe,My).call(this)}},hr=new WeakMap,we=new WeakMap,wu=new WeakMap,er=new WeakMap,yi=new WeakMap,zo=new WeakMap,ya=new WeakMap,ps=new WeakMap,ju=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,xi=new WeakMap,vi=new WeakMap,gs=new WeakMap,Uo=new WeakMap,Pe=new WeakSet,mc=function(t){be(this,Pe,Ry).call(this);let r=z(this,we).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(gr)),r},Oy=function(){be(this,Pe,Iy).call(this);const t=As(this.options.staleTime,z(this,we));if(Mi||z(this,er).isStale||!Ny(t))return;const n=pP(z(this,er).dataUpdatedAt,t)+1;se(this,xi,ii.setTimeout(()=>{z(this,er).isStale||this.updateResult()},n))},Ay=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,we)):this.options.refetchInterval)??!1},Ty=function(t){be(this,Pe,Dy).call(this),se(this,gs,t),!(Mi||Zr(this.options.enabled,z(this,we))===!1||!Ny(z(this,gs))||z(this,gs)===0)&&se(this,vi,ii.setInterval(()=>{(this.options.refetchIntervalInBackground||ab.isFocused())&&be(this,Pe,mc).call(this)},z(this,gs)))},My=function(){be(this,Pe,Oy).call(this),be(this,Pe,Ty).call(this,be(this,Pe,Ay).call(this))},Iy=function(){z(this,xi)&&(ii.clearTimeout(z(this,xi)),se(this,xi,void 0))},Dy=function(){z(this,vi)&&(ii.clearInterval(z(this,vi)),se(this,vi,void 0))},Ry=function(){const t=z(this,hr).getQueryCache().build(z(this,hr),this.options);if(t===z(this,we))return;const r=z(this,we);se(this,we,t),se(this,wu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},jP=function(t){Bt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,er))}),z(this,hr).getQueryCache().notify({query:z(this,we),type:"observerResultsUpdated"})})},Z_);function R$(e,t){return Zr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function lk(e,t){return R$(e,t)||e.state.data!==void 0&&Ly(e,t,t.refetchOnMount)}function Ly(e,t,r){if(Zr(t.enabled,e)!==!1&&As(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sb(e,t)}return!1}function ck(e,t,r,n){return(e!==t||Zr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sb(e,r)}function sb(e,t){return Zr(t.enabled,e)!==!1&&e.isStaleByTime(As(t.staleTime,e))}function L$(e,t){return!Sy(e.getCurrentResult(),t)}function uk(e){return{onFetch:(t,r)=>{var d,f,m,h,p;const n=t.options,a=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},y=yP(t.options,t.fetchOptions),w=async(b,j,k)=>{if(x)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(E),E})(),S=await y(_),{maxPages:C}=t.options,T=k?E$:_$;return{pages:T(b.pages,S,C),pageParams:T(b.pageParams,j,C)}};if(a&&s.length){const b=a==="backward",j=b?$$:dk,k={pages:s,pageParams:o},N=j(n,k);l=await w(k,N,b)}else{const b=e??s.length;do{const j=c===0?o[0]??n.initialPageParam:dk(n,l);if(c>0&&j==null)break;l=await w(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function dk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function $$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ku,Hn,tr,bi,Vn,rs,J_,z$=(J_=class extends bP{constructor(t){super();he(this,Vn);he(this,ku);he(this,Hn);he(this,tr);he(this,bi);se(this,ku,t.client),this.mutationId=t.mutationId,se(this,tr,t.mutationCache),se(this,Hn,[]),this.state=t.state||F$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Hn).includes(t)||(z(this,Hn).push(t),this.clearGcTimeout(),z(this,tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Hn,z(this,Hn).filter(r=>r!==t)),this.scheduleGc(),z(this,tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Hn).length||(this.state.status==="pending"?this.scheduleGc():z(this,tr).remove(this))}continue(){var t;return((t=z(this,bi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,h,p,x,v,y,w,b,j,k,N,_,S,C;const r=()=>{be(this,Vn,rs).call(this,{type:"continue"})},n={client:z(this,ku),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,bi,vP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,E)=>{be(this,Vn,rs).call(this,{type:"failed",failureCount:T,error:E})},onPause:()=>{be(this,Vn,rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,tr).canRun(this)}));const a=this.state.status==="pending",s=!z(this,bi).canStart();try{if(a)r();else{be(this,Vn,rs).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(o=z(this,tr).config).onMutate)==null?void 0:l.call(o,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&be(this,Vn,rs).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const T=await z(this,bi).start();return await((f=(d=z(this,tr).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,T,t,this.state.context,n)),await((x=(p=z(this,tr).config).onSettled)==null?void 0:x.call(p,T,null,this.state.variables,this.state.context,this,n)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,T,null,t,this.state.context,n)),be(this,Vn,rs).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(w=z(this,tr).config).onError)==null?void 0:b.call(w,T,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,T,t,this.state.context,n)),await((_=(N=z(this,tr).config).onSettled)==null?void 0:_.call(N,void 0,T,this.state.variables,this.state.context,this,n)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,T,t,this.state.context,n)),T}finally{be(this,Vn,rs).call(this,{type:"error",error:T})}}finally{z(this,tr).runNext(this)}}},ku=new WeakMap,Hn=new WeakMap,tr=new WeakMap,bi=new WeakMap,Vn=new WeakSet,rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Bt.batch(()=>{z(this,Hn).forEach(n=>{n.onMutationUpdate(t)}),z(this,tr).notify({mutation:this,type:"updated",action:t})})},J_);function F$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xa,vn,Nu,eE,B$=(eE=class extends Au{constructor(t={}){super();he(this,xa);he(this,vn);he(this,Nu);this.config=t,se(this,xa,new Set),se(this,vn,new Map),se(this,Nu,0)}build(t,r,n){const a=new z$({client:t,mutationCache:this,mutationId:++kd(this,Nu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,xa).add(t);const r=Bd(t);if(typeof r=="string"){const n=z(this,vn).get(r);n?n.push(t):z(this,vn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,xa).delete(t)){const r=Bd(t);if(typeof r=="string"){const n=z(this,vn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,vn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bd(t);if(typeof r=="string"){const n=z(this,vn).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Bd(t);if(typeof r=="string"){const a=(n=z(this,vn).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bt.batch(()=>{z(this,xa).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,xa).clear(),z(this,vn).clear()})}getAll(){return Array.from(z(this,xa))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>nk(r,n))}findAll(t={}){return this.getAll().filter(r=>nk(t,r))}notify(t){Bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Bt.batch(()=>Promise.all(t.map(r=>r.continue().catch(gr))))}},xa=new WeakMap,vn=new WeakMap,Nu=new WeakMap,eE);function Bd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Wn,tE,U$=(tE=class extends Au{constructor(t={}){super();he(this,Wn);this.config=t,se(this,Wn,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??rb(a,r);let o=this.get(s);return o||(o=new I$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){z(this,Wn).has(t.queryHash)||(z(this,Wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,Wn).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,Wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Wn).get(t)}getAll(){return[...z(this,Wn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>rk(t,n)):r}notify(t){Bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wn=new WeakMap,tE),nt,ys,xs,Ho,Vo,vs,Wo,Ko,rE,H$=(rE=class{constructor(e={}){he(this,nt);he(this,ys);he(this,xs);he(this,Ho);he(this,Vo);he(this,vs);he(this,Wo);he(this,Ko);se(this,nt,e.queryCache||new U$),se(this,ys,e.mutationCache||new B$),se(this,xs,e.defaultOptions||{}),se(this,Ho,new Map),se(this,Vo,new Map),se(this,vs,0)}mount(){kd(this,vs)._++,z(this,vs)===1&&(se(this,Wo,ab.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,nt).onFocus())})),se(this,Ko,xm.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,nt).onOnline())})))}unmount(){var e,t;kd(this,vs)._--,z(this,vs)===0&&((e=z(this,Wo))==null||e.call(this),se(this,Wo,void 0),(t=z(this,Ko))==null||t.call(this),se(this,Ko,void 0))}isFetching(e){return z(this,nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,ys).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,nt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,nt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(As(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,nt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,nt).get(n.queryHash),s=a==null?void 0:a.state.data,o=k$(t,s);if(o!==void 0)return z(this,nt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Bt.batch(()=>z(this,nt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,nt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,nt);Bt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,nt);return Bt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Bt.batch(()=>z(this,nt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(gr).catch(gr)}invalidateQueries(e,t={}){return Bt.batch(()=>(z(this,nt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Bt.batch(()=>z(this,nt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(gr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(gr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,nt).build(this,t);return r.isStaleByTime(As(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gr).catch(gr)}fetchInfiniteQuery(e){return e.behavior=uk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gr).catch(gr)}ensureInfiniteQueryData(e){return e.behavior=uk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xm.isOnline()?z(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,nt)}getMutationCache(){return z(this,ys)}getDefaultOptions(){return z(this,xs)}setDefaultOptions(e){se(this,xs,e)}setQueryDefaults(e,t){z(this,Ho).set(Yc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,Ho).values()],r={};return t.forEach(n=>{Gc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,Vo).set(Yc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,Vo).values()],r={};return t.forEach(n=>{Gc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,xs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,xs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,nt).clear(),z(this,ys).clear()}},nt=new WeakMap,ys=new WeakMap,xs=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,vs=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,rE),kP=g.createContext(void 0),V$=e=>{const t=g.useContext(kP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},W$=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(kP.Provider,{value:e,children:t})),NP=g.createContext(!1),K$=()=>g.useContext(NP);NP.Provider;function q$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Y$=g.createContext(q$()),G$=()=>g.useContext(Y$),X$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Q$=e=>{g.useEffect(()=>{e.clearReset()},[e])},Z$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||C$(r,[e.error,n])),J$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ez=(e,t)=>e.isLoading&&e.isFetching&&!t,tz=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rz(e,t,r){var f,m,h,p,x;const n=K$(),a=G$(),s=V$(),o=s.defaultQueryOptions(e);(m=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",J$(o),X$(o,a),Q$(a);const l=!s.getQueryCache().get(o.queryHash),[c]=g.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(v=>{const y=d?c.subscribe(Bt.batchCalls(v)):gr;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(o)},[o,c]),tz(o,u))throw fk(o,c,a);if(Z$({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!Mi&&ez(u,n)){const v=l?fk(o,c,a):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;v==null||v.catch(gr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function nz(e,t){return rz(e,D$)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mk="popstate";function az(e={}){function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return $y("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Xc(a)}return iz(t,r,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sz(){return Math.random().toString(36).substring(2,10)}function hk(e,t){return{usr:e.state,key:e.key,idx:t}}function $y(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nl(t):t,state:r,key:t&&t.key||n||sz()}}function Xc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function iz(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:y})}function m(v,y){l="PUSH";let w=$y(x.location,v,y);u=d()+1;let b=hk(w,u),j=x.createHref(w);try{o.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}s&&c&&c({action:l,location:x.location,delta:1})}function h(v,y){l="REPLACE";let w=$y(x.location,v,y);u=d();let b=hk(w,u),j=x.createHref(w);o.replaceState(b,"",j),s&&c&&c({action:l,location:x.location,delta:0})}function p(v){return oz(v)}let x={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(mk,f),c=v,()=>{a.removeEventListener(mk,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:h,go(v){return o.go(v)}};return x}function oz(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Je(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Xc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function SP(e,t,r="/"){return lz(e,t,r,!1)}function lz(e,t,r,n){let a=typeof t=="string"?Nl(t):t,s=Da(a.pathname||"/",r);if(s==null)return null;let o=_P(e);cz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=bz(s);l=xz(o[c],u,n)}return l}function _P(e,t=[],r=[],n="",a=!1){let s=(o,l,c=a,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Je(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Ea([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(Je(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),_P(o.children,t,m,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:gz(f,o.index),routesMeta:m})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let u of EP(o.path))s(o,l,!0,u)}),t}function EP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=EP(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var uz=/^:[\w-]+$/,dz=3,fz=2,mz=1,hz=10,pz=-2,pk=e=>e==="*";function gz(e,t){let r=e.split("/"),n=r.length;return r.some(pk)&&(n+=pz),t&&(n+=fz),r.filter(a=>!pk(a)).reduce((a,s)=>a+(uz.test(s)?dz:s===""?mz:hz),n)}function yz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function xz(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=vm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=vm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ea([s,f.pathname]),pathnameBase:Sz(Ea([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Ea([s,f.pathnameBase]))}return o}function vm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=l[m]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function vz(e,t=!1,r=!0){ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function bz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Da(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var wz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jz=e=>wz.test(e);function kz(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Nl(e):e,s;if(r)if(jz(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?s=gk(r.substring(1),"/"):s=gk(r,t)}else s=t;return{pathname:s,search:_z(n),hash:Ez(a)}}function gk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Hg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function CP(e){let t=Nz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function PP(e,t,r,n=!1){let a;typeof e=="string"?a=Nl(e):(a={...e},Je(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=kz(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Ea=e=>e.join("/").replace(/\/\/+/g,"/"),Sz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_z=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ez=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Pz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OP=["POST","PUT","PATCH","DELETE"];new Set(OP);var Oz=["GET",...OP];new Set(Oz);var Sl=g.createContext(null);Sl.displayName="DataRouter";var Hh=g.createContext(null);Hh.displayName="DataRouterState";g.createContext(!1);var AP=g.createContext({isTransitioning:!1});AP.displayName="ViewTransition";var Az=g.createContext(new Map);Az.displayName="Fetchers";var Tz=g.createContext(null);Tz.displayName="Await";var Rn=g.createContext(null);Rn.displayName="Navigation";var Tu=g.createContext(null);Tu.displayName="Location";var oa=g.createContext({outlet:null,matches:[],isDataRoute:!1});oa.displayName="Route";var ib=g.createContext(null);ib.displayName="RouteError";function Mz(e,{relative:t}={}){Je(Mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(Rn),{hash:a,pathname:s,search:o}=Iu(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:Ea([r,s])),n.createHref({pathname:l,search:o,hash:a})}function Mu(){return g.useContext(Tu)!=null}function Wa(){return Je(Mu(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Tu).location}var TP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MP(e){g.useContext(Rn).static||g.useLayoutEffect(e)}function Vh(){let{isDataRoute:e}=g.useContext(oa);return e?Yz():Iz()}function Iz(){Je(Mu(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Sl),{basename:t,navigator:r}=g.useContext(Rn),{matches:n}=g.useContext(oa),{pathname:a}=Wa(),s=JSON.stringify(CP(n)),o=g.useRef(!1);return MP(()=>{o.current=!0}),g.useCallback((c,u={})=>{if(ln(o.current,TP),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=PP(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ea([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}var Dz=g.createContext(null);function Rz(e){let t=g.useContext(oa).outlet;return g.useMemo(()=>t&&g.createElement(Dz.Provider,{value:e},t),[t,e])}function Iu(e,{relative:t}={}){let{matches:r}=g.useContext(oa),{pathname:n}=Wa(),a=JSON.stringify(CP(r));return g.useMemo(()=>PP(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Lz(e,t){return IP(e,t)}function IP(e,t,r,n,a){var w;Je(Mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(Rn),{matches:o}=g.useContext(oa),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let b=f&&f.path||"";DP(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let m=Wa(),h;if(t){let b=typeof t=="string"?Nl(t):t;Je(d==="/"||((w=b.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${b.pathname}" was given in the \`location\` prop.`),h=b}else h=m;let p=h.pathname||"/",x=p;if(d!=="/"){let b=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=SP(e,{pathname:x});ln(f||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ln(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Uz(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},c,b.params),pathname:Ea([d,s.encodeLocation?s.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:Ea([d,s.encodeLocation?s.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),o,r,n,a);return t&&y?g.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function $z(){let e=qz(),t=Cz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,o)}var zz=g.createElement($z,null),Fz=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(oa.Provider,{value:this.props.routeContext},g.createElement(ib.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bz({routeContext:e,match:t,children:r}){let n=g.useContext(Sl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(oa.Provider,{value:e},r)}function Uz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=r==null?void 0:r.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=r&&n?(d,f)=>{var m,h;n(d,{location:r.location,params:((h=(m=r.matches)==null?void 0:m[0])==null?void 0:h.params)??{},unstable_pattern:Pz(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,m)=>{let h,p=!1,x=null,v=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||zz,l&&(c<0&&m===0?(DP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===m&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,m+1)),w=()=>{let b;return h?b=x:p?b=v:f.route.Component?b=g.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,g.createElement(Bz,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(Fz,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):w()},null)}function ob(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hz(e){let t=g.useContext(Sl);return Je(t,ob(e)),t}function Vz(e){let t=g.useContext(Hh);return Je(t,ob(e)),t}function Wz(e){let t=g.useContext(oa);return Je(t,ob(e)),t}function lb(e){let t=Wz(e),r=t.matches[t.matches.length-1];return Je(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Kz(){return lb("useRouteId")}function qz(){var n;let e=g.useContext(ib),t=Vz("useRouteError"),r=lb("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Yz(){let{router:e}=Hz("useNavigate"),t=lb("useNavigate"),r=g.useRef(!1);return MP(()=>{r.current=!0}),g.useCallback(async(a,s={})=>{ln(r.current,TP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var yk={};function DP(e,t,r){!t&&!yk[e]&&(yk[e]=!0,ln(!1,r))}g.memo(Gz);function Gz({routes:e,future:t,state:r,unstable_onError:n}){return IP(e,void 0,r,n,t)}function Xz(e){return Rz(e.context)}function ns(e){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:o}){Je(!Mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:o,future:{}}),[l,a,s,o]);typeof r=="string"&&(r=Nl(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:h="default"}=r,p=g.useMemo(()=>{let x=Da(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:h},navigationType:n}},[l,u,d,f,m,h,n]);return ln(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:g.createElement(Rn.Provider,{value:c},g.createElement(Tu.Provider,{children:t,value:p}))}function Zz({children:e,location:t}){return Lz(zy(e),t)}function zy(e,t=[]){let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let s=[...t,a];if(n.type===g.Fragment){r.push.apply(r,zy(n.props.children,s));return}Je(n.type===ns,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zy(n.props.children,s)),r.push(o)}),r}var Tf="get",Mf="application/x-www-form-urlencoded";function Wh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Jz(e){return Wh(e)&&e.tagName.toLowerCase()==="button"}function e6(e){return Wh(e)&&e.tagName.toLowerCase()==="form"}function t6(e){return Wh(e)&&e.tagName.toLowerCase()==="input"}function r6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function n6(e,t){return e.button===0&&(!t||t==="_self")&&!r6(e)}function Fy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function a6(e,t){let r=Fy(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}var Ud=null;function s6(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch{Ud=!0}return Ud}var i6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(e){return e!=null&&!i6.has(e)?(ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mf}"`),null):e}function o6(e,t){let r,n,a,s,o;if(e6(e)){let l=e.getAttribute("action");n=l?Da(l,t):null,r=e.getAttribute("method")||Tf,a=Vg(e.getAttribute("enctype"))||Mf,s=new FormData(e)}else if(Jz(e)||t6(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Da(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Tf,a=Vg(e.getAttribute("formenctype"))||Vg(l.getAttribute("enctype"))||Mf,s=new FormData(l,e),!s6()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,f)}}else{if(Wh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Tf,n=null,a=Mf,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l6(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Da(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function c6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function d6(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await c6(s,r);return o.links?o.links():[]}return[]}));return p6(n.flat(1).filter(u6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function xk(e,t,r,n,a,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function f6(e,t,{includeHydrateFallback:r}={}){return m6(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function m6(e){return[...new Set(e)]}function h6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function p6(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(h6(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function RP(){let e=g.useContext(Sl);return cb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function g6(){let e=g.useContext(Hh);return cb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ub=g.createContext(void 0);ub.displayName="FrameworkContext";function LP(){let e=g.useContext(ub);return cb(e,"You must render this element inside a <HydratedRouter> element"),e}function y6(e,t){let r=g.useContext(ub),[n,a]=g.useState(!1),[s,o]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=g.useRef(null);g.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=y=>{y.forEach(w=>{o(w.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),g.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let h=()=>{a(!0)},p=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Xl(l,h),onBlur:Xl(c,p),onMouseEnter:Xl(u,h),onMouseLeave:Xl(d,p),onTouchStart:Xl(f,h)}]:[!1,m,{}]}function Xl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function x6({page:e,...t}){let{router:r}=RP(),n=g.useMemo(()=>SP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?g.createElement(b6,{page:e,matches:n,...t}):null}function v6(e){let{manifest:t,routeModules:r}=LP(),[n,a]=g.useState([]);return g.useEffect(()=>{let s=!1;return d6(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function b6({page:e,matches:t,...r}){let n=Wa(),{manifest:a,routeModules:s}=LP(),{basename:o}=RP(),{loaderData:l,matches:c}=g6(),u=g.useMemo(()=>xk(e,t,c,a,n,"data"),[e,t,c,a,n]),d=g.useMemo(()=>xk(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=g.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,x=!1;if(t.forEach(y=>{var b;let w=a.routes[y.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===y.route.id)&&y.route.id in l&&((b=s[y.route.id])!=null&&b.shouldRevalidate)||w.hasClientLoader?x=!0:p.add(y.route.id))}),p.size===0)return[];let v=l6(e,o,"data");return x&&p.size>0&&v.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[o,l,n,a,u,t,e,s]),m=g.useMemo(()=>f6(d,a),[d,a]),h=v6(d);return g.createElement(g.Fragment,null,f.map(p=>g.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),m.map(p=>g.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),h.map(({key:p,link:x})=>g.createElement("link",{key:p,nonce:r.nonce,...x})))}function w6(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var $P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$P&&(window.__reactRouterVersion="7.10.1")}catch{}function j6({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=g.useRef();a.current==null&&(a.current=az({window:n,v5Compat:!0}));let s=a.current,[o,l]=g.useState({action:s.action,location:s.location}),c=g.useCallback(u=>{r===!1?l(u):g.startTransition(()=>l(u))},[r]);return g.useLayoutEffect(()=>s.listen(c),[s,c]),g.createElement(Qz,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:r===!0})}var zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kh=g.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:p,unstable_useTransitions:x}=g.useContext(Rn),v=typeof u=="string"&&zP.test(u),y,w=!1;if(typeof u=="string"&&v&&(y=u,$P))try{let T=new URL(window.location.href),E=u.startsWith("//")?new URL(T.protocol+u):new URL(u),O=Da(E.pathname,p);E.origin===T.origin&&O!=null?u=O+E.search+E.hash:w=!0}catch{ln(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=Mz(u,{relative:a}),[j,k,N]=y6(n,m),_=_6(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_useTransitions:x});function S(T){t&&t(T),T.defaultPrevented||_(T)}let C=g.createElement("a",{...m,...N,href:y||b,onClick:w||s?t:S,ref:w6(h,k),target:c,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?g.createElement(g.Fragment,null,C,g.createElement(x6,{page:b})):C});Kh.displayName="Link";var k6=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:c,...u},d){let f=Iu(o,{relative:u.relative}),m=Wa(),h=g.useContext(Hh),{navigator:p,basename:x}=g.useContext(Rn),v=h!=null&&A6(f)&&l===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=m.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&x&&(b=Da(b,x)||b);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=w===y||!a&&w.startsWith(y)&&w.charAt(j)==="/",N=b!=null&&(b===y||!a&&b.startsWith(y)&&b.charAt(y.length)==="/"),_={isActive:k,isPending:N,isTransitioning:v},S=k?t:void 0,C;typeof n=="function"?C=n(_):C=[n,k?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let T=typeof s=="function"?s(_):s;return g.createElement(Kh,{...u,"aria-current":S,className:C,ref:d,style:T,to:o,viewTransition:l},typeof c=="function"?c(_):c)});k6.displayName="NavLink";var N6=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=Tf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let{unstable_useTransitions:p}=g.useContext(Rn),x=P6(),v=O6(l,{relative:u}),y=o.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&zP.test(l),b=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,N=(k==null?void 0:k.getAttribute("formmethod"))||o,_=()=>x(k||j.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f});p&&r!==!1?g.startTransition(()=>_()):_()};return g.createElement("form",{ref:h,method:y,action:v,onSubmit:n?c:b,...m,"data-discover":!w&&e==="render"?"true":void 0})});N6.displayName="Form";function S6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FP(e){let t=g.useContext(Sl);return Je(t,S6(e)),t}function _6(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o,unstable_useTransitions:l}={}){let c=Vh(),u=Wa(),d=Iu(e,{relative:s});return g.useCallback(f=>{if(n6(f,t)){f.preventDefault();let m=r!==void 0?r:Xc(u)===Xc(d),h=()=>c(e,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:o});l?g.startTransition(()=>h()):h()}},[u,c,d,r,n,t,e,a,s,o,l])}function BP(e){ln(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Fy(e)),r=g.useRef(!1),n=Wa(),a=g.useMemo(()=>a6(n.search,r.current?null:t.current),[n.search]),s=Vh(),o=g.useCallback((l,c)=>{const u=Fy(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}var E6=0,C6=()=>`__${String(++E6)}__`;function P6(){let{router:e}=FP("useSubmit"),{basename:t}=g.useContext(Rn),r=Kz(),n=e.fetch,a=e.navigate;return g.useCallback(async(s,o={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=o6(s,t);if(o.navigate===!1){let m=o.fetcherKey||C6();await n(m,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await a(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function O6(e,{relative:t}={}){let{basename:r}=g.useContext(Rn),n=g.useContext(oa);Je(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Iu(e||".",{relative:t})},o=Wa();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ea([r,s.pathname])),Xc(s)}function A6(e,{relative:t}={}){let r=g.useContext(AP);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=FP("useViewTransitionState"),a=Iu(e,{relative:t});if(!r.isTransitioning)return!1;let s=Da(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Da(r.nextLocation.pathname,n)||r.nextLocation.pathname;return vm(a.pathname,o)!=null||vm(a.pathname,s)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...T6,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${M6(e)}`,l].join(" "),...u},[...t.map(([f,m])=>g.createElement(f,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=ee("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ee("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ee("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ee("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ee("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ee("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ee("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ee("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ee("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=ee("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=ee("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=ee("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=ee("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=ee("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ee("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=ee("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=ee("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=ee("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ee("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ee("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=ee("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ee("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vF=()=>{const e=Wa(),[t,r]=g.useState(!1);g.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const o=!t;r(o),o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=o=>e.pathname===o,s=e.pathname==="/canvas";return i.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[i.jsxs("aside",{className:`${s?"w-16":"w-64"} bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-all duration-200`,children:[i.jsxs("div",{className:`${s?"p-4":"p-6"} border-b border-slate-800 dark:border-slate-900 flex items-center ${s?"justify-center":"gap-3"}`,children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-lg shrink-0 shadow-lg shadow-blue-900/20",children:"S"}),!s&&i.jsx("h1",{className:"text-xl font-bold tracking-tight whitespace-nowrap bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Skyulf ML"})]}),i.jsxs("nav",{className:"flex-1 p-2 space-y-2",children:[i.jsx(Ji,{to:"/",active:a("/"),icon:i.jsx(YP,{size:20}),collapsed:s,children:"Dashboard"}),i.jsx(Ji,{to:"/canvas",active:a("/canvas"),icon:i.jsx(KP,{size:20}),collapsed:s,children:"ML Canvas"}),i.jsx(Ji,{to:"/data",active:a("/data"),icon:i.jsx(ea,{size:20}),collapsed:s,children:"Data Sources"}),i.jsx(Ji,{to:"/eda",active:a("/eda"),icon:i.jsx(Qc,{size:20}),collapsed:s,children:"EDA"}),i.jsx(Ji,{to:"/registry",active:a("/registry"),icon:i.jsx(By,{size:20}),collapsed:s,children:"Model Registry"}),i.jsx(Ji,{to:"/deployments",active:a("/deployments"),icon:i.jsx(Gh,{size:20}),collapsed:s,children:"Deployments"})]}),i.jsx("div",{className:`${s?"p-2":"p-4"} border-t border-slate-800 space-y-4`,children:i.jsxs("button",{onClick:n,className:`flex items-center ${s?"justify-center":"gap-3"} w-full ${s?"px-2":"px-4"} py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors`,title:t?"Light Mode":"Dark Mode",children:[t?i.jsx(mF,{size:20}):i.jsx(rF,{size:20}),!s&&(t?"Light Mode":"Dark Mode")]})})]}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(Xz,{})})]})},Ji=({to:e,children:t,active:r,icon:n,collapsed:a})=>i.jsxs(Kh,{to:e,className:`flex items-center ${a?"justify-center":"gap-3"} ${a?"px-2":"px-4"} py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:a?t:void 0,children:[n,!a&&t]});function JP(e,t){return function(){return e.apply(t,arguments)}}const{toString:bF}=Object.prototype,{getPrototypeOf:pb}=Object,{iterator:Qh,toStringTag:eO}=Symbol,Zh=(e=>t=>{const r=bF.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ln=e=>(e=e.toLowerCase(),t=>Zh(t)===e),Jh=e=>t=>typeof t===e,{isArray:_l}=Array,el=Jh("undefined");function Lu(e){return e!==null&&!el(e)&&e.constructor!==null&&!el(e.constructor)&&_r(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tO=Ln("ArrayBuffer");function wF(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tO(e.buffer),t}const jF=Jh("string"),_r=Jh("function"),rO=Jh("number"),$u=e=>e!==null&&typeof e=="object",kF=e=>e===!0||e===!1,If=e=>{if(Zh(e)!=="object")return!1;const t=pb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(eO in e)&&!(Qh in e)},NF=e=>{if(!$u(e)||Lu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},SF=Ln("Date"),_F=Ln("File"),EF=Ln("Blob"),CF=Ln("FileList"),PF=e=>$u(e)&&_r(e.pipe),OF=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_r(e.append)&&((t=Zh(e))==="formdata"||t==="object"&&_r(e.toString)&&e.toString()==="[object FormData]"))},AF=Ln("URLSearchParams"),[TF,MF,IF,DF]=["ReadableStream","Request","Response","Headers"].map(Ln),RF=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),_l(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Lu(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function nO(e,t){if(Lu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aO=e=>!el(e)&&e!==oi;function Hy(){const{caseless:e,skipUndefined:t}=aO(this)&&this||{},r={},n=(a,s)=>{const o=e&&nO(r,s)||s;If(r[o])&&If(a)?r[o]=Hy(r[o],a):If(a)?r[o]=Hy({},a):_l(a)?r[o]=a.slice():(!t||!el(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&zu(arguments[a],n);return r}const LF=(e,t,r,{allOwnKeys:n}={})=>(zu(t,(a,s)=>{r&&_r(a)?e[s]=JP(a,r):e[s]=a},{allOwnKeys:n}),e),$F=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),zF=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},FF=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&pb(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},BF=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},UF=e=>{if(!e)return null;if(_l(e))return e;let t=e.length;if(!rO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},HF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pb(Uint8Array)),VF=(e,t)=>{const n=(e&&e[Qh]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},WF=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},KF=Ln("HTMLFormElement"),qF=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),kk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),YF=Ln("RegExp"),sO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};zu(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},GF=e=>{sO(e,(t,r)=>{if(_r(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(_r(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},XF=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return _l(e)?n(e):n(String(e).split(t)),r},QF=()=>{},ZF=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function JF(e){return!!(e&&_r(e.append)&&e[eO]==="FormData"&&e[Qh])}const e8=e=>{const t=new Array(10),r=(n,a)=>{if($u(n)){if(t.indexOf(n)>=0)return;if(Lu(n))return n;if(!("toJSON"in n)){t[a]=n;const s=_l(n)?[]:{};return zu(n,(o,l)=>{const c=r(o,a+1);!el(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},t8=Ln("AsyncFunction"),r8=e=>e&&($u(e)||_r(e))&&_r(e.then)&&_r(e.catch),iO=((e,t)=>e?setImmediate:t?((r,n)=>(oi.addEventListener("message",({source:a,data:s})=>{a===oi&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),oi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_r(oi.postMessage)),n8=typeof queueMicrotask<"u"?queueMicrotask.bind(oi):typeof process<"u"&&process.nextTick||iO,a8=e=>e!=null&&_r(e[Qh]),K={isArray:_l,isArrayBuffer:tO,isBuffer:Lu,isFormData:OF,isArrayBufferView:wF,isString:jF,isNumber:rO,isBoolean:kF,isObject:$u,isPlainObject:If,isEmptyObject:NF,isReadableStream:TF,isRequest:MF,isResponse:IF,isHeaders:DF,isUndefined:el,isDate:SF,isFile:_F,isBlob:EF,isRegExp:YF,isFunction:_r,isStream:PF,isURLSearchParams:AF,isTypedArray:HF,isFileList:CF,forEach:zu,merge:Hy,extend:LF,trim:RF,stripBOM:$F,inherits:zF,toFlatObject:FF,kindOf:Zh,kindOfTest:Ln,endsWith:BF,toArray:UF,forEachEntry:VF,matchAll:WF,isHTMLForm:KF,hasOwnProperty:kk,hasOwnProp:kk,reduceDescriptors:sO,freezeMethods:GF,toObjectSet:XF,toCamelCase:qF,noop:QF,toFiniteNumber:ZF,findKey:nO,global:oi,isContextDefined:aO,isSpecCompliantForm:JF,toJSONObject:e8,isAsyncFn:t8,isThenable:r8,setImmediate:iO,asap:n8,isIterable:a8};function ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}K.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const oO=ye.prototype,lO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lO[e]={value:e}});Object.defineProperties(ye,lO);Object.defineProperty(oO,"isAxiosError",{value:!0});ye.from=(e,t,r,n,a,s)=>{const o=Object.create(oO);K.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const s8=null;function Vy(e){return K.isPlainObject(e)||K.isArray(e)}function cO(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function Nk(e,t,r){return e?e.concat(t).map(function(a,s){return a=cO(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function i8(e){return K.isArray(e)&&!e.some(Vy)}const o8=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function ep(e,t,r){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!K.isUndefined(v[x])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(K.isBoolean(p))return p.toString();if(!c&&K.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,v){let y=p;if(p&&!v&&typeof p=="object"){if(K.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&i8(p)||(K.isFileList(p)||K.endsWith(x,"[]"))&&(y=K.toArray(p)))return x=cO(x),y.forEach(function(b,j){!(K.isUndefined(b)||b===null)&&t.append(o===!0?Nk([x],j,s):o===null?x:x+"[]",u(b))}),!1}return Vy(p)?!0:(t.append(Nk(v,x,s),u(p)),!1)}const f=[],m=Object.assign(o8,{defaultVisitor:d,convertValue:u,isVisitable:Vy});function h(p,x){if(!K.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),K.forEach(p,function(y,w){(!(K.isUndefined(y)||y===null)&&a.call(t,y,K.isString(w)?w.trim():w,x,m))===!0&&h(y,x?x.concat(w):[w])}),f.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Sk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function gb(e,t){this._pairs=[],e&&ep(e,this,t)}const uO=gb.prototype;uO.append=function(t,r){this._pairs.push([t,r])};uO.toString=function(t){const r=t?function(n){return t.call(this,n,Sk)}:Sk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function l8(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dO(e,t,r){if(!t)return e;const n=r&&r.encode||l8;K.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=K.isURLSearchParams(t)?t.toString():new gb(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class _k{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(n){n!==null&&t(n)})}}const fO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c8=typeof URLSearchParams<"u"?URLSearchParams:gb,u8=typeof FormData<"u"?FormData:null,d8=typeof Blob<"u"?Blob:null,f8={isBrowser:!0,classes:{URLSearchParams:c8,FormData:u8,Blob:d8},protocols:["http","https","file","blob","url","data"]},yb=typeof window<"u"&&typeof document<"u",Wy=typeof navigator=="object"&&navigator||void 0,m8=yb&&(!Wy||["ReactNative","NativeScript","NS"].indexOf(Wy.product)<0),h8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p8=yb&&window.location.href||"http://localhost",g8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yb,hasStandardBrowserEnv:m8,hasStandardBrowserWebWorkerEnv:h8,navigator:Wy,origin:p8},Symbol.toStringTag,{value:"Module"})),Xt={...g8,...f8};function y8(e,t){return ep(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,a,s){return Xt.isNode&&K.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function x8(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function v8(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function mO(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&K.isArray(a)?a.length:o,c?(K.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!K.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&K.isArray(a[o])&&(a[o]=v8(a[o])),!l)}if(K.isFormData(e)&&K.isFunction(e.entries)){const r={};return K.forEachEntry(e,(n,a)=>{t(x8(n),a,r,0)}),r}return null}function b8(e,t,r){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Fu={transitional:fO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=K.isObject(t);if(s&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return a?JSON.stringify(mO(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return y8(t,this.formSerializer).toString();if((l=K.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ep(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),b8(t)):t}],transformResponse:[function(t){const r=this.transitional||Fu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{Fu.headers[e]={}});const w8=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j8=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&w8[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ek=Symbol("internals");function Ql(e){return e&&String(e).trim().toLowerCase()}function Df(e){return e===!1||e==null?e:K.isArray(e)?e.map(Df):String(e)}function k8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const N8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wg(e,t,r,n,a){if(K.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!K.isString(t)){if(K.isString(n))return t.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(t)}}function S8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function _8(e,t){const r=K.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}let Er=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=Ql(c);if(!d)throw new Error("header name must be a non-empty string");const f=K.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Df(l))}const o=(l,c)=>K.forEach(l,(u,d)=>s(u,d,c));if(K.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(K.isString(t)&&(t=t.trim())&&!N8(t))o(j8(t),r);else if(K.isObject(t)&&K.isIterable(t)){let l={},c,u;for(const d of t){if(!K.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?K.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Ql(t),t){const n=K.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return k8(a);if(K.isFunction(r))return r.call(this,a,n);if(K.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ql(t),t){const n=K.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=Ql(o),o){const l=K.findKey(n,o);l&&(!r||Wg(n,n[l],l,r))&&(delete n[l],a=!0)}}return K.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||Wg(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return K.forEach(this,(a,s)=>{const o=K.findKey(n,s);if(o){r[o]=Df(a),delete r[s];return}const l=t?S8(s):String(s).trim();l!==s&&delete r[s],r[l]=Df(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return K.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&K.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Ek]=this[Ek]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=Ql(o);n[l]||(_8(a,o),n[l]=!0)}return K.isArray(t)?t.forEach(s):s(t),this}};Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Er.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});K.freezeMethods(Er);function Kg(e,t){const r=this||Fu,n=t||r,a=Er.from(n.headers);let s=n.data;return K.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function hO(e){return!!(e&&e.__CANCEL__)}function El(e,t,r){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,r),this.name="CanceledError"}K.inherits(El,ye,{__CANCEL__:!0});function pO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function E8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function C8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function P8(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const jm=(e,t,r=3)=>{let n=0;const a=C8(50,250);return P8(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},Ck=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Pk=e=>(...t)=>K.asap(()=>e(...t)),O8=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,A8=Xt.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];K.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),K.isString(n)&&l.push(`path=${n}`),K.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),K.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function T8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function M8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gO(e,t,r){let n=!T8(t);return e&&(n||r==!1)?M8(e,t):t}const Ok=e=>e instanceof Er?{...e}:e;function Ii(e,t){t=t||{};const r={};function n(u,d,f,m){return K.isPlainObject(u)&&K.isPlainObject(d)?K.merge.call({caseless:m},u,d):K.isPlainObject(d)?K.merge({},d):K.isArray(d)?d.slice():d}function a(u,d,f,m){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!K.isUndefined(d))return n(void 0,d)}function o(u,d){if(K.isUndefined(d)){if(!K.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(Ok(u),Ok(d),f,!0)};return K.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,m=f(e[d],t[d],d);K.isUndefined(m)&&f!==l||(r[d]=m)}),r}const yO=e=>{const t=Ii({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Er.from(o),t.url=dO(gO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),K.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(K.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Xt.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(t)),n||n!==!1&&O8(t.url))){const c=a&&s&&A8.read(s);c&&o.set(a,c)}return t},I8=typeof XMLHttpRequest<"u",D8=I8&&function(e){return new Promise(function(r,n){const a=yO(e);let s=a.data;const o=Er.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,p;function x(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const b=Er.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};pO(function(_){r(_),x()},function(_){n(_),x()},k),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new ye("Request aborted",ye.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",N=new ye(k,ye.ERR_NETWORK,e,v);N.event=j||null,n(N),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||fO;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ye(j,k.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&K.forEach(o.toJSON(),function(j,k){v.setRequestHeader(k,j)}),K.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([m,p]=jm(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,h]=jm(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=b=>{v&&(n(!b||b.type?new El(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=E8(a.url);if(w&&Xt.protocols.indexOf(w)===-1){n(new ye("Unsupported protocol "+w+":",ye.ERR_BAD_REQUEST,e));return}v.send(s||null)})},R8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new El(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>K.asap(l),c}},L8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},$8=async function*(e,t){for await(const r of z8(e))yield*L8(r,t)},z8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Ak=(e,t,r,n)=>{const a=$8(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Tk=64*1024,{isFunction:Hd}=K,F8=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:Mk,TextEncoder:Ik}=K.global,Dk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},B8=e=>{e=K.merge.call({skipUndefined:!0},F8,e);const{fetch:t,Request:r,Response:n}=e,a=t?Hd(t):typeof fetch=="function",s=Hd(r),o=Hd(n);if(!a)return!1;const l=a&&Hd(Mk),c=a&&(typeof Ik=="function"?(p=>x=>p.encode(x))(new Ik):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&Dk(()=>{let p=!1;const x=new r(Xt.origin,{body:new Mk,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=o&&l&&Dk(()=>K.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,v)=>{let y=x&&x[p];if(y)return y.call(x);throw new ye(`Response type '${p}' is not supported`,ye.ERR_NOT_SUPPORT,v)})});const m=async p=>{if(p==null)return 0;if(K.isBlob(p))return p.size;if(K.isSpecCompliantForm(p))return(await new r(Xt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(K.isArrayBufferView(p)||K.isArrayBuffer(p))return p.byteLength;if(K.isURLSearchParams(p)&&(p=p+""),K.isString(p))return(await c(p)).byteLength},h=async(p,x)=>{const v=K.toFiniteNumber(p.getContentLength());return v??m(x)};return async p=>{let{url:x,method:v,data:y,signal:w,cancelToken:b,timeout:j,onDownloadProgress:k,onUploadProgress:N,responseType:_,headers:S,withCredentials:C="same-origin",fetchOptions:T}=yO(p),E=t||fetch;_=_?(_+"").toLowerCase():"text";let O=R8([w,b&&b.toAbortSignal()],j),M=null;const A=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let L;try{if(N&&u&&v!=="get"&&v!=="head"&&(L=await h(S,y))!==0){let F=new r(x,{method:"POST",body:y,duplex:"half"}),H;if(K.isFormData(y)&&(H=F.headers.get("content-type"))&&S.setContentType(H),F.body){const[B,Y]=Ck(L,jm(Pk(N)));y=Ak(F.body,Tk,B,Y)}}K.isString(C)||(C=C?"include":"omit");const D=s&&"credentials"in r.prototype,R={...T,signal:O,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:y,duplex:"half",credentials:D?C:void 0};M=s&&new r(x,R);let I=await(s?E(M,T):E(x,R));const P=d&&(_==="stream"||_==="response");if(d&&(k||P&&A)){const F={};["status","statusText","headers"].forEach(X=>{F[X]=I[X]});const H=K.toFiniteNumber(I.headers.get("content-length")),[B,Y]=k&&Ck(H,jm(Pk(k),!0))||[];I=new n(Ak(I.body,Tk,B,()=>{Y&&Y(),A&&A()}),F)}_=_||"text";let $=await f[K.findKey(f,_)||"text"](I,p);return!P&&A&&A(),await new Promise((F,H)=>{pO(F,H,{data:$,headers:Er.from(I.headers),status:I.status,statusText:I.statusText,config:p,request:M})})}catch(D){throw A&&A(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,p,M),{cause:D.cause||D}):ye.from(D,D&&D.code,p,M)}}},U8=new Map,xO=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=U8;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:B8(t)),d=u;return u};xO();const xb={http:s8,xhr:D8,fetch:{get:xO}};K.forEach(xb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Rk=e=>`- ${e}`,H8=e=>K.isFunction(e)||e===null||e===!1;function V8(e,t){e=K.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!H8(n)&&(a=xb[(l=String(n)).toLowerCase()],a===void 0))throw new ye(`Unknown adapter '${l}'`);if(a&&(K.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(Rk).join(`
`):" "+Rk(o[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const vO={getAdapter:V8,adapters:xb};function qg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new El(null,e)}function Lk(e){return qg(e),e.headers=Er.from(e.headers),e.data=Kg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vO.getAdapter(e.adapter||Fu.adapter,e)(e).then(function(n){return qg(e),n.data=Kg.call(e,e.transformResponse,n),n.headers=Er.from(n.headers),n},function(n){return hO(n)||(qg(e),n&&n.response&&(n.response.data=Kg.call(e,e.transformResponse,n.response),n.response.headers=Er.from(n.response.headers))),Promise.reject(n)})}const bO="1.13.2",tp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const $k={};tp.transitional=function(t,r,n){function a(s,o){return"[Axios v"+bO+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new ye(a(o," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!$k[o]&&($k[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};tp.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function W8(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new ye("option "+s+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const Rf={assertOptions:W8,validators:tp},Bn=Rf.validators;let ki=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _k,response:new _k}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ii(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Rf.assertOptions(n,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),a!=null&&(K.isFunction(a)?r.paramsSerializer={serialize:a}:Rf.assertOptions(a,{encode:Bn.function,serialize:Bn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Rf.assertOptions(r,{baseUrl:Bn.spelling("baseURL"),withXsrfToken:Bn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&K.merge(s.common,s[r.method]);s&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Er.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,m;if(!c){const p=[Lk.bind(this),void 0];for(p.unshift(...l),p.push(...u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(;f<m;){const p=l[f++],x=l[f++];try{h=p(h)}catch(v){x.call(this,v);break}}try{d=Lk.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ii(this.defaults,t);const r=gO(t.baseURL,t.url,t.allowAbsoluteUrls);return dO(r,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){ki.prototype[t]=function(r,n){return this.request(Ii(n||{},{method:t,url:r,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(Ii(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ki.prototype[t]=r(),ki.prototype[t+"Form"]=r(!0)});let K8=class wO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new El(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new wO(function(a){t=a}),cancel:t}}};function q8(e){return function(r){return e.apply(null,r)}}function Y8(e){return K.isObject(e)&&e.isAxiosError===!0}const Ky={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ky).forEach(([e,t])=>{Ky[t]=e});function jO(e){const t=new ki(e),r=JP(ki.prototype.request,t);return K.extend(r,ki.prototype,t,{allOwnKeys:!0}),K.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return jO(Ii(e,a))},r}const Ue=jO(Fu);Ue.Axios=ki;Ue.CanceledError=El;Ue.CancelToken=K8;Ue.isCancel=hO;Ue.VERSION=bO;Ue.toFormData=ep;Ue.AxiosError=ye;Ue.Cancel=Ue.CanceledError;Ue.all=function(t){return Promise.all(t)};Ue.spread=q8;Ue.isAxiosError=Y8;Ue.mergeConfig=Ii;Ue.AxiosHeaders=Er;Ue.formToJSON=e=>mO(K.isHTMLForm(e)?new FormData(e):e);Ue.getAdapter=vO.getAdapter;Ue.HttpStatusCode=Ky;Ue.default=Ue;const{Axios:Mfe,AxiosError:Ife,CanceledError:Dfe,isCancel:Rfe,CancelToken:Lfe,VERSION:$fe,all:zfe,Cancel:Ffe,isAxiosError:Bfe,spread:Ufe,toFormData:Hfe,AxiosHeaders:Vfe,HttpStatusCode:Wfe,formToJSON:Kfe,getAdapter:qfe,mergeConfig:Yfe}=Ue,G8="/api",st=Ue.create({baseURL:G8,headers:{"Content-Type":"application/json"}}),X8=async e=>(await st.post("/pipeline/preview",e)).data,Q8=async e=>(await st.get(`/pipeline/datasets/${e}/schema`)).data,Z8=async(e,t)=>(await st.post(`/pipeline/save/${e}`,t)).data,J8=async e=>{const t=await st.get(`/pipeline/load/${e}`);return t.data?t.data:null},Tt={runPipeline:async e=>(await st.post("/pipeline/run",e)).data,getJob:async e=>(await st.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await st.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await st.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await st.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await st.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await st.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await st.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await st.get(`/pipeline/jobs/tuning/history/${e}`)).data},zk=e=>typeof e=="object"&&e!==null,e7=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,s]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const[l,c]=await Promise.all([st.get("/pipeline/stats"),Tt.getJobs(5,0,"training")]);t(l.data),n(c.map(u=>({id:u.job_id,status:u.status,model_type:u.model_type||"Unknown",created_at:u.start_time||u.created_at||new Date().toISOString(),metrics:(()=>{const d=u.metrics??(zk(u.result)?u.result.metrics:void 0);return zk(d)?d:void 0})()})))}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{s(!1)}})()},[]),i.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),i.jsx(Kh,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Yg,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),i.jsx(Yg,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),i.jsx(Yg,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?i.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?i.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(o=>i.jsxs("tr",{children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:o.id,children:[o.id.substring(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.model_type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="succeeded"?"bg-green-100 text-green-800":o.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(o.created_at).toLocaleString()})]},o.id))})]})})]})]})},Yg=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),i.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&i.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Zl="/data/api",Vd="/api/ingestion",an={getAll:async()=>{const e=await fetch(`${Zl}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getUsable:async()=>{const e=await fetch(`${Zl}/sources/usable`);if(!e.ok)throw new Error("Failed to fetch usable datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Vd}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Vd}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Vd}/${encodeURIComponent(e)}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},cancelIngestion:async e=>{const t=await fetch(`${Vd}/${encodeURIComponent(e)}/cancel`,{method:"POST"});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to cancel ingestion")}},getById:async e=>{const t=await fetch(`${Zl}/sources/${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=new URLSearchParams({limit:t.toString()}),n=await fetch(`${Zl}/sources/${encodeURIComponent(e)}/sample?${r.toString()}`);if(!n.ok)throw new Error("Failed to fetch dataset sample");return(await n.json()).data},getProfile:async e=>{const t=await fetch(`/api/pipeline/datasets/${encodeURIComponent(e)}/schema`);if(!t.ok)throw new Error("Failed to fetch dataset profile");const r=await t.json(),n=Object.values(r.columns).map(o=>{const l=o;return{name:l.name,dtype:l.dtype,missing_count:l.missing_count||0,missing_percentage:(l.missing_ratio||0)*100,distinct_count:l.unique_count||0,numeric_summary:l.column_type==="numeric"?{mean:l.mean_value,std:l.std_value,minimum:l.min_value,maximum:l.max_value}:void 0}}),a=r.row_count*r.column_count,s=n.reduce((o,l)=>o+l.missing_count,0);return{metrics:{row_count:r.row_count,column_count:r.column_count,missing_cells:s,missing_percentage:a>0?Number((s/a*100).toFixed(2)):0},columns:n}},delete:async e=>{if(!(await fetch(`${Zl}/sources/${encodeURIComponent(e)}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")}},kO=({onUploadComplete:e,onCancel:t})=>{const[r,n]=g.useState(!1),[a,s]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(0),d=g.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},[]),f=g.useCallback(p=>{p.preventDefault(),p.stopPropagation(),n(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&h(p.dataTransfer.files[0])},[]),m=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&h(p.target.files[0])},h=async p=>{s(!0),l(null),u(0);try{const x=await an.upload(p);e(x.job_id,p.name)}catch(x){console.error("Upload failed:",x),l(x.message||"Failed to upload file. Please try again.")}finally{s(!1)}};return i.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[i.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:i.jsx(Zt,{size:16})}),i.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[i.jsx(yF,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),i.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:a?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:i.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",c,"%"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(V6,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",i.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",i.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:m})]})]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),o&&i.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[i.jsx(Sr,{size:16,className:"mt-0.5 shrink-0"}),i.jsx("span",{children:o})]})]})},NO=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,s)).toFixed(n))} ${a[s]}`},t7=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=g.useState([]),[s,o]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState("sample"),[h,p]=g.useState(100);g.useEffect(()=>{t&&e?x(100):(a([]),o(null),d(null),m("sample"),p(100))},[t,e]);const x=async k=>{if(e){c(!0),d(null);try{const[N,_]=await Promise.all([an.getSample(e.id,k),an.getProfile(e.id)]);a(N),o(_)}catch(N){console.error("Failed to fetch data:",N),d("Failed to load dataset preview.")}finally{c(!1)}}},v=()=>{const k=h+500;p(k),x(k)};if(!t||!e)return null;const y=n.length>0?Object.keys(n[0]):[],w=(s==null?void 0:s.metrics.row_count)??e.rows??0,b=(s==null?void 0:s.metrics.column_count)??e.columns??0,j=e.size_bytes??0;return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:i.jsx(ea,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Yh,{size:14})," ",e.format||"CSV"]}),i.jsx("span",{children:""}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(I6,{size:14})," ",w.toLocaleString()," rows"]}),i.jsx("span",{children:""}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(F6,{size:14})," ",b," columns"]}),i.jsx("span",{children:""}),i.jsx("span",{children:NO(j)})]})]})]}),i.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:i.jsx(Zt,{size:20})})]}),i.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[i.jsx("button",{onClick:()=>{m("sample")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),i.jsx("button",{onClick:()=>{m("stats")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),i.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),i.jsx("p",{children:"Loading preview data..."})]}):u?i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[i.jsx("p",{children:u}),i.jsx("button",{onClick:()=>{x(h)},className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):f==="sample"?n.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):y.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:i.jsx("tr",{children:y.map(k=>i.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:k},k))})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((k,N)=>i.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:y.map(_=>i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(k[_]??"")},`${N}-${_}`))},N))})]})})}),i.jsxs("div",{className:"flex justify-center items-center gap-4",children:[i.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(Wd,{label:"Total Rows",value:s==null?void 0:s.metrics.row_count.toLocaleString()}),i.jsx(Wd,{label:"Total Columns",value:s==null?void 0:s.metrics.column_count}),i.jsx(Wd,{label:"Missing Cells",value:s==null?void 0:s.metrics.missing_cells.toLocaleString()}),i.jsx(Wd,{label:"Missing %",value:`${s==null?void 0:s.metrics.missing_percentage}%`})]}),i.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),i.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:s==null?void 0:s.columns.map(k=>{var N,_,S,C;return i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:k.name}),i.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:k.dtype}),i.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[k.missing_count," ",i.jsxs("span",{className:"text-xs text-slate-400",children:["(",k.missing_percentage,"%)"]})]}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:k.distinct_count}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((N=k.numeric_summary)==null?void 0:N.minimum.toFixed(2))??"-"}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((_=k.numeric_summary)==null?void 0:_.maximum.toFixed(2))??"-"}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((S=k.numeric_summary)==null?void 0:S.mean.toFixed(2))??"-"}),i.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((C=k.numeric_summary)==null?void 0:C.std.toFixed(2))??"-"})]},k.name)})})]})})]})}),i.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:i.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Wd=({label:e,value:t})=>i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),i.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),r7=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=g.useState("database"),[s,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(""),[f,m]=g.useState(""),[h,p]=g.useState("GET"),[x,v]=g.useState(""),[y,w]=g.useState(!1),[b,j]=g.useState(!1),[k,N]=g.useState(null);if(!e)return null;const _=async S=>{var C,T,E;S.preventDefault(),j(!0),N(null);try{const O={};if(n==="database")O.connection_string=l,O.query=u;else if(n==="s3"){O.path=x;const L=S.target,D=(C=L.elements.namedItem("aws_access_key_id"))==null?void 0:C.value,R=(T=L.elements.namedItem("aws_secret_access_key"))==null?void 0:T.value,I=(E=L.elements.namedItem("region_name"))==null?void 0:E.value;D&&R&&(O.storage_options={aws_access_key_id:D,aws_secret_access_key:R,region:I||void 0})}else O.url=f,O.method=h;const M={name:s,type:n,config:O,description:`Imported from ${n}`},A=await an.createSource(M);r(A.job_id),t()}catch(O){N(O.message||"Failed to create source")}finally{j(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700 shrink-0",children:[i.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),i.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:i.jsx(Zt,{size:20})})]}),i.jsxs("div",{className:"p-4 overflow-y-auto",children:[i.jsxs("div",{className:"flex gap-2 mb-6",children:[i.jsxs("button",{onClick:()=>{a("database")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[i.jsx(ea,{size:16})," Database"]}),i.jsxs("button",{onClick:()=>{a("s3")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="s3"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[i.jsx(VP,{size:16})," S3"]}),i.jsxs("button",{onClick:()=>{a("api")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[i.jsx(X6,{size:16})," API"]})]}),i.jsxs("form",{onSubmit:S=>{_(S)},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),i.jsx("input",{type:"text",required:!0,value:s,onChange:S=>{o(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),i.jsx("input",{type:"text",required:!0,value:l,onChange:S=>{c(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),i.jsx("textarea",{required:!0,value:u,onChange:S=>{d(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}),n==="s3"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S3 Path"}),i.jsx("input",{type:"text",required:!0,value:x,onChange:S=>{v(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"s3://my-bucket/path/to/data.parquet"})]}),i.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-md overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>w(!y),className:"w-full flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Credentials (Optional)"})}),y?i.jsx(It,{size:16,className:"text-slate-500"}):i.jsx(Zn,{size:16,className:"text-slate-500"})]}),y&&i.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"If your bucket is private, provide credentials here. They will be stored securely. Leave blank if using backend's IAM role."}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Access Key ID"}),i.jsx("input",{type:"text",name:"aws_access_key_id",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"AKIA..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Secret Access Key"}),i.jsx("input",{type:"password",name:"aws_secret_access_key",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"Secret..."})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Region"}),i.jsx("input",{type:"text",name:"region_name",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"us-east-1"})]})]})]})]})]}),n==="api"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),i.jsx("input",{type:"url",required:!0,value:f,onChange:S=>{m(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),i.jsxs("select",{value:h,onChange:S=>{p(S.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"GET",children:"GET"}),i.jsx("option",{value:"POST",children:"POST"})]})]})]}),k&&i.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:k}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:b?"Creating...":i.jsxs(i.Fragment,{children:[i.jsx(Zc,{size:16})," Create Source"]})})]})]})]})]})})},n7=({isOpen:e,onClose:t,datasets:r,onRefresh:n})=>{const[a,s]=g.useState(null);if(!e)return null;const o=async c=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){s(c);try{await an.cancelIngestion(c),n&&n()}catch(u){console.error("Failed to cancel ingestion:",u),alert("Failed to cancel ingestion")}finally{s(null)}}},l=r.map(c=>{var u,d,f,m,h,p;return{id:c.id,name:c.name,status:((d=(u=c.source_metadata)==null?void 0:u.ingestion_status)==null?void 0:d.status)||"completed",created_at:c.created_at,message:((m=(f=c.source_metadata)==null?void 0:f.ingestion_status)==null?void 0:m.error)||(((p=(h=c.source_metadata)==null?void 0:h.ingestion_status)==null?void 0:p.status)==="cancelled"?"Ingestion cancelled":"Ingestion completed successfully")}}).sort((c,u)=>new Date(u.created_at).getTime()-new Date(c.created_at).getTime());return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),i.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:i.jsx(Zt,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?i.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):i.jsx("div",{className:"space-y-4",children:l.map(c=>i.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[i.jsx("div",{className:"mt-1",children:c.status==="processing"||c.status==="pending"?i.jsx(ar,{className:"text-blue-500 animate-spin",size:20}):c.status==="failed"?i.jsx(mb,{className:"text-red-500",size:20}):c.status==="cancelled"?i.jsx(vk,{className:"text-slate-500",size:20}):i.jsx(Jn,{className:"text-green-500",size:20})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:c.name}),i.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[i.jsx(qh,{size:12}),new Date(c.created_at).toLocaleString()]})]}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",i.jsx("span",{className:"capitalize",children:c.status})]}),(c.status==="failed"||c.status==="cancelled")&&i.jsx("p",{className:`text-sm mt-1 p-2 rounded ${c.status==="failed"?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10":"text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800"}`,children:c.message})]}),(c.status==="processing"||c.status==="pending")&&i.jsx("button",{onClick:()=>{o(c.id)},disabled:a===c.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:a===c.id?i.jsx(ar,{className:"animate-spin",size:20}):i.jsx(vk,{size:20})})]},c.id))})})]})})},a7=()=>{const e=Vh(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[s,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(null),[h,p]=g.useState(null),[x,v]=g.useState(null),[y,w]=g.useState("completed"),b=t.filter(E=>{var M,A;const O=((A=(M=E.source_metadata)==null?void 0:M.ingestion_status)==null?void 0:A.status)||"completed";return y==="all"?!0:y==="active"?["processing","pending"].includes(O):O===y}),j=async()=>{t.length===0&&a(!0);try{const E=await an.getAll();r(E)}catch(E){console.error("Failed to fetch datasets:",E)}finally{a(!1)}};g.useEffect(()=>{j()},[]),g.useEffect(()=>{const E=setInterval(()=>{t.some(M=>{var A,L,D,R;return((L=(A=M.source_metadata)==null?void 0:A.ingestion_status)==null?void 0:L.status)==="pending"||((R=(D=M.source_metadata)==null?void 0:D.ingestion_status)==null?void 0:R.status)==="processing"})&&j()},5e3);return()=>{clearInterval(E)}},[t]);const k=async E=>{if(window.confirm("Are you sure you want to delete this dataset?")){m(E);try{await an.delete(E),r(t.filter(O=>O.id!==E))}catch(O){console.error("Failed to delete dataset:",O),alert("Failed to delete dataset")}finally{m(null)}}},N=async E=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){p(E);try{await an.cancelIngestion(E),j()}catch(O){console.error("Failed to cancel ingestion:",O),alert("Failed to cancel ingestion")}finally{p(null)}}},_=E=>{e(`/canvas?source_id=${E}`)},S=()=>{o(!1),j()},C=()=>{c(!1),j()},T=E=>{var M,A;const O=(A=(M=E.source_metadata)==null?void 0:M.ingestion_status)==null?void 0:A.status;return!O||O==="completed"?null:O==="failed"?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):O==="cancelled"?i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-400",children:"Cancelled"}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[i.jsx(ar,{size:12,className:"animate-spin"}),O==="processing"?"Processing...":"Pending..."]})};return i.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[i.jsx(t7,{dataset:x,isOpen:!!x,onClose:()=>{v(null)}}),i.jsx(r7,{isOpen:l,onClose:()=>{c(!1)},onSuccess:C}),i.jsx(n7,{isOpen:u,onClose:()=>{d(!1)},datasets:t,onRefresh:j}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>{d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[i.jsx(wm,{size:18}),"Ingestion Jobs"]}),i.jsxs("button",{onClick:()=>{c(!0)},className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[i.jsx(ea,{size:18}),"Add Source"]}),i.jsxs("button",{onClick:()=>{o(!s)},className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[i.jsx(qi,{size:18}),s?"Cancel Upload":"Upload File"]})]})]}),s&&i.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:i.jsx(kO,{onUploadComplete:S,onCancel:()=>{o(!1)}})}),i.jsx("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:["all","active","completed","failed","cancelled"].map(E=>i.jsx("button",{onClick:()=>{w(E)},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${y===E?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-slate-800 text-slate-600 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),i.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),i.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),i.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),i.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):b.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:t.length===0?i.jsxs(i.Fragment,{children:[i.jsx(ea,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),i.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),i.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]}):i.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets match the selected filter"})})}):b.map(E=>{var O,M,A,L,D,R,I;return i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:i.jsx(Yh,{size:18})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[E.name,T(E)]}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:E.source_id||E.id})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:E.format||"CSV"})}),i.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:NO(E.size_bytes||0)}),i.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((O=E.rows)==null?void 0:O.toLocaleString())||"-"," rows  ",E.columns||"-"," cols"]})]})}),i.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wm,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(E.created_at).toLocaleDateString()]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((A=(M=E.source_metadata)==null?void 0:M.ingestion_status)==null?void 0:A.status)==="completed"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{v(E)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:i.jsx(H6,{size:16})}),i.jsxs("button",{onClick:()=>{_(E.id)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[i.jsx(Us,{size:16}),"Canvas"]}),i.jsxs("button",{onClick:()=>{e(`/eda?dataset_id=${E.id}`)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-md transition-colors",title:"Analyze with EDA",children:[i.jsx(Qc,{size:16}),"EDA"]})]}),(((D=(L=E.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:D.status)==="pending"||((I=(R=E.source_metadata)==null?void 0:R.ingestion_status)==null?void 0:I.status)==="processing")&&i.jsx("button",{onClick:()=>{N(E.id)},disabled:h===E.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:h===E.id?i.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):i.jsx(mb,{size:16})}),i.jsx("button",{onClick:()=>{k(E.id)},disabled:f===E.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:f===E.id?i.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):i.jsx(Vs,{size:16})})]})})]},E.id)})})]})})})]})},ri=class ri{constructor(){Bl(this,"nodes",new Map)}static getInstance(){return ri.instance||(ri.instance=new ri),ri.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};Bl(ri,"instance");let qy=ri;const _e=qy.getInstance(),s7={},Fk=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(p=>p(t,h))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(s7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},SO=e=>e?Fk(e):Fk;var _O={exports:{}},EO={},CO={exports:{}},PO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=g;function i7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o7=typeof Object.is=="function"?Object.is:i7,l7=tl.useState,c7=tl.useEffect,u7=tl.useLayoutEffect,d7=tl.useDebugValue;function f7(e,t){var r=t(),n=l7({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return u7(function(){a.value=r,a.getSnapshot=t,Gg(a)&&s({inst:a})},[e,r,t]),c7(function(){return Gg(a)&&s({inst:a}),e(function(){Gg(a)&&s({inst:a})})},[e]),d7(r),r}function Gg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o7(e,r)}catch{return!0}}function m7(e,t){return t()}var h7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m7:f7;PO.useSyncExternalStore=tl.useSyncExternalStore!==void 0?tl.useSyncExternalStore:h7;CO.exports=PO;var p7=CO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=g,g7=p7;function y7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x7=typeof Object.is=="function"?Object.is:y7,v7=g7.useSyncExternalStore,b7=rp.useRef,w7=rp.useEffect,j7=rp.useMemo,k7=rp.useDebugValue;EO.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=b7(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=j7(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var p=o.value;if(a(p,h))return f=p}return f=h}if(p=f,x7(d,h))return p;var x=n(h);return a!==void 0&&a(p,x)?(d=h,p):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=v7(e,s[0],s[1]);return w7(function(){o.hasValue=!0,o.value=l},[l]),k7(l),l};_O.exports=EO;var OO=_O.exports;const AO=ia(OO),TO={},{useDebugValue:N7}=Ir,{useSyncExternalStoreWithSelector:S7}=AO;let Bk=!1;const _7=e=>e;function E7(e,t=_7,r){(TO?"production":void 0)!=="production"&&r&&!Bk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Bk=!0);const n=S7(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return N7(n),n}const Uk=e=>{(TO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?SO(e):e,r=(n,a)=>E7(t,n,a);return Object.assign(r,t),r},vb=e=>e?Uk(e):Uk;function mt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=mt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var C7={value:()=>{}};function np(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Lf(r)}function Lf(e){this._=e}function P7(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Lf.prototype=np.prototype={constructor:Lf,on:function(e,t){var r=this._,n=P7(e+"",r),a,s=-1,o=n.length;if(arguments.length<2){for(;++s<o;)if((a=(e=n[s]).type)&&(a=O7(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(a=(e=n[s]).type)r[a]=Hk(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Hk(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Lf(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function O7(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Hk(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=C7,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Yy="http://www.w3.org/1999/xhtml";const Vk={svg:"http://www.w3.org/2000/svg",xhtml:Yy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ap(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Vk.hasOwnProperty(t)?{space:Vk[t],local:e}:e}function A7(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Yy&&t.documentElement.namespaceURI===Yy?t.createElement(e):t.createElementNS(r,e)}}function T7(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function MO(e){var t=ap(e);return(t.local?T7:A7)(t)}function M7(){}function bb(e){return e==null?M7:function(){return this.querySelector(e)}}function I7(e){typeof e!="function"&&(e=bb(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=new Array(o),c,u,d=0;d<o;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Fr(n,this._parents)}function D7(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function R7(){return[]}function IO(e){return e==null?R7:function(){return this.querySelectorAll(e)}}function L7(e){return function(){return D7(e.apply(this,arguments))}}function $7(e){typeof e=="function"?e=L7(e):e=IO(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var o=t[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(n.push(e.call(c,c.__data__,u,o)),a.push(c));return new Fr(n,a)}function DO(e){return function(){return this.matches(e)}}function RO(e){return function(t){return t.matches(e)}}var z7=Array.prototype.find;function F7(e){return function(){return z7.call(this.children,e)}}function B7(){return this.firstElementChild}function U7(e){return this.select(e==null?B7:F7(typeof e=="function"?e:RO(e)))}var H7=Array.prototype.filter;function V7(){return Array.from(this.children)}function W7(e){return function(){return H7.call(this.children,e)}}function K7(e){return this.selectAll(e==null?V7:W7(typeof e=="function"?e:RO(e)))}function q7(e){typeof e!="function"&&(e=DO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Fr(n,this._parents)}function LO(e){return new Array(e.length)}function Y7(){return new Fr(this._enter||this._groups.map(LO),this._parents)}function km(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}km.prototype={constructor:km,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function G7(e){return function(){return e}}function X7(e,t,r,n,a,s){for(var o=0,l,c=t.length,u=s.length;o<u;++o)(l=t[o])?(l.__data__=s[o],n[o]=l):r[o]=new km(e,s[o]);for(;o<c;++o)(l=t[o])&&(a[o]=l)}function Q7(e,t,r,n,a,s,o){var l,c,u=new Map,d=t.length,f=s.length,m=new Array(d),h;for(l=0;l<d;++l)(c=t[l])&&(m[l]=h=o.call(c,c.__data__,l,t)+"",u.has(h)?a[l]=c:u.set(h,c));for(l=0;l<f;++l)h=o.call(e,s[l],l,s)+"",(c=u.get(h))?(n[l]=c,c.__data__=s[l],u.delete(h)):r[l]=new km(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(m[l])===c&&(a[l]=c)}function Z7(e){return e.__data__}function J7(e,t){if(!arguments.length)return Array.from(this,Z7);var r=t?Q7:X7,n=this._parents,a=this._groups;typeof e!="function"&&(e=G7(e));for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],m=f.length,h=eB(e.call(d,d&&d.__data__,u,n)),p=h.length,x=l[u]=new Array(p),v=o[u]=new Array(p),y=c[u]=new Array(m);r(d,f,x,v,y,h,t);for(var w=0,b=0,j,k;w<p;++w)if(j=x[w]){for(w>=b&&(b=w+1);!(k=v[b])&&++b<p;);j._next=k||null}}return o=new Fr(o,n),o._enter=l,o._exit=c,o}function eB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tB(){return new Fr(this._exit||this._groups.map(LO),this._parents)}function rB(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function nB(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,o=Math.min(a,s),l=new Array(a),c=0;c<o;++c)for(var u=r[c],d=n[c],f=u.length,m=l[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||d[p])&&(m[p]=h);for(;c<a;++c)l[c]=r[c];return new Fr(l,this._parents)}function aB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],o;--a>=0;)(o=n[a])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function sB(e){e||(e=iB);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var o=r[s],l=o.length,c=a[s]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new Fr(a,this._parents).order()}function iB(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function oB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lB(){return Array.from(this)}function cB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null}function uB(){let e=0;for(const t of this)++e;return e}function dB(){return!this.node()}function fB(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,o=a.length,l;s<o;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function mB(e){return function(){this.removeAttribute(e)}}function hB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pB(e,t){return function(){this.setAttribute(e,t)}}function gB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function xB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function vB(e,t){var r=ap(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?hB:mB:typeof t=="function"?r.local?xB:yB:r.local?gB:pB)(r,t))}function $O(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bB(e){return function(){this.style.removeProperty(e)}}function wB(e,t,r){return function(){this.style.setProperty(e,t,r)}}function jB(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function kB(e,t,r){return arguments.length>1?this.each((t==null?bB:typeof t=="function"?jB:wB)(e,t,r??"")):rl(this.node(),e)}function rl(e,t){return e.style.getPropertyValue(t)||$O(e).getComputedStyle(e,null).getPropertyValue(t)}function NB(e){return function(){delete this[e]}}function SB(e,t){return function(){this[e]=t}}function _B(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function EB(e,t){return arguments.length>1?this.each((t==null?NB:typeof t=="function"?_B:SB)(e,t)):this.node()[e]}function zO(e){return e.trim().split(/^|\s+/)}function wb(e){return e.classList||new FO(e)}function FO(e){this._node=e,this._names=zO(e.getAttribute("class")||"")}FO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function BO(e,t){for(var r=wb(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function UO(e,t){for(var r=wb(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function CB(e){return function(){BO(this,e)}}function PB(e){return function(){UO(this,e)}}function OB(e,t){return function(){(t.apply(this,arguments)?BO:UO)(this,e)}}function AB(e,t){var r=zO(e+"");if(arguments.length<2){for(var n=wb(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?OB:t?CB:PB)(r,t))}function TB(){this.textContent=""}function MB(e){return function(){this.textContent=e}}function IB(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function DB(e){return arguments.length?this.each(e==null?TB:(typeof e=="function"?IB:MB)(e)):this.node().textContent}function RB(){this.innerHTML=""}function LB(e){return function(){this.innerHTML=e}}function $B(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zB(e){return arguments.length?this.each(e==null?RB:(typeof e=="function"?$B:LB)(e)):this.node().innerHTML}function FB(){this.nextSibling&&this.parentNode.appendChild(this)}function BB(){return this.each(FB)}function UB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HB(){return this.each(UB)}function VB(e){var t=typeof e=="function"?e:MO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function WB(){return null}function KB(e,t){var r=typeof e=="function"?e:MO(e),n=t==null?WB:typeof t=="function"?t:bb(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function qB(){var e=this.parentNode;e&&e.removeChild(this)}function YB(){return this.each(qB)}function GB(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XB(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QB(e){return this.select(e?XB:GB)}function ZB(e){return arguments.length?this.property("__data__",e):this.node().__data__}function JB(e){return function(t){e.call(this,t,this.__data__)}}function e9(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function t9(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function r9(e,t,r){return function(){var n=this.__on,a,s=JB(t);if(n){for(var o=0,l=n.length;o<l;++o)if((a=n[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function n9(e,t,r){var n=e9(e+""),a,s=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<s;++a)if((o=n[a]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?r9:t9,a=0;a<s;++a)this.each(l(n[a],t,r));return this}function HO(e,t,r){var n=$O(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function a9(e,t){return function(){return HO(this,e,t)}}function s9(e,t){return function(){return HO(this,e,t.apply(this,arguments))}}function i9(e,t){return this.each((typeof t=="function"?s9:a9)(e,t))}function*o9(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,o;a<s;++a)(o=n[a])&&(yield o)}var VO=[null];function Fr(e,t){this._groups=e,this._parents=t}function Bu(){return new Fr([[document.documentElement]],VO)}function l9(){return this}Fr.prototype=Bu.prototype={constructor:Fr,select:I7,selectAll:$7,selectChild:U7,selectChildren:K7,filter:q7,data:J7,enter:Y7,exit:tB,join:rB,merge:nB,selection:l9,order:aB,sort:sB,call:oB,nodes:lB,node:cB,size:uB,empty:dB,each:fB,attr:vB,style:kB,property:EB,classed:AB,text:DB,html:zB,raise:BB,lower:HB,append:VB,insert:KB,remove:YB,clone:QB,datum:ZB,on:n9,dispatch:i9,[Symbol.iterator]:o9};function Tr(e){return typeof e=="string"?new Fr([[document.querySelector(e)]],[document.documentElement]):new Fr([[e]],VO)}function c9(e){let t;for(;t=e.sourceEvent;)e=t;return e}function wn(e,t){if(e=c9(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const u9={passive:!1},Jc={capture:!0,passive:!1};function Xg(e){e.stopImmediatePropagation()}function To(e){e.preventDefault(),e.stopImmediatePropagation()}function WO(e){var t=e.document.documentElement,r=Tr(e).on("dragstart.drag",To,Jc);"onselectstart"in t?r.on("selectstart.drag",To,Jc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function KO(e,t){var r=e.document.documentElement,n=Tr(e).on("dragstart.drag",null);t&&(n.on("click.drag",To,Jc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Kd=e=>()=>e;function Gy(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Gy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function d9(e){return!e.ctrlKey&&!e.button}function f9(){return this.parentNode}function m9(e,t){return t??{x:e.x,y:e.y}}function h9(){return navigator.maxTouchPoints||"ontouchstart"in this}function qO(){var e=d9,t=f9,r=m9,n=h9,a={},s=np("start","drag","end"),o=0,l,c,u,d,f=0;function m(j){j.on("mousedown.drag",h).filter(n).on("touchstart.drag",v).on("touchmove.drag",y,u9).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(j,k){if(!(d||!e.call(this,j,k))){var N=b(this,t.call(this,j,k),j,k,"mouse");N&&(Tr(j.view).on("mousemove.drag",p,Jc).on("mouseup.drag",x,Jc),WO(j.view),Xg(j),u=!1,l=j.clientX,c=j.clientY,N("start",j))}}function p(j){if(To(j),!u){var k=j.clientX-l,N=j.clientY-c;u=k*k+N*N>f}a.mouse("drag",j)}function x(j){Tr(j.view).on("mousemove.drag mouseup.drag",null),KO(j.view,u),To(j),a.mouse("end",j)}function v(j,k){if(e.call(this,j,k)){var N=j.changedTouches,_=t.call(this,j,k),S=N.length,C,T;for(C=0;C<S;++C)(T=b(this,_,j,k,N[C].identifier,N[C]))&&(Xg(j),T("start",j,N[C]))}}function y(j){var k=j.changedTouches,N=k.length,_,S;for(_=0;_<N;++_)(S=a[k[_].identifier])&&(To(j),S("drag",j,k[_]))}function w(j){var k=j.changedTouches,N=k.length,_,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),_=0;_<N;++_)(S=a[k[_].identifier])&&(Xg(j),S("end",j,k[_]))}function b(j,k,N,_,S,C){var T=s.copy(),E=wn(C||N,k),O,M,A;if((A=r.call(j,new Gy("beforestart",{sourceEvent:N,target:m,identifier:S,active:o,x:E[0],y:E[1],dx:0,dy:0,dispatch:T}),_))!=null)return O=A.x-E[0]||0,M=A.y-E[1]||0,function L(D,R,I){var P=E,$;switch(D){case"start":a[S]=L,$=o++;break;case"end":delete a[S],--o;case"drag":E=wn(I||R,k),$=o;break}T.call(D,j,new Gy(D,{sourceEvent:R,subject:A,target:m,identifier:S,active:$,x:E[0]+O,y:E[1]+M,dx:E[0]-P[0],dy:E[1]-P[1],dispatch:T}),_)}}return m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Kd(!!j),m):e},m.container=function(j){return arguments.length?(t=typeof j=="function"?j:Kd(j),m):t},m.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Kd(j),m):r},m.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:Kd(!!j),m):n},m.on=function(){var j=s.on.apply(s,arguments);return j===s?m:j},m.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,m):Math.sqrt(f)},m}function jb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function YO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Uu(){}var eu=.7,Nm=1/eu,Mo="\\s*([+-]?\\d+)\\s*",tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p9=/^#([0-9a-f]{3,8})$/,g9=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),y9=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),x9=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${tu}\\)$`),v9=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${tu}\\)$`),b9=new RegExp(`^hsl\\(${tu},${Qn},${Qn}\\)$`),w9=new RegExp(`^hsla\\(${tu},${Qn},${Qn},${tu}\\)$`),Wk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jb(Uu,Di,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Kk,formatHex:Kk,formatHex8:j9,formatHsl:k9,formatRgb:qk,toString:qk});function Kk(){return this.rgb().formatHex()}function j9(){return this.rgb().formatHex8()}function k9(){return GO(this).formatHsl()}function qk(){return this.rgb().formatRgb()}function Di(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=p9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Yk(t):r===3?new vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g9.exec(e))?new vr(t[1],t[2],t[3],1):(t=y9.exec(e))?new vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x9.exec(e))?qd(t[1],t[2],t[3],t[4]):(t=v9.exec(e))?qd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=b9.exec(e))?Qk(t[1],t[2]/100,t[3]/100,1):(t=w9.exec(e))?Qk(t[1],t[2]/100,t[3]/100,t[4]):Wk.hasOwnProperty(e)?Yk(Wk[e]):e==="transparent"?new vr(NaN,NaN,NaN,0):null}function Yk(e){return new vr(e>>16&255,e>>8&255,e&255,1)}function qd(e,t,r,n){return n<=0&&(e=t=r=NaN),new vr(e,t,r,n)}function N9(e){return e instanceof Uu||(e=Di(e)),e?(e=e.rgb(),new vr(e.r,e.g,e.b,e.opacity)):new vr}function Xy(e,t,r,n){return arguments.length===1?N9(e):new vr(e,t,r,n??1)}function vr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jb(vr,Xy,YO(Uu,{brighter(e){return e=e==null?Nm:Math.pow(Nm,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vr(Ni(this.r),Ni(this.g),Ni(this.b),Sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gk,formatHex:Gk,formatHex8:S9,formatRgb:Xk,toString:Xk}));function Gk(){return`#${li(this.r)}${li(this.g)}${li(this.b)}`}function S9(){return`#${li(this.r)}${li(this.g)}${li(this.b)}${li((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xk(){const e=Sm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ni(this.r)}, ${Ni(this.g)}, ${Ni(this.b)}${e===1?")":`, ${e})`}`}function Sm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function li(e){return e=Ni(e),(e<16?"0":"")+e.toString(16)}function Qk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Nn(e,t,r,n)}function GO(e){if(e instanceof Nn)return new Nn(e.h,e.s,e.l,e.opacity);if(e instanceof Uu||(e=Di(e)),!e)return new Nn;if(e instanceof Nn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Nn(o,l,c,e.opacity)}function _9(e,t,r,n){return arguments.length===1?GO(e):new Nn(e,t,r,n??1)}function Nn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jb(Nn,_9,YO(Uu,{brighter(e){return e=e==null?Nm:Math.pow(Nm,e),new Nn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?eu:Math.pow(eu,e),new Nn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new vr(Qg(e>=240?e-240:e+120,a,n),Qg(e,a,n),Qg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Nn(Zk(this.h),Yd(this.s),Yd(this.l),Sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sm(this.opacity);return`${e===1?"hsl(":"hsla("}${Zk(this.h)}, ${Yd(this.s)*100}%, ${Yd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zk(e){return e=(e||0)%360,e<0?e+360:e}function Yd(e){return Math.max(0,Math.min(1,e||0))}function Qg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const kb=e=>()=>e;function E9(e,t){return function(r){return e+r*t}}function C9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function P9(e){return(e=+e)==1?XO:function(t,r){return r-t?C9(t,r,e):kb(isNaN(t)?r:t)}}function XO(e,t){var r=t-e;return r?E9(e,r):kb(isNaN(e)?t:e)}const _m=function e(t){var r=P9(t);function n(a,s){var o=r((a=Xy(a)).r,(s=Xy(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=XO(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function O9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function A9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function T9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Ca(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function M9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function kn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function I9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ca(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Qy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zg=new RegExp(Qy.source,"g");function D9(e){return function(){return e}}function R9(e){return function(t){return e(t)+""}}function QO(e,t){var r=Qy.lastIndex=Zg.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Qy.exec(e))&&(a=Zg.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:kn(n,a)})),r=Zg.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?R9(c[0].x):D9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ca(e,t){var r=typeof t,n;return t==null||r==="boolean"?kb(t):(r==="number"?kn:r==="string"?(n=Di(t))?(t=n,_m):QO:t instanceof Di?_m:t instanceof Date?M9:A9(t)?O9:Array.isArray(t)?T9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?I9:kn)(e,t)}function Nb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Jk=180/Math.PI,Zy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ZO(e,t,r,n,a,s){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Jk,skewX:Math.atan(c)*Jk,scaleX:o,scaleY:l}}var Gd;function L9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Zy:ZO(t.a,t.b,t.c,t.d,t.e,t.f)}function $9(e){return e==null||(Gd||(Gd=document.createElementNS("http://www.w3.org/2000/svg","g")),Gd.setAttribute("transform",e),!(e=Gd.transform.baseVal.consolidate()))?Zy:(e=e.matrix,ZO(e.a,e.b,e.c,e.d,e.e,e.f))}function JO(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,m,h,p){if(u!==f||d!==m){var x=h.push("translate(",null,t,null,r);p.push({i:x-4,x:kn(u,f)},{i:x-2,x:kn(d,m)})}else(f||m)&&h.push("translate("+f+t+m+r)}function o(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(a(f)+"rotate(",null,n)-2,x:kn(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function l(u,d,f,m){u!==d?m.push({i:f.push(a(f)+"skewX(",null,n)-2,x:kn(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,m,h,p){if(u!==f||d!==m){var x=h.push(a(h)+"scale(",null,",",null,")");p.push({i:x-4,x:kn(u,f)},{i:x-2,x:kn(d,m)})}else(f!==1||m!==1)&&h.push(a(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,m),o(u.rotate,d.rotate,f,m),l(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var p=-1,x=m.length,v;++p<x;)f[(v=m[p]).i]=v.x(h);return f.join("")}}}var z9=JO(L9,"px, ","px)","deg)"),F9=JO($9,", ",")",")"),B9=1e-12;function eN(e){return((e=Math.exp(e))+1/e)/2}function U9(e){return((e=Math.exp(e))-1/e)/2}function H9(e){return((e=Math.exp(2*e))-1)/(e+1)}const $f=function e(t,r,n){function a(s,o){var l=s[0],c=s[1],u=s[2],d=o[0],f=o[1],m=o[2],h=d-l,p=f-c,x=h*h+p*p,v,y;if(x<B9)y=Math.log(m/u)/t,v=function(_){return[l+_*h,c+_*p,u*Math.exp(t*_*y)]};else{var w=Math.sqrt(x),b=(m*m-u*u+n*x)/(2*u*r*w),j=(m*m-u*u-n*x)/(2*m*r*w),k=Math.log(Math.sqrt(b*b+1)-b),N=Math.log(Math.sqrt(j*j+1)-j);y=(N-k)/t,v=function(_){var S=_*y,C=eN(k),T=u/(r*w)*(C*H9(t*S+k)-U9(k));return[l+T*h,c+T*p,u*C/eN(t*S+k)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return a.rho=function(s){var o=Math.max(.001,+s),l=o*o,c=l*l;return e(o,l,c)},a}(Math.SQRT2,2,4);function V9(e,t){t===void 0&&(t=e,e=Ca);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}var nl=0,hc=0,Jl=0,eA=1e3,Em,pc,Cm=0,Ri=0,sp=0,ru=typeof performance=="object"&&performance.now?performance:Date,tA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sb(){return Ri||(tA(W9),Ri=ru.now()+sp)}function W9(){Ri=0}function Pm(){this._call=this._time=this._next=null}Pm.prototype=rA.prototype={constructor:Pm,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Sb():+r)+(t==null?0:+t),!this._next&&pc!==this&&(pc?pc._next=this:Em=this,pc=this),this._call=e,this._time=r,Jy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jy())}};function rA(e,t,r){var n=new Pm;return n.restart(e,t,r),n}function K9(){Sb(),++nl;for(var e=Em,t;e;)(t=Ri-e._time)>=0&&e._call.call(void 0,t),e=e._next;--nl}function tN(){Ri=(Cm=ru.now())+sp,nl=hc=0;try{K9()}finally{nl=0,Y9(),Ri=0}}function q9(){var e=ru.now(),t=e-Cm;t>eA&&(sp-=t,Cm=e)}function Y9(){for(var e,t=Em,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Em=r);pc=e,Jy(n)}function Jy(e){if(!nl){hc&&(hc=clearTimeout(hc));var t=e-Ri;t>24?(e<1/0&&(hc=setTimeout(tN,e-ru.now()-sp)),Jl&&(Jl=clearInterval(Jl))):(Jl||(Cm=ru.now(),Jl=setInterval(q9,eA)),nl=1,tA(tN))}}function rN(e,t,r){var n=new Pm;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var G9=np("start","end","cancel","interrupt"),X9=[],nA=0,nN=1,ex=2,zf=3,aN=4,tx=5,Ff=6;function ip(e,t,r,n,a,s){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;Q9(e,r,{name:t,index:n,group:a,on:G9,tween:X9,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:nA})}function _b(e,t){var r=$n(e,t);if(r.state>nA)throw new Error("too late; already scheduled");return r}function la(e,t){var r=$n(e,t);if(r.state>zf)throw new Error("too late; already running");return r}function $n(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Q9(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=rA(s,0,r.time);function s(u){r.state=nN,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var d,f,m,h;if(r.state!==nN)return c();for(d in n)if(h=n[d],h.name===r.name){if(h.state===zf)return rN(o);h.state===aN?(h.state=Ff,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[d]):+d<t&&(h.state=Ff,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[d])}if(rN(function(){r.state===zf&&(r.state=aN,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=ex,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ex){for(r.state=zf,a=new Array(m=r.tween.length),d=0,f=-1;d<m;++d)(h=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=h);a.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=tx,1),f=-1,m=a.length;++f<m;)a[f].call(e,d);r.state===tx&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Ff,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Bf(e,t){var r=e.__transition,n,a,s=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){s=!1;continue}a=n.state>ex&&n.state<tx,n.state=Ff,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}s&&delete e.__transition}}function Z9(e){return this.each(function(){Bf(this,e)})}function J9(e,t){var r,n;return function(){var a=la(this,e),s=a.tween;if(s!==r){n=r=s;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function eU(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=la(this,e),o=s.tween;if(o!==n){a=(n=o).slice();for(var l={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function tU(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=$n(this.node(),r).tween,a=0,s=n.length,o;a<s;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?J9:eU)(r,e,t))}function Eb(e,t,r){var n=e._id;return e.each(function(){var a=la(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return $n(a,n).value[t]}}function aA(e,t){var r;return(typeof t=="number"?kn:t instanceof Di?_m:(r=Di(t))?(t=r,_m):QO)(e,t)}function rU(e){return function(){this.removeAttribute(e)}}function nU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aU(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttribute(e);return o===a?null:o===n?s:s=t(n=o,r)}}function sU(e,t,r){var n,a=r+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?s:s=t(n=o,r)}}function iU(e,t,r){var n,a,s;return function(){var o,l=r(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===n&&c===a?s:(a=c,s=t(n=o,l)))}}function oU(e,t,r){var n,a,s;return function(){var o,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===n&&c===a?s:(a=c,s=t(n=o,l)))}}function lU(e,t){var r=ap(e),n=r==="transform"?F9:aA;return this.attrTween(e,typeof t=="function"?(r.local?oU:iU)(r,n,Eb(this,"attr."+e,t)):t==null?(r.local?nU:rU)(r):(r.local?sU:aU)(r,n,t))}function cU(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function uU(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function dU(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&uU(e,s)),r}return a._value=t,a}function fU(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&cU(e,s)),r}return a._value=t,a}function mU(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=ap(e);return this.tween(r,(n.local?dU:fU)(n,t))}function hU(e,t){return function(){_b(this,e).delay=+t.apply(this,arguments)}}function pU(e,t){return t=+t,function(){_b(this,e).delay=t}}function gU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hU:pU)(t,e)):$n(this.node(),t).delay}function yU(e,t){return function(){la(this,e).duration=+t.apply(this,arguments)}}function xU(e,t){return t=+t,function(){la(this,e).duration=t}}function vU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yU:xU)(t,e)):$n(this.node(),t).duration}function bU(e,t){if(typeof t!="function")throw new Error;return function(){la(this,e).ease=t}}function wU(e){var t=this._id;return arguments.length?this.each(bU(t,e)):$n(this.node(),t).ease}function jU(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;la(this,e).ease=r}}function kU(e){if(typeof e!="function")throw new Error;return this.each(jU(this._id,e))}function NU(e){typeof e!="function"&&(e=DO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],o=s.length,l=n[a]=[],c,u=0;u<o;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Ra(n,this._parents,this._name,this._id)}function SU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),o=new Array(n),l=0;l<s;++l)for(var c=t[l],u=r[l],d=c.length,f=o[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;l<n;++l)o[l]=t[l];return new Ra(o,this._parents,this._name,this._id)}function _U(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function EU(e,t,r){var n,a,s=_U(t)?_b:la;return function(){var o=s(this,e),l=o.on;l!==n&&(a=(n=l).copy()).on(t,r),o.on=a}}function CU(e,t){var r=this._id;return arguments.length<2?$n(this.node(),r).on.on(e):this.each(EU(r,e,t))}function PU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function OU(){return this.on("end.remove",PU(this._id))}function AU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=bb(e));for(var n=this._groups,a=n.length,s=new Array(a),o=0;o<a;++o)for(var l=n[o],c=l.length,u=s[o]=new Array(c),d,f,m=0;m<c;++m)(d=l[m])&&(f=e.call(d,d.__data__,m,l))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,ip(u[m],t,r,m,u,$n(d,r)));return new Ra(s,this._parents,t,r)}function TU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=IO(e));for(var n=this._groups,a=n.length,s=[],o=[],l=0;l<a;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,p=$n(d,r),x=0,v=m.length;x<v;++x)(h=m[x])&&ip(h,t,r,x,m,p);s.push(m),o.push(d)}return new Ra(s,o,t,r)}var MU=Bu.prototype.constructor;function IU(){return new MU(this._groups,this._parents)}function DU(e,t){var r,n,a;return function(){var s=rl(this,e),o=(this.style.removeProperty(e),rl(this,e));return s===o?null:s===r&&o===n?a:a=t(r=s,n=o)}}function sA(e){return function(){this.style.removeProperty(e)}}function RU(e,t,r){var n,a=r+"",s;return function(){var o=rl(this,e);return o===a?null:o===n?s:s=t(n=o,r)}}function LU(e,t,r){var n,a,s;return function(){var o=rl(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),rl(this,e))),o===c?null:o===n&&c===a?s:(a=c,s=t(n=o,l))}}function $U(e,t){var r,n,a,s="style."+t,o="end."+s,l;return function(){var c=la(this,e),u=c.on,d=c.value[s]==null?l||(l=sA(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(o,a=d),c.on=n}}function zU(e,t,r){var n=(e+="")=="transform"?z9:aA;return t==null?this.styleTween(e,DU(e,n)).on("end.style."+e,sA(e)):typeof t=="function"?this.styleTween(e,LU(e,n,Eb(this,"style."+e,t))).each($U(this._id,e)):this.styleTween(e,RU(e,n,t),r).on("end.style."+e,null)}function FU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function BU(e,t,r){var n,a;function s(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&FU(e,o,r)),n}return s._value=t,s}function UU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,BU(e,t,r??""))}function HU(e){return function(){this.textContent=e}}function VU(e){return function(){var t=e(this);this.textContent=t??""}}function WU(e){return this.tween("text",typeof e=="function"?VU(Eb(this,"text",e)):HU(e==null?"":e+""))}function KU(e){return function(t){this.textContent=e.call(this,t)}}function qU(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&KU(a)),t}return n._value=e,n}function YU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,qU(e))}function GU(){for(var e=this._name,t=this._id,r=iA(),n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=$n(c,t);ip(c,e,r,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ra(n,this._parents,e,r)}function XU(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--a===0&&s()}};r.each(function(){var u=la(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var QU=0;function Ra(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function iA(){return++QU}var da=Bu.prototype;Ra.prototype={constructor:Ra,select:AU,selectAll:TU,selectChild:da.selectChild,selectChildren:da.selectChildren,filter:NU,merge:SU,selection:IU,transition:GU,call:da.call,nodes:da.nodes,node:da.node,size:da.size,empty:da.empty,each:da.each,on:CU,attr:lU,attrTween:mU,style:zU,styleTween:UU,text:WU,textTween:YU,remove:OU,tween:tU,delay:gU,duration:vU,ease:wU,easeVarying:kU,end:XU,[Symbol.iterator]:da[Symbol.iterator]};function ZU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var JU={time:null,delay:0,duration:250,ease:ZU};function eH(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function tH(e){var t,r;e instanceof Ra?(t=e._id,e=e._name):(t=iA(),(r=JU).time=Sb(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var o=n[s],l=o.length,c,u=0;u<l;++u)(c=o[u])&&ip(c,e,t,u,o,r||eH(c,t));return new Ra(n,this._parents,e,t)}Bu.prototype.interrupt=Z9;Bu.prototype.transition=tH;const Xd=e=>()=>e;function rH(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function ka(e,t,r){this.k=e,this.x=t,this.y=r}ka.prototype={constructor:ka,scale:function(e){return e===1?this:new ka(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ka(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var op=new ka(1,0,0);oA.prototype=ka.prototype;function oA(e){for(;!e.__zoom;)if(!(e=e.parentNode))return op;return e.__zoom}function Jg(e){e.stopImmediatePropagation()}function ec(e){e.preventDefault(),e.stopImmediatePropagation()}function nH(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function aH(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function sN(){return this.__zoom||op}function sH(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function iH(){return navigator.maxTouchPoints||"ontouchstart"in this}function oH(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function lA(){var e=nH,t=aH,r=oH,n=sH,a=iH,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=$f,u=np("start","zoom","end"),d,f,m,h=500,p=150,x=0,v=10;function y(A){A.property("__zoom",sN).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(A,L,D,R){var I=A.selection?A.selection():A;I.property("__zoom",sN),A!==I?k(A,L,D,R):I.interrupt().each(function(){N(this,arguments).event(R).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},y.scaleBy=function(A,L,D,R){y.scaleTo(A,function(){var I=this.__zoom.k,P=typeof L=="function"?L.apply(this,arguments):L;return I*P},D,R)},y.scaleTo=function(A,L,D,R){y.transform(A,function(){var I=t.apply(this,arguments),P=this.__zoom,$=D==null?j(I):typeof D=="function"?D.apply(this,arguments):D,F=P.invert($),H=typeof L=="function"?L.apply(this,arguments):L;return r(b(w(P,H),$,F),I,o)},D,R)},y.translateBy=function(A,L,D,R){y.transform(A,function(){return r(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),o)},null,R)},y.translateTo=function(A,L,D,R,I){y.transform(A,function(){var P=t.apply(this,arguments),$=this.__zoom,F=R==null?j(P):typeof R=="function"?R.apply(this,arguments):R;return r(op.translate(F[0],F[1]).scale($.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof D=="function"?-D.apply(this,arguments):-D),P,o)},R,I)};function w(A,L){return L=Math.max(s[0],Math.min(s[1],L)),L===A.k?A:new ka(L,A.x,A.y)}function b(A,L,D){var R=L[0]-D[0]*A.k,I=L[1]-D[1]*A.k;return R===A.x&&I===A.y?A:new ka(A.k,R,I)}function j(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function k(A,L,D,R){A.on("start.zoom",function(){N(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(R).end()}).tween("zoom",function(){var I=this,P=arguments,$=N(I,P).event(R),F=t.apply(I,P),H=D==null?j(F):typeof D=="function"?D.apply(I,P):D,B=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),Y=I.__zoom,X=typeof L=="function"?L.apply(I,P):L,Q=c(Y.invert(H).concat(B/Y.k),X.invert(H).concat(B/X.k));return function(G){if(G===1)G=X;else{var Z=Q(G),U=B/Z[2];G=new ka(U,H[0]-Z[0]*U,H[1]-Z[1]*U)}$.zoom(null,G)}})}function N(A,L,D){return!D&&A.__zooming||new _(A,L)}function _(A,L){this.that=A,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,L),this.taps=0}_.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,L){return this.mouse&&A!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var L=Tr(this.that).datum();u.call(A,this.that,new rH(A,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),L)}};function S(A,...L){if(!e.apply(this,arguments))return;var D=N(this,L).event(A),R=this.__zoom,I=Math.max(s[0],Math.min(s[1],R.k*Math.pow(2,n.apply(this,arguments)))),P=wn(A);if(D.wheel)(D.mouse[0][0]!==P[0]||D.mouse[0][1]!==P[1])&&(D.mouse[1]=R.invert(D.mouse[0]=P)),clearTimeout(D.wheel);else{if(R.k===I)return;D.mouse=[P,R.invert(P)],Bf(this),D.start()}ec(A),D.wheel=setTimeout($,p),D.zoom("mouse",r(b(w(R,I),D.mouse[0],D.mouse[1]),D.extent,o));function $(){D.wheel=null,D.end()}}function C(A,...L){if(m||!e.apply(this,arguments))return;var D=A.currentTarget,R=N(this,L,!0).event(A),I=Tr(A.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",B,!0),P=wn(A,D),$=A.clientX,F=A.clientY;WO(A.view),Jg(A),R.mouse=[P,this.__zoom.invert(P)],Bf(this),R.start();function H(Y){if(ec(Y),!R.moved){var X=Y.clientX-$,Q=Y.clientY-F;R.moved=X*X+Q*Q>x}R.event(Y).zoom("mouse",r(b(R.that.__zoom,R.mouse[0]=wn(Y,D),R.mouse[1]),R.extent,o))}function B(Y){I.on("mousemove.zoom mouseup.zoom",null),KO(Y.view,R.moved),ec(Y),R.event(Y).end()}}function T(A,...L){if(e.apply(this,arguments)){var D=this.__zoom,R=wn(A.changedTouches?A.changedTouches[0]:A,this),I=D.invert(R),P=D.k*(A.shiftKey?.5:2),$=r(b(w(D,P),R,I),t.apply(this,L),o);ec(A),l>0?Tr(this).transition().duration(l).call(k,$,R,A):Tr(this).call(y.transform,$,R,A)}}function E(A,...L){if(e.apply(this,arguments)){var D=A.touches,R=D.length,I=N(this,L,A.changedTouches.length===R).event(A),P,$,F,H;for(Jg(A),$=0;$<R;++$)F=D[$],H=wn(F,this),H=[H,this.__zoom.invert(H),F.identifier],I.touch0?!I.touch1&&I.touch0[2]!==H[2]&&(I.touch1=H,I.taps=0):(I.touch0=H,P=!0,I.taps=1+!!d);d&&(d=clearTimeout(d)),P&&(I.taps<2&&(f=H[0],d=setTimeout(function(){d=null},h)),Bf(this),I.start())}}function O(A,...L){if(this.__zooming){var D=N(this,L).event(A),R=A.changedTouches,I=R.length,P,$,F,H;for(ec(A),P=0;P<I;++P)$=R[P],F=wn($,this),D.touch0&&D.touch0[2]===$.identifier?D.touch0[0]=F:D.touch1&&D.touch1[2]===$.identifier&&(D.touch1[0]=F);if($=D.that.__zoom,D.touch1){var B=D.touch0[0],Y=D.touch0[1],X=D.touch1[0],Q=D.touch1[1],G=(G=X[0]-B[0])*G+(G=X[1]-B[1])*G,Z=(Z=Q[0]-Y[0])*Z+(Z=Q[1]-Y[1])*Z;$=w($,Math.sqrt(G/Z)),F=[(B[0]+X[0])/2,(B[1]+X[1])/2],H=[(Y[0]+Q[0])/2,(Y[1]+Q[1])/2]}else if(D.touch0)F=D.touch0[0],H=D.touch0[1];else return;D.zoom("touch",r(b($,F,H),D.extent,o))}}function M(A,...L){if(this.__zooming){var D=N(this,L).event(A),R=A.changedTouches,I=R.length,P,$;for(Jg(A),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),P=0;P<I;++P)$=R[P],D.touch0&&D.touch0[2]===$.identifier?delete D.touch0:D.touch1&&D.touch1[2]===$.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&($=wn($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<v)){var F=Tr(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(A){return arguments.length?(n=typeof A=="function"?A:Xd(+A),y):n},y.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Xd(!!A),y):e},y.touchable=function(A){return arguments.length?(a=typeof A=="function"?A:Xd(!!A),y):a},y.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Xd([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),y):t},y.scaleExtent=function(A){return arguments.length?(s[0]=+A[0],s[1]=+A[1],y):[s[0],s[1]]},y.translateExtent=function(A){return arguments.length?(o[0][0]=+A[0][0],o[1][0]=+A[1][0],o[0][1]=+A[0][1],o[1][1]=+A[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(A){return arguments.length?(r=A,y):r},y.duration=function(A){return arguments.length?(l=+A,y):l},y.interpolate=function(A){return arguments.length?(c=A,y):c},y.on=function(){var A=u.on.apply(u,arguments);return A===u?y:A},y.clickDistance=function(A){return arguments.length?(x=(A=+A)*A,y):Math.sqrt(x)},y.tapDistance=function(A){return arguments.length?(v=+A,y):v},y}const ta={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},nu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],cA=["Enter"," ","Escape"],uA={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var al;(function(e){e.Strict="strict",e.Loose="loose"})(al||(al={}));var Si;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Si||(Si={}));var au;(function(e){e.Partial="partial",e.Full="full"})(au||(au={}));const dA={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var us;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(us||(us={}));var Om;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Om||(Om={}));var fe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(fe||(fe={}));const iN={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function fA(e){return e===null?null:e?"valid":"invalid"}const mA=e=>"id"in e&&"source"in e&&"target"in e,lH=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Cb=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Yi=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Hu=(e,t=[0,0])=>{const{width:r,height:n}=Ka(e),a=e.origin??t,s=r*a[0],o=n*a[1];return{x:e.position.x-s,y:e.position.y-o}},cH=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const s=typeof a=="string";let o=!t.nodeLookup&&!s?a:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(a):Cb(a)?a:t.nodeLookup.get(a.id));const l=o?Am(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return lp(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return cp(r)},Vu=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=lp(r,Am(a)),n=!0)}),n?cp(r):{x:0,y:0,width:0,height:0}},Pb=(e,t,[r,n,a]=[0,0,1],s=!1,o=!1)=>{const l={...Ku(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:m=!1}=u;if(o&&!f||m)continue;const h=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,x=su(l,il(u)),v=(h??0)*(p??0),y=s&&x>0;(!u.internals.handleBounds||y||x>=v||u.dragging)&&c.push(u)}return c},uH=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function dH(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function fH({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:s},o){if(e.size===0)return Promise.resolve(!0);const l=dH(e,o),c=Vu(l),u=Ob(c,t,r,(o==null?void 0:o.minZoom)??a,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await n.setViewport(u,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function hA({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:s}){const o=r.get(e),l=o.parentId?r.get(o.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=o.origin??n;let f=o.extent||a;if(o.extent==="parent"&&!o.expandParent)if(!l)s==null||s("005",ta.error005());else{const h=l.measured.width,p=l.measured.height;h&&p&&(f=[[c,u],[c+h,u+p]])}else l&&ol(o.extent)&&(f=[[o.extent[0][0]+c,o.extent[0][1]+u],[o.extent[1][0]+c,o.extent[1][1]+u]]);const m=ol(f)?Li(t,f,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",ta.error015())),{position:{x:m.x-c+(o.measured.width??0)*d[0],y:m.y-u+(o.measured.height??0)*d[1]},positionAbsolute:m}}async function mH({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const s=new Set(e.map(m=>m.id)),o=[];for(const m of r){if(m.deletable===!1)continue;const h=s.has(m.id),p=!h&&m.parentId&&o.find(x=>x.id===m.parentId);(h||p)&&o.push(m)}const l=new Set(t.map(m=>m.id)),c=n.filter(m=>m.deletable!==!1),d=uH(o,c);for(const m of c)l.has(m.id)&&!d.find(p=>p.id===m.id)&&d.push(m);if(!a)return{edges:d,nodes:o};const f=await a({nodes:o,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:o}:{edges:[],nodes:[]}:f}const sl=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Li=(e={x:0,y:0},t,r)=>({x:sl(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:sl(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function pA(e,t,r){const{width:n,height:a}=Ka(r),{x:s,y:o}=r.internals.positionAbsolute;return Li(e,[[s,o],[s+n,o+a]],t)}const oN=(e,t,r)=>e<t?sl(Math.abs(e-t),1,t)/t:e>r?-sl(Math.abs(e-r),1,t)/t:0,gA=(e,t,r=15,n=40)=>{const a=oN(e.x,n,t.width-n)*r,s=oN(e.y,n,t.height-n)*r;return[a,s]},lp=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),rx=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),cp=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),il=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=Cb(e)?e.internals.positionAbsolute:Hu(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},Am=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=Cb(e)?e.internals.positionAbsolute:Hu(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},yA=(e,t)=>cp(lp(rx(e),rx(t))),su=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},lN=e=>Cn(e.width)&&Cn(e.height)&&Cn(e.x)&&Cn(e.y),Cn=e=>!isNaN(e)&&isFinite(e),hH=(e,t)=>{},Wu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ku=({x:e,y:t},[r,n,a],s=!1,o=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return s?Wu(l,o):l},Tm=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function eo(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function pH(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=eo(e,r),a=eo(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=eo(e.top??e.y??0,r),a=eo(e.bottom??e.y??0,r),s=eo(e.left??e.x??0,t),o=eo(e.right??e.x??0,t);return{top:n,right:o,bottom:a,left:s,x:s+o,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function gH(e,t,r,n,a,s){const{x:o,y:l}=Tm(e,[t,r,n]),{x:c,y:u}=Tm({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=s-u;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const Ob=(e,t,r,n,a,s)=>{const o=pH(s,t,r),l=(t-o.x)/e.width,c=(r-o.y)/e.height,u=Math.min(l,c),d=sl(u,n,a),f=e.x+e.width/2,m=e.y+e.height/2,h=t/2-f*d,p=r/2-m*d,x=gH(e,h,p,d,t,r),v={left:Math.min(x.left-o.left,0),top:Math.min(x.top-o.top,0),right:Math.min(x.right-o.right,0),bottom:Math.min(x.bottom-o.bottom,0)};return{x:h-v.left+v.right,y:p-v.top+v.bottom,zoom:d}},iu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function ol(e){return e!=null&&e!=="parent"}function Ka(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function xA(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function vA(e,t={width:0,height:0},r,n,a){const s={...e},o=n.get(r);if(o){const l=o.origin||a;s.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return s}function cN(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function yH(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function xH(e){return{...uA,...e||{}}}function Cc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:s,y:o}=Pn(e),l=Ku({x:s-((a==null?void 0:a.left)??0),y:o-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?Wu(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const Ab=e=>({width:e.offsetWidth,height:e.offsetHeight}),bA=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},vH=["INPUT","SELECT","TEXTAREA"];function wA(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:vH.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const jA=e=>"clientX"in e,Pn=(e,t)=>{var s,o;const r=jA(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},uN=(e,t,r,n,a)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:a,position:o.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...Ab(o)}})};function kA({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:o,targetControlY:l}){const c=e*.125+a*.375+o*.375+r*.125,u=t*.125+s*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function Qd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function dN({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case fe.Left:return[t-Qd(t-n,s),r];case fe.Right:return[t+Qd(n-t,s),r];case fe.Top:return[t,r-Qd(r-a,s)];case fe.Bottom:return[t,r+Qd(a-r,s)]}}function NA({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top,curvature:o=.25}){const[l,c]=dN({pos:r,x1:e,y1:t,x2:n,y2:a,c:o}),[u,d]=dN({pos:s,x1:n,y1:a,x2:e,y2:t,c:o}),[f,m,h,p]=kA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${a}`,f,m,h,p]}function SA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,o=Math.abs(n-t)/2,l=n<t?n+o:n-o;return[s,l,a,o]}function bH({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:s="basic"}){if(s==="manual")return n;const o=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return o+l}function wH({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const s=lp(Am(e),Am(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return su(o,cp(s))>0}const jH=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,kH=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),_A=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||jH;let a;return mA(e)?a={...e}:a={...e,id:n(e)},kH(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function EA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,o,l]=SA({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,o,l]}const fN={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},NH=({source:e,sourcePosition:t=fe.Bottom,target:r})=>t===fe.Left||t===fe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},mN=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function SH({source:e,sourcePosition:t=fe.Bottom,target:r,targetPosition:n=fe.Top,center:a,offset:s,stepPosition:o}){const l=fN[t],c=fN[n],u={x:e.x+l.x*s,y:e.y+l.y*s},d={x:r.x+c.x*s,y:r.y+c.y*s},f=NH({source:u,sourcePosition:t,target:d}),m=f.x!==0?"x":"y",h=f[m];let p=[],x,v;const y={x:0,y:0},w={x:0,y:0},[,,b,j]=SA({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[m]*c[m]===-1){m==="x"?(x=a.x??u.x+(d.x-u.x)*o,v=a.y??(u.y+d.y)/2):(x=a.x??(u.x+d.x)/2,v=a.y??u.y+(d.y-u.y)*o);const N=[{x,y:u.y},{x,y:d.y}],_=[{x:u.x,y:v},{x:d.x,y:v}];l[m]===h?p=m==="x"?N:_:p=m==="x"?_:N}else{const N=[{x:u.x,y:d.y}],_=[{x:d.x,y:u.y}];if(m==="x"?p=l.x===h?_:N:p=l.y===h?N:_,t===n){const O=Math.abs(e[m]-r[m]);if(O<=s){const M=Math.min(s-1,s-O);l[m]===h?y[m]=(u[m]>e[m]?-1:1)*M:w[m]=(d[m]>r[m]?-1:1)*M}}if(t!==n){const O=m==="x"?"y":"x",M=l[m]===c[O],A=u[O]>d[O],L=u[O]<d[O];(l[m]===1&&(!M&&A||M&&L)||l[m]!==1&&(!M&&L||M&&A))&&(p=m==="x"?N:_)}const S={x:u.x+y.x,y:u.y+y.y},C={x:d.x+w.x,y:d.y+w.y},T=Math.max(Math.abs(S.x-p[0].x),Math.abs(C.x-p[0].x)),E=Math.max(Math.abs(S.y-p[0].y),Math.abs(C.y-p[0].y));T>=E?(x=(S.x+C.x)/2,v=p[0].y):(x=p[0].x,v=(S.y+C.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...p,{x:d.x+w.x,y:d.y+w.y},r],x,v,b,j]}function _H(e,t,r,n){const a=Math.min(mN(e,t)/2,mN(t,r)/2,n),{x:s,y:o}=t;if(e.x===s&&s===r.x||e.y===o&&o===r.y)return`L${s} ${o}`;if(e.y===o){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${o}Q ${s},${o} ${s},${o+a*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${o+a*c}Q ${s},${o} ${s+a*l},${o}`}function Mm({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,m,h,p,x]=SH({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:l,y:c},offset:u,stepPosition:d});return[f.reduce((y,w,b)=>{let j="";return b>0&&b<f.length-1?j=_H(f[b-1],w,f[b+1],o):j=`${b===0?"M":"L"}${w.x} ${w.y}`,y+=j,y},""),m,h,p,x]}function hN(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function EH(e){var f;const{sourceNode:t,targetNode:r}=e;if(!hN(t)||!hN(r))return null;const n=t.internals.handleBounds||pN(t.handles),a=r.internals.handleBounds||pN(r.handles),s=gN((n==null?void 0:n.source)??[],e.sourceHandle),o=gN(e.connectionMode===al.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!s||!o)return(f=e.onError)==null||f.call(e,"008",ta.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(s==null?void 0:s.position)||fe.Bottom,c=(o==null?void 0:o.position)||fe.Top,u=$i(t,s,l),d=$i(r,o,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function pN(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function $i(e,t,r=fe.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??Ka(e);if(n)return{x:a+o/2,y:s+l/2};switch((t==null?void 0:t.position)??r){case fe.Top:return{x:a+o/2,y:s};case fe.Right:return{x:a+o,y:s+l/2};case fe.Bottom:return{x:a+o/2,y:s+l};case fe.Left:return{x:a,y:s+l/2}}}function gN(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function nx(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function CH(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const s=new Set;return e.reduce((o,l)=>([l.markerStart||n,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=nx(c,t);s.has(u)||(o.push({id:u,color:c.color||r,...c}),s.add(u))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const CA=1e3,PH=10,Tb={nodeOrigin:[0,0],nodeExtent:nu,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},OH={...Tb,checkEquality:!0};function Mb(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function AH(e,t,r){const n=Mb(Tb,r);for(const a of e.values())if(a.parentId)Db(a,e,t,n);else{const s=Hu(a,n.nodeOrigin),o=ol(a.extent)?a.extent:n.nodeExtent,l=Li(s,o,Ka(a));a.internals.positionAbsolute=l}}function TH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const s={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(s):a.type==="target"&&n.push(s)}return{source:r,target:n}}function Ib(e){return e==="manual"}function ax(e,t,r,n={}){var u,d;const a=Mb(OH,n),s={i:0},o=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!Ib(a.zIndexMode)?CA:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let m=o.get(f.id);if(a.checkEquality&&f===(m==null?void 0:m.internals.userNode))t.set(f.id,m);else{const h=Hu(f,a.nodeOrigin),p=ol(f.extent)?f.extent:a.nodeExtent,x=Li(h,p,Ka(f));m={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:x,handleBounds:TH(f,m),z:PA(f,l,a.zIndexMode),userNode:f}},t.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(c=!1),f.parentId&&Db(m,t,r,n,s)}return c}function MH(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Db(e,t,r,n,a){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:l,zIndexMode:c}=Mb(Tb,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}MH(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*PH),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=s&&!Ib(c)?CA:0,{x:m,y:h,z:p}=IH(e,d,o,l,f,c),{positionAbsolute:x}=e.internals,v=m!==x.x||h!==x.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:m,y:h}:x,z:p}})}function PA(e,t,r){const n=Cn(e.zIndex)?e.zIndex:0;return Ib(r)?n:n+(e.selected?t:0)}function IH(e,t,r,n,a,s){const{x:o,y:l}=t.internals.positionAbsolute,c=Ka(e),u=Hu(e,r),d=ol(e.extent)?Li(u,e.extent,c):u;let f=Li({x:o+d.x,y:l+d.y},n,c);e.extent==="parent"&&(f=pA(f,c,t));const m=PA(e,a,s),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=m?h+1:m}}function Rb(e,t,r,n=[0,0]){var o;const a=[],s=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((o=s.get(l.parentId))==null?void 0:o.expandedRect)??il(c),d=yA(u,l.rect);s.set(l.parentId,{expandedRect:d,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},u)=>{var b;const d=c.internals.positionAbsolute,f=Ka(c),m=c.origin??n,h=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,x=Math.max(f.width,Math.round(l.width)),v=Math.max(f.height,Math.round(l.height)),y=(x-f.width)*m[0],w=(v-f.height)*m[1];(h>0||p>0||y||w)&&(a.push({id:u,type:"position",position:{x:c.position.x-h+y,y:c.position.y-p+w}}),(b=r.get(u))==null||b.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+h,y:j.position.y+p}})})),(f.width<l.width||f.height<l.height||h||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(h?m[0]*h-y:0),height:v+(p?m[1]*p-w:0)}})}),a}function DH(e,t,r,n,a,s,o){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const x=Ab(h.nodeElement),v=p.measured.width!==x.width||p.measured.height!==x.height;if(!!(x.width&&x.height&&(v||!p.internals.handleBounds||h.force))){const w=h.nodeElement.getBoundingClientRect(),b=ol(p.extent)?p.extent:s;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=pA(j,x,t.get(p.parentId)):b&&(j=Li(j,b,x));const k={...p,measured:x,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:uN("source",h.nodeElement,w,f,p.id),target:uN("target",h.nodeElement,w,f,p.id)}}};t.set(p.id,k),p.parentId&&Db(k,t,r,{nodeOrigin:a,zIndexMode:o}),c=!0,v&&(u.push({id:p.id,type:"dimensions",dimensions:x}),p.expandParent&&p.parentId&&m.push({id:p.id,parentId:p.parentId,rect:il(k,a)}))}}if(m.length>0){const h=Rb(m,t,r,a);u.push(...h)}return{changes:u,updatedInternals:c}}async function RH({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,s]],n),l=!!o&&(o.x!==r[0]||o.y!==r[1]||o.k!==r[2]);return Promise.resolve(l)}function yN(e,t,r,n,a,s){let o=a;const l=n.get(o)||new Map;n.set(o,l.set(r,t)),o=`${a}-${e}`;const c=n.get(o)||new Map;if(n.set(o,c.set(r,t)),s){o=`${a}-${e}-${s}`;const u=n.get(o)||new Map;n.set(o,u.set(r,t))}}function OA(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:s,sourceHandle:o=null,targetHandle:l=null}=n,c={edgeId:n.id,source:a,target:s,sourceHandle:o,targetHandle:l},u=`${a}-${o}--${s}-${l}`,d=`${s}-${l}--${a}-${o}`;yN("source",c,d,e,a,o),yN("target",c,u,e,s,l),t.set(n.id,n)}}function AA(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:AA(r,t):!1}function xN(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function LH(e,t,r,n){const a=new Map;for(const[s,o]of e)if((o.selected||o.id===n)&&(!o.parentId||!AA(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(s);l&&a.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function e0({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var o,l,c;const a=[];for(const[u,d]of t){const f=(o=r.get(u))==null?void 0:o.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const s=(l=r.get(e))==null?void 0:l.internals.userNode;return[s?{...s,position:((c=t.get(e))==null?void 0:c.position)||s.position,dragging:n}:a[0],a]}function $H({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const s={x:r-a.distance.x,y:n-a.distance.y},o=Wu(s,t);return{x:o.x-s.x,y:o.y-s.y}}function zH({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let s={x:null,y:null},o=0,l=new Map,c=!1,u={x:0,y:0},d=null,f=!1,m=null,h=!1,p=!1,x=null;function v({noDragClassName:w,handleSelector:b,domNode:j,isSelectable:k,nodeId:N,nodeClickDistance:_=0}){m=Tr(j);function S({x:O,y:M}){const{nodeLookup:A,nodeExtent:L,snapGrid:D,snapToGrid:R,nodeOrigin:I,onNodeDrag:P,onSelectionDrag:$,onError:F,updateNodePositions:H}=t();s={x:O,y:M};let B=!1;const Y=l.size>1,X=Y&&L?rx(Vu(l)):null,Q=Y&&R?$H({dragItems:l,snapGrid:D,x:O,y:M}):null;for(const[G,Z]of l){if(!A.has(G))continue;let U={x:O-Z.distance.x,y:M-Z.distance.y};R&&(U=Q?{x:Math.round(U.x+Q.x),y:Math.round(U.y+Q.y)}:Wu(U,D));let ne=null;if(Y&&L&&!Z.extent&&X){const{positionAbsolute:ae}=Z.internals,ce=ae.x-X.x+L[0][0],ge=ae.x+Z.measured.width-X.x2+L[1][0],pe=ae.y-X.y+L[0][1],Me=ae.y+Z.measured.height-X.y2+L[1][1];ne=[[ce,pe],[ge,Me]]}const{position:te,positionAbsolute:q}=hA({nodeId:G,nextPosition:U,nodeLookup:A,nodeExtent:ne||L,nodeOrigin:I,onError:F});B=B||Z.position.x!==te.x||Z.position.y!==te.y,Z.position=te,Z.internals.positionAbsolute=q}if(p=p||B,!!B&&(H(l,!0),x&&(n||P||!N&&$))){const[G,Z]=e0({nodeId:N,dragItems:l,nodeLookup:A});n==null||n(x,l,G,Z),P==null||P(x,G,Z),N||$==null||$(x,Z)}}async function C(){if(!d)return;const{transform:O,panBy:M,autoPanSpeed:A,autoPanOnNodeDrag:L}=t();if(!L){c=!1,cancelAnimationFrame(o);return}const[D,R]=gA(u,d,A);(D!==0||R!==0)&&(s.x=(s.x??0)-D/O[2],s.y=(s.y??0)-R/O[2],await M({x:D,y:R})&&S(s)),o=requestAnimationFrame(C)}function T(O){var Y;const{nodeLookup:M,multiSelectionActive:A,nodesDraggable:L,transform:D,snapGrid:R,snapToGrid:I,selectNodesOnDrag:P,onNodeDragStart:$,onSelectionDragStart:F,unselectNodesAndEdges:H}=t();f=!0,(!P||!k)&&!A&&N&&((Y=M.get(N))!=null&&Y.selected||H()),k&&P&&N&&(e==null||e(N));const B=Cc(O.sourceEvent,{transform:D,snapGrid:R,snapToGrid:I,containerBounds:d});if(s=B,l=LH(M,L,B,N),l.size>0&&(r||$||!N&&F)){const[X,Q]=e0({nodeId:N,dragItems:l,nodeLookup:M});r==null||r(O.sourceEvent,l,X,Q),$==null||$(O.sourceEvent,X,Q),N||F==null||F(O.sourceEvent,Q)}}const E=qO().clickDistance(_).on("start",O=>{const{domNode:M,nodeDragThreshold:A,transform:L,snapGrid:D,snapToGrid:R}=t();d=(M==null?void 0:M.getBoundingClientRect())||null,h=!1,p=!1,x=O.sourceEvent,A===0&&T(O),s=Cc(O.sourceEvent,{transform:L,snapGrid:D,snapToGrid:R,containerBounds:d}),u=Pn(O.sourceEvent,d)}).on("drag",O=>{const{autoPanOnNodeDrag:M,transform:A,snapGrid:L,snapToGrid:D,nodeDragThreshold:R,nodeLookup:I}=t(),P=Cc(O.sourceEvent,{transform:A,snapGrid:L,snapToGrid:D,containerBounds:d});if(x=O.sourceEvent,(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||N&&!I.has(N))&&(h=!0),!h){if(!c&&M&&f&&(c=!0,C()),!f){const $=Pn(O.sourceEvent,d),F=$.x-u.x,H=$.y-u.y;Math.sqrt(F*F+H*H)>R&&T(O)}(s.x!==P.xSnapped||s.y!==P.ySnapped)&&l&&f&&(u=Pn(O.sourceEvent,d),S(P))}}).on("end",O=>{if(!(!f||h)&&(c=!1,f=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:M,updateNodePositions:A,onNodeDragStop:L,onSelectionDragStop:D}=t();if(p&&(A(l,!1),p=!1),a||L||!N&&D){const[R,I]=e0({nodeId:N,dragItems:l,nodeLookup:M,dragging:!1});a==null||a(O.sourceEvent,l,R,I),L==null||L(O.sourceEvent,R,I),N||D==null||D(O.sourceEvent,I)}}}).filter(O=>{const M=O.target;return!O.button&&(!w||!xN(M,`.${w}`,j))&&(!b||xN(M,b,j))});m.call(E)}function y(){m==null||m.on(".drag",null)}return{update:v,destroy:y}}function FH(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const s of t.values())su(a,il(s))>0&&n.push(s);return n}const BH=250;function UH(e,t,r,n){var l,c;let a=[],s=1/0;const o=FH(e,r,t+BH);for(const u of o){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:m,y:h}=$i(u,f,f.position,!0),p=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(h-e.y,2));p>t||(p<s?(a=[{...f,x:m,y:h}],s=p):p===s&&a.push({...f,x:m,y:h}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function TA(e,t,r,n,a,s=!1){var u,d,f;const o=n.get(e);if(!o)return null;const l=a==="strict"?(u=o.internals.handleBounds)==null?void 0:u[t]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?l==null?void 0:l.find(m=>m.id===r):l==null?void 0:l[0])??null;return c&&s?{...c,...$i(o,c,c.position,!0)}:c}function MA(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function HH(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const IA=()=>!0;function VH(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:m,cancelConnection:h,onConnectStart:p,onConnect:x,onConnectEnd:v,isValidConnection:y=IA,onReconnectEnd:w,updateConnection:b,getTransform:j,getFromHandle:k,autoPanSpeed:N,dragThreshold:_=1,handleDomNode:S}){const C=bA(e.target);let T=0,E;const{x:O,y:M}=Pn(e),A=MA(s,S),L=l==null?void 0:l.getBoundingClientRect();let D=!1;if(!L||!A)return;const R=TA(a,A,n,c,t);if(!R)return;let I=Pn(e,L),P=!1,$=null,F=!1,H=null;function B(){if(!d||!L)return;const[te,q]=gA(I,L,N);m({x:te,y:q}),T=requestAnimationFrame(B)}const Y={...R,nodeId:a,type:A,position:R.position},X=c.get(a);let G={inProgress:!0,isValid:null,from:$i(X,Y,fe.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:X,to:I,toHandle:null,toPosition:iN[Y.position],toNode:null,pointer:I};function Z(){D=!0,b(G),p==null||p(e,{nodeId:a,handleId:n,handleType:A})}_===0&&Z();function U(te){if(!D){const{x:Me,y:fr}=Pn(te),Kr=Me-O,V=fr-M;if(!(Kr*Kr+V*V>_*_))return;Z()}if(!k()||!Y){ne(te);return}const q=j();I=Pn(te,L),E=UH(Ku(I,q,!1,[1,1]),r,c,Y),P||(B(),P=!0);const ae=DA(te,{handle:E,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:o?"target":"source",isValidConnection:y,doc:C,lib:u,flowId:f,nodeLookup:c});H=ae.handleDomNode,$=ae.connection,F=HH(!!E,ae.isValid);const ce=c.get(a),ge=ce?$i(ce,Y,fe.Left,!0):G.from,pe={...G,from:ge,isValid:F,to:ae.toHandle&&F?Tm({x:ae.toHandle.x,y:ae.toHandle.y},q):I,toHandle:ae.toHandle,toPosition:F&&ae.toHandle?ae.toHandle.position:iN[Y.position],toNode:ae.toHandle?c.get(ae.toHandle.nodeId):null,pointer:I};b(pe),G=pe}function ne(te){if(!("touches"in te&&te.touches.length>0)){if(D){(E||H)&&$&&F&&(x==null||x($));const{inProgress:q,...ae}=G,ce={...ae,toPosition:G.toHandle?G.toPosition:null};v==null||v(te,ce),s&&(w==null||w(te,ce))}h(),cancelAnimationFrame(T),P=!1,F=!1,$=null,H=null,C.removeEventListener("mousemove",U),C.removeEventListener("mouseup",ne),C.removeEventListener("touchmove",U),C.removeEventListener("touchend",ne)}}C.addEventListener("mousemove",U),C.addEventListener("mouseup",ne),C.addEventListener("touchmove",U),C.addEventListener("touchend",ne)}function DA(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:s,doc:o,lib:l,flowId:c,isValidConnection:u=IA,nodeLookup:d}){const f=s==="target",m=t?o.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=Pn(e),x=o.elementFromPoint(h,p),v=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:m,y={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const w=MA(void 0,v),b=v.getAttribute("data-nodeid"),j=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),N=v.classList.contains("connectableend");if(!b||!w)return y;const _={source:f?b:n,sourceHandle:f?j:a,target:f?n:b,targetHandle:f?a:j};y.connection=_;const C=k&&N&&(r===al.Strict?f&&w==="source"||!f&&w==="target":b!==n||j!==a);y.isValid=C&&u(_),y.toHandle=TA(b,w,j,d,r,!0)}return y}const sx={onPointerDown:VH,isValid:DA};function WH({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=Tr(e);function s({translateExtent:l,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:m=!0,inversePan:h=!1}){const p=b=>{if(b.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=b.sourceEvent.ctrlKey&&iu()?10:1,N=-b.sourceEvent.deltaY*(b.sourceEvent.deltaMode===1?.05:b.sourceEvent.deltaMode?1:.002)*d,_=j[2]*Math.pow(2,N*k);t.scaleTo(_)};let x=[0,0];const v=b=>{(b.sourceEvent.type==="mousedown"||b.sourceEvent.type==="touchstart")&&(x=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY])},y=b=>{const j=r();if(b.sourceEvent.type!=="mousemove"&&b.sourceEvent.type!=="touchmove"||!t)return;const k=[b.sourceEvent.clientX??b.sourceEvent.touches[0].clientX,b.sourceEvent.clientY??b.sourceEvent.touches[0].clientY],N=[k[0]-x[0],k[1]-x[1]];x=k;const _=n()*Math.max(j[2],Math.log(j[2]))*(h?-1:1),S={x:j[0]-N[0]*_,y:j[1]-N[1]*_},C=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},C,l)},w=lA().on("start",v).on("zoom",f?y:null).on("zoom.wheel",m?p:null);a.call(w,{})}function o(){a.on("zoom",null)}return{update:s,destroy:o,pointer:wn}}const up=e=>({x:e.x,y:e.y,zoom:e.k}),t0=({x:e,y:t,zoom:r})=>op.translate(e,t).scale(r),xo=(e,t)=>e.target.closest(`.${t}`),RA=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),KH=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,r0=(e,t=0,r=KH,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},LA=e=>{const t=e.ctrlKey&&iu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function qH({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(xo(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&o){const v=wn(d),y=LA(d),w=f*Math.pow(2,y);n.scaleTo(r,w,v,d);return}const m=d.deltaMode===1?20:1;let h=a===Si.Vertical?0:d.deltaX*m,p=a===Si.Horizontal?0:d.deltaY*m;!iu()&&d.shiftKey&&a!==Si.Vertical&&(h=d.deltaY*m,p=0),n.translateBy(r,-(h/f)*s,-(p/f)*s,{internal:!0});const x=up(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,x))}}function YH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const s=n.type==="wheel",o=!t&&s&&!n.ctrlKey,l=xo(n,e);if(n.ctrlKey&&s&&l&&n.preventDefault(),o||l)return null;n.preventDefault(),r.call(this,n,a)}}function GH({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var s,o,l;if((s=n.sourceEvent)!=null&&s.internal)return;const a=up(n.transform);e.mouseButton=((o=n.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function XH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return s=>{var o,l;e.usedRightMouseButton=!!(r&&RA(t,e.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||n([s.transform.x,s.transform.y,s.transform.k]),a&&!((l=s.sourceEvent)!=null&&l.internal)&&(a==null||a(s.sourceEvent,up(s.transform)))}}function QH({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:s}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,s&&RA(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=up(o.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(o.sourceEvent,c)},r?150:0)}}}function ZH({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var v;const m=e||t,h=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(xo(f,`${u}-flow__node`)||xo(f,`${u}-flow__edge`)))return!0;if(!n&&!m&&!a&&!s&&!r||o||d&&!p||xo(f,l)&&p||xo(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!m&&!a&&!h&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&x}}function JH({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=lA().scaleExtent([t,r]).translateExtent(n),m=Tr(e).call(f);w({x:a.x,y:a.y,zoom:sl(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const h=m.on("wheel.zoom"),p=m.on("dblclick.zoom");f.wheelDelta(LA);function x(E,O){return m?new Promise(M=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Ca:$f).transform(r0(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>M(!0)),E)}):Promise.resolve(!1)}function v({noWheelClassName:E,noPanClassName:O,onPaneContextMenu:M,userSelectionActive:A,panOnScroll:L,panOnDrag:D,panOnScrollMode:R,panOnScrollSpeed:I,preventScrolling:P,zoomOnPinch:$,zoomOnScroll:F,zoomOnDoubleClick:H,zoomActivationKeyPressed:B,lib:Y,onTransformChange:X,connectionInProgress:Q,paneClickDistance:G,selectionOnDrag:Z}){A&&!u.isZoomingOrPanning&&y();const U=L&&!B&&!A;f.clickDistance(Z?1/0:!Cn(G)||G<0?0:G);const ne=U?qH({zoomPanValues:u,noWheelClassName:E,d3Selection:m,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:I,zoomOnPinch:$,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:l}):YH({noWheelClassName:E,preventScrolling:P,d3ZoomHandler:h});if(m.on("wheel.zoom",ne,{passive:!1}),!A){const q=GH({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:o});f.on("start",q);const ae=XH({zoomPanValues:u,panOnDrag:D,onPaneContextMenu:!!M,onPanZoom:s,onTransformChange:X});f.on("zoom",ae);const ce=QH({zoomPanValues:u,panOnDrag:D,panOnScroll:L,onPaneContextMenu:M,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ce)}const te=ZH({zoomActivationKeyPressed:B,panOnDrag:D,zoomOnScroll:F,panOnScroll:L,zoomOnDoubleClick:H,zoomOnPinch:$,userSelectionActive:A,noPanClassName:O,noWheelClassName:E,lib:Y,connectionInProgress:Q});f.filter(te),H?m.on("dblclick.zoom",p):m.on("dblclick.zoom",null)}function y(){f.on("zoom",null)}async function w(E,O,M){const A=t0(E),L=f==null?void 0:f.constrain()(A,O,M);return L&&await x(L),new Promise(D=>D(L))}async function b(E,O){const M=t0(E);return await x(M,O),new Promise(A=>A(M))}function j(E){if(m){const O=t0(E),M=m.property("__zoom");(M.k!==E.zoom||M.x!==E.x||M.y!==E.y)&&(f==null||f.transform(m,O,null,{sync:!0}))}}function k(){const E=m?oA(m.node()):{x:0,y:0,k:1};return{x:E.x,y:E.y,zoom:E.k}}function N(E,O){return m?new Promise(M=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Ca:$f).scaleTo(r0(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>M(!0)),E)}):Promise.resolve(!1)}function _(E,O){return m?new Promise(M=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?Ca:$f).scaleBy(r0(m,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>M(!0)),E)}):Promise.resolve(!1)}function S(E){f==null||f.scaleExtent(E)}function C(E){f==null||f.translateExtent(E)}function T(E){const O=!Cn(E)||E<0?0:E;f==null||f.clickDistance(O)}return{update:v,destroy:y,setViewport:b,setViewportConstrained:w,getViewport:k,scaleTo:N,scaleBy:_,setScaleExtent:S,setTranslateExtent:C,syncViewport:j,setClickDistance:T}}var ll;(function(e){e.Line="line",e.Handle="handle"})(ll||(ll={}));function eV({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:s}){const o=e-t,l=r-n,c=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&a&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function vN(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Ja(e,t){return Math.max(0,t-e)}function es(e,t){return Math.max(0,e-t)}function Zd(e,t,r){return Math.max(0,t-e,e-r)}function bN(e,t){return e?!t:t}function tV(e,t,r,n,a,s,o,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,m=d&&f,{xSnapped:h,ySnapped:p}=r,{minWidth:x,maxWidth:v,minHeight:y,maxHeight:w}=n,{x:b,y:j,width:k,height:N,aspectRatio:_}=e;let S=Math.floor(d?h-e.pointerX:0),C=Math.floor(f?p-e.pointerY:0);const T=k+(c?-S:S),E=N+(u?-C:C),O=-s[0]*k,M=-s[1]*N;let A=Zd(T,x,v),L=Zd(E,y,w);if(o){let I=0,P=0;c&&S<0?I=Ja(b+S+O,o[0][0]):!c&&S>0&&(I=es(b+T+O,o[1][0])),u&&C<0?P=Ja(j+C+M,o[0][1]):!u&&C>0&&(P=es(j+E+M,o[1][1])),A=Math.max(A,I),L=Math.max(L,P)}if(l){let I=0,P=0;c&&S>0?I=es(b+S,l[0][0]):!c&&S<0&&(I=Ja(b+T,l[1][0])),u&&C>0?P=es(j+C,l[0][1]):!u&&C<0&&(P=Ja(j+E,l[1][1])),A=Math.max(A,I),L=Math.max(L,P)}if(a){if(d){const I=Zd(T/_,y,w)*_;if(A=Math.max(A,I),o){let P=0;!c&&!u||c&&!u&&m?P=es(j+M+T/_,o[1][1])*_:P=Ja(j+M+(c?S:-S)/_,o[0][1])*_,A=Math.max(A,P)}if(l){let P=0;!c&&!u||c&&!u&&m?P=Ja(j+T/_,l[1][1])*_:P=es(j+(c?S:-S)/_,l[0][1])*_,A=Math.max(A,P)}}if(f){const I=Zd(E*_,x,v)/_;if(L=Math.max(L,I),o){let P=0;!c&&!u||u&&!c&&m?P=es(b+E*_+O,o[1][0])/_:P=Ja(b+(u?C:-C)*_+O,o[0][0])/_,L=Math.max(L,P)}if(l){let P=0;!c&&!u||u&&!c&&m?P=Ja(b+E*_,l[1][0])/_:P=es(b+(u?C:-C)*_,l[0][0])/_,L=Math.max(L,P)}}}C=C+(C<0?L:-L),S=S+(S<0?A:-A),a&&(m?T>E*_?C=(bN(c,u)?-S:S)/_:S=(bN(c,u)?-C:C)*_:d?(C=S/_,u=c):(S=C*_,c=u));const D=c?b+S:b,R=u?j+C:j;return{width:k+(c?-S:S),height:N+(u?-C:C),x:s[0]*S*(c?-1:1)+D,y:s[1]*C*(u?-1:1)+R}}const $A={width:0,height:0,x:0,y:0},rV={...$A,pointerX:0,pointerY:0,aspectRatio:1};function nV(e){return[[0,0],[e.measured.width,e.measured.height]]}function aV(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,s=e.measured.width??0,o=e.measured.height??0,l=r[0]*s,c=r[1]*o;return[[n-l,a-c],[n+s-l,a+o-c]]}function sV({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const s=Tr(e);let o={controlDirection:vN("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:m,onResizeStart:h,onResize:p,onResizeEnd:x,shouldResize:v}){let y={...$A},w={...rV};o={boundaries:d,resizeDirection:m,keepAspectRatio:f,controlDirection:vN(u)};let b,j=null,k=[],N,_,S,C=!1;const T=qO().on("start",E=>{const{nodeLookup:O,transform:M,snapGrid:A,snapToGrid:L,nodeOrigin:D,paneDomNode:R}=r();if(b=O.get(t),!b)return;j=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:I,ySnapped:P}=Cc(E.sourceEvent,{transform:M,snapGrid:A,snapToGrid:L,containerBounds:j});y={width:b.measured.width??0,height:b.measured.height??0,x:b.position.x??0,y:b.position.y??0},w={...y,pointerX:I,pointerY:P,aspectRatio:y.width/y.height},N=void 0,b.parentId&&(b.extent==="parent"||b.expandParent)&&(N=O.get(b.parentId),_=N&&b.extent==="parent"?nV(N):void 0),k=[],S=void 0;for(const[$,F]of O)if(F.parentId===t&&(k.push({id:$,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const H=aV(F,b,F.origin??D);S?S=[[Math.min(H[0][0],S[0][0]),Math.min(H[0][1],S[0][1])],[Math.max(H[1][0],S[1][0]),Math.max(H[1][1],S[1][1])]]:S=H}h==null||h(E,{...y})}).on("drag",E=>{const{transform:O,snapGrid:M,snapToGrid:A,nodeOrigin:L}=r(),D=Cc(E.sourceEvent,{transform:O,snapGrid:M,snapToGrid:A,containerBounds:j}),R=[];if(!b)return;const{x:I,y:P,width:$,height:F}=y,H={},B=b.origin??L,{width:Y,height:X,x:Q,y:G}=tV(w,o.controlDirection,D,o.boundaries,o.keepAspectRatio,B,_,S),Z=Y!==$,U=X!==F,ne=Q!==I&&Z,te=G!==P&&U;if(!ne&&!te&&!Z&&!U)return;if((ne||te||B[0]===1||B[1]===1)&&(H.x=ne?Q:y.x,H.y=te?G:y.y,y.x=H.x,y.y=H.y,k.length>0)){const ge=Q-I,pe=G-P;for(const Me of k)Me.position={x:Me.position.x-ge+B[0]*(Y-$),y:Me.position.y-pe+B[1]*(X-F)},R.push(Me)}if((Z||U)&&(H.width=Z&&(!o.resizeDirection||o.resizeDirection==="horizontal")?Y:y.width,H.height=U&&(!o.resizeDirection||o.resizeDirection==="vertical")?X:y.height,y.width=H.width,y.height=H.height),N&&b.expandParent){const ge=B[0]*(H.width??0);H.x&&H.x<ge&&(y.x=ge,w.x=w.x-(H.x-ge));const pe=B[1]*(H.height??0);H.y&&H.y<pe&&(y.y=pe,w.y=w.y-(H.y-pe))}const q=eV({width:y.width,prevWidth:$,height:y.height,prevHeight:F,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),ae={...y,direction:q};(v==null?void 0:v(E,ae))!==!1&&(C=!0,p==null||p(E,ae),n(H,R))}).on("end",E=>{C&&(x==null||x(E,{...y}),a==null||a({...y}),C=!1)});s.call(T)}function c(){s.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:iV}=Ir,{useSyncExternalStoreWithSelector:oV}=AO,lV=e=>e;function zA(e,t=lV,r){const n=oV(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return iV(n),n}const wN=(e,t)=>{const r=SO(e),n=(a,s=t)=>zA(r,a,s);return Object.assign(n,r),n},cV=(e,t)=>e?wN(e,t):wN;function qe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const dp=g.createContext(null),uV=dp.Provider,FA=ta.error001();function je(e,t){const r=g.useContext(dp);if(r===null)throw new Error(FA);return zA(r,e,t)}function Ye(){const e=g.useContext(dp);if(e===null)throw new Error(FA);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const jN={display:"none"},dV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},BA="react-flow__node-desc",UA="react-flow__edge-desc",fV="react-flow__aria-live",mV=e=>e.ariaLiveMessage,hV=e=>e.ariaLabelConfig;function pV({rfId:e}){const t=je(mV);return i.jsx("div",{id:`${fV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:dV,children:t})}function gV({rfId:e,disableKeyboardA11y:t}){const r=je(hV);return i.jsxs(i.Fragment,{children:[i.jsx("div",{id:`${BA}-${e}`,style:jN,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),i.jsx("div",{id:`${UA}-${e}`,style:jN,children:r["edge.a11yDescription.default"]}),!t&&i.jsx(pV,{rfId:e})]})}const fp=g.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},s)=>{const o=`${e}`.split("-");return i.jsx("div",{className:mt(["react-flow__panel",r,...o]),style:n,ref:s,...a,children:t})});fp.displayName="Panel";function yV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:i.jsx(fp,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:i.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const xV=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Jd=e=>e.id;function vV(e,t){return qe(e.selectedNodes.map(Jd),t.selectedNodes.map(Jd))&&qe(e.selectedEdges.map(Jd),t.selectedEdges.map(Jd))}function bV({onSelectionChange:e}){const t=Ye(),{selectedNodes:r,selectedEdges:n}=je(xV,vV);return g.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(s=>s(a))},[r,n,e]),null}const wV=e=>!!e.onSelectionChangeHandlers;function jV({onSelectionChange:e}){const t=je(wV);return e||t?i.jsx(bV,{onSelectionChange:e}):null}const HA=[0,0],kV={x:0,y:0,zoom:1},NV=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],kN=[...NV,"rfId"],SV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),NN={translateExtent:nu,nodeOrigin:HA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function _V(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:c}=je(SV,qe),u=Ye();g.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=NN,l()}),[]);const d=g.useRef(NN);return g.useEffect(()=>{for(const f of kN){const m=e[f],h=d.current[f];m!==h&&(typeof e[f]>"u"||(f==="nodes"?t(m):f==="edges"?r(m):f==="minZoom"?n(m):f==="maxZoom"?a(m):f==="translateExtent"?s(m):f==="nodeExtent"?o(m):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:xH(m)}):f==="fitView"?u.setState({fitViewQueued:m}):f==="fitViewOptions"?u.setState({fitViewOptions:m}):u.setState({[f]:m})))}d.current=e},kN.map(f=>e[f])),null}function SN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function EV(e){var n;const[t,r]=g.useState(e==="system"?null:e);return g.useEffect(()=>{if(e!=="system"){r(e);return}const a=SN(),s=()=>r(a!=null&&a.matches?"dark":"light");return s(),a==null||a.addEventListener("change",s),()=>{a==null||a.removeEventListener("change",s)}},[e]),t!==null?t:(n=SN())!=null&&n.matches?"dark":"light"}const _N=typeof document<"u"?document:null;function ou(e=null,t={target:_N,actInsideInputWithModifier:!0}){const[r,n]=g.useState(!1),a=g.useRef(!1),s=g.useRef(new Set([])),[o,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=(t==null?void 0:t.target)??_N,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=h=>{var v,y;if(a.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!a.current||a.current&&!u)&&wA(h))return!1;const x=CN(h.code,l);if(s.current.add(h[x]),EN(o,s.current,!1)){const w=((y=(v=h.composedPath)==null?void 0:v.call(h))==null?void 0:y[0])||h.target,b=(w==null?void 0:w.nodeName)==="BUTTON"||(w==null?void 0:w.nodeName)==="A";t.preventDefault!==!1&&(a.current||!b)&&h.preventDefault(),n(!0)}},f=h=>{const p=CN(h.code,l);EN(o,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),a.current=!1},m=()=>{s.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,n]),r}function EN(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function CN(e,t){return t.includes(e)?"code":"key"}const CV=()=>{const e=Ye();return g.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,s],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??s},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:s,maxZoom:o,panZoom:l}=e.getState(),c=Ob(t,n,a,s,o,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:s,domNode:o}=e.getState();if(!o)return t;const{x:l,y:c}=o.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??s;return Ku(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:s}=n.getBoundingClientRect(),o=Tm(t,r);return{x:o.x+a,y:o.y+s}}}),[])};function VA(e,t){const r=[],n=new Map,a=[];for(const s of e)if(s.type==="add"){a.push(s);continue}else if(s.type==="remove"||s.type==="replace")n.set(s.id,[s]);else{const o=n.get(s.id);o?o.push(s):n.set(s.id,[s])}for(const s of t){const o=n.get(s.id);if(!o){r.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){r.push({...o[0].item});continue}const l={...s};for(const c of o)PV(c,l);r.push(l)}return a.length&&a.forEach(s=>{s.index!==void 0?r.splice(s.index,0,{...s.item}):r.push({...s.item})}),r}function PV(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function WA(e,t){return VA(e,t)}function KA(e,t){return VA(e,t)}function Zs(e,t){return{id:e,type:"select",selected:t}}function vo(e,t=new Set,r=!1){const n=[];for(const[a,s]of e){const o=t.has(a);!(s.selected===void 0&&!o)&&s.selected!==o&&(r&&(s.selected=o),n.push(Zs(s.id,o)))}return n}function PN({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(s=>[s.id,s]));for(const[s,o]of e.entries()){const l=t.get(o.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==o&&r.push({id:o.id,item:o,type:"replace"}),c===void 0&&r.push({item:o,type:"add",index:s})}for(const[s]of t)n.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function ON(e){return{id:e.id,type:"remove"}}const AN=e=>lH(e),OV=e=>mA(e);function qA(e){return g.forwardRef(e)}const AV=typeof window<"u"?g.useLayoutEffect:g.useEffect;function TN(e){const[t,r]=g.useState(BigInt(0)),[n]=g.useState(()=>TV(()=>r(a=>a+BigInt(1))));return AV(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function TV(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const YA=g.createContext(null);function MV({children:e}){const t=Ye(),r=g.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:m,fitViewQueued:h,onNodesChangeMiddlewareMap:p}=t.getState();let x=c;for(const y of l)x=typeof y=="function"?y(x):y;let v=PN({items:x,lookup:m});for(const y of p.values())v=y(v);d&&u(x),v.length>0?f==null||f(v):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:w,setNodes:b}=t.getState();y&&b(w)})},[]),n=TN(r),a=g.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:m}=t.getState();let h=c;for(const p of l)h=typeof p=="function"?p(h):p;d?u(h):f&&f(PN({items:h,lookup:m}))},[]),s=TN(a),o=g.useMemo(()=>({nodeQueue:n,edgeQueue:s}),[]);return i.jsx(YA.Provider,{value:o,children:e})}function IV(){const e=g.useContext(YA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const DV=e=>!!e.panZoom;function Cl(){const e=CV(),t=Ye(),r=IV(),n=je(DV),a=g.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),o=f=>{r.nodeQueue.push(f)},l=f=>{r.edgeQueue.push(f)},c=f=>{var y,w;const{nodeLookup:m,nodeOrigin:h}=t.getState(),p=AN(f)?f:m.get(f.id),x=p.parentId?vA(p.position,p.measured,p.parentId,m,h):p.position,v={...p,position:x,width:((y=p.measured)==null?void 0:y.width)??p.width,height:((w=p.measured)==null?void 0:w.height)??p.height};return il(v)},u=(f,m,h={replace:!1})=>{o(p=>p.map(x=>{if(x.id===f){const v=typeof m=="function"?m(x):m;return h.replace&&AN(v)?v:{...x,...v}}return x}))},d=(f,m,h={replace:!1})=>{l(p=>p.map(x=>{if(x.id===f){const v=typeof m=="function"?m(x):m;return h.replace&&OV(v)?v:{...x,...v}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var m;return(m=s(f))==null?void 0:m.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(m=>({...m}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:o,setEdges:l,addNodes:f=>{const m=Array.isArray(f)?f:[f];r.nodeQueue.push(h=>[...h,...m])},addEdges:f=>{const m=Array.isArray(f)?f:[f];r.edgeQueue.push(h=>[...h,...m])},toObject:()=>{const{nodes:f=[],edges:m=[],transform:h}=t.getState(),[p,x,v]=h;return{nodes:f.map(y=>({...y})),edges:m.map(y=>({...y})),viewport:{x:p,y:x,zoom:v}}},deleteElements:async({nodes:f=[],edges:m=[]})=>{const{nodes:h,edges:p,onNodesDelete:x,onEdgesDelete:v,triggerNodeChanges:y,triggerEdgeChanges:w,onDelete:b,onBeforeDelete:j}=t.getState(),{nodes:k,edges:N}=await mH({nodesToRemove:f,edgesToRemove:m,nodes:h,edges:p,onBeforeDelete:j}),_=N.length>0,S=k.length>0;if(_){const C=N.map(ON);v==null||v(N),w(C)}if(S){const C=k.map(ON);x==null||x(k),y(C)}return(S||_)&&(b==null||b({nodes:k,edges:N})),{deletedNodes:k,deletedEdges:N}},getIntersectingNodes:(f,m=!0,h)=>{const p=lN(f),x=p?f:c(f),v=h!==void 0;return x?(h||t.getState().nodes).filter(y=>{const w=t.getState().nodeLookup.get(y.id);if(w&&!p&&(y.id===f.id||!w.internals.positionAbsolute))return!1;const b=il(v?y:w),j=su(b,x);return m&&j>0||j>=b.width*b.height||j>=x.width*x.height}):[]},isNodeIntersecting:(f,m,h=!0)=>{const x=lN(f)?f:c(f);if(!x)return!1;const v=su(x,m);return h&&v>0||v>=m.width*m.height||v>=x.width*x.height},updateNode:u,updateNodeData:(f,m,h={replace:!1})=>{u(f,p=>{const x=typeof m=="function"?m(p):m;return h.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},h)},updateEdge:d,updateEdgeData:(f,m,h={replace:!1})=>{d(f,p=>{const x=typeof m=="function"?m(p):m;return h.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},h)},getNodesBounds:f=>{const{nodeLookup:m,nodeOrigin:h}=t.getState();return cH(f,{nodeLookup:m,nodeOrigin:h})},getHandleConnections:({type:f,id:m,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${m?`-${m}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:m,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?m?`-${f}-${m}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const m=t.getState().fitViewResolver??yH();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:m}),r.nodeQueue.push(h=>[...h]),m.promise}}},[]);return g.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const MN=e=>e.selected,RV=typeof window<"u"?window:void 0;function LV({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Ye(),{deleteElements:n}=Cl(),a=ou(e,{actInsideInputWithModifier:!1}),s=ou(t,{target:RV});g.useEffect(()=>{if(a){const{edges:o,nodes:l}=r.getState();n({nodes:l.filter(MN),edges:o.filter(MN)}),r.setState({nodesSelectionActive:!1})}},[a]),g.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])}function $V(e){const t=Ye();g.useEffect(()=>{const r=()=>{var a,s,o,l;if(!e.current||!(((s=(a=e.current).checkVisibility)==null?void 0:s.call(a))??!0))return!1;const n=Ab(e.current);(n.height===0||n.width===0)&&((l=(o=t.getState()).onError)==null||l.call(o,"004",ta.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const mp={position:"absolute",width:"100%",height:"100%",top:0,left:0},zV=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function FV({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:s=Si.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:m,preventScrolling:h=!0,children:p,noWheelClassName:x,noPanClassName:v,onViewportChange:y,isControlledViewport:w,paneClickDistance:b,selectionOnDrag:j}){const k=Ye(),N=g.useRef(null),{userSelectionActive:_,lib:S,connectionInProgress:C}=je(zV,qe),T=ou(m),E=g.useRef();$V(N);const O=g.useCallback(M=>{y==null||y({x:M[0],y:M[1],zoom:M[2]}),w||k.setState({transform:M})},[y,w]);return g.useEffect(()=>{if(N.current){E.current=JH({domNode:N.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:D=>k.setState({paneDragging:D}),onPanZoomStart:(D,R)=>{const{onViewportChangeStart:I,onMoveStart:P}=k.getState();P==null||P(D,R),I==null||I(R)},onPanZoom:(D,R)=>{const{onViewportChange:I,onMove:P}=k.getState();P==null||P(D,R),I==null||I(R)},onPanZoomEnd:(D,R)=>{const{onViewportChangeEnd:I,onMoveEnd:P}=k.getState();P==null||P(D,R),I==null||I(R)}});const{x:M,y:A,zoom:L}=E.current.getViewport();return k.setState({panZoom:E.current,transform:[M,A,L],domNode:N.current.closest(".react-flow")}),()=>{var D;(D=E.current)==null||D.destroy()}}},[]),g.useEffect(()=>{var M;(M=E.current)==null||M.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:h,noPanClassName:v,userSelectionActive:_,noWheelClassName:x,lib:S,onTransformChange:O,connectionInProgress:C,selectionOnDrag:j,paneClickDistance:b})},[e,t,r,n,a,s,o,l,T,h,v,_,x,S,O,C,j,b]),i.jsx("div",{className:"react-flow__renderer",ref:N,style:mp,children:p})}const BV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function UV(){const{userSelectionActive:e,userSelectionRect:t}=je(BV,qe);return e&&t?i.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const n0=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},HV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function VV({isSelecting:e,selectionKeyPressed:t,selectionMode:r=au.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:h,children:p}){const x=Ye(),{userSelectionActive:v,elementsSelectable:y,dragging:w,connectionInProgress:b}=je(HV,qe),j=y&&(e||v),k=g.useRef(null),N=g.useRef(),_=g.useRef(new Set),S=g.useRef(new Set),C=g.useRef(!1),T=I=>{if(C.current||b){C.current=!1;return}c==null||c(I),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},E=I=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){I.preventDefault();return}u==null||u(I)},O=d?I=>d(I):void 0,M=I=>{C.current&&(I.stopPropagation(),C.current=!1)},A=I=>{var X,Q;const{domNode:P}=x.getState();if(N.current=P==null?void 0:P.getBoundingClientRect(),!N.current)return;const $=I.target===k.current;if(!$&&!!I.target.closest(".nokey")||!e||!(s&&$||t)||I.button!==0||!I.isPrimary)return;(Q=(X=I.target)==null?void 0:X.setPointerCapture)==null||Q.call(X,I.pointerId),C.current=!1;const{x:B,y:Y}=Pn(I.nativeEvent,N.current);x.setState({userSelectionRect:{width:0,height:0,startX:B,startY:Y,x:B,y:Y}}),$||(I.stopPropagation(),I.preventDefault())},L=I=>{const{userSelectionRect:P,transform:$,nodeLookup:F,edgeLookup:H,connectionLookup:B,triggerNodeChanges:Y,triggerEdgeChanges:X,defaultEdgeOptions:Q,resetSelectedElements:G}=x.getState();if(!N.current||!P)return;const{x:Z,y:U}=Pn(I.nativeEvent,N.current),{startX:ne,startY:te}=P;if(!C.current){const pe=t?0:a;if(Math.hypot(Z-ne,U-te)<=pe)return;G(),o==null||o(I)}C.current=!0;const q={startX:ne,startY:te,x:Z<ne?Z:ne,y:U<te?U:te,width:Math.abs(Z-ne),height:Math.abs(U-te)},ae=_.current,ce=S.current;_.current=new Set(Pb(F,q,$,r===au.Partial,!0).map(pe=>pe.id)),S.current=new Set;const ge=(Q==null?void 0:Q.selectable)??!0;for(const pe of _.current){const Me=B.get(pe);if(Me)for(const{edgeId:fr}of Me.values()){const Kr=H.get(fr);Kr&&(Kr.selectable??ge)&&S.current.add(fr)}}if(!cN(ae,_.current)){const pe=vo(F,_.current,!0);Y(pe)}if(!cN(ce,S.current)){const pe=vo(H,S.current);X(pe)}x.setState({userSelectionRect:q,userSelectionActive:!0,nodesSelectionActive:!1})},D=I=>{var P,$;I.button===0&&(($=(P=I.target)==null?void 0:P.releasePointerCapture)==null||$.call(P,I.pointerId),!v&&I.target===k.current&&x.getState().userSelectionRect&&(T==null||T(I)),x.setState({userSelectionActive:!1,userSelectionRect:null}),C.current&&(l==null||l(I),x.setState({nodesSelectionActive:_.current.size>0})))},R=n===!0||Array.isArray(n)&&n.includes(0);return i.jsxs("div",{className:mt(["react-flow__pane",{draggable:R,dragging:w,selection:e}]),onClick:j?void 0:n0(T,k),onContextMenu:n0(E,k),onWheel:n0(O,k),onPointerEnter:j?void 0:f,onPointerMove:j?L:m,onPointerUp:j?D:void 0,onPointerDownCapture:j?A:void 0,onClickCapture:j?M:void 0,onPointerLeave:h,ref:k,style:mp,children:[p,i.jsx(UV,{})]})}function ix({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",ta.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function GA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,nodeClickDistance:o}){const l=Ye(),[c,u]=g.useState(!1),d=g.useRef();return g.useEffect(()=>{d.current=zH({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{ix({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),g.useEffect(()=>{var f,m;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(m=d.current)==null||m.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:s,nodeId:a,nodeClickDistance:o}),()=>{var h;(h=d.current)==null||h.destroy()}},[r,n,t,s,e,a]),c}const WV=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function XA(){const e=Ye();return g.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,m=WV(o),h=a?s[0]:5,p=a?s[1]:5,x=r.direction.x*h*r.factor,v=r.direction.y*p*r.factor;for(const[,y]of u){if(!m(y))continue;let w={x:y.internals.positionAbsolute.x+x,y:y.internals.positionAbsolute.y+v};a&&(w=Wu(w,s));const{position:b,positionAbsolute:j}=hA({nodeId:y.id,nextPosition:w,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:l});y.position=b,y.internals.positionAbsolute=j,f.set(y.id,y)}c(f)},[])}const Lb=g.createContext(null),KV=Lb.Provider;Lb.Consumer;const QA=()=>g.useContext(Lb),qV=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),YV=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:s,connection:o}=n,{fromHandle:l,toHandle:c,isValid:u}=o,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:s===al.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:d&&u}};function GV({type:e="source",position:t=fe.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h){var L,D;const p=o||null,x=e==="target",v=Ye(),y=QA(),{connectOnClick:w,noPanClassName:b,rfId:j}=je(qV,qe),{connectingFrom:k,connectingTo:N,clickConnecting:_,isPossibleEndHandle:S,connectionInProcess:C,clickConnectionInProcess:T,valid:E}=je(YV(y,p,e),qe);y||(D=(L=v.getState()).onError)==null||D.call(L,"010",ta.error010());const O=R=>{const{defaultEdgeOptions:I,onConnect:P,hasDefaultEdges:$}=v.getState(),F={...I,...R};if($){const{edges:H,setEdges:B}=v.getState();B(_A(F,H))}P==null||P(F),l==null||l(F)},M=R=>{if(!y)return;const I=jA(R.nativeEvent);if(a&&(I&&R.button===0||!I)){const P=v.getState();sx.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:x,handleId:p,nodeId:y,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:O,isValidConnection:r||P.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}I?d==null||d(R):f==null||f(R)},A=R=>{const{onClickConnectStart:I,onClickConnectEnd:P,connectionClickStartHandle:$,connectionMode:F,isValidConnection:H,lib:B,rfId:Y,nodeLookup:X,connection:Q}=v.getState();if(!y||!$&&!a)return;if(!$){I==null||I(R.nativeEvent,{nodeId:y,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:y,type:e,id:p}});return}const G=bA(R.target),Z=r||H,{connection:U,isValid:ne}=sx.isValid(R.nativeEvent,{handle:{nodeId:y,id:p,type:e},connectionMode:F,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:Z,flowId:Y,doc:G,lib:B,nodeLookup:X});ne&&U&&O(U);const te=structuredClone(Q);delete te.inProgress,te.toPosition=te.toHandle?te.toHandle.position:null,P==null||P(R,te),v.setState({connectionClickStartHandle:null})};return i.jsx("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${j}-${y}-${p}-${e}`,className:mt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!x,target:x,connectable:n,connectablestart:a,connectableend:s,clickconnecting:_,connectingfrom:k,connectingto:N,valid:E,connectionindicator:n&&(!C||S)&&(C||T?s:a)}]),onMouseDown:M,onTouchStart:M,onClick:w?A:void 0,ref:h,...m,children:c})}const cl=g.memo(qA(GV));function XV({data:e,isConnectable:t,sourcePosition:r=fe.Bottom}){return i.jsxs(i.Fragment,{children:[e==null?void 0:e.label,i.jsx(cl,{type:"source",position:r,isConnectable:t})]})}function QV({data:e,isConnectable:t,targetPosition:r=fe.Top,sourcePosition:n=fe.Bottom}){return i.jsxs(i.Fragment,{children:[i.jsx(cl,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,i.jsx(cl,{type:"source",position:n,isConnectable:t})]})}function ZV(){return null}function JV({data:e,isConnectable:t,targetPosition:r=fe.Top}){return i.jsxs(i.Fragment,{children:[i.jsx(cl,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Im={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},IN={input:XV,default:QV,output:JV,group:ZV};function eW(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const tW=e=>{const{width:t,height:r,x:n,y:a}=Vu(e.nodeLookup,{filter:s=>!!s.selected});return{width:Cn(t)?t:null,height:Cn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function rW({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Ye(),{width:a,height:s,transformString:o,userSelectionActive:l}=je(tW,qe),c=XA(),u=g.useRef(null);if(g.useEffect(()=>{var m;r||(m=u.current)==null||m.focus({preventScroll:!0})},[r]),GA({nodeRef:u}),l||!a||!s)return null;const d=e?m=>{const h=n.getState().nodes.filter(p=>p.selected);e(m,h)}:void 0,f=m=>{Object.prototype.hasOwnProperty.call(Im,m.key)&&(m.preventDefault(),c({direction:Im[m.key],factor:m.shiftKey?4:1}))};return i.jsx("div",{className:mt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:i.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:s}})})}const DN=typeof window<"u"?window:void 0,nW=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function ZA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:x,zoomActivationKeyCode:v,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:S,defaultViewport:C,translateExtent:T,minZoom:E,maxZoom:O,preventScrolling:M,onSelectionContextMenu:A,noWheelClassName:L,noPanClassName:D,disableKeyboardA11y:R,onViewportChange:I,isControlledViewport:P}){const{nodesSelectionActive:$,userSelectionActive:F}=je(nW,qe),H=ou(u,{target:DN}),B=ou(x,{target:DN}),Y=B||S,X=B||j,Q=d&&Y!==!0,G=H||F||Q;return LV({deleteKeyCode:c,multiSelectionKeyCode:p}),i.jsx(FV,{onPaneContextMenu:s,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:b,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:!H&&Y,defaultViewport:C,translateExtent:T,minZoom:E,maxZoom:O,zoomActivationKeyCode:v,preventScrolling:M,noWheelClassName:L,noPanClassName:D,onViewportChange:I,isControlledViewport:P,paneClickDistance:l,selectionOnDrag:Q,children:i.jsxs(VV,{onSelectionStart:m,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:Y,isSelecting:!!G,selectionMode:f,selectionKeyPressed:H,paneClickDistance:l,selectionOnDrag:Q,children:[e,$&&i.jsx(rW,{onSelectionContextMenu:A,noPanClassName:D,disableKeyboardA11y:R})]})})}ZA.displayName="FlowRenderer";const aW=g.memo(ZA),sW=e=>t=>e?Pb(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function iW(e){return je(g.useCallback(sW(e),[e]),qe)}const oW=e=>e.updateNodeInternals;function lW(){const e=je(oW),[t]=g.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const s=a.target.getAttribute("data-id");n.set(s,{id:s,nodeElement:a.target,force:!0})}),e(n)}));return g.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function cW({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=Ye(),s=g.useRef(null),o=g.useRef(null),l=g.useRef(e.sourcePosition),c=g.useRef(e.targetPosition),u=g.useRef(t),d=r&&!!e.internals.handleBounds;return g.useEffect(()=>{s.current&&!e.hidden&&(!d||o.current!==s.current)&&(o.current&&(n==null||n.unobserve(o.current)),n==null||n.observe(s.current),o.current=s.current)},[d,e.hidden]),g.useEffect(()=>()=>{o.current&&(n==null||n.unobserve(o.current),o.current=null)},[]),g.useEffect(()=>{if(s.current){const f=u.current!==t,m=l.current!==e.sourcePosition,h=c.current!==e.targetPosition;(f||m||h)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function uW({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:m,noPanClassName:h,disableKeyboardA11y:p,rfId:x,nodeTypes:v,nodeClickDistance:y,onError:w}){const{node:b,internals:j,isParent:k}=je(Z=>{const U=Z.nodeLookup.get(e),ne=Z.parentLookup.has(e);return{node:U,internals:U.internals,isParent:ne}},qe);let N=b.type||"default",_=(v==null?void 0:v[N])||IN[N];_===void 0&&(w==null||w("003",ta.error003(N)),N="default",_=(v==null?void 0:v.default)||IN.default);const S=!!(b.draggable||l&&typeof b.draggable>"u"),C=!!(b.selectable||c&&typeof b.selectable>"u"),T=!!(b.connectable||u&&typeof b.connectable>"u"),E=!!(b.focusable||d&&typeof b.focusable>"u"),O=Ye(),M=xA(b),A=cW({node:b,nodeType:N,hasDimensions:M,resizeObserver:f}),L=GA({nodeRef:A,disabled:b.hidden||!S,noDragClassName:m,handleSelector:b.dragHandle,nodeId:e,isSelectable:C,nodeClickDistance:y}),D=XA();if(b.hidden)return null;const R=Ka(b),I=eW(b),P=C||S||t||r||n||a,$=r?Z=>r(Z,{...j.userNode}):void 0,F=n?Z=>n(Z,{...j.userNode}):void 0,H=a?Z=>a(Z,{...j.userNode}):void 0,B=s?Z=>s(Z,{...j.userNode}):void 0,Y=o?Z=>o(Z,{...j.userNode}):void 0,X=Z=>{const{selectNodesOnDrag:U,nodeDragThreshold:ne}=O.getState();C&&(!U||!S||ne>0)&&ix({id:e,store:O,nodeRef:A}),t&&t(Z,{...j.userNode})},Q=Z=>{if(!(wA(Z.nativeEvent)||p)){if(cA.includes(Z.key)&&C){const U=Z.key==="Escape";ix({id:e,store:O,unselect:U,nodeRef:A})}else if(S&&b.selected&&Object.prototype.hasOwnProperty.call(Im,Z.key)){Z.preventDefault();const{ariaLabelConfig:U}=O.getState();O.setState({ariaLiveMessage:U["node.a11yDescription.ariaLiveMessage"]({direction:Z.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),D({direction:Im[Z.key],factor:Z.shiftKey?4:1})}}},G=()=>{var ce;if(p||!((ce=A.current)!=null&&ce.matches(":focus-visible")))return;const{transform:Z,width:U,height:ne,autoPanOnNodeFocus:te,setCenter:q}=O.getState();if(!te)return;Pb(new Map([[e,b]]),{x:0,y:0,width:U,height:ne},Z,!0).length>0||q(b.position.x+R.width/2,b.position.y+R.height/2,{zoom:Z[2]})};return i.jsx("div",{className:mt(["react-flow__node",`react-flow__node-${N}`,{[h]:S},b.className,{selected:b.selected,selectable:C,parent:k,draggable:S,dragging:L}]),ref:A,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:P?"all":"none",visibility:M?"visible":"hidden",...b.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:$,onMouseMove:F,onMouseLeave:H,onContextMenu:B,onClick:X,onDoubleClick:Y,onKeyDown:E?Q:void 0,tabIndex:E?0:void 0,onFocus:E?G:void 0,role:b.ariaRole??(E?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${BA}-${x}`,"aria-label":b.ariaLabel,...b.domAttributes,children:i.jsx(KV,{value:e,children:i.jsx(_,{id:e,data:b.data,type:N,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:b.selected??!1,selectable:C,draggable:S,deletable:b.deletable??!0,isConnectable:T,sourcePosition:b.sourcePosition,targetPosition:b.targetPosition,dragging:L,dragHandle:b.dragHandle,zIndex:j.z,parentId:b.parentId,...R})})})}var dW=g.memo(uW);const fW=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function JA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:s}=je(fW,qe),o=iW(e.onlyRenderVisibleElements),l=lW();return i.jsx("div",{className:"react-flow__nodes",style:mp,children:o.map(c=>i.jsx(dW,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}JA.displayName="NodeRenderer";const mW=g.memo(JA);function hW(e){return je(g.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const s=r.nodeLookup.get(a.source),o=r.nodeLookup.get(a.target);s&&o&&wH({sourceNode:s,targetNode:o,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),qe)}const pW=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return i.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},gW=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return i.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},RN={[Om.Arrow]:pW,[Om.ArrowClosed]:gW};function yW(e){const t=Ye();return g.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(RN,e)?RN[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",ta.error009(e)),null)},[e])}const xW=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=yW(t);return c?i.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:i.jsx(c,{color:r,strokeWidth:o})}):null},eT=({defaultColor:e,rfId:t})=>{const r=je(s=>s.edges),n=je(s=>s.defaultEdgeOptions),a=g.useMemo(()=>CH(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?i.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:i.jsx("defs",{children:a.map(s=>i.jsx(xW,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};eT.displayName="MarkerDefinitions";var vW=g.memo(eT);function tT({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[f,m]=g.useState({x:1,y:0,width:0,height:0}),h=mt(["react-flow__edge-textwrapper",u]),p=g.useRef(null);return g.useEffect(()=>{if(p.current){const x=p.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),r?i.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...d,children:[a&&i.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),i.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}tT.displayName="EdgeText";const bW=g.memo(tT);function ul({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return i.jsxs(i.Fragment,{children:[i.jsx("path",{...d,d:e,fill:"none",className:mt(["react-flow__edge-path",d.className])}),u?i.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&Cn(t)&&Cn(r)?i.jsx(bW,{x:t,y:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function LN({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===fe.Left||e===fe.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function rT({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top}){const[o,l]=LN({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=LN({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,m,h]=kA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${n},${a}`,d,f,m,h]}function nT(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:o,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:y})=>{const[w,b,j]=rT({sourceX:r,sourceY:n,sourcePosition:o,targetX:a,targetY:s,targetPosition:l}),k=e.isInternal?void 0:t;return i.jsx(ul,{id:k,path:w,labelX:b,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:y})})}const wW=nT({isInternal:!1}),aT=nT({isInternal:!0});wW.displayName="SimpleBezierEdge";aT.displayName="SimpleBezierEdgeInternal";function sT(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,sourcePosition:h=fe.Bottom,targetPosition:p=fe.Top,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[b,j,k]=Mm({sourceX:r,sourceY:n,sourcePosition:h,targetX:a,targetY:s,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset,stepPosition:y==null?void 0:y.stepPosition}),N=e.isInternal?void 0:t;return i.jsx(ul,{id:N,path:b,labelX:j,labelY:k,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:x,markerStart:v,interactionWidth:w})})}const iT=sT({isInternal:!1}),oT=sT({isInternal:!0});iT.displayName="SmoothStepEdge";oT.displayName="SmoothStepEdgeInternal";function lT(e){return g.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return i.jsx(iT,{...r,id:n,pathOptions:g.useMemo(()=>{var s;return{borderRadius:0,offset:(s=r.pathOptions)==null?void 0:s.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const jW=lT({isInternal:!1}),cT=lT({isInternal:!0});jW.displayName="StepEdge";cT.displayName="StepEdgeInternal";function uT(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:x})=>{const[v,y,w]=EA({sourceX:r,sourceY:n,targetX:a,targetY:s}),b=e.isInternal?void 0:t;return i.jsx(ul,{id:b,path:v,labelX:y,labelY:w,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:x})})}const kW=uT({isInternal:!1}),dT=uT({isInternal:!0});kW.displayName="StraightEdge";dT.displayName="StraightEdgeInternal";function fT(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:o=fe.Bottom,targetPosition:l=fe.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[b,j,k]=NA({sourceX:r,sourceY:n,sourcePosition:o,targetX:a,targetY:s,targetPosition:l,curvature:y==null?void 0:y.curvature}),N=e.isInternal?void 0:t;return i.jsx(ul,{id:N,path:b,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:w})})}const NW=fT({isInternal:!1}),mT=fT({isInternal:!0});NW.displayName="BezierEdge";mT.displayName="BezierEdgeInternal";const $N={default:mT,straight:dT,step:cT,smoothstep:oT,simplebezier:aT},zN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},SW=(e,t,r)=>r===fe.Left?e-t:r===fe.Right?e+t:e,_W=(e,t,r)=>r===fe.Top?e-t:r===fe.Bottom?e+t:e,FN="react-flow__edgeupdater";function BN({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:o,type:l}){return i.jsx("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:o,className:mt([FN,`${FN}-${l}`]),cx:SW(t,n,e),cy:_W(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function EW({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:s,targetY:o,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:m,setUpdateHover:h}){const p=Ye(),x=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:N,domNode:_,isValidConnection:S,connectionMode:C,connectionRadius:T,lib:E,onConnectStart:O,onConnectEnd:M,cancelConnection:A,nodeLookup:L,rfId:D,panBy:R,updateConnection:I}=p.getState(),P=k.type==="target",$=(B,Y)=>{m(!1),f==null||f(B,r,k.type,Y)},F=B=>u==null?void 0:u(r,B),H=(B,Y)=>{m(!0),d==null||d(j,r,k.type),O==null||O(B,Y)};sx.onPointerDown(j.nativeEvent,{autoPanOnConnect:N,connectionMode:C,connectionRadius:T,domNode:_,handleId:k.id,nodeId:k.nodeId,nodeLookup:L,isTarget:P,edgeUpdaterType:k.type,lib:E,flowId:D,cancelConnection:A,panBy:R,isValidConnection:S,onConnect:F,onConnectStart:H,onConnectEnd:M,onReconnectEnd:$,updateConnection:I,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},v=j=>x(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),y=j=>x(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),w=()=>h(!0),b=()=>h(!1);return i.jsxs(i.Fragment,{children:[(e===!0||e==="source")&&i.jsx(BN,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:v,onMouseEnter:w,onMouseOut:b,type:"source"}),(e===!0||e==="target")&&i.jsx(BN,{position:c,centerX:s,centerY:o,radius:t,onMouseDown:y,onMouseEnter:w,onMouseOut:b,type:"target"})]})}function CW({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:h,rfId:p,edgeTypes:x,noPanClassName:v,onError:y,disableKeyboardA11y:w}){let b=je(q=>q.edgeLookup.get(e));const j=je(q=>q.defaultEdgeOptions);b=j?{...j,...b}:b;let k=b.type||"default",N=(x==null?void 0:x[k])||$N[k];N===void 0&&(y==null||y("011",ta.error011(k)),k="default",N=(x==null?void 0:x.default)||$N.default);const _=!!(b.focusable||t&&typeof b.focusable>"u"),S=typeof f<"u"&&(b.reconnectable||r&&typeof b.reconnectable>"u"),C=!!(b.selectable||n&&typeof b.selectable>"u"),T=g.useRef(null),[E,O]=g.useState(!1),[M,A]=g.useState(!1),L=Ye(),{zIndex:D,sourceX:R,sourceY:I,targetX:P,targetY:$,sourcePosition:F,targetPosition:H}=je(g.useCallback(q=>{const ae=q.nodeLookup.get(b.source),ce=q.nodeLookup.get(b.target);if(!ae||!ce)return{zIndex:b.zIndex,...zN};const ge=EH({id:e,sourceNode:ae,targetNode:ce,sourceHandle:b.sourceHandle||null,targetHandle:b.targetHandle||null,connectionMode:q.connectionMode,onError:y});return{zIndex:bH({selected:b.selected,zIndex:b.zIndex,sourceNode:ae,targetNode:ce,elevateOnSelect:q.elevateEdgesOnSelect,zIndexMode:q.zIndexMode}),...ge||zN}},[b.source,b.target,b.sourceHandle,b.targetHandle,b.selected,b.zIndex]),qe),B=g.useMemo(()=>b.markerStart?`url('#${nx(b.markerStart,p)}')`:void 0,[b.markerStart,p]),Y=g.useMemo(()=>b.markerEnd?`url('#${nx(b.markerEnd,p)}')`:void 0,[b.markerEnd,p]);if(b.hidden||R===null||I===null||P===null||$===null)return null;const X=q=>{var pe;const{addSelectedEdges:ae,unselectNodesAndEdges:ce,multiSelectionActive:ge}=L.getState();C&&(L.setState({nodesSelectionActive:!1}),b.selected&&ge?(ce({nodes:[],edges:[b]}),(pe=T.current)==null||pe.blur()):ae([e])),a&&a(q,b)},Q=s?q=>{s(q,{...b})}:void 0,G=o?q=>{o(q,{...b})}:void 0,Z=l?q=>{l(q,{...b})}:void 0,U=c?q=>{c(q,{...b})}:void 0,ne=u?q=>{u(q,{...b})}:void 0,te=q=>{var ae;if(!w&&cA.includes(q.key)&&C){const{unselectNodesAndEdges:ce,addSelectedEdges:ge}=L.getState();q.key==="Escape"?((ae=T.current)==null||ae.blur(),ce({edges:[b]})):ge([e])}};return i.jsx("svg",{style:{zIndex:D},children:i.jsxs("g",{className:mt(["react-flow__edge",`react-flow__edge-${k}`,b.className,v,{selected:b.selected,animated:b.animated,inactive:!C&&!a,updating:E,selectable:C}]),onClick:X,onDoubleClick:Q,onContextMenu:G,onMouseEnter:Z,onMouseMove:U,onMouseLeave:ne,onKeyDown:_?te:void 0,tabIndex:_?0:void 0,role:b.ariaRole??(_?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":b.ariaLabel===null?void 0:b.ariaLabel||`Edge from ${b.source} to ${b.target}`,"aria-describedby":_?`${UA}-${p}`:void 0,ref:T,...b.domAttributes,children:[!M&&i.jsx(N,{id:e,source:b.source,target:b.target,type:b.type,selected:b.selected,animated:b.animated,selectable:C,deletable:b.deletable??!0,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,sourceX:R,sourceY:I,targetX:P,targetY:$,sourcePosition:F,targetPosition:H,data:b.data,style:b.style,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerStart:B,markerEnd:Y,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth}),S&&i.jsx(EW,{edge:b,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:h,sourceX:R,sourceY:I,targetX:P,targetY:$,sourcePosition:F,targetPosition:H,setUpdateHover:O,setReconnecting:A})]})})}var PW=g.memo(CW);const OW=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function hT({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:m,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:x}){const{edgesFocusable:v,edgesReconnectable:y,elementsSelectable:w,onError:b}=je(OW,qe),j=hW(t);return i.jsxs("div",{className:"react-flow__edges",children:[i.jsx(vW,{defaultColor:e,rfId:r}),j.map(k=>i.jsx(PW,{id:k,edgesFocusable:v,edgesReconnectable:y,elementsSelectable:w,noPanClassName:a,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:m,onReconnectStart:h,onReconnectEnd:p,rfId:r,onError:b,edgeTypes:n,disableKeyboardA11y:x},k))]})}hT.displayName="EdgeRenderer";const AW=g.memo(hT),TW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function MW({children:e}){const t=je(TW);return i.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function IW(e){const t=Cl(),r=g.useRef(!1);g.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const DW=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function RW(e){const t=je(DW),r=Ye();return g.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function LW(e){return e.connection.inProgress?{...e.connection,to:Ku(e.connection.to,e.transform)}:{...e.connection}}function $W(e){return LW}function zW(e){const t=$W();return je(t,qe)}const FW=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function BW({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:s,height:o,isValid:l,inProgress:c}=je(FW,qe);return!(s&&a&&c)?null:i.jsx("svg",{style:e,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:i.jsx("g",{className:mt(["react-flow__connection",fA(l)]),children:i.jsx(pT,{style:t,type:r,CustomComponent:n,isValid:l})})})}const pT=({style:e,type:t=us.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:s,fromNode:o,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:m,pointer:h}=zW();if(!a)return;if(r)return i.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:m,connectionStatus:fA(n),toNode:d,toHandle:f,pointer:h});let p="";const x={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:m};switch(t){case us.Bezier:[p]=NA(x);break;case us.SimpleBezier:[p]=rT(x);break;case us.Step:[p]=Mm({...x,borderRadius:0});break;case us.SmoothStep:[p]=Mm(x);break;default:[p]=EA(x)}return i.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};pT.displayName="ConnectionLine";const UW={};function UN(e=UW){g.useRef(e),Ye(),g.useEffect(()=>{},[e])}function HW(){Ye(),g.useRef(!1),g.useEffect(()=>{},[])}function gT({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:m,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:x,connectionLineComponent:v,connectionLineContainerStyle:y,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:_,deleteKeyCode:S,onlyRenderVisibleElements:C,elementsSelectable:T,defaultViewport:E,translateExtent:O,minZoom:M,maxZoom:A,preventScrolling:L,defaultMarkerColor:D,zoomOnScroll:R,zoomOnPinch:I,panOnScroll:P,panOnScrollSpeed:$,panOnScrollMode:F,zoomOnDoubleClick:H,panOnDrag:B,onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:G,onPaneScroll:Z,onPaneContextMenu:U,paneClickDistance:ne,nodeClickDistance:te,onEdgeContextMenu:q,onEdgeMouseEnter:ae,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,onReconnect:Me,onReconnectStart:fr,onReconnectEnd:Kr,noDragClassName:V,noWheelClassName:re,noPanClassName:me,disableKeyboardA11y:ue,nodeExtent:ke,rfId:rt,viewport:mr,onViewportChange:pt}){return UN(e),UN(t),HW(),IW(r),RW(mr),i.jsx(aW,{onPaneClick:Y,onPaneMouseEnter:X,onPaneMouseMove:Q,onPaneMouseLeave:G,onPaneContextMenu:U,onPaneScroll:Z,paneClickDistance:ne,deleteKeyCode:S,selectionKeyCode:w,selectionOnDrag:b,selectionMode:j,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:_,elementsSelectable:T,zoomOnScroll:R,zoomOnPinch:I,zoomOnDoubleClick:H,panOnScroll:P,panOnScrollSpeed:$,panOnScrollMode:F,panOnDrag:B,defaultViewport:E,translateExtent:O,minZoom:M,maxZoom:A,onSelectionContextMenu:f,preventScrolling:L,noDragClassName:V,noWheelClassName:re,noPanClassName:me,disableKeyboardA11y:ue,onViewportChange:pt,isControlledViewport:!!mr,children:i.jsxs(MW,{children:[i.jsx(AW,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:o,onReconnect:Me,onReconnectStart:fr,onReconnectEnd:Kr,onlyRenderVisibleElements:C,onEdgeContextMenu:q,onEdgeMouseEnter:ae,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,defaultMarkerColor:D,noPanClassName:me,disableKeyboardA11y:ue,rfId:rt}),i.jsx(BW,{style:x,type:p,component:v,containerStyle:y}),i.jsx("div",{className:"react-flow__edgelabel-renderer"}),i.jsx(mW,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:te,onlyRenderVisibleElements:C,noPanClassName:me,noDragClassName:V,disableKeyboardA11y:ue,nodeExtent:ke,rfId:rt}),i.jsx("div",{className:"react-flow__viewport-portal"})]})})}gT.displayName="GraphView";const VW=g.memo(gT),HN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:o,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:m="basic"}={})=>{const h=new Map,p=new Map,x=new Map,v=new Map,y=n??t??[],w=r??e??[],b=d??[0,0],j=f??nu;OA(x,v,y);const k=ax(w,h,p,{nodeOrigin:b,nodeExtent:j,zIndexMode:m});let N=[0,0,1];if(o&&a&&s){const _=Vu(h,{filter:E=>!!((E.width||E.initialWidth)&&(E.height||E.initialHeight))}),{x:S,y:C,zoom:T}=Ob(_,a,s,c,u,(l==null?void 0:l.padding)??.1);N=[S,C,T]}return{rfId:"1",width:a??0,height:s??0,transform:N,nodes:w,nodesInitialized:k,nodeLookup:h,parentLookup:p,edges:y,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:nu,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:al.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...dA},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:hH,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:uA,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},WW=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:o,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:m})=>cV((h,p)=>{async function x(){const{nodeLookup:v,panZoom:y,fitViewOptions:w,fitViewResolver:b,width:j,height:k,minZoom:N,maxZoom:_}=p();y&&(await fH({nodes:v,width:j,height:k,panZoom:y,minZoom:N,maxZoom:_},w),b==null||b.resolve(!0),h({fitViewResolver:null}))}return{...HN({nodes:e,edges:t,width:a,height:s,fitView:o,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:m}),setNodes:v=>{const{nodeLookup:y,parentLookup:w,nodeOrigin:b,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:N}=p(),_=ax(v,y,w,{nodeOrigin:b,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:N});k&&_?(x(),h({nodes:v,nodesInitialized:_,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:v,nodesInitialized:_})},setEdges:v=>{const{connectionLookup:y,edgeLookup:w}=p();OA(y,w,v),h({edges:v})},setDefaultNodesAndEdges:(v,y)=>{if(v){const{setNodes:w}=p();w(v),h({hasDefaultNodes:!0})}if(y){const{setEdges:w}=p();w(y),h({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:y,nodeLookup:w,parentLookup:b,domNode:j,nodeOrigin:k,nodeExtent:N,debug:_,fitViewQueued:S,zIndexMode:C}=p(),{changes:T,updatedInternals:E}=DH(v,w,b,j,k,N,C);E&&(AH(w,b,{nodeOrigin:k,nodeExtent:N,zIndexMode:C}),S?(x(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(T==null?void 0:T.length)>0&&(_&&console.log("React Flow: trigger node changes",T),y==null||y(T)))},updateNodePositions:(v,y=!1)=>{const w=[];let b=[];const{nodeLookup:j,triggerNodeChanges:k,connection:N,updateConnection:_,onNodesChangeMiddlewareMap:S}=p();for(const[C,T]of v){const E=j.get(C),O=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(T!=null&&T.position)),M={id:C,type:"position",position:O?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:y};if(E&&N.inProgress&&N.fromNode.id===E.id){const A=$i(E,N.fromHandle,fe.Left,!0);_({...N,from:A})}O&&E.parentId&&w.push({id:C,parentId:E.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),b.push(M)}if(w.length>0){const{parentLookup:C,nodeOrigin:T}=p(),E=Rb(w,j,C,T);b.push(...E)}for(const C of S.values())b=C(b);k(b)},triggerNodeChanges:v=>{const{onNodesChange:y,setNodes:w,nodes:b,hasDefaultNodes:j,debug:k}=p();if(v!=null&&v.length){if(j){const N=WA(v,b);w(N)}k&&console.log("React Flow: trigger node changes",v),y==null||y(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:y,setEdges:w,edges:b,hasDefaultEdges:j,debug:k}=p();if(v!=null&&v.length){if(j){const N=KA(v,b);w(N)}k&&console.log("React Flow: trigger edge changes",v),y==null||y(v)}},addSelectedNodes:v=>{const{multiSelectionActive:y,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(y){const N=v.map(_=>Zs(_,!0));j(N);return}j(vo(b,new Set([...v]),!0)),k(vo(w))},addSelectedEdges:v=>{const{multiSelectionActive:y,edgeLookup:w,nodeLookup:b,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(y){const N=v.map(_=>Zs(_,!0));k(N);return}k(vo(w,new Set([...v]))),j(vo(b,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:y}={})=>{const{edges:w,nodes:b,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:N}=p(),_=v||b,S=y||w,C=_.map(E=>{const O=j.get(E.id);return O&&(O.selected=!1),Zs(E.id,!1)}),T=S.map(E=>Zs(E.id,!1));k(C),N(T)},setMinZoom:v=>{const{panZoom:y,maxZoom:w}=p();y==null||y.setScaleExtent([v,w]),h({minZoom:v})},setMaxZoom:v=>{const{panZoom:y,minZoom:w}=p();y==null||y.setScaleExtent([w,v]),h({maxZoom:v})},setTranslateExtent:v=>{var y;(y=p().panZoom)==null||y.setTranslateExtent(v),h({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:y,triggerNodeChanges:w,triggerEdgeChanges:b,elementsSelectable:j}=p();if(!j)return;const k=y.reduce((_,S)=>S.selected?[..._,Zs(S.id,!1)]:_,[]),N=v.reduce((_,S)=>S.selected?[..._,Zs(S.id,!1)]:_,[]);w(k),b(N)},setNodeExtent:v=>{const{nodes:y,nodeLookup:w,parentLookup:b,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:N,zIndexMode:_}=p();v[0][0]===N[0][0]&&v[0][1]===N[0][1]&&v[1][0]===N[1][0]&&v[1][1]===N[1][1]||(ax(y,w,b,{nodeOrigin:j,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:_}),h({nodeExtent:v}))},panBy:v=>{const{transform:y,width:w,height:b,panZoom:j,translateExtent:k}=p();return RH({delta:v,panZoom:j,transform:y,translateExtent:k,width:w,height:b})},setCenter:async(v,y,w)=>{const{width:b,height:j,maxZoom:k,panZoom:N}=p();if(!N)return Promise.resolve(!1);const _=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:k;return await N.setViewport({x:b/2-v*_,y:j/2-y*_,zoom:_},{duration:w==null?void 0:w.duration,ease:w==null?void 0:w.ease,interpolate:w==null?void 0:w.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...dA}})},updateConnection:v=>{h({connection:v})},reset:()=>h({...HN()})}},Object.is);function yT({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:s,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:m,children:h}){const[p]=g.useState(()=>WW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:u,minZoom:o,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:m}));return i.jsx(uV,{value:p,children:i.jsx(MV,{children:h})})}function KW({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:s,height:o,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:m,zIndexMode:h}){return g.useContext(dp)?i.jsx(i.Fragment,{children:e}):i.jsx(yT,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:s,initialHeight:o,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:m,zIndexMode:h,children:e})}const qW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function YW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:N,onNodeDragStart:_,onNodeDrag:S,onNodeDragStop:C,onNodesDelete:T,onEdgesDelete:E,onDelete:O,onSelectionChange:M,onSelectionDragStart:A,onSelectionDrag:L,onSelectionDragStop:D,onSelectionContextMenu:R,onSelectionStart:I,onSelectionEnd:P,onBeforeDelete:$,connectionMode:F,connectionLineType:H=us.Bezier,connectionLineStyle:B,connectionLineComponent:Y,connectionLineContainerStyle:X,deleteKeyCode:Q="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Z=!1,selectionMode:U=au.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:te=iu()?"Meta":"Control",zoomActivationKeyCode:q=iu()?"Meta":"Control",snapToGrid:ae,snapGrid:ce,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:pe,nodesDraggable:Me,autoPanOnNodeFocus:fr,nodesConnectable:Kr,nodesFocusable:V,nodeOrigin:re=HA,edgesFocusable:me,edgesReconnectable:ue,elementsSelectable:ke=!0,defaultViewport:rt=kV,minZoom:mr=.5,maxZoom:pt=2,translateExtent:hn=nu,preventScrolling:St=!0,nodeExtent:gt,defaultMarkerColor:pn="#b1b1b7",zoomOnScroll:Gs=!0,zoomOnPinch:_t=!0,panOnScroll:Qa=!1,panOnScrollSpeed:q5=.5,panOnScrollMode:Y5=Si.Free,zoomOnDoubleClick:G5=!0,panOnDrag:X5=!0,onPaneClick:Q5,onPaneMouseEnter:Z5,onPaneMouseMove:J5,onPaneMouseLeave:e3,onPaneScroll:t3,onPaneContextMenu:r3,paneClickDistance:n3=1,nodeClickDistance:a3=0,children:s3,onReconnect:i3,onReconnectStart:o3,onReconnectEnd:l3,onEdgeContextMenu:c3,onEdgeDoubleClick:u3,onEdgeMouseEnter:d3,onEdgeMouseMove:f3,onEdgeMouseLeave:m3,reconnectRadius:h3=10,onNodesChange:p3,onEdgesChange:g3,noDragClassName:y3="nodrag",noWheelClassName:x3="nowheel",noPanClassName:z1="nopan",fitView:F1,fitViewOptions:B1,connectOnClick:v3,attributionPosition:b3,proOptions:w3,defaultEdgeOptions:j3,elevateNodesOnSelect:k3=!0,elevateEdgesOnSelect:N3=!1,disableKeyboardA11y:U1=!1,autoPanOnConnect:S3,autoPanOnNodeDrag:_3,autoPanSpeed:E3,connectionRadius:C3,isValidConnection:P3,onError:O3,style:A3,id:H1,nodeDragThreshold:T3,connectionDragThreshold:M3,viewport:I3,onViewportChange:D3,width:R3,height:L3,colorMode:$3="light",debug:z3,onScroll:jd,ariaLabelConfig:F3,zIndexMode:V1="basic",...B3},U3){const pg=H1||"1",H3=EV($3),V3=g.useCallback(W1=>{W1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),jd==null||jd(W1)},[jd]);return i.jsx("div",{"data-testid":"rf__wrapper",...B3,onScroll:V3,style:{...A3,...qW},ref:U3,className:mt(["react-flow",a,H3]),id:H1,role:"application",children:i.jsxs(KW,{nodes:e,edges:t,width:R3,height:L3,fitView:F1,fitViewOptions:B1,minZoom:mr,maxZoom:pt,nodeOrigin:re,nodeExtent:gt,zIndexMode:V1,children:[i.jsx(VW,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:N,nodeTypes:s,edgeTypes:o,connectionLineType:H,connectionLineStyle:B,connectionLineComponent:Y,connectionLineContainerStyle:X,selectionKeyCode:G,selectionOnDrag:Z,selectionMode:U,deleteKeyCode:Q,multiSelectionKeyCode:te,panActivationKeyCode:ne,zoomActivationKeyCode:q,onlyRenderVisibleElements:ge,defaultViewport:rt,translateExtent:hn,minZoom:mr,maxZoom:pt,preventScrolling:St,zoomOnScroll:Gs,zoomOnPinch:_t,zoomOnDoubleClick:G5,panOnScroll:Qa,panOnScrollSpeed:q5,panOnScrollMode:Y5,panOnDrag:X5,onPaneClick:Q5,onPaneMouseEnter:Z5,onPaneMouseMove:J5,onPaneMouseLeave:e3,onPaneScroll:t3,onPaneContextMenu:r3,paneClickDistance:n3,nodeClickDistance:a3,onSelectionContextMenu:R,onSelectionStart:I,onSelectionEnd:P,onReconnect:i3,onReconnectStart:o3,onReconnectEnd:l3,onEdgeContextMenu:c3,onEdgeDoubleClick:u3,onEdgeMouseEnter:d3,onEdgeMouseMove:f3,onEdgeMouseLeave:m3,reconnectRadius:h3,defaultMarkerColor:pn,noDragClassName:y3,noWheelClassName:x3,noPanClassName:z1,rfId:pg,disableKeyboardA11y:U1,nodeExtent:gt,viewport:I3,onViewportChange:D3}),i.jsx(_V,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:h,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:Me,autoPanOnNodeFocus:fr,nodesConnectable:Kr,nodesFocusable:V,edgesFocusable:me,edgesReconnectable:ue,elementsSelectable:ke,elevateNodesOnSelect:k3,elevateEdgesOnSelect:N3,minZoom:mr,maxZoom:pt,nodeExtent:gt,onNodesChange:p3,onEdgesChange:g3,snapToGrid:ae,snapGrid:ce,connectionMode:F,translateExtent:hn,connectOnClick:v3,defaultEdgeOptions:j3,fitView:F1,fitViewOptions:B1,onNodesDelete:T,onEdgesDelete:E,onDelete:O,onNodeDragStart:_,onNodeDrag:S,onNodeDragStop:C,onSelectionDrag:L,onSelectionDragStart:A,onSelectionDragStop:D,onMove:d,onMoveStart:f,onMoveEnd:m,noPanClassName:z1,nodeOrigin:re,rfId:pg,autoPanOnConnect:S3,autoPanOnNodeDrag:_3,autoPanSpeed:E3,onError:O3,connectionRadius:C3,isValidConnection:P3,selectNodesOnDrag:pe,nodeDragThreshold:T3,connectionDragThreshold:M3,onBeforeDelete:$,debug:z3,ariaLabelConfig:F3,zIndexMode:V1}),i.jsx(jV,{onSelectionChange:M}),s3,i.jsx(yV,{proOptions:w3,position:b3}),i.jsx(gV,{rfId:pg,disableKeyboardA11y:U1})]})})}var GW=qA(YW);const XW=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function QW({children:e}){const t=je(XW);return t?Ou.createPortal(e,t):null}function ZW({dimensions:e,lineWidth:t,variant:r,className:n}){return i.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:mt(["react-flow__background-pattern",r,n])})}function JW({radius:e,className:t}){return i.jsx("circle",{cx:e,cy:e,r:e,className:mt(["react-flow__background-pattern","dots",t])})}var Ts;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ts||(Ts={}));const eK={[Ts.Dots]:1,[Ts.Lines]:1,[Ts.Cross]:6},tK=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function xT({id:e,variant:t=Ts.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=0,color:o,bgColor:l,style:c,className:u,patternClassName:d}){const f=g.useRef(null),{transform:m,patternId:h}=je(tK,qe),p=n||eK[t],x=t===Ts.Dots,v=t===Ts.Cross,y=Array.isArray(r)?r:[r,r],w=[y[0]*m[2]||1,y[1]*m[2]||1],b=p*m[2],j=Array.isArray(s)?s:[s,s],k=v?[b,b]:w,N=[j[0]*m[2]||1+k[0]/2,j[1]*m[2]||1+k[1]/2],_=`${h}${e||""}`;return i.jsxs("svg",{className:mt(["react-flow__background",u]),style:{...c,...mp,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[i.jsx("pattern",{id:_,x:m[0]%w[0],y:m[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:x?i.jsx(JW,{radius:b/2,className:d}):i.jsx(ZW,{dimensions:k,lineWidth:a,variant:t,className:d})}),i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}xT.displayName="Background";const rK=g.memo(xT);function nK(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:i.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function aK(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:i.jsx("path",{d:"M0 0h32v4.2H0z"})})}function sK(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:i.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function iK(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:i.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function oK(){return i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:i.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ef({children:e,className:t,...r}){return i.jsx("button",{type:"button",className:mt(["react-flow__controls-button",t]),...r,children:e})}const lK=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function vT({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:m="vertical","aria-label":h}){const p=Ye(),{isInteractive:x,minZoomReached:v,maxZoomReached:y,ariaLabelConfig:w}=je(lK,qe),{zoomIn:b,zoomOut:j,fitView:k}=Cl(),N=()=>{b(),s==null||s()},_=()=>{j(),o==null||o()},S=()=>{k(a),l==null||l()},C=()=>{p.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)},T=m==="horizontal"?"horizontal":"vertical";return i.jsxs(fp,{className:mt(["react-flow__controls",T,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??w["controls.ariaLabel"],children:[t&&i.jsxs(i.Fragment,{children:[i.jsx(ef,{onClick:N,className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:y,children:i.jsx(nK,{})}),i.jsx(ef,{onClick:_,className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:v,children:i.jsx(aK,{})})]}),r&&i.jsx(ef,{className:"react-flow__controls-fitview",onClick:S,title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:i.jsx(sK,{})}),n&&i.jsx(ef,{className:"react-flow__controls-interactive",onClick:C,title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:x?i.jsx(oK,{}):i.jsx(iK,{})}),d]})}vT.displayName="Controls";const cK=g.memo(vT);function uK({id:e,x:t,y:r,width:n,height:a,style:s,color:o,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:m,onClick:h}){const{background:p,backgroundColor:x}=s||{},v=o||p||x;return i.jsx("rect",{className:mt(["react-flow__minimap-node",{selected:m},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:v,stroke:l,strokeWidth:c},shapeRendering:f,onClick:h?y=>h(y,e):void 0})}const dK=g.memo(uK),fK=e=>e.nodes.map(t=>t.id),a0=e=>e instanceof Function?e:()=>e;function mK({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:s=dK,onClick:o}){const l=je(fK,qe),c=a0(t),u=a0(e),d=a0(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return i.jsx(i.Fragment,{children:l.map(m=>i.jsx(pK,{id:m,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:s,onClick:o,shapeRendering:f},m))})}function hK({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:m,height:h}=je(p=>{const{internals:x}=p.nodeLookup.get(e),v=x.userNode,{x:y,y:w}=x.positionAbsolute,{width:b,height:j}=Ka(v);return{node:v,x:y,y:w,width:b,height:j}},qe);return!u||u.hidden||!xA(u)?null:i.jsx(l,{x:d,y:f,width:m,height:h,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:s,shapeRendering:o,onClick:c,id:u.id})}const pK=g.memo(hK);var gK=g.memo(mK);const yK=200,xK=150,vK=e=>!e.hidden,bK=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?yA(Vu(e.nodeLookup,{filter:vK}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},wK="react-flow__minimap-desc";function bT({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:m="bottom-right",onClick:h,onNodeClick:p,pannable:x=!1,zoomable:v=!1,ariaLabel:y,inversePan:w,zoomStep:b=1,offsetScale:j=5}){const k=Ye(),N=g.useRef(null),{boundingRect:_,viewBB:S,rfId:C,panZoom:T,translateExtent:E,flowWidth:O,flowHeight:M,ariaLabelConfig:A}=je(bK,qe),L=(e==null?void 0:e.width)??yK,D=(e==null?void 0:e.height)??xK,R=_.width/L,I=_.height/D,P=Math.max(R,I),$=P*L,F=P*D,H=j*P,B=_.x-($-_.width)/2-H,Y=_.y-(F-_.height)/2-H,X=$+H*2,Q=F+H*2,G=`${wK}-${C}`,Z=g.useRef(0),U=g.useRef();Z.current=P,g.useEffect(()=>{if(N.current&&T)return U.current=WH({domNode:N.current,panZoom:T,getTransform:()=>k.getState().transform,getViewScale:()=>Z.current}),()=>{var ae;(ae=U.current)==null||ae.destroy()}},[T]),g.useEffect(()=>{var ae;(ae=U.current)==null||ae.update({translateExtent:E,width:O,height:M,inversePan:w,pannable:x,zoomStep:b,zoomable:v})},[x,v,w,b,E,O,M]);const ne=h?ae=>{var pe;const[ce,ge]=((pe=U.current)==null?void 0:pe.pointer(ae))||[0,0];h(ae,{x:ce,y:ge})}:void 0,te=p?g.useCallback((ae,ce)=>{const ge=k.getState().nodeLookup.get(ce).internals.userNode;p(ae,ge)},[]):void 0,q=y??A["minimap.ariaLabel"];return i.jsx(fp,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*P:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:mt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:i.jsxs("svg",{width:L,height:D,viewBox:`${B} ${Y} ${X} ${Q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:N,onClick:ne,children:[q&&i.jsx("title",{id:G,children:q}),i.jsx(gK,{onClick:te,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:a,nodeStrokeWidth:o,nodeComponent:l}),i.jsx("path",{className:"react-flow__minimap-mask",d:`M${B-H},${Y-H}h${X+H*2}v${Q+H*2}h${-X-H*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}bT.displayName="MiniMap";g.memo(bT);const jK=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,kK={[ll.Line]:"right",[ll.Handle]:"bottom-right"};function NK({nodeId:e,position:t,variant:r=ll.Handle,className:n,style:a=void 0,children:s,color:o,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:m,autoScale:h=!0,shouldResize:p,onResizeStart:x,onResize:v,onResizeEnd:y}){const w=QA(),b=typeof e=="string"?e:w,j=Ye(),k=g.useRef(null),N=r===ll.Handle,_=je(g.useCallback(jK(N&&h),[N,h]),qe),S=g.useRef(null),C=t??kK[r];g.useEffect(()=>{if(!(!k.current||!b))return S.current||(S.current=sV({domNode:k.current,nodeId:b,getStoreItems:()=>{const{nodeLookup:E,transform:O,snapGrid:M,snapToGrid:A,nodeOrigin:L,domNode:D}=j.getState();return{nodeLookup:E,transform:O,snapGrid:M,snapToGrid:A,nodeOrigin:L,paneDomNode:D}},onChange:(E,O)=>{const{triggerNodeChanges:M,nodeLookup:A,parentLookup:L,nodeOrigin:D}=j.getState(),R=[],I={x:E.x,y:E.y},P=A.get(b);if(P&&P.expandParent&&P.parentId){const $=P.origin??D,F=E.width??P.measured.width??0,H=E.height??P.measured.height??0,B={id:P.id,parentId:P.parentId,rect:{width:F,height:H,...vA({x:E.x??P.position.x,y:E.y??P.position.y},{width:F,height:H},P.parentId,A,$)}},Y=Rb([B],A,L,D);R.push(...Y),I.x=E.x?Math.max($[0]*F,E.x):void 0,I.y=E.y?Math.max($[1]*H,E.y):void 0}if(I.x!==void 0&&I.y!==void 0){const $={id:b,type:"position",position:{...I}};R.push($)}if(E.width!==void 0&&E.height!==void 0){const F={id:b,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:E.width,height:E.height}};R.push(F)}for(const $ of O){const F={...$,type:"position"};R.push(F)}M(R)},onEnd:({width:E,height:O})=>{const M={id:b,type:"dimensions",resizing:!1,dimensions:{width:E,height:O}};j.getState().triggerNodeChanges([M])}})),S.current.update({controlPosition:C,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:m,onResizeStart:x,onResize:v,onResizeEnd:y,shouldResize:p}),()=>{var E;(E=S.current)==null||E.destroy()}},[C,l,c,u,d,f,x,v,y,p]);const T=C.split("-");return i.jsx("div",{className:mt(["react-flow__resize-control","nodrag",...T,r,n]),ref:k,style:{...a,scale:_,...o&&{[N?"backgroundColor":"borderColor"]:o}},children:s})}g.memo(NK);const $t=[];for(let e=0;e<256;++e)$t.push((e+256).toString(16).slice(1));function SK(e,t=0){return($t[e[t+0]]+$t[e[t+1]]+$t[e[t+2]]+$t[e[t+3]]+"-"+$t[e[t+4]]+$t[e[t+5]]+"-"+$t[e[t+6]]+$t[e[t+7]]+"-"+$t[e[t+8]]+$t[e[t+9]]+"-"+$t[e[t+10]]+$t[e[t+11]]+$t[e[t+12]]+$t[e[t+13]]+$t[e[t+14]]+$t[e[t+15]]).toLowerCase()}let s0;const _K=new Uint8Array(16);function EK(){if(!s0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s0=crypto.getRandomValues.bind(crypto)}return s0(_K)}const CK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VN={randomUUID:CK};function PK(e,t,r){var a;e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??EK();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,SK(n)}function wT(e,t,r){return VN.randomUUID&&!e?VN.randomUUID():PK(e)}const xe=vb((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:WA(r,t().nodes)})},onEdgesChange:r=>{e({edges:KA(r,t().edges)})},onConnect:r=>{const n=t().nodes,a=t().edges,s=n.find(l=>l.id===r.source),o=n.find(l=>l.id===r.target);if(s&&o&&s.data.definitionType==="feature_target_split"){let c=o.data.definitionType==="TrainTestSplitter";if(!c){const u=[s.id],d=new Set;for(;u.length>0;){const f=u.shift();if(d.has(f))continue;d.add(f);const m=n.find(p=>p.id===f);if((m==null?void 0:m.data.definitionType)==="TrainTestSplitter"){c=!0;break}const h=a.filter(p=>p.target===f);for(const p of h)u.push(p.source)}}c||alert(`Warning: You are using an X/Y Split without a prior Train-Test Split.

Any processing or modeling done on this data will use 100% of the dataset (Data Leakage).

Recommended: Add a "Train-Test Split" node BEFORE the "Feature-Target Split" node.`)}e({edges:_A(r,t().edges)})},addNode:(r,n,a={})=>{const s=_e.get(r);if(!s)return console.error(`Node type ${r} not found in registry`),"";const o=`${r}-${wT()}`,l={id:o,type:"custom",position:n,data:{definitionType:r,catalogType:r,...s.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),o},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const s=_e.get(a.data.definitionType);if(s){const o=s.validate(a.data);if(!o.isValid)return console.warn(`Node ${a.id} validation failed: ${o.message}`),!1}}for(const a of r){const s=_e.get(a.data.definitionType);if(s&&s.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${s.label}) is disconnected.`),!1}return!0}})),Pl=vb(e=>({activeView:"canvas",setView:t=>e({activeView:t}),isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t}),isPropertiesPanelExpanded:!1,setPropertiesPanelExpanded:t=>e({isPropertiesPanelExpanded:t}),isResultsPanelExpanded:!0,setResultsPanelExpanded:t=>e({isResultsPanelExpanded:t})})),OK=()=>{const e=_e.getAll(),t=xe(u=>u.addNode),{isSidebarOpen:r,setSidebarOpen:n}=Pl(),[a,s]=g.useState(""),o=(u,d)=>{u.dataTransfer.setData("application/reactflow",d),u.dataTransfer.effectAllowed="move"};if(!r)return i.jsx("div",{className:"absolute left-4 top-4 z-50",children:i.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-background border shadow-md rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Expand Components",children:i.jsx(sF,{className:"w-5 h-5"})})});const l=e.filter(u=>u.label.toLowerCase().includes(a.toLowerCase())||u.category.toLowerCase().includes(a.toLowerCase())),c=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return i.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10 transition-all duration-300",children:[i.jsxs("div",{className:"p-4 border-b space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),i.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Collapse Sidebar",children:i.jsx(aF,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Hs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:a,onChange:u=>{s(u.target.value)}})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:c.map(u=>{const d=l.filter(f=>f.category===u);return d.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:u}),i.jsx("div",{className:"space-y-2",children:d.map(f=>i.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:m=>{o(m,f.type)},onClick:()=>t(f.type,{x:100,y:100}),children:[i.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:f.icon&&i.jsx(f.icon,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium truncate",children:f.label}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:f.description})]})]},f.type))})]},u)})})]})};function AK(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:TK}=Ir;function MK(e){const t=TK();return r=>{const n=e(r);return AK(t.current,n)?t.current:t.current=n}}const IK=g.memo(({id:e,data:t,selected:r})=>{var u;const n=t.definitionType,a=_e.get(n),{deleteElements:s}=Cl(),o=xe(d=>d.executionResult),l=(u=o==null?void 0:o.node_results)==null?void 0:u[e],c=d=>{d.stopPropagation(),s({nodes:[{id:e}]})};return a?i.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[i.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[i.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&i.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&i.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?i.jsx(z6,{size:10}):i.jsx(mb,{size:10})})]}),i.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),i.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:i.jsx(Zt,{size:14})})]}),i.jsx("div",{className:"p-3",children:a.component?i.jsx(a.component,{data:t}):i.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((d,f)=>i.jsx(cl,{type:"target",position:fe.Left,id:d.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(a.inputs.length+1)}%`},children:i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:d.label})},`input-${d.id}`)),a.outputs.map((d,f)=>i.jsx(cl,{type:"source",position:fe.Right,id:d.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(a.outputs.length+1)}%`},children:i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:d.label})},`output-${d.id}`))]}):i.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[i.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Sr,{size:16}),i.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),i.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),DK=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:s,targetPosition:o,style:l={},markerEnd:c})=>{const{deleteElements:u}=Cl(),[d,f,m]=Mm({sourceX:t,sourceY:r,sourcePosition:s,targetX:n,targetY:a,targetPosition:o,borderRadius:24}),h=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return i.jsxs(i.Fragment,{children:[i.jsx(ul,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),i.jsx(ul,{path:d,markerEnd:c,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),i.jsx(QW,{children:i.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${m}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:i.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:h,title:"Remove Connection",children:i.jsx(Zt,{size:10})})})})]})},RK={custom:IK},LK={custom:DK},$K=()=>{const e=g.useRef(null),{screenToFlowPosition:t}=Cl(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:o,addNode:l,executionResult:c}=xe(MK(m=>({nodes:m.nodes,edges:m.edges,onNodesChange:m.onNodesChange,onEdgesChange:m.onEdgesChange,onConnect:m.onConnect,addNode:m.addNode,executionResult:m.executionResult}))),{isResultsPanelExpanded:u}=Pl(),d=g.useCallback(m=>{m.preventDefault(),m.dataTransfer.dropEffect="move"},[]),f=g.useCallback(m=>{m.preventDefault();const h=m.dataTransfer.getData("application/reactflow");if(typeof h>"u"||!h)return;const p=t({x:m.clientX,y:m.clientY});l(h,p)},[t,l]);return i.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:i.jsxs(GW,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:o,nodeTypes:RK,onDragOver:d,onDrop:f,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:LK,deleteKeyCode:["Backspace","Delete"],children:[i.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"edge-gradient",children:[i.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),i.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),i.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),i.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[i.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),i.jsxs("feMerge",{children:[i.jsx("feMergeNode",{in:"coloredBlur"}),i.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),i.jsx(rK,{}),i.jsx(cK,{position:"bottom-left",style:c&&!u?{marginBottom:"40px",transition:"margin-bottom 0.3s ease-in-out"}:{transition:"margin-bottom 0.3s ease-in-out"}})]})})},zK=()=>i.jsx(yT,{children:i.jsx($K,{})}),FK=()=>{const e=xe(o=>o.nodes),{isSidebarOpen:t,isPropertiesPanelExpanded:r,setPropertiesPanelExpanded:n}=Pl(),a=e.find(o=>o.selected);Ir.useEffect(()=>{a||n(!1)},[a,n]);const s=t?"w-[calc(100vw-300px)]":"w-[calc(100vw-50px)]";return i.jsx("aside",{className:`border-l bg-background shrink-0 transition-all duration-300 ease-in-out overflow-hidden ${a?r?`${s} opacity-100`:"w-80 opacity-100":"w-0 opacity-0"}`,children:a&&i.jsx(BK,{selectedNode:a,isExpanded:r,toggleExpand:()=>n(!r)})})},BK=({selectedNode:e,isExpanded:t,toggleExpand:r})=>{const n=xe(u=>u.updateNodeData),a=xe(u=>u.onNodesChange),s=()=>{a([{id:e.id,type:"select",selected:!1}])},o=e.data.definitionType,l=_e.get(o);if(!l)return i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[i.jsx(Zt,{className:"w-4 h-4"}),"Error: Node definition '",o,"' not found."]})});const c=l.settings;return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:i.jsx(hb,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-sm",children:String(e.data.label||l.label)}),i.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",e.id]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:r,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:t?i.jsx(tF,{className:"w-4 h-4"}):i.jsx(eF,{className:"w-4 h-4"})}),i.jsx("button",{onClick:s,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:i.jsx(Zt,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.jsx("div",{className:"space-y-6",children:i.jsx(c,{config:e.data,onChange:u=>n(e.id,u),nodeId:e.id})})})]})},UK=3e3,ts=50,Ol=vb((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchJobs:async()=>{e({isLoading:!0,skip:0});try{const n=await Tt.getJobs(ts,0);e({jobs:n,isLoading:!1,hasMore:n.length===ts})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:s,hasMore:o}=t();if(s||!o)return;const l=n+ts;e({isLoading:!0});try{const c=await Tt.getJobs(ts,l);e({jobs:[...a,...c],isLoading:!1,skip:l,hasMore:c.length===ts})}catch(c){console.error("Failed to load more jobs:",c),e({isLoading:!1})}},submitJob:async n=>{try{const a=await Tt.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await Tt.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,s=n!==void 0?n:!a;e({isDrawerOpen:s}),s?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(()=>{(async()=>{try{const n=await Tt.getJobs(ts,0);e(s=>s.jobs.length<=ts?{jobs:n}:{jobs:[...n,...s.jobs.slice(ts)]}),!n.some(s=>s.status==="running"||s.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}})()},UK))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),hp=(e,t)=>{const r=[],n=new Set,a=[],s=e.find(l=>l.data.definitionType==="dataset_node"),o=s==null?void 0:s.data.datasetId;for(s&&a.push(s.id);a.length>0;){const l=a.shift();if(!l||n.has(l))continue;n.add(l);const c=e.find(p=>p.id===l);if(!c)continue;let u="unknown",d={};const m=t.filter(p=>p.target===l).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data&&typeof c.data=="object"?c.data:{},x=p.method||"standard";x==="minmax"?u="MinMaxScaler":x==="maxabs"?u="MaxAbsScaler":x==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],x=[];for(const v of p){const y=v;if(y.columns&&Array.isArray(y.columns))for(const w of y.columns)x.push({column:w,method:y.method,...y.params})}d={transformations:x}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="PolynomialFeaturesNode"?(u="PolynomialFeatures",d={columns:c.data.columns,degree:c.data.degree,interaction_only:c.data.interaction_only,include_bias:c.data.include_bias,output_prefix:c.data.output_prefix,include_input_features:c.data.include_input_features}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):c.data.definitionType==="data_preview"?(u="data_preview",d={}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data&&typeof c.data=="object"?c.data:{});r.push({node_id:c.id,step_type:u,params:d,inputs:m}),t.filter(p=>p.source===l).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${wT()}`,nodes:r,metadata:{dataset_source_id:o}}},HK=()=>{const e=xe(x=>x.nodes),t=xe(x=>x.edges),r=xe(x=>x.setExecutionResult),n=xe(x=>x.setGraph),{toggleDrawer:a}=Ol(),[s,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),f=()=>({nodes:e.map(x=>({id:x.id,type:x.type,position:x.position,data:{...x.data,catalogType:x.data.catalogType||x.data.definitionType}})),edges:t.map(x=>({id:x.id,source:x.source,target:x.target,sourceHandle:x.sourceHandle,targetHandle:x.targetHandle,type:x.type,data:x.data}))}),m=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await Z8(v,{name:"My Pipeline",description:"Saved from Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(y){console.error("Save failed:",y),alert("Failed to save pipeline.")}finally{c(!1)}},h=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const y=await J8(v);if(y){const w=Array.isArray(y.graph.nodes)?y.graph.nodes:[],b=Array.isArray(y.graph.edges)?y.graph.edges:[];n(w,b),alert("Pipeline loaded successfully!")}else alert("No saved pipeline found for this dataset.")}catch(y){console.error("Load failed:",y),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node");if(!(x==null?void 0:x.data.datasetId)){alert("No dataset node found!");return}o(!0),r(null);try{const y=hp(e,t),w=await X8(y);r(w)}catch(y){console.error("Pipeline failed:",y),alert("Pipeline execution failed. Check console for details.")}finally{o(!1)}};return i.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[i.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[i.jsx(Z6,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),i.jsxs("button",{onClick:()=>{h()},disabled:u||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?i.jsx(ar,{className:"w-4 h-4 animate-spin"}):i.jsx(Y6,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),i.jsxs("button",{onClick:()=>{m()},disabled:l||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?i.jsx(ar,{className:"w-4 h-4 animate-spin"}):i.jsx(lF,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),i.jsxs("button",{onClick:()=>{p()},disabled:s,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?i.jsx(ar,{className:"w-4 h-4 animate-spin"}):i.jsx(Us,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]})]})},VK=()=>{var h;const e=xe(p=>p.executionResult),{isResultsPanelExpanded:t,setResultsPanelExpanded:r}=Pl(),[n,a]=g.useState(null),s=g.useMemo(()=>{const p=e==null?void 0:e.preview_data;return p?Array.isArray(p)?{Result:p}:typeof p=="object"?p:{}:{}},[e]),o=Object.keys(s);if(Ir.useEffect(()=>{o.length>0&&(!n||!o.includes(n))&&(o.includes("train")?a("train"):o.includes("X")?a("X"):a(o[0]))},[o,n]),!e)return null;const l=n&&s[n]?s[n]:[],c=l.length>0?Object.keys(l[0]??{}):[],u=e.node_results?Object.keys(e.node_results):[],d=e.node_results||{},f=Object.keys(d).find(p=>{const x=d[p];return(x==null?void 0:x.status)==="failed"}),m=f?(h=d[f])==null?void 0:h.error:null;return i.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ZP,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),i.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&i.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),i.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?i.jsx(It,{className:"w-4 h-4"}):i.jsx(Du,{className:"w-4 h-4"})})]}),t&&i.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&i.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[i.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),i.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:m||"Unknown error occurred during execution."})]}),o.length>1&&i.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[i.jsx(J6,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(p=>i.jsx("button",{onClick:()=>{a(p)},className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===p?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:p},p))]}),u.length>0&&e.status!=="failed"&&i.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((p,x)=>i.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:p},x))}),i.jsxs("div",{className:"flex-1 overflow-auto",children:[i.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[i.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:i.jsx("tr",{children:c.map(p=>i.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:p},p))})}),i.jsx("tbody",{children:l.map((p,x)=>i.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(v=>i.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:p[v]!==null?String(p[v]):i.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${x}-${v}`))},x))})]}),l.length===0&&i.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},WK=()=>{const{activeView:e,setView:t}=Pl();return i.jsx("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-center shrink-0 relative",children:i.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[i.jsxs("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[i.jsx(KP,{className:"w-4 h-4"}),"Canvas"]}),i.jsxs("button",{onClick:()=>t("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[i.jsx(Qc,{className:"w-4 h-4"}),"Experiments"]}),i.jsxs("button",{onClick:()=>t("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[i.jsx(Gh,{className:"w-4 h-4"}),"Inference"]})]})})},KK=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:s,fetchJobs:o,hasMore:l,loadMoreJobs:c}=Ol(),[u,d]=g.useState(null);if(!e)return null;const f=r.filter(m=>m.job_type===a);return i.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),i.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:u?i.jsx(qK,{job:u,onBack:()=>{d(null)},onClose:()=>t(!1)}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[i.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>o(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:i.jsx(En,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:i.jsx(Zt,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[i.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("tuning"),children:"Model Optimization"}),i.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("training"),children:"Standard Training"})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[i.jsx("div",{className:"col-span-2",children:"Status"}),i.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),i.jsx("div",{className:"col-span-3",children:"Job ID"}),i.jsx("div",{className:"col-span-2",children:"Started"}),i.jsx("div",{className:"col-span-1",children:"Duration"}),i.jsx("div",{className:"col-span-1",children:"Ready"}),i.jsx("div",{className:"col-span-1",children:"Result"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:f.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):i.jsxs(i.Fragment,{children:[f.map(m=>i.jsx(YK,{job:m,onClick:()=>{d(m)}},m.job_id)),l&&i.jsx("div",{className:"flex justify-center pt-2 pb-4",children:i.jsxs("button",{onClick:()=>c(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?i.jsx(En,{className:"w-3 h-3 animate-spin"}):i.jsx(It,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},qK=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=Ol(),[a,s]=g.useState(e),[o,l]=g.useState("overview"),[c,u]=g.useState(!1),d=g.useRef(null);g.useEffect(()=>{let m;const h=async()=>{try{const p=await Tt.getJob(e.job_id);s(p)}catch(p){console.error("Failed to fetch job details",p)}};return h(),(a.status==="running"||a.status==="queued")&&(m=setInterval(()=>{h()},2e3)),()=>{m&&clearInterval(m)}},[e.job_id,a.status]),g.useEffect(()=>{o==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,o]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:i.jsx(R6,{className:"w-4 h-4"})}),i.jsx("div",{children:i.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",i.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&i.jsxs("button",{onClick:()=>{f()},disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[i.jsx(fF,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),i.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:i.jsx(Zt,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[i.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${o==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("overview")},children:[i.jsx(YP,{className:"w-4 h-4"}),"Overview"]}),i.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${o==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("logs")},children:[i.jsx(Yh,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o==="overview"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),i.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),i.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[i.jsx(ea,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),i.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[i.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[i.jsx(Sr,{className:"w-4 h-4"}),"Error Log"]}),i.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[i.jsx(pF,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&i.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[i.jsx(Jn,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&!!a.result.metrics&&i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([m,h])=>i.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:m.replace(/_/g," ")}),i.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof h=="number"?h.toFixed(4):String(h)})]},m))}),a.job_type==="tuning"&&i.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&i.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Best Score"}),i.jsx("div",{className:"font-mono font-bold text-lg text-purple-600 dark:text-purple-400",children:Number(a.result.best_score).toFixed(4)})]}),!!a.result.metrics&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([m])=>!["best_score","best_params","trials"].includes(m)).map(([m,h])=>i.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:m.replace(/_/g," ")}),i.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof h=="number"?h.toFixed(4):String(h)})]},m))})]}),!!a.result.best_params&&i.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[i.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),i.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):i.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((m,h)=>i.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:m},h)):i.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),i.jsx("div",{ref:d})]})})]})},YK=({job:e,onClick:t})=>{var o;const r=l=>{switch(l){case"completed":case"succeeded":return i.jsx(Jn,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return i.jsx(Sr,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return i.jsx(En,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return i.jsx(qh,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=l=>{switch(l){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=l=>l?new Date(l).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=(l,c)=>{if(!l||!c)return"-";const u=new Date(c).getTime()-new Date(l).getTime(),d=Math.floor(u/1e3);return d<60?`${d}s`:`${Math.floor(d/60)}m ${d%60}s`};return i.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[i.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),i.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),i.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[i.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[i.jsx(ea,{className:"w-3 h-3"}),i.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),i.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[i.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&!!e.config&&!!e.config.tuning&&i.jsxs("span",{className:"text-gray-400 truncate",children:["(",(o=e.config.tuning)==null?void 0:o.strategy,")"]})]})]}),i.jsx("div",{className:"col-span-3 font-mono text-xs text-gray-500 dark:text-gray-400 break-all",title:e.job_id,children:e.job_id}),i.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),i.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:s(e.start_time,e.end_time)}),i.jsx("div",{className:"col-span-1",children:e.status==="completed"&&i.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:i.jsx(Jn,{className:"w-3 h-3"})})}),i.jsx("div",{className:"col-span-1",children:e.error?i.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?i.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([l,c])=>i.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[l,": ",Number(c).toFixed(3)]},l))}):e.job_type==="tuning"?i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&i.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&!!e.result.best_params&&i.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):i.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):i.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function jT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=jT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ee(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=jT(e))&&(n&&(n+=" "),n+=t);return n}var GK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $b(e){if(typeof e!="string")return!1;var t=GK;return t.includes(e)}var XK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QK=new Set(XK);function kT(e){return typeof e!="string"?!1:QK.has(e)}function NT(e){return typeof e=="string"&&e.startsWith("data-")}function Br(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(kT(r)||NT(r))&&(t[r]=e[r]);return t}function Al(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Br(t)}return typeof e=="object"&&!Array.isArray(e)?Br(e):null}function Jt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(kT(r)||NT(r)||$b(r))&&(t[r]=e[r]);return t}function ZK(e){return e==null?null:g.isValidElement(e)?Jt(e.props):typeof e=="object"&&!Array.isArray(e)?Jt(e):null}var JK=["children","width","height","viewBox","className","style","title","desc"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}function eq(e,t){if(e==null)return{};var r,n,a=tq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zb=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=eq(e,JK),f=s||{width:n,height:a,x:0,y:0},m=Ee("recharts-surface",o);return g.createElement("svg",ox({},Jt(d),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),rq=["children","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}function nq(e,t){if(e==null)return{};var r,n,a=aq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dt=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=nq(e,rq),s=Ee("recharts-layer",n);return g.createElement("g",lx({className:s},Jt(a),{ref:t}),r)}),ST=g.createContext(null),sq=()=>g.useContext(ST);function Re(e){return function(){return e}}const _T=Math.cos,Dm=Math.sin,zn=Math.sqrt,Rm=Math.PI,pp=2*Rm,cx=Math.PI,ux=2*cx,Js=1e-6,iq=ux-Js;function ET(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function oq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ET;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class lq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ET:oq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Js)if(!(Math.abs(f*c-u*d)>Js)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,p=a-l,x=c*c+u*u,v=h*h+p*p,y=Math.sqrt(x),w=Math.sqrt(m),b=s*Math.tan((cx-Math.acos((x+m-v)/(2*y*w)))/2),j=b/w,k=b/y;Math.abs(j-1)>Js&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*h>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,m=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Js||Math.abs(this._y1-d)>Js)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%ux+ux),m>iq?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Js&&this._append`A${n},${n},0,${+(m>=cx)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Fb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lq(t)}function Bb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gp(e){return new CT(e)}function PT(e){return e[0]}function OT(e){return e[1]}function AT(e,t){var r=Re(!0),n=null,a=gp,s=null,o=Fb(l);e=typeof e=="function"?e:e===void 0?PT:Re(e),t=typeof t=="function"?t:t===void 0?OT:Re(t);function l(c){var u,d=(c=Bb(c)).length,f,m=!1,h;for(n==null&&(s=a(h=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,u,c),+t(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function tf(e,t,r){var n=null,a=Re(!0),s=null,o=gp,l=null,c=Fb(u);e=typeof e=="function"?e:e===void 0?PT:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?OT:Re(+r);function u(f){var m,h,p,x=(f=Bb(f)).length,v,y=!1,w,b=new Array(x),j=new Array(x);for(s==null&&(l=o(w=c())),m=0;m<=x;++m){if(!(m<x&&a(v=f[m],m,f))===y)if(y=!y)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(b[p],j[p]);l.lineEnd(),l.areaEnd()}y&&(b[m]=+e(v,m,f),j[m]=+t(v,m,f),l.point(n?+n(v,m,f):b[m],r?+r(v,m,f):j[m]))}if(w)return l=null,w+""||null}function d(){return AT().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Re(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class TT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cq(e){return new TT(e,!0)}function uq(e){return new TT(e,!1)}const Ub={draw(e,t){const r=zn(t/Rm);e.moveTo(r,0),e.arc(0,0,r,0,pp)}},dq={draw(e,t){const r=zn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MT=zn(1/3),fq=MT*2,mq={draw(e,t){const r=zn(t/fq),n=r*MT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},hq={draw(e,t){const r=zn(t),n=-r/2;e.rect(n,n,r,r)}},pq=.8908130915292852,IT=Dm(Rm/10)/Dm(7*Rm/10),gq=Dm(pp/10)*IT,yq=-_T(pp/10)*IT,xq={draw(e,t){const r=zn(t*pq),n=gq*r,a=yq*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=pp*s/5,l=_T(o),c=Dm(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},i0=zn(3),vq={draw(e,t){const r=-zn(t/(i0*3));e.moveTo(0,r*2),e.lineTo(-i0*r,-r),e.lineTo(i0*r,-r),e.closePath()}},qr=-.5,Yr=zn(3)/2,dx=1/zn(12),bq=(dx/2+1)*3,wq={draw(e,t){const r=zn(t/bq),n=r/2,a=r*dx,s=n,o=r*dx+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(qr*n-Yr*a,Yr*n+qr*a),e.lineTo(qr*s-Yr*o,Yr*s+qr*o),e.lineTo(qr*l-Yr*c,Yr*l+qr*c),e.lineTo(qr*n+Yr*a,qr*a-Yr*n),e.lineTo(qr*s+Yr*o,qr*o-Yr*s),e.lineTo(qr*l+Yr*c,qr*c-Yr*l),e.closePath()}};function jq(e,t){let r=null,n=Fb(a);e=typeof e=="function"?e:Re(e||Ub),t=typeof t=="function"?t:Re(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Re(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Lm(){}function $m(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function DT(e){this._context=e}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$m(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kq(e){return new DT(e)}function RT(e){this._context=e}RT.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nq(e){return new RT(e)}function LT(e){this._context=e}LT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$m(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sq(e){return new LT(e)}function $T(e){this._context=e}$T.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _q(e){return new $T(e)}function WN(e){return e<0?-1:1}function KN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(WN(s)+WN(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function qN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function o0(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function zm(e){this._context=e}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o0(this,this._t0,qN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o0(this,qN(this,r=KN(this,e,t)),r);break;default:o0(this,this._t0,r=KN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zT(e){this._context=new FT(e)}(zT.prototype=Object.create(zm.prototype)).point=function(e,t){zm.prototype.point.call(this,t,e)};function FT(e){this._context=e}FT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Eq(e){return new zm(e)}function Cq(e){return new zT(e)}function BT(e){this._context=e}BT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=YN(e),a=YN(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YN(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Pq(e){return new BT(e)}function yp(e,t){this._context=e,this._t=t}yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Oq(e){return new yp(e,.5)}function Aq(e){return new yp(e,0)}function Tq(e){return new yp(e,1)}function dl(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function fx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Mq(e,t){return e[t]}function Iq(e){const t=[];return t.key=e,t}function Dq(){var e=Re([]),t=fx,r=dl,n=Mq;function a(s){var o=Array.from(e.apply(this,arguments),Iq),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=Bb(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Re(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Re(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?fx:typeof s=="function"?s:Re(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??dl,a):r},a}function Rq(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}dl(e,t)}}function Lq(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}dl(e,t)}}function $q(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var x=e[t[p]],v=x[n][1]||0,y=x[n-1][1]||0;h+=v-y}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,dl(e,t)}}var xp={},UT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(UT);var Hb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Hb);var vp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(vp);var bp={},HT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(HT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT,r=vp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],o=a.length;if(o===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(bp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT,r=Hb,n=vp,a=bp;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(xp);var zq=xp.get;const fl=ia(zq);var br=e=>e===0?0:e>0?1:-1,Ur=e=>typeof e=="number"&&e!=+e,La=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!Ur(e),cn=e=>de(e)||typeof e=="string",Fq=0,lu=e=>{var t=++Fq;return"".concat(e||"").concat(t)},In=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var s;if(La(t)){if(r==null)return n;var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Ur(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},VT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Le(e,t,r){return de(e)&&de(t)?e+r*(t-e):t}function WT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):fl(n,t))===r)}var Bq=e=>{for(var t=e.length,r=0,n=0,a=0,s=0,o=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,s+=c*c,o=Math.min(o,c),l=Math.max(l,c);var f=t*s!==r*r?(t*a-r*n)/(t*s-r*r):0;return{xmin:o,xmax:l,a:f,b:(n-f*r)/t}},Ae=e=>e===null||typeof e>"u",qu=e=>Ae(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Uq(e){return e!=null}function Yu(){}var Hq=["type","size","sizeType"];function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(null,arguments)}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){Vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qq(e,t){if(e==null)return{};var r,n,a=Yq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KT={symbolCircle:Ub,symbolCross:dq,symbolDiamond:mq,symbolSquare:hq,symbolStar:xq,symbolTriangle:vq,symbolWye:wq},Gq=Math.PI/180,Xq=e=>{var t="symbol".concat(qu(e));return KT[t]||Ub},Qq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Gq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zq=(e,t)=>{KT["symbol".concat(qu(e))]=t},wp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=qq(e,Hq),s=XN(XN({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=Xq(o),h=jq().type(m).size(Qq(r,n,o)),p=h();if(p!==null)return p},{className:c,cx:u,cy:d}=s,f=Jt(s);return de(u)&&de(d)&&de(r)?g.createElement("path",mx({},f,{className:Ee("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};wp.registerSymbol=Zq;var qT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Vb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{$b(a)&&(n[a]=s=>r[a](r,s))}),n},Jq=(e,t,r)=>n=>(e(t,r,n),null),Gu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];$b(a)&&typeof s=="function"&&(n||(n={}),n[a]=Jq(s,t,r))}),n},eY=e=>Array.isArray(e)&&e.length>0;function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){rY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rY(e,t,r){return(t=nY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t){var r=tY({},e),n=t,a=Object.keys(t),s=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return s}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(null,arguments)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){iY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iY(e,t,r){return(t=oY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xr=32,cY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function uY(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Xr/2,s=Xr/6,o=Xr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Xr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Xr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xr/8,"h").concat(Xr,"v").concat(Xr*3/4,"h").concat(-Xr,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=sY({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(wp,{fill:l,cx:a,cy:a,size:Xr,sizeType:"diameter",type:c})}function dY(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:Xr,height:Xr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var m=d.formatter||a,h=Ee({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,x=m?m(d.value,d,f):d.value;return g.createElement("li",Fm({className:h,style:c,key:"legend-item-".concat(f)},Gu(e,d,f)),g.createElement(zb,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},g.createElement(uY,{data:d,iconType:o,inactiveColor:s})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}var fY=e=>{var t=ht(e,cY),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:s},g.createElement(dY,Fm({},t,{payload:r})))},YT={},GT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const o=r[s],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(GT);var Wb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Wb);var XT={},jp={},QT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(QT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(jp);var ZT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ZT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jp,r=ZT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(XT);var JT={},eM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xp;function r(n){return function(a){return t.get(a,n)}}e.property=r})(eM);var tM={},Kb={},rM={},qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(qb);var Yb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Yb);var Gb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Gb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qb,r=Yb,n=Gb;function a(d,f,m){return typeof m!="function"?a(d,f,()=>{}):s(d,f,function h(p,x,v,y,w,b){const j=m(p,x,v,y,w,b);return j!==void 0?!!j:s(p,x,h,b)},new Map)}function s(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,m,h);case"function":return Object.keys(f).length>0?s(d,{...f},m,h):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function o(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return l(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!m(d[v],f[v],v,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function l(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(m(v,x,p,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let y=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const b=d[w];let j=!1;if(m(b,v,x,d,f,h)&&(j=!0),j){p.add(w),y=!0;break}}if(!y)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(rM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Kb);var nM={},Xb={},aM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(aM);var Qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qb);var Zb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",S="[object BigInt64Array]",C="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=C,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=_,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(Zb);var sM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(sM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM,r=Qb,n=Zb,a=Yb,s=sM;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,p=void 0){const x=p==null?void 0:p(d,f,m,h);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const v=new Array(d.length);h.set(d,v);for(let y=0;y<d.length;y++)v[y]=l(d[y],y,m,h,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;h.set(d,v);for(const[y,w]of d)v.set(y,l(w,y,m,h,p));return v}if(d instanceof Set){const v=new Set;h.set(d,v);for(const y of d)v.add(l(y,void 0,m,h,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,v);for(let y=0;y<d.length;y++)v[y]=l(d[y],y,m,h,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,v),c(v,d,m,h,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return h.set(d,v),c(v,d,m,h,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof Error){const v=new d.constructor;return h.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,m,h,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof String){const v=new String(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return h.set(d,v),c(v,d,m,h,p),v}return d}function c(d,f,m=d,h,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const y=x[v],w=Object.getOwnPropertyDescriptor(d,y);(w==null||w.writable)&&(d[y]=l(f[y],y,m,h,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Xb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xb;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(nM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kb,r=nM;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(tM);var iM={},oM={},lM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xb,r=Zb;function n(a,s){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=s==null?void 0:s(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(lM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(oM);var cM={},Jb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Jb);var uM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qb;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(uM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb,r=Jb,n=uM,a=bp;function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(cM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kb,r=vp,n=oM,a=xp,s=cM;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(iM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wb,r=eM,n=tM,a=iM;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=s})(JT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT,r=Wb,n=XT,a=JT;function s(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=s})(YT);var mY=YT.uniqBy;const JN=ia(mY);function dM(e,t,r){return t===!0?JN(e,r):typeof t=="function"?JN(e,t):e}var ew=g.createContext(null),hY=e=>e,Ge=()=>{var e=g.useContext(ew);return e?e.store.dispatch:hY},Uf=()=>{},pY=()=>Uf,gY=(e,t)=>e===t;function oe(e){var t=g.useContext(ew);return OO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:pY,t?t.store.getState:Uf,t?t.store.getState:Uf,t?e:Uf,gY)}function yY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function xY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var e2=e=>Array.isArray(e)?e:[e];function bY(e){const t=Array.isArray(e[0])?e[0]:e;return vY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function wY(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var jY=class{constructor(e){this.value=e}deref(){return this.value}},kY=typeof WeakRef<"u"?WeakRef:jY,NY=0,t2=1;function rf(){return{s:NY,v:void 0,o:null,p:null}}function fM(e,t={}){let r=rf();const{resultEqualityCheck:n}=t;let a,s=0;function o(){var f;let l=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const p=arguments[m];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const v=x.get(p);v===void 0?(l=rf(),x.set(p,l)):l=v}else{let x=l.p;x===null&&(l.p=x=new Map);const v=x.get(p);v===void 0?(l=rf(),x.set(p,l)):l=v}}const u=l;let d;if(l.s===t2)d=l.v;else if(d=e.apply(null,arguments),s++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new kY(d):d}return u.s=t2,u.v=d,d}return o.clearCache=()=>{r=rf(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function SY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),yY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=fM,argsMemoizeOptions:p=[]}=d,x=e2(m),v=e2(p),y=bY(a),w=f(function(){return s++,u.apply(null,arguments)},...x),b=h(function(){o++;const k=wY(y,arguments);return l=w.apply(null,k),l},...v);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var W=SY(fM),_Y=Object.assign((e,t=W)=>{xY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>_Y}),mM={},hM={},pM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=r})(pM);var gM={},tw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(tw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tw,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=a})(gM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pM,r=gM,n=bp;function a(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,p)=>{let x=h;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:u(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?u(p,h):typeof p=="object"?p[h]:p,f=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return s.map(h=>({original:h,criteria:f.map(p=>d(p,h))})).slice().sort((h,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(h.criteria[x],p.criteria[x],l[x]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=a})(hM);var yM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(yM);var rw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jb,r=jp,n=qb,a=Gb;function s(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=s})(rw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM,r=yM,n=rw;function a(s,...o){const l=o.length;return l>1&&n.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,r.flatten(o),["asc"])}e.sortBy=a})(mM);var EY=mM.sortBy;const kp=ia(EY);var xM=e=>e.legend.settings,CY=e=>e.legend.size,PY=e=>e.legend.payload,OY=W([PY,xM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?kp(n,r):n});function AY(){return oe(OY)}var nf=1;function vM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>nf||Math.abs(o.left-t.left)>nf||Math.abs(o.top-t.top)>nf||Math.abs(o.width-t.width)>nf)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TY=typeof Symbol=="function"&&Symbol.observable||"@@observable",r2=TY,l0=()=>Math.random().toString(36).substring(7).split("").join("."),MY={INIT:`@@redux/INIT${l0()}`,REPLACE:`@@redux/REPLACE${l0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l0()}`},Bm=MY;function nw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bM(e,t,r){if(typeof e!="function")throw new Error(zt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zt(1));return r(bM)(e,t)}let n=e,a=t,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((v,y)=>{o.set(y,v)}))}function d(){if(c)throw new Error(zt(3));return a}function f(v){if(typeof v!="function")throw new Error(zt(4));if(c)throw new Error(zt(5));let y=!0;u();const w=l++;return o.set(w,v),function(){if(y){if(c)throw new Error(zt(6));y=!1,u(),o.delete(w),s=null}}}function m(v){if(!nw(v))throw new Error(zt(7));if(typeof v.type>"u")throw new Error(zt(8));if(typeof v.type!="string")throw new Error(zt(17));if(c)throw new Error(zt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=o).forEach(w=>{w()}),v}function h(v){if(typeof v!="function")throw new Error(zt(10));n=v,m({type:Bm.REPLACE})}function p(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(zt(11));function w(){const j=y;j.next&&j.next(d())}return w(),{unsubscribe:v(w)}},[r2](){return this}}}return m({type:Bm.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[r2]:p}}function IY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Bm.INIT})>"u")throw new Error(zt(12));if(typeof r(void 0,{type:Bm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function wM(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{IY(r)}catch(s){a=s}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=o[f],p=m(h,l);if(typeof p>"u")throw l&&l.type,new Error(zt(14));u[f]=p,c=c||p!==h}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Um(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function DY(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(zt(15))};const o={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(o));return s=Um(...l)(a.dispatch),{...a,dispatch:s}}}function jM(e){return nw(e)&&"type"in e&&typeof e.type=="string"}var kM=Symbol.for("immer-nothing"),n2=Symbol.for("immer-draftable"),or=Symbol.for("immer-state");function Sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rr=Object,ml=Rr.getPrototypeOf,Hm="constructor",Np="prototype",hx="configurable",Vm="enumerable",Hf="writable",cu="value",$a=e=>!!e&&!!e[or];function Dn(e){var t;return e?NM(e)||Sp(e)||!!e[n2]||!!((t=e[Hm])!=null&&t[n2])||_p(e)||Ep(e):!1}var RY=Rr[Np][Hm].toString(),a2=new WeakMap;function NM(e){if(!e||!aw(e))return!1;const t=ml(e);if(t===null||t===Rr[Np])return!0;const r=Rr.hasOwnProperty.call(t,Hm)&&t[Hm];if(r===Object)return!0;if(!ao(r))return!1;let n=a2.get(r);return n===void 0&&(n=Function.toString.call(r),a2.set(r,n)),n===RY}function Xu(e,t,r=!0){Qu(e)===0?(r?Reflect.ownKeys(e):Rr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Qu(e){const t=e[or];return t?t.type_:Sp(e)?1:_p(e)?2:Ep(e)?3:0}var s2=(e,t,r=Qu(e))=>r===2?e.has(t):Rr[Np].hasOwnProperty.call(e,t),px=(e,t,r=Qu(e))=>r===2?e.get(t):e[t],Wm=(e,t,r,n=Qu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function LY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Sp=Array.isArray,_p=e=>e instanceof Map,Ep=e=>e instanceof Set,aw=e=>typeof e=="object",ao=e=>typeof e=="function",c0=e=>typeof e=="boolean",ga=e=>e.copy_||e.base_,sw=e=>e.modified_?e.copy_:e.base_;function gx(e,t){if(_p(e))return new Map(e);if(Ep(e))return new Set(e);if(Sp(e))return Array[Np].slice.call(e);const r=NM(e);if(t===!0||t==="class_only"&&!r){const n=Rr.getOwnPropertyDescriptors(e);delete n[or];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l[Hf]===!1&&(l[Hf]=!0,l[hx]=!0),(l.get||l.set)&&(n[o]={[hx]:!0,[Hf]:!0,[Vm]:l[Vm],[cu]:e[o]})}return Rr.create(ml(e),n)}else{const n=ml(e);if(n!==null&&r)return{...e};const a=Rr.create(n);return Rr.assign(a,e)}}function iw(e,t=!1){return Cp(e)||$a(e)||!Dn(e)||(Qu(e)>1&&Rr.defineProperties(e,{set:af,add:af,clear:af,delete:af}),Rr.freeze(e),t&&Xu(e,(r,n)=>{iw(n,!0)},!1)),e}function $Y(){Sn(2)}var af={[cu]:$Y};function Cp(e){return e===null||!aw(e)?!0:Rr.isFrozen(e)}var Km="MapSet",yx="Patches",SM={};function hl(e){const t=SM[e];return t||Sn(0,e),t}var zY=e=>!!SM[e],uu,_M=()=>uu,FY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:zY(Km)?hl(Km):void 0});function i2(e,t){t&&(e.patchPlugin_=hl(yx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xx(e){vx(e),e.drafts_.forEach(BY),e.drafts_=null}function vx(e){e===uu&&(uu=e.parent_)}var o2=e=>uu=FY(uu,e);function BY(e){const t=e[or];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function l2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[or].modified_&&(xx(t),Sn(4)),Dn(e)&&(e=c2(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[or].base_,e,t)}else e=c2(t,r);return UY(t,e,!0),xx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kM?e:void 0}function c2(e,t){if(Cp(t))return t;const r=t[or];if(!r)return ow(t,e.handledSet_,e);if(!Pp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);PM(r,e)}return r.copy_}function UY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iw(t,r)}function EM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Pp=(e,t)=>e.scope_===t,HY=[];function CM(e,t,r,n){const a=ga(e),s=e.type_;if(n!==void 0&&px(a,n,s)===t){Wm(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Xu(a,(c,u)=>{if($a(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??HY;for(const l of o)Wm(a,l,r,s)}function VY(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!Pp(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const o=sw(s);CM(e,s.draft_??s,o,r),PM(s,a)})}function PM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}EM(e)}}function WY(e,t,r){const{scope_:n}=e;if($a(r)){const a=r[or];Pp(a,n)&&a.callbacks_.push(function(){Vf(e);const o=sw(a);CM(e,r,o,t)})}else Dn(r)&&e.callbacks_.push(function(){const s=ga(e);px(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ow(px(e.copy_,t,e.type_),n.handledSet_,n)})}function ow(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||$a(e)||t.has(e)||!Dn(e)||Cp(e)||(t.add(e),Xu(e,(n,a)=>{if($a(a)){const s=a[or];if(Pp(s,r)){const o=sw(s);Wm(e,n,o,e.type_),EM(s)}}else Dn(a)&&ow(a,t,r)})),e}function KY(e,t){const r=Sp(e),n={type_:r?1:0,scope_:t?t.scope_:_M(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=lw;r&&(a=[n],s=du);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,[l,n]}var lw={get(e,t){if(t===or)return e;const r=ga(e);if(!s2(r,t,e.type_))return qY(e,r,t);const n=r[t];if(e.finalized_||!Dn(n))return n;if(n===u0(e.base_,t)){Vf(e);const a=e.type_===1?+t:t,s=wx(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in ga(e)},ownKeys(e){return Reflect.ownKeys(ga(e))},set(e,t,r){const n=OM(ga(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=u0(ga(e),t),s=a==null?void 0:a[or];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(LY(r,a)&&(r!==void 0||s2(e.base_,t,e.type_)))return!0;Vf(e),bx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),WY(e,t,r)),!0},deleteProperty(e,t){return Vf(e),u0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),bx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ga(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Hf]:!0,[hx]:e.type_!==1||t!=="length",[Vm]:n[Vm],[cu]:r[t]}},defineProperty(){Sn(11)},getPrototypeOf(e){return ml(e.base_)},setPrototypeOf(){Sn(12)}},du={};Xu(lw,(e,t)=>{du[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});du.deleteProperty=function(e,t){return du.set.call(this,e,t,void 0)};du.set=function(e,t,r){return lw.set.call(this,e[0],t,r,e[0])};function u0(e,t){const r=e[or];return(r?ga(r):e)[t]}function qY(e,t,r){var a;const n=OM(t,r);return n?cu in n?n[cu]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function OM(e,t){if(!(t in e))return;let r=ml(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ml(r)}}function bx(e){e.modified_||(e.modified_=!0,e.parent_&&bx(e.parent_))}function Vf(e){e.copy_||(e.assigned_=new Map,e.copy_=gx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(ao(r)&&!ao(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}ao(n)||Sn(6),a!==void 0&&!ao(a)&&Sn(7);let s;if(Dn(r)){const o=o2(this),l=wx(o,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?xx(o):vx(o)}return i2(o,a),l2(s,o)}else if(!r||!aw(r)){if(s=n(r),s===void 0&&(s=r),s===kM&&(s=void 0),this.autoFreeze_&&iw(s,!0),a){const o=[],l=[];hl(yx).generateReplacementPatches_(r,s,{patches_:o,inversePatches_:l}),a(o,l)}return s}else Sn(1,r)},this.produceWithPatches=(r,n)=>{if(ao(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},c0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),c0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),c0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Dn(t)||Sn(8),$a(t)&&(t=Tn(t));const r=o2(this),n=wx(r,t,void 0);return n[or].isManual_=!0,vx(r),n}finishDraft(t,r){const n=t&&t[or];(!n||!n.isManual_)&&Sn(9);const{scope_:a}=n;return i2(a,r),l2(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=hl(yx).applyPatches_;return $a(t)?a(t,r):this.produce(t,s=>a(s,r))}};function wx(e,t,r,n){const[a,s]=_p(t)?hl(Km).proxyMap_(t,r):Ep(t)?hl(Km).proxySet_(t,r):KY(t,r);return((r==null?void 0:r.scope_)??_M()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?VY(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function Tn(e){return $a(e)||Sn(10,e),AM(e)}function AM(e){if(!Dn(e)||Cp(e))return e;const t=e[or];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gx(e,!0);return Xu(r,(a,s)=>{Wm(r,a,AM(s))},n),t&&(t.finalized_=!1),r}var GY=new YY,TM=GY.produce;function MM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var XY=MM(),QY=MM,ZY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Um:Um.apply(null,arguments)};function un(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error($r(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>jM(n)&&n.type===e,r}var IM=class gc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gc.prototype)}static get[Symbol.species](){return gc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gc(...t[0].concat(this)):new gc(...t.concat(this))}};function u2(e){return Dn(e)?TM(e,()=>{}):e}function sf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function JY(e){return typeof e=="boolean"}var eG=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let o=new IM;return r&&(JY(r)?o.push(XY):o.push(QY(r.extraArgument))),o},DM="RTK_autoBatch",Ve=()=>e=>({payload:e,meta:{[DM]:!0}}),d2=e=>t=>{setTimeout(t,e)},RM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:d2(10):e.type==="callback"?e.queueNotification:d2(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[DM]),s=!a,s&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},tG=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new IM(e);return n&&a.push(RM(typeof n=="object"?n:void 0)),a};function rG(e){const t=eG(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(nw(r))l=wM(r);else throw new Error($r(1));let c;typeof n=="function"?c=n(t):c=t();let u=Um;a&&(u=ZY({trace:!1,...typeof a=="object"&&a}));const d=DY(...c),f=tG(d);let m=typeof o=="function"?o(f):f();const h=u(...m);return bM(l,s,h)}function LM(e){const t={},r=[];let n;const a={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error($r(28));if(l in t)throw new Error($r(29));return t[l]=o,a},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:s.settled,reducer:o.settled}),a},addMatcher(s,o){return r.push({matcher:s,reducer:o}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function nG(e){return typeof e=="function"}function aG(e,t){let[r,n,a]=LM(t),s;if(nG(e))s=()=>u2(e());else{const l=u2(e);s=()=>l}function o(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if($a(d)){const h=f(d,c);return h===void 0?d:h}else{if(Dn(d))return TM(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return o.getInitialState=s,o}var sG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iG=(e=21)=>{let t="",r=e;for(;r--;)t+=sG[Math.random()*64|0];return t},oG=Symbol.for("rtk-slice-createasyncthunk");function lG(e,t){return`${e}/${t}`}function cG({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[oG];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error($r(11));const l=(typeof a.reducers=="function"?a.reducers(dG()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const N=typeof j=="string"?j:j.type;if(!N)throw new Error($r(12));if(N in u.sliceCaseReducersByType)throw new Error($r(13));return u.sliceCaseReducersByType[N]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=l[j],N={reducerName:j,type:lG(s,j),createNotation:typeof a.reducers=="function"};mG(k)?pG(N,k,d,t):fG(N,k,d)});function f(){const[j={},k=[],N=void 0]=typeof a.extraReducers=="function"?LM(a.extraReducers):[a.extraReducers],_={...j,...u.sliceCaseReducersByType};return aG(a.initialState,S=>{for(let C in _)S.addCase(C,_[C]);for(let C of u.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of k)S.addMatcher(C.matcher,C.reducer);N&&S.addDefaultCase(N)})}const m=j=>j,h=new Map,p=new WeakMap;let x;function v(j,k){return x||(x=f()),x(j,k)}function y(){return x||(x=f()),x.getInitialState()}function w(j,k=!1){function N(S){let C=S[j];return typeof C>"u"&&k&&(C=sf(p,N,y)),C}function _(S=m){const C=sf(h,k,()=>new WeakMap);return sf(C,S,()=>{const T={};for(const[E,O]of Object.entries(a.selectors??{}))T[E]=uG(O,S,()=>sf(p,S,y),k);return T})}return{reducerPath:j,getSelectors:_,get selectors(){return _(N)},selectSlice:N}}const b={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(o),injectInto(j,{reducerPath:k,...N}={}){const _=k??o;return j.inject({reducerPath:_,reducer:v},N),{...b,...w(_,!0)}}};return b}}function uG(e,t,r,n){function a(s,...o){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Pr=cG();function dG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function fG({type:e,reducerName:t,createNotation:r},n,a){let s,o;if("reducer"in n){if(r&&!hG(n))throw new Error($r(17));s=n.reducer,o=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?un(e,o):un(e))}function mG(e){return e._reducerDefinitionType==="asyncThunk"}function hG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function pG({type:e,reducerName:t},r,n,a){if(!a)throw new Error($r(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||of,pending:l||of,rejected:c||of,settled:u||of})}function of(){}var gG="task",$M="listener",zM="completed",cw="cancelled",yG=`task-${cw}`,xG=`task-${zM}`,jx=`${$M}-${cw}`,vG=`${$M}-${zM}`,Op=class{constructor(e){Bl(this,"name","TaskAbortError");Bl(this,"message");this.code=e,this.message=`${gG} ${cw} (reason: ${e})`}},uw=(e,t)=>{if(typeof e!="function")throw new TypeError($r(32))},qm=()=>{},FM=(e,t=qm)=>(e.catch(t),e),BM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_i=e=>{if(e.aborted)throw new Op(e.reason)};function UM(e,t){let r=qm;return new Promise((n,a)=>{const s=()=>a(new Op(e.reason));if(e.aborted){s();return}r=BM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=qm})}var bG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Op?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ym=e=>t=>FM(UM(e,t).then(r=>(_i(e),r))),HM=e=>{const t=Ym(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Io}=Object,f2={},Ap="listenerMiddleware",wG=(e,t)=>{const r=n=>BM(e,()=>n.abort(e.reason));return(n,a)=>{uw(n);const s=new AbortController;r(s);const o=bG(async()=>{_i(e),_i(s.signal);const l=await n({pause:Ym(s.signal),delay:HM(s.signal),signal:s.signal});return _i(s.signal),l},()=>s.abort(xG));return a!=null&&a.autoJoin&&t.push(o.catch(qm)),{result:Ym(e)(o),cancel(){s.abort(yG)}}}},jG=(e,t)=>{const r=async(n,a)=>{_i(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await UM(t,Promise.race(l));return _i(t),c}finally{s()}};return(n,a)=>FM(r(n,a))},VM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=un(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error($r(21));return uw(s),{predicate:a,type:t,effect:s}},WM=Io(e=>{const{type:t,predicate:r,effect:n}=VM(e);return{id:iG(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($r(22))}}},{withTypes:()=>WM}),m2=(e,t)=>{const{type:r,effect:n,predicate:a}=VM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},kx=e=>{e.pending.forEach(t=>{t.abort(jx)})},kG=(e,t)=>()=>{for(const r of t.keys())kx(r);e.clear()},h2=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},KM=Io(un(`${Ap}/add`),{withTypes:()=>KM}),NG=un(`${Ap}/removeAll`),qM=Io(un(`${Ap}/remove`),{withTypes:()=>qM}),SG=(...e)=>{console.error(`${Ap}/error`,...e)},Zu=(e={})=>{const t=new Map,r=new Map,n=h=>{const p=r.get(h)??0;r.set(h,p+1)},a=h=>{const p=r.get(h)??1;p===1?r.delete(h):r.set(h,p-1)},{extra:s,onError:o=SG}=e;uw(o);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&kx(h)}),c=h=>{const p=m2(t,h)??WM(h);return l(p)};Io(c,{withTypes:()=>c});const u=h=>{const p=m2(t,h);return p&&(p.unsubscribe(),h.cancelActive&&kx(p)),!!p};Io(u,{withTypes:()=>u});const d=async(h,p,x,v)=>{const y=new AbortController,w=jG(c,y.signal),b=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(p,Io({},x,{getOriginalState:v,condition:(j,k)=>w(j,k).then(Boolean),take:w,delay:HM(y.signal),pause:Ym(y.signal),extra:s,signal:y.signal,fork:wG(y.signal,b),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((j,k,N)=>{j!==y&&(j.abort(jx),N.delete(j))})},cancel:()=>{y.abort(jx),h.pending.delete(y)},throwIfCancelled:()=>{_i(y.signal)}})))}catch(j){j instanceof Op||h2(o,j,{raisedBy:"effect"})}finally{await Promise.all(b),y.abort(vG),a(h),h.pending.delete(y)}},f=kG(t,r);return{middleware:h=>p=>x=>{if(!jM(x))return p(x);if(KM.match(x))return c(x.payload);if(NG.match(x)){f();return}if(qM.match(x))return u(x.payload);let v=h.getState();const y=()=>{if(v===f2)throw new Error($r(23));return v};let w;try{if(w=p(x),t.size>0){const b=h.getState(),j=Array.from(t.values());for(const k of j){let N=!1;try{N=k.predicate(x,b,v)}catch(_){N=!1,h2(o,_,{raisedBy:"predicate"})}N&&d(k,x,h,y)}}}finally{v=f2}return w},startListening:c,stopListening:u,clearListeners:f}};function $r(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _G={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YM=Pr({name:"chartLayout",initialState:_G,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:EG,setLayout:CG,setChartSize:PG,setScale:OG}=YM.actions,AG=YM.reducer;function GM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){TG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function et(e,t,r){return Ae(e)||Ae(t)?r:cn(t)?fl(e,t,r):typeof t=="function"?t(e):r}var DG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&de(e[s]))return bo(bo({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&de(e[o]))return bo(bo({},e),{},{[o]:e[o]+(a||0)})}return e},Ws=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",XM=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||o.push(t),s||o.push(r),o},QM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(x=h==="angleAxis"&&s&&s.length>=2?br(s[0]-s[1])*2*x:x,f||m){var v=(f||m||[]).map((y,w)=>{var b=n?n.indexOf(y):y;return{coordinate:o(b)+x,value:y,offset:x,index:w}});return v.filter(y=>!Ur(y.coordinate))}return c&&u?u.map((y,w)=>({coordinate:o(y)+x,value:y,index:w,offset:x})):o.ticks&&d!=null?o.ticks(d).map((y,w)=>({coordinate:o(y)+x,value:y,offset:x,index:w})):o.domain().map((y,w)=>({coordinate:o(y)+x,value:n?n[y]:y,index:w,offset:x}))},g2=1e-4,RG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-g2,s=Math.max(n[0],n[1])+g2,o=e(t[0]),l=e(t[r-1]);(o<a||o>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},LG=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},$G=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,o=0;o<t;++o){var l=Ur(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1])}},zG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var o=Ur(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},FG={sign:$G,expand:Rq,none:dl,silhouette:Lq,wiggle:$q,positive:zG},BG=(e,t,r)=>{var n=FG[r],a=Dq().keys(t).value((s,o)=>Number(et(s,o,0))).order(fx).offset(n);return a(e)};function UG(e){return e==null?void 0:String(e)}function Gm(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ae(a[t.dataKey])){var l=WT(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=et(a,Ae(o)?t.dataKey:o);return Ae(c)?null:t.scale(c)}var y2=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=et(s,t.dataKey,t.scale.domain()[o]);return Ae(l)?null:t.scale(l)-a/2+n},HG=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},VG=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},WG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],KG=(e,t,r)=>{if(e!=null)return WG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:o}=s,l=o.reduce((c,u)=>{var d=GM(u,t,r),f=VG(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},x2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=kp(t,d=>d.coordinate),s=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function b2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return bo(bo({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Tl(e,t){if(e)return String(e);if(typeof t=="string")return t}var qG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},YG=(e,t)=>t==="centric"?e.angle:e.radius,qa=e=>e.layout.width,Ya=e=>e.layout.height,GG=e=>e.layout.scale,ZM=e=>e.layout.margin,Tp=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Mp=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JM="data-recharts-item-index",e4="data-recharts-item-data-key",Ju=60;function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JG=e=>e.brush.height;function eX(e){var t=Mp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ju;return r+a}return r},0)}function tX(e){var t=Mp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ju;return r+a}return r},0)}function rX(e){var t=Tp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function nX(e){var t=Tp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Rt=W([qa,Ya,ZM,JG,eX,tX,rX,nX,xM,CY],(e,t,r,n,a,s,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=lf(lf({},f),d),h=m.bottom;m.bottom+=n,m=DG(m,c,u);var p=e-m.left-m.right,x=t-m.top-m.bottom;return lf(lf({brushBottom:h},m),{},{width:Math.max(p,0),height:Math.max(x,0)})}),aX=W(Rt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),dw=W(qa,Ya,(e,t)=>({x:0,y:0,width:e,height:t})),sX=g.createContext(null),bt=()=>g.useContext(sX)!=null,Ip=e=>e.brush,Dp=W([Ip,Rt,ZM],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),t4={},r4={},n4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),x()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},p=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{p(),o=void 0,l=null},v=()=>{d()},y=function(...w){if(a!=null&&a.aborted)return;o=this,l=w;const b=m==null;h(),c&&b&&d()};return y.schedule=h,y.cancel=x,y.flush=v,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(n4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n4;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),h=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},p=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=p,h}e.debounce=r})(r4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4;function r(n,a=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(t4);var iX=t4.throttle;const oX=ia(iX);var Xm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},a4=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:o}=r,l=La(n)?e:Number(n),c=La(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},lX={width:0,height:0,overflow:"visible"},cX={width:0,overflowX:"visible"},uX={height:0,overflowY:"visible"},dX={},fX=e=>{var{width:t,height:r}=e,n=La(t),a=La(r);return n&&a?lX:n?cX:a?uX:dX};function mX(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function He(e){return Number.isFinite(e)}function ra(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nx.apply(null,arguments)}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){hX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t,r){return(t=pX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s4=g.createContext({width:-1,height:-1});function yX(e){return ra(e.width)&&ra(e.height)}function i4(e){var{children:t,width:r,height:n}=e,a=g.useMemo(()=>({width:r,height:n}),[r,n]);return yX(a)?g.createElement(s4.Provider,{value:a},t):null}var fw=()=>g.useContext(s4),xX=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:h,style:p={}}=e,x=g.useRef(null),v=g.useRef();v.current=h,g.useImperativeHandle(t,()=>x.current);var[y,w]=g.useState({containerWidth:n.width,containerHeight:n.height}),b=g.useCallback((S,C)=>{w(T=>{var E=Math.round(S),O=Math.round(C);return T.containerWidth===E&&T.containerHeight===O?T:{containerWidth:E,containerHeight:O}})},[]);g.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Yu;var S=O=>{var M,{width:A,height:L}=O[0].contentRect;b(A,L),(M=v.current)===null||M===void 0||M.call(v,A,L)};d>0&&(S=oX(S,d,{trailing:!0,leading:!1}));var C=new ResizeObserver(S),{width:T,height:E}=x.current.getBoundingClientRect();return b(T,E),C.observe(x.current),()=>{C.disconnect()}},[b,d]);var{containerWidth:j,containerHeight:k}=y;Xm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:_}=a4(j,k,{width:a,height:s,aspect:r,maxHeight:c});return Xm(N!=null&&N>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,_,a,s,o,l,r),g.createElement("div",{id:f?"".concat(f):void 0,className:Ee("recharts-responsive-container",m),style:k2(k2({},p),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:x},g.createElement("div",{style:fX({width:a,height:s})},g.createElement(i4,{width:N,height:_},u)))}),wo=g.forwardRef((e,t)=>{var r=fw();if(ra(r.width)&&ra(r.height))return e.children;var{width:n,height:a}=mX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=a4(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(s)&&de(o)?g.createElement(i4,{width:s,height:o},e.children):g.createElement(xX,Nx({},e,{width:n,height:a,ref:t}))});function o4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ml=()=>{var e,t=bt(),r=oe(aX),n=oe(Dp),a=(e=oe(Ip))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},vX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},l4=()=>{var e;return(e=oe(Rt))!==null&&e!==void 0?e:vX},mw=()=>oe(qa),hw=()=>oe(Ya),bX=()=>oe(e=>e.layout.margin),Ce=e=>e.layout.layoutType,ed=()=>oe(Ce),wX=()=>{var e=ed();return e!==void 0},Rp=e=>{var t=Ge(),r=bt(),{width:n,height:a}=e,s=fw(),o=n,l=a;return s&&(o=s.width>0?s.width:n,l=s.height>0?s.height:a),g.useEffect(()=>{!r&&ra(o)&&ra(l)&&t(PG({width:o,height:l}))},[t,r,o,l]),null},c4=Symbol.for("immer-nothing"),N2=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function _n(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fu=Object.getPrototypeOf;function gl(e){return!!e&&!!e[Hr]}function zi(e){var t;return e?u4(e)||Array.isArray(e)||!!e[N2]||!!((t=e.constructor)!=null&&t[N2])||td(e)||$p(e):!1}var jX=Object.prototype.constructor.toString(),S2=new WeakMap;function u4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=S2.get(r);return n===void 0&&(n=Function.toString.call(r),S2.set(r,n)),n===jX}function Qm(e,t,r=!0){Lp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Lp(e){const t=e[Hr];return t?t.type_:Array.isArray(e)?1:td(e)?2:$p(e)?3:0}function Sx(e,t){return Lp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function d4(e,t,r){const n=Lp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function td(e){return e instanceof Map}function $p(e){return e instanceof Set}function ei(e){return e.copy_||e.base_}function _x(e,t){if(td(e))return new Map(e);if($p(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=u4(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Hr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const o=a[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(fu(e),n)}else{const n=fu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function pw(e,t=!1){return zp(e)||gl(e)||!zi(e)||(Lp(e)>1&&Object.defineProperties(e,{set:cf,add:cf,clear:cf,delete:cf}),Object.freeze(e),t&&Object.values(e).forEach(r=>pw(r,!0))),e}function NX(){_n(2)}var cf={value:NX};function zp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var SX={};function Fi(e){const t=SX[e];return t||_n(0,e),t}var mu;function f4(){return mu}function _X(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _2(e,t){t&&(Fi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ex(e){Cx(e),e.drafts_.forEach(EX),e.drafts_=null}function Cx(e){e===mu&&(mu=e.parent_)}function E2(e){return mu=_X(mu,e)}function EX(e){const t=e[Hr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function C2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Hr].modified_&&(Ex(t),_n(4)),zi(e)&&(e=Zm(t,e),t.parent_||Jm(t,e)),t.patches_&&Fi("Patches").generateReplacementPatches_(r[Hr].base_,e,t.patches_,t.inversePatches_)):e=Zm(t,r,[]),Ex(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==c4?e:void 0}function Zm(e,t,r){if(zp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Hr];if(!a)return Qm(t,(s,o)=>P2(e,a,t,s,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Jm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,l=!1;a.type_===3&&(o=new Set(s),s.clear(),l=!0),Qm(o,(c,u)=>P2(e,a,s,c,u,r,l),n),Jm(e,s,!1),r&&e.patches_&&Fi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function P2(e,t,r,n,a,s,o){if(a==null||typeof a!="object"&&!o)return;const l=zp(a);if(!(l&&!o)){if(gl(a)){const c=s&&t&&t.type_!==3&&!Sx(t.assigned_,n)?s.concat(n):void 0,u=Zm(e,a,c);if(d4(r,n,u),gl(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(zi(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Zm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(td(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Jm(e,a)}}}function Jm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pw(t,r)}function CX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:f4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=gw;r&&(a=[n],s=hu);const{revoke:o,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=o,l}var gw={get(e,t){if(t===Hr)return e;const r=ei(e);if(!Sx(r,t))return PX(e,r,t);const n=r[t];return e.finalized_||!zi(n)?n:n===d0(e.base_,t)?(f0(e),e.copy_[t]=Ox(n,e)):n},has(e,t){return t in ei(e)},ownKeys(e){return Reflect.ownKeys(ei(e))},set(e,t,r){const n=m4(ei(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=d0(ei(e),t),s=a==null?void 0:a[Hr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kX(r,a)&&(r!==void 0||Sx(e.base_,t)))return!0;f0(e),Px(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return d0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,f0(e),Px(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ei(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){_n(11)},getPrototypeOf(e){return fu(e.base_)},setPrototypeOf(){_n(12)}},hu={};Qm(gw,(e,t)=>{hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hu.deleteProperty=function(e,t){return hu.set.call(this,e,t,void 0)};hu.set=function(e,t,r){return gw.set.call(this,e[0],t,r,e[0])};function d0(e,t){const r=e[Hr];return(r?ei(r):e)[t]}function PX(e,t,r){var a;const n=m4(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function m4(e,t){if(!(t in e))return;let r=fu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fu(r)}}function Px(e){e.modified_||(e.modified_=!0,e.parent_&&Px(e.parent_))}function f0(e){e.copy_||(e.copy_=_x(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const o=this;return function(c=s,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&_n(6),n!==void 0&&typeof n!="function"&&_n(7);let a;if(zi(t)){const s=E2(this),o=Ox(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Ex(s):Cx(s)}return _2(s,n),C2(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===c4&&(a=void 0),this.autoFreeze_&&pw(a,!0),n){const s=[],o=[];Fi("Patches").generateReplacementPatches_(t,a,s,o),n(s,o)}return a}else _n(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){zi(e)||_n(8),gl(e)&&(e=AX(e));const t=E2(this),r=Ox(e,void 0);return r[Hr].isManual_=!0,Cx(t),r}finishDraft(e,t){const r=e&&e[Hr];(!r||!r.isManual_)&&_n(9);const{scope_:n}=r;return _2(n,t),C2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Fi("Patches").applyPatches_;return gl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ox(e,t){const r=td(e)?Fi("MapSet").proxyMap_(e,t):$p(e)?Fi("MapSet").proxySet_(e,t):CX(e,t);return(t?t.scope_:f4()).drafts_.push(r),r}function AX(e){return gl(e)||_n(10,e),h4(e)}function h4(e){if(!zi(e)||zp(e))return e;const t=e[Hr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_x(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=_x(e,!0);return Qm(r,(a,s)=>{d4(r,a,h4(s))},n),t&&(t.finalized_=!1),r}var TX=new OX;TX.produce;var MX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},p4=Pr({name:"legend",initialState:MX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ve()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Tn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Ve()},removeLegendPayload:{reducer(e,t){var r=Tn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ve()}}}),{setLegendSize:O2,setLegendSettings:IX,addLegendPayload:DX,replaceLegendPayload:RX,removeLegendPayload:LX}=p4.actions,$X=p4.reducer,zX=["contextPayload"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(null,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HX(e,t){if(e==null)return{};var r,n,a=VX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WX(e){return e.value}function KX(e){var{contextPayload:t}=e,r=HX(e,zX),n=dM(t,e.payloadUniqBy,WX),a=yl(yl({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(fY,a)}function qX(e,t,r,n,a,s){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),yl(yl({},u),d)}function YX(e){var t=Ge();return g.useEffect(()=>{t(IX(e))},[t,e]),null}function GX(e){var t=Ge();return g.useEffect(()=>(t(O2(e)),()=>{t(O2({width:0,height:0}))}),[t,e]),null}function XX(e,t,r,n){return e==="vertical"&&de(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var QX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function g4(e){var t=ht(e,QX),r=AY(),n=sq(),a=bX(),{width:s,height:o,wrapperStyle:l,portal:c}=t,[u,d]=vM([r]),f=mw(),m=hw();if(f==null||m==null)return null;var h=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=XX(t.layout,o,s,h),x=c?l:yl(yl({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||o||"auto"},qX(l,t,a,f,m,u)),l),v=c??n;if(v==null||r==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},g.createElement(YX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&g.createElement(GX,{width:u.width,height:u.height}),g.createElement(KX,Ax({},t,p,{margin:a,chartWidth:f,chartHeight:m,contextPayload:r})));return Ou.createPortal(y,v)}g4.displayName="Legend";function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(null,arguments)}function T2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var rQ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(s&&s.length){var k={padding:0,margin:0},N=(l?kp(s,l):s).map((_,S)=>{if(_.type==="none")return null;var C=_.formatter||o||tQ,{value:T,name:E}=_,O=T,M=E;if(C){var A=C(T,E,_,S,s);if(Array.isArray(A))[O,M]=A;else if(A!=null)O=A;else return null}var L=m0({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:L},cn(M)?g.createElement("span",{className:"recharts-tooltip-item-name"},M):null,cn(M)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:k},N)}return null},p=m0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=m0({margin:0},a),v=!Ae(d),y=v?d:"",w=Ee("recharts-default-tooltip",c),b=Ee("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(y=f(d,s));var j=m?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Tx({className:w,style:p},j),g.createElement("p",{className:b,style:x},g.isValidElement(y)?y:"".concat(y)),h())},tc="recharts-tooltip-wrapper",nQ={visibility:"hidden"};function aQ(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ee(tc,{["".concat(tc,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(tc,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(tc,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(tc,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function M2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&de(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var m=c[n];if(m==null)return 0;if(o[n]){var h=d,p=m;return h<p?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var x=f+l,v=m+u;return x>v?Math.max(d,m):Math.max(f,m)}function sQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=M2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=M2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=sQ({translateX:d,translateY:f,useTranslate3d:l})):u=nQ,{cssProperties:u,cssClasses:aQ({translateX:d,translateY:f,coordinate:r})}}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){Mx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mx(e,t,r){return(t=oQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oQ(e){var t=lQ(e,"string");return typeof t=="symbol"?t:t+""}function lQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cQ extends g.PureComponent{constructor(){super(...arguments),Mx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:b}=iQ({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:h}),j=y?{}:uf(uf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=uf(uf({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:k,ref:v},s)}}var y4=()=>{var e;return(e=oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(null,arguments)}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){uQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uQ(e,t,r){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2={curveBasisClosed:Nq,curveBasisOpen:Sq,curveBasis:kq,curveBumpX:cq,curveBumpY:uq,curveLinearClosed:_q,curveLinear:gp,curveMonotoneX:Eq,curveMonotoneY:Cq,curveNatural:Pq,curveStep:Oq,curveStepAfter:Tq,curveStepBefore:Aq},eh=e=>He(e.x)&&He(e.y),$2=e=>e.base!=null&&eh(e.base)&&eh(e),rc=e=>e.x,nc=e=>e.y,mQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(qu(e));return(r==="curveMonotone"||r==="curveBump")&&t?L2["".concat(r).concat(t==="vertical"?"Y":"X")]:L2[r]||gp},hQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,o=mQ(t,a),l=s?r.filter(eh):r,c;if(Array.isArray(n)){var u=r.map((h,p)=>R2(R2({},h),{},{base:n[p]}));a==="vertical"?c=tf().y(nc).x1(rc).x0(h=>h.base.x):c=tf().x(rc).y1(nc).y0(h=>h.base.y);var d=c.defined($2).curve(o),f=s?u.filter($2):u;return d(f)}a==="vertical"&&de(n)?c=tf().y(nc).x1(rc).x0(n):de(n)?c=tf().x(rc).y1(nc).y0(n):c=AT().x(rc).y(nc);var m=c.defined(eh).curve(o);return m(l)},yw=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?hQ(e):n;return g.createElement("path",Ix({},Br(e),Vb(e),{className:Ee("recharts-curve",t),d:s===null?void 0:s,ref:a}))},pQ=["x","y","top","left","width","height","className"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bQ(e,t){if(e==null)return{};var r,n,a=wQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),kQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=bQ(e,pQ),u=gQ({x:t,y:r,top:n,left:a,width:s,height:o},c);return!de(t)||!de(r)||!de(s)||!de(o)||!de(n)||!de(a)?null:g.createElement("path",Dx({},Jt(u),{className:Ee("recharts-cross",l),d:jQ(t,r,s,o,n,a)}))};function NQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){SQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SQ(e,t,r){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),x4=(e,t,r)=>e.map(n=>"".concat(CQ(n)," ").concat(t,"ms ").concat(r)).join(","),PQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),pu=(e,t)=>Object.keys(t).reduce((r,n)=>B2(B2({},r),{},{[n]:e(n,t[n])}),{});function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){OQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t,r){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th=(e,t,r)=>e+(t-e)*r,Rx=e=>{var{from:t,to:r}=e;return t!==r},v4=(e,t,r)=>{var n=pu((a,s)=>{if(Rx(s)){var[o,l]=e(s.from,s.to,s.velocity);return xt(xt({},s),{},{from:o,velocity:l})}return s},t);return r<1?pu((a,s)=>Rx(s)?xt(xt({},s),{},{velocity:th(s.velocity,n[a].velocity,r),from:th(s.from,n[a].from,r)}):s,t):v4(e,n,r-1)};function MQ(e,t,r,n,a,s){var o,l=n.reduce((m,h)=>xt(xt({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>pu((m,h)=>h.from,l),u=()=>!Object.values(l).filter(Rx).length,d=null,f=m=>{o||(o=m);var h=m-o,p=h/r.dt;l=v4(r,l,p),a(xt(xt(xt({},e),t),c())),o=m,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function IQ(e,t,r,n,a,s,o){var l=null,c=a.reduce((f,m)=>xt(xt({},f),{},{[m]:[e[m],t[m]]}),{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=pu((x,v)=>th(...v,r(m)),c);if(s(xt(xt(xt({},e),t),h)),m<1)l=o.setTimeout(d);else{var p=pu((x,v)=>th(...v,r(1)),c);s(xt(xt(xt({},e),t),p))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const DQ=(e,t,r,n,a,s)=>{var o=PQ(e,t);return r==null?()=>(a(xt(xt({},e),t)),()=>{}):r.isStepper===!0?MQ(e,t,r,o,a,s):IQ(e,t,r,n,o,a,s)};var rh=1e-4,b4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],w4=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),H2=(e,t)=>r=>{var n=b4(e,t);return w4(n,r)},RQ=(e,t)=>r=>{var n=b4(e,t),a=[...n.map((s,o)=>s*o).slice(1),0];return w4(a,r)},LQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},$Q=(e,t,r,n)=>{var a=H2(e,r),s=H2(t,n),o=RQ(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=a(f)-d,p=o(f);if(Math.abs(h-d)<rh||p<rh)return s(f);f=l(f-h/p)}return s(f)};return c.isStepper=!1,c},V2=function(){return $Q(...LQ(...arguments))},zQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(o,l,c)=>{var u=-(o-l)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<rh&&Math.abs(f)<rh?[l,0]:[m,f]};return s.isStepper=!0,s.dt=a,s},FQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return V2(e);case"spring":return zQ();default:if(e.split("(")[0]==="cubic-bezier")return V2(e)}return typeof e=="function"?e:null};function BQ(e){var t,r=()=>null,n=!1,a=null,s=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),s(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class UQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function HQ(){return BQ(new UQ)}var VQ=g.createContext(HQ);function WQ(e,t){var r=g.useContext(VQ);return g.useMemo(()=>t??r(e),[e,t,r])}var KQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rd={devToolsEnabled:!1,isSsr:KQ()},qQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},W2={t:0},h0={t:1};function nd(e){var t=ht(e,qQ),{isActive:r,canBegin:n,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!rd.isSsr:r,f=WQ(t.animationId,t.animationManager),[m,h]=g.useState(d?W2:h0),p=g.useRef(null);return g.useEffect(()=>{d||h(h0)},[d]),g.useEffect(()=>{if(!d||!n)return Yu;var x=DQ(W2,h0,FQ(s),a,h,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([c,o,v,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,s,o,c,l,f]),u(m.t)}function ad(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(lu(t)),n=g.useRef(e);return n.current!==e&&(r.current=lu(t),n.current=e),r.current}var YQ=["radius"],GQ=["radius"];function K2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(r),!0).forEach(function(n){XQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=ZQ(e,"string");return typeof t=="symbol"?t:t+""}function ZQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(null,arguments)}function Y2(e,t){if(e==null)return{};var r,n,a=JQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G2=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);u="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},X2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},j4=e=>{var t=ht(e,X2),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=g.useRef(l),y=g.useRef(c),w=g.useRef(s),b=g.useRef(o),j=g.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),k=ad(j,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var N=Ee("recharts-rectangle",d);if(!x){var _=Jt(t),{radius:S}=_,C=Y2(_,YQ);return g.createElement("path",nh({},C,{radius:typeof u=="number"?u:void 0,className:N,d:G2(s,o,l,c,u)}))}var T=v.current,E=y.current,O=w.current,M=b.current,A="0px ".concat(n===-1?1:n,"px"),L="".concat(n,"px 0px"),D=x4(["strokeDasharray"],m,typeof f=="string"?f:X2.animationEasing);return g.createElement(nd,{animationId:k,key:k,canBegin:n>0,duration:m,easing:f,isActive:x,begin:h},R=>{var I=Le(T,l,R),P=Le(E,c,R),$=Le(O,s,R),F=Le(M,o,R);r.current&&(v.current=I,y.current=P,w.current=$,b.current=F);var H;p?R>0?H={transition:D,strokeDasharray:L}:H={strokeDasharray:A}:H={strokeDasharray:L};var B=Jt(t),{radius:Y}=B,X=Y2(B,GQ);return g.createElement("path",nh({},X,{radius:typeof u=="number"?u:void 0,className:N,d:G2($,F,I,P,u),ref:r,style:q2(q2({},H),t.style)}))})};function Q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q2(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah=Math.PI/180,nZ=e=>e*180/Math.PI,Ut=(e,t,r,n)=>({x:e+Math.cos(-ah*n)*r,y:t+Math.sin(-ah*n)*r}),aZ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sZ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},iZ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,o=sZ({x:r,y:n},{x:a,y:s});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:o,angle:nZ(c),angleInRadian:c}},oZ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},lZ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return e+o*360},cZ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=iZ({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=oZ(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Z2(Z2({},t),{},{radius:a,angle:lZ(d,t)}):null};function k4(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,o=Ut(t,r,n,a),l=Ut(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}var uZ=(e,t)=>{var r=br(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},df=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/ah,f=c?a:a+s*d,m=Ut(t,r,u,f),h=Ut(t,r,n,f),p=c?a-s*d:a,x=Ut(t,r,u*Math.cos(d*ah),p);return{center:m,circleTangency:h,lineTangency:x,theta:d}},N4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:o}=e,l=uZ(s,o),c=s+l,u=Ut(t,r,a,s),d=Ut(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var m=Ut(t,r,n,s),h=Ut(t,r,n,c);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},dZ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=br(u-c),{circleTangency:f,lineTangency:m,theta:h}=df({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:v}=df({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-h-v;if(y<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):N4({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:k}=df({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:_,theta:S}=df({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=l?Math.abs(c-u):Math.abs(c-u)-k-S;if(C<0&&s===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},fZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},S4=e=>{var t=ht(e,fZ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var m=Ee("recharts-sector",f),h=s-a,p=In(o,h,0,!0),x;return p>0&&Math.abs(u-d)<360?x=dZ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=N4({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),g.createElement("path",Lx({},Jt(t),{className:m,d:x}))};function mZ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(qT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:o,angle:l}=t,c=Ut(n,a,s,l),u=Ut(n,a,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return k4(t)}}var _4={},E4={},C4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tw;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(C4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(E4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rw,r=E4;function n(a,s,o){o&&typeof o!="number"&&t.isIterateeCall(a,s,o)&&(s=o=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),o=o===void 0?a<s?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((s-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(_4);var hZ=_4.range;const P4=ia(hZ);function Ms(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xw(e){let t,r,n;e.length!==2?(t=Ms,r=(l,c)=>Ms(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ms||e===pZ?e:gZ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function gZ(){return 0}function O4(e){return e===null?NaN:+e}function*yZ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xZ=xw(Ms),sd=xZ.right;xw(O4).center;class J2 extends Map{constructor(t,r=wZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(eS(this,t))}has(t){return super.has(eS(this,t))}set(t,r){return super.set(vZ(this,t),r)}delete(t){return super.delete(bZ(this,t))}}function eS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function vZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jZ(e=Ms){if(e===Ms)return A4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function A4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kZ=Math.sqrt(50),NZ=Math.sqrt(10),SZ=Math.sqrt(2);function sh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=kZ?10:s>=NZ?5:s>=SZ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?sh(e,t,r*2):[l,c,u]}function $x(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?sh(t,e,r):sh(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function zx(e,t,r){return t=+t,e=+e,r=+r,sh(e,t,r)[2]}function Fx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?zx(t,e,r):zx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function T4(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?A4:jZ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),p=Math.min(n,Math.floor(t+(c-u)*f/c+m));T4(e,t,h,p,a)}const s=e[t];let o=r,l=n;for(ac(e,r,t),a(e[n],s)>0&&ac(e,r,n);o<l;){for(ac(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?ac(e,r,l):(++l,ac(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ac(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _Z(e,t,r){if(e=Float64Array.from(yZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rS(e);if(t>=1)return tS(e);var n,a=(n-1)*t,s=Math.floor(a),o=tS(T4(e,s).subarray(0,s+1)),l=rS(e.subarray(s+1));return o+(l-o)*(a-s)}}function EZ(e,t,r=O4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function CZ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ga(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bx=Symbol("implicit");function vw(){var e=new J2,t=[],r=[],n=Bx;function a(s){let o=e.get(s);if(o===void 0){if(n!==Bx)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new J2;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return vw(t,r).unknown(n)},fn.apply(a,arguments),a}function bw(){var e=vw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,p=h?a:n,x=h?n:a;s=(x-p)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),p+=(x-p-s*(m-c))*d,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=CZ(m).map(function(y){return p+s*y});return r(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return bw(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},fn.apply(f(),arguments)}function M4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return M4(t())},e}function PZ(){return M4(bw.apply(null,arguments).paddingInner(1))}function OZ(e){return function(){return e}}function ih(e){return+e}var nS=[0,1];function sr(e){return e}function Ux(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:OZ(isNaN(t)?NaN:.5)}function AZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TZ(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Ux(a,n),s=r(o,s)):(n=Ux(n,a),s=r(s,o)),function(l){return s(n(l))}}function MZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Ux(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=sd(e,l,1,n)-1;return s[c](a[c](l))}}function id(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fp(){var e=nS,t=nS,r=Ca,n,a,s,o=sr,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==sr&&(o=AZ(e[0],e[m-1])),l=m>2?MZ:TZ,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(n),kn)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,ih),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=Nb,d()},f.clamp=function(m){return arguments.length?(o=m?!0:sr,d()):o!==sr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function ww(){return Fp()(sr,sr)}function IZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function xl(e){return e=oh(Math.abs(e)),e?e[1]:NaN}function DZ(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function RZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var LZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gu(e){if(!(t=LZ.exec(e)))throw new Error("invalid format: "+e);var t;return new jw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gu.prototype=jw.prototype;function jw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $Z(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var I4;function zZ(e,t){var r=oh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(I4=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+oh(e,Math.max(0,t+s-1))[0]}function aS(e,t){var r=oh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const sS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aS(e*100,t),r:aS,s:zZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iS(e){return e}var oS=Array.prototype.map,lS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FZ(e){var t=e.grouping===void 0||e.thousands===void 0?iS:DZ(oS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?iS:RZ(oS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=gu(f);var m=f.fill,h=f.align,p=f.sign,x=f.symbol,v=f.zero,y=f.width,w=f.comma,b=f.precision,j=f.trim,k=f.type;k==="n"?(w=!0,k="g"):sS[k]||(b===void 0&&(b=12),j=!0,k="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=x==="$"?n:/[%p]/.test(k)?o:"",S=sS[k],C=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(E){var O=N,M=_,A,L,D;if(k==="c")M=S(E)+M,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),b),j&&(E=$Z(E)),R&&+E==0&&p!=="+"&&(R=!1),O=(R?p==="("?p:l:p==="-"||p==="("?"":p)+O,M=(k==="s"?lS[8+I4/3]:"")+M+(R&&p==="("?")":""),C){for(A=-1,L=E.length;++A<L;)if(D=E.charCodeAt(A),48>D||D>57){M=(D===46?a+E.slice(A+1):E.slice(A))+M,E=E.slice(0,A);break}}}w&&!v&&(E=t(E,1/0));var I=O.length+E.length+M.length,P=I<y?new Array(y-I+1).join(m):"";switch(w&&v&&(E=t(P+E,P.length?y-M.length:1/0),P=""),h){case"<":E=O+E+M+P;break;case"=":E=O+P+E+M;break;case"^":E=P.slice(0,I=P.length>>1)+O+E+M+P.slice(I);break;default:E=P+O+E+M;break}return s(E)}return T.toString=function(){return f+""},T}function d(f,m){var h=u((f=gu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(xl(m)/3)))*3,x=Math.pow(10,-p),v=lS[8+p/3];return function(y){return h(x*y)+v}}return{format:u,formatPrefix:d}}var ff,kw,D4;BZ({thousands:",",grouping:[3],currency:["$",""]});function BZ(e){return ff=FZ(e),kw=ff.format,D4=ff.formatPrefix,ff}function UZ(e){return Math.max(0,-xl(Math.abs(e)))}function HZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xl(t)/3)))*3-xl(Math.abs(e)))}function VZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xl(t)-xl(e))+1}function R4(e,t,r,n){var a=Fx(e,t,r),s;switch(n=gu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=HZ(a,o))&&(n.precision=s),D4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=VZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=UZ(a))&&(n.precision=s-(n.type==="%")*2);break}}return kw(n)}function Ks(e){var t=e.domain;return e.ticks=function(r){var n=t();return $x(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return R4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=zx(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function L4(){var e=ww();return e.copy=function(){return id(e,L4())},fn.apply(e,arguments),Ks(e)}function $4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ih),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $4(e).unknown(t)},e=arguments.length?Array.from(e,ih):[0,1],Ks(r)}function z4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function cS(e){return Math.log(e)}function uS(e){return Math.exp(e)}function WZ(e){return-Math.log(-e)}function KZ(e){return-Math.exp(-e)}function qZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YZ(e){return e===10?qZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dS(e){return(t,r)=>-e(-t,r)}function Nw(e){const t=e(cS,uS),r=t.domain;let n=10,a,s;function o(){return a=GZ(n),s=YZ(n),r()[0]<0?(a=dS(a),s=dS(s),e(WZ,KZ)):e(cS,uS),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),p,x;const v=l==null?10:+l;let y=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(x=m<0?p/s(-m):p*s(m),!(x<u)){if(x>d)break;y.push(x)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(x=m>0?p/s(-m):p*s(m),!(x<u)){if(x>d)break;y.push(x)}y.length*2<v&&(y=$x(u,d,v))}else y=$x(m,h,Math.min(h-m,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=gu(c)).precision==null&&(c.trim=!0),c=kw(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(z4(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function F4(){const e=Nw(Fp()).domain([1,10]);return e.copy=()=>id(e,F4()).base(e.base()),fn.apply(e,arguments),e}function fS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sw(e){var t=1,r=e(fS(t),mS(t));return r.constant=function(n){return arguments.length?e(fS(t=+n),mS(t)):t},Ks(r)}function B4(){var e=Sw(Fp());return e.copy=function(){return id(e,B4()).constant(e.constant())},fn.apply(e,arguments)}function hS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QZ(e){return e<0?-e*e:e*e}function _w(e){var t=e(sr,sr),r=1;function n(){return r===1?e(sr,sr):r===.5?e(XZ,QZ):e(hS(r),hS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ks(t)}function Ew(){var e=_w(Fp());return e.copy=function(){return id(e,Ew()).exponent(e.exponent())},fn.apply(e,arguments),e}function ZZ(){return Ew.apply(null,arguments).exponent(.5)}function pS(e){return Math.sign(e)*e*e}function JZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function U4(){var e=ww(),t=[0,1],r=!1,n;function a(s){var o=JZ(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(pS(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,ih)).map(pS)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return U4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fn.apply(a,arguments),Ks(a)}function H4(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=EZ(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[sd(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ms),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return H4().domain(e).range(t).unknown(n)},fn.apply(s,arguments)}function V4(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[sd(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return V4().domain([e,t]).range(a).unknown(s)},fn.apply(Ks(o),arguments)}function W4(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[sd(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return W4().domain(e).range(t).unknown(r)},fn.apply(a,arguments)}const p0=new Date,g0=new Date;function wt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>wt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(p0.setTime(+s),g0.setTime(+o),e(p0),e(g0),Math.floor(r(p0,g0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const lh=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lh);lh.range;const Na=1e3,rn=Na*60,Sa=rn*60,za=Sa*24,Cw=za*7,gS=za*30,y0=za*365,ci=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCSeconds());ci.range;const Pw=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getMinutes());Pw.range;const Ow=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getUTCMinutes());Ow.range;const Aw=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na-e.getMinutes()*rn)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getHours());Aw.range;const Tw=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Sa)},(e,t)=>(t-e)/Sa,e=>e.getUTCHours());Tw.range;const od=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rn)/za,e=>e.getDate()-1);od.range;const Bp=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/za,e=>e.getUTCDate()-1);Bp.range;const K4=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/za,e=>Math.floor(e/za));K4.range;function Gi(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rn)/Cw)}const Up=Gi(0),ch=Gi(1),eJ=Gi(2),tJ=Gi(3),vl=Gi(4),rJ=Gi(5),nJ=Gi(6);Up.range;ch.range;eJ.range;tJ.range;vl.range;rJ.range;nJ.range;function Xi(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Cw)}const Hp=Xi(0),uh=Xi(1),aJ=Xi(2),sJ=Xi(3),bl=Xi(4),iJ=Xi(5),oJ=Xi(6);Hp.range;uh.range;aJ.range;sJ.range;bl.range;iJ.range;oJ.range;const Mw=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Mw.range;const Iw=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Iw.range;const Fa=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fa.range;const Ba=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ba.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ba.range;function q4(e,t,r,n,a,s){const o=[[ci,1,Na],[ci,5,5*Na],[ci,15,15*Na],[ci,30,30*Na],[s,1,rn],[s,5,5*rn],[s,15,15*rn],[s,30,30*rn],[a,1,Sa],[a,3,3*Sa],[a,6,6*Sa],[a,12,12*Sa],[n,1,za],[n,2,2*za],[r,1,Cw],[t,1,gS],[t,3,3*gS],[e,1,y0]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=xw(([,,v])=>v).right(o,m);if(h===o.length)return e.every(Fx(u/y0,d/y0,f));if(h===0)return lh.every(Math.max(Fx(u,d,f),1));const[p,x]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return p.every(x)}return[l,c]}const[lJ,cJ]=q4(Ba,Iw,Hp,K4,Tw,Ow),[uJ,dJ]=q4(Fa,Mw,Up,od,Aw,Pw);function x0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function v0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function fJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ic(a),d=oc(a),f=ic(s),m=oc(s),h=ic(o),p=oc(o),x=ic(l),v=oc(l),y=ic(c),w=oc(c),b={a:R,A:I,b:P,B:$,c:null,d:jS,e:jS,f:DJ,g:WJ,G:qJ,H:TJ,I:MJ,j:IJ,L:Y4,m:RJ,M:LJ,p:F,q:H,Q:SS,s:_S,S:$J,u:zJ,U:FJ,V:BJ,w:UJ,W:HJ,x:null,X:null,y:VJ,Y:KJ,Z:YJ,"%":NS},j={a:B,A:Y,b:X,B:Q,c:null,d:kS,e:kS,f:ZJ,g:lee,G:uee,H:GJ,I:XJ,j:QJ,L:X4,m:JJ,M:eee,p:G,q:Z,Q:SS,s:_S,S:tee,u:ree,U:nee,V:aee,w:see,W:iee,x:null,X:null,y:oee,Y:cee,Z:dee,"%":NS},k={a:T,A:E,b:O,B:M,c:A,d:bS,e:bS,f:CJ,g:vS,G:xS,H:wS,I:wS,j:NJ,L:EJ,m:kJ,M:SJ,p:C,q:jJ,Q:OJ,s:AJ,S:_J,u:yJ,U:xJ,V:vJ,w:gJ,W:bJ,x:L,X:D,y:vS,Y:xS,Z:wJ,"%":PJ};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(U,ne){return function(te){var q=[],ae=-1,ce=0,ge=U.length,pe,Me,fr;for(te instanceof Date||(te=new Date(+te));++ae<ge;)U.charCodeAt(ae)===37&&(q.push(U.slice(ce,ae)),(Me=yS[pe=U.charAt(++ae)])!=null?pe=U.charAt(++ae):Me=pe==="e"?" ":"0",(fr=ne[pe])&&(pe=fr(te,Me)),q.push(pe),ce=ae+1);return q.push(U.slice(ce,ae)),q.join("")}}function _(U,ne){return function(te){var q=sc(1900,void 0,1),ae=S(q,U,te+="",0),ce,ge;if(ae!=te.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ne&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ce=v0(sc(q.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?uh.ceil(ce):uh(ce),ce=Bp.offset(ce,(q.V-1)*7),q.y=ce.getUTCFullYear(),q.m=ce.getUTCMonth(),q.d=ce.getUTCDate()+(q.w+6)%7):(ce=x0(sc(q.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?ch.ceil(ce):ch(ce),ce=od.offset(ce,(q.V-1)*7),q.y=ce.getFullYear(),q.m=ce.getMonth(),q.d=ce.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ge="Z"in q?v0(sc(q.y,0,1)).getUTCDay():x0(sc(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ge+5)%7:q.w+q.U*7-(ge+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,v0(q)):x0(q)}}function S(U,ne,te,q){for(var ae=0,ce=ne.length,ge=te.length,pe,Me;ae<ce;){if(q>=ge)return-1;if(pe=ne.charCodeAt(ae++),pe===37){if(pe=ne.charAt(ae++),Me=k[pe in yS?ne.charAt(ae++):pe],!Me||(q=Me(U,te,q))<0)return-1}else if(pe!=te.charCodeAt(q++))return-1}return q}function C(U,ne,te){var q=u.exec(ne.slice(te));return q?(U.p=d.get(q[0].toLowerCase()),te+q[0].length):-1}function T(U,ne,te){var q=h.exec(ne.slice(te));return q?(U.w=p.get(q[0].toLowerCase()),te+q[0].length):-1}function E(U,ne,te){var q=f.exec(ne.slice(te));return q?(U.w=m.get(q[0].toLowerCase()),te+q[0].length):-1}function O(U,ne,te){var q=y.exec(ne.slice(te));return q?(U.m=w.get(q[0].toLowerCase()),te+q[0].length):-1}function M(U,ne,te){var q=x.exec(ne.slice(te));return q?(U.m=v.get(q[0].toLowerCase()),te+q[0].length):-1}function A(U,ne,te){return S(U,t,ne,te)}function L(U,ne,te){return S(U,r,ne,te)}function D(U,ne,te){return S(U,n,ne,te)}function R(U){return o[U.getDay()]}function I(U){return s[U.getDay()]}function P(U){return c[U.getMonth()]}function $(U){return l[U.getMonth()]}function F(U){return a[+(U.getHours()>=12)]}function H(U){return 1+~~(U.getMonth()/3)}function B(U){return o[U.getUTCDay()]}function Y(U){return s[U.getUTCDay()]}function X(U){return c[U.getUTCMonth()]}function Q(U){return l[U.getUTCMonth()]}function G(U){return a[+(U.getUTCHours()>=12)]}function Z(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ne=N(U+="",b);return ne.toString=function(){return U},ne},parse:function(U){var ne=_(U+="",!1);return ne.toString=function(){return U},ne},utcFormat:function(U){var ne=N(U+="",j);return ne.toString=function(){return U},ne},utcParse:function(U){var ne=_(U+="",!0);return ne.toString=function(){return U},ne}}}var yS={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,mJ=/^%/,hJ=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function pJ(e){return e.replace(hJ,"\\$&")}function ic(e){return new RegExp("^(?:"+e.map(pJ).join("|")+")","i")}function oc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gJ(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yJ(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function xJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function vJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function bJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xS(e,t,r){var n=Lt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vS(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jJ(e,t,r){var n=Lt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function kJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function bS(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function NJ(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function wS(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function SJ(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _J(e,t,r){var n=Lt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function EJ(e,t,r){var n=Lt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function CJ(e,t,r){var n=Lt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function PJ(e,t,r){var n=mJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function OJ(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function AJ(e,t,r){var n=Lt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jS(e,t){return Se(e.getDate(),t,2)}function TJ(e,t){return Se(e.getHours(),t,2)}function MJ(e,t){return Se(e.getHours()%12||12,t,2)}function IJ(e,t){return Se(1+od.count(Fa(e),e),t,3)}function Y4(e,t){return Se(e.getMilliseconds(),t,3)}function DJ(e,t){return Y4(e,t)+"000"}function RJ(e,t){return Se(e.getMonth()+1,t,2)}function LJ(e,t){return Se(e.getMinutes(),t,2)}function $J(e,t){return Se(e.getSeconds(),t,2)}function zJ(e){var t=e.getDay();return t===0?7:t}function FJ(e,t){return Se(Up.count(Fa(e)-1,e),t,2)}function G4(e){var t=e.getDay();return t>=4||t===0?vl(e):vl.ceil(e)}function BJ(e,t){return e=G4(e),Se(vl.count(Fa(e),e)+(Fa(e).getDay()===4),t,2)}function UJ(e){return e.getDay()}function HJ(e,t){return Se(ch.count(Fa(e)-1,e),t,2)}function VJ(e,t){return Se(e.getFullYear()%100,t,2)}function WJ(e,t){return e=G4(e),Se(e.getFullYear()%100,t,2)}function KJ(e,t){return Se(e.getFullYear()%1e4,t,4)}function qJ(e,t){var r=e.getDay();return e=r>=4||r===0?vl(e):vl.ceil(e),Se(e.getFullYear()%1e4,t,4)}function YJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function kS(e,t){return Se(e.getUTCDate(),t,2)}function GJ(e,t){return Se(e.getUTCHours(),t,2)}function XJ(e,t){return Se(e.getUTCHours()%12||12,t,2)}function QJ(e,t){return Se(1+Bp.count(Ba(e),e),t,3)}function X4(e,t){return Se(e.getUTCMilliseconds(),t,3)}function ZJ(e,t){return X4(e,t)+"000"}function JJ(e,t){return Se(e.getUTCMonth()+1,t,2)}function eee(e,t){return Se(e.getUTCMinutes(),t,2)}function tee(e,t){return Se(e.getUTCSeconds(),t,2)}function ree(e){var t=e.getUTCDay();return t===0?7:t}function nee(e,t){return Se(Hp.count(Ba(e)-1,e),t,2)}function Q4(e){var t=e.getUTCDay();return t>=4||t===0?bl(e):bl.ceil(e)}function aee(e,t){return e=Q4(e),Se(bl.count(Ba(e),e)+(Ba(e).getUTCDay()===4),t,2)}function see(e){return e.getUTCDay()}function iee(e,t){return Se(uh.count(Ba(e)-1,e),t,2)}function oee(e,t){return Se(e.getUTCFullYear()%100,t,2)}function lee(e,t){return e=Q4(e),Se(e.getUTCFullYear()%100,t,2)}function cee(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function uee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bl(e):bl.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function dee(){return"+0000"}function NS(){return"%"}function SS(e){return+e}function _S(e){return Math.floor(+e/1e3)}var to,Z4,J4;fee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fee(e){return to=fJ(e),Z4=to.format,to.parse,J4=to.utcFormat,to.utcParse,to}function mee(e){return new Date(e)}function hee(e){return e instanceof Date?+e:+new Date(+e)}function Dw(e,t,r,n,a,s,o,l,c,u){var d=ww(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),w=u("%b %d"),b=u("%B"),j=u("%Y");function k(N){return(c(N)<N?h:l(N)<N?p:o(N)<N?x:s(N)<N?v:n(N)<N?a(N)<N?y:w:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,hee)):m().map(mee)},d.ticks=function(N){var _=m();return e(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?k:u(_)},d.nice=function(N){var _=m();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?m(z4(_,N)):d},d.copy=function(){return id(d,Dw(e,t,r,n,a,s,o,l,c,u))},d}function pee(){return fn.apply(Dw(uJ,dJ,Fa,Mw,Up,od,Aw,Pw,ci,Z4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gee(){return fn.apply(Dw(lJ,cJ,Ba,Iw,Hp,Bp,Tw,Ow,ci,J4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vp(){var e=0,t=1,r,n,a,s,o=sr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,o=f(h,p),u):[o(0),o(1)]}}return u.range=d(Ca),u.rangeRound=d(Nb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function qs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eI(){var e=Ks(Vp()(sr));return e.copy=function(){return qs(e,eI())},Ga.apply(e,arguments)}function tI(){var e=Nw(Vp()).domain([1,10]);return e.copy=function(){return qs(e,tI()).base(e.base())},Ga.apply(e,arguments)}function rI(){var e=Sw(Vp());return e.copy=function(){return qs(e,rI()).constant(e.constant())},Ga.apply(e,arguments)}function Rw(){var e=_w(Vp());return e.copy=function(){return qs(e,Rw()).exponent(e.exponent())},Ga.apply(e,arguments)}function yee(){return Rw.apply(null,arguments).exponent(.5)}function nI(){var e=[],t=sr;function r(n){if(n!=null&&!isNaN(n=+n))return t((sd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ms),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>_Z(e,s/n))},r.copy=function(){return nI(t).domain(e)},Ga.apply(r,arguments)}function Wp(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=sr,d,f=!1,m;function h(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function p(x){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,u=V9(x,[y,w,b]),h):[u(0),u(.5),u(1)]}}return h.range=p(Ca),h.rangeRound=p(Nb),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return d=x,a=x(e),s=x(t),o=x(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,h}}function aI(){var e=Ks(Wp()(sr));return e.copy=function(){return qs(e,aI())},Ga.apply(e,arguments)}function sI(){var e=Nw(Wp()).domain([.1,1,10]);return e.copy=function(){return qs(e,sI()).base(e.base())},Ga.apply(e,arguments)}function iI(){var e=Sw(Wp());return e.copy=function(){return qs(e,iI()).constant(e.constant())},Ga.apply(e,arguments)}function Lw(){var e=_w(Wp());return e.copy=function(){return qs(e,Lw()).exponent(e.exponent())},Ga.apply(e,arguments)}function xee(){return Lw.apply(null,arguments).exponent(.5)}const yc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bw,scaleDiverging:aI,scaleDivergingLog:sI,scaleDivergingPow:Lw,scaleDivergingSqrt:xee,scaleDivergingSymlog:iI,scaleIdentity:$4,scaleImplicit:Bx,scaleLinear:L4,scaleLog:F4,scaleOrdinal:vw,scalePoint:PZ,scalePow:Ew,scaleQuantile:H4,scaleQuantize:V4,scaleRadial:U4,scaleSequential:eI,scaleSequentialLog:tI,scaleSequentialPow:Rw,scaleSequentialQuantile:nI,scaleSequentialSqrt:yee,scaleSequentialSymlog:rI,scaleSqrt:ZZ,scaleSymlog:B4,scaleThreshold:W4,scaleTime:pee,scaleUtc:gee,tickFormat:R4},Symbol.toStringTag,{value:"Module"}));var Ys=e=>e.chartData,vee=W([Ys],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ld=(e,t,r,n)=>n?vee(e):Ys(e);function Rs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(He(t)&&He(r))return!0}return!1}function ES(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function oI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(He(r))a=r;else if(typeof r=="function")return;if(He(n))s=n;else if(typeof n=="function")return;var o=[a,s];if(Rs(o))return o}}function bee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Rs(n))return ES(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(de(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&x2.test(a)){var c=x2.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(de(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&v2.test(s)){var d=v2.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[o,l];if(Rs(m))return t==null?m:ES(m,t,r)}}}var Il=1e9,wee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zw,Ke=!0,dn="[DecimalError] ",Ei=dn+"Invalid argument: ",$w=dn+"Exponent out of range: ",Dl=Math.floor,ti=Math.pow,jee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,Ot=1e7,Fe=7,lI=9007199254740991,dh=Dl(lI/Fe),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return Pa(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return Ie(Pa(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return ft(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mr))throw Error(dn+"NaN");if(r.s<1)throw Error(dn+(r.s?"NaN":"-Infinity"));return r.eq(Mr)?new n(0):(Ke=!1,t=Pa(yu(r,s),yu(e,s),s),Ke=!0,Ie(t,a))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dI(t,e):cI(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(dn+"NaN");return r.s?(Ke=!1,t=Pa(r,e,0,1).times(e),Ke=!0,r.minus(t)):Ie(new n(r),a)};le.naturalExponential=le.exp=function(){return uI(this)};le.naturalLogarithm=le.ln=function(){return yu(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cI(t,e):dI(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ei+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Fe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(dn+"NaN")}for(e=ft(l),Ke=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Yn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Pa(l,s,o+2)).times(.5),Yn(s.d).slice(0,o)===(t=Yn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ie(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Ke=!0,Ie(n,r)};le.times=le.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+t,s[a--]=l%Ot|0,t=l/Ot|0;s[a]=(s[a]+t)%Ot|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ke?Ie(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(na(e,0,Il),t===void 0?t=n.rounding:na(t,0,8),Ie(r,e+ft(r)+1,t))};le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Bi(n,!0):(na(e,0,Il),t===void 0?t=a.rounding:na(t,0,8),n=Ie(new a(n),e+1,t),r=Bi(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Bi(a):(na(e,0,Il),t===void 0?t=s.rounding:na(t,0,8),n=Ie(new s(a),e+ft(a)+1,t),r=Bi(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ft(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Mr);if(l=new c(l),!l.s){if(e.s<1)throw Error(dn+"Infinity");return l}if(l.eq(Mr))return l;if(n=c.precision,e.eq(Mr))return Ie(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=lI){for(a=new c(Mr),t=Math.ceil(n/Fe+4),Ke=!1;r%2&&(a=a.times(l),PS(a.d,t)),r=Dl(r/2),r!==0;)l=l.times(l),PS(l.d,t);return Ke=!0,e.s<0?new c(Mr).div(a):Ie(a,n)}}else if(s<0)throw Error(dn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,a=e.times(yu(l,n+u)),Ke=!0,a=uI(a),a.s=s,a};le.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ft(a),n=Bi(a,r<=s.toExpNeg||r>=s.toExpPos)):(na(e,1,Il),t===void 0?t=s.rounding:na(t,0,8),a=Ie(new s(a),e,t),r=ft(a),n=Bi(a,e<=r||r<=s.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(na(e,1,Il),t===void 0?t=n.rounding:na(t,0,8)),Ie(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Bi(e,t<=r.toExpNeg||t>=r.toExpPos)};function cI(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?Ie(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Fe),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ot|0,c[s]%=Ot;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ke?Ie(t,f):t}function na(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ei+e)}function Yn(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=is(r)),s+=n;o=e[t],n=o+"",r=Fe-n.length,r&&(s+=is(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Pa=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Ot|0,o=s/Ot|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Ot+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,m,h,p,x,v,y,w,b,j,k,N,_,S,C=n.constructor,T=n.s==a.s?1:-1,E=n.d,O=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(dn+"Division by zero");for(c=n.e-a.e,_=O.length,k=E.length,h=new C(T),p=h.d=[],u=0;O[u]==(E[u]||0);)++u;if(O[u]>(E[u]||0)&&--c,s==null?w=s=C.precision:o?w=s+(ft(n)-ft(a))+1:w=s,w<0)return new C(0);if(w=w/Fe+2|0,u=0,_==1)for(d=0,O=O[0],w++;(u<k||d)&&w--;u++)b=d*Ot+(E[u]||0),p[u]=b/O|0,d=b%O|0;else{for(d=Ot/(O[0]+1)|0,d>1&&(O=e(O,d),E=e(E,d),_=O.length,k=E.length),j=_,x=E.slice(0,_),v=x.length;v<_;)x[v++]=0;S=O.slice(),S.unshift(0),N=O[0],O[1]>=Ot/2&&++N;do d=0,l=t(O,x,_,v),l<0?(y=x[0],_!=v&&(y=y*Ot+(x[1]||0)),d=y/N|0,d>1?(d>=Ot&&(d=Ot-1),f=e(O,d),m=f.length,v=x.length,l=t(f,x,m,v),l==1&&(d--,r(f,_<m?S:O,m))):(d==0&&(l=d=1),f=O.slice()),m=f.length,m<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(O,x,_,v),l<1&&(d++,r(x,_<v?S:O,v))),v=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[v++]=E[j]||0:(x=[E[j]],v=1);while((j++<k||x[0]!==void 0)&&w--)}return p[0]||p.shift(),h.e=c,Ie(h,o?s+ft(h)+1:s)}}();function uI(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error($w+ft(e));if(!e.s)return new d(Mr);for(Ke=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ti(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Mr),d.precision=l;;){if(a=Ie(a.times(e),l),r=r.times(++c),o=s.plus(Pa(a,r,l)),Yn(o.d).slice(0,l)===Yn(s.d).slice(0,l)){for(;u--;)s=Ie(s.times(s),l);return d.precision=f,t==null?(Ke=!0,Ie(s,f)):s}s=o}}function ft(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function b0(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(dn+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function is(e){for(var t="";e--;)t+="0";return t}function yu(e,t){var r,n,a,s,o,l,c,u,d,f=1,m=10,h=e,p=h.d,x=h.constructor,v=x.precision;if(h.s<1)throw Error(dn+(h.s?"NaN":"-Infinity"));if(h.eq(Mr))return new x(0);if(t==null?(Ke=!1,u=v):u=t,h.eq(10))return t==null&&(Ke=!0),b0(x,u);if(u+=m,x.precision=u,r=Yn(p),n=r.charAt(0),s=ft(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Yn(h.d),n=r.charAt(0),f++;s=ft(h),n>1?(h=new x("0."+r),s++):h=new x(n+"."+r.slice(1))}else return c=b0(x,u+2,v).times(s+""),h=yu(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=v,t==null?(Ke=!0,Ie(h,v)):h;for(l=o=h=Pa(h.minus(Mr),h.plus(Mr),u),d=Ie(h.times(h),u),a=3;;){if(o=Ie(o.times(d),u),c=l.plus(Pa(o,new x(a),u)),Yn(c.d).slice(0,u)===Yn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(b0(x,u+2,v).times(s+""))),l=Pa(l,new x(f),u),x.precision=v,t==null?(Ke=!0,Ie(l,v)):l;l=c,a+=2}}function CS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Dl(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Fe;n<a;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>dh||e.e<-dh))throw Error($w+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Fe,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Fe,a=n-Fe+o}if(r!==void 0&&(s=ti(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ti(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ft(e),f.length=1,t=t-s-1,f[0]=ti(10,(Fe-t%Fe)%Fe),e.e=Dl(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ti(10,Fe-n),f[d]=a>0?(u/ti(10,o-a)%ti(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ot&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Ot)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>dh||e.e<-dh))throw Error($w+ft(e));return e}function dI(e,t){var r,n,a,s,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Ke?Ie(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Fe),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Ot-1;--c[s],c[a]+=Ot}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ke?Ie(t,h):t):new m(0)}function Bi(e,t,r){var n,a=ft(e),s=Yn(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+is(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+is(-a-1)+s,r&&(n=r-o)>0&&(s+=is(n))):a>=o?(s+=is(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+is(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=is(n))),e.s<0?"-"+s:s}function PS(e,t){if(e.length>t)return e.length=t,!0}function fI(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ei+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return CS(o,s.toString())}else if(typeof s!="string")throw Error(Ei+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,jee.test(s))CS(o,s);else throw Error(Ei+s)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=fI,a.config=a.set=kee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function kee(e){if(!e||typeof e!="object")throw Error(dn+"Object expected");var t,r,n,a=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Dl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ei+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ei+r+": "+n);return this}var zw=fI(wee);Mr=new zw(1);const Oe=zw;var Nee=e=>e,mI={},hI=e=>e===mI,OS=e=>function t(){return arguments.length===0||arguments.length===1&&hI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},pI=(e,t)=>e===1?t:OS(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(o=>o!==mI).length;return s>=e?t(...n):pI(e-s,OS(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>hI(d)?l.shift():d);return t(...u,...l)}))}),See=e=>pI(e.length,e),Hx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},_ee=See((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Eee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Nee;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),s(...arguments))}},Vx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function gI(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function yI(e,t,r){for(var n=new Oe(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var xI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},vI=(e,t,r)=>{if(e.lte(0))return new Oe(0);var n=gI(e.toNumber()),a=new Oe(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Oe(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new Oe(c.toNumber()):new Oe(Math.ceil(c.toNumber()))},Cee=(e,t,r)=>{var n=new Oe(1),a=new Oe(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Oe(10).pow(gI(e)-1),a=new Oe(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Oe(Math.floor(e)))}else e===0?a=new Oe(Math.floor((t-1)/2)):r||(a=new Oe(Math.floor(e)));var o=Math.floor((t-1)/2),l=Eee(_ee(c=>a.add(new Oe(c-o).mul(n)).toNumber()),Hx);return l(0,t)},bI=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var o=vI(new Oe(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Oe(0):(l=new Oe(t).add(r).div(2),l=l.sub(new Oe(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new Oe(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?bI(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new Oe(c).mul(o)),tickMax:l.add(new Oe(u).mul(o))})},Pee=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,c]=xI([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Hx(0,a-1).map(()=>1/0)]:[...Hx(0,a-1).map(()=>-1/0),c];return r>n?Vx(u):u}if(l===c)return Cee(l,a,s);var{step:d,tickMin:f,tickMax:m}=bI(l,c,o,s,0),h=yI(f,m.add(new Oe(.1).mul(d)),d);return r>n?Vx(h):h},Oee=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=xI([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var c=Math.max(r,2),u=vI(new Oe(l).sub(o).div(c-1),s,0),d=[...yI(new Oe(o),new Oe(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?Vx(d):d},wI=e=>e.rootProps.maxBarSize,Aee=e=>e.rootProps.barGap,jI=e=>e.rootProps.barCategoryGap,Tee=e=>e.rootProps.barSize,Kp=e=>e.rootProps.stackOffset,kI=e=>e.rootProps.reverseStackOrder,Fw=e=>e.options.chartName,Bw=e=>e.rootProps.syncId,NI=e=>e.rootProps.syncMethod,Uw=e=>e.options.eventEmitter,ct={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},va={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ar={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Mee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:va.type,unit:void 0},Iee={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,ticks:void 0,type:Ar.type,unit:void 0},Dee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ree={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ar.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ar.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,ticks:void 0,type:"category",unit:void 0},Hw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Dee:Mee,Vw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Ree:Iee,Yp=e=>e.polarOptions,Ww=W([qa,Ya,Rt],aZ),SI=W([Yp,Ww],(e,t)=>{if(e!=null)return In(e.innerRadius,t,0)}),_I=W([Yp,Ww],(e,t)=>{if(e!=null)return In(e.outerRadius,t,t*.8)}),Lee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},EI=W([Yp],Lee);W([Hw,EI],qp);var CI=W([Ww,SI,_I],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});W([Vw,CI],qp);var PI=W([Ce,Yp,SI,_I,qa,Ya],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:In(o,a,a/2),cy:In(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),jt=(e,t)=>t,Gp=(e,t,r)=>r;function Kw(e){return e==null?void 0:e.id}function OI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Kw(l);u.forEach((f,m)=>{var h=s==null||a?m:String(et(f,s,null)),p=et(f,l.dataKey,0),x;o.has(h)?x=o.get(h):x={},Object.assign(x,{[d]:p}),o.set(h,x)})}}),Array.from(o.values())}function Xp(e){return e.stackId!=null&&e.dataKey!=null}var Qp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $ee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var kt=e=>{var t=Ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Rl=e=>e.tooltip.settings.axisId;function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wx=[0,"auto"],Et={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AI=(e,t)=>e.cartesianAxis.xAxis[t],ca=(e,t)=>{var r=AI(e,t);return r??Et},Ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Wx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ju},TI=(e,t)=>e.cartesianAxis.yAxis[t],ua=(e,t)=>{var r=TI(e,t);return r??Ct},MI={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??MI},ur=(e,t,r)=>{switch(t){case"xAxis":return ca(e,r);case"yAxis":return ua(e,r);case"zAxis":return qw(e,r);case"angleAxis":return Hw(e,r);case"radiusAxis":return Vw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uee=(e,t,r)=>{switch(t){case"xAxis":return ca(e,r);case"yAxis":return ua(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cd=(e,t,r)=>{switch(t){case"xAxis":return ca(e,r);case"yAxis":return ua(e,r);case"angleAxis":return Hw(e,r);case"radiusAxis":return Vw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},II=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function DI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ud=e=>e.graphicalItems.cartesianItems,Hee=W([jt,Gp],DI),RI=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),dd=W([ud,ur,Hee],RI,{memoizeOptions:{resultEqualityCheck:Zp}}),LI=W([dd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xp)),$I=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Vee=W([dd],$I),zI=e=>e.map(t=>t.data).filter(Boolean).flat(1),Wee=W([dd],zI,{memoizeOptions:{resultEqualityCheck:Zp}}),FI=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Yw=W([Wee,ld],FI),BI=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:et(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:et(a,n)}))):e.map(n=>({value:n})),Jp=W([Yw,ur,dd],BI);function UI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wf(e){if(cn(e)||e instanceof Date){var t=Number(e);if(He(t))return t}}function TS(e){if(Array.isArray(e)){var t=[Wf(e[0]),Wf(e[1])];return Rs(t)?t:void 0}var r=Wf(e);if(r!=null)return[r,r]}function Ua(e){return e.map(Wf).filter(Uq)}function Kee(e,t,r){return!r||typeof t!="number"||Ur(t)?[]:r.length?Ua(r.flatMap(n=>{var a=et(e,n.dataKey),s,o;if(Array.isArray(a)?[s,o]=a:s=o=a,!(!He(s)||!He(o)))return[t-s,t+o]})):[]}var Nt=e=>{var t=kt(e),r=Rl(e);return cd(e,t,r)},fd=W([Nt],e=>e==null?void 0:e.dataKey),qee=W([LI,ld,Nt],OI),HI=(e,t,r,n)=>{var a={},s=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),a);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,u=n?[...c].reverse():c,d=u.map(Kw);return[l,{stackedData:BG(e,d,r),graphicalItems:u}]}))},Kx=W([qee,LI,Kp,kI],HI),VI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var o=KG(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Yee=W([ur],e=>e.allowDataOverflow),Gw=e=>{var t;if(e==null||!("domain"in e))return Wx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ua(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Wx},WI=W([ur],Gw),KI=W([WI,Yee],oI),Gee=W([Kx,Ys,jt,KI],VI,{memoizeOptions:{resultEqualityCheck:Qp}}),Xw=e=>e.errorBars,Xee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>UI(r,n)),mh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},qI=(e,t,r,n,a)=>{var s,o;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>UI(a,y)),m=et(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=Kee(l,m,f);if(h.length>=2){var p=Math.min(...h),x=Math.max(...h);(s==null||p<s)&&(s=p),(o==null||x>o)&&(o=x)}var v=TS(m);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=TS(et(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),He(s)&&He(o))return[s,o]},Qee=W([Yw,ur,Vee,Xw,jt],qI,{memoizeOptions:{resultEqualityCheck:Qp}});function Zee(e){var{value:t}=e;if(cn(t)||t instanceof Date)return t}var Jee=(e,t,r)=>{var n=e.map(Zee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&VT(n))?P4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},YI=e=>e.referenceElements.dots,Ll=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),ete=W([YI,jt,Gp],Ll),GI=e=>e.referenceElements.areas,tte=W([GI,jt,Gp],Ll),XI=e=>e.referenceElements.lines,rte=W([XI,jt,Gp],Ll),QI=(e,t)=>{var r=Ua(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nte=W(ete,jt,QI),ZI=(e,t)=>{var r=Ua(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ate=W([tte,jt],ZI);function ste(e){var t;if(e.x!=null)return Ua([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ua(r)}function ite(e){var t;if(e.y!=null)return Ua([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ua(r)}var JI=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?ste(n):ite(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ote=W([rte,jt],JI),lte=W(nte,ote,ate,(e,t,r)=>mh(e,r,t)),eD=(e,t,r,n,a,s,o,l)=>{if(r!=null)return r;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?mh(n,s,a):mh(s,a);return bee(t,u,e.allowDataOverflow)},cte=W([ur,WI,KI,Gee,Qee,lte,Ce,jt],eD,{memoizeOptions:{resultEqualityCheck:Qp}}),ute=[0,1],tD=(e,t,r,n,a,s,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=Ws(t,s);if(u&&l==null){var d;return P4(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Jee(n,e,u):a==="expand"?ute:o}},Qw=W([ur,Ce,Yw,Jp,Kp,jt,cte],tD),rD=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(qu(s));return l in yc?l:"point"}}},md=W([ur,Ce,II,Fw,jt],rD);function dte(e){if(e!=null){if(e in yc)return yc[e]();var t="scale".concat(qu(e));if(t in yc)return yc[t]()}}function Zw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=dte(t);if(a!=null){var s=a.domain(r).range(n);return RG(s),s}}}var nD=(e,t,r)=>{var n=Gw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Rs(e))return Pee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Rs(e))return Oee(e,t.tickCount,t.allowDecimals)}},Jw=W([Qw,cd,md],nD),aD=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Rs(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(o,l)]}return t},fte=W([ur,Qw,Jw,jt],aD),mte=W(Jp,ur,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ua(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var o=n[s+1]-n[s];r=Math.min(r,o)}return r/a}}),sD=W(mte,Ce,jI,Rt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!He(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var o=In(r,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),hte=(e,t)=>{var r=ca(e,t);return r==null||typeof r.padding!="string"?0:sD(e,"xAxis",t,r.padding)},pte=(e,t)=>{var r=ua(e,t);return r==null||typeof r.padding!="string"?0:sD(e,"yAxis",t,r.padding)},gte=W(ca,hte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),yte=W(ua,pte,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),xte=W([Rt,gte,Dp,Ip,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),vte=W([Rt,Ce,yte,Dp,Ip,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:o}=a;return s?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return xte(e,r,n);case"yAxis":return vte(e,r,n);case"zAxis":return(a=qw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return EI(e);case"radiusAxis":return CI(e,r);default:return}},iD=W([ur,hd],qp),Ls=W([ur,md,fte,iD],Zw);W([dd,Xw,jt],Xee);function oD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var eg=(e,t)=>t,tg=(e,t,r)=>r,bte=W(Tp,eg,tg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(oD)),wte=W(Mp,eg,tg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(oD)),lD=(e,t)=>({width:e.width,height:t.height}),jte=(e,t)=>{var r=typeof t.width=="number"?t.width:Ju;return{width:r,height:e.height}},cD=W(Rt,ca,lD),kte=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Nte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Ste=W(Ya,Rt,bte,eg,tg,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var c=lD(t,l);o==null&&(o=kte(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),_te=W(qa,Rt,wte,eg,tg,(e,t,r,n,a)=>{var s={},o;return r.forEach(l=>{var c=jte(t,l);o==null&&(o=Nte(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),Ete=(e,t)=>{var r=ca(e,t);if(r!=null)return Ste(e,r.orientation,r.mirror)},Cte=W([Rt,ca,Ete,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Pte=(e,t)=>{var r=ua(e,t);if(r!=null)return _te(e,r.orientation,r.mirror)},Ote=W([Rt,ua,Pte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),uD=W(Rt,ua,(e,t)=>{var r=typeof t.width=="number"?t.width:Ju;return{width:r,height:e.height}}),MS=(e,t,r)=>{switch(t){case"xAxis":return cD(e,r).width;case"yAxis":return uD(e,r).height;default:return}},dD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:o}=r,l=Ws(e,n),c=t.map(u=>u.value);if(o&&l&&s==="category"&&a&&VT(c))return c}},e1=W([Ce,Jp,ur,jt],dD),fD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,o=Ws(e,n);if(o&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},t1=W([Ce,Jp,cd,jt],fD),IS=W([Ce,Uee,md,Ls,e1,t1,hd,Jw,jt],(e,t,r,n,a,s,o,l,c)=>{if(t!=null){var u=Ws(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),Ate=(e,t,r,n,a,s,o,l,c)=>{if(!(t==null||n==null)){var u=Ws(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&s!=null&&s.length>=2?br(s[0]-s[1])*2*p:p;var x=f||a;if(x){var v=x.map((y,w)=>{var b=o?o.indexOf(y):y;return{index:w,coordinate:n(b)+p,value:y,offset:p}});return v.filter(y=>He(y.coordinate))}return u&&l?l.map((y,w)=>({coordinate:n(y)+p,value:y,index:w,offset:p})).filter(y=>He(y.coordinate)):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,w)=>({coordinate:n(y)+p,value:o?o[y]:y,index:w,offset:p}))}},mD=W([Ce,cd,md,Ls,Jw,hd,e1,t1,jt],Ate),Tte=(e,t,r,n,a,s,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ws(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?br(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},aa=W([Ce,cd,Ls,hd,e1,t1,jt],Tte),sa=W(ur,Ls,(e,t)=>{if(!(e==null||t==null))return fh(fh({},e),{},{scale:t})}),Mte=W([ur,md,Qw,iD],Zw),Ite=W((e,t,r)=>qw(e,r),Mte,(e,t)=>{if(!(e==null||t==null))return fh(fh({},e),{},{scale:t})}),Dte=W([Ce,Tp,Mp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hD=e=>e.options.defaultTooltipEventType,pD=e=>e.options.validateTooltipEventTypes;function gD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function r1(e,t){var r=hD(e),n=pD(e);return gD(t,r,n)}function Rte(e){return oe(t=>r1(t,e))}var yD=(e,t)=>{var r,n=Number(t);if(!(Ur(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Lte=e=>e.tooltip.settings,ds={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$te={itemInteraction:{click:ds,hover:ds},axisInteraction:{click:ds,hover:ds},keyboardInteraction:ds,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},xD=Pr({name:"tooltip",initialState:$te,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ve()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Tn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Ve()},removeTooltipEntrySettings:{reducer(e,t){var r=Tn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ve()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:zte,replaceTooltipEntrySettings:Fte,removeTooltipEntrySettings:Bte,setTooltipSettingsState:Ute,setActiveMouseOverItemIndex:vD,mouseLeaveItem:Hte,mouseLeaveChart:bD,setActiveClickItemIndex:Vte,setMouseOverAxisIndex:wD,setMouseClickAxisIndex:Wte,setSyncInteraction:qx,setKeyboardInteraction:Yx}=xD.actions,Kte=xD.reducer;function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qte(e,t,r){return(t=Yte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=Gte(e,"string");return typeof t=="symbol"?t:t+""}function Gte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Qte(e){return e.index!=null}var jD=(e,t,r,n)=>{if(t==null)return ds;var a=Xte(e,t,r);if(a==null)return ds;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Qte(a)){if(s)return mf(mf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return mf(mf({},ds),{},{coordinate:a.coordinate})};function Zte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Jte(e,t){var r=Zte(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),o=Math.max(n,a);return r>=s&&r<=o}function ere(e,t,r){if(r==null||t==null)return!0;var n=et(e,t);return n==null||!Rs(r)?!0:Jte(n,r)}var n1=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!He(s))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(s,l)),u=t[c];return u==null||ere(u,r,n)?String(c):null},kD=(e,t,r,n,a,s,o,l)=>{if(!(s==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},ND=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===a})},pd=e=>e.options.tooltipPayloadSearcher,$l=e=>e.tooltip;function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tre(e,t,r){return(t=rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function are(e,t){return e??t}var SD=(e,t,r,n,a,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var p,{dataDefinedOnItem:x,settings:v}=h,y=are(x,l),w=Array.isArray(y)?GM(y,u,d):y,b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?k=WT(w,n,a):k=s(w,t,c,j),Array.isArray(k))k.forEach(_=>{var S=LS(LS({},v),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(b2({tooltipEntrySettings:S,dataKey:_.dataKey,payload:_.payload,value:et(_.payload,_.dataKey),name:_.name}))});else{var N;m.push(b2({tooltipEntrySettings:v,dataKey:b,payload:k,value:et(k,b),name:(N=et(k,j))!==null&&N!==void 0?N:v==null?void 0:v.name}))}return m},f)}},a1=W([Nt,Ce,II,Fw,kt],rD),sre=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ire=W([kt,Rl],DI),gd=W([sre,Nt,ire],RI,{memoizeOptions:{resultEqualityCheck:Zp}}),ore=W([gd],e=>e.filter(Xp)),lre=W([gd],zI,{memoizeOptions:{resultEqualityCheck:Zp}}),zl=W([lre,Ys],FI),cre=W([ore,Ys,Nt],OI),s1=W([zl,Nt,gd],BI),_D=W([Nt],Gw),ure=W([Nt],e=>e.allowDataOverflow),ED=W([_D,ure],oI),dre=W([gd],e=>e.filter(Xp)),fre=W([cre,dre,Kp,kI],HI),mre=W([fre,Ys,kt,ED],VI),hre=W([gd],$I),pre=W([zl,Nt,hre,Xw,kt],qI,{memoizeOptions:{resultEqualityCheck:Qp}}),gre=W([YI,kt,Rl],Ll),yre=W([gre,kt],QI),xre=W([GI,kt,Rl],Ll),vre=W([xre,kt],ZI),bre=W([XI,kt,Rl],Ll),wre=W([bre,kt],JI),jre=W([yre,wre,vre],mh),kre=W([Nt,_D,ED,mre,pre,jre,Ce,kt],eD),yd=W([Nt,Ce,zl,s1,Kp,kt,kre],tD),Nre=W([yd,Nt,a1],nD),Sre=W([Nt,yd,Nre,kt],aD),CD=e=>{var t=kt(e),r=Rl(e),n=!1;return hd(e,t,r,n)},PD=W([Nt,CD],qp),OD=W([Nt,a1,Sre,PD],Zw),_re=W([Ce,s1,Nt,kt],dD),Ere=W([Ce,s1,Nt,kt],fD),Cre=(e,t,r,n,a,s,o,l)=>{if(t){var{type:c}=t,u=Ws(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?br(a[0]-a[1])*2*f:f,u&&o?o.map((m,h)=>({coordinate:n(m)+f,value:m,index:h,offset:f})):n.domain().map((m,h)=>({coordinate:n(m)+f,value:s?s[m]:m,index:h,offset:f}))}}},Xa=W([Ce,Nt,a1,OD,CD,_re,Ere,kt],Cre),i1=W([hD,pD,Lte],(e,t,r)=>gD(r.shared,e,t)),AD=e=>e.tooltip.settings.trigger,o1=e=>e.tooltip.settings.defaultIndex,xd=W([$l,i1,AD,o1],jD),$s=W([xd,zl,fd,yd],n1),TD=W([Xa,$s],yD),MD=W([xd],e=>{if(e)return e.dataKey});W([xd],e=>{if(e)return e.graphicalItemId});var ID=W([$l,i1,AD,o1],ND),Pre=W([qa,Ya,Ce,Rt,Xa,o1,ID,pd],kD),Ore=W([xd,Pre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Are=W([xd],e=>e.active),Tre=W([ID,$s,Ys,fd,TD,pd,i1],SD),Mre=W([Tre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lre=()=>oe(Nt),$re=()=>{var e=Lre(),t=oe(Xa),r=oe(OD);return pl(!e||!r?void 0:zS(zS({},e),{},{scale:r}),t)};function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){zre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zre(e,t,r){return(t=Fre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fre(e){var t=Bre(e,"string");return typeof t=="symbol"?t:t+""}function Bre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ure=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Hre=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:o}=n;return ro(ro(ro({},n),Ut(n.cx,n.cy,o,s)),{},{angle:s,radius:o})}var l=a.coordinate,{angle:c}=n;return ro(ro(ro({},n),Ut(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Vre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var DD=(e,t,r,n,a)=>{var s,o=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(br(d-u)!==br(f-d)){var h=[];if(br(f-d)===br(a[1]-a[0])){m=f;var p=d+a[1]-a[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{m=u;var x=f+a[1]-a[0];h[0]=Math.min(d,(x+d)/2),h[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){({index:o}=r[c]);break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+d)/2&&e<=(w+d)/2){({index:o}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o},Wre=()=>oe(Fw),l1=(e,t)=>t,RD=(e,t,r)=>r,c1=(e,t,r,n)=>n,Kre=W(Xa,e=>kp(e,t=>t.coordinate)),u1=W([$l,l1,RD,c1],jD),d1=W([u1,zl,fd,yd],n1),qre=(e,t,r)=>{if(t!=null){var n=$l(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},LD=W([$l,l1,RD,c1],ND),hh=W([qa,Ya,Ce,Rt,Xa,c1,LD,pd],kD),Yre=W([u1,hh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),$D=W([Xa,d1],yD),Gre=W([LD,d1,Ys,fd,$D,pd,l1],SD),Xre=W([u1,d1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Qre=(e,t,r,n,a,s,o)=>{if(!(!e||!r||!n||!a)&&Vre(e,o)){var l=qG(e,t),c=DD(l,s,a,r,n),u=Ure(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Zre=(e,t,r,n,a,s,o)=>{if(!(!e||!n||!a||!s||!r)){var l=cZ(e,r);if(l){var c=YG(l,t),u=DD(c,o,s,n,a),d=Hre(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Jre=(e,t,r,n,a,s,o,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Qre(e,t,n,a,s,o,l):Zre(e,t,r,n,a,s,o)},ene=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),tne=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ct)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:$ee}});function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return(t=nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sne={},ine={zIndexMap:Object.values(ct).reduce((e,t)=>US(US({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),sne)},one=new Set(Object.values(ct));function lne(e){return one.has(e)}var zD=Pr({name:"zIndex",initialState:ine,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ve()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!lne(r)&&delete e.zIndexMap[r])},prepare:Ve()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Ve()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ve()}}}),{registerZIndexPortal:cne,unregisterZIndexPortal:une,registerZIndexPortalId:dne,unregisterZIndexPortalId:fne}=zD.actions,mne=zD.reducer;function dr(e){var{zIndex:t,children:r}=e,n=wX(),a=n&&t!==void 0&&t!==0,s=bt(),o=Ge();g.useLayoutEffect(()=>a?(o(cne({zIndex:t})),()=>{o(une({zIndex:t}))}):Yu,[o,t,a]);var l=oe(u=>ene(u,t,s));if(!a)return r;if(!l)return null;var c=document.getElementById(l);return c?Ou.createPortal(r,c):null}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(null,arguments)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hne(e,t,r){return(t=pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yne(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function xne(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=kQ,v=ct.cursorLine;else if(d==="BarChart")p=NQ(l,f,s,o),x=j4,v=ct.cursorRectangle;else if(l==="radial"&&qT(f)){var{cx:y,cy:w,radius:b,startAngle:j,endAngle:k}=k4(f);p={cx:y,cy:w,startAngle:j,endAngle:k,innerRadius:b,outerRadius:b},x=S4,v=ct.cursorLine}else p={points:mZ(l,f,s)},x=yw,v=ct.cursorLine;var N=typeof c=="object"&&"className"in c?c.className:void 0,_=hf(hf(hf(hf({stroke:"#ccc",pointerEvents:"none"},s),p),Al(c)),{},{payload:m,payloadIndex:h,className:Ee("recharts-tooltip-cursor",N)});return g.createElement(dr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},g.createElement(yne,{cursor:c,cursorComp:x,cursorProps:_}))}function vne(e){var t=$re(),r=l4(),n=ed(),a=Wre();return t==null||r==null||n==null||a==null?null:g.createElement(xne,Gx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var FD=g.createContext(null),bne=()=>g.useContext(FD),BD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,p),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var j=v.length,k;for(b=0;b<j;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,m);break;default:if(!w)for(k=1,w=new Array(y-1);k<y;k++)w[k-1]=arguments[k];v[b].fn.apply(v[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var x=0,v=[],y=p.length;x<y;x++)(p[x].fn!==d||m&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(BD);var wne=BD.exports;const jne=ia(wne);var xu=new jne,Xx="recharts.syncEvent.tooltip",VS="recharts.syncEvent.brush";function f1(e,t){if(t){var r=Number.parseInt(t,10);if(!Ur(r))return e==null?void 0:e[r]}}var kne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UD=Pr({name:"options",initialState:kne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Nne=UD.reducer,{createEventEmitter:Sne}=UD.actions;function _ne(e){return e.tooltip.syncInteraction}var Ene={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HD=Pr({name:"chartData",initialState:Ene,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:WS,setDataStartEndIndexes:Cne,setComputedData:Xfe}=HD.actions,Pne=HD.reducer,One=["x","y"];function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ine(e,t){if(e==null)return{};var r,n,a=Dne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rne(){var e=oe(Bw),t=oe(Uw),r=Ge(),n=oe(NI),a=oe(Xa),s=ed(),o=Ml(),l=oe(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return Yu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:p,y:x}=h,v=Ine(h,One),{x:y,y:w,width:b,height:j}=d.payload.sourceViewBox,k=no(no({},v),{},{x:o.x+(b?(p-y)/b:0)*o.width,y:o.y+(j?(x-w)/j:0)*o.height});r(no(no({},d),{},{payload:no(no({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var N;if(typeof n=="function"){var _={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,_);N=a[S]}else n==="value"&&(N=a.find(D=>String(D.value)===d.payload.label));var{coordinate:C}=d.payload;if(N==null||d.payload.active===!1||C==null||o==null){r(qx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:E}=C,O=Math.min(T,o.x+o.width),M=Math.min(E,o.y+o.height),A={x:s==="horizontal"?N.coordinate:O,y:s==="horizontal"?M:N.coordinate},L=qx({active:d.payload.active,coordinate:A,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(L)}}};return xu.on(Xx,c),()=>{xu.off(Xx,c)}},[l,r,t,e,n,a,s,o])}function Lne(){var e=oe(Bw),t=oe(Uw),r=Ge();g.useEffect(()=>{if(e==null)return Yu;var n=(a,s,o)=>{t!==o&&e===a&&r(Cne(s))};return xu.on(VS,n),()=>{xu.off(VS,n)}},[r,t,e])}function $ne(){var e=Ge();g.useEffect(()=>{e(Sne())},[e]),Rne(),Lne()}function zne(e,t,r,n,a,s){var o=oe(h=>qre(h,e,t)),l=oe(Uw),c=oe(Bw),u=oe(NI),d=oe(_ne),f=d==null?void 0:d.active,m=Ml();g.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=qx({active:s,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});xu.emit(Xx,c,h,l)}},[f,r,o,a,n,l,c,u,s,m])}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){Fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t,r){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hne(e){return e.dataKey}function Vne(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(rQ,t)}var GS=[],Wne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xc(e){var t,r,n=ht(e,Wne),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:y,shared:w,trigger:b,defaultIndex:j,portal:k,axisId:N}=n,_=Ge(),S=typeof j=="number"?String(j):j;g.useEffect(()=>{_(Ute({shared:w,trigger:b,axisId:N,active:a,defaultIndex:S}))},[_,w,b,N,a,S]);var C=Ml(),T=y4(),E=Rte(w),{activeIndex:O,isActive:M}=(t=oe(G=>Xre(G,E,b,S)))!==null&&t!==void 0?t:{},A=oe(G=>Gre(G,E,b,S)),L=oe(G=>$D(G,E,b,S)),D=oe(G=>Yre(G,E,b,S)),R=A,I=bne(),P=(r=a??M)!==null&&r!==void 0?r:!1,[$,F]=vM([R,P]),H=E==="axis"?L:void 0;zne(E,b,D,H,O,P);var B=k??I;if(B==null||C==null||E==null)return null;var Y=R??GS;P||(Y=GS),u&&Y.length&&(Y=dM(Y.filter(G=>G.value!=null&&(G.hide!==!0||n.includeHidden)),m,Hne));var X=Y.length>0,Q=g.createElement(cQ,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:P,coordinate:D,hasPayload:X,offset:f,position:h,reverseDirection:p,useTranslate3d:x,viewBox:C,wrapperStyle:v,lastBoundingBox:$,innerRef:F,hasPortalFromProps:!!k},Vne(c,YS(YS({},n),{},{payload:Y,label:H,active:P,activeIndex:O,coordinate:D,accessibilityLayer:T})));return g.createElement(g.Fragment,null,Ou.createPortal(Q,B),P&&g.createElement(vne,{cursor:y,tooltipEventType:E,coordinate:D,payload:Y,index:O}))}var m1=e=>null;m1.displayName="Cell";function Kne(e,t,r){return(t=qne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gne{constructor(t){Kne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){Qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qne(e,t,r){return(t=Zne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zne(e){var t=Jne(e,"string");return typeof t=="symbol"?t:t+""}function Jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eae={cacheSize:2e3,enableCache:!0},VD=Xne({},eae),QS=new Gne(VD.cacheSize),tae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZS="recharts_measurement_span";function rae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(l)}var JS=(e,t)=>{try{var r=document.getElementById(ZS);r||(r=document.createElement("span"),r.setAttribute("id",ZS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,tae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Pc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rd.isSsr)return{width:0,height:0};if(!VD.enableCache)return JS(t,r);var n=rae(t,r),a=QS.get(n);if(a)return a;var s=JS(t,r);return QS.set(n,s),s},e_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sae=Object.keys(WD),jo="NaN";function iae(e,t){return e*WD[t]}class pr{static parse(t){var r,[,n,a]=(r=aae.exec(t))!==null&&r!==void 0?r:[];return new pr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ur(t)&&(this.unit=""),r!==""&&!nae.test(r)&&(this.num=NaN,this.unit=""),sae.includes(r)&&(this.num=iae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ur(this.num)}}function KD(e){if(e.includes(jo))return jo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=e_.exec(t))!==null&&r!==void 0?r:[],o=pr.parse(n??""),l=pr.parse(s??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return jo;t=t.replace(e_,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=t_.exec(t))!==null&&u!==void 0?u:[],h=pr.parse(d??""),p=pr.parse(m??""),x=f==="+"?h.add(p):h.subtract(p);if(x.isNaN())return jo;t=t.replace(t_,x.toString())}return t}var r_=/\(([^()]*)\)/;function oae(e){for(var t=e,r;(r=r_.exec(t))!=null;){var[,n]=r;t=t.replace(r_,KD(n))}return t}function lae(e){var t=e.replace(/\s+/g,"");return t=oae(t),t=KD(t),t}function cae(e){try{return lae(e)}catch{return jo}}function w0(e){var t=cae(e.slice(5,-1));return t===jo?"":t}var uae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dae=["dx","dy","angle","className","breakAll"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(null,arguments)}function n_(e,t){if(e==null)return{};var r,n,a=fae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qD=/[ \f\n\r\t\v\u2028\u2029]+/,YD=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ae(t)||(r?a=t.toString().split(""):a=t.toString().split(qD));var s=a.map(l=>({word:l,width:Pc(l,n).width})),o=r?0:Pc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function mae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var GD=(e,t,r,n)=>e.reduce((a,s)=>{var{word:o,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(o),c.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),XD=e=>e.reduce((t,r)=>t.width>r.width?t:r),hae="",a_=(e,t,r,n,a,s,o,l)=>{var c=e.slice(0,t),u=YD({breakAll:r,style:n,children:c+hae});if(!u)return[!1,[]];var d=GD(u.wordsWithComputedWidth,s,o,l),f=d.length>a||XD(d).width>Number(s);return[f,d]},pae=(e,t,r,n,a)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,u=de(s),d=String(o),f=GD(t,n,r,a);if(!u||a)return f;var m=f.length>s||XD(f).width>Number(n);if(!m)return f;for(var h=0,p=d.length-1,x=0,v;h<=p&&x<=d.length-1;){var y=Math.floor((h+p)/2),w=y-1,[b,j]=a_(d,w,c,l,s,n,r,a),[k]=a_(d,y,c,l,s,n,r,a);if(!b&&!k&&(h=y+1),b&&k&&(p=y-1),!b&&k){v=j;break}x++}return v||f},s_=e=>{var t=Ae(e)?[]:e.toString().split(qD);return[{words:t,width:void 0}]},gae=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:o}=e;if((t||r)&&!rd.isSsr){var l,c,u=YD({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return s_(n);return pae({breakAll:s,children:n,maxLines:o,style:a},l,c,t,!!r)}return s_(n)},QD="#808080",yae={angle:0,breakAll:!1,capHeight:"0.71em",fill:QD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},h1=g.forwardRef((e,t)=>{var r=ht(e,yae),{x:n,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=n_(r,uae),m=g.useMemo(()=>gae({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:p,angle:x,className:v,breakAll:y}=f,w=n_(f,dae);if(!cn(n)||!cn(a)||m.length===0)return null;var b=Number(n)+(de(h)?h:0),j=Number(a)+(de(p)?p:0);if(!He(b)||!He(j))return null;var k;switch(d){case"start":k=w0("calc(".concat(o,")"));break;case"middle":k=w0("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:k=w0("calc(".concat(m.length-1," * -").concat(s,")"));break}var N=[];if(c){var _=m[0].width,{width:S}=f;N.push("scale(".concat(de(S)&&de(_)?S/_:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(b,", ").concat(j,")")),N.length&&(w.transform=N.join(" ")),g.createElement("text",Qx({},Jt(w),{ref:t,x:b,y:j,className:Ee("recharts-text",v),textAnchor:u,fill:l.includes("url")?QD:l}),m.map((C,T)=>{var E=C.words.join(y?"":" ");return g.createElement("tspan",{x:b,dy:T===0?k:s,key:"".concat(E,"-").concat(T)},E)}))});h1.displayName="Text";var xae=["labelRef"];function vae(e,t){if(e==null)return{};var r,n,a=bae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){wae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wae(e,t,r){return(t=jae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jae(e){var t=kae(e,"string");return typeof t=="symbol"?t:t+""}function kae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(null,arguments)}var ZD=g.createContext(null),JD=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o,children:l}=e,c=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:o}),[t,r,n,a,s,o]);return g.createElement(ZD.Provider,{value:c},l)},e5=()=>{var e=g.useContext(ZD),t=Ml();return e||o4(t)},Nae=g.createContext(null),Sae=()=>{var e=g.useContext(Nae),t=oe(PI);return e||t},_ae=e=>{var{value:t,formatter:r}=e,n=Ae(e.children)?t:e.children;return typeof r=="function"?r(n):n},p1=e=>e!=null&&typeof e=="function",Eae=(e,t)=>{var r=br(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Cae=(e,t,r,n,a)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,p=(u+d)/2,x=Eae(f,m),v=x>=0?1:-1,y,w;switch(t){case"insideStart":y=f+v*s,w=h;break;case"insideEnd":y=m-v*s,w=!h;break;case"end":y=m+v*s,w=h;break;default:throw new Error("Unsupported position ".concat(t))}w=x<=0?w:!w;var b=Ut(l,c,p,y),j=Ut(l,c,p,y+(w?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),N=Ae(e.id)?lu("recharts-radial-line-"):e.id;return g.createElement("text",ba({},n,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:N,d:k})),g.createElement("textPath",{xlinkHref:"#".concat(N)},r))},Pae=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Ut(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+o)/2,{x:h,y:p}=Ut(n,a,m,u);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Zx=e=>"cx"in e&&de(e.cx),Oae=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Zx(r)&&(s=r);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=o,m=o+(c-u)/2,h=(f+m)/2,p=(c+u)/2,x=f+c/2,v=d>=0?1:-1,y=v*n,w=v>0?"end":"start",b=v>0?"start":"end",j=c>=0?1:-1,k=j*n,N=j>0?"end":"start",_=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:l-y,textAnchor:"middle",verticalAnchor:w};return ot(ot({},S),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var C={x:m+u/2,y:l+d+y,textAnchor:"middle",verticalAnchor:b};return ot(ot({},C),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var T={x:h-k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return ot(ot({},T),s?{width:Math.max(T.x-s.x,0),height:d}:{})}if(a==="right"){var E={x:h+p+k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return ot(ot({},E),s?{width:Math.max(s.x+s.width-E.x,0),height:d}:{})}var O=s?{width:p,height:d}:{};return a==="insideLeft"?ot({x:h+k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},O):a==="insideRight"?ot({x:h+p-k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideTop"?ot({x:f+c/2,y:l+y,textAnchor:"middle",verticalAnchor:b},O):a==="insideBottom"?ot({x:m+u/2,y:l+d-y,textAnchor:"middle",verticalAnchor:w},O):a==="insideTopLeft"?ot({x:f+k,y:l+y,textAnchor:_,verticalAnchor:b},O):a==="insideTopRight"?ot({x:f+c-k,y:l+y,textAnchor:N,verticalAnchor:b},O):a==="insideBottomLeft"?ot({x:m+k,y:l+d-y,textAnchor:_,verticalAnchor:w},O):a==="insideBottomRight"?ot({x:m+u-k,y:l+d-y,textAnchor:N,verticalAnchor:w},O):a&&typeof a=="object"&&(de(a.x)||La(a.x))&&(de(a.y)||La(a.y))?ot({x:o+In(a.x,p),y:l+In(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):ot({x,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Aae={angle:0,offset:5,zIndex:ct.label,position:"middle",textBreakAll:!1};function os(e){var t=ht(e,Aae),{viewBox:r,position:n,value:a,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=Sae(),f=e5(),m=n==="center"?f:d??f,h,p,x;if(r==null?h=m:Zx(r)?h=r:h=o4(r),!h||Ae(a)&&Ae(s)&&!g.isValidElement(o)&&typeof o!="function")return null;var v=ot(ot({},t),{},{viewBox:h});if(g.isValidElement(o)){var{labelRef:y}=v,w=vae(v,xae);return g.cloneElement(o,w)}if(typeof o=="function"){if(p=g.createElement(o,v),g.isValidElement(p))return p}else p=_ae(t);var b=Jt(t);if(Zx(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Cae(t,n,p,b,h);x=Pae(h,t.offset,t.position)}else x=Oae(t,h);return g.createElement(dr,{zIndex:t.zIndex},g.createElement(h1,ba({ref:u,className:Ee("recharts-label",l)},b,x,{textAnchor:mae(b.textAnchor)?b.textAnchor:x.textAnchor,breakAll:c}),p))}os.displayName="Label";var Tae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(os,ba({key:"label-implicit"},n)):cn(e)?g.createElement(os,ba({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===os?g.cloneElement(e,ot({key:"label-implicit"},n)):g.createElement(os,ba({key:"label-implicit",content:e},n)):p1(e)?g.createElement(os,ba({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(os,ba({},e,{key:"label-implicit"},n)):null};function t5(e){var{label:t,labelRef:r}=e,n=e5();return Tae(t,n,r)||null}var r5={},n5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(n5);var a5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(a5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n5,r=a5,n=jp;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(r5);var Mae=r5.last;const Iae=ia(Mae);var Dae=["valueAccessor"],Rae=["dataKey","clockWise","id","textBreakAll","zIndex"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function o_(e,t){if(e==null)return{};var r,n,a=Lae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $ae=e=>Array.isArray(e.value)?Iae(e.value):e.value,s5=g.createContext(void 0),g1=s5.Provider,i5=g.createContext(void 0);i5.Provider;function zae(){return g.useContext(s5)}function Fae(){return g.useContext(i5)}function Kf(e){var{valueAccessor:t=$ae}=e,r=o_(e,Dae),{dataKey:n,clockWise:a,id:s,textBreakAll:o,zIndex:l}=r,c=o_(r,Rae),u=zae(),d=Fae(),f=u||d;return!f||!f.length?null:g.createElement(dr,{zIndex:l??ct.label},g.createElement(Dt,{className:"recharts-label-list"},f.map((m,h)=>{var p,x=Ae(n)?t(m,h):et(m&&m.payload,n),v=Ae(s)?{}:{id:"".concat(s,"-").concat(h)};return g.createElement(os,ph({key:"label-".concat(h)},Jt(m),c,v,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:o,viewBox:m.viewBox,index:h,zIndex:0}))})))}Kf.displayName="LabelList";function y1(e){var{label:t}=e;return t?t===!0?g.createElement(Kf,{key:"labelList-implicit"}):g.isValidElement(t)||p1(t)?g.createElement(Kf,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Kf,ph({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(null,arguments)}var o5=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ee("recharts-dot",a);return de(t)&&de(r)&&de(n)?g.createElement("circle",Jx({},Br(e),Vb(e),{className:s,cx:t,cy:r,r:n})):null},Bae={radiusAxis:{},angleAxis:{}},l5=Pr({name:"polarAxis",initialState:Bae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qfe,removeRadiusAxis:Zfe,addAngleAxis:Jfe,removeAngleAxis:eme}=l5.actions,Uae=l5.reducer,c5={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1=Symbol.for("react.transitional.element"),v1=Symbol.for("react.portal"),rg=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),sg=Symbol.for("react.consumer"),ig=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),dg=Symbol.for("react.lazy"),Hae=Symbol.for("react.view_transition"),Vae=Symbol.for("react.client.reference");function mn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case x1:switch(e=e.type,e){case rg:case ag:case ng:case lg:case cg:case Hae:return e;default:switch(e=e&&e.$$typeof,e){case ig:case og:case dg:case ug:return e;case sg:return e;default:return t}}case v1:return t}}}De.ContextConsumer=sg;De.ContextProvider=ig;De.Element=x1;De.ForwardRef=og;De.Fragment=rg;De.Lazy=dg;De.Memo=ug;De.Portal=v1;De.Profiler=ag;De.StrictMode=ng;De.Suspense=lg;De.SuspenseList=cg;De.isContextConsumer=function(e){return mn(e)===sg};De.isContextProvider=function(e){return mn(e)===ig};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===x1};De.isForwardRef=function(e){return mn(e)===og};De.isFragment=function(e){return mn(e)===rg};De.isLazy=function(e){return mn(e)===dg};De.isMemo=function(e){return mn(e)===ug};De.isPortal=function(e){return mn(e)===v1};De.isProfiler=function(e){return mn(e)===ag};De.isStrictMode=function(e){return mn(e)===ng};De.isSuspense=function(e){return mn(e)===lg};De.isSuspenseList=function(e){return mn(e)===cg};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rg||e===ag||e===ng||e===lg||e===cg||typeof e=="object"&&e!==null&&(e.$$typeof===dg||e.$$typeof===ug||e.$$typeof===ig||e.$$typeof===sg||e.$$typeof===og||e.$$typeof===Vae||e.getModuleId!==void 0)};De.typeOf=mn;c5.exports=De;var Wae=c5.exports,l_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",c_=null,j0=null,u5=e=>{if(e===c_&&Array.isArray(j0))return j0;var t=[];return g.Children.forEach(e,r=>{Ae(r)||(Wae.isFragment(r)?t=t.concat(u5(r.props.children)):t.push(r))}),j0=t,c_=e,t};function d5(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>l_(a)):n=[l_(t)],u5(e).forEach(a=>{var s=fl(a,"type.displayName")||fl(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var f5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,m5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(m5);var Kae=m5.isPlainObject;const qae=ia(Kae);function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){Yae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yae(e,t,r){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}var f_=(e,t,r,n,a)=>{var s=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-s/2,",").concat(t+a),o+="L ".concat(e+r-s/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Qae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zae=e=>{var t=ht(e,Qae),{x:r,y:n,upperWidth:a,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=g.useRef(null),[h,p]=g.useState(-1),x=g.useRef(a),v=g.useRef(s),y=g.useRef(o),w=g.useRef(r),b=g.useRef(n),j=ad(e,"trapezoid-");if(g.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var A=m.current.getTotalLength();A&&p(A)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||o!==+o||a===0&&s===0||o===0)return null;var k=Ee("recharts-trapezoid",l);if(!f)return g.createElement("g",null,g.createElement("path",gh({},Jt(t),{className:k,d:f_(r,n,a,s,o)})));var N=x.current,_=v.current,S=y.current,C=w.current,T=b.current,E="0px ".concat(h===-1?1:h,"px"),O="".concat(h,"px 0px"),M=x4(["strokeDasharray"],u,c);return g.createElement(nd,{animationId:j,key:j,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},A=>{var L=Le(N,a,A),D=Le(_,s,A),R=Le(S,o,A),I=Le(C,r,A),P=Le(T,n,A);m.current&&(x.current=L,v.current=D,y.current=R,w.current=I,b.current=P);var $=A>0?{transition:M,strokeDasharray:O}:{strokeDasharray:E};return g.createElement("path",gh({},Jt(t),{className:k,d:f_(I,P,L,D,R),ref:m,style:d_(d_({},$),t.style)}))})},Jae=["option","shapeType","propTransformer","activeClassName"];function ese(e,t){if(e==null)return{};var r,n,a=tse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){rse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rse(e,t,r){return(t=nse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nse(e){var t=ase(e,"string");return typeof t=="symbol"?t:t+""}function ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sse(e,t){return yh(yh({},t),e)}function ise(e,t){return e==="symbols"}function h_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(j4,r);case"trapezoid":return g.createElement(Zae,r);case"sector":return g.createElement(S4,r);case"symbols":if(ise(t))return g.createElement(wp,r);break;case"curve":return g.createElement(yw,r);default:return null}}function ose(e){return g.isValidElement(e)?e.props:e}function xh(e){var{option:t,shapeType:r,propTransformer:n=sse,activeClassName:a="recharts-active-shape"}=e,s=ese(e,Jae),o;if(g.isValidElement(t))o=g.cloneElement(t,yh(yh({},s),ose(t)));else if(typeof t=="function")o=t(s,s.index);else if(qae(t)&&typeof t!="boolean"){var l=n(t,s);o=g.createElement(h_,{shapeType:r,elementProps:l})}else{var c=s;o=g.createElement(h_,{shapeType:r,elementProps:c})}return s.isActive?g.createElement(Dt,{className:a},o):o}var b1=(e,t,r)=>{var n=Ge();return(a,s)=>o=>{e==null||e(a,s,o),n(vD({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},w1=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(Hte())}},j1=(e,t,r)=>{var n=Ge();return(a,s)=>o=>{e==null||e(a,s,o),n(Vte({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function k1(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=bt(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(zte(t)):a.current!==t&&r(Fte({prev:a.current,next:t})),a.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{a.current&&(r(Bte(a.current)),a.current=null)},[r]),null}function N1(e){var{legendPayload:t}=e,r=Ge(),n=bt(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(DX(t)):a.current!==t&&r(RX({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(LX(a.current)),a.current=null)},[r]),null}var k0,lse=()=>{var[e]=g.useState(()=>lu("uid-"));return e},cse=(k0=cR.useId)!==null&&k0!==void 0?k0:lse;function h5(e,t){var r=cse();return t||(e?"".concat(e,"-").concat(r):r)}var use=g.createContext(void 0),S1=e=>{var{id:t,type:r,children:n}=e,a=h5("recharts-".concat(r),t);return g.createElement(use.Provider,{value:a},n(a))},dse={cartesianItems:[],polarItems:[]},p5=Pr({name:"graphicalItems",initialState:dse,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ve()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Tn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ve()},removeCartesianGraphicalItem:{reducer(e,t){var r=Tn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ve()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ve()},removePolarGraphicalItem:{reducer(e,t){var r=Tn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ve()}}}),{addCartesianGraphicalItem:fse,replaceCartesianGraphicalItem:mse,removeCartesianGraphicalItem:hse,addPolarGraphicalItem:tme,removePolarGraphicalItem:rme}=p5.actions,pse=p5.reducer,gse=e=>{var t=Ge(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(fse(e)):r.current!==e&&t(mse({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(hse(r.current)),r.current=null)},[t]),null},_1=g.memo(gse),yse=["points"];function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xse(e,t,r){return(t=vse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vse(e){var t=bse(e,"string");return typeof t=="symbol"?t:t+""}function bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}function wse(e,t){if(e==null)return{};var r,n,a=jse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kse(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Ee(n,typeof t!="boolean"?t.className:""),s=r??{},{points:o}=s,l=wse(s,yse);return g.createElement(o5,vh({},l,{className:a}))}function Nse(e,t){return e==null?!1:t?!0:e.length===1}function Sse(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=ct.scatter}=e;if(!Nse(t,r))return null;var d=f5(r),f=ZK(r),m=t.map((p,x)=>{var v,y,w=N0(N0(N0({r:3},o),f),{},{index:x,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(y=p.y)!==null&&y!==void 0?y:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return g.createElement(kse,{key:"dot-".concat(x),option:r,dotProps:w,className:a})}),h={};return l&&c!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),g.createElement(dr,{zIndex:u},g.createElement(Dt,vh({className:n},h),m))}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){_se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _se(e,t,r){return(t=Ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pse={xAxis:{},yAxis:{},zAxis:{}},g5=Pr({name:"cartesianAxis",initialState:Pse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ve()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ve()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ve()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ve()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ve()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ve()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ve()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ve()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ve()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=y_(y_({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:Ose,replaceXAxis:Ase,removeXAxis:Tse,addYAxis:Mse,replaceYAxis:Ise,removeYAxis:Dse,addZAxis:nme,replaceZAxis:ame,removeZAxis:sme,updateYAxisWidth:Rse}=g5.actions,Lse=g5.reducer,$se=W([Rt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),zse=W([$se,qa,Ya],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),E1=()=>oe(zse),Fse=()=>oe(Mre);function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return(t=Use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Use(e){var t=Hse(e,"string");return typeof t=="symbol"?t:t+""}function Hse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vse=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=S0(S0(S0({},l),Al(a)),Vb(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,c):typeof a=="function"?u=a(c):u=g.createElement(o5,c),g.createElement(Dt,{className:"recharts-active-dot",clipPath:o},u)};function Wse(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:o=ct.activeDot}=e,l=oe($s),c=Fse();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Ae(u)?null:g.createElement(dr,{zIndex:o},g.createElement(Vse,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Kse="Invariant failed";function qse(e,t){throw new Error(Kse)}var Yse=["x","y"];function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){Gse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gse(e,t,r){return(t=Xse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xse(e){var t=Qse(e,"string");return typeof t=="symbol"?t:t+""}function Qse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zse(e,t){if(e==null)return{};var r,n,a=Jse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eie(e,t){var{x:r,y:n}=e,a=Zse(e,Yse),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return lc(lc(lc(lc(lc({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function bh(e){return g.createElement(xh,ev({shapeType:"rectangle",propTransformer:eie,activeClassName:"recharts-active-bar"},e))}var tie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var s=de(n)||Ae(n);return s?t(n,a):(s||qse(),r)}},rie={},y5=Pr({name:"errorBars",initialState:rie,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:ime,replaceErrorBar:ome,removeErrorBar:lme}=y5.actions,nie=y5.reducer,aie=["children"];function sie(e,t){if(e==null)return{};var r,n,a=iie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lie=g.createContext(oie);function C1(e){var{children:t}=e,r=sie(e,aie);return g.createElement(lie.Provider,{value:r},t)}function fg(e,t){var r,n,a=oe(u=>ca(u,e)),s=oe(u=>ua(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Et.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Ct.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function P1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=E1(),{needClipX:s,needClipY:o,needClip:l}=fg(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:s?c:c-d/2,y:o?u:u-f/2,width:s?d:d*2,height:o?f:f*2}))}function cie(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&He(e.zIndex)?e.zIndex:t}var uie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=g;function die(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fie=typeof Object.is=="function"?Object.is:die,mie=vd.useSyncExternalStore,hie=vd.useRef,pie=vd.useEffect,gie=vd.useMemo,yie=vd.useDebugValue;uie.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=hie(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gie(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&o.hasValue){var p=o.value;if(a(p,h))return f=p}return f=h}if(p=f,fie(d,h))return p;var x=n(h);return a!==void 0&&a(p,x)?(d=h,p):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=mie(e,s[0],s[1]);return pie(function(){o.hasValue=!0,o.value=l},[l]),yie(l),l};function xie(e){e()}function vie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var b_={notify(){},get:()=>[]};function bie(e,t){let r,n=b_,a=0,s=!1;function o(x){d();const v=n.subscribe(x);let y=!1;return()=>{y||(y=!0,v(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=vie())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=b_)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return p}var wie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jie=wie(),kie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nie=kie(),Sie=()=>jie||Nie?g.useLayoutEffect:g.useEffect,_ie=Sie();function w_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Eie(e,t){if(w_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!w_(e[r[a]],t[r[a]]))return!1;return!0}var _0=Symbol.for("react-redux-context"),E0=typeof globalThis<"u"?globalThis:{};function Cie(){if(!g.createContext)return{};const e=E0[_0]??(E0[_0]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Pie=Cie();function Oie(e){const{children:t,context:r,serverState:n,store:a}=e,s=g.useMemo(()=>{const c=bie(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=g.useMemo(()=>a.getState(),[a]);_ie(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=r||Pie;return g.createElement(l.Provider,{value:s},t)}var Aie=Oie,Tie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Mie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function bd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Tie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Eie(e[n],t[n]))return!1}else if(!Mie(e[n],t[n]))return!1;return!0}var Iie=["onMouseEnter","onMouseLeave","onClick"],Die=["value","background","tooltipPosition"],Rie=["id"],Lie=["onMouseEnter","onClick","onMouseLeave"];function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(null,arguments)}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){$ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ie(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Fie(e,"string");return typeof t=="symbol"?t:t+""}function Fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(e,t){if(e==null)return{};var r,n,a=Bie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Tl(r,t),payload:e}]},Hie=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Tl(s,t),hide:o,type:c,color:a,unit:l}};return g.createElement(k1,{tooltipEntrySettings:u})});function Vie(e){var t=oe($s),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=wh(s,Iie),d=b1(o,n),f=w1(l),m=j1(c,n);if(!a||r==null)return null;var h=Al(a);return g.createElement(dr,{zIndex:cie(a,ct.barBackground)},r.map((p,x)=>{var{value:v,background:y,tooltipPosition:w}=p,b=wh(p,Die);if(!y)return null;var j=d(p,x),k=f(p,x),N=m(p,x),_=nr(nr(nr(nr(nr({option:a,isActive:String(x)===t},b),{},{fill:"#eee"},y),h),Gu(u,p,x)),{},{onMouseEnter:j,onMouseLeave:k,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return g.createElement(bh,Ha({key:"background-bar-".concat(x)},_))}))}function Wie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return nr(nr({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return g.createElement(g1,{value:t?a:void 0},r)}function Kie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:o}=e,l=oe($s),c=oe(MD),u=r&&String(s)===l&&(c==null||o===c),d=u?r:t;return u?g.createElement(dr,{zIndex:ct.activeBar},g.createElement(bh,Ha({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:o}))):g.createElement(bh,Ha({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:o}))}function qie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return g.createElement(bh,Ha({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Yie(e){var t,{data:r,props:n}=e,a=(t=Br(n))!==null&&t!==void 0?t:{},{id:s}=a,o=wh(a,Rie),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=wh(n,Lie),p=b1(d,c),x=w1(m),v=j1(f,c);return r?g.createElement(g.Fragment,null,r.map((y,w)=>g.createElement(Dt,Ha({key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(w),className:"recharts-bar-rectangle"},Gu(h,y,w),{onMouseEnter:p(y,w),onMouseLeave:x(y,w),onClick:v(y,w)}),u?g.createElement(Kie,{shape:l,activeBar:u,baseProps:o,entry:y,index:w,dataKey:c}):g.createElement(qie,{shape:l,baseProps:o,entry:y,index:w,dataKey:c})))):null}function Gie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=ad(t,"recharts-bar-"),[h,p]=g.useState(!1),x=!h,v=g.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),y=g.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return g.createElement(Wie,{showLabels:x,rects:n},g.createElement(nd,{animationId:m,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:y,key:m},w=>{var b=w===1?n:n==null?void 0:n.map((j,k)=>{var N=f&&f[k];if(N)return nr(nr({},j),{},{x:Le(N.x,j.x,w),y:Le(N.y,j.y,w),width:Le(N.width,j.width,w),height:Le(N.height,j.height,w)});if(a==="horizontal"){var _=Le(0,j.height,w),S=Le(j.stackedBarStart,j.y,w);return nr(nr({},j),{},{y:S,height:_})}var C=Le(0,j.width,w),T=Le(j.stackedBarStart,j.x,w);return nr(nr({},j),{},{width:C,x:T})});return w>0&&(r.current=b??null),b==null?null:g.createElement(Dt,null,g.createElement(Yie,{props:t,data:b}))}),g.createElement(y1,{label:t.label}),t.children)}function Xie(e){var t=g.useRef(null);return g.createElement(Gie,{previousRectanglesRef:t,props:e})}var x5=0,Qie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:et(e,t)}};class Zie extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ee("recharts-bar",a),f=u;return g.createElement(Dt,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(P1,{clipPathId:f,xAxisId:s,yAxisId:o})),g.createElement(Dt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},g.createElement(Vie,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(Xie,this.props)))}}var Jie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:x5,xAxisId:0,yAxisId:0,zIndex:ct.bar};function eoe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=fg(t,r),m=ed(),h=bt(),p=d5(e.children,m1),x=oe(w=>Coe(w,t,r,h,e.id,p));if(m!=="vertical"&&m!=="horizontal")return null;var v,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?v=0:v=m==="vertical"?y.height/2:y.width/2,g.createElement(C1,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Qie,errorBarOffset:v},g.createElement(Zie,Ha({},e,{layout:m,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function toe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:p,dataStartIndex:x}=e,v=t==="horizontal"?l:o,y=d?v.scale.domain():null,w=HG({numericAxis:v}),b=v.scale(w);return f.map((j,k)=>{var N,_,S,C,T,E;d?N=LG(d[k+x],y):(N=et(j,r),Array.isArray(N)||(N=[w,N]));var O=tie(n,x5)(N[1],k);if(t==="horizontal"){var M,[A,L]=[l.scale(N[0]),l.scale(N[1])];_=y2({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:j,index:k}),S=(M=L??A)!==null&&M!==void 0?M:void 0,C=a.size;var D=A-L;if(T=Ur(D)?0:D,E={x:_,y:m.top,width:C,height:m.height},Math.abs(O)>0&&Math.abs(T)<Math.abs(O)){var R=br(T||O)*(Math.abs(O)-Math.abs(T));S-=R,T+=R}}else{var[I,P]=[o.scale(N[0]),o.scale(N[1])];if(_=I,S=y2({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:j,index:k}),C=P-I,T=a.size,E={x:m.left,y:S,width:m.width,height:T},Math.abs(O)>0&&Math.abs(C)<Math.abs(O)){var $=br(C||O)*(Math.abs(O)-Math.abs(C));C+=$}}if(_==null||S==null||C==null||T==null)return null;var F=nr(nr({},j),{},{stackedBarStart:b,x:_,y:S,width:C,height:T,value:d?N:N[1],payload:j,background:E,tooltipPosition:{x:_+C/2,y:S+T/2},parentViewBox:p},h&&h[k]&&h[k].props);return F}).filter(Boolean)}function roe(e){var t=ht(e,Jie),r=bt();return g.createElement(S1,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(N1,{legendPayload:Uie(t)}),g.createElement(Hie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(_1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:UG(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(dr,{zIndex:t.zIndex},g.createElement(eoe,Ha({},t,{id:n})))))}var mg=g.memo(roe,bd);mg.displayName="Bar";function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){noe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function noe(e,t,r){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aoe(e){var t=soe(e,"string");return typeof t=="symbol"?t:t+""}function soe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ioe=(e,t)=>t,ooe=(e,t,r)=>r,loe=(e,t,r,n)=>n,coe=(e,t,r,n,a)=>a,wd=W([ud,coe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),uoe=W([wd],e=>e==null?void 0:e.maxBarSize),doe=(e,t,r,n,a,s)=>s,N_=(e,t,r)=>{var n=r??e;if(!Ae(n))return In(n,t,0)},foe=W([Ce,ud,ioe,ooe,loe],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),moe=(e,t,r,n)=>{var a=Ce(e);return a==="horizontal"?Kx(e,"yAxis",r,n):Kx(e,"xAxis",t,n)},hoe=(e,t,r)=>{var n=Ce(e);return n==="horizontal"?MS(e,"xAxis",t):MS(e,"yAxis",r)},poe=(e,t,r)=>{var n={},a=e.filter(Xp),s=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,m=f.map(p=>p.dataKey),h=N_(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:h}}),c=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=N_(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},goe=W([foe,Tee,hoe],poe),yoe=(e,t,r,n,a)=>{var s,o,l=wd(e,t,r,n,a);if(l!=null){var c=Ce(e),u=wI(e),{maxBarSize:d}=l,f=Ae(d)?u:d,m,h;return c==="horizontal"?(m=sa(e,"xAxis",t,n),h=aa(e,"xAxis",t,n)):(m=sa(e,"yAxis",r,n),h=aa(e,"yAxis",r,n)),(s=(o=pl(m,h,!0))!==null&&o!==void 0?o:f)!==null&&s!==void 0?s:0}},v5=(e,t,r,n)=>{var a=Ce(e),s,o;return a==="horizontal"?(s=sa(e,"xAxis",t,n),o=aa(e,"xAxis",t,n)):(s=sa(e,"yAxis",r,n),o=aa(e,"yAxis",r,n)),pl(s,o)};function xoe(e,t,r,n,a){var s=n.length;if(!(s<1)){var o=In(e,r,0,!0),l,c=[];if(He(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,w)=>y+(w.barSize||0),0);f+=(s-1)*o,f>=r&&(f-=(s-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var m=(r-f)/2>>0,h={offset:m-o,size:0};l=n.reduce((y,w)=>{var b,j={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:h.offset+h.size+o,size:u?d:(b=w.barSize)!==null&&b!==void 0?b:0}},k=[...y,j];return h=k[k.length-1].position,k},c)}else{var p=In(t,r,0,!0);r-2*p-(s-1)*o<=0&&(o=0);var x=(r-2*p-(s-1)*o)/s;x>1&&(x>>=0);var v=He(a)?Math.min(x,a):x;l=n.reduce((y,w,b)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(x+o)*b+(x-v)/2,size:v}}],c)}return l}}var voe=(e,t,r,n,a,s,o)=>{var l=Ae(o)?t:o,c=xoe(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>pf(pf({},u),{},{position:pf(pf({},u.position),{},{offset:u.position.offset-a/2})}))),c},boe=W([goe,wI,Aee,jI,yoe,v5,uoe],voe),woe=(e,t,r,n)=>sa(e,"xAxis",t,n),joe=(e,t,r,n)=>sa(e,"yAxis",r,n),koe=(e,t,r,n)=>aa(e,"xAxis",t,n),Noe=(e,t,r,n)=>aa(e,"yAxis",r,n),Soe=W([boe,wd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),_oe=(e,t)=>{var r=Kw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(o=>o.key===r)}}}},Eoe=W([moe,wd],_oe),Coe=W([Rt,dw,woe,joe,koe,Noe,Soe,Ce,ld,v5,Eoe,wd,doe],(e,t,r,n,a,s,o,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=h==null?void 0:h.slice(p,x+1),y!=null)return toe({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:y,offset:e,cells:m,dataStartIndex:p})}}),Poe=e=>{var{chartData:t}=e,r=Ge(),n=bt();return g.useEffect(()=>n?()=>{}:(r(WS(t)),()=>{r(WS(void 0))}),[t,r,n]),null},S_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},b5=Pr({name:"brush",initialState:S_,reducers:{setBrushSettings(e,t){return t.payload==null?S_:t.payload}}}),{setBrushSettings:cme}=b5.actions,Ooe=b5.reducer;function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){w5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w5(e,t,r){return(t=Aoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aoe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Moe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Ioe=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Moe({x:t,y:r},{x:n,y:a})};class hg{static create(t){return new hg(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}w5(hg,"EPS",1e-4);var Doe=e=>{var t=Object.keys(e).reduce((r,n)=>gf(gf({},r),{},{[n]:hg.create(e[n])}),{});return gf(gf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[o,l]=s;return[o,t[o].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function Roe(e){return(e%180+180)%180}var Loe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Roe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},$oe={dots:[],areas:[],lines:[]},j5=Pr({name:"referenceElements",initialState:$oe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Tn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Tn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Tn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:ume,removeDot:dme,addArea:fme,removeArea:mme,addLine:zoe,removeLine:Foe}=j5.actions,Boe=j5.reducer,k5=g.createContext(void 0),Uoe=e=>{var{children:t}=e,[r]=g.useState("".concat(lu("recharts"),"-clip")),n=E1();if(n==null)return null;var{x:a,y:s,width:o,height:l}=n;return g.createElement(k5.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:s,height:l,width:o}))),t)},Hoe=()=>g.useContext(k5);function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){Voe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Voe(e,t,r){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Woe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(null,arguments)}var qoe=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!He(t.x1)||!He(t.y1)||!He(t.x2)||!He(t.y2))return null;r=g.createElement("line",jh({},t,{className:"recharts-reference-line-line"}))}return r},Yoe=(e,t,r,n,a,s)=>{var{x:o,width:l}=s,c=a.y.apply(e,{position:r});if(Ur(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:o+l,y:c},{x:o,y:c}];return n==="left"?u.reverse():u},Goe=(e,t,r,n,a,s)=>{var{y:o,height:l}=s,c=a.x.apply(e,{position:r});if(Ur(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:o+l},{x:c,y:o}];return n==="top"?u.reverse():u},Xoe=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Qoe=(e,t,r,n,a,s)=>{var{x:o,y:l,segment:c,ifOverflow:u}=s,d=cn(o),f=cn(l);return f?Yoe(l,u,r,a,e,t):d?Goe(o,u,r,n,e,t):c!=null&&c.length===2?Xoe(c,u,r,e):null};function Zoe(e){var t=Ge();return g.useEffect(()=>(t(zoe(e)),()=>{t(Foe(e))})),null}function Joe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,o=bt(),l=Hoe(),c=oe(N=>ca(N,t)),u=oe(N=>ua(N,r)),d=oe(N=>Ls(N,"xAxis",t,o)),f=oe(N=>Ls(N,"yAxis",r,o)),m=Ml();if(!l||!m||c==null||u==null||d==null||f==null)return null;var h=Doe({x:d,y:f}),p=Qoe(h,m,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x,y:v},{x:y,y:w}]=p,b=s==="hidden"?"url(#".concat(l,")"):void 0,j=C_(C_({clipPath:b},Jt(e)),{},{x1:x,y1:v,x2:y,y2:w}),k=Ioe({x1:x,y1:v,x2:y,y2:w});return g.createElement(dr,{zIndex:e.zIndex},g.createElement(Dt,{className:Ee("recharts-reference-line",a)},qoe(n,j),g.createElement(JD,jh({},k,{lowerWidth:k.width,upperWidth:k.width}),g.createElement(t5,{label:e.label}),e.children)))}var ele={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ct.line};function O1(e){var t=ht(e,ele);return g.createElement(g.Fragment,null,g.createElement(Zoe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(Joe,t))}O1.displayName="ReferenceLine";function N5(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function tle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Loe(n,r)}function rle(e,t,r){var n=r==="width",{x:a,y:s,width:o,height:l}=e;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function kh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function nle(e,t){return N5(e,t+1)}function ale(e,t,r,n,a){for(var s=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:N5(n,u)};var x=c,v,y=()=>(v===void 0&&(v=r(p,x)),v),w=p.coordinate,b=c===0||kh(e,w,y,d,l);b||(c=0,d=o,u+=1),b&&(d=w+e*(y()/2+a),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sle(e,t,r){return(t=ile(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ile(e){var t=ole(e,"string");return typeof t=="symbol"?t:t+""}function ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lle(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,u=function(m){var h=s[m],p,x=()=>(p===void 0&&(p=r(h,m)),p);if(m===o-1){var v=e*(h.coordinate+e*x()/2-c);s[m]=h=qt(qt({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else s[m]=h=qt(qt({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var y=kh(e,h.tickCoord,x,l,c);y&&(c=h.tickCoord-e*(x()/2+a),s[m]=qt(qt({},h),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return s}function cle(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=qt(qt({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=kh(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),o[l-1]=qt(qt({},d),{},{isShow:!0}))}}for(var p=s?l-1:l,x=function(w){var b=o[w],j,k=()=>(j===void 0&&(j=r(b,w)),j);if(w===0){var N=e*(b.coordinate-e*k()/2-c);o[w]=b=qt(qt({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[w]=b=qt(qt({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var _=kh(e,b.tickCoord,k,c,u);_&&(c=b.tickCoord+e*(k()/2+a),o[w]=qt(qt({},b),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return o}function A1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(de(c)||rd.isSsr){var m;return(m=nle(a,de(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?Pc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,j)=>{var k=typeof u=="function"?u(b.value,j):b.value;return p==="width"?tle(Pc(k,{fontSize:t,letterSpacing:r}),x,f):Pc(k,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?br(a[1].coordinate-a[0].coordinate):1,w=rle(s,y,p);return c==="equidistantPreserveStart"?ale(y,w,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=cle(y,w,v,a,o,c==="preserveStartEnd"):h=lle(y,w,v,a,o),h.filter(b=>b.isShow))}var ule=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=o+c+l+(r?n:0);return Math.round(u)}return 0},dle=["axisLine","width","height","className","hide","ticks","axisType"];function fle(e,t){if(e==null)return{};var r,n,a=mle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(null,arguments)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hle(e,t,r){return(t=ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ple(e){var t=gle(e,"string");return typeof t=="symbol"?t:t+""}function gle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ct.axis};function yle(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ut(ut(ut({},c),Br(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);u=ut(ut({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!o||s==="right"&&o);u=ut(ut({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return g.createElement("line",Ui({},u,{className:Ee("recharts-cartesian-axis-line",fl(l,"className"))}))}function xle(e,t,r,n,a,s,o,l,c){var u,d,f,m,h,p,x=l?-1:1,v=e.tickSize||o,y=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,m=r+ +!l*a,f=m-x*v,p=f-x*c,h=y;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-x*v,h=u-x*c,p=y;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+x*v,h=u+x*c,p=y;break;default:u=d=e.coordinate,m=r+ +l*a,f=m+x*v,p=f+x*c,h=y;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:p}}}function vle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ble(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function wle(e){var{option:t,tickProps:r,value:n}=e,a,s=Ee(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,ut(ut({},r),{},{className:s}));else if(typeof t=="function")a=t(ut(ut({},r),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ee(o,t==null?void 0:t.className)),a=g.createElement(h1,Ui({},r,{className:o}),n)}return a}var jle=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:p,height:x,tickSize:v,tickMargin:y,fontSize:w,letterSpacing:b,getTicksConfig:j,events:k,axisType:N}=e,_=A1(ut(ut({},j),{},{ticks:r}),w,b),S=vle(d,f),C=ble(d,f),T=Br(j),E=Al(n),O={};typeof a=="object"&&(O=a);var M=ut(ut({},T),{},{fill:"none"},O),A=_.map(R=>ut({entry:R},xle(R,m,h,p,x,d,v,f,y))),L=A.map(R=>{var{entry:I,line:P}=R;return g.createElement(Dt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},a&&g.createElement("line",Ui({},M,P,{className:Ee("recharts-cartesian-axis-tick-line",fl(a,"className"))})))}),D=A.map((R,I)=>{var{entry:P,tick:$}=R,F=ut(ut(ut(ut({textAnchor:S,verticalAnchor:C},T),{},{stroke:"none",fill:s},E),$),{},{index:I,payload:P,visibleTicksCount:_.length,tickFormatter:o,padding:c},u);return g.createElement(Dt,Ui({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Gu(k,P,I)),n&&g.createElement(wle,{option:n,tickProps:F,value:"".concat(typeof o=="function"?o(P.value,I):P.value).concat(l||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},D.length>0&&g.createElement(dr,{zIndex:ct.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},D)),L.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},L))}),kle=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:o,ticks:l,axisType:c}=e,u=fle(e,dle),[d,f]=g.useState(""),[m,h]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return ule({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=g.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=y;var w=y[0];if(w){var b=window.getComputedStyle(w),j=b.fontSize,k=b.letterSpacing;(j!==d||k!==m)&&(f(j),h(k))}}},[d,m]);return o||n!=null&&n<=0||a!=null&&a<=0?null:g.createElement(dr,{zIndex:e.zIndex},g.createElement(Dt,{className:Ee("recharts-cartesian-axis",s)},g.createElement(yle,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Br(e)}),g.createElement(jle,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(JD,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(t5,{label:e.label,labelRef:e.labelRef}),e.children)))}),T1=g.forwardRef((e,t)=>{var r=ht(e,Oa);return g.createElement(kle,Ui({},r,{ref:t}))});T1.displayName="CartesianAxis";var Nle=["x1","y1","x2","y2","key"],Sle=["offset"],_le=["xAxisId","yAxisId"],Ele=["xAxisId","yAxisId"];function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){Cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cle(e,t,r){return(t=Ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ple(e){var t=Ole(e,"string");return typeof t=="symbol"?t:t+""}function Ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(null,arguments)}function Nh(e,t){if(e==null)return{};var r,n,a=Ale(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ale(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:o,ry:l}=e;return g.createElement("rect",{x:n,y:a,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function S5(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:o,x2:l,y2:c,key:u}=r,d=Nh(r,Nle),f=(a=Br(d))!==null&&a!==void 0?a:{},{offset:m}=f,h=Nh(f,Sle);n=g.createElement("line",ui({},h,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return n}function Mle(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Nh(e,_le),c=a.map((u,d)=>{var f=Gt(Gt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return g.createElement(S5,{key:"line-".concat(d),option:n,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Ile(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=Nh(e,Ele),c=a.map((u,d)=>{var f=Gt(Gt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return g.createElement(S5,{option:n,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Dle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],p=h?a+o-f:u[m+1]-f;if(p<=0)return null;var x=m%t.length;return g.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Rle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],p=h?a+o-f:u[m+1]-f;if(p<=0)return null;var x=m%r.length;return g.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:p,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Lle=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return XM(A1(Gt(Gt(Gt({},Oa),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},$le=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return XM(A1(Gt(Gt(Gt({},Oa),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},zle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ct.grid};function ko(e){var t=mw(),r=hw(),n=l4(),a=Gt(Gt({},ht(e,zle)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,p=bt(),x=oe(C=>IS(C,"xAxis",s,p)),v=oe(C=>IS(C,"yAxis",o,p));if(!ra(u)||!ra(d)||!de(l)||!de(c))return null;var y=a.verticalCoordinatesGenerator||Lle,w=a.horizontalCoordinatesGenerator||$le,{horizontalPoints:b,verticalPoints:j}=a;if((!b||!b.length)&&typeof w=="function"){var k=m&&m.length,N=w({yAxis:v?Gt(Gt({},v),{},{ticks:k?m:v.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);Xm(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!j||!j.length)&&typeof y=="function"){var _=h&&h.length,S=y({xAxis:x?Gt(Gt({},x),{},{ticks:_?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},_?!0:f);Xm(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return g.createElement(dr,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Tle,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Dle,ui({},a,{horizontalPoints:b})),g.createElement(Rle,ui({},a,{verticalPoints:j})),g.createElement(Mle,ui({},a,{offset:n,horizontalPoints:b,xAxis:x,yAxis:v})),g.createElement(Ile,ui({},a,{offset:n,verticalPoints:j,xAxis:x,yAxis:v}))))}ko.displayName="CartesianGrid";var _5=(e,t,r,n)=>sa(e,"xAxis",t,n),E5=(e,t,r,n)=>aa(e,"xAxis",t,n),C5=(e,t,r,n)=>sa(e,"yAxis",r,n),P5=(e,t,r,n)=>aa(e,"yAxis",r,n),Fle=W([Ce,_5,C5,E5,P5],(e,t,r,n,a)=>Ws(e,"xAxis")?pl(t,n,!1):pl(r,a,!1)),Ble=(e,t,r,n,a)=>a;function Ule(e){return e.type==="line"}var Hle=W([ud,Ble],(e,t)=>e.filter(Ule).find(r=>r.id===t)),Vle=W([Ce,_5,C5,E5,P5,Hle,Fle,ld],(e,t,r,n,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=s,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(u,d+1),h!=null)return dce({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:h})}});function Wle(e){var t=Al(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,o=Number(a),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Kle=["id"],qle=["type","layout","connectNulls","needClip","shape"],Yle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(null,arguments)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){Gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gle(e,t,r){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xle(e){var t=Qle(e,"string");return typeof t=="symbol"?t:t+""}function Qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M1(e,t){if(e==null)return{};var r,n,a=Zle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jle=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Tl(r,t),payload:e}]},ece=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Tl(o,t),hide:l,type:u,color:n,unit:c}};return g.createElement(k1,{tooltipEntrySettings:d})}),O5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function tce(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var rce=(e,t,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return O5(t,e);for(var a=Math.floor(e/n),s=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,o]:[o];return[...tce(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function nce(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:o}=n,{id:l}=n,c=M1(n,Kle),u=Br(c);return g.createElement(Sse,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:t})}function ace(e){var{showLabels:t,children:r,points:n}=e,a=g.useMemo(()=>n==null?void 0:n.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Kn(Kn({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return g.createElement(g1,{value:t?a:void 0},r)}function M_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=M1(s,qle),m=Kn(Kn({},Jt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(xh,vu({shapeType:"curve",option:d},m,{pathRef:r})),g.createElement(nce,{points:n,clipPathId:t,props:s}))}function sce(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function ice(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:h,height:p,onAnimationEnd:x,onAnimationStart:v}=r,y=a.current,w=ad(o,"recharts-line-"),b=g.useRef(w),[j,k]=g.useState(!1),N=!j,_=g.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),S=g.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),C=sce(n.current),T=g.useRef(0);b.current!==w&&(T.current=s.current,b.current=w);var E=T.current;return g.createElement(ace,{points:o,showLabels:N},r.children,g.createElement(nd,{animationId:w,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:S,key:w},O=>{var M=Le(E,C+E,O),A=Math.min(M,C),L;if(c)if(l){var D="".concat(l).split(/[,\s]+/gim).map(P=>parseFloat(P));L=rce(A,C,D)}else L=O5(C,A);else L=l==null?void 0:String(l);if(O>0&&C>0&&(a.current=o,s.current=Math.max(s.current,A)),y){var R=y.length/o.length,I=O===1?o:o.map((P,$)=>{var F=Math.floor($*R);if(y[F]){var H=y[F];return Kn(Kn({},P),{},{x:Le(H.x,P.x,O),y:Le(H.y,P.y,O)})}return m?Kn(Kn({},P),{},{x:Le(h*2,P.x,O),y:Le(p/2,P.y,O)}):Kn(Kn({},P),{},{x:P.x,y:P.y})});return a.current=I,g.createElement(M_,{props:r,points:I,clipPathId:t,pathRef:n,strokeDasharray:L})}return g.createElement(M_,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:L})}),g.createElement(y1,{label:r.label}))}function oce(e){var{clipPathId:t,props:r}=e,n=g.useRef(null),a=g.useRef(0),s=g.useRef(null);return g.createElement(ice,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var lce=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:et(e.payload,t)}};class cce extends g.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:d,id:f,needClip:m,zIndex:h}=this.props;if(t)return null;var p=Ee("recharts-line",a),x=f,{r:v,strokeWidth:y}=Wle(r),w=f5(r),b=v*2+y,j=m?"url(#clipPath-".concat(w?"":"dots-").concat(x,")"):void 0;return g.createElement(dr,{zIndex:h},g.createElement(Dt,{className:p},m&&g.createElement("defs",null,g.createElement(P1,{clipPathId:x,xAxisId:s,yAxisId:o}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:d+b}))),g.createElement(C1,{xAxisId:s,yAxisId:o,data:n,dataPointFormatter:lce,errorBarOffset:0},g.createElement(oce,{props:this.props,clipPathId:x}))),g.createElement(Wse,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var A5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ct.line,type:"linear"};function uce(e){var t=ht(e,A5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:h,yAxisId:p,id:x}=t,v=M1(t,Yle),{needClip:y}=fg(h,p),w=E1(),b=ed(),j=bt(),k=oe(T=>Vle(T,h,p,j,x));if(b!=="horizontal"&&b!=="vertical"||k==null||w==null)return null;var{height:N,width:_,x:S,y:C}=w;return g.createElement(cce,vu({},v,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:h,yAxisId:p,points:k,layout:b,height:N,width:_,left:S,top:C,needClip:y}))}function dce(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=et(u,o);if(t==="horizontal"){var m=Gm({axis:r,ticks:a,bandSize:l,entry:u,index:d}),h=Ae(f)?null:n.scale(f);return{x:m,y:h,value:f,payload:u}}var p=Ae(f)?null:r.scale(f),x=Gm({axis:n,ticks:s,bandSize:l,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function fce(e){var t=ht(e,A5),r=bt();return g.createElement(S1,{id:t.id,type:"line"},n=>g.createElement(g.Fragment,null,g.createElement(N1,{legendPayload:Jle(t)}),g.createElement(ece,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(_1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement(uce,vu({},t,{id:n}))))}var qf=g.memo(fce,bd);qf.displayName="Line";var mce=["option","isActive"];function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(null,arguments)}function hce(e,t){if(e==null)return{};var r,n,a=pce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gce(e){var{option:t,isActive:r}=e,n=hce(e,mce);return typeof t=="string"?g.createElement(xh,Oc({option:g.createElement(wp,Oc({type:t},n)),isActive:r,shapeType:"symbols"},n)):g.createElement(xh,Oc({option:t,isActive:r,shapeType:"symbols"},n))}var yce=(e,t,r,n,a,s,o)=>sa(e,"xAxis",t,o),xce=(e,t,r,n,a,s,o)=>aa(e,"xAxis",t,o),vce=(e,t,r,n,a,s,o)=>sa(e,"yAxis",r,o),bce=(e,t,r,n,a,s,o)=>aa(e,"yAxis",r,o),wce=(e,t,r,n)=>Ite(e,"zAxis",n,!1),jce=(e,t,r,n,a)=>a,kce=(e,t,r,n,a,s)=>s,Nce=(e,t,r,n,a,s,o)=>ld(e,t,r,o),Sce=W([ud,jce],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),_ce=W([Nce,yce,xce,vce,bce,wce,Sce,kce],(e,t,r,n,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(o!=null){var f;if((o==null?void 0:o.data)!=null&&o.data.length>0?f=o.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return Fce({displayedData:f,xAxis:t,yAxis:n,zAxis:s,scatterSettings:o,xAxisTicks:r,yAxisTicks:a,cells:l})}}),Ece=["onMouseEnter","onClick","onMouseLeave"],Cce=["id"],Pce=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function tv(e,t){if(e==null)return{};var r,n,a=Oce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(null,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){Ace(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ace(e,t,r){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=Mce(e,"string");return typeof t=="symbol"?t:t+""}function Mce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ice=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Tl(r,t),payload:e}]},Dce=g.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:Tl(o,t),hide:l,type:c,color:s,unit:""}};return g.createElement(k1,{tooltipEntrySettings:u})});function Rce(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:s}=r;if(!n)return null;var o=Br(r),l=Al(n),c,u;if(a==="joint")c=t.map(v=>{var y,w;return{x:(y=v.cx)!==null&&y!==void 0?y:null,y:(w=v.cy)!==null&&w!==void 0?w:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:m,b:h}=Bq(t),p=v=>m*v+h;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var x=wr(wr(wr({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:c});return g.isValidElement(n)?u=g.cloneElement(n,x):typeof n=="function"?u=n(x):u=g.createElement(yw,Hi({},x,{type:s})),g.createElement(Dt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function Lce(e){var{showLabels:t,points:r,children:n}=e,a=Ml(),s=g.useMemo(()=>r==null?void 0:r.map(o=>{var l,c,u={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return wr(wr({},u),{},{value:void 0,payload:o.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return g.createElement(g1,{value:t?s:void 0},n)}function $ce(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:s}=r,o=oe($s),{onMouseEnter:l,onClick:c,onMouseLeave:u}=r,d=tv(r,Ece),f=b1(l,r.dataKey),m=w1(u),h=j1(c,r.dataKey);if(!eY(t))return null;var{id:p}=r,x=tv(r,Cce),v=Br(x);return g.createElement(g.Fragment,null,g.createElement(Rce,{points:t,props:x}),t.map((y,w)=>{var b=a!=null&&a!==!1,j=b&&o===String(w),k=b&&j?a:n,N=wr(wr(wr({},v),y),{},{[JM]:w,[e4]:String(s)});return g.createElement(dr,{key:"symbol-".concat(y==null?void 0:y.cx,"-").concat(y==null?void 0:y.cy,"-").concat(y==null?void 0:y.size,"-").concat(w),zIndex:j?ct.activeDot:void 0},g.createElement(Dt,Hi({className:"recharts-scatter-symbol"},Gu(d,y,w),{onMouseEnter:f(y,w),onMouseLeave:m(y,w),onClick:h(y,w)}),g.createElement(gce,Hi({option:k,isActive:j},N))))}))}function zce(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l}=r,c=t.current,u=ad(r,"recharts-scatter-"),[d,f]=g.useState(!1),m=g.useCallback(()=>{f(!1)},[]),h=g.useCallback(()=>{f(!0)},[]),p=!d;return g.createElement(Lce,{showLabels:p,points:n},r.children,g.createElement(nd,{animationId:u,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:m,onAnimationStart:h,key:u},x=>{var v=x===1?n:n==null?void 0:n.map((y,w)=>{var b=c&&c[w];return b?wr(wr({},y),{},{cx:y.cx==null?void 0:Le(b.cx,y.cx,x),cy:y.cy==null?void 0:Le(b.cy,y.cy,x),size:Le(b.size,y.size,x)}):wr(wr({},y),{},{size:Le(0,y.size,x)})});return x>0&&(t.current=v),g.createElement(Dt,null,g.createElement($ce,{points:v,allOtherScatterProps:r,showLabels:p}))}),g.createElement(y1,{label:r.label}))}function Fce(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:o,yAxisTicks:l,cells:c}=e,u=Ae(r.dataKey)?s.dataKey:r.dataKey,d=Ae(n.dataKey)?s.dataKey:n.dataKey,f=a&&a.dataKey,m=a?a.range:MI.range,h=m&&m[0],p=r.scale.bandwidth?r.scale.bandwidth():0,x=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((v,y)=>{var w=et(v,u),b=et(v,d),j=!Ae(f)&&et(v,f)||"-",k=[{name:Ae(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:v,dataKey:u,type:s.tooltipType},{name:Ae(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:b,payload:v,dataKey:d,type:s.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:v,dataKey:f,type:s.tooltipType});var N=Gm({axis:r,ticks:o,bandSize:p,entry:v,index:y,dataKey:u}),_=Gm({axis:n,ticks:l,bandSize:x,entry:v,index:y,dataKey:d}),S=j!=="-"?a.scale(j):h,C=Math.sqrt(Math.max(S,0)/Math.PI);return wr(wr({},v),{},{cx:N,cy:_,x:N==null?void 0:N-C,y:_==null?void 0:_-C,width:2*C,height:2*C,size:S,node:{x:w,y:b,z:j},tooltipPayload:k,tooltipPosition:{x:N,y:_},payload:v},c&&c[y]&&c[y].props)})}var Bce=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:et(e,t)});function Uce(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:s,yAxisId:o,id:l}=e,c=g.useRef(null);if(t)return null;var u=Ee("recharts-scatter",n),d=l;return g.createElement(dr,{zIndex:e.zIndex},g.createElement(Dt,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&g.createElement("defs",null,g.createElement(P1,{clipPathId:d,xAxisId:s,yAxisId:o})),g.createElement(C1,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:Bce,errorBarOffset:0},g.createElement(Dt,{key:"recharts-scatter-symbols"},g.createElement(zce,{props:e,previousPointsRef:c})))))}var T5={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:ct.scatter};function Hce(e){var t=ht(e,T5),{animationBegin:r,animationDuration:n,animationEasing:a,hide:s,isAnimationActive:o,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:m,zAxisId:h}=t,p=tv(t,Pce),{needClip:x}=fg(f,m),v=g.useMemo(()=>d5(e.children,m1),[e.children]),y=bt(),w=oe(b=>_ce(b,f,m,h,e.id,v,y));return x==null||w==null?null:g.createElement(g.Fragment,null,g.createElement(Dce,{dataKey:e.dataKey,points:w,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),g.createElement(Uce,Hi({},p,{xAxisId:f,yAxisId:m,zAxisId:h,lineType:u,lineJointType:c,legendType:l,shape:d,hide:s,isAnimationActive:o,animationBegin:r,animationDuration:n,animationEasing:a,points:w,needClip:x})))}function Vce(e){var t=ht(e,T5),r=bt();return g.createElement(S1,{id:t.id,type:"scatter"},n=>g.createElement(g.Fragment,null,g.createElement(N1,{legendPayload:Ice(t)}),g.createElement(_1,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),g.createElement(Hce,Hi({},t,{id:n}))))}var rv=g.memo(Vce,bd);rv.displayName="Scatter";var Wce=["domain","range"],Kce=["domain","range"];function D_(e,t){if(e==null)return{};var r,n,a=qce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function M5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=D_(e,Wce),{domain:s,range:o}=t,l=D_(t,Kce);return!R_(r,s)||!R_(n,o)?!1:bd(a,l)}var Yce=["dangerouslySetInnerHTML","ticks"],Gce=["id"];function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(null,arguments)}function L_(e,t){if(e==null)return{};var r,n,a=Xce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qce(e){var t=Ge(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Ose(e)):r.current!==e&&t(Ase({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Tse(r.current)),r.current=null)},[t]),null}var Zce=e=>{var{xAxisId:t,className:r}=e,n=oe(dw),a=bt(),s="xAxis",o=oe(v=>Ls(v,s,t,a)),l=oe(v=>mD(v,s,t,a)),c=oe(v=>cD(v,t)),u=oe(v=>Cte(v,t)),d=oe(v=>AI(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:m}=e,h=L_(e,Yce),{id:p}=d,x=L_(d,Gce);return g.createElement(T1,nv({},h,x,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Ee("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Jce={allowDataOverflow:Et.allowDataOverflow,allowDecimals:Et.allowDecimals,allowDuplicatedCategory:Et.allowDuplicatedCategory,angle:Et.angle,axisLine:Oa.axisLine,height:Et.height,hide:!1,includeHidden:Et.includeHidden,interval:Et.interval,minTickGap:Et.minTickGap,mirror:Et.mirror,orientation:Et.orientation,padding:Et.padding,reversed:Et.reversed,scale:Et.scale,tick:Et.tick,tickCount:Et.tickCount,tickLine:Oa.tickLine,tickSize:Oa.tickSize,type:Et.type,xAxisId:0},eue=e=>{var t=ht(e,Jce);return g.createElement(g.Fragment,null,g.createElement(Qce,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(Zce,t))},No=g.memo(eue,M5);No.displayName="XAxis";var tue=["dangerouslySetInnerHTML","ticks"],rue=["id"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},av.apply(null,arguments)}function $_(e,t){if(e==null)return{};var r,n,a=nue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aue(e){var t=Ge(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Mse(e)):r.current!==e&&t(Ise({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Dse(r.current)),r.current=null)},[t]),null}var sue=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=g.useRef(null),o=g.useRef(null),l=oe(dw),c=bt(),u=Ge(),d="yAxis",f=oe(k=>Ls(k,d,t,c)),m=oe(k=>uD(k,t)),h=oe(k=>Ote(k,t)),p=oe(k=>mD(k,d,t,c)),x=oe(k=>TI(k,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!m||p1(a)||g.isValidElement(a)||x==null)){var k=s.current;if(k){var N=k.getCalculatedWidth();Math.round(m.width)!==Math.round(N)&&u(Rse({id:t,width:N}))}}},[p,m,u,a,t,n,x]),m==null||h==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,w=$_(e,tue),{id:b}=x,j=$_(x,rue);return g.createElement(T1,av({},w,j,{ref:s,labelRef:o,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ee("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))},iue={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:Ct.allowDecimals,allowDuplicatedCategory:Ct.allowDuplicatedCategory,angle:Ct.angle,axisLine:Oa.axisLine,hide:!1,includeHidden:Ct.includeHidden,interval:Ct.interval,minTickGap:Ct.minTickGap,mirror:Ct.mirror,orientation:Ct.orientation,padding:Ct.padding,reversed:Ct.reversed,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,tickLine:Oa.tickLine,tickSize:Oa.tickSize,type:Ct.type,width:Ct.width,yAxisId:0},oue=e=>{var t=ht(e,iue);return g.createElement(g.Fragment,null,g.createElement(aue,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(sue,t))},So=g.memo(oue,M5);So.displayName="YAxis";var lue=(e,t)=>t,I1=W([lue,Ce,PI,kt,PD,Xa,Kre,Rt],Jre),D1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},I5=un("mouseClick"),D5=Zu();D5.startListening({actionCreator:I5,effect:(e,t)=>{var r=e.payload,n=I1(t.getState(),D1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Wte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sv=un("mouseMove"),R5=Zu(),yf=null;R5.startListening({actionCreator:sv,effect:(e,t)=>{var r=e.payload;yf!==null&&cancelAnimationFrame(yf);var n=D1(r);yf=requestAnimationFrame(()=>{var a=t.getState(),s=r1(a,a.tooltip.settings.shared);if(s==="axis"){var o=I1(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(wD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(bD())}yf=null})}});var z_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},L5=Pr({name:"rootProps",initialState:z_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:z_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cue=L5.reducer,{updateOptions:uue}=L5.actions,$5=Pr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hme}=$5.actions,due=$5.reducer,z5=un("keyDown"),F5=un("focus"),R1=Zu();R1.startListening({actionCreator:z5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=n1(a,zl(r),fd(r),yd(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=Xa(r);if(s==="Enter"){var u=hh(r,"axis","hover",String(a.index));t.dispatch(Yx({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=Dte(r),f=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,h=l+m*f;if(!(c==null||h>=c.length||h<0)){var p=hh(r,"axis","hover",String(h));t.dispatch(Yx({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});R1.startListening({actionCreator:F5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",o=hh(r,"axis","hover",String(s));t.dispatch(Yx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Gr=un("externalEvent"),B5=Zu(),C0=new Map;B5.startListening({actionCreator:Gr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=C0.get(a);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:Ore(l),activeDataKey:MD(l),activeIndex:$s(l),activeLabel:TD(l),activeTooltipIndex:$s(l),isTooltipActive:Are(l)};r(c,n)}finally{C0.delete(a)}});C0.set(a,o)}}});var fue=W([$l],e=>e.tooltipItemPayloads),mue=W([fue,pd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var o=t(s,r);return o}}}),U5=un("touchMove"),H5=Zu();H5.startListening({actionCreator:U5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=r1(n,n.tooltip.settings.shared);if(a==="axis"){var s=I1(n,D1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(wD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(JM),d=(o=c.getAttribute(e4))!==null&&o!==void 0?o:void 0,f=mue(t.getState(),u,d);t.dispatch(vD({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var hue=wM({brush:Ooe,cartesianAxis:Lse,chartData:Pne,errorBars:nie,graphicalItems:pse,layout:AG,legend:$X,options:Nne,polarAxis:Uae,polarOptions:due,referenceElements:Boe,rootProps:cue,tooltip:Kte,zIndex:mne}),pue=function(t){return rG({reducer:hue,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([D5.middleware,R5.middleware,R1.middleware,B5.middleware,H5.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(RM({type:"raf"}))},devTools:rd.devToolsEnabled})};function gue(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=bt(),s=g.useRef(null);if(a)return r;s.current==null&&(s.current=pue(t));var o=ew;return g.createElement(Aie,{context:o,store:s.current},r)}function yue(e){var{layout:t,margin:r}=e,n=Ge(),a=bt();return g.useEffect(()=>{a||(n(CG(t)),n(EG(r)))},[n,a,t,r]),null}var xue=g.memo(yue,bd);function vue(e){var t=Ge();return g.useEffect(()=>{t(uue(e))},[t,e]),null}function F_(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=h5("".concat(n).concat(t)),s=Ge();return g.useLayoutEffect(()=>(s(dne({zIndex:t,elementId:a,isPanorama:r})),()=>{s(fne({zIndex:t,isPanorama:r}))}),[s,t,a,r]),g.createElement("g",{tabIndex:-1,id:a})}function B_(e){var{children:t,isPanorama:r}=e,n=oe(tne);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),s=n.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(F_,{key:o,zIndex:o,isPanorama:r})),t,s.map(o=>g.createElement(F_,{key:o,zIndex:o,isPanorama:r})))}var bue=["children"];function wue(e,t){if(e==null)return{};var r,n,a=jue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}var kue={width:"100%",height:"100%",display:"block"},Nue=g.forwardRef((e,t)=>{var r=mw(),n=hw(),a=y4();if(!ra(r)||!ra(n))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement(zb,Sh({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:kue,ref:t}),s)}),Sue=e=>{var{children:t}=e,r=oe(Dp);if(!r)return null;var{width:n,height:a,y:s,x:o}=r;return g.createElement(zb,{width:n,height:a,x:o,y:s},t)},U_=g.forwardRef((e,t)=>{var{children:r}=e,n=wue(e,bue),a=bt();return a?g.createElement(Sue,null,g.createElement(B_,{isPanorama:!0},r)):g.createElement(Nue,Sh({ref:t},n),g.createElement(B_,{isPanorama:!1},r))});function _ue(){var e=Ge(),[t,r]=g.useState(null),n=oe(GG);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;He(s)&&s!==n&&e(OG(s))}},[t,e,n]),r}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){Cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t,r){return(t=Pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(null,arguments)}var Aue=()=>($ne(),null);function _h(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Tue=g.forwardRef((e,t)=>{var r,n,a=g.useRef(null),[s,o]=g.useState({containerWidth:_h((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:_h((n=e.style)===null||n===void 0?void 0:n.height)}),l=g.useCallback((u,d)=>{o(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var m=p=>{var{width:x,height:v}=p[0].contentRect;l(x,v)},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,l]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),g.createElement(g.Fragment,null,g.createElement(Rp,{width:s.containerWidth,height:s.containerHeight}),g.createElement("div",Vi({ref:c},e)))}),Mue=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=g.useState({containerWidth:_h(r),containerHeight:_h(n)}),o=g.useCallback((c,u)=>{s(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),l=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Rp,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Vi({ref:l},e)))}),Iue=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(Rp,{width:r,height:n}),g.createElement("div",Vi({ref:t},e)))}),Due=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return La(r)||La(n)?g.createElement(Mue,Vi({},e,{ref:t})):g.createElement(Iue,Vi({},e,{ref:t}))});function Rue(e){return e===!0?Tue:Due}var Lue=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:p,onTouchStart:x,style:v,width:y,responsive:w,dispatchTouchEvents:b=!0}=e,j=g.useRef(null),k=Ge(),[N,_]=g.useState(null),[S,C]=g.useState(null),T=_ue(),E=fw(),O=(E==null?void 0:E.width)>0?E.width:y,M=(E==null?void 0:E.height)>0?E.height:a,A=g.useCallback(U=>{T(U),typeof t=="function"&&t(U),_(U),C(U),U!=null&&(j.current=U)},[T,t,_,C]),L=g.useCallback(U=>{k(I5(U)),k(Gr({handler:s,reactEvent:U}))},[k,s]),D=g.useCallback(U=>{k(sv(U)),k(Gr({handler:u,reactEvent:U}))},[k,u]),R=g.useCallback(U=>{k(bD()),k(Gr({handler:d,reactEvent:U}))},[k,d]),I=g.useCallback(U=>{k(sv(U)),k(Gr({handler:f,reactEvent:U}))},[k,f]),P=g.useCallback(()=>{k(F5())},[k]),$=g.useCallback(U=>{k(z5(U.key))},[k]),F=g.useCallback(U=>{k(Gr({handler:o,reactEvent:U}))},[k,o]),H=g.useCallback(U=>{k(Gr({handler:l,reactEvent:U}))},[k,l]),B=g.useCallback(U=>{k(Gr({handler:c,reactEvent:U}))},[k,c]),Y=g.useCallback(U=>{k(Gr({handler:m,reactEvent:U}))},[k,m]),X=g.useCallback(U=>{k(Gr({handler:x,reactEvent:U}))},[k,x]),Q=g.useCallback(U=>{b&&k(U5(U)),k(Gr({handler:p,reactEvent:U}))},[k,b,p]),G=g.useCallback(U=>{k(Gr({handler:h,reactEvent:U}))},[k,h]),Z=Rue(w);return g.createElement(FD.Provider,{value:N},g.createElement(ST.Provider,{value:S},g.createElement(Z,{width:O??(v==null?void 0:v.width),height:M??(v==null?void 0:v.height),className:Ee("recharts-wrapper",n),style:Eue({position:"relative",cursor:"default",width:O,height:M},v),onClick:L,onContextMenu:F,onDoubleClick:H,onFocus:P,onKeyDown:$,onMouseDown:B,onMouseEnter:D,onMouseLeave:R,onMouseMove:I,onMouseUp:Y,onTouchEnd:G,onTouchMove:Q,onTouchStart:X,ref:A},g.createElement(Aue,null),r)))}),$ue=["width","height","responsive","children","className","style","compact","title","desc"];function zue(e,t){if(e==null)return{};var r,n,a=Fue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bue=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,f=zue(e,$ue),m=Br(f);return c?g.createElement(g.Fragment,null,g.createElement(Rp,{width:r,height:n}),g.createElement(U_,{otherAttributes:m,title:u,desc:d},s)):g.createElement(Lue,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(U_,{otherAttributes:m,title:u,desc:d,ref:t},g.createElement(Uoe,null,s)))});function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(null,arguments)}var Uue={top:5,right:5,bottom:5,left:5},Hue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Uue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},L1=g.forwardRef(function(t,r){var n,a=ht(t.categoricalChartProps,Hue),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(gue,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},g.createElement(Poe,{chartData:u.data}),g.createElement(xue,{layout:a.layout,margin:a.margin}),g.createElement(vue,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(Bue,iv({},a,{ref:r})))}),Vue=["axis"],Wue=g.forwardRef((e,t)=>g.createElement(L1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vue,tooltipPayloadSearcher:f1,categoricalChartProps:e,ref:t})),Kue=["axis","item"],$1=g.forwardRef((e,t)=>g.createElement(L1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Kue,tooltipPayloadSearcher:f1,categoricalChartProps:e,ref:t})),que=["item"],V_=g.forwardRef((e,t)=>g.createElement(L1,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:que,tooltipPayloadSearcher:f1,categoricalChartProps:e,ref:t}));const js={deployModel:async e=>(await st.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await st.get("/deployment/active")).data}catch(e){const t=e;if(t.response&&t.response.status===404)return null;throw e}},getHistory:async(e=50,t=0)=>(await st.get("/deployment/history",{params:{limit:e,skip:t}})).data,deactivate:async()=>{await st.post("/deployment/deactivate")},predict:async e=>(await st.post("/deployment/predict",{data:e})).data},Yue=()=>{var pe,Me,fr,Kr;const{jobs:e,fetchJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=Ol(),[s,o]=g.useState([]),[l,c]=g.useState("all"),[u,d]=g.useState([]),[f,m]=g.useState("all"),[h,p]=g.useState(null),[x,v]=g.useState(!0),[y,w]=g.useState(!0),[b,j]=g.useState(!0),[k,N]=g.useState(!0),[_,S]=g.useState(!0),[C,T]=g.useState("charts"),[E,O]=g.useState(null),[M,A]=g.useState(!1),[L,D]=g.useState(null),[R,I]=g.useState(null),[P,$]=g.useState(null);g.useEffect(()=>{t(),F()},[t]),g.useEffect(()=>{var V,re,me;if((re=(V=E==null?void 0:E.splits.train)==null?void 0:V.y_proba)!=null&&re.classes&&E.splits.train.y_proba.classes.length>0){const ue=E.splits.train.y_proba,ke=((me=ue.labels)==null?void 0:me[0])??ue.classes[0];$(String(ke))}},[E]);const F=async()=>{try{const V=await st.get("/pipeline/datasets/list");d(V.data)}catch(V){console.error("Failed to fetch datasets",V)}},H=async(V,re)=>{if(V.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await js.deployModel(re),alert("Model deployed successfully!")}catch(me){alert("Failed to deploy model"),console.error(me)}},B=async V=>{var re,me;A(!0),O(null),D(null),I(V);try{const ue=await st.get(`/pipeline/jobs/${V}/evaluation`);O(ue.data)}catch(ue){console.error("Failed to fetch evaluation data",ue),D(((me=(re=ue.response)==null?void 0:re.data)==null?void 0:me.detail)||"Failed to fetch evaluation data")}finally{A(!1)}},Y=(V,re,me)=>{const ue=me&&me.length>0?[...me]:Array.from(new Set([...V,...re])).sort((rt,mr)=>String(rt).localeCompare(String(mr))),ke=ue.map(rt=>ue.map(mr=>V.reduce((pt,hn,St)=>{const gt=re[St];return String(hn)===String(rt)&&String(gt)===String(mr)?pt+1:pt},0)));return{classes:ue,matrix:ke}},X=(V,re,me)=>{const ue=String(me),rt=((re.labels&&re.labels.length===re.classes.length?re.labels:void 0)??re.classes).findIndex(_t=>String(_t)===ue);if(rt===-1)return null;const pt=re.values.map(_t=>_t[rt]).map((_t,Qa)=>({score:_t,actual:String(V[Qa])===ue?1:0}));pt.sort((_t,Qa)=>Qa.score-_t.score);const hn=[];let St=0,gt=0;const pn=pt.filter(_t=>_t.actual===1).length,Gs=pt.length-pn;if(pn===0||Gs===0)return null;hn.push({fpr:0,tpr:0});for(let _t=0;_t<pt.length;_t++)pt[_t].actual===1?St++:gt++,hn.push({fpr:gt/Gs,tpr:St/pn});return hn};g.useEffect(()=>{C==="evaluation"&&(!R&&s.length>0||R&&!s.includes(R)&&s.length>0?B(s[0]):s.length===0&&(O(null),I(null)))},[C,s,R]);const Q=e.filter(V=>{const re=l==="all"||V.job_type===l,me=f==="all"||V.dataset_id===f,ue=V.status==="completed";return re&&me&&ue}),G=e.filter(V=>s.includes(V.job_id)),Z=V=>{o(re=>re.includes(V)?re.filter(me=>me!==V):[...re,V])},U=G.map(V=>{var me;const re=V.metrics||((me=V.result)==null?void 0:me.metrics)||{};return{name:V.job_id,...re}}),ne=Array.from(new Set(G.flatMap(V=>{var me;const re=V.metrics||((me=V.result)==null?void 0:me.metrics)||{};return Object.keys(re).filter(ue=>{const ke=re[ue];return typeof ke=="number"&&!isNaN(ke)})}))).filter(V=>!(V.startsWith("train_")&&!x||V.startsWith("test_")&&!y||V.startsWith("val_")&&!b)),te=(V,re)=>{if(!V||!re)return"-";const me=new Date(re).getTime()-new Date(V).getTime(),ue=Math.floor(me/1e3);return ue<60?`${ue}s`:`${Math.floor(ue/60)}m ${ue%60}s`},q=V=>V==="best_score"?{type:"val",base:"best_score"}:V.startsWith("train_")?{type:"train",base:V.replace("train_","")}:V.startsWith("test_")?{type:"test",base:V.replace("test_","")}:V.startsWith("val_")?{type:"val",base:V.replace("val_","")}:{type:"other",base:V},ae=new Map;ne.forEach(V=>{var me;const{base:re}=q(V);ae.has(re)||ae.set(re,[]),(me=ae.get(re))==null||me.push(V)}),ae.forEach((V,re)=>{ae.set(re,V.sort())});const ce=Array.from(ae.keys()).sort(),ge=h&&ce.includes(h)?h:ce[0]||null;return i.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:f,onChange:V=>{m(V.target.value)},children:[i.jsx("option",{value:"all",children:"All Datasets"}),u.map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]}),i.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:V=>{c(V.target.value)},children:[i.jsx("option",{value:"all",children:"All Experiments"}),i.jsx("option",{value:"tuning",children:"Model Optimization"}),i.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[i.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",s.length,")"]}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[Q.map(V=>{var re,me;return i.jsxs("div",{onClick:()=>{Z(V.job_id)},className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${s.includes(V.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300 break-all",children:["#",V.version," - ",V.job_id]}),i.jsxs("div",{className:"flex items-center gap-2",children:[V.status==="completed"&&(V.job_type==="training"||V.job_type==="tuning")&&i.jsx("button",{onClick:ue=>{H(ue,V.job_id)},className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:i.jsx(Gh,{className:"w-3 h-3"})}),i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${V.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":V.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:V.status})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[V.model_type,"  ",V.dataset_name||"Unknown Dataset",V.job_type==="tuning"&&(V.search_strategy||((re=V.config.tuning)==null?void 0:re.strategy))&&i.jsxs("span",{className:"ml-1 text-gray-400",children:["(",V.search_strategy||((me=V.config.tuning)==null?void 0:me.strategy),")"]})]}),i.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[i.jsx("span",{children:new Date(V.start_time||V.created_at).toLocaleString()}),i.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:te(V.start_time,V.end_time)})]})]},V.job_id)}),r&&i.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:i.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?i.jsx(En,{className:"w-3 h-3 animate-spin"}):i.jsx(It,{className:"w-3 h-3"}),"Load More"]})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:G.length===0?i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[i.jsx(WP,{className:"w-12 h-12 mb-4 opacity-20"}),i.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[i.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${C==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{T("charts")},children:"Visual Comparison"}),i.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${C==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{T("table")},children:"Detailed Metrics & Params"}),i.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${C==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{T("evaluation")},children:"Model Evaluation"})]}),C==="charts"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),i.jsxs("div",{className:"flex gap-4 text-sm",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:x,onChange:V=>{v(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:y,onChange:V=>{w(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b,onChange:V=>{j(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ce.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ce.map(V=>i.jsx("button",{onClick:()=>{p(V)},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${ge===V?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:V.toUpperCase()},V))}),ge&&ae.has(ge)&&i.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"h-[300px] w-full",children:i.jsx(wo,{width:"100%",height:"100%",children:i.jsxs($1,{data:U,margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(ko,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),i.jsx(No,{dataKey:"name",stroke:"#6B7280",fontSize:12}),i.jsx(So,{stroke:"#6B7280",fontSize:12}),i.jsx(xc,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),i.jsx(g4,{}),(pe=ae.get(ge))==null?void 0:pe.map(V=>{const{type:re}=q(V);let me="#8884d8";return re==="train"&&(me="#3b82f6"),re==="test"&&(me="#22c55e"),re==="val"&&(me="#f97316"),re==="other"&&(me="#a855f7"),i.jsx(mg,{dataKey:V,fill:me,name:`${re} (${ge})`},V)})]})})})})]}),C==="table"&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:i.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-xs text-left",children:[i.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),G.map(V=>i.jsx("th",{className:"px-4 py-2 font-mono break-all min-w-[100px]",children:V.job_id},V.job_id))]})}),i.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[i.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),G.map(V=>i.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:V.model_type},V.job_id))]}),i.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{N(!k)},children:i.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:G.length+1,children:[k?i.jsx(It,{className:"w-3 h-3"}):i.jsx(Zn,{className:"w-3 h-3"}),"Key Metrics"]})}),k&&ne.map(V=>i.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[i.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:V}),G.map(re=>{var ke;const ue=(re.metrics||((ke=re.result)==null?void 0:ke.metrics)||{})[V];return i.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof ue=="number"?ue.toFixed(4):"-"},re.job_id)})]},V)),i.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{S(!_)},children:i.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:G.length+1,children:[_?i.jsx(It,{className:"w-3 h-3"}):i.jsx(Zn,{className:"w-3 h-3"}),"Hyperparameters"]})}),_&&Array.from(new Set(G.flatMap(V=>Object.keys(V.hyperparameters||{})))).map(V=>i.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[i.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:V}),G.map(re=>{var me;return i.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((me=re.hyperparameters)==null?void 0:me[V])??"-")},re.job_id)})]},V))]})]})})]}),C==="evaluation"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.length>1&&i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(V=>i.jsx("button",{onClick:()=>{B(V)},className:`px-3 py-1 text-xs font-mono rounded border whitespace-nowrap ${R===V?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:V},V))}),M?i.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[i.jsx(Cr,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):L?i.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[i.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),i.jsx("p",{className:"text-sm mt-2 opacity-80",children:L})]}):E?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex gap-4 text-sm",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:x,onChange:V=>{v(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:y,onChange:V=>{w(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:b,onChange:V=>{j(V.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),E.problem_type==="classification"&&((Me=E.splits.train)==null?void 0:Me.y_proba)&&(()=>{const V=E.splits.train.y_proba;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),i.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:P||"",onChange:re=>{$(re.target.value)},children:V.classes.map((re,me)=>{var ke;const ue=((ke=V.labels)==null?void 0:ke[me])??re;return i.jsx("option",{value:String(ue),children:String(ue)},String(re))})})]})})()]}),E.problem_type==="classification"&&((Kr=(fr=E.splits.train)==null?void 0:fr.y_proba)==null?void 0:Kr.labels)&&(()=>{const V=E.splits.train.y_proba;return i.jsxs("div",{className:"w-full text-xs text-gray-500 dark:text-gray-400",children:["Mapping: ",V.classes.map((re,me)=>{var ue;return`${String(re)}${String(((ue=V.labels)==null?void 0:ue[me])??re)}`}).join(", ")]})})()]}),i.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(E.splits).filter(([V])=>!(V==="train"&&!x||V==="test"&&!y||V==="validation"&&!b)).map(([V,re])=>{const me=re.y_true.map((ue,ke)=>({x:ue,y:re.y_pred[ke]}));return i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[V," Set"]}),E.problem_type==="regression"?i.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[i.jsxs("div",{className:"h-[300px]",children:[i.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),i.jsx(wo,{width:"100%",height:"100%",children:i.jsxs(V_,{margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(ko,{strokeDasharray:"3 3",opacity:.2}),i.jsx(No,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),i.jsx(So,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),i.jsx(xc,{cursor:{strokeDasharray:"3 3"},content:({active:ue,payload:ke})=>{if(ue&&ke&&ke.length){const rt=ke[0].payload;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[i.jsxs("p",{className:"font-medium",children:["Actual: ",rt.x.toFixed(4)]}),i.jsxs("p",{className:"font-medium",children:["Predicted: ",rt.y.toFixed(4)]}),i.jsxs("p",{className:"text-gray-500",children:["Error: ",(rt.y-rt.x).toFixed(4)]})]})}return null}}),i.jsx(qf,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),i.jsx(rv,{name:"Predictions",data:me,fill:"#8884d8",fillOpacity:.6})]})})]}),i.jsxs("div",{className:"h-[300px]",children:[i.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),i.jsx(wo,{width:"100%",height:"100%",children:i.jsxs(V_,{margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(ko,{strokeDasharray:"3 3",opacity:.2}),i.jsx(No,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),i.jsx(So,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),i.jsx(xc,{cursor:{strokeDasharray:"3 3"},content:({active:ue,payload:ke})=>{if(ue&&ke&&ke.length){const rt=ke[0].payload;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[i.jsxs("p",{className:"font-medium",children:["Predicted: ",rt.y.toFixed(4)]}),i.jsxs("p",{className:"font-medium",children:["Residual: ",rt.residual.toFixed(4)]})]})}return null}}),i.jsx(O1,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),i.jsx(rv,{name:"Residuals",data:me.map(ue=>{const ke=ue;return{...ke,residual:ke.x-ke.y}}),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const ue=re.y_proba,ke=ue==null?void 0:ue.classes;let rt=re.y_true,mr=re.y_pred;if(ue!=null&&ue.labels&&ue.labels.length===ue.classes.length){const St=new Map;ue.labels.forEach((gt,pn)=>{St.set(String(gt),ue.classes[pn])}),rt=re.y_true.map(gt=>St.get(String(gt))??gt),mr=re.y_pred.map(gt=>St.get(String(gt))??gt)}const{classes:pt,matrix:hn}=Y(rt,mr,ke);return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"w-8"})," ",i.jsxs("div",{className:"flex ml-2",children:[" ",pt.map(St=>i.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",String(St)]},String(St)))]})]}),i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex flex-col justify-center mr-2",children:pt.map(St=>i.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",String(St)]},String(St)))}),i.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:hn.map((St,gt)=>i.jsx("div",{className:"flex",children:St.map((pn,Gs)=>{const _t=Math.max(...hn.flat()),Qa=_t>0?pn/_t:0;return i.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Qa*.8+.1})`,color:Qa>.5?"white":"inherit"},title:`True: ${pt[gt]}, Pred: ${pt[Gs]}, Count: ${pn}`,children:pn},Gs)})},gt))})]}),i.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),re.y_proba&&i.jsxs("div",{className:"h-[300px] w-full",children:[i.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{if(!P)return i.jsx("div",{className:"text-center text-xs text-gray-400",children:"Select a class"});const ue=X(re.y_true,re.y_proba,P);return ue?i.jsx(wo,{width:"100%",height:"100%",children:i.jsxs(Wue,{data:ue,margin:{top:5,right:20,bottom:20,left:20},children:[i.jsx(ko,{strokeDasharray:"3 3",opacity:.1}),i.jsx(No,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),i.jsx(So,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),i.jsx(xc,{}),i.jsx(qf,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),i.jsx(qf,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):i.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},V)})})]}):i.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[i.jsx("p",{children:"Select a completed job to view evaluation details."}),i.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},Gue=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,s]=g.useState(null),[o,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(null);g.useEffect(()=>{m()},[]);const m=async()=>{try{const x=await js.getActive();if(t(x),x){let v={},y=!1;if(x.input_schema&&x.input_schema.length>0&&(x.input_schema.forEach(w=>{v[w.name]=0}),y=!0,f(`Schema loaded from artifacts (${x.input_schema.length} features)`)),x.job_id)try{const w=await Tt.getJob(x.job_id);if(w.dataset_id){const b=await an.getSample(w.dataset_id,1);if(b.length>0){const j=b[0];if(y)Object.keys(v).forEach(k=>{k in j&&(v[k]=j[k])});else{const k=w.target_column,N=w.dropped_columns||[],_={...j};typeof k=="string"&&k in _&&Reflect.deleteProperty(_,k),N.forEach(C=>{typeof C=="string"&&C in _&&Reflect.deleteProperty(_,C)}),v=_;const S=[];k&&S.push(`Target: ${k}`),N.length>0&&S.push(`Dropped: ${N.length} cols`),S.length>0&&f(`Auto-filtered from dataset: ${S.join(", ")}`)}}}}catch(w){console.warn("Failed to fetch dataset sample",w)}Object.keys(v).length>0&&n(JSON.stringify([v],null,2))}}catch{t(null)}},h=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await js.deactivate(),t(null),s(null)}catch(x){console.error("Failed to deactivate",x)}},p=async()=>{l(!0),u(null),s(null);try{const x=JSON.parse(r);if(!Array.isArray(x))throw new Error("Input must be a JSON array of objects");const v=await js.predict(x);s(v.predictions)}catch(x){u(x.message||"Prediction failed")}finally{l(!1)}};return i.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),i.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),i.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:x=>{n(x.target.value)},placeholder:'[{"col1": 1, "col2": "A"}]'}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx("button",{onClick:()=>{p()},disabled:!e||o,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||o?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:o?"Running...":i.jsxs(i.Fragment,{children:[i.jsx(Us,{className:"w-4 h-4"})," Run Prediction"]})})})]}),i.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(bm,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&i.jsxs("button",{onClick:()=>{h()},className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[i.jsx(Uy,{className:"w-3 h-3"}),"Undeploy"]})]}),e?i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),i.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),i.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200 break-all",children:e.job_id})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),i.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[i.jsx(Jn,{className:"w-4 h-4"})," Active"]})]})]}):i.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[i.jsx(Sr,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),i.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?i.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[i.jsx(Sr,{className:"w-5 h-5 shrink-0 mt-0.5"}),i.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?i.jsx("div",{className:"space-y-2",children:a.map((x,v)=>i.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[i.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",v+1]}),i.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof x=="object"?JSON.stringify(x):String(x)})]},v))}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Xue=()=>{const{activeView:e,isPropertiesPanelExpanded:t}=Pl();return i.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[i.jsx(KK,{}),i.jsx(WK,{}),e==="canvas"?i.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[i.jsx(OK,{}),i.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[!t&&i.jsx(HK,{}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(zK,{}),i.jsx(VK,{})]})]}),i.jsx(FK,{})]}):e==="experiments"?i.jsx(Yue,{}):i.jsx(Gue,{})]})},Que=()=>{const e=xe(s=>s.addNode),t=xe(s=>s.nodes),[r,n]=BP(),a=g.useRef(!1);return g.useEffect(()=>{const s=r.get("source_id");if(s){if(a.current)return;if(t.some(c=>{var u;return c.type==="dataset_node"&&((u=c.data)==null?void 0:u.datasetId)===s})){const c=new URLSearchParams(r);c.delete("source_id"),n(c,{replace:!0});return}a.current=!0,e("dataset_node",{x:100,y:100},{datasetId:s});const l=new URLSearchParams(r);l.delete("source_id"),n(l,{replace:!0})}},[r,e,t,n]),i.jsx(Xue,{})},Zue=()=>{const e=Vh(),[t,r]=g.useState(null),[n,a]=g.useState([]),[s,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,p]=g.useState(null),[x,v]=g.useState(null),[y,w]=g.useState(!1),[b,j]=g.useState(0),[k,N]=g.useState(!0),_=10,[S,C]=g.useState(""),[T,E]=g.useState(""),[O,M]=g.useState(()=>{try{const B=localStorage.getItem("skyulf_manual_deployments");return B?JSON.parse(B):{}}catch{return{}}}),A=B=>{M(Y=>{const X={...Y,[B]:!Y[B]};return localStorage.setItem("skyulf_manual_deployments",JSON.stringify(X)),X})},L=async B=>{p(B),w(!0),v(null);try{const Y=await fetch(`/api/registry/artifacts/${B}`);if(Y.ok){const X=await Y.json();v(X)}else{const X=await Y.json();v({storage_type:"error",base_uri:"",files:[`Failed to load artifacts: ${X.detail||"Unknown error"}`]})}}catch{v({storage_type:"error",base_uri:"",files:["Error loading artifacts"]})}finally{w(!1)}},D=async()=>{try{const B=await fetch("/api/registry/stats");if(B.ok){const Y=await B.json();r(Y)}}catch(B){console.error("Failed to fetch stats",B)}},R=async(B,Y=!1)=>{if(!s)try{o(!0);const X=B*_,Q=new URLSearchParams({skip:X.toString(),limit:_.toString()}),G=await fetch(`/api/registry/models?${Q.toString()}`);if(!G.ok)throw new Error("Failed to fetch models");const Z=await G.json();return Z.length<_?N(!1):N(!0),a(U=>Y?Z:[...U,...Z]),Z}catch(X){return c(X.message),null}finally{o(!1)}};g.useEffect(()=>{D(),R(0,!0)},[]),g.useEffect(()=>{const B=X=>{const Q=X.target;Q.scrollTop+Q.clientHeight>=Q.scrollHeight-100&&!s&&k&&j(G=>G+1)},Y=document.querySelector("main");return Y?(Y.addEventListener("scroll",B),()=>{Y.removeEventListener("scroll",B)}):(window.addEventListener("scroll",B),()=>{window.removeEventListener("scroll",B)})},[s,k]),g.useEffect(()=>{b>0&&R(b,!1)},[b]);const I=async B=>{if(confirm("Are you sure you want to deploy this model version? This will replace the currently active deployment."))try{m(B);const Y=await fetch(`/api/deployment/deploy/${B}`,{method:"POST"});if(!Y.ok){const Q=await Y.json();throw new Error(Q.detail||"Deployment failed")}j(0);const X=await R(0,!0);if(u&&X){const Q=X.find(G=>G.model_type===u.model_type&&G.dataset_id===u.dataset_id);Q&&d(Q)}confirm("Model deployed successfully! Do you want to go to the inference page?")&&e("/deployments")}catch(Y){alert(`Error deploying model: ${Y.message}`)}finally{m(null)}},P=B=>{switch(B.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-300"}},$=B=>{const Y=B.score||B.accuracy||B.f1_score||B.rmse||B.mse;if(Y!==void 0)return typeof Y=="number"?Y.toFixed(4):String(Y);const X=Object.keys(B);if(X.length>0){const Q=B[X[0]];return`${X[0]}: ${typeof Q=="number"?Q.toFixed(4):Q}`}return"-"},F=B=>B.toLowerCase()==="tuning"?"Advanced Training":B.toLowerCase()==="training"?"Standard Training":B.charAt(0).toUpperCase()+B.slice(1),H=n.filter(B=>{const Y=(B.dataset_name||"").toLowerCase().includes(S.toLowerCase())||(B.dataset_id||"").toLowerCase().includes(S.toLowerCase()),X=B.model_type.toLowerCase().includes(T.toLowerCase());return Y&&X});return s&&!t&&n.length===0?i.jsxs("div",{className:"p-8 flex justify-center items-center h-full text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading registry..."]}):l?i.jsxs("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:["Error: ",l]}):i.jsxs("div",{className:"p-8 min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[i.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Model Registry"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage versions, track metrics, and deploy your best models."})]}),i.jsx("button",{onClick:()=>{j(0),R(0,!0),D()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:"Refresh"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx(P0,{title:"Total Versions",value:(t==null?void 0:t.total_versions)||0,icon:i.jsx(bm,{className:"text-blue-500"})}),i.jsx(P0,{title:"Active Deployments",value:(t==null?void 0:t.active_deployments)||0,icon:i.jsx(Jue,{className:"text-green-500"}),valueColor:"text-green-600 dark:text-green-400"}),i.jsx(P0,{title:"Model Types",value:n.length,icon:i.jsx(By,{className:"text-purple-500"}),valueColor:"text-purple-600 dark:text-purple-400"})]}),i.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Model Type"}),i.jsx("input",{type:"text",placeholder:"e.g. RandomForest",value:T,onChange:B=>{E(B.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Dataset"}),i.jsx("input",{type:"text",placeholder:"e.g. Iris Dataset",value:S,onChange:B=>{C(B.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[i.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(By,{size:20,className:"text-slate-400"}),"Registered Models"]}),i.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",H.length," of ",n.length," models"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Dataset"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Latest Version"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Source"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Deployments"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:H.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx(bm,{size:48,className:"mb-4 opacity-20"}),i.jsx("p",{children:"No models found matching your filters."})]})})}):H.map(B=>{const Y=B.latest_version;if(!Y)return null;const X=`${B.model_type}-${B.dataset_id}`,Q=B.deployment_count>0,G=O[X]||!1,Z=Q||G;return i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:B.model_type}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:i.jsx("div",{className:"flex flex-col",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:B.dataset_name}),B.dataset_type&&i.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-600 uppercase",children:B.dataset_type})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:i.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:["v",Y.version]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:F(Y.source)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(Y.created_at).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${P(Y.status)}`,children:Y.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsxs("div",{className:"flex items-center gap-2",onClick:U=>{U.stopPropagation()},children:[i.jsx("input",{type:"checkbox",checked:Z,onChange:()=>{A(X)},disabled:Q,className:`w-4 h-4 rounded border-gray-300 focus:ring-green-500 ${Q?"text-green-600 opacity-50 cursor-not-allowed":"text-blue-600 cursor-pointer"}`}),Z?i.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs",children:[i.jsx(Jn,{size:12})," ",Q?"Active":"Manual"]}):i.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-xs",children:"None"})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("button",{onClick:()=>{d(B)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 flex items-center justify-end gap-1 ml-auto",children:["View Versions ",i.jsx(Zn,{size:16})]})})]},X)})})]})})]}),s&&n.length>0&&i.jsxs("div",{className:"py-4 flex justify-center text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading more models..."]}),u&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{d(null)},children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:B=>{B.stopPropagation()},children:[i.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:u.model_type}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Version History"})]}),i.jsx("button",{onClick:()=>{d(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:i.jsx(Zt,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Version"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Date"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Metrics"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),i.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:u.versions.map(B=>i.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${B.is_deployed?"bg-green-50/50 dark:bg-green-900/10":""}`,children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-mono",children:["v",B.version]}),B.is_deployed&&i.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-1.5 py-0.5 rounded border border-green-200 dark:border-green-800",children:"Deployed"})]})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(B.created_at).toLocaleString()}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-mono",children:$(B.metrics)}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${P(B.status)}`,children:B.status})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>{L(B.job_id)},className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:"View Artifacts",children:i.jsx(wk,{size:16})}),B.status==="completed"&&!B.is_deployed&&i.jsxs("button",{onClick:()=>{I(B.job_id)},disabled:f===B.job_id,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 disabled:opacity-50 flex items-center gap-1",children:[f===B.job_id?i.jsx("span",{className:"animate-spin h-3 w-3 border-b-2 border-current rounded-full"}):i.jsx(Us,{size:14}),"Deploy"]}),B.is_deployed&&i.jsxs("span",{className:"text-green-600 dark:text-green-400 text-xs flex items-center gap-1",children:[i.jsx(Jn,{size:14})," Active"]})]})})]},B.job_id))})]})}),i.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:i.jsx("button",{onClick:()=>{d(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})}),h&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{p(null)},children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:B=>{B.stopPropagation()},children:[i.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(wk,{size:20,className:"text-blue-500"}),"Artifacts"]}),i.jsx("button",{onClick:()=>{p(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:i.jsx(Zt,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:y?i.jsxs("div",{className:"flex justify-center py-8 text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading artifacts..."]}):!x||x.files.length===0?i.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No artifacts found."}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[x.storage_type==="s3"?i.jsx(VP,{size:20,className:"text-blue-600 dark:text-blue-400 flex-shrink-0"}):i.jsx(Q6,{size:20,className:"text-slate-600 dark:text-slate-400 flex-shrink-0"}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-700 dark:text-blue-300",children:x.storage_type==="s3"?"S3 Bucket Storage":"Local Storage"}),i.jsx("span",{className:"text-xs font-mono text-slate-600 dark:text-slate-400 truncate",title:x.base_uri,children:x.base_uri})]})]}),i.jsx("ul",{className:"space-y-2",children:x.files.map((B,Y)=>i.jsxs("li",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-700/30 border border-slate-100 dark:border-slate-700",children:[i.jsx(Yh,{size:18,className:"text-slate-400"}),i.jsx("span",{className:"text-sm font-mono text-slate-700 dark:text-slate-300 break-all",children:B})]},Y))})]})}),i.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:i.jsx("button",{onClick:()=>{p(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})]})},P0=({title:e,value:t,icon:r,valueColor:n="text-slate-900 dark:text-white"})=>i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),i.jsx("div",{className:`mt-2 text-3xl font-bold ${n}`,children:t})]}),i.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:r})]}),Jue=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),i.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),i.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),i.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),ede=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,s]=g.useState(!1),[o,l]=g.useState(null),c=async()=>{s(!0),l(null);try{const[f,m]=await Promise.all([js.getActive(),js.getHistory(50,0)]);t(f),n(m)}catch(f){console.error("Failed to load deployments",f),l("Failed to load deployment data.")}finally{s(!1)}};g.useEffect(()=>{c()},[]);const u=async()=>{if(confirm("Are you sure you want to deactivate the current deployment?"))try{await js.deactivate(),await c()}catch(f){console.error("Failed to deactivate",f),alert("Failed to deactivate deployment.")}},d=async f=>{if(confirm(`Are you sure you want to redeploy job ${f}?`))try{await js.deployModel(f),await c()}catch(m){console.error("Failed to redeploy",m),alert("Failed to redeploy model.")}};return i.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Model Deployments"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage active models and view deployment history"})]}),i.jsx("button",{onClick:()=>{c()},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:i.jsx(En,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[o&&i.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[i.jsx(Sr,{className:"w-5 h-5"}),o]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(Gh,{className:"w-5 h-5 text-green-500"}),"Active Deployment"]}),e?i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-green-200 dark:border-green-900 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:i.jsx(bm,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.model_type}),i.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[i.jsx(Jn,{className:"w-3 h-3"})," Active"]})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Job ID: ",e.job_id]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deployed: ",new Date(e.created_at).toLocaleString()]})]})]}),i.jsxs("button",{onClick:()=>{u()},className:"flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[i.jsx(Uy,{className:"w-4 h-4"}),"Deactivate"]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-xs font-mono text-gray-500 dark:text-gray-400 break-all",children:["Artifact URI: ",e.artifact_uri]})]}):i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:i.jsx(Uy,{className:"w-6 h-6 text-gray-400"})}),i.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"No Active Model"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Deploy a model from the Experiments page to see it here."})]})]}),i.jsxs("section",{children:[i.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(qh,{className:"w-5 h-5 text-blue-500"}),"Deployment History"]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Status"}),i.jsx("th",{className:"px-6 py-3",children:"Model Type"}),i.jsx("th",{className:"px-6 py-3",children:"Job ID"}),i.jsx("th",{className:"px-6 py-3",children:"Deployed At"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No deployment history found."})}):r.map(f=>i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:f.is_active?i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Active"]}):i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"Inactive"]})}),i.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:f.model_type}),i.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:[f.job_id.slice(0,8),"..."]}),i.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(f.created_at).toLocaleString()}),i.jsx("td",{className:"px-6 py-4 text-right",children:!f.is_active&&i.jsx("button",{onClick:()=>{d(f.job_id)},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Redeploy"})})]},f.id))})]})})})]})]})]})},xf="/api/eda",vf={analyze:async(e,t)=>(await Ue.post(`${xf}/${e}/analyze`,{target_col:t})).data,getLatestReport:async e=>(await Ue.get(`${xf}/${e}/latest`)).data,getReport:async e=>(await Ue.get(`${xf}/reports/${e}`)).data,getHistory:async e=>(await Ue.get(`${xf}/${e}/history`)).data},tde=({profile:e,onClick:t})=>{const r=()=>{switch(e.dtype){case"Numeric":return i.jsx(qP,{className:"w-4 h-4 text-blue-500"});case"Categorical":return i.jsx(D6,{className:"w-4 h-4 text-purple-500"});case"DateTime":return i.jsx(wm,{className:"w-4 h-4 text-green-500"});default:return i.jsx(gF,{className:"w-4 h-4 text-gray-500"})}},n=e.histogram?e.histogram.map(a=>({name:a.start.toFixed(1),count:a.count})):[];return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:t,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[r(),i.jsx("h3",{className:"font-medium text-sm truncate max-w-[120px]",title:e.name,children:e.name})]}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.dtype})]}),i.jsxs("div",{className:"flex justify-between items-end mt-2",children:[i.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.missing_percentage>0&&i.jsxs("div",{className:"flex items-center text-amber-600",children:[i.jsx(Xh,{className:"w-3 h-3 mr-1"}),e.missing_percentage.toFixed(1),"% null"]}),e.is_unique&&i.jsx("div",{className:"text-blue-500",children:"Unique ID"}),e.is_constant&&i.jsx("div",{className:"text-red-500",children:"Constant"}),!e.is_unique&&!e.is_constant&&e.missing_percentage===0&&i.jsx("div",{className:"text-green-600",children:"Healthy"})]}),e.dtype==="Numeric"&&n.length>0&&i.jsx("div",{className:"h-12 w-24",children:i.jsx(wo,{width:"100%",height:"100%",children:i.jsx($1,{data:n,children:i.jsx(mg,{dataKey:"count",fill:"#3b82f6",radius:[2,2,0,0]})})})})]})]})},rde=({data:e})=>{if(!e||!e.columns)return i.jsx("div",{children:"No correlation data available"});const t=20,r=e.columns.slice(0,t),n=e.values.slice(0,t).map(o=>o.slice(0,t)),a=e.columns.length>t,s=o=>{if(o===null)return"rgba(243, 244, 246, 1)";const l=Math.abs(o);return o>0?`rgba(239, 68, 68, ${l})`:`rgba(59, 130, 246, ${l})`};return i.jsxs("div",{className:"overflow-x-auto p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a&&i.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 text-sm rounded-md",children:["Showing top ",t," columns. Full heatmap is too large to render."]}),i.jsx("div",{className:"inline-block min-w-full",children:i.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`100px repeat(${r.length}, minmax(50px, 1fr))`},children:[i.jsx("div",{className:"p-2"}),r.map((o,l)=>i.jsx("div",{className:"p-2 text-xs font-medium truncate text-center",title:o,children:o.length>8?o.substring(0,8)+"...":o},l)),r.map((o,l)=>i.jsxs(Ir.Fragment,{children:[i.jsx("div",{className:"p-2 text-xs font-medium truncate text-right pr-4",title:o,children:o}),n[l].map((c,u)=>i.jsx("div",{className:"h-10 w-full flex items-center justify-center text-[10px] text-gray-900 dark:text-gray-100 rounded-sm cursor-help",style:{backgroundColor:s(c)},title:`${o} vs ${r[u]}: ${c.toFixed(3)}`,children:Math.abs(c)>.3?c.toFixed(1):""},u))]},l))]})})]})},nde=()=>{const[e]=BP(),[t,r]=g.useState([]),[n,a]=g.useState(()=>{const E=e.get("dataset_id");return E?Number(E):null}),[s,o]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(null),[h,p]=g.useState("variables"),[x,v]=g.useState(!1),[y,w]=g.useState(""),[b,j]=g.useState([]);g.useEffect(()=>{k()},[]),g.useEffect(()=>{n?(o(null),_(n),N(n)):(o(null),j([]))},[n]),g.useEffect(()=>{let E;return s&&s.status==="PENDING"&&(E=setInterval(()=>{n&&(_(n,!0),N(n))},3e3)),()=>clearInterval(E)},[s,n]);const k=async()=>{try{const E=await an.getUsable();r(E),E.length>0&&!n&&a(Number(E[0].id))}catch(E){console.error("Failed to load datasets",E)}},N=async E=>{try{const O=await vf.getHistory(E);j(O)}catch(O){console.error("Failed to load history",O)}},_=async(E,O=!1)=>{O||c(!0),m(null);try{const M=await vf.getLatestReport(E);o(M)}catch(M){M.response&&M.response.status===404?o(null):O||m("Failed to load report")}finally{O||c(!1)}},S=async E=>{c(!0);try{const O=await vf.getReport(E);o(O)}catch{m("Failed to load report")}finally{c(!1)}},C=async()=>{if(n){d(!0);try{await vf.analyze(n,y||void 0),_(n),N(n)}catch{m("Failed to start analysis")}finally{d(!1)}}};g.useEffect(()=>{s&&s.profile_data&&s.profile_data.target_col&&(w(s.profile_data.target_col),p("target"))},[s]);const T=()=>{var O;if(l&&!s)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(ar,{className:"w-8 h-8 animate-spin text-blue-500"})});if(f)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500",children:[i.jsx(Sr,{className:"w-16 h-16 mb-4"}),i.jsx("p",{children:"Error"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:f}),i.jsxs("button",{onClick:()=>n&&_(n),className:"mt-4 flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[i.jsx(En,{className:"w-4 h-4 mr-2"}),"Retry"]})]});if(!s)return i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[i.jsx(Qc,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{className:"mb-4",children:"No analysis found for this dataset."}),i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-64",children:i.jsx("input",{type:"text",value:y,onChange:M=>w(M.target.value),placeholder:"Target Column (Optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),i.jsxs("button",{onClick:C,disabled:u,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[u?i.jsx(ar,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Us,{className:"w-4 h-4 mr-2"}),"Run Analysis"]})]})]});if(s.status==="PENDING")return i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[i.jsx(ar,{className:"w-16 h-16 mb-4 animate-spin text-blue-500"}),i.jsx("p",{children:"Analysis in progress..."}),i.jsx("p",{className:"text-sm text-gray-400",children:"This may take a few moments."})]});if(s.status==="FAILED")return i.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500",children:[i.jsx(Sr,{className:"w-16 h-16 mb-4"}),i.jsx("p",{children:"Analysis Failed"}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s.error_message}),i.jsxs("button",{onClick:C,className:"mt-4 flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[i.jsx(En,{className:"w-4 h-4 mr-2"}),"Retry"]})]});const E=s.profile_data;return E?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Target Column"}),i.jsxs("select",{value:y||E.target_col||"",onChange:M=>w(M.target.value),className:"block w-48 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[i.jsx("option",{value:"",children:"None"}),E.columns&&Object.keys(E.columns).map(M=>i.jsx("option",{value:M,children:M},M))]})]}),i.jsxs("button",{onClick:C,disabled:u,className:"mt-5 flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 text-sm",children:[u?i.jsx(ar,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(En,{className:"w-4 h-4 mr-2"}),"Update"]})]}),i.jsx("div",{className:"text-sm text-gray-500",children:s.created_at&&i.jsxs("span",{children:["Analyzed: ",new Date(s.created_at).toLocaleString()]})})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Rows"}),i.jsx("div",{className:"text-2xl font-bold",children:E.row_count.toLocaleString()})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Columns"}),i.jsx("div",{className:"text-2xl font-bold",children:E.column_count})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Missing Cells"}),i.jsxs("div",{className:"text-2xl font-bold",children:[E.missing_cells_percentage.toFixed(1),"%"]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"Duplicates"}),i.jsx("div",{className:"text-2xl font-bold",children:E.duplicate_rows})]})]}),E.alerts&&E.alerts.length>0&&i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-medium text-amber-800 dark:text-amber-200 flex items-center",children:[i.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Data Quality Alerts (",E.alerts.length,")"]}),E.alerts.length>5&&i.jsx("button",{onClick:()=>v(!x),className:"text-xs text-amber-700 hover:text-amber-900 underline",children:x?"Show Less":"Show All"})]}),i.jsx("ul",{className:"space-y-1",children:(x?E.alerts:E.alerts.slice(0,5)).map((M,A)=>i.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300 flex items-start",children:[i.jsx("span",{className:"mr-2",children:""}),i.jsxs("span",{children:[M.column&&i.jsxs("span",{className:"font-semibold",children:[M.column,": "]}),M.message]})]},A))}),!x&&E.alerts.length>5&&i.jsxs("div",{className:"text-xs text-amber-600 mt-2 italic",children:["+ ",E.alerts.length-5," more alerts..."]})]}),i.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:i.jsxs("nav",{className:"-mb-px flex space-x-8",children:[i.jsx("button",{onClick:()=>p("variables"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="variables"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Variables"}),i.jsx("button",{onClick:()=>p("correlations"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="correlations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Correlations"}),E.target_col&&i.jsx("button",{onClick:()=>p("target"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="target"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Target Analysis"}),i.jsx("button",{onClick:()=>p("sample"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="sample"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sample Data"})]})}),h==="target"&&E.target_col&&E.target_correlations&&i.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[i.jsx(Qc,{className:"w-5 h-5 mr-2 text-blue-500"}),"Target Analysis: ",i.jsx("span",{className:"ml-2 text-blue-600",children:E.target_col})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Top Associated Features"}),i.jsx("div",{className:"h-64 w-full",children:i.jsx(wo,{width:"100%",height:"100%",children:i.jsxs($1,{data:Object.entries(E.target_correlations).slice(0,10).map(([M,A])=>({name:M,value:A})),layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},children:[i.jsx(ko,{strokeDasharray:"3 3",horizontal:!1}),i.jsx(No,{type:"number",domain:[0,1]}),i.jsx(So,{type:"category",dataKey:"name",width:120,tick:{fontSize:12}}),i.jsx(xc,{contentStyle:{backgroundColor:"#1f2937",border:"none",color:"#fff"},itemStyle:{color:"#fff"},formatter:M=>[M.toFixed(3),"Association"]}),i.jsx(O1,{x:0,stroke:"#9ca3af"}),i.jsx(mg,{dataKey:"value",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Key Insights"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"mr-2 text-blue-500",children:""}),i.jsxs("span",{children:["Target is ",i.jsx("strong",{children:(O=E.columns[E.target_col])==null?void 0:O.dtype})]})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"mr-2 text-blue-500",children:""}),i.jsxs("span",{children:["Strongest predictor: ",i.jsx("strong",{children:Object.keys(E.target_correlations)[0]}),"(",Object.values(E.target_correlations)[0].toFixed(2),")"]})]})]})]})]})]}),i.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm h-fit",children:[i.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(qh,{className:"w-4 h-4 mr-2"}),"Analysis History"]}),l&&i.jsx(ar,{className:"w-3 h-3 animate-spin text-blue-500"})]}),i.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:b.length===0?i.jsx("p",{className:"text-xs text-gray-500 italic",children:"No previous analyses found."}):b.map(M=>i.jsxs("button",{onClick:()=>!l&&S(M.id),disabled:l,className:`w-full text-left p-3 rounded-md text-sm border transition-colors ${s&&s.id===M.id?"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300":"bg-gray-50 border-gray-100 text-gray-600 hover:bg-gray-100 dark:bg-gray-900 dark:border-gray-800 dark:text-gray-400 dark:hover:bg-gray-800"} ${l?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("div",{className:"font-medium truncate",children:M.target_col?`Target: ${M.target_col}`:"General Analysis"}),i.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(M.created_at).toLocaleString()}),i.jsx("div",{className:`text-xs mt-1 inline-block px-1.5 py-0.5 rounded ${M.status==="COMPLETED"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":M.status==="FAILED"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:M.status})]},M.id))})]})]}),h==="variables"&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.values(E.columns).map(M=>i.jsx(tde,{profile:M,onClick:()=>console.log("Clicked",M.name)},M.name))}),h==="correlations"&&E.correlations&&i.jsx("div",{className:"mt-4",children:i.jsx(rde,{data:E.correlations})}),h==="sample"&&E.sample_data&&i.jsx("div",{className:"mt-4 overflow-x-auto bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:i.jsx("tr",{children:Object.keys(E.sample_data[0]||{}).map(M=>i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:M},M))})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.sample_data.map((M,A)=>i.jsx("tr",{children:Object.values(M).map((L,D)=>i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:L!==null?String(L):i.jsx("span",{className:"italic text-gray-400",children:"null"})},D))},A))})]})})]}):i.jsx("div",{children:"No profile data"})};return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Exploratory Data Analysis"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("select",{value:n||"",onChange:E=>a(Number(E.target.value)),className:"block w-64 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",children:[i.jsx("option",{value:"",disabled:!0,children:"Select a dataset"}),t.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]}),i.jsx("button",{onClick:()=>n&&C(),disabled:!n||u,className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-100",title:"Refresh Analysis",children:i.jsx(En,{className:`w-5 h-5 ${u?"animate-spin":""}`})})]})]}),T()]})};function ade(){return i.jsx(j6,{children:i.jsx(Zz,{children:i.jsxs(ns,{path:"/",element:i.jsx(vF,{}),children:[i.jsx(ns,{index:!0,element:i.jsx(e7,{})}),i.jsx(ns,{path:"data",element:i.jsx(a7,{})}),i.jsx(ns,{path:"eda",element:i.jsx(nde,{})}),i.jsx(ns,{path:"canvas",element:i.jsx(Que,{})}),i.jsx(ns,{path:"registry",element:i.jsx(Zue,{})}),i.jsx(ns,{path:"deployments",element:i.jsx(ede,{})})]})})})}const di=e=>e&&typeof e=="object"?e:null,sde=e=>{const t=di(e),r=t==null?void 0:t.sample;if(!t||!Array.isArray(r)||r.length===0)return i.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No data available"});const n=di(r[0])??{},a=Object.keys(n).slice(0,5),s=typeof t.name=="string"?t.name:"Dataset",o=Array.isArray(t.shape)?t.shape:null,l=o&&o.length>0?o[0]:void 0,c=o&&o.length>1?o[1]:void 0;return i.jsxs("div",{className:"overflow-x-auto rounded border border-border",children:[i.jsxs("div",{className:"text-xs font-semibold mb-1 flex justify-between p-2 bg-muted/50 border-b border-border",children:[i.jsx("span",{children:s}),i.jsxs("span",{className:"text-muted-foreground",children:[l??"?"," rows x ",c??"?"," cols"]})]}),i.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[i.jsx("thead",{children:i.jsx("tr",{className:"bg-muted/30",children:a.map(u=>i.jsx("th",{className:"p-2 border-b border-r border-border text-left font-medium text-muted-foreground last:border-r-0",children:u},u))})}),i.jsx("tbody",{children:r.slice(0,5).map((u,d)=>i.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/20",children:a.map(f=>{var m;return i.jsx("td",{className:"p-2 border-r border-border truncate max-w-[80px] last:border-r-0",children:String(((m=di(u))==null?void 0:m[f])??"")},f)})},d))})]})]})},ide=({config:e,onChange:t,nodeId:r})=>{var y;const{nodes:n,edges:a}=xe(),[s,o]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState("train");g.useEffect(()=>{const w=e.lastRunJobId;if(!w)return;const b=async()=>{try{const k=await Tt.getJob(w);c(k),k.status!=="completed"&&k.status}catch(k){console.error("Failed to fetch job",k)}};b();const j=setInterval(()=>{b()},2e3);return()=>{clearInterval(j)}},[e.lastRunJobId]);const f=async()=>{if(r){o(!0);try{const w=hp(n,a),b=await Tt.runPipeline({...w,target_node_id:r,job_type:"preview"});t({...e,lastRunJobId:b.job_id})}catch(w){console.error("Failed to run preview:",w),alert("Failed to start preview job.")}finally{o(!1)}}},m=((y=l==null?void 0:l.result)==null?void 0:y.metrics)??(l==null?void 0:l.result),h=di(m),p=h?di(h.data_summary):null,x=h==null?void 0:h.operation_mode,v=typeof x=="string"?x:void 0;return i.jsxs("div",{className:"p-4 space-y-4 h-full overflow-y-auto",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Connect this node to any data output to inspect the data state, schema, and applied transformations."}),i.jsxs("button",{onClick:()=>{f()},disabled:s,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-[#38bdf8] via-[#6366f1] to-[#a855f7] text-white px-3 py-1.5 rounded-md hover:opacity-90 disabled:opacity-50 transition-all text-xs font-medium shadow-md",children:[s?i.jsx(Cr,{size:14,className:"animate-spin"}):i.jsx(Us,{size:14}),s?"Running...":"Run Preview"]}),e.lastRunJobId&&l&&l.status!=="completed"&&i.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 p-2 bg-muted/30 rounded border border-border",children:[i.jsx("span",{children:"Status:"}),i.jsx("span",{className:`ml-auto font-medium px-1.5 py-0.5 rounded text-[10px] ${l.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:l.status})]}),(l==null?void 0:l.status)==="completed"&&m&&i.jsxs("div",{className:"space-y-4 border-t border-border pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"text-[10px] bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 p-2 rounded border border-blue-100 dark:border-blue-900/50",children:[i.jsx("strong",{className:"block mb-0.5",children:"Operation Mode"}),v||"Unknown"]}),p&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex border-b border-border",children:["train","test","validation"].map(w=>p[w]?i.jsx("button",{className:`text-[10px] px-3 py-1.5 border-b-2 transition-colors ${u===w?"border-primary font-medium text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{d(w)},children:w.charAt(0).toUpperCase()+w.slice(1)},w):null)}),p[u]?sde(p[u]):i.jsxs("div",{className:"text-xs text-muted-foreground p-4 text-center border border-dashed border-border rounded",children:["No ",u," data available"]})]}),Array.isArray(h==null?void 0:h.applied_transformations)&&h.applied_transformations.length>0&&i.jsxs("div",{className:"pt-2 border-t border-border",children:[i.jsx("div",{className:"text-[10px] font-semibold mb-2 text-foreground",children:"Applied Steps"}),i.jsx("div",{className:"space-y-1.5",children:h.applied_transformations.map((w,b)=>{var j,k;return i.jsxs("div",{className:"text-[10px] flex items-center gap-2 text-muted-foreground p-1.5 bg-muted/30 rounded border border-border",children:[i.jsx("span",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center text-[8px] font-medium text-foreground",children:b+1}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium text-foreground",children:String(((j=di(w))==null?void 0:j.transformer_name)??"")}),i.jsx("span",{className:"text-[9px] opacity-80",children:String(((k=di(w))==null?void 0:k.transformer_type)??"")})]})]},b)})})]})]})]})},ode=({data:e})=>{const[t,r]=g.useState(null);return g.useEffect(()=>{const n=e.lastRunJobId;if(!n)return;const a=async()=>{try{const o=await Tt.getJob(n);r(o.status)}catch{r("error")}};a();const s=setInterval(()=>{a()},5e3);return()=>{clearInterval(s)}},[e.lastRunJobId]),i.jsx("div",{className:"text-xs flex items-center gap-2",children:e.lastRunJobId?t==="completed"?i.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[i.jsx(Jn,{size:12})," Ready"]}):t==="failed"?i.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium flex items-center gap-1",children:[i.jsx(Sr,{size:12})," Failed"]}):i.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1",children:[i.jsx(Cr,{size:12,className:"animate-spin"})," Running"]}):i.jsx("span",{className:"text-muted-foreground italic",children:"Not run yet"})})},lde={type:"data_preview",label:"Data Preview",category:"Evaluation",description:"Inspect data state and transformations at this point.",icon:ZP,inputs:[{id:"in",label:"Input Data",type:"any"}],outputs:[],component:ode,settings:ide,validate:()=>({isValid:!0}),getDefaultConfig:()=>({})},Xe=e=>nz({queryKey:["dataset-schema",e],queryFn:()=>Q8(e),enabled:!!e,staleTime:1e3*60*5}),cde=({config:e,onChange:t})=>{const[r,n]=g.useState([]),[a,s]=g.useState(!1),[o,l]=g.useState(!1),{data:c,isLoading:u}=Xe(e.datasetId),d=()=>{s(!0),an.getUsable().then(n).catch(console.error).finally(()=>{s(!1)})};g.useEffect(()=>{d()},[]);const f=h=>{const p=h.target.value,x=r.find(v=>String(v.id)===p);t({...e,datasetId:p,datasetName:x==null?void 0:x.name})},m=(h,p)=>{l(!1),d(),t({...e,datasetId:h,datasetName:p})};return o?i.jsx(kO,{onUploadComplete:m,onCancel:()=>{l(!1)}}):i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),i.jsxs("button",{onClick:()=>{l(!0)},className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[i.jsx(qi,{size:14}),"New Upload"]})]}),a?i.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):i.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:f,children:[i.jsx("option",{value:"",children:"-- Select --"}),r.map(h=>i.jsx("option",{value:h.id,children:h.name},h.id))]})]}),e.datasetId&&i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[i.jsx(hF,{size:14}),i.jsx("span",{children:"Dataset Schema"})]}),u?i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-auto",children:i.jsxs("table",{className:"w-full text-xs text-left min-w-max",children:[i.jsx("thead",{className:"bg-muted/20 sticky top-0 z-10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Column"}),i.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Type"}),i.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Missing"}),i.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Unique"}),i.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Min"}),i.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Max"}),i.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Mean"})]})}),i.jsx("tbody",{children:Object.values(c.columns).map(h=>i.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[i.jsx("td",{className:"p-2 font-mono font-medium whitespace-nowrap",children:h.name}),i.jsx("td",{className:"p-2 text-muted-foreground whitespace-nowrap",children:h.dtype}),i.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.missing_count}),i.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.unique_count}),i.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.min_value!==void 0?Number(h.min_value).toFixed(2):"-"}),i.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.max_value!==void 0?Number(h.max_value).toFixed(2):"-"}),i.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.mean_value!==void 0?Number(h.mean_value).toFixed(2):"-"})]},h.name))})]})}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):i.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},ude=({data:e})=>{const[t,r]=g.useState(void 0);g.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&an.getById(e.datasetId).then(a=>{r(a.name)}).catch(()=>{r(e.datasetId)})},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return i.jsx("div",{className:"text-xs",children:e.datasetId?i.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):i.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},dde={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:ea,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:cde,component:ude,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},V5=(e,t,r,n=new Set)=>{var s;if(n.has(e.id))return;if(n.add(e.id),(s=e.data)!=null&&s.datasetId)return e.data.datasetId;const a=Yi(e,t,r);for(const o of a){const l=V5(o,t,r,n);if(l)return l}},it=e=>{const t=xe(s=>s.nodes),r=xe(s=>s.edges),n=t.find(s=>s.id===e);return n?Yi(n,t,r).map(s=>{const o=V5(s,t,r);return o&&!s.data.datasetId?{...s.data,datasetId:o}:s.data}):[]},Fl=(e,t={})=>{var s;const n=(s=it(e).find(o=>o.datasetId))==null?void 0:s.datasetId,a=xe(o=>o.executionResult);return g.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(o=>{var l,c;if(t.types||t.suggestedNodeTypes){const u=(l=t.types)==null?void 0:l.includes(o.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(o.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Qi=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:i.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[i.jsx(GP,{className:"w-4 h-4"}),i.jsx("span",{children:"Recommendations"})]}),i.jsx("div",{className:"space-y-2",children:e.map(n=>i.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),i.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&i.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&i.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:i.jsx(Jn,{className:"w-5 h-5"})})]})},n.rule_id))})]}),fde=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=it(r||"").find(N=>N.datasetId))==null?void 0:k.datasetId,{data:s,isLoading:o}=Xe(a),l=s?Object.values(s.columns).map(N=>N.name):[],c=xe(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=g.useRef(null),[m,h]=g.useState(!1);g.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(_=>{for(const S of _)h(S.contentRect.width>450)});return N.observe(f.current),()=>{N.disconnect()}},[]);const p=Fl(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),x=N=>{var _;if((_=N.target_columns)!=null&&_.length){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[v,y]=g.useState(""),w=g.useMemo(()=>l.filter(N=>N.toLowerCase().includes(v.toLowerCase())),[l,v]),b=()=>{t({...e,columns:w})},j=()=>{const N=e.columns.filter(_=>!w.includes(_));t({...e,columns:N})};return i.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[i.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&i.jsx("div",{className:"shrink-0",children:i.jsx(Qi,{recommendations:p,onApply:x})}),i.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),i.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),i.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),i.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:N=>t({...e,missing_threshold:parseInt(N.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&i.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[i.jsx(Cr,{size:14}),i.jsx("span",{children:"Last Run Results"})]}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),i.jsx("span",{className:"font-medium text-destructive",children:String(d.dropped_columns_count)})]}),Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&i.jsxs("div",{className:"pt-1 border-t mt-1",children:[i.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(N=>{const _=String(N);return i.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_)})})]})]})]})]}),i.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${m?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[i.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),i.jsx("div",{className:"relative group",children:i.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:N=>{y(N.target.value)}})}),i.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[i.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),i.jsx("span",{className:"text-border",children:"|"}),i.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?w.length>0?i.jsx("div",{className:"space-y-0.5",children:w.map(N=>i.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[i.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:_=>{const S=_.target.checked?[...e.columns,N]:e.columns.filter(C=>C!==N);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),i.jsx("span",{className:"truncate font-mono text-xs",title:N,children:N})]},N))}):i.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):i.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},mde={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Vs,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:fde,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},hde=({config:e,onChange:t,nodeId:r})=>{var S;const a=(S=it(r||"").find(C=>C.datasetId))==null?void 0:S.datasetId,{data:s,isLoading:o}=Xe(a),l=s?Object.values(s.columns).map(C=>C.name):[],c=xe(C=>C.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=d!=null&&d.fill_values&&typeof d.fill_values=="object"?d.fill_values:null,m=d!=null&&d.missing_counts&&typeof d.missing_counts=="object"?d.missing_counts:null,h=g.useRef(null),[p,x]=g.useState(!1);g.useEffect(()=>{if(!h.current)return;const C=new ResizeObserver(T=>{for(const E of T)x(E.contentRect.width>450)});return C.observe(h.current),()=>{C.disconnect()}},[]);const v=Fl(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),y=C=>{if(C.target_columns.length>0){const T=Array.from(new Set([...e.columns,...C.target_columns]));t({...e,columns:T})}},[w,b]=g.useState(""),j=g.useMemo(()=>l.filter(C=>C.toLowerCase().includes(w.toLowerCase())),[l,w]),k=()=>{t({...e,columns:j})},N=()=>{const C=e.columns.filter(T=>!j.includes(T));t({...e,columns:C})},_=()=>d?i.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[i.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),f&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),i.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(f).map(([C,T])=>i.jsxs("div",{className:"flex justify-between text-[10px]",children:[i.jsxs("span",{className:"truncate max-w-[100px]",title:C,children:[C,":"]}),i.jsx("span",{className:"font-mono",children:typeof T=="number"?T.toFixed(4):String(T)})]},C))})]}),m&&i.jsxs("div",{className:"space-y-1 mt-2",children:[i.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),i.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(m).map(([C,T])=>i.jsxs("div",{className:"flex justify-between text-[10px]",children:[i.jsxs("span",{className:"truncate max-w-[100px]",title:C,children:[C,":"]}),i.jsx("span",{className:"font-mono",children:String(T)})]},C))}),d.total_missing!==void 0&&i.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",i.jsx("span",{className:"font-mono font-medium",children:String(d.total_missing)})]})]}),!f&&!m&&(u==null?void 0:u.status)==="success"&&i.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return i.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[i.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[v.length>0&&i.jsx("div",{className:"shrink-0",children:i.jsx(Qi,{recommendations:v,onApply:y})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:C=>t({...e,method:C.target.value}),children:[i.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),i.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),i.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:C=>t({...e,strategy:C.target.value}),children:[i.jsx("option",{value:"mean",children:"Mean (Average)"}),i.jsx("option",{value:"median",children:"Median (Middle Value)"}),i.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),i.jsx("option",{value:"constant",children:"Constant Value"})]}),i.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),i.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:C=>t({...e,fill_value:C.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),i.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:C=>t({...e,n_neighbors:parseInt(C.target.value)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:C=>t({...e,weights:C.target.value}),children:[i.jsx("option",{value:"uniform",children:"Uniform"}),i.jsx("option",{value:"distance",children:"Distance"})]}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),i.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:C=>t({...e,max_iter:parseInt(C.target.value)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:C=>t({...e,estimator:C.target.value}),children:[i.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),i.jsx("option",{value:"decision_tree",children:"Decision Tree"}),i.jsx("option",{value:"extra_trees",children:"Extra Trees"}),i.jsx("option",{value:"knn",children:"KNN"})]}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:C=>t({...e,random_state:parseInt(C.target.value)})})]})]}),p&&i.jsx(_,{})]}),i.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${p?"":"shrink-0"}`,children:[i.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:k,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),i.jsx("button",{onClick:N,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),i.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:w,onChange:C=>{b(C.target.value)}})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:j.length>0?j.map(C=>i.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[i.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[i.jsx("input",{type:"checkbox",checked:e.columns.includes(C),onChange:T=>{const E=T.target.checked?[...e.columns,C]:e.columns.filter(O=>O!==C);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),i.jsx("span",{className:"truncate",title:C,children:C})]}),m&&m[C]!==void 0&&i.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${String(m[C])} missing values filled`,children:String(m[C])})]},C)):i.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!p&&i.jsx(_,{})]})]})},pde={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:nF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:hde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:e.method==="simple"&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},gde=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=it(r||"").find(j=>j.datasetId))==null?void 0:b.datasetId,{data:s,isLoading:o}=Xe(a),l=xe(j=>j.executionResult),c=r?l==null?void 0:l.node_results[r]:null,u=g.useRef(null),[d,f]=g.useState(!1),[m,h]=g.useState("");g.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const N of k)f(N.contentRect.width>450)});return j.observe(u.current),()=>{j.disconnect()}},[]);const p=s?Object.values(s.columns).filter(j=>["int","float","number"].some(k=>j.dtype.toLowerCase().includes(k))).map(j=>j.name):[],x=p.filter(j=>j.toLowerCase().includes(m.toLowerCase())),v=()=>{t({...e,columns:x})},y=()=>{const j=e.columns.filter(k=>!x.includes(k));t({...e,columns:j})},w=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const N=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return i.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),i.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:N()})]}),i.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((_,S)=>{let C="";if(e.method==="standard"){const T=j.mean?j.mean[S]:void 0,E=j.scale?j.scale[S]:void 0;typeof T=="number"&&(C=`=${T.toFixed(2)}, =${typeof E=="number"?E.toFixed(2):"-"}`)}else if(e.method==="minmax"){const T=j.data_min?j.data_min[S]:void 0,E=j.data_max?j.data_max[S]:void 0;typeof T=="number"&&(C=`Min=${T.toFixed(2)}, Max=${typeof E=="number"?E.toFixed(2):"-"}`)}else if(e.method==="robust"){const T=j.center?j.center[S]:void 0,E=j.scale?j.scale[S]:void 0;typeof T=="number"&&(C=`Med=${T.toFixed(2)}, IQR=${typeof E=="number"?E.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const T=j.max_abs?j.max_abs[S]:void 0;typeof T=="number"&&(C=`MaxAbs=${T.toFixed(2)}`)}return i.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[i.jsx("span",{className:"truncate max-w-[100px] font-medium",title:_,children:_}),i.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:C})]},_)})})]})};return i.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[i.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[i.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),i.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),i.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),i.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),i.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&i.jsxs("div",{className:"space-y-2 border-t pt-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{children:"Center Data (with_mean)"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&i.jsxs("div",{className:"space-y-2 border-t pt-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),i.jsx("span",{className:"text-muted-foreground",children:"-"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&i.jsxs("div",{className:"space-y-2 border-t pt-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),i.jsx("span",{className:"text-muted-foreground",children:"-"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),i.jsxs("div",{className:"space-y-2 mt-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{children:"Center Data (Median)"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&i.jsx(w,{})]}),i.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[i.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:v,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),i.jsx("button",{onClick:y,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),i.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:m,onChange:j=>{h(j.target.value)}})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(j=>i.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[i.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const N=k.target.checked?[...e.columns,j]:e.columns.filter(_=>_!==j);t({...e,columns:N})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{className:"truncate",title:j,children:j})]},j)):i.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:o?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&i.jsx(w,{})]})]})},yde={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:cF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:gde,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},W5={getAllNodes:async()=>(await st.get("/ml/registry")).data};function K5(){const[e,t]=g.useState(null),[r,n]=g.useState({width:0,height:0}),a=g.useCallback(s=>{if(s.length===0)return;const{width:o,height:l}=s[0].contentRect;n({width:o,height:l})},[]);return g.useEffect(()=>{if(!e)return;const s=new ResizeObserver(a);return s.observe(e),()=>{s.disconnect()}},[e,a]),[t,r]}const xde=({text:e})=>i.jsxs("div",{className:"group relative flex items-center",children:[i.jsx(HP,{className:"w-3 h-3 text-gray-400 cursor-help"}),i.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),vde=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,s]=g.useState(r),[o,l]=g.useState([]),[c,u]=g.useState(!1),[d,f]=g.useState(null);g.useEffect(()=>{e&&s(r)},[e,r]);const m=g.useCallback(()=>{a&&(u(!0),f(null),Tt.getTuningHistory(a).then(h=>{l(h)}).catch(h=>{console.error("Failed to fetch jobs",h),f("Failed to load history.")}).finally(()=>{u(!1)}))},[a]);return g.useEffect(()=>{e&&m()},[e,m]),e?i.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),i.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:i.jsx(Cr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),i.jsxs("select",{value:a,onChange:h=>{s(h.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[i.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),i.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),i.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),i.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:i.jsx(En,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:i.jsx(Zt,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[i.jsx(ar,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),i.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?i.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[i.jsx(Sr,{className:"w-8 h-8 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:d}),i.jsx("button",{onClick:m,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):o.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[i.jsx(ea,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),i.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):o.map(h=>{var p;return i.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),i.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((p=h.result)==null?void 0:p.best_score)=="number"&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),i.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),i.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[i.jsx(Zc,{className:"w-3 h-3"})," Model Ready"]})]})]}),i.jsxs("button",{onClick:()=>{var x;(x=h.result)!=null&&x.best_params&&(n({params:h.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[i.jsx(Zc,{className:"w-3 h-3"}),"Apply"]})]})},h.job_id)})})]})]}):null},bde=({value:e,type:t,onChange:r,step:n,min:a,max:s})=>{const[o,l]=g.useState("");g.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=o.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(u)};return i.jsx("input",{type:"text",value:o,onChange:u=>{l(u.target.value)},onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:s}:{}})},wde=({config:e,onChange:t,nodeId:r})=>{const[n,a]=g.useState([]),[s,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:m}=Ol(),h=it(r||""),p=xe(P=>P.nodes),x=xe(P=>P.edges),y=(P=>{var H,B,Y,X;const $=new Set,F=[P];for(;F.length>0;){const Q=F.shift();if(!Q||$.has(Q))continue;$.add(Q);const G=p.find(U=>U.id===Q);if(!G)continue;if(Q!==P){if((H=G.data)!=null&&H.datasetId)return G.data.datasetId;if((B=G.data)!=null&&B.dataset_id)return G.data.dataset_id;if((Y=G.data)!=null&&Y.config){const U=G.data.config;if(U.datasetId)return U.datasetId;if(U.dataset_id)return U.dataset_id}if((X=G.data)!=null&&X.params){const U=G.data.params;if(U.datasetId)return U.datasetId;if(U.dataset_id)return U.dataset_id}}const Z=Yi(G,p,x);for(const U of Z)F.push(U.id)}})(r||""),{data:w}=Xe(y),b=w?Object.values(w.columns):[],[j,{width:k}]=K5(),N=k>450,[_,S]=g.useState("model"),[C,T]=g.useState(!1),[E,O]=g.useState([]),[M,A]=g.useState(!1);g.useEffect(()=>{(async()=>{A(!0);try{const F=(await W5.getAllNodes()).filter(H=>H.category==="Model");O(F)}catch($){console.error("Failed to fetch models:",$),O([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{A(!1)}})()},[]);const L=g.useRef(!1);g.useEffect(()=>{e.model_type&&(c(!0),Tt.getHyperparameters(e.model_type).then(P=>{const $=P;if(a($),L.current){const F={};$.forEach(H=>{F[H.name]=H.default}),t({...e,hyperparameters:F}),L.current=!1}}).catch(console.error).finally(()=>{c(!1)}))},[e.model_type]),g.useEffect(()=>{var $;const P=($=h.find(F=>F.target_column))==null?void 0:$.target_column;P&&e.target_column!==P&&(e.target_column||t({...e,target_column:P}))},[h,e.target_column,t]);const D=async()=>{if(r)try{const P=hp(p,x);await Tt.runPipeline({...P,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),m("training"),f(!0)}catch(P){console.error("Failed to submit training job:",P),alert("Failed to submit training job. Check console for details.")}},R=i.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:e.model_type,onChange:P=>{Object.keys(e.hyperparameters).length>0&&(L.current=!0),t({...e,model_type:P.target.value,hyperparameters:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:M,children:E.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))}),i.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),b.length===0&&i.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[i.jsx(Xh,{className:"w-3 h-3"}),i.jsx("span",{children:"Connect a dataset node to see available columns"})]}),i.jsxs("div",{className:"relative",children:[b.length>0?i.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[i.jsx("option",{value:"",children:"Select target..."}),b.map(P=>i.jsx("option",{value:P.name,children:P.name},P.name))]}):i.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),b.length>0&&i.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),i.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),i.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>{T(!C)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(db,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),i.jsx(Zn,{className:`w-4 h-4 text-gray-400 transition-transform ${C?"rotate-90":""}`})]}),C&&i.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&i.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),i.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),i.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[i.jsx("option",{value:"k_fold",children:"K-Fold"}),i.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),i.jsx("option",{value:"time_series_split",children:"Time Series"}),i.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),I=()=>{const P=Object.keys(e.hyperparameters).length>0,$=F=>{if(F){const H={};n.forEach(B=>{H[B.name]=B.default}),Object.keys(e.hyperparameters).length===0&&t({...e,hyperparameters:H})}else t({...e,hyperparameters:{}})};return i.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(hb,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("label",{className:`text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none ${l?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("input",{type:"checkbox",checked:P,onChange:F=>{$(F.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),"Customize"]})})]}),P?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsxs("button",{onClick:()=>{o(!0)},className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[i.jsx(bk,{className:"w-3 h-3"}),"Load Best"]})}),l?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(ar,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(F=>{var H;return i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:F.label}),F.description&&i.jsx(xde,{text:F.description})]}),F.type==="select"?i.jsx("select",{value:e.hyperparameters[F.name]??F.default,onChange:B=>t({...e,hyperparameters:{...e.hyperparameters,[F.name]:B.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(H=F.options)==null?void 0:H.map(B=>i.jsx("option",{value:String(B.value),children:B.label},String(B.value)))}):i.jsx(bde,{type:F.type,value:e.hyperparameters[F.name]??F.default,onChange:B=>t({...e,hyperparameters:{...e.hyperparameters,[F.name]:B}}),step:F.step,min:F.min,max:F.max})]},F.name)}),n.length===0&&!l&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):i.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),i.jsxs("button",{onClick:()=>{o(!0)},className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[i.jsx(bk,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return i.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&i.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[i.jsx("span",{children:"Train a model using fixed parameters or defaults."}),i.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:i.jsx(Zt,{className:"w-3 h-3"})})]}),i.jsx(vde,{isOpen:s,onClose:()=>{o(!1)},modelType:e.model_type,onSelect:P=>{const $=P;$.modelType&&$.modelType!==e.model_type?t({...e,model_type:$.modelType,hyperparameters:$.params}):t({...e,hyperparameters:$.params})}}),!N&&i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[i.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${_==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("model")},children:"Configuration"}),i.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${_==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("params")},children:"Hyperparameters"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:N?i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsx("div",{className:"overflow-y-auto pr-2",children:R}),i.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:i.jsx(I,{})})]}):i.jsxs(i.Fragment,{children:[_==="model"&&R,_==="params"&&i.jsx(I,{})]})}),i.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:i.jsxs("button",{onClick:()=>{D()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[i.jsx(Us,{className:"w-4 h-4 fill-current"}),i.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},jde={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:$6,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:wde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},kde=({text:e})=>i.jsxs("div",{className:"group relative flex items-center",children:[i.jsx(HP,{className:"w-3 h-3 text-gray-400 cursor-help"}),i.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Nde=({def:e,value:t,onChange:r})=>{const[n,a]=g.useState(""),[s,o]=g.useState(null);g.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const l=u=>{if(!u.trim())return[];const d=u.split(",").map(m=>m.trim()).filter(m=>m!==""),f=[];for(const m of d){if(m.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const h=Number(m);if(isNaN(h))throw new Error(`"${m}" is not a valid number`);f.push(h)}else if(e.type==="boolean"){const h=m.toLowerCase();if(h==="true")f.push(!0);else if(h==="false")f.push(!1);else throw new Error(`"${m}" must be true or false`)}else f.push(m)}return f},c=()=>{try{const u=l(n);o(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){o(u.message)}};return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&i.jsx(kde,{text:e.description})]}),i.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${s?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),o(null)},onBlur:c}),e.type==="select"&&e.options&&i.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>i.jsx("button",{onClick:()=>{const d=l(n),m=d.includes(u.value)?d.filter(h=>h!==u.value):[...d,u.value];r(m)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},String(u.value)))})]}),s&&i.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[i.jsx(Sr,{className:"w-3 h-3"}),s]})]})},Sde=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=g.useState(r),[s,o]=g.useState([]),[l,c]=g.useState(!1),[u,d]=g.useState(null);g.useEffect(()=>{e&&a(r)},[e,r]);const f=g.useCallback(()=>{n&&(c(!0),d(null),Tt.getTuningHistory(n).then(m=>{o(m)}).catch(m=>{console.error("Failed to fetch jobs",m),d("Failed to load history.")}).finally(()=>{c(!1)}))},[n]);return g.useEffect(()=>{e&&f()},[e,f]),e?i.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),i.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:i.jsx(Cr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),i.jsxs("select",{value:n,onChange:m=>{a(m.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[i.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),i.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),i.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),i.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:i.jsx(En,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:i.jsx(Zt,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[i.jsx(ar,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),i.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?i.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[i.jsx(Sr,{className:"w-8 h-8 mx-auto mb-2"}),i.jsx("p",{className:"text-sm",children:u}),i.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[i.jsx(ea,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),i.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(m=>{var h;return i.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:i.jsx("div",{className:"flex justify-between items-start mb-3",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),i.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((h=m.result)==null?void 0:h.best_score)=="number"&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),i.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),i.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[i.jsx(Zc,{className:"w-3 h-3"})," Model Ready"]})]})]})})},m.job_id)})})]})]}):null},_de=({config:e,onChange:t,nodeId:r})=>{const[n,a]=g.useState([]),[s,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState("config"),[f,m]=g.useState(!1),[h,p]=g.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[x,{width:v}]=K5(),y=v>450,{toggleDrawer:w,setTab:b}=Ol(),j=it(r||""),k=xe(P=>P.nodes),N=xe(P=>P.edges),S=(P=>{var H,B,Y,X;const $=new Set,F=[P];for(;F.length>0;){const Q=F.shift();if($.has(Q))continue;$.add(Q);const G=k.find(U=>U.id===Q);if(!G)continue;if(Q!==P){if((H=G.data)!=null&&H.datasetId)return G.data.datasetId;if((B=G.data)!=null&&B.dataset_id)return G.data.dataset_id;const U=G.data;if((Y=U.config)!=null&&Y.datasetId)return U.config.datasetId;if((X=U.config)!=null&&X.dataset_id)return U.config.dataset_id}const Z=Yi(G,k,N);for(const U of Z)F.push(U.id)}})(r||""),{data:C}=Xe(S),T=C?Object.values(C.columns):[],[E,O]=g.useState([]),[M,A]=g.useState(!1);g.useEffect(()=>{(async()=>{A(!0);try{const F=(await W5.getAllNodes()).filter(H=>H.category==="Model");O(F)}catch($){console.error("Failed to fetch models:",$),O([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{A(!1)}})()},[]),g.useEffect(()=>{var $;const P=($=j.find(F=>F.target_column))==null?void 0:$.target_column;P&&e.target_column!==P&&t({...e,target_column:P})},[j,e.target_column]);const L=g.useRef(null);g.useEffect(()=>{(async()=>{const $=e.model_type;if(!$)return;const F=$!==L.current;if(!(!F&&n.length>0)){o(!0);try{const H=await Tt.getHyperparameters($);if(a(H),F){const B=await Tt.getDefaultSearchSpace($);t({...e,search_space:B||{}}),L.current=$}}catch(H){console.error("Failed to load model hyperparameters:",H)}finally{o(!1)}}})()},[e.model_type]);const D=async()=>{if(r)try{const P=hp(k,N);await Tt.runPipeline({...P,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),b("tuning"),w(!0)}catch(P){console.error("Failed to submit tuning job:",P),alert("Failed to submit tuning job.")}},R=i.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:e.model_type,onChange:P=>{t({...e,model_type:P.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:M,children:E.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))}),i.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),T.length===0&&i.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[i.jsx(Xh,{className:"w-3 h-3"}),i.jsx("span",{children:"Connect a dataset node to see available columns"})]}),i.jsxs("div",{className:"relative",children:[T.length>0?i.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[i.jsx("option",{value:"",children:"Select target..."}),T.map(P=>i.jsx("option",{value:P.name,children:P.name},P.name))]}):i.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),T.length>0&&i.jsx(It,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),i.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),i.jsxs("select",{value:e.search_strategy??"random",onChange:P=>t({...e,search_strategy:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[i.jsx("option",{value:"random",children:"Random Search"}),i.jsx("option",{value:"grid",children:"Grid Search"}),i.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),i.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),i.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),i.jsxs("select",{value:e.metric,onChange:P=>t({...e,metric:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[i.jsx("option",{value:"accuracy",children:"Accuracy"}),i.jsx("option",{value:"f1",children:"F1 Score"}),i.jsx("option",{value:"roc_auc",children:"ROC AUC"}),i.jsx("option",{value:"mse",children:"MSE"}),i.jsx("option",{value:"r2",children:"R2 Score"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),i.jsx("input",{type:"number",value:e.n_trials,onChange:P=>t({...e,n_trials:Number(P.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),i.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>{m(!f)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(db,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),i.jsx(Zn,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&i.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),i.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&i.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),i.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),i.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[i.jsx("option",{value:"k_fold",children:"K-Fold"}),i.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),i.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),i.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),I=i.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[i.jsx(hb,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),s?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(ar,{className:"w-6 h-6 animate-spin text-purple-500"})}):i.jsxs("div",{className:"space-y-3",children:[n.map(P=>{var $;return i.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:i.jsx(Nde,{def:P,value:(($=e.search_space)==null?void 0:$[P.name])||[],onChange:F=>{t({...e,search_space:{...e.search_space,[P.name]:F}})}})},`${e.model_type}-${P.name}`)}),n.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return i.jsxs("div",{className:"flex flex-col h-full",ref:x,children:[h&&i.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[i.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),i.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:i.jsx(Zt,{className:"w-3 h-3"})})]}),!y&&i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[i.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("config")},children:"Configuration"}),i.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("search_space")},children:"Search Space"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:y?i.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[i.jsx("div",{className:"overflow-y-auto pr-2",children:R}),i.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:I})]}):i.jsxs(i.Fragment,{children:[u==="config"&&R,u==="search_space"&&I]})}),i.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[i.jsxs("button",{onClick:()=>{D()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[i.jsx(Us,{className:"w-4 h-4 fill-current"}),i.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),i.jsxs("button",{onClick:()=>{c(!0)},className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx(Cr,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),i.jsx(Sde,{isOpen:l,onClose:()=>{c(!1)},modelType:e.model_type})]})},Ede={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:dF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:_de,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},Cde=({config:e,onChange:t,nodeId:r})=>{var j;const n=it(r||""),a=xe(k=>k.nodes),s=xe(k=>k.edges),o=xe(k=>k.executionResult),c=(k=>{var S;const N=new Set,_=[k];for(;_.length>0;){const C=_.shift();if(!C||N.has(C))continue;N.add(C);const T=a.find(O=>O.id===C);if(!T)continue;if(C!==k&&((S=T.data)!=null&&S.datasetId))return T.data.datasetId;const E=Yi(T,a,s);for(const O of E)_.push(O.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;g.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=Xe(c||e.datasetId),m=d?Object.values(d.columns).map(k=>k.name):[],h=g.useRef(null),[p,x]=g.useState(!1);g.useEffect(()=>{if(!h.current)return;const k=new ResizeObserver(N=>{for(const _ of N)x(_.contentRect.width>450)});return k.observe(h.current),()=>{k.disconnect()}},[]);const v=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},y=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),w=["select_from_model","rfe"].includes(e.method),b=()=>{const k=o==null?void 0:o.node_results[r||""];if(!k)return null;const N=k.metrics||{},_=N.dropped_columns,S=N.feature_scores,C=N.p_values,T=N.feature_importances,E=N.variances,O=N.ranking;return i.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[i.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&i.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),_&&_.length>0?i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:i.jsxs("span",{children:["Dropped Columns (",_.length,")"]})}),i.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:_.map(M=>{const A=S==null?void 0:S[M],L=C==null?void 0:C[M],D=T==null?void 0:T[M],R=E==null?void 0:E[M],I=O==null?void 0:O[M];return i.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[i.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:M,children:M}),i.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[A!==void 0&&i.jsxs("span",{children:["Score: ",A.toFixed(4)]}),L!==void 0&&i.jsxs("span",{children:["p-val: ",L.toExponential(2)]}),D!==void 0&&i.jsxs("span",{children:["Imp: ",D.toFixed(4)]}),R!==void 0&&i.jsxs("span",{children:["Var: ",R.toFixed(4)]}),I!==void 0&&i.jsxs("span",{children:["Rank: ",I]})]})]},M)})})]}):k.status==="success"&&i.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[i.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&i.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&i.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&i.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||T)&&i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),i.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||T||{}).sort(([,M],[,A])=>A-M).slice(0,5).map(([M,A])=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"truncate max-w-[120px]",title:M,children:M}),i.jsx("span",{className:"font-mono text-[10px]",children:A.toFixed(4)})]},M))})]})]})};return i.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[i.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[i.jsxs("optgroup",{label:"Simple",children:[i.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),i.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),i.jsxs("optgroup",{label:"Univariate",children:[i.jsx("option",{value:"select_k_best",children:"Select K Best"}),i.jsx("option",{value:"select_percentile",children:"Select Percentile"}),i.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),i.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),i.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),i.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),i.jsxs("optgroup",{label:"Model Based",children:[i.jsx("option",{value:"select_from_model",children:"Select From Model"}),i.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?i.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",i.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[i.jsx("option",{value:"",children:"Select Target..."}),m.map(k=>i.jsx("option",{value:k,children:k},k))]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(y||w)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[i.jsx("option",{value:"auto",children:"Auto-detect"}),i.jsx("option",{value:"classification",children:"Classification"}),i.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&i.jsx(b,{})]}),i.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[i.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),i.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),i.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Method"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[i.jsx("option",{value:"pearson",children:"Pearson"}),i.jsx("option",{value:"spearman",children:"Spearman"}),i.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),y&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[i.jsx("option",{value:"",children:"Auto (Default)"}),v().map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),i.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Mode"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[i.jsx("option",{value:"k_best",children:"K Best"}),i.jsx("option",{value:"percentile",children:"Percentile"}),i.jsx("option",{value:"fpr",children:"FPR"}),i.jsx("option",{value:"fdr",children:"FDR"}),i.jsx("option",{value:"fwe",children:"FWE"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),i.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),w&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[i.jsx("option",{value:"auto",children:"Auto"}),i.jsx("option",{value:"RandomForest",children:"Random Forest"}),i.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),i.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),i.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Step"}),i.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[i.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),i.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&i.jsx(b,{})]})]})]})},Pde={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:WP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:Cde,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},Ode=({config:e,onChange:t,nodeId:r})=>{var p,x;const n=it(r||""),a=(p=n.find(v=>v.datasetId))==null?void 0:p.datasetId,s=(x=n.find(v=>v.target_column))==null?void 0:x.target_column;Ir.useEffect(()=>{const v={};a&&e.datasetId!==a&&(v.datasetId=a),s&&e.target_column!==s&&(v.target_column=s),Object.keys(v).length>0&&t({...e,...v})},[a,s,e.datasetId,e.target_column,t]);const{data:o,isLoading:l}=Xe(a||e.datasetId),c=o?Object.values(o.columns).map(v=>v.name):[],u=e.validation_size||0,d=1-e.test_size-u,f=Ir.useRef(null),[m,h]=Ir.useState(!1);return Ir.useEffect(()=>{if(!f.current)return;const v=new ResizeObserver(y=>{for(const w of y)h(w.contentRect.width>450)});return v.observe(f.current),()=>{v.disconnect()}},[]),i.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[i.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&!e.datasetId&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),i.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:v=>t({...e,test_size:parseFloat(v.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),i.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:u,onChange:v=>t({...e,validation_size:parseFloat(v.target.value)})}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(d*100),"% Training, ",Math.round(u*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),d<=0&&i.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Random State"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:v=>t({...e,random_state:parseInt(v.target.value)})})]})]}),i.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:v=>t({...e,shuffle:v.target.checked})}),i.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:v=>t({...e,stratify:v.target.checked})}),i.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),i.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[i.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:v=>t({...e,target_column:v.target.value}),disabled:!e.stratify,children:[i.jsx("option",{value:"",children:"-- Select Target --"}),c.map(v=>i.jsx("option",{value:v,children:v},v))]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},Ade={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:XP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:Ode,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},Tde=({config:e,onChange:t,nodeId:r})=>{const n=xe(u=>u.nodes),a=xe(u=>u.edges),o=(u=>{var m;const d=new Set,f=[u];for(;f.length>0;){const h=f.shift();if(!h||d.has(h))continue;d.add(h);const p=n.find(v=>v.id===h);if(!p)continue;if(h!==u&&((m=p.data)!=null&&m.datasetId))return p.data.datasetId;const x=Yi(p,n,a);for(const v of x)f.push(v.id)}})(r||"");Ir.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:l}=Xe(o||e.datasetId),c=l?Object.values(l.columns).map(u=>u.name):[];return i.jsx("div",{className:"p-4 space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[i.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>i.jsx("option",{value:u,children:u},u))]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},Mde={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:XP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:Tde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},Ide=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=it(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:s}=Xe(a),o=xe(d=>d.executionResult),l=r?o==null?void 0:o.node_results[r]:null,c=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null;return i.jsxs("div",{className:"p-4 space-y-4",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[i.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),i.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[i.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),i.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&i.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[i.jsx(Cr,{size:14}),i.jsx("span",{children:"Last Run Results"})]}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),i.jsx("span",{className:"font-medium text-destructive",children:String(c.DropMissingRows_rows_removed)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),i.jsx("span",{className:"font-medium",children:String(c.DropMissingRows_rows_remaining)})]}),i.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),i.jsx("span",{className:"font-medium",children:String(c.DropMissingRows_rows_total)})]})]})]})]})},Dde={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:K6,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Ide,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},Rde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=it(r||"").find(y=>y.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:o}=Xe(a),l=s?Object.values(s.columns).map(y=>y.name):[],c=xe(y=>y.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,[f,m]=g.useState(""),h=g.useMemo(()=>l.filter(y=>y.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,subset:h})},x=()=>{const y=e.subset.filter(w=>!h.includes(w));t({...e,subset:y})};return i.jsxs("div",{className:"p-4 space-y-4",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:y=>t({...e,keep:y.target.value}),children:[i.jsx("option",{value:"first",children:"Keep First Occurrence"}),i.jsx("option",{value:"last",children:"Keep Last Occurrence"}),i.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),i.jsxs("div",{className:"space-y-2 mb-2",children:[i.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:y=>{m(y.target.value)}}),i.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[i.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),i.jsx("span",{className:"text-border",children:"|"}),i.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?i.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[h.map(y=>i.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(y),onChange:w=>{const b=w.target.checked?[...e.subset,y]:e.subset.filter(j=>j!==y);t({...e,subset:b})}}),y]},y)),h.length===0&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):i.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&i.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[i.jsx(Cr,{size:14}),i.jsx("span",{children:"Last Run Results"})]}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),i.jsx("span",{className:"font-medium text-destructive",children:String(d.Deduplicate_rows_removed)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),i.jsx("span",{className:"font-medium",children:String(d.Deduplicate_rows_remaining)})]}),i.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),i.jsx("span",{className:"font-medium",children:String(d.Deduplicate_rows_total)})]})]})]})]})},Lde={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:B6,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:Rde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},$de=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],zde=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=it(r||"").find(b=>b.datasetId))==null?void 0:w.datasetId,{data:s,isLoading:o}=Xe(a),l=s?Object.values(s.columns).map(b=>b.name):[],c=xe(b=>b.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=g.useRef(null),[m,h]=g.useState(!1);g.useEffect(()=>{if(!f.current)return;const b=new ResizeObserver(j=>{for(const k of j)h(k.contentRect.width>450)});return b.observe(f.current),()=>{b.disconnect()}},[]);const p=()=>{if(l.length===0)return;const b=l.find(j=>!e.column_types[j])||l[0];t({...e,column_types:{...e.column_types,[b]:"float"}})},x=b=>{const j={...e.column_types};Reflect.deleteProperty(j,b),t({...e,column_types:j})},v=(b,j)=>{if(b===j)return;const k=e.column_types[b],N={...e.column_types};Reflect.deleteProperty(N,b),N[j]=k,t({...e,column_types:N})},y=(b,j)=>{t({...e,column_types:{...e.column_types,[b]:j}})};return i.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),i.jsx("button",{onClick:p,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:i.jsx(qi,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:`space-y-2 ${m?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([b,j])=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[i.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[i.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:b,onChange:k=>{v(b,k.target.value)},children:l.map(k=>i.jsx("option",{value:k,disabled:k!==b&&!!e.column_types[k],children:k},k))}),i.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>{y(b,k.target.value)},children:$de.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))})]}),i.jsx("button",{onClick:()=>{x(b)},className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:i.jsx(Vs,{className:"w-4 h-4"})})]},b)),Object.keys(e.column_types).length===0&&i.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${m?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&i.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[i.jsx(Cr,{size:14}),i.jsx("span",{children:"Last Run Results"})]}),i.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),i.jsx("span",{className:"font-medium",children:String(d.casted_columns_count)})]}),d.cast_errors!==void 0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),i.jsx("span",{className:"font-medium text-destructive",children:String(d.cast_errors)})]})]})]})]})},Fde={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:W6,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:zde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},Bde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=it(r||"").find(y=>y.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:o}=Xe(a),l=s?Object.values(s.columns).map(y=>y.name):[],c=xe(y=>y.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,[f,m]=g.useState(""),h=g.useMemo(()=>l.filter(y=>y.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,columns:h})},x=()=>{const y=e.columns.filter(w=>!h.includes(w));t({...e,columns:y})};return i.jsxs("div",{className:"p-4 space-y-4",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),i.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:y=>t({...e,flag_suffix:y.target.value}),placeholder:"_was_missing"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),i.jsxs("div",{className:"space-y-2 mb-2",children:[i.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:y=>{m(y.target.value)}}),i.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[i.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),i.jsx("span",{className:"text-border",children:"|"}),i.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?i.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[h.map(y=>i.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(y),onChange:w=>{const b=w.target.checked?[...e.columns,y]:e.columns.filter(j=>j!==y);t({...e,columns:b})}}),y]},y)),h.length===0&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):i.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),(()=>{const y=d==null?void 0:d.missing_indicators_created,w=Array.isArray(d==null?void 0:d.missing_indicators_columns)?d==null?void 0:d.missing_indicators_columns:[];return y===void 0?null:i.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[i.jsx(Cr,{size:14}),i.jsx("span",{children:"Last Run Results"})]}),i.jsxs("div",{className:"space-y-1 text-xs",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),i.jsx("span",{className:"font-medium text-primary",children:String(y)})]}),w.length>0&&i.jsxs("div",{className:"pt-1 border-t mt-1",children:[i.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(b=>{const j=String(b);return i.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:j},j)})})]})]})]})})()]})},Ude={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:q6,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:Bde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},Hde=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=it(r||"").find(S=>S.datasetId))==null?void 0:_.datasetId,{data:s,isLoading:o}=Xe(a),[l,c]=g.useState(""),u=g.useRef(null),[d,f]=g.useState(!1),m=xe(S=>S.executionResult),h=r?m==null?void 0:m.node_results[r]:null,p=h!=null&&h.metrics&&typeof h.metrics=="object"?h.metrics:null,x=p!=null&&p.categories_count&&typeof p.categories_count=="object"?p.categories_count:null,v=p!=null&&p.classes_count&&typeof p.classes_count=="object"?p.classes_count:null,w=((m==null?void 0:m.recommendations)||[]).filter(S=>S.suggested_node_type==="encoding"||S.type.includes("encoding")||S.type.includes("cardinality"));g.useEffect(()=>{if(!u.current)return;const S=new ResizeObserver(C=>{for(const T of C)f(T.contentRect.width>400)});return S.observe(u.current),()=>{S.disconnect()}},[]);const b=s?Object.values(s.columns).filter(S=>["object","string","category","bool"].some(C=>S.dtype.toLowerCase().includes(C))).map(S=>S.name):[],j=b.filter(S=>S.toLowerCase().includes(l.toLowerCase())),k=()=>{t({...e,columns:[...b]})},N=()=>{t({...e,columns:[]})};return i.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&i.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),i.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:S=>t({...e,method:S.target.value}),children:[i.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),i.jsx("option",{value:"dummy",children:"Dummy Encoding"}),i.jsx("option",{value:"label",children:"Label Encoding"}),i.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),i.jsx("option",{value:"target",children:"Target Encoding"}),i.jsx("option",{value:"hash",children:"Hash Encoding"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),i.jsxs("div",{className:"pt-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:S=>t({...e,drop_original:S.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),i.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),i.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&i.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:S=>t({...e,drop_first:S.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),i.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:S=>t({...e,handle_unknown:S.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[i.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),i.jsx("option",{value:"error",children:"Raise Error"})]}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&i.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:S=>t({...e,target_column:S.target.value}),children:[i.jsx("option",{value:"",children:"Select a target column..."}),s&&Object.values(s.columns).map(S=>i.jsxs("option",{value:S.name,children:[S.name," (",S.dtype,")"]},S.name))]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&i.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),i.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:S=>t({...e,n_features:parseInt(S.target.value)})})]}),e.method==="ordinal"&&i.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:S=>t({...e,unknown_value:parseInt(S.target.value)}),title:"Integer to assign for unknown categories."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&i.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:S=>t({...e,missing_code:parseInt(S.target.value)}),title:"Integer to assign for missing or unknown categories."}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),i.jsxs("div",{className:"space-y-2 mb-2",children:[i.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:S=>{c(S.target.value)}}),i.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[i.jsx("button",{onClick:k,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),i.jsx("span",{className:"text-border",children:"|"}),i.jsx("button",{onClick:N,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),b.length>0?i.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[j.map(S=>i.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(S),onChange:C=>{const T=C.target.checked?[...e.columns,S]:e.columns.filter(E=>E!==S);t({...e,columns:T})}}),S]},S)),j.length===0&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):i.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),w.length>0&&i.jsx(Qi,{recommendations:w}),p&&i.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[i.jsx(Cr,{size:14}),i.jsx("span",{children:"Last Run Results"})]}),i.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),i.jsx("span",{className:"font-medium",children:String(p.encoded_columns_count)})]}),p.new_features_count!==void 0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),i.jsx("span",{className:"font-medium text-primary",children:String(p.new_features_count)})]}),x&&i.jsxs("div",{className:"mt-2 border-t pt-2",children:[i.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),i.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(x).map(([S,C])=>i.jsxs("div",{className:"flex justify-between text-[10px]",children:[i.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),i.jsx("span",{className:"font-mono",children:String(C)})]},S))})]}),v&&i.jsxs("div",{className:"mt-2 border-t pt-2",children:[i.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),i.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(v).map(([S,C])=>i.jsxs("div",{className:"flex justify-between text-[10px]",children:[i.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),i.jsx("span",{className:"font-mono",children:String(C)})]},S))})]})]})]})]})},Vde={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:qP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:Hde,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},Wde=({config:e,onChange:t,nodeId:r})=>{const n=xe(_=>_.nodes),a=xe(_=>_.edges),o=(_=>{var T;const S=new Set,C=[_];for(;C.length>0;){const E=C.shift();if(!E||S.has(E))continue;S.add(E);const O=n.find(A=>A.id===E);if(!O)continue;if(E!==_&&((T=O.data)!=null&&T.datasetId))return O.data.datasetId;const M=Yi(O,n,a);for(const A of M)C.push(A.id)}})(r||""),{data:l,isLoading:c}=Xe(o),u=Fl(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=xe(_=>_.executionResult),f=r?d==null?void 0:d.node_results[r]:null,m=g.useRef(null),[h,p]=g.useState(!1),[x,v]=g.useState("");g.useEffect(()=>{if(!m.current)return;const _=new ResizeObserver(S=>{for(const C of S)p(C.contentRect.width>450)});return _.observe(m.current),()=>{_.disconnect()}},[]);const y=l?Object.values(l.columns).filter(_=>["int","float","number"].some(S=>_.dtype.toLowerCase().includes(S))).map(_=>_.name):[],w=y.filter(_=>_.toLowerCase().includes(x.toLowerCase())),b=()=>{t({...e,columns:w})},j=()=>{const _=e.columns.filter(S=>!w.includes(S));t({...e,columns:_})},k=()=>{if(!f||!f.metrics)return null;const _=f.metrics,S=_.rows_removed,C=_.rows_remaining,T=_.rows_total??(S??0)+(C??0),E=_.bounds,O=_.stats,M=_.contamination,A=_.warnings,L=_.values_clipped;if(S===void 0&&!E&&!O&&M===void 0&&!A&&L===void 0)return null;const D=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return i.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),i.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:D()})]}),A&&A.length>0&&i.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[i.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),i.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:A.map((R,I)=>i.jsx("li",{className:"truncate",title:R,children:R},I))})]}),e.method==="winsorize"?i.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"font-mono font-medium text-blue-600",children:L??0}),i.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):i.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),T>0&&i.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/T*100).toFixed(1),"%)"]})]}),C!==void 0&&i.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[C," remaining"]})]})]}),M!==void 0&&i.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[i.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),i.jsxs("span",{className:"font-mono font-medium",children:[(M*100).toFixed(1),"%"]})]}),E&&i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),i.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(E).map(([R,I])=>i.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[i.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),i.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",I.lower.toFixed(2),", ",I.upper.toFixed(2),"]"]})]},R))})]}),O&&i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),i.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O).map(([R,I])=>i.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[i.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),i.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",I.mean.toFixed(2),", =",I.std.toFixed(2)]})]},R))})]})]})},N=()=>{const _=[];if(f&&f.metrics){const C=f.metrics,T=C.rows_removed,O=C.rows_total??C[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(T!==void 0&&O!==void 0&&O>0){const M=T/O;M>.2?_.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):M===0&&e.method!=="winsorize"&&_.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&_.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,..._];return S.length===0?null:i.jsx("div",{className:"mt-4",children:i.jsx(Qi,{recommendations:S})})};return i.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[i.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!o&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[i.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),i.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),i.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),i.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),i.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),i.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:_=>t({...e,multiplier:parseFloat(_.target.value)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),i.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:_=>t({...e,threshold:parseFloat(_.target.value)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:_=>t({...e,lower_percentile:parseFloat(_.target.value)})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),i.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:_=>t({...e,upper_percentile:parseFloat(_.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),i.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:_=>t({...e,contamination:parseFloat(_.target.value)})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),h&&i.jsxs(i.Fragment,{children:[i.jsx(k,{}),i.jsx(N,{})]})]}),i.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[i.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:b,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),i.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),i.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:x,onChange:_=>{v(_.target.value)}})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:w.length>0?w.map(_=>i.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[i.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:S=>{const C=S.target.checked?[...e.columns,_]:e.columns.filter(T=>T!==_);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{className:"truncate",title:_,children:_})]},_)):i.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!h&&i.jsxs(i.Fragment,{children:[i.jsx(k,{}),i.jsx(N,{})]})]})]})},Kde={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:uF,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:Wde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},O0={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},qde=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",Yde=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=g.useState(""),s=g.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),o=()=>{const u=Array.from(new Set([...t,...s]));r(u)},l=()=>{const u=t.filter(d=>!s.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return i.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[i.jsx("div",{className:"flex gap-2 items-center",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Hs,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),i.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>{a(u.target.value)}})]})}),i.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[i.jsx("button",{onClick:o,className:"text-primary hover:underline font-medium",children:"Select All"}),i.jsx("span",{className:"text-muted-foreground",children:"|"}),i.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),i.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:s.length===0?i.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):s.map(u=>i.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[i.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>{c(u)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},Gde=({config:e,onChange:t,nodeId:r})=>{var j;const n=g.useMemo(()=>e||{transformations:[]},[e]),a=g.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[s,o]=g.useState([]),l=g.useRef(null),[c,u]=g.useState(!1);g.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(N=>{for(const _ of N)u(_.contentRect.width>450)});return k.observe(l.current),()=>{k.disconnect()}},[]);const f=(j=it(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:m}=Xe(f),h=g.useMemo(()=>m!=null&&m.columns?Object.values(m.columns).filter(k=>["int","float","number"].some(N=>k.dtype.toLowerCase().includes(N))).map(k=>k.name):[],[m]),p=()=>{const k=a.length;o(N=>[...N,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},x=(k,N)=>{const _=[...a];_[k]={..._[k],...N},t({transformations:_})},v=k=>{const N=[...a];N.splice(k,1),t({transformations:N}),o(_=>_.filter(S=>S!==k).map(S=>S>k?S-1:S))},y=k=>{o(N=>N.includes(k)?N.filter(_=>_!==k):[...N,k])},w=(k,N)=>{const _=O0[N].methods[0].value;x(k,{method:_})},b=Fl(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return i.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),i.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[i.jsx(qi,{size:12})," Add Rule"]})]}),i.jsxs("div",{className:"space-y-4",children:[a.map((k,N)=>{var T,E,O;const _=qde(k.method),S=s.includes(N),C=((T=O0[_].methods.find(M=>M.value===k.method))==null?void 0:T.label)||k.method;return i.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>{y(N)},children:[i.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?i.jsx(It,{size:16,className:"text-muted-foreground flex-shrink-0"}):i.jsx(Zn,{size:16,className:"text-muted-foreground flex-shrink-0"}),i.jsxs("div",{className:"flex flex-col overflow-hidden",children:[i.jsx("span",{className:"text-sm font-medium truncate",children:C}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),i.jsx("button",{onClick:M=>{M.stopPropagation(),v(N)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:i.jsx(Vs,{size:14})})]}),S&&i.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),i.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:_,onChange:M=>{w(N,M.target.value)},onClick:M=>{M.stopPropagation()},children:[i.jsx("option",{value:"simple",children:"Simple Math"}),i.jsx("option",{value:"power",children:"Power Transform"})]}),i.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:M=>{x(N,{method:M.target.value})},onClick:M=>{M.stopPropagation()},children:O0[_].methods.map(M=>i.jsx("option",{value:M.value,children:M.label},M.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&i.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:M=>{M.stopPropagation()},children:[i.jsx("input",{type:"checkbox",id:`std-${N}`,checked:((E=k.params)==null?void 0:E.standardize)!==!1,onChange:M=>{x(N,{params:{...k.params,standardize:M.target.checked}})}}),i.jsx("label",{htmlFor:`std-${N}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&i.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:M=>{M.stopPropagation()},children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),i.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((O=k.params)==null?void 0:O.clip_threshold)||700,onChange:M=>{x(N,{params:{...k.params,clip_threshold:parseFloat(M.target.value)}})}})]})]}),i.jsxs("div",{className:"space-y-1 min-w-0",onClick:M=>{M.stopPropagation()},children:[i.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),i.jsx(Yde,{allColumns:h,selectedColumns:k.columns,onChange:M=>{x(N,{columns:M})}})]})]})]},N)}),a.length===0&&i.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",i.jsx("br",{}),'Click "Add Rule" to start.']})]}),i.jsx(Qi,{recommendations:b||[],onApply:k=>{var C;const N=k,_=N.suggested_params.method||((C=N.params)==null?void 0:C.method)||"log",S=N.target_columns||[];if(S.length>0){const T=a.length;o(E=>[...E,T]),t({transformations:[...a,{columns:S,method:_,params:{}}]})}}})]})},Xde={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:QP,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:Gde,getDefaultConfig:()=>({transformations:[]})},Qde=({value:e,onChange:t})=>{const[r,n]=g.useState((e==null?void 0:e.join(", "))||""),a=g.useRef(e);g.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const s=()=>{const o=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,c)=>l-c);t(o)};return i.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:o=>{n(o.target.value)},onBlur:s})},Zde=({config:e,onChange:t,nodeId:r})=>{var y;const a=(y=it(r||"").find(w=>w.datasetId))==null?void 0:y.datasetId,{data:s,isLoading:o}=Xe(a),l=g.useRef(null),[c,u]=g.useState(!1),[d,f]=g.useState("");g.useEffect(()=>{if(!l.current)return;const w=new ResizeObserver(b=>{for(const j of b)u(j.contentRect.width>450)});return w.observe(l.current),()=>{w.disconnect()}},[]);const m=s?Object.values(s.columns).filter(w=>["int","float","number"].some(b=>w.dtype.toLowerCase().includes(b))).map(w=>w.name):[],h=m.filter(w=>w.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:h})},x=()=>{const w=e.columns.filter(b=>!h.includes(b));t({...e,columns:w})},v=w=>{e.columns.includes(w)?t({...e,columns:e.columns.filter(b=>b!==w)}):t({...e,columns:[...e.columns,w]})};return i.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&i.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:w=>t({...e,strategy:w.target.value}),children:[i.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),i.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),i.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),i.jsx("option",{value:"custom",children:"Custom Edges"})]}),i.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),i.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:w=>t({...e,n_bins:parseInt(w.target.value)||5})})]}),e.strategy==="custom"&&i.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[i.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?i.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(w=>{var b;return i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium",children:w}),i.jsx(Qde,{value:(b=e.custom_bins)==null?void 0:b[w],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[w]:j}})})]},w)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),i.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:w=>t({...e,label_format:w.target.value}),children:[i.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),i.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),i.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),i.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:w=>t({...e,precision:parseInt(w.target.value)||0})}),i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:w=>t({...e,drop_original:w.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),i.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:w=>t({...e,output_suffix:w.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[i.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),i.jsx("div",{className:"flex gap-2",children:i.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:w=>{f(w.target.value)}})}),i.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[i.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),i.jsx("span",{className:"text-muted-foreground",children:"|"}),i.jsx("button",{onClick:x,className:"text-muted-foreground hover:underline",children:"None"}),i.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),i.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:o?i.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):h.length===0?i.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:m.length===0?"No numeric columns found.":`No columns match "${d}"`}):i.jsx("div",{className:"space-y-1",children:h.map(w=>i.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[i.jsx("input",{type:"checkbox",checked:e.columns.includes(w),onChange:()=>{v(w)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("span",{className:"truncate",title:w,children:w})]},w))})})]})]})]})},Jde={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:db,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:Zde,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},efe=({nodeId:e})=>{var a;const t=xe(s=>s.executionResult),r=e?(a=t==null?void 0:t.node_results)==null?void 0:a[e]:void 0;if(!r)return null;const n=s=>i.jsx("div",{className:"space-y-1",children:Object.entries(s).map(([o,l])=>typeof l=="object"&&l!==null?i.jsxs("div",{className:"mt-1",children:[i.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[o.replace(/_/g," "),":"]}),i.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(l)})]},o):i.jsxs("div",{className:"flex justify-between text-[10px]",children:[i.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[o.replace(/_/g," "),":"]}),i.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(l)})]},o))});return i.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[i.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),i.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&i.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&i.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&i.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},tfe=({config:e,onChange:t,nodeId:r})=>{var y;const n=g.useRef(null),[a,s]=g.useState(!1),[o,l]=g.useState(!0),c=it(r||""),u=Array.isArray(c)?c.filter(Boolean):[],d=(y=u.find(w=>typeof w.datasetId=="string"))==null?void 0:y.datasetId,{data:f}=Xe(d),m=u.find(w=>{const b=w.config;if(!b||typeof b!="object")return!1;const j=b.target_column;return typeof j=="string"&&j.trim().length>0}),h=m?m.config.target_column??void 0:void 0;g.useEffect(()=>{if(!e.target_column){if(m&&h)t({...e,target_column:h});else if(f!=null&&f.columns){const w=Object.values(f.columns).find(b=>b.name.toLowerCase()==="target"||b.name.toLowerCase()==="class"||b.column_type==="target");w&&t({...e,target_column:w.name})}}},[f,m,h,e.target_column,e,t]),g.useEffect(()=>{if(!n.current)return;const w=new ResizeObserver(b=>{for(const j of b)s(j.contentRect.width>400)});return w.observe(n.current),()=>{w.disconnect()}},[]);const p=Fl(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),x=w=>{w.suggested_params&&t({...e,...w.suggested_params})},v=(w,b)=>{const j={...e,[w]:b};w==="type"&&(b==="oversampling"?j.method="smote":j.method="random_under_sampling"),t(j)};return i.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),i.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:w=>{v("type",w.target.value)},children:[i.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),i.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),i.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:w=>{v("method",w.target.value)},children:e.type==="oversampling"?i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"smote",children:"SMOTE"}),i.jsx("option",{value:"adasyn",children:"ADASYN"}),i.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),i.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),i.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),i.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),i.jsx("option",{value:"nearmiss",children:"NearMiss"}),i.jsx("option",{value:"tomek_links",children:"Tomek Links"}),i.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:w=>{v("target_column",w.target.value)},list:"target-column-suggestions"}),(f==null?void 0:f.columns)&&i.jsx("datalist",{id:"target-column-suggestions",children:Object.values(f.columns).map(w=>i.jsx("option",{value:w.name},w.name))})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m?"Auto-detected from upstream node.":"The column containing the class labels."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),i.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:w=>{v("sampling_strategy",w.target.value)},children:[i.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),i.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),i.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),i.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),i.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),i.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:w=>{v("random_state",parseInt(w.target.value))}})]})]}),i.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&i.jsxs(i.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),i.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:w=>{v("k_neighbors",parseInt(w.target.value))}})]}),["borderline_smote","svm_smote"].includes(e.method)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),i.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:w=>{v("m_neighbors",parseInt(w.target.value))}})]}),e.method==="borderline_smote"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),i.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:w=>{v("kind",w.target.value)},children:[i.jsx("option",{value:"borderline-1",children:"Borderline-1"}),i.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),i.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:w=>{v("out_step",parseFloat(w.target.value))}})]}),e.method==="kmeans_smote"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),i.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:w=>{v("cluster_balance_threshold",parseFloat(w.target.value))}})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),i.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:w=>{v("density_exponent",w.target.value)}})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),i.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:w=>{v("replacement",w.target.checked)}})]}),e.type==="undersampling"&&e.method==="nearmiss"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),i.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:w=>{v("version",parseInt(w.target.value))},children:[i.jsx("option",{value:"1",children:"1"}),i.jsx("option",{value:"2",children:"2"}),i.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),i.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:w=>{v("n_neighbors",parseInt(w.target.value))}})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),i.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:w=>{v("kind_sel",w.target.value)},children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"mode",children:"Mode"})]})]})]}),p.length>0&&i.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[i.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>{l(!o)},children:[i.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",p.length,")"]}),o?i.jsx(Du,{size:16}):i.jsx(It,{size:16})]}),o&&i.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:i.jsx(Qi,{recommendations:p,onApply:x})})]}),r&&i.jsx(efe,{nodeId:r})]})]})})},rfe=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},nfe={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:Cr,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:tfe,validate:rfe,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},afe=[{value:"arithmetic",label:"Arithmetic",icon:fb},{value:"datetime_extract",label:"Date Extraction",icon:wm},{value:"ratio",label:"Ratio",icon:iF},{value:"similarity",label:"Similarity",icon:G6},{value:"group_agg",label:"Group Agg",icon:QP}],sfe=["add","subtract","multiply","divide"],ife=["year","month","day","weekday","hour","quarter","is_weekend"],ofe=["ratio","token_sort_ratio","token_set_ratio"],lfe=["mean","sum","count","min","max","std","median"],fa=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[s,o]=g.useState(""),l=e.filter(u=>u.toLowerCase().includes(s.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return i.jsxs("div",{className:"space-y-1.5",children:[n&&i.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),i.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[i.jsx(Hs,{size:12,className:"text-muted-foreground mr-1.5"}),i.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:s,onChange:u=>{o(u.target.value)}})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(u=>{const d=t.includes(u);return i.jsxs("div",{onClick:()=>{c(u)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[i.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&i.jsx(Zc,{size:8,strokeWidth:4})}),i.jsx("span",{className:"truncate",children:u})]},u)}):i.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},cfe=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=it(r||"").find(S=>S.datasetId))==null?void 0:_.datasetId,{data:s}=Xe(a),o=xe(S=>S.executionResult),l=r?o==null?void 0:o.node_results[r]:null,c=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null,u=c&&Array.isArray(c.generated_features)?c.generated_features.map(S=>String(S)):[],[d,f]=g.useState(!1),m=s?Object.values(s.columns).map(S=>S.name):[],h=s?Object.values(s.columns).filter(S=>["int","float","number"].some(C=>S.dtype.toLowerCase().includes(C))).map(S=>S.name):[],p=s?Object.values(s.columns).filter(S=>["date","time"].some(C=>S.dtype.toLowerCase().includes(C))).map(S=>S.name):[],x=s?Object.values(s.columns).filter(S=>["string","object","text"].some(C=>S.dtype.toLowerCase().includes(C))).map(S=>S.name):[],v=Fl(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),y=S=>{},w=S=>{const C={operation_type:S,method:S==="arithmetic"?"add":S==="similarity"?"ratio":S==="group_agg"?"mean":"year",input_columns:[],output_column:"",datetime_features:S==="datetime_extract"?["year"]:void 0,isExpanded:!0};t({operations:[...e.operations||[],C]})},b=(S,C)=>{const T=[...e.operations||[]];T[S]={...T[S],...C},t({operations:T})},j=(S,C)=>{C.stopPropagation();const T=[...e.operations||[]];T.splice(S,1),t({operations:T})},k=S=>{const C=[...e.operations||[]];C[S]={...C[S],isExpanded:!C[S].isExpanded},t({operations:C})},N=(S,C)=>`${S.operation_type}_${C}`;return i.jsxs("div",{className:"flex h-full",children:[i.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[i.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),afe.map(S=>i.jsxs("button",{onClick:()=>{w(S.value)},className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:S.label,children:[i.jsx(S.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),i.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:S.label.replace(" ",`
`)})]},S.value))]}),i.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[v.length>0&&i.jsxs("div",{className:"border-b bg-muted/10",children:[i.jsxs("button",{onClick:()=>{f(!d)},className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(GP,{size:14,className:v.length>0?"text-yellow-500":""}),i.jsxs("span",{children:["Recommendations (",v.length,")"]})]}),d?i.jsx(It,{size:14}):i.jsx(Zn,{size:14})]}),d&&i.jsx("div",{className:"p-4 bg-muted/5 border-t",children:i.jsx(Qi,{recommendations:v,onApply:y,className:"mb-0"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((S,C)=>{var T,E,O;return i.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{k(C)},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[S.isExpanded?i.jsx(It,{size:14,className:"text-muted-foreground"}):i.jsx(Zn,{size:14,className:"text-muted-foreground"}),i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:S.operation_type==="datetime_extract"?"Date":S.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(S.operation_type)&&i.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:S.method,onClick:M=>{M.stopPropagation()},onChange:M=>{b(C,{method:M.target.value})},children:(S.operation_type==="arithmetic"?sfe:S.operation_type==="similarity"?ofe:S.operation_type==="group_agg"?lfe:[]).map(M=>i.jsx("option",{value:M,children:M.replace("_"," ")},M))})]}),i.jsx("button",{onClick:M=>{j(C,M)},className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:i.jsx(Vs,{size:14})})]}),S.isExpanded&&i.jsxs("div",{className:"p-3 space-y-4",children:[S.operation_type==="arithmetic"&&i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:S.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),i.jsx(fa,{label:"Column A (Left Operand)",columns:h,selected:S.input_columns.slice(0,1),onChange:M=>{b(C,{input_columns:M})},single:!0}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-px bg-border flex-1"}),i.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:S.method==="add"?"+":S.method==="subtract"?"-":S.method==="multiply"?"":""}),i.jsx("div",{className:"h-px bg-border flex-1"})]}),i.jsx(fa,{label:"Column B (Right Operand)",columns:h,selected:((T=S.secondary_columns)==null?void 0:T.slice(0,1))||[],onChange:M=>{b(C,{secondary_columns:M})},single:!0})]}),S.operation_type==="ratio"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",i.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),i.jsx(fa,{label:"Numerator (Sum)",columns:h,selected:S.input_columns,onChange:M=>{b(C,{input_columns:M})}}),i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-dashed"})}),i.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),i.jsx(fa,{label:"Denominator (Sum)",columns:h,selected:S.secondary_columns||[],onChange:M=>{b(C,{secondary_columns:M})}})]}),S.operation_type==="similarity"&&i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[i.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),i.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),i.jsxs("li",{children:[i.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),i.jsxs("li",{children:[i.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),i.jsx(fa,{label:"String A",columns:x,selected:S.input_columns.slice(0,1),onChange:M=>b(C,{input_columns:M}),single:!0}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-px bg-border flex-1"}),i.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),i.jsx("div",{className:"h-px bg-border flex-1"})]}),i.jsx(fa,{label:"String B",columns:x,selected:((E=S.secondary_columns)==null?void 0:E.slice(0,1))||[],onChange:M=>b(C,{secondary_columns:M}),single:!0})]}),S.operation_type==="group_agg"&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),i.jsx(fa,{label:"Group By (Categorical)",columns:x.length>0?x:m,selected:S.input_columns.slice(0,1),onChange:M=>b(C,{input_columns:M}),single:!0}),i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-dashed"})}),i.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),i.jsx(fa,{label:"Target (Numeric)",columns:h,selected:((O=S.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:M=>b(C,{secondary_columns:M}),single:!0})]}),S.operation_type==="datetime_extract"&&i.jsxs("div",{className:"space-y-3",children:[i.jsx(fa,{label:"Date Column",columns:p.length>0?p:m,selected:S.input_columns.slice(0,1),onChange:M=>b(C,{input_columns:M}),single:!0}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:ife.map(M=>i.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(S.datetime_features||[]).includes(M),onChange:A=>{const L=S.datetime_features||[],D=A.target.checked?[...L,M]:L.filter(R=>R!==M);b(C,{datetime_features:D})}}),i.jsx("span",{className:"capitalize",children:M.replace("_"," ")})]},M))})]})]}),i.jsxs("div",{className:"pt-2",children:[i.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),i.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:N(S,C),value:S.output_column||"",onChange:M=>{b(C,{output_column:M.target.value})}})]})]})]},C)}),(!e.operations||e.operations.length===0)&&i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[i.jsx(fb,{size:32,className:"mb-2 opacity-20"}),i.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),i.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&i.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[i.jsx(Cr,{size:14}),i.jsx("span",{children:"Last Run Results"})]}),i.jsx("div",{className:"space-y-2 text-xs",children:u.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),i.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:u.length})]}),i.jsxs("div",{className:"pt-2",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(S=>i.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:S},S))})]})]}):i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[i.jsx(Ru,{size:12}),i.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},ufe={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:fb,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n,a;if(!((t=e.operations)!=null&&t.length))return{isValid:!1,message:"Add at least one operation."};for(const s of e.operations){if(s.operation_type==="arithmetic"&&(s.input_columns.length===0||!((r=s.secondary_columns)!=null&&r.length)&&!((n=s.constants)!=null&&n.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(s.operation_type==="datetime_extract"&&s.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(s.operation_type==="group_agg"&&(s.input_columns.length===0||!((a=s.secondary_columns)!=null&&a.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:cfe,getDefaultConfig:()=>({operations:[]})},dfe=({columns:e,selected:t,onChange:r,label:n})=>{const[a,s]=g.useState(""),o=e.filter(c=>c.toLowerCase().includes(a.toLowerCase())),l=c=>{t.includes(c)?r(t.filter(u=>u!==c)):r([...t,c])};return i.jsxs("div",{className:"space-y-1.5",children:[n&&i.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),i.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[i.jsx(Hs,{size:12,className:"text-muted-foreground mr-1.5"}),i.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:a,onChange:c=>{s(c.target.value)}})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:o.length>0?o.map(c=>{const u=t.includes(c);return i.jsxs("div",{onClick:()=>{l(c)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${u?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[i.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${u?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:u&&i.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-sm"})}),i.jsx("span",{className:"truncate",children:c})]},c)}):i.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center",children:"No columns found"})})]}),i.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[t.length," selected"]})]})},ffe={type:"PolynomialFeaturesNode",label:"Polynomial Features",description:"Generate polynomial and interaction features.",category:"Preprocessing",icon:jk,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Transformed Data",type:"dataset"}],getDefaultConfig:()=>({columns:[],degree:2,interaction_only:!1,include_bias:!1,output_prefix:"poly",include_input_features:!1,isExpanded:!0}),settings:({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=it(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{data:s}=Xe(a),o=s?Object.values(s.columns).filter(d=>["int","float","number","double","long"].some(f=>d.dtype.toLowerCase().includes(f))).map(d=>d.name):[],l=d=>{t({...e,...d})},c=()=>{l({isExpanded:!e.isExpanded})};return i.jsx("div",{className:"space-y-2 min-w-[280px]",children:i.jsxs("div",{className:"border rounded-md bg-card",children:[i.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:c,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jk,{size:14,className:"text-primary"}),i.jsx("span",{className:"text-sm font-medium",children:"Configuration"})]}),e.isExpanded?i.jsx(It,{size:14}):i.jsx(Zn,{size:14})]}),e.isExpanded&&i.jsxs("div",{className:"p-3 space-y-4 border-t",children:[i.jsx(dfe,{label:"Input Columns (Numeric)",columns:o,selected:e.columns||[],onChange:d=>l({columns:d})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:["Degree",i.jsxs("div",{className:"group relative",children:[i.jsx(Ru,{size:10,className:"cursor-help"}),i.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block w-48 p-2 bg-popover text-popover-foreground text-[10px] rounded border shadow-lg z-50",children:"The degree of the polynomial features. Default = 2."})]})]}),i.jsx("input",{type:"number",min:2,max:5,className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.degree||2,onChange:d=>l({degree:parseInt(d.target.value)||2})})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Prefix"}),i.jsx("input",{type:"text",className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.output_prefix||"poly",onChange:d=>l({output_prefix:d.target.value})})]}),i.jsxs("div",{className:"space-y-2 pt-1",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.interaction_only||!1,onChange:d=>l({interaction_only:d.target.checked})}),i.jsx("span",{className:"text-xs",children:"Interaction Only"})]}),i.jsx("p",{className:"text-[10px] text-muted-foreground pl-5",children:"If true, only interaction features are produced: features that are products of at most degree distinct input features."}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_bias||!1,onChange:d=>l({include_bias:d.target.checked})}),i.jsx("span",{className:"text-xs",children:"Include Bias"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_input_features||!1,onChange:d=>l({include_input_features:d.target.checked})}),i.jsx("span",{className:"text-xs",children:"Include Input Features"})]})]})]})]})]})})},validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one input column."}:e.degree<2?{isValid:!1,message:"Degree must be at least 2."}:{isValid:!0}},mfe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return i.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[i.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[i.jsx(Hs,{size:12,className:"text-muted-foreground mr-1.5"}),i.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),i.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return i.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[i.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),i.jsx("span",{className:"truncate",children:l})]},l)}):i.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},hfe=({operation:e,onChange:t,onDelete:r})=>i.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let s="both";a==="case"&&(s="lower"),a==="remove_special"&&(s="keep_alphanumeric"),a==="regex"&&(s="custom"),t({...e,op:a,mode:s})},children:[i.jsx("option",{value:"trim",children:"Trim Whitespace"}),i.jsx("option",{value:"case",children:"Change Case"}),i.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),i.jsx("option",{value:"regex",children:"Regex Replace"})]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:i.jsx(Vs,{size:14})})]}),i.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&i.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[i.jsx("option",{value:"both",children:"Both Ends"}),i.jsx("option",{value:"leading",children:"Leading Only"}),i.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&i.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[i.jsx("option",{value:"lower",children:"Lower Case"}),i.jsx("option",{value:"upper",children:"Upper Case"}),i.jsx("option",{value:"title",children:"Title Case"}),i.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[i.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),i.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),i.jsx("option",{value:"letters_only",children:"Letters Only"}),i.jsx("option",{value:"digits_only",children:"Digits Only"})]}),i.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[i.jsx("option",{value:"custom",children:"Custom Pattern"}),i.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),i.jsx("option",{value:"extract_digits",children:"Extract Digits"}),i.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),i.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:i.jsx(xF,{size:14})})]}),i.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),pfe=({config:e,onChange:t,nodeId:r})=>{var x;const n=g.useRef(null),[a,s]=g.useState(!1),[o,l]=g.useState(!0),u=(x=it(r||"").find(v=>v.datasetId))==null?void 0:x.datasetId,{data:d}=Xe(u),f=d?Object.values(d.columns).filter(v=>{const y=String(v.dtype).toLowerCase();return y.includes("object")||y.includes("string")||y.includes("category")||y.includes("text")}).map(v=>v.name):[];g.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(y=>{for(const w of y)s(w.contentRect.width>400)});return v.observe(n.current),()=>{v.disconnect()}},[]);const m=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},h=(v,y)=>{const w=[...e.operations];w[v]=y,t({...e,operations:w})},p=v=>{const y=e.operations.filter((w,b)=>b!==v);t({...e,operations:y})};return i.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),i.jsx(mfe,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),i.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[i.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[i.jsx(Ru,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),i.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),o?i.jsx(Du,{size:14,className:"text-blue-600 dark:text-blue-400"}):i.jsx(It,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&i.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:i.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),i.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[i.jsx(qi,{size:14}),"Add Step"]})]}),i.jsx("div",{className:"space-y-3",children:e.operations.length===0?i.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),i.jsx("button",{onClick:m,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((v,y)=>i.jsx(hfe,{operation:v,onChange:w=>{h(y,w)},onDelete:()=>{p(y)}},y))})]})]})})},gfe={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:U6,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:pfe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},yfe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return i.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[i.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[i.jsx(Hs,{size:12,className:"text-muted-foreground mr-1.5"}),i.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),i.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return i.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[i.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),i.jsx("span",{className:"truncate",children:l})]},l)}):i.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},W_=({value:e,type:t,onChange:r,placeholder:n})=>{const a=o=>{let l=e;o==="number"&&(l=Number(e)||0),o==="boolean"&&(l=!!e),o==="string"&&(l=String(e)),o==="null"&&(l=null),o==="nan"&&(l="NaN"),r(l,o)},s=o=>{let l=o.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return i.jsxs("div",{className:"flex gap-1",children:[i.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:o=>{a(o.target.value)},children:[i.jsx("option",{value:"string",children:"Text"}),i.jsx("option",{value:"number",children:"Num"}),i.jsx("option",{value:"boolean",children:"Bool"}),i.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&i.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="number"&&i.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="boolean"&&i.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:o=>r(o.target.value==="true","boolean"),children:[i.jsx("option",{value:"true",children:"True"}),i.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&i.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},xfe=({item:e,onChange:t,onDelete:r})=>i.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:i.jsx(Vs,{size:14})})]}),i.jsx(W_,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-gray-400",children:i.jsx(L6,{size:14,className:"rotate-90"})}),i.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),i.jsx(W_,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),vfe=({config:e,onChange:t,nodeId:r})=>{var d;const a=(d=it(r||"").find(f=>f==null?void 0:f.datasetId))==null?void 0:d.datasetId,{data:s}=Xe(a),o=s?Object.values(s.columns).map(f=>f.name):[],l=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},c=(f,m)=>{const h=[...e.replacements];h[f]=m,t({...e,replacements:h})},u=f=>{const m=e.replacements.filter((h,p)=>p!==f);t({...e,replacements:m})};return i.jsxs("div",{className:"space-y-4 p-1",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Target Columns"}),i.jsx(yfe,{columns:o,selected:e.columns,onChange:f=>t({...e,columns:f})}),i.jsx("p",{className:"text-[10px] text-gray-500",children:"Select columns to apply replacements to. If empty, applies to all compatible columns."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Replacements"}),i.jsxs("button",{onClick:l,className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[i.jsx(qi,{size:12})," Add"]})]}),i.jsxs("div",{className:"space-y-3",children:[e.replacements.map((f,m)=>i.jsx(xfe,{item:f,onChange:h=>{c(m,h)},onDelete:()=>{u(m)}},m)),e.replacements.length===0&&i.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border border-dashed rounded",children:"No replacements defined."})]})]})]})},bfe={type:"value_replacement",label:"Replace Values",category:"Preprocessing",description:"Replace specific values in columns (e.g. -999 to NaN).",icon:oF,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Dataset",type:"dataset"}],settings:vfe,validate:e=>{var t;return(t=e.replacements)!=null&&t.length?{isValid:!0}:{isValid:!0,message:"No replacements defined (pass-through)."}},getDefaultConfig:()=>({columns:[],replacements:[]})},wfe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return i.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[i.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[i.jsx(Hs,{size:12,className:"text-muted-foreground mr-1.5"}),i.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),i.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return i.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[i.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),i.jsx("span",{className:"truncate",children:l})]},l)}):i.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},jfe=({pairs:e,onChange:t})=>{const[r,n]=g.useState(""),[a,s]=g.useState(""),o=()=>{r&&a&&(t({...e,[r]:a}),n(""),s(""))},l=c=>{const u={...e};Reflect.deleteProperty(u,c),t(u)};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-2 items-end",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),i.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>{n(c.target.value)}})]}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),i.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>{s(c.target.value)}})]}),i.jsx("button",{onClick:o,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(qi,{size:16})})]}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?i.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>i.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[i.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),i.jsx(UP,{size:12,className:"text-gray-400 shrink-0"}),i.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),i.jsx("button",{onClick:()=>{l(c)},className:"text-gray-400 hover:text-red-500",children:i.jsx(Vs,{size:14})})]},c))})]})},kfe=({config:e,onChange:t,nodeId:r})=>{var m;const n=g.useRef(null),[a,s]=g.useState(!1),[o,l]=g.useState(!0),u=(m=it(r||"").find(h=>h.datasetId))==null?void 0:m.datasetId,{data:d}=Xe(u),f=d?Object.values(d.columns).filter(h=>{const p=String(h.dtype).toLowerCase();return p.includes("object")||p.includes("string")||p.includes("category")||p.includes("text")}).map(h=>h.name):[];return g.useEffect(()=>{if(!n.current)return;const h=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return h.observe(n.current),()=>{h.disconnect()}},[]),i.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),i.jsx(wfe,{columns:f,selected:e.columns,onChange:h=>t({...e,columns:h})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),i.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[i.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[i.jsx(Ru,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),i.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),o?i.jsx(Du,{size:14,className:"text-blue-600 dark:text-blue-400"}):i.jsx(It,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&i.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:i.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),i.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:h=>t({...e,mode:h.target.value}),children:[i.jsx("option",{value:"custom",children:"Custom Mapping"}),i.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),i.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),i.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),i.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),i.jsx(jfe,{pairs:e.custom_pairs,onChange:h=>t({...e,custom_pairs:h})})]})]})]})})},Nfe={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:UP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:kfe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},Sfe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return i.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[i.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[i.jsx(Hs,{size:12,className:"text-muted-foreground mr-1.5"}),i.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),i.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return i.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[i.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),i.jsx("span",{className:"truncate",children:l})]},l)}):i.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},_fe=({config:e,onChange:t,nodeId:r})=>{var m;const n=g.useRef(null),[a,s]=g.useState(!1),[o,l]=g.useState(!0),u=(m=it(r||"").find(h=>h.datasetId))==null?void 0:m.datasetId,{data:d}=Xe(u),f=d?Object.values(d.columns).filter(h=>["int","float","number"].some(p=>h.dtype.toLowerCase().includes(p))).map(h=>String(h.name)):[];return g.useEffect(()=>{if(!n.current)return;const h=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return h.observe(n.current),()=>{h.disconnect()}},[]),i.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:i.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[i.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),i.jsx(Sfe,{columns:f,selected:e.columns,onChange:h=>t({...e,columns:h})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),i.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[i.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[i.jsx(Ru,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),i.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),o?i.jsx(Du,{size:14,className:"text-blue-600 dark:text-blue-400"}):i.jsx(It,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&i.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:i.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),i.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:h=>t({...e,mode:h.target.value}),children:[i.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),i.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),i.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),i.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),i.jsx("option",{value:"custom_range",children:"Custom Range"})]}),i.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),i.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:h=>t({...e,min_value:h.target.value?parseFloat(h.target.value):void 0})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),i.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:h=>t({...e,max_value:h.target.value?parseFloat(h.target.value):void 0})})]}),i.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Efe={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:Xh,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:_fe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},Cfe=()=>{_e.register(lde),_e.register(dde),_e.register(mde),_e.register(pde),_e.register(yde),_e.register(Kde),_e.register(Xde),_e.register(Jde),_e.register(nfe),_e.register(ufe),_e.register(ffe),_e.register(gfe),_e.register(bfe),_e.register(Nfe),_e.register(Efe),_e.register(Vde),_e.register(Pde),_e.register(Ade),_e.register(Mde),_e.register(Dde),_e.register(Lde),_e.register(Fde),_e.register(Ude),_e.register(jde),_e.register(Ede)};Cfe();const Pfe=new H$,K_=document.getElementById("root");K_&&A0.createRoot(K_).render(i.jsx(Ir.StrictMode,{children:i.jsx(W$,{client:Pfe,children:i.jsx(ade,{})})}));
