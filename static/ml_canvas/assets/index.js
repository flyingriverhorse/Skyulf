var E5=Object.defineProperty;var T1=e=>{throw TypeError(e)};var C5=(e,t,r)=>t in e?E5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Al=(e,t,r)=>C5(e,typeof t!="symbol"?t+"":t,r),tg=(e,t,r)=>t.has(e)||T1("Cannot "+r);var $=(e,t,r)=>(tg(e,t,"read from private field"),r?r.call(e):t.get(e)),he=(e,t,r)=>t.has(e)?T1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>(tg(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(tg(e,t,"access private method"),r);var md=(e,t,r,n)=>({set _(a){ae(e,t,a,r)},get _(){return $(e,t,n)}});function P5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function ea(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $S={exports:{}},ym={},zS={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.element"),O5=Symbol.for("react.portal"),A5=Symbol.for("react.fragment"),T5=Symbol.for("react.strict_mode"),M5=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),D5=Symbol.for("react.context"),R5=Symbol.for("react.forward_ref"),L5=Symbol.for("react.suspense"),$5=Symbol.for("react.memo"),z5=Symbol.for("react.lazy"),M1=Symbol.iterator;function F5(e){return e===null||typeof e!="object"?null:(e=M1&&e[M1]||e["@@iterator"],typeof e=="function"?e:null)}var FS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,US={};function ul(e,t,r){this.props=e,this.context=t,this.refs=US,this.updater=r||FS}ul.prototype.isReactComponent={};ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function HS(){}HS.prototype=ul.prototype;function Kx(e,t,r){this.props=e,this.context=t,this.refs=US,this.updater=r||FS}var qx=Kx.prototype=new HS;qx.constructor=Kx;BS(qx,ul.prototype);qx.isPureReactComponent=!0;var I1=Array.isArray,VS=Object.prototype.hasOwnProperty,Yx={current:null},WS={key:!0,ref:!0,__self:!0,__source:!0};function KS(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)VS.call(t,n)&&!WS.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:yu,type:e,key:s,ref:i,props:a,_owner:Yx.current}}function B5(e,t){return{$$typeof:yu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gx(e){return typeof e=="object"&&e!==null&&e.$$typeof===yu}function U5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var D1=/\/+/g;function rg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?U5(""+e.key):t.toString(36)}function df(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case yu:case O5:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+rg(i,0):n,I1(a)?(r="",e!=null&&(r=e.replace(D1,"$&/")+"/"),df(a,t,r,"",function(u){return u})):a!=null&&(Gx(a)&&(a=B5(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(D1,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",I1(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+rg(s,l);i+=df(s,t,r,c,a)}else if(c=F5(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+rg(s,l++),i+=df(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pd(e,t,r){if(e==null)return e;var n=[],a=0;return df(e,n,"","",function(s){return t.call(r,s,a++)}),n}function H5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rr={current:null},ff={transition:null},V5={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:ff,ReactCurrentOwner:Yx};function qS(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:pd,forEach:function(e,t,r){pd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pd(e,function(){t++}),t},toArray:function(e){return pd(e,function(t){return t})||[]},only:function(e){if(!Gx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=ul;ve.Fragment=A5;ve.Profiler=M5;ve.PureComponent=Kx;ve.StrictMode=T5;ve.Suspense=L5;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V5;ve.act=qS;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=BS({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Yx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)VS.call(t,c)&&!WS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:yu,type:e.type,key:a,ref:s,props:n,_owner:i}};ve.createContext=function(e){return e={$$typeof:D5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I5,_context:e},e.Consumer=e};ve.createElement=KS;ve.createFactory=function(e){var t=KS.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:R5,render:e}};ve.isValidElement=Gx;ve.lazy=function(e){return{$$typeof:z5,_payload:{_status:-1,_result:e},_init:H5}};ve.memo=function(e,t){return{$$typeof:$5,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=ff.transition;ff.transition={};try{e()}finally{ff.transition=t}};ve.unstable_act=qS;ve.useCallback=function(e,t){return rr.current.useCallback(e,t)};ve.useContext=function(e){return rr.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return rr.current.useDeferredValue(e)};ve.useEffect=function(e,t){return rr.current.useEffect(e,t)};ve.useId=function(){return rr.current.useId()};ve.useImperativeHandle=function(e,t,r){return rr.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return rr.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return rr.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return rr.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return rr.current.useReducer(e,t,r)};ve.useRef=function(e){return rr.current.useRef(e)};ve.useState=function(e){return rr.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return rr.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return rr.current.useTransition()};ve.version="18.3.1";zS.exports=ve;var y=zS.exports;const Or=ea(y),W5=P5({__proto__:null,default:Or},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5=y,q5=Symbol.for("react.element"),Y5=Symbol.for("react.fragment"),G5=Object.prototype.hasOwnProperty,X5=K5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q5={key:!0,ref:!0,__self:!0,__source:!0};function YS(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)G5.call(t,n)&&!Q5.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:q5,type:e,key:s,ref:i,props:a,_owner:X5.current}}ym.Fragment=Y5;ym.jsx=YS;ym.jsxs=YS;$S.exports=ym;var o=$S.exports,p0={},GS={exports:{}},Fr={},XS={exports:{}},QS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var z=T.length;T.push(M);e:for(;0<z;){var B=z-1>>>1,F=T[B];if(0<a(F,M))T[B]=M,T[z]=F,z=B;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var M=T[0],z=T.pop();if(z!==M){T[0]=z;e:for(var B=0,F=T.length,Y=F>>>1;B<Y;){var q=2*(B+1)-1,Q=T[q],le=q+1,J=T[le];if(0>a(Q,z))le<F&&0>a(J,Q)?(T[B]=J,T[le]=z,B=le):(T[B]=Q,T[q]=z,B=q);else if(le<F&&0>a(J,z))T[B]=J,T[le]=z,B=le;else break e}}return M}function a(T,M){var z=T.sortIndex-M.sortIndex;return z!==0?z:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=T)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(T){if(x=!1,w(T),!p)if(r(c)!==null)p=!0,A(k);else{var M=r(u);M!==null&&D(j,M.startTime-T)}}function k(T,M){p=!1,x&&(x=!1,g(S),S=-1),m=!0;var z=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||T&&!E());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var F=B(f.expirationTime<=M);M=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var q=r(u);q!==null&&D(j,q.startTime-M),Y=!1}return Y}finally{f=null,h=z,m=!1}}var _=!1,N=null,S=-1,P=5,I=-1;function E(){return!(e.unstable_now()-I<P)}function C(){if(N!==null){var T=e.unstable_now();I=T;var M=!0;try{M=N(!0,T)}finally{M?L():(_=!1,N=null)}}else _=!1}var L;if(typeof b=="function")L=function(){b(C)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,R=O.port2;O.port1.onmessage=C,L=function(){R.postMessage(null)}}else L=function(){v(C,0)};function A(T){N=T,_||(_=!0,L())}function D(T,M){S=v(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,A(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return T()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return M()}finally{h=z}},e.unstable_scheduleCallback=function(T,M,z){var B=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,T={id:d++,callback:M,priorityLevel:T,startTime:z,expirationTime:F,sortIndex:-1},z>B?(T.sortIndex=z,t(u,T),r(c)===null&&T===r(u)&&(x?(g(S),S=-1):x=!0,D(j,z-B))):(T.sortIndex=F,t(c,T),p||m||(p=!0,A(k))),T},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(T){var M=h;return function(){var z=h;h=M;try{return T.apply(this,arguments)}finally{h=z}}}})(QS);XS.exports=QS;var J5=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5=y,Dr=J5;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JS=new Set,Nc={};function $i(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(Nc[e]=t,e=0;e<t.length;e++)JS.add(t[e])}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g0=Object.prototype.hasOwnProperty,eR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R1={},L1={};function tR(e){return g0.call(L1,e)?!0:g0.call(R1,e)?!1:eR.test(e)?L1[e]=!0:(R1[e]=!0,!1)}function rR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nR(e,t,r,n){if(t===null||typeof t>"u"||rR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nr(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zt[e]=new nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zt[t]=new nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zt[e]=new nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zt[e]=new nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zt[e]=new nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zt[e]=new nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zt[e]=new nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zt[e]=new nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zt[e]=new nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xx=/[\-:]([a-z])/g;function Qx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xx,Qx);zt[t]=new nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xx,Qx);zt[t]=new nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xx,Qx);zt[t]=new nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zt[e]=new nr(e,1,!1,e.toLowerCase(),null,!1,!1)});zt.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zt[e]=new nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jx(e,t,r,n){var a=zt.hasOwnProperty(t)?zt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nR(t,r,a,n)&&(r=null),n||a===null?tR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var La=Z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),Ji=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),Zx=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),eE=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),v0=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),tE=Symbol.for("react.offscreen"),$1=Symbol.iterator;function Tl(e){return e===null||typeof e!="object"?null:(e=$1&&e[$1]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,ng;function ec(e){if(ng===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ng=t&&t[1]||""}return`
`+ng+e}var ag=!1;function sg(e,t){if(!e||ag)return"";ag=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{ag=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ec(e):""}function aR(e){switch(e.tag){case 5:return ec(e.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return e=sg(e.type,!1),e;case 11:return e=sg(e.type.render,!1),e;case 1:return e=sg(e.type,!0),e;default:return""}}function b0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zi:return"Fragment";case Ji:return"Portal";case y0:return"Profiler";case Zx:return"StrictMode";case x0:return"Suspense";case v0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eE:return(e.displayName||"Context")+".Consumer";case ZS:return(e._context.displayName||"Context")+".Provider";case ev:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tv:return t=e.displayName||null,t!==null?t:b0(e.type)||"Memo";case Ga:t=e._payload,e=e._init;try{return b0(e(t))}catch{}}return null}function sR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b0(t);case 8:return t===Zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _s(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iR(e){var t=rE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yd(e){e._valueTracker||(e._valueTracker=iR(e))}function nE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function w0(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function z1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_s(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aE(e,t){t=t.checked,t!=null&&Jx(e,"checked",t,!1)}function j0(e,t){aE(e,t);var r=_s(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?k0(e,t.type,r):t.hasOwnProperty("defaultValue")&&k0(e,t.type,_s(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function F1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function k0(e,t,r){(t!=="number"||zf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tc=Array.isArray;function po(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_s(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function N0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(tc(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_s(r)}}function sE(e,t){var r=_s(t.value),n=_s(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function U1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xd,oE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oR=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(e){oR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fc[t]=fc[e]})});function lE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fc.hasOwnProperty(e)&&fc[e]?(""+t).trim():t+"px"}function cE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=lE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lR=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S0(e,t){if(t){if(lR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function E0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function rv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var P0=null,go=null,yo=null;function H1(e){if(e=bu(e)){if(typeof P0!="function")throw Error(G(280));var t=e.stateNode;t&&(t=jm(t),P0(e.stateNode,e.type,t))}}function uE(e){go?yo?yo.push(e):yo=[e]:go=e}function dE(){if(go){var e=go,t=yo;if(yo=go=null,H1(e),t)for(e=0;e<t.length;e++)H1(t[e])}}function fE(e,t){return e(t)}function hE(){}var ig=!1;function mE(e,t,r){if(ig)return e(t,r);ig=!0;try{return fE(e,t,r)}finally{ig=!1,(go!==null||yo!==null)&&(hE(),dE())}}function Sc(e,t){var r=e.stateNode;if(r===null)return null;var n=jm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var O0=!1;if(Na)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){O0=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{O0=!1}function cR(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hc=!1,Ff=null,Bf=!1,A0=null,uR={onError:function(e){hc=!0,Ff=e}};function dR(e,t,r,n,a,s,i,l,c){hc=!1,Ff=null,cR.apply(uR,arguments)}function fR(e,t,r,n,a,s,i,l,c){if(dR.apply(this,arguments),hc){if(hc){var u=Ff;hc=!1,Ff=null}else throw Error(G(198));Bf||(Bf=!0,A0=u)}}function zi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function pE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function V1(e){if(zi(e)!==e)throw Error(G(188))}function hR(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return V1(a),e;if(s===n)return V1(a),t;s=s.sibling}throw Error(G(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function gE(e){return e=hR(e),e!==null?yE(e):null}function yE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yE(e);if(t!==null)return t;e=e.sibling}return null}var xE=Dr.unstable_scheduleCallback,W1=Dr.unstable_cancelCallback,mR=Dr.unstable_shouldYield,pR=Dr.unstable_requestPaint,it=Dr.unstable_now,gR=Dr.unstable_getCurrentPriorityLevel,nv=Dr.unstable_ImmediatePriority,vE=Dr.unstable_UserBlockingPriority,Uf=Dr.unstable_NormalPriority,yR=Dr.unstable_LowPriority,bE=Dr.unstable_IdlePriority,xm=null,Hn=null;function xR(e){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(xm,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:wR,vR=Math.log,bR=Math.LN2;function wR(e){return e>>>=0,e===0?32:31-(vR(e)/bR|0)|0}var vd=64,bd=4194304;function rc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=rc(l):(s&=i,s!==0&&(n=rc(s)))}else i=r&~a,i!==0?n=rc(i):s!==0&&(n=rc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bn(t),a=1<<r,n|=e[r],t&=~a;return n}function jR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-bn(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=jR(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function T0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wE(){var e=vd;return vd<<=1,!(vd&4194240)&&(vd=64),e}function og(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bn(t),e[t]=r}function NR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bn(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function av(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Me=0;function jE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kE,sv,NE,_E,SE,M0=!1,wd=[],ms=null,ps=null,gs=null,Ec=new Map,Cc=new Map,Za=[],_R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K1(e,t){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(t.pointerId)}}function Il(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=bu(t),t!==null&&sv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SR(e,t,r,n,a){switch(t){case"focusin":return ms=Il(ms,e,t,r,n,a),!0;case"dragenter":return ps=Il(ps,e,t,r,n,a),!0;case"mouseover":return gs=Il(gs,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ec.set(s,Il(Ec.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Cc.set(s,Il(Cc.get(s)||null,e,t,r,n,a)),!0}return!1}function EE(e){var t=Xs(e.target);if(t!==null){var r=zi(t);if(r!==null){if(t=r.tag,t===13){if(t=pE(r),t!==null){e.blockedOn=t,SE(e.priority,function(){NE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=I0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C0=n,r.target.dispatchEvent(n),C0=null}else return t=bu(r),t!==null&&sv(t),e.blockedOn=r,!1;t.shift()}return!0}function q1(e,t,r){hf(e)&&r.delete(t)}function ER(){M0=!1,ms!==null&&hf(ms)&&(ms=null),ps!==null&&hf(ps)&&(ps=null),gs!==null&&hf(gs)&&(gs=null),Ec.forEach(q1),Cc.forEach(q1)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,M0||(M0=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,ER)))}function Pc(e){function t(a){return Dl(a,e)}if(0<wd.length){Dl(wd[0],e);for(var r=1;r<wd.length;r++){var n=wd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ms!==null&&Dl(ms,e),ps!==null&&Dl(ps,e),gs!==null&&Dl(gs,e),Ec.forEach(t),Cc.forEach(t),r=0;r<Za.length;r++)n=Za[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)EE(r),r.blockedOn===null&&Za.shift()}var xo=La.ReactCurrentBatchConfig,Vf=!0;function CR(e,t,r,n){var a=Me,s=xo.transition;xo.transition=null;try{Me=1,iv(e,t,r,n)}finally{Me=a,xo.transition=s}}function PR(e,t,r,n){var a=Me,s=xo.transition;xo.transition=null;try{Me=4,iv(e,t,r,n)}finally{Me=a,xo.transition=s}}function iv(e,t,r,n){if(Vf){var a=I0(e,t,r,n);if(a===null)yg(e,t,n,Wf,r),K1(e,n);else if(SR(a,e,t,r,n))n.stopPropagation();else if(K1(e,n),t&4&&-1<_R.indexOf(e)){for(;a!==null;){var s=bu(a);if(s!==null&&kE(s),s=I0(e,t,r,n),s===null&&yg(e,t,n,Wf,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else yg(e,t,n,null,r)}}var Wf=null;function I0(e,t,r,n){if(Wf=null,e=rv(n),e=Xs(e),e!==null)if(t=zi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=pE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wf=e,null}function CE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gR()){case nv:return 1;case vE:return 4;case Uf:case yR:return 16;case bE:return 536870912;default:return 16}default:return 16}}var ds=null,ov=null,mf=null;function PE(){if(mf)return mf;var e,t=ov,r=t.length,n,a="value"in ds?ds.value:ds.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return mf=a.slice(e,1<n?1-n:void 0)}function pf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jd(){return!0}function Y1(){return!1}function Br(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jd:Y1,this.isPropagationStopped=Y1,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jd)},persist:function(){},isPersistent:jd}),t}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=Br(dl),vu=et({},dl,{view:0,detail:0}),OR=Br(vu),lg,cg,Rl,vm=et({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rl&&(Rl&&e.type==="mousemove"?(lg=e.screenX-Rl.screenX,cg=e.screenY-Rl.screenY):cg=lg=0,Rl=e),lg)},movementY:function(e){return"movementY"in e?e.movementY:cg}}),G1=Br(vm),AR=et({},vm,{dataTransfer:0}),TR=Br(AR),MR=et({},vu,{relatedTarget:0}),ug=Br(MR),IR=et({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),DR=Br(IR),RR=et({},dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LR=Br(RR),$R=et({},dl,{data:0}),X1=Br($R),zR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BR[e])?!!t[e]:!1}function cv(){return UR}var HR=et({},vu,{key:function(e){if(e.key){var t=zR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cv,charCode:function(e){return e.type==="keypress"?pf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VR=Br(HR),WR=et({},vm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q1=Br(WR),KR=et({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cv}),qR=Br(KR),YR=et({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GR=Br(YR),XR=et({},vm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QR=Br(XR),JR=[9,13,27,32],uv=Na&&"CompositionEvent"in window,mc=null;Na&&"documentMode"in document&&(mc=document.documentMode);var ZR=Na&&"TextEvent"in window&&!mc,OE=Na&&(!uv||mc&&8<mc&&11>=mc),J1=" ",Z1=!1;function AE(e,t){switch(e){case"keyup":return JR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function eL(e,t){switch(e){case"compositionend":return TE(t);case"keypress":return t.which!==32?null:(Z1=!0,J1);case"textInput":return e=t.data,e===J1&&Z1?null:e;default:return null}}function tL(e,t){if(eo)return e==="compositionend"||!uv&&AE(e,t)?(e=PE(),mf=ov=ds=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OE&&t.locale!=="ko"?null:t.data;default:return null}}var rL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ej(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rL[e.type]:t==="textarea"}function ME(e,t,r,n){uE(n),t=Kf(t,"onChange"),0<t.length&&(r=new lv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pc=null,Oc=null;function nL(e){VE(e,0)}function bm(e){var t=no(e);if(nE(t))return e}function aL(e,t){if(e==="change")return t}var IE=!1;if(Na){var dg;if(Na){var fg="oninput"in document;if(!fg){var tj=document.createElement("div");tj.setAttribute("oninput","return;"),fg=typeof tj.oninput=="function"}dg=fg}else dg=!1;IE=dg&&(!document.documentMode||9<document.documentMode)}function rj(){pc&&(pc.detachEvent("onpropertychange",DE),Oc=pc=null)}function DE(e){if(e.propertyName==="value"&&bm(Oc)){var t=[];ME(t,Oc,e,rv(e)),mE(nL,t)}}function sL(e,t,r){e==="focusin"?(rj(),pc=t,Oc=r,pc.attachEvent("onpropertychange",DE)):e==="focusout"&&rj()}function iL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bm(Oc)}function oL(e,t){if(e==="click")return bm(t)}function lL(e,t){if(e==="input"||e==="change")return bm(t)}function cL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:cL;function Ac(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!g0.call(t,a)||!Nn(e[a],t[a]))return!1}return!0}function nj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aj(e,t){var r=nj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nj(r)}}function RE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?RE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LE(){for(var e=window,t=zf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zf(e.document)}return t}function dv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uL(e){var t=LE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&RE(r.ownerDocument.documentElement,r)){if(n!==null&&dv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=aj(r,s);var i=aj(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dL=Na&&"documentMode"in document&&11>=document.documentMode,to=null,D0=null,gc=null,R0=!1;function sj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;R0||to==null||to!==zf(n)||(n=to,"selectionStart"in n&&dv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gc&&Ac(gc,n)||(gc=n,n=Kf(D0,"onSelect"),0<n.length&&(t=new lv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=to)))}function kd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ro={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},hg={},$E={};Na&&($E=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function wm(e){if(hg[e])return hg[e];if(!ro[e])return e;var t=ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $E)return hg[e]=t[r];return e}var zE=wm("animationend"),FE=wm("animationiteration"),BE=wm("animationstart"),UE=wm("transitionend"),HE=new Map,ij="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(e,t){HE.set(e,t),$i(t,[e])}for(var mg=0;mg<ij.length;mg++){var pg=ij[mg],fL=pg.toLowerCase(),hL=pg[0].toUpperCase()+pg.slice(1);As(fL,"on"+hL)}As(zE,"onAnimationEnd");As(FE,"onAnimationIteration");As(BE,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(UE,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mL=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function oj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fR(n,t,void 0,e),e.currentTarget=null}function VE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;oj(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;oj(a,l,u),s=c}}}if(Bf)throw e=A0,Bf=!1,A0=null,e}function Fe(e,t){var r=t[B0];r===void 0&&(r=t[B0]=new Set);var n=e+"__bubble";r.has(n)||(WE(t,e,2,!1),r.add(n))}function gg(e,t,r){var n=0;t&&(n|=4),WE(r,e,n,t)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[Nd]){e[Nd]=!0,JS.forEach(function(r){r!=="selectionchange"&&(mL.has(r)||gg(r,!1,e),gg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nd]||(t[Nd]=!0,gg("selectionchange",!1,t))}}function WE(e,t,r,n){switch(CE(t)){case 1:var a=CR;break;case 4:a=PR;break;default:a=iv}r=a.bind(null,t,r,e),a=void 0,!O0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function yg(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Xs(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}mE(function(){var u=s,d=rv(r),f=[];e:{var h=HE.get(e);if(h!==void 0){var m=lv,p=e;switch(e){case"keypress":if(pf(r)===0)break e;case"keydown":case"keyup":m=VR;break;case"focusin":p="focus",m=ug;break;case"focusout":p="blur",m=ug;break;case"beforeblur":case"afterblur":m=ug;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=G1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qR;break;case zE:case FE:case BE:m=DR;break;case UE:m=GR;break;case"scroll":m=OR;break;case"wheel":m=QR;break;case"copy":case"cut":case"paste":m=LR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Q1}var x=(t&4)!==0,v=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=Sc(b,g),j!=null&&x.push(Mc(b,j,w)))),v)break;b=b.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==C0&&(p=r.relatedTarget||r.fromElement)&&(Xs(p)||p[_a]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Xs(p):null,p!==null&&(v=zi(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=G1,j="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=Q1,j="onPointerLeave",g="onPointerEnter",b="pointer"),v=m==null?h:no(m),w=p==null?h:no(p),h=new x(j,b+"leave",m,r,d),h.target=v,h.relatedTarget=w,j=null,Xs(d)===u&&(x=new x(g,b+"enter",p,r,d),x.target=w,x.relatedTarget=v,j=x),v=j,m&&p)t:{for(x=m,g=p,b=0,w=x;w;w=Ki(w))b++;for(w=0,j=g;j;j=Ki(j))w++;for(;0<b-w;)x=Ki(x),b--;for(;0<w-b;)g=Ki(g),w--;for(;b--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ki(x),g=Ki(g)}x=null}else x=null;m!==null&&lj(f,h,m,x,!1),p!==null&&v!==null&&lj(f,v,p,x,!0)}}e:{if(h=u?no(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=aL;else if(ej(h))if(IE)k=lL;else{k=iL;var _=sL}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=oL);if(k&&(k=k(e,u))){ME(f,k,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&k0(h,"number",h.value)}switch(_=u?no(u):window,e){case"focusin":(ej(_)||_.contentEditable==="true")&&(to=_,D0=u,gc=null);break;case"focusout":gc=D0=to=null;break;case"mousedown":R0=!0;break;case"contextmenu":case"mouseup":case"dragend":R0=!1,sj(f,r,d);break;case"selectionchange":if(dL)break;case"keydown":case"keyup":sj(f,r,d)}var N;if(uv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else eo?AE(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(OE&&r.locale!=="ko"&&(eo||S!=="onCompositionStart"?S==="onCompositionEnd"&&eo&&(N=PE()):(ds=d,ov="value"in ds?ds.value:ds.textContent,eo=!0)),_=Kf(u,S),0<_.length&&(S=new X1(S,e,null,r,d),f.push({event:S,listeners:_}),N?S.data=N:(N=TE(r),N!==null&&(S.data=N)))),(N=ZR?eL(e,r):tL(e,r))&&(u=Kf(u,"onBeforeInput"),0<u.length&&(d=new X1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}VE(f,t)})}function Mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Sc(e,r),s!=null&&n.unshift(Mc(e,s,a)),s=Sc(e,t),s!=null&&n.push(Mc(e,s,a))),e=e.return}return n}function Ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lj(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Sc(r,s),c!=null&&i.unshift(Mc(r,c,l))):a||(c=Sc(r,s),c!=null&&i.push(Mc(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var pL=/\r\n?/g,gL=/\u0000|\uFFFD/g;function cj(e){return(typeof e=="string"?e:""+e).replace(pL,`
`).replace(gL,"")}function _d(e,t,r){if(t=cj(t),cj(e)!==t&&r)throw Error(G(425))}function qf(){}var L0=null,$0=null;function z0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var F0=typeof setTimeout=="function"?setTimeout:void 0,yL=typeof clearTimeout=="function"?clearTimeout:void 0,uj=typeof Promise=="function"?Promise:void 0,xL=typeof queueMicrotask=="function"?queueMicrotask:typeof uj<"u"?function(e){return uj.resolve(null).then(e).catch(vL)}:F0;function vL(e){setTimeout(function(){throw e})}function xg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Pc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Pc(t)}function ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Bn="__reactFiber$"+fl,Ic="__reactProps$"+fl,_a="__reactContainer$"+fl,B0="__reactEvents$"+fl,bL="__reactListeners$"+fl,wL="__reactHandles$"+fl;function Xs(e){var t=e[Bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_a]||r[Bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dj(e);e!==null;){if(r=e[Bn])return r;e=dj(e)}return t}e=r,r=e.parentNode}return null}function bu(e){return e=e[Bn]||e[_a],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function jm(e){return e[Ic]||null}var U0=[],ao=-1;function Ts(e){return{current:e}}function Ue(e){0>ao||(e.current=U0[ao],U0[ao]=null,ao--)}function ze(e,t){ao++,U0[ao]=e.current,e.current=t}var Ss={},Kt=Ts(Ss),gr=Ts(!1),bi=Ss;function Lo(e,t){var r=e.type.contextTypes;if(!r)return Ss;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yr(e){return e=e.childContextTypes,e!=null}function Yf(){Ue(gr),Ue(Kt)}function fj(e,t,r){if(Kt.current!==Ss)throw Error(G(168));ze(Kt,t),ze(gr,r)}function KE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,sR(e)||"Unknown",a));return et({},r,n)}function Gf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,bi=Kt.current,ze(Kt,e),ze(gr,gr.current),!0}function hj(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=KE(e,t,bi),n.__reactInternalMemoizedMergedChildContext=e,Ue(gr),Ue(Kt),ze(Kt,e)):Ue(gr),ze(gr,r)}var la=null,km=!1,vg=!1;function qE(e){la===null?la=[e]:la.push(e)}function jL(e){km=!0,qE(e)}function Ms(){if(!vg&&la!==null){vg=!0;var e=0,t=Me;try{var r=la;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}la=null,km=!1}catch(a){throw la!==null&&(la=la.slice(e+1)),xE(nv,Ms),a}finally{Me=t,vg=!1}}return null}var so=[],io=0,Xf=null,Qf=0,Yr=[],Gr=0,wi=null,ma=1,pa="";function Us(e,t){so[io++]=Qf,so[io++]=Xf,Xf=e,Qf=t}function YE(e,t,r){Yr[Gr++]=ma,Yr[Gr++]=pa,Yr[Gr++]=wi,wi=e;var n=ma;e=pa;var a=32-bn(n)-1;n&=~(1<<a),r+=1;var s=32-bn(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ma=1<<32-bn(t)+a|r<<a|n,pa=s+e}else ma=1<<s|r<<a|n,pa=e}function fv(e){e.return!==null&&(Us(e,1),YE(e,1,0))}function hv(e){for(;e===Xf;)Xf=so[--io],so[io]=null,Qf=so[--io],so[io]=null;for(;e===wi;)wi=Yr[--Gr],Yr[Gr]=null,pa=Yr[--Gr],Yr[Gr]=null,ma=Yr[--Gr],Yr[Gr]=null}var Mr=null,Ar=null,We=!1,hn=null;function GE(e,t){var r=Xr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mr=e,Ar=ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mr=e,Ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wi!==null?{id:ma,overflow:pa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mr=e,Ar=null,!0):!1;default:return!1}}function H0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function V0(e){if(We){var t=Ar;if(t){var r=t;if(!mj(e,t)){if(H0(e))throw Error(G(418));t=ys(r.nextSibling);var n=Mr;t&&mj(e,t)?GE(n,r):(e.flags=e.flags&-4097|2,We=!1,Mr=e)}}else{if(H0(e))throw Error(G(418));e.flags=e.flags&-4097|2,We=!1,Mr=e}}}function pj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mr=e}function Sd(e){if(e!==Mr)return!1;if(!We)return pj(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!z0(e.type,e.memoizedProps)),t&&(t=Ar)){if(H0(e))throw XE(),Error(G(418));for(;t;)GE(e,t),t=ys(t.nextSibling)}if(pj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ar=ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ar=null}}else Ar=Mr?ys(e.stateNode.nextSibling):null;return!0}function XE(){for(var e=Ar;e;)e=ys(e.nextSibling)}function $o(){Ar=Mr=null,We=!1}function mv(e){hn===null?hn=[e]:hn.push(e)}var kL=La.ReactCurrentBatchConfig;function Ll(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Ed(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gj(e){var t=e._init;return t(e._payload)}function QE(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=ws(g,b),g.index=0,g.sibling=null,g}function s(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,b,w,j){return b===null||b.tag!==6?(b=Sg(w,g.mode,j),b.return=g,b):(b=a(b,w),b.return=g,b)}function c(g,b,w,j){var k=w.type;return k===Zi?d(g,b,w.props.children,j,w.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ga&&gj(k)===b.type)?(j=a(b,w.props),j.ref=Ll(g,b,w),j.return=g,j):(j=jf(w.type,w.key,w.props,null,g.mode,j),j.ref=Ll(g,b,w),j.return=g,j)}function u(g,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Eg(w,g.mode,j),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,j,k){return b===null||b.tag!==7?(b=mi(w,g.mode,j,k),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Sg(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gd:return w=jf(b.type,b.key,b.props,null,g.mode,w),w.ref=Ll(g,null,b),w.return=g,w;case Ji:return b=Eg(b,g.mode,w),b.return=g,b;case Ga:var j=b._init;return f(g,j(b._payload),w)}if(tc(b)||Tl(b))return b=mi(b,g.mode,w,null),b.return=g,b;Ed(g,b)}return null}function h(g,b,w,j){var k=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(g,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gd:return w.key===k?c(g,b,w,j):null;case Ji:return w.key===k?u(g,b,w,j):null;case Ga:return k=w._init,h(g,b,k(w._payload),j)}if(tc(w)||Tl(w))return k!==null?null:d(g,b,w,j,null);Ed(g,w)}return null}function m(g,b,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,l(b,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gd:return g=g.get(j.key===null?w:j.key)||null,c(b,g,j,k);case Ji:return g=g.get(j.key===null?w:j.key)||null,u(b,g,j,k);case Ga:var _=j._init;return m(g,b,w,_(j._payload),k)}if(tc(j)||Tl(j))return g=g.get(w)||null,d(b,g,j,k,null);Ed(b,j)}return null}function p(g,b,w,j){for(var k=null,_=null,N=b,S=b=0,P=null;N!==null&&S<w.length;S++){N.index>S?(P=N,N=null):P=N.sibling;var I=h(g,N,w[S],j);if(I===null){N===null&&(N=P);break}e&&N&&I.alternate===null&&t(g,N),b=s(I,b,S),_===null?k=I:_.sibling=I,_=I,N=P}if(S===w.length)return r(g,N),We&&Us(g,S),k;if(N===null){for(;S<w.length;S++)N=f(g,w[S],j),N!==null&&(b=s(N,b,S),_===null?k=N:_.sibling=N,_=N);return We&&Us(g,S),k}for(N=n(g,N);S<w.length;S++)P=m(N,g,S,w[S],j),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?S:P.key),b=s(P,b,S),_===null?k=P:_.sibling=P,_=P);return e&&N.forEach(function(E){return t(g,E)}),We&&Us(g,S),k}function x(g,b,w,j){var k=Tl(w);if(typeof k!="function")throw Error(G(150));if(w=k.call(w),w==null)throw Error(G(151));for(var _=k=null,N=b,S=b=0,P=null,I=w.next();N!==null&&!I.done;S++,I=w.next()){N.index>S?(P=N,N=null):P=N.sibling;var E=h(g,N,I.value,j);if(E===null){N===null&&(N=P);break}e&&N&&E.alternate===null&&t(g,N),b=s(E,b,S),_===null?k=E:_.sibling=E,_=E,N=P}if(I.done)return r(g,N),We&&Us(g,S),k;if(N===null){for(;!I.done;S++,I=w.next())I=f(g,I.value,j),I!==null&&(b=s(I,b,S),_===null?k=I:_.sibling=I,_=I);return We&&Us(g,S),k}for(N=n(g,N);!I.done;S++,I=w.next())I=m(N,g,S,I.value,j),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?S:I.key),b=s(I,b,S),_===null?k=I:_.sibling=I,_=I);return e&&N.forEach(function(C){return t(g,C)}),We&&Us(g,S),k}function v(g,b,w,j){if(typeof w=="object"&&w!==null&&w.type===Zi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gd:e:{for(var k=w.key,_=b;_!==null;){if(_.key===k){if(k=w.type,k===Zi){if(_.tag===7){r(g,_.sibling),b=a(_,w.props.children),b.return=g,g=b;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ga&&gj(k)===_.type){r(g,_.sibling),b=a(_,w.props),b.ref=Ll(g,_,w),b.return=g,g=b;break e}r(g,_);break}else t(g,_);_=_.sibling}w.type===Zi?(b=mi(w.props.children,g.mode,j,w.key),b.return=g,g=b):(j=jf(w.type,w.key,w.props,null,g.mode,j),j.ref=Ll(g,b,w),j.return=g,g=j)}return i(g);case Ji:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else t(g,b);b=b.sibling}b=Eg(w,g.mode,j),b.return=g,g=b}return i(g);case Ga:return _=w._init,v(g,b,_(w._payload),j)}if(tc(w))return p(g,b,w,j);if(Tl(w))return x(g,b,w,j);Ed(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(g,b.sibling),b=a(b,w),b.return=g,g=b):(r(g,b),b=Sg(w,g.mode,j),b.return=g,g=b),i(g)):r(g,b)}return v}var zo=QE(!0),JE=QE(!1),Jf=Ts(null),Zf=null,oo=null,pv=null;function gv(){pv=oo=Zf=null}function yv(e){var t=Jf.current;Ue(Jf),e._currentValue=t}function W0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vo(e,t){Zf=e,pv=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fr=!0),e.firstContext=null)}function Zr(e){var t=e._currentValue;if(pv!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(Zf===null)throw Error(G(308));oo=e,Zf.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var Qs=null;function xv(e){Qs===null?Qs=[e]:Qs.push(e)}function ZE(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,xv(t)):(r.next=a.next,a.next=r),t.interleaved=r,Sa(e,n)}function Sa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xa=!1;function vv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Sa(e,r)}return a=n.interleaved,a===null?(t.next=t,xv(n)):(t.next=a.next,a.next=t),n.interleaved=t,Sa(e,r)}function gf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,av(e,r)}}function yj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eh(e,t,r,n){var a=e.updateQueue;Xa=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=et({},f,h);break e;case 2:Xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);ki|=i,e.lanes=i,e.memoizedState=f}}function xj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var wu={},Vn=Ts(wu),Dc=Ts(wu),Rc=Ts(wu);function Js(e){if(e===wu)throw Error(G(174));return e}function bv(e,t){switch(ze(Rc,t),ze(Dc,e),ze(Vn,wu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_0(t,e)}Ue(Vn),ze(Vn,t)}function Fo(){Ue(Vn),Ue(Dc),Ue(Rc)}function tC(e){Js(Rc.current);var t=Js(Vn.current),r=_0(t,e.type);t!==r&&(ze(Dc,e),ze(Vn,r))}function wv(e){Dc.current===e&&(Ue(Vn),Ue(Dc))}var Xe=Ts(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bg=[];function jv(){for(var e=0;e<bg.length;e++)bg[e]._workInProgressVersionPrimary=null;bg.length=0}var yf=La.ReactCurrentDispatcher,wg=La.ReactCurrentBatchConfig,ji=0,Qe=null,pt=null,Et=null,rh=!1,yc=!1,Lc=0,NL=0;function Ft(){throw Error(G(321))}function kv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Nv(e,t,r,n,a,s){if(ji=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yf.current=e===null||e.memoizedState===null?CL:PL,e=r(n,a),yc){s=0;do{if(yc=!1,Lc=0,25<=s)throw Error(G(301));s+=1,Et=pt=null,t.updateQueue=null,yf.current=OL,e=r(n,a)}while(yc)}if(yf.current=nh,t=pt!==null&&pt.next!==null,ji=0,Et=pt=Qe=null,rh=!1,t)throw Error(G(300));return e}function _v(){var e=Lc!==0;return Lc=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Qe.memoizedState=Et=e:Et=Et.next=e,Et}function en(){if(pt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Et===null?Qe.memoizedState:Et.next;if(t!==null)Et=t,pt=e;else{if(e===null)throw Error(G(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Qe.memoizedState=Et=e:Et=Et.next=e}return Et}function $c(e,t){return typeof t=="function"?t(e):t}function jg(e){var t=en(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=pt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ji&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Qe.lanes|=d,ki|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,Nn(n,t.memoizedState)||(fr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Qe.lanes|=s,ki|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function kg(e){var t=en(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Nn(s,t.memoizedState)||(fr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function rC(){}function nC(e,t){var r=Qe,n=en(),a=t(),s=!Nn(n.memoizedState,a);if(s&&(n.memoizedState=a,fr=!0),n=n.queue,Sv(iC.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Et!==null&&Et.memoizedState.tag&1){if(r.flags|=2048,zc(9,sC.bind(null,r,n,a,t),void 0,null),Pt===null)throw Error(G(349));ji&30||aC(r,t,a)}return a}function aC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sC(e,t,r,n){t.value=r,t.getSnapshot=n,oC(t)&&lC(e)}function iC(e,t,r){return r(function(){oC(t)&&lC(e)})}function oC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nn(e,r)}catch{return!0}}function lC(e){var t=Sa(e,1);t!==null&&wn(t,e,1,-1)}function vj(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:e},t.queue=e,e=e.dispatch=EL.bind(null,Qe,e),[t.memoizedState,e]}function zc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function cC(){return en().memoizedState}function xf(e,t,r,n){var a=Rn();Qe.flags|=e,a.memoizedState=zc(1|t,r,void 0,n===void 0?null:n)}function Nm(e,t,r,n){var a=en();n=n===void 0?null:n;var s=void 0;if(pt!==null){var i=pt.memoizedState;if(s=i.destroy,n!==null&&kv(n,i.deps)){a.memoizedState=zc(t,r,s,n);return}}Qe.flags|=e,a.memoizedState=zc(1|t,r,s,n)}function bj(e,t){return xf(8390656,8,e,t)}function Sv(e,t){return Nm(2048,8,e,t)}function uC(e,t){return Nm(4,2,e,t)}function dC(e,t){return Nm(4,4,e,t)}function fC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hC(e,t,r){return r=r!=null?r.concat([e]):null,Nm(4,4,fC.bind(null,t,e),r)}function Ev(){}function mC(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function pC(e,t){var r=en();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gC(e,t,r){return ji&21?(Nn(r,t)||(r=wE(),Qe.lanes|=r,ki|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fr=!0),e.memoizedState=r)}function _L(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=wg.transition;wg.transition={};try{e(!1),t()}finally{Me=r,wg.transition=n}}function yC(){return en().memoizedState}function SL(e,t,r){var n=bs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xC(e))vC(t,r);else if(r=ZE(e,t,r,n),r!==null){var a=Zt();wn(r,e,n,a),bC(r,t,n)}}function EL(e,t,r){var n=bs(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xC(e))vC(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,Nn(l,i)){var c=t.interleaved;c===null?(a.next=a,xv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=ZE(e,t,a,n),r!==null&&(a=Zt(),wn(r,e,n,a),bC(r,t,n))}}function xC(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function vC(e,t){yc=rh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,av(e,r)}}var nh={readContext:Zr,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},CL={readContext:Zr,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:Zr,useEffect:bj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xf(4194308,4,fC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return xf(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=SL.bind(null,Qe,e),[n.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:vj,useDebugValue:Ev,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=vj(!1),t=e[0];return e=_L.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qe,a=Rn();if(We){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Pt===null)throw Error(G(349));ji&30||aC(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,bj(iC.bind(null,n,s,e),[e]),n.flags|=2048,zc(9,sC.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Rn(),t=Pt.identifierPrefix;if(We){var r=pa,n=ma;r=(n&~(1<<32-bn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Lc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PL={readContext:Zr,useCallback:mC,useContext:Zr,useEffect:Sv,useImperativeHandle:hC,useInsertionEffect:uC,useLayoutEffect:dC,useMemo:pC,useReducer:jg,useRef:cC,useState:function(){return jg($c)},useDebugValue:Ev,useDeferredValue:function(e){var t=en();return gC(t,pt.memoizedState,e)},useTransition:function(){var e=jg($c)[0],t=en().memoizedState;return[e,t]},useMutableSource:rC,useSyncExternalStore:nC,useId:yC,unstable_isNewReconciler:!1},OL={readContext:Zr,useCallback:mC,useContext:Zr,useEffect:Sv,useImperativeHandle:hC,useInsertionEffect:uC,useLayoutEffect:dC,useMemo:pC,useReducer:kg,useRef:cC,useState:function(){return kg($c)},useDebugValue:Ev,useDeferredValue:function(e){var t=en();return pt===null?t.memoizedState=e:gC(t,pt.memoizedState,e)},useTransition:function(){var e=kg($c)[0],t=en().memoizedState;return[e,t]},useMutableSource:rC,useSyncExternalStore:nC,useId:yC,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function K0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _m={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zt(),a=bs(e),s=va(n,a);s.payload=t,r!=null&&(s.callback=r),t=xs(e,s,a),t!==null&&(wn(t,e,a,n),gf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zt(),a=bs(e),s=va(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=xs(e,s,a),t!==null&&(wn(t,e,a,n),gf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zt(),n=bs(e),a=va(r,n);a.tag=2,t!=null&&(a.callback=t),t=xs(e,a,n),t!==null&&(wn(t,e,n,r),gf(t,e,n))}};function wj(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ac(r,n)||!Ac(a,s):!0}function wC(e,t,r){var n=!1,a=Ss,s=t.contextType;return typeof s=="object"&&s!==null?s=Zr(s):(a=yr(t)?bi:Kt.current,n=t.contextTypes,s=(n=n!=null)?Lo(e,a):Ss),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_m,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function jj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_m.enqueueReplaceState(t,t.state,null)}function q0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},vv(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Zr(s):(s=yr(t)?bi:Kt.current,a.context=Lo(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(K0(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_m.enqueueReplaceState(a,a.state,null),eh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Bo(e,t){try{var r="",n=t;do r+=aR(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Ng(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Y0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var AL=typeof WeakMap=="function"?WeakMap:Map;function jC(e,t,r){r=va(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){sh||(sh=!0,ay=n),Y0(e,t)},r}function kC(e,t,r){r=va(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Y0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Y0(e,t),typeof n!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function kj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new AL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=WL.bind(null,e,t,r),t.then(e,e))}function Nj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _j(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=va(-1,1),t.tag=2,xs(r,t,1))),r.lanes|=1),e)}var TL=La.ReactCurrentOwner,fr=!1;function Xt(e,t,r,n){t.child=e===null?JE(t,null,r,n):zo(t,e.child,r,n)}function Sj(e,t,r,n,a){r=r.render;var s=t.ref;return vo(t,a),n=Nv(e,t,r,n,s,a),r=_v(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ea(e,t,a)):(We&&r&&fv(t),t.flags|=1,Xt(e,t,n,a),t.child)}function Ej(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Dv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,NC(e,t,s,n,a)):(e=jf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ac,r(i,n)&&e.ref===t.ref)return Ea(e,t,a)}return t.flags|=1,e=ws(s,n),e.ref=t.ref,e.return=t,t.child=e}function NC(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Ac(s,n)&&e.ref===t.ref)if(fr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(fr=!0);else return t.lanes=e.lanes,Ea(e,t,a)}return G0(e,t,r,n,a)}function _C(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(co,Sr),Sr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(co,Sr),Sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ze(co,Sr),Sr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ze(co,Sr),Sr|=n;return Xt(e,t,a,r),t.child}function SC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function G0(e,t,r,n,a){var s=yr(r)?bi:Kt.current;return s=Lo(t,s),vo(t,a),r=Nv(e,t,r,n,s,a),n=_v(),e!==null&&!fr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ea(e,t,a)):(We&&n&&fv(t),t.flags|=1,Xt(e,t,r,a),t.child)}function Cj(e,t,r,n,a){if(yr(r)){var s=!0;Gf(t)}else s=!1;if(vo(t,a),t.stateNode===null)vf(e,t),wC(t,r,n),q0(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Zr(u):(u=yr(r)?bi:Kt.current,u=Lo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&jj(t,i,n,u),Xa=!1;var h=t.memoizedState;i.state=h,eh(t,n,i,a),c=t.memoizedState,l!==n||h!==c||gr.current||Xa?(typeof d=="function"&&(K0(t,r,d,n),c=t.memoizedState),(l=Xa||wj(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,eC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ln(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zr(c):(c=yr(r)?bi:Kt.current,c=Lo(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&jj(t,i,n,c),Xa=!1,h=t.memoizedState,i.state=h,eh(t,n,i,a);var p=t.memoizedState;l!==f||h!==p||gr.current||Xa?(typeof m=="function"&&(K0(t,r,m,n),p=t.memoizedState),(u=Xa||wj(t,r,u,n,h,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return X0(e,t,r,n,s,a)}function X0(e,t,r,n,a,s){SC(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&hj(t,r,!1),Ea(e,t,s);n=t.stateNode,TL.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=zo(t,e.child,null,s),t.child=zo(t,null,l,s)):Xt(e,t,l,s),t.memoizedState=n.state,a&&hj(t,r,!0),t.child}function EC(e){var t=e.stateNode;t.pendingContext?fj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fj(e,t.context,!1),bv(e,t.containerInfo)}function Pj(e,t,r,n,a){return $o(),mv(a),t.flags|=256,Xt(e,t,r,n),t.child}var Q0={dehydrated:null,treeContext:null,retryLane:0};function J0(e){return{baseLanes:e,cachePool:null,transitions:null}}function CC(e,t,r){var n=t.pendingProps,a=Xe.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ze(Xe,a&1),e===null)return V0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Cm(i,n,0,null),e=mi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=J0(r),t.memoizedState=Q0,e):Cv(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return ML(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ws(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=ws(l,s):(s=mi(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?J0(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Q0,n}return s=e.child,e=s.sibling,n=ws(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Cv(e,t){return t=Cm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cd(e,t,r,n){return n!==null&&mv(n),zo(t,e.child,null,r),e=Cv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ML(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Ng(Error(G(422))),Cd(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Cm({mode:"visible",children:n.children},a,0,null),s=mi(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&zo(t,e.child,null,i),t.child.memoizedState=J0(i),t.memoizedState=Q0,s);if(!(t.mode&1))return Cd(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(G(419)),n=Ng(s,n,void 0),Cd(e,t,i,n)}if(l=(i&e.childLanes)!==0,fr||l){if(n=Pt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Sa(e,a),wn(n,e,a,-1))}return Iv(),n=Ng(Error(G(421))),Cd(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=KL.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ar=ys(a.nextSibling),Mr=t,We=!0,hn=null,e!==null&&(Yr[Gr++]=ma,Yr[Gr++]=pa,Yr[Gr++]=wi,ma=e.id,pa=e.overflow,wi=t),t=Cv(t,n.children),t.flags|=4096,t)}function Oj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),W0(e.return,t,r)}function _g(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function PC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Xt(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oj(e,r,t);else if(e.tag===19)Oj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ze(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&th(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),_g(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&th(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}_g(t,!0,r,null,s);break;case"together":_g(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ea(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=ws(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ws(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function IL(e,t,r){switch(t.tag){case 3:EC(t),$o();break;case 5:tC(t);break;case 1:yr(t.type)&&Gf(t);break;case 4:bv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ze(Jf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ze(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?CC(e,t,r):(ze(Xe,Xe.current&1),e=Ea(e,t,r),e!==null?e.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return PC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ze(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,_C(e,t,r)}return Ea(e,t,r)}var OC,Z0,AC,TC;OC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Z0=function(){};AC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Js(Vn.current);var s=null;switch(r){case"input":a=w0(e,a),n=w0(e,n),s=[];break;case"select":a=et({},a,{value:void 0}),n=et({},n,{value:void 0}),s=[];break;case"textarea":a=N0(e,a),n=N0(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qf)}S0(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fe("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};TC=function(e,t,r,n){r!==n&&(t.flags|=4)};function $l(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DL(e,t,r){var n=t.pendingProps;switch(hv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return yr(t.type)&&Yf(),Bt(t),null;case 3:return n=t.stateNode,Fo(),Ue(gr),Ue(Kt),jv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(oy(hn),hn=null))),Z0(e,t),Bt(t),null;case 5:wv(t);var a=Js(Rc.current);if(r=t.type,e!==null&&t.stateNode!=null)AC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Bt(t),null}if(e=Js(Vn.current),Sd(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Bn]=t,n[Ic]=s,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<nc.length;a++)Fe(nc[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":z1(n,s),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",n);break;case"textarea":B1(n,s),Fe("invalid",n)}S0(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&_d(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&_d(n.textContent,l,e),a=["children",""+l]):Nc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Fe("scroll",n)}switch(r){case"input":yd(n),F1(n,s,!0);break;case"textarea":yd(n),U1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Bn]=t,e[Ic]=n,OC(e,t,!1,!1),t.stateNode=e;e:{switch(i=E0(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),a=n;break;case"iframe":case"object":case"embed":Fe("load",e),a=n;break;case"video":case"audio":for(a=0;a<nc.length;a++)Fe(nc[a],e);a=n;break;case"source":Fe("error",e),a=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),a=n;break;case"details":Fe("toggle",e),a=n;break;case"input":z1(e,n),a=w0(e,n),Fe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=et({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":B1(e,n),a=N0(e,n),Fe("invalid",e);break;default:a=n}S0(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?cE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&oE(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_c(e,c):typeof c=="number"&&_c(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fe("scroll",e):c!=null&&Jx(e,s,c,i))}switch(r){case"input":yd(e),F1(e,n,!1);break;case"textarea":yd(e),U1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_s(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?po(e,!!n.multiple,s,!1):n.defaultValue!=null&&po(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)TC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Js(Rc.current),Js(Vn.current),Sd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Bn]=t,(s=n.nodeValue!==r)&&(e=Mr,e!==null))switch(e.tag){case 3:_d(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_d(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bn]=t,t.stateNode=n}return Bt(t),null;case 13:if(Ue(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Ar!==null&&t.mode&1&&!(t.flags&128))XE(),$o(),t.flags|=98560,s=!1;else if(s=Sd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[Bn]=t}else $o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),s=!1}else hn!==null&&(oy(hn),hn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?yt===0&&(yt=3):Iv())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Fo(),Z0(e,t),e===null&&Tc(t.stateNode.containerInfo),Bt(t),null;case 10:return yv(t.type._context),Bt(t),null;case 17:return yr(t.type)&&Yf(),Bt(t),null;case 19:if(Ue(Xe),s=t.memoizedState,s===null)return Bt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)$l(s,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=th(e),i!==null){for(t.flags|=128,$l(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ze(Xe,Xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&it()>Uo&&(t.flags|=128,n=!0,$l(s,!1),t.lanes=4194304)}else{if(!n)if(e=th(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$l(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!We)return Bt(t),null}else 2*it()-s.renderingStartTime>Uo&&r!==1073741824&&(t.flags|=128,n=!0,$l(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,r=Xe.current,ze(Xe,n?r&1|2:r&1),t):(Bt(t),null);case 22:case 23:return Mv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Sr&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function RL(e,t){switch(hv(t),t.tag){case 1:return yr(t.type)&&Yf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),Ue(gr),Ue(Kt),jv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wv(t),null;case 13:if(Ue(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));$o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Xe),null;case 4:return Fo(),null;case 10:return yv(t.type._context),null;case 22:case 23:return Mv(),null;case 24:return null;default:return null}}var Pd=!1,Ht=!1,LL=typeof WeakSet=="function"?WeakSet:Set,se=null;function lo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function ey(e,t,r){try{r()}catch(n){nt(e,t,n)}}var Aj=!1;function $L(e,t){if(L0=Vf,e=LE(),dv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for($0={focusedElem:e,selectionRange:r},Vf=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:ln(t.type,x),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){nt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return p=Aj,Aj=!1,p}function xc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ey(t,r,s)}a=a.next}while(a!==n)}}function Sm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ty(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MC(e){var t=e.alternate;t!==null&&(e.alternate=null,MC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bn],delete t[Ic],delete t[B0],delete t[bL],delete t[wL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IC(e){return e.tag===5||e.tag===3||e.tag===4}function Tj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ry(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qf));else if(n!==4&&(e=e.child,e!==null))for(ry(e,t,r),e=e.sibling;e!==null;)ry(e,t,r),e=e.sibling}function ny(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ny(e,t,r),e=e.sibling;e!==null;)ny(e,t,r),e=e.sibling}var It=null,dn=!1;function Va(e,t,r){for(r=r.child;r!==null;)DC(e,t,r),r=r.sibling}function DC(e,t,r){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(xm,r)}catch{}switch(r.tag){case 5:Ht||lo(r,t);case 6:var n=It,a=dn;It=null,Va(e,t,r),It=n,dn=a,It!==null&&(dn?(e=It,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):It.removeChild(r.stateNode));break;case 18:It!==null&&(dn?(e=It,r=r.stateNode,e.nodeType===8?xg(e.parentNode,r):e.nodeType===1&&xg(e,r),Pc(e)):xg(It,r.stateNode));break;case 4:n=It,a=dn,It=r.stateNode.containerInfo,dn=!0,Va(e,t,r),It=n,dn=a;break;case 0:case 11:case 14:case 15:if(!Ht&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&ey(r,t,i),a=a.next}while(a!==n)}Va(e,t,r);break;case 1:if(!Ht&&(lo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}Va(e,t,r);break;case 21:Va(e,t,r);break;case 22:r.mode&1?(Ht=(n=Ht)||r.memoizedState!==null,Va(e,t,r),Ht=n):Va(e,t,r);break;default:Va(e,t,r)}}function Mj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LL),t.forEach(function(n){var a=qL.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,dn=!1;break e;case 3:It=l.stateNode.containerInfo,dn=!0;break e;case 4:It=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(It===null)throw Error(G(160));DC(s,i,a),It=null,dn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)RC(t,e),t=t.sibling}function RC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),Mn(e),n&4){try{xc(3,e,e.return),Sm(3,e)}catch(x){nt(e,e.return,x)}try{xc(5,e,e.return)}catch(x){nt(e,e.return,x)}}break;case 1:on(t,e),Mn(e),n&512&&r!==null&&lo(r,r.return);break;case 5:if(on(t,e),Mn(e),n&512&&r!==null&&lo(r,r.return),e.flags&32){var a=e.stateNode;try{_c(a,"")}catch(x){nt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&aE(a,s),E0(l,i);var u=E0(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?cE(a,f):d==="dangerouslySetInnerHTML"?oE(a,f):d==="children"?_c(a,f):Jx(a,d,f,u)}switch(l){case"input":j0(a,s);break;case"textarea":sE(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?po(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?po(a,!!s.multiple,s.defaultValue,!0):po(a,!!s.multiple,s.multiple?[]:"",!1))}a[Ic]=s}catch(x){nt(e,e.return,x)}}break;case 6:if(on(t,e),Mn(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){nt(e,e.return,x)}}break;case 3:if(on(t,e),Mn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pc(t.containerInfo)}catch(x){nt(e,e.return,x)}break;case 4:on(t,e),Mn(e);break;case 13:on(t,e),Mn(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Av=it())),n&4&&Mj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ht=(u=Ht)||d,on(t,e),Ht=u):on(t,e),Mn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:xc(4,h,h.return);break;case 1:lo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){nt(n,r,x)}}break;case 5:lo(h,h.return);break;case 22:if(h.memoizedState!==null){Dj(f);continue}}m!==null?(m.return=h,se=m):Dj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=lE("display",i))}catch(x){nt(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){nt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:on(t,e),Mn(e),n&4&&Mj(e);break;case 21:break;default:on(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(IC(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_c(a,""),n.flags&=-33);var s=Tj(e);ny(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Tj(e);ry(e,l,i);break;default:throw Error(G(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zL(e,t,r){se=e,LC(e)}function LC(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var a=se,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Pd;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ht;l=Pd;var u=Ht;if(Pd=i,(Ht=c)&&!u)for(se=a;se!==null;)i=se,c=i.child,i.tag===22&&i.memoizedState!==null?Rj(a):c!==null?(c.return=i,se=c):Rj(a);for(;s!==null;)se=s,LC(s),s=s.sibling;se=a,Pd=l,Ht=u}Ij(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,se=s):Ij(e)}}function Ij(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ht||Sm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ht)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ln(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xj(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xj(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ht||t.flags&512&&ty(t)}catch(h){nt(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Dj(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Rj(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sm(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var s=t.return;try{ty(t)}catch(c){nt(t,s,c)}break;case 5:var i=t.return;try{ty(t)}catch(c){nt(t,i,c)}}}catch(c){nt(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var FL=Math.ceil,ah=La.ReactCurrentDispatcher,Pv=La.ReactCurrentOwner,Jr=La.ReactCurrentBatchConfig,ke=0,Pt=null,dt=null,Lt=0,Sr=0,co=Ts(0),yt=0,Fc=null,ki=0,Em=0,Ov=0,vc=null,dr=null,Av=0,Uo=1/0,oa=null,sh=!1,ay=null,vs=null,Od=!1,fs=null,ih=0,bc=0,sy=null,bf=-1,wf=0;function Zt(){return ke&6?it():bf!==-1?bf:bf=it()}function bs(e){return e.mode&1?ke&2&&Lt!==0?Lt&-Lt:kL.transition!==null?(wf===0&&(wf=wE()),wf):(e=Me,e!==0||(e=window.event,e=e===void 0?16:CE(e.type)),e):1}function wn(e,t,r,n){if(50<bc)throw bc=0,sy=null,Error(G(185));xu(e,r,n),(!(ke&2)||e!==Pt)&&(e===Pt&&(!(ke&2)&&(Em|=r),yt===4&&es(e,Lt)),xr(e,n),r===1&&ke===0&&!(t.mode&1)&&(Uo=it()+500,km&&Ms()))}function xr(e,t){var r=e.callbackNode;kR(e,t);var n=Hf(e,e===Pt?Lt:0);if(n===0)r!==null&&W1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&W1(r),t===1)e.tag===0?jL(Lj.bind(null,e)):qE(Lj.bind(null,e)),xL(function(){!(ke&6)&&Ms()}),r=null;else{switch(jE(n)){case 1:r=nv;break;case 4:r=vE;break;case 16:r=Uf;break;case 536870912:r=bE;break;default:r=Uf}r=WC(r,$C.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $C(e,t){if(bf=-1,wf=0,ke&6)throw Error(G(327));var r=e.callbackNode;if(bo()&&e.callbackNode!==r)return null;var n=Hf(e,e===Pt?Lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=oh(e,n);else{t=n;var a=ke;ke|=2;var s=FC();(Pt!==e||Lt!==t)&&(oa=null,Uo=it()+500,hi(e,t));do try{HL();break}catch(l){zC(e,l)}while(!0);gv(),ah.current=s,ke=a,dt!==null?t=0:(Pt=null,Lt=0,t=yt)}if(t!==0){if(t===2&&(a=T0(e),a!==0&&(n=a,t=iy(e,a))),t===1)throw r=Fc,hi(e,0),es(e,n),xr(e,it()),r;if(t===6)es(e,n);else{if(a=e.current.alternate,!(n&30)&&!BL(a)&&(t=oh(e,n),t===2&&(s=T0(e),s!==0&&(n=s,t=iy(e,s))),t===1))throw r=Fc,hi(e,0),es(e,n),xr(e,it()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Hs(e,dr,oa);break;case 3:if(es(e,n),(n&130023424)===n&&(t=Av+500-it(),10<t)){if(Hf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Zt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=F0(Hs.bind(null,e,dr,oa),t);break}Hs(e,dr,oa);break;case 4:if(es(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-bn(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FL(n/1960))-n,10<n){e.timeoutHandle=F0(Hs.bind(null,e,dr,oa),n);break}Hs(e,dr,oa);break;case 5:Hs(e,dr,oa);break;default:throw Error(G(329))}}}return xr(e,it()),e.callbackNode===r?$C.bind(null,e):null}function iy(e,t){var r=vc;return e.current.memoizedState.isDehydrated&&(hi(e,t).flags|=256),e=oh(e,t),e!==2&&(t=dr,dr=r,t!==null&&oy(t)),e}function oy(e){dr===null?dr=e:dr.push.apply(dr,e)}function BL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Nn(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function es(e,t){for(t&=~Ov,t&=~Em,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bn(t),n=1<<r;e[r]=-1,t&=~n}}function Lj(e){if(ke&6)throw Error(G(327));bo();var t=Hf(e,0);if(!(t&1))return xr(e,it()),null;var r=oh(e,t);if(e.tag!==0&&r===2){var n=T0(e);n!==0&&(t=n,r=iy(e,n))}if(r===1)throw r=Fc,hi(e,0),es(e,t),xr(e,it()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hs(e,dr,oa),xr(e,it()),null}function Tv(e,t){var r=ke;ke|=1;try{return e(t)}finally{ke=r,ke===0&&(Uo=it()+500,km&&Ms())}}function Ni(e){fs!==null&&fs.tag===0&&!(ke&6)&&bo();var t=ke;ke|=1;var r=Jr.transition,n=Me;try{if(Jr.transition=null,Me=1,e)return e()}finally{Me=n,Jr.transition=r,ke=t,!(ke&6)&&Ms()}}function Mv(){Sr=co.current,Ue(co)}function hi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yL(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(hv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yf();break;case 3:Fo(),Ue(gr),Ue(Kt),jv();break;case 5:wv(n);break;case 4:Fo();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:yv(n.type._context);break;case 22:case 23:Mv()}r=r.return}if(Pt=e,dt=e=ws(e.current,null),Lt=Sr=t,yt=0,Fc=null,Ov=Em=ki=0,dr=vc=null,Qs!==null){for(t=0;t<Qs.length;t++)if(r=Qs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Qs=null}return e}function zC(e,t){do{var r=dt;try{if(gv(),yf.current=nh,rh){for(var n=Qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}rh=!1}if(ji=0,Et=pt=Qe=null,yc=!1,Lc=0,Pv.current=null,r===null||r.return===null){yt=1,Fc=t,dt=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Nj(i);if(m!==null){m.flags&=-257,_j(m,i,l,s,t),m.mode&1&&kj(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){kj(s,u,t),Iv();break e}c=Error(G(426))}}else if(We&&l.mode&1){var v=Nj(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),_j(v,i,l,s,t),mv(Bo(c,l));break e}}s=c=Bo(c,l),yt!==4&&(yt=2),vc===null?vc=[s]:vc.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=jC(s,c,t);yj(s,g);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vs===null||!vs.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=kC(s,l,t);yj(s,j);break e}}s=s.return}while(s!==null)}UC(r)}catch(k){t=k,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function FC(){var e=ah.current;return ah.current=nh,e===null?nh:e}function Iv(){(yt===0||yt===3||yt===2)&&(yt=4),Pt===null||!(ki&268435455)&&!(Em&268435455)||es(Pt,Lt)}function oh(e,t){var r=ke;ke|=2;var n=FC();(Pt!==e||Lt!==t)&&(oa=null,hi(e,t));do try{UL();break}catch(a){zC(e,a)}while(!0);if(gv(),ke=r,ah.current=n,dt!==null)throw Error(G(261));return Pt=null,Lt=0,yt}function UL(){for(;dt!==null;)BC(dt)}function HL(){for(;dt!==null&&!mR();)BC(dt)}function BC(e){var t=VC(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,t===null?UC(e):dt=t,Pv.current=null}function UC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=RL(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,dt=null;return}}else if(r=DL(r,t,Sr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);yt===0&&(yt=5)}function Hs(e,t,r){var n=Me,a=Jr.transition;try{Jr.transition=null,Me=1,VL(e,t,r,n)}finally{Jr.transition=a,Me=n}return null}function VL(e,t,r,n){do bo();while(fs!==null);if(ke&6)throw Error(G(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(NR(e,s),e===Pt&&(dt=Pt=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Od||(Od=!0,WC(Uf,function(){return bo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Jr.transition,Jr.transition=null;var i=Me;Me=1;var l=ke;ke|=4,Pv.current=null,$L(e,r),RC(r,e),uL($0),Vf=!!L0,$0=L0=null,e.current=r,zL(r),pR(),ke=l,Me=i,Jr.transition=s}else e.current=r;if(Od&&(Od=!1,fs=e,ih=a),s=e.pendingLanes,s===0&&(vs=null),xR(r.stateNode),xr(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(sh)throw sh=!1,e=ay,ay=null,e;return ih&1&&e.tag!==0&&bo(),s=e.pendingLanes,s&1?e===sy?bc++:(bc=0,sy=e):bc=0,Ms(),null}function bo(){if(fs!==null){var e=jE(ih),t=Jr.transition,r=Me;try{if(Jr.transition=null,Me=16>e?16:e,fs===null)var n=!1;else{if(e=fs,fs=null,ih=0,ke&6)throw Error(G(331));var a=ke;for(ke|=4,se=e.current;se!==null;){var s=se,i=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:xc(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(MC(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var p=s.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}se=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,se=i;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,se=g;break e}se=s.return}}var b=e.current;for(se=b;se!==null;){i=se;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,se=w;else e:for(i=b;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sm(9,l)}}catch(k){nt(l,l.return,k)}if(l===i){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(ke=a,Ms(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(xm,e)}catch{}n=!0}return n}finally{Me=r,Jr.transition=t}}return!1}function $j(e,t,r){t=Bo(r,t),t=jC(e,t,1),e=xs(e,t,1),t=Zt(),e!==null&&(xu(e,1,t),xr(e,t))}function nt(e,t,r){if(e.tag===3)$j(e,e,r);else for(;t!==null;){if(t.tag===3){$j(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vs===null||!vs.has(n))){e=Bo(r,e),e=kC(t,e,1),t=xs(t,e,1),e=Zt(),t!==null&&(xu(t,1,e),xr(t,e));break}}t=t.return}}function WL(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&r,Pt===e&&(Lt&r)===r&&(yt===4||yt===3&&(Lt&130023424)===Lt&&500>it()-Av?hi(e,0):Ov|=r),xr(e,t)}function HC(e,t){t===0&&(e.mode&1?(t=bd,bd<<=1,!(bd&130023424)&&(bd=4194304)):t=1);var r=Zt();e=Sa(e,t),e!==null&&(xu(e,t,r),xr(e,r))}function KL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),HC(e,r)}function qL(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),HC(e,r)}var VC;VC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gr.current)fr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fr=!1,IL(e,t,r);fr=!!(e.flags&131072)}else fr=!1,We&&t.flags&1048576&&YE(t,Qf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vf(e,t),e=t.pendingProps;var a=Lo(t,Kt.current);vo(t,r),a=Nv(null,t,n,e,a,r);var s=_v();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yr(n)?(s=!0,Gf(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vv(t),a.updater=_m,t.stateNode=a,a._reactInternals=t,q0(t,n,e,r),t=X0(null,t,n,!0,s,r)):(t.tag=0,We&&s&&fv(t),Xt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=GL(n),e=ln(n,e),a){case 0:t=G0(null,t,n,e,r);break e;case 1:t=Cj(null,t,n,e,r);break e;case 11:t=Sj(null,t,n,e,r);break e;case 14:t=Ej(null,t,n,ln(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),G0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),Cj(e,t,n,a,r);case 3:e:{if(EC(t),e===null)throw Error(G(387));n=t.pendingProps,s=t.memoizedState,a=s.element,eC(e,t),eh(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Bo(Error(G(423)),t),t=Pj(e,t,n,r,a);break e}else if(n!==a){a=Bo(Error(G(424)),t),t=Pj(e,t,n,r,a);break e}else for(Ar=ys(t.stateNode.containerInfo.firstChild),Mr=t,We=!0,hn=null,r=JE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($o(),n===a){t=Ea(e,t,r);break e}Xt(e,t,n,r)}t=t.child}return t;case 5:return tC(t),e===null&&V0(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,z0(n,a)?i=null:s!==null&&z0(n,s)&&(t.flags|=32),SC(e,t),Xt(e,t,i,r),t.child;case 6:return e===null&&V0(t),null;case 13:return CC(e,t,r);case 4:return bv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zo(t,null,n,r):Xt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),Sj(e,t,n,a,r);case 7:return Xt(e,t,t.pendingProps,r),t.child;case 8:return Xt(e,t,t.pendingProps.children,r),t.child;case 12:return Xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,ze(Jf,n._currentValue),n._currentValue=i,s!==null)if(Nn(s.value,i)){if(s.children===a.children&&!gr.current){t=Ea(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=va(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),W0(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(G(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),W0(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Xt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,vo(t,r),a=Zr(a),n=n(a),t.flags|=1,Xt(e,t,n,r),t.child;case 14:return n=t.type,a=ln(n,t.pendingProps),a=ln(n.type,a),Ej(e,t,n,a,r);case 15:return NC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ln(n,a),vf(e,t),t.tag=1,yr(n)?(e=!0,Gf(t)):e=!1,vo(t,r),wC(t,n,a),q0(t,n,a,r),X0(null,t,n,!0,e,r);case 19:return PC(e,t,r);case 22:return _C(e,t,r)}throw Error(G(156,t.tag))};function WC(e,t){return xE(e,t)}function YL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(e,t,r,n){return new YL(e,t,r,n)}function Dv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GL(e){if(typeof e=="function")return Dv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ev)return 11;if(e===tv)return 14}return 2}function ws(e,t){var r=e.alternate;return r===null?(r=Xr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jf(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")Dv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Zi:return mi(r.children,a,s,t);case Zx:i=8,a|=8;break;case y0:return e=Xr(12,r,t,a|2),e.elementType=y0,e.lanes=s,e;case x0:return e=Xr(13,r,t,a),e.elementType=x0,e.lanes=s,e;case v0:return e=Xr(19,r,t,a),e.elementType=v0,e.lanes=s,e;case tE:return Cm(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZS:i=10;break e;case eE:i=9;break e;case ev:i=11;break e;case tv:i=14;break e;case Ga:i=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Xr(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function mi(e,t,r,n){return e=Xr(7,e,n,t),e.lanes=r,e}function Cm(e,t,r,n){return e=Xr(22,e,n,t),e.elementType=tE,e.lanes=r,e.stateNode={isHidden:!1},e}function Sg(e,t,r){return e=Xr(6,e,null,t),e.lanes=r,e}function Eg(e,t,r){return t=Xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XL(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=og(0),this.expirationTimes=og(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=og(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Rv(e,t,r,n,a,s,i,l,c){return e=new XL(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vv(s),e}function QL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function KC(e){if(!e)return Ss;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(yr(r))return KE(e,r,t)}return t}function qC(e,t,r,n,a,s,i,l,c){return e=Rv(r,n,!0,e,a,s,i,l,c),e.context=KC(null),r=e.current,n=Zt(),a=bs(r),s=va(n,a),s.callback=t??null,xs(r,s,a),e.current.lanes=a,xu(e,a,n),xr(e,n),e}function Pm(e,t,r,n){var a=t.current,s=Zt(),i=bs(a);return r=KC(r),t.context===null?t.context=r:t.pendingContext=r,t=va(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xs(a,t,i),e!==null&&(wn(e,a,i,s),gf(e,a,i)),i}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Lv(e,t){zj(e,t),(e=e.alternate)&&zj(e,t)}function JL(){return null}var YC=typeof reportError=="function"?reportError:function(e){console.error(e)};function $v(e){this._internalRoot=e}Om.prototype.render=$v.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Pm(e,t,null,null)};Om.prototype.unmount=$v.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ni(function(){Pm(null,e,null,null)}),t[_a]=null}};function Om(e){this._internalRoot=e}Om.prototype.unstable_scheduleHydration=function(e){if(e){var t=_E();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Za.length&&t!==0&&t<Za[r].priority;r++);Za.splice(r,0,e),r===0&&EE(e)}};function zv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fj(){}function ZL(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=lh(i);s.call(u)}}var i=qC(t,n,e,0,null,!1,!1,"",Fj);return e._reactRootContainer=i,e[_a]=i.current,Tc(e.nodeType===8?e.parentNode:e),Ni(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=lh(c);l.call(u)}}var c=Rv(e,0,!1,null,null,!1,!1,"",Fj);return e._reactRootContainer=c,e[_a]=c.current,Tc(e.nodeType===8?e.parentNode:e),Ni(function(){Pm(t,c,r,n)}),c}function Tm(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=lh(i);l.call(c)}}Pm(t,i,e,a)}else i=ZL(r,t,e,a,n);return lh(i)}kE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rc(t.pendingLanes);r!==0&&(av(t,r|1),xr(t,it()),!(ke&6)&&(Uo=it()+500,Ms()))}break;case 13:Ni(function(){var n=Sa(e,1);if(n!==null){var a=Zt();wn(n,e,1,a)}}),Lv(e,1)}};sv=function(e){if(e.tag===13){var t=Sa(e,134217728);if(t!==null){var r=Zt();wn(t,e,134217728,r)}Lv(e,134217728)}};NE=function(e){if(e.tag===13){var t=bs(e),r=Sa(e,t);if(r!==null){var n=Zt();wn(r,e,t,n)}Lv(e,t)}};_E=function(){return Me};SE=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};P0=function(e,t,r){switch(t){case"input":if(j0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=jm(n);if(!a)throw Error(G(90));nE(n),j0(n,a)}}}break;case"textarea":sE(e,r);break;case"select":t=r.value,t!=null&&po(e,!!r.multiple,t,!1)}};fE=Tv;hE=Ni;var e$={usingClientEntryPoint:!1,Events:[bu,no,jm,uE,dE,Tv]},zl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t$={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:La.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gE(e),e===null?null:e.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||JL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{xm=Ad.inject(t$),Hn=Ad}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e$;Fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zv(t))throw Error(G(200));return QL(e,t,null,r)};Fr.createRoot=function(e,t){if(!zv(e))throw Error(G(299));var r=!1,n="",a=YC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Rv(e,1,!1,null,null,r,!1,n,a),e[_a]=t.current,Tc(e.nodeType===8?e.parentNode:e),new $v(t)};Fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=gE(t),e=e===null?null:e.stateNode,e};Fr.flushSync=function(e){return Ni(e)};Fr.hydrate=function(e,t,r){if(!Am(t))throw Error(G(200));return Tm(null,e,t,!0,r)};Fr.hydrateRoot=function(e,t,r){if(!zv(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=YC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=qC(t,null,e,1,r??null,a,!1,s,i),e[_a]=t.current,Tc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Om(t)};Fr.render=function(e,t,r){if(!Am(t))throw Error(G(200));return Tm(null,e,t,!1,r)};Fr.unmountComponentAtNode=function(e){if(!Am(e))throw Error(G(40));return e._reactRootContainer?(Ni(function(){Tm(null,null,e,!1,function(){e._reactRootContainer=null,e[_a]=null})}),!0):!1};Fr.unstable_batchedUpdates=Tv;Fr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Am(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Tm(e,t,r,!1,n)};Fr.version="18.3.1-next-f1338f8080-20240426";function GC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GC)}catch(e){console.error(e)}}GC(),GS.exports=Fr;var ju=GS.exports,Bj=ju;p0.createRoot=Bj.createRoot,p0.hydrateRoot=Bj.hydrateRoot;var ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},r$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ns,Wx,CS,n$=(CS=class{constructor(){he(this,ns,r$);he(this,Wx,!1)}setTimeoutProvider(e){ae(this,ns,e)}setTimeout(e,t){return $(this,ns).setTimeout(e,t)}clearTimeout(e){$(this,ns).clearTimeout(e)}setInterval(e,t){return $(this,ns).setInterval(e,t)}clearInterval(e){$(this,ns).clearInterval(e)}},ns=new WeakMap,Wx=new WeakMap,CS),Zs=new n$;function a$(e){setTimeout(e,0)}var _i=typeof window>"u"||"Deno"in globalThis;function ur(){}function s$(e,t){return typeof e=="function"?e(t):e}function ly(e){return typeof e=="number"&&e>=0&&e!==1/0}function XC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function js(e,t){return typeof e=="function"?e(t):e}function qr(e,t){return typeof e=="function"?e(t):e}function Uj(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Fv(i,t.options))return!1}else if(!Uc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function Hj(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Bc(t.options.mutationKey)!==Bc(s))return!1}else if(!Uc(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Fv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bc)(e)}function Bc(e){return JSON.stringify(e,(t,r)=>uy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Uc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Uc(e[r],t[r])):!1}var i$=Object.prototype.hasOwnProperty;function QC(e,t){if(e===t)return e;const r=Vj(e)&&Vj(t);if(!r&&!(uy(e)&&uy(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),i=s.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:s[u],f=e[d],h=t[d];if(f===h){l[d]=f,(r?u<a:i$.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=QC(f,h);l[d]=m,m===f&&c++}return a===i&&c===a?e:l}function cy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Vj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function uy(e){if(!Wj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Wj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wj(e){return Object.prototype.toString.call(e)==="[object Object]"}function o$(e){return new Promise(t=>{Zs.setTimeout(t,e)})}function dy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?QC(e,t):t}function l$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function c$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Bv=Symbol();function JC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Bv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function u$(e,t){return typeof e=="function"?e(...t):!!e}var ai,as,No,PS,d$=(PS=class extends ku{constructor(){super();he(this,ai);he(this,as);he(this,No);ae(this,No,t=>{if(!_i&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,as)||this.setEventListener($(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,as))==null||t.call(this),ae(this,as,void 0))}setEventListener(t){var r;ae(this,No,t),(r=$(this,as))==null||r.call(this),ae(this,as,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,ai)!==t&&(ae(this,ai,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,ai)=="boolean"?$(this,ai):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ai=new WeakMap,as=new WeakMap,No=new WeakMap,PS),Uv=new d$;function fy(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var f$=a$;function h$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=f$;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Dt=h$(),_o,ss,So,OS,m$=(OS=class extends ku{constructor(){super();he(this,_o,!0);he(this,ss);he(this,So);ae(this,So,t=>{if(!_i&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,ss)||this.setEventListener($(this,So))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,ss))==null||t.call(this),ae(this,ss,void 0))}setEventListener(t){var r;ae(this,So,t),(r=$(this,ss))==null||r.call(this),ae(this,ss,t(this.setOnline.bind(this)))}setOnline(t){$(this,_o)!==t&&(ae(this,_o,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,_o)}},_o=new WeakMap,ss=new WeakMap,So=new WeakMap,OS),ch=new m$;function p$(e){return Math.min(1e3*2**e,3e4)}function ZC(e){return(e??"online")==="online"?ch.isOnline():!0}var hy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eP(e){let t=!1,r=0,n;const a=fy(),s=()=>a.status!=="pending",i=x=>{var v;if(!s()){const g=new hy(x);h(g),(v=e.onCancel)==null||v.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Uv.isFocused()&&(e.networkMode==="always"||ch.isOnline())&&e.canRun(),d=()=>ZC(e.networkMode)&&e.canRun(),f=x=>{s()||(n==null||n(),a.resolve(x))},h=x=>{s()||(n==null||n(),a.reject(x))},m=()=>new Promise(x=>{var v;n=g=>{(s()||u())&&x(g)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),p=()=>{if(s())return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(f).catch(g=>{var _;if(s())return;const b=e.retry??(_i?0:3),w=e.retryDelay??p$,j=typeof w=="function"?w(r,g):w,k=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,g);if(t||!k){h(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),o$(j).then(()=>u()?void 0:m()).then(()=>{t?h(g):p()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),a)}}var si,AS,tP=(AS=class{constructor(){he(this,si)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ly(this.gcTime)&&ae(this,si,Zs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_i?1/0:5*60*1e3))}clearGcTimeout(){$(this,si)&&(Zs.clearTimeout($(this,si)),ae(this,si,void 0))}},si=new WeakMap,AS),ii,Eo,Kr,oi,_t,fu,li,cn,ia,TS,g$=(TS=class extends tP{constructor(t){super();he(this,cn);he(this,ii);he(this,Eo);he(this,Kr);he(this,oi);he(this,_t);he(this,fu);he(this,li);ae(this,li,!1),ae(this,fu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,oi,t.client),ae(this,Kr,$(this,oi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,ii,qj(this.options)),this.state=t.state??$(this,ii),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,_t))==null?void 0:t.promise}setOptions(t){if(this.options={...$(this,fu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=qj(this.options);r.data!==void 0&&(this.setState(Kj(r.data,r.dataUpdatedAt)),ae(this,ii,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Kr).remove(this)}setData(t,r){const n=dy(this.state.data,t,this.options);return be(this,cn,ia).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,cn,ia).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=$(this,_t))==null?void 0:n.promise;return(a=$(this,_t))==null||a.cancel(t),r?r.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ii))}isActive(){return this.observers.some(t=>qr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>js(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!XC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,_t))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,_t))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,_t)&&($(this,li)?$(this,_t).cancel({revert:!0}):$(this,_t).cancelRetry()),this.scheduleGc()),$(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,cn,ia).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,p,x,v,g,b,w;if(this.state.fetchStatus!=="idle"&&((c=$(this,_t))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,_t))return $(this,_t).continueRetry(),$(this,_t).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ae(this,li,!0),n.signal)})},s=()=>{const j=JC(this.options,r),_=(()=>{const N={client:$(this,oi),queryKey:this.queryKey,meta:this.meta};return a(N),N})();return ae(this,li,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,oi),state:this.state,fetchFn:s};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ae(this,Eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&be(this,cn,ia).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ae(this,_t,eP({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof hy&&j.revert&&this.setState({...$(this,Eo),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{be(this,cn,ia).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{be(this,cn,ia).call(this,{type:"pause"})},onContinue:()=>{be(this,cn,ia).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await $(this,_t).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(h=$(this,Kr).config).onSuccess)==null||m.call(h,j,this),(x=(p=$(this,Kr).config).onSettled)==null||x.call(p,j,this.state.error,this),j}catch(j){if(j instanceof hy){if(j.silent)return $(this,_t).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw be(this,cn,ia).call(this,{type:"error",error:j}),(g=(v=$(this,Kr).config).onError)==null||g.call(v,j,this),(w=(b=$(this,Kr).config).onSettled)==null||w.call(b,this.state.data,j,this),j}finally{this.scheduleGc()}}},ii=new WeakMap,Eo=new WeakMap,Kr=new WeakMap,oi=new WeakMap,_t=new WeakMap,fu=new WeakMap,li=new WeakMap,cn=new WeakSet,ia=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...rP(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Kj(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,Eo,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,Kr).notify({query:this,type:"updated",action:t})})},TS);function rP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Kj(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var lr,we,hu,Yt,ci,Co,ua,is,mu,Po,Oo,ui,di,os,Ao,Oe,ac,my,py,gy,yy,xy,vy,by,nP,MS,y$=(MS=class extends ku{constructor(t,r){super();he(this,Oe);he(this,lr);he(this,we);he(this,hu);he(this,Yt);he(this,ci);he(this,Co);he(this,ua);he(this,is);he(this,mu);he(this,Po);he(this,Oo);he(this,ui);he(this,di);he(this,os);he(this,Ao,new Set);this.options=r,ae(this,lr,t),ae(this,is,null),ae(this,ua,fy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,we).addObserver(this),Yj($(this,we),this.options)?be(this,Oe,ac).call(this):this.updateResult(),be(this,Oe,yy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wy($(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wy($(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Oe,xy).call(this),be(this,Oe,vy).call(this),$(this,we).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,we);if(this.options=$(this,lr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qr(this.options.enabled,$(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Oe,by).call(this),$(this,we).setOptions(this.options),r._defaulted&&!cy(this.options,r)&&$(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,we),observer:this});const a=this.hasListeners();a&&Gj($(this,we),n,this.options,r)&&be(this,Oe,ac).call(this),this.updateResult(),a&&($(this,we)!==n||qr(this.options.enabled,$(this,we))!==qr(r.enabled,$(this,we))||js(this.options.staleTime,$(this,we))!==js(r.staleTime,$(this,we)))&&be(this,Oe,my).call(this);const s=be(this,Oe,py).call(this);a&&($(this,we)!==n||qr(this.options.enabled,$(this,we))!==qr(r.enabled,$(this,we))||s!==$(this,os))&&be(this,Oe,gy).call(this,s)}getOptimisticResult(t){const r=$(this,lr).getQueryCache().build($(this,lr),t),n=this.createResult(r,t);return v$(this,n)&&(ae(this,Yt,n),ae(this,Co,this.options),ae(this,ci,$(this,we).state)),n}getCurrentResult(){return $(this,Yt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,ua).status==="pending"&&$(this,ua).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){$(this,Ao).add(t)}getCurrentQuery(){return $(this,we)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,lr).defaultQueryOptions(t),n=$(this,lr).getQueryCache().build($(this,lr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,Oe,ac).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Yt)))}createResult(t,r){var P;const n=$(this,we),a=this.options,s=$(this,Yt),i=$(this,ci),l=$(this,Co),u=t!==n?t.state:$(this,hu),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const I=this.hasListeners(),E=!I&&Yj(t,r),C=I&&Gj(t,n,r,a);(E||C)&&(f={...f,...rP(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:x,status:v}=f;m=f.data;let g=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let I;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(I=s.data,g=!0):I=typeof r.placeholderData=="function"?r.placeholderData((P=$(this,Oo))==null?void 0:P.state.data,$(this,Oo)):r.placeholderData,I!==void 0&&(v="success",m=dy(s==null?void 0:s.data,I,r),h=!0)}if(r.select&&m!==void 0&&!g)if(s&&m===(i==null?void 0:i.data)&&r.select===$(this,mu))m=$(this,Po);else try{ae(this,mu,r.select),m=r.select(m),m=dy(s==null?void 0:s.data,m,r),ae(this,Po,m),ae(this,is,null)}catch(I){ae(this,is,I)}$(this,is)&&(p=$(this,is),m=$(this,Po),x=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",j=v==="error",k=w&&b,_=m!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&_,isStale:Hv(t,r),refetch:this.refetch,promise:$(this,ua),isEnabled:qr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=L=>{S.status==="error"?L.reject(S.error):S.data!==void 0&&L.resolve(S.data)},E=()=>{const L=ae(this,ua,S.promise=fy());I(L)},C=$(this,ua);switch(C.status){case"pending":t.queryHash===n.queryHash&&I(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&E();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&E();break}}return S}updateResult(){const t=$(this,Yt),r=this.createResult($(this,we),this.options);if(ae(this,ci,$(this,we).state),ae(this,Co,this.options),$(this,ci).data!==void 0&&ae(this,Oo,$(this,we)),cy(r,t))return;ae(this,Yt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!$(this,Ao).size)return!0;const i=new Set(s??$(this,Ao));return this.options.throwOnError&&i.add("error"),Object.keys($(this,Yt)).some(l=>{const c=l;return $(this,Yt)[c]!==t[c]&&i.has(c)})};be(this,Oe,nP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Oe,yy).call(this)}},lr=new WeakMap,we=new WeakMap,hu=new WeakMap,Yt=new WeakMap,ci=new WeakMap,Co=new WeakMap,ua=new WeakMap,is=new WeakMap,mu=new WeakMap,Po=new WeakMap,Oo=new WeakMap,ui=new WeakMap,di=new WeakMap,os=new WeakMap,Ao=new WeakMap,Oe=new WeakSet,ac=function(t){be(this,Oe,by).call(this);let r=$(this,we).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ur)),r},my=function(){be(this,Oe,xy).call(this);const t=js(this.options.staleTime,$(this,we));if(_i||$(this,Yt).isStale||!ly(t))return;const n=XC($(this,Yt).dataUpdatedAt,t)+1;ae(this,ui,Zs.setTimeout(()=>{$(this,Yt).isStale||this.updateResult()},n))},py=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,we)):this.options.refetchInterval)??!1},gy=function(t){be(this,Oe,vy).call(this),ae(this,os,t),!(_i||qr(this.options.enabled,$(this,we))===!1||!ly($(this,os))||$(this,os)===0)&&ae(this,di,Zs.setInterval(()=>{(this.options.refetchIntervalInBackground||Uv.isFocused())&&be(this,Oe,ac).call(this)},$(this,os)))},yy=function(){be(this,Oe,my).call(this),be(this,Oe,gy).call(this,be(this,Oe,py).call(this))},xy=function(){$(this,ui)&&(Zs.clearTimeout($(this,ui)),ae(this,ui,void 0))},vy=function(){$(this,di)&&(Zs.clearInterval($(this,di)),ae(this,di,void 0))},by=function(){const t=$(this,lr).getQueryCache().build($(this,lr),this.options);if(t===$(this,we))return;const r=$(this,we);ae(this,we,t),ae(this,hu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},nP=function(t){Dt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Yt))}),$(this,lr).getQueryCache().notify({query:$(this,we),type:"observerResultsUpdated"})})},MS);function x$(e,t){return qr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yj(e,t){return x$(e,t)||e.state.data!==void 0&&wy(e,t,t.refetchOnMount)}function wy(e,t,r){if(qr(t.enabled,e)!==!1&&js(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Hv(e,t)}return!1}function Gj(e,t,r,n){return(e!==t||qr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Hv(e,r)}function Hv(e,t){return qr(t.enabled,e)!==!1&&e.isStaleByTime(js(t.staleTime,e))}function v$(e,t){return!cy(e.getCurrentResult(),t)}function Xj(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},g=JC(t.options,t.fetchOptions),b=async(w,j,k)=>{if(x)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(E),E})(),S=await g(N),{maxPages:P}=t.options,I=k?c$:l$;return{pages:I(w.pages,S,P),pageParams:I(w.pageParams,j,P)}};if(a&&s.length){const w=a==="backward",j=w?b$:Qj,k={pages:s,pageParams:i},_=j(n,k);l=await b(k,_,w)}else{const w=e??s.length;do{const j=c===0?i[0]??n.initialPageParam:Qj(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Qj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function b$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var pu,Ln,Gt,fi,$n,Ya,IS,w$=(IS=class extends tP{constructor(t){super();he(this,$n);he(this,pu);he(this,Ln);he(this,Gt);he(this,fi);ae(this,pu,t.client),this.mutationId=t.mutationId,ae(this,Gt,t.mutationCache),ae(this,Ln,[]),this.state=t.state||j$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Ln).includes(t)||($(this,Ln).push(t),this.clearGcTimeout(),$(this,Gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,Ln,$(this,Ln).filter(r=>r!==t)),this.scheduleGc(),$(this,Gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Ln).length||(this.state.status==="pending"?this.scheduleGc():$(this,Gt).remove(this))}continue(){var t;return((t=$(this,fi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,h,m,p,x,v,g,b,w,j,k,_,N,S,P;const r=()=>{be(this,$n,Ya).call(this,{type:"continue"})},n={client:$(this,pu),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,fi,eP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(I,E)=>{be(this,$n,Ya).call(this,{type:"failed",failureCount:I,error:E})},onPause:()=>{be(this,$n,Ya).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Gt).canRun(this)}));const a=this.state.status==="pending",s=!$(this,fi).canStart();try{if(a)r();else{be(this,$n,Ya).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(i=$(this,Gt).config).onMutate)==null?void 0:l.call(i,t,this,n));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));E!==this.state.context&&be(this,$n,Ya).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const I=await $(this,fi).start();return await((f=(d=$(this,Gt).config).onSuccess)==null?void 0:f.call(d,I,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,I,t,this.state.context,n)),await((x=(p=$(this,Gt).config).onSettled)==null?void 0:x.call(p,I,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,I,null,t,this.state.context,n)),be(this,$n,Ya).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(b=$(this,Gt).config).onError)==null?void 0:w.call(b,I,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,I,t,this.state.context,n)),await((N=(_=$(this,Gt).config).onSettled)==null?void 0:N.call(_,void 0,I,this.state.variables,this.state.context,this,n)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,I,t,this.state.context,n)),I}finally{be(this,$n,Ya).call(this,{type:"error",error:I})}}finally{$(this,Gt).runNext(this)}}},pu=new WeakMap,Ln=new WeakMap,Gt=new WeakMap,fi=new WeakMap,$n=new WeakSet,Ya=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{$(this,Ln).forEach(n=>{n.onMutationUpdate(t)}),$(this,Gt).notify({mutation:this,type:"updated",action:t})})},IS);function j$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var da,un,gu,DS,k$=(DS=class extends ku{constructor(t={}){super();he(this,da);he(this,un);he(this,gu);this.config=t,ae(this,da,new Set),ae(this,un,new Map),ae(this,gu,0)}build(t,r,n){const a=new w$({client:t,mutationCache:this,mutationId:++md(this,gu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){$(this,da).add(t);const r=Td(t);if(typeof r=="string"){const n=$(this,un).get(r);n?n.push(t):$(this,un).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,da).delete(t)){const r=Td(t);if(typeof r=="string"){const n=$(this,un).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&$(this,un).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Td(t);if(typeof r=="string"){const n=$(this,un).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Td(t);if(typeof r=="string"){const a=(n=$(this,un).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{$(this,da).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,da).clear(),$(this,un).clear()})}getAll(){return Array.from($(this,da))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Hj(r,n))}findAll(t={}){return this.getAll().filter(r=>Hj(t,r))}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dt.batch(()=>Promise.all(t.map(r=>r.continue().catch(ur))))}},da=new WeakMap,un=new WeakMap,gu=new WeakMap,DS);function Td(e){var t;return(t=e.options.scope)==null?void 0:t.id}var zn,RS,N$=(RS=class extends ku{constructor(t={}){super();he(this,zn);this.config=t,ae(this,zn,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??Fv(a,r);let i=this.get(s);return i||(i=new g$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){$(this,zn).has(t.queryHash)||($(this,zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,zn).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,zn).get(t)}getAll(){return[...$(this,zn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Uj(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Uj(t,n)):r}notify(t){Dt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zn=new WeakMap,RS),rt,ls,cs,To,Mo,us,Io,Do,LS,_$=(LS=class{constructor(e={}){he(this,rt);he(this,ls);he(this,cs);he(this,To);he(this,Mo);he(this,us);he(this,Io);he(this,Do);ae(this,rt,e.queryCache||new N$),ae(this,ls,e.mutationCache||new k$),ae(this,cs,e.defaultOptions||{}),ae(this,To,new Map),ae(this,Mo,new Map),ae(this,us,0)}mount(){md(this,us)._++,$(this,us)===1&&(ae(this,Io,Uv.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,rt).onFocus())})),ae(this,Do,ch.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,rt).onOnline())})))}unmount(){var e,t;md(this,us)._--,$(this,us)===0&&((e=$(this,Io))==null||e.call(this),ae(this,Io,void 0),(t=$(this,Do))==null||t.call(this),ae(this,Do,void 0))}isFetching(e){return $(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,ls).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,rt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(js(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=$(this,rt).get(n.queryHash),s=a==null?void 0:a.state.data,i=s$(t,s);if(i!==void 0)return $(this,rt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Dt.batch(()=>$(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,rt);Dt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,rt);return Dt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Dt.batch(()=>$(this,rt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ur).catch(ur)}invalidateQueries(e,t={}){return Dt.batch(()=>($(this,rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Dt.batch(()=>$(this,rt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(ur)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,rt).build(this,t);return r.isStaleByTime(js(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=Xj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=Xj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ch.isOnline()?$(this,ls).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,rt)}getMutationCache(){return $(this,ls)}getDefaultOptions(){return $(this,cs)}setDefaultOptions(e){ae(this,cs,e)}setQueryDefaults(e,t){$(this,To).set(Bc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,To).values()],r={};return t.forEach(n=>{Uc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,Mo).set(Bc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Mo).values()],r={};return t.forEach(n=>{Uc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,cs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Bv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,cs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,rt).clear(),$(this,ls).clear()}},rt=new WeakMap,ls=new WeakMap,cs=new WeakMap,To=new WeakMap,Mo=new WeakMap,us=new WeakMap,Io=new WeakMap,Do=new WeakMap,LS),aP=y.createContext(void 0),S$=e=>{const t=y.useContext(aP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},E$=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(aP.Provider,{value:e,children:t})),sP=y.createContext(!1),C$=()=>y.useContext(sP);sP.Provider;function P$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var O$=y.createContext(P$()),A$=()=>y.useContext(O$),T$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},M$=e=>{y.useEffect(()=>{e.clearReset()},[e])},I$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||u$(r,[e.error,n])),D$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},R$=(e,t)=>e.isLoading&&e.isFetching&&!t,L$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Jj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function $$(e,t,r){var f,h,m,p,x;const n=C$(),a=A$(),s=S$(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",D$(i),T$(i,a),M$(a);const l=!s.getQueryCache().get(i.queryHash),[c]=y.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(v=>{const g=d?c.subscribe(Dt.batchCalls(v)):ur;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(i)},[i,c]),L$(i,u))throw Jj(i,c,a);if(I$({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,i,u),i.experimental_prefetchInRender&&!_i&&R$(u,n)){const v=l?Jj(i,c,a):(x=s.getQueryCache().get(i.queryHash))==null?void 0:x.promise;v==null||v.catch(ur).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function z$(e,t){return $$(e,y$)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zj="popstate";function F$(e={}){function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return jy("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Hc(a)}return U$(t,r,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B$(){return Math.random().toString(36).substring(2,10)}function ek(e,t){return{usr:e.state,key:e.key,idx:t}}function jy(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hl(t):t,state:r,key:t&&t.key||n||B$()}}function Hc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function U$(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let v=d(),g=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:g})}function h(v,g){l="PUSH";let b=jy(x.location,v,g);u=d()+1;let w=ek(b,u),j=x.createHref(b);try{i.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}s&&c&&c({action:l,location:x.location,delta:1})}function m(v,g){l="REPLACE";let b=jy(x.location,v,g);u=d();let w=ek(b,u),j=x.createHref(b);i.replaceState(w,"",j),s&&c&&c({action:l,location:x.location,delta:0})}function p(v){return H$(v)}let x={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Zj,f),c=v,()=>{a.removeEventListener(Zj,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(v){return i.go(v)}};return x}function H$(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Je(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Hc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function iP(e,t,r="/"){return V$(e,t,r,!1)}function V$(e,t,r,n){let a=typeof t=="string"?hl(t):t,s=Ca(a.pathname||"/",r);if(s==null)return null;let i=oP(e);W$(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=rz(s);l=ez(i[c],u,n)}return l}function oP(e,t=[],r=[],n="",a=!1){let s=(i,l,c=a,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Je(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=ba([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(Je(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),oP(i.children,t,h,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:J$(f,i.index),routesMeta:h})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let u of lP(i.path))s(i,l,!0,u)}),t}function lP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=lP(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function W$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Z$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var K$=/^:[\w-]+$/,q$=3,Y$=2,G$=1,X$=10,Q$=-2,tk=e=>e==="*";function J$(e,t){let r=e.split("/"),n=r.length;return r.some(tk)&&(n+=Q$),t&&(n+=Y$),r.filter(a=>!tk(a)).reduce((a,s)=>a+(K$.test(s)?q$:s===""?G$:X$),n)}function Z$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function ez(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=uh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=uh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:ba([s,f.pathname]),pathnameBase:oz(ba([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=ba([s,f.pathnameBase]))}return i}function uh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let p=l[h]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function tz(e,t=!1,r=!0){_n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function rz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ca(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var nz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,az=e=>nz.test(e);function sz(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?hl(e):e,s;if(r)if(az(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),_n(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?s=rk(r.substring(1),"/"):s=rk(r,t)}else s=t;return{pathname:s,search:lz(n),hash:cz(a)}}function rk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Cg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cP(e){let t=iz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function uP(e,t,r,n=!1){let a;typeof e=="string"?a=hl(e):(a={...e},Je(!a.pathname||!a.pathname.includes("?"),Cg("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),Cg("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),Cg("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=sz(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ba=e=>e.join("/").replace(/\/\/+/g,"/"),oz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function dz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dP=["POST","PUT","PATCH","DELETE"];new Set(dP);var fz=["GET",...dP];new Set(fz);var ml=y.createContext(null);ml.displayName="DataRouter";var Mm=y.createContext(null);Mm.displayName="DataRouterState";y.createContext(!1);var fP=y.createContext({isTransitioning:!1});fP.displayName="ViewTransition";var hz=y.createContext(new Map);hz.displayName="Fetchers";var mz=y.createContext(null);mz.displayName="Await";var Pn=y.createContext(null);Pn.displayName="Navigation";var Nu=y.createContext(null);Nu.displayName="Location";var ta=y.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var Vv=y.createContext(null);Vv.displayName="RouteError";function pz(e,{relative:t}={}){Je(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(Pn),{hash:a,pathname:s,search:i}=Su(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:ba([r,s])),n.createHref({pathname:l,search:i,hash:a})}function _u(){return y.useContext(Nu)!=null}function Is(){return Je(_u(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Nu).location}var hP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mP(e){y.useContext(Pn).static||y.useLayoutEffect(e)}function Wv(){let{isDataRoute:e}=y.useContext(ta);return e?Oz():gz()}function gz(){Je(_u(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(ml),{basename:t,navigator:r}=y.useContext(Pn),{matches:n}=y.useContext(ta),{pathname:a}=Is(),s=JSON.stringify(cP(n)),i=y.useRef(!1);return mP(()=>{i.current=!0}),y.useCallback((c,u={})=>{if(_n(i.current,hP),!i.current)return;if(typeof c=="number"){r.go(c);return}let d=uP(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ba([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}var yz=y.createContext(null);function xz(e){let t=y.useContext(ta).outlet;return y.useMemo(()=>t&&y.createElement(yz.Provider,{value:e},t),[t,e])}function Su(e,{relative:t}={}){let{matches:r}=y.useContext(ta),{pathname:n}=Is(),a=JSON.stringify(cP(r));return y.useMemo(()=>uP(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function vz(e,t){return pP(e,t)}function pP(e,t,r,n,a){var b;Je(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(Pn),{matches:i}=y.useContext(ta),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let w=f&&f.path||"";gP(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let h=Is(),m;if(t){let w=typeof t=="string"?hl(t):t;Je(d==="/"||((b=w.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=h;let p=m.pathname||"/",x=p;if(d!=="/"){let w=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=iP(e,{pathname:x});_n(f||v!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),_n(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Nz(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:ba([d,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:ba([d,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),i,r,n,a);return t&&g?y.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},g):g}function bz(){let e=Pz(),t=uz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,i)}var wz=y.createElement(bz,null),jz=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(ta.Provider,{value:this.props.routeContext},y.createElement(Vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kz({routeContext:e,match:t,children:r}){let n=y.useContext(ml);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(ta.Provider,{value:e},r)}function Nz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=r&&n?(d,f)=>{var h,m;n(d,{location:r.location,params:((m=(h=r.matches)==null?void 0:h[0])==null?void 0:m.params)??{},unstable_pattern:dz(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,h)=>{let m,p=!1,x=null,v=null;r&&(m=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||wz,l&&(c<0&&h===0?(gP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,h+1)),b=()=>{let w;return m?w=x:p?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(kz,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(jz,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:u}):b()},null)}function Kv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _z(e){let t=y.useContext(ml);return Je(t,Kv(e)),t}function Sz(e){let t=y.useContext(Mm);return Je(t,Kv(e)),t}function Ez(e){let t=y.useContext(ta);return Je(t,Kv(e)),t}function qv(e){let t=Ez(e),r=t.matches[t.matches.length-1];return Je(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Cz(){return qv("useRouteId")}function Pz(){var n;let e=y.useContext(Vv),t=Sz("useRouteError"),r=qv("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Oz(){let{router:e}=_z("useNavigate"),t=qv("useNavigate"),r=y.useRef(!1);return mP(()=>{r.current=!0}),y.useCallback(async(a,s={})=>{_n(r.current,hP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var nk={};function gP(e,t,r){!t&&!nk[e]&&(nk[e]=!0,_n(!1,r))}y.memo(Az);function Az({routes:e,future:t,state:r,unstable_onError:n}){return pP(e,void 0,r,n,t)}function Tz(e){return xz(e.context)}function Vs(e){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:i}){Je(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:i,future:{}}),[l,a,s,i]);typeof r=="string"&&(r=hl(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,p=y.useMemo(()=>{let x=Ca(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:h,key:m},navigationType:n}},[l,u,d,f,h,m,n]);return _n(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(Pn.Provider,{value:c},y.createElement(Nu.Provider,{children:t,value:p}))}function Iz({children:e,location:t}){return vz(ky(e),t)}function ky(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let s=[...t,a];if(n.type===y.Fragment){r.push.apply(r,ky(n.props.children,s));return}Je(n.type===Vs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ky(n.props.children,s)),r.push(i)}),r}var kf="get",Nf="application/x-www-form-urlencoded";function Im(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Dz(e){return Im(e)&&e.tagName.toLowerCase()==="button"}function Rz(e){return Im(e)&&e.tagName.toLowerCase()==="form"}function Lz(e){return Im(e)&&e.tagName.toLowerCase()==="input"}function $z(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zz(e,t){return e.button===0&&(!t||t==="_self")&&!$z(e)}var Md=null;function Fz(){if(Md===null)try{new FormData(document.createElement("form"),0),Md=!1}catch{Md=!0}return Md}var Bz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pg(e){return e!=null&&!Bz.has(e)?(_n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nf}"`),null):e}function Uz(e,t){let r,n,a,s,i;if(Rz(e)){let l=e.getAttribute("action");n=l?Ca(l,t):null,r=e.getAttribute("method")||kf,a=Pg(e.getAttribute("enctype"))||Nf,s=new FormData(e)}else if(Dz(e)||Lz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ca(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||kf,a=Pg(e.getAttribute("formenctype"))||Pg(l.getAttribute("enctype"))||Nf,s=new FormData(l,e),!Fz()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(Im(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kf,n=null,a=Nf,i=e}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hz(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Ca(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Vz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Kz(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let i=await Vz(s,r);return i.links?i.links():[]}return[]}));return Xz(n.flat(1).filter(Wz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ak(e,t,r,n,a,s){let i=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function qz(e,t,{includeHydrateFallback:r}={}){return Yz(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Yz(e){return[...new Set(e)]}function Gz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Xz(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(Gz(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function yP(){let e=y.useContext(ml);return Yv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qz(){let e=y.useContext(Mm);return Yv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gv=y.createContext(void 0);Gv.displayName="FrameworkContext";function xP(){let e=y.useContext(Gv);return Yv(e,"You must render this element inside a <HydratedRouter> element"),e}function Jz(e,t){let r=y.useContext(Gv),[n,a]=y.useState(!1),[s,i]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=y.useRef(null);y.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=g=>{g.forEach(b=>{i(b.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[e]),y.useEffect(()=>{if(n){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{a(!0)},p=()=>{a(!1),i(!1)};return r?e!=="intent"?[s,h,{}]:[s,h,{onFocus:Fl(l,m),onBlur:Fl(c,p),onMouseEnter:Fl(u,m),onMouseLeave:Fl(d,p),onTouchStart:Fl(f,m)}]:[!1,h,{}]}function Fl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Zz({page:e,...t}){let{router:r}=yP(),n=y.useMemo(()=>iP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(tF,{page:e,matches:n,...t}):null}function eF(e){let{manifest:t,routeModules:r}=xP(),[n,a]=y.useState([]);return y.useEffect(()=>{let s=!1;return Kz(e,t,r).then(i=>{s||a(i)}),()=>{s=!0}},[e,t,r]),n}function tF({page:e,matches:t,...r}){let n=Is(),{manifest:a,routeModules:s}=xP(),{basename:i}=yP(),{loaderData:l,matches:c}=Qz(),u=y.useMemo(()=>ak(e,t,c,a,n,"data"),[e,t,c,a,n]),d=y.useMemo(()=>ak(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,x=!1;if(t.forEach(g=>{var w;let b=a.routes[g.route.id];!b||!b.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((w=s[g.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?x=!0:p.add(g.route.id))}),p.size===0)return[];let v=Hz(e,i,"data");return x&&p.size>0&&v.searchParams.set("_routes",t.filter(g=>p.has(g.route.id)).map(g=>g.route.id).join(",")),[v.pathname+v.search]},[i,l,n,a,u,t,e,s]),h=y.useMemo(()=>qz(d,a),[d,a]),m=eF(d);return y.createElement(y.Fragment,null,f.map(p=>y.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),h.map(p=>y.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),m.map(({key:p,link:x})=>y.createElement("link",{key:p,nonce:r.nonce,...x})))}function rF(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var vP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vP&&(window.__reactRouterVersion="7.10.1")}catch{}function nF({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=y.useRef();a.current==null&&(a.current=F$({window:n,v5Compat:!0}));let s=a.current,[i,l]=y.useState({action:s.action,location:s.location}),c=y.useCallback(u=>{r===!1?l(u):y.startTransition(()=>l(u))},[r]);return y.useLayoutEffect(()=>s.listen(c),[s,c]),y.createElement(Mz,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s,unstable_useTransitions:r===!0})}var bP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dm=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:p,unstable_useTransitions:x}=y.useContext(Pn),v=typeof u=="string"&&bP.test(u),g,b=!1;if(typeof u=="string"&&v&&(g=u,vP))try{let I=new URL(window.location.href),E=u.startsWith("//")?new URL(I.protocol+u):new URL(u),C=Ca(E.pathname,p);E.origin===I.origin&&C!=null?u=C+E.search+E.hash:b=!0}catch{_n(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=pz(u,{relative:a}),[j,k,_]=Jz(n,h),N=oF(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_useTransitions:x});function S(I){t&&t(I),I.defaultPrevented||N(I)}let P=y.createElement("a",{...h,..._,href:g||w,onClick:b||s?t:S,ref:rF(m,k),target:c,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?y.createElement(y.Fragment,null,P,y.createElement(Zz,{page:w})):P});Dm.displayName="Link";var aF=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},d){let f=Su(i,{relative:u.relative}),h=Is(),m=y.useContext(Mm),{navigator:p,basename:x}=y.useContext(Pn),v=m!=null&&fF(f)&&l===!0,g=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,b=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&x&&(w=Ca(w,x)||w);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=b===g||!a&&b.startsWith(g)&&b.charAt(j)==="/",_=w!=null&&(w===g||!a&&w.startsWith(g)&&w.charAt(g.length)==="/"),N={isActive:k,isPending:_,isTransitioning:v},S=k?t:void 0,P;typeof n=="function"?P=n(N):P=[n,k?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(N):s;return y.createElement(Dm,{...u,"aria-current":S,className:P,ref:d,style:I,to:i,viewTransition:l},typeof c=="function"?c(N):c)});aF.displayName="NavLink";var sF=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:i=kf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let{unstable_useTransitions:p}=y.useContext(Pn),x=uF(),v=dF(l,{relative:u}),g=i.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&bP.test(l),w=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,_=(k==null?void 0:k.getAttribute("formmethod"))||i,N=()=>x(k||j.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f});p&&r!==!1?y.startTransition(()=>N()):N()};return y.createElement("form",{ref:m,method:g,action:v,onSubmit:n?c:w,...h,"data-discover":!b&&e==="render"?"true":void 0})});sF.displayName="Form";function iF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wP(e){let t=y.useContext(ml);return Je(t,iF(e)),t}function oF(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_useTransitions:l}={}){let c=Wv(),u=Is(),d=Su(e,{relative:s});return y.useCallback(f=>{if(zz(f,t)){f.preventDefault();let h=r!==void 0?r:Hc(u)===Hc(d),m=()=>c(e,{replace:h,state:n,preventScrollReset:a,relative:s,viewTransition:i});l?y.startTransition(()=>m()):m()}},[u,c,d,r,n,t,e,a,s,i,l])}var lF=0,cF=()=>`__${String(++lF)}__`;function uF(){let{router:e}=wP("useSubmit"),{basename:t}=y.useContext(Pn),r=Cz(),n=e.fetch,a=e.navigate;return y.useCallback(async(s,i={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=Uz(s,t);if(i.navigate===!1){let h=i.fetcherKey||cF();await n(h,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await a(i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,t,r])}function dF(e,{relative:t}={}){let{basename:r}=y.useContext(Pn),n=y.useContext(ta);Je(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Su(e||".",{relative:t})},i=Is();if(e==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ba([r,s.pathname])),Hc(s)}function fF(e,{relative:t}={}){let r=y.useContext(fP);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=wP("useViewTransitionState"),a=Su(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ca(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Ca(r.nextLocation.pathname,n)||r.nextLocation.pathname;return uh(a.pathname,i)!=null||uh(a.pathname,s)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...hF,width:a,height:a,stroke:n,strokeWidth:i?Number(s)*24/Number(a):s,className:["lucide",`lucide-${mF(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=ee("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=ee("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=ee("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ee("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ee("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ee("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ee("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ee("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ee("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ee("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ee("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ee("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ee("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ee("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ee("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=ee("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=ee("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=ee("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),e6=()=>{const e=Is(),[t,r]=y.useState(!1);y.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const i=!t;r(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=i=>e.pathname===i,s=e.pathname==="/canvas";return o.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[o.jsxs("aside",{className:`${s?"w-16":"w-64"} bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-all duration-200`,children:[o.jsxs("div",{className:`${s?"p-4":"p-6"} border-b border-slate-800 dark:border-slate-900 flex items-center ${s?"justify-center":"gap-3"}`,children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-lg shrink-0 shadow-lg shadow-blue-900/20",children:"S"}),!s&&o.jsx("h1",{className:"text-xl font-bold tracking-tight whitespace-nowrap bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Skyulf ML"})]}),o.jsxs("nav",{className:"flex-1 p-2 space-y-2",children:[o.jsx(Bl,{to:"/",active:a("/"),icon:o.jsx(SP,{size:20}),collapsed:s,children:"Dashboard"}),o.jsx(Bl,{to:"/canvas",active:a("/canvas"),icon:o.jsx(_P,{size:20}),collapsed:s,children:"ML Canvas"}),o.jsx(Bl,{to:"/data",active:a("/data"),icon:o.jsx(Yn,{size:20}),collapsed:s,children:"Data Sources"}),o.jsx(Bl,{to:"/registry",active:a("/registry"),icon:o.jsx(Ny,{size:20}),collapsed:s,children:"Model Registry"}),o.jsx(Bl,{to:"/deployments",active:a("/deployments"),icon:o.jsx(Rm,{size:20}),collapsed:s,children:"Deployments"})]}),o.jsx("div",{className:`${s?"p-2":"p-4"} border-t border-slate-800 space-y-4`,children:o.jsxs("button",{onClick:n,className:`flex items-center ${s?"justify-center":"gap-3"} w-full ${s?"px-2":"px-4"} py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors`,title:t?"Light Mode":"Dark Mode",children:[t?o.jsx(YF,{size:20}):o.jsx(LF,{size:20}),!s&&(t?"Light Mode":"Dark Mode")]})})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(Tz,{})})]})},Bl=({to:e,children:t,active:r,icon:n,collapsed:a})=>o.jsxs(Dm,{to:e,className:`flex items-center ${a?"justify-center":"gap-3"} ${a?"px-2":"px-4"} py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:a?t:void 0,children:[n,!a&&t]});function AP(e,t){return function(){return e.apply(t,arguments)}}const{toString:t6}=Object.prototype,{getPrototypeOf:nb}=Object,{iterator:Lm,toStringTag:TP}=Symbol,$m=(e=>t=>{const r=t6.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),On=e=>(e=e.toLowerCase(),t=>$m(t)===e),zm=e=>t=>typeof t===e,{isArray:gl}=Array,Ho=zm("undefined");function Cu(e){return e!==null&&!Ho(e)&&e.constructor!==null&&!Ho(e.constructor)&&vr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const MP=On("ArrayBuffer");function r6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&MP(e.buffer),t}const n6=zm("string"),vr=zm("function"),IP=zm("number"),Pu=e=>e!==null&&typeof e=="object",a6=e=>e===!0||e===!1,_f=e=>{if($m(e)!=="object")return!1;const t=nb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(TP in e)&&!(Lm in e)},s6=e=>{if(!Pu(e)||Cu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},i6=On("Date"),o6=On("File"),l6=On("Blob"),c6=On("FileList"),u6=e=>Pu(e)&&vr(e.pipe),d6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vr(e.append)&&((t=$m(e))==="formdata"||t==="object"&&vr(e.toString)&&e.toString()==="[object FormData]"))},f6=On("URLSearchParams"),[h6,m6,p6,g6]=["ReadableStream","Request","Response","Headers"].map(On),y6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ou(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),gl(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Cu(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function DP(e,t){if(Cu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RP=e=>!Ho(e)&&e!==ei;function Ey(){const{caseless:e,skipUndefined:t}=RP(this)&&this||{},r={},n=(a,s)=>{const i=e&&DP(r,s)||s;_f(r[i])&&_f(a)?r[i]=Ey(r[i],a):_f(a)?r[i]=Ey({},a):gl(a)?r[i]=a.slice():(!t||!Ho(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ou(arguments[a],n);return r}const x6=(e,t,r,{allOwnKeys:n}={})=>(Ou(t,(a,s)=>{r&&vr(a)?e[s]=AP(a,r):e[s]=a},{allOwnKeys:n}),e),v6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),b6=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},w6=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&nb(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},j6=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},k6=e=>{if(!e)return null;if(gl(e))return e;let t=e.length;if(!IP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},N6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nb(Uint8Array)),_6=(e,t)=>{const n=(e&&e[Lm]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},S6=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},E6=On("HTMLFormElement"),C6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),ok=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),P6=On("RegExp"),LP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ou(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},O6=e=>{LP(e,(t,r)=>{if(vr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(vr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},A6=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return gl(e)?n(e):n(String(e).split(t)),r},T6=()=>{},M6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function I6(e){return!!(e&&vr(e.append)&&e[TP]==="FormData"&&e[Lm])}const D6=e=>{const t=new Array(10),r=(n,a)=>{if(Pu(n)){if(t.indexOf(n)>=0)return;if(Cu(n))return n;if(!("toJSON"in n)){t[a]=n;const s=gl(n)?[]:{};return Ou(n,(i,l)=>{const c=r(i,a+1);!Ho(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},R6=On("AsyncFunction"),L6=e=>e&&(Pu(e)||vr(e))&&vr(e.then)&&vr(e.catch),$P=((e,t)=>e?setImmediate:t?((r,n)=>(ei.addEventListener("message",({source:a,data:s})=>{a===ei&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ei.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",vr(ei.postMessage)),$6=typeof queueMicrotask<"u"?queueMicrotask.bind(ei):typeof process<"u"&&process.nextTick||$P,z6=e=>e!=null&&vr(e[Lm]),W={isArray:gl,isArrayBuffer:MP,isBuffer:Cu,isFormData:d6,isArrayBufferView:r6,isString:n6,isNumber:IP,isBoolean:a6,isObject:Pu,isPlainObject:_f,isEmptyObject:s6,isReadableStream:h6,isRequest:m6,isResponse:p6,isHeaders:g6,isUndefined:Ho,isDate:i6,isFile:o6,isBlob:l6,isRegExp:P6,isFunction:vr,isStream:u6,isURLSearchParams:f6,isTypedArray:N6,isFileList:c6,forEach:Ou,merge:Ey,extend:x6,trim:y6,stripBOM:v6,inherits:b6,toFlatObject:w6,kindOf:$m,kindOfTest:On,endsWith:j6,toArray:k6,forEachEntry:_6,matchAll:S6,isHTMLForm:E6,hasOwnProperty:ok,hasOwnProp:ok,reduceDescriptors:LP,freezeMethods:O6,toObjectSet:A6,toCamelCase:C6,noop:T6,toFiniteNumber:M6,findKey:DP,global:ei,isContextDefined:RP,isSpecCompliantForm:I6,toJSONObject:D6,isAsyncFn:R6,isThenable:L6,setImmediate:$P,asap:$6,isIterable:z6};function ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const zP=ye.prototype,FP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{FP[e]={value:e}});Object.defineProperties(ye,FP);Object.defineProperty(zP,"isAxiosError",{value:!0});ye.from=(e,t,r,n,a,s)=>{const i=Object.create(zP);W.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const F6=null;function Cy(e){return W.isPlainObject(e)||W.isArray(e)}function BP(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function lk(e,t,r){return e?e.concat(t).map(function(a,s){return a=BP(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function B6(e){return W.isArray(e)&&!e.some(Cy)}const U6=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function Fm(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!W.isUndefined(v[x])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(W.isDate(p))return p.toISOString();if(W.isBoolean(p))return p.toString();if(!c&&W.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,v){let g=p;if(p&&!v&&typeof p=="object"){if(W.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&B6(p)||(W.isFileList(p)||W.endsWith(x,"[]"))&&(g=W.toArray(p)))return x=BP(x),g.forEach(function(w,j){!(W.isUndefined(w)||w===null)&&t.append(i===!0?lk([x],j,s):i===null?x:x+"[]",u(w))}),!1}return Cy(p)?!0:(t.append(lk(v,x,s),u(p)),!1)}const f=[],h=Object.assign(U6,{defaultVisitor:d,convertValue:u,isVisitable:Cy});function m(p,x){if(!W.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),W.forEach(p,function(g,b){(!(W.isUndefined(g)||g===null)&&a.call(t,g,W.isString(b)?b.trim():b,x,h))===!0&&m(g,x?x.concat(b):[b])}),f.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ck(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ab(e,t){this._pairs=[],e&&Fm(e,this,t)}const UP=ab.prototype;UP.append=function(t,r){this._pairs.push([t,r])};UP.toString=function(t){const r=t?function(n){return t.call(this,n,ck)}:ck;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function H6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function HP(e,t,r){if(!t)return e;const n=r&&r.encode||H6;W.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=W.isURLSearchParams(t)?t.toString():new ab(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class uk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const VP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V6=typeof URLSearchParams<"u"?URLSearchParams:ab,W6=typeof FormData<"u"?FormData:null,K6=typeof Blob<"u"?Blob:null,q6={isBrowser:!0,classes:{URLSearchParams:V6,FormData:W6,Blob:K6},protocols:["http","https","file","blob","url","data"]},sb=typeof window<"u"&&typeof document<"u",Py=typeof navigator=="object"&&navigator||void 0,Y6=sb&&(!Py||["ReactNative","NativeScript","NS"].indexOf(Py.product)<0),G6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X6=sb&&window.location.href||"http://localhost",Q6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sb,hasStandardBrowserEnv:Y6,hasStandardBrowserWebWorkerEnv:G6,navigator:Py,origin:X6},Symbol.toStringTag,{value:"Module"})),Wt={...Q6,...q6};function J6(e,t){return Fm(e,new Wt.classes.URLSearchParams,{visitor:function(r,n,a,s){return Wt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Z6(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function e8(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function WP(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&W.isArray(a)?a.length:i,c?(W.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!W.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&W.isArray(a[i])&&(a[i]=e8(a[i])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,a)=>{t(Z6(n),a,r,0)}),r}return null}function t8(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Au={transitional:VP,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=W.isObject(t);if(s&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return a?JSON.stringify(WP(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return J6(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Fm(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),t8(t)):t}],transformResponse:[function(t){const r=this.transitional||Au.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Au.headers[e]={}});const r8=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),n8=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&r8[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},dk=Symbol("internals");function Ul(e){return e&&String(e).trim().toLowerCase()}function Sf(e){return e===!1||e==null?e:W.isArray(e)?e.map(Sf):String(e)}function a8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const s8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Og(e,t,r,n,a){if(W.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function i8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function o8(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}let br=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=Ul(c);if(!d)throw new Error("header name must be a non-empty string");const f=W.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Sf(l))}const i=(l,c)=>W.forEach(l,(u,d)=>s(u,d,c));if(W.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(W.isString(t)&&(t=t.trim())&&!s8(t))i(n8(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,u;for(const d of t){if(!W.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?W.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Ul(t),t){const n=W.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return a8(a);if(W.isFunction(r))return r.call(this,a,n);if(W.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ul(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Og(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=Ul(i),i){const l=W.findKey(n,i);l&&(!r||Og(n,n[l],l,r))&&(delete n[l],a=!0)}}return W.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||Og(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return W.forEach(this,(a,s)=>{const i=W.findKey(n,s);if(i){r[i]=Sf(a),delete r[s];return}const l=t?i8(s):String(s).trim();l!==s&&delete r[s],r[l]=Sf(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[dk]=this[dk]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Ul(i);n[l]||(o8(a,i),n[l]=!0)}return W.isArray(t)?t.forEach(s):s(t),this}};br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(br.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(br);function Ag(e,t){const r=this||Au,n=t||r,a=br.from(n.headers);let s=n.data;return W.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function KP(e){return!!(e&&e.__CANCEL__)}function yl(e,t,r){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(yl,ye,{__CANCEL__:!0});function qP(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function l8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function c8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function u8(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const fh=(e,t,r=3)=>{let n=0;const a=c8(50,250);return u8(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},fk=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},hk=e=>(...t)=>W.asap(()=>e(...t)),d8=Wt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Wt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,f8=Wt.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];W.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),W.isString(n)&&l.push(`path=${n}`),W.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),W.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function h8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function m8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function YP(e,t,r){let n=!h8(t);return e&&(n||r==!1)?m8(e,t):t}const mk=e=>e instanceof br?{...e}:e;function Ei(e,t){t=t||{};const r={};function n(u,d,f,h){return W.isPlainObject(u)&&W.isPlainObject(d)?W.merge.call({caseless:h},u,d):W.isPlainObject(d)?W.merge({},d):W.isArray(d)?d.slice():d}function a(u,d,f,h){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!W.isUndefined(d))return n(void 0,d)}function i(u,d){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(mk(u),mk(d),f,!0)};return W.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);W.isUndefined(h)&&f!==l||(r[d]=h)}),r}const GP=e=>{const t=Ei({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=br.from(i),t.url=HP(YP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Wt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&d8(t.url))){const c=a&&s&&f8.read(s);c&&i.set(a,c)}return t},p8=typeof XMLHttpRequest<"u",g8=p8&&function(e){return new Promise(function(r,n){const a=GP(e);let s=a.data;const i=br.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function x(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;const w=br.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};qP(function(N){r(N),x()},function(N){n(N),x()},k),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(n(new ye("Request aborted",ye.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",_=new ye(k,ye.ERR_NETWORK,e,v);_.event=j||null,n(_),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||VP;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ye(j,k.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&W.forEach(i.toJSON(),function(j,k){v.setRequestHeader(k,j)}),W.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,p]=fh(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=fh(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new yl(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=l8(a.url);if(b&&Wt.protocols.indexOf(b)===-1){n(new ye("Unsupported protocol "+b+":",ye.ERR_BAD_REQUEST,e));return}v.send(s||null)})},y8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new yl(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},x8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},v8=async function*(e,t){for await(const r of b8(e))yield*x8(r,t)},b8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},pk=(e,t,r,n)=>{const a=v8(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},gk=64*1024,{isFunction:Id}=W,w8=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:yk,TextEncoder:xk}=W.global,vk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},j8=e=>{e=W.merge.call({skipUndefined:!0},w8,e);const{fetch:t,Request:r,Response:n}=e,a=t?Id(t):typeof fetch=="function",s=Id(r),i=Id(n);if(!a)return!1;const l=a&&Id(yk),c=a&&(typeof xk=="function"?(p=>x=>p.encode(x))(new xk):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&vk(()=>{let p=!1;const x=new r(Wt.origin,{body:new yk,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=i&&l&&vk(()=>W.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,v)=>{let g=x&&x[p];if(g)return g.call(x);throw new ye(`Response type '${p}' is not supported`,ye.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(W.isBlob(p))return p.size;if(W.isSpecCompliantForm(p))return(await new r(Wt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(W.isArrayBufferView(p)||W.isArrayBuffer(p))return p.byteLength;if(W.isURLSearchParams(p)&&(p=p+""),W.isString(p))return(await c(p)).byteLength},m=async(p,x)=>{const v=W.toFiniteNumber(p.getContentLength());return v??h(x)};return async p=>{let{url:x,method:v,data:g,signal:b,cancelToken:w,timeout:j,onDownloadProgress:k,onUploadProgress:_,responseType:N,headers:S,withCredentials:P="same-origin",fetchOptions:I}=GP(p),E=t||fetch;N=N?(N+"").toLowerCase():"text";let C=y8([b,w&&w.toAbortSignal()],j),L=null;const O=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let R;try{if(_&&u&&v!=="get"&&v!=="head"&&(R=await m(S,g))!==0){let B=new r(x,{method:"POST",body:g,duplex:"half"}),F;if(W.isFormData(g)&&(F=B.headers.get("content-type"))&&S.setContentType(F),B.body){const[Y,q]=fk(R,fh(hk(_)));g=pk(B.body,gk,Y,q)}}W.isString(P)||(P=P?"include":"omit");const A=s&&"credentials"in r.prototype,D={...I,signal:C,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:A?P:void 0};L=s&&new r(x,D);let T=await(s?E(L,I):E(x,D));const M=d&&(N==="stream"||N==="response");if(d&&(k||M&&O)){const B={};["status","statusText","headers"].forEach(Q=>{B[Q]=T[Q]});const F=W.toFiniteNumber(T.headers.get("content-length")),[Y,q]=k&&fk(F,fh(hk(k),!0))||[];T=new n(pk(T.body,gk,Y,()=>{q&&q(),O&&O()}),B)}N=N||"text";let z=await f[W.findKey(f,N)||"text"](T,p);return!M&&O&&O(),await new Promise((B,F)=>{qP(B,F,{data:z,headers:br.from(T.headers),status:T.status,statusText:T.statusText,config:p,request:L})})}catch(A){throw O&&O(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,p,L),{cause:A.cause||A}):ye.from(A,A&&A.code,p,L)}}},k8=new Map,XP=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=k8;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:j8(t)),d=u;return u};XP();const ib={http:F6,xhr:g8,fetch:{get:XP}};W.forEach(ib,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bk=e=>`- ${e}`,N8=e=>W.isFunction(e)||e===null||e===!1;function _8(e,t){e=W.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!N8(n)&&(a=ib[(l=String(n)).toLowerCase()],a===void 0))throw new ye(`Unknown adapter '${l}'`);if(a&&(W.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(bk).join(`
`):" "+bk(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const QP={getAdapter:_8,adapters:ib};function Tg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yl(null,e)}function wk(e){return Tg(e),e.headers=br.from(e.headers),e.data=Ag.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),QP.getAdapter(e.adapter||Au.adapter,e)(e).then(function(n){return Tg(e),n.data=Ag.call(e,e.transformResponse,n),n.headers=br.from(n.headers),n},function(n){return KP(n)||(Tg(e),n&&n.response&&(n.response.data=Ag.call(e,e.transformResponse,n.response),n.response.headers=br.from(n.response.headers))),Promise.reject(n)})}const JP="1.13.2",Bm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const jk={};Bm.transitional=function(t,r,n){function a(s,i){return"[Axios v"+JP+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new ye(a(i," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!jk[i]&&(jk[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};Bm.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function S8(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new ye("option "+s+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const Ef={assertOptions:S8,validators:Bm},In=Ef.validators;let pi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new uk,response:new uk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ei(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Ef.assertOptions(n,{silentJSONParsing:In.transitional(In.boolean),forcedJSONParsing:In.transitional(In.boolean),clarifyTimeoutError:In.transitional(In.boolean)},!1),a!=null&&(W.isFunction(a)?r.paramsSerializer={serialize:a}:Ef.assertOptions(a,{encode:In.function,serialize:In.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ef.assertOptions(r,{baseUrl:In.spelling("baseURL"),withXsrfToken:In.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&W.merge(s.common,s[r.method]);s&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=br.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,h;if(!c){const p=[wk.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],x=l[f++];try{m=p(m)}catch(v){x.call(this,v);break}}try{d=wk.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ei(this.defaults,t);const r=YP(t.baseURL,t.url,t.allowAbsoluteUrls);return HP(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){pi.prototype[t]=function(r,n){return this.request(Ei(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(Ei(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}pi.prototype[t]=r(),pi.prototype[t+"Form"]=r(!0)});let E8=class ZP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new yl(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new ZP(function(a){t=a}),cancel:t}}};function C8(e){return function(r){return e.apply(null,r)}}function P8(e){return W.isObject(e)&&e.isAxiosError===!0}const Oy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Oy).forEach(([e,t])=>{Oy[t]=e});function eO(e){const t=new pi(e),r=AP(pi.prototype.request,t);return W.extend(r,pi.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return eO(Ei(e,a))},r}const lt=eO(Au);lt.Axios=pi;lt.CanceledError=yl;lt.CancelToken=E8;lt.isCancel=KP;lt.VERSION=JP;lt.toFormData=Fm;lt.AxiosError=ye;lt.Cancel=lt.CanceledError;lt.all=function(t){return Promise.all(t)};lt.spread=C8;lt.isAxiosError=P8;lt.mergeConfig=Ei;lt.AxiosHeaders=br;lt.formToJSON=e=>WP(W.isHTMLForm(e)?new FormData(e):e);lt.getAdapter=QP.getAdapter;lt.HttpStatusCode=Oy;lt.default=lt;const{Axios:sfe,AxiosError:ife,CanceledError:ofe,isCancel:lfe,CancelToken:cfe,VERSION:ufe,all:dfe,Cancel:ffe,isAxiosError:hfe,spread:mfe,toFormData:pfe,AxiosHeaders:gfe,HttpStatusCode:yfe,formToJSON:xfe,getAdapter:vfe,mergeConfig:bfe}=lt,O8="/api",st=lt.create({baseURL:O8,headers:{"Content-Type":"application/json"}}),A8=async e=>(await st.post("/pipeline/preview",e)).data,T8=async e=>(await st.get(`/pipeline/datasets/${e}/schema`)).data,M8=async(e,t)=>(await st.post(`/pipeline/save/${e}`,t)).data,I8=async e=>{const t=await st.get(`/pipeline/load/${e}`);return t.data?t.data:null},Ct={runPipeline:async e=>(await st.post("/pipeline/run",e)).data,getJob:async e=>(await st.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await st.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await st.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await st.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await st.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await st.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await st.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await st.get(`/pipeline/jobs/tuning/history/${e}`)).data},D8=()=>{const[e,t]=y.useState(null),[r,n]=y.useState([]),[a,s]=y.useState(!0);return y.useEffect(()=>{(async()=>{try{const[l,c]=await Promise.all([st.get("/pipeline/stats"),Ct.getJobs(5,0,"training")]);t(l.data),n(c.map(u=>{var d;return{id:u.job_id,status:u.status,model_type:u.model_type||"Unknown",created_at:u.start_time||u.created_at||new Date().toISOString(),metrics:u.metrics||((d=u.result)==null?void 0:d.metrics)}}))}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{s(!1)}})()},[]),o.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),o.jsx(Dm,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(Mg,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),o.jsx(Mg,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),o.jsx(Mg,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(i=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:i.id,children:[i.id.substring(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:i.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${i.status==="succeeded"?"bg-green-100 text-green-800":i.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(i.created_at).toLocaleString()})]},i.id))})]})})]})]})},Mg=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&o.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Hl="/data/api",Dd="/api/ingestion",jn={getAll:async()=>{const e=await fetch(`${Hl}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getUsable:async()=>{const e=await fetch(`${Hl}/sources/usable`);if(!e.ok)throw new Error("Failed to fetch usable datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Dd}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Dd}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Dd}/${e}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},cancelIngestion:async e=>{const t=await fetch(`${Dd}/${e}/cancel`,{method:"POST"});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to cancel ingestion")}},getById:async e=>{const t=await fetch(`${Hl}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=await fetch(`${Hl}/sources/${e}/sample?limit=${t}`);if(!r.ok)throw new Error("Failed to fetch dataset sample");return(await r.json()).data},delete:async e=>{if(!(await fetch(`${Hl}/sources/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")},getProfile:async e=>{const t=await fetch(`/api/pipeline/datasets/${e}/schema`);if(!t.ok)throw new Error("Failed to fetch dataset profile");const r=await t.json(),n=Object.values(r.columns).map(i=>({name:i.name,dtype:i.dtype,missing_count:i.missing_count,missing_percentage:(i.missing_ratio||0)*100,distinct_count:i.unique_count,numeric_summary:i.column_type==="numeric"?{mean:i.mean_value,std:i.std_value,minimum:i.min_value,maximum:i.max_value}:void 0})),a=r.row_count*r.column_count,s=n.reduce((i,l)=>i+l.missing_count,0);return{metrics:{row_count:r.row_count,column_count:r.column_count,missing_cells:s,missing_percentage:a>0?(s/a*100).toFixed(2):0},columns:n}}},tO=({onUploadComplete:e,onCancel:t})=>{const[r,n]=y.useState(!1),[a,s]=y.useState(!1),[i,l]=y.useState(null),[c,u]=y.useState(0),d=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},[]),f=y.useCallback(p=>{p.preventDefault(),p.stopPropagation(),n(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&m(p.dataTransfer.files[0])},[]),h=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&m(p.target.files[0])},m=async p=>{s(!0),l(null),u(0);try{const x=await jn.upload(p);e(x.job_id,p.name)}catch(x){console.error("Upload failed:",x),l(x.message||"Failed to upload file. Please try again.")}finally{s(!1)}};return o.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:o.jsx(er,{size:16})}),o.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[o.jsx(QF,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),o.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:a?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",c,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(_F,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",o.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",o.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:h})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),i&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[o.jsx(Sn,{size:16,className:"mt-0.5 shrink-0"}),o.jsx("span",{children:i})]})]})},rO=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,s)).toFixed(n))} ${a[s]}`},R8=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=y.useState([]),[s,i]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState("sample"),[m,p]=y.useState(100);y.useEffect(()=>{t&&e?x(100):(a([]),i(null),d(null),h("sample"),p(100))},[t,e]);const x=async k=>{if(e){c(!0),d(null);try{const[_,N]=await Promise.all([jn.getSample(e.id,k),jn.getProfile(e.id)]);a(_),i(N)}catch(_){console.error("Failed to fetch data:",_),d("Failed to load dataset preview.")}finally{c(!1)}}},v=()=>{const k=m+500;p(k),x(k)};if(!t||!e)return null;const g=n.length>0?Object.keys(n[0]):[],b=(s==null?void 0:s.metrics.row_count)??e.rows??0,w=(s==null?void 0:s.metrics.column_count)??e.columns??0,j=e.size_bytes??0;return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:o.jsx(Yn,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(eb,{size:14})," ",e.format||"CSV"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(pF,{size:14})," ",b.toLocaleString()," rows"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(wF,{size:14})," ",w," columns"]}),o.jsx("span",{children:""}),o.jsx("span",{children:rO(j)})]})]})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o.jsx(er,{size:20})})]}),o.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[o.jsx("button",{onClick:()=>h("sample"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),o.jsx("button",{onClick:()=>h("stats"),className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("p",{children:"Loading preview data..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx("p",{children:u}),o.jsx("button",{onClick:()=>x(m),className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):f==="sample"?n.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):g.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:o.jsx("tr",{children:g.map(k=>o.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:k},k))})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((k,_)=>o.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:g.map(N=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(k[N]??"")},`${_}-${N}`))},_))})]})})}),o.jsxs("div",{className:"flex justify-center items-center gap-4",children:[o.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),o.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Rd,{label:"Total Rows",value:s==null?void 0:s.metrics.row_count.toLocaleString()}),o.jsx(Rd,{label:"Total Columns",value:s==null?void 0:s.metrics.column_count}),o.jsx(Rd,{label:"Missing Cells",value:s==null?void 0:s.metrics.missing_cells.toLocaleString()}),o.jsx(Rd,{label:"Missing %",value:`${s==null?void 0:s.metrics.missing_percentage}%`})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:s==null?void 0:s.columns.map(k=>{var _,N,S,P,I,E,C,L;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:k.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:k.dtype}),o.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[k.missing_count," ",o.jsxs("span",{className:"text-xs text-slate-400",children:["(",k.missing_percentage,"%)"]})]}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:k.distinct_count}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((N=(_=k.numeric_summary)==null?void 0:_.minimum)==null?void 0:N.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((P=(S=k.numeric_summary)==null?void 0:S.maximum)==null?void 0:P.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((E=(I=k.numeric_summary)==null?void 0:I.mean)==null?void 0:E.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((L=(C=k.numeric_summary)==null?void 0:C.std)==null?void 0:L.toFixed(2))??"-"})]},k.name)})})]})})]})}),o.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:o.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Rd=({label:e,value:t})=>o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),L8=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=y.useState("database"),[s,i]=y.useState(""),[l,c]=y.useState(""),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,p]=y.useState("GET"),[x,v]=y.useState(!1),[g,b]=y.useState(null);if(!e)return null;const w=async j=>{j.preventDefault(),v(!0),b(null);try{const k={};n==="database"?(k.connection_string=l,k.query=u):(k.url=f,k.method=m);const _={name:s,type:n,config:k,description:`Imported from ${n}`},N=await jn.createSource(_);r(N.job_id),t()}catch(k){b(k.message||"Failed to create source")}finally{v(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:o.jsx(er,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs("button",{onClick:()=>a("database"),className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(Yn,{size:16})," Database"]}),o.jsxs("button",{onClick:()=>a("api"),className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(AF,{size:16})," API"]})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),o.jsx("input",{type:"text",required:!0,value:s,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),o.jsx("input",{type:"text",required:!0,value:l,onChange:j=>c(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),o.jsx("textarea",{required:!0,value:u,onChange:j=>d(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),o.jsx("input",{type:"url",required:!0,value:f,onChange:j=>h(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),o.jsxs("select",{value:m,onChange:j=>p(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"GET",children:"GET"}),o.jsx("option",{value:"POST",children:"POST"})]})]})]}),g&&o.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:g}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:x?"Creating...":o.jsxs(o.Fragment,{children:[o.jsx(Vc,{size:16})," Create Source"]})})]})]})]})]})})},$8=({isOpen:e,onClose:t,datasets:r,onRefresh:n})=>{const[a,s]=y.useState(null);if(!e)return null;const i=async c=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){s(c);try{await jn.cancelIngestion(c),n&&n()}catch(u){console.error("Failed to cancel ingestion:",u),alert("Failed to cancel ingestion")}finally{s(null)}}},l=r.map(c=>{var u,d,f,h,m,p;return{id:c.id,name:c.name,status:((d=(u=c.source_metadata)==null?void 0:u.ingestion_status)==null?void 0:d.status)||"completed",created_at:c.created_at,message:((h=(f=c.source_metadata)==null?void 0:f.ingestion_status)==null?void 0:h.error)||(((p=(m=c.source_metadata)==null?void 0:m.ingestion_status)==null?void 0:p.status)==="cancelled"?"Ingestion cancelled":"Ingestion completed successfully")}}).sort((c,u)=>new Date(u.created_at).getTime()-new Date(c.created_at).getTime());return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:o.jsx(er,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?o.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):o.jsx("div",{className:"space-y-4",children:l.map(c=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[o.jsx("div",{className:"mt-1",children:c.status==="processing"||c.status==="pending"?o.jsx(Wn,{className:"text-blue-500 animate-spin",size:20}):c.status==="failed"?o.jsx(Jv,{className:"text-red-500",size:20}):c.status==="cancelled"?o.jsx(sk,{className:"text-slate-500",size:20}):o.jsx(qn,{className:"text-green-500",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:c.name}),o.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[o.jsx(Zv,{size:12}),new Date(c.created_at).toLocaleString()]})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",o.jsx("span",{className:"capitalize",children:c.status})]}),(c.status==="failed"||c.status==="cancelled")&&o.jsx("p",{className:`text-sm mt-1 p-2 rounded ${c.status==="failed"?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10":"text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800"}`,children:c.message})]}),(c.status==="processing"||c.status==="pending")&&o.jsx("button",{onClick:()=>i(c.id),disabled:a===c.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:a===c.id?o.jsx(Wn,{className:"animate-spin",size:20}):o.jsx(sk,{size:20})})]},c.id))})})]})})},z8=()=>{const e=Wv(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,p]=y.useState(null),[x,v]=y.useState(null),[g,b]=y.useState("completed"),w=t.filter(E=>{var L,O;const C=((O=(L=E.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:O.status)||"completed";return g==="all"?!0:g==="active"?["processing","pending"].includes(C):C===g}),j=async()=>{t.length===0&&a(!0);try{const E=await jn.getAll();r(E)}catch(E){console.error("Failed to fetch datasets:",E)}finally{a(!1)}};y.useEffect(()=>{j()},[]),y.useEffect(()=>{const E=setInterval(()=>{t.some(L=>{var O,R,A,D;return((R=(O=L.source_metadata)==null?void 0:O.ingestion_status)==null?void 0:R.status)==="pending"||((D=(A=L.source_metadata)==null?void 0:A.ingestion_status)==null?void 0:D.status)==="processing"})&&j()},5e3);return()=>clearInterval(E)},[t]);const k=async E=>{if(window.confirm("Are you sure you want to delete this dataset?")){h(E);try{await jn.delete(E),r(t.filter(C=>C.id!==E))}catch(C){console.error("Failed to delete dataset:",C),alert("Failed to delete dataset")}finally{h(null)}}},_=async E=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){p(E);try{await jn.cancelIngestion(E),j()}catch(C){console.error("Failed to cancel ingestion:",C),alert("Failed to cancel ingestion")}finally{p(null)}}},N=E=>{e(`/canvas?source_id=${E}`)},S=()=>{i(!1),j()},P=()=>{c(!1),j()},I=E=>{var L,O;const C=(O=(L=E.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:O.status;return!C||C==="completed"?null:C==="failed"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):C==="cancelled"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-400",children:"Cancelled"}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[o.jsx(Wn,{size:12,className:"animate-spin"}),C==="processing"?"Processing...":"Pending..."]})};return o.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[o.jsx(R8,{dataset:x,isOpen:!!x,onClose:()=>v(null)}),o.jsx(L8,{isOpen:l,onClose:()=>c(!1),onSuccess:P}),o.jsx($8,{isOpen:u,onClose:()=>d(!1),datasets:t,onRefresh:j}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[o.jsx(_y,{size:18}),"Ingestion Jobs"]}),o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[o.jsx(Yn,{size:18}),"Add Source"]}),o.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[o.jsx(Bi,{size:18}),s?"Cancel Upload":"Upload File"]})]})]}),s&&o.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:o.jsx(tO,{onUploadComplete:S,onCancel:()=>i(!1)})}),o.jsx("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:["all","active","completed","failed","cancelled"].map(E=>o.jsx("button",{onClick:()=>b(E),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${g===E?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-slate-800 text-slate-600 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:E.charAt(0).toUpperCase()+E.slice(1)},E))}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):w.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:t.length===0?o.jsxs(o.Fragment,{children:[o.jsx(Yn,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),o.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]}):o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets match the selected filter"})})}):w.map(E=>{var C,L,O,R,A,D,T;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:o.jsx(eb,{size:18})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[E.name,I(E)]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:E.source_id||E.id})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:E.format||"CSV"})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:rO(E.size_bytes||0)}),o.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((C=E.rows)==null?void 0:C.toLocaleString())||"-"," rows  ",E.columns||"-"," cols"]})]})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_y,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(E.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((O=(L=E.source_metadata)==null?void 0:L.ingestion_status)==null?void 0:O.status)==="completed"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>v(E),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:o.jsx(NF,{size:16})}),o.jsxs("button",{onClick:()=>N(E.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[o.jsx(Fi,{size:16}),"Canvas"]})]}),(((A=(R=E.source_metadata)==null?void 0:R.ingestion_status)==null?void 0:A.status)==="pending"||((T=(D=E.source_metadata)==null?void 0:D.ingestion_status)==null?void 0:T.status)==="processing")&&o.jsx("button",{onClick:()=>_(E.id),disabled:m===E.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:m===E.id?o.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Jv,{size:16})}),o.jsx("button",{onClick:()=>k(E.id),disabled:f===E.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:f===E.id?o.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Ds,{size:16})})]})})]},E.id)})})]})})})]})},Gs=class Gs{constructor(){Al(this,"nodes",new Map)}static getInstance(){return Gs.instance||(Gs.instance=new Gs),Gs.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};Al(Gs,"instance");let Ay=Gs;const Ee=Ay.getInstance(),F8={},kk=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(p=>p(t,m))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(F8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},nO=e=>e?kk(e):kk;var aO={exports:{}},sO={},iO={exports:{}},oO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=y;function B8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U8=typeof Object.is=="function"?Object.is:B8,H8=Vo.useState,V8=Vo.useEffect,W8=Vo.useLayoutEffect,K8=Vo.useDebugValue;function q8(e,t){var r=t(),n=H8({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return W8(function(){a.value=r,a.getSnapshot=t,Ig(a)&&s({inst:a})},[e,r,t]),V8(function(){return Ig(a)&&s({inst:a}),e(function(){Ig(a)&&s({inst:a})})},[e]),K8(r),r}function Ig(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!U8(e,r)}catch{return!0}}function Y8(e,t){return t()}var G8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Y8:q8;oO.useSyncExternalStore=Vo.useSyncExternalStore!==void 0?Vo.useSyncExternalStore:G8;iO.exports=oO;var X8=iO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=y,Q8=X8;function J8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z8=typeof Object.is=="function"?Object.is:J8,eB=Q8.useSyncExternalStore,tB=Um.useRef,rB=Um.useEffect,nB=Um.useMemo,aB=Um.useDebugValue;sO.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=tB(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=nB(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,Z8(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=eB(e,s[0],s[1]);return rB(function(){i.hasValue=!0,i.value=l},[l]),aB(l),l};aO.exports=sO;var lO=aO.exports;const cO=ea(lO),uO={},{useDebugValue:sB}=Or,{useSyncExternalStoreWithSelector:iB}=cO;let Nk=!1;const oB=e=>e;function lB(e,t=oB,r){(uO?"production":void 0)!=="production"&&r&&!Nk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Nk=!0);const n=iB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return sB(n),n}const _k=e=>{(uO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?nO(e):e,r=(n,a)=>lB(t,n,a);return Object.assign(r,t),r},ob=e=>e?_k(e):_k;function ht(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=ht(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var cB={value:()=>{}};function Hm(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Cf(r)}function Cf(e){this._=e}function uB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Cf.prototype=Hm.prototype={constructor:Cf,on:function(e,t){var r=this._,n=uB(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=dB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=Sk(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Sk(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Cf(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function dB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Sk(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=cB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Ty="http://www.w3.org/1999/xhtml";const Ek={svg:"http://www.w3.org/2000/svg",xhtml:Ty,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ek.hasOwnProperty(t)?{space:Ek[t],local:e}:e}function fB(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Ty&&t.documentElement.namespaceURI===Ty?t.createElement(e):t.createElementNS(r,e)}}function hB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dO(e){var t=Vm(e);return(t.local?hB:fB)(t)}function mB(){}function lb(e){return e==null?mB:function(){return this.querySelector(e)}}function pB(e){typeof e!="function"&&(e=lb(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=new Array(i),c,u,d=0;d<i;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new Rr(n,this._parents)}function gB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function yB(){return[]}function fO(e){return e==null?yB:function(){return this.querySelectorAll(e)}}function xB(e){return function(){return gB(e.apply(this,arguments))}}function vB(e){typeof e=="function"?e=xB(e):e=fO(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&(n.push(e.call(c,c.__data__,u,i)),a.push(c));return new Rr(n,a)}function hO(e){return function(){return this.matches(e)}}function mO(e){return function(t){return t.matches(e)}}var bB=Array.prototype.find;function wB(e){return function(){return bB.call(this.children,e)}}function jB(){return this.firstElementChild}function kB(e){return this.select(e==null?jB:wB(typeof e=="function"?e:mO(e)))}var NB=Array.prototype.filter;function _B(){return Array.from(this.children)}function SB(e){return function(){return NB.call(this.children,e)}}function EB(e){return this.selectAll(e==null?_B:SB(typeof e=="function"?e:mO(e)))}function CB(e){typeof e!="function"&&(e=hO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Rr(n,this._parents)}function pO(e){return new Array(e.length)}function PB(){return new Rr(this._enter||this._groups.map(pO),this._parents)}function hh(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hh.prototype={constructor:hh,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function OB(e){return function(){return e}}function AB(e,t,r,n,a,s){for(var i=0,l,c=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],n[i]=l):r[i]=new hh(e,s[i]);for(;i<c;++i)(l=t[i])&&(a[i]=l)}function TB(e,t,r,n,a,s,i){var l,c,u=new Map,d=t.length,f=s.length,h=new Array(d),m;for(l=0;l<d;++l)(c=t[l])&&(h[l]=m=i.call(c,c.__data__,l,t)+"",u.has(m)?a[l]=c:u.set(m,c));for(l=0;l<f;++l)m=i.call(e,s[l],l,s)+"",(c=u.get(m))?(n[l]=c,c.__data__=s[l],u.delete(m)):r[l]=new hh(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(a[l]=c)}function MB(e){return e.__data__}function IB(e,t){if(!arguments.length)return Array.from(this,MB);var r=t?TB:AB,n=this._parents,a=this._groups;typeof e!="function"&&(e=OB(e));for(var s=a.length,i=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],h=f.length,m=DB(e.call(d,d&&d.__data__,u,n)),p=m.length,x=l[u]=new Array(p),v=i[u]=new Array(p),g=c[u]=new Array(h);r(d,f,x,v,g,m,t);for(var b=0,w=0,j,k;b<p;++b)if(j=x[b]){for(b>=w&&(w=b+1);!(k=v[w])&&++w<p;);j._next=k||null}}return i=new Rr(i,n),i._enter=l,i._exit=c,i}function DB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RB(){return new Rr(this._exit||this._groups.map(pO),this._parents)}function LB(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function $B(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),l=new Array(a),c=0;c<i;++c)for(var u=r[c],d=n[c],f=u.length,h=l[c]=new Array(f),m,p=0;p<f;++p)(m=u[p]||d[p])&&(h[p]=m);for(;c<a;++c)l[c]=r[c];return new Rr(l,this._parents)}function zB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function FB(e){e||(e=BB);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],l=i.length,c=a[s]=new Array(l),u,d=0;d<l;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new Rr(a,this._parents).order()}function BB(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function UB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function HB(){return Array.from(this)}function VB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function WB(){let e=0;for(const t of this)++e;return e}function KB(){return!this.node()}function qB(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,l;s<i;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function YB(e){return function(){this.removeAttribute(e)}}function GB(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XB(e,t){return function(){this.setAttribute(e,t)}}function QB(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function JB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ZB(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function e7(e,t){var r=Vm(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?GB:YB:typeof t=="function"?r.local?ZB:JB:r.local?QB:XB)(r,t))}function gO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function t7(e){return function(){this.style.removeProperty(e)}}function r7(e,t,r){return function(){this.style.setProperty(e,t,r)}}function n7(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function a7(e,t,r){return arguments.length>1?this.each((t==null?t7:typeof t=="function"?n7:r7)(e,t,r??"")):Wo(this.node(),e)}function Wo(e,t){return e.style.getPropertyValue(t)||gO(e).getComputedStyle(e,null).getPropertyValue(t)}function s7(e){return function(){delete this[e]}}function i7(e,t){return function(){this[e]=t}}function o7(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function l7(e,t){return arguments.length>1?this.each((t==null?s7:typeof t=="function"?o7:i7)(e,t)):this.node()[e]}function yO(e){return e.trim().split(/^|\s+/)}function cb(e){return e.classList||new xO(e)}function xO(e){this._node=e,this._names=yO(e.getAttribute("class")||"")}xO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vO(e,t){for(var r=cb(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function bO(e,t){for(var r=cb(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function c7(e){return function(){vO(this,e)}}function u7(e){return function(){bO(this,e)}}function d7(e,t){return function(){(t.apply(this,arguments)?vO:bO)(this,e)}}function f7(e,t){var r=yO(e+"");if(arguments.length<2){for(var n=cb(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?d7:t?c7:u7)(r,t))}function h7(){this.textContent=""}function m7(e){return function(){this.textContent=e}}function p7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function g7(e){return arguments.length?this.each(e==null?h7:(typeof e=="function"?p7:m7)(e)):this.node().textContent}function y7(){this.innerHTML=""}function x7(e){return function(){this.innerHTML=e}}function v7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function b7(e){return arguments.length?this.each(e==null?y7:(typeof e=="function"?v7:x7)(e)):this.node().innerHTML}function w7(){this.nextSibling&&this.parentNode.appendChild(this)}function j7(){return this.each(w7)}function k7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N7(){return this.each(k7)}function _7(e){var t=typeof e=="function"?e:dO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function S7(){return null}function E7(e,t){var r=typeof e=="function"?e:dO(e),n=t==null?S7:typeof t=="function"?t:lb(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function C7(){var e=this.parentNode;e&&e.removeChild(this)}function P7(){return this.each(C7)}function O7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function A7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function T7(e){return this.select(e?A7:O7)}function M7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function I7(e){return function(t){e.call(this,t,this.__data__)}}function D7(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function R7(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function L7(e,t,r){return function(){var n=this.__on,a,s=I7(t);if(n){for(var i=0,l=n.length;i<l;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function $7(e,t,r){var n=D7(e+""),a,s=n.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<s;++a)if((i=n[a]).type===d.type&&i.name===d.name)return d.value}return}for(l=t?L7:R7,a=0;a<s;++a)this.each(l(n[a],t,r));return this}function wO(e,t,r){var n=gO(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function z7(e,t){return function(){return wO(this,e,t)}}function F7(e,t){return function(){return wO(this,e,t.apply(this,arguments))}}function B7(e,t){return this.each((typeof t=="function"?F7:z7)(e,t))}function*U7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var jO=[null];function Rr(e,t){this._groups=e,this._parents=t}function Tu(){return new Rr([[document.documentElement]],jO)}function H7(){return this}Rr.prototype=Tu.prototype={constructor:Rr,select:pB,selectAll:vB,selectChild:kB,selectChildren:EB,filter:CB,data:IB,enter:PB,exit:RB,join:LB,merge:$B,selection:H7,order:zB,sort:FB,call:UB,nodes:HB,node:VB,size:WB,empty:KB,each:qB,attr:e7,style:a7,property:l7,classed:f7,text:g7,html:b7,raise:j7,lower:N7,append:_7,insert:E7,remove:P7,clone:T7,datum:M7,on:$7,dispatch:B7,[Symbol.iterator]:U7};function Cr(e){return typeof e=="string"?new Rr([[document.querySelector(e)]],[document.documentElement]):new Rr([[e]],jO)}function V7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function fn(e,t){if(e=V7(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const W7={passive:!1},Wc={capture:!0,passive:!1};function Dg(e){e.stopImmediatePropagation()}function wo(e){e.preventDefault(),e.stopImmediatePropagation()}function kO(e){var t=e.document.documentElement,r=Cr(e).on("dragstart.drag",wo,Wc);"onselectstart"in t?r.on("selectstart.drag",wo,Wc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function NO(e,t){var r=e.document.documentElement,n=Cr(e).on("dragstart.drag",null);t&&(n.on("click.drag",wo,Wc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Ld=e=>()=>e;function My(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}My.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function K7(e){return!e.ctrlKey&&!e.button}function q7(){return this.parentNode}function Y7(e,t){return t??{x:e.x,y:e.y}}function G7(){return navigator.maxTouchPoints||"ontouchstart"in this}function _O(){var e=K7,t=q7,r=Y7,n=G7,a={},s=Hm("start","drag","end"),i=0,l,c,u,d,f=0;function h(j){j.on("mousedown.drag",m).filter(n).on("touchstart.drag",v).on("touchmove.drag",g,W7).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(j,k){if(!(d||!e.call(this,j,k))){var _=w(this,t.call(this,j,k),j,k,"mouse");_&&(Cr(j.view).on("mousemove.drag",p,Wc).on("mouseup.drag",x,Wc),kO(j.view),Dg(j),u=!1,l=j.clientX,c=j.clientY,_("start",j))}}function p(j){if(wo(j),!u){var k=j.clientX-l,_=j.clientY-c;u=k*k+_*_>f}a.mouse("drag",j)}function x(j){Cr(j.view).on("mousemove.drag mouseup.drag",null),NO(j.view,u),wo(j),a.mouse("end",j)}function v(j,k){if(e.call(this,j,k)){var _=j.changedTouches,N=t.call(this,j,k),S=_.length,P,I;for(P=0;P<S;++P)(I=w(this,N,j,k,_[P].identifier,_[P]))&&(Dg(j),I("start",j,_[P]))}}function g(j){var k=j.changedTouches,_=k.length,N,S;for(N=0;N<_;++N)(S=a[k[N].identifier])&&(wo(j),S("drag",j,k[N]))}function b(j){var k=j.changedTouches,_=k.length,N,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<_;++N)(S=a[k[N].identifier])&&(Dg(j),S("end",j,k[N]))}function w(j,k,_,N,S,P){var I=s.copy(),E=fn(P||_,k),C,L,O;if((O=r.call(j,new My("beforestart",{sourceEvent:_,target:h,identifier:S,active:i,x:E[0],y:E[1],dx:0,dy:0,dispatch:I}),N))!=null)return C=O.x-E[0]||0,L=O.y-E[1]||0,function R(A,D,T){var M=E,z;switch(A){case"start":a[S]=R,z=i++;break;case"end":delete a[S],--i;case"drag":E=fn(T||D,k),z=i;break}I.call(A,j,new My(A,{sourceEvent:D,subject:O,target:h,identifier:S,active:z,x:E[0]+C,y:E[1]+L,dx:E[0]-M[0],dy:E[1]-M[1],dispatch:I}),N)}}return h.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Ld(!!j),h):e},h.container=function(j){return arguments.length?(t=typeof j=="function"?j:Ld(j),h):t},h.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Ld(j),h):r},h.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:Ld(!!j),h):n},h.on=function(){var j=s.on.apply(s,arguments);return j===s?h:j},h.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,h):Math.sqrt(f)},h}function ub(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mu(){}var Kc=.7,mh=1/Kc,jo="\\s*([+-]?\\d+)\\s*",qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X7=/^#([0-9a-f]{3,8})$/,Q7=new RegExp(`^rgb\\(${jo},${jo},${jo}\\)$`),J7=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),Z7=new RegExp(`^rgba\\(${jo},${jo},${jo},${qc}\\)$`),e9=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${qc}\\)$`),t9=new RegExp(`^hsl\\(${qc},${Kn},${Kn}\\)$`),r9=new RegExp(`^hsla\\(${qc},${Kn},${Kn},${qc}\\)$`),Ck={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ub(Mu,Ci,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pk,formatHex:Pk,formatHex8:n9,formatHsl:a9,formatRgb:Ok,toString:Ok});function Pk(){return this.rgb().formatHex()}function n9(){return this.rgb().formatHex8()}function a9(){return EO(this).formatHsl()}function Ok(){return this.rgb().formatRgb()}function Ci(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=X7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ak(t):r===3?new hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$d(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$d(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Q7.exec(e))?new hr(t[1],t[2],t[3],1):(t=J7.exec(e))?new hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Z7.exec(e))?$d(t[1],t[2],t[3],t[4]):(t=e9.exec(e))?$d(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=t9.exec(e))?Ik(t[1],t[2]/100,t[3]/100,1):(t=r9.exec(e))?Ik(t[1],t[2]/100,t[3]/100,t[4]):Ck.hasOwnProperty(e)?Ak(Ck[e]):e==="transparent"?new hr(NaN,NaN,NaN,0):null}function Ak(e){return new hr(e>>16&255,e>>8&255,e&255,1)}function $d(e,t,r,n){return n<=0&&(e=t=r=NaN),new hr(e,t,r,n)}function s9(e){return e instanceof Mu||(e=Ci(e)),e?(e=e.rgb(),new hr(e.r,e.g,e.b,e.opacity)):new hr}function Iy(e,t,r,n){return arguments.length===1?s9(e):new hr(e,t,r,n??1)}function hr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ub(hr,Iy,SO(Mu,{brighter(e){return e=e==null?mh:Math.pow(mh,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kc:Math.pow(Kc,e),new hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hr(gi(this.r),gi(this.g),gi(this.b),ph(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tk,formatHex:Tk,formatHex8:i9,formatRgb:Mk,toString:Mk}));function Tk(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}`}function i9(){return`#${ti(this.r)}${ti(this.g)}${ti(this.b)}${ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mk(){const e=ph(this.opacity);return`${e===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${e===1?")":`, ${e})`}`}function ph(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ti(e){return e=gi(e),(e<16?"0":"")+e.toString(16)}function Ik(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pn(e,t,r,n)}function EO(e){if(e instanceof pn)return new pn(e.h,e.s,e.l,e.opacity);if(e instanceof Mu||(e=Ci(e)),!e)return new pn;if(e instanceof pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new pn(i,l,c,e.opacity)}function o9(e,t,r,n){return arguments.length===1?EO(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ub(pn,o9,SO(Mu,{brighter(e){return e=e==null?mh:Math.pow(mh,e),new pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kc:Math.pow(Kc,e),new pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new hr(Rg(e>=240?e-240:e+120,a,n),Rg(e,a,n),Rg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new pn(Dk(this.h),zd(this.s),zd(this.l),ph(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ph(this.opacity);return`${e===1?"hsl(":"hsla("}${Dk(this.h)}, ${zd(this.s)*100}%, ${zd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dk(e){return e=(e||0)%360,e<0?e+360:e}function zd(e){return Math.max(0,Math.min(1,e||0))}function Rg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const db=e=>()=>e;function l9(e,t){return function(r){return e+r*t}}function c9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function u9(e){return(e=+e)==1?CO:function(t,r){return r-t?c9(t,r,e):db(isNaN(t)?r:t)}}function CO(e,t){var r=t-e;return r?l9(e,r):db(isNaN(e)?t:e)}const gh=function e(t){var r=u9(t);function n(a,s){var i=r((a=Iy(a)).r,(s=Iy(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=CO(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function d9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function f9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function h9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=wa(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function m9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function mn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function p9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=wa(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lg=new RegExp(Dy.source,"g");function g9(e){return function(){return e}}function y9(e){return function(t){return e(t)+""}}function PO(e,t){var r=Dy.lastIndex=Lg.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Dy.exec(e))&&(a=Lg.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:mn(n,a)})),r=Lg.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?y9(c[0].x):g9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function wa(e,t){var r=typeof t,n;return t==null||r==="boolean"?db(t):(r==="number"?mn:r==="string"?(n=Ci(t))?(t=n,gh):PO:t instanceof Ci?gh:t instanceof Date?m9:f9(t)?d9:Array.isArray(t)?h9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?p9:mn)(e,t)}function fb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Rk=180/Math.PI,Ry={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function OO(e,t,r,n,a,s){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Rk,skewX:Math.atan(c)*Rk,scaleX:i,scaleY:l}}var Fd;function x9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ry:OO(t.a,t.b,t.c,t.d,t.e,t.f)}function v9(e){return e==null||(Fd||(Fd=document.createElementNS("http://www.w3.org/2000/svg","g")),Fd.setAttribute("transform",e),!(e=Fd.transform.baseVal.consolidate()))?Ry:(e=e.matrix,OO(e.a,e.b,e.c,e.d,e.e,e.f))}function AO(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,h,m,p){if(u!==f||d!==h){var x=m.push("translate(",null,t,null,r);p.push({i:x-4,x:mn(u,f)},{i:x-2,x:mn(d,h)})}else(f||h)&&m.push("translate("+f+t+h+r)}function i(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,n)-2,x:mn(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function l(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,n)-2,x:mn(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,h,m,p){if(u!==f||d!==h){var x=m.push(a(m)+"scale(",null,",",null,")");p.push({i:x-4,x:mn(u,f)},{i:x-2,x:mn(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,h),i(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var p=-1,x=h.length,v;++p<x;)f[(v=h[p]).i]=v.x(m);return f.join("")}}}var b9=AO(x9,"px, ","px)","deg)"),w9=AO(v9,", ",")",")"),j9=1e-12;function Lk(e){return((e=Math.exp(e))+1/e)/2}function k9(e){return((e=Math.exp(e))-1/e)/2}function N9(e){return((e=Math.exp(2*e))-1)/(e+1)}const Pf=function e(t,r,n){function a(s,i){var l=s[0],c=s[1],u=s[2],d=i[0],f=i[1],h=i[2],m=d-l,p=f-c,x=m*m+p*p,v,g;if(x<j9)g=Math.log(h/u)/t,v=function(N){return[l+N*m,c+N*p,u*Math.exp(t*N*g)]};else{var b=Math.sqrt(x),w=(h*h-u*u+n*x)/(2*u*r*b),j=(h*h-u*u-n*x)/(2*h*r*b),k=Math.log(Math.sqrt(w*w+1)-w),_=Math.log(Math.sqrt(j*j+1)-j);g=(_-k)/t,v=function(N){var S=N*g,P=Lk(k),I=u/(r*b)*(P*N9(t*S+k)-k9(k));return[l+I*m,c+I*p,u*P/Lk(t*S+k)]}}return v.duration=g*1e3*t/Math.SQRT2,v}return a.rho=function(s){var i=Math.max(.001,+s),l=i*i,c=l*l;return e(i,l,c)},a}(Math.SQRT2,2,4);function _9(e,t){t===void 0&&(t=e,e=wa);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}var Ko=0,sc=0,Vl=0,TO=1e3,yh,ic,xh=0,Pi=0,Wm=0,Yc=typeof performance=="object"&&performance.now?performance:Date,MO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hb(){return Pi||(MO(S9),Pi=Yc.now()+Wm)}function S9(){Pi=0}function vh(){this._call=this._time=this._next=null}vh.prototype=IO.prototype={constructor:vh,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?hb():+r)+(t==null?0:+t),!this._next&&ic!==this&&(ic?ic._next=this:yh=this,ic=this),this._call=e,this._time=r,Ly()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ly())}};function IO(e,t,r){var n=new vh;return n.restart(e,t,r),n}function E9(){hb(),++Ko;for(var e=yh,t;e;)(t=Pi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ko}function $k(){Pi=(xh=Yc.now())+Wm,Ko=sc=0;try{E9()}finally{Ko=0,P9(),Pi=0}}function C9(){var e=Yc.now(),t=e-xh;t>TO&&(Wm-=t,xh=e)}function P9(){for(var e,t=yh,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:yh=r);ic=e,Ly(n)}function Ly(e){if(!Ko){sc&&(sc=clearTimeout(sc));var t=e-Pi;t>24?(e<1/0&&(sc=setTimeout($k,e-Yc.now()-Wm)),Vl&&(Vl=clearInterval(Vl))):(Vl||(xh=Yc.now(),Vl=setInterval(C9,TO)),Ko=1,MO($k))}}function zk(e,t,r){var n=new vh;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var O9=Hm("start","end","cancel","interrupt"),A9=[],DO=0,Fk=1,$y=2,Of=3,Bk=4,zy=5,Af=6;function Km(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;T9(e,r,{name:t,index:n,group:a,on:O9,tween:A9,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:DO})}function mb(e,t){var r=An(e,t);if(r.state>DO)throw new Error("too late; already scheduled");return r}function ra(e,t){var r=An(e,t);if(r.state>Of)throw new Error("too late; already running");return r}function An(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function T9(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=IO(s,0,r.time);function s(u){r.state=Fk,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,h,m;if(r.state!==Fk)return c();for(d in n)if(m=n[d],m.name===r.name){if(m.state===Of)return zk(i);m.state===Bk?(m.state=Af,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete n[d]):+d<t&&(m.state=Af,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete n[d])}if(zk(function(){r.state===Of&&(r.state=Bk,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=$y,r.on.call("start",e,e.__data__,r.index,r.group),r.state===$y){for(r.state=Of,a=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(m=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=m);a.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=zy,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);r.state===zy&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Af,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Tf(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>$y&&n.state<zy,n.state=Af,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function M9(e){return this.each(function(){Tf(this,e)})}function I9(e,t){var r,n;return function(){var a=ra(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,l=n.length;i<l;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function D9(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=ra(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var l={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function R9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=An(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?I9:D9)(r,e,t))}function pb(e,t,r){var n=e._id;return e.each(function(){var a=ra(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return An(a,n).value[t]}}function RO(e,t){var r;return(typeof t=="number"?mn:t instanceof Ci?gh:(r=Ci(t))?(t=r,gh):PO)(e,t)}function L9(e){return function(){this.removeAttribute(e)}}function $9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function z9(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function F9(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function B9(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function U9(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function H9(e,t){var r=Vm(e),n=r==="transform"?w9:RO;return this.attrTween(e,typeof t=="function"?(r.local?U9:B9)(r,n,pb(this,"attr."+e,t)):t==null?(r.local?$9:L9)(r):(r.local?F9:z9)(r,n,t))}function V9(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function W9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function K9(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&W9(e,s)),r}return a._value=t,a}function q9(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&V9(e,s)),r}return a._value=t,a}function Y9(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Vm(e);return this.tween(r,(n.local?K9:q9)(n,t))}function G9(e,t){return function(){mb(this,e).delay=+t.apply(this,arguments)}}function X9(e,t){return t=+t,function(){mb(this,e).delay=t}}function Q9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?G9:X9)(t,e)):An(this.node(),t).delay}function J9(e,t){return function(){ra(this,e).duration=+t.apply(this,arguments)}}function Z9(e,t){return t=+t,function(){ra(this,e).duration=t}}function eU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J9:Z9)(t,e)):An(this.node(),t).duration}function tU(e,t){if(typeof t!="function")throw new Error;return function(){ra(this,e).ease=t}}function rU(e){var t=this._id;return arguments.length?this.each(tU(t,e)):An(this.node(),t).ease}function nU(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ra(this,e).ease=r}}function aU(e){if(typeof e!="function")throw new Error;return this.each(nU(this._id,e))}function sU(e){typeof e!="function"&&(e=hO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Pa(n,this._parents,this._name,this._id)}function iU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),l=0;l<s;++l)for(var c=t[l],u=r[l],d=c.length,f=i[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<n;++l)i[l]=t[l];return new Pa(i,this._parents,this._name,this._id)}function oU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function lU(e,t,r){var n,a,s=oU(t)?mb:ra;return function(){var i=s(this,e),l=i.on;l!==n&&(a=(n=l).copy()).on(t,r),i.on=a}}function cU(e,t){var r=this._id;return arguments.length<2?An(this.node(),r).on.on(e):this.each(lU(r,e,t))}function uU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function dU(){return this.on("end.remove",uU(this._id))}function fU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=lb(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var l=n[i],c=l.length,u=s[i]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,Km(u[h],t,r,h,u,An(d,r)));return new Pa(s,this._parents,t,r)}function hU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=fO(e));for(var n=this._groups,a=n.length,s=[],i=[],l=0;l<a;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,p=An(d,r),x=0,v=h.length;x<v;++x)(m=h[x])&&Km(m,t,r,x,h,p);s.push(h),i.push(d)}return new Pa(s,i,t,r)}var mU=Tu.prototype.constructor;function pU(){return new mU(this._groups,this._parents)}function gU(e,t){var r,n,a;return function(){var s=Wo(this,e),i=(this.style.removeProperty(e),Wo(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function LO(e){return function(){this.style.removeProperty(e)}}function yU(e,t,r){var n,a=r+"",s;return function(){var i=Wo(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function xU(e,t,r){var n,a,s;return function(){var i=Wo(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Wo(this,e))),i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l))}}function vU(e,t){var r,n,a,s="style."+t,i="end."+s,l;return function(){var c=ra(this,e),u=c.on,d=c.value[s]==null?l||(l=LO(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(i,a=d),c.on=n}}function bU(e,t,r){var n=(e+="")=="transform"?b9:RO;return t==null?this.styleTween(e,gU(e,n)).on("end.style."+e,LO(e)):typeof t=="function"?this.styleTween(e,xU(e,n,pb(this,"style."+e,t))).each(vU(this._id,e)):this.styleTween(e,yU(e,n,t),r).on("end.style."+e,null)}function wU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function jU(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&wU(e,i,r)),n}return s._value=t,s}function kU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,jU(e,t,r??""))}function NU(e){return function(){this.textContent=e}}function _U(e){return function(){var t=e(this);this.textContent=t??""}}function SU(e){return this.tween("text",typeof e=="function"?_U(pb(this,"text",e)):NU(e==null?"":e+""))}function EU(e){return function(t){this.textContent=e.call(this,t)}}function CU(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&EU(a)),t}return n._value=e,n}function PU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,CU(e))}function OU(){for(var e=this._name,t=this._id,r=$O(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)if(c=i[u]){var d=An(c,t);Km(c,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Pa(n,this._parents,e,r)}function AU(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var l={value:i},c={value:function(){--a===0&&s()}};r.each(function(){var u=ra(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var TU=0;function Pa(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function $O(){return++TU}var sa=Tu.prototype;Pa.prototype={constructor:Pa,select:fU,selectAll:hU,selectChild:sa.selectChild,selectChildren:sa.selectChildren,filter:sU,merge:iU,selection:pU,transition:OU,call:sa.call,nodes:sa.nodes,node:sa.node,size:sa.size,empty:sa.empty,each:sa.each,on:cU,attr:H9,attrTween:Y9,style:bU,styleTween:kU,text:SU,textTween:PU,remove:dU,tween:R9,delay:Q9,duration:eU,ease:rU,easeVarying:aU,end:AU,[Symbol.iterator]:sa[Symbol.iterator]};function MU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var IU={time:null,delay:0,duration:250,ease:MU};function DU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function RU(e){var t,r;e instanceof Pa?(t=e._id,e=e._name):(t=$O(),(r=IU).time=hb(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&Km(c,e,t,u,i,r||DU(c,t));return new Pa(n,this._parents,e,t)}Tu.prototype.interrupt=M9;Tu.prototype.transition=RU;const Bd=e=>()=>e;function LU(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function ga(e,t,r){this.k=e,this.x=t,this.y=r}ga.prototype={constructor:ga,scale:function(e){return e===1?this:new ga(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ga(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qm=new ga(1,0,0);zO.prototype=ga.prototype;function zO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return qm;return e.__zoom}function $g(e){e.stopImmediatePropagation()}function Wl(e){e.preventDefault(),e.stopImmediatePropagation()}function $U(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function zU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Uk(){return this.__zoom||qm}function FU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function BU(){return navigator.maxTouchPoints||"ontouchstart"in this}function UU(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function FO(){var e=$U,t=zU,r=UU,n=FU,a=BU,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Pf,u=Hm("start","zoom","end"),d,f,h,m=500,p=150,x=0,v=10;function g(O){O.property("__zoom",Uk).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",I).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(O,R,A,D){var T=O.selection?O.selection():O;T.property("__zoom",Uk),O!==T?k(O,R,A,D):T.interrupt().each(function(){_(this,arguments).event(D).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},g.scaleBy=function(O,R,A,D){g.scaleTo(O,function(){var T=this.__zoom.k,M=typeof R=="function"?R.apply(this,arguments):R;return T*M},A,D)},g.scaleTo=function(O,R,A,D){g.transform(O,function(){var T=t.apply(this,arguments),M=this.__zoom,z=A==null?j(T):typeof A=="function"?A.apply(this,arguments):A,B=M.invert(z),F=typeof R=="function"?R.apply(this,arguments):R;return r(w(b(M,F),z,B),T,i)},A,D)},g.translateBy=function(O,R,A,D){g.transform(O,function(){return r(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),i)},null,D)},g.translateTo=function(O,R,A,D,T){g.transform(O,function(){var M=t.apply(this,arguments),z=this.__zoom,B=D==null?j(M):typeof D=="function"?D.apply(this,arguments):D;return r(qm.translate(B[0],B[1]).scale(z.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof A=="function"?-A.apply(this,arguments):-A),M,i)},D,T)};function b(O,R){return R=Math.max(s[0],Math.min(s[1],R)),R===O.k?O:new ga(R,O.x,O.y)}function w(O,R,A){var D=R[0]-A[0]*O.k,T=R[1]-A[1]*O.k;return D===O.x&&T===O.y?O:new ga(O.k,D,T)}function j(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function k(O,R,A,D){O.on("start.zoom",function(){_(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(D).end()}).tween("zoom",function(){var T=this,M=arguments,z=_(T,M).event(D),B=t.apply(T,M),F=A==null?j(B):typeof A=="function"?A.apply(T,M):A,Y=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),q=T.__zoom,Q=typeof R=="function"?R.apply(T,M):R,le=c(q.invert(F).concat(Y/q.k),Q.invert(F).concat(Y/Q.k));return function(J){if(J===1)J=Q;else{var X=le(J),H=Y/X[2];J=new ga(H,F[0]-X[0]*H,F[1]-X[1]*H)}z.zoom(null,J)}})}function _(O,R,A){return!A&&O.__zooming||new N(O,R)}function N(O,R){this.that=O,this.args=R,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,R),this.taps=0}N.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,R){return this.mouse&&O!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var R=Cr(this.that).datum();u.call(O,this.that,new LU(O,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),R)}};function S(O,...R){if(!e.apply(this,arguments))return;var A=_(this,R).event(O),D=this.__zoom,T=Math.max(s[0],Math.min(s[1],D.k*Math.pow(2,n.apply(this,arguments)))),M=fn(O);if(A.wheel)(A.mouse[0][0]!==M[0]||A.mouse[0][1]!==M[1])&&(A.mouse[1]=D.invert(A.mouse[0]=M)),clearTimeout(A.wheel);else{if(D.k===T)return;A.mouse=[M,D.invert(M)],Tf(this),A.start()}Wl(O),A.wheel=setTimeout(z,p),A.zoom("mouse",r(w(b(D,T),A.mouse[0],A.mouse[1]),A.extent,i));function z(){A.wheel=null,A.end()}}function P(O,...R){if(h||!e.apply(this,arguments))return;var A=O.currentTarget,D=_(this,R,!0).event(O),T=Cr(O.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",Y,!0),M=fn(O,A),z=O.clientX,B=O.clientY;kO(O.view),$g(O),D.mouse=[M,this.__zoom.invert(M)],Tf(this),D.start();function F(q){if(Wl(q),!D.moved){var Q=q.clientX-z,le=q.clientY-B;D.moved=Q*Q+le*le>x}D.event(q).zoom("mouse",r(w(D.that.__zoom,D.mouse[0]=fn(q,A),D.mouse[1]),D.extent,i))}function Y(q){T.on("mousemove.zoom mouseup.zoom",null),NO(q.view,D.moved),Wl(q),D.event(q).end()}}function I(O,...R){if(e.apply(this,arguments)){var A=this.__zoom,D=fn(O.changedTouches?O.changedTouches[0]:O,this),T=A.invert(D),M=A.k*(O.shiftKey?.5:2),z=r(w(b(A,M),D,T),t.apply(this,R),i);Wl(O),l>0?Cr(this).transition().duration(l).call(k,z,D,O):Cr(this).call(g.transform,z,D,O)}}function E(O,...R){if(e.apply(this,arguments)){var A=O.touches,D=A.length,T=_(this,R,O.changedTouches.length===D).event(O),M,z,B,F;for($g(O),z=0;z<D;++z)B=A[z],F=fn(B,this),F=[F,this.__zoom.invert(F),B.identifier],T.touch0?!T.touch1&&T.touch0[2]!==F[2]&&(T.touch1=F,T.taps=0):(T.touch0=F,M=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(T.taps<2&&(f=F[0],d=setTimeout(function(){d=null},m)),Tf(this),T.start())}}function C(O,...R){if(this.__zooming){var A=_(this,R).event(O),D=O.changedTouches,T=D.length,M,z,B,F;for(Wl(O),M=0;M<T;++M)z=D[M],B=fn(z,this),A.touch0&&A.touch0[2]===z.identifier?A.touch0[0]=B:A.touch1&&A.touch1[2]===z.identifier&&(A.touch1[0]=B);if(z=A.that.__zoom,A.touch1){var Y=A.touch0[0],q=A.touch0[1],Q=A.touch1[0],le=A.touch1[1],J=(J=Q[0]-Y[0])*J+(J=Q[1]-Y[1])*J,X=(X=le[0]-q[0])*X+(X=le[1]-q[1])*X;z=b(z,Math.sqrt(J/X)),B=[(Y[0]+Q[0])/2,(Y[1]+Q[1])/2],F=[(q[0]+le[0])/2,(q[1]+le[1])/2]}else if(A.touch0)B=A.touch0[0],F=A.touch0[1];else return;A.zoom("touch",r(w(z,B,F),A.extent,i))}}function L(O,...R){if(this.__zooming){var A=_(this,R).event(O),D=O.changedTouches,T=D.length,M,z;for($g(O),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<T;++M)z=D[M],A.touch0&&A.touch0[2]===z.identifier?delete A.touch0:A.touch1&&A.touch1[2]===z.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(z=fn(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<v)){var B=Cr(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return g.wheelDelta=function(O){return arguments.length?(n=typeof O=="function"?O:Bd(+O),g):n},g.filter=function(O){return arguments.length?(e=typeof O=="function"?O:Bd(!!O),g):e},g.touchable=function(O){return arguments.length?(a=typeof O=="function"?O:Bd(!!O),g):a},g.extent=function(O){return arguments.length?(t=typeof O=="function"?O:Bd([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),g):t},g.scaleExtent=function(O){return arguments.length?(s[0]=+O[0],s[1]=+O[1],g):[s[0],s[1]]},g.translateExtent=function(O){return arguments.length?(i[0][0]=+O[0][0],i[1][0]=+O[1][0],i[0][1]=+O[0][1],i[1][1]=+O[1][1],g):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},g.constrain=function(O){return arguments.length?(r=O,g):r},g.duration=function(O){return arguments.length?(l=+O,g):l},g.interpolate=function(O){return arguments.length?(c=O,g):c},g.on=function(){var O=u.on.apply(u,arguments);return O===u?g:O},g.clickDistance=function(O){return arguments.length?(x=(O=+O)*O,g):Math.sqrt(x)},g.tapDistance=function(O){return arguments.length?(v=+O,g):v},g}const Gn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Gc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],BO=["Enter"," ","Escape"],UO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var qo;(function(e){e.Strict="strict",e.Loose="loose"})(qo||(qo={}));var yi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yi||(yi={}));var Xc;(function(e){e.Partial="partial",e.Full="full"})(Xc||(Xc={}));const HO={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var ts;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ts||(ts={}));var bh;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(bh||(bh={}));var de;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(de||(de={}));const Hk={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top};function VO(e){return e===null?null:e?"valid":"invalid"}const WO=e=>"id"in e&&"source"in e&&"target"in e,HU=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),gb=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Rs=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Iu=(e,t=[0,0])=>{const{width:r,height:n}=$a(e),a=e.origin??t,s=r*a[0],i=n*a[1];return{x:e.position.x-s,y:e.position.y-i}},VU=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const s=typeof a=="string";let i=!t.nodeLookup&&!s?a:void 0;t.nodeLookup&&(i=s?t.nodeLookup.get(a):gb(a)?a:t.nodeLookup.get(a.id));const l=i?wh(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ym(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Gm(r)},Du=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=Ym(r,wh(a)),n=!0)}),n?Gm(r):{x:0,y:0,width:0,height:0}},yb=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1)=>{const l={...Lu(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=u;if(i&&!f||h)continue;const m=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,x=Qc(l,Go(u)),v=(m??0)*(p??0),g=s&&x>0;(!u.internals.handleBounds||g||x>=v||u.dragging)&&c.push(u)}return c},WU=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function KU(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function qU({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:s},i){if(e.size===0)return Promise.resolve(!0);const l=KU(e,i),c=Du(l),u=xb(c,t,r,(i==null?void 0:i.minZoom)??a,(i==null?void 0:i.maxZoom)??s,(i==null?void 0:i.padding)??.1);return await n.setViewport(u,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function KO({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:s}){const i=r.get(e),l=i.parentId?r.get(i.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=i.origin??n;let f=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)s==null||s("005",Gn.error005());else{const m=l.measured.width,p=l.measured.height;m&&p&&(f=[[c,u],[c+m,u+p]])}else l&&Xo(i.extent)&&(f=[[i.extent[0][0]+c,i.extent[0][1]+u],[i.extent[1][0]+c,i.extent[1][1]+u]]);const h=Xo(f)?Oi(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(s==null||s("015",Gn.error015())),{position:{x:h.x-c+(i.measured.width??0)*d[0],y:h.y-u+(i.measured.height??0)*d[1]},positionAbsolute:h}}async function YU({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const s=new Set(e.map(h=>h.id)),i=[];for(const h of r){if(h.deletable===!1)continue;const m=s.has(h.id),p=!m&&h.parentId&&i.find(x=>x.id===h.parentId);(m||p)&&i.push(h)}const l=new Set(t.map(h=>h.id)),c=n.filter(h=>h.deletable!==!1),d=WU(i,c);for(const h of c)l.has(h.id)&&!d.find(p=>p.id===h.id)&&d.push(h);if(!a)return{edges:d,nodes:i};const f=await a({nodes:i,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:i}:{edges:[],nodes:[]}:f}const Yo=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Oi=(e={x:0,y:0},t,r)=>({x:Yo(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:Yo(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function qO(e,t,r){const{width:n,height:a}=$a(r),{x:s,y:i}=r.internals.positionAbsolute;return Oi(e,[[s,i],[s+n,i+a]],t)}const Vk=(e,t,r)=>e<t?Yo(Math.abs(e-t),1,t)/t:e>r?-Yo(Math.abs(e-r),1,t)/t:0,YO=(e,t,r=15,n=40)=>{const a=Vk(e.x,n,t.width-n)*r,s=Vk(e.y,n,t.height-n)*r;return[a,s]},Ym=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Fy=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Gm=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Go=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=gb(e)?e.internals.positionAbsolute:Iu(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},wh=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=gb(e)?e.internals.positionAbsolute:Iu(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},GO=(e,t)=>Gm(Ym(Fy(e),Fy(t))),Qc=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},Wk=e=>xn(e.width)&&xn(e.height)&&xn(e.x)&&xn(e.y),xn=e=>!isNaN(e)&&isFinite(e),GU=(e,t)=>{},Ru=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Lu=({x:e,y:t},[r,n,a],s=!1,i=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return s?Ru(l,i):l},jh=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function qi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function XU(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=qi(e,r),a=qi(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=qi(e.top??e.y??0,r),a=qi(e.bottom??e.y??0,r),s=qi(e.left??e.x??0,t),i=qi(e.right??e.x??0,t);return{top:n,right:i,bottom:a,left:s,x:s+i,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function QU(e,t,r,n,a,s){const{x:i,y:l}=jh(e,[t,r,n]),{x:c,y:u}=jh({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=s-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const xb=(e,t,r,n,a,s)=>{const i=XU(s,t,r),l=(t-i.x)/e.width,c=(r-i.y)/e.height,u=Math.min(l,c),d=Yo(u,n,a),f=e.x+e.width/2,h=e.y+e.height/2,m=t/2-f*d,p=r/2-h*d,x=QU(e,m,p,d,t,r),v={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:m-v.left+v.right,y:p-v.top+v.bottom,zoom:d}},Jc=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Xo(e){return e!=null&&e!=="parent"}function $a(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function XO(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function QO(e,t={width:0,height:0},r,n,a){const s={...e},i=n.get(r);if(i){const l=i.origin||a;s.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],s.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return s}function Kk(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function JU(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function ZU(e){return{...UO,...e||{}}}function wc(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:s,y:i}=vn(e),l=Lu({x:s-((a==null?void 0:a.left)??0),y:i-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?Ru(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const vb=e=>({width:e.offsetWidth,height:e.offsetHeight}),JO=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},eH=["INPUT","SELECT","TEXTAREA"];function ZO(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:eH.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const eA=e=>"clientX"in e,vn=(e,t)=>{var s,i;const r=eA(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},qk=(e,t,r,n,a)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...vb(i)}})};function tA({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:l}){const c=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function Ud(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Yk({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case de.Left:return[t-Ud(t-n,s),r];case de.Right:return[t+Ud(n-t,s),r];case de.Top:return[t,r-Ud(r-a,s)];case de.Bottom:return[t,r+Ud(a-r,s)]}}function rA({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:s=de.Top,curvature:i=.25}){const[l,c]=Yk({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,d]=Yk({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[f,h,m,p]=tA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${a}`,f,h,m,p]}function nA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,l=n<t?n+i:n-i;return[s,l,a,i]}function tH({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:s="basic"}){if(s==="manual")return n;const i=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return i+l}function rH({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const s=Ym(wh(e),wh(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return Qc(i,Gm(s))>0}const nH=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,aH=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),aA=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||nH;let a;return WO(e)?a={...e}:a={...e,id:n(e)},aH(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function sA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,l]=nA({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,l]}const Gk={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},sH=({source:e,sourcePosition:t=de.Bottom,target:r})=>t===de.Left||t===de.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Xk=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function iH({source:e,sourcePosition:t=de.Bottom,target:r,targetPosition:n=de.Top,center:a,offset:s,stepPosition:i}){const l=Gk[t],c=Gk[n],u={x:e.x+l.x*s,y:e.y+l.y*s},d={x:r.x+c.x*s,y:r.y+c.y*s},f=sH({source:u,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",m=f[h];let p=[],x,v;const g={x:0,y:0},b={x:0,y:0},[,,w,j]=nA({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[h]*c[h]===-1){h==="x"?(x=a.x??u.x+(d.x-u.x)*i,v=a.y??(u.y+d.y)/2):(x=a.x??(u.x+d.x)/2,v=a.y??u.y+(d.y-u.y)*i);const _=[{x,y:u.y},{x,y:d.y}],N=[{x:u.x,y:v},{x:d.x,y:v}];l[h]===m?p=h==="x"?_:N:p=h==="x"?N:_}else{const _=[{x:u.x,y:d.y}],N=[{x:d.x,y:u.y}];if(h==="x"?p=l.x===m?N:_:p=l.y===m?_:N,t===n){const C=Math.abs(e[h]-r[h]);if(C<=s){const L=Math.min(s-1,s-C);l[h]===m?g[h]=(u[h]>e[h]?-1:1)*L:b[h]=(d[h]>r[h]?-1:1)*L}}if(t!==n){const C=h==="x"?"y":"x",L=l[h]===c[C],O=u[C]>d[C],R=u[C]<d[C];(l[h]===1&&(!L&&O||L&&R)||l[h]!==1&&(!L&&R||L&&O))&&(p=h==="x"?_:N)}const S={x:u.x+g.x,y:u.y+g.y},P={x:d.x+b.x,y:d.y+b.y},I=Math.max(Math.abs(S.x-p[0].x),Math.abs(P.x-p[0].x)),E=Math.max(Math.abs(S.y-p[0].y),Math.abs(P.y-p[0].y));I>=E?(x=(S.x+P.x)/2,v=p[0].y):(x=p[0].x,v=(S.y+P.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:d.x+b.x,y:d.y+b.y},r],x,v,w,j]}function oH(e,t,r,n){const a=Math.min(Xk(e,t)/2,Xk(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${i+a*c}Q ${s},${i} ${s+a*l},${i}`}function kh({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:s=de.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,h,m,p,x]=iH({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:l,y:c},offset:u,stepPosition:d});return[f.reduce((g,b,w)=>{let j="";return w>0&&w<f.length-1?j=oH(f[w-1],b,f[w+1],i):j=`${w===0?"M":"L"}${b.x} ${b.y}`,g+=j,g},""),h,m,p,x]}function Qk(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function lH(e){var f;const{sourceNode:t,targetNode:r}=e;if(!Qk(t)||!Qk(r))return null;const n=t.internals.handleBounds||Jk(t.handles),a=r.internals.handleBounds||Jk(r.handles),s=Zk((n==null?void 0:n.source)??[],e.sourceHandle),i=Zk(e.connectionMode===qo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!s||!i)return(f=e.onError)==null||f.call(e,"008",Gn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(s==null?void 0:s.position)||de.Bottom,c=(i==null?void 0:i.position)||de.Top,u=Ai(t,s,l),d=Ai(r,i,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function Jk(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Ai(e,t,r=de.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??$a(e);if(n)return{x:a+i/2,y:s+l/2};switch((t==null?void 0:t.position)??r){case de.Top:return{x:a+i/2,y:s};case de.Right:return{x:a+i,y:s+l/2};case de.Bottom:return{x:a+i/2,y:s+l};case de.Left:return{x:a,y:s+l/2}}}function Zk(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function By(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function cH(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const s=new Set;return e.reduce((i,l)=>([l.markerStart||n,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=By(c,t);s.has(u)||(i.push({id:u,color:c.color||r,...c}),s.add(u))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const iA=1e3,uH=10,bb={nodeOrigin:[0,0],nodeExtent:Gc,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},dH={...bb,checkEquality:!0};function wb(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function fH(e,t,r){const n=wb(bb,r);for(const a of e.values())if(a.parentId)kb(a,e,t,n);else{const s=Iu(a,n.nodeOrigin),i=Xo(a.extent)?a.extent:n.nodeExtent,l=Oi(s,i,$a(a));a.internals.positionAbsolute=l}}function hH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const s={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(s):a.type==="target"&&n.push(s)}return{source:r,target:n}}function jb(e){return e==="manual"}function Uy(e,t,r,n={}){var u,d;const a=wb(dH,n),s={i:0},i=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!jb(a.zIndexMode)?iA:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let h=i.get(f.id);if(a.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const m=Iu(f,a.nodeOrigin),p=Xo(f.extent)?f.extent:a.nodeExtent,x=Oi(m,p,$a(f));h={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:x,handleBounds:hH(f,h),z:oA(f,l,a.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),f.parentId&&kb(h,t,r,n,s)}return c}function mH(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function kb(e,t,r,n,a){const{elevateNodesOnSelect:s,nodeOrigin:i,nodeExtent:l,zIndexMode:c}=wb(bb,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}mH(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*uH),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=s&&!jb(c)?iA:0,{x:h,y:m,z:p}=pH(e,d,i,l,f,c),{positionAbsolute:x}=e.internals,v=h!==x.x||m!==x.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:h,y:m}:x,z:p}})}function oA(e,t,r){const n=xn(e.zIndex)?e.zIndex:0;return jb(r)?n:n+(e.selected?t:0)}function pH(e,t,r,n,a,s){const{x:i,y:l}=t.internals.positionAbsolute,c=$a(e),u=Iu(e,r),d=Xo(e.extent)?Oi(u,e.extent,c):u;let f=Oi({x:i+d.x,y:l+d.y},n,c);e.extent==="parent"&&(f=qO(f,c,t));const h=oA(e,a,s),m=t.internals.z??0;return{x:f.x,y:f.y,z:m>=h?m+1:h}}function Nb(e,t,r,n=[0,0]){var i;const a=[],s=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((i=s.get(l.parentId))==null?void 0:i.expandedRect)??Go(c),d=GO(u,l.rect);s.set(l.parentId,{expandedRect:d,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},u)=>{var w;const d=c.internals.positionAbsolute,f=$a(c),h=c.origin??n,m=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,x=Math.max(f.width,Math.round(l.width)),v=Math.max(f.height,Math.round(l.height)),g=(x-f.width)*h[0],b=(v-f.height)*h[1];(m>0||p>0||g||b)&&(a.push({id:u,type:"position",position:{x:c.position.x-m+g,y:c.position.y-p+b}}),(w=r.get(u))==null||w.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+m,y:j.position.y+p}})})),(f.width<l.width||f.height<l.height||m||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(m?h[0]*m-g:0),height:v+(p?h[1]*p-b:0)}})}),a}function gH(e,t,r,n,a,s,i){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const m of e.values()){const p=t.get(m.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const x=vb(m.nodeElement),v=p.measured.width!==x.width||p.measured.height!==x.height;if(!!(x.width&&x.height&&(v||!p.internals.handleBounds||m.force))){const b=m.nodeElement.getBoundingClientRect(),w=Xo(p.extent)?p.extent:s;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=qO(j,x,t.get(p.parentId)):w&&(j=Oi(j,w,x));const k={...p,measured:x,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:qk("source",m.nodeElement,b,f,p.id),target:qk("target",m.nodeElement,b,f,p.id)}}};t.set(p.id,k),p.parentId&&kb(k,t,r,{nodeOrigin:a,zIndexMode:i}),c=!0,v&&(u.push({id:p.id,type:"dimensions",dimensions:x}),p.expandParent&&p.parentId&&h.push({id:p.id,parentId:p.parentId,rect:Go(k,a)}))}}if(h.length>0){const m=Nb(h,t,r,a);u.push(...m)}return{changes:u,updatedInternals:c}}async function yH({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,s]],n),l=!!i&&(i.x!==r[0]||i.y!==r[1]||i.k!==r[2]);return Promise.resolve(l)}function eN(e,t,r,n,a,s){let i=a;const l=n.get(i)||new Map;n.set(i,l.set(r,t)),i=`${a}-${e}`;const c=n.get(i)||new Map;if(n.set(i,c.set(r,t)),s){i=`${a}-${e}-${s}`;const u=n.get(i)||new Map;n.set(i,u.set(r,t))}}function lA(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:s,sourceHandle:i=null,targetHandle:l=null}=n,c={edgeId:n.id,source:a,target:s,sourceHandle:i,targetHandle:l},u=`${a}-${i}--${s}-${l}`,d=`${s}-${l}--${a}-${i}`;eN("source",c,d,e,a,i),eN("target",c,u,e,s,l),t.set(n.id,n)}}function cA(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:cA(r,t):!1}function tN(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function xH(e,t,r,n){const a=new Map;for(const[s,i]of e)if((i.selected||i.id===n)&&(!i.parentId||!cA(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(s);l&&a.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function zg({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var i,l,c;const a=[];for(const[u,d]of t){const f=(i=r.get(u))==null?void 0:i.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const s=(l=r.get(e))==null?void 0:l.internals.userNode;return[s?{...s,position:((c=t.get(e))==null?void 0:c.position)||s.position,dragging:n}:a[0],a]}function vH({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const s={x:r-a.distance.x,y:n-a.distance.y},i=Ru(s,t);return{x:i.x-s.x,y:i.y-s.y}}function bH({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let s={x:null,y:null},i=0,l=new Map,c=!1,u={x:0,y:0},d=null,f=!1,h=null,m=!1,p=!1,x=null;function v({noDragClassName:b,handleSelector:w,domNode:j,isSelectable:k,nodeId:_,nodeClickDistance:N=0}){h=Cr(j);function S({x:C,y:L}){const{nodeLookup:O,nodeExtent:R,snapGrid:A,snapToGrid:D,nodeOrigin:T,onNodeDrag:M,onSelectionDrag:z,onError:B,updateNodePositions:F}=t();s={x:C,y:L};let Y=!1;const q=l.size>1,Q=q&&R?Fy(Du(l)):null,le=q&&D?vH({dragItems:l,snapGrid:A,x:C,y:L}):null;for(const[J,X]of l){if(!O.has(J))continue;let H={x:C-X.distance.x,y:L-X.distance.y};D&&(H=le?{x:Math.round(H.x+le.x),y:Math.round(H.y+le.y)}:Ru(H,A));let te=null;if(q&&R&&!X.extent&&Q){const{positionAbsolute:re}=X.internals,ce=re.x-Q.x+R[0][0],ge=re.x+X.measured.width-Q.x2+R[1][0],pe=re.y-Q.y+R[0][1],Ie=re.y+X.measured.height-Q.y2+R[1][1];te=[[ce,pe],[ge,Ie]]}const{position:Z,positionAbsolute:K}=KO({nodeId:J,nextPosition:H,nodeLookup:O,nodeExtent:te||R,nodeOrigin:T,onError:B});Y=Y||X.position.x!==Z.x||X.position.y!==Z.y,X.position=Z,X.internals.positionAbsolute=K}if(p=p||Y,!!Y&&(F(l,!0),x&&(n||M||!_&&z))){const[J,X]=zg({nodeId:_,dragItems:l,nodeLookup:O});n==null||n(x,l,J,X),M==null||M(x,J,X),_||z==null||z(x,X)}}async function P(){if(!d)return;const{transform:C,panBy:L,autoPanSpeed:O,autoPanOnNodeDrag:R}=t();if(!R){c=!1,cancelAnimationFrame(i);return}const[A,D]=YO(u,d,O);(A!==0||D!==0)&&(s.x=(s.x??0)-A/C[2],s.y=(s.y??0)-D/C[2],await L({x:A,y:D})&&S(s)),i=requestAnimationFrame(P)}function I(C){var q;const{nodeLookup:L,multiSelectionActive:O,nodesDraggable:R,transform:A,snapGrid:D,snapToGrid:T,selectNodesOnDrag:M,onNodeDragStart:z,onSelectionDragStart:B,unselectNodesAndEdges:F}=t();f=!0,(!M||!k)&&!O&&_&&((q=L.get(_))!=null&&q.selected||F()),k&&M&&_&&(e==null||e(_));const Y=wc(C.sourceEvent,{transform:A,snapGrid:D,snapToGrid:T,containerBounds:d});if(s=Y,l=xH(L,R,Y,_),l.size>0&&(r||z||!_&&B)){const[Q,le]=zg({nodeId:_,dragItems:l,nodeLookup:L});r==null||r(C.sourceEvent,l,Q,le),z==null||z(C.sourceEvent,Q,le),_||B==null||B(C.sourceEvent,le)}}const E=_O().clickDistance(N).on("start",C=>{const{domNode:L,nodeDragThreshold:O,transform:R,snapGrid:A,snapToGrid:D}=t();d=(L==null?void 0:L.getBoundingClientRect())||null,m=!1,p=!1,x=C.sourceEvent,O===0&&I(C),s=wc(C.sourceEvent,{transform:R,snapGrid:A,snapToGrid:D,containerBounds:d}),u=vn(C.sourceEvent,d)}).on("drag",C=>{const{autoPanOnNodeDrag:L,transform:O,snapGrid:R,snapToGrid:A,nodeDragThreshold:D,nodeLookup:T}=t(),M=wc(C.sourceEvent,{transform:O,snapGrid:R,snapToGrid:A,containerBounds:d});if(x=C.sourceEvent,(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1||_&&!T.has(_))&&(m=!0),!m){if(!c&&L&&f&&(c=!0,P()),!f){const z=vn(C.sourceEvent,d),B=z.x-u.x,F=z.y-u.y;Math.sqrt(B*B+F*F)>D&&I(C)}(s.x!==M.xSnapped||s.y!==M.ySnapped)&&l&&f&&(u=vn(C.sourceEvent,d),S(M))}}).on("end",C=>{if(!(!f||m)&&(c=!1,f=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:L,updateNodePositions:O,onNodeDragStop:R,onSelectionDragStop:A}=t();if(p&&(O(l,!1),p=!1),a||R||!_&&A){const[D,T]=zg({nodeId:_,dragItems:l,nodeLookup:L,dragging:!1});a==null||a(C.sourceEvent,l,D,T),R==null||R(C.sourceEvent,D,T),_||A==null||A(C.sourceEvent,T)}}}).filter(C=>{const L=C.target;return!C.button&&(!b||!tN(L,`.${b}`,j))&&(!w||tN(L,w,j))});h.call(E)}function g(){h==null||h.on(".drag",null)}return{update:v,destroy:g}}function wH(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const s of t.values())Qc(a,Go(s))>0&&n.push(s);return n}const jH=250;function kH(e,t,r,n){var l,c;let a=[],s=1/0;const i=wH(e,r,t+jH);for(const u of i){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:h,y:m}=Ai(u,f,f.position,!0),p=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(m-e.y,2));p>t||(p<s?(a=[{...f,x:h,y:m}],s=p):p===s&&a.push({...f,x:h,y:m}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function uA(e,t,r,n,a,s=!1){var u,d,f;const i=n.get(e);if(!i)return null;const l=a==="strict"?(u=i.internals.handleBounds)==null?void 0:u[t]:[...((d=i.internals.handleBounds)==null?void 0:d.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?l==null?void 0:l.find(h=>h.id===r):l==null?void 0:l[0])??null;return c&&s?{...c,...Ai(i,c,c.position,!0)}:c}function dA(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function NH(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const fA=()=>!0;function _H(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:s,isTarget:i,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:m,onConnectStart:p,onConnect:x,onConnectEnd:v,isValidConnection:g=fA,onReconnectEnd:b,updateConnection:w,getTransform:j,getFromHandle:k,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:S}){const P=JO(e.target);let I=0,E;const{x:C,y:L}=vn(e),O=dA(s,S),R=l==null?void 0:l.getBoundingClientRect();let A=!1;if(!R||!O)return;const D=uA(a,O,n,c,t);if(!D)return;let T=vn(e,R),M=!1,z=null,B=!1,F=null;function Y(){if(!d||!R)return;const[Z,K]=YO(T,R,_);h({x:Z,y:K}),I=requestAnimationFrame(Y)}const q={...D,nodeId:a,type:O,position:D.position},Q=c.get(a);let J={inProgress:!0,isValid:null,from:Ai(Q,q,de.Left,!0),fromHandle:q,fromPosition:q.position,fromNode:Q,to:T,toHandle:null,toPosition:Hk[q.position],toNode:null,pointer:T};function X(){A=!0,w(J),p==null||p(e,{nodeId:a,handleId:n,handleType:O})}N===0&&X();function H(Z){if(!A){const{x:Ie,y:U}=vn(Z),ne=Ie-C,me=U-L;if(!(ne*ne+me*me>N*N))return;X()}if(!k()||!q){te(Z);return}const K=j();T=vn(Z,R),E=kH(Lu(T,K,!1,[1,1]),r,c,q),M||(Y(),M=!0);const re=hA(Z,{handle:E,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:i?"target":"source",isValidConnection:g,doc:P,lib:u,flowId:f,nodeLookup:c});F=re.handleDomNode,z=re.connection,B=NH(!!E,re.isValid);const ce=c.get(a),ge=ce?Ai(ce,q,de.Left,!0):J.from,pe={...J,from:ge,isValid:B,to:re.toHandle&&B?jh({x:re.toHandle.x,y:re.toHandle.y},K):T,toHandle:re.toHandle,toPosition:B&&re.toHandle?re.toHandle.position:Hk[q.position],toNode:re.toHandle?c.get(re.toHandle.nodeId):null,pointer:T};w(pe),J=pe}function te(Z){if(!("touches"in Z&&Z.touches.length>0)){if(A){(E||F)&&z&&B&&(x==null||x(z));const{inProgress:K,...re}=J,ce={...re,toPosition:J.toHandle?J.toPosition:null};v==null||v(Z,ce),s&&(b==null||b(Z,ce))}m(),cancelAnimationFrame(I),M=!1,B=!1,z=null,F=null,P.removeEventListener("mousemove",H),P.removeEventListener("mouseup",te),P.removeEventListener("touchmove",H),P.removeEventListener("touchend",te)}}P.addEventListener("mousemove",H),P.addEventListener("mouseup",te),P.addEventListener("touchmove",H),P.addEventListener("touchend",te)}function hA(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:s,doc:i,lib:l,flowId:c,isValidConnection:u=fA,nodeLookup:d}){const f=s==="target",h=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:p}=vn(e),x=i.elementFromPoint(m,p),v=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:h,g={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const b=dA(void 0,v),w=v.getAttribute("data-nodeid"),j=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),_=v.classList.contains("connectableend");if(!w||!b)return g;const N={source:f?w:n,sourceHandle:f?j:a,target:f?n:w,targetHandle:f?a:j};g.connection=N;const P=k&&_&&(r===qo.Strict?f&&b==="source"||!f&&b==="target":w!==n||j!==a);g.isValid=P&&u(N),g.toHandle=uA(w,b,j,d,r,!0)}return g}const Hy={onPointerDown:_H,isValid:hA};function SH({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=Cr(e);function s({translateExtent:l,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:m=!1}){const p=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=w.sourceEvent.ctrlKey&&Jc()?10:1,_=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*d,N=j[2]*Math.pow(2,_*k);t.scaleTo(N)};let x=[0,0];const v=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(x=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},g=w=>{const j=r();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const k=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],_=[k[0]-x[0],k[1]-x[1]];x=k;const N=n()*Math.max(j[2],Math.log(j[2]))*(m?-1:1),S={x:j[0]-_[0]*N,y:j[1]-_[1]*N},P=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},P,l)},b=FO().on("start",v).on("zoom",f?g:null).on("zoom.wheel",h?p:null);a.call(b,{})}function i(){a.on("zoom",null)}return{update:s,destroy:i,pointer:fn}}const Xm=e=>({x:e.x,y:e.y,zoom:e.k}),Fg=({x:e,y:t,zoom:r})=>qm.translate(e,t).scale(r),uo=(e,t)=>e.target.closest(`.${t}`),mA=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),EH=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Bg=(e,t=0,r=EH,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},pA=e=>{const t=e.ctrlKey&&Jc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function CH({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:s,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(uo(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&i){const v=fn(d),g=pA(d),b=f*Math.pow(2,g);n.scaleTo(r,b,v,d);return}const h=d.deltaMode===1?20:1;let m=a===yi.Vertical?0:d.deltaX*h,p=a===yi.Horizontal?0:d.deltaY*h;!Jc()&&d.shiftKey&&a!==yi.Vertical&&(m=d.deltaY*h,p=0),n.translateBy(r,-(m/f)*s,-(p/f)*s,{internal:!0});const x=Xm(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,x))}}function PH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const s=n.type==="wheel",i=!t&&s&&!n.ctrlKey,l=uo(n,e);if(n.ctrlKey&&s&&l&&n.preventDefault(),i||l)return null;n.preventDefault(),r.call(this,n,a)}}function OH({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var s,i,l;if((s=n.sourceEvent)!=null&&s.internal)return;const a=Xm(n.transform);e.mouseButton=((i=n.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function AH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return s=>{var i,l;e.usedRightMouseButton=!!(r&&mA(t,e.mouseButton??0)),(i=s.sourceEvent)!=null&&i.sync||n([s.transform.x,s.transform.y,s.transform.k]),a&&!((l=s.sourceEvent)!=null&&l.internal)&&(a==null||a(s.sourceEvent,Xm(s.transform)))}}function TH({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:s}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,s&&mA(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&s(i.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=Xm(i.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(i.sourceEvent,c)},r?150:0)}}}function MH({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:s,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var v;const h=e||t,m=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(uo(f,`${u}-flow__node`)||uo(f,`${u}-flow__edge`)))return!0;if(!n&&!h&&!a&&!s&&!r||i||d&&!p||uo(f,l)&&p||uo(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!h&&!a&&!m&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&x}}function IH({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:s,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=FO().scaleExtent([t,r]).translateExtent(n),h=Cr(e).call(f);b({x:a.x,y:a.y,zoom:Yo(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const m=h.on("wheel.zoom"),p=h.on("dblclick.zoom");f.wheelDelta(pA);function x(E,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?wa:Pf).transform(Bg(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),E)}):Promise.resolve(!1)}function v({noWheelClassName:E,noPanClassName:C,onPaneContextMenu:L,userSelectionActive:O,panOnScroll:R,panOnDrag:A,panOnScrollMode:D,panOnScrollSpeed:T,preventScrolling:M,zoomOnPinch:z,zoomOnScroll:B,zoomOnDoubleClick:F,zoomActivationKeyPressed:Y,lib:q,onTransformChange:Q,connectionInProgress:le,paneClickDistance:J,selectionOnDrag:X}){O&&!u.isZoomingOrPanning&&g();const H=R&&!Y&&!O;f.clickDistance(X?1/0:!xn(J)||J<0?0:J);const te=H?CH({zoomPanValues:u,noWheelClassName:E,d3Selection:h,d3Zoom:f,panOnScrollMode:D,panOnScrollSpeed:T,zoomOnPinch:z,onPanZoomStart:i,onPanZoom:s,onPanZoomEnd:l}):PH({noWheelClassName:E,preventScrolling:M,d3ZoomHandler:m});if(h.on("wheel.zoom",te,{passive:!1}),!O){const K=OH({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:i});f.on("start",K);const re=AH({zoomPanValues:u,panOnDrag:A,onPaneContextMenu:!!L,onPanZoom:s,onTransformChange:Q});f.on("zoom",re);const ce=TH({zoomPanValues:u,panOnDrag:A,panOnScroll:R,onPaneContextMenu:L,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ce)}const Z=MH({zoomActivationKeyPressed:Y,panOnDrag:A,zoomOnScroll:B,panOnScroll:R,zoomOnDoubleClick:F,zoomOnPinch:z,userSelectionActive:O,noPanClassName:C,noWheelClassName:E,lib:q,connectionInProgress:le});f.filter(Z),F?h.on("dblclick.zoom",p):h.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function b(E,C,L){const O=Fg(E),R=f==null?void 0:f.constrain()(O,C,L);return R&&await x(R),new Promise(A=>A(R))}async function w(E,C){const L=Fg(E);return await x(L,C),new Promise(O=>O(L))}function j(E){if(h){const C=Fg(E),L=h.property("__zoom");(L.k!==E.zoom||L.x!==E.x||L.y!==E.y)&&(f==null||f.transform(h,C,null,{sync:!0}))}}function k(){const E=h?zO(h.node()):{x:0,y:0,k:1};return{x:E.x,y:E.y,zoom:E.k}}function _(E,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?wa:Pf).scaleTo(Bg(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),E)}):Promise.resolve(!1)}function N(E,C){return h?new Promise(L=>{f==null||f.interpolate((C==null?void 0:C.interpolate)==="linear"?wa:Pf).scaleBy(Bg(h,C==null?void 0:C.duration,C==null?void 0:C.ease,()=>L(!0)),E)}):Promise.resolve(!1)}function S(E){f==null||f.scaleExtent(E)}function P(E){f==null||f.translateExtent(E)}function I(E){const C=!xn(E)||E<0?0:E;f==null||f.clickDistance(C)}return{update:v,destroy:g,setViewport:w,setViewportConstrained:b,getViewport:k,scaleTo:_,scaleBy:N,setScaleExtent:S,setTranslateExtent:P,syncViewport:j,setClickDistance:I}}var Qo;(function(e){e.Line="line",e.Handle="handle"})(Qo||(Qo={}));function DH({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:s}){const i=e-t,l=r-n,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function rN(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Wa(e,t){return Math.max(0,t-e)}function Ka(e,t){return Math.max(0,e-t)}function Hd(e,t,r){return Math.max(0,t-e,e-r)}function nN(e,t){return e?!t:t}function RH(e,t,r,n,a,s,i,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:m,ySnapped:p}=r,{minWidth:x,maxWidth:v,minHeight:g,maxHeight:b}=n,{x:w,y:j,width:k,height:_,aspectRatio:N}=e;let S=Math.floor(d?m-e.pointerX:0),P=Math.floor(f?p-e.pointerY:0);const I=k+(c?-S:S),E=_+(u?-P:P),C=-s[0]*k,L=-s[1]*_;let O=Hd(I,x,v),R=Hd(E,g,b);if(i){let T=0,M=0;c&&S<0?T=Wa(w+S+C,i[0][0]):!c&&S>0&&(T=Ka(w+I+C,i[1][0])),u&&P<0?M=Wa(j+P+L,i[0][1]):!u&&P>0&&(M=Ka(j+E+L,i[1][1])),O=Math.max(O,T),R=Math.max(R,M)}if(l){let T=0,M=0;c&&S>0?T=Ka(w+S,l[0][0]):!c&&S<0&&(T=Wa(w+I,l[1][0])),u&&P>0?M=Ka(j+P,l[0][1]):!u&&P<0&&(M=Wa(j+E,l[1][1])),O=Math.max(O,T),R=Math.max(R,M)}if(a){if(d){const T=Hd(I/N,g,b)*N;if(O=Math.max(O,T),i){let M=0;!c&&!u||c&&!u&&h?M=Ka(j+L+I/N,i[1][1])*N:M=Wa(j+L+(c?S:-S)/N,i[0][1])*N,O=Math.max(O,M)}if(l){let M=0;!c&&!u||c&&!u&&h?M=Wa(j+I/N,l[1][1])*N:M=Ka(j+(c?S:-S)/N,l[0][1])*N,O=Math.max(O,M)}}if(f){const T=Hd(E*N,x,v)/N;if(R=Math.max(R,T),i){let M=0;!c&&!u||u&&!c&&h?M=Ka(w+E*N+C,i[1][0])/N:M=Wa(w+(u?P:-P)*N+C,i[0][0])/N,R=Math.max(R,M)}if(l){let M=0;!c&&!u||u&&!c&&h?M=Wa(w+E*N,l[1][0])/N:M=Ka(w+(u?P:-P)*N,l[0][0])/N,R=Math.max(R,M)}}}P=P+(P<0?R:-R),S=S+(S<0?O:-O),a&&(h?I>E*N?P=(nN(c,u)?-S:S)/N:S=(nN(c,u)?-P:P)*N:d?(P=S/N,u=c):(S=P*N,c=u));const A=c?w+S:w,D=u?j+P:j;return{width:k+(c?-S:S),height:_+(u?-P:P),x:s[0]*S*(c?-1:1)+A,y:s[1]*P*(u?-1:1)+D}}const gA={width:0,height:0,x:0,y:0},LH={...gA,pointerX:0,pointerY:0,aspectRatio:1};function $H(e){return[[0,0],[e.measured.width,e.measured.height]]}function zH(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,s=e.measured.width??0,i=e.measured.height??0,l=r[0]*s,c=r[1]*i;return[[n-l,a-c],[n+s-l,a+i-c]]}function FH({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const s=Cr(e);let i={controlDirection:rN("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:m,onResize:p,onResizeEnd:x,shouldResize:v}){let g={...gA},b={...LH};i={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:rN(u)};let w,j=null,k=[],_,N,S,P=!1;const I=_O().on("start",E=>{const{nodeLookup:C,transform:L,snapGrid:O,snapToGrid:R,nodeOrigin:A,paneDomNode:D}=r();if(w=C.get(t),!w)return;j=(D==null?void 0:D.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:M}=wc(E.sourceEvent,{transform:L,snapGrid:O,snapToGrid:R,containerBounds:j});g={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},b={...g,pointerX:T,pointerY:M,aspectRatio:g.width/g.height},_=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(_=C.get(w.parentId),N=_&&w.extent==="parent"?$H(_):void 0),k=[],S=void 0;for(const[z,B]of C)if(B.parentId===t&&(k.push({id:z,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const F=zH(B,w,B.origin??A);S?S=[[Math.min(F[0][0],S[0][0]),Math.min(F[0][1],S[0][1])],[Math.max(F[1][0],S[1][0]),Math.max(F[1][1],S[1][1])]]:S=F}m==null||m(E,{...g})}).on("drag",E=>{const{transform:C,snapGrid:L,snapToGrid:O,nodeOrigin:R}=r(),A=wc(E.sourceEvent,{transform:C,snapGrid:L,snapToGrid:O,containerBounds:j}),D=[];if(!w)return;const{x:T,y:M,width:z,height:B}=g,F={},Y=w.origin??R,{width:q,height:Q,x:le,y:J}=RH(b,i.controlDirection,A,i.boundaries,i.keepAspectRatio,Y,N,S),X=q!==z,H=Q!==B,te=le!==T&&X,Z=J!==M&&H;if(!te&&!Z&&!X&&!H)return;if((te||Z||Y[0]===1||Y[1]===1)&&(F.x=te?le:g.x,F.y=Z?J:g.y,g.x=F.x,g.y=F.y,k.length>0)){const ge=le-T,pe=J-M;for(const Ie of k)Ie.position={x:Ie.position.x-ge+Y[0]*(q-z),y:Ie.position.y-pe+Y[1]*(Q-B)},D.push(Ie)}if((X||H)&&(F.width=X&&(!i.resizeDirection||i.resizeDirection==="horizontal")?q:g.width,F.height=H&&(!i.resizeDirection||i.resizeDirection==="vertical")?Q:g.height,g.width=F.width,g.height=F.height),_&&w.expandParent){const ge=Y[0]*(F.width??0);F.x&&F.x<ge&&(g.x=ge,b.x=b.x-(F.x-ge));const pe=Y[1]*(F.height??0);F.y&&F.y<pe&&(g.y=pe,b.y=b.y-(F.y-pe))}const K=DH({width:g.width,prevWidth:z,height:g.height,prevHeight:B,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),re={...g,direction:K};(v==null?void 0:v(E,re))!==!1&&(P=!0,p==null||p(E,re),n(F,D))}).on("end",E=>{P&&(x==null||x(E,{...g}),a==null||a({...g}),P=!1)});s.call(I)}function c(){s.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:BH}=Or,{useSyncExternalStoreWithSelector:UH}=cO,HH=e=>e;function yA(e,t=HH,r){const n=UH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return BH(n),n}const aN=(e,t)=>{const r=nO(e),n=(a,s=t)=>yA(r,a,s);return Object.assign(n,r),n},VH=(e,t)=>e?aN(e,t):aN;function qe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const Qm=y.createContext(null),WH=Qm.Provider,xA=Gn.error001();function je(e,t){const r=y.useContext(Qm);if(r===null)throw new Error(xA);return yA(r,e,t)}function Ye(){const e=y.useContext(Qm);if(e===null)throw new Error(xA);return y.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const sN={display:"none"},KH={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vA="react-flow__node-desc",bA="react-flow__edge-desc",qH="react-flow__aria-live",YH=e=>e.ariaLiveMessage,GH=e=>e.ariaLabelConfig;function XH({rfId:e}){const t=je(YH);return o.jsx("div",{id:`${qH}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:KH,children:t})}function QH({rfId:e,disableKeyboardA11y:t}){const r=je(GH);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${vA}-${e}`,style:sN,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${bA}-${e}`,style:sN,children:r["edge.a11yDescription.default"]}),!t&&o.jsx(XH,{rfId:e})]})}const Jm=y.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},s)=>{const i=`${e}`.split("-");return o.jsx("div",{className:ht(["react-flow__panel",r,...i]),style:n,ref:s,...a,children:t})});Jm.displayName="Panel";function JH({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:o.jsx(Jm,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ZH=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Vd=e=>e.id;function eV(e,t){return qe(e.selectedNodes.map(Vd),t.selectedNodes.map(Vd))&&qe(e.selectedEdges.map(Vd),t.selectedEdges.map(Vd))}function tV({onSelectionChange:e}){const t=Ye(),{selectedNodes:r,selectedEdges:n}=je(ZH,eV);return y.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(s=>s(a))},[r,n,e]),null}const rV=e=>!!e.onSelectionChangeHandlers;function nV({onSelectionChange:e}){const t=je(rV);return e||t?o.jsx(tV,{onSelectionChange:e}):null}const wA=[0,0],aV={x:0,y:0,zoom:1},sV=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],iN=[...sV,"rfId"],iV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),oN={translateExtent:Gc,nodeOrigin:wA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function oV(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:s,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c}=je(iV,qe),u=Ye();y.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=oN,l()}),[]);const d=y.useRef(oN);return y.useEffect(()=>{for(const f of iN){const h=e[f],m=d.current[f];h!==m&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?r(h):f==="minZoom"?n(h):f==="maxZoom"?a(h):f==="translateExtent"?s(h):f==="nodeExtent"?i(h):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:ZU(h)}):f==="fitView"?u.setState({fitViewQueued:h}):f==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[f]:h})))}d.current=e},iN.map(f=>e[f])),null}function lN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function lV(e){var n;const[t,r]=y.useState(e==="system"?null:e);return y.useEffect(()=>{if(e!=="system"){r(e);return}const a=lN(),s=()=>r(a!=null&&a.matches?"dark":"light");return s(),a==null||a.addEventListener("change",s),()=>{a==null||a.removeEventListener("change",s)}},[e]),t!==null?t:(n=lN())!=null&&n.matches?"dark":"light"}const cN=typeof document<"u"?document:null;function Zc(e=null,t={target:cN,actInsideInputWithModifier:!0}){const[r,n]=y.useState(!1),a=y.useRef(!1),s=y.useRef(new Set([])),[i,l]=y.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return y.useEffect(()=>{const c=(t==null?void 0:t.target)??cN,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=m=>{var v,g;if(a.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!a.current||a.current&&!u)&&ZO(m))return!1;const x=dN(m.code,l);if(s.current.add(m[x]),uN(i,s.current,!1)){const b=((g=(v=m.composedPath)==null?void 0:v.call(m))==null?void 0:g[0])||m.target,w=(b==null?void 0:b.nodeName)==="BUTTON"||(b==null?void 0:b.nodeName)==="A";t.preventDefault!==!1&&(a.current||!w)&&m.preventDefault(),n(!0)}},f=m=>{const p=dN(m.code,l);uN(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(m[p]),m.key==="Meta"&&s.current.clear(),a.current=!1},h=()=>{s.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,n]),r}function uN(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function dN(e,t){return t.includes(e)?"code":"key"}const cV=()=>{const e=Ye();return y.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,s],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??s},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:s,maxZoom:i,panZoom:l}=e.getState(),c=xb(t,n,a,s,i,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:s,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??s;return Lu(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:s}=n.getBoundingClientRect(),i=jh(t,r);return{x:i.x+a,y:i.y+s}}}),[])};function jA(e,t){const r=[],n=new Map,a=[];for(const s of e)if(s.type==="add"){a.push(s);continue}else if(s.type==="remove"||s.type==="replace")n.set(s.id,[s]);else{const i=n.get(s.id);i?i.push(s):n.set(s.id,[s])}for(const s of t){const i=n.get(s.id);if(!i){r.push(s);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){r.push({...i[0].item});continue}const l={...s};for(const c of i)uV(c,l);r.push(l)}return a.length&&a.forEach(s=>{s.index!==void 0?r.splice(s.index,0,{...s.item}):r.push({...s.item})}),r}function uV(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function kA(e,t){return jA(e,t)}function NA(e,t){return jA(e,t)}function Ws(e,t){return{id:e,type:"select",selected:t}}function fo(e,t=new Set,r=!1){const n=[];for(const[a,s]of e){const i=t.has(a);!(s.selected===void 0&&!i)&&s.selected!==i&&(r&&(s.selected=i),n.push(Ws(s.id,i)))}return n}function fN({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const l=t.get(i.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==i&&r.push({id:i.id,item:i,type:"replace"}),c===void 0&&r.push({item:i,type:"add",index:s})}for(const[s]of t)n.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function hN(e){return{id:e.id,type:"remove"}}const mN=e=>HU(e),dV=e=>WO(e);function _A(e){return y.forwardRef(e)}const fV=typeof window<"u"?y.useLayoutEffect:y.useEffect;function pN(e){const[t,r]=y.useState(BigInt(0)),[n]=y.useState(()=>hV(()=>r(a=>a+BigInt(1))));return fV(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function hV(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const SA=y.createContext(null);function mV({children:e}){const t=Ye(),r=y.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:m,onNodesChangeMiddlewareMap:p}=t.getState();let x=c;for(const g of l)x=typeof g=="function"?g(x):g;let v=fN({items:x,lookup:h});for(const g of p.values())v=g(v);d&&u(x),v.length>0?f==null||f(v):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:b,setNodes:w}=t.getState();g&&w(b)})},[]),n=pN(r),a=y.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let m=c;for(const p of l)m=typeof p=="function"?p(m):p;d?u(m):f&&f(fN({items:m,lookup:h}))},[]),s=pN(a),i=y.useMemo(()=>({nodeQueue:n,edgeQueue:s}),[]);return o.jsx(SA.Provider,{value:i,children:e})}function pV(){const e=y.useContext(SA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const gV=e=>!!e.panZoom;function xl(){const e=cV(),t=Ye(),r=pV(),n=je(gV),a=y.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),i=f=>{r.nodeQueue.push(f)},l=f=>{r.edgeQueue.push(f)},c=f=>{var g,b;const{nodeLookup:h,nodeOrigin:m}=t.getState(),p=mN(f)?f:h.get(f.id),x=p.parentId?QO(p.position,p.measured,p.parentId,h,m):p.position,v={...p,position:x,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((b=p.measured)==null?void 0:b.height)??p.height};return Go(v)},u=(f,h,m={replace:!1})=>{i(p=>p.map(x=>{if(x.id===f){const v=typeof h=="function"?h(x):h;return m.replace&&mN(v)?v:{...x,...v}}return x}))},d=(f,h,m={replace:!1})=>{l(p=>p.map(x=>{if(x.id===f){const v=typeof h=="function"?h(x):h;return m.replace&&dV(v)?v:{...x,...v}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=s(f))==null?void 0:h.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:l,addNodes:f=>{const h=Array.isArray(f)?f:[f];r.nodeQueue.push(m=>[...m,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];r.edgeQueue.push(m=>[...m,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:m}=t.getState(),[p,x,v]=m;return{nodes:f.map(g=>({...g})),edges:h.map(g=>({...g})),viewport:{x:p,y:x,zoom:v}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:m,edges:p,onNodesDelete:x,onEdgesDelete:v,triggerNodeChanges:g,triggerEdgeChanges:b,onDelete:w,onBeforeDelete:j}=t.getState(),{nodes:k,edges:_}=await YU({nodesToRemove:f,edgesToRemove:h,nodes:m,edges:p,onBeforeDelete:j}),N=_.length>0,S=k.length>0;if(N){const P=_.map(hN);v==null||v(_),b(P)}if(S){const P=k.map(hN);x==null||x(k),g(P)}return(S||N)&&(w==null||w({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(f,h=!0,m)=>{const p=Wk(f),x=p?f:c(f),v=m!==void 0;return x?(m||t.getState().nodes).filter(g=>{const b=t.getState().nodeLookup.get(g.id);if(b&&!p&&(g.id===f.id||!b.internals.positionAbsolute))return!1;const w=Go(v?g:b),j=Qc(w,x);return h&&j>0||j>=w.width*w.height||j>=x.width*x.height}):[]},isNodeIntersecting:(f,h,m=!0)=>{const x=Wk(f)?f:c(f);if(!x)return!1;const v=Qc(x,h);return m&&v>0||v>=h.width*h.height||v>=x.width*x.height},updateNode:u,updateNodeData:(f,h,m={replace:!1})=>{u(f,p=>{const x=typeof h=="function"?h(p):h;return m.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},m)},updateEdge:d,updateEdgeData:(f,h,m={replace:!1})=>{d(f,p=>{const x=typeof h=="function"?h(p):h;return m.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},m)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:m}=t.getState();return VU(f,{nodeLookup:h,nodeOrigin:m})},getHandleConnections:({type:f,id:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}-${f}${h?`-${h}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:m})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${m}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??JU();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),r.nodeQueue.push(m=>[...m]),h.promise}}},[]);return y.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const gN=e=>e.selected,yV=typeof window<"u"?window:void 0;function xV({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=Ye(),{deleteElements:n}=xl(),a=Zc(e,{actInsideInputWithModifier:!1}),s=Zc(t,{target:yV});y.useEffect(()=>{if(a){const{edges:i,nodes:l}=r.getState();n({nodes:l.filter(gN),edges:i.filter(gN)}),r.setState({nodesSelectionActive:!1})}},[a]),y.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])}function vV(e){const t=Ye();y.useEffect(()=>{const r=()=>{var a,s,i,l;if(!e.current||!(((s=(a=e.current).checkVisibility)==null?void 0:s.call(a))??!0))return!1;const n=vb(e.current);(n.height===0||n.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",Gn.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const Zm={position:"absolute",width:"100%",height:"100%",top:0,left:0},bV=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function wV({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:s=yi.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:m=!0,children:p,noWheelClassName:x,noPanClassName:v,onViewportChange:g,isControlledViewport:b,paneClickDistance:w,selectionOnDrag:j}){const k=Ye(),_=y.useRef(null),{userSelectionActive:N,lib:S,connectionInProgress:P}=je(bV,qe),I=Zc(h),E=y.useRef();vV(_);const C=y.useCallback(L=>{g==null||g({x:L[0],y:L[1],zoom:L[2]}),b||k.setState({transform:L})},[g,b]);return y.useEffect(()=>{if(_.current){E.current=IH({domNode:_.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:A=>k.setState({paneDragging:A}),onPanZoomStart:(A,D)=>{const{onViewportChangeStart:T,onMoveStart:M}=k.getState();M==null||M(A,D),T==null||T(D)},onPanZoom:(A,D)=>{const{onViewportChange:T,onMove:M}=k.getState();M==null||M(A,D),T==null||T(D)},onPanZoomEnd:(A,D)=>{const{onViewportChangeEnd:T,onMoveEnd:M}=k.getState();M==null||M(A,D),T==null||T(D)}});const{x:L,y:O,zoom:R}=E.current.getViewport();return k.setState({panZoom:E.current,transform:[L,O,R],domNode:_.current.closest(".react-flow")}),()=>{var A;(A=E.current)==null||A.destroy()}}},[]),y.useEffect(()=>{var L;(L=E.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:s,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:I,preventScrolling:m,noPanClassName:v,userSelectionActive:N,noWheelClassName:x,lib:S,onTransformChange:C,connectionInProgress:P,selectionOnDrag:j,paneClickDistance:w})},[e,t,r,n,a,s,i,l,I,m,v,N,x,S,C,P,j,w]),o.jsx("div",{className:"react-flow__renderer",ref:_,style:Zm,children:p})}const jV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function kV(){const{userSelectionActive:e,userSelectionRect:t}=je(jV,qe);return e&&t?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Ug=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},NV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function _V({isSelecting:e,selectionKeyPressed:t,selectionMode:r=Xc.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:s,onSelectionStart:i,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:m,children:p}){const x=Ye(),{userSelectionActive:v,elementsSelectable:g,dragging:b,connectionInProgress:w}=je(NV,qe),j=g&&(e||v),k=y.useRef(null),_=y.useRef(),N=y.useRef(new Set),S=y.useRef(new Set),P=y.useRef(!1),I=T=>{if(P.current||w){P.current=!1;return}c==null||c(T),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},E=T=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){T.preventDefault();return}u==null||u(T)},C=d?T=>d(T):void 0,L=T=>{P.current&&(T.stopPropagation(),P.current=!1)},O=T=>{var Q,le;const{domNode:M}=x.getState();if(_.current=M==null?void 0:M.getBoundingClientRect(),!_.current)return;const z=T.target===k.current;if(!z&&!!T.target.closest(".nokey")||!e||!(s&&z||t)||T.button!==0||!T.isPrimary)return;(le=(Q=T.target)==null?void 0:Q.setPointerCapture)==null||le.call(Q,T.pointerId),P.current=!1;const{x:Y,y:q}=vn(T.nativeEvent,_.current);x.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:q,x:Y,y:q}}),z||(T.stopPropagation(),T.preventDefault())},R=T=>{const{userSelectionRect:M,transform:z,nodeLookup:B,edgeLookup:F,connectionLookup:Y,triggerNodeChanges:q,triggerEdgeChanges:Q,defaultEdgeOptions:le,resetSelectedElements:J}=x.getState();if(!_.current||!M)return;const{x:X,y:H}=vn(T.nativeEvent,_.current),{startX:te,startY:Z}=M;if(!P.current){const pe=t?0:a;if(Math.hypot(X-te,H-Z)<=pe)return;J(),i==null||i(T)}P.current=!0;const K={startX:te,startY:Z,x:X<te?X:te,y:H<Z?H:Z,width:Math.abs(X-te),height:Math.abs(H-Z)},re=N.current,ce=S.current;N.current=new Set(yb(B,K,z,r===Xc.Partial,!0).map(pe=>pe.id)),S.current=new Set;const ge=(le==null?void 0:le.selectable)??!0;for(const pe of N.current){const Ie=Y.get(pe);if(Ie)for(const{edgeId:U}of Ie.values()){const ne=F.get(U);ne&&(ne.selectable??ge)&&S.current.add(U)}}if(!Kk(re,N.current)){const pe=fo(B,N.current,!0);q(pe)}if(!Kk(ce,S.current)){const pe=fo(F,S.current);Q(pe)}x.setState({userSelectionRect:K,userSelectionActive:!0,nodesSelectionActive:!1})},A=T=>{var M,z;T.button===0&&((z=(M=T.target)==null?void 0:M.releasePointerCapture)==null||z.call(M,T.pointerId),!v&&T.target===k.current&&x.getState().userSelectionRect&&(I==null||I(T)),x.setState({userSelectionActive:!1,userSelectionRect:null}),P.current&&(l==null||l(T),x.setState({nodesSelectionActive:N.current.size>0})))},D=n===!0||Array.isArray(n)&&n.includes(0);return o.jsxs("div",{className:ht(["react-flow__pane",{draggable:D,dragging:b,selection:e}]),onClick:j?void 0:Ug(I,k),onContextMenu:Ug(E,k),onWheel:Ug(C,k),onPointerEnter:j?void 0:f,onPointerMove:j?R:h,onPointerUp:j?A:void 0,onPointerDownCapture:j?O:void 0,onClickCapture:j?L:void 0,onPointerLeave:m,ref:k,style:Zm,children:[p,o.jsx(kV,{})]})}function Vy({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Gn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function EA({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,nodeClickDistance:i}){const l=Ye(),[c,u]=y.useState(!1),d=y.useRef();return y.useEffect(()=>{d.current=bH({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{Vy({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),y.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:s,nodeId:a,nodeClickDistance:i}),()=>{var m;(m=d.current)==null||m.destroy()}},[r,n,t,s,e,a]),c}const SV=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function CA(){const e=Ye();return y.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:s,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,h=SV(i),m=a?s[0]:5,p=a?s[1]:5,x=r.direction.x*m*r.factor,v=r.direction.y*p*r.factor;for(const[,g]of u){if(!h(g))continue;let b={x:g.internals.positionAbsolute.x+x,y:g.internals.positionAbsolute.y+v};a&&(b=Ru(b,s));const{position:w,positionAbsolute:j}=KO({nodeId:g.id,nextPosition:b,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:l});g.position=w,g.internals.positionAbsolute=j,f.set(g.id,g)}c(f)},[])}const _b=y.createContext(null),EV=_b.Provider;_b.Consumer;const PA=()=>y.useContext(_b),CV=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),PV=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:s,connection:i}=n,{fromHandle:l,toHandle:c,isValid:u}=i,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:s===qo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:d&&u}};function OV({type:e="source",position:t=de.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m){var R,A;const p=i||null,x=e==="target",v=Ye(),g=PA(),{connectOnClick:b,noPanClassName:w,rfId:j}=je(CV,qe),{connectingFrom:k,connectingTo:_,clickConnecting:N,isPossibleEndHandle:S,connectionInProcess:P,clickConnectionInProcess:I,valid:E}=je(PV(g,p,e),qe);g||(A=(R=v.getState()).onError)==null||A.call(R,"010",Gn.error010());const C=D=>{const{defaultEdgeOptions:T,onConnect:M,hasDefaultEdges:z}=v.getState(),B={...T,...D};if(z){const{edges:F,setEdges:Y}=v.getState();Y(aA(B,F))}M==null||M(B),l==null||l(B)},L=D=>{if(!g)return;const T=eA(D.nativeEvent);if(a&&(T&&D.button===0||!T)){const M=v.getState();Hy.onPointerDown(D.nativeEvent,{handleDomNode:D.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:x,handleId:p,nodeId:g,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:C,isValidConnection:r||M.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}T?d==null||d(D):f==null||f(D)},O=D=>{const{onClickConnectStart:T,onClickConnectEnd:M,connectionClickStartHandle:z,connectionMode:B,isValidConnection:F,lib:Y,rfId:q,nodeLookup:Q,connection:le}=v.getState();if(!g||!z&&!a)return;if(!z){T==null||T(D.nativeEvent,{nodeId:g,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const J=JO(D.target),X=r||F,{connection:H,isValid:te}=Hy.isValid(D.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:B,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:X,flowId:q,doc:J,lib:Y,nodeLookup:Q});te&&H&&C(H);const Z=structuredClone(le);delete Z.inProgress,Z.toPosition=Z.toHandle?Z.toHandle.position:null,M==null||M(D,Z),v.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${j}-${g}-${p}-${e}`,className:ht(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!x,target:x,connectable:n,connectablestart:a,connectableend:s,clickconnecting:N,connectingfrom:k,connectingto:_,valid:E,connectionindicator:n&&(!P||S)&&(P||I?s:a)}]),onMouseDown:L,onTouchStart:L,onClick:b?O:void 0,ref:m,...h,children:c})}const Jo=y.memo(_A(OV));function AV({data:e,isConnectable:t,sourcePosition:r=de.Bottom}){return o.jsxs(o.Fragment,{children:[e==null?void 0:e.label,o.jsx(Jo,{type:"source",position:r,isConnectable:t})]})}function TV({data:e,isConnectable:t,targetPosition:r=de.Top,sourcePosition:n=de.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(Jo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,o.jsx(Jo,{type:"source",position:n,isConnectable:t})]})}function MV(){return null}function IV({data:e,isConnectable:t,targetPosition:r=de.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(Jo,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Nh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},yN={input:AV,default:TV,output:IV,group:MV};function DV(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const RV=e=>{const{width:t,height:r,x:n,y:a}=Du(e.nodeLookup,{filter:s=>!!s.selected});return{width:xn(t)?t:null,height:xn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function LV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=Ye(),{width:a,height:s,transformString:i,userSelectionActive:l}=je(RV,qe),c=CA(),u=y.useRef(null);if(y.useEffect(()=>{var h;r||(h=u.current)==null||h.focus({preventScroll:!0})},[r]),EA({nodeRef:u}),l||!a||!s)return null;const d=e?h=>{const m=n.getState().nodes.filter(p=>p.selected);e(h,m)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(Nh,h.key)&&(h.preventDefault(),c({direction:Nh[h.key],factor:h.shiftKey?4:1}))};return o.jsx("div",{className:ht(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:o.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:s}})})}const xN=typeof window<"u"?window:void 0,$V=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function OA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:p,panActivationKeyCode:x,zoomActivationKeyCode:v,elementsSelectable:g,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:S,defaultViewport:P,translateExtent:I,minZoom:E,maxZoom:C,preventScrolling:L,onSelectionContextMenu:O,noWheelClassName:R,noPanClassName:A,disableKeyboardA11y:D,onViewportChange:T,isControlledViewport:M}){const{nodesSelectionActive:z,userSelectionActive:B}=je($V,qe),F=Zc(u,{target:xN}),Y=Zc(x,{target:xN}),q=Y||S,Q=Y||j,le=d&&q!==!0,J=F||B||le;return xV({deleteKeyCode:c,multiSelectionKeyCode:p}),o.jsx(wV,{onPaneContextMenu:s,elementsSelectable:g,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:Q,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!F&&q,defaultViewport:P,translateExtent:I,minZoom:E,maxZoom:C,zoomActivationKeyCode:v,preventScrolling:L,noWheelClassName:R,noPanClassName:A,onViewportChange:T,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:le,children:o.jsxs(_V,{onSelectionStart:h,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:q,isSelecting:!!J,selectionMode:f,selectionKeyPressed:F,paneClickDistance:l,selectionOnDrag:le,children:[e,z&&o.jsx(LV,{onSelectionContextMenu:O,noPanClassName:A,disableKeyboardA11y:D})]})})}OA.displayName="FlowRenderer";const zV=y.memo(OA),FV=e=>t=>e?yb(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function BV(e){return je(y.useCallback(FV(e),[e]),qe)}const UV=e=>e.updateNodeInternals;function HV(){const e=je(UV),[t]=y.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const s=a.target.getAttribute("data-id");n.set(s,{id:s,nodeElement:a.target,force:!0})}),e(n)}));return y.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function VV({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=Ye(),s=y.useRef(null),i=y.useRef(null),l=y.useRef(e.sourcePosition),c=y.useRef(e.targetPosition),u=y.useRef(t),d=r&&!!e.internals.handleBounds;return y.useEffect(()=>{s.current&&!e.hidden&&(!d||i.current!==s.current)&&(i.current&&(n==null||n.unobserve(i.current)),n==null||n.observe(s.current),i.current=s.current)},[d,e.hidden]),y.useEffect(()=>()=>{i.current&&(n==null||n.unobserve(i.current),i.current=null)},[]),y.useEffect(()=>{if(s.current){const f=u.current!==t,h=l.current!==e.sourcePosition,m=c.current!==e.targetPosition;(f||h||m)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function WV({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:s,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:m,disableKeyboardA11y:p,rfId:x,nodeTypes:v,nodeClickDistance:g,onError:b}){const{node:w,internals:j,isParent:k}=je(X=>{const H=X.nodeLookup.get(e),te=X.parentLookup.has(e);return{node:H,internals:H.internals,isParent:te}},qe);let _=w.type||"default",N=(v==null?void 0:v[_])||yN[_];N===void 0&&(b==null||b("003",Gn.error003(_)),_="default",N=(v==null?void 0:v.default)||yN.default);const S=!!(w.draggable||l&&typeof w.draggable>"u"),P=!!(w.selectable||c&&typeof w.selectable>"u"),I=!!(w.connectable||u&&typeof w.connectable>"u"),E=!!(w.focusable||d&&typeof w.focusable>"u"),C=Ye(),L=XO(w),O=VV({node:w,nodeType:_,hasDimensions:L,resizeObserver:f}),R=EA({nodeRef:O,disabled:w.hidden||!S,noDragClassName:h,handleSelector:w.dragHandle,nodeId:e,isSelectable:P,nodeClickDistance:g}),A=CA();if(w.hidden)return null;const D=$a(w),T=DV(w),M=P||S||t||r||n||a,z=r?X=>r(X,{...j.userNode}):void 0,B=n?X=>n(X,{...j.userNode}):void 0,F=a?X=>a(X,{...j.userNode}):void 0,Y=s?X=>s(X,{...j.userNode}):void 0,q=i?X=>i(X,{...j.userNode}):void 0,Q=X=>{const{selectNodesOnDrag:H,nodeDragThreshold:te}=C.getState();P&&(!H||!S||te>0)&&Vy({id:e,store:C,nodeRef:O}),t&&t(X,{...j.userNode})},le=X=>{if(!(ZO(X.nativeEvent)||p)){if(BO.includes(X.key)&&P){const H=X.key==="Escape";Vy({id:e,store:C,unselect:H,nodeRef:O})}else if(S&&w.selected&&Object.prototype.hasOwnProperty.call(Nh,X.key)){X.preventDefault();const{ariaLabelConfig:H}=C.getState();C.setState({ariaLiveMessage:H["node.a11yDescription.ariaLiveMessage"]({direction:X.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),A({direction:Nh[X.key],factor:X.shiftKey?4:1})}}},J=()=>{var ce;if(p||!((ce=O.current)!=null&&ce.matches(":focus-visible")))return;const{transform:X,width:H,height:te,autoPanOnNodeFocus:Z,setCenter:K}=C.getState();if(!Z)return;yb(new Map([[e,w]]),{x:0,y:0,width:H,height:te},X,!0).length>0||K(w.position.x+D.width/2,w.position.y+D.height/2,{zoom:X[2]})};return o.jsx("div",{className:ht(["react-flow__node",`react-flow__node-${_}`,{[m]:S},w.className,{selected:w.selected,selectable:P,parent:k,draggable:S,dragging:R}]),ref:O,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:L?"visible":"hidden",...w.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:z,onMouseMove:B,onMouseLeave:F,onContextMenu:Y,onClick:Q,onDoubleClick:q,onKeyDown:E?le:void 0,tabIndex:E?0:void 0,onFocus:E?J:void 0,role:w.ariaRole??(E?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${vA}-${x}`,"aria-label":w.ariaLabel,...w.domAttributes,children:o.jsx(EV,{value:e,children:o.jsx(N,{id:e,data:w.data,type:_,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:w.selected??!1,selectable:P,draggable:S,deletable:w.deletable??!0,isConnectable:I,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:R,dragHandle:w.dragHandle,zIndex:j.z,parentId:w.parentId,...D})})})}var KV=y.memo(WV);const qV=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function AA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:s}=je(qV,qe),i=BV(e.onlyRenderVisibleElements),l=HV();return o.jsx("div",{className:"react-flow__nodes",style:Zm,children:i.map(c=>o.jsx(KV,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}AA.displayName="NodeRenderer";const YV=y.memo(AA);function GV(e){return je(y.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const s=r.nodeLookup.get(a.source),i=r.nodeLookup.get(a.target);s&&i&&rH({sourceNode:s,targetNode:i,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),qe)}const XV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},QV=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},vN={[bh.Arrow]:XV,[bh.ArrowClosed]:QV};function JV(e){const t=Ye();return y.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(vN,e)?vN[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",Gn.error009(e)),null)},[e])}const ZV=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=JV(t);return c?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:o.jsx(c,{color:r,strokeWidth:i})}):null},TA=({defaultColor:e,rfId:t})=>{const r=je(s=>s.edges),n=je(s=>s.defaultEdgeOptions),a=y.useMemo(()=>cH(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:a.map(s=>o.jsx(ZV,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};TA.displayName="MarkerDefinitions";var eW=y.memo(TA);function MA({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:s,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[f,h]=y.useState({x:1,y:0,width:0,height:0}),m=ht(["react-flow__edge-textwrapper",u]),p=y.useRef(null);return y.useEffect(()=>{if(p.current){const x=p.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d,children:[a&&o.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),o.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}MA.displayName="EdgeText";const tW=y.memo(MA);function Zo({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...d,d:e,fill:"none",className:ht(["react-flow__edge-path",d.className])}),u?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&xn(t)&&xn(r)?o.jsx(tW,{x:t,y:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function bN({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===de.Left||e===de.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function IA({sourceX:e,sourceY:t,sourcePosition:r=de.Bottom,targetX:n,targetY:a,targetPosition:s=de.Top}){const[i,l]=bN({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=bN({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,h,m]=tA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${l} ${c},${u} ${n},${a}`,d,f,h,m]}function DA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,interactionWidth:g})=>{const[b,w,j]=IA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l}),k=e.isInternal?void 0:t;return o.jsx(Zo,{id:k,path:b,labelX:w,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,interactionWidth:g})})}const rW=DA({isInternal:!1}),RA=DA({isInternal:!0});rW.displayName="SimpleBezierEdge";RA.displayName="SimpleBezierEdgeInternal";function LA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:m=de.Bottom,targetPosition:p=de.Top,markerEnd:x,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[w,j,k]=kh({sourceX:r,sourceY:n,sourcePosition:m,targetX:a,targetY:s,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),_=e.isInternal?void 0:t;return o.jsx(Zo,{id:_,path:w,labelX:j,labelY:k,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:x,markerStart:v,interactionWidth:b})})}const $A=LA({isInternal:!1}),zA=LA({isInternal:!0});$A.displayName="SmoothStepEdge";zA.displayName="SmoothStepEdgeInternal";function FA(e){return y.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return o.jsx($A,{...r,id:n,pathOptions:y.useMemo(()=>{var s;return{borderRadius:0,offset:(s=r.pathOptions)==null?void 0:s.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const nW=FA({isInternal:!1}),BA=FA({isInternal:!0});nW.displayName="StepEdge";BA.displayName="StepEdgeInternal";function UA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:x})=>{const[v,g,b]=sA({sourceX:r,sourceY:n,targetX:a,targetY:s}),w=e.isInternal?void 0:t;return o.jsx(Zo,{id:w,path:v,labelX:g,labelY:b,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:p,interactionWidth:x})})}const aW=UA({isInternal:!1}),HA=UA({isInternal:!0});aW.displayName="StraightEdge";HA.displayName="StraightEdgeInternal";function VA(e){return y.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i=de.Bottom,targetPosition:l=de.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,pathOptions:g,interactionWidth:b})=>{const[w,j,k]=rA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l,curvature:g==null?void 0:g.curvature}),_=e.isInternal?void 0:t;return o.jsx(Zo,{id:_,path:w,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:m,style:p,markerEnd:x,markerStart:v,interactionWidth:b})})}const sW=VA({isInternal:!1}),WA=VA({isInternal:!0});sW.displayName="BezierEdge";WA.displayName="BezierEdgeInternal";const wN={default:WA,straight:HA,step:BA,smoothstep:zA,simplebezier:RA},jN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},iW=(e,t,r)=>r===de.Left?e-t:r===de.Right?e+t:e,oW=(e,t,r)=>r===de.Top?e-t:r===de.Bottom?e+t:e,kN="react-flow__edgeupdater";function NN({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:l}){return o.jsx("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:ht([kN,`${kN}-${l}`]),cx:iW(t,n,e),cy:oW(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function lW({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:s,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:m}){const p=Ye(),x=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:S,connectionMode:P,connectionRadius:I,lib:E,onConnectStart:C,onConnectEnd:L,cancelConnection:O,nodeLookup:R,rfId:A,panBy:D,updateConnection:T}=p.getState(),M=k.type==="target",z=(Y,q)=>{h(!1),f==null||f(Y,r,k.type,q)},B=Y=>u==null?void 0:u(r,Y),F=(Y,q)=>{h(!0),d==null||d(j,r,k.type),C==null||C(Y,q)};Hy.onPointerDown(j.nativeEvent,{autoPanOnConnect:_,connectionMode:P,connectionRadius:I,domNode:N,handleId:k.id,nodeId:k.nodeId,nodeLookup:R,isTarget:M,edgeUpdaterType:k.type,lib:E,flowId:A,cancelConnection:O,panBy:D,isValidConnection:S,onConnect:B,onConnectStart:F,onConnectEnd:L,onReconnectEnd:z,updateConnection:T,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},v=j=>x(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),g=j=>x(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),b=()=>m(!0),w=()=>m(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(NN,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:v,onMouseEnter:b,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&o.jsx(NN,{position:c,centerX:s,centerY:i,radius:t,onMouseDown:g,onMouseEnter:b,onMouseOut:w,type:"target"})]})}function cW({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,rfId:p,edgeTypes:x,noPanClassName:v,onError:g,disableKeyboardA11y:b}){let w=je(K=>K.edgeLookup.get(e));const j=je(K=>K.defaultEdgeOptions);w=j?{...j,...w}:w;let k=w.type||"default",_=(x==null?void 0:x[k])||wN[k];_===void 0&&(g==null||g("011",Gn.error011(k)),k="default",_=(x==null?void 0:x.default)||wN.default);const N=!!(w.focusable||t&&typeof w.focusable>"u"),S=typeof f<"u"&&(w.reconnectable||r&&typeof w.reconnectable>"u"),P=!!(w.selectable||n&&typeof w.selectable>"u"),I=y.useRef(null),[E,C]=y.useState(!1),[L,O]=y.useState(!1),R=Ye(),{zIndex:A,sourceX:D,sourceY:T,targetX:M,targetY:z,sourcePosition:B,targetPosition:F}=je(y.useCallback(K=>{const re=K.nodeLookup.get(w.source),ce=K.nodeLookup.get(w.target);if(!re||!ce)return{zIndex:w.zIndex,...jN};const ge=lH({id:e,sourceNode:re,targetNode:ce,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:K.connectionMode,onError:g});return{zIndex:tH({selected:w.selected,zIndex:w.zIndex,sourceNode:re,targetNode:ce,elevateOnSelect:K.elevateEdgesOnSelect,zIndexMode:K.zIndexMode}),...ge||jN}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),qe),Y=y.useMemo(()=>w.markerStart?`url('#${By(w.markerStart,p)}')`:void 0,[w.markerStart,p]),q=y.useMemo(()=>w.markerEnd?`url('#${By(w.markerEnd,p)}')`:void 0,[w.markerEnd,p]);if(w.hidden||D===null||T===null||M===null||z===null)return null;const Q=K=>{var pe;const{addSelectedEdges:re,unselectNodesAndEdges:ce,multiSelectionActive:ge}=R.getState();P&&(R.setState({nodesSelectionActive:!1}),w.selected&&ge?(ce({nodes:[],edges:[w]}),(pe=I.current)==null||pe.blur()):re([e])),a&&a(K,w)},le=s?K=>{s(K,{...w})}:void 0,J=i?K=>{i(K,{...w})}:void 0,X=l?K=>{l(K,{...w})}:void 0,H=c?K=>{c(K,{...w})}:void 0,te=u?K=>{u(K,{...w})}:void 0,Z=K=>{var re;if(!b&&BO.includes(K.key)&&P){const{unselectNodesAndEdges:ce,addSelectedEdges:ge}=R.getState();K.key==="Escape"?((re=I.current)==null||re.blur(),ce({edges:[w]})):ge([e])}};return o.jsx("svg",{style:{zIndex:A},children:o.jsxs("g",{className:ht(["react-flow__edge",`react-flow__edge-${k}`,w.className,v,{selected:w.selected,animated:w.animated,inactive:!P&&!a,updating:E,selectable:P}]),onClick:Q,onDoubleClick:le,onContextMenu:J,onMouseEnter:X,onMouseMove:H,onMouseLeave:te,onKeyDown:N?Z:void 0,tabIndex:N?0:void 0,role:w.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":N?`${bA}-${p}`:void 0,ref:I,...w.domAttributes,children:[!L&&o.jsx(_,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:P,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:D,sourceY:T,targetX:M,targetY:z,sourcePosition:B,targetPosition:F,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:Y,markerEnd:q,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),S&&o.jsx(lW,{edge:w,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:m,sourceX:D,sourceY:T,targetX:M,targetY:z,sourcePosition:B,targetPosition:F,setUpdateHover:C,setReconnecting:O})]})})}var uW=y.memo(cW);const dW=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function KA({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,disableKeyboardA11y:x}){const{edgesFocusable:v,edgesReconnectable:g,elementsSelectable:b,onError:w}=je(dW,qe),j=GV(t);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(eW,{defaultColor:e,rfId:r}),j.map(k=>o.jsx(uW,{id:k,edgesFocusable:v,edgesReconnectable:g,elementsSelectable:b,noPanClassName:a,onReconnect:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:m,onReconnectEnd:p,rfId:r,onError:w,edgeTypes:n,disableKeyboardA11y:x},k))]})}KA.displayName="EdgeRenderer";const fW=y.memo(KA),hW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function mW({children:e}){const t=je(hW);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function pW(e){const t=xl(),r=y.useRef(!1);y.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const gW=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function yW(e){const t=je(gW),r=Ye();return y.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function xW(e){return e.connection.inProgress?{...e.connection,to:Lu(e.connection.to,e.transform)}:{...e.connection}}function vW(e){return xW}function bW(e){const t=vW();return je(t,qe)}const wW=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function jW({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:s,height:i,isValid:l,inProgress:c}=je(wW,qe);return!(s&&a&&c)?null:o.jsx("svg",{style:e,width:s,height:i,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:ht(["react-flow__connection",VO(l)]),children:o.jsx(qA,{style:t,type:r,CustomComponent:n,isValid:l})})})}const qA=({style:e,type:t=ts.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:s,fromNode:i,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:h,pointer:m}=bW();if(!a)return;if(r)return o.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:h,connectionStatus:VO(n),toNode:d,toHandle:f,pointer:m});let p="";const x={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case ts.Bezier:[p]=rA(x);break;case ts.SimpleBezier:[p]=IA(x);break;case ts.Step:[p]=kh({...x,borderRadius:0});break;case ts.SmoothStep:[p]=kh(x);break;default:[p]=sA(x)}return o.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};qA.displayName="ConnectionLine";const kW={};function _N(e=kW){y.useRef(e),Ye(),y.useEffect(()=>{},[e])}function NW(){Ye(),y.useRef(!1),y.useEffect(()=>{},[])}function YA({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:s,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:m,connectionLineType:p,connectionLineStyle:x,connectionLineComponent:v,connectionLineContainerStyle:g,selectionKeyCode:b,selectionOnDrag:w,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:S,onlyRenderVisibleElements:P,elementsSelectable:I,defaultViewport:E,translateExtent:C,minZoom:L,maxZoom:O,preventScrolling:R,defaultMarkerColor:A,zoomOnScroll:D,zoomOnPinch:T,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:B,zoomOnDoubleClick:F,panOnDrag:Y,onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:le,onPaneMouseLeave:J,onPaneScroll:X,onPaneContextMenu:H,paneClickDistance:te,nodeClickDistance:Z,onEdgeContextMenu:K,onEdgeMouseEnter:re,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,onReconnect:Ie,onReconnectStart:U,onReconnectEnd:ne,noDragClassName:me,noWheelClassName:fe,noPanClassName:_e,disableKeyboardA11y:Se,nodeExtent:kr,rfId:Nr,viewport:ir,onViewportChange:or}){return _N(e),_N(t),NW(),pW(r),yW(ir),o.jsx(zV,{onPaneClick:q,onPaneMouseEnter:Q,onPaneMouseMove:le,onPaneMouseLeave:J,onPaneContextMenu:H,onPaneScroll:X,paneClickDistance:te,deleteKeyCode:S,selectionKeyCode:b,selectionOnDrag:w,selectionMode:j,onSelectionStart:h,onSelectionEnd:m,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:I,zoomOnScroll:D,zoomOnPinch:T,zoomOnDoubleClick:F,panOnScroll:M,panOnScrollSpeed:z,panOnScrollMode:B,panOnDrag:Y,defaultViewport:E,translateExtent:C,minZoom:L,maxZoom:O,onSelectionContextMenu:f,preventScrolling:R,noDragClassName:me,noWheelClassName:fe,noPanClassName:_e,disableKeyboardA11y:Se,onViewportChange:or,isControlledViewport:!!ir,children:o.jsxs(mW,{children:[o.jsx(fW,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Ie,onReconnectStart:U,onReconnectEnd:ne,onlyRenderVisibleElements:P,onEdgeContextMenu:K,onEdgeMouseEnter:re,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,defaultMarkerColor:A,noPanClassName:_e,disableKeyboardA11y:Se,rfId:Nr}),o.jsx(jW,{style:x,type:p,component:v,containerStyle:g}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(YV,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:Z,onlyRenderVisibleElements:P,noPanClassName:_e,noDragClassName:me,disableKeyboardA11y:Se,nodeExtent:kr,rfId:Nr}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}YA.displayName="GraphView";const _W=y.memo(YA),SN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const m=new Map,p=new Map,x=new Map,v=new Map,g=n??t??[],b=r??e??[],w=d??[0,0],j=f??Gc;lA(x,v,g);const k=Uy(b,m,p,{nodeOrigin:w,nodeExtent:j,zIndexMode:h});let _=[0,0,1];if(i&&a&&s){const N=Du(m,{filter:E=>!!((E.width||E.initialWidth)&&(E.height||E.initialHeight))}),{x:S,y:P,zoom:I}=xb(N,a,s,c,u,(l==null?void 0:l.padding)??.1);_=[S,P,I]}return{rfId:"1",width:a??0,height:s??0,transform:_,nodes:b,nodesInitialized:k,nodeLookup:m,parentLookup:p,edges:g,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:Gc,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:qo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...HO},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:GU,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:UO,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},SW=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>VH((m,p)=>{async function x(){const{nodeLookup:v,panZoom:g,fitViewOptions:b,fitViewResolver:w,width:j,height:k,minZoom:_,maxZoom:N}=p();g&&(await qU({nodes:v,width:j,height:k,panZoom:g,minZoom:_,maxZoom:N},b),w==null||w.resolve(!0),m({fitViewResolver:null}))}return{...SN({nodes:e,edges:t,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:h}),setNodes:v=>{const{nodeLookup:g,parentLookup:b,nodeOrigin:w,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:_}=p(),N=Uy(v,g,b,{nodeOrigin:w,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:_});k&&N?(x(),m({nodes:v,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:v,nodesInitialized:N})},setEdges:v=>{const{connectionLookup:g,edgeLookup:b}=p();lA(g,b,v),m({edges:v})},setDefaultNodesAndEdges:(v,g)=>{if(v){const{setNodes:b}=p();b(v),m({hasDefaultNodes:!0})}if(g){const{setEdges:b}=p();b(g),m({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:g,nodeLookup:b,parentLookup:w,domNode:j,nodeOrigin:k,nodeExtent:_,debug:N,fitViewQueued:S,zIndexMode:P}=p(),{changes:I,updatedInternals:E}=gH(v,b,w,j,k,_,P);E&&(fH(b,w,{nodeOrigin:k,nodeExtent:_,zIndexMode:P}),S?(x(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(I==null?void 0:I.length)>0&&(N&&console.log("React Flow: trigger node changes",I),g==null||g(I)))},updateNodePositions:(v,g=!1)=>{const b=[];let w=[];const{nodeLookup:j,triggerNodeChanges:k,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:S}=p();for(const[P,I]of v){const E=j.get(P),C=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(I!=null&&I.position)),L={id:P,type:"position",position:C?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:g};if(E&&_.inProgress&&_.fromNode.id===E.id){const O=Ai(E,_.fromHandle,de.Left,!0);N({..._,from:O})}C&&E.parentId&&b.push({id:P,parentId:E.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width??0,height:I.measured.height??0}}),w.push(L)}if(b.length>0){const{parentLookup:P,nodeOrigin:I}=p(),E=Nb(b,j,P,I);w.push(...E)}for(const P of S.values())w=P(w);k(w)},triggerNodeChanges:v=>{const{onNodesChange:g,setNodes:b,nodes:w,hasDefaultNodes:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=kA(v,w);b(_)}k&&console.log("React Flow: trigger node changes",v),g==null||g(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:g,setEdges:b,edges:w,hasDefaultEdges:j,debug:k}=p();if(v!=null&&v.length){if(j){const _=NA(v,w);b(_)}k&&console.log("React Flow: trigger edge changes",v),g==null||g(v)}},addSelectedNodes:v=>{const{multiSelectionActive:g,edgeLookup:b,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>Ws(N,!0));j(_);return}j(fo(w,new Set([...v]),!0)),k(fo(b))},addSelectedEdges:v=>{const{multiSelectionActive:g,edgeLookup:b,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(g){const _=v.map(N=>Ws(N,!0));k(_);return}k(fo(b,new Set([...v]))),j(fo(w,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:g}={})=>{const{edges:b,nodes:w,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:_}=p(),N=v||w,S=g||b,P=N.map(E=>{const C=j.get(E.id);return C&&(C.selected=!1),Ws(E.id,!1)}),I=S.map(E=>Ws(E.id,!1));k(P),_(I)},setMinZoom:v=>{const{panZoom:g,maxZoom:b}=p();g==null||g.setScaleExtent([v,b]),m({minZoom:v})},setMaxZoom:v=>{const{panZoom:g,minZoom:b}=p();g==null||g.setScaleExtent([b,v]),m({maxZoom:v})},setTranslateExtent:v=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(v),m({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:g,triggerNodeChanges:b,triggerEdgeChanges:w,elementsSelectable:j}=p();if(!j)return;const k=g.reduce((N,S)=>S.selected?[...N,Ws(S.id,!1)]:N,[]),_=v.reduce((N,S)=>S.selected?[...N,Ws(S.id,!1)]:N,[]);b(k),w(_)},setNodeExtent:v=>{const{nodes:g,nodeLookup:b,parentLookup:w,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:N}=p();v[0][0]===_[0][0]&&v[0][1]===_[0][1]&&v[1][0]===_[1][0]&&v[1][1]===_[1][1]||(Uy(g,b,w,{nodeOrigin:j,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:N}),m({nodeExtent:v}))},panBy:v=>{const{transform:g,width:b,height:w,panZoom:j,translateExtent:k}=p();return yH({delta:v,panZoom:j,transform:g,translateExtent:k,width:b,height:w})},setCenter:async(v,g,b)=>{const{width:w,height:j,maxZoom:k,panZoom:_}=p();if(!_)return Promise.resolve(!1);const N=typeof(b==null?void 0:b.zoom)<"u"?b.zoom:k;return await _.setViewport({x:w/2-v*N,y:j/2-g*N,zoom:N},{duration:b==null?void 0:b.duration,ease:b==null?void 0:b.ease,interpolate:b==null?void 0:b.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...HO}})},updateConnection:v=>{m({connection:v})},reset:()=>m({...SN()})}},Object.is);function GA({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:s,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:m}){const[p]=y.useState(()=>SW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:u,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return o.jsx(WH,{value:p,children:o.jsx(mV,{children:m})})}function EW({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:s,height:i,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m}){return y.useContext(Qm)?o.jsx(o.Fragment,{children:e}):o.jsx(GA,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:s,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:m,children:e})}const CW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function PW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:g,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:P,onNodesDelete:I,onEdgesDelete:E,onDelete:C,onSelectionChange:L,onSelectionDragStart:O,onSelectionDrag:R,onSelectionDragStop:A,onSelectionContextMenu:D,onSelectionStart:T,onSelectionEnd:M,onBeforeDelete:z,connectionMode:B,connectionLineType:F=ts.Bezier,connectionLineStyle:Y,connectionLineComponent:q,connectionLineContainerStyle:Q,deleteKeyCode:le="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:X=!1,selectionMode:H=Xc.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:Z=Jc()?"Meta":"Control",zoomActivationKeyCode:K=Jc()?"Meta":"Control",snapToGrid:re,snapGrid:ce,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:pe,nodesDraggable:Ie,autoPanOnNodeFocus:U,nodesConnectable:ne,nodesFocusable:me,nodeOrigin:fe=wA,edgesFocusable:_e,edgesReconnectable:Se,elementsSelectable:kr=!0,defaultViewport:Nr=aV,minZoom:ir=.5,maxZoom:or=2,translateExtent:Ha=Gc,preventScrolling:_r=!0,nodeExtent:Bs,defaultMarkerColor:_3="#b1b1b7",zoomOnScroll:S3=!0,zoomOnPinch:E3=!0,panOnScroll:C3=!1,panOnScrollSpeed:P3=.5,panOnScrollMode:O3=yi.Free,zoomOnDoubleClick:A3=!0,panOnDrag:T3=!0,onPaneClick:M3,onPaneMouseEnter:I3,onPaneMouseMove:D3,onPaneMouseLeave:R3,onPaneScroll:L3,onPaneContextMenu:$3,paneClickDistance:z3=1,nodeClickDistance:F3=0,children:B3,onReconnect:U3,onReconnectStart:H3,onReconnectEnd:V3,onEdgeContextMenu:W3,onEdgeDoubleClick:K3,onEdgeMouseEnter:q3,onEdgeMouseMove:Y3,onEdgeMouseLeave:G3,reconnectRadius:X3=10,onNodesChange:Q3,onEdgesChange:J3,noDragClassName:Z3="nodrag",noWheelClassName:e5="nowheel",noPanClassName:_1="nopan",fitView:S1,fitViewOptions:E1,connectOnClick:t5,attributionPosition:r5,proOptions:n5,defaultEdgeOptions:a5,elevateNodesOnSelect:s5=!0,elevateEdgesOnSelect:i5=!1,disableKeyboardA11y:C1=!1,autoPanOnConnect:o5,autoPanOnNodeDrag:l5,autoPanSpeed:c5,connectionRadius:u5,isValidConnection:d5,onError:f5,style:h5,id:P1,nodeDragThreshold:m5,connectionDragThreshold:p5,viewport:g5,onViewportChange:y5,width:x5,height:v5,colorMode:b5="light",debug:w5,onScroll:hd,ariaLabelConfig:j5,zIndexMode:O1="basic",...k5},N5){const eg=P1||"1",_5=lV(b5),S5=y.useCallback(A1=>{A1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),hd==null||hd(A1)},[hd]);return o.jsx("div",{"data-testid":"rf__wrapper",...k5,onScroll:S5,style:{...h5,...CW},ref:N5,className:ht(["react-flow",a,_5]),id:P1,role:"application",children:o.jsxs(EW,{nodes:e,edges:t,width:x5,height:v5,fitView:S1,fitViewOptions:E1,minZoom:ir,maxZoom:or,nodeOrigin:fe,nodeExtent:Bs,zIndexMode:O1,children:[o.jsx(_W,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:s,edgeTypes:i,connectionLineType:F,connectionLineStyle:Y,connectionLineComponent:q,connectionLineContainerStyle:Q,selectionKeyCode:J,selectionOnDrag:X,selectionMode:H,deleteKeyCode:le,multiSelectionKeyCode:Z,panActivationKeyCode:te,zoomActivationKeyCode:K,onlyRenderVisibleElements:ge,defaultViewport:Nr,translateExtent:Ha,minZoom:ir,maxZoom:or,preventScrolling:_r,zoomOnScroll:S3,zoomOnPinch:E3,zoomOnDoubleClick:A3,panOnScroll:C3,panOnScrollSpeed:P3,panOnScrollMode:O3,panOnDrag:T3,onPaneClick:M3,onPaneMouseEnter:I3,onPaneMouseMove:D3,onPaneMouseLeave:R3,onPaneScroll:L3,onPaneContextMenu:$3,paneClickDistance:z3,nodeClickDistance:F3,onSelectionContextMenu:D,onSelectionStart:T,onSelectionEnd:M,onReconnect:U3,onReconnectStart:H3,onReconnectEnd:V3,onEdgeContextMenu:W3,onEdgeDoubleClick:K3,onEdgeMouseEnter:q3,onEdgeMouseMove:Y3,onEdgeMouseLeave:G3,reconnectRadius:X3,defaultMarkerColor:_3,noDragClassName:Z3,noWheelClassName:e5,noPanClassName:_1,rfId:eg,disableKeyboardA11y:C1,nodeExtent:Bs,viewport:g5,onViewportChange:y5}),o.jsx(oV,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:m,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:g,nodesDraggable:Ie,autoPanOnNodeFocus:U,nodesConnectable:ne,nodesFocusable:me,edgesFocusable:_e,edgesReconnectable:Se,elementsSelectable:kr,elevateNodesOnSelect:s5,elevateEdgesOnSelect:i5,minZoom:ir,maxZoom:or,nodeExtent:Bs,onNodesChange:Q3,onEdgesChange:J3,snapToGrid:re,snapGrid:ce,connectionMode:B,translateExtent:Ha,connectOnClick:t5,defaultEdgeOptions:a5,fitView:S1,fitViewOptions:E1,onNodesDelete:I,onEdgesDelete:E,onDelete:C,onNodeDragStart:N,onNodeDrag:S,onNodeDragStop:P,onSelectionDrag:R,onSelectionDragStart:O,onSelectionDragStop:A,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:_1,nodeOrigin:fe,rfId:eg,autoPanOnConnect:o5,autoPanOnNodeDrag:l5,autoPanSpeed:c5,onError:f5,connectionRadius:u5,isValidConnection:d5,selectNodesOnDrag:pe,nodeDragThreshold:m5,connectionDragThreshold:p5,onBeforeDelete:z,debug:w5,ariaLabelConfig:j5,zIndexMode:O1}),o.jsx(nV,{onSelectionChange:L}),B3,o.jsx(JH,{proOptions:n5,position:r5}),o.jsx(QH,{rfId:eg,disableKeyboardA11y:C1})]})})}var OW=_A(PW);const AW=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function TW({children:e}){const t=je(AW);return t?ju.createPortal(e,t):null}function MW({dimensions:e,lineWidth:t,variant:r,className:n}){return o.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ht(["react-flow__background-pattern",r,n])})}function IW({radius:e,className:t}){return o.jsx("circle",{cx:e,cy:e,r:e,className:ht(["react-flow__background-pattern","dots",t])})}var ks;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ks||(ks={}));const DW={[ks.Dots]:1,[ks.Lines]:1,[ks.Cross]:6},RW=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function XA({id:e,variant:t=ks.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=0,color:i,bgColor:l,style:c,className:u,patternClassName:d}){const f=y.useRef(null),{transform:h,patternId:m}=je(RW,qe),p=n||DW[t],x=t===ks.Dots,v=t===ks.Cross,g=Array.isArray(r)?r:[r,r],b=[g[0]*h[2]||1,g[1]*h[2]||1],w=p*h[2],j=Array.isArray(s)?s:[s,s],k=v?[w,w]:b,_=[j[0]*h[2]||1+k[0]/2,j[1]*h[2]||1+k[1]/2],N=`${m}${e||""}`;return o.jsxs("svg",{className:ht(["react-flow__background",u]),style:{...c,...Zm,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[o.jsx("pattern",{id:N,x:h[0]%b[0],y:h[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:x?o.jsx(IW,{radius:w/2,className:d}):o.jsx(MW,{dimensions:k,lineWidth:a,variant:t,className:d})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}XA.displayName="Background";const LW=y.memo(XA);function $W(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function zW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function FW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function BW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function UW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Wd({children:e,className:t,...r}){return o.jsx("button",{type:"button",className:ht(["react-flow__controls-button",t]),...r,children:e})}const HW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function QA({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":m}){const p=Ye(),{isInteractive:x,minZoomReached:v,maxZoomReached:g,ariaLabelConfig:b}=je(HW,qe),{zoomIn:w,zoomOut:j,fitView:k}=xl(),_=()=>{w(),s==null||s()},N=()=>{j(),i==null||i()},S=()=>{k(a),l==null||l()},P=()=>{p.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)},I=h==="horizontal"?"horizontal":"vertical";return o.jsxs(Jm,{className:ht(["react-flow__controls",I,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??b["controls.ariaLabel"],children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Wd,{onClick:_,className:"react-flow__controls-zoomin",title:b["controls.zoomIn.ariaLabel"],"aria-label":b["controls.zoomIn.ariaLabel"],disabled:g,children:o.jsx($W,{})}),o.jsx(Wd,{onClick:N,className:"react-flow__controls-zoomout",title:b["controls.zoomOut.ariaLabel"],"aria-label":b["controls.zoomOut.ariaLabel"],disabled:v,children:o.jsx(zW,{})})]}),r&&o.jsx(Wd,{className:"react-flow__controls-fitview",onClick:S,title:b["controls.fitView.ariaLabel"],"aria-label":b["controls.fitView.ariaLabel"],children:o.jsx(FW,{})}),n&&o.jsx(Wd,{className:"react-flow__controls-interactive",onClick:P,title:b["controls.interactive.ariaLabel"],"aria-label":b["controls.interactive.ariaLabel"],children:x?o.jsx(UW,{}):o.jsx(BW,{})}),d]})}QA.displayName="Controls";const VW=y.memo(QA);function WW({id:e,x:t,y:r,width:n,height:a,style:s,color:i,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:h,onClick:m}){const{background:p,backgroundColor:x}=s||{},v=i||p||x;return o.jsx("rect",{className:ht(["react-flow__minimap-node",{selected:h},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:v,stroke:l,strokeWidth:c},shapeRendering:f,onClick:m?g=>m(g,e):void 0})}const KW=y.memo(WW),qW=e=>e.nodes.map(t=>t.id),Hg=e=>e instanceof Function?e:()=>e;function YW({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:s=KW,onClick:i}){const l=je(qW,qe),c=Hg(t),u=Hg(e),d=Hg(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:l.map(h=>o.jsx(XW,{id:h,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:s,onClick:i,shapeRendering:f},h))})}function GW({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:s,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:h,height:m}=je(p=>{const{internals:x}=p.nodeLookup.get(e),v=x.userNode,{x:g,y:b}=x.positionAbsolute,{width:w,height:j}=$a(v);return{node:v,x:g,y:b,width:w,height:j}},qe);return!u||u.hidden||!XO(u)?null:o.jsx(l,{x:d,y:f,width:h,height:m,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:s,shapeRendering:i,onClick:c,id:u.id})}const XW=y.memo(GW);var QW=y.memo(YW);const JW=200,ZW=150,eK=e=>!e.hidden,tK=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?GO(Du(e.nodeLookup,{filter:eK}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},rK="react-flow__minimap-desc";function JA({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:s=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:m,onNodeClick:p,pannable:x=!1,zoomable:v=!1,ariaLabel:g,inversePan:b,zoomStep:w=1,offsetScale:j=5}){const k=Ye(),_=y.useRef(null),{boundingRect:N,viewBB:S,rfId:P,panZoom:I,translateExtent:E,flowWidth:C,flowHeight:L,ariaLabelConfig:O}=je(tK,qe),R=(e==null?void 0:e.width)??JW,A=(e==null?void 0:e.height)??ZW,D=N.width/R,T=N.height/A,M=Math.max(D,T),z=M*R,B=M*A,F=j*M,Y=N.x-(z-N.width)/2-F,q=N.y-(B-N.height)/2-F,Q=z+F*2,le=B+F*2,J=`${rK}-${P}`,X=y.useRef(0),H=y.useRef();X.current=M,y.useEffect(()=>{if(_.current&&I)return H.current=SH({domNode:_.current,panZoom:I,getTransform:()=>k.getState().transform,getViewScale:()=>X.current}),()=>{var re;(re=H.current)==null||re.destroy()}},[I]),y.useEffect(()=>{var re;(re=H.current)==null||re.update({translateExtent:E,width:C,height:L,inversePan:b,pannable:x,zoomStep:w,zoomable:v})},[x,v,b,w,E,C,L]);const te=m?re=>{var pe;const[ce,ge]=((pe=H.current)==null?void 0:pe.pointer(re))||[0,0];m(re,{x:ce,y:ge})}:void 0,Z=p?y.useCallback((re,ce)=>{const ge=k.getState().nodeLookup.get(ce).internals.userNode;p(re,ge)},[]):void 0,K=g??O["minimap.ariaLabel"];return o.jsx(Jm,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:ht(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:R,height:A,viewBox:`${Y} ${q} ${Q} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":J,ref:_,onClick:te,children:[K&&o.jsx("title",{id:J,children:K}),o.jsx(QW,{onClick:Z,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-F},${q-F}h${Q+F*2}v${le+F*2}h${-Q-F*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}JA.displayName="MiniMap";y.memo(JA);const nK=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,aK={[Qo.Line]:"right",[Qo.Handle]:"bottom-right"};function sK({nodeId:e,position:t,variant:r=Qo.Handle,className:n,style:a=void 0,children:s,color:i,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:m=!0,shouldResize:p,onResizeStart:x,onResize:v,onResizeEnd:g}){const b=PA(),w=typeof e=="string"?e:b,j=Ye(),k=y.useRef(null),_=r===Qo.Handle,N=je(y.useCallback(nK(_&&m),[_,m]),qe),S=y.useRef(null),P=t??aK[r];y.useEffect(()=>{if(!(!k.current||!w))return S.current||(S.current=FH({domNode:k.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:E,transform:C,snapGrid:L,snapToGrid:O,nodeOrigin:R,domNode:A}=j.getState();return{nodeLookup:E,transform:C,snapGrid:L,snapToGrid:O,nodeOrigin:R,paneDomNode:A}},onChange:(E,C)=>{const{triggerNodeChanges:L,nodeLookup:O,parentLookup:R,nodeOrigin:A}=j.getState(),D=[],T={x:E.x,y:E.y},M=O.get(w);if(M&&M.expandParent&&M.parentId){const z=M.origin??A,B=E.width??M.measured.width??0,F=E.height??M.measured.height??0,Y={id:M.id,parentId:M.parentId,rect:{width:B,height:F,...QO({x:E.x??M.position.x,y:E.y??M.position.y},{width:B,height:F},M.parentId,O,z)}},q=Nb([Y],O,R,A);D.push(...q),T.x=E.x?Math.max(z[0]*B,E.x):void 0,T.y=E.y?Math.max(z[1]*F,E.y):void 0}if(T.x!==void 0&&T.y!==void 0){const z={id:w,type:"position",position:{...T}};D.push(z)}if(E.width!==void 0&&E.height!==void 0){const B={id:w,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:E.width,height:E.height}};D.push(B)}for(const z of C){const B={...z,type:"position"};D.push(B)}L(D)},onEnd:({width:E,height:C})=>{const L={id:w,type:"dimensions",resizing:!1,dimensions:{width:E,height:C}};j.getState().triggerNodeChanges([L])}})),S.current.update({controlPosition:P,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:x,onResize:v,onResizeEnd:g,shouldResize:p}),()=>{var E;(E=S.current)==null||E.destroy()}},[P,l,c,u,d,f,x,v,g,p]);const I=P.split("-");return o.jsx("div",{className:ht(["react-flow__resize-control","nodrag",...I,r,n]),ref:k,style:{...a,scale:N,...i&&{[_?"backgroundColor":"borderColor"]:i}},children:s})}y.memo(sK);const xe=ob((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:kA(r,t().nodes)})},onEdgesChange:r=>{e({edges:NA(r,t().edges)})},onConnect:r=>{e({edges:aA(r,t().edges)})},addNode:(r,n,a={})=>{const s=Ee.get(r);if(!s)return console.error(`Node type ${r} not found in registry`),"";const i=`${r}-${Date.now()}`,l={id:i,type:"custom",position:n,data:{definitionType:r,catalogType:r,...s.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),i},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const s=Ee.get(a.data.definitionType);if(s){const i=s.validate(a.data);if(!i.isValid)return console.warn(`Node ${a.id} validation failed: ${i.message}`),!1}}for(const a of r){const s=Ee.get(a.data.definitionType);if(s&&s.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${s.label}) is disconnected.`),!1}return!0}})),vl=ob(e=>({activeView:"canvas",setView:t=>e({activeView:t}),isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t}),isPropertiesPanelExpanded:!1,setPropertiesPanelExpanded:t=>e({isPropertiesPanelExpanded:t}),isResultsPanelExpanded:!0,setResultsPanelExpanded:t=>e({isResultsPanelExpanded:t})})),iK=()=>{const e=Ee.getAll(),t=xe(u=>u.addNode),{isSidebarOpen:r,setSidebarOpen:n}=vl(),[a,s]=y.useState(""),i=(u,d)=>{u.dataTransfer.setData("application/reactflow",d),u.dataTransfer.effectAllowed="move"};if(!r)return o.jsx("div",{className:"absolute left-4 top-4 z-50",children:o.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-background border shadow-md rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Expand Components",children:o.jsx(FF,{className:"w-5 h-5"})})});const l=e.filter(u=>u.label.toLowerCase().includes(a.toLowerCase())||u.category.toLowerCase().includes(a.toLowerCase())),c=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return o.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10 transition-all duration-300",children:[o.jsxs("div",{className:"p-4 border-b space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),o.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Collapse Sidebar",children:o.jsx(zF,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Ui,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:a,onChange:u=>s(u.target.value)})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:c.map(u=>{const d=l.filter(f=>f.category===u);return d.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:u}),o.jsx("div",{className:"space-y-2",children:d.map(f=>o.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:h=>i(h,f.type),onClick:()=>t(f.type,{x:100,y:100}),children:[o.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:f.icon&&o.jsx(f.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium truncate",children:f.label}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:f.description})]})]},f.type))})]},u)})})]})};function oK(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:lK}=Or;function cK(e){const t=lK();return r=>{const n=e(r);return oK(t.current,n)?t.current:t.current=n}}const uK=y.memo(({id:e,data:t,selected:r})=>{const n=t.definitionType,a=Ee.get(n),{deleteElements:s}=xl(),i=xe(u=>u.executionResult),l=i==null?void 0:i.node_results[e],c=u=>{u.stopPropagation(),s({nodes:[{id:e}]})};return a?o.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[o.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&o.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&o.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?o.jsx(bF,{size:10}):o.jsx(Jv,{size:10})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),o.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:o.jsx(er,{size:14})})]}),o.jsx("div",{className:"p-3",children:a.component?o.jsx(a.component,{data:t}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((u,d)=>o.jsx(Jo,{type:"target",position:de.Left,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.inputs.length+1)}%`},children:o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`input-${u.id}`)),a.outputs.map((u,d)=>o.jsx(Jo,{type:"source",position:de.Right,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(a.outputs.length+1)}%`},children:o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`output-${u.id}`))]}):o.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[o.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Sn,{size:16}),o.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),o.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),dK=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:s,targetPosition:i,style:l={},markerEnd:c})=>{const{deleteElements:u}=xl(),[d,f,h]=kh({sourceX:t,sourceY:r,sourcePosition:s,targetX:n,targetY:a,targetPosition:i,borderRadius:24}),m=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return o.jsxs(o.Fragment,{children:[o.jsx(Zo,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),o.jsx(Zo,{path:d,markerEnd:c,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),o.jsx(TW,{children:o.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:o.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:m,title:"Remove Connection",children:o.jsx(er,{size:10})})})})]})},fK={custom:uK},hK={custom:dK},mK=()=>{const e=y.useRef(null),{screenToFlowPosition:t}=xl(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,addNode:l,executionResult:c}=xe(cK(h=>({nodes:h.nodes,edges:h.edges,onNodesChange:h.onNodesChange,onEdgesChange:h.onEdgesChange,onConnect:h.onConnect,addNode:h.addNode,executionResult:h.executionResult}))),{isResultsPanelExpanded:u}=vl(),d=y.useCallback(h=>{h.preventDefault(),h.dataTransfer.dropEffect="move"},[]),f=y.useCallback(h=>{h.preventDefault();const m=h.dataTransfer.getData("application/reactflow");if(typeof m>"u"||!m)return;const p=t({x:h.clientX,y:h.clientY});l(m,p)},[t,l]);return o.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:o.jsxs(OW,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,nodeTypes:fK,onDragOver:d,onDrop:f,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:hK,deleteKeyCode:["Backspace","Delete"],children:[o.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"edge-gradient",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),o.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),o.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),o.jsx(LW,{}),o.jsx(VW,{position:"bottom-left",style:c&&!u?{marginBottom:"40px",transition:"margin-bottom 0.3s ease-in-out"}:{transition:"margin-bottom 0.3s ease-in-out"}})]})})},pK=()=>o.jsx(GA,{children:o.jsx(mK,{})}),gK=()=>{const e=xe(i=>i.nodes),{isSidebarOpen:t,isPropertiesPanelExpanded:r,setPropertiesPanelExpanded:n}=vl(),a=e.find(i=>i.selected);Or.useEffect(()=>{a||n(!1)},[a,n]);const s=t?"w-[calc(100vw-300px)]":"w-[calc(100vw-50px)]";return o.jsx("aside",{className:`border-l bg-background shrink-0 transition-all duration-300 ease-in-out overflow-hidden ${a?r?`${s} opacity-100`:"w-80 opacity-100":"w-0 opacity-0"}`,children:a&&o.jsx(yK,{selectedNode:a,isExpanded:r,toggleExpand:()=>n(!r)})})},yK=({selectedNode:e,isExpanded:t,toggleExpand:r})=>{const n=xe(u=>u.updateNodeData),a=xe(u=>u.onNodesChange),s=()=>{a([{id:e.id,type:"select",selected:!1}])},i=e.data.definitionType,l=Ee.get(i);if(!l)return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[o.jsx(er,{className:"w-4 h-4"}),"Error: Node definition '",i,"' not found."]})});const c=l.settings;return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:o.jsx(tb,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-sm",children:e.data.label||l.label}),o.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",e.id]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:r,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:t?o.jsx(RF,{className:"w-4 h-4"}):o.jsx(DF,{className:"w-4 h-4"})}),o.jsx("button",{onClick:s,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:o.jsx(er,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsx("div",{className:"space-y-6",children:o.jsx(c,{config:e.data,onChange:u=>n(e.id,u),nodeId:e.id})})})]})},xK=3e3,qa=50,bl=ob((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchJobs:async()=>{e({isLoading:!0,skip:0});try{const n=await Ct.getJobs(qa,0);e({jobs:n,isLoading:!1,hasMore:n.length===qa})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:s,hasMore:i}=t();if(s||!i)return;const l=n+qa;e({isLoading:!0});try{const c=await Ct.getJobs(qa,l);e({jobs:[...a,...c],isLoading:!1,skip:l,hasMore:c.length===qa})}catch(c){console.error("Failed to load more jobs:",c),e({isLoading:!1})}},submitJob:async n=>{try{const a=await Ct.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await Ct.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,s=n!==void 0?n:!a;e({isDrawerOpen:s}),s?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(async()=>{try{const n=await Ct.getJobs(qa,0);e(s=>s.jobs.length<=qa?{jobs:n}:{jobs:[...n,...s.jobs.slice(qa)]}),!n.some(s=>s.status==="running"||s.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}},xK))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),ep=(e,t)=>{const r=[],n=new Set,a=[],s=e.find(l=>l.data.definitionType==="dataset_node"),i=s==null?void 0:s.data.datasetId;for(s&&a.push(s.id);a.length>0;){const l=a.shift();if(n.has(l))continue;n.add(l);const c=e.find(p=>p.id===l);if(!c)continue;let u="unknown",d={};const h=t.filter(p=>p.target===l).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data||{},x=p.method||"standard";x==="minmax"?u="MinMaxScaler":x==="maxabs"?u="MaxAbsScaler":x==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],x=[];for(const v of p)if(v.columns&&Array.isArray(v.columns))for(const g of v.columns)x.push({column:g,method:v.method,...v.params});d={transformations:x}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):c.data.definitionType==="data_preview"?(u="data_preview",d={}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data);r.push({node_id:c.id,step_type:u,params:d,inputs:h}),t.filter(p=>p.source===l).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:r,metadata:{dataset_source_id:i}}},vK=()=>{const e=xe(x=>x.nodes),t=xe(x=>x.edges),r=xe(x=>x.setExecutionResult),n=xe(x=>x.setGraph),{toggleDrawer:a}=bl(),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=()=>({nodes:e.map(x=>({id:x.id,type:x.type,position:x.position,data:{...x.data,catalogType:x.data.catalogType||x.data.definitionType}})),edges:t.map(x=>({id:x.id,source:x.source,target:x.target,sourceHandle:x.sourceHandle,targetHandle:x.targetHandle,type:x.type,data:x.data}))}),h=async()=>{const x=e.find(g=>g.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await M8(v,{name:"My Pipeline",description:"Saved from Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(g){console.error("Save failed:",g),alert("Failed to save pipeline.")}finally{c(!1)}},m=async()=>{const x=e.find(g=>g.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const g=await I8(v);g&&g.graph?(n(g.graph.nodes,g.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(g){console.error("Load failed:",g),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const x=e.find(g=>g.data.definitionType==="dataset_node");if(!(x==null?void 0:x.data.datasetId)){alert("No dataset node found!");return}i(!0),r(null);try{const g=ep(e,t),b=await A8(g);r(b)}catch(g){console.error("Pipeline failed:",g),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}};return o.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[o.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[o.jsx(MF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),o.jsxs("button",{onClick:m,disabled:u||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?o.jsx(Wn,{className:"w-4 h-4 animate-spin"}):o.jsx(PF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),o.jsxs("button",{onClick:h,disabled:l||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?o.jsx(Wn,{className:"w-4 h-4 animate-spin"}):o.jsx(HF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),o.jsxs("button",{onClick:p,disabled:s,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?o.jsx(Wn,{className:"w-4 h-4 animate-spin"}):o.jsx(Fi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]})]})},bK=()=>{const e=xe(h=>h.executionResult),{isResultsPanelExpanded:t,setResultsPanelExpanded:r}=vl(),[n,a]=y.useState(null),s=y.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),i=Object.keys(s);if(Or.useEffect(()=>{i.length>0&&(!n||!i.includes(n))&&(i.includes("train")?a("train"):i.includes("X")?a("X"):a(i[0]))},[i,n]),!e)return null;const l=n&&s[n]?s[n]:[],c=l.length>0?Object.keys(l[0]):[],u=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return o.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(OP,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&o.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),o.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?o.jsx($t,{className:"w-4 h-4"}):o.jsx(pl,{className:"w-4 h-4"})})]}),t&&o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[o.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),o.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),i.length>1&&o.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[o.jsx(IF,{className:"w-3 h-3 text-muted-foreground mr-1"}),i.map(h=>o.jsx("button",{onClick:()=>a(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),u.length>0&&e.status!=="failed"&&o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((h,m)=>o.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},m))}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[o.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:o.jsx("tr",{children:c.map(h=>o.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),o.jsx("tbody",{children:l.map((h,m)=>o.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(p=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[p]!==null?String(h[p]):o.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${m}-${p}`))},m))})]}),l.length===0&&o.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},wK=()=>{const{activeView:e,setView:t}=vl();return o.jsx("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-center shrink-0 relative",children:o.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(_P,{className:"w-4 h-4"}),"Canvas"]}),o.jsxs("button",{onClick:()=>t("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(xF,{className:"w-4 h-4"}),"Experiments"]}),o.jsxs("button",{onClick:()=>t("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(Rm,{className:"w-4 h-4"}),"Inference"]})]})})},jK=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:s,fetchJobs:i,hasMore:l,loadMoreJobs:c}=bl(),[u,d]=y.useState(null);if(!e)return null;const f=r.filter(h=>h.job_type===a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),o.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:u?o.jsx(kK,{job:u,onBack:()=>d(null),onClose:()=>t(!1)}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>i(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:o.jsx(Si,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(er,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("tuning"),children:"Model Optimization"}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("training"),children:"Standard Training"})]}),o.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"col-span-2",children:"Status"}),o.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),o.jsx("div",{className:"col-span-3",children:"Job ID"}),o.jsx("div",{className:"col-span-2",children:"Started"}),o.jsx("div",{className:"col-span-1",children:"Duration"}),o.jsx("div",{className:"col-span-1",children:"Ready"}),o.jsx("div",{className:"col-span-1",children:"Result"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:f.length===0?o.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):o.jsxs(o.Fragment,{children:[f.map(h=>o.jsx(NK,{job:h,onClick:()=>d(h)},h.job_id)),l&&o.jsx("div",{className:"flex justify-center pt-2 pb-4",children:o.jsxs("button",{onClick:()=>c(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?o.jsx(Si,{className:"w-3 h-3 animate-spin"}):o.jsx($t,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},kK=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=bl(),[a,s]=y.useState(e),[i,l]=y.useState("overview"),[c,u]=y.useState(!1),d=y.useRef(null);y.useEffect(()=>{let h;const m=async()=>{try{const p=await Ct.getJob(e.job_id);s(p)}catch(p){console.error("Failed to fetch job details",p)}};return m(),(a.status==="running"||a.status==="queued")&&(h=setInterval(m,2e3)),()=>{h&&clearInterval(h)}},[e.job_id,a.status]),y.useEffect(()=>{i==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,i]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:o.jsx(gF,{className:"w-4 h-4"})}),o.jsx("div",{children:o.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",o.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&o.jsxs("button",{onClick:f,disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[o.jsx(qF,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),o.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(er,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>l("overview"),children:[o.jsx(SP,{className:"w-4 h-4"}),"Overview"]}),o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>l("logs"),children:[o.jsx(eb,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="overview"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),o.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),o.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(Yn,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[o.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[o.jsx(Sn,{className:"w-4 h-4"}),"Error Log"]}),o.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(XF,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&o.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[o.jsx(qn,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&a.result.metrics&&o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([h,m])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:h.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof m=="number"?m.toFixed(4):String(m)})]},h))}),a.job_type==="tuning"&&o.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Optimization Score"}),o.jsx("div",{className:"font-mono font-medium text-purple-600 dark:text-purple-400 text-lg",children:Number(a.result.best_score).toFixed(5)})]}),a.result.metrics&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([h])=>!["best_score","best_params","trials"].includes(h)).map(([h,m])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:h.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof m=="number"?m.toFixed(4):String(m)})]},h))})]}),a.result.best_params&&o.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[o.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),o.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((h,m)=>o.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:h},m)):o.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),o.jsx("div",{ref:d})]})})]})},NK=({job:e,onClick:t})=>{var i,l;const r=c=>{switch(c){case"completed":case"succeeded":return o.jsx(qn,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(Sn,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return o.jsx(Si,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return o.jsx(Zv,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=c=>{switch(c){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=c=>c?new Date(c).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=(c,u)=>{if(!c||!u)return"-";const d=new Date(u).getTime()-new Date(c).getTime(),f=Math.floor(d/1e3);return f<60?`${f}s`:`${Math.floor(f/60)}m ${f%60}s`};return o.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[o.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),o.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),o.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[o.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[o.jsx(Yn,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[o.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&((l=(i=e.config)==null?void 0:i.tuning)==null?void 0:l.strategy)&&o.jsxs("span",{className:"text-gray-400 truncate",children:["(",e.config.tuning.strategy,")"]})]})]}),o.jsx("div",{className:"col-span-3 font-mono text-xs text-gray-500 dark:text-gray-400 break-all",title:e.job_id,children:e.job_id}),o.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),o.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:s(e.start_time,e.end_time)}),o.jsx("div",{className:"col-span-1",children:e.status==="completed"&&o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:o.jsx(qn,{className:"w-3 h-3"})})}),o.jsx("div",{className:"col-span-1",children:e.error?o.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?o.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([c,u])=>o.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[c,": ",Number(u).toFixed(3)]},c))}):e.job_type==="tuning"?o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&o.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&e.result.best_params&&o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function ZA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ZA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ce(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ZA(e))&&(n&&(n+=" "),n+=t);return n}var _K=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Sb(e){if(typeof e!="string")return!1;var t=_K;return t.includes(e)}var SK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EK=new Set(SK);function eT(e){return typeof e!="string"?!1:EK.has(e)}function tT(e){return typeof e=="string"&&e.startsWith("data-")}function Lr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(eT(r)||tT(r))&&(t[r]=e[r]);return t}function wl(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Lr(t)}return typeof e=="object"&&!Array.isArray(e)?Lr(e):null}function qt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(eT(r)||tT(r)||Sb(r))&&(t[r]=e[r]);return t}function CK(e){return e==null?null:y.isValidElement(e)?qt(e.props):typeof e=="object"&&!Array.isArray(e)?qt(e):null}var PK=["children","width","height","viewBox","className","style","title","desc"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function OK(e,t){if(e==null)return{};var r,n,a=AK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eb=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=e,d=OK(e,PK),f=s||{width:n,height:a,x:0,y:0},h=Ce("recharts-surface",i);return y.createElement("svg",Wy({},qt(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),TK=["children","className"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function MK(e,t){if(e==null)return{};var r,n,a=IK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ot=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=MK(e,TK),s=Ce("recharts-layer",n);return y.createElement("g",Ky({className:s},qt(a),{ref:t}),r)}),rT=y.createContext(null),DK=()=>y.useContext(rT);function Le(e){return function(){return e}}const nT=Math.cos,_h=Math.sin,Tn=Math.sqrt,Sh=Math.PI,tp=2*Sh,qy=Math.PI,Yy=2*qy,Ks=1e-6,RK=Yy-Ks;function aT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function LK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return aT;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $K{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?aT:LK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ks)if(!(Math.abs(f*c-u*d)>Ks)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,p=a-l,x=c*c+u*u,v=m*m+p*p,g=Math.sqrt(x),b=Math.sqrt(h),w=s*Math.tan((qy-Math.acos((x+h-v)/(2*g*b)))/2),j=w/b,k=w/g;Math.abs(j-1)>Ks&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ks||Math.abs(this._y1-d)>Ks)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Yy+Yy),h>RK?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ks&&this._append`A${n},${n},0,${+(h>=qy)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Cb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $K(t)}function Pb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sT(e){this._context=e}sT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rp(e){return new sT(e)}function iT(e){return e[0]}function oT(e){return e[1]}function lT(e,t){var r=Le(!0),n=null,a=rp,s=null,i=Cb(l);e=typeof e=="function"?e:e===void 0?iT:Le(e),t=typeof t=="function"?t:t===void 0?oT:Le(t);function l(c){var u,d=(c=Pb(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Le(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Le(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Le(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Kd(e,t,r){var n=null,a=Le(!0),s=null,i=rp,l=null,c=Cb(u);e=typeof e=="function"?e:e===void 0?iT:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?oT:Le(+r);function u(f){var h,m,p,x=(f=Pb(f)).length,v,g=!1,b,w=new Array(x),j=new Array(x);for(s==null&&(l=i(b=c())),h=0;h<=x;++h){if(!(h<x&&a(v=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function d(){return lT().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Le(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class cT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zK(e){return new cT(e,!0)}function FK(e){return new cT(e,!1)}const Ob={draw(e,t){const r=Tn(t/Sh);e.moveTo(r,0),e.arc(0,0,r,0,tp)}},BK={draw(e,t){const r=Tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},uT=Tn(1/3),UK=uT*2,HK={draw(e,t){const r=Tn(t/UK),n=r*uT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VK={draw(e,t){const r=Tn(t),n=-r/2;e.rect(n,n,r,r)}},WK=.8908130915292852,dT=_h(Sh/10)/_h(7*Sh/10),KK=_h(tp/10)*dT,qK=-nT(tp/10)*dT,YK={draw(e,t){const r=Tn(t*WK),n=KK*r,a=qK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=tp*s/5,l=nT(i),c=_h(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Vg=Tn(3),GK={draw(e,t){const r=-Tn(t/(Vg*3));e.moveTo(0,r*2),e.lineTo(-Vg*r,-r),e.lineTo(Vg*r,-r),e.closePath()}},Ur=-.5,Hr=Tn(3)/2,Gy=1/Tn(12),XK=(Gy/2+1)*3,QK={draw(e,t){const r=Tn(t/XK),n=r/2,a=r*Gy,s=n,i=r*Gy+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(Ur*n-Hr*a,Hr*n+Ur*a),e.lineTo(Ur*s-Hr*i,Hr*s+Ur*i),e.lineTo(Ur*l-Hr*c,Hr*l+Ur*c),e.lineTo(Ur*n+Hr*a,Ur*a-Hr*n),e.lineTo(Ur*s+Hr*i,Ur*i-Hr*s),e.lineTo(Ur*l+Hr*c,Ur*c-Hr*l),e.closePath()}};function JK(e,t){let r=null,n=Cb(a);e=typeof e=="function"?e:Le(e||Ob),t=typeof t=="function"?t:Le(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Le(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Le(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Eh(){}function Ch(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fT(e){this._context=e}fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ch(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZK(e){return new fT(e)}function hT(e){this._context=e}hT.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eq(e){return new hT(e)}function mT(e){this._context=e}mT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tq(e){return new mT(e)}function pT(e){this._context=e}pT.prototype={areaStart:Eh,areaEnd:Eh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rq(e){return new pT(e)}function EN(e){return e<0?-1:1}function CN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(EN(s)+EN(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function PN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function Ph(e){this._context=e}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wg(this,this._t0,PN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wg(this,PN(this,r=CN(this,e,t)),r);break;default:Wg(this,this._t0,r=CN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function gT(e){this._context=new yT(e)}(gT.prototype=Object.create(Ph.prototype)).point=function(e,t){Ph.prototype.point.call(this,t,e)};function yT(e){this._context=e}yT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function nq(e){return new Ph(e)}function aq(e){return new gT(e)}function xT(e){this._context=e}xT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ON(e),a=ON(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ON(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function sq(e){return new xT(e)}function np(e,t){this._context=e,this._t=t}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function iq(e){return new np(e,.5)}function oq(e){return new np(e,0)}function lq(e){return new np(e,1)}function el(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Xy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function cq(e,t){return e[t]}function uq(e){const t=[];return t.key=e,t}function dq(){var e=Le([]),t=Xy,r=el,n=cq;function a(s){var i=Array.from(e.apply(this,arguments),uq),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=Pb(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Le(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Le(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Xy:typeof s=="function"?s:Le(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??el,a):r},a}function fq(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}el(e,t)}}function hq(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}el(e,t)}}function mq(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var x=e[t[p]],v=x[n][1]||0,g=x[n-1][1]||0;m+=v-g}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,el(e,t)}}var ap={},vT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(vT);var Ab={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ab);var sp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sp);var ip={},bT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(bT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT,r=sp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<i;){const f=a[l];u?f==="\\"&&l+1<i?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(ip);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT,r=Ab,n=sp,a=ip;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function i(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(ap);var pq=ap.get;const tl=ea(pq);var mr=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,Oa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),tn=e=>ue(e)||typeof e=="string",gq=0,eu=e=>{var t=++gq;return"".concat(e||"").concat(t)},En=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var s;if(Oa(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return $r(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},wT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function $e(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function jT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):tl(n,t))===r)}var yq=e=>{for(var t=e.length,r=0,n=0,a=0,s=0,i=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,s+=c*c,i=Math.min(i,c),l=Math.max(l,c);var f=t*s!==r*r?(t*a-r*n)/(t*s-r*r):0;return{xmin:i,xmax:l,a:f,b:(n-f*r)/t}},Te=e=>e===null||typeof e>"u",$u=e=>Te(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function xq(e){return e!=null}function zu(){}var vq=["type","size","sizeType"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=jq(e,"string");return typeof t=="symbol"?t:t+""}function jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kq(e,t){if(e==null)return{};var r,n,a=Nq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kT={symbolCircle:Ob,symbolCross:BK,symbolDiamond:HK,symbolSquare:VK,symbolStar:YK,symbolTriangle:GK,symbolWye:QK},_q=Math.PI/180,Sq=e=>{var t="symbol".concat($u(e));return kT[t]||Ob},Eq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*_q;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Cq=(e,t)=>{kT["symbol".concat($u(e))]=t},op=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=kq(e,vq),s=TN(TN({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var l=()=>{var h=Sq(i),m=JK().type(h).size(Eq(r,n,i)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=s,f=qt(s);return ue(u)&&ue(d)&&ue(r)?y.createElement("path",Qy({},f,{className:Ce("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};op.registerSymbol=Cq;var NT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Tb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Sb(a)&&(n[a]=s=>r[a](r,s))}),n},Pq=(e,t,r)=>n=>(e(t,r,n),null),Fu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Sb(a)&&typeof s=="function"&&(n||(n={}),n[a]=Pq(s,t,r))}),n},Oq=e=>Array.isArray(e)&&e.length>0;function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mt(e,t){var r=Aq({},e),n=t,a=Object.keys(t),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),r);return s}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(null,arguments)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=32,zq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Fq(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Wr/2,s=Wr/6,i=Wr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Wr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Wr,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wr/8,"h").concat(Wr,"v").concat(Wr*3/4,"h").concat(-Wr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=Dq({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(op,{fill:l,cx:a,cy:a,size:Wr,sizeType:"diameter",type:c})}function Bq(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,l={x:0,y:0,width:Wr,height:Wr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Ce({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,x=h?h(d.value,d,f):d.value;return y.createElement("li",Oh({className:m,style:c,key:"legend-item-".concat(f)},Fu(e,d,f)),y.createElement(Eb,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},y.createElement(Fq,{data:d,iconType:i,inactiveColor:s})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}var Uq=e=>{var t=mt(e,zq),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:s},y.createElement(Bq,Oh({},t,{payload:r})))},_T={},ST={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}e.uniqBy=t})(ST);var Mb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Mb);var ET={},lp={},CT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(CT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(lp);var PT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(PT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lp,r=PT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(ET);var OT={},AT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ap;function r(n){return function(a){return t.get(a,n)}}e.property=r})(AT);var TT={},Ib={},MT={},Db={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Db);var Rb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Rb);var Lb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Lb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db,r=Rb,n=Lb;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function m(p,x,v,g,b,w){const j=h(p,x,v,g,b,w);return j!==void 0?!!j:s(p,x,m,w)},new Map)}function s(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,h,m);case"function":return Object.keys(f).length>0?s(d,{...f},h,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(h(v,x,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let g=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let j=!1;if(h(w,v,x,d,f,m)&&(j=!0),j){p.add(b),g=!0;break}}if(!g)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(MT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ib);var IT={},$b={},DT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(DT);var zb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(zb);var Fb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",S="[object BigInt64Array]",P="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=P,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=g})(Fb);var RT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(RT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DT,r=zb,n=Fb,a=Rb,s=RT;function i(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[g,b]of d)v.set(g,l(b,g,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const g of d)v.add(l(g,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=l(d[g],g,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),c(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,m,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),c(v,d,h,m,p),v}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const g=x[v],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=l,e.copyProperties=c})($b);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$b;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(IT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ib,r=IT;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(TT);var LT={},$T={},zT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$b,r=Fb;function n(a,s){return t.cloneDeepWith(a,(i,l,c,u)=>{const d=s==null?void 0:s(i,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(zT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($T);var FT={},Bb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Bb);var BT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(BT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ab,r=Bb,n=BT,a=ip;function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(i==null?void 0:i[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(FT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ib,r=sp,n=$T,a=ap,s=FT;function i(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mb,r=AT,n=TT,a=LT;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(OT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ST,r=Mb,n=ET,a=OT;function s(i,l=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(l)):[]}e.uniqBy=s})(_T);var Hq=_T.uniqBy;const DN=ea(Hq);function UT(e,t,r){return t===!0?DN(e,r):typeof t=="function"?DN(e,t):e}var Ub=y.createContext(null),Vq=e=>e,Ge=()=>{var e=y.useContext(Ub);return e?e.store.dispatch:Vq},Mf=()=>{},Wq=()=>Mf,Kq=(e,t)=>e===t;function ie(e){var t=y.useContext(Ub);return lO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Wq,t?t.store.getState:Mf,t?t.store.getState:Mf,t?e:Mf,Kq)}function qq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Yq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Gq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var RN=e=>Array.isArray(e)?e:[e];function Xq(e){const t=Array.isArray(e[0])?e[0]:e;return Gq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Qq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Jq=class{constructor(e){this.value=e}deref(){return this.value}},Zq=typeof WeakRef<"u"?WeakRef:Jq,eY=0,LN=1;function qd(){return{s:eY,v:void 0,o:null,p:null}}function HT(e,t={}){let r=qd();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const v=x.get(p);v===void 0?(l=qd(),x.set(p,l)):l=v}else{let x=l.p;x===null&&(l.p=x=new Map);const v=x.get(p);v===void 0?(l=qd(),x.set(p,l)):l=v}}const u=l;let d;if(l.s===LN)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Zq(d):d}return u.s=LN,u.v=d,d}return i.clearCache=()=>{r=qd(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function tY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),qq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=HT,argsMemoizeOptions:p=[]}=d,x=RN(h),v=RN(p),g=Xq(a),b=f(function(){return s++,u.apply(null,arguments)},...x),w=m(function(){i++;const k=Qq(g,arguments);return l=b.apply(null,k),l},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var V=tY(HT),rY=Object.assign((e,t=V)=>{Yq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,l,c)=>(i[r[c]]=l,i),{}))},{withTypes:()=>rY}),VT={},WT={},KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),l=t(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};e.compareValues=r})(KT);var qT={},Hb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Hb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(qT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT,r=qT,n=ip;function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let x=m;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(m.criteria[x],p.criteria[x],l[x]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(WT);var YT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(r,0),a}e.flatten=t})(YT);var Vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bb,r=lp,n=Db,a=Lb;function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}e.isIterateeCall=s})(Vb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT,r=YT,n=Vb;function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(VT);var nY=VT.sortBy;const cp=ea(nY);var GT=e=>e.legend.settings,aY=e=>e.legend.size,sY=e=>e.legend.payload,iY=V([sY,GT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?cp(n,r):n});function oY(){return ie(iY)}var Yd=1;function XT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>Yd||Math.abs(i.left-t.left)>Yd||Math.abs(i.top-t.top)>Yd||Math.abs(i.width-t.width)>Yd)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Mt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lY=typeof Symbol=="function"&&Symbol.observable||"@@observable",$N=lY,Kg=()=>Math.random().toString(36).substring(7).split("").join("."),cY={INIT:`@@redux/INIT${Kg()}`,REPLACE:`@@redux/REPLACE${Kg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kg()}`},Ah=cY;function Wb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QT(e,t,r){if(typeof e!="function")throw new Error(Mt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Mt(1));return r(QT)(e,t)}let n=e,a=t,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,g)=>{i.set(g,v)}))}function d(){if(c)throw new Error(Mt(3));return a}function f(v){if(typeof v!="function")throw new Error(Mt(4));if(c)throw new Error(Mt(5));let g=!0;u();const b=l++;return i.set(b,v),function(){if(g){if(c)throw new Error(Mt(6));g=!1,u(),i.delete(b),s=null}}}function h(v){if(!Wb(v))throw new Error(Mt(7));if(typeof v.type>"u")throw new Error(Mt(8));if(typeof v.type!="string")throw new Error(Mt(17));if(c)throw new Error(Mt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(b=>{b()}),v}function m(v){if(typeof v!="function")throw new Error(Mt(10));n=v,h({type:Ah.REPLACE})}function p(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Mt(11));function b(){const j=g;j.next&&j.next(d())}return b(),{unsubscribe:v(b)}},[$N](){return this}}}return h({type:Ah.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[$N]:p}}function uY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ah.INIT})>"u")throw new Error(Mt(12));if(typeof r(void 0,{type:Ah.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mt(13))})}function JT(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{uY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=i[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Mt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function Th(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function dY(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Mt(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(i));return s=Th(...l)(a.dispatch),{...a,dispatch:s}}}function ZT(e){return Wb(e)&&"type"in e&&typeof e.type=="string"}var eM=Symbol.for("immer-nothing"),zN=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tr=Object,rl=Tr.getPrototypeOf,Mh="constructor",up="prototype",Jy="configurable",Ih="enumerable",If="writable",tu="value",Aa=e=>!!e&&!!e[tr];function Cn(e){var t;return e?tM(e)||dp(e)||!!e[zN]||!!((t=e[Mh])!=null&&t[zN])||fp(e)||hp(e):!1}var fY=Tr[up][Mh].toString(),FN=new WeakMap;function tM(e){if(!e||!Kb(e))return!1;const t=rl(e);if(t===null||t===Tr[up])return!0;const r=Tr.hasOwnProperty.call(t,Mh)&&t[Mh];if(r===Object)return!0;if(!Qi(r))return!1;let n=FN.get(r);return n===void 0&&(n=Function.toString.call(r),FN.set(r,n)),n===fY}function Bu(e,t,r=!0){Uu(e)===0?(r?Reflect.ownKeys(e):Tr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Uu(e){const t=e[tr];return t?t.type_:dp(e)?1:fp(e)?2:hp(e)?3:0}var BN=(e,t,r=Uu(e))=>r===2?e.has(t):Tr[up].hasOwnProperty.call(e,t),Zy=(e,t,r=Uu(e))=>r===2?e.get(t):e[t],Dh=(e,t,r,n=Uu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function hY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var dp=Array.isArray,fp=e=>e instanceof Map,hp=e=>e instanceof Set,Kb=e=>typeof e=="object",Qi=e=>typeof e=="function",qg=e=>typeof e=="boolean",ca=e=>e.copy_||e.base_,qb=e=>e.modified_?e.copy_:e.base_;function ex(e,t){if(fp(e))return new Map(e);if(hp(e))return new Set(e);if(dp(e))return Array[up].slice.call(e);const r=tM(e);if(t===!0||t==="class_only"&&!r){const n=Tr.getOwnPropertyDescriptors(e);delete n[tr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l[If]===!1&&(l[If]=!0,l[Jy]=!0),(l.get||l.set)&&(n[i]={[Jy]:!0,[If]:!0,[Ih]:l[Ih],[tu]:e[i]})}return Tr.create(rl(e),n)}else{const n=rl(e);if(n!==null&&r)return{...e};const a=Tr.create(n);return Tr.assign(a,e)}}function Yb(e,t=!1){return mp(e)||Aa(e)||!Cn(e)||(Uu(e)>1&&Tr.defineProperties(e,{set:Gd,add:Gd,clear:Gd,delete:Gd}),Tr.freeze(e),t&&Bu(e,(r,n)=>{Yb(n,!0)},!1)),e}function mY(){gn(2)}var Gd={[tu]:mY};function mp(e){return e===null||!Kb(e)?!0:Tr.isFrozen(e)}var Rh="MapSet",tx="Patches",rM={};function nl(e){const t=rM[e];return t||gn(0,e),t}var pY=e=>!!rM[e],ru,nM=()=>ru,gY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:pY(Rh)?nl(Rh):void 0});function UN(e,t){t&&(e.patchPlugin_=nl(tx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rx(e){nx(e),e.drafts_.forEach(yY),e.drafts_=null}function nx(e){e===ru&&(ru=e.parent_)}var HN=e=>ru=gY(ru,e);function yY(e){const t=e[tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[tr].modified_&&(rx(t),gn(4)),Cn(e)&&(e=WN(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[tr].base_,e,t)}else e=WN(t,r);return xY(t,e,!0),rx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eM?e:void 0}function WN(e,t){if(mp(t))return t;const r=t[tr];if(!r)return Gb(t,e.handledSet_,e);if(!pp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);iM(r,e)}return r.copy_}function xY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Yb(t,r)}function aM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var pp=(e,t)=>e.scope_===t,vY=[];function sM(e,t,r,n){const a=ca(e),s=e.type_;if(n!==void 0&&Zy(a,n,s)===t){Dh(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Bu(a,(c,u)=>{if(Aa(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const i=e.draftLocations_.get(t)??vY;for(const l of i)Dh(a,l,r,s)}function bY(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!pp(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const i=qb(s);sM(e,s.draft_??s,i,r),iM(s,a)})}function iM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}aM(e)}}function wY(e,t,r){const{scope_:n}=e;if(Aa(r)){const a=r[tr];pp(a,n)&&a.callbacks_.push(function(){Df(e);const i=qb(a);sM(e,r,i,t)})}else Cn(r)&&e.callbacks_.push(function(){const s=ca(e);Zy(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Gb(Zy(e.copy_,t,e.type_),n.handledSet_,n)})}function Gb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Aa(e)||t.has(e)||!Cn(e)||mp(e)||(t.add(e),Bu(e,(n,a)=>{if(Aa(a)){const s=a[tr];if(pp(s,r)){const i=qb(s);Dh(e,n,i,e.type_),aM(s)}}else Cn(a)&&Gb(a,t,r)})),e}function jY(e,t){const r=dp(e),n={type_:r?1:0,scope_:t?t.scope_:nM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Xb;r&&(a=[n],s=nu);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,[l,n]}var Xb={get(e,t){if(t===tr)return e;const r=ca(e);if(!BN(r,t,e.type_))return kY(e,r,t);const n=r[t];if(e.finalized_||!Cn(n))return n;if(n===Yg(e.base_,t)){Df(e);const a=e.type_===1?+t:t,s=sx(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in ca(e)},ownKeys(e){return Reflect.ownKeys(ca(e))},set(e,t,r){const n=oM(ca(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Yg(ca(e),t),s=a==null?void 0:a[tr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(hY(r,a)&&(r!==void 0||BN(e.base_,t,e.type_)))return!0;Df(e),ax(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),wY(e,t,r)),!0},deleteProperty(e,t){return Df(e),Yg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ax(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ca(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[If]:!0,[Jy]:e.type_!==1||t!=="length",[Ih]:n[Ih],[tu]:r[t]}},defineProperty(){gn(11)},getPrototypeOf(e){return rl(e.base_)},setPrototypeOf(){gn(12)}},nu={};Bu(Xb,(e,t)=>{nu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});nu.deleteProperty=function(e,t){return nu.set.call(this,e,t,void 0)};nu.set=function(e,t,r){return Xb.set.call(this,e[0],t,r,e[0])};function Yg(e,t){const r=e[tr];return(r?ca(r):e)[t]}function kY(e,t,r){var a;const n=oM(t,r);return n?tu in n?n[tu]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function oM(e,t){if(!(t in e))return;let r=rl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=rl(r)}}function ax(e){e.modified_||(e.modified_=!0,e.parent_&&ax(e.parent_))}function Df(e){e.copy_||(e.assigned_=new Map,e.copy_=ex(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Qi(r)&&!Qi(n)){const i=n;n=r;const l=this;return function(u=i,...d){return l.produce(u,f=>n.call(this,f,...d))}}Qi(n)||gn(6),a!==void 0&&!Qi(a)&&gn(7);let s;if(Cn(r)){const i=HN(this),l=sx(i,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?rx(i):nx(i)}return UN(i,a),VN(s,i)}else if(!r||!Kb(r)){if(s=n(r),s===void 0&&(s=r),s===eM&&(s=void 0),this.autoFreeze_&&Yb(s,!0),a){const i=[],l=[];nl(tx).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:l}),a(i,l)}return s}else gn(1,r)},this.produceWithPatches=(r,n)=>{if(Qi(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},qg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),qg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),qg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Cn(t)||gn(8),Aa(t)&&(t=kn(t));const r=HN(this),n=sx(r,t,void 0);return n[tr].isManual_=!0,nx(r),n}finishDraft(t,r){const n=t&&t[tr];(!n||!n.isManual_)&&gn(9);const{scope_:a}=n;return UN(a,r),VN(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=nl(tx).applyPatches_;return Aa(t)?a(t,r):this.produce(t,s=>a(s,r))}};function sx(e,t,r,n){const[a,s]=fp(t)?nl(Rh).proxyMap_(t,r):hp(t)?nl(Rh).proxySet_(t,r):jY(t,r);return((r==null?void 0:r.scope_)??nM()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?bY(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function kn(e){return Aa(e)||gn(10,e),lM(e)}function lM(e){if(!Cn(e)||mp(e))return e;const t=e[tr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ex(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ex(e,!0);return Bu(r,(a,s)=>{Dh(r,a,lM(s))},n),t&&(t.finalized_=!1),r}var _Y=new NY,cM=_Y.produce;function uM(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var SY=uM(),EY=uM,CY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Th:Th.apply(null,arguments)};function rn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ir(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ZT(n)&&n.type===e,r}var dM=class oc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oc.prototype)}static get[Symbol.species](){return oc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oc(...t[0].concat(this)):new oc(...t.concat(this))}};function KN(e){return Cn(e)?cM(e,()=>{}):e}function Xd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function PY(e){return typeof e=="boolean"}var OY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new dM;return r&&(PY(r)?i.push(SY):i.push(EY(r.extraArgument))),i},fM="RTK_autoBatch",Ve=()=>e=>({payload:e,meta:{[fM]:!0}}),qN=e=>t=>{setTimeout(t,e)},hM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qN(10):e.type==="callback"?e.queueNotification:qN(e.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[fM]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},AY=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new dM(e);return n&&a.push(hM(typeof n=="object"?n:void 0)),a};function TY(e){const t=OY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Wb(r))l=JT(r);else throw new Error(Ir(1));let c;typeof n=="function"?c=n(t):c=t();let u=Th;a&&(u=CY({trace:!1,...typeof a=="object"&&a}));const d=dY(...c),f=AY(d);let h=typeof i=="function"?i(f):f();const m=u(...h);return QT(l,s,m)}function mM(e){const t={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ir(28));if(l in t)throw new Error(Ir(29));return t[l]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function MY(e){return typeof e=="function"}function IY(e,t){let[r,n,a]=mM(t),s;if(MY(e))s=()=>KN(e());else{const l=KN(e);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Aa(d)){const m=f(d,c);return m===void 0?d:m}else{if(Cn(d))return cM(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return i.getInitialState=s,i}var DY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RY=(e=21)=>{let t="",r=e;for(;r--;)t+=DY[Math.random()*64|0];return t},LY=Symbol.for("rtk-slice-createasyncthunk");function $Y(e,t){return`${e}/${t}`}function zY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[LY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Ir(11));const l=(typeof a.reducers=="function"?a.reducers(BY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const _=typeof j=="string"?j:j.type;if(!_)throw new Error(Ir(12));if(_ in u.sliceCaseReducersByType)throw new Error(Ir(13));return u.sliceCaseReducersByType[_]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=l[j],_={reducerName:j,type:$Y(s,j),createNotation:typeof a.reducers=="function"};HY(k)?WY(_,k,d,t):UY(_,k,d)});function f(){const[j={},k=[],_=void 0]=typeof a.extraReducers=="function"?mM(a.extraReducers):[a.extraReducers],N={...j,...u.sliceCaseReducersByType};return IY(a.initialState,S=>{for(let P in N)S.addCase(P,N[P]);for(let P of u.sliceMatchers)S.addMatcher(P.matcher,P.reducer);for(let P of k)S.addMatcher(P.matcher,P.reducer);_&&S.addDefaultCase(_)})}const h=j=>j,m=new Map,p=new WeakMap;let x;function v(j,k){return x||(x=f()),x(j,k)}function g(){return x||(x=f()),x.getInitialState()}function b(j,k=!1){function _(S){let P=S[j];return typeof P>"u"&&k&&(P=Xd(p,_,g)),P}function N(S=h){const P=Xd(m,k,()=>new WeakMap);return Xd(P,S,()=>{const I={};for(const[E,C]of Object.entries(a.selectors??{}))I[E]=FY(C,S,()=>Xd(p,S,g),k);return I})}return{reducerPath:j,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const w={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...b(i),injectInto(j,{reducerPath:k,..._}={}){const N=k??i;return j.inject({reducerPath:N,reducer:v},_),{...w,...b(N,!0)}}};return w}}function FY(e,t,r,n){function a(s,...i){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...i)}return a.unwrapped=e,a}var jr=zY();function BY(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function UY({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!VY(n))throw new Error(Ir(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?rn(e,i):rn(e))}function HY(e){return e._reducerDefinitionType==="asyncThunk"}function VY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function WY({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ir(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||Qd,pending:l||Qd,rejected:c||Qd,settled:u||Qd})}function Qd(){}var KY="task",pM="listener",gM="completed",Qb="cancelled",qY=`task-${Qb}`,YY=`task-${gM}`,ix=`${pM}-${Qb}`,GY=`${pM}-${gM}`,gp=class{constructor(e){Al(this,"name","TaskAbortError");Al(this,"message");this.code=e,this.message=`${KY} ${Qb} (reason: ${e})`}},Jb=(e,t)=>{if(typeof e!="function")throw new TypeError(Ir(32))},Lh=()=>{},yM=(e,t=Lh)=>(e.catch(t),e),xM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xi=e=>{if(e.aborted)throw new gp(e.reason)};function vM(e,t){let r=Lh;return new Promise((n,a)=>{const s=()=>a(new gp(e.reason));if(e.aborted){s();return}r=xM(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Lh})}var XY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof gp?"cancelled":"rejected",error:r}}finally{t==null||t()}},$h=e=>t=>yM(vM(e,t).then(r=>(xi(e),r))),bM=e=>{const t=$h(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ko}=Object,YN={},yp="listenerMiddleware",QY=(e,t)=>{const r=n=>xM(e,()=>n.abort(e.reason));return(n,a)=>{Jb(n);const s=new AbortController;r(s);const i=XY(async()=>{xi(e),xi(s.signal);const l=await n({pause:$h(s.signal),delay:bM(s.signal),signal:s.signal});return xi(s.signal),l},()=>s.abort(YY));return a!=null&&a.autoJoin&&t.push(i.catch(Lh)),{result:$h(e)(i),cancel(){s.abort(qY)}}}},JY=(e,t)=>{const r=async(n,a)=>{xi(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await vM(t,Promise.race(l));return xi(t),c}finally{s()}};return(n,a)=>yM(r(n,a))},wM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=rn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ir(21));return Jb(s),{predicate:a,type:t,effect:s}},jM=ko(e=>{const{type:t,predicate:r,effect:n}=wM(e);return{id:RY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ir(22))}}},{withTypes:()=>jM}),GN=(e,t)=>{const{type:r,effect:n,predicate:a}=wM(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},ox=e=>{e.pending.forEach(t=>{t.abort(ix)})},ZY=(e,t)=>()=>{for(const r of t.keys())ox(r);e.clear()},XN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},kM=ko(rn(`${yp}/add`),{withTypes:()=>kM}),eG=rn(`${yp}/removeAll`),NM=ko(rn(`${yp}/remove`),{withTypes:()=>NM}),tG=(...e)=>{console.error(`${yp}/error`,...e)},Hu=(e={})=>{const t=new Map,r=new Map,n=m=>{const p=r.get(m)??0;r.set(m,p+1)},a=m=>{const p=r.get(m)??1;p===1?r.delete(m):r.set(m,p-1)},{extra:s,onError:i=tG}=e;Jb(i);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&ox(m)}),c=m=>{const p=GN(t,m)??jM(m);return l(p)};ko(c,{withTypes:()=>c});const u=m=>{const p=GN(t,m);return p&&(p.unsubscribe(),m.cancelActive&&ox(p)),!!p};ko(u,{withTypes:()=>u});const d=async(m,p,x,v)=>{const g=new AbortController,b=JY(c,g.signal),w=[];try{m.pending.add(g),n(m),await Promise.resolve(m.effect(p,ko({},x,{getOriginalState:v,condition:(j,k)=>b(j,k).then(Boolean),take:b,delay:bM(g.signal),pause:$h(g.signal),extra:s,signal:g.signal,fork:QY(g.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((j,k,_)=>{j!==g&&(j.abort(ix),_.delete(j))})},cancel:()=>{g.abort(ix),m.pending.delete(g)},throwIfCancelled:()=>{xi(g.signal)}})))}catch(j){j instanceof gp||XN(i,j,{raisedBy:"effect"})}finally{await Promise.all(w),g.abort(GY),a(m),m.pending.delete(g)}},f=ZY(t,r);return{middleware:m=>p=>x=>{if(!ZT(x))return p(x);if(kM.match(x))return c(x.payload);if(eG.match(x)){f();return}if(NM.match(x))return u(x.payload);let v=m.getState();const g=()=>{if(v===YN)throw new Error(Ir(23));return v};let b;try{if(b=p(x),t.size>0){const w=m.getState(),j=Array.from(t.values());for(const k of j){let _=!1;try{_=k.predicate(x,w,v)}catch(N){_=!1,XN(i,N,{raisedBy:"predicate"})}_&&d(k,x,m,g)}}}finally{v=YN}return b},startListening:c,stopListening:u,clearListeners:f}};function Ir(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_M=jr({name:"chartLayout",initialState:rG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:nG,setLayout:aG,setChartSize:sG,setScale:iG}=_M.actions,oG=_M.reducer;function SM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){lG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lG(e,t,r){return(t=cG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=uG(e,"string");return typeof t=="symbol"?t:t+""}function uG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ze(e,t,r){return Te(e)||Te(t)?r:tn(t)?tl(e,t,r):typeof t=="function"?t(e):r}var dG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:l}=t;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&ue(e[s]))return ho(ho({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&ue(e[i]))return ho(ho({},e),{},{[i]:e[i]+(a||0)})}return e},Ls=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",EM=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,i=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||i.push(t),s||i.push(r),i},CM=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!i)return null;var p=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=a==="category"&&i.bandwidth?i.bandwidth()/p:0;if(x=m==="angleAxis"&&s&&s.length>=2?mr(s[0]-s[1])*2*x:x,f||h){var v=(f||h||[]).map((g,b)=>{var w=n?n.indexOf(g):g;return{coordinate:i(w)+x,value:g,offset:x,index:b}});return v.filter(g=>!$r(g.coordinate))}return c&&u?u.map((g,b)=>({coordinate:i(g)+x,value:g,index:b,offset:x})):i.ticks&&d!=null?i.ticks(d).map((g,b)=>({coordinate:i(g)+x,value:g,offset:x,index:b})):i.domain().map((g,b)=>({coordinate:i(g)+x,value:n?n[g]:g,index:b,offset:x}))},JN=1e-4,fG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-JN,s=Math.max(n[0],n[1])+JN,i=e(t[0]),l=e(t[r-1]);(i<a||i>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},hG=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(a[0]=r),(!ue(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},mG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var l=$r(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+l,s=e[i][r][1])}},pG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=$r(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},gG={sign:mG,expand:fq,none:el,silhouette:hq,wiggle:mq,positive:pG},yG=(e,t,r)=>{var n=gG[r],a=dq().keys(t).value((s,i)=>Number(Ze(s,i,0))).order(Xy).offset(n);return a(e)};function xG(e){return e==null?void 0:String(e)}function zh(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Te(a[t.dataKey])){var l=jT(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ze(a,Te(i)?t.dataKey:i);return Te(c)?null:t.scale(c)}var ZN=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var l=Ze(s,t.dataKey,t.scale.domain()[i]);return Te(l)?null:t.scale(l)-a/2+n},vG=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},bG=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},wG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jG=(e,t,r)=>{if(e!=null)return wG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var d=SM(u,t,r),f=bG(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},e2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,al=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=cp(t,d=>d.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function r2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return ho(ho({},t),{},{dataKey:r,payload:n,value:a,name:s})}function jl(e,t){if(e)return String(e);if(typeof t=="string")return t}var kG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},NG=(e,t)=>t==="centric"?e.angle:e.radius,za=e=>e.layout.width,Fa=e=>e.layout.height,_G=e=>e.layout.scale,PM=e=>e.layout.margin,xp=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vp=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),OM="data-recharts-item-index",AM="data-recharts-item-data-key",Vu=60;function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){SG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SG(e,t,r){return(t=EG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PG=e=>e.brush.height;function OG(e){var t=vp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Vu;return r+a}return r},0)}function AG(e){var t=vp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Vu;return r+a}return r},0)}function TG(e){var t=xp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function MG(e){var t=xp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var At=V([za,Fa,PM,PG,OG,AG,TG,MG,GT,aY],(e,t,r,n,a,s,i,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+l},h=Jd(Jd({},f),d),m=h.bottom;h.bottom+=n,h=dG(h,c,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return Jd(Jd({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),IG=V(At,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Zb=V(za,Fa,(e,t)=>({x:0,y:0,width:e,height:t})),DG=y.createContext(null),xt=()=>y.useContext(DG)!=null,bp=e=>e.brush,wp=V([bp,At,PM],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),TM={},MM={},IM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(i,l),i=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),i=void 0,l=null},v=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;i=this,l=b;const w=h==null;m(),c&&w&&d()};return g.schedule=m,g.cancel=x,g.flush=v,a==null||a.addEventListener("abort",x,{once:!0}),g}e.debounce=t})(IM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IM;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(MM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MM;function r(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:l})}e.throttle=r})(TM);var RG=TM.throttle;const LG=ea(RG);var Fh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},DM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,l=Oa(n)?e:Number(n),c=Oa(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:l,calculatedHeight:c}},$G={width:0,height:0,overflow:"visible"},zG={width:0,overflowX:"visible"},FG={height:0,overflowY:"visible"},BG={},UG=e=>{var{width:t,height:r}=e,n=Oa(t),a=Oa(r);return n&&a?$G:n?zG:a?FG:BG};function HG(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function He(e){return Number.isFinite(e)}function Xn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){VG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VG(e,t,r){return(t=WG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RM=y.createContext({width:-1,height:-1});function qG(e){return Xn(e.width)&&Xn(e.height)}function LM(e){var{children:t,width:r,height:n}=e,a=y.useMemo(()=>({width:r,height:n}),[r,n]);return qG(a)?y.createElement(RM.Provider,{value:a},t):null}var ew=()=>y.useContext(RM),YG=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=y.useRef(null),v=y.useRef();v.current=m,y.useImperativeHandle(t,()=>x.current);var[g,b]=y.useState({containerWidth:n.width,containerHeight:n.height}),w=y.useCallback((S,P)=>{b(I=>{var E=Math.round(S),C=Math.round(P);return I.containerWidth===E&&I.containerHeight===C?I:{containerWidth:E,containerHeight:C}})},[]);y.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return zu;var S=C=>{var L,{width:O,height:R}=C[0].contentRect;w(O,R),(L=v.current)===null||L===void 0||L.call(v,O,R)};d>0&&(S=LG(S,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(S),{width:I,height:E}=x.current.getBoundingClientRect();return w(I,E),P.observe(x.current),()=>{P.disconnect()}},[w,d]);var{containerWidth:j,containerHeight:k}=g;Fh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=DM(j,k,{width:a,height:s,aspect:r,maxHeight:c});return Fh(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,a,s,i,l,r),y.createElement("div",{id:f?"".concat(f):void 0,className:Ce("recharts-responsive-container",h),style:s2(s2({},p),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:x},y.createElement("div",{style:UG({width:a,height:s})},y.createElement(LM,{width:_,height:N},u)))}),Zd=y.forwardRef((e,t)=>{var r=ew();if(Xn(r.width)&&Xn(r.height))return e.children;var{width:n,height:a}=HG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=DM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ue(s)&&ue(i)?y.createElement(LM,{width:s,height:i},e.children):y.createElement(YG,lx({},e,{width:n,height:a,ref:t}))});function $M(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var kl=()=>{var e,t=xt(),r=ie(IG),n=ie(wp),a=(e=ie(bp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},GG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zM=()=>{var e;return(e=ie(At))!==null&&e!==void 0?e:GG},tw=()=>ie(za),rw=()=>ie(Fa),XG=()=>ie(e=>e.layout.margin),Pe=e=>e.layout.layoutType,Wu=()=>ie(Pe),QG=()=>{var e=Wu();return e!==void 0},jp=e=>{var t=Ge(),r=xt(),{width:n,height:a}=e,s=ew(),i=n,l=a;return s&&(i=s.width>0?s.width:n,l=s.height>0?s.height:a),y.useEffect(()=>{!r&&Xn(i)&&Xn(l)&&t(sG({width:i,height:l}))},[t,r,i,l]),null},FM=Symbol.for("immer-nothing"),i2=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var au=Object.getPrototypeOf;function sl(e){return!!e&&!!e[zr]}function Ti(e){var t;return e?BM(e)||Array.isArray(e)||!!e[i2]||!!((t=e.constructor)!=null&&t[i2])||Ku(e)||Np(e):!1}var JG=Object.prototype.constructor.toString(),o2=new WeakMap;function BM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=o2.get(r);return n===void 0&&(n=Function.toString.call(r),o2.set(r,n)),n===JG}function Bh(e,t,r=!0){kp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function kp(e){const t=e[zr];return t?t.type_:Array.isArray(e)?1:Ku(e)?2:Np(e)?3:0}function cx(e,t){return kp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function UM(e,t,r){const n=kp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ku(e){return e instanceof Map}function Np(e){return e instanceof Set}function qs(e){return e.copy_||e.base_}function ux(e,t){if(Ku(e))return new Map(e);if(Np(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=BM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[zr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(au(e),n)}else{const n=au(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function nw(e,t=!1){return _p(e)||sl(e)||!Ti(e)||(kp(e)>1&&Object.defineProperties(e,{set:ef,add:ef,clear:ef,delete:ef}),Object.freeze(e),t&&Object.values(e).forEach(r=>nw(r,!0))),e}function eX(){yn(2)}var ef={value:eX};function _p(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var tX={};function Mi(e){const t=tX[e];return t||yn(0,e),t}var su;function HM(){return su}function rX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function l2(e,t){t&&(Mi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dx(e){fx(e),e.drafts_.forEach(nX),e.drafts_=null}function fx(e){e===su&&(su=e.parent_)}function c2(e){return su=rX(su,e)}function nX(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function u2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[zr].modified_&&(dx(t),yn(4)),Ti(e)&&(e=Uh(t,e),t.parent_||Hh(t,e)),t.patches_&&Mi("Patches").generateReplacementPatches_(r[zr].base_,e,t.patches_,t.inversePatches_)):e=Uh(t,r,[]),dx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==FM?e:void 0}function Uh(e,t,r){if(_p(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[zr];if(!a)return Bh(t,(s,i)=>d2(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Hh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),Bh(i,(c,u)=>d2(e,a,s,c,u,r,l),n),Hh(e,s,!1),r&&e.patches_&&Mi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function d2(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const l=_p(a);if(!(l&&!i)){if(sl(a)){const c=s&&t&&t.type_!==3&&!cx(t.assigned_,n)?s.concat(n):void 0,u=Uh(e,a,c);if(UM(r,n,u),sl(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Ti(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Uh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ku(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Hh(e,a)}}}function Hh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nw(t,r)}function aX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:HM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=aw;r&&(a=[n],s=iu);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var aw={get(e,t){if(t===zr)return e;const r=qs(e);if(!cx(r,t))return sX(e,r,t);const n=r[t];return e.finalized_||!Ti(n)?n:n===Gg(e.base_,t)?(Xg(e),e.copy_[t]=mx(n,e)):n},has(e,t){return t in qs(e)},ownKeys(e){return Reflect.ownKeys(qs(e))},set(e,t,r){const n=VM(qs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Gg(qs(e),t),s=a==null?void 0:a[zr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZG(r,a)&&(r!==void 0||cx(e.base_,t)))return!0;Xg(e),hx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xg(e),hx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){yn(11)},getPrototypeOf(e){return au(e.base_)},setPrototypeOf(){yn(12)}},iu={};Bh(aw,(e,t)=>{iu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});iu.deleteProperty=function(e,t){return iu.set.call(this,e,t,void 0)};iu.set=function(e,t,r){return aw.set.call(this,e[0],t,r,e[0])};function Gg(e,t){const r=e[zr];return(r?qs(r):e)[t]}function sX(e,t,r){var a;const n=VM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function VM(e,t){if(!(t in e))return;let r=au(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=au(r)}}function hx(e){e.modified_||(e.modified_=!0,e.parent_&&hx(e.parent_))}function Xg(e){e.copy_||(e.copy_=ux(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&yn(6),n!==void 0&&typeof n!="function"&&yn(7);let a;if(Ti(t)){const s=c2(this),i=mx(t,void 0);let l=!0;try{a=r(i),l=!1}finally{l?dx(s):fx(s)}return l2(s,n),u2(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===FM&&(a=void 0),this.autoFreeze_&&nw(a,!0),n){const s=[],i=[];Mi("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let n,a;return[this.produce(t,r,(i,l)=>{n=i,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ti(e)||yn(8),sl(e)&&(e=oX(e));const t=c2(this),r=mx(e,void 0);return r[zr].isManual_=!0,fx(t),r}finishDraft(e,t){const r=e&&e[zr];(!r||!r.isManual_)&&yn(9);const{scope_:n}=r;return l2(n,t),u2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Mi("Patches").applyPatches_;return sl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function mx(e,t){const r=Ku(e)?Mi("MapSet").proxyMap_(e,t):Np(e)?Mi("MapSet").proxySet_(e,t):aX(e,t);return(t?t.scope_:HM()).drafts_.push(r),r}function oX(e){return sl(e)||yn(10,e),WM(e)}function WM(e){if(!Ti(e)||_p(e))return e;const t=e[zr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ux(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ux(e,!0);return Bh(r,(a,s)=>{UM(r,a,WM(s))},n),t&&(t.finalized_=!1),r}var lX=new iX;lX.produce;var cX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KM=jr({name:"legend",initialState:cX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ve()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=kn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Ve()},removeLegendPayload:{reducer(e,t){var r=kn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ve()}}}),{setLegendSize:f2,setLegendSettings:uX,addLegendPayload:dX,replaceLegendPayload:fX,removeLegendPayload:hX}=KM.actions,mX=KM.reducer,pX=["contextPayload"];function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(null,arguments)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return(t=yX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vX(e,t){if(e==null)return{};var r,n,a=bX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wX(e){return e.value}function jX(e){var{contextPayload:t}=e,r=vX(e,pX),n=UT(t,e.payloadUniqBy,wX),a=il(il({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(Uq,a)}function kX(e,t,r,n,a,s){var{layout:i,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),il(il({},u),d)}function NX(e){var t=Ge();return y.useEffect(()=>{t(uX(e))},[t,e]),null}function _X(e){var t=Ge();return y.useEffect(()=>(t(f2(e)),()=>{t(f2({width:0,height:0}))}),[t,e]),null}function SX(e,t,r,n){return e==="vertical"&&ue(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var EX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function qM(e){var t=mt(e,EX),r=oY(),n=DK(),a=XG(),{width:s,height:i,wrapperStyle:l,portal:c}=t,[u,d]=XT([r]),f=tw(),h=rw();if(f==null||h==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=SX(t.layout,i,s,m),x=c?l:il(il({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},kX(l,t,a,f,h,u)),l),v=c??n;if(v==null||r==null)return null;var g=y.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},y.createElement(NX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&y.createElement(_X,{width:u.width,height:u.height}),y.createElement(jX,px({},t,p,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return ju.createPortal(g,v)}qM.displayName="Legend";function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return(t=PX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AX(e){return Array.isArray(e)&&tn(e[0])&&tn(e[1])?e.join(" ~ "):e}var TX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var k={padding:0,margin:0},_=(l?cp(s,l):s).map((N,S)=>{if(N.type==="none")return null;var P=N.formatter||i||AX,{value:I,name:E}=N,C=I,L=E;if(P){var O=P(I,E,N,S,s);if(Array.isArray(O))[C,L]=O;else if(O!=null)C=O;else return null}var R=Qg({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:R},tn(L)?y.createElement("span",{className:"recharts-tooltip-item-name"},L):null,tn(L)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},C),y.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:k},_)}return null},p=Qg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Qg({margin:0},a),v=!Te(d),g=v?d:"",b=Ce("recharts-default-tooltip",c),w=Ce("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(g=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",gx({className:b,style:p},j),y.createElement("p",{className:w,style:x},y.isValidElement(g)?g:"".concat(g)),m())},Kl="recharts-tooltip-wrapper",MX={visibility:"hidden"};function IX(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ce(Kl,{["".concat(Kl,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(Kl,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(Kl,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(Kl,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function p2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ue(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var h=c[n];if(h==null)return 0;if(i[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,v=h+u;return x>v?Math.max(d,h):Math.max(f,h)}function DX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function RX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=p2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=p2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=DX({translateX:d,translateY:f,useTranslate3d:l})):u=MX,{cssProperties:u,cssClasses:IX({translateX:d,translateY:f,coordinate:r})}}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yx(e,t,r){return(t=LX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zX extends y.PureComponent{constructor(){super(...arguments),yx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=RX({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=g?{}:tf(tf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=tf(tf({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:k,ref:v},s)}}var YM=()=>{var e;return(e=ie(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(null,arguments)}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v2={curveBasisClosed:eq,curveBasisOpen:tq,curveBasis:ZK,curveBumpX:zK,curveBumpY:FK,curveLinearClosed:rq,curveLinear:rp,curveMonotoneX:nq,curveMonotoneY:aq,curveNatural:sq,curveStep:iq,curveStepAfter:lq,curveStepBefore:oq},Vh=e=>He(e.x)&&He(e.y),b2=e=>e.base!=null&&Vh(e.base)&&Vh(e),ql=e=>e.x,Yl=e=>e.y,HX=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat($u(e));return(r==="curveMonotone"||r==="curveBump")&&t?v2["".concat(r).concat(t==="vertical"?"Y":"X")]:v2[r]||rp},VX=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=HX(t,a),l=s?r.filter(Vh):r,c;if(Array.isArray(n)){var u=r.map((m,p)=>x2(x2({},m),{},{base:n[p]}));a==="vertical"?c=Kd().y(Yl).x1(ql).x0(m=>m.base.x):c=Kd().x(ql).y1(Yl).y0(m=>m.base.y);var d=c.defined(b2).curve(i),f=s?u.filter(b2):u;return d(f)}a==="vertical"&&ue(n)?c=Kd().y(Yl).x1(ql).x0(n):ue(n)?c=Kd().x(ql).y1(Yl).y0(n):c=lT().x(ql).y(Yl);var h=c.defined(Vh).curve(i);return h(l)},sw=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?VX(e):n;return y.createElement("path",xx({},Lr(e),Tb(e),{className:Ce("recharts-curve",t),d:s===null?void 0:s,ref:a}))},WX=["x","y","top","left","width","height","className"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){qX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e,t){if(e==null)return{};var r,n,a=QX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JX=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),ZX=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=e,c=XX(e,WX),u=KX({x:t,y:r,top:n,left:a,width:s,height:i},c);return!ue(t)||!ue(r)||!ue(s)||!ue(i)||!ue(n)||!ue(a)?null:y.createElement("path",vx({},qt(u),{className:Ce("recharts-cross",l),d:JX(t,r,s,i,n,a)}))};function eQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(n){tQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tQ(e,t,r){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GM=(e,t,r)=>e.map(n=>"".concat(aQ(n)," ").concat(t,"ms ").concat(r)).join(","),sQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),ou=(e,t)=>Object.keys(t).reduce((r,n)=>k2(k2({},r),{},{[n]:e(n,t[n])}),{});function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){iQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iQ(e,t,r){return(t=oQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oQ(e){var t=lQ(e,"string");return typeof t=="symbol"?t:t+""}function lQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wh=(e,t,r)=>e+(t-e)*r,bx=e=>{var{from:t,to:r}=e;return t!==r},XM=(e,t,r)=>{var n=ou((a,s)=>{if(bx(s)){var[i,l]=e(s.from,s.to,s.velocity);return gt(gt({},s),{},{from:i,velocity:l})}return s},t);return r<1?ou((a,s)=>bx(s)?gt(gt({},s),{},{velocity:Wh(s.velocity,n[a].velocity,r),from:Wh(s.from,n[a].from,r)}):s,t):XM(e,n,r-1)};function cQ(e,t,r,n,a,s){var i,l=n.reduce((h,m)=>gt(gt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>ou((h,m)=>m.from,l),u=()=>!Object.values(l).filter(bx).length,d=null,f=h=>{i||(i=h);var m=h-i,p=m/r.dt;l=XM(r,l,p),a(gt(gt(gt({},e),t),c())),i=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function uQ(e,t,r,n,a,s,i){var l=null,c=a.reduce((f,h)=>gt(gt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=ou((x,v)=>Wh(...v,r(h)),c);if(s(gt(gt(gt({},e),t),m)),h<1)l=i.setTimeout(d);else{var p=ou((x,v)=>Wh(...v,r(1)),c);s(gt(gt(gt({},e),t),p))}};return()=>(l=i.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const dQ=(e,t,r,n,a,s)=>{var i=sQ(e,t);return r==null?()=>(a(gt(gt({},e),t)),()=>{}):r.isStepper===!0?cQ(e,t,r,i,a,s):uQ(e,t,r,n,i,a,s)};var Kh=1e-4,QM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],JM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),_2=(e,t)=>r=>{var n=QM(e,t);return JM(n,r)},fQ=(e,t)=>r=>{var n=QM(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return JM(a,r)},hQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},mQ=(e,t,r,n)=>{var a=_2(e,r),s=_2(t,n),i=fQ(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,p=i(f);if(Math.abs(m-d)<Kh||p<Kh)return s(f);f=l(f-m/p)}return s(f)};return c.isStepper=!1,c},S2=function(){return mQ(...hQ(...arguments))},pQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,l,c)=>{var u=-(i-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+i;return Math.abs(h-l)<Kh&&Math.abs(f)<Kh?[l,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},gQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S2(e);case"spring":return pQ();default:if(e.split("(")[0]==="cubic-bezier")return S2(e)}return typeof e=="function"?e:null};function yQ(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class xQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function vQ(){return yQ(new xQ)}var bQ=y.createContext(vQ);function wQ(e,t){var r=y.useContext(bQ);return y.useMemo(()=>t??r(e),[e,t,r])}var jQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qu={devToolsEnabled:!1,isSsr:jQ()},kQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},E2={t:0},Jg={t:1};function Yu(e){var t=mt(e,kQ),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!qu.isSsr:r,f=wQ(t.animationId,t.animationManager),[h,m]=y.useState(d?E2:Jg),p=y.useRef(null);return y.useEffect(()=>{d||m(Jg)},[d]),y.useEffect(()=>{if(!d||!n)return zu;var x=dQ(E2,Jg,gQ(s),a,m,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([c,i,v,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,s,i,c,l,f]),u(h.t)}function Gu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(eu(t)),n=y.useRef(e);return n.current!==e&&(r.current=eu(t),n.current=e),r.current}var NQ=["radius"],_Q=["radius"];function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(n){SQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SQ(e,t,r){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qh.apply(null,arguments)}function O2(e,t){if(e==null)return{};var r,n,a=PQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var A2=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);u="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},T2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZM=e=>{var t=mt(e,T2),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=y.useRef(l),g=y.useRef(c),b=y.useRef(s),w=y.useRef(i),j=y.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),k=Gu(j,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var _=Ce("recharts-rectangle",d);if(!x){var N=qt(t),{radius:S}=N,P=O2(N,NQ);return y.createElement("path",qh({},P,{radius:typeof u=="number"?u:void 0,className:_,d:A2(s,i,l,c,u)}))}var I=v.current,E=g.current,C=b.current,L=w.current,O="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),A=GM(["strokeDasharray"],h,typeof f=="string"?f:T2.animationEasing);return y.createElement(Yu,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},D=>{var T=$e(I,l,D),M=$e(E,c,D),z=$e(C,s,D),B=$e(L,i,D);r.current&&(v.current=T,g.current=M,b.current=z,w.current=B);var F;p?D>0?F={transition:A,strokeDasharray:R}:F={strokeDasharray:O}:F={strokeDasharray:R};var Y=qt(t),{radius:q}=Y,Q=O2(Y,_Q);return y.createElement("path",qh({},Q,{radius:typeof u=="number"?u:void 0,className:_,d:A2(z,B,T,M,u),ref:r,style:P2(P2({},F),t.style)}))})};function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){OQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t,r){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yh=Math.PI/180,MQ=e=>e*180/Math.PI,Rt=(e,t,r,n)=>({x:e+Math.cos(-Yh*n)*r,y:t+Math.sin(-Yh*n)*r}),IQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},DQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},RQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=DQ({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(r-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:MQ(c),angleInRadian:c}},LQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},$Q=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},zQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=RQ({x:r,y:n},t),{innerRadius:i,outerRadius:l}=t;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=LQ(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?I2(I2({},t),{},{radius:a,angle:$Q(d,t)}):null};function eI(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Rt(t,r,n,a),l=Rt(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(null,arguments)}var FQ=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},rf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=e,u=l*(i?1:-1)+n,d=Math.asin(l/u)/Yh,f=c?a:a+s*d,h=Rt(t,r,u,f),m=Rt(t,r,n,f),p=c?a-s*d:a,x=Rt(t,r,u*Math.cos(d*Yh),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},tI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,l=FQ(s,i),c=s+l,u=Rt(t,r,a,s),d=Rt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Rt(t,r,n,s),m=Rt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},BQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=mr(u-c),{circleTangency:f,lineTangency:h,theta:m}=rf({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:v}=rf({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-v;if(g<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):tI({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:k}=rf({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:_,lineTangency:N,theta:S}=rf({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=l?Math.abs(c-u):Math.abs(c-u)-k-S;if(P<0&&s===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},UQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rI=e=>{var t=mt(e,UQ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var h=Ce("recharts-sector",f),m=s-a,p=En(i,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=BQ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=tI({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),y.createElement("path",wx({},qt(t),{className:h,d:x}))};function HQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(NT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:l}=t,c=Rt(n,a,s,l),u=Rt(n,a,i,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return eI(t)}}var nI={},aI={},sI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(sI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(aI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb,r=aI;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}e.range=n})(nI);var VQ=nI.range;const iI=ea(VQ);function Ns(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iw(e){let t,r,n;e.length!==2?(t=Ns,r=(l,c)=>Ns(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ns||e===WQ?e:KQ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function KQ(){return 0}function oI(e){return e===null?NaN:+e}function*qQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const YQ=iw(Ns),Xu=YQ.right;iw(oI).center;class D2 extends Map{constructor(t,r=QQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(R2(this,t))}has(t){return super.has(R2(this,t))}set(t,r){return super.set(GQ(this,t),r)}delete(t){return super.delete(XQ(this,t))}}function R2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function GQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function XQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JQ(e=Ns){if(e===Ns)return lI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function lI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ZQ=Math.sqrt(50),eJ=Math.sqrt(10),tJ=Math.sqrt(2);function Gh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=ZQ?10:s>=eJ?5:s>=tJ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Gh(e,t,r*2):[l,c,u]}function jx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?Gh(t,e,r):Gh(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function kx(e,t,r){return t=+t,e=+e,r=+r,Gh(e,t,r)[2]}function Nx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?kx(t,e,r):kx(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function L2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function cI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?lI:JQ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));cI(e,t,m,p,a)}const s=e[t];let i=r,l=n;for(Gl(e,r,t),a(e[n],s)>0&&Gl(e,r,n);i<l;){for(Gl(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Gl(e,r,l):(++l,Gl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Gl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rJ(e,t,r){if(e=Float64Array.from(qQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $2(e);if(t>=1)return L2(e);var n,a=(n-1)*t,s=Math.floor(a),i=L2(cI(e,s).subarray(0,s+1)),l=$2(e.subarray(s+1));return i+(l-i)*(a-s)}}function nJ(e,t,r=oI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function aJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _x=Symbol("implicit");function ow(){var e=new D2,t=[],r=[],n=_x;function a(s){let i=e.get(s);if(i===void 0){if(n!==_x)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new D2;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return ow(t,r).unknown(n)},an.apply(a,arguments),a}function lw(){var e=ow().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,x=m?n:a;s=(x-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(x-p-s*(h-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var v=aJ(h).map(function(g){return p+s*g});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return lw(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},an.apply(f(),arguments)}function uI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uI(t())},e}function sJ(){return uI(lw.apply(null,arguments).paddingInner(1))}function iJ(e){return function(){return e}}function Xh(e){return+e}var z2=[0,1];function Jt(e){return e}function Sx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:iJ(isNaN(t)?NaN:.5)}function oJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lJ(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Sx(a,n),s=r(i,s)):(n=Sx(n,a),s=r(s,i)),function(l){return s(n(l))}}function cJ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Sx(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Xu(e,l,1,n)-1;return s[c](a[c](l))}}function Qu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sp(){var e=z2,t=z2,r=wa,n,a,s,i=Jt,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==Jt&&(i=oJ(e[0],e[h-1])),l=h>2?cJ:lJ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),mn)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Xh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=fb,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Jt,d()):i!==Jt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function cw(){return Sp()(Jt,Jt)}function uJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ol(e){return e=Qh(Math.abs(e)),e?e[1]:NaN}function dJ(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function fJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var hJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lu(e){if(!(t=hJ.exec(e)))throw new Error("invalid format: "+e);var t;return new uw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lu.prototype=uw.prototype;function uw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mJ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var dI;function pJ(e,t){var r=Qh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(dI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qh(e,Math.max(0,t+s-1))[0]}function F2(e,t){var r=Qh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const B2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F2(e*100,t),r:F2,s:pJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function U2(e){return e}var H2=Array.prototype.map,V2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gJ(e){var t=e.grouping===void 0||e.thousands===void 0?U2:dJ(H2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?U2:fJ(H2.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=lu(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,v=f.zero,g=f.width,b=f.comma,w=f.precision,j=f.trim,k=f.type;k==="n"?(b=!0,k="g"):B2[k]||(w===void 0&&(w=12),j=!0,k="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var _=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=x==="$"?n:/[%p]/.test(k)?i:"",S=B2[k],P=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(E){var C=_,L=N,O,R,A;if(k==="c")L=S(E)+L,E="";else{E=+E;var D=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),w),j&&(E=mJ(E)),D&&+E==0&&p!=="+"&&(D=!1),C=(D?p==="("?p:l:p==="-"||p==="("?"":p)+C,L=(k==="s"?V2[8+dI/3]:"")+L+(D&&p==="("?")":""),P){for(O=-1,R=E.length;++O<R;)if(A=E.charCodeAt(O),48>A||A>57){L=(A===46?a+E.slice(O+1):E.slice(O))+L,E=E.slice(0,O);break}}}b&&!v&&(E=t(E,1/0));var T=C.length+E.length+L.length,M=T<g?new Array(g-T+1).join(h):"";switch(b&&v&&(E=t(M+E,M.length?g-L.length:1/0),M=""),m){case"<":E=C+E+L+M;break;case"=":E=C+M+E+L;break;case"^":E=M.slice(0,T=M.length>>1)+C+E+L+M.slice(T);break;default:E=M+C+E+L;break}return s(E)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=lu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(ol(h)/3)))*3,x=Math.pow(10,-p),v=V2[8+p/3];return function(g){return m(x*g)+v}}return{format:u,formatPrefix:d}}var nf,dw,fI;yJ({thousands:",",grouping:[3],currency:["$",""]});function yJ(e){return nf=gJ(e),dw=nf.format,fI=nf.formatPrefix,nf}function xJ(e){return Math.max(0,-ol(Math.abs(e)))}function vJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ol(t)/3)))*3-ol(Math.abs(e)))}function bJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ol(t)-ol(e))+1}function hI(e,t,r,n){var a=Nx(e,t,r),s;switch(n=lu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=vJ(a,i))&&(n.precision=s),fI(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=bJ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=xJ(a))&&(n.precision=s-(n.type==="%")*2);break}}return dw(n)}function $s(e){var t=e.domain;return e.ticks=function(r){var n=t();return jx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return hI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=kx(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function mI(){var e=cw();return e.copy=function(){return Qu(e,mI())},an.apply(e,arguments),$s(e)}function pI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pI(e).unknown(t)},e=arguments.length?Array.from(e,Xh):[0,1],$s(r)}function gI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function W2(e){return Math.log(e)}function K2(e){return Math.exp(e)}function wJ(e){return-Math.log(-e)}function jJ(e){return-Math.exp(-e)}function kJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NJ(e){return e===10?kJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _J(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function q2(e){return(t,r)=>-e(-t,r)}function fw(e){const t=e(W2,K2),r=t.domain;let n=10,a,s;function i(){return a=_J(n),s=NJ(n),r()[0]<0?(a=q2(a),s=q2(s),e(wJ,jJ)):e(W2,K2),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,x;const v=l==null?10:+l;let g=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<v&&(g=jx(u,d,v))}else g=jx(h,m,Math.min(m-h,v)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=lu(c)).precision==null&&(c.trim=!0),c=dw(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(gI(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function yI(){const e=fw(Sp()).domain([1,10]);return e.copy=()=>Qu(e,yI()).base(e.base()),an.apply(e,arguments),e}function Y2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hw(e){var t=1,r=e(Y2(t),G2(t));return r.constant=function(n){return arguments.length?e(Y2(t=+n),G2(t)):t},$s(r)}function xI(){var e=hw(Sp());return e.copy=function(){return Qu(e,xI()).constant(e.constant())},an.apply(e,arguments)}function X2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EJ(e){return e<0?-e*e:e*e}function mw(e){var t=e(Jt,Jt),r=1;function n(){return r===1?e(Jt,Jt):r===.5?e(SJ,EJ):e(X2(r),X2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$s(t)}function pw(){var e=mw(Sp());return e.copy=function(){return Qu(e,pw()).exponent(e.exponent())},an.apply(e,arguments),e}function CJ(){return pw.apply(null,arguments).exponent(.5)}function Q2(e){return Math.sign(e)*e*e}function PJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vI(){var e=cw(),t=[0,1],r=!1,n;function a(s){var i=PJ(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(Q2(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Xh)).map(Q2)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return vI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},an.apply(a,arguments),$s(a)}function bI(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=nJ(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Xu(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ns),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return bI().domain(e).range(t).unknown(n)},an.apply(s,arguments)}function wI(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Xu(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return wI().domain([e,t]).range(a).unknown(s)},an.apply($s(i),arguments)}function jI(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Xu(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return jI().domain(e).range(t).unknown(r)},an.apply(a,arguments)}const Zg=new Date,e0=new Date;function vt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>vt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Zg.setTime(+s),e0.setTime(+i),e(Zg),e(e0),Math.floor(r(Zg,e0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Jh=vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jh);Jh.range;const ya=1e3,Qr=ya*60,xa=Qr*60,Ta=xa*24,gw=Ta*7,J2=Ta*30,t0=Ta*365,ri=vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCSeconds());ri.range;const yw=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getMinutes());yw.range;const xw=vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCMinutes());xw.range;const vw=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya-e.getMinutes()*Qr)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getHours());vw.range;const bw=vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getUTCHours());bw.range;const Ju=vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/Ta,e=>e.getDate()-1);Ju.range;const Ep=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ta,e=>e.getUTCDate()-1);Ep.range;const kI=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ta,e=>Math.floor(e/Ta));kI.range;function Hi(e){return vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/gw)}const Cp=Hi(0),Zh=Hi(1),OJ=Hi(2),AJ=Hi(3),ll=Hi(4),TJ=Hi(5),MJ=Hi(6);Cp.range;Zh.range;OJ.range;AJ.range;ll.range;TJ.range;MJ.range;function Vi(e){return vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/gw)}const Pp=Vi(0),em=Vi(1),IJ=Vi(2),DJ=Vi(3),cl=Vi(4),RJ=Vi(5),LJ=Vi(6);Pp.range;em.range;IJ.range;DJ.range;cl.range;RJ.range;LJ.range;const ww=vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ww.range;const jw=vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jw.range;const Ma=vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ma.range;const Ia=vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ia.range;function NI(e,t,r,n,a,s){const i=[[ri,1,ya],[ri,5,5*ya],[ri,15,15*ya],[ri,30,30*ya],[s,1,Qr],[s,5,5*Qr],[s,15,15*Qr],[s,30,30*Qr],[a,1,xa],[a,3,3*xa],[a,6,6*xa],[a,12,12*xa],[n,1,Ta],[n,2,2*Ta],[r,1,gw],[t,1,J2],[t,3,3*J2],[e,1,t0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=iw(([,,v])=>v).right(i,h);if(m===i.length)return e.every(Nx(u/t0,d/t0,f));if(m===0)return Jh.every(Math.max(Nx(u,d,f),1));const[p,x]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return p.every(x)}return[l,c]}const[$J,zJ]=NI(Ia,jw,Pp,kI,bw,xw),[FJ,BJ]=NI(Ma,ww,Cp,Ju,vw,yw);function r0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function n0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Ql(a),d=Jl(a),f=Ql(s),h=Jl(s),m=Ql(i),p=Jl(i),x=Ql(l),v=Jl(l),g=Ql(c),b=Jl(c),w={a:D,A:T,b:M,B:z,c:null,d:a_,e:a_,f:dZ,g:wZ,G:kZ,H:lZ,I:cZ,j:uZ,L:_I,m:fZ,M:hZ,p:B,q:F,Q:o_,s:l_,S:mZ,u:pZ,U:gZ,V:yZ,w:xZ,W:vZ,x:null,X:null,y:bZ,Y:jZ,Z:NZ,"%":i_},j={a:Y,A:q,b:Q,B:le,c:null,d:s_,e:s_,f:CZ,g:$Z,G:FZ,H:_Z,I:SZ,j:EZ,L:EI,m:PZ,M:OZ,p:J,q:X,Q:o_,s:l_,S:AZ,u:TZ,U:MZ,V:IZ,w:DZ,W:RZ,x:null,X:null,y:LZ,Y:zZ,Z:BZ,"%":i_},k={a:I,A:E,b:C,B:L,c:O,d:r_,e:r_,f:aZ,g:t_,G:e_,H:n_,I:n_,j:eZ,L:nZ,m:ZJ,M:tZ,p:P,q:JJ,Q:iZ,s:oZ,S:rZ,u:qJ,U:YJ,V:GJ,w:KJ,W:XJ,x:R,X:A,y:t_,Y:e_,Z:QJ,"%":sZ};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(H,te){return function(Z){var K=[],re=-1,ce=0,ge=H.length,pe,Ie,U;for(Z instanceof Date||(Z=new Date(+Z));++re<ge;)H.charCodeAt(re)===37&&(K.push(H.slice(ce,re)),(Ie=Z2[pe=H.charAt(++re)])!=null?pe=H.charAt(++re):Ie=pe==="e"?" ":"0",(U=te[pe])&&(pe=U(Z,Ie)),K.push(pe),ce=re+1);return K.push(H.slice(ce,re)),K.join("")}}function N(H,te){return function(Z){var K=Xl(1900,void 0,1),re=S(K,H,Z+="",0),ce,ge;if(re!=Z.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(te&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ce=n0(Xl(K.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?em.ceil(ce):em(ce),ce=Ep.offset(ce,(K.V-1)*7),K.y=ce.getUTCFullYear(),K.m=ce.getUTCMonth(),K.d=ce.getUTCDate()+(K.w+6)%7):(ce=r0(Xl(K.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?Zh.ceil(ce):Zh(ce),ce=Ju.offset(ce,(K.V-1)*7),K.y=ce.getFullYear(),K.m=ce.getMonth(),K.d=ce.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ge="Z"in K?n0(Xl(K.y,0,1)).getUTCDay():r0(Xl(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ge+5)%7:K.w+K.U*7-(ge+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,n0(K)):r0(K)}}function S(H,te,Z,K){for(var re=0,ce=te.length,ge=Z.length,pe,Ie;re<ce;){if(K>=ge)return-1;if(pe=te.charCodeAt(re++),pe===37){if(pe=te.charAt(re++),Ie=k[pe in Z2?te.charAt(re++):pe],!Ie||(K=Ie(H,Z,K))<0)return-1}else if(pe!=Z.charCodeAt(K++))return-1}return K}function P(H,te,Z){var K=u.exec(te.slice(Z));return K?(H.p=d.get(K[0].toLowerCase()),Z+K[0].length):-1}function I(H,te,Z){var K=m.exec(te.slice(Z));return K?(H.w=p.get(K[0].toLowerCase()),Z+K[0].length):-1}function E(H,te,Z){var K=f.exec(te.slice(Z));return K?(H.w=h.get(K[0].toLowerCase()),Z+K[0].length):-1}function C(H,te,Z){var K=g.exec(te.slice(Z));return K?(H.m=b.get(K[0].toLowerCase()),Z+K[0].length):-1}function L(H,te,Z){var K=x.exec(te.slice(Z));return K?(H.m=v.get(K[0].toLowerCase()),Z+K[0].length):-1}function O(H,te,Z){return S(H,t,te,Z)}function R(H,te,Z){return S(H,r,te,Z)}function A(H,te,Z){return S(H,n,te,Z)}function D(H){return i[H.getDay()]}function T(H){return s[H.getDay()]}function M(H){return c[H.getMonth()]}function z(H){return l[H.getMonth()]}function B(H){return a[+(H.getHours()>=12)]}function F(H){return 1+~~(H.getMonth()/3)}function Y(H){return i[H.getUTCDay()]}function q(H){return s[H.getUTCDay()]}function Q(H){return c[H.getUTCMonth()]}function le(H){return l[H.getUTCMonth()]}function J(H){return a[+(H.getUTCHours()>=12)]}function X(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var te=_(H+="",w);return te.toString=function(){return H},te},parse:function(H){var te=N(H+="",!1);return te.toString=function(){return H},te},utcFormat:function(H){var te=_(H+="",j);return te.toString=function(){return H},te},utcParse:function(H){var te=N(H+="",!0);return te.toString=function(){return H},te}}}var Z2={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,HJ=/^%/,VJ=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function WJ(e){return e.replace(VJ,"\\$&")}function Ql(e){return new RegExp("^(?:"+e.map(WJ).join("|")+")","i")}function Jl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function KJ(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qJ(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function YJ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function GJ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function XJ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function e_(e,t,r){var n=Tt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function t_(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JJ(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ZJ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function r_(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function eZ(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function n_(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function tZ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function rZ(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function nZ(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function aZ(e,t,r){var n=Tt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sZ(e,t,r){var n=HJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function iZ(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function oZ(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function a_(e,t){return Ne(e.getDate(),t,2)}function lZ(e,t){return Ne(e.getHours(),t,2)}function cZ(e,t){return Ne(e.getHours()%12||12,t,2)}function uZ(e,t){return Ne(1+Ju.count(Ma(e),e),t,3)}function _I(e,t){return Ne(e.getMilliseconds(),t,3)}function dZ(e,t){return _I(e,t)+"000"}function fZ(e,t){return Ne(e.getMonth()+1,t,2)}function hZ(e,t){return Ne(e.getMinutes(),t,2)}function mZ(e,t){return Ne(e.getSeconds(),t,2)}function pZ(e){var t=e.getDay();return t===0?7:t}function gZ(e,t){return Ne(Cp.count(Ma(e)-1,e),t,2)}function SI(e){var t=e.getDay();return t>=4||t===0?ll(e):ll.ceil(e)}function yZ(e,t){return e=SI(e),Ne(ll.count(Ma(e),e)+(Ma(e).getDay()===4),t,2)}function xZ(e){return e.getDay()}function vZ(e,t){return Ne(Zh.count(Ma(e)-1,e),t,2)}function bZ(e,t){return Ne(e.getFullYear()%100,t,2)}function wZ(e,t){return e=SI(e),Ne(e.getFullYear()%100,t,2)}function jZ(e,t){return Ne(e.getFullYear()%1e4,t,4)}function kZ(e,t){var r=e.getDay();return e=r>=4||r===0?ll(e):ll.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function NZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function s_(e,t){return Ne(e.getUTCDate(),t,2)}function _Z(e,t){return Ne(e.getUTCHours(),t,2)}function SZ(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function EZ(e,t){return Ne(1+Ep.count(Ia(e),e),t,3)}function EI(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function CZ(e,t){return EI(e,t)+"000"}function PZ(e,t){return Ne(e.getUTCMonth()+1,t,2)}function OZ(e,t){return Ne(e.getUTCMinutes(),t,2)}function AZ(e,t){return Ne(e.getUTCSeconds(),t,2)}function TZ(e){var t=e.getUTCDay();return t===0?7:t}function MZ(e,t){return Ne(Pp.count(Ia(e)-1,e),t,2)}function CI(e){var t=e.getUTCDay();return t>=4||t===0?cl(e):cl.ceil(e)}function IZ(e,t){return e=CI(e),Ne(cl.count(Ia(e),e)+(Ia(e).getUTCDay()===4),t,2)}function DZ(e){return e.getUTCDay()}function RZ(e,t){return Ne(em.count(Ia(e)-1,e),t,2)}function LZ(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function $Z(e,t){return e=CI(e),Ne(e.getUTCFullYear()%100,t,2)}function zZ(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function FZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?cl(e):cl.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function BZ(){return"+0000"}function i_(){return"%"}function o_(e){return+e}function l_(e){return Math.floor(+e/1e3)}var Yi,PI,OI;UZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UZ(e){return Yi=UJ(e),PI=Yi.format,Yi.parse,OI=Yi.utcFormat,Yi.utcParse,Yi}function HZ(e){return new Date(e)}function VZ(e){return e instanceof Date?+e:+new Date(+e)}function kw(e,t,r,n,a,s,i,l,c,u){var d=cw(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function k(_){return(c(_)<_?m:l(_)<_?p:i(_)<_?x:s(_)<_?v:n(_)<_?a(_)<_?g:b:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,VZ)):h().map(HZ)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?k:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(gI(N,_)):d},d.copy=function(){return Qu(d,kw(e,t,r,n,a,s,i,l,c,u))},d}function WZ(){return an.apply(kw(FJ,BJ,Ma,ww,Cp,Ju,vw,yw,ri,PI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KZ(){return an.apply(kw($J,zJ,Ia,jw,Pp,Ep,bw,xw,ri,OI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Op(){var e=0,t=1,r,n,a,s,i=Jt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,i=f(m,p),u):[i(0),i(1)]}}return u.range=d(wa),u.rangeRound=d(fb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AI(){var e=$s(Op()(Jt));return e.copy=function(){return zs(e,AI())},Ba.apply(e,arguments)}function TI(){var e=fw(Op()).domain([1,10]);return e.copy=function(){return zs(e,TI()).base(e.base())},Ba.apply(e,arguments)}function MI(){var e=hw(Op());return e.copy=function(){return zs(e,MI()).constant(e.constant())},Ba.apply(e,arguments)}function Nw(){var e=mw(Op());return e.copy=function(){return zs(e,Nw()).exponent(e.exponent())},Ba.apply(e,arguments)}function qZ(){return Nw.apply(null,arguments).exponent(.5)}function II(){var e=[],t=Jt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Xu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ns),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>rJ(e,s/n))},r.copy=function(){return II(t).domain(e)},Ba.apply(r,arguments)}function Ap(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=Jt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(v){var g,b,w;return arguments.length?([g,b,w]=v,u=_9(x,[g,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(wa),m.rangeRound=p(fb),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),s=x(t),i=x(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function DI(){var e=$s(Ap()(Jt));return e.copy=function(){return zs(e,DI())},Ba.apply(e,arguments)}function RI(){var e=fw(Ap()).domain([.1,1,10]);return e.copy=function(){return zs(e,RI()).base(e.base())},Ba.apply(e,arguments)}function LI(){var e=hw(Ap());return e.copy=function(){return zs(e,LI()).constant(e.constant())},Ba.apply(e,arguments)}function _w(){var e=mw(Ap());return e.copy=function(){return zs(e,_w()).exponent(e.exponent())},Ba.apply(e,arguments)}function YZ(){return _w.apply(null,arguments).exponent(.5)}const lc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lw,scaleDiverging:DI,scaleDivergingLog:RI,scaleDivergingPow:_w,scaleDivergingSqrt:YZ,scaleDivergingSymlog:LI,scaleIdentity:pI,scaleImplicit:_x,scaleLinear:mI,scaleLog:yI,scaleOrdinal:ow,scalePoint:sJ,scalePow:pw,scaleQuantile:bI,scaleQuantize:wI,scaleRadial:vI,scaleSequential:AI,scaleSequentialLog:TI,scaleSequentialPow:Nw,scaleSequentialQuantile:II,scaleSequentialSqrt:qZ,scaleSequentialSymlog:MI,scaleSqrt:CJ,scaleSymlog:xI,scaleThreshold:jI,scaleTime:WZ,scaleUtc:KZ,tickFormat:hI},Symbol.toStringTag,{value:"Module"}));var Fs=e=>e.chartData,GZ=V([Fs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Zu=(e,t,r,n)=>n?GZ(e):Fs(e);function Cs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(He(t)&&He(r))return!0}return!1}function c_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $I(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(He(r))a=r;else if(typeof r=="function")return;if(He(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Cs(i))return i}}function XZ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Cs(n))return c_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,l;if(a==="auto")t!=null&&(i=Math.min(...t));else if(ue(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&e2.test(a)){var c=e2.exec(a);if(c==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ue(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&t2.test(s)){var d=t2.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[i,l];if(Cs(h))return t==null?h:c_(h,t,r)}}}var Nl=1e9,QZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ew,Ke=!0,nn="[DecimalError] ",vi=nn+"Invalid argument: ",Sw=nn+"Exponent out of range: ",_l=Math.floor,Ys=Math.pow,JZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,St=1e7,Be=7,zI=9007199254740991,tm=_l(zI/Be),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Be;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(e){return ja(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,r=t.constructor;return De(ja(t,new r(e),0,1),r.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return ft(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pr))throw Error(nn+"NaN");if(r.s<1)throw Error(nn+(r.s?"NaN":"-Infinity"));return r.eq(Pr)?new n(0):(Ke=!1,t=ja(cu(r,s),cu(e,s),s),Ke=!0,De(t,a))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UI(t,e):FI(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(nn+"NaN");return r.s?(Ke=!1,t=ja(r,e,0,1).times(e),Ke=!0,r.minus(t)):De(new n(r),a)};oe.naturalExponential=oe.exp=function(){return BI(this)};oe.naturalLogarithm=oe.ln=function(){return cu(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FI(t,e):UI(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vi+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Be+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};oe.squareRoot=oe.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(nn+"NaN")}for(e=ft(l),Ke=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Un(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_l((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(ja(l,s,i+2)).times(.5),Un(s.d).slice(0,i)===(t=Un(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(De(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Ke=!0,De(n,r)};oe.times=oe.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%St|0,t=l/St|0;s[a]=(s[a]+t)%St|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ke?De(e,f.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qn(e,0,Nl),t===void 0?t=n.rounding:Qn(t,0,8),De(r,e+ft(r)+1,t))};oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ii(n,!0):(Qn(e,0,Nl),t===void 0?t=a.rounding:Qn(t,0,8),n=De(new a(n),e+1,t),r=Ii(n,!0,e+1)),r};oe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Ii(a):(Qn(e,0,Nl),t===void 0?t=s.rounding:Qn(t,0,8),n=De(new s(a),e+ft(a)+1,t),r=Ii(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return De(new t(e),ft(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Pr);if(l=new c(l),!l.s){if(e.s<1)throw Error(nn+"Infinity");return l}if(l.eq(Pr))return l;if(n=c.precision,e.eq(Pr))return De(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=zI){for(a=new c(Pr),t=Math.ceil(n/Be+4),Ke=!1;r%2&&(a=a.times(l),d_(a.d,t)),r=_l(r/2),r!==0;)l=l.times(l),d_(l.d,t);return Ke=!0,e.s<0?new c(Pr).div(a):De(a,n)}}else if(s<0)throw Error(nn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ke=!1,a=e.times(cu(l,n+u)),Ke=!0,a=BI(a),a.s=s,a};oe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ft(a),n=Ii(a,r<=s.toExpNeg||r>=s.toExpPos)):(Qn(e,1,Nl),t===void 0?t=s.rounding:Qn(t,0,8),a=De(new s(a),e,t),r=ft(a),n=Ii(a,e<=r||r<=s.toExpNeg,e)),n};oe.toSignificantDigits=oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qn(e,1,Nl),t===void 0?t=n.rounding:Qn(t,0,8)),De(new n(r),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Ii(e,t<=r.toExpNeg||t>=r.toExpPos)};function FI(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ke?De(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Be),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/St|0,c[s]%=St;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ke?De(t,f):t}function Qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(vi+e)}function Un(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Be-n.length,r&&(s+=Qa(r)),s+=n;i=e[t],n=i+"",r=Be-n.length,r&&(s+=Qa(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ja=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%St|0,i=s/St|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*St+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,p,x,v,g,b,w,j,k,_,N,S,P=n.constructor,I=n.s==a.s?1:-1,E=n.d,C=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(nn+"Division by zero");for(c=n.e-a.e,N=C.length,k=E.length,m=new P(I),p=m.d=[],u=0;C[u]==(E[u]||0);)++u;if(C[u]>(E[u]||0)&&--c,s==null?b=s=P.precision:i?b=s+(ft(n)-ft(a))+1:b=s,b<0)return new P(0);if(b=b/Be+2|0,u=0,N==1)for(d=0,C=C[0],b++;(u<k||d)&&b--;u++)w=d*St+(E[u]||0),p[u]=w/C|0,d=w%C|0;else{for(d=St/(C[0]+1)|0,d>1&&(C=e(C,d),E=e(E,d),N=C.length,k=E.length),j=N,x=E.slice(0,N),v=x.length;v<N;)x[v++]=0;S=C.slice(),S.unshift(0),_=C[0],C[1]>=St/2&&++_;do d=0,l=t(C,x,N,v),l<0?(g=x[0],N!=v&&(g=g*St+(x[1]||0)),d=g/_|0,d>1?(d>=St&&(d=St-1),f=e(C,d),h=f.length,v=x.length,l=t(f,x,h,v),l==1&&(d--,r(f,N<h?S:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(C,x,N,v),l<1&&(d++,r(x,N<v?S:C,v))),v=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[v++]=E[j]||0:(x=[E[j]],v=1);while((j++<k||x[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,De(m,i?s+ft(m)+1:s)}}();function BI(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error(Sw+ft(e));if(!e.s)return new d(Pr);for(Ke=!1,l=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Ys(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Pr),d.precision=l;;){if(a=De(a.times(e),l),r=r.times(++c),i=s.plus(ja(a,r,l)),Un(i.d).slice(0,l)===Un(s.d).slice(0,l)){for(;u--;)s=De(s.times(s),l);return d.precision=f,t==null?(Ke=!0,De(s,f)):s}s=i}}function ft(e){for(var t=e.e*Be,r=e.d[0];r>=10;r/=10)t++;return t}function a0(e,t,r){if(t>e.LN10.sd())throw Ke=!0,r&&(e.precision=r),Error(nn+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function Qa(e){for(var t="";e--;)t+="0";return t}function cu(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(nn+(m.s?"NaN":"-Infinity"));if(m.eq(Pr))return new x(0);if(t==null?(Ke=!1,u=v):u=t,m.eq(10))return t==null&&(Ke=!0),a0(x,u);if(u+=h,x.precision=u,r=Un(p),n=r.charAt(0),s=ft(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Un(m.d),n=r.charAt(0),f++;s=ft(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=a0(x,u+2,v).times(s+""),m=cu(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=v,t==null?(Ke=!0,De(m,v)):m;for(l=i=m=ja(m.minus(Pr),m.plus(Pr),u),d=De(m.times(m),u),a=3;;){if(i=De(i.times(d),u),c=l.plus(ja(i,new x(a),u)),Un(c.d).slice(0,u)===Un(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(a0(x,u+2,v).times(s+""))),l=ja(l,new x(f),u),x.precision=v,t==null?(Ke=!0,De(l,v)):l;l=c,a+=2}}function u_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=_l(r/Be),e.d=[],n=(r+1)%Be,r<0&&(n+=Be),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Be;n<a;)e.d.push(+t.slice(n,n+=Be));t=t.slice(n),n=Be-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ke&&(e.e>tm||e.e<-tm))throw Error(Sw+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Be,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Be),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Be,a=n-Be+i}if(r!==void 0&&(s=Ys(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ys(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ft(e),f.length=1,t=t-s-1,f[0]=Ys(10,(Be-t%Be)%Be),e.e=_l(-t/Be)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ys(10,Be-n),f[d]=a>0?(u/Ys(10,i-a)%Ys(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==St&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=St)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ke&&(e.e>tm||e.e<-tm))throw Error(Sw+ft(e));return e}function UI(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ke?De(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Be),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=St-1;--c[s],c[a]+=St}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ke?De(t,m):t):new h(0)}function Ii(e,t,r){var n,a=ft(e),s=Un(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Qa(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Qa(-a-1)+s,r&&(n=r-i)>0&&(s+=Qa(n))):a>=i?(s+=Qa(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Qa(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Qa(n))),e.s<0?"-"+s:s}function d_(e,t){if(e.length>t)return e.length=t,!0}function HI(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vi+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return u_(i,s.toString())}else if(typeof s!="string")throw Error(vi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,JZ.test(s))u_(i,s);else throw Error(vi+s)}if(a.prototype=oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=HI,a.config=a.set=ZZ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ZZ(e){if(!e||typeof e!="object")throw Error(nn+"Object expected");var t,r,n,a=["precision",1,Nl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(_l(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(vi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vi+r+": "+n);return this}var Ew=HI(QZ);Pr=new Ew(1);const Ae=Ew;var eee=e=>e,VI={},WI=e=>e===VI,f_=e=>function t(){return arguments.length===0||arguments.length===1&&WI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},KI=(e,t)=>e===1?t:f_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==VI).length;return s>=e?t(...n):KI(e-s,f_(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(d=>WI(d)?l.shift():d);return t(...u,...l)}))}),tee=e=>KI(e.length,e),Ex=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ree=tee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),nee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return eee;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},Cx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function qI(e){var t;return e===0?t=1:t=Math.floor(new Ae(e).abs().log(10).toNumber())+1,t}function YI(e,t,r){for(var n=new Ae(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var GI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},XI=(e,t,r)=>{if(e.lte(0))return new Ae(0);var n=qI(e.toNumber()),a=new Ae(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new Ae(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?new Ae(c.toNumber()):new Ae(Math.ceil(c.toNumber()))},aee=(e,t,r)=>{var n=new Ae(1),a=new Ae(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ae(10).pow(qI(e)-1),a=new Ae(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ae(Math.floor(e)))}else e===0?a=new Ae(Math.floor((t-1)/2)):r||(a=new Ae(Math.floor(e)));var i=Math.floor((t-1)/2),l=nee(ree(c=>a.add(new Ae(c-i).mul(n)).toNumber()),Ex);return l(0,t)},QI=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ae(0),tickMin:new Ae(0),tickMax:new Ae(0)};var i=XI(new Ae(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Ae(0):(l=new Ae(t).add(r).div(2),l=l.sub(new Ae(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),u=Math.ceil(new Ae(r).sub(l).div(i).toNumber()),d=c+u+1;return d>n?QI(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:l.sub(new Ae(c).mul(i)),tickMax:l.add(new Ae(u).mul(i))})},see=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,c]=GI([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Ex(0,a-1).map(()=>1/0)]:[...Ex(0,a-1).map(()=>-1/0),c];return r>n?Cx(u):u}if(l===c)return aee(l,a,s);var{step:d,tickMin:f,tickMax:h}=QI(l,c,i,s,0),m=YI(f,h.add(new Ae(.1).mul(d)),d);return r>n?Cx(m):m},iee=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=GI([n,a]);if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(r,2),u=XI(new Ae(l).sub(i).div(c-1),s,0),d=[...YI(new Ae(i),new Ae(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?Cx(d):d},JI=e=>e.rootProps.maxBarSize,oee=e=>e.rootProps.barGap,ZI=e=>e.rootProps.barCategoryGap,lee=e=>e.rootProps.barSize,Tp=e=>e.rootProps.stackOffset,e4=e=>e.rootProps.reverseStackOrder,Cw=e=>e.options.chartName,Pw=e=>e.rootProps.syncId,t4=e=>e.rootProps.syncMethod,Ow=e=>e.options.eventEmitter,ot={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},fa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Er={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Mp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fa.angleAxisId,includeHidden:!1,name:void 0,reversed:fa.reversed,scale:fa.scale,tick:fa.tick,tickCount:void 0,ticks:void 0,type:fa.type,unit:void 0},uee={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:Er.type,unit:void 0},dee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fa.scale,tick:fa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fee={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:"category",unit:void 0},Aw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dee:cee,Tw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fee:uee,Ip=e=>e.polarOptions,Mw=V([za,Fa,At],IQ),r4=V([Ip,Mw],(e,t)=>{if(e!=null)return En(e.innerRadius,t,0)}),n4=V([Ip,Mw],(e,t)=>{if(e!=null)return En(e.outerRadius,t,t*.8)}),hee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},a4=V([Ip],hee);V([Aw,a4],Mp);var s4=V([Mw,r4,n4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([Tw,s4],Mp);var i4=V([Pe,Ip,r4,n4,za,Fa],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=t;return{cx:En(i,a,a/2),cy:En(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),bt=(e,t)=>t,Dp=(e,t,r)=>r;function Iw(e){return e==null?void 0:e.id}function o4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Iw(l);u.forEach((f,h)=>{var m=s==null||a?h:String(Ze(f,s,null)),p=Ze(f,l.dataKey,0),x;i.has(m)?x=i.get(m):x={},Object.assign(x,{[d]:p}),i.set(m,x)})}}),Array.from(i.values())}function Rp(e){return e.stackId!=null&&e.dataKey!=null}var Lp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function $p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function mee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wt=e=>{var t=Pe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Sl=e=>e.tooltip.settings.axisId;function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pee(e,t,r){return(t=gee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Px=[0,"auto"],kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},l4=(e,t)=>e.cartesianAxis.xAxis[t],na=(e,t)=>{var r=l4(e,t);return r??kt},Nt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Px,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vu},c4=(e,t)=>e.cartesianAxis.yAxis[t],aa=(e,t)=>{var r=c4(e,t);return r??Nt},u4={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Dw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??u4},ar=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"zAxis":return Dw(e,r);case"angleAxis":return Aw(e,r);case"radiusAxis":return Tw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xee=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ed=(e,t,r)=>{switch(t){case"xAxis":return na(e,r);case"yAxis":return aa(e,r);case"angleAxis":return Aw(e,r);case"radiusAxis":return Tw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},d4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function f4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var td=e=>e.graphicalItems.cartesianItems,vee=V([bt,Dp],f4),h4=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),rd=V([td,ar,vee],h4,{memoizeOptions:{resultEqualityCheck:$p}}),m4=V([rd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Rp)),p4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bee=V([rd],p4),g4=e=>e.map(t=>t.data).filter(Boolean).flat(1),wee=V([rd],g4,{memoizeOptions:{resultEqualityCheck:$p}}),y4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Rw=V([wee,Zu],y4),x4=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ze(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ze(a,n)}))):e.map(n=>({value:n})),zp=V([Rw,ar,rd],x4);function v4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Rf(e){if(tn(e)||e instanceof Date){var t=Number(e);if(He(t))return t}}function m_(e){if(Array.isArray(e)){var t=[Rf(e[0]),Rf(e[1])];return Cs(t)?t:void 0}var r=Rf(e);if(r!=null)return[r,r]}function Da(e){return e.map(Rf).filter(xq)}function jee(e,t,r){return!r||typeof t!="number"||$r(t)?[]:r.length?Da(r.flatMap(n=>{var a=Ze(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!He(s)||!He(i)))return[t-s,t+i]})):[]}var jt=e=>{var t=wt(e),r=Sl(e);return ed(e,t,r)},nd=V([jt],e=>e==null?void 0:e.dataKey),kee=V([m4,Zu,jt],o4),b4=(e,t,r,n)=>{var a={},s=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[l,c]=i,u=n?[...c].reverse():c,d=u.map(Iw);return[l,{stackedData:yG(e,d,r),graphicalItems:u}]}))},Ox=V([kee,m4,Tp,e4],b4),w4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=jG(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Nee=V([ar],e=>e.allowDataOverflow),Lw=e=>{var t;if(e==null||!("domain"in e))return Px;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Da(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Px},j4=V([ar],Lw),k4=V([j4,Nee],$I),_ee=V([Ox,Fs,bt,k4],w4,{memoizeOptions:{resultEqualityCheck:Lp}}),$w=e=>e.errorBars,See=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>v4(r,n)),nm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},N4=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(g=>v4(a,g)),h=Ze(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=jee(l,h,f);if(m.length>=2){var p=Math.min(...m),x=Math.max(...m);(s==null||p<s)&&(s=p),(i==null||x>i)&&(i=x)}var v=m_(h);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),i=i==null?v[1]:Math.max(i,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=m_(Ze(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),He(s)&&He(i))return[s,i]},Eee=V([Rw,ar,bee,$w,bt],N4,{memoizeOptions:{resultEqualityCheck:Lp}});function Cee(e){var{value:t}=e;if(tn(t)||t instanceof Date)return t}var Pee=(e,t,r)=>{var n=e.map(Cee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&wT(n))?iI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},_4=e=>e.referenceElements.dots,El=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Oee=V([_4,bt,Dp],El),S4=e=>e.referenceElements.areas,Aee=V([S4,bt,Dp],El),E4=e=>e.referenceElements.lines,Tee=V([E4,bt,Dp],El),C4=(e,t)=>{var r=Da(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Mee=V(Oee,bt,C4),P4=(e,t)=>{var r=Da(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Iee=V([Aee,bt],P4);function Dee(e){var t;if(e.x!=null)return Da([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Da(r)}function Ree(e){var t;if(e.y!=null)return Da([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Da(r)}var O4=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Dee(n):Ree(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Lee=V([Tee,bt],O4),$ee=V(Mee,Lee,Iee,(e,t,r)=>nm(e,r,t)),A4=(e,t,r,n,a,s,i,l)=>{if(r!=null)return r;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?nm(n,s,a):nm(s,a);return XZ(t,u,e.allowDataOverflow)},zee=V([ar,j4,k4,_ee,Eee,$ee,Pe,bt],A4,{memoizeOptions:{resultEqualityCheck:Lp}}),Fee=[0,1],T4=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:l,type:c}=e,u=Ls(t,s);if(u&&l==null){var d;return iI(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Pee(n,e,u):a==="expand"?Fee:i}},zw=V([ar,Pe,Rw,zp,Tp,bt,zee],T4),M4=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat($u(s));return l in lc?l:"point"}}},ad=V([ar,Pe,d4,Cw,bt],M4);function Bee(e){if(e!=null){if(e in lc)return lc[e]();var t="scale".concat($u(e));if(t in lc)return lc[t]()}}function Fw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Bee(t);if(a!=null){var s=a.domain(r).range(n);return fG(s),s}}}var I4=(e,t,r)=>{var n=Lw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Cs(e))return see(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cs(e))return iee(e,t.tickCount,t.allowDecimals)}},Bw=V([zw,ed,ad],I4),D4=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Cs(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(i,l)]}return t},Uee=V([ar,zw,Bw,bt],D4),Hee=V(zp,ar,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Da(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),R4=V(Hee,Pe,ZI,At,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!He(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=En(r,e*s),l=e*s/2;return l-i-(l-i)/s*i}return 0}),Vee=(e,t)=>{var r=na(e,t);return r==null||typeof r.padding!="string"?0:R4(e,"xAxis",t,r.padding)},Wee=(e,t)=>{var r=aa(e,t);return r==null||typeof r.padding!="string"?0:R4(e,"yAxis",t,r.padding)},Kee=V(na,Vee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),qee=V(aa,Wee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Yee=V([At,Kee,wp,bp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Gee=V([At,Pe,qee,wp,bp,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),sd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Yee(e,r,n);case"yAxis":return Gee(e,r,n);case"zAxis":return(a=Dw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return a4(e);case"radiusAxis":return s4(e,r);default:return}},L4=V([ar,sd],Mp),Ps=V([ar,ad,Uee,L4],Fw);V([rd,$w,bt],See);function $4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Fp=(e,t)=>t,Bp=(e,t,r)=>r,Xee=V(xp,Fp,Bp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($4)),Qee=V(vp,Fp,Bp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($4)),z4=(e,t)=>({width:e.width,height:t.height}),Jee=(e,t)=>{var r=typeof t.width=="number"?t.width:Vu;return{width:r,height:e.height}},F4=V(At,na,z4),Zee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},ete=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},tte=V(Fa,At,Xee,Fp,Bp,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=z4(t,l);i==null&&(i=Zee(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),rte=V(za,At,Qee,Fp,Bp,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=Jee(t,l);i==null&&(i=ete(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),nte=(e,t)=>{var r=na(e,t);if(r!=null)return tte(e,r.orientation,r.mirror)},ate=V([At,na,nte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ste=(e,t)=>{var r=aa(e,t);if(r!=null)return rte(e,r.orientation,r.mirror)},ite=V([At,aa,ste,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),B4=V(At,aa,(e,t)=>{var r=typeof t.width=="number"?t.width:Vu;return{width:r,height:e.height}}),p_=(e,t,r)=>{switch(t){case"xAxis":return F4(e,r).width;case"yAxis":return B4(e,r).height;default:return}},U4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,l=Ls(e,n),c=t.map(u=>u.value);if(i&&l&&s==="category"&&a&&wT(c))return c}},Uw=V([Pe,zp,ar,bt],U4),H4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Ls(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},Hw=V([Pe,zp,ed,bt],H4),g_=V([Pe,xee,ad,Ps,Uw,Hw,sd,Bw,bt],(e,t,r,n,a,s,i,l,c)=>{if(t!=null){var u=Ls(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:r,scale:n}}}),ote=(e,t,r,n,a,s,i,l,c)=>{if(!(t==null||n==null)){var u=Ls(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?mr(s[0]-s[1])*2*p:p;var x=f||a;if(x){var v=x.map((g,b)=>{var w=i?i.indexOf(g):g;return{index:b,coordinate:n(w)+p,value:g,offset:p}});return v.filter(g=>He(g.coordinate))}return u&&l?l.map((g,b)=>({coordinate:n(g)+p,value:g,index:b,offset:p})).filter(g=>He(g.coordinate)):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,b)=>({coordinate:n(g)+p,value:i?i[g]:g,index:b,offset:p}))}},V4=V([Pe,ed,ad,Ps,Bw,sd,Uw,Hw,bt],ote),lte=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ls(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?mr(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Jn=V([Pe,ed,Ps,sd,Uw,Hw,bt],lte),Zn=V(ar,Ps,(e,t)=>{if(!(e==null||t==null))return rm(rm({},e),{},{scale:t})}),cte=V([ar,ad,zw,L4],Fw),ute=V((e,t,r)=>Dw(e,r),cte,(e,t)=>{if(!(e==null||t==null))return rm(rm({},e),{},{scale:t})}),dte=V([Pe,xp,vp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),W4=e=>e.options.defaultTooltipEventType,K4=e=>e.options.validateTooltipEventTypes;function q4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Vw(e,t){var r=W4(e),n=K4(e);return q4(t,r,n)}function fte(e){return ie(t=>Vw(t,e))}var Y4=(e,t)=>{var r,n=Number(t);if(!($r(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},hte=e=>e.tooltip.settings,rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},mte={itemInteraction:{click:rs,hover:rs},axisInteraction:{click:rs,hover:rs},keyboardInteraction:rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},G4=jr({name:"tooltip",initialState:mte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ve()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=kn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Ve()},removeTooltipEntrySettings:{reducer(e,t){var r=kn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ve()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pte,replaceTooltipEntrySettings:gte,removeTooltipEntrySettings:yte,setTooltipSettingsState:xte,setActiveMouseOverItemIndex:X4,mouseLeaveItem:vte,mouseLeaveChart:Q4,setActiveClickItemIndex:bte,setMouseOverAxisIndex:J4,setMouseClickAxisIndex:wte,setSyncInteraction:Ax,setKeyboardInteraction:Tx}=G4.actions,jte=G4.reducer;function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ste(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ete(e){return e.index!=null}var Z4=(e,t,r,n)=>{if(t==null)return rs;var a=Ste(e,t,r);if(a==null)return rs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Ete(a)){if(s)return af(af({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return af(af({},rs),{},{coordinate:a.coordinate})};function Cte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Pte(e,t){var r=Cte(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function Ote(e,t,r){if(r==null||t==null)return!0;var n=Ze(e,t);return n==null||!Cs(r)?!0:Pte(n,r)}var Ww=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!He(s))return a;var i=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(i,Math.min(s,l)),u=t[c];return u==null||Ote(u,r,n)?String(c):null},eD=(e,t,r,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},tD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},id=e=>e.options.tooltipPayloadSearcher,Cl=e=>e.tooltip;function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){Ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ate(e,t,r){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ite(e,t){return e??t}var rD=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:v}=m,g=Ite(x,l),b=Array.isArray(g)?SM(g,u,d):g,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?k=jT(b,n,a):k=s(b,t,c,j),Array.isArray(k))k.forEach(N=>{var S=v_(v_({},v),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});h.push(r2({tooltipEntrySettings:S,dataKey:N.dataKey,payload:N.payload,value:Ze(N.payload,N.dataKey),name:N.name}))});else{var _;h.push(r2({tooltipEntrySettings:v,dataKey:w,payload:k,value:Ze(k,w),name:(_=Ze(k,j))!==null&&_!==void 0?_:v==null?void 0:v.name}))}return h},f)}},Kw=V([jt,Pe,d4,Cw,wt],M4),Dte=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Rte=V([wt,Sl],f4),od=V([Dte,jt,Rte],h4,{memoizeOptions:{resultEqualityCheck:$p}}),Lte=V([od],e=>e.filter(Rp)),$te=V([od],g4,{memoizeOptions:{resultEqualityCheck:$p}}),Pl=V([$te,Fs],y4),zte=V([Lte,Fs,jt],o4),qw=V([Pl,jt,od],x4),nD=V([jt],Lw),Fte=V([jt],e=>e.allowDataOverflow),aD=V([nD,Fte],$I),Bte=V([od],e=>e.filter(Rp)),Ute=V([zte,Bte,Tp,e4],b4),Hte=V([Ute,Fs,wt,aD],w4),Vte=V([od],p4),Wte=V([Pl,jt,Vte,$w,wt],N4,{memoizeOptions:{resultEqualityCheck:Lp}}),Kte=V([_4,wt,Sl],El),qte=V([Kte,wt],C4),Yte=V([S4,wt,Sl],El),Gte=V([Yte,wt],P4),Xte=V([E4,wt,Sl],El),Qte=V([Xte,wt],O4),Jte=V([qte,Qte,Gte],nm),Zte=V([jt,nD,aD,Hte,Wte,Jte,Pe,wt],A4),ld=V([jt,Pe,Pl,qw,Tp,wt,Zte],T4),ere=V([ld,jt,Kw],I4),tre=V([jt,ld,ere,wt],D4),sD=e=>{var t=wt(e),r=Sl(e),n=!1;return sd(e,t,r,n)},iD=V([jt,sD],Mp),oD=V([jt,Kw,tre,iD],Fw),rre=V([Pe,qw,jt,wt],U4),nre=V([Pe,qw,jt,wt],H4),are=(e,t,r,n,a,s,i,l)=>{if(t){var{type:c}=t,u=Ls(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?mr(a[0]-a[1])*2*f:f,u&&i?i.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Ua=V([Pe,jt,Kw,oD,sD,rre,nre,wt],are),Yw=V([W4,K4,hte],(e,t,r)=>q4(r.shared,e,t)),lD=e=>e.tooltip.settings.trigger,Gw=e=>e.tooltip.settings.defaultIndex,cd=V([Cl,Yw,lD,Gw],Z4),Os=V([cd,Pl,nd,ld],Ww),cD=V([Ua,Os],Y4),uD=V([cd],e=>{if(e)return e.dataKey});V([cd],e=>{if(e)return e.graphicalItemId});var dD=V([Cl,Yw,lD,Gw],tD),sre=V([za,Fa,Pe,At,Ua,Gw,dD,id],eD),ire=V([cd,sre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ore=V([cd],e=>e.active),lre=V([dD,Os,Fs,nd,cD,id,Yw],rD),cre=V([lre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){ure(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ure(e,t,r){return(t=dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hre=()=>ie(jt),mre=()=>{var e=hre(),t=ie(Ua),r=ie(oD);return al(!e||!r?void 0:w_(w_({},e),{},{scale:r}),t)};function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pre(e,t,r){return(t=gre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xre=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},vre=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return Gi(Gi(Gi({},n),Rt(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return Gi(Gi(Gi({},n),Rt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function bre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var fD=(e,t,r,n,a)=>{var s,i=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(mr(d-u)!==mr(f-d)){var m=[];if(mr(f-d)===mr(a[1]-a[0])){h=f;var p=d+a[1]-a[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var x=f+a[1]-a[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:i}=r[c]);break}}else{var g=Math.min(u,f),b=Math.max(u,f);if(e>(g+d)/2&&e<=(b+d)/2){({index:i}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:i}=t[w]);break}}return i},wre=()=>ie(Cw),Xw=(e,t)=>t,hD=(e,t,r)=>r,Qw=(e,t,r,n)=>n,jre=V(Ua,e=>cp(e,t=>t.coordinate)),Jw=V([Cl,Xw,hD,Qw],Z4),Zw=V([Jw,Pl,nd,ld],Ww),kre=(e,t,r)=>{if(t!=null){var n=Cl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},mD=V([Cl,Xw,hD,Qw],tD),am=V([za,Fa,Pe,At,Ua,Qw,mD,id],eD),Nre=V([Jw,am],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),pD=V([Ua,Zw],Y4),_re=V([mD,Zw,Fs,nd,pD,id,Xw],rD),Sre=V([Jw,Zw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Ere=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&bre(e,i)){var l=kG(e,t),c=fD(l,s,a,r,n),u=xre(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Cre=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var l=zQ(e,r);if(l){var c=NG(l,t),u=fD(c,i,s,n,a),d=vre(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Pre=(e,t,r,n,a,s,i,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Ere(e,t,n,a,s,i,l):Cre(e,t,r,n,a,s,i)},Ore=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Are=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ot)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:mee}});function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){Tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tre(e,t,r){return(t=Mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mre(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dre={},Rre={zIndexMap:Object.values(ot).reduce((e,t)=>N_(N_({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Dre)},Lre=new Set(Object.values(ot));function $re(e){return Lre.has(e)}var gD=jr({name:"zIndex",initialState:Rre,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ve()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!$re(r)&&delete e.zIndexMap[r])},prepare:Ve()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Ve()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Ve()}}}),{registerZIndexPortal:zre,unregisterZIndexPortal:Fre,registerZIndexPortalId:Bre,unregisterZIndexPortalId:Ure}=gD.actions,Hre=gD.reducer;function sr(e){var{zIndex:t,children:r}=e,n=QG(),a=n&&t!==void 0&&t!==0,s=xt(),i=Ge();y.useLayoutEffect(()=>a?(i(zre({zIndex:t})),()=>{i(Fre({zIndex:t}))}):zu,[i,t,a]);var l=ie(u=>Ore(u,t,s));if(!a)return r;if(!l)return null;var c=document.getElementById(l);return c?ju.createPortal(r,c):null}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){Vre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vre(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qre(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function Yre(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=ZX,v=ot.cursorLine;else if(d==="BarChart")p=eQ(l,f,s,i),x=ZM,v=ot.cursorRectangle;else if(l==="radial"&&NT(f)){var{cx:g,cy:b,radius:w,startAngle:j,endAngle:k}=eI(f);p={cx:g,cy:b,startAngle:j,endAngle:k,innerRadius:w,outerRadius:w},x=rI,v=ot.cursorLine}else p={points:HQ(l,f,s)},x=sw,v=ot.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,N=sf(sf(sf(sf({stroke:"#ccc",pointerEvents:"none"},s),p),wl(c)),{},{payload:h,payloadIndex:m,className:Ce("recharts-tooltip-cursor",_)});return y.createElement(sr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},y.createElement(qre,{cursor:c,cursorComp:x,cursorProps:N}))}function Gre(e){var t=mre(),r=zM(),n=Wu(),a=wre();return t==null||r==null||n==null||a==null?null:y.createElement(Yre,Mx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var yD=y.createContext(null),Xre=()=>y.useContext(yD),xD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,k;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),g){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(k=1,b=new Array(g-1);k<g;k++)b[k-1]=arguments[k];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&i(this,m);else{for(var x=0,v=[],g=p.length;x<g;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(xD);var Qre=xD.exports;const Jre=ea(Qre);var uu=new Jre,Ix="recharts.syncEvent.tooltip",S_="recharts.syncEvent.brush";function e1(e,t){if(t){var r=Number.parseInt(t,10);if(!$r(r))return e==null?void 0:e[r]}}var Zre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vD=jr({name:"options",initialState:Zre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ene=vD.reducer,{createEventEmitter:tne}=vD.actions;function rne(e){return e.tooltip.syncInteraction}var nne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bD=jr({name:"chartData",initialState:nne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:E_,setDataStartEndIndexes:ane,setComputedData:jfe}=bD.actions,sne=bD.reducer,ine=["x","y"];function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){one(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function one(e,t,r){return(t=lne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function une(e,t){if(e==null)return{};var r,n,a=dne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fne(){var e=ie(Pw),t=ie(Ow),r=Ge(),n=ie(t4),a=ie(Ua),s=Wu(),i=kl(),l=ie(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return zu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(i&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:x}=m,v=une(m,ine),{x:g,y:b,width:w,height:j}=d.payload.sourceViewBox,k=Xi(Xi({},v),{},{x:i.x+(w?(p-g)/w:0)*i.width,y:i.y+(j?(x-b)/j:0)*i.height});r(Xi(Xi({},d),{},{payload:Xi(Xi({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,N);_=a[S]}else n==="value"&&(_=a.find(A=>String(A.value)===d.payload.label));var{coordinate:P}=d.payload;if(_==null||d.payload.active===!1||P==null||i==null){r(Ax({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:E}=P,C=Math.min(I,i.x+i.width),L=Math.min(E,i.y+i.height),O={x:s==="horizontal"?_.coordinate:C,y:s==="horizontal"?L:_.coordinate},R=Ax({active:d.payload.active,coordinate:O,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(R)}}};return uu.on(Ix,c),()=>{uu.off(Ix,c)}},[l,r,t,e,n,a,s,i])}function hne(){var e=ie(Pw),t=ie(Ow),r=Ge();y.useEffect(()=>{if(e==null)return zu;var n=(a,s,i)=>{t!==i&&e===a&&r(ane(s))};return uu.on(S_,n),()=>{uu.off(S_,n)}},[r,t,e])}function mne(){var e=Ge();y.useEffect(()=>{e(tne())},[e]),fne(),hne()}function pne(e,t,r,n,a,s){var i=ie(m=>kre(m,e,t)),l=ie(Ow),c=ie(Pw),u=ie(t4),d=ie(rne),f=d==null?void 0:d.active,h=kl();y.useEffect(()=>{if(!f&&c!=null&&l!=null){var m=Ax({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});uu.emit(Ix,c,m,l)}},[f,r,i,a,n,l,c,u,s,h])}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return(t=yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vne(e){return e.dataKey}function bne(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(TX,t)}var A_=[],wne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function of(e){var t,r,n=mt(e,wne),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:g,shared:b,trigger:w,defaultIndex:j,portal:k,axisId:_}=n,N=Ge(),S=typeof j=="number"?String(j):j;y.useEffect(()=>{N(xte({shared:b,trigger:w,axisId:_,active:a,defaultIndex:S}))},[N,b,w,_,a,S]);var P=kl(),I=YM(),E=fte(b),{activeIndex:C,isActive:L}=(t=ie(J=>Sre(J,E,w,S)))!==null&&t!==void 0?t:{},O=ie(J=>_re(J,E,w,S)),R=ie(J=>pD(J,E,w,S)),A=ie(J=>Nre(J,E,w,S)),D=O,T=Xre(),M=(r=a??L)!==null&&r!==void 0?r:!1,[z,B]=XT([D,M]),F=E==="axis"?R:void 0;pne(E,w,A,F,C,M);var Y=k??T;if(Y==null||P==null||E==null)return null;var q=D??A_;M||(q=A_),u&&q.length&&(q=UT(q.filter(J=>J.value!=null&&(J.hide!==!0||n.includeHidden)),h,vne));var Q=q.length>0,le=y.createElement(zX,{allowEscapeViewBox:s,animationDuration:i,animationEasing:l,isAnimationActive:d,active:M,coordinate:A,hasPayload:Q,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:P,wrapperStyle:v,lastBoundingBox:z,innerRef:B,hasPortalFromProps:!!k},bne(c,O_(O_({},n),{},{payload:q,label:F,active:M,activeIndex:C,coordinate:A,accessibilityLayer:I})));return y.createElement(y.Fragment,null,ju.createPortal(le,Y),M&&y.createElement(Gre,{cursor:g,tooltipEventType:E,coordinate:A,payload:q,index:C}))}var t1=e=>null;t1.displayName="Cell";function jne(e,t,r){return(t=kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _ne{constructor(t){jne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){Ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ene(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var One={cacheSize:2e3,enableCache:!0},wD=Sne({},One),M_=new _ne(wD.cacheSize),Ane={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},I_="recharts_measurement_span";function Tne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var D_=(e,t)=>{try{var r=document.getElementById(I_);r||(r=document.createElement("span"),r.setAttribute("id",I_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ane,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},jc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qu.isSsr)return{width:0,height:0};if(!wD.enableCache)return D_(t,r);var n=Tne(t,r),a=M_.get(n);if(a)return a;var s=D_(t,r);return M_.set(n,s),s},R_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ine=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dne=Object.keys(jD),mo="NaN";function Rne(e,t){return e*jD[t]}class cr{static parse(t){var r,[,n,a]=(r=Ine.exec(t))!==null&&r!==void 0?r:[];return new cr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$r(t)&&(this.unit=""),r!==""&&!Mne.test(r)&&(this.num=NaN,this.unit=""),Dne.includes(r)&&(this.num=Rne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new cr(NaN,""):new cr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new cr(NaN,""):new cr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cr(NaN,""):new cr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new cr(NaN,""):new cr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function kD(e){if(e.includes(mo))return mo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=R_.exec(t))!==null&&r!==void 0?r:[],i=cr.parse(n??""),l=cr.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return mo;t=t.replace(R_,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=L_.exec(t))!==null&&u!==void 0?u:[],m=cr.parse(d??""),p=cr.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return mo;t=t.replace(L_,x.toString())}return t}var $_=/\(([^()]*)\)/;function Lne(e){for(var t=e,r;(r=$_.exec(t))!=null;){var[,n]=r;t=t.replace($_,kD(n))}return t}function $ne(e){var t=e.replace(/\s+/g,"");return t=Lne(t),t=kD(t),t}function zne(e){try{return $ne(e)}catch{return mo}}function s0(e){var t=zne(e.slice(5,-1));return t===mo?"":t}var Fne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Bne=["dx","dy","angle","className","breakAll"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function z_(e,t){if(e==null)return{};var r,n,a=Une(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Une(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ND=/[ \f\n\r\t\v\u2028\u2029]+/,_D=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Te(t)||(r?a=t.toString().split(""):a=t.toString().split(ND));var s=a.map(l=>({word:l,width:jc(l,n).width})),i=r?0:jc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function Hne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var SD=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(i),c.width+=l+r;else{var u={words:[i],width:l};a.push(u)}return a},[]),ED=e=>e.reduce((t,r)=>t.width>r.width?t:r),Vne="",F_=(e,t,r,n,a,s,i,l)=>{var c=e.slice(0,t),u=_D({breakAll:r,style:n,children:c+Vne});if(!u)return[!1,[]];var d=SD(u.wordsWithComputedWidth,s,i,l),f=d.length>a||ED(d).width>Number(s);return[f,d]},Wne=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=e,u=ue(s),d=String(i),f=SD(t,n,r,a);if(!u||a)return f;var h=f.length>s||ED(f).width>Number(n);if(!h)return f;for(var m=0,p=d.length-1,x=0,v;m<=p&&x<=d.length-1;){var g=Math.floor((m+p)/2),b=g-1,[w,j]=F_(d,b,c,l,s,n,r,a),[k]=F_(d,g,c,l,s,n,r,a);if(!w&&!k&&(m=g+1),w&&k&&(p=g-1),!w&&k){v=j;break}x++}return v||f},B_=e=>{var t=Te(e)?[]:e.toString().split(ND);return[{words:t,width:void 0}]},Kne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!qu.isSsr){var l,c,u=_D({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return B_(n);return Wne({breakAll:s,children:n,maxLines:i,style:a},l,c,t,!!r)}return B_(n)},CD="#808080",qne={angle:0,breakAll:!1,capHeight:"0.71em",fill:CD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},r1=y.forwardRef((e,t)=>{var r=mt(e,qne),{x:n,y:a,lineHeight:s,capHeight:i,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=z_(r,Fne),h=y.useMemo(()=>Kne({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:x,className:v,breakAll:g}=f,b=z_(f,Bne);if(!tn(n)||!tn(a)||h.length===0)return null;var w=Number(n)+(ue(m)?m:0),j=Number(a)+(ue(p)?p:0);if(!He(w)||!He(j))return null;var k;switch(d){case"start":k=s0("calc(".concat(i,")"));break;case"middle":k=s0("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:k=s0("calc(".concat(h.length-1," * -").concat(s,")"));break}var _=[];if(c){var N=h[0].width,{width:S}=f;_.push("scale(".concat(ue(S)&&ue(N)?S/N:1,")"))}return x&&_.push("rotate(".concat(x,", ").concat(w,", ").concat(j,")")),_.length&&(b.transform=_.join(" ")),y.createElement("text",Dx({},qt(b),{ref:t,x:w,y:j,className:Ce("recharts-text",v),textAnchor:u,fill:l.includes("url")?CD:l}),h.map((P,I)=>{var E=P.words.join(g?"":" ");return y.createElement("tspan",{x:w,dy:I===0?k:s,key:"".concat(E,"-").concat(I)},E)}))});r1.displayName="Text";var Yne=["labelRef"];function Gne(e,t){if(e==null)return{};var r,n,a=Xne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){Qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qne(e,t,r){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(null,arguments)}var PD=y.createContext(null),OD=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:l}=e,c=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return y.createElement(PD.Provider,{value:c},l)},AD=()=>{var e=y.useContext(PD),t=kl();return e||$M(t)},eae=y.createContext(null),tae=()=>{var e=y.useContext(eae),t=ie(i4);return e||t},rae=e=>{var{value:t,formatter:r}=e,n=Te(e.children)?t:e.children;return typeof r=="function"?r(n):n},n1=e=>e!=null&&typeof e=="function",nae=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},aae=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,p=(u+d)/2,x=nae(f,h),v=x>=0?1:-1,g,b;switch(t){case"insideStart":g=f+v*s,b=m;break;case"insideEnd":g=h-v*s,b=!m;break;case"end":g=h+v*s,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=x<=0?b:!b;var w=Rt(l,c,p,g),j=Rt(l,c,p,g+(b?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),_=Te(e.id)?eu("recharts-radial-line-"):e.id;return y.createElement("text",ha({},n,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",i)}),y.createElement("defs",null,y.createElement("path",{id:_,d:k})),y.createElement("textPath",{xlinkHref:"#".concat(_)},r))},sae=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Rt(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:m,y:p}=Rt(n,a,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Rx=e=>"cx"in e&&ue(e.cx),iae=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Rx(r)&&(s=r);var{x:i,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=i,h=i+(c-u)/2,m=(f+h)/2,p=(c+u)/2,x=f+c/2,v=d>=0?1:-1,g=v*n,b=v>0?"end":"start",w=v>0?"start":"end",j=c>=0?1:-1,k=j*n,_=j>0?"end":"start",N=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:l-g,textAnchor:"middle",verticalAnchor:b};return at(at({},S),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var P={x:h+u/2,y:l+d+g,textAnchor:"middle",verticalAnchor:w};return at(at({},P),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var I={x:m-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return at(at({},I),s?{width:Math.max(I.x-s.x,0),height:d}:{})}if(a==="right"){var E={x:m+p+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return at(at({},E),s?{width:Math.max(s.x+s.width-E.x,0),height:d}:{})}var C=s?{width:p,height:d}:{};return a==="insideLeft"?at({x:m+k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},C):a==="insideRight"?at({x:m+p-k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},C):a==="insideTop"?at({x:f+c/2,y:l+g,textAnchor:"middle",verticalAnchor:w},C):a==="insideBottom"?at({x:h+u/2,y:l+d-g,textAnchor:"middle",verticalAnchor:b},C):a==="insideTopLeft"?at({x:f+k,y:l+g,textAnchor:N,verticalAnchor:w},C):a==="insideTopRight"?at({x:f+c-k,y:l+g,textAnchor:_,verticalAnchor:w},C):a==="insideBottomLeft"?at({x:h+k,y:l+d-g,textAnchor:N,verticalAnchor:b},C):a==="insideBottomRight"?at({x:h+u-k,y:l+d-g,textAnchor:_,verticalAnchor:b},C):a&&typeof a=="object"&&(ue(a.x)||Oa(a.x))&&(ue(a.y)||Oa(a.y))?at({x:i+En(a.x,p),y:l+En(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):at({x,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},oae={angle:0,offset:5,zIndex:ot.label,position:"middle",textBreakAll:!1};function Ja(e){var t=mt(e,oae),{viewBox:r,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=t,d=tae(),f=AD(),h=n==="center"?f:d??f,m,p,x;if(r==null?m=h:Rx(r)?m=r:m=$M(r),!m||Te(a)&&Te(s)&&!y.isValidElement(i)&&typeof i!="function")return null;var v=at(at({},t),{},{viewBox:m});if(y.isValidElement(i)){var{labelRef:g}=v,b=Gne(v,Yne);return y.cloneElement(i,b)}if(typeof i=="function"){if(p=y.createElement(i,v),y.isValidElement(p))return p}else p=rae(t);var w=qt(t);if(Rx(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return aae(t,n,p,w,m);x=sae(m,t.offset,t.position)}else x=iae(t,m);return y.createElement(sr,{zIndex:t.zIndex},y.createElement(r1,ha({ref:u,className:Ce("recharts-label",l)},w,x,{textAnchor:Hne(w.textAnchor)?w.textAnchor:x.textAnchor,breakAll:c}),p))}Ja.displayName="Label";var lae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Ja,ha({key:"label-implicit"},n)):tn(e)?y.createElement(Ja,ha({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Ja?y.cloneElement(e,at({key:"label-implicit"},n)):y.createElement(Ja,ha({key:"label-implicit",content:e},n)):n1(e)?y.createElement(Ja,ha({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Ja,ha({},e,{key:"label-implicit"},n)):null};function TD(e){var{label:t,labelRef:r}=e,n=AD();return lae(t,n,r)||null}var MD={},ID={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(ID);var DD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(DD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ID,r=DD,n=lp;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(MD);var cae=MD.last;const uae=ea(cae);var dae=["valueAccessor"],fae=["dataKey","clockWise","id","textBreakAll","zIndex"];function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(null,arguments)}function H_(e,t){if(e==null)return{};var r,n,a=hae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mae=e=>Array.isArray(e.value)?uae(e.value):e.value,RD=y.createContext(void 0),a1=RD.Provider,LD=y.createContext(void 0);LD.Provider;function pae(){return y.useContext(RD)}function gae(){return y.useContext(LD)}function Lf(e){var{valueAccessor:t=mae}=e,r=H_(e,dae),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:l}=r,c=H_(r,fae),u=pae(),d=gae(),f=u||d;return!f||!f.length?null:y.createElement(sr,{zIndex:l??ot.label},y.createElement(Ot,{className:"recharts-label-list"},f.map((h,m)=>{var p,x=Te(n)?t(h,m):Ze(h&&h.payload,n),v=Te(s)?{}:{id:"".concat(s,"-").concat(m)};return y.createElement(Ja,sm({key:"label-".concat(m)},qt(h),c,v,{fill:(p=r.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:i,viewBox:h.viewBox,index:m,zIndex:0}))})))}Lf.displayName="LabelList";function s1(e){var{label:t}=e;return t?t===!0?y.createElement(Lf,{key:"labelList-implicit"}):y.isValidElement(t)||n1(t)?y.createElement(Lf,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Lf,sm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}var $D=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ce("recharts-dot",a);return ue(t)&&ue(r)&&ue(n)?y.createElement("circle",Lx({},Lr(e),Tb(e),{className:s,cx:t,cy:r,r:n})):null},yae={radiusAxis:{},angleAxis:{}},zD=jr({name:"polarAxis",initialState:yae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kfe,removeRadiusAxis:Nfe,addAngleAxis:_fe,removeAngleAxis:Sfe}=zD.actions,xae=zD.reducer,FD={exports:{}},Re={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=Symbol.for("react.transitional.element"),o1=Symbol.for("react.portal"),Up=Symbol.for("react.fragment"),Hp=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),Wp=Symbol.for("react.consumer"),Kp=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),Xp=Symbol.for("react.memo"),Qp=Symbol.for("react.lazy"),vae=Symbol.for("react.view_transition"),bae=Symbol.for("react.client.reference");function sn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case i1:switch(e=e.type,e){case Up:case Vp:case Hp:case Yp:case Gp:case vae:return e;default:switch(e=e&&e.$$typeof,e){case Kp:case qp:case Qp:case Xp:return e;case Wp:return e;default:return t}}case o1:return t}}}Re.ContextConsumer=Wp;Re.ContextProvider=Kp;Re.Element=i1;Re.ForwardRef=qp;Re.Fragment=Up;Re.Lazy=Qp;Re.Memo=Xp;Re.Portal=o1;Re.Profiler=Vp;Re.StrictMode=Hp;Re.Suspense=Yp;Re.SuspenseList=Gp;Re.isContextConsumer=function(e){return sn(e)===Wp};Re.isContextProvider=function(e){return sn(e)===Kp};Re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===i1};Re.isForwardRef=function(e){return sn(e)===qp};Re.isFragment=function(e){return sn(e)===Up};Re.isLazy=function(e){return sn(e)===Qp};Re.isMemo=function(e){return sn(e)===Xp};Re.isPortal=function(e){return sn(e)===o1};Re.isProfiler=function(e){return sn(e)===Vp};Re.isStrictMode=function(e){return sn(e)===Hp};Re.isSuspense=function(e){return sn(e)===Yp};Re.isSuspenseList=function(e){return sn(e)===Gp};Re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Up||e===Vp||e===Hp||e===Yp||e===Gp||typeof e=="object"&&e!==null&&(e.$$typeof===Qp||e.$$typeof===Xp||e.$$typeof===Kp||e.$$typeof===Wp||e.$$typeof===qp||e.$$typeof===bae||e.getModuleId!==void 0)};Re.typeOf=sn;FD.exports=Re;var wae=FD.exports,V_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",W_=null,i0=null,BD=e=>{if(e===W_&&Array.isArray(i0))return i0;var t=[];return y.Children.forEach(e,r=>{Te(r)||(wae.isFragment(r)?t=t.concat(BD(r.props.children)):t.push(r))}),i0=t,W_=e,t};function UD(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>V_(a)):n=[V_(t)],BD(e).forEach(a=>{var s=tl(a,"type.displayName")||tl(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var HD=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,VD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(VD);var jae=VD.isPlainObject;const kae=ea(jae);function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){Nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nae(e,t,r){return(t=_ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Sae(e,"string");return typeof t=="symbol"?t:t+""}function Sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(null,arguments)}var Y_=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Eae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cae=e=>{var t=mt(e,Eae),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=y.useRef(null),[m,p]=y.useState(-1),x=y.useRef(a),v=y.useRef(s),g=y.useRef(i),b=y.useRef(r),w=y.useRef(n),j=Gu(e,"trapezoid-");if(y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var O=h.current.getTotalLength();O&&p(O)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var k=Ce("recharts-trapezoid",l);if(!f)return y.createElement("g",null,y.createElement("path",im({},qt(t),{className:k,d:Y_(r,n,a,s,i)})));var _=x.current,N=v.current,S=g.current,P=b.current,I=w.current,E="0px ".concat(m===-1?1:m,"px"),C="".concat(m,"px 0px"),L=GM(["strokeDasharray"],u,c);return y.createElement(Yu,{animationId:j,key:j,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},O=>{var R=$e(_,a,O),A=$e(N,s,O),D=$e(S,i,O),T=$e(P,r,O),M=$e(I,n,O);h.current&&(x.current=R,v.current=A,g.current=D,b.current=T,w.current=M);var z=O>0?{transition:L,strokeDasharray:C}:{strokeDasharray:E};return y.createElement("path",im({},qt(t),{className:k,d:Y_(T,M,R,A,D),ref:h,style:q_(q_({},z),t.style)}))})},Pae=["option","shapeType","propTransformer","activeClassName"];function Oae(e,t){if(e==null)return{};var r,n,a=Aae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function om(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){Tae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tae(e,t,r){return(t=Mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dae(e,t){return om(om({},t),e)}function Rae(e,t){return e==="symbols"}function X_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(ZM,r);case"trapezoid":return y.createElement(Cae,r);case"sector":return y.createElement(rI,r);case"symbols":if(Rae(t))return y.createElement(op,r);break;case"curve":return y.createElement(sw,r);default:return null}}function Lae(e){return y.isValidElement(e)?e.props:e}function lm(e){var{option:t,shapeType:r,propTransformer:n=Dae,activeClassName:a="recharts-active-shape"}=e,s=Oae(e,Pae),i;if(y.isValidElement(t))i=y.cloneElement(t,om(om({},s),Lae(t)));else if(typeof t=="function")i=t(s,s.index);else if(kae(t)&&typeof t!="boolean"){var l=n(t,s);i=y.createElement(X_,{shapeType:r,elementProps:l})}else{var c=s;i=y.createElement(X_,{shapeType:r,elementProps:c})}return s.isActive?y.createElement(Ot,{className:a},i):i}var l1=(e,t,r)=>{var n=Ge();return(a,s)=>i=>{e==null||e(a,s,i),n(X4({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},c1=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(vte())}},u1=(e,t,r)=>{var n=Ge();return(a,s)=>i=>{e==null||e(a,s,i),n(bte({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function d1(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=xt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(pte(t)):a.current!==t&&r(gte({prev:a.current,next:t})),a.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{a.current&&(r(yte(a.current)),a.current=null)},[r]),null}function f1(e){var{legendPayload:t}=e,r=Ge(),n=xt(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(dX(t)):a.current!==t&&r(fX({prev:a.current,next:t})),a.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{a.current&&(r(hX(a.current)),a.current=null)},[r]),null}var o0,$ae=()=>{var[e]=y.useState(()=>eu("uid-"));return e},zae=(o0=W5.useId)!==null&&o0!==void 0?o0:$ae;function WD(e,t){var r=zae();return t||(e?"".concat(e,"-").concat(r):r)}var Fae=y.createContext(void 0),h1=e=>{var{id:t,type:r,children:n}=e,a=WD("recharts-".concat(r),t);return y.createElement(Fae.Provider,{value:a},n(a))},Bae={cartesianItems:[],polarItems:[]},KD=jr({name:"graphicalItems",initialState:Bae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ve()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=kn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Ve()},removeCartesianGraphicalItem:{reducer(e,t){var r=kn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ve()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ve()},removePolarGraphicalItem:{reducer(e,t){var r=kn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ve()}}}),{addCartesianGraphicalItem:Uae,replaceCartesianGraphicalItem:Hae,removeCartesianGraphicalItem:Vae,addPolarGraphicalItem:Efe,removePolarGraphicalItem:Cfe}=KD.actions,Wae=KD.reducer,Kae=e=>{var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(Uae(e)):r.current!==e&&t(Hae({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(Vae(r.current)),r.current=null)},[t]),null},m1=y.memo(Kae),qae=["points"];function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){Yae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yae(e,t,r){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(null,arguments)}function Qae(e,t){if(e==null)return{};var r,n,a=Jae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zae(e){var{option:t,dotProps:r,className:n}=e;if(y.isValidElement(t))return y.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Ce(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,l=Qae(s,qae);return y.createElement($D,cm({},l,{className:a}))}function ese(e,t){return e==null?!1:t?!0:e.length===1}function tse(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:l,clipPathId:c,zIndex:u=ot.scatter}=e;if(!ese(t,r))return null;var d=HD(r),f=CK(r),h=t.map((p,x)=>{var v,g,b=l0(l0(l0({r:3},i),f),{},{index:x,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(g=p.y)!==null&&g!==void 0?g:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return y.createElement(Zae,{key:"dot-".concat(x),option:r,dotProps:b,className:a})}),m={};return l&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),y.createElement(sr,{zIndex:u},y.createElement(Ot,cm({className:n},m),h))}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){rse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rse(e,t,r){return(t=nse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nse(e){var t=ase(e,"string");return typeof t=="symbol"?t:t+""}function ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sse={xAxis:{},yAxis:{},zAxis:{}},qD=jr({name:"cartesianAxis",initialState:sse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ve()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ve()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ve()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ve()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ve()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ve()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ve()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ve()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ve()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=Z_(Z_({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:ise,replaceXAxis:ose,removeXAxis:lse,addYAxis:cse,replaceYAxis:use,removeYAxis:dse,addZAxis:Pfe,replaceZAxis:Ofe,removeZAxis:Afe,updateYAxisWidth:fse}=qD.actions,hse=qD.reducer,mse=V([At],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),pse=V([mse,za,Fa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),p1=()=>ie(pse),gse=()=>ie(cre);function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){yse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yse(e,t,r){return(t=xse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xse(e){var t=vse(e,"string");return typeof t=="symbol"?t:t+""}function vse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bse=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=c0(c0(c0({},l),wl(a)),Tb(a)),u;return y.isValidElement(a)?u=y.cloneElement(a,c):typeof a=="function"?u=a(c):u=y.createElement($D,c),y.createElement(Ot,{className:"recharts-active-dot",clipPath:i},u)};function wse(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=ot.activeDot}=e,l=ie(Os),c=gse();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Te(u)?null:y.createElement(sr,{zIndex:i},y.createElement(bse,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var jse="Invariant failed";function kse(e,t){throw new Error(jse)}var Nse=["x","y"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(null,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){_se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _se(e,t,r){return(t=Sse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sse(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cse(e,t){if(e==null)return{};var r,n,a=Pse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ose(e,t){var{x:r,y:n}=e,a=Cse(e,Nse),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Zl(Zl(Zl(Zl(Zl({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function um(e){return y.createElement(lm,$x({shapeType:"rectangle",propTransformer:Ose,activeClassName:"recharts-active-bar"},e))}var Ase=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ue(t))return t;var s=ue(n)||Te(n);return s?t(n,a):(s||kse(),r)}},Tse={},YD=jr({name:"errorBars",initialState:Tse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Tfe,replaceErrorBar:Mfe,removeErrorBar:Ife}=YD.actions,Mse=YD.reducer,Ise=["children"];function Dse(e,t){if(e==null)return{};var r,n,a=Rse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$se=y.createContext(Lse);function g1(e){var{children:t}=e,r=Dse(e,Ise);return y.createElement($se.Provider,{value:r},t)}function Jp(e,t){var r,n,a=ie(u=>na(u,e)),s=ie(u=>aa(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:kt.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Nt.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function y1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=p1(),{needClipX:s,needClipY:i,needClip:l}=Jp(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}function zse(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&He(e.zIndex)?e.zIndex:t}var Fse={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=y;function Bse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Use=typeof Object.is=="function"?Object.is:Bse,Hse=ud.useSyncExternalStore,Vse=ud.useRef,Wse=ud.useEffect,Kse=ud.useMemo,qse=ud.useDebugValue;Fse.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=Vse(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Kse(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&i.hasValue){var p=i.value;if(a(p,m))return f=p}return f=m}if(p=f,Use(d,m))return p;var x=n(m);return a!==void 0&&a(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=Hse(e,s[0],s[1]);return Wse(function(){i.hasValue=!0,i.value=l},[l]),qse(l),l};function Yse(e){e()}function Gse(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Yse(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var rS={notify(){},get:()=>[]};function Xse(e,t){let r,n=rS,a=0,s=!1;function i(x){d();const v=n.subscribe(x);let g=!1;return()=>{g||(g=!0,v(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=Gse())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=rS)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Qse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jse=Qse(),Zse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eie=Zse(),tie=()=>Jse||eie?y.useLayoutEffect:y.useEffect,rie=tie();function nS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function nie(e,t){if(nS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!nS(e[r[a]],t[r[a]]))return!1;return!0}var u0=Symbol.for("react-redux-context"),d0=typeof globalThis<"u"?globalThis:{};function aie(){if(!y.createContext)return{};const e=d0[u0]??(d0[u0]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var sie=aie();function iie(e){const{children:t,context:r,serverState:n,store:a}=e,s=y.useMemo(()=>{const c=Xse(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=y.useMemo(()=>a.getState(),[a]);rie(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||sie;return y.createElement(l.Provider,{value:s},t)}var oie=iie,lie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function cie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function dd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(lie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!nie(e[n],t[n]))return!1}else if(!cie(e[n],t[n]))return!1;return!0}var uie=["onMouseEnter","onMouseLeave","onClick"],die=["value","background","tooltipPosition"],fie=["id"],hie=["onMouseEnter","onClick","onMouseLeave"];function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ra.apply(null,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t,r){return(t=pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dm(e,t){if(e==null)return{};var r,n,a=yie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:jl(r,t),payload:e}]},vie=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:jl(s,t),hide:i,type:c,color:a,unit:l}};return y.createElement(d1,{tooltipEntrySettings:u})});function bie(e){var t=ie(Os),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=dm(s,uie),d=l1(i,n),f=c1(l),h=u1(c,n);if(!a||r==null)return null;var m=wl(a);return y.createElement(sr,{zIndex:zse(a,ot.barBackground)},r.map((p,x)=>{var{value:v,background:g,tooltipPosition:b}=p,w=dm(p,die);if(!g)return null;var j=d(p,x),k=f(p,x),_=h(p,x),N=Qt(Qt(Qt(Qt(Qt({option:a,isActive:String(x)===t},w),{},{fill:"#eee"},g),m),Fu(u,p,x)),{},{onMouseEnter:j,onMouseLeave:k,onClick:_,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(um,Ra({key:"background-bar-".concat(x)},N))}))}function wie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Qt(Qt({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return y.createElement(a1,{value:t?a:void 0},r)}function jie(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,l=ie(Os),c=ie(uD),u=r&&String(s)===l&&(c==null||i===c),d=u?r:t;return u?y.createElement(sr,{zIndex:ot.activeBar},y.createElement(um,Ra({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))):y.createElement(um,Ra({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))}function kie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return y.createElement(um,Ra({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Nie(e){var t,{data:r,props:n}=e,a=(t=Lr(n))!==null&&t!==void 0?t:{},{id:s}=a,i=dm(a,fie),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=dm(n,hie),p=l1(d,c),x=c1(h),v=u1(f,c);return r?y.createElement(y.Fragment,null,r.map((g,b)=>y.createElement(Ot,Ra({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(b),className:"recharts-bar-rectangle"},Fu(m,g,b),{onMouseEnter:p(g,b),onMouseLeave:x(g,b),onClick:v(g,b)}),u?y.createElement(jie,{shape:l,activeBar:u,baseProps:i,entry:g,index:b,dataKey:c}):y.createElement(kie,{shape:l,baseProps:i,entry:g,index:b,dataKey:c})))):null}function _ie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Gu(t,"recharts-bar-"),[m,p]=y.useState(!1),x=!m,v=y.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),g=y.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return y.createElement(wie,{showLabels:x,rects:n},y.createElement(Yu,{animationId:h,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:g,key:h},b=>{var w=b===1?n:n==null?void 0:n.map((j,k)=>{var _=f&&f[k];if(_)return Qt(Qt({},j),{},{x:$e(_.x,j.x,b),y:$e(_.y,j.y,b),width:$e(_.width,j.width,b),height:$e(_.height,j.height,b)});if(a==="horizontal"){var N=$e(0,j.height,b),S=$e(j.stackedBarStart,j.y,b);return Qt(Qt({},j),{},{y:S,height:N})}var P=$e(0,j.width,b),I=$e(j.stackedBarStart,j.x,b);return Qt(Qt({},j),{},{width:P,x:I})});return b>0&&(r.current=w??null),w==null?null:y.createElement(Ot,null,y.createElement(Nie,{props:t,data:w}))}),y.createElement(s1,{label:t.label}),t.children)}function Sie(e){var t=y.useRef(null);return y.createElement(_ie,{previousRectanglesRef:t,props:e})}var GD=0,Eie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ze(e,t)}};class Cie extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ce("recharts-bar",a),f=u;return y.createElement(Ot,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(y1,{clipPathId:f,xAxisId:s,yAxisId:i})),y.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(bie,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(Sie,this.props)))}}var Pie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:GD,xAxisId:0,yAxisId:0,zIndex:ot.bar};function Oie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Jp(t,r),h=Wu(),m=xt(),p=UD(e.children,t1),x=ie(b=>aoe(b,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,g=x==null?void 0:x[0];return g==null||g.height==null||g.width==null?v=0:v=h==="vertical"?g.height/2:g.width/2,y.createElement(g1,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Eie,errorBarOffset:v},y.createElement(Cie,Ra({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Aie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:p,dataStartIndex:x}=e,v=t==="horizontal"?l:i,g=d?v.scale.domain():null,b=vG({numericAxis:v}),w=v.scale(b);return f.map((j,k)=>{var _,N,S,P,I,E;d?_=hG(d[k+x],g):(_=Ze(j,r),Array.isArray(_)||(_=[b,_]));var C=Ase(n,GD)(_[1],k);if(t==="horizontal"){var L,[O,R]=[l.scale(_[0]),l.scale(_[1])];N=ZN({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:j,index:k}),S=(L=R??O)!==null&&L!==void 0?L:void 0,P=a.size;var A=O-R;if(I=$r(A)?0:A,E={x:N,y:h.top,width:P,height:h.height},Math.abs(C)>0&&Math.abs(I)<Math.abs(C)){var D=mr(I||C)*(Math.abs(C)-Math.abs(I));S-=D,I+=D}}else{var[T,M]=[i.scale(_[0]),i.scale(_[1])];if(N=T,S=ZN({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:j,index:k}),P=M-T,I=a.size,E={x:h.left,y:S,width:h.width,height:I},Math.abs(C)>0&&Math.abs(P)<Math.abs(C)){var z=mr(P||C)*(Math.abs(C)-Math.abs(P));P+=z}}if(N==null||S==null||P==null||I==null)return null;var B=Qt(Qt({},j),{},{stackedBarStart:w,x:N,y:S,width:P,height:I,value:d?_:_[1],payload:j,background:E,tooltipPosition:{x:N+P/2,y:S+I/2},parentViewBox:p},m&&m[k]&&m[k].props);return B}).filter(Boolean)}function Tie(e){var t=mt(e,Pie),r=xt();return y.createElement(h1,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(f1,{legendPayload:xie(t)}),y.createElement(vie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(m1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:xG(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(sr,{zIndex:t.zIndex},y.createElement(Oie,Ra({},t,{id:n})))))}var XD=y.memo(Tie,dd);XD.displayName="Bar";function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){Mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mie(e,t,r){return(t=Iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rie=(e,t)=>t,Lie=(e,t,r)=>r,$ie=(e,t,r,n)=>n,zie=(e,t,r,n,a)=>a,fd=V([td,zie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Fie=V([fd],e=>e==null?void 0:e.maxBarSize),Bie=(e,t,r,n,a,s)=>s,iS=(e,t,r)=>{var n=r??e;if(!Te(n))return En(n,t,0)},Uie=V([Pe,td,Rie,Lie,$ie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Hie=(e,t,r,n)=>{var a=Pe(e);return a==="horizontal"?Ox(e,"yAxis",r,n):Ox(e,"xAxis",t,n)},Vie=(e,t,r)=>{var n=Pe(e);return n==="horizontal"?p_(e,"xAxis",t):p_(e,"yAxis",r)},Wie=(e,t,r)=>{var n={},a=e.filter(Rp),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(i).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=iS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=iS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},Kie=V([Uie,lee,Vie],Wie),qie=(e,t,r,n,a)=>{var s,i,l=fd(e,t,r,n,a);if(l!=null){var c=Pe(e),u=JI(e),{maxBarSize:d}=l,f=Te(d)?u:d,h,m;return c==="horizontal"?(h=Zn(e,"xAxis",t,n),m=Jn(e,"xAxis",t,n)):(h=Zn(e,"yAxis",r,n),m=Jn(e,"yAxis",r,n)),(s=(i=al(h,m,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},QD=(e,t,r,n)=>{var a=Pe(e),s,i;return a==="horizontal"?(s=Zn(e,"xAxis",t,n),i=Jn(e,"xAxis",t,n)):(s=Zn(e,"yAxis",r,n),i=Jn(e,"yAxis",r,n)),al(s,i)};function Yie(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=En(e,r,0,!0),l,c=[];if(He(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((g,b)=>g+(b.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-i,size:0};l=n.reduce((g,b)=>{var w,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+i,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},k=[...g,j];return m=k[k.length-1].position,k},c)}else{var p=En(t,r,0,!0);r-2*p-(s-1)*i<=0&&(i=0);var x=(r-2*p-(s-1)*i)/s;x>1&&(x>>=0);var v=He(a)?Math.min(x,a):x;l=n.reduce((g,b,w)=>[...g,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(x+i)*w+(x-v)/2,size:v}}],c)}return l}}var Gie=(e,t,r,n,a,s,i)=>{var l=Te(i)?t:i,c=Yie(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>lf(lf({},u),{},{position:lf(lf({},u.position),{},{offset:u.position.offset-a/2})}))),c},Xie=V([Kie,JI,oee,ZI,qie,QD,Fie],Gie),Qie=(e,t,r,n)=>Zn(e,"xAxis",t,n),Jie=(e,t,r,n)=>Zn(e,"yAxis",r,n),Zie=(e,t,r,n)=>Jn(e,"xAxis",t,n),eoe=(e,t,r,n)=>Jn(e,"yAxis",r,n),toe=V([Xie,fd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),roe=(e,t)=>{var r=Iw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},noe=V([Hie,fd],roe),aoe=V([At,Zb,Qie,Jie,Zie,eoe,toe,Pe,Zu,QD,noe,fd,Bie],(e,t,r,n,a,s,i,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||i==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:v}=f,g;if(v!=null&&v.length>0?g=v:g=m==null?void 0:m.slice(p,x+1),g!=null)return Aie({layout:l,barSettings:f,pos:i,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),soe=e=>{var{chartData:t}=e,r=Ge(),n=xt();return y.useEffect(()=>n?()=>{}:(r(E_(t)),()=>{r(E_(void 0))}),[t,r,n]),null},oS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},JD=jr({name:"brush",initialState:oS,reducers:{setBrushSettings(e,t){return t.payload==null?oS:t.payload}}}),{setBrushSettings:Dfe}=JD.actions,ioe=JD.reducer;function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){ZD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZD(e,t,r){return(t=ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ooe(e){var t=loe(e,"string");return typeof t=="symbol"?t:t+""}function loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var coe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},uoe=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return coe({x:t,y:r},{x:n,y:a})};class Zp{static create(t){return new Zp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}ZD(Zp,"EPS",1e-4);var doe=e=>{var t=Object.keys(e).reduce((r,n)=>cf(cf({},r),{},{[n]:Zp.create(e[n])}),{});return cf(cf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,l]=s;return[i,t[i].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function foe(e){return(e%180+180)%180}var hoe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=foe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},moe={dots:[],areas:[],lines:[]},e3=jr({name:"referenceElements",initialState:moe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=kn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=kn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=kn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Rfe,removeDot:Lfe,addArea:$fe,removeArea:zfe,addLine:poe,removeLine:goe}=e3.actions,yoe=e3.reducer,t3=y.createContext(void 0),xoe=e=>{var{children:t}=e,[r]=y.useState("".concat(eu("recharts"),"-clip")),n=p1();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return y.createElement(t3.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:s,height:l,width:i}))),t)},voe=()=>y.useContext(t3);function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function boe(e,t,r){return(t=woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function woe(e){var t=joe(e,"string");return typeof t=="symbol"?t:t+""}function joe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(null,arguments)}var koe=(e,t)=>{var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!He(t.x1)||!He(t.y1)||!He(t.x2)||!He(t.y2))return null;r=y.createElement("line",fm({},t,{className:"recharts-reference-line-line"}))}return r},Noe=(e,t,r,n,a,s)=>{var{x:i,width:l}=s,c=a.y.apply(e,{position:r});if($r(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:i+l,y:c},{x:i,y:c}];return n==="left"?u.reverse():u},_oe=(e,t,r,n,a,s)=>{var{y:i,height:l}=s,c=a.x.apply(e,{position:r});if($r(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:i+l},{x:c,y:i}];return n==="top"?u.reverse():u},Soe=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Eoe=(e,t,r,n,a,s)=>{var{x:i,y:l,segment:c,ifOverflow:u}=s,d=tn(i),f=tn(l);return f?Noe(l,u,r,a,e,t):d?_oe(i,u,r,n,e,t):c!=null&&c.length===2?Soe(c,u,r,e):null};function Coe(e){var t=Ge();return y.useEffect(()=>(t(poe(e)),()=>{t(goe(e))})),null}function Poe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=xt(),l=voe(),c=ie(_=>na(_,t)),u=ie(_=>aa(_,r)),d=ie(_=>Ps(_,"xAxis",t,i)),f=ie(_=>Ps(_,"yAxis",r,i)),h=kl();if(!l||!h||c==null||u==null||d==null||f==null)return null;var m=doe({x:d,y:f}),p=Eoe(m,h,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x,y:v},{x:g,y:b}]=p,w=s==="hidden"?"url(#".concat(l,")"):void 0,j=uS(uS({clipPath:w},qt(e)),{},{x1:x,y1:v,x2:g,y2:b}),k=uoe({x1:x,y1:v,x2:g,y2:b});return y.createElement(sr,{zIndex:e.zIndex},y.createElement(Ot,{className:Ce("recharts-reference-line",a)},koe(n,j),y.createElement(OD,fm({},k,{lowerWidth:k.width,upperWidth:k.width}),y.createElement(TD,{label:e.label}),e.children)))}var Ooe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ot.line};function r3(e){var t=mt(e,Ooe);return y.createElement(y.Fragment,null,y.createElement(Coe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),y.createElement(Poe,t))}r3.displayName="ReferenceLine";function n3(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Aoe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hoe(n,r)}function Toe(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:l}=e;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function hm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Moe(e,t){return n3(e,t+1)}function Ioe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=t,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:n3(n,u)};var x=c,v,g=()=>(v===void 0&&(v=r(p,x)),v),b=p.coordinate,w=c===0||hm(e,b,g,d,l);w||(c=0,d=i,u+=1),w&&(d=b+e*(g()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Doe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $oe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===i-1){var v=e*(m.coordinate+e*x()/2-c);s[h]=m=Ut(Ut({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=Ut(Ut({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=hm(e,m.tickCoord,x,l,c);g&&(c=m.tickCoord-e*(x()/2+a),s[h]=Ut(Ut({},m),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return s}function zoe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(i[l-1]=d=Ut(Ut({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=hm(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=Ut(Ut({},d),{},{isShow:!0}))}}for(var p=s?l-1:l,x=function(b){var w=i[b],j,k=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var _=e*(w.coordinate-e*k()/2-c);i[b]=w=Ut(Ut({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else i[b]=w=Ut(Ut({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=hm(e,w.tickCoord,k,c,u);N&&(c=w.tickCoord+e*(k()/2+a),i[b]=Ut(Ut({},w),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return i}function x1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ue(c)||qu.isSsr){var h;return(h=Moe(a,ue(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?jc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,j)=>{var k=typeof u=="function"?u(w.value,j):w.value;return p==="width"?Aoe(jc(k,{fontSize:t,letterSpacing:r}),x,f):jc(k,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?mr(a[1].coordinate-a[0].coordinate):1,b=Toe(s,g,p);return c==="equidistantPreserveStart"?Ioe(g,b,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?m=zoe(g,b,v,a,i,c==="preserveStartEnd"):m=$oe(g,b,v,a,i),m.filter(w=>w.isShow))}var Foe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(r?n:0);return Math.round(u)}return 0},Boe=["axisLine","width","height","className","hide","ticks","axisType"];function Uoe(e,t){if(e==null)return{};var r,n,a=Hoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(null,arguments)}function fS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fS(Object(r),!0).forEach(function(n){Voe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Voe(e,t,r){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Woe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ka={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ot.axis};function qoe(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ut(ut(ut({},c),Lr(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=ut(ut({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=ut(ut({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return y.createElement("line",Di({},u,{className:Ce("recharts-cartesian-axis-line",tl(l,"className"))}))}function Yoe(e,t,r,n,a,s,i,l,c){var u,d,f,h,m,p,x=l?-1:1,v=e.tickSize||i,g=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-x*v,p=f-x*c,m=g;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-x*v,m=u-x*c,p=g;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+x*v,m=u+x*c,p=g;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+x*v,p=f+x*c,m=g;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Goe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Xoe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Qoe(e){var{option:t,tickProps:r,value:n}=e,a,s=Ce(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,ut(ut({},r),{},{className:s}));else if(typeof t=="function")a=t(ut(ut({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=Ce(i,t==null?void 0:t.className)),a=y.createElement(r1,Di({},r,{className:i}),n)}return a}var Joe=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:x,tickSize:v,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:j,events:k,axisType:_}=e,N=x1(ut(ut({},j),{},{ticks:r}),b,w),S=Goe(d,f),P=Xoe(d,f),I=Lr(j),E=wl(n),C={};typeof a=="object"&&(C=a);var L=ut(ut({},I),{},{fill:"none"},C),O=N.map(D=>ut({entry:D},Yoe(D,h,m,p,x,d,v,f,g))),R=O.map(D=>{var{entry:T,line:M}=D;return y.createElement(Ot,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},a&&y.createElement("line",Di({},L,M,{className:Ce("recharts-cartesian-axis-tick-line",tl(a,"className"))})))}),A=O.map((D,T)=>{var{entry:M,tick:z}=D,B=ut(ut(ut(ut({textAnchor:S,verticalAnchor:P},I),{},{stroke:"none",fill:s},E),z),{},{index:T,payload:M,visibleTicksCount:N.length,tickFormatter:i,padding:c},u);return y.createElement(Ot,Di({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Fu(k,M,T)),n&&y.createElement(Qoe,{option:n,tickProps:B,value:"".concat(typeof i=="function"?i(M.value,T):M.value).concat(l||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},A.length>0&&y.createElement(sr,{zIndex:ot.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},A)),R.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},R))}),Zoe=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:l,axisType:c}=e,u=Uoe(e,Boe),[d,f]=y.useState(""),[h,m]=y.useState(""),p=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Foe({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=y.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),j=w.fontSize,k=w.letterSpacing;(j!==d||k!==h)&&(f(j),m(k))}}},[d,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(sr,{zIndex:e.zIndex},y.createElement(Ot,{className:Ce("recharts-cartesian-axis",s)},y.createElement(qoe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Lr(e)}),y.createElement(Joe,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(OD,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(TD,{label:e.label,labelRef:e.labelRef}),e.children)))}),v1=y.forwardRef((e,t)=>{var r=mt(e,ka);return y.createElement(Zoe,Di({},r,{ref:t}))});v1.displayName="CartesianAxis";var ele=["x1","y1","x2","y2","key"],tle=["offset"],rle=["xAxisId","yAxisId"],nle=["xAxisId","yAxisId"];function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){ale(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ale(e,t,r){return(t=sle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sle(e){var t=ile(e,"string");return typeof t=="symbol"?t:t+""}function ile(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function mm(e,t){if(e==null)return{};var r,n,a=ole(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ole(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:l}=e;return y.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function a3(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:l,y2:c,key:u}=r,d=mm(r,ele),f=(a=Lr(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=mm(f,tle);n=y.createElement("line",ni({},m,{x1:s,y1:i,x2:l,y2:c,fill:"none",key:u}))}return n}function cle(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=mm(e,rle),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return y.createElement(a3,{key:"line-".concat(d),option:n,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function ule(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=mm(e,nle),c=a.map((u,d)=>{var f=Vt(Vt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return y.createElement(a3,{option:n,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function dle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function fle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?a+i-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var hle=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return EM(x1(Vt(Vt(Vt({},ka),r),{},{ticks:CM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},mle=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return EM(x1(Vt(Vt(Vt({},ka),r),{},{ticks:CM(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},ple={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ot.grid};function cc(e){var t=tw(),r=rw(),n=zM(),a=Vt(Vt({},mt(e,ple)),{},{x:ue(e.x)?e.x:n.left,y:ue(e.y)?e.y:n.top,width:ue(e.width)?e.width:n.width,height:ue(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=xt(),x=ie(P=>g_(P,"xAxis",s,p)),v=ie(P=>g_(P,"yAxis",i,p));if(!Xn(u)||!Xn(d)||!ue(l)||!ue(c))return null;var g=a.verticalCoordinatesGenerator||hle,b=a.horizontalCoordinatesGenerator||mle,{horizontalPoints:w,verticalPoints:j}=a;if((!w||!w.length)&&typeof b=="function"){var k=h&&h.length,_=b({yAxis:v?Vt(Vt({},v),{},{ticks:k?h:v.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);Fh(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!j||!j.length)&&typeof g=="function"){var N=m&&m.length,S=g({xAxis:x?Vt(Vt({},x),{},{ticks:N?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);Fh(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return y.createElement(sr,{zIndex:a.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(lle,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(dle,ni({},a,{horizontalPoints:w})),y.createElement(fle,ni({},a,{verticalPoints:j})),y.createElement(cle,ni({},a,{offset:n,horizontalPoints:w,xAxis:x,yAxis:v})),y.createElement(ule,ni({},a,{offset:n,verticalPoints:j,xAxis:x,yAxis:v}))))}cc.displayName="CartesianGrid";var s3=(e,t,r,n)=>Zn(e,"xAxis",t,n),i3=(e,t,r,n)=>Jn(e,"xAxis",t,n),o3=(e,t,r,n)=>Zn(e,"yAxis",r,n),l3=(e,t,r,n)=>Jn(e,"yAxis",r,n),gle=V([Pe,s3,o3,i3,l3],(e,t,r,n,a)=>Ls(e,"xAxis")?al(t,n,!1):al(r,a,!1)),yle=(e,t,r,n,a)=>a;function xle(e){return e.type==="line"}var vle=V([td,yle],(e,t)=>e.filter(xle).find(r=>r.id===t)),ble=V([Pe,s3,o3,i3,l3,vle,gle,Zu],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return Ble({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:m})}});function wle(e){var t=wl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),l=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(l)||l<0)&&(l=n),{r:i,strokeWidth:l}}return{r,strokeWidth:n}}var jle=["id"],kle=["type","layout","connectNulls","needClip","shape"],Nle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(null,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){_le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _le(e,t,r){return(t=Sle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sle(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b1(e,t){if(e==null)return{};var r,n,a=Cle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ple=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:jl(r,t),payload:e}]},Ole=y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:jl(i,t),hide:l,type:u,color:n,unit:c}};return y.createElement(d1,{tooltipEntrySettings:d})}),c3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ale(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Tle=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return c3(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,i]:[i];return[...Ale(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Mle(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:l}=n,c=b1(n,jle),u=Lr(c);return y.createElement(tse,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:t})}function Ile(e){var{showLabels:t,children:r,points:n}=e,a=y.useMemo(()=>n==null?void 0:n.map(s=>{var i,l,c={x:(i=s.x)!==null&&i!==void 0?i:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Fn(Fn({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(a1,{value:t?a:void 0},r)}function pS(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=b1(s,kle),h=Fn(Fn({},qt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return y.createElement(y.Fragment,null,(n==null?void 0:n.length)>1&&y.createElement(lm,du({shapeType:"curve",option:d},h,{pathRef:r})),y.createElement(Mle,{points:n,clipPathId:t,props:s}))}function Dle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rle(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:x,onAnimationStart:v}=r,g=a.current,b=Gu(i,"recharts-line-"),w=y.useRef(b),[j,k]=y.useState(!1),_=!j,N=y.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),S=y.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),P=Dle(n.current),I=y.useRef(0);w.current!==b&&(I.current=s.current,w.current=b);var E=I.current;return y.createElement(Ile,{points:i,showLabels:_},r.children,y.createElement(Yu,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:S,key:b},C=>{var L=$e(E,P+E,C),O=Math.min(L,P),R;if(c)if(l){var A="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));R=Tle(O,P,A)}else R=c3(P,O);else R=l==null?void 0:String(l);if(C>0&&P>0&&(a.current=i,s.current=Math.max(s.current,O)),g){var D=g.length/i.length,T=C===1?i:i.map((M,z)=>{var B=Math.floor(z*D);if(g[B]){var F=g[B];return Fn(Fn({},M),{},{x:$e(F.x,M.x,C),y:$e(F.y,M.y,C)})}return h?Fn(Fn({},M),{},{x:$e(m*2,M.x,C),y:$e(p/2,M.y,C)}):Fn(Fn({},M),{},{x:M.x,y:M.y})});return a.current=T,y.createElement(pS,{props:r,points:T,clipPathId:t,pathRef:n,strokeDasharray:R})}return y.createElement(pS,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:R})}),y.createElement(s1,{label:r.label}))}function Lle(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),a=y.useRef(0),s=y.useRef(null);return y.createElement(Rle,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var $le=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Ze(e.payload,t)}};class zle extends y.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:l,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Ce("recharts-line",a),x=f,{r:v,strokeWidth:g}=wle(r),b=HD(r),w=v*2+g,j=h?"url(#clipPath-".concat(b?"":"dots-").concat(x,")"):void 0;return y.createElement(sr,{zIndex:m},y.createElement(Ot,{className:p},h&&y.createElement("defs",null,y.createElement(y1,{clipPathId:x,xAxisId:s,yAxisId:i}),!b&&y.createElement("clipPath",{id:"clipPath-dots-".concat(x)},y.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:d+w}))),y.createElement(g1,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:$le,errorBarOffset:0},y.createElement(Lle,{props:this.props,clipPathId:x}))),y.createElement(wse,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var u3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ot.line,type:"linear"};function Fle(e){var t=mt(e,u3),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:x}=t,v=b1(t,Nle),{needClip:g}=Jp(m,p),b=p1(),w=Wu(),j=xt(),k=ie(I=>ble(I,m,p,j,x));if(w!=="horizontal"&&w!=="vertical"||k==null||b==null)return null;var{height:_,width:N,x:S,y:P}=b;return y.createElement(zle,du({},v,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:k,layout:w,height:_,width:N,left:S,top:P,needClip:g}))}function Ble(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Ze(u,i);if(t==="horizontal"){var h=zh({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=Te(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var p=Te(f)?null:r.scale(f),x=zh({axis:n,ticks:s,bandSize:l,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function Ule(e){var t=mt(e,u3),r=xt();return y.createElement(h1,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(f1,{legendPayload:Ple(t)}),y.createElement(Ole,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(m1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(Fle,du({},t,{id:n}))))}var $f=y.memo(Ule,dd);$f.displayName="Line";var Hle=["option","isActive"];function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(null,arguments)}function Vle(e,t){if(e==null)return{};var r,n,a=Wle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Kle(e){var{option:t,isActive:r}=e,n=Vle(e,Hle);return typeof t=="string"?y.createElement(lm,kc({option:y.createElement(op,kc({type:t},n)),isActive:r,shapeType:"symbols"},n)):y.createElement(lm,kc({option:t,isActive:r,shapeType:"symbols"},n))}var qle=(e,t,r,n,a,s,i)=>Zn(e,"xAxis",t,i),Yle=(e,t,r,n,a,s,i)=>Jn(e,"xAxis",t,i),Gle=(e,t,r,n,a,s,i)=>Zn(e,"yAxis",r,i),Xle=(e,t,r,n,a,s,i)=>Jn(e,"yAxis",r,i),Qle=(e,t,r,n)=>ute(e,"zAxis",n,!1),Jle=(e,t,r,n,a)=>a,Zle=(e,t,r,n,a,s)=>s,ece=(e,t,r,n,a,s,i)=>Zu(e,t,r,i),tce=V([td,Jle],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),rce=V([ece,qle,Yle,Gle,Xle,Qle,tce,Zle],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(i!=null){var f;if((i==null?void 0:i.data)!=null&&i.data.length>0?f=i.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return gce({displayedData:f,xAxis:t,yAxis:n,zAxis:s,scatterSettings:i,xAxisTicks:r,yAxisTicks:a,cells:l})}}),nce=["onMouseEnter","onClick","onMouseLeave"],ace=["id"],sce=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function zx(e,t){if(e==null)return{};var r,n,a=ice(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ice(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oce(e,t,r){return(t=lce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lce(e){var t=cce(e,"string");return typeof t=="symbol"?t:t+""}function cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:jl(r,t),payload:e}]},dce=y.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:jl(i,t),hide:l,type:c,color:s,unit:""}};return y.createElement(d1,{tooltipEntrySettings:u})});function fce(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:s}=r;if(!n)return null;var i=Lr(r),l=wl(n),c,u;if(a==="joint")c=t.map(v=>{var g,b;return{x:(g=v.cx)!==null&&g!==void 0?g:null,y:(b=v.cy)!==null&&b!==void 0?b:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:h,b:m}=yq(t),p=v=>h*v+m;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var x=pr(pr(pr({},i),{},{fill:"none",stroke:i&&i.fill},l),{},{points:c});return y.isValidElement(n)?u=y.cloneElement(n,x):typeof n=="function"?u=n(x):u=y.createElement(sw,Ri({},x,{type:s})),y.createElement(Ot,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function hce(e){var{showLabels:t,points:r,children:n}=e,a=kl(),s=y.useMemo(()=>r==null?void 0:r.map(i=>{var l,c,u={x:(l=i.x)!==null&&l!==void 0?l:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:i.width,height:i.height,lowerWidth:i.width,upperWidth:i.width};return pr(pr({},u),{},{value:void 0,payload:i.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return y.createElement(a1,{value:t?s:void 0},n)}function mce(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:s}=r,i=ie(Os),{onMouseEnter:l,onClick:c,onMouseLeave:u}=r,d=zx(r,nce),f=l1(l,r.dataKey),h=c1(u),m=u1(c,r.dataKey);if(!Oq(t))return null;var{id:p}=r,x=zx(r,ace),v=Lr(x);return y.createElement(y.Fragment,null,y.createElement(fce,{points:t,props:x}),t.map((g,b)=>{var w=a!=null&&a!==!1,j=w&&i===String(b),k=w&&j?a:n,_=pr(pr(pr({},v),g),{},{[OM]:b,[AM]:String(s)});return y.createElement(sr,{key:"symbol-".concat(g==null?void 0:g.cx,"-").concat(g==null?void 0:g.cy,"-").concat(g==null?void 0:g.size,"-").concat(b),zIndex:j?ot.activeDot:void 0},y.createElement(Ot,Ri({className:"recharts-scatter-symbol"},Fu(d,g,b),{onMouseEnter:f(g,b),onMouseLeave:h(g,b),onClick:m(g,b)}),y.createElement(Kle,Ri({option:k,isActive:j},_))))}))}function pce(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l}=r,c=t.current,u=Gu(r,"recharts-scatter-"),[d,f]=y.useState(!1),h=y.useCallback(()=>{f(!1)},[]),m=y.useCallback(()=>{f(!0)},[]),p=!d;return y.createElement(hce,{showLabels:p,points:n},r.children,y.createElement(Yu,{animationId:u,begin:s,duration:i,isActive:a,easing:l,onAnimationEnd:h,onAnimationStart:m,key:u},x=>{var v=x===1?n:n==null?void 0:n.map((g,b)=>{var w=c&&c[b];return w?pr(pr({},g),{},{cx:g.cx==null?void 0:$e(w.cx,g.cx,x),cy:g.cy==null?void 0:$e(w.cy,g.cy,x),size:$e(w.size,g.size,x)}):pr(pr({},g),{},{size:$e(0,g.size,x)})});return x>0&&(t.current=v),y.createElement(Ot,null,y.createElement(mce,{points:v,allOtherScatterProps:r,showLabels:p}))}),y.createElement(s1,{label:r.label}))}function gce(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:i,yAxisTicks:l,cells:c}=e,u=Te(r.dataKey)?s.dataKey:r.dataKey,d=Te(n.dataKey)?s.dataKey:n.dataKey,f=a&&a.dataKey,h=a?a.range:u4.range,m=h&&h[0],p=r.scale.bandwidth?r.scale.bandwidth():0,x=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((v,g)=>{var b=Ze(v,u),w=Ze(v,d),j=!Te(f)&&Ze(v,f)||"-",k=[{name:Te(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:b,payload:v,dataKey:u,type:s.tooltipType},{name:Te(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:w,payload:v,dataKey:d,type:s.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:v,dataKey:f,type:s.tooltipType});var _=zh({axis:r,ticks:i,bandSize:p,entry:v,index:g,dataKey:u}),N=zh({axis:n,ticks:l,bandSize:x,entry:v,index:g,dataKey:d}),S=j!=="-"?a.scale(j):m,P=Math.sqrt(Math.max(S,0)/Math.PI);return pr(pr({},v),{},{cx:_,cy:N,x:_==null?void 0:_-P,y:N==null?void 0:N-P,width:2*P,height:2*P,size:S,node:{x:b,y:w,z:j},tooltipPayload:k,tooltipPosition:{x:_,y:N},payload:v},c&&c[g]&&c[g].props)})}var yce=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Ze(e,t)});function xce(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:s,yAxisId:i,id:l}=e,c=y.useRef(null);if(t)return null;var u=Ce("recharts-scatter",n),d=l;return y.createElement(sr,{zIndex:e.zIndex},y.createElement(Ot,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&y.createElement("defs",null,y.createElement(y1,{clipPathId:d,xAxisId:s,yAxisId:i})),y.createElement(g1,{xAxisId:s,yAxisId:i,data:r,dataPointFormatter:yce,errorBarOffset:0},y.createElement(Ot,{key:"recharts-scatter-symbols"},y.createElement(pce,{props:e,previousPointsRef:c})))))}var d3={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:ot.scatter};function vce(e){var t=mt(e,d3),{animationBegin:r,animationDuration:n,animationEasing:a,hide:s,isAnimationActive:i,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:h,zAxisId:m}=t,p=zx(t,sce),{needClip:x}=Jp(f,h),v=y.useMemo(()=>UD(e.children,t1),[e.children]),g=xt(),b=ie(w=>rce(w,f,h,m,e.id,v,g));return x==null||b==null?null:y.createElement(y.Fragment,null,y.createElement(dce,{dataKey:e.dataKey,points:b,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),y.createElement(xce,Ri({},p,{xAxisId:f,yAxisId:h,zAxisId:m,lineType:u,lineJointType:c,legendType:l,shape:d,hide:s,isAnimationActive:i,animationBegin:r,animationDuration:n,animationEasing:a,points:b,needClip:x})))}function bce(e){var t=mt(e,d3),r=xt();return y.createElement(h1,{id:t.id,type:"scatter"},n=>y.createElement(y.Fragment,null,y.createElement(f1,{legendPayload:uce(t)}),y.createElement(m1,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),y.createElement(vce,Ri({},t,{id:n}))))}var Fx=y.memo(bce,dd);Fx.displayName="Scatter";var wce=["domain","range"],jce=["domain","range"];function yS(e,t){if(e==null)return{};var r,n,a=kce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function f3(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=yS(e,wce),{domain:s,range:i}=t,l=yS(t,jce);return!xS(r,s)||!xS(n,i)?!1:dd(a,l)}var Nce=["dangerouslySetInnerHTML","ticks"],_ce=["id"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(null,arguments)}function vS(e,t){if(e==null)return{};var r,n,a=Sce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ece(e){var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(ise(e)):r.current!==e&&t(ose({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(lse(r.current)),r.current=null)},[t]),null}var Cce=e=>{var{xAxisId:t,className:r}=e,n=ie(Zb),a=xt(),s="xAxis",i=ie(v=>Ps(v,s,t,a)),l=ie(v=>V4(v,s,t,a)),c=ie(v=>F4(v,t)),u=ie(v=>ate(v,t)),d=ie(v=>l4(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=vS(e,Nce),{id:p}=d,x=vS(d,_ce);return y.createElement(v1,Bx({},m,x,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:Ce("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Pce={allowDataOverflow:kt.allowDataOverflow,allowDecimals:kt.allowDecimals,allowDuplicatedCategory:kt.allowDuplicatedCategory,angle:kt.angle,axisLine:ka.axisLine,height:kt.height,hide:!1,includeHidden:kt.includeHidden,interval:kt.interval,minTickGap:kt.minTickGap,mirror:kt.mirror,orientation:kt.orientation,padding:kt.padding,reversed:kt.reversed,scale:kt.scale,tick:kt.tick,tickCount:kt.tickCount,tickLine:ka.tickLine,tickSize:ka.tickSize,type:kt.type,xAxisId:0},Oce=e=>{var t=mt(e,Pce);return y.createElement(y.Fragment,null,y.createElement(Ece,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(Cce,t))},uc=y.memo(Oce,f3);uc.displayName="XAxis";var Ace=["dangerouslySetInnerHTML","ticks"],Tce=["id"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function bS(e,t){if(e==null)return{};var r,n,a=Mce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ice(e){var t=Ge(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(cse(e)):r.current!==e&&t(use({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(dse(r.current)),r.current=null)},[t]),null}var Dce=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=y.useRef(null),i=y.useRef(null),l=ie(Zb),c=xt(),u=Ge(),d="yAxis",f=ie(k=>Ps(k,d,t,c)),h=ie(k=>B4(k,t)),m=ie(k=>ite(k,t)),p=ie(k=>V4(k,d,t,c)),x=ie(k=>c4(k,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!h||n1(a)||y.isValidElement(a)||x==null)){var k=s.current;if(k){var _=k.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&u(fse({id:t,width:_}))}}},[p,h,u,a,t,n,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:g}=e,b=bS(e,Ace),{id:w}=x,j=bS(x,Tce);return y.createElement(v1,Ux({},b,j,{ref:s,labelRef:i,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ce("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))},Rce={allowDataOverflow:Nt.allowDataOverflow,allowDecimals:Nt.allowDecimals,allowDuplicatedCategory:Nt.allowDuplicatedCategory,angle:Nt.angle,axisLine:ka.axisLine,hide:!1,includeHidden:Nt.includeHidden,interval:Nt.interval,minTickGap:Nt.minTickGap,mirror:Nt.mirror,orientation:Nt.orientation,padding:Nt.padding,reversed:Nt.reversed,scale:Nt.scale,tick:Nt.tick,tickCount:Nt.tickCount,tickLine:ka.tickLine,tickSize:ka.tickSize,type:Nt.type,width:Nt.width,yAxisId:0},Lce=e=>{var t=mt(e,Rce);return y.createElement(y.Fragment,null,y.createElement(Ice,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(Dce,t))},dc=y.memo(Lce,f3);dc.displayName="YAxis";var $ce=(e,t)=>t,w1=V([$ce,Pe,i4,wt,iD,Ua,jre,At],Pre),j1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},h3=rn("mouseClick"),m3=Hu();m3.startListening({actionCreator:h3,effect:(e,t)=>{var r=e.payload,n=w1(t.getState(),j1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(wte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Hx=rn("mouseMove"),p3=Hu(),uf=null;p3.startListening({actionCreator:Hx,effect:(e,t)=>{var r=e.payload;uf!==null&&cancelAnimationFrame(uf);var n=j1(r);uf=requestAnimationFrame(()=>{var a=t.getState(),s=Vw(a,a.tooltip.settings.shared);if(s==="axis"){var i=w1(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(J4({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Q4())}uf=null})}});var wS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},g3=jr({name:"rootProps",initialState:wS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:wS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),zce=g3.reducer,{updateOptions:Fce}=g3.actions,y3=jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ffe}=y3.actions,Bce=y3.reducer,x3=rn("keyDown"),v3=rn("focus"),k1=Hu();k1.startListening({actionCreator:x3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Ww(a,Pl(r),nd(r),ld(r)),l=i==null?-1:Number(i);if(!(!Number.isFinite(l)||l<0)){var c=Ua(r);if(s==="Enter"){var u=am(r,"axis","hover",String(a.index));t.dispatch(Tx({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=dte(r),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,m=l+h*f;if(!(c==null||m>=c.length||m<0)){var p=am(r,"axis","hover",String(m));t.dispatch(Tx({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});k1.startListening({actionCreator:v3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=am(r,"axis","hover",String(s));t.dispatch(Tx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Vr=rn("externalEvent"),b3=Hu(),f0=new Map;b3.startListening({actionCreator:Vr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=f0.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:ire(l),activeDataKey:uD(l),activeIndex:Os(l),activeLabel:cD(l),activeTooltipIndex:Os(l),isTooltipActive:ore(l)};r(c,n)}finally{f0.delete(a)}});f0.set(a,i)}}});var Uce=V([Cl],e=>e.tooltipItemPayloads),Hce=V([Uce,id,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),w3=rn("touchMove"),j3=Hu();j3.startListening({actionCreator:w3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Vw(n,n.tooltip.settings.shared);if(a==="axis"){var s=w1(n,j1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(J4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(OM),d=(i=c.getAttribute(AM))!==null&&i!==void 0?i:void 0,f=Hce(t.getState(),u,d);t.dispatch(X4({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var Vce=JT({brush:ioe,cartesianAxis:hse,chartData:sne,errorBars:Mse,graphicalItems:Wae,layout:oG,legend:mX,options:ene,polarAxis:xae,polarOptions:Bce,referenceElements:yoe,rootProps:zce,tooltip:jte,zIndex:Hre}),Wce=function(t){return TY({reducer:Vce,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([m3.middleware,p3.middleware,k1.middleware,b3.middleware,j3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(hM({type:"raf"}))},devTools:qu.devToolsEnabled})};function Kce(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=xt(),s=y.useRef(null);if(a)return r;s.current==null&&(s.current=Wce(t));var i=Ub;return y.createElement(oie,{context:i,store:s.current},r)}function qce(e){var{layout:t,margin:r}=e,n=Ge(),a=xt();return y.useEffect(()=>{a||(n(aG(t)),n(nG(r)))},[n,a,t,r]),null}var Yce=y.memo(qce,dd);function Gce(e){var t=Ge();return y.useEffect(()=>{t(Fce(e))},[t,e]),null}function jS(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=WD("".concat(n).concat(t)),s=Ge();return y.useLayoutEffect(()=>(s(Bre({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Ure({zIndex:t,isPanorama:r}))}),[s,t,a,r]),y.createElement("g",{tabIndex:-1,id:a})}function kS(e){var{children:t,isPanorama:r}=e,n=ie(Are);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return y.createElement(y.Fragment,null,a.map(i=>y.createElement(jS,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>y.createElement(jS,{key:i,zIndex:i,isPanorama:r})))}var Xce=["children"];function Qce(e,t){if(e==null)return{};var r,n,a=Jce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(null,arguments)}var Zce={width:"100%",height:"100%",display:"block"},eue=y.forwardRef((e,t)=>{var r=tw(),n=rw(),a=YM();if(!Xn(r)||!Xn(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0),y.createElement(Eb,pm({},i,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Zce,ref:t}),s)}),tue=e=>{var{children:t}=e,r=ie(wp);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return y.createElement(Eb,{width:n,height:a,x:i,y:s},t)},NS=y.forwardRef((e,t)=>{var{children:r}=e,n=Qce(e,Xce),a=xt();return a?y.createElement(tue,null,y.createElement(kS,{isPanorama:!0},r)):y.createElement(eue,pm({ref:t},n),y.createElement(kS,{isPanorama:!1},r))});function rue(){var e=Ge(),[t,r]=y.useState(null),n=ie(_G);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;He(s)&&s!==n&&e(iG(s))}},[t,e,n]),r}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=iue(e,"string");return typeof t=="symbol"?t:t+""}function iue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(null,arguments)}var oue=()=>(mne(),null);function gm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var lue=y.forwardRef((e,t)=>{var r,n,a=y.useRef(null),[s,i]=y.useState({containerWidth:gm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:gm((n=e.style)===null||n===void 0?void 0:n.height)}),l=y.useCallback((u,d)=>{i(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=p=>{var{width:x,height:v}=p[0].contentRect;l(x,v)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return y.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),y.createElement(y.Fragment,null,y.createElement(jp,{width:s.containerWidth,height:s.containerHeight}),y.createElement("div",Li({ref:c},e)))}),cue=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=y.useState({containerWidth:gm(r),containerHeight:gm(n)}),i=y.useCallback((c,u)=>{s(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return y.createElement(y.Fragment,null,y.createElement(jp,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Li({ref:l},e)))}),uue=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(jp,{width:r,height:n}),y.createElement("div",Li({ref:t},e)))}),due=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return Oa(r)||Oa(n)?y.createElement(cue,Li({},e,{ref:t})):y.createElement(uue,Li({},e,{ref:t}))});function fue(e){return e===!0?lue:due}var hue=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:v,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,j=y.useRef(null),k=Ge(),[_,N]=y.useState(null),[S,P]=y.useState(null),I=rue(),E=ew(),C=(E==null?void 0:E.width)>0?E.width:g,L=(E==null?void 0:E.height)>0?E.height:a,O=y.useCallback(H=>{I(H),typeof t=="function"&&t(H),N(H),P(H),H!=null&&(j.current=H)},[I,t,N,P]),R=y.useCallback(H=>{k(h3(H)),k(Vr({handler:s,reactEvent:H}))},[k,s]),A=y.useCallback(H=>{k(Hx(H)),k(Vr({handler:u,reactEvent:H}))},[k,u]),D=y.useCallback(H=>{k(Q4()),k(Vr({handler:d,reactEvent:H}))},[k,d]),T=y.useCallback(H=>{k(Hx(H)),k(Vr({handler:f,reactEvent:H}))},[k,f]),M=y.useCallback(()=>{k(v3())},[k]),z=y.useCallback(H=>{k(x3(H.key))},[k]),B=y.useCallback(H=>{k(Vr({handler:i,reactEvent:H}))},[k,i]),F=y.useCallback(H=>{k(Vr({handler:l,reactEvent:H}))},[k,l]),Y=y.useCallback(H=>{k(Vr({handler:c,reactEvent:H}))},[k,c]),q=y.useCallback(H=>{k(Vr({handler:h,reactEvent:H}))},[k,h]),Q=y.useCallback(H=>{k(Vr({handler:x,reactEvent:H}))},[k,x]),le=y.useCallback(H=>{w&&k(w3(H)),k(Vr({handler:p,reactEvent:H}))},[k,w,p]),J=y.useCallback(H=>{k(Vr({handler:m,reactEvent:H}))},[k,m]),X=fue(b);return y.createElement(yD.Provider,{value:_},y.createElement(rT.Provider,{value:S},y.createElement(X,{width:C??(v==null?void 0:v.width),height:L??(v==null?void 0:v.height),className:Ce("recharts-wrapper",n),style:nue({position:"relative",cursor:"default",width:C,height:L},v),onClick:R,onContextMenu:B,onDoubleClick:F,onFocus:M,onKeyDown:z,onMouseDown:Y,onMouseEnter:A,onMouseLeave:D,onMouseMove:T,onMouseUp:q,onTouchEnd:J,onTouchMove:le,onTouchStart:Q,ref:O},y.createElement(oue,null),r)))}),mue=["width","height","responsive","children","className","style","compact","title","desc"];function pue(e,t){if(e==null)return{};var r,n,a=gue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yue=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:l,compact:c,title:u,desc:d}=e,f=pue(e,mue),h=Lr(f);return c?y.createElement(y.Fragment,null,y.createElement(jp,{width:r,height:n}),y.createElement(NS,{otherAttributes:h,title:u,desc:d},s)):y.createElement(hue,{className:i,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(NS,{otherAttributes:h,title:u,desc:d,ref:t},y.createElement(xoe,null,s)))});function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}var xue={top:5,right:5,bottom:5,left:5},vue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:xue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},N1=y.forwardRef(function(t,r){var n,a=mt(t.categoricalChartProps,vue),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(Kce,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},y.createElement(soe,{chartData:u.data}),y.createElement(Yce,{layout:a.layout,margin:a.margin}),y.createElement(Gce,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),y.createElement(yue,Vx({},a,{ref:r})))}),bue=["axis"],wue=y.forwardRef((e,t)=>y.createElement(N1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bue,tooltipPayloadSearcher:e1,categoricalChartProps:e,ref:t})),jue=["axis","item"],kue=y.forwardRef((e,t)=>y.createElement(N1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jue,tooltipPayloadSearcher:e1,categoricalChartProps:e,ref:t})),Nue=["item"],SS=y.forwardRef((e,t)=>y.createElement(N1,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nue,tooltipPayloadSearcher:e1,categoricalChartProps:e,ref:t}));const hs={deployModel:async e=>(await st.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await st.get("/deployment/active")).data}catch(e){if(e.response&&e.response.status===404)return null;throw e}},getHistory:async(e=50,t=0)=>(await st.get("/deployment/history",{params:{limit:e,skip:t}})).data,deactivate:async()=>{await st.post("/deployment/deactivate")},predict:async e=>(await st.post("/deployment/predict",{data:e})).data},_ue=()=>{var pe,Ie;const{jobs:e,fetchJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=bl(),[s,i]=y.useState([]),[l,c]=y.useState("all"),[u,d]=y.useState([]),[f,h]=y.useState("all"),[m,p]=y.useState(null),[x,v]=y.useState(!0),[g,b]=y.useState(!0),[w,j]=y.useState(!0),[k,_]=y.useState(!0),[N,S]=y.useState(!0),[P,I]=y.useState("charts"),[E,C]=y.useState(null),[L,O]=y.useState(!1),[R,A]=y.useState(null),[D,T]=y.useState(null),[M,z]=y.useState(null);y.useEffect(()=>{t(),B()},[t]),y.useEffect(()=>{var U,ne,me,fe;((fe=(me=(ne=(U=E==null?void 0:E.splits)==null?void 0:U.train)==null?void 0:ne.y_proba)==null?void 0:me.classes)==null?void 0:fe.length)>0&&z(E.splits.train.y_proba.classes[0])},[E]);const B=async()=>{try{const U=await st.get("/pipeline/datasets/list");d(U.data)}catch(U){console.error("Failed to fetch datasets",U)}},F=async(U,ne)=>{if(U.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await hs.deployModel(ne),alert("Model deployed successfully!")}catch(me){alert("Failed to deploy model"),console.error(me)}},Y=async U=>{var ne,me;O(!0),C(null),A(null),T(U);try{const fe=await st.get(`/pipeline/jobs/${U}/evaluation`);C(fe.data)}catch(fe){console.error("Failed to fetch evaluation data",fe),A(((me=(ne=fe.response)==null?void 0:ne.data)==null?void 0:me.detail)||"Failed to fetch evaluation data")}finally{O(!1)}},q=(U,ne)=>{const me=Array.from(new Set([...U,...ne])).sort(),fe=me.map(_e=>me.map(Se=>U.reduce((kr,Nr,ir)=>{const or=ne[ir];return Nr===_e&&or===Se?kr+1:kr},0)));return{classes:me,matrix:fe}},Q=(U,ne,me)=>{if(!ne||!ne.values)return null;const fe=ne.classes.indexOf(me);if(fe===-1)return null;const Se=ne.values.map(_r=>_r[fe]).map((_r,Bs)=>({score:_r,actual:U[Bs]===me?1:0}));Se.sort((_r,Bs)=>Bs.score-_r.score);const kr=[];let Nr=0,ir=0;const or=Se.filter(_r=>_r.actual===1).length,Ha=Se.length-or;if(or===0||Ha===0)return null;kr.push({fpr:0,tpr:0});for(let _r=0;_r<Se.length;_r++)Se[_r].actual===1?Nr++:ir++,kr.push({fpr:ir/Ha,tpr:Nr/or});return kr};y.useEffect(()=>{P==="evaluation"&&(!D&&s.length>0||D&&!s.includes(D)&&s.length>0?Y(s[0]):s.length===0&&(C(null),T(null)))},[P,s,D]);const le=e.filter(U=>{const ne=l==="all"||U.job_type===l,me=f==="all"||U.dataset_id===f,fe=U.status==="completed";return ne&&me&&fe}),J=e.filter(U=>s.includes(U.job_id)),X=U=>{i(ne=>ne.includes(U)?ne.filter(me=>me!==U):[...ne,U])},H=J.map(U=>{var me;const ne=U.metrics||((me=U.result)==null?void 0:me.metrics)||{};return{name:U.job_id,...ne}}),te=Array.from(new Set(J.flatMap(U=>{var me;const ne=U.metrics||((me=U.result)==null?void 0:me.metrics)||{};return Object.keys(ne).filter(fe=>{const _e=ne[fe];return typeof _e=="number"&&!isNaN(_e)})}))).filter(U=>!(U.startsWith("train_")&&!x||U.startsWith("test_")&&!g||U.startsWith("val_")&&!w)),Z=(U,ne)=>{if(!U||!ne)return"-";const me=new Date(ne).getTime()-new Date(U).getTime(),fe=Math.floor(me/1e3);return fe<60?`${fe}s`:`${Math.floor(fe/60)}m ${fe%60}s`},K=U=>U==="best_score"?{type:"val",base:"best_score"}:U.startsWith("train_")?{type:"train",base:U.replace("train_","")}:U.startsWith("test_")?{type:"test",base:U.replace("test_","")}:U.startsWith("val_")?{type:"val",base:U.replace("val_","")}:{type:"other",base:U},re=new Map;te.forEach(U=>{const{base:ne}=K(U);re.has(ne)||re.set(ne,[]),re.get(ne).push(U)}),re.forEach((U,ne)=>{re.set(ne,U.sort())});const ce=Array.from(re.keys()).sort(),ge=m&&ce.includes(m)?m:ce[0]||null;return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:f,onChange:U=>h(U.target.value),children:[o.jsx("option",{value:"all",children:"All Datasets"}),u.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]}),o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:U=>c(U.target.value),children:[o.jsx("option",{value:"all",children:"All Experiments"}),o.jsx("option",{value:"tuning",children:"Model Optimization"}),o.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",s.length,")"]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[le.map(U=>{var ne,me,fe,_e;return o.jsxs("div",{onClick:()=>X(U.job_id),className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${s.includes(U.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300 break-all",children:["#",U.version," - ",U.job_id]}),o.jsxs("div",{className:"flex items-center gap-2",children:[U.status==="completed"&&(U.job_type==="training"||U.job_type==="tuning")&&o.jsx("button",{onClick:Se=>F(Se,U.job_id),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:o.jsx(Rm,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${U.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":U.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:U.status})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[U.model_type,"  ",U.dataset_name||"Unknown Dataset",U.job_type==="tuning"&&(U.search_strategy||((me=(ne=U.config)==null?void 0:ne.tuning)==null?void 0:me.strategy))&&o.jsxs("span",{className:"ml-1 text-gray-400",children:["(",U.search_strategy||((_e=(fe=U.config)==null?void 0:fe.tuning)==null?void 0:_e.strategy),")"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[o.jsx("span",{children:new Date(U.start_time||U.created_at).toLocaleString()}),o.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:Z(U.start_time,U.end_time)})]})]},U.job_id)}),r&&o.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:o.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?o.jsx(Si,{className:"w-3 h-3 animate-spin"}):o.jsx($t,{className:"w-3 h-3"}),"Load More"]})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:J.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[o.jsx(NP,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${P==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>I("charts"),children:"Visual Comparison"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${P==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>I("table"),children:"Detailed Metrics & Params"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${P==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>I("evaluation"),children:"Model Evaluation"})]}),P==="charts"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:U=>v(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:U=>b(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:U=>j(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ce.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ce.map(U=>o.jsx("button",{onClick:()=>p(U),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${ge===U?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:U.toUpperCase()},U))}),ge&&re.has(ge)&&o.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(Zd,{width:"100%",height:"100%",children:o.jsxs(kue,{data:H,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(cc,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),o.jsx(uc,{dataKey:"name",stroke:"#6B7280",fontSize:12}),o.jsx(dc,{stroke:"#6B7280",fontSize:12}),o.jsx(of,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),o.jsx(qM,{}),re.get(ge).map(U=>{const{type:ne}=K(U);let me="#8884d8";return ne==="train"&&(me="#3b82f6"),ne==="test"&&(me="#22c55e"),ne==="val"&&(me="#f97316"),ne==="other"&&(me="#a855f7"),o.jsx(XD,{dataKey:U,fill:me,name:`${ne} (${ge})`},U)})]})})})})]}),P==="table"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),J.map(U=>o.jsx("th",{className:"px-4 py-2 font-mono break-all min-w-[100px]",children:U.job_id},U.job_id))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[o.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),J.map(U=>o.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:U.model_type},U.job_id))]}),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>_(!k),children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:J.length+1,children:[k?o.jsx($t,{className:"w-3 h-3"}):o.jsx(Es,{className:"w-3 h-3"}),"Key Metrics"]})}),k&&te.map(U=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:U}),J.map(ne=>{var _e;const fe=(ne.metrics||((_e=ne.result)==null?void 0:_e.metrics)||{})[U];return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof fe=="number"?fe.toFixed(4):"-"},ne.job_id)})]},U)),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>S(!N),children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:J.length+1,children:[N?o.jsx($t,{className:"w-3 h-3"}):o.jsx(Es,{className:"w-3 h-3"}),"Hyperparameters"]})}),N&&Array.from(new Set(J.flatMap(U=>Object.keys(U.hyperparameters||{})))).map(U=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:U}),J.map(ne=>{var me;return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((me=ne.hyperparameters)==null?void 0:me[U])??"-")},ne.job_id)})]},U))]})]})})]}),P==="evaluation"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(U=>o.jsx("button",{onClick:()=>Y(U),className:`px-3 py-1 text-xs font-mono rounded border whitespace-nowrap ${D===U?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:U},U))}),L?o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[o.jsx(wr,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):R?o.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[o.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),o.jsx("p",{className:"text-sm mt-2 opacity-80",children:R})]}):E?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:U=>v(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:U=>b(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:U=>j(U.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),E.problem_type==="classification"&&((Ie=(pe=E.splits)==null?void 0:pe.train)==null?void 0:Ie.y_proba)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),o.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:M||"",onChange:U=>z(U.target.value),children:E.splits.train.y_proba.classes.map(U=>o.jsx("option",{value:U,children:U},U))})]})]}),o.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(E.splits||{}).filter(([U])=>!(U==="train"&&!x||U==="test"&&!g||U==="validation"&&!w)).map(([U,ne])=>{const me=ne.y_true.map((fe,_e)=>({x:fe,y:ne.y_pred[_e]}));return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[U," Set"]}),E.problem_type==="regression"?o.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),o.jsx(Zd,{width:"100%",height:"100%",children:o.jsxs(SS,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(cc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(uc,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(dc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(of,{cursor:{strokeDasharray:"3 3"},content:({active:fe,payload:_e})=>{if(fe&&_e&&_e.length){const Se=_e[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Actual: ",Se.x.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Predicted: ",Se.y.toFixed(4)]}),o.jsxs("p",{className:"text-gray-500",children:["Error: ",(Se.y-Se.x).toFixed(4)]})]})}return null}}),o.jsx($f,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),o.jsx(Fx,{name:"Predictions",data:me,fill:"#8884d8",fillOpacity:.6})]})})]}),o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),o.jsx(Zd,{width:"100%",height:"100%",children:o.jsxs(SS,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(cc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(uc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(dc,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(of,{cursor:{strokeDasharray:"3 3"},content:({active:fe,payload:_e})=>{if(fe&&_e&&_e.length){const Se=_e[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Predicted: ",Se.y.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Residual: ",Se.residual.toFixed(4)]})]})}return null}}),o.jsx(r3,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),o.jsx(Fx,{name:"Residuals",data:me.map(fe=>({...fe,residual:fe.x-fe.y})),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const{classes:fe,matrix:_e}=q(ne.y_true,ne.y_pred);return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-8"})," ",o.jsxs("div",{className:"flex ml-2",children:[" ",fe.map(Se=>o.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",Se]},Se))]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex flex-col justify-center mr-2",children:fe.map(Se=>o.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",Se]},Se))}),o.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:_e.map((Se,kr)=>o.jsx("div",{className:"flex",children:Se.map((Nr,ir)=>{const or=Math.max(..._e.flat()),Ha=or>0?Nr/or:0;return o.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Ha*.8+.1})`,color:Ha>.5?"white":"inherit"},title:`True: ${fe[kr]}, Pred: ${fe[ir]}, Count: ${Nr}`,children:Nr},ir)})},kr))})]}),o.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),ne.y_proba&&o.jsxs("div",{className:"h-[300px] w-full",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{const fe=Q(ne.y_true,ne.y_proba,M);return fe?o.jsx(Zd,{width:"100%",height:"100%",children:o.jsxs(wue,{data:fe,margin:{top:5,right:20,bottom:20,left:20},children:[o.jsx(cc,{strokeDasharray:"3 3",opacity:.1}),o.jsx(uc,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),o.jsx(dc,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),o.jsx(of,{}),o.jsx($f,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),o.jsx($f,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):o.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},U)})})]}):o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[o.jsx("p",{children:"Select a completed job to view evaluation details."}),o.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},Sue=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,s]=y.useState(null),[i,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null);y.useEffect(()=>{h()},[]);const h=async()=>{try{const x=await hs.getActive();if(t(x),x&&x.job_id)try{const v=await Ct.getJob(x.job_id);if(v.dataset_id){const g=v.target_column,b=v.dropped_columns||[],w=await jn.getSample(v.dataset_id,1);if(w&&w.length>0){const j=w.map(_=>{const N={..._};return g&&g in N&&delete N[g],b.forEach(S=>{S in N&&delete N[S]}),N});n(JSON.stringify(j,null,2));const k=[];g&&k.push(`Target: ${g}`),b.length>0&&k.push(`Dropped: ${b.length} cols`),k.length>0&&f(`Auto-filtered: ${k.join(", ")}`)}}}catch(v){console.warn("Failed to fetch dataset sample for inference auto-fill",v)}}catch{t(null)}},m=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await hs.deactivate(),t(null),s(null)}catch(x){console.error("Failed to deactivate",x)}},p=async()=>{l(!0),u(null),s(null);try{const x=JSON.parse(r);if(!Array.isArray(x))throw new Error("Input must be a JSON array of objects");const v=await hs.predict(x);s(v.predictions)}catch(x){u(x.message||"Prediction failed")}finally{l(!1)}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),o.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),o.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:x=>n(x.target.value),placeholder:'[{"col1": 1, "col2": "A"}]'}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:p,disabled:!e||i,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||i?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:i?"Running...":o.jsxs(o.Fragment,{children:[o.jsx(Fi,{className:"w-4 h-4"})," Run Prediction"]})})})]}),o.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dh,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&o.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[o.jsx(Sy,{className:"w-3 h-3"}),"Undeploy"]})]}),e?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),o.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200 break-all",children:e.job_id})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),o.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[o.jsx(qn,{className:"w-4 h-4"})," Active"]})]})]}):o.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[o.jsx(Sn,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),o.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?o.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[o.jsx(Sn,{className:"w-5 h-5 shrink-0 mt-0.5"}),o.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?o.jsx("div",{className:"space-y-2",children:a.map((x,v)=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[o.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",v+1]}),o.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof x=="object"?JSON.stringify(x):String(x)})]},v))}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Eue=()=>{const{activeView:e,isPropertiesPanelExpanded:t}=vl();return o.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[o.jsx(jK,{}),o.jsx(wK,{}),e==="canvas"?o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[o.jsx(iK,{}),o.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[!t&&o.jsx(vK,{}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(pK,{}),o.jsx(bK,{})]})]}),o.jsx(gK,{})]}):e==="experiments"?o.jsx(_ue,{}):o.jsx(Sue,{})]})},Cue=()=>{const e=xe(t=>t.addNode);return Or.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("source_id");r&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:r})},100)},[]),o.jsx(Eue,{})},Pue=()=>{const e=Wv(),[t,r]=y.useState(null),[n,a]=y.useState([]),[s,i]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,p]=y.useState(0),[x,v]=y.useState(!0),g=10,[b,w]=y.useState(""),[j,k]=y.useState(""),[_,N]=y.useState(()=>{try{const A=localStorage.getItem("skyulf_manual_deployments");return A?JSON.parse(A):{}}catch{return{}}}),S=A=>{N(D=>{const T={...D,[A]:!D[A]};return localStorage.setItem("skyulf_manual_deployments",JSON.stringify(T)),T})},P=async()=>{try{const A=await fetch("/api/registry/stats");if(A.ok){const D=await A.json();r(D)}}catch(A){console.error("Failed to fetch stats",A)}},I=async(A,D=!1)=>{if(!s)try{i(!0);const T=A*g,M=await fetch(`/api/registry/models?skip=${T}&limit=${g}`);if(!M.ok)throw new Error("Failed to fetch models");const z=await M.json();return z.length<g?v(!1):v(!0),a(B=>D?z:[...B,...z]),z}catch(T){return c(T.message),null}finally{i(!1)}};y.useEffect(()=>{P(),I(0,!0)},[]),y.useEffect(()=>{const A=T=>{const M=T.target;M.scrollTop+M.clientHeight>=M.scrollHeight-100&&!s&&x&&p(z=>z+1)},D=document.querySelector("main");return D?(D.addEventListener("scroll",A),()=>D.removeEventListener("scroll",A)):(window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A))},[s,x]),y.useEffect(()=>{m>0&&I(m,!1)},[m]);const E=async A=>{if(confirm("Are you sure you want to deploy this model version? This will replace the currently active deployment."))try{h(A);const D=await fetch(`/api/deployment/deploy/${A}`,{method:"POST"});if(!D.ok){const M=await D.json();throw new Error(M.detail||"Deployment failed")}p(0);const T=await I(0,!0);if(u&&T){const M=T.find(z=>z.model_type===u.model_type&&z.dataset_id===u.dataset_id);M&&d(M)}confirm("Model deployed successfully! Do you want to go to the inference page?")&&e("/deployments")}catch(D){alert(`Error deploying model: ${D.message}`)}finally{h(null)}},C=A=>{switch(A.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-300"}},L=A=>{if(!A)return"-";const D=A.score||A.accuracy||A.f1_score||A.rmse||A.mse;if(D!==void 0)return typeof D=="number"?D.toFixed(4):D;const T=Object.keys(A);if(T.length>0){const M=A[T[0]];return`${T[0]}: ${typeof M=="number"?M.toFixed(4):M}`}return"-"},O=A=>A.toLowerCase()==="tuning"?"Advanced Training":A.toLowerCase()==="training"?"Standard Training":A.charAt(0).toUpperCase()+A.slice(1),R=n.filter(A=>{const D=(A.dataset_name||"").toLowerCase().includes(b.toLowerCase())||(A.dataset_id||"").toLowerCase().includes(b.toLowerCase()),T=A.model_type.toLowerCase().includes(j.toLowerCase());return D&&T});return s&&!t&&n.length===0?o.jsxs("div",{className:"p-8 flex justify-center items-center h-full text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading registry..."]}):l?o.jsxs("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:["Error: ",l]}):o.jsxs("div",{className:"p-8 min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[o.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Model Registry"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage versions, track metrics, and deploy your best models."})]}),o.jsx("button",{onClick:()=>{p(0),I(0,!0),P()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:"Refresh"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(h0,{title:"Total Versions",value:(t==null?void 0:t.total_versions)||0,icon:o.jsx(dh,{className:"text-blue-500"})}),o.jsx(h0,{title:"Active Deployments",value:(t==null?void 0:t.active_deployments)||0,icon:o.jsx(Oue,{className:"text-green-500"}),valueColor:"text-green-600 dark:text-green-400"}),o.jsx(h0,{title:"Model Types",value:n.length,icon:o.jsx(Ny,{className:"text-purple-500"}),valueColor:"text-purple-600 dark:text-purple-400"})]}),o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Model Type"}),o.jsx("input",{type:"text",placeholder:"e.g. RandomForest",value:j,onChange:A=>k(A.target.value),className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Dataset"}),o.jsx("input",{type:"text",placeholder:"e.g. Iris Dataset",value:b,onChange:A=>w(A.target.value),className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Ny,{size:20,className:"text-slate-400"}),"Registered Models"]}),o.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",R.length," of ",n.length," models"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Dataset"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Latest Version"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Source"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Deployments"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:R.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(dh,{size:48,className:"mb-4 opacity-20"}),o.jsx("p",{children:"No models found matching your filters."})]})})}):R.map(A=>{const D=A.latest_version;if(!D)return null;const T=`${A.model_type}-${A.dataset_id}`,M=A.deployment_count>0,z=_[T]||!1,B=M||z;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:A.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:A.dataset_name}),o.jsx("span",{className:"text-xs text-slate-400 font-mono mt-0.5",children:A.dataset_id})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:["v",D.version]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:O(D.source)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(D.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${C(D.status)}`,children:D.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",onClick:F=>F.stopPropagation(),children:[o.jsx("input",{type:"checkbox",checked:B,onChange:()=>S(T),disabled:M,className:`w-4 h-4 rounded border-gray-300 focus:ring-green-500 ${M?"text-green-600 opacity-50 cursor-not-allowed":"text-blue-600 cursor-pointer"}`}),B?o.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs",children:[o.jsx(qn,{size:12})," ",M?"Active":"Manual"]}):o.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-xs",children:"None"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("button",{onClick:()=>d(A),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 flex items-center justify-end gap-1 ml-auto",children:["View Versions ",o.jsx(Es,{size:16})]})})]},T)})})]})})]}),s&&n.length>0&&o.jsxs("div",{className:"py-4 flex justify-center text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading more models..."]}),u&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>d(null),children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:A=>A.stopPropagation(),children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:u.model_type}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Version History"})]}),o.jsx("button",{onClick:()=>d(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:o.jsx(er,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Version"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Metrics"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:u.versions.map(A=>o.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${A.is_deployed?"bg-green-50/50 dark:bg-green-900/10":""}`,children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-mono",children:["v",A.version]}),A.is_deployed&&o.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-1.5 py-0.5 rounded border border-green-200 dark:border-green-800",children:"Deployed"})]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(A.created_at).toLocaleString()}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-mono",children:L(A.metrics)}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${C(A.status)}`,children:A.status})}),o.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:[A.status==="completed"&&!A.is_deployed&&o.jsxs("button",{onClick:()=>E(A.job_id),disabled:f===A.job_id,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 disabled:opacity-50 flex items-center gap-1 ml-auto",children:[f===A.job_id?o.jsx("span",{className:"animate-spin h-3 w-3 border-b-2 border-current rounded-full"}):o.jsx(Fi,{size:14}),"Deploy"]}),A.is_deployed&&o.jsxs("span",{className:"text-green-600 dark:text-green-400 text-xs flex items-center justify-end gap-1",children:[o.jsx(qn,{size:14})," Active"]})]})]},A.job_id))})]})}),o.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:o.jsx("button",{onClick:()=>d(null),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})]})},h0=({title:e,value:t,icon:r,valueColor:n="text-slate-900 dark:text-white"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${n}`,children:t})]}),o.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:r})]}),Oue=({className:e})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[o.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),o.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),o.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),o.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Aue=()=>{const[e,t]=y.useState(null),[r,n]=y.useState([]),[a,s]=y.useState(!1),[i,l]=y.useState(null),c=async()=>{s(!0),l(null);try{const[f,h]=await Promise.all([hs.getActive(),hs.getHistory(50,0)]);t(f),n(h)}catch(f){console.error("Failed to load deployments",f),l("Failed to load deployment data.")}finally{s(!1)}};y.useEffect(()=>{c()},[]);const u=async()=>{if(confirm("Are you sure you want to deactivate the current deployment?"))try{await hs.deactivate(),await c()}catch(f){console.error("Failed to deactivate",f),alert("Failed to deactivate deployment.")}},d=async f=>{if(confirm(`Are you sure you want to redeploy job ${f}?`))try{await hs.deployModel(f),await c()}catch(h){console.error("Failed to redeploy",h),alert("Failed to redeploy model.")}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Model Deployments"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage active models and view deployment history"})]}),o.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Si,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[i&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[o.jsx(Sn,{className:"w-5 h-5"}),i]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(Rm,{className:"w-5 h-5 text-green-500"}),"Active Deployment"]}),e?o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-green-200 dark:border-green-900 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:o.jsx(dh,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.model_type}),o.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[o.jsx(qn,{className:"w-3 h-3"})," Active"]})]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Job ID: ",e.job_id]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deployed: ",new Date(e.created_at).toLocaleString()]})]})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[o.jsx(Sy,{className:"w-4 h-4"}),"Deactivate"]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-xs font-mono text-gray-500 dark:text-gray-400 break-all",children:["Artifact URI: ",e.artifact_uri]})]}):o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx(Sy,{className:"w-6 h-6 text-gray-400"})}),o.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"No Active Model"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Deploy a model from the Experiments page to see it here."})]})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(Zv,{className:"w-5 h-5 text-blue-500"}),"Deployment History"]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3",children:"Deployed At"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No deployment history found."})}):r.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:f.is_active?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Active"]}):o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"Inactive"]})}),o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:f.model_type}),o.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:[f.job_id.slice(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(f.created_at).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-right",children:!f.is_active&&o.jsx("button",{onClick:()=>d(f.job_id),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Redeploy"})})]},f.id))})]})})})]})]})]})};function Tue(){return o.jsx(nF,{children:o.jsx(Iz,{children:o.jsxs(Vs,{path:"/",element:o.jsx(e6,{}),children:[o.jsx(Vs,{index:!0,element:o.jsx(D8,{})}),o.jsx(Vs,{path:"data",element:o.jsx(z8,{})}),o.jsx(Vs,{path:"canvas",element:o.jsx(Cue,{})}),o.jsx(Vs,{path:"registry",element:o.jsx(Pue,{})}),o.jsx(Vs,{path:"deployments",element:o.jsx(Aue,{})})]})})})}const Mue=e=>{if(!e||!e.sample)return o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No data available"});const t=Object.keys(e.sample[0]||{}).slice(0,5);return o.jsxs("div",{className:"overflow-x-auto rounded border border-border",children:[o.jsxs("div",{className:"text-xs font-semibold mb-1 flex justify-between p-2 bg-muted/50 border-b border-border",children:[o.jsx("span",{children:e.name}),o.jsxs("span",{className:"text-muted-foreground",children:[e.shape[0]," rows x ",e.shape[1]," cols"]})]}),o.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-muted/30",children:t.map(r=>o.jsx("th",{className:"p-2 border-b border-r border-border text-left font-medium text-muted-foreground last:border-r-0",children:r},r))})}),o.jsx("tbody",{children:e.sample.slice(0,5).map((r,n)=>o.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/20",children:t.map(a=>o.jsx("td",{className:"p-2 border-r border-border truncate max-w-[80px] last:border-r-0",children:String(r[a])},a))},n))})]})]})},Iue=({config:e,onChange:t,nodeId:r})=>{var x;const{nodes:n,edges:a}=xe(),[s,i]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState("train");y.useEffect(()=>{if(!e.lastRunJobId)return;const v=async()=>{try{const b=await Ct.getJob(e.lastRunJobId);c(b),b.status!=="completed"&&b.status}catch(b){console.error("Failed to fetch job",b)}};v();const g=setInterval(v,2e3);return()=>clearInterval(g)},[e.lastRunJobId]);const f=async()=>{if(r){i(!0);try{const v=ep(n,a),g=await Ct.runPipeline({...v,target_node_id:r,job_type:"preview"});t({...e,lastRunJobId:g.job_id})}catch(v){console.error("Failed to run preview:",v),alert("Failed to start preview job.")}finally{i(!1)}}},h=((x=l==null?void 0:l.result)==null?void 0:x.metrics)||(l==null?void 0:l.result),m=h==null?void 0:h.data_summary,p=h==null?void 0:h.operation_mode;return o.jsxs("div",{className:"p-4 space-y-4 h-full overflow-y-auto",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Connect this node to any data output to inspect the data state, schema, and applied transformations."}),o.jsxs("button",{onClick:f,disabled:s,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-[#38bdf8] via-[#6366f1] to-[#a855f7] text-white px-3 py-1.5 rounded-md hover:opacity-90 disabled:opacity-50 transition-all text-xs font-medium shadow-md",children:[s?o.jsx(wr,{size:14,className:"animate-spin"}):o.jsx(Fi,{size:14}),s?"Running...":"Run Preview"]}),e.lastRunJobId&&l&&l.status!=="completed"&&o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 p-2 bg-muted/30 rounded border border-border",children:[o.jsx("span",{children:"Status:"}),o.jsx("span",{className:`ml-auto font-medium px-1.5 py-0.5 rounded text-[10px] ${l.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:l.status})]}),(l==null?void 0:l.status)==="completed"&&h&&o.jsxs("div",{className:"space-y-4 border-t border-border pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[o.jsxs("div",{className:"text-[10px] bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 p-2 rounded border border-blue-100 dark:border-blue-900/50",children:[o.jsx("strong",{className:"block mb-0.5",children:"Operation Mode"}),p||"Unknown"]}),m&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex border-b border-border",children:["train","test","validation"].map(v=>m[v]&&o.jsx("button",{className:`text-[10px] px-3 py-1.5 border-b-2 transition-colors ${u===v?"border-primary font-medium text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>d(v),children:v.charAt(0).toUpperCase()+v.slice(1)},v))}),m[u]?Mue(m[u]):o.jsxs("div",{className:"text-xs text-muted-foreground p-4 text-center border border-dashed border-border rounded",children:["No ",u," data available"]})]}),h.applied_transformations&&h.applied_transformations.length>0&&o.jsxs("div",{className:"pt-2 border-t border-border",children:[o.jsx("div",{className:"text-[10px] font-semibold mb-2 text-foreground",children:"Applied Steps"}),o.jsx("div",{className:"space-y-1.5",children:h.applied_transformations.map((v,g)=>o.jsxs("div",{className:"text-[10px] flex items-center gap-2 text-muted-foreground p-1.5 bg-muted/30 rounded border border-border",children:[o.jsx("span",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center text-[8px] font-medium text-foreground",children:g+1}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-foreground",children:v.transformer_name}),o.jsx("span",{className:"text-[9px] opacity-80",children:v.transformer_type})]})]},g))})]})]})]})},Due=({data:e})=>{const[t,r]=y.useState(null);return y.useEffect(()=>{if(!e.lastRunJobId)return;const n=async()=>{try{const s=await Ct.getJob(e.lastRunJobId);r(s.status)}catch{r("error")}};n();const a=setInterval(()=>{n()},5e3);return()=>clearInterval(a)},[e.lastRunJobId]),o.jsx("div",{className:"text-xs flex items-center gap-2",children:e.lastRunJobId?t==="completed"?o.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[o.jsx(qn,{size:12})," Ready"]}):t==="failed"?o.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium flex items-center gap-1",children:[o.jsx(Sn,{size:12})," Failed"]}):o.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1",children:[o.jsx(wr,{size:12,className:"animate-spin"})," Running"]}):o.jsx("span",{className:"text-muted-foreground italic",children:"Not run yet"})})},Rue={type:"data_preview",label:"Data Preview",category:"Evaluation",description:"Inspect data state and transformations at this point.",icon:OP,inputs:[{id:"in",label:"Input Data",type:"any"}],outputs:[],component:Due,settings:Iue,validate:()=>({isValid:!0}),getDefaultConfig:()=>({})},tt=e=>z$({queryKey:["dataset-schema",e],queryFn:()=>T8(e),enabled:!!e,staleTime:1e3*60*5}),Lue=({config:e,onChange:t})=>{const[r,n]=y.useState([]),[a,s]=y.useState(!1),[i,l]=y.useState(!1),{data:c,isLoading:u}=tt(e.datasetId),d=()=>{s(!0),jn.getUsable().then(n).catch(console.error).finally(()=>s(!1))};y.useEffect(()=>{d()},[]);const f=m=>{const p=m.target.value,x=r.find(v=>String(v.id)===p);t({...e,datasetId:p,datasetName:x==null?void 0:x.name})},h=(m,p)=>{l(!1),d(),t({...e,datasetId:m,datasetName:p})};return i?o.jsx(tO,{onUploadComplete:h,onCancel:()=>l(!1)}):o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),o.jsxs("button",{onClick:()=>l(!0),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[o.jsx(Bi,{size:14}),"New Upload"]})]}),a?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:f,children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(m=>o.jsx("option",{value:m.id,children:m.name},m.id))]})]}),e.datasetId&&o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[o.jsx(GF,{size:14}),o.jsx("span",{children:"Dataset Schema"})]}),u?o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-auto",children:o.jsxs("table",{className:"w-full text-xs text-left min-w-max",children:[o.jsx("thead",{className:"bg-muted/20 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Column"}),o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Type"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Missing"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Unique"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Min"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Max"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Mean"})]})}),o.jsx("tbody",{children:Object.values(c.columns).map(m=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2 font-mono font-medium whitespace-nowrap",children:m.name}),o.jsx("td",{className:"p-2 text-muted-foreground whitespace-nowrap",children:m.dtype}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.missing_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.unique_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.min_value!==void 0?Number(m.min_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.max_value!==void 0?Number(m.max_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:m.mean_value!==void 0?Number(m.mean_value).toFixed(2):"-"})]},m.name))})]})}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},$ue=({data:e})=>{const[t,r]=y.useState(void 0);y.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&jn.getById(e.datasetId).then(a=>r(a.name)).catch(()=>r(e.datasetId))},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return o.jsx("div",{className:"text-xs",children:e.datasetId?o.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):o.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},zue={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Yn,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:Lue,component:$ue,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},k3=(e,t,r,n=new Set)=>{var s;if(n.has(e.id))return;if(n.add(e.id),(s=e.data)!=null&&s.datasetId)return e.data.datasetId;const a=Rs(e,t,r);for(const i of a){const l=k3(i,t,r,n);if(l)return l}},ct=e=>{const t=xe(s=>s.nodes),r=xe(s=>s.edges),n=t.find(s=>s.id===e);return n?Rs(n,t,r).map(s=>{const i=k3(s,t,r);return i&&!s.data.datasetId?{...s.data,datasetId:i}:s.data}):[]},Ol=(e,t={})=>{var s;const n=(s=ct(e).find(i=>i.datasetId))==null?void 0:s.datasetId,a=xe(i=>i.executionResult);return y.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(i=>{var l,c;if(t.types||t.suggestedNodeTypes){const u=(l=t.types)==null?void 0:l.includes(i.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(i.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!i.target_columns||i.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Wi=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:o.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[o.jsx(EP,{className:"w-4 h-4"}),o.jsx("span",{children:"Recommendations"})]}),o.jsx("div",{className:"space-y-2",children:e.map(n=>o.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&o.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&o.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:o.jsx(qn,{className:"w-5 h-5"})})]})},n.rule_id))})]}),Fue=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=ct(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(_=>_.name):[],c=xe(_=>_.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const _=new ResizeObserver(N=>{for(const S of N)m(S.contentRect.width>450)});return _.observe(f.current),()=>_.disconnect()},[]);const p=Ol(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),x=_=>{if(_.target_columns&&_.target_columns.length>0){const N=Array.from(new Set([...e.columns,..._.target_columns]));t({...e,columns:N})}},[v,g]=y.useState(""),b=y.useMemo(()=>l.filter(_=>_.toLowerCase().includes(v.toLowerCase())),[l,v]),w=()=>{t({...e,columns:b})},j=()=>{const _=e.columns.filter(N=>!b.includes(N));t({...e,columns:_})};return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Wi,{recommendations:p,onApply:x})}),o.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),o.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:_=>t({...e,missing_threshold:parseInt(_.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&o.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(wr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(_=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_))})]})]})]})]}),o.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[o.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"relative group",children:o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:_=>g(_.target.value)})}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?b.length>0?o.jsx("div",{className:"space-y-0.5",children:b.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(P=>P!==_);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),o.jsx("span",{className:"truncate font-mono text-xs",title:_,children:_})]},_))}):o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):o.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},Bue={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Ds,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:Fue,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},Uue=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=ct(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(N=>N.name):[],c=xe(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(S=>{for(const P of S)m(P.contentRect.width>450)});return N.observe(f.current),()=>N.disconnect()},[]);const p=Ol(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),x=N=>{if(N.target_columns&&N.target_columns.length>0){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[v,g]=y.useState(""),b=y.useMemo(()=>l.filter(N=>N.toLowerCase().includes(v.toLowerCase())),[l,v]),w=()=>{t({...e,columns:b})},j=()=>{const N=e.columns.filter(S=>!b.includes(S));t({...e,columns:N})},k=()=>d?o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:typeof S=="number"?S.toFixed(4):String(S)})]},N))})]}),d.missing_counts&&o.jsxs("div",{className:"space-y-1 mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([N,S])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),o.jsx("span",{className:"font-mono",children:String(S)})]},N))}),d.total_missing!==void 0&&o.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",o.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(u==null?void 0:u.status)==="success"&&o.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Wi,{recommendations:p,onApply:x})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),o.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),o.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:N=>t({...e,strategy:N.target.value}),children:[o.jsx("option",{value:"mean",children:"Mean (Average)"}),o.jsx("option",{value:"median",children:"Median (Middle Value)"}),o.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),o.jsx("option",{value:"constant",children:"Constant Value"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:N=>t({...e,fill_value:N.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:N=>t({...e,n_neighbors:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:N=>t({...e,weights:N.target.value}),children:[o.jsx("option",{value:"uniform",children:"Uniform"}),o.jsx("option",{value:"distance",children:"Distance"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:N=>t({...e,max_iter:parseInt(N.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:N=>t({...e,estimator:N.target.value}),children:[o.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),o.jsx("option",{value:"decision_tree",children:"Decision Tree"}),o.jsx("option",{value:"extra_trees",children:"Extra Trees"}),o.jsx("option",{value:"knn",children:"KNN"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:N=>t({...e,random_state:parseInt(N.target.value)})})]})]}),h&&o.jsx(k,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:v,onChange:N=>g(N.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(N=>o.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const P=S.target.checked?[...e.columns,N]:e.columns.filter(I=>I!==N);t({...e,columns:P})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),o.jsx("span",{className:"truncate",title:N,children:N})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[N]!==void 0&&o.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[N]} missing values filled`,children:d.missing_counts[N]})]},N)):o.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!h&&o.jsx(k,{})]})]})},Hue={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:$F,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Uue,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},Vue=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=ct(r||"").find(j=>j.datasetId))==null?void 0:w.datasetId,{data:s,isLoading:i}=tt(a),l=xe(j=>j.executionResult),c=r?l==null?void 0:l.node_results[r]:null,u=y.useRef(null),[d,f]=y.useState(!1),[h,m]=y.useState("");y.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const _ of k)f(_.contentRect.width>450)});return j.observe(u.current),()=>j.disconnect()},[]);const p=s?Object.values(s.columns).filter(j=>["int","float","number"].some(k=>{var _;return(_=j.dtype)==null?void 0:_.toLowerCase().includes(k)})).map(j=>j.name):[],x=p.filter(j=>j.toLowerCase().includes(h.toLowerCase())),v=()=>{t({...e,columns:x})},g=()=>{const j=e.columns.filter(k=>!x.includes(k));t({...e,columns:j})},b=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const _=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:_()})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((N,S)=>{var I,E,C,L,O,R,A;let P="";if(e.method==="standard"){const D=(I=j.mean)==null?void 0:I[S],T=(E=j.scale)==null?void 0:E[S];typeof D=="number"&&(P=`=${D.toFixed(2)}, =${typeof T=="number"?T.toFixed(2):"-"}`)}else if(e.method==="minmax"){const D=(C=j.data_min)==null?void 0:C[S],T=(L=j.data_max)==null?void 0:L[S];typeof D=="number"&&(P=`Min=${D.toFixed(2)}, Max=${typeof T=="number"?T.toFixed(2):"-"}`)}else if(e.method==="robust"){const D=(O=j.center)==null?void 0:O[S],T=(R=j.scale)==null?void 0:R[S];typeof D=="number"&&(P=`Med=${D.toFixed(2)}, IQR=${typeof T=="number"?T.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const D=(A=j.max_abs)==null?void 0:A[S];typeof D=="number"&&(P=`MaxAbs=${D.toFixed(2)}`)}return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:N,children:N}),o.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:P})]},N)})})]})};return o.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[o.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),o.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),o.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),o.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (with_mean)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (Median)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&o.jsx(b,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:v,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:j=>m(j.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(j=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const _=k.target.checked?[...e.columns,j]:e.columns.filter(N=>N!==j);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:j,children:j})]},j)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:i?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&o.jsx(b,{})]})]})},Wue={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:VF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:Vue,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})};function N3(){const[e,t]=y.useState(null),[r,n]=y.useState({width:0,height:0}),a=y.useCallback(s=>{if(!s||s.length===0)return;const{width:i,height:l}=s[0].contentRect;n({width:i,height:l})},[]);return y.useEffect(()=>{if(!e)return;const s=new ResizeObserver(a);return s.observe(e),()=>s.disconnect()},[e,a]),[t,r]}const Kue=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(kP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),que=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,s]=y.useState(r),[i,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(null);y.useEffect(()=>{e&&s(r)},[e,r]);const h=y.useCallback(()=>{a&&(u(!0),f(null),Ct.getTuningHistory(a).then(m=>{l(m||[])}).catch(m=>{console.error("Failed to fetch jobs",m),f("Failed to load history.")}).finally(()=>u(!1)))},[a]);return y.useEffect(()=>{e&&h()},[e,h]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(wr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),o.jsxs("select",{value:a,onChange:m=>s(m.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Si,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(er,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Wn,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(Sn,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:d}),o.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Yn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(m=>{var p;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((p=m.result)==null?void 0:p.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Vc,{className:"w-3 h-3"})," Model Ready"]})]})]}),o.jsxs("button",{onClick:()=>{var x;(x=m.result)!=null&&x.best_params&&(n({params:m.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[o.jsx(Vc,{className:"w-3 h-3"}),"Apply"]})]})},m.job_id)})})]})]}):null},Yue=({value:e,type:t,onChange:r,step:n,min:a,max:s})=>{const[i,l]=y.useState("");y.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=i.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(u)};return o.jsx("input",{type:"text",value:i,onChange:u=>l(u.target.value),onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:s}:{}})},Gue=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:h}=bl(),m=ct(r||""),p=xe(O=>O.nodes),x=xe(O=>O.edges),g=(O=>{var D,T,M,z;const R=new Set,A=[O];for(;A.length>0;){const B=A.shift();if(R.has(B))continue;R.add(B);const F=p.find(q=>q.id===B);if(!F)continue;if(B!==O){if((D=F.data)!=null&&D.datasetId)return F.data.datasetId;if((T=F.data)!=null&&T.dataset_id)return F.data.dataset_id;if((M=F.data)!=null&&M.config){const q=F.data.config;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}if((z=F.data)!=null&&z.params){const q=F.data.params;if(q.datasetId)return q.datasetId;if(q.dataset_id)return q.dataset_id}}const Y=Rs(F,p,x);for(const q of Y)A.push(q.id)}})(r||""),{data:b}=tt(g),w=b?Object.values(b.columns):[],[j,{width:k}]=N3(),_=k>450,[N,S]=y.useState("model"),[P,I]=y.useState(!1);y.useEffect(()=>{e.model_type&&(c(!0),Ct.getHyperparameters(e.model_type).then(a).catch(console.error).finally(()=>c(!1)))},[e.model_type]),y.useEffect(()=>{var R;const O=(R=m.find(A=>A.target_column))==null?void 0:R.target_column;O&&e.target_column!==O&&t({...e,target_column:O})},[m,e.target_column]);const E=async()=>{if(r)try{const O=ep(p,x);await Ct.runPipeline({...O,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),h("training"),f(!0)}catch(O){console.error("Failed to submit training job:",O),alert("Failed to submit training job. Check console for details.")}},C=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:O=>t({...e,model_type:O.target.value,hyperparameters:{}}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),w.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(rb,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[w.length>0?o.jsxs("select",{value:e.target_column,onChange:O=>t({...e,target_column:O.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),w.map(O=>o.jsx("option",{value:O.name,children:O.name},O.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:O=>t({...e,target_column:O.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),w.length>0&&o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>I(!P),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xv,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Es,{className:`w-4 h-4 text-gray-400 transition-transform ${P?"rotate-90":""}`})]}),P&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:O=>t({...e,cv_enabled:O.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:O=>t({...e,cv_folds:Number(O.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:O=>t({...e,cv_type:O.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"}),o.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:O=>t({...e,cv_shuffle:O.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),L=()=>{const O=Object.keys(e.hyperparameters).length>0,R=A=>{if(A){const D={};n.forEach(T=>{D[T.name]=T.default}),t({...e,hyperparameters:D})}else t({...e,hyperparameters:{}})};return o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(tb,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:O,onChange:A=>R(A.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Customize"]})})]}),O?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-end mb-2",children:o.jsxs("button",{onClick:()=>i(!0),className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[o.jsx(ik,{className:"w-3 h-3"}),"Load Best"]})}),l?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(Wn,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(A=>{var D;return o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:A.label}),A.description&&o.jsx(Kue,{text:A.description})]}),A.type==="select"?o.jsx("select",{value:e.hyperparameters[A.name]??A.default,onChange:T=>t({...e,hyperparameters:{...e.hyperparameters,[A.name]:T.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(D=A.options)==null?void 0:D.map(T=>o.jsx("option",{value:T.value,children:T.label},T.value))}):o.jsx(Yue,{type:A.type,value:e.hyperparameters[A.name]??A.default,onChange:T=>t({...e,hyperparameters:{...e.hyperparameters,[A.name]:T}}),step:A.step,min:A.min,max:A.max})]},A.name)}),n.length===0&&!l&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),o.jsxs("button",{onClick:()=>i(!0),className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[o.jsx(ik,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return o.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&o.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Train a model using fixed parameters or defaults."}),o.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:o.jsx(er,{className:"w-3 h-3"})})]}),o.jsx(que,{isOpen:s,onClose:()=>i(!1),modelType:e.model_type,onSelect:O=>{O.modelType&&O.modelType!==e.model_type?t({...e,model_type:O.modelType,hyperparameters:O.params}):t({...e,hyperparameters:O.params})}}),!_&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("model"),children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${N==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>S("params"),children:"Hyperparameters"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:_?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:C}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:o.jsx(L,{})})]}):o.jsxs(o.Fragment,{children:[N==="model"&&C,N==="params"&&o.jsx(L,{})]})}),o.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:o.jsxs("button",{onClick:E,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Fi,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},Xue={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:vF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:Gue,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},Que=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(kP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),Jue=({def:e,value:t,onChange:r})=>{const[n,a]=y.useState(""),[s,i]=y.useState(null);y.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const l=u=>{if(!u.trim())return[];const d=u.split(",").map(h=>h.trim()).filter(h=>h!==""),f=[];for(const h of d){if(h.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const m=Number(h);if(isNaN(m))throw new Error(`"${h}" is not a valid number`);f.push(m)}else if(e.type==="boolean"){const m=h.toLowerCase();if(m==="true")f.push(!0);else if(m==="false")f.push(!1);else throw new Error(`"${h}" must be true or false`)}else f.push(h)}return f},c=()=>{try{const u=l(n);i(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){i(u.message)}};return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&o.jsx(Que,{text:e.description})]}),o.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${s?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),i(null)},onBlur:c}),e.type==="select"&&e.options&&o.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>o.jsx("button",{onClick:()=>{const d=l(n),h=d.includes(u.value)?d.filter(m=>m!==u.value):[...d,u.value];r(h)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},u.value))})]}),s&&o.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[o.jsx(Sn,{className:"w-3 h-3"}),s]})]})},Zue=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=y.useState(r),[s,i]=y.useState([]),[l,c]=y.useState(!1),[u,d]=y.useState(null);y.useEffect(()=>{e&&a(r)},[e,r]);const f=y.useCallback(()=>{n&&(c(!0),d(null),Ct.getTuningHistory(n).then(h=>{console.log("Fetched jobs for",n,h),i(h||[])}).catch(h=>{console.error("Failed to fetch jobs",h),d("Failed to load history.")}).finally(()=>c(!1)))},[n]);return y.useEffect(()=>{e&&f()},[e,f]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:o.jsx(wr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),o.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Si,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(er,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Wn,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(Sn,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:u}),o.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Yn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(h=>{var m;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((m=h.result)==null?void 0:m.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Vc,{className:"w-3 h-3"})," Model Ready"]})]})]})})},h.job_id)})})]})]}):null},ede=({config:e,onChange:t,nodeId:r})=>{const[n,a]=y.useState([]),[s,i]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState("config"),[f,h]=y.useState(!1),[m,p]=y.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[x,{width:v}]=N3(),g=v>450,{toggleDrawer:b,setTab:w}=bl(),j=ct(r||""),k=xe(R=>R.nodes),_=xe(R=>R.edges),S=(R=>{var T,M,z,B;const A=new Set,D=[R];for(;D.length>0;){const F=D.shift();if(A.has(F))continue;A.add(F);const Y=k.find(Q=>Q.id===F);if(!Y)continue;if(F!==R){if((T=Y.data)!=null&&T.datasetId)return Y.data.datasetId;if((M=Y.data)!=null&&M.dataset_id)return Y.data.dataset_id;const Q=Y.data;if((z=Q==null?void 0:Q.config)!=null&&z.datasetId)return Q.config.datasetId;if((B=Q==null?void 0:Q.config)!=null&&B.dataset_id)return Q.config.dataset_id}const q=Rs(Y,k,_);for(const Q of q)D.push(Q.id)}})(r||""),{data:P}=tt(S),I=P?Object.values(P.columns):[];y.useEffect(()=>{var A;const R=(A=j.find(D=>D.target_column))==null?void 0:A.target_column;R&&e.target_column!==R&&t({...e,target_column:R})},[j,e.target_column]);const E=y.useRef(null);y.useEffect(()=>{(async()=>{const A=e.model_type;if(!A)return;const D=A!==E.current;if(!(!D&&n.length>0)){i(!0);try{const T=await Ct.getHyperparameters(A);if(a(T),D||Object.keys(e.search_space||{}).length===0){const M=await Ct.getDefaultSearchSpace(A);t({...e,search_space:M||{}}),E.current=A}}catch(T){console.error("Failed to load model hyperparameters:",T)}finally{i(!1)}}})()},[e.model_type]);const C=async()=>{if(r)try{const R=ep(k,_);await Ct.runPipeline({...R,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),w("tuning"),b(!0)}catch(R){console.error("Failed to submit tuning job:",R),alert("Failed to submit tuning job.")}},L=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:e.model_type,onChange:R=>{E.current=null,t({...e,model_type:R.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]}),o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),I.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(rb,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[I.length>0?o.jsxs("select",{value:e.target_column,onChange:R=>t({...e,target_column:R.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),I.map(R=>o.jsx("option",{value:R.name,children:R.name},R.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:R=>t({...e,target_column:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),I.length>0&&o.jsx($t,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),o.jsxs("select",{value:e.search_strategy??"random",onChange:R=>t({...e,search_strategy:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"random",children:"Random Search"}),o.jsx("option",{value:"grid",children:"Grid Search"}),o.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),o.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),o.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),o.jsxs("select",{value:e.metric,onChange:R=>t({...e,metric:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"accuracy",children:"Accuracy"}),o.jsx("option",{value:"f1",children:"F1 Score"}),o.jsx("option",{value:"roc_auc",children:"ROC AUC"}),o.jsx("option",{value:"mse",children:"MSE"}),o.jsx("option",{value:"r2",children:"R2 Score"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),o.jsx("input",{type:"number",value:e.n_trials,onChange:R=>t({...e,n_trials:Number(R.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xv,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Es,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:R=>t({...e,cv_enabled:R.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:R=>t({...e,cv_folds:Number(R.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:R=>t({...e,cv_type:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:R=>t({...e,cv_shuffle:R.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),O=o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(tb,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),s?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Wn,{className:"w-6 h-6 animate-spin text-purple-500"})}):o.jsxs("div",{className:"space-y-3",children:[n.map(R=>{var A;return o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:o.jsx(Jue,{def:R,value:((A=e.search_space)==null?void 0:A[R.name])||[],onChange:D=>{t({...e,search_space:{...e.search_space,[R.name]:D}})}})},`${e.model_type}-${R.name}`)}),n.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return o.jsxs("div",{className:"flex flex-col h-full",ref:x,children:[m&&o.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),o.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:o.jsx(er,{className:"w-3 h-3"})})]}),!g&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("config"),children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>d("search_space"),children:"Search Space"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:g?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:L}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:O})]}):o.jsxs(o.Fragment,{children:[u==="config"&&L,u==="search_space"&&O]})}),o.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[o.jsxs("button",{onClick:C,className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(Fi,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),o.jsxs("button",{onClick:()=>c(!0),className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[o.jsx(wr,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),o.jsx(Zue,{isOpen:l,onClose:()=>c(!1),modelType:e.model_type})]})},tde={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:KF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:ede,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},rde=({config:e,onChange:t,nodeId:r})=>{var j;const n=ct(r||""),a=xe(k=>k.nodes),s=xe(k=>k.edges),i=xe(k=>k.executionResult),c=(k=>{var S;const _=new Set,N=[k];for(;N.length>0;){const P=N.shift();if(_.has(P))continue;_.add(P);const I=a.find(C=>C.id===P);if(!I)continue;if(P!==k&&((S=I.data)!=null&&S.datasetId))return I.data.datasetId;const E=Rs(I,a,s);for(const C of E)N.push(C.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;y.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=tt(c||e.datasetId),h=d?Object.values(d.columns).map(k=>k.name):[],m=y.useRef(null),[p,x]=y.useState(!1);y.useEffect(()=>{if(!m.current)return;const k=new ResizeObserver(_=>{for(const N of _)x(N.contentRect.width>450)});return k.observe(m.current),()=>k.disconnect()},[]);const v=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},g=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),b=["select_from_model","rfe"].includes(e.method),w=()=>{const k=i==null?void 0:i.node_results[r||""];if(!k)return null;const _=k.metrics||{},N=_.dropped_columns,S=_.feature_scores,P=_.p_values,I=_.feature_importances,E=_.variances,C=_.ranking;return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&o.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),N&&N.length>0?o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:o.jsxs("span",{children:["Dropped Columns (",N.length,")"]})}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map(L=>{const O=S==null?void 0:S[L],R=P==null?void 0:P[L],A=I==null?void 0:I[L],D=E==null?void 0:E[L],T=C==null?void 0:C[L];return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:L,children:L}),o.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[O!==void 0&&o.jsxs("span",{children:["Score: ",O.toFixed(4)]}),R!==void 0&&o.jsxs("span",{children:["p-val: ",R.toExponential(2)]}),A!==void 0&&o.jsxs("span",{children:["Imp: ",A.toFixed(4)]}),D!==void 0&&o.jsxs("span",{children:["Var: ",D.toFixed(4)]}),T!==void 0&&o.jsxs("span",{children:["Rank: ",T]})]})]},L)})})]}):k.status==="success"&&o.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[o.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||I)&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||I||{}).sort(([,L],[,O])=>O-L).slice(0,5).map(([L,O])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"truncate max-w-[120px]",title:L,children:L}),o.jsx("span",{className:"font-mono text-[10px]",children:O.toFixed(4)})]},L))})]})]})};return o.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[o.jsxs("optgroup",{label:"Simple",children:[o.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),o.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),o.jsxs("optgroup",{label:"Univariate",children:[o.jsx("option",{value:"select_k_best",children:"Select K Best"}),o.jsx("option",{value:"select_percentile",children:"Select Percentile"}),o.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),o.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),o.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),o.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),o.jsxs("optgroup",{label:"Model Based",children:[o.jsx("option",{value:"select_from_model",children:"Select From Model"}),o.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?o.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",o.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[o.jsx("option",{value:"",children:"Select Target..."}),h.map(k=>o.jsx("option",{value:k,children:k},k))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(g||b)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto-detect"}),o.jsx("option",{value:"classification",children:"Classification"}),o.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&o.jsx(w,{})]}),o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[o.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[o.jsx("option",{value:"pearson",children:"Pearson"}),o.jsx("option",{value:"spearman",children:"Spearman"}),o.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),g&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[o.jsx("option",{value:"",children:"Auto (Default)"}),v().map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Mode"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[o.jsx("option",{value:"k_best",children:"K Best"}),o.jsx("option",{value:"percentile",children:"Percentile"}),o.jsx("option",{value:"fpr",children:"FPR"}),o.jsx("option",{value:"fdr",children:"FDR"}),o.jsx("option",{value:"fwe",children:"FWE"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),b&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto"}),o.jsx("option",{value:"RandomForest",children:"Random Forest"}),o.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),o.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Step"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[o.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),o.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&o.jsx(w,{})]})]})]})},nde={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:NP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:rde,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},ade=({config:e,onChange:t,nodeId:r})=>{var g;const n=ct(r||""),a=xe(b=>b.nodes),s=xe(b=>b.edges),l=(b=>{var k;const w=new Set,j=[b];for(;j.length>0;){const _=j.shift();if(w.has(_))continue;w.add(_);const N=a.find(P=>P.id===_);if(!N)continue;if(_!==b&&((k=N.data)!=null&&k.datasetId))return N.data.datasetId;const S=Rs(N,a,s);for(const P of S)j.push(P.id)}})(r||""),c=(g=n.find(b=>b.target_column))==null?void 0:g.target_column;Or.useEffect(()=>{const b={};l&&e.datasetId!==l&&(b.datasetId=l),c&&e.target_column!==c&&(b.target_column=c),Object.keys(b).length>0&&t({...e,...b})},[l,c,e.datasetId,e.target_column,t]);const{data:u,isLoading:d}=tt(l||e.datasetId),f=u?Object.values(u.columns).map(b=>b.name):[],h=e.validation_size||0,m=1-e.test_size-h,p=Or.useRef(null),[x,v]=Or.useState(!1);return Or.useEffect(()=>{if(!p.current)return;const b=new ResizeObserver(w=>{for(const j of w)v(j.contentRect.width>450)});return b.observe(p.current),()=>b.disconnect()},[]),o.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${x?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${x?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:b=>t({...e,test_size:parseFloat(b.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:b=>t({...e,validation_size:parseFloat(b.target.value)})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(m*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),m<=0&&o.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:b=>t({...e,random_state:parseInt(b.target.value)})})]})]}),o.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:b=>t({...e,shuffle:b.target.checked})}),o.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:b=>t({...e,stratify:b.target.checked})}),o.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),o.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:b=>t({...e,target_column:b.target.value}),disabled:!e.stratify,children:[o.jsx("option",{value:"",children:"-- Select Target --"}),f.map(b=>o.jsx("option",{value:b,children:b},b))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},sde={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:CP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:ade,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},ide=({config:e,onChange:t,nodeId:r})=>{const n=xe(u=>u.nodes),a=xe(u=>u.edges),i=(u=>{var h;const d=new Set,f=[u];for(;f.length>0;){const m=f.shift();if(d.has(m))continue;d.add(m);const p=n.find(v=>v.id===m);if(!p)continue;if(m!==u&&((h=p.data)!=null&&h.datasetId))return p.data.datasetId;const x=Rs(p,n,a);for(const v of x)f.push(v.id)}})(r||"");Or.useEffect(()=>{i&&e.datasetId!==i&&t({...e,datasetId:i})},[i,e.datasetId,t]);const{data:l}=tt(i||e.datasetId),c=l?Object.values(l.columns).map(u=>u.name):[];return o.jsx("div",{className:"p-4 space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>o.jsx("option",{value:u,children:u},u))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},ode={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:CP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:ide,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},lde=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=ct(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:s}=tt(a),i=xe(d=>d.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l==null?void 0:l.metrics;return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),o.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),o.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(wr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:c.DropMissingRows_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:c.DropMissingRows_rows_total})]})]})]})]})},cde={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:EF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:lde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},ude=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=ct(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(g=>g.name):[],c=xe(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,subset:m})},x=()=>{const g=e.subset.filter(b=>!m.includes(b));t({...e,subset:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:g=>t({...e,keep:g.target.value}),children:[o.jsx("option",{value:"first",children:"Keep First Occurrence"}),o.jsx("option",{value:"last",children:"Keep Last Occurrence"}),o.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(g),onChange:b=>{const w=b.target.checked?[...e.subset,g]:e.subset.filter(j=>j!==g);t({...e,subset:w})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(wr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},dde={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:jF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:ude,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},fde=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],hde=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=ct(r||"").find(w=>w.datasetId))==null?void 0:b.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(w=>w.name):[],c=xe(w=>w.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,f=y.useRef(null),[h,m]=y.useState(!1);y.useEffect(()=>{if(!f.current)return;const w=new ResizeObserver(j=>{for(const k of j)m(k.contentRect.width>450)});return w.observe(f.current),()=>w.disconnect()},[]);const p=()=>{if(l.length===0)return;const w=l.find(j=>!e.column_types[j])||l[0];t({...e,column_types:{...e.column_types,[w]:"float"}})},x=w=>{const j={...e.column_types};delete j[w],t({...e,column_types:j})},v=(w,j)=>{if(w===j)return;const k=e.column_types[w],_={...e.column_types};delete _[w],_[j]=k,t({...e,column_types:_})},g=(w,j)=>{t({...e,column_types:{...e.column_types,[w]:j}})};return o.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),o.jsx("button",{onClick:p,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:o.jsx(Bi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([w,j])=>o.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[o.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:w,onChange:k=>v(w,k.target.value),children:l.map(k=>o.jsx("option",{value:k,disabled:k!==w&&!!e.column_types[k],children:k},k))}),o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>g(w,k.target.value),children:fde.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsx("button",{onClick:()=>x(w),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:o.jsx(Ds,{className:"w-4 h-4"})})]},w)),Object.keys(e.column_types).length===0&&o.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(wr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),o.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),o.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},mde={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:SF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:hde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},pde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=ct(r||"").find(g=>g.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=tt(a),l=s?Object.values(s.columns).map(g=>g.name):[],c=xe(g=>g.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u==null?void 0:u.metrics,[f,h]=y.useState(""),m=y.useMemo(()=>l.filter(g=>g.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,columns:m})},x=()=>{const g=e.columns.filter(b=>!m.includes(b));t({...e,columns:g})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:g=>t({...e,flag_suffix:g.target.value}),placeholder:"_was_missing"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:g=>h(g.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(g=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(g),onChange:b=>{const w=b.target.checked?[...e.columns,g]:e.columns.filter(j=>j!==g);t({...e,columns:w})}}),g]},g)),m.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(wr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),o.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(g=>o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:g},g))})]})]})]})]})},gde={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:CF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:pde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},yde=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=ct(r||"").find(_=>_.datasetId))==null?void 0:k.datasetId,{data:s,isLoading:i}=tt(a),[l,c]=y.useState(""),u=y.useRef(null),[d,f]=y.useState(!1),h=xe(_=>_.executionResult),m=r?h==null?void 0:h.node_results[r]:null,p=m==null?void 0:m.metrics,v=((h==null?void 0:h.recommendations)||[]).filter(_=>_.suggested_node_type==="encoding"||_.type.includes("encoding")||_.type.includes("cardinality"));y.useEffect(()=>{if(!u.current)return;const _=new ResizeObserver(N=>{for(const S of N)f(S.contentRect.width>400)});return _.observe(u.current),()=>_.disconnect()},[]);const g=s?Object.values(s.columns).filter(_=>["object","string","category","bool"].some(N=>{var S;return(S=_.dtype)==null?void 0:S.toLowerCase().includes(N)})).map(_=>_.name):[],b=g.filter(_=>_.toLowerCase().includes(l.toLowerCase())),w=()=>{t({...e,columns:[...g]})},j=()=>{t({...e,columns:[]})};return o.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[o.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),o.jsx("option",{value:"dummy",children:"Dummy Encoding"}),o.jsx("option",{value:"label",children:"Label Encoding"}),o.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),o.jsx("option",{value:"target",children:"Target Encoding"}),o.jsx("option",{value:"hash",children:"Hash Encoding"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),o.jsxs("div",{className:"pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:_=>t({...e,drop_original:_.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),o.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),o.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:_=>t({...e,drop_first:_.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),o.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:_=>t({...e,handle_unknown:_.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[o.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),o.jsx("option",{value:"error",children:"Raise Error"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:_=>t({...e,target_column:_.target.value}),children:[o.jsx("option",{value:"",children:"Select a target column..."}),s&&Object.values(s.columns).map(_=>o.jsxs("option",{value:_.name,children:[_.name," (",_.dtype,")"]},_.name))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:_=>t({...e,n_features:parseInt(_.target.value)})})]}),e.method==="ordinal"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:_=>t({...e,unknown_value:parseInt(_.target.value)}),title:"Integer to assign for unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:_=>t({...e,missing_code:parseInt(_.target.value)}),title:"Integer to assign for missing or unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:_=>c(_.target.value)}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),g.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[b.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(_),onChange:N=>{const S=N.target.checked?[...e.columns,_]:e.columns.filter(P=>P!==_);t({...e,columns:S})}}),_]},_)),b.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),v.length>0&&o.jsx(Wi,{recommendations:v}),p&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(wr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),o.jsx("span",{className:"font-medium",children:p.encoded_columns_count})]}),p.new_features_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary",children:p.new_features_count})]}),p.categories_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.categories_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]}),p.classes_count&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(p.classes_count).map(([_,N])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),o.jsx("span",{className:"font-mono",children:N})]},_))})]})]})]})]})},xde={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:TF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:yde,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},vde=({config:e,onChange:t,nodeId:r})=>{const n=xe(N=>N.nodes),a=xe(N=>N.edges),i=(N=>{var I;const S=new Set,P=[N];for(;P.length>0;){const E=P.shift();if(S.has(E))continue;S.add(E);const C=n.find(O=>O.id===E);if(!C)continue;if(E!==N&&((I=C.data)!=null&&I.datasetId))return C.data.datasetId;const L=Rs(C,n,a);for(const O of L)P.push(O.id)}})(r||""),{data:l,isLoading:c}=tt(i),u=Ol(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=xe(N=>N.executionResult),f=r?d==null?void 0:d.node_results[r]:null,h=y.useRef(null),[m,p]=y.useState(!1),[x,v]=y.useState("");y.useEffect(()=>{if(!h.current)return;const N=new ResizeObserver(S=>{for(const P of S)p(P.contentRect.width>450)});return N.observe(h.current),()=>N.disconnect()},[]);const g=l?Object.values(l.columns).filter(N=>["int","float","number"].some(S=>{var P;return(P=N.dtype)==null?void 0:P.toLowerCase().includes(S)})).map(N=>N.name):[],b=g.filter(N=>N.toLowerCase().includes(x.toLowerCase())),w=()=>{t({...e,columns:b})},j=()=>{const N=e.columns.filter(S=>!b.includes(S));t({...e,columns:N})},k=()=>{if(!f||!f.metrics)return null;const N=f.metrics,S=N.rows_removed,P=N.rows_remaining,I=N.rows_total??(S??0)+(P??0),E=N.bounds,C=N.stats,L=N.contamination,O=N.warnings,R=N.values_clipped;if(S===void 0&&!E&&!C&&L===void 0&&!O&&R===void 0)return null;const A=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:A()})]}),O&&O.length>0&&o.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[o.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),o.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:O.map((D,T)=>o.jsx("li",{className:"truncate",title:D,children:D},T))})]}),e.method==="winsorize"?o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-mono font-medium text-blue-600",children:R??0}),o.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(S!==void 0||I!==void 0)&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),I>0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/I*100).toFixed(1),"%)"]})]}),P!==void 0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[P," remaining"]})]})]}),L!==void 0&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),o.jsxs("span",{className:"font-mono font-medium",children:[(L*100).toFixed(1),"%"]})]}),E&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(E).map(([D,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:D,children:D}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",T.lower.toFixed(2),", ",T.upper.toFixed(2),"]"]})]},D))})]}),C&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(C).map(([D,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:D,children:D}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",T.mean.toFixed(2),", =",T.std.toFixed(2)]})]},D))})]})]})},_=()=>{const N=[];if(f&&f.metrics){const P=f.metrics,I=P.rows_removed,C=P.rows_total??P[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(I!==void 0&&C!==void 0&&C>0){const L=I/C;L>.2?N.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):L===0&&e.method!=="winsorize"&&N.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&N.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,...N];return S.length===0?null:o.jsx("div",{className:"mt-4",children:o.jsx(Wi,{recommendations:S})})};return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!i&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[o.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),o.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),o.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),o.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:N=>t({...e,multiplier:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:N=>t({...e,lower_percentile:parseFloat(N.target.value)})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:N=>t({...e,upper_percentile:parseFloat(N.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),o.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:N=>t({...e,contamination:parseFloat(N.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${m?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:x,onChange:N=>v(N.target.value)})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(N=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:S=>{const P=S.target.checked?[...e.columns,N]:e.columns.filter(I=>I!==N);t({...e,columns:P})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:N,children:N})]},N)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":g.length===0?"No numeric columns found":"No matches found"})})]}),!m&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(_,{})]})]})]})},bde={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:WF,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:vde,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},m0={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},wde=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",jde=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=y.useState(""),s=y.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),i=()=>{const u=Array.from(new Set([...t,...s]));r(u)},l=()=>{const u=t.filter(d=>!s.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ui,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),o.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>a(u.target.value)})]})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[o.jsx("button",{onClick:i,className:"text-primary hover:underline font-medium",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:s.length===0?o.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):s.map(u=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>c(u),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},kde=({config:e,onChange:t,nodeId:r})=>{var j;const n=y.useMemo(()=>e||{transformations:[]},[e]),a=y.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[s,i]=y.useState([]),l=y.useRef(null),[c,u]=y.useState(!1);y.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(_=>{for(const N of _)u(N.contentRect.width>450)});return k.observe(l.current),()=>k.disconnect()},[]);const f=(j=ct(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:h}=tt(f),m=y.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(k=>["int","float","number"].some(_=>{var N;return(N=k.dtype)==null?void 0:N.toLowerCase().includes(_)})).map(k=>k.name):[],[h]),p=()=>{const k=a.length;i(_=>[..._,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},x=(k,_)=>{const N=[...a];N[k]={...N[k],..._},t({transformations:N})},v=k=>{const _=[...a];_.splice(k,1),t({transformations:_}),i(N=>N.filter(S=>S!==k).map(S=>S>k?S-1:S))},g=k=>{i(_=>_.includes(k)?_.filter(N=>N!==k):[..._,k])},b=(k,_)=>{const N=m0[_].methods[0].value;x(k,{method:N})},w=Ol(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return o.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),o.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[o.jsx(Bi,{size:12})," Add Rule"]})]}),o.jsxs("div",{className:"space-y-4",children:[a.map((k,_)=>{var I,E,C;const N=wde(k.method),S=s.includes(_),P=((I=m0[N].methods.find(L=>L.value===k.method))==null?void 0:I.label)||k.method;return o.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>g(_),children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?o.jsx($t,{size:16,className:"text-muted-foreground flex-shrink-0"}):o.jsx(Es,{size:16,className:"text-muted-foreground flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx("span",{className:"text-sm font-medium truncate",children:P}),o.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),o.jsx("button",{onClick:L=>{L.stopPropagation(),v(_)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:o.jsx(Ds,{size:14})})]}),S&&o.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),o.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:N,onChange:L=>b(_,L.target.value),onClick:L=>L.stopPropagation(),children:[o.jsx("option",{value:"simple",children:"Simple Math"}),o.jsx("option",{value:"power",children:"Power Transform"})]}),o.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:L=>x(_,{method:L.target.value}),onClick:L=>L.stopPropagation(),children:m0[N].methods.map(L=>o.jsx("option",{value:L.value,children:L.label},L.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&o.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:L=>L.stopPropagation(),children:[o.jsx("input",{type:"checkbox",id:`std-${_}`,checked:((E=k.params)==null?void 0:E.standardize)!==!1,onChange:L=>x(_,{params:{...k.params,standardize:L.target.checked}})}),o.jsx("label",{htmlFor:`std-${_}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&o.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:L=>L.stopPropagation(),children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),o.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((C=k.params)==null?void 0:C.clip_threshold)||700,onChange:L=>x(_,{params:{...k.params,clip_threshold:parseFloat(L.target.value)}})})]})]}),o.jsxs("div",{className:"space-y-1 min-w-0",onClick:L=>L.stopPropagation(),children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),o.jsx(jde,{allColumns:m,selectedColumns:k.columns||[],onChange:L=>x(_,{columns:L})})]})]})]},_)}),a.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",o.jsx("br",{}),'Click "Add Rule" to start.']})]}),o.jsx(Wi,{recommendations:w||[],onApply:k=>{var P,I;const _=k,N=((P=_.suggested_params)==null?void 0:P.method)||((I=_.params)==null?void 0:I.method)||"log",S=_.target_columns||[];if(S.length>0){const E=a.length;i(C=>[...C,E]),t({transformations:[...a,{columns:S,method:N,params:{}}]})}}})]})},Nde={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:PP,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:kde,getDefaultConfig:()=>({transformations:[]})},_de=({value:e,onChange:t})=>{const[r,n]=y.useState((e==null?void 0:e.join(", "))||""),a=y.useRef(e);y.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const s=()=>{const i=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,c)=>l-c);t(i)};return o.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:i=>n(i.target.value),onBlur:s})},Sde=({config:e,onChange:t,nodeId:r})=>{var g;const a=(g=ct(r||"").find(b=>b.datasetId))==null?void 0:g.datasetId,{data:s,isLoading:i}=tt(a),l=y.useRef(null),[c,u]=y.useState(!1),[d,f]=y.useState("");y.useEffect(()=>{if(!l.current)return;const b=new ResizeObserver(w=>{for(const j of w)u(j.contentRect.width>450)});return b.observe(l.current),()=>b.disconnect()},[]);const h=s?Object.values(s.columns).filter(b=>["int","float","number"].some(w=>{var j;return(j=b.dtype)==null?void 0:j.toLowerCase().includes(w)})).map(b=>b.name):[],m=h.filter(b=>b.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:m})},x=()=>{const b=e.columns.filter(w=>!m.includes(w));t({...e,columns:b})},v=b=>{e.columns.includes(b)?t({...e,columns:e.columns.filter(w=>w!==b)}):t({...e,columns:[...e.columns,b]})};return o.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:b=>t({...e,strategy:b.target.value}),children:[o.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),o.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),o.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),o.jsx("option",{value:"custom",children:"Custom Edges"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),o.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:b=>t({...e,n_bins:parseInt(b.target.value)||5})})]}),e.strategy==="custom"&&o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(b=>{var w;return o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-medium",children:b}),o.jsx(_de,{value:(w=e.custom_bins)==null?void 0:w[b],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[b]:j}})})]},b)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:b=>t({...e,label_format:b.target.value}),children:[o.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),o.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),o.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),o.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:b=>t({...e,precision:parseInt(b.target.value)||0})}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:b=>t({...e,drop_original:b.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),o.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:b=>t({...e,output_suffix:b.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:b=>f(b.target.value)})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[o.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:x,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:i?o.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):m.length===0?o.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:h.length===0?"No numeric columns found.":`No columns match "${d}"`}):o.jsx("div",{className:"space-y-1",children:m.map(b=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(b),onChange:()=>v(b),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:b,children:b})]},b))})})]})]})]})},Ede={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:Xv,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:Sde,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},Cde=({nodeId:e})=>{const t=xe(a=>a.executionResult),r=e?t==null?void 0:t.node_results[e]:null;if(!r)return null;const n=a=>a?o.jsx("div",{className:"space-y-1",children:Object.entries(a).map(([s,i])=>typeof i=="object"&&i!==null?o.jsxs("div",{className:"mt-1",children:[o.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[s.replace(/_/g," "),":"]}),o.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(i)})]},s):o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[s.replace(/_/g," "),":"]}),o.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(i)})]},s))}):null;return o.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),o.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&o.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&o.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&o.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},Pde=({config:e,onChange:t,nodeId:r})=>{var x,v;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),c=ct(r||""),u=(x=c.find(g=>g.datasetId))==null?void 0:x.datasetId,{data:d}=tt(u),f=(v=c.find(g=>{var b;return(b=g.config)==null?void 0:b.target_column}))==null?void 0:v.config.target_column;y.useEffect(()=>{if(!e.target_column){if(f)t({...e,target_column:f});else if(d!=null&&d.columns){const g=Object.values(d.columns).find(b=>b.name.toLowerCase()==="target"||b.name.toLowerCase()==="class"||b.column_type==="target");g&&t({...e,target_column:g.name})}}},[d,f,e.target_column]),y.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(b=>{for(const w of b)s(w.contentRect.width>400)});return g.observe(n.current),()=>g.disconnect()},[]);const h=Ol(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),m=g=>{g.suggested_params&&t({...e,...g.suggested_params})},p=(g,b)=>{const w={...e,[g]:b};g==="type"&&(b==="oversampling"?w.method="smote":w.method="random_under_sampling"),t(w)};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:g=>p("type",g.target.value),children:[o.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),o.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),o.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:g=>p("method",g.target.value),children:e.type==="oversampling"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"smote",children:"SMOTE"}),o.jsx("option",{value:"adasyn",children:"ADASYN"}),o.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),o.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),o.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),o.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),o.jsx("option",{value:"nearmiss",children:"NearMiss"}),o.jsx("option",{value:"tomek_links",children:"Tomek Links"}),o.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:g=>p("target_column",g.target.value),list:"target-column-suggestions"}),(d==null?void 0:d.columns)&&o.jsx("datalist",{id:"target-column-suggestions",children:Object.values(d.columns).map(g=>o.jsx("option",{value:g.name},g.name))})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Auto-detected from upstream node.":"The column containing the class labels."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:g=>p("sampling_strategy",g.target.value),children:[o.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),o.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),o.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),o.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),o.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:g=>p("random_state",parseInt(g.target.value))})]})]}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&o.jsxs(o.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:g=>p("k_neighbors",parseInt(g.target.value))})]}),["borderline_smote","svm_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:g=>p("m_neighbors",parseInt(g.target.value))})]}),e.method==="borderline_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:g=>p("kind",g.target.value),children:[o.jsx("option",{value:"borderline-1",children:"Borderline-1"}),o.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:g=>p("out_step",parseFloat(g.target.value))})]}),e.method==="kmeans_smote"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:g=>p("cluster_balance_threshold",parseFloat(g.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:g=>p("density_exponent",g.target.value)})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:g=>p("replacement",g.target.checked)})]}),e.type==="undersampling"&&e.method==="nearmiss"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:g=>p("version",parseInt(g.target.value)),children:[o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:g=>p("n_neighbors",parseInt(g.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:g=>p("kind_sel",g.target.value),children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"mode",children:"Mode"})]})]})]}),h.length>0&&o.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>l(!i),children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",h.length,")"]}),i?o.jsx(pl,{size:16}):o.jsx($t,{size:16})]}),i&&o.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:o.jsx(Wi,{recommendations:h,onApply:m})})]}),r&&o.jsx(Cde,{nodeId:r})]})]})})},Ode=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},Ade={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:wr,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:Pde,validate:Ode,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},Tde=[{value:"arithmetic",label:"Arithmetic",icon:Qv},{value:"datetime_extract",label:"Date Extraction",icon:_y},{value:"ratio",label:"Ratio",icon:BF},{value:"similarity",label:"Similarity",icon:OF},{value:"polynomial",label:"Polynomial",icon:ZF},{value:"group_agg",label:"Group Agg",icon:PP}],Mde=["add","subtract","multiply","divide"],Ide=["year","month","day","weekday","hour","quarter","is_weekend"],Dde=["ratio","token_sort_ratio","token_set_ratio"],Rde=["mean","sum","count","min","max","std","median"],Dn=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[s,i]=y.useState(""),l=e.filter(u=>u.toLowerCase().includes(s.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:s,onChange:u=>i(u.target.value)})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(u=>{const d=t.includes(u);return o.jsxs("div",{onClick:()=>c(u),className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&o.jsx(Vc,{size:8,strokeWidth:4})}),o.jsx("span",{className:"truncate",children:u})]},u)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},Lde=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=ct(r||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:s}=tt(a),i=xe(N=>N.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l==null?void 0:l.metrics,[u,d]=y.useState(!1),f=s?Object.values(s.columns).map(N=>N.name):[],h=s?Object.values(s.columns).filter(N=>["int","float","number"].some(S=>{var P;return(P=N.dtype)==null?void 0:P.toLowerCase().includes(S)})).map(N=>N.name):[],m=s?Object.values(s.columns).filter(N=>["date","time"].some(S=>{var P;return(P=N.dtype)==null?void 0:P.toLowerCase().includes(S)})).map(N=>N.name):[],p=s?Object.values(s.columns).filter(N=>["string","object","text"].some(S=>{var P;return(P=N.dtype)==null?void 0:P.toLowerCase().includes(S)})).map(N=>N.name):[],x=Ol(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),v=N=>{console.log("Applying recommendation:",N)},g=N=>{const S={operation_type:N,method:N==="arithmetic"?"add":N==="similarity"?"ratio":N==="group_agg"?"mean":N==="polynomial"?"poly":"year",input_columns:[],output_column:"",datetime_features:N==="datetime_extract"?["year"]:void 0,degree:N==="polynomial"?2:void 0,interaction_only:N==="polynomial"?!1:void 0,isExpanded:!0};t({operations:[...e.operations||[],S]})},b=(N,S)=>{const P=[...e.operations||[]];P[N]={...P[N],...S},t({operations:P})},w=(N,S)=>{S.stopPropagation();const P=[...e.operations||[]];P.splice(N,1),t({operations:P})},j=N=>{const S=[...e.operations||[]];S[N]={...S[N],isExpanded:!S[N].isExpanded},t({operations:S})},k=(N,S)=>`${N.operation_type}_${S}`;return o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),Tde.map(N=>o.jsxs("button",{onClick:()=>g(N.value),className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:N.label,children:[o.jsx(N.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),o.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:N.label.replace(" ",`
`)})]},N.value))]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[x.length>0&&o.jsxs("div",{className:"border-b bg-muted/10",children:[o.jsxs("button",{onClick:()=>d(!u),className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(EP,{size:14,className:x.length>0?"text-yellow-500":""}),o.jsxs("span",{children:["Recommendations (",x.length,")"]})]}),u?o.jsx($t,{size:14}):o.jsx(Es,{size:14})]}),u&&o.jsx("div",{className:"p-4 bg-muted/5 border-t",children:o.jsx(Wi,{recommendations:x,onApply:v,className:"mb-0"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((N,S)=>{var P,I,E;return o.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>j(S),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[N.isExpanded?o.jsx($t,{size:14,className:"text-muted-foreground"}):o.jsx(Es,{size:14,className:"text-muted-foreground"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:N.operation_type==="datetime_extract"?"Date":N.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(N.operation_type)&&o.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:N.method,onClick:C=>C.stopPropagation(),onChange:C=>b(S,{method:C.target.value}),children:(N.operation_type==="arithmetic"?Mde:N.operation_type==="similarity"?Dde:N.operation_type==="group_agg"?Rde:[]).map(C=>o.jsx("option",{value:C,children:C.replace("_"," ")},C))})]}),o.jsx("button",{onClick:C=>w(S,C),className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:o.jsx(Ds,{size:14})})]}),N.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4",children:[N.operation_type==="arithmetic"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:N.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),o.jsx(Dn,{label:"Column A (Left Operand)",columns:h,selected:N.input_columns.slice(0,1),onChange:C=>b(S,{input_columns:C}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:N.method==="add"?"+":N.method==="subtract"?"-":N.method==="multiply"?"":""}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(Dn,{label:"Column B (Right Operand)",columns:h,selected:((P=N.secondary_columns)==null?void 0:P.slice(0,1))||[],onChange:C=>b(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="ratio"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",o.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),o.jsx(Dn,{label:"Numerator (Sum)",columns:h,selected:N.input_columns,onChange:C=>b(S,{input_columns:C})}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),o.jsx(Dn,{label:"Denominator (Sum)",columns:h,selected:N.secondary_columns||[],onChange:C=>b(S,{secondary_columns:C})})]}),N.operation_type==="similarity"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[o.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),o.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),o.jsx(Dn,{label:"String A",columns:p,selected:N.input_columns.slice(0,1),onChange:C=>b(S,{input_columns:C}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(Dn,{label:"String B",columns:p,selected:((I=N.secondary_columns)==null?void 0:I.slice(0,1))||[],onChange:C=>b(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="polynomial"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Generates polynomial and interaction features (e.g., A, AB)."}),o.jsx(Dn,{label:"Input Columns",columns:h,selected:N.input_columns,onChange:C=>b(S,{input_columns:C})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Degree"}),o.jsx("input",{type:"number",min:"2",max:"5",className:"w-full text-xs border rounded p-1.5",value:N.degree||2,onChange:C=>b(S,{degree:parseInt(C.target.value)})})]}),o.jsx("div",{className:"space-y-1 pt-5",children:o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:N.interaction_only||!1,onChange:C=>b(S,{interaction_only:C.target.checked})}),"Interaction Only"]})})]})]}),N.operation_type==="group_agg"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),o.jsx(Dn,{label:"Group By (Categorical)",columns:p.length>0?p:f,selected:N.input_columns.slice(0,1),onChange:C=>b(S,{input_columns:C}),single:!0}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),o.jsx(Dn,{label:"Target (Numeric)",columns:h,selected:((E=N.secondary_columns)==null?void 0:E.slice(0,1))||[],onChange:C=>b(S,{secondary_columns:C}),single:!0})]}),N.operation_type==="datetime_extract"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(Dn,{label:"Date Column",columns:m.length>0?m:f,selected:N.input_columns.slice(0,1),onChange:C=>b(S,{input_columns:C}),single:!0}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ide.map(C=>o.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(N.datetime_features||[]).includes(C),onChange:L=>{const O=N.datetime_features||[],R=L.target.checked?[...O,C]:O.filter(A=>A!==C);b(S,{datetime_features:R})}}),o.jsx("span",{className:"capitalize",children:C.replace("_"," ")})]},C))})]})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),o.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:k(N,S),value:N.output_column||"",onChange:C=>b(S,{output_column:C.target.value})})]})]})]},S)}),(!e.operations||e.operations.length===0)&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[o.jsx(Qv,{size:32,className:"mb-2 opacity-20"}),o.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),o.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&o.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[o.jsx(wr,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsx("div",{className:"space-y-2 text-xs",children:c.generated_features&&c.generated_features.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:c.generated_features.length})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.generated_features.map(N=>o.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:N},N))})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(Eu,{size:12}),o.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},$de={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:Qv,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n;if(!e.operations||e.operations.length===0)return{isValid:!1,message:"Add at least one operation."};for(const a of e.operations){if(a.operation_type==="arithmetic"&&(a.input_columns.length===0||!((t=a.secondary_columns)!=null&&t.length)&&!((r=a.constants)!=null&&r.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(a.operation_type==="datetime_extract"&&a.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(a.operation_type==="polynomial"&&a.input_columns.length===0)return{isValid:!1,message:"Select input columns for polynomial features."};if(a.operation_type==="group_agg"&&(a.input_columns.length===0||!((n=a.secondary_columns)!=null&&n.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:Lde,getDefaultConfig:()=>({operations:[]})},zde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>i(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Fde=({operation:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let s="both";a==="case"&&(s="lower"),a==="remove_special"&&(s="keep_alphanumeric"),a==="regex"&&(s="custom"),t({...e,op:a,mode:s})},children:[o.jsx("option",{value:"trim",children:"Trim Whitespace"}),o.jsx("option",{value:"case",children:"Change Case"}),o.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),o.jsx("option",{value:"regex",children:"Regex Replace"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Ds,{size:14})})]}),o.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"both",children:"Both Ends"}),o.jsx("option",{value:"leading",children:"Leading Only"}),o.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"lower",children:"Lower Case"}),o.jsx("option",{value:"upper",children:"Upper Case"}),o.jsx("option",{value:"title",children:"Title Case"}),o.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),o.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),o.jsx("option",{value:"letters_only",children:"Letters Only"}),o.jsx("option",{value:"digits_only",children:"Digits Only"})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Pattern"}),o.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),o.jsx("option",{value:"extract_digits",children:"Extract Digits"}),o.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),o.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:o.jsx(JF,{size:14})})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),Bde=({config:e,onChange:t,nodeId:r})=>{var x;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(x=ct(r||"").find(v=>v.datasetId))==null?void 0:x.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(v=>v.dtype==="object"||v.dtype==="string"||v.dtype==="category").map(v=>v.name):[];y.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const b of g)s(b.contentRect.width>400)});return v.observe(n.current),()=>v.disconnect()},[]);const h=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},m=(v,g)=>{const b=[...e.operations];b[v]=g,t({...e,operations:b})},p=v=>{const g=e.operations.filter((b,w)=>w!==v);t({...e,operations:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(zde,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!i),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Eu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Bi,{size:14}),"Add Step"]})]}),o.jsx("div",{className:"space-y-3",children:e.operations.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((v,g)=>o.jsx(Fde,{operation:v,onChange:b=>m(g,b),onDelete:()=>p(g)},g))})]})]})})},Ude={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:kF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Bde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},Hde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>i(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},ES=({value:e,type:t,onChange:r,placeholder:n})=>{const a=i=>{let l=e;i==="number"&&(l=Number(e)||0),i==="boolean"&&(l=!!e),i==="string"&&(l=String(e)),i==="null"&&(l=null),i==="nan"&&(l="NaN"),r(l,i)},s=i=>{let l=i.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:i=>a(i.target.value),children:[o.jsx("option",{value:"string",children:"Text"}),o.jsx("option",{value:"number",children:"Num"}),o.jsx("option",{value:"boolean",children:"Bool"}),o.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="number"&&o.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e,onChange:s,placeholder:n}),t==="boolean"&&o.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:i=>r(i.target.value==="true","boolean"),children:[o.jsx("option",{value:"true",children:"True"}),o.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&o.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},Vde=({item:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:o.jsx(Ds,{size:14})})]}),o.jsx(ES,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-gray-400",children:o.jsx(yF,{size:14,className:"rotate-90"})}),o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),o.jsx(ES,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),Wde=({config:e,onChange:t,nodeId:r})=>{var x;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(x=ct(r||"").find(v=>v.datasetId))==null?void 0:x.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).map(v=>v.name):[];y.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(g=>{for(const b of g)s(b.contentRect.width>400)});return v.observe(n.current),()=>v.disconnect()},[]);const h=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},m=(v,g)=>{const b=[...e.replacements];b[v]=g,t({...e,replacements:b})},p=v=>{const g=e.replacements.filter((b,w)=>w!==v);t({...e,replacements:g})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Hde,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!i),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Eu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Value Replacement"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:'Replace specific values with new ones. Useful for fixing typos, recoding categories (e.g., "Yes" to 1), or handling specific placeholders.'})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Value Mappings"}),o.jsxs("button",{onClick:h,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Bi,{size:14}),"Add Mapping"]})]}),o.jsx("div",{className:"space-y-3",children:e.replacements.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No replacements defined."}),o.jsx("button",{onClick:h,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first replacement"})]}):e.replacements.map((v,g)=>o.jsx(Vde,{item:v,onChange:b=>m(g,b),onDelete:()=>p(g)},g))})]})]})})},Kde={type:"ValueReplacement",label:"Value Replacement",category:"Preprocessing",description:"Replace specific values in columns.",icon:UF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Processed Data",type:"dataset"}],settings:Wde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.replacements.length===0?{isValid:!1,message:"Add at least one replacement."}:{isValid:!0},getDefaultConfig:()=>({columns:[],replacements:[{old:"",new:"",oldType:"string",newType:"string"}]})},qde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>i(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Yde=({pairs:e,onChange:t})=>{const[r,n]=y.useState(""),[a,s]=y.useState(""),i=()=>{r&&a&&(t({...e,[r]:a}),n(""),s(""))},l=c=>{const u={...e};delete u[c],t(u)};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>n(c.target.value)})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>s(c.target.value),onKeyDown:c=>c.key==="Enter"&&i()})]}),o.jsx("button",{onClick:i,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Bi,{size:16})})]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?o.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>o.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),o.jsx(jP,{size:12,className:"text-gray-400 shrink-0"}),o.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),o.jsx("button",{onClick:()=>l(c),className:"text-gray-400 hover:text-red-500",children:o.jsx(Ds,{size:14})})]},c))})]})},Gde=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(h=ct(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(m=>m.dtype==="object"||m.dtype==="string"||m.dtype==="category").map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(qde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!i),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Eu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Mapping"}),o.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),o.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),o.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),o.jsx(Yde,{pairs:e.custom_pairs,onChange:m=>t({...e,custom_pairs:m})})]})]})]})})},Xde={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:jP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:Gde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},Qde=({columns:e,selected:t,onChange:r})=>{const[n,a]=y.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Ui,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>a(l.target.value)})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>i(l),className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Jde=({config:e,onChange:t,nodeId:r})=>{var h;const n=y.useRef(null),[a,s]=y.useState(!1),[i,l]=y.useState(!0),u=(h=ct(r||"").find(m=>m.datasetId))==null?void 0:h.datasetId,{data:d}=tt(u),f=d?Object.values(d.columns).filter(m=>["int","float","number"].some(p=>{var x;return(x=m.dtype)==null?void 0:x.toLowerCase().includes(p)})).map(m=>m.name):[];return y.useEffect(()=>{if(!n.current)return;const m=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return m.observe(n.current),()=>m.disconnect()},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(Qde,{columns:f,selected:e.columns,onChange:m=>t({...e,columns:m})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>l(!i),className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Eu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),i?o.jsx(pl,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx($t,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:m=>t({...e,mode:m.target.value}),children:[o.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),o.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),o.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),o.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),o.jsx("option",{value:"custom_range",children:"Custom Range"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:m=>t({...e,min_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:m=>t({...e,max_value:m.target.value?parseFloat(m.target.value):void 0})})]}),o.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Zde={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:rb,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Jde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},efe=()=>{Ee.register(Rue),Ee.register(zue),Ee.register(Bue),Ee.register(Hue),Ee.register(Wue),Ee.register(bde),Ee.register(Nde),Ee.register(Ede),Ee.register(Ade),Ee.register($de),Ee.register(Ude),Ee.register(Kde),Ee.register(Xde),Ee.register(Zde),Ee.register(xde),Ee.register(nde),Ee.register(sde),Ee.register(ode),Ee.register(cde),Ee.register(dde),Ee.register(mde),Ee.register(gde),Ee.register(Xue),Ee.register(tde),console.log("[Registry] Initialization complete. Total nodes:",Ee.getAll().length)};efe();const tfe=new _$;p0.createRoot(document.getElementById("root")).render(o.jsx(Or.StrictMode,{children:o.jsx(E$,{client:tfe,children:o.jsx(Tue,{})})}));
