var V1=Object.defineProperty;var Vf=e=>{throw TypeError(e)};var B1=(e,t,n)=>t in e?V1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gl=(e,t,n)=>B1(e,typeof t!="symbol"?t+"":t,n),Zl=(e,t,n)=>t.has(e)||Vf("Cannot "+n);var D=(e,t,n)=>(Zl(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>t.has(e)?Vf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Q=(e,t,n,r)=>(Zl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),le=(e,t,n)=>(Zl(e,t,"access private method"),n);var Po=(e,t,n,r)=>({set _(s){Q(e,t,s,n)},get _(){return D(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Hp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vp={exports:{}},hl={},Bp={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=Symbol.for("react.element"),U1=Symbol.for("react.portal"),W1=Symbol.for("react.fragment"),q1=Symbol.for("react.strict_mode"),Q1=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),K1=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),G1=Symbol.for("react.suspense"),Z1=Symbol.for("react.memo"),J1=Symbol.for("react.lazy"),Bf=Symbol.iterator;function ew(e){return e===null||typeof e!="object"?null:(e=Bf&&e[Bf]||e["@@iterator"],typeof e=="function"?e:null)}var Up={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wp=Object.assign,qp={};function qs(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Up}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qp(){}Qp.prototype=qs.prototype;function fd(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Up}var hd=fd.prototype=new Qp;hd.constructor=fd;Wp(hd,qs.prototype);hd.isPureReactComponent=!0;var Uf=Array.isArray,Xp=Object.prototype.hasOwnProperty,md={current:null},Kp={key:!0,ref:!0,__self:!0,__source:!0};function Yp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Xp.call(t,r)&&!Kp.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:mo,type:e,key:i,ref:o,props:s,_owner:md.current}}function tw(e,t){return{$$typeof:mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pd(e){return typeof e=="object"&&e!==null&&e.$$typeof===mo}function nw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wf=/\/+/g;function Jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nw(""+e.key):t.toString(36)}function la(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mo:case U1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Jl(o,0):r,Uf(s)?(n="",e!=null&&(n=e.replace(Wf,"$&/")+"/"),la(s,t,n,"",function(c){return c})):s!=null&&(pd(s)&&(s=tw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Uf(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+Jl(i,l);o+=la(i,t,n,u,s)}else if(u=ew(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+Jl(i,l++),o+=la(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Io(e,t,n){if(e==null)return e;var r=[],s=0;return la(e,r,"","",function(i){return t.call(n,i,s++)}),r}function rw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},ua={transition:null},sw={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:ua,ReactCurrentOwner:md};function Gp(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Io,forEach:function(e,t,n){Io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Io(e,function(){t++}),t},toArray:function(e){return Io(e,function(t){return t})||[]},only:function(e){if(!pd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=qs;ae.Fragment=W1;ae.Profiler=Q1;ae.PureComponent=fd;ae.StrictMode=q1;ae.Suspense=G1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sw;ae.act=Gp;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=md.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Xp.call(t,u)&&!Kp.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:mo,type:e.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:K1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X1,_context:e},e.Consumer=e};ae.createElement=Yp;ae.createFactory=function(e){var t=Yp.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Y1,render:e}};ae.isValidElement=pd;ae.lazy=function(e){return{$$typeof:J1,_payload:{_status:-1,_result:e},_init:rw}};ae.memo=function(e,t){return{$$typeof:Z1,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=ua.transition;ua.transition={};try{e()}finally{ua.transition=t}};ae.unstable_act=Gp;ae.useCallback=function(e,t){return tt.current.useCallback(e,t)};ae.useContext=function(e){return tt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return tt.current.useEffect(e,t)};ae.useId=function(){return tt.current.useId()};ae.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return tt.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};ae.useRef=function(e){return tt.current.useRef(e)};ae.useState=function(e){return tt.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return tt.current.useTransition()};ae.version="18.3.1";Bp.exports=ae;var R=Bp.exports;const Lt=Hp(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=R,ow=Symbol.for("react.element"),aw=Symbol.for("react.fragment"),lw=Object.prototype.hasOwnProperty,uw=iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cw={key:!0,ref:!0,__self:!0,__source:!0};function Zp(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)lw.call(t,r)&&!cw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ow,type:e,key:i,ref:o,props:s,_owner:uw.current}}hl.Fragment=aw;hl.jsx=Zp;hl.jsxs=Zp;Vp.exports=hl;var a=Vp.exports,Fu={},Jp={exports:{}},vt={},eg={exports:{}},tg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var F=C.length;C.push(P);e:for(;0<F;){var H=F-1>>>1,V=C[H];if(0<s(V,P))C[H]=P,C[F]=V,F=H;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],F=C.pop();if(F!==P){C[0]=F;e:for(var H=0,V=C.length,q=V>>>1;H<q;){var U=2*(H+1)-1,K=C[U],Y=U+1,Z=C[Y];if(0>s(K,F))Y<V&&0>s(Z,K)?(C[H]=Z,C[Y]=F,H=Y):(C[H]=K,C[U]=F,H=U);else if(Y<V&&0>s(Z,F))C[H]=Z,C[Y]=F,H=Y;else break e}}return P}function s(C,P){var F=C.sortIndex-P.sortIndex;return F!==0?F:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,h=3,w=!1,x=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=C)r(c),P.sortIndex=P.expirationTime,t(u,P);else break;P=n(c)}}function y(C){if(N=!1,g(C),!x)if(n(u)!==null)x=!0,A(b);else{var P=n(c);P!==null&&L(y,P.startTime-C)}}function b(C,P){x=!1,N&&(N=!1,p(_),_=-1),w=!0;var F=h;try{for(g(P),f=n(u);f!==null&&(!(f.expirationTime>P)||C&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=P);P=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(u)&&r(u),g(P)}else r(u);f=n(u)}if(f!==null)var q=!0;else{var U=n(c);U!==null&&L(y,U.startTime-P),q=!1}return q}finally{f=null,h=F,w=!1}}var j=!1,v=null,_=-1,E=5,M=-1;function I(){return!(e.unstable_now()-M<E)}function T(){if(v!==null){var C=e.unstable_now();M=C;var P=!0;try{P=v(!0,C)}finally{P?O():(j=!1,v=null)}}else j=!1}var O;if(typeof m=="function")O=function(){m(T)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,z=S.port2;S.port1.onmessage=T,O=function(){z.postMessage(null)}}else O=function(){k(T,0)};function A(C){v=C,j||(j=!0,O())}function L(C,P){_=k(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||w||(x=!0,A(b))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var F=h;h=P;try{return C()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=h;h=C;try{return P()}finally{h=F}},e.unstable_scheduleCallback=function(C,P,F){var H=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,C={id:d++,callback:P,priorityLevel:C,startTime:F,expirationTime:V,sortIndex:-1},F>H?(C.sortIndex=F,t(c,C),n(u)===null&&C===n(c)&&(N?(p(_),_=-1):N=!0,L(y,F-H))):(C.sortIndex=V,t(u,C),x||w||(x=!0,A(b))),C},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(C){var P=h;return function(){var F=h;h=P;try{return C.apply(this,arguments)}finally{h=F}}}})(tg);eg.exports=tg;var dw=eg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw=R,xt=dw;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ng=new Set,Ii={};function Vr(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(Ii[e]=t,e=0;e<t.length;e++)ng.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=Object.prototype.hasOwnProperty,hw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qf={},Qf={};function mw(e){return $u.call(Qf,e)?!0:$u.call(qf,e)?!1:hw.test(e)?Qf[e]=!0:(qf[e]=!0,!1)}function pw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gw(e,t,n,r){if(t===null||typeof t>"u"||pw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gd=/[\-:]([a-z])/g;function xd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gd,xd);Be[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gd,xd);Be[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gd,xd);Be[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function yd(e,t,n,r){var s=Be.hasOwnProperty(t)?Be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gw(t,n,s,r)&&(n=null),r||s===null?mw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Nn=fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Do=Symbol.for("react.element"),Xr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),vd=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),rg=Symbol.for("react.provider"),sg=Symbol.for("react.context"),wd=Symbol.for("react.forward_ref"),Vu=Symbol.for("react.suspense"),Bu=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),ig=Symbol.for("react.offscreen"),Xf=Symbol.iterator;function si(e){return e===null||typeof e!="object"?null:(e=Xf&&e[Xf]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,eu;function pi(e){if(eu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);eu=t&&t[1]||""}return`
`+eu+e}var tu=!1;function nu(e,t){if(!e||tu)return"";tu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{tu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pi(e):""}function xw(e){switch(e.tag){case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return e=nu(e.type,!1),e;case 11:return e=nu(e.type.render,!1),e;case 1:return e=nu(e.type,!0),e;default:return""}}function Uu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case Xr:return"Portal";case Hu:return"Profiler";case vd:return"StrictMode";case Vu:return"Suspense";case Bu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sg:return(e.displayName||"Context")+".Consumer";case rg:return(e._context.displayName||"Context")+".Provider";case wd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bd:return t=e.displayName||null,t!==null?t:Uu(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return Uu(e(t))}catch{}}return null}function yw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uu(t);case 8:return t===vd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function og(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vw(e){var t=og(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ao(e){e._valueTracker||(e._valueTracker=vw(e))}function ag(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=og(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wu(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lg(e,t){t=t.checked,t!=null&&yd(e,"checked",t,!1)}function qu(e,t){lg(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qu(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qu(e,t,n){(t!=="number"||Ca(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gi=Array.isArray;function ls(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(gi(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function ug(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ku(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oo,dg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ww=["Webkit","ms","Moz","O"];Object.keys(Ni).forEach(function(e){ww.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ni[t]=Ni[e]})});function fg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ni.hasOwnProperty(e)&&Ni[e]?(""+t).trim():t+"px"}function hg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var bw=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yu(e,t){if(t){if(bw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Gu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zu=null;function Nd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ju=null,us=null,cs=null;function Jf(e){if(e=xo(e)){if(typeof Ju!="function")throw Error(B(280));var t=e.stateNode;t&&(t=yl(t),Ju(e.stateNode,e.type,t))}}function mg(e){us?cs?cs.push(e):cs=[e]:us=e}function pg(){if(us){var e=us,t=cs;if(cs=us=null,Jf(e),t)for(e=0;e<t.length;e++)Jf(t[e])}}function gg(e,t){return e(t)}function xg(){}var ru=!1;function yg(e,t,n){if(ru)return e(t,n);ru=!0;try{return gg(e,t,n)}finally{ru=!1,(us!==null||cs!==null)&&(xg(),pg())}}function Ai(e,t){var n=e.stateNode;if(n===null)return null;var r=yl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var ec=!1;if(xn)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){ec=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{ec=!1}function Nw(e,t,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ji=!1,Ta=null,Ma=!1,tc=null,jw={onError:function(e){ji=!0,Ta=e}};function _w(e,t,n,r,s,i,o,l,u){ji=!1,Ta=null,Nw.apply(jw,arguments)}function kw(e,t,n,r,s,i,o,l,u){if(_w.apply(this,arguments),ji){if(ji){var c=Ta;ji=!1,Ta=null}else throw Error(B(198));Ma||(Ma=!0,tc=c)}}function Br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eh(e){if(Br(e)!==e)throw Error(B(188))}function Sw(e){var t=e.alternate;if(!t){if(t=Br(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return eh(s),e;if(i===r)return eh(s),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function wg(e){return e=Sw(e),e!==null?bg(e):null}function bg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bg(e);if(t!==null)return t;e=e.sibling}return null}var Ng=xt.unstable_scheduleCallback,th=xt.unstable_cancelCallback,Ew=xt.unstable_shouldYield,Cw=xt.unstable_requestPaint,Me=xt.unstable_now,Tw=xt.unstable_getCurrentPriorityLevel,jd=xt.unstable_ImmediatePriority,jg=xt.unstable_UserBlockingPriority,Ra=xt.unstable_NormalPriority,Mw=xt.unstable_LowPriority,_g=xt.unstable_IdlePriority,ml=null,en=null;function Rw(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Dw,Pw=Math.log,Iw=Math.LN2;function Dw(e){return e>>>=0,e===0?32:31-(Pw(e)/Iw|0)|0}var Lo=64,zo=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=xi(l):(i&=o,i!==0&&(r=xi(i)))}else o=n&~s,o!==0?r=xi(o):i!==0&&(r=xi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function Aw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$t(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=Aw(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function nc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kg(){var e=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),e}function su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function po(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function Lw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function _d(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function Sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Eg,kd,Cg,Tg,Mg,rc=!1,Fo=[],Un=null,Wn=null,qn=null,Oi=new Map,Li=new Map,Rn=[],zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function oi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=xo(t),t!==null&&kd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fw(e,t,n,r,s){switch(t){case"focusin":return Un=oi(Un,e,t,n,r,s),!0;case"dragenter":return Wn=oi(Wn,e,t,n,r,s),!0;case"mouseover":return qn=oi(qn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Oi.set(i,oi(Oi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Li.set(i,oi(Li.get(i)||null,e,t,n,r,s)),!0}return!1}function Rg(e){var t=dr(e.target);if(t!==null){var n=Br(t);if(n!==null){if(t=n.tag,t===13){if(t=vg(n),t!==null){e.blockedOn=t,Mg(e.priority,function(){Cg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zu=r,n.target.dispatchEvent(r),Zu=null}else return t=xo(n),t!==null&&kd(t),e.blockedOn=n,!1;t.shift()}return!0}function rh(e,t,n){ca(e)&&n.delete(t)}function $w(){rc=!1,Un!==null&&ca(Un)&&(Un=null),Wn!==null&&ca(Wn)&&(Wn=null),qn!==null&&ca(qn)&&(qn=null),Oi.forEach(rh),Li.forEach(rh)}function ai(e,t){e.blockedOn===t&&(e.blockedOn=null,rc||(rc=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,$w)))}function zi(e){function t(s){return ai(s,e)}if(0<Fo.length){ai(Fo[0],e);for(var n=1;n<Fo.length;n++){var r=Fo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&ai(Un,e),Wn!==null&&ai(Wn,e),qn!==null&&ai(qn,e),Oi.forEach(t),Li.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)Rg(n),n.blockedOn===null&&Rn.shift()}var ds=Nn.ReactCurrentBatchConfig,Ia=!0;function Hw(e,t,n,r){var s=ge,i=ds.transition;ds.transition=null;try{ge=1,Sd(e,t,n,r)}finally{ge=s,ds.transition=i}}function Vw(e,t,n,r){var s=ge,i=ds.transition;ds.transition=null;try{ge=4,Sd(e,t,n,r)}finally{ge=s,ds.transition=i}}function Sd(e,t,n,r){if(Ia){var s=sc(e,t,n,r);if(s===null)mu(e,t,r,Da,n),nh(e,r);else if(Fw(s,e,t,n,r))r.stopPropagation();else if(nh(e,r),t&4&&-1<zw.indexOf(e)){for(;s!==null;){var i=xo(s);if(i!==null&&Eg(i),i=sc(e,t,n,r),i===null&&mu(e,t,r,Da,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mu(e,t,r,null,n)}}var Da=null;function sc(e,t,n,r){if(Da=null,e=Nd(r),e=dr(e),e!==null)if(t=Br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Da=e,null}function Pg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tw()){case jd:return 1;case jg:return 4;case Ra:case Mw:return 16;case _g:return 536870912;default:return 16}default:return 16}}var Vn=null,Ed=null,da=null;function Ig(){if(da)return da;var e,t=Ed,n=t.length,r,s="value"in Vn?Vn.value:Vn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return da=s.slice(e,1<r?1-r:void 0)}function fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $o(){return!0}function sh(){return!1}function wt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$o:sh,this.isPropagationStopped=sh,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cd=wt(Qs),go=Ee({},Qs,{view:0,detail:0}),Bw=wt(go),iu,ou,li,pl=Ee({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(iu=e.screenX-li.screenX,ou=e.screenY-li.screenY):ou=iu=0,li=e),iu)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),ih=wt(pl),Uw=Ee({},pl,{dataTransfer:0}),Ww=wt(Uw),qw=Ee({},go,{relatedTarget:0}),au=wt(qw),Qw=Ee({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xw=wt(Qw),Kw=Ee({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yw=wt(Kw),Gw=Ee({},Qs,{data:0}),oh=wt(Gw),Zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eb[e])?!!t[e]:!1}function Td(){return tb}var nb=Ee({},go,{key:function(e){if(e.key){var t=Zw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rb=wt(nb),sb=Ee({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=wt(sb),ib=Ee({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),ob=wt(ib),ab=Ee({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),lb=wt(ab),ub=Ee({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cb=wt(ub),db=[9,13,27,32],Md=xn&&"CompositionEvent"in window,_i=null;xn&&"documentMode"in document&&(_i=document.documentMode);var fb=xn&&"TextEvent"in window&&!_i,Dg=xn&&(!Md||_i&&8<_i&&11>=_i),lh=" ",uh=!1;function Ag(e,t){switch(e){case"keyup":return db.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function hb(e,t){switch(e){case"compositionend":return Og(t);case"keypress":return t.which!==32?null:(uh=!0,lh);case"textInput":return e=t.data,e===lh&&uh?null:e;default:return null}}function mb(e,t){if(Yr)return e==="compositionend"||!Md&&Ag(e,t)?(e=Ig(),da=Ed=Vn=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dg&&t.locale!=="ko"?null:t.data;default:return null}}var pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pb[e.type]:t==="textarea"}function Lg(e,t,n,r){mg(r),t=Aa(t,"onChange"),0<t.length&&(n=new Cd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ki=null,Fi=null;function gb(e){Xg(e,0)}function gl(e){var t=Jr(e);if(ag(t))return e}function xb(e,t){if(e==="change")return t}var zg=!1;if(xn){var lu;if(xn){var uu="oninput"in document;if(!uu){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),uu=typeof dh.oninput=="function"}lu=uu}else lu=!1;zg=lu&&(!document.documentMode||9<document.documentMode)}function fh(){ki&&(ki.detachEvent("onpropertychange",Fg),Fi=ki=null)}function Fg(e){if(e.propertyName==="value"&&gl(Fi)){var t=[];Lg(t,Fi,e,Nd(e)),yg(gb,t)}}function yb(e,t,n){e==="focusin"?(fh(),ki=t,Fi=n,ki.attachEvent("onpropertychange",Fg)):e==="focusout"&&fh()}function vb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Fi)}function wb(e,t){if(e==="click")return gl(t)}function bb(e,t){if(e==="input"||e==="change")return gl(t)}function Nb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Nb;function $i(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$u.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function hh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mh(e,t){var n=hh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hh(n)}}function $g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hg(){for(var e=window,t=Ca();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ca(e.document)}return t}function Rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jb(e){var t=Hg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$g(n.ownerDocument.documentElement,n)){if(r!==null&&Rd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=mh(n,i);var o=mh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _b=xn&&"documentMode"in document&&11>=document.documentMode,Gr=null,ic=null,Si=null,oc=!1;function ph(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oc||Gr==null||Gr!==Ca(r)||(r=Gr,"selectionStart"in r&&Rd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Si&&$i(Si,r)||(Si=r,r=Aa(ic,"onSelect"),0<r.length&&(t=new Cd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gr)))}function Ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},cu={},Vg={};xn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function xl(e){if(cu[e])return cu[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vg)return cu[e]=t[n];return e}var Bg=xl("animationend"),Ug=xl("animationiteration"),Wg=xl("animationstart"),qg=xl("transitionend"),Qg=new Map,gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){Qg.set(e,t),Vr(t,[e])}for(var du=0;du<gh.length;du++){var fu=gh[du],kb=fu.toLowerCase(),Sb=fu[0].toUpperCase()+fu.slice(1);nr(kb,"on"+Sb)}nr(Bg,"onAnimationEnd");nr(Ug,"onAnimationIteration");nr(Wg,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(qg,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eb=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function xh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kw(r,t,void 0,e),e.currentTarget=null}function Xg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;xh(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;xh(s,l,c),i=u}}}if(Ma)throw e=tc,Ma=!1,tc=null,e}function we(e,t){var n=t[dc];n===void 0&&(n=t[dc]=new Set);var r=e+"__bubble";n.has(r)||(Kg(t,e,2,!1),n.add(r))}function hu(e,t,n){var r=0;t&&(r|=4),Kg(n,e,r,t)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Vo]){e[Vo]=!0,ng.forEach(function(n){n!=="selectionchange"&&(Eb.has(n)||hu(n,!1,e),hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vo]||(t[Vo]=!0,hu("selectionchange",!1,t))}}function Kg(e,t,n,r){switch(Pg(t)){case 1:var s=Hw;break;case 4:s=Vw;break;default:s=Sd}n=s.bind(null,t,n,e),s=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function mu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=dr(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}yg(function(){var c=i,d=Nd(n),f=[];e:{var h=Qg.get(e);if(h!==void 0){var w=Cd,x=e;switch(e){case"keypress":if(fa(n)===0)break e;case"keydown":case"keyup":w=rb;break;case"focusin":x="focus",w=au;break;case"focusout":x="blur",w=au;break;case"beforeblur":case"afterblur":w=au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=ob;break;case Bg:case Ug:case Wg:w=Xw;break;case qg:w=lb;break;case"scroll":w=Bw;break;case"wheel":w=cb;break;case"copy":case"cut":case"paste":w=Yw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ah}var N=(t&4)!==0,k=!N&&e==="scroll",p=N?h!==null?h+"Capture":null:h;N=[];for(var m=c,g;m!==null;){g=m;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,p!==null&&(y=Ai(m,p),y!=null&&N.push(Vi(m,y,g)))),k)break;m=m.return}0<N.length&&(h=new w(h,x,null,n,d),f.push({event:h,listeners:N}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",h&&n!==Zu&&(x=n.relatedTarget||n.fromElement)&&(dr(x)||x[yn]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=c,x=x?dr(x):null,x!==null&&(k=Br(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=c),w!==x)){if(N=ih,y="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(N=ah,y="onPointerLeave",p="onPointerEnter",m="pointer"),k=w==null?h:Jr(w),g=x==null?h:Jr(x),h=new N(y,m+"leave",w,n,d),h.target=k,h.relatedTarget=g,y=null,dr(d)===c&&(N=new N(p,m+"enter",x,n,d),N.target=g,N.relatedTarget=k,y=N),k=y,w&&x)t:{for(N=w,p=x,m=0,g=N;g;g=qr(g))m++;for(g=0,y=p;y;y=qr(y))g++;for(;0<m-g;)N=qr(N),m--;for(;0<g-m;)p=qr(p),g--;for(;m--;){if(N===p||p!==null&&N===p.alternate)break t;N=qr(N),p=qr(p)}N=null}else N=null;w!==null&&yh(f,h,w,N,!1),x!==null&&k!==null&&yh(f,k,x,N,!0)}}e:{if(h=c?Jr(c):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var b=xb;else if(ch(h))if(zg)b=bb;else{b=vb;var j=yb}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=wb);if(b&&(b=b(e,c))){Lg(f,b,n,d);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Qu(h,"number",h.value)}switch(j=c?Jr(c):window,e){case"focusin":(ch(j)||j.contentEditable==="true")&&(Gr=j,ic=c,Si=null);break;case"focusout":Si=ic=Gr=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,ph(f,n,d);break;case"selectionchange":if(_b)break;case"keydown":case"keyup":ph(f,n,d)}var v;if(Md)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Yr?Ag(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Dg&&n.locale!=="ko"&&(Yr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Yr&&(v=Ig()):(Vn=d,Ed="value"in Vn?Vn.value:Vn.textContent,Yr=!0)),j=Aa(c,_),0<j.length&&(_=new oh(_,e,null,n,d),f.push({event:_,listeners:j}),v?_.data=v:(v=Og(n),v!==null&&(_.data=v)))),(v=fb?hb(e,n):mb(e,n))&&(c=Aa(c,"onBeforeInput"),0<c.length&&(d=new oh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=v))}Xg(f,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Aa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ai(e,n),i!=null&&r.unshift(Vi(e,i,s)),i=Ai(e,t),i!=null&&r.push(Vi(e,i,s))),e=e.return}return r}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Ai(n,i),u!=null&&o.unshift(Vi(n,u,l))):s||(u=Ai(n,i),u!=null&&o.push(Vi(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Cb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function vh(e){return(typeof e=="string"?e:""+e).replace(Cb,`
`).replace(Tb,"")}function Bo(e,t,n){if(t=vh(t),vh(e)!==t&&n)throw Error(B(425))}function Oa(){}var ac=null,lc=null;function uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,Mb=typeof clearTimeout=="function"?clearTimeout:void 0,wh=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof wh<"u"?function(e){return wh.resolve(null).then(e).catch(Pb)}:cc;function Pb(e){setTimeout(function(){throw e})}function pu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zi(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Xs,Bi="__reactProps$"+Xs,yn="__reactContainer$"+Xs,dc="__reactEvents$"+Xs,Ib="__reactListeners$"+Xs,Db="__reactHandles$"+Xs;function dr(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bh(e);e!==null;){if(n=e[Jt])return n;e=bh(e)}return t}e=n,n=e.parentNode}return null}function xo(e){return e=e[Jt]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function yl(e){return e[Bi]||null}var fc=[],es=-1;function rr(e){return{current:e}}function be(e){0>es||(e.current=fc[es],fc[es]=null,es--)}function ye(e,t){es++,fc[es]=e.current,e.current=t}var tr={},Ke=rr(tr),lt=rr(!1),Rr=tr;function Ts(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ut(e){return e=e.childContextTypes,e!=null}function La(){be(lt),be(Ke)}function Nh(e,t,n){if(Ke.current!==tr)throw Error(B(168));ye(Ke,t),ye(lt,n)}function Yg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,yw(e)||"Unknown",s));return Ee({},n,r)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Rr=Ke.current,ye(Ke,e),ye(lt,lt.current),!0}function jh(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Yg(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=e,be(lt),be(Ke),ye(Ke,e)):be(lt),ye(lt,n)}var cn=null,vl=!1,gu=!1;function Gg(e){cn===null?cn=[e]:cn.push(e)}function Ab(e){vl=!0,Gg(e)}function sr(){if(!gu&&cn!==null){gu=!0;var e=0,t=ge;try{var n=cn;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cn=null,vl=!1}catch(s){throw cn!==null&&(cn=cn.slice(e+1)),Ng(jd,sr),s}finally{ge=t,gu=!1}}return null}var ts=[],ns=0,Fa=null,$a=0,jt=[],_t=0,Pr=null,hn=1,mn="";function ar(e,t){ts[ns++]=$a,ts[ns++]=Fa,Fa=e,$a=t}function Zg(e,t,n){jt[_t++]=hn,jt[_t++]=mn,jt[_t++]=Pr,Pr=e;var r=hn;e=mn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hn=1<<32-$t(t)+s|n<<s|r,mn=i+e}else hn=1<<i|n<<s|r,mn=e}function Pd(e){e.return!==null&&(ar(e,1),Zg(e,1,0))}function Id(e){for(;e===Fa;)Fa=ts[--ns],ts[ns]=null,$a=ts[--ns],ts[ns]=null;for(;e===Pr;)Pr=jt[--_t],jt[_t]=null,mn=jt[--_t],jt[_t]=null,hn=jt[--_t],jt[_t]=null}var gt=null,pt=null,Ne=!1,At=null;function Jg(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _h(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,pt=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pr!==null?{id:hn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,pt=null,!0):!1;default:return!1}}function hc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mc(e){if(Ne){var t=pt;if(t){var n=t;if(!_h(e,t)){if(hc(e))throw Error(B(418));t=Qn(n.nextSibling);var r=gt;t&&_h(e,t)?Jg(r,n):(e.flags=e.flags&-4097|2,Ne=!1,gt=e)}}else{if(hc(e))throw Error(B(418));e.flags=e.flags&-4097|2,Ne=!1,gt=e}}}function kh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Uo(e){if(e!==gt)return!1;if(!Ne)return kh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uc(e.type,e.memoizedProps)),t&&(t=pt)){if(hc(e))throw ex(),Error(B(418));for(;t;)Jg(e,t),t=Qn(t.nextSibling)}if(kh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=gt?Qn(e.stateNode.nextSibling):null;return!0}function ex(){for(var e=pt;e;)e=Qn(e.nextSibling)}function Ms(){pt=gt=null,Ne=!1}function Dd(e){At===null?At=[e]:At.push(e)}var Ob=Nn.ReactCurrentBatchConfig;function ui(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sh(e){var t=e._init;return t(e._payload)}function tx(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Gn(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,y){return m===null||m.tag!==6?(m=ju(g,p.mode,y),m.return=p,m):(m=s(m,g),m.return=p,m)}function u(p,m,g,y){var b=g.type;return b===Kr?d(p,m,g.props.children,y,g.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tn&&Sh(b)===m.type)?(y=s(m,g.props),y.ref=ui(p,m,g),y.return=p,y):(y=va(g.type,g.key,g.props,null,p.mode,y),y.ref=ui(p,m,g),y.return=p,y)}function c(p,m,g,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=_u(g,p.mode,y),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function d(p,m,g,y,b){return m===null||m.tag!==7?(m=Er(g,p.mode,y,b),m.return=p,m):(m=s(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ju(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Do:return g=va(m.type,m.key,m.props,null,p.mode,g),g.ref=ui(p,null,m),g.return=p,g;case Xr:return m=_u(m,p.mode,g),m.return=p,m;case Tn:var y=m._init;return f(p,y(m._payload),g)}if(gi(m)||si(m))return m=Er(m,p.mode,g,null),m.return=p,m;Wo(p,m)}return null}function h(p,m,g,y){var b=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:l(p,m,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Do:return g.key===b?u(p,m,g,y):null;case Xr:return g.key===b?c(p,m,g,y):null;case Tn:return b=g._init,h(p,m,b(g._payload),y)}if(gi(g)||si(g))return b!==null?null:d(p,m,g,y,null);Wo(p,g)}return null}function w(p,m,g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(g)||null,l(m,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Do:return p=p.get(y.key===null?g:y.key)||null,u(m,p,y,b);case Xr:return p=p.get(y.key===null?g:y.key)||null,c(m,p,y,b);case Tn:var j=y._init;return w(p,m,g,j(y._payload),b)}if(gi(y)||si(y))return p=p.get(g)||null,d(m,p,y,b,null);Wo(m,y)}return null}function x(p,m,g,y){for(var b=null,j=null,v=m,_=m=0,E=null;v!==null&&_<g.length;_++){v.index>_?(E=v,v=null):E=v.sibling;var M=h(p,v,g[_],y);if(M===null){v===null&&(v=E);break}e&&v&&M.alternate===null&&t(p,v),m=i(M,m,_),j===null?b=M:j.sibling=M,j=M,v=E}if(_===g.length)return n(p,v),Ne&&ar(p,_),b;if(v===null){for(;_<g.length;_++)v=f(p,g[_],y),v!==null&&(m=i(v,m,_),j===null?b=v:j.sibling=v,j=v);return Ne&&ar(p,_),b}for(v=r(p,v);_<g.length;_++)E=w(v,p,_,g[_],y),E!==null&&(e&&E.alternate!==null&&v.delete(E.key===null?_:E.key),m=i(E,m,_),j===null?b=E:j.sibling=E,j=E);return e&&v.forEach(function(I){return t(p,I)}),Ne&&ar(p,_),b}function N(p,m,g,y){var b=si(g);if(typeof b!="function")throw Error(B(150));if(g=b.call(g),g==null)throw Error(B(151));for(var j=b=null,v=m,_=m=0,E=null,M=g.next();v!==null&&!M.done;_++,M=g.next()){v.index>_?(E=v,v=null):E=v.sibling;var I=h(p,v,M.value,y);if(I===null){v===null&&(v=E);break}e&&v&&I.alternate===null&&t(p,v),m=i(I,m,_),j===null?b=I:j.sibling=I,j=I,v=E}if(M.done)return n(p,v),Ne&&ar(p,_),b;if(v===null){for(;!M.done;_++,M=g.next())M=f(p,M.value,y),M!==null&&(m=i(M,m,_),j===null?b=M:j.sibling=M,j=M);return Ne&&ar(p,_),b}for(v=r(p,v);!M.done;_++,M=g.next())M=w(v,p,_,M.value,y),M!==null&&(e&&M.alternate!==null&&v.delete(M.key===null?_:M.key),m=i(M,m,_),j===null?b=M:j.sibling=M,j=M);return e&&v.forEach(function(T){return t(p,T)}),Ne&&ar(p,_),b}function k(p,m,g,y){if(typeof g=="object"&&g!==null&&g.type===Kr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Do:e:{for(var b=g.key,j=m;j!==null;){if(j.key===b){if(b=g.type,b===Kr){if(j.tag===7){n(p,j.sibling),m=s(j,g.props.children),m.return=p,p=m;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tn&&Sh(b)===j.type){n(p,j.sibling),m=s(j,g.props),m.ref=ui(p,j,g),m.return=p,p=m;break e}n(p,j);break}else t(p,j);j=j.sibling}g.type===Kr?(m=Er(g.props.children,p.mode,y,g.key),m.return=p,p=m):(y=va(g.type,g.key,g.props,null,p.mode,y),y.ref=ui(p,m,g),y.return=p,p=y)}return o(p);case Xr:e:{for(j=g.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=_u(g,p.mode,y),m.return=p,p=m}return o(p);case Tn:return j=g._init,k(p,m,j(g._payload),y)}if(gi(g))return x(p,m,g,y);if(si(g))return N(p,m,g,y);Wo(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,g),m.return=p,p=m):(n(p,m),m=ju(g,p.mode,y),m.return=p,p=m),o(p)):n(p,m)}return k}var Rs=tx(!0),nx=tx(!1),Ha=rr(null),Va=null,rs=null,Ad=null;function Od(){Ad=rs=Va=null}function Ld(e){var t=Ha.current;be(Ha),e._currentValue=t}function pc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fs(e,t){Va=e,Ad=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Ad!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(Va===null)throw Error(B(308));rs=e,Va.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var fr=null;function zd(e){fr===null?fr=[e]:fr.push(e)}function rx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zd(t)):(n.next=s.next,s.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mn=!1;function Fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,vn(e,n)}return s=r.interleaved,s===null?(t.next=t,zd(r)):(t.next=s.next,s.next=t),r.interleaved=t,vn(e,n)}function ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_d(e,n)}}function Eh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var s=e.updateQueue;Mn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,l=i;do{var h=l.lane,w=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,N=l;switch(h=t,w=n,N.tag){case 1:if(x=N.payload,typeof x=="function"){f=x.call(w,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,h=typeof x=="function"?x.call(w,f,h):x,h==null)break e;f=Ee({},f,h);break e;case 2:Mn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else w={eventTime:w,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=f):d=d.next=w,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Dr|=o,e.lanes=o,e.memoizedState=f}}function Ch(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var yo={},tn=rr(yo),Ui=rr(yo),Wi=rr(yo);function hr(e){if(e===yo)throw Error(B(174));return e}function $d(e,t){switch(ye(Wi,t),ye(Ui,e),ye(tn,yo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ku(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ku(t,e)}be(tn),ye(tn,t)}function Ps(){be(tn),be(Ui),be(Wi)}function ix(e){hr(Wi.current);var t=hr(tn.current),n=Ku(t,e.type);t!==n&&(ye(Ui,e),ye(tn,n))}function Hd(e){Ui.current===e&&(be(tn),be(Ui))}var ke=rr(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xu=[];function Vd(){for(var e=0;e<xu.length;e++)xu[e]._workInProgressVersionPrimary=null;xu.length=0}var ma=Nn.ReactCurrentDispatcher,yu=Nn.ReactCurrentBatchConfig,Ir=0,Se=null,De=null,Le=null,Wa=!1,Ei=!1,qi=0,Lb=0;function We(){throw Error(B(321))}function Bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Ud(e,t,n,r,s,i){if(Ir=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=e===null||e.memoizedState===null?Hb:Vb,e=n(r,s),Ei){i=0;do{if(Ei=!1,qi=0,25<=i)throw Error(B(301));i+=1,Le=De=null,t.updateQueue=null,ma.current=Bb,e=n(r,s)}while(Ei)}if(ma.current=qa,t=De!==null&&De.next!==null,Ir=0,Le=De=Se=null,Wa=!1,t)throw Error(B(300));return e}function Wd(){var e=qi!==0;return qi=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Se.memoizedState=Le=e:Le=Le.next=e,Le}function Ct(){if(De===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Le===null?Se.memoizedState:Le.next;if(t!==null)Le=t,De=e;else{if(e===null)throw Error(B(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Le===null?Se.memoizedState=Le=e:Le=Le.next=e}return Le}function Qi(e,t){return typeof t=="function"?t(e):t}function vu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((Ir&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Se.lanes|=d,Dr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,Vt(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Se.lanes|=i,Dr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ox(){}function ax(e,t){var n=Se,r=Ct(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,ot=!0),r=r.queue,qd(cx.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Xi(9,ux.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(B(349));Ir&30||lx(n,t,s)}return s}function lx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ux(e,t,n,r){t.value=n,t.getSnapshot=r,dx(t)&&fx(e)}function cx(e,t,n){return n(function(){dx(t)&&fx(e)})}function dx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function fx(e){var t=vn(e,1);t!==null&&Ht(t,e,1,-1)}function Th(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},t.queue=e,e=e.dispatch=$b.bind(null,Se,e),[t.memoizedState,e]}function Xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hx(){return Ct().memoizedState}function pa(e,t,n,r){var s=Xt();Se.flags|=e,s.memoizedState=Xi(1|t,n,void 0,r===void 0?null:r)}function wl(e,t,n,r){var s=Ct();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&Bd(r,o.deps)){s.memoizedState=Xi(t,n,i,r);return}}Se.flags|=e,s.memoizedState=Xi(1|t,n,i,r)}function Mh(e,t){return pa(8390656,8,e,t)}function qd(e,t){return wl(2048,8,e,t)}function mx(e,t){return wl(4,2,e,t)}function px(e,t){return wl(4,4,e,t)}function gx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xx(e,t,n){return n=n!=null?n.concat([e]):null,wl(4,4,gx.bind(null,t,e),n)}function Qd(){}function yx(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vx(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wx(e,t,n){return Ir&21?(Vt(n,t)||(n=kg(),Se.lanes|=n,Dr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function zb(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=yu.transition;yu.transition={};try{e(!1),t()}finally{ge=n,yu.transition=r}}function bx(){return Ct().memoizedState}function Fb(e,t,n){var r=Yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nx(e))jx(t,n);else if(n=rx(e,t,n,r),n!==null){var s=et();Ht(n,e,r,s),_x(n,t,r)}}function $b(e,t,n){var r=Yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nx(e))jx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var u=t.interleaved;u===null?(s.next=s,zd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=rx(e,t,s,r),n!==null&&(s=et(),Ht(n,e,r,s),_x(n,t,r))}}function Nx(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function jx(e,t){Ei=Wa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _x(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_d(e,n)}}var qa={readContext:Et,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Hb={readContext:Et,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Mh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pa(4194308,4,gx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return pa(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fb.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Th,useDebugValue:Qd,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Th(!1),t=e[0];return e=zb.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,s=Xt();if(Ne){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),ze===null)throw Error(B(349));Ir&30||lx(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Mh(cx.bind(null,r,i,e),[e]),r.flags|=2048,Xi(9,ux.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Xt(),t=ze.identifierPrefix;if(Ne){var n=mn,r=hn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vb={readContext:Et,useCallback:yx,useContext:Et,useEffect:qd,useImperativeHandle:xx,useInsertionEffect:mx,useLayoutEffect:px,useMemo:vx,useReducer:vu,useRef:hx,useState:function(){return vu(Qi)},useDebugValue:Qd,useDeferredValue:function(e){var t=Ct();return wx(t,De.memoizedState,e)},useTransition:function(){var e=vu(Qi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:bx,unstable_isNewReconciler:!1},Bb={readContext:Et,useCallback:yx,useContext:Et,useEffect:qd,useImperativeHandle:xx,useInsertionEffect:mx,useLayoutEffect:px,useMemo:vx,useReducer:wu,useRef:hx,useState:function(){return wu(Qi)},useDebugValue:Qd,useDeferredValue:function(e){var t=Ct();return De===null?t.memoizedState=e:wx(t,De.memoizedState,e)},useTransition:function(){var e=wu(Qi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:ox,useSyncExternalStore:ax,useId:bx,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bl={isMounted:function(e){return(e=e._reactInternals)?Br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),s=Yn(e),i=gn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,s),t!==null&&(Ht(t,e,s,r),ha(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),s=Yn(e),i=gn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,s),t!==null&&(Ht(t,e,s,r),ha(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=Yn(e),s=gn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xn(e,s,r),t!==null&&(Ht(t,e,r,n),ha(t,e,r))}};function Rh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!$i(n,r)||!$i(s,i):!0}function kx(e,t,n){var r=!1,s=tr,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=ut(t)?Rr:Ke.current,r=t.contextTypes,i=(r=r!=null)?Ts(e,s):tr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ph(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bl.enqueueReplaceState(t,t.state,null)}function xc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=ut(t)?Rr:Ke.current,s.context=Ts(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bl.enqueueReplaceState(s,s.state,null),Ba(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Is(e,t){try{var n="",r=t;do n+=xw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function bu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ub=typeof WeakMap=="function"?WeakMap:Map;function Sx(e,t,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xa||(Xa=!0,Cc=r),yc(e,t)},n}function Ex(e,t,n){n=gn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){yc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yc(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ih(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ub;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=sN.bind(null,e,t,n),t.then(e,e))}function Dh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ah(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var Wb=Nn.ReactCurrentOwner,ot=!1;function Je(e,t,n,r){t.child=e===null?nx(t,null,n,r):Rs(t,e.child,n,r)}function Oh(e,t,n,r,s){n=n.render;var i=t.ref;return fs(t,s),r=Ud(e,t,n,r,i,s),n=Wd(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(Ne&&n&&Pd(t),t.flags|=1,Je(e,t,r,s),t.child)}function Lh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!tf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Cx(e,t,i,r,s)):(e=va(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:$i,n(o,r)&&e.ref===t.ref)return wn(e,t,s)}return t.flags|=1,e=Gn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Cx(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if($i(i,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,wn(e,t,s)}return vc(e,t,n,r,s)}function Tx(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(is,ht),ht|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(is,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(is,ht),ht|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(is,ht),ht|=r;return Je(e,t,s,n),t.child}function Mx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vc(e,t,n,r,s){var i=ut(n)?Rr:Ke.current;return i=Ts(t,i),fs(t,s),n=Ud(e,t,n,r,i,s),r=Wd(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wn(e,t,s)):(Ne&&r&&Pd(t),t.flags|=1,Je(e,t,n,s),t.child)}function zh(e,t,n,r,s){if(ut(n)){var i=!0;za(t)}else i=!1;if(fs(t,s),t.stateNode===null)ga(e,t),kx(t,n,r),xc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=ut(n)?Rr:Ke.current,c=Ts(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Ph(t,o,r,c),Mn=!1;var h=t.memoizedState;o.state=h,Ba(t,r,o,s),u=t.memoizedState,l!==r||h!==u||lt.current||Mn?(typeof d=="function"&&(gc(t,n,d,r),u=t.memoizedState),(l=Mn||Rh(t,n,l,r,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,sx(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Mt(t.type,l),o.props=c,f=t.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Et(u):(u=ut(n)?Rr:Ke.current,u=Ts(t,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Ph(t,o,r,u),Mn=!1,h=t.memoizedState,o.state=h,Ba(t,r,o,s);var x=t.memoizedState;l!==f||h!==x||lt.current||Mn?(typeof w=="function"&&(gc(t,n,w,r),x=t.memoizedState),(c=Mn||Rh(t,n,c,r,h,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return wc(e,t,n,r,i,s)}function wc(e,t,n,r,s,i){Mx(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&jh(t,n,!1),wn(e,t,i);r=t.stateNode,Wb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Rs(t,e.child,null,i),t.child=Rs(t,null,l,i)):Je(e,t,l,i),t.memoizedState=r.state,s&&jh(t,n,!0),t.child}function Rx(e){var t=e.stateNode;t.pendingContext?Nh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nh(e,t.context,!1),$d(e,t.containerInfo)}function Fh(e,t,n,r,s){return Ms(),Dd(s),t.flags|=256,Je(e,t,n,r),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function Nc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Px(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(ke,s&1),e===null)return mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_l(o,r,0,null),e=Er(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nc(n),t.memoizedState=bc,e):Xd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return qb(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Gn(l,i):(i=Er(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Nc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=bc,r}return i=e.child,e=i.sibling,r=Gn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xd(e,t){return t=_l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qo(e,t,n,r){return r!==null&&Dd(r),Rs(t,e.child,null,n),e=Xd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=bu(Error(B(422))),qo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=_l({mode:"visible",children:r.children},s,0,null),i=Er(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Rs(t,e.child,null,o),t.child.memoizedState=Nc(o),t.memoizedState=bc,i);if(!(t.mode&1))return qo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=bu(i,r,void 0),qo(e,t,o,r)}if(l=(o&e.childLanes)!==0,ot||l){if(r=ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vn(e,s),Ht(r,e,s,-1))}return ef(),r=bu(Error(B(421))),qo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=iN.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pt=Qn(s.nextSibling),gt=t,Ne=!0,At=null,e!==null&&(jt[_t++]=hn,jt[_t++]=mn,jt[_t++]=Pr,hn=e.id,mn=e.overflow,Pr=t),t=Xd(t,r.children),t.flags|=4096,t)}function $h(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pc(e.return,t,n)}function Nu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ix(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Je(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$h(e,n,t);else if(e.tag===19)$h(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ua(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Nu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ua(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Nu(t,!0,n,null,i);break;case"together":Nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qb(e,t,n){switch(t.tag){case 3:Rx(t),Ms();break;case 5:ix(t);break;case 1:ut(t.type)&&za(t);break;case 4:$d(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(Ha,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Px(e,t,n):(ye(ke,ke.current&1),e=wn(e,t,n),e!==null?e.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ix(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Tx(e,t,n)}return wn(e,t,n)}var Dx,jc,Ax,Ox;Dx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jc=function(){};Ax=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hr(tn.current);var i=null;switch(n){case"input":s=Wu(e,s),r=Wu(e,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Xu(e,s),r=Xu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Oa)}Yu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ii.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ii.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&we("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ox=function(e,t,n,r){n!==r&&(t.flags|=4)};function ci(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xb(e,t,n){var r=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return ut(t.type)&&La(),qe(t),null;case 3:return r=t.stateNode,Ps(),be(lt),be(Ke),Vd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Rc(At),At=null))),jc(e,t),qe(t),null;case 5:Hd(t);var s=hr(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)Ax(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return qe(t),null}if(e=hr(tn.current),Uo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Jt]=t,r[Bi]=i,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<yi.length;s++)we(yi[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Kf(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":Gf(r,i),we("invalid",r)}Yu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bo(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bo(r.textContent,l,e),s=["children",""+l]):Ii.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Ao(r),Yf(r,i,!0);break;case"textarea":Ao(r),Zf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Oa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Jt]=t,e[Bi]=r,Dx(e,t,!1,!1),t.stateNode=e;e:{switch(o=Gu(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<yi.length;s++)we(yi[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":Kf(e,r),s=Wu(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),we("invalid",e);break;case"textarea":Gf(e,r),s=Xu(e,r),we("invalid",e);break;default:s=r}Yu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?hg(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&dg(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Di(e,u):typeof u=="number"&&Di(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ii.hasOwnProperty(i)?u!=null&&i==="onScroll"&&we("scroll",e):u!=null&&yd(e,i,u,o))}switch(n){case"input":Ao(e),Yf(e,r,!1);break;case"textarea":Ao(e),Zf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ls(e,!!r.multiple,i,!1):r.defaultValue!=null&&ls(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Ox(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=hr(Wi.current),hr(tn.current),Uo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Bo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return qe(t),null;case 13:if(be(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&pt!==null&&t.mode&1&&!(t.flags&128))ex(),Ms(),t.flags|=98560,i=!1;else if(i=Uo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Jt]=t}else Ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else At!==null&&(Rc(At),At=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ae===0&&(Ae=3):ef())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Ps(),jc(e,t),e===null&&Hi(t.stateNode.containerInfo),qe(t),null;case 10:return Ld(t.type._context),qe(t),null;case 17:return ut(t.type)&&La(),qe(t),null;case 19:if(be(ke),i=t.memoizedState,i===null)return qe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ci(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ua(e),o!==null){for(t.flags|=128,ci(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>Ds&&(t.flags|=128,r=!0,ci(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ua(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ci(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return qe(t),null}else 2*Me()-i.renderingStartTime>Ds&&n!==1073741824&&(t.flags|=128,r=!0,ci(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return Jd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Kb(e,t){switch(Id(t),t.tag){case 1:return ut(t.type)&&La(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),be(lt),be(Ke),Vd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hd(t),null;case 13:if(be(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(ke),null;case 4:return Ps(),null;case 10:return Ld(t.type._context),null;case 22:case 23:return Jd(),null;case 24:return null;default:return null}}var Qo=!1,Qe=!1,Yb=typeof WeakSet=="function"?WeakSet:Set,X=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function _c(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Hh=!1;function Gb(e,t){if(ac=Ia,e=Hg(),Rd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var w;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)h=f,f=w;for(;;){if(f===e)break t;if(h===n&&++c===s&&(l=o),h===i&&++d===r&&(u=o),(w=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lc={focusedElem:e,selectionRange:n},Ia=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var N=x.memoizedProps,k=x.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?N:Mt(t.type,N),k);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(y){Te(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return x=Hh,Hh=!1,x}function Ci(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&_c(t,n,i)}s=s.next}while(s!==r)}}function Nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function kc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lx(e){var t=e.alternate;t!==null&&(e.alternate=null,Lx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Bi],delete t[dc],delete t[Ib],delete t[Db])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zx(e){return e.tag===5||e.tag===3||e.tag===4}function Vh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oa));else if(r!==4&&(e=e.child,e!==null))for(Sc(e,t,n),e=e.sibling;e!==null;)Sc(e,t,n),e=e.sibling}function Ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ec(e,t,n),e=e.sibling;e!==null;)Ec(e,t,n),e=e.sibling}var $e=null,It=!1;function kn(e,t,n){for(n=n.child;n!==null;)Fx(e,t,n),n=n.sibling}function Fx(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 5:Qe||ss(n,t);case 6:var r=$e,s=It;$e=null,kn(e,t,n),$e=r,It=s,$e!==null&&(It?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(It?(e=$e,n=n.stateNode,e.nodeType===8?pu(e.parentNode,n):e.nodeType===1&&pu(e,n),zi(e)):pu($e,n.stateNode));break;case 4:r=$e,s=It,$e=n.stateNode.containerInfo,It=!0,kn(e,t,n),$e=r,It=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_c(n,t,o),s=s.next}while(s!==r)}kn(e,t,n);break;case 1:if(!Qe&&(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,t,l)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,kn(e,t,n),Qe=r):kn(e,t,n);break;default:kn(e,t,n)}}function Bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Yb),t.forEach(function(r){var s=oN.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,It=!1;break e;case 3:$e=l.stateNode.containerInfo,It=!0;break e;case 4:$e=l.stateNode.containerInfo,It=!0;break e}l=l.return}if($e===null)throw Error(B(160));Fx(i,o,s),$e=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$x(t,e),t=t.sibling}function $x(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Wt(e),r&4){try{Ci(3,e,e.return),Nl(3,e)}catch(N){Te(e,e.return,N)}try{Ci(5,e,e.return)}catch(N){Te(e,e.return,N)}}break;case 1:Tt(t,e),Wt(e),r&512&&n!==null&&ss(n,n.return);break;case 5:if(Tt(t,e),Wt(e),r&512&&n!==null&&ss(n,n.return),e.flags&32){var s=e.stateNode;try{Di(s,"")}catch(N){Te(e,e.return,N)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&lg(s,i),Gu(l,o);var c=Gu(l,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?hg(s,f):d==="dangerouslySetInnerHTML"?dg(s,f):d==="children"?Di(s,f):yd(s,d,f,c)}switch(l){case"input":qu(s,i);break;case"textarea":ug(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?ls(s,!!i.multiple,w,!1):h!==!!i.multiple&&(i.defaultValue!=null?ls(s,!!i.multiple,i.defaultValue,!0):ls(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bi]=i}catch(N){Te(e,e.return,N)}}break;case 6:if(Tt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){Te(e,e.return,N)}}break;case 3:if(Tt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zi(t.containerInfo)}catch(N){Te(e,e.return,N)}break;case 4:Tt(t,e),Wt(e);break;case 13:Tt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gd=Me())),r&4&&Bh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(c=Qe)||d,Tt(t,e),Qe=c):Tt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,w=h.child,h.tag){case 0:case 11:case 14:case 15:Ci(4,h,h.return);break;case 1:ss(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(N){Te(r,n,N)}}break;case 5:ss(h,h.return);break;case 22:if(h.memoizedState!==null){Wh(f);continue}}w!==null?(w.return=h,X=w):Wh(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=fg("display",o))}catch(N){Te(e,e.return,N)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(N){Te(e,e.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Wt(e),r&4&&Bh(e);break;case 21:break;default:Tt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zx(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Di(s,""),r.flags&=-33);var i=Vh(e);Ec(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Vh(e);Sc(e,l,o);break;default:throw Error(B(161))}}catch(u){Te(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zb(e,t,n){X=e,Hx(e)}function Hx(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Qo;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Qe;l=Qo;var c=Qe;if(Qo=o,(Qe=u)&&!c)for(X=s;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?qh(s):u!==null?(u.return=o,X=u):qh(s);for(;i!==null;)X=i,Hx(i),i=i.sibling;X=s,Qo=l,Qe=c}Uh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Uh(e)}}function Uh(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Nl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ch(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ch(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Qe||t.flags&512&&kc(t)}catch(h){Te(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Wh(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function qh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nl(4,t)}catch(u){Te(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Te(t,s,u)}}var i=t.return;try{kc(t)}catch(u){Te(t,i,u)}break;case 5:var o=t.return;try{kc(t)}catch(u){Te(t,o,u)}}}catch(u){Te(t,t.return,u)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var Jb=Math.ceil,Qa=Nn.ReactCurrentDispatcher,Kd=Nn.ReactCurrentOwner,St=Nn.ReactCurrentBatchConfig,fe=0,ze=null,Pe=null,Ve=0,ht=0,is=rr(0),Ae=0,Ki=null,Dr=0,jl=0,Yd=0,Ti=null,it=null,Gd=0,Ds=1/0,un=null,Xa=!1,Cc=null,Kn=null,Xo=!1,Bn=null,Ka=0,Mi=0,Tc=null,xa=-1,ya=0;function et(){return fe&6?Me():xa!==-1?xa:xa=Me()}function Yn(e){return e.mode&1?fe&2&&Ve!==0?Ve&-Ve:Ob.transition!==null?(ya===0&&(ya=kg()),ya):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Pg(e.type)),e):1}function Ht(e,t,n,r){if(50<Mi)throw Mi=0,Tc=null,Error(B(185));po(e,n,r),(!(fe&2)||e!==ze)&&(e===ze&&(!(fe&2)&&(jl|=n),Ae===4&&Pn(e,Ve)),ct(e,r),n===1&&fe===0&&!(t.mode&1)&&(Ds=Me()+500,vl&&sr()))}function ct(e,t){var n=e.callbackNode;Ow(e,t);var r=Pa(e,e===ze?Ve:0);if(r===0)n!==null&&th(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&th(n),t===1)e.tag===0?Ab(Qh.bind(null,e)):Gg(Qh.bind(null,e)),Rb(function(){!(fe&6)&&sr()}),n=null;else{switch(Sg(r)){case 1:n=jd;break;case 4:n=jg;break;case 16:n=Ra;break;case 536870912:n=_g;break;default:n=Ra}n=Kx(n,Vx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Vx(e,t){if(xa=-1,ya=0,fe&6)throw Error(B(327));var n=e.callbackNode;if(hs()&&e.callbackNode!==n)return null;var r=Pa(e,e===ze?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ya(e,r);else{t=r;var s=fe;fe|=2;var i=Ux();(ze!==e||Ve!==t)&&(un=null,Ds=Me()+500,Sr(e,t));do try{nN();break}catch(l){Bx(e,l)}while(!0);Od(),Qa.current=i,fe=s,Pe!==null?t=0:(ze=null,Ve=0,t=Ae)}if(t!==0){if(t===2&&(s=nc(e),s!==0&&(r=s,t=Mc(e,s))),t===1)throw n=Ki,Sr(e,0),Pn(e,r),ct(e,Me()),n;if(t===6)Pn(e,r);else{if(s=e.current.alternate,!(r&30)&&!eN(s)&&(t=Ya(e,r),t===2&&(i=nc(e),i!==0&&(r=i,t=Mc(e,i))),t===1))throw n=Ki,Sr(e,0),Pn(e,r),ct(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:lr(e,it,un);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=Gd+500-Me(),10<t)){if(Pa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cc(lr.bind(null,e,it,un),t);break}lr(e,it,un);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jb(r/1960))-r,10<r){e.timeoutHandle=cc(lr.bind(null,e,it,un),r);break}lr(e,it,un);break;case 5:lr(e,it,un);break;default:throw Error(B(329))}}}return ct(e,Me()),e.callbackNode===n?Vx.bind(null,e):null}function Mc(e,t){var n=Ti;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Ya(e,t),e!==2&&(t=it,it=n,t!==null&&Rc(t)),e}function Rc(e){it===null?it=e:it.push.apply(it,e)}function eN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Yd,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function Qh(e){if(fe&6)throw Error(B(327));hs();var t=Pa(e,0);if(!(t&1))return ct(e,Me()),null;var n=Ya(e,t);if(e.tag!==0&&n===2){var r=nc(e);r!==0&&(t=r,n=Mc(e,r))}if(n===1)throw n=Ki,Sr(e,0),Pn(e,t),ct(e,Me()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,it,un),ct(e,Me()),null}function Zd(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Ds=Me()+500,vl&&sr())}}function Ar(e){Bn!==null&&Bn.tag===0&&!(fe&6)&&hs();var t=fe;fe|=1;var n=St.transition,r=ge;try{if(St.transition=null,ge=1,e)return e()}finally{ge=r,St.transition=n,fe=t,!(fe&6)&&sr()}}function Jd(){ht=is.current,be(is)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mb(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&La();break;case 3:Ps(),be(lt),be(Ke),Vd();break;case 5:Hd(r);break;case 4:Ps();break;case 13:be(ke);break;case 19:be(ke);break;case 10:Ld(r.type._context);break;case 22:case 23:Jd()}n=n.return}if(ze=e,Pe=e=Gn(e.current,null),Ve=ht=t,Ae=0,Ki=null,Yd=jl=Dr=0,it=Ti=null,fr!==null){for(t=0;t<fr.length;t++)if(n=fr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fr=null}return e}function Bx(e,t){do{var n=Pe;try{if(Od(),ma.current=qa,Wa){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wa=!1}if(Ir=0,Le=De=Se=null,Ei=!1,qi=0,Kd.current=null,n===null||n.return===null){Ae=1,Ki=t,Pe=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=Ve,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Dh(o);if(w!==null){w.flags&=-257,Ah(w,o,l,i,t),w.mode&1&&Ih(i,c,t),t=w,u=c;var x=t.updateQueue;if(x===null){var N=new Set;N.add(u),t.updateQueue=N}else x.add(u);break e}else{if(!(t&1)){Ih(i,c,t),ef();break e}u=Error(B(426))}}else if(Ne&&l.mode&1){var k=Dh(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ah(k,o,l,i,t),Dd(Is(u,l));break e}}i=u=Is(u,l),Ae!==4&&(Ae=2),Ti===null?Ti=[i]:Ti.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Sx(i,u,t);Eh(i,p);break e;case 1:l=u;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=Ex(i,l,t);Eh(i,y);break e}}i=i.return}while(i!==null)}qx(n)}catch(b){t=b,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Ux(){var e=Qa.current;return Qa.current=qa,e===null?qa:e}function ef(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),ze===null||!(Dr&268435455)&&!(jl&268435455)||Pn(ze,Ve)}function Ya(e,t){var n=fe;fe|=2;var r=Ux();(ze!==e||Ve!==t)&&(un=null,Sr(e,t));do try{tN();break}catch(s){Bx(e,s)}while(!0);if(Od(),fe=n,Qa.current=r,Pe!==null)throw Error(B(261));return ze=null,Ve=0,Ae}function tN(){for(;Pe!==null;)Wx(Pe)}function nN(){for(;Pe!==null&&!Ew();)Wx(Pe)}function Wx(e){var t=Xx(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?qx(e):Pe=t,Kd.current=null}function qx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kb(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(n=Xb(n,t,ht),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function lr(e,t,n){var r=ge,s=St.transition;try{St.transition=null,ge=1,rN(e,t,n,r)}finally{St.transition=s,ge=r}return null}function rN(e,t,n,r){do hs();while(Bn!==null);if(fe&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lw(e,i),e===ze&&(Pe=ze=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xo||(Xo=!0,Kx(Ra,function(){return hs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=St.transition,St.transition=null;var o=ge;ge=1;var l=fe;fe|=4,Kd.current=null,Gb(e,n),$x(n,e),jb(lc),Ia=!!ac,lc=ac=null,e.current=n,Zb(n),Cw(),fe=l,ge=o,St.transition=i}else e.current=n;if(Xo&&(Xo=!1,Bn=e,Ka=s),i=e.pendingLanes,i===0&&(Kn=null),Rw(n.stateNode),ct(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xa)throw Xa=!1,e=Cc,Cc=null,e;return Ka&1&&e.tag!==0&&hs(),i=e.pendingLanes,i&1?e===Tc?Mi++:(Mi=0,Tc=e):Mi=0,sr(),null}function hs(){if(Bn!==null){var e=Sg(Ka),t=St.transition,n=ge;try{if(St.transition=null,ge=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,Ka=0,fe&6)throw Error(B(331));var s=fe;for(fe|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Ci(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,w=d.return;if(Lx(d),d===c){X=null;break}if(h!==null){h.return=w,X=h;break}X=w}}}var x=i.alternate;if(x!==null){var N=x.child;if(N!==null){x.child=null;do{var k=N.sibling;N.sibling=null,N=k}while(N!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ci(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,X=p;break e}X=i.return}}var m=e.current;for(X=m;X!==null;){o=X;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,X=g;else e:for(o=m;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nl(9,l)}}catch(b){Te(l,l.return,b)}if(l===o){X=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,X=y;break e}X=l.return}}if(fe=s,sr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ml,e)}catch{}r=!0}return r}finally{ge=n,St.transition=t}}return!1}function Xh(e,t,n){t=Is(n,t),t=Sx(e,t,1),e=Xn(e,t,1),t=et(),e!==null&&(po(e,1,t),ct(e,t))}function Te(e,t,n){if(e.tag===3)Xh(e,e,n);else for(;t!==null;){if(t.tag===3){Xh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=Is(n,e),e=Ex(t,e,1),t=Xn(t,e,1),e=et(),t!==null&&(po(t,1,e),ct(t,e));break}}t=t.return}}function sN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ve&n)===n&&(Ae===4||Ae===3&&(Ve&130023424)===Ve&&500>Me()-Gd?Sr(e,0):Yd|=n),ct(e,t)}function Qx(e,t){t===0&&(e.mode&1?(t=zo,zo<<=1,!(zo&130023424)&&(zo=4194304)):t=1);var n=et();e=vn(e,t),e!==null&&(po(e,t,n),ct(e,n))}function iN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qx(e,n)}function oN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Qx(e,n)}var Xx;Xx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,Qb(e,t,n);ot=!!(e.flags&131072)}else ot=!1,Ne&&t.flags&1048576&&Zg(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ga(e,t),e=t.pendingProps;var s=Ts(t,Ke.current);fs(t,n),s=Ud(null,t,r,e,s,n);var i=Wd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(i=!0,za(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fd(t),s.updater=bl,t.stateNode=s,s._reactInternals=t,xc(t,r,e,n),t=wc(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&Pd(t),Je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=lN(r),e=Mt(r,e),s){case 0:t=vc(null,t,r,e,n);break e;case 1:t=zh(null,t,r,e,n);break e;case 11:t=Oh(null,t,r,e,n);break e;case 14:t=Lh(null,t,r,Mt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),vc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),zh(e,t,r,s,n);case 3:e:{if(Rx(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,s=i.element,sx(e,t),Ba(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Is(Error(B(423)),t),t=Fh(e,t,r,n,s);break e}else if(r!==s){s=Is(Error(B(424)),t),t=Fh(e,t,r,n,s);break e}else for(pt=Qn(t.stateNode.containerInfo.firstChild),gt=t,Ne=!0,At=null,n=nx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ms(),r===s){t=wn(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return ix(t),e===null&&mc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,uc(r,s)?o=null:i!==null&&uc(r,i)&&(t.flags|=32),Mx(e,t),Je(e,t,o,n),t.child;case 6:return e===null&&mc(t),null;case 13:return Px(e,t,n);case 4:return $d(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rs(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Oh(e,t,r,s,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(Ha,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!lt.current){t=wn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=gn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),pc(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fs(t,n),s=Et(s),r=r(s),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),Lh(e,t,r,s,n);case 15:return Cx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),ga(e,t),t.tag=1,ut(r)?(e=!0,za(t)):e=!1,fs(t,n),kx(t,r,s),xc(t,r,s,n),wc(null,t,r,!0,e,n);case 19:return Ix(e,t,n);case 22:return Tx(e,t,n)}throw Error(B(156,t.tag))};function Kx(e,t){return Ng(e,t)}function aN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new aN(e,t,n,r)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lN(e){if(typeof e=="function")return tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wd)return 11;if(e===bd)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function va(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")tf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kr:return Er(n.children,s,i,t);case vd:o=8,s|=8;break;case Hu:return e=kt(12,n,t,s|2),e.elementType=Hu,e.lanes=i,e;case Vu:return e=kt(13,n,t,s),e.elementType=Vu,e.lanes=i,e;case Bu:return e=kt(19,n,t,s),e.elementType=Bu,e.lanes=i,e;case ig:return _l(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rg:o=10;break e;case sg:o=9;break e;case wd:o=11;break e;case bd:o=14;break e;case Tn:o=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Er(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function _l(e,t,n,r){return e=kt(22,e,r,t),e.elementType=ig,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function _u(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nf(e,t,n,r,s,i,o,l,u){return e=new uN(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fd(i),e}function cN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yx(e){if(!e)return tr;e=e._reactInternals;e:{if(Br(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(ut(n))return Yg(e,n,t)}return t}function Gx(e,t,n,r,s,i,o,l,u){return e=nf(n,r,!0,e,s,i,o,l,u),e.context=Yx(null),n=e.current,r=et(),s=Yn(n),i=gn(r,s),i.callback=t??null,Xn(n,i,s),e.current.lanes=s,po(e,s,r),ct(e,r),e}function kl(e,t,n,r){var s=t.current,i=et(),o=Yn(s);return n=Yx(n),t.context===null?t.context=n:t.pendingContext=n,t=gn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(s,t,o),e!==null&&(Ht(e,s,o,i),ha(e,s,o)),o}function Ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rf(e,t){Kh(e,t),(e=e.alternate)&&Kh(e,t)}function dN(){return null}var Zx=typeof reportError=="function"?reportError:function(e){console.error(e)};function sf(e){this._internalRoot=e}Sl.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));kl(e,t,null,null)};Sl.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){kl(null,e,null,null)}),t[yn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&Rg(e)}};function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yh(){}function fN(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ga(o);i.call(c)}}var o=Gx(t,r,e,0,null,!1,!1,"",Yh);return e._reactRootContainer=o,e[yn]=o.current,Hi(e.nodeType===8?e.parentNode:e),Ar(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Ga(u);l.call(c)}}var u=nf(e,0,!1,null,null,!1,!1,"",Yh);return e._reactRootContainer=u,e[yn]=u.current,Hi(e.nodeType===8?e.parentNode:e),Ar(function(){kl(t,u,n,r)}),u}function Cl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Ga(o);l.call(u)}}kl(t,o,e,s)}else o=fN(n,t,e,s,r);return Ga(o)}Eg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xi(t.pendingLanes);n!==0&&(_d(t,n|1),ct(t,Me()),!(fe&6)&&(Ds=Me()+500,sr()))}break;case 13:Ar(function(){var r=vn(e,1);if(r!==null){var s=et();Ht(r,e,1,s)}}),rf(e,1)}};kd=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=et();Ht(t,e,134217728,n)}rf(e,134217728)}};Cg=function(e){if(e.tag===13){var t=Yn(e),n=vn(e,t);if(n!==null){var r=et();Ht(n,e,t,r)}rf(e,t)}};Tg=function(){return ge};Mg=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Ju=function(e,t,n){switch(t){case"input":if(qu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=yl(r);if(!s)throw Error(B(90));ag(r),qu(r,s)}}}break;case"textarea":ug(e,n);break;case"select":t=n.value,t!=null&&ls(e,!!n.multiple,t,!1)}};gg=Zd;xg=Ar;var hN={usingClientEntryPoint:!1,Events:[xo,Jr,yl,mg,pg,Zd]},di={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mN={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wg(e),e===null?null:e.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||dN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{ml=Ko.inject(mN),en=Ko}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hN;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(t))throw Error(B(200));return cN(e,t,null,n)};vt.createRoot=function(e,t){if(!of(e))throw Error(B(299));var n=!1,r="",s=Zx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nf(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,Hi(e.nodeType===8?e.parentNode:e),new sf(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=wg(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Ar(e)};vt.hydrate=function(e,t,n){if(!El(t))throw Error(B(200));return Cl(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!of(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Zx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Gx(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,Hi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sl(t)};vt.render=function(e,t,n){if(!El(t))throw Error(B(200));return Cl(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!El(e))throw Error(B(40));return e._reactRootContainer?(Ar(function(){Cl(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};vt.unstable_batchedUpdates=Zd;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!El(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Cl(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function Jx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jx)}catch(e){console.error(e)}}Jx(),Jp.exports=vt;var ey=Jp.exports,Gh=ey;Fu.createRoot=Gh.createRoot,Fu.hydrateRoot=Gh.hydrateRoot;var vo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pN={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Dn,dd,Rp,gN=(Rp=class{constructor(){ee(this,Dn,pN);ee(this,dd,!1)}setTimeoutProvider(e){Q(this,Dn,e)}setTimeout(e,t){return D(this,Dn).setTimeout(e,t)}clearTimeout(e){D(this,Dn).clearTimeout(e)}setInterval(e,t){return D(this,Dn).setInterval(e,t)}clearInterval(e){D(this,Dn).clearInterval(e)}},Dn=new WeakMap,dd=new WeakMap,Rp),mr=new gN;function xN(e){setTimeout(e,0)}var Or=typeof window>"u"||"Deno"in globalThis;function st(){}function yN(e,t){return typeof e=="function"?e(t):e}function Pc(e){return typeof e=="number"&&e>=0&&e!==1/0}function ty(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zn(e,t){return typeof e=="function"?e(t):e}function Nt(e,t){return typeof e=="function"?e(t):e}function Zh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==af(o,t.options))return!1}else if(!Gi(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Jh(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Yi(t.options.mutationKey)!==Yi(i))return!1}else if(!Gi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function af(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yi)(e)}function Yi(e){return JSON.stringify(e,(t,n)=>Dc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Gi(e[n],t[n])):!1}var vN=Object.prototype.hasOwnProperty;function ny(e,t){if(e===t)return e;const n=em(e)&&em(t);if(!n&&!(Dc(e)&&Dc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c],f=e[d],h=t[d];if(f===h){l[d]=f,(n?c<s:vN.call(e,d))&&u++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const w=ny(f,h);l[d]=w,w===f&&u++}return s===o&&u===s?e:l}function Ic(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function em(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Dc(e){if(!tm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!tm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function tm(e){return Object.prototype.toString.call(e)==="[object Object]"}function wN(e){return new Promise(t=>{mr.setTimeout(t,e)})}function Ac(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?ny(e,t):t}function bN(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function NN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var lf=Symbol();function ry(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jN(e,t){return typeof e=="function"?e(...t):!!e}var xr,An,gs,Pp,_N=(Pp=class extends vo{constructor(){super();ee(this,xr);ee(this,An);ee(this,gs);Q(this,gs,t=>{if(!Or&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,An)||this.setEventListener(D(this,gs))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,An))==null||t.call(this),Q(this,An,void 0))}setEventListener(t){var n;Q(this,gs,t),(n=D(this,An))==null||n.call(this),Q(this,An,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){D(this,xr)!==t&&(Q(this,xr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,xr)=="boolean"?D(this,xr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xr=new WeakMap,An=new WeakMap,gs=new WeakMap,Pp),uf=new _N;function Oc(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var kN=xN;function SN(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=kN;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var He=SN(),xs,On,ys,Ip,EN=(Ip=class extends vo{constructor(){super();ee(this,xs,!0);ee(this,On);ee(this,ys);Q(this,ys,t=>{if(!Or&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,On)||this.setEventListener(D(this,ys))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,On))==null||t.call(this),Q(this,On,void 0))}setEventListener(t){var n;Q(this,ys,t),(n=D(this,On))==null||n.call(this),Q(this,On,t(this.setOnline.bind(this)))}setOnline(t){D(this,xs)!==t&&(Q(this,xs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return D(this,xs)}},xs=new WeakMap,On=new WeakMap,ys=new WeakMap,Ip),Za=new EN;function CN(e){return Math.min(1e3*2**e,3e4)}function sy(e){return(e??"online")==="online"?Za.isOnline():!0}var Lc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function iy(e){let t=!1,n=0,r;const s=Oc(),i=()=>s.status!=="pending",o=N=>{var k;if(!i()){const p=new Lc(N);h(p),(k=e.onCancel)==null||k.call(e,p)}},l=()=>{t=!0},u=()=>{t=!1},c=()=>uf.isFocused()&&(e.networkMode==="always"||Za.isOnline())&&e.canRun(),d=()=>sy(e.networkMode)&&e.canRun(),f=N=>{i()||(r==null||r(),s.resolve(N))},h=N=>{i()||(r==null||r(),s.reject(N))},w=()=>new Promise(N=>{var k;r=p=>{(i()||c())&&N(p)},(k=e.onPause)==null||k.call(e)}).then(()=>{var N;r=void 0,i()||(N=e.onContinue)==null||N.call(e)}),x=()=>{if(i())return;let N;const k=n===0?e.initialPromise:void 0;try{N=k??e.fn()}catch(p){N=Promise.reject(p)}Promise.resolve(N).then(f).catch(p=>{var j;if(i())return;const m=e.retry??(Or?0:3),g=e.retryDelay??CN,y=typeof g=="function"?g(n,p):g,b=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,p);if(t||!b){h(p);return}n++,(j=e.onFail)==null||j.call(e,n,p),wN(y).then(()=>c()?void 0:w()).then(()=>{t?h(p):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?x():w().then(x),s)}}var yr,Dp,oy=(Dp=class{constructor(){ee(this,yr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pc(this.gcTime)&&Q(this,yr,mr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Or?1/0:5*60*1e3))}clearGcTimeout(){D(this,yr)&&(mr.clearTimeout(D(this,yr)),Q(this,yr,void 0))}},yr=new WeakMap,Dp),vr,vs,bt,wr,Oe,lo,br,Rt,ln,Ap,TN=(Ap=class extends oy{constructor(t){super();ee(this,Rt);ee(this,vr);ee(this,vs);ee(this,bt);ee(this,wr);ee(this,Oe);ee(this,lo);ee(this,br);Q(this,br,!1),Q(this,lo,t.defaultOptions),this.setOptions(t.options),this.observers=[],Q(this,wr,t.client),Q(this,bt,D(this,wr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Q(this,vr,rm(this.options)),this.state=t.state??D(this,vr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Oe))==null?void 0:t.promise}setOptions(t){if(this.options={...D(this,lo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=rm(this.options);n.data!==void 0&&(this.setState(nm(n.data,n.dataUpdatedAt)),Q(this,vr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,bt).remove(this)}setData(t,n){const r=Ac(this.state.data,t,this.options);return le(this,Rt,ln).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){le(this,Rt,ln).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=D(this,Oe))==null?void 0:r.promise;return(s=D(this,Oe))==null||s.cancel(t),n?n.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,vr))}isActive(){return this.observers.some(t=>Nt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ty(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Oe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Oe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(D(this,Oe)&&(D(this,br)?D(this,Oe).cancel({revert:!0}):D(this,Oe).cancelRetry()),this.scheduleGc()),D(this,bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Rt,ln).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,d,f,h,w,x,N,k,p,m,g;if(this.state.fetchStatus!=="idle"&&((u=D(this,Oe))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Oe))return D(this,Oe).continueRetry(),D(this,Oe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(b=>b.options.queryFn);y&&this.setOptions(y.options)}const r=new AbortController,s=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Q(this,br,!0),r.signal)})},i=()=>{const y=ry(this.options,n),j=(()=>{const v={client:D(this,wr),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return Q(this,br,!1),this.options.persister?this.options.persister(y,j,this):y(j)},l=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:D(this,wr),state:this.state,fetchFn:i};return s(y),y})();(c=this.options.behavior)==null||c.onFetch(l,this),Q(this,vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&le(this,Rt,ln).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Q(this,Oe,iy({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:y=>{y instanceof Lc&&y.revert&&this.setState({...D(this,vs),fetchStatus:"idle"}),r.abort()},onFail:(y,b)=>{le(this,Rt,ln).call(this,{type:"failed",failureCount:y,error:b})},onPause:()=>{le(this,Rt,ln).call(this,{type:"pause"})},onContinue:()=>{le(this,Rt,ln).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const y=await D(this,Oe).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(w=(h=D(this,bt).config).onSuccess)==null||w.call(h,y,this),(N=(x=D(this,bt).config).onSettled)==null||N.call(x,y,this.state.error,this),y}catch(y){if(y instanceof Lc){if(y.silent)return D(this,Oe).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw le(this,Rt,ln).call(this,{type:"error",error:y}),(p=(k=D(this,bt).config).onError)==null||p.call(k,y,this),(g=(m=D(this,bt).config).onSettled)==null||g.call(m,this.state.data,y,this),y}finally{this.scheduleGc()}}},vr=new WeakMap,vs=new WeakMap,bt=new WeakMap,wr=new WeakMap,Oe=new WeakMap,lo=new WeakMap,br=new WeakMap,Rt=new WeakSet,ln=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ay(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...nm(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Q(this,vs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),He.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),D(this,bt).notify({query:this,type:"updated",action:t})})},Ap);function ay(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nm(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function rm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rt,ue,uo,Ge,Nr,ws,dn,Ln,co,bs,Ns,jr,_r,zn,js,pe,vi,zc,Fc,$c,Hc,Vc,Bc,Uc,ly,Op,MN=(Op=class extends vo{constructor(t,n){super();ee(this,pe);ee(this,rt);ee(this,ue);ee(this,uo);ee(this,Ge);ee(this,Nr);ee(this,ws);ee(this,dn);ee(this,Ln);ee(this,co);ee(this,bs);ee(this,Ns);ee(this,jr);ee(this,_r);ee(this,zn);ee(this,js,new Set);this.options=n,Q(this,rt,t),Q(this,Ln,null),Q(this,dn,Oc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,ue).addObserver(this),sm(D(this,ue),this.options)?le(this,pe,vi).call(this):this.updateResult(),le(this,pe,Hc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wc(D(this,ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wc(D(this,ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,pe,Vc).call(this),le(this,pe,Bc).call(this),D(this,ue).removeObserver(this)}setOptions(t){const n=this.options,r=D(this,ue);if(this.options=D(this,rt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nt(this.options.enabled,D(this,ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,pe,Uc).call(this),D(this,ue).setOptions(this.options),n._defaulted&&!Ic(this.options,n)&&D(this,rt).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,ue),observer:this});const s=this.hasListeners();s&&im(D(this,ue),r,this.options,n)&&le(this,pe,vi).call(this),this.updateResult(),s&&(D(this,ue)!==r||Nt(this.options.enabled,D(this,ue))!==Nt(n.enabled,D(this,ue))||Zn(this.options.staleTime,D(this,ue))!==Zn(n.staleTime,D(this,ue)))&&le(this,pe,zc).call(this);const i=le(this,pe,Fc).call(this);s&&(D(this,ue)!==r||Nt(this.options.enabled,D(this,ue))!==Nt(n.enabled,D(this,ue))||i!==D(this,zn))&&le(this,pe,$c).call(this,i)}getOptimisticResult(t){const n=D(this,rt).getQueryCache().build(D(this,rt),t),r=this.createResult(n,t);return PN(this,r)&&(Q(this,Ge,r),Q(this,ws,this.options),Q(this,Nr,D(this,ue).state)),r}getCurrentResult(){return D(this,Ge)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&D(this,dn).status==="pending"&&D(this,dn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){D(this,js).add(t)}getCurrentQuery(){return D(this,ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=D(this,rt).defaultQueryOptions(t),r=D(this,rt).getQueryCache().build(D(this,rt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return le(this,pe,vi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Ge)))}createResult(t,n){var E;const r=D(this,ue),s=this.options,i=D(this,Ge),o=D(this,Nr),l=D(this,ws),c=t!==r?t.state:D(this,uo),{state:d}=t;let f={...d},h=!1,w;if(n._optimisticResults){const M=this.hasListeners(),I=!M&&sm(t,n),T=M&&im(t,r,n,s);(I||T)&&(f={...f,...ay(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:N,status:k}=f;w=f.data;let p=!1;if(n.placeholderData!==void 0&&w===void 0&&k==="pending"){let M;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(M=i.data,p=!0):M=typeof n.placeholderData=="function"?n.placeholderData((E=D(this,Ns))==null?void 0:E.state.data,D(this,Ns)):n.placeholderData,M!==void 0&&(k="success",w=Ac(i==null?void 0:i.data,M,n),h=!0)}if(n.select&&w!==void 0&&!p)if(i&&w===(o==null?void 0:o.data)&&n.select===D(this,co))w=D(this,bs);else try{Q(this,co,n.select),w=n.select(w),w=Ac(i==null?void 0:i.data,w,n),Q(this,bs,w),Q(this,Ln,null)}catch(M){Q(this,Ln,M)}D(this,Ln)&&(x=D(this,Ln),w=D(this,bs),N=Date.now(),k="error");const m=f.fetchStatus==="fetching",g=k==="pending",y=k==="error",b=g&&m,j=w!==void 0,_={status:k,fetchStatus:f.fetchStatus,isPending:g,isSuccess:k==="success",isError:y,isInitialLoading:b,isLoading:b,data:w,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:N,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:y&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&j,isStale:cf(t,n),refetch:this.refetch,promise:D(this,dn),isEnabled:Nt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=O=>{_.status==="error"?O.reject(_.error):_.data!==void 0&&O.resolve(_.data)},I=()=>{const O=Q(this,dn,_.promise=Oc());M(O)},T=D(this,dn);switch(T.status){case"pending":t.queryHash===r.queryHash&&M(T);break;case"fulfilled":(_.status==="error"||_.data!==T.value)&&I();break;case"rejected":(_.status!=="error"||_.error!==T.reason)&&I();break}}return _}updateResult(){const t=D(this,Ge),n=this.createResult(D(this,ue),this.options);if(Q(this,Nr,D(this,ue).state),Q(this,ws,this.options),D(this,Nr).data!==void 0&&Q(this,Ns,D(this,ue)),Ic(n,t))return;Q(this,Ge,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!D(this,js).size)return!0;const o=new Set(i??D(this,js));return this.options.throwOnError&&o.add("error"),Object.keys(D(this,Ge)).some(l=>{const u=l;return D(this,Ge)[u]!==t[u]&&o.has(u)})};le(this,pe,ly).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,pe,Hc).call(this)}},rt=new WeakMap,ue=new WeakMap,uo=new WeakMap,Ge=new WeakMap,Nr=new WeakMap,ws=new WeakMap,dn=new WeakMap,Ln=new WeakMap,co=new WeakMap,bs=new WeakMap,Ns=new WeakMap,jr=new WeakMap,_r=new WeakMap,zn=new WeakMap,js=new WeakMap,pe=new WeakSet,vi=function(t){le(this,pe,Uc).call(this);let n=D(this,ue).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(st)),n},zc=function(){le(this,pe,Vc).call(this);const t=Zn(this.options.staleTime,D(this,ue));if(Or||D(this,Ge).isStale||!Pc(t))return;const r=ty(D(this,Ge).dataUpdatedAt,t)+1;Q(this,jr,mr.setTimeout(()=>{D(this,Ge).isStale||this.updateResult()},r))},Fc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,ue)):this.options.refetchInterval)??!1},$c=function(t){le(this,pe,Bc).call(this),Q(this,zn,t),!(Or||Nt(this.options.enabled,D(this,ue))===!1||!Pc(D(this,zn))||D(this,zn)===0)&&Q(this,_r,mr.setInterval(()=>{(this.options.refetchIntervalInBackground||uf.isFocused())&&le(this,pe,vi).call(this)},D(this,zn)))},Hc=function(){le(this,pe,zc).call(this),le(this,pe,$c).call(this,le(this,pe,Fc).call(this))},Vc=function(){D(this,jr)&&(mr.clearTimeout(D(this,jr)),Q(this,jr,void 0))},Bc=function(){D(this,_r)&&(mr.clearInterval(D(this,_r)),Q(this,_r,void 0))},Uc=function(){const t=D(this,rt).getQueryCache().build(D(this,rt),this.options);if(t===D(this,ue))return;const n=D(this,ue);Q(this,ue,t),Q(this,uo,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},ly=function(t){He.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(D(this,Ge))}),D(this,rt).getQueryCache().notify({query:D(this,ue),type:"observerResultsUpdated"})})},Op);function RN(e,t){return Nt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sm(e,t){return RN(e,t)||e.state.data!==void 0&&Wc(e,t,t.refetchOnMount)}function Wc(e,t,n){if(Nt(t.enabled,e)!==!1&&Zn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&cf(e,t)}return!1}function im(e,t,n,r){return(e!==t||Nt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&cf(e,n)}function cf(e,t){return Nt(t.enabled,e)!==!1&&e.isStaleByTime(Zn(t.staleTime,e))}function PN(e,t){return!Ic(e.getCurrentResult(),t)}function om(e){return{onFetch:(t,n)=>{var d,f,h,w,x;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let N=!1;const k=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},p=ry(t.options,t.fetchOptions),m=async(g,y,b)=>{if(N)return Promise.reject();if(y==null&&g.pages.length)return Promise.resolve(g);const v=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:y,direction:b?"backward":"forward",meta:t.options.meta};return k(I),I})(),_=await p(v),{maxPages:E}=t.options,M=b?NN:bN;return{pages:M(g.pages,_,E),pageParams:M(g.pageParams,y,E)}};if(s&&i.length){const g=s==="backward",y=g?IN:am,b={pages:i,pageParams:o},j=y(r,b);l=await m(b,j,g)}else{const g=e??i.length;do{const y=u===0?o[0]??r.initialPageParam:am(r,l);if(u>0&&y==null)break;l=await m(l,y),u++}while(u<g)}return l};t.options.persister?t.fetchFn=()=>{var N,k;return(k=(N=t.options).persister)==null?void 0:k.call(N,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function am(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var fo,Kt,Ze,kr,Yt,Cn,Lp,DN=(Lp=class extends oy{constructor(t){super();ee(this,Yt);ee(this,fo);ee(this,Kt);ee(this,Ze);ee(this,kr);Q(this,fo,t.client),this.mutationId=t.mutationId,Q(this,Ze,t.mutationCache),Q(this,Kt,[]),this.state=t.state||AN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Kt).includes(t)||(D(this,Kt).push(t),this.clearGcTimeout(),D(this,Ze).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Q(this,Kt,D(this,Kt).filter(n=>n!==t)),this.scheduleGc(),D(this,Ze).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Kt).length||(this.state.status==="pending"?this.scheduleGc():D(this,Ze).remove(this))}continue(){var t;return((t=D(this,kr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,c,d,f,h,w,x,N,k,p,m,g,y,b,j,v,_,E;const n=()=>{le(this,Yt,Cn).call(this,{type:"continue"})},r={client:D(this,fo),meta:this.options.meta,mutationKey:this.options.mutationKey};Q(this,kr,iy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(M,I)=>{le(this,Yt,Cn).call(this,{type:"failed",failureCount:M,error:I})},onPause:()=>{le(this,Yt,Cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,Ze).canRun(this)}));const s=this.state.status==="pending",i=!D(this,kr).canStart();try{if(s)n();else{le(this,Yt,Cn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=D(this,Ze).config).onMutate)==null?void 0:l.call(o,t,this,r));const I=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));I!==this.state.context&&le(this,Yt,Cn).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const M=await D(this,kr).start();return await((f=(d=D(this,Ze).config).onSuccess)==null?void 0:f.call(d,M,t,this.state.context,this,r)),await((w=(h=this.options).onSuccess)==null?void 0:w.call(h,M,t,this.state.context,r)),await((N=(x=D(this,Ze).config).onSettled)==null?void 0:N.call(x,M,null,this.state.variables,this.state.context,this,r)),await((p=(k=this.options).onSettled)==null?void 0:p.call(k,M,null,t,this.state.context,r)),le(this,Yt,Cn).call(this,{type:"success",data:M}),M}catch(M){try{throw await((g=(m=D(this,Ze).config).onError)==null?void 0:g.call(m,M,t,this.state.context,this,r)),await((b=(y=this.options).onError)==null?void 0:b.call(y,M,t,this.state.context,r)),await((v=(j=D(this,Ze).config).onSettled)==null?void 0:v.call(j,void 0,M,this.state.variables,this.state.context,this,r)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,M,t,this.state.context,r)),M}finally{le(this,Yt,Cn).call(this,{type:"error",error:M})}}finally{D(this,Ze).runNext(this)}}},fo=new WeakMap,Kt=new WeakMap,Ze=new WeakMap,kr=new WeakMap,Yt=new WeakSet,Cn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),He.batch(()=>{D(this,Kt).forEach(r=>{r.onMutationUpdate(t)}),D(this,Ze).notify({mutation:this,type:"updated",action:t})})},Lp);function AN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fn,Pt,ho,zp,ON=(zp=class extends vo{constructor(t={}){super();ee(this,fn);ee(this,Pt);ee(this,ho);this.config=t,Q(this,fn,new Set),Q(this,Pt,new Map),Q(this,ho,0)}build(t,n,r){const s=new DN({client:t,mutationCache:this,mutationId:++Po(this,ho)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){D(this,fn).add(t);const n=Yo(t);if(typeof n=="string"){const r=D(this,Pt).get(n);r?r.push(t):D(this,Pt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,fn).delete(t)){const n=Yo(t);if(typeof n=="string"){const r=D(this,Pt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&D(this,Pt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Yo(t);if(typeof n=="string"){const r=D(this,Pt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Yo(t);if(typeof n=="string"){const s=(r=D(this,Pt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){He.batch(()=>{D(this,fn).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,fn).clear(),D(this,Pt).clear()})}getAll(){return Array.from(D(this,fn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Jh(n,r))}findAll(t={}){return this.getAll().filter(n=>Jh(t,n))}notify(t){He.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return He.batch(()=>Promise.all(t.map(n=>n.continue().catch(st))))}},fn=new WeakMap,Pt=new WeakMap,ho=new WeakMap,zp);function Yo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Gt,Fp,LN=(Fp=class extends vo{constructor(t={}){super();ee(this,Gt);this.config=t,Q(this,Gt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??af(s,n);let o=this.get(i);return o||(o=new TN({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){D(this,Gt).has(t.queryHash)||(D(this,Gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,Gt).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,Gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){He.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,Gt).get(t)}getAll(){return[...D(this,Gt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zh(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Zh(t,r)):n}notify(t){He.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){He.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){He.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gt=new WeakMap,Fp),Ce,Fn,$n,_s,ks,Hn,Ss,Es,$p,zN=($p=class{constructor(e={}){ee(this,Ce);ee(this,Fn);ee(this,$n);ee(this,_s);ee(this,ks);ee(this,Hn);ee(this,Ss);ee(this,Es);Q(this,Ce,e.queryCache||new LN),Q(this,Fn,e.mutationCache||new ON),Q(this,$n,e.defaultOptions||{}),Q(this,_s,new Map),Q(this,ks,new Map),Q(this,Hn,0)}mount(){Po(this,Hn)._++,D(this,Hn)===1&&(Q(this,Ss,uf.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Ce).onFocus())})),Q(this,Es,Za.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Ce).onOnline())})))}unmount(){var e,t;Po(this,Hn)._--,D(this,Hn)===0&&((e=D(this,Ss))==null||e.call(this),Q(this,Ss,void 0),(t=D(this,Es))==null||t.call(this),Q(this,Es,void 0))}isFetching(e){return D(this,Ce).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,Fn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,Ce).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=D(this,Ce).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return D(this,Ce).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=D(this,Ce).get(r.queryHash),i=s==null?void 0:s.state.data,o=yN(t,i);if(o!==void 0)return D(this,Ce).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return He.batch(()=>D(this,Ce).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,Ce).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=D(this,Ce);He.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=D(this,Ce);return He.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=He.batch(()=>D(this,Ce).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(st).catch(st)}invalidateQueries(e,t={}){return He.batch(()=>(D(this,Ce).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=He.batch(()=>D(this,Ce).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(st)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(st)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=D(this,Ce).build(this,t);return n.isStaleByTime(Zn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(st).catch(st)}fetchInfiniteQuery(e){return e.behavior=om(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(st).catch(st)}ensureInfiniteQueryData(e){return e.behavior=om(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Za.isOnline()?D(this,Fn).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Ce)}getMutationCache(){return D(this,Fn)}getDefaultOptions(){return D(this,$n)}setDefaultOptions(e){Q(this,$n,e)}setQueryDefaults(e,t){D(this,_s).set(Yi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,_s).values()],n={};return t.forEach(r=>{Gi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){D(this,ks).set(Yi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,ks).values()],n={};return t.forEach(r=>{Gi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,$n).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=af(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,$n).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,Ce).clear(),D(this,Fn).clear()}},Ce=new WeakMap,Fn=new WeakMap,$n=new WeakMap,_s=new WeakMap,ks=new WeakMap,Hn=new WeakMap,Ss=new WeakMap,Es=new WeakMap,$p),uy=R.createContext(void 0),FN=e=>{const t=R.useContext(uy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$N=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(uy.Provider,{value:e,children:t})),cy=R.createContext(!1),HN=()=>R.useContext(cy);cy.Provider;function VN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BN=R.createContext(VN()),UN=()=>R.useContext(BN),WN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qN=e=>{R.useEffect(()=>{e.clearReset()},[e])},QN=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||jN(n,[e.error,r])),XN=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},KN=(e,t)=>e.isLoading&&e.isFetching&&!t,YN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lm=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function GN(e,t,n){var f,h,w,x,N;const r=HN(),s=UN(),i=FN(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",XN(o),WN(o,s),qN(s);const l=!i.getQueryCache().get(o.queryHash),[u]=R.useState(()=>new t(i,o)),c=u.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(k=>{const p=d?u.subscribe(He.batchCalls(k)):st;return u.updateResult(),p},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),R.useEffect(()=>{u.setOptions(o)},[o,u]),YN(o,c))throw lm(o,u,s);if(QN({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((x=(w=i.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||x.call(w,o,c),o.experimental_prefetchInRender&&!Or&&KN(c,r)){const k=l?lm(o,u,s):(N=i.getQueryCache().get(o.queryHash))==null?void 0:N.promise;k==null||k.catch(st).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function ZN(e,t){return GN(e,MN)}const cr=class cr{constructor(){Gl(this,"nodes",new Map)}static getInstance(){return cr.instance||(cr.instance=new cr),cr.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(n=>{t[n.category]||(t[n.category]=[]),t[n.category].push(n)}),t}};Gl(cr,"instance");let qc=cr;const xe=qc.getInstance(),JN={},um=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const w=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,w))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(JN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,u);return u},dy=e=>e?um(e):um;var fy={exports:{}},hy={},my={exports:{}},py={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var As=R;function e2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t2=typeof Object.is=="function"?Object.is:e2,n2=As.useState,r2=As.useEffect,s2=As.useLayoutEffect,i2=As.useDebugValue;function o2(e,t){var n=t(),r=n2({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return s2(function(){s.value=n,s.getSnapshot=t,ku(s)&&i({inst:s})},[e,n,t]),r2(function(){return ku(s)&&i({inst:s}),e(function(){ku(s)&&i({inst:s})})},[e]),i2(n),n}function ku(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!t2(e,n)}catch{return!0}}function a2(e,t){return t()}var l2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a2:o2;py.useSyncExternalStore=As.useSyncExternalStore!==void 0?As.useSyncExternalStore:l2;my.exports=py;var u2=my.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=R,c2=u2;function d2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var f2=typeof Object.is=="function"?Object.is:d2,h2=c2.useSyncExternalStore,m2=Tl.useRef,p2=Tl.useEffect,g2=Tl.useMemo,x2=Tl.useDebugValue;hy.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=m2(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=g2(function(){function u(w){if(!c){if(c=!0,d=w,w=r(w),s!==void 0&&o.hasValue){var x=o.value;if(s(x,w))return f=x}return f=w}if(x=f,f2(d,w))return x;var N=r(w);return s!==void 0&&s(x,N)?(d=w,x):(d=w,f=N)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,n,r,s]);var l=h2(e,i[0],i[1]);return p2(function(){o.hasValue=!0,o.value=l},[l]),x2(l),l};fy.exports=hy;var y2=fy.exports;const gy=Hp(y2),xy={},{useDebugValue:v2}=Lt,{useSyncExternalStoreWithSelector:w2}=gy;let cm=!1;const b2=e=>e;function N2(e,t=b2,n){(xy?"production":void 0)!=="production"&&n&&!cm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cm=!0);const r=w2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return v2(r),r}const dm=e=>{(xy?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?dy(e):e,n=(r,s)=>N2(t,r,s);return Object.assign(n,t),n},j2=e=>e?dm(e):dm;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var _2={value:()=>{}};function Ml(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wa(n)}function wa(e){this._=e}function k2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wa.prototype=Ml.prototype={constructor:wa,on:function(e,t){var n=this._,r=k2(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=S2(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=fm(n[s],e.name,t);else if(t==null)for(s in n)n[s]=fm(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wa(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function S2(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function fm(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=_2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Qc="http://www.w3.org/1999/xhtml";const hm={svg:"http://www.w3.org/2000/svg",xhtml:Qc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),hm.hasOwnProperty(t)?{space:hm[t],local:e}:e}function E2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qc&&t.documentElement.namespaceURI===Qc?t.createElement(e):t.createElementNS(n,e)}}function C2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yy(e){var t=Rl(e);return(t.local?C2:E2)(t)}function T2(){}function df(e){return e==null?T2:function(){return this.querySelector(e)}}function M2(e){typeof e!="function"&&(e=df(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=new Array(o),u,c,d=0;d<o;++d)(u=i[d])&&(c=e.call(u,u.__data__,d,i))&&("__data__"in u&&(c.__data__=u.__data__),l[d]=c);return new yt(r,this._parents)}function R2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function P2(){return[]}function vy(e){return e==null?P2:function(){return this.querySelectorAll(e)}}function I2(e){return function(){return R2(e.apply(this,arguments))}}function D2(e){typeof e=="function"?e=I2(e):e=vy(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(e.call(u,u.__data__,c,o)),s.push(u));return new yt(r,s)}function wy(e){return function(){return this.matches(e)}}function by(e){return function(t){return t.matches(e)}}var A2=Array.prototype.find;function O2(e){return function(){return A2.call(this.children,e)}}function L2(){return this.firstElementChild}function z2(e){return this.select(e==null?L2:O2(typeof e=="function"?e:by(e)))}var F2=Array.prototype.filter;function $2(){return Array.from(this.children)}function H2(e){return function(){return F2.call(this.children,e)}}function V2(e){return this.selectAll(e==null?$2:H2(typeof e=="function"?e:by(e)))}function B2(e){typeof e!="function"&&(e=wy(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&l.push(u);return new yt(r,this._parents)}function Ny(e){return new Array(e.length)}function U2(){return new yt(this._enter||this._groups.map(Ny),this._parents)}function Ja(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ja.prototype={constructor:Ja,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function W2(e){return function(){return e}}function q2(e,t,n,r,s,i){for(var o=0,l,u=t.length,c=i.length;o<c;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Ja(e,i[o]);for(;o<u;++o)(l=t[o])&&(s[o]=l)}function Q2(e,t,n,r,s,i,o){var l,u,c=new Map,d=t.length,f=i.length,h=new Array(d),w;for(l=0;l<d;++l)(u=t[l])&&(h[l]=w=o.call(u,u.__data__,l,t)+"",c.has(w)?s[l]=u:c.set(w,u));for(l=0;l<f;++l)w=o.call(e,i[l],l,i)+"",(u=c.get(w))?(r[l]=u,u.__data__=i[l],c.delete(w)):n[l]=new Ja(e,i[l]);for(l=0;l<d;++l)(u=t[l])&&c.get(h[l])===u&&(s[l]=u)}function X2(e){return e.__data__}function K2(e,t){if(!arguments.length)return Array.from(this,X2);var n=t?Q2:q2,r=this._parents,s=this._groups;typeof e!="function"&&(e=W2(e));for(var i=s.length,o=new Array(i),l=new Array(i),u=new Array(i),c=0;c<i;++c){var d=r[c],f=s[c],h=f.length,w=Y2(e.call(d,d&&d.__data__,c,r)),x=w.length,N=l[c]=new Array(x),k=o[c]=new Array(x),p=u[c]=new Array(h);n(d,f,N,k,p,w,t);for(var m=0,g=0,y,b;m<x;++m)if(y=N[m]){for(m>=g&&(g=m+1);!(b=k[g])&&++g<x;);y._next=b||null}}return o=new yt(o,r),o._enter=l,o._exit=u,o}function Y2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function G2(){return new yt(this._exit||this._groups.map(Ny),this._parents)}function Z2(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function J2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),u=0;u<o;++u)for(var c=n[u],d=r[u],f=c.length,h=l[u]=new Array(f),w,x=0;x<f;++x)(w=c[x]||d[x])&&(h[x]=w);for(;u<s;++u)l[u]=n[u];return new yt(l,this._parents)}function ej(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function tj(e){e||(e=nj);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,u=s[i]=new Array(l),c,d=0;d<l;++d)(c=o[d])&&(u[d]=c);u.sort(t)}return new yt(s,this._parents).order()}function nj(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rj(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sj(){return Array.from(this)}function ij(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function oj(){let e=0;for(const t of this)++e;return e}function aj(){return!this.node()}function lj(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function uj(e){return function(){this.removeAttribute(e)}}function cj(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dj(e,t){return function(){this.setAttribute(e,t)}}function fj(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function hj(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function mj(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pj(e,t){var n=Rl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?cj:uj:typeof t=="function"?n.local?mj:hj:n.local?fj:dj)(n,t))}function jy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gj(e){return function(){this.style.removeProperty(e)}}function xj(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yj(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function vj(e,t,n){return arguments.length>1?this.each((t==null?gj:typeof t=="function"?yj:xj)(e,t,n??"")):Os(this.node(),e)}function Os(e,t){return e.style.getPropertyValue(t)||jy(e).getComputedStyle(e,null).getPropertyValue(t)}function wj(e){return function(){delete this[e]}}function bj(e,t){return function(){this[e]=t}}function Nj(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jj(e,t){return arguments.length>1?this.each((t==null?wj:typeof t=="function"?Nj:bj)(e,t)):this.node()[e]}function _y(e){return e.trim().split(/^|\s+/)}function ff(e){return e.classList||new ky(e)}function ky(e){this._node=e,this._names=_y(e.getAttribute("class")||"")}ky.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Sy(e,t){for(var n=ff(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Ey(e,t){for(var n=ff(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function _j(e){return function(){Sy(this,e)}}function kj(e){return function(){Ey(this,e)}}function Sj(e,t){return function(){(t.apply(this,arguments)?Sy:Ey)(this,e)}}function Ej(e,t){var n=_y(e+"");if(arguments.length<2){for(var r=ff(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Sj:t?_j:kj)(n,t))}function Cj(){this.textContent=""}function Tj(e){return function(){this.textContent=e}}function Mj(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rj(e){return arguments.length?this.each(e==null?Cj:(typeof e=="function"?Mj:Tj)(e)):this.node().textContent}function Pj(){this.innerHTML=""}function Ij(e){return function(){this.innerHTML=e}}function Dj(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Aj(e){return arguments.length?this.each(e==null?Pj:(typeof e=="function"?Dj:Ij)(e)):this.node().innerHTML}function Oj(){this.nextSibling&&this.parentNode.appendChild(this)}function Lj(){return this.each(Oj)}function zj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fj(){return this.each(zj)}function $j(e){var t=typeof e=="function"?e:yy(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Hj(){return null}function Vj(e,t){var n=typeof e=="function"?e:yy(e),r=t==null?Hj:typeof t=="function"?t:df(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Bj(){var e=this.parentNode;e&&e.removeChild(this)}function Uj(){return this.each(Bj)}function Wj(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qj(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qj(e){return this.select(e?qj:Wj)}function Xj(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Kj(e){return function(t){e.call(this,t,this.__data__)}}function Yj(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Gj(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function Zj(e,t,n){return function(){var r=this.__on,s,i=Kj(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function Jj(e,t,n){var r=Yj(e+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,d;u<c;++u)for(s=0,d=l[u];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?Zj:Gj,s=0;s<i;++s)this.each(l(r[s],t,n));return this}function Cy(e,t,n){var r=jy(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function e_(e,t){return function(){return Cy(this,e,t)}}function t_(e,t){return function(){return Cy(this,e,t.apply(this,arguments))}}function n_(e,t){return this.each((typeof t=="function"?t_:e_)(e,t))}function*r_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Ty=[null];function yt(e,t){this._groups=e,this._parents=t}function wo(){return new yt([[document.documentElement]],Ty)}function s_(){return this}yt.prototype=wo.prototype={constructor:yt,select:M2,selectAll:D2,selectChild:z2,selectChildren:V2,filter:B2,data:K2,enter:U2,exit:G2,join:Z2,merge:J2,selection:s_,order:ej,sort:tj,call:rj,nodes:sj,node:ij,size:oj,empty:aj,each:lj,attr:pj,style:vj,property:jj,classed:Ej,text:Rj,html:Aj,raise:Lj,lower:Fj,append:$j,insert:Vj,remove:Uj,clone:Qj,datum:Xj,on:Jj,dispatch:n_,[Symbol.iterator]:r_};function mt(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],Ty)}function i_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Dt(e,t){if(e=i_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const o_={passive:!1},Zi={capture:!0,passive:!1};function Su(e){e.stopImmediatePropagation()}function ms(e){e.preventDefault(),e.stopImmediatePropagation()}function My(e){var t=e.document.documentElement,n=mt(e).on("dragstart.drag",ms,Zi);"onselectstart"in t?n.on("selectstart.drag",ms,Zi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ry(e,t){var n=e.document.documentElement,r=mt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ms,Zi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Go=e=>()=>e;function Xc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:l,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Xc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function a_(e){return!e.ctrlKey&&!e.button}function l_(){return this.parentNode}function u_(e,t){return t??{x:e.x,y:e.y}}function c_(){return navigator.maxTouchPoints||"ontouchstart"in this}function Py(){var e=a_,t=l_,n=u_,r=c_,s={},i=Ml("start","drag","end"),o=0,l,u,c,d,f=0;function h(y){y.on("mousedown.drag",w).filter(r).on("touchstart.drag",k).on("touchmove.drag",p,o_).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(y,b){if(!(d||!e.call(this,y,b))){var j=g(this,t.call(this,y,b),y,b,"mouse");j&&(mt(y.view).on("mousemove.drag",x,Zi).on("mouseup.drag",N,Zi),My(y.view),Su(y),c=!1,l=y.clientX,u=y.clientY,j("start",y))}}function x(y){if(ms(y),!c){var b=y.clientX-l,j=y.clientY-u;c=b*b+j*j>f}s.mouse("drag",y)}function N(y){mt(y.view).on("mousemove.drag mouseup.drag",null),Ry(y.view,c),ms(y),s.mouse("end",y)}function k(y,b){if(e.call(this,y,b)){var j=y.changedTouches,v=t.call(this,y,b),_=j.length,E,M;for(E=0;E<_;++E)(M=g(this,v,y,b,j[E].identifier,j[E]))&&(Su(y),M("start",y,j[E]))}}function p(y){var b=y.changedTouches,j=b.length,v,_;for(v=0;v<j;++v)(_=s[b[v].identifier])&&(ms(y),_("drag",y,b[v]))}function m(y){var b=y.changedTouches,j=b.length,v,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),v=0;v<j;++v)(_=s[b[v].identifier])&&(Su(y),_("end",y,b[v]))}function g(y,b,j,v,_,E){var M=i.copy(),I=Dt(E||j,b),T,O,S;if((S=n.call(y,new Xc("beforestart",{sourceEvent:j,target:h,identifier:_,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:M}),v))!=null)return T=S.x-I[0]||0,O=S.y-I[1]||0,function z(A,L,C){var P=I,F;switch(A){case"start":s[_]=z,F=o++;break;case"end":delete s[_],--o;case"drag":I=Dt(C||L,b),F=o;break}M.call(A,y,new Xc(A,{sourceEvent:L,subject:S,target:h,identifier:_,active:F,x:I[0]+T,y:I[1]+O,dx:I[0]-P[0],dy:I[1]-P[1],dispatch:M}),v)}}return h.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Go(!!y),h):e},h.container=function(y){return arguments.length?(t=typeof y=="function"?y:Go(y),h):t},h.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Go(y),h):n},h.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Go(!!y),h):r},h.on=function(){var y=i.on.apply(i,arguments);return y===i?h:y},h.clickDistance=function(y){return arguments.length?(f=(y=+y)*y,h):Math.sqrt(f)},h}function hf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Iy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bo(){}var Ji=.7,el=1/Ji,ps="\\s*([+-]?\\d+)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d_=/^#([0-9a-f]{3,8})$/,f_=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),h_=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),m_=new RegExp(`^rgba\\(${ps},${ps},${ps},${eo}\\)$`),p_=new RegExp(`^rgba\\(${nn},${nn},${nn},${eo}\\)$`),g_=new RegExp(`^hsl\\(${eo},${nn},${nn}\\)$`),x_=new RegExp(`^hsla\\(${eo},${nn},${nn},${eo}\\)$`),mm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hf(bo,Lr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pm,formatHex:pm,formatHex8:y_,formatHsl:v_,formatRgb:gm,toString:gm});function pm(){return this.rgb().formatHex()}function y_(){return this.rgb().formatHex8()}function v_(){return Dy(this).formatHsl()}function gm(){return this.rgb().formatRgb()}function Lr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xm(t):n===3?new at(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f_.exec(e))?new at(t[1],t[2],t[3],1):(t=h_.exec(e))?new at(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=m_.exec(e))?Zo(t[1],t[2],t[3],t[4]):(t=p_.exec(e))?Zo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g_.exec(e))?wm(t[1],t[2]/100,t[3]/100,1):(t=x_.exec(e))?wm(t[1],t[2]/100,t[3]/100,t[4]):mm.hasOwnProperty(e)?xm(mm[e]):e==="transparent"?new at(NaN,NaN,NaN,0):null}function xm(e){return new at(e>>16&255,e>>8&255,e&255,1)}function Zo(e,t,n,r){return r<=0&&(e=t=n=NaN),new at(e,t,n,r)}function w_(e){return e instanceof bo||(e=Lr(e)),e?(e=e.rgb(),new at(e.r,e.g,e.b,e.opacity)):new at}function Kc(e,t,n,r){return arguments.length===1?w_(e):new at(e,t,n,r??1)}function at(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hf(at,Kc,Iy(bo,{brighter(e){return e=e==null?el:Math.pow(el,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ji:Math.pow(Ji,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new at(Cr(this.r),Cr(this.g),Cr(this.b),tl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ym,formatHex:ym,formatHex8:b_,formatRgb:vm,toString:vm}));function ym(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}`}function b_(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}${pr((isNaN(this.opacity)?1:this.opacity)*255)}`}function vm(){const e=tl(this.opacity);return`${e===1?"rgb(":"rgba("}${Cr(this.r)}, ${Cr(this.g)}, ${Cr(this.b)}${e===1?")":`, ${e})`}`}function tl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Cr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pr(e){return e=Cr(e),(e<16?"0":"")+e.toString(16)}function wm(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ot(e,t,n,r)}function Dy(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof bo||(e=Lr(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new Ot(o,l,u,e.opacity)}function N_(e,t,n,r){return arguments.length===1?Dy(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hf(Ot,N_,Iy(bo,{brighter(e){return e=e==null?el:Math.pow(el,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ji:Math.pow(Ji,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new at(Eu(e>=240?e-240:e+120,s,r),Eu(e,s,r),Eu(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Ot(bm(this.h),Jo(this.s),Jo(this.l),tl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tl(this.opacity);return`${e===1?"hsl(":"hsla("}${bm(this.h)}, ${Jo(this.s)*100}%, ${Jo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bm(e){return e=(e||0)%360,e<0?e+360:e}function Jo(e){return Math.max(0,Math.min(1,e||0))}function Eu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mf=e=>()=>e;function j_(e,t){return function(n){return e+n*t}}function __(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function k_(e){return(e=+e)==1?Ay:function(t,n){return n-t?__(t,n,e):mf(isNaN(t)?n:t)}}function Ay(e,t){var n=t-e;return n?j_(e,n):mf(isNaN(e)?t:e)}const nl=function e(t){var n=k_(t);function r(s,i){var o=n((s=Kc(s)).r,(i=Kc(i)).r),l=n(s.g,i.g),u=n(s.b,i.b),c=Ay(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=u(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function S_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function E_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ri(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function T_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Zt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function M_(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ri(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Yc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cu=new RegExp(Yc.source,"g");function R_(e){return function(){return e}}function P_(e){return function(t){return e(t)+""}}function Oy(e,t){var n=Yc.lastIndex=Cu.lastIndex=0,r,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Yc.exec(e))&&(s=Cu.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:Zt(r,s)})),n=Cu.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?P_(u[0].x):R_(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}function Ri(e,t){var n=typeof t,r;return t==null||n==="boolean"?mf(t):(n==="number"?Zt:n==="string"?(r=Lr(t))?(t=r,nl):Oy:t instanceof Lr?nl:t instanceof Date?T_:E_(t)?S_:Array.isArray(t)?C_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?M_:Zt)(e,t)}var Nm=180/Math.PI,Gc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ly(e,t,n,r,s,i){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*Nm,skewX:Math.atan(u)*Nm,scaleX:o,scaleY:l}}var ea;function I_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Gc:Ly(t.a,t.b,t.c,t.d,t.e,t.f)}function D_(e){return e==null||(ea||(ea=document.createElementNS("http://www.w3.org/2000/svg","g")),ea.setAttribute("transform",e),!(e=ea.transform.baseVal.consolidate()))?Gc:(e=e.matrix,Ly(e.a,e.b,e.c,e.d,e.e,e.f))}function zy(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,f,h,w,x){if(c!==f||d!==h){var N=w.push("translate(",null,t,null,n);x.push({i:N-4,x:Zt(c,f)},{i:N-2,x:Zt(d,h)})}else(f||h)&&w.push("translate("+f+t+h+n)}function o(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Zt(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function l(c,d,f,h){c!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Zt(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function u(c,d,f,h,w,x){if(c!==f||d!==h){var N=w.push(s(w)+"scale(",null,",",null,")");x.push({i:N-4,x:Zt(c,f)},{i:N-2,x:Zt(d,h)})}else(f!==1||h!==1)&&w.push(s(w)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,h),o(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(w){for(var x=-1,N=h.length,k;++x<N;)f[(k=h[x]).i]=k.x(w);return f.join("")}}}var A_=zy(I_,"px, ","px)","deg)"),O_=zy(D_,", ",")",")"),L_=1e-12;function jm(e){return((e=Math.exp(e))+1/e)/2}function z_(e){return((e=Math.exp(e))-1/e)/2}function F_(e){return((e=Math.exp(2*e))-1)/(e+1)}const ba=function e(t,n,r){function s(i,o){var l=i[0],u=i[1],c=i[2],d=o[0],f=o[1],h=o[2],w=d-l,x=f-u,N=w*w+x*x,k,p;if(N<L_)p=Math.log(h/c)/t,k=function(v){return[l+v*w,u+v*x,c*Math.exp(t*v*p)]};else{var m=Math.sqrt(N),g=(h*h-c*c+r*N)/(2*c*n*m),y=(h*h-c*c-r*N)/(2*h*n*m),b=Math.log(Math.sqrt(g*g+1)-g),j=Math.log(Math.sqrt(y*y+1)-y);p=(j-b)/t,k=function(v){var _=v*p,E=jm(b),M=c/(n*m)*(E*F_(t*_+b)-z_(b));return[l+M*w,u+M*x,c*E/jm(t*_+b)]}}return k.duration=p*1e3*t/Math.SQRT2,k}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,u=l*l;return e(o,l,u)},s}(Math.SQRT2,2,4);var Ls=0,wi=0,fi=0,Fy=1e3,rl,bi,sl=0,zr=0,Pl=0,to=typeof performance=="object"&&performance.now?performance:Date,$y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function pf(){return zr||($y($_),zr=to.now()+Pl)}function $_(){zr=0}function il(){this._call=this._time=this._next=null}il.prototype=Hy.prototype={constructor:il,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?pf():+n)+(t==null?0:+t),!this._next&&bi!==this&&(bi?bi._next=this:rl=this,bi=this),this._call=e,this._time=n,Zc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zc())}};function Hy(e,t,n){var r=new il;return r.restart(e,t,n),r}function H_(){pf(),++Ls;for(var e=rl,t;e;)(t=zr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ls}function _m(){zr=(sl=to.now())+Pl,Ls=wi=0;try{H_()}finally{Ls=0,B_(),zr=0}}function V_(){var e=to.now(),t=e-sl;t>Fy&&(Pl-=t,sl=e)}function B_(){for(var e,t=rl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rl=n);bi=e,Zc(r)}function Zc(e){if(!Ls){wi&&(wi=clearTimeout(wi));var t=e-zr;t>24?(e<1/0&&(wi=setTimeout(_m,e-to.now()-Pl)),fi&&(fi=clearInterval(fi))):(fi||(sl=to.now(),fi=setInterval(V_,Fy)),Ls=1,$y(_m))}}function km(e,t,n){var r=new il;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var U_=Ml("start","end","cancel","interrupt"),W_=[],Vy=0,Sm=1,Jc=2,Na=3,Em=4,ed=5,ja=6;function Il(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;q_(e,n,{name:t,index:r,group:s,on:U_,tween:W_,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Vy})}function gf(e,t){var n=Bt(e,t);if(n.state>Vy)throw new Error("too late; already scheduled");return n}function sn(e,t){var n=Bt(e,t);if(n.state>Na)throw new Error("too late; already running");return n}function Bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function q_(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Hy(i,0,n.time);function i(c){n.state=Sm,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,h,w;if(n.state!==Sm)return u();for(d in r)if(w=r[d],w.name===n.name){if(w.state===Na)return km(o);w.state===Em?(w.state=ja,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete r[d]):+d<t&&(w.state=ja,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete r[d])}if(km(function(){n.state===Na&&(n.state=Em,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Jc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Jc){for(n.state=Na,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(w=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=w);s.length=f+1}}function l(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=ed,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===ed&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ja,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function _a(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Jc&&r.state<ed,r.state=ja,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function Q_(e){return this.each(function(){_a(this,e)})}function X_(e,t){var n,r;return function(){var s=sn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function K_(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=sn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},u=0,c=s.length;u<c;++u)if(s[u].name===t){s[u]=l;break}u===c&&s.push(l)}i.tween=s}}function Y_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Bt(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?X_:K_)(n,e,t))}function xf(e,t,n){var r=e._id;return e.each(function(){var s=sn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Bt(s,r).value[t]}}function By(e,t){var n;return(typeof t=="number"?Zt:t instanceof Lr?nl:(n=Lr(t))?(t=n,nl):Oy)(e,t)}function G_(e){return function(){this.removeAttribute(e)}}function Z_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function J_(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function ek(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function tk(e,t,n){var r,s,i;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l)))}}function nk(e,t,n){var r,s,i;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l)))}}function rk(e,t){var n=Rl(e),r=n==="transform"?O_:By;return this.attrTween(e,typeof t=="function"?(n.local?nk:tk)(n,r,xf(this,"attr."+e,t)):t==null?(n.local?Z_:G_)(n):(n.local?ek:J_)(n,r,t))}function sk(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ik(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ok(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ik(e,i)),n}return s._value=t,s}function ak(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&sk(e,i)),n}return s._value=t,s}function lk(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rl(e);return this.tween(n,(r.local?ok:ak)(r,t))}function uk(e,t){return function(){gf(this,e).delay=+t.apply(this,arguments)}}function ck(e,t){return t=+t,function(){gf(this,e).delay=t}}function dk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uk:ck)(t,e)):Bt(this.node(),t).delay}function fk(e,t){return function(){sn(this,e).duration=+t.apply(this,arguments)}}function hk(e,t){return t=+t,function(){sn(this,e).duration=t}}function mk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fk:hk)(t,e)):Bt(this.node(),t).duration}function pk(e,t){if(typeof t!="function")throw new Error;return function(){sn(this,e).ease=t}}function gk(e){var t=this._id;return arguments.length?this.each(pk(t,e)):Bt(this.node(),t).ease}function xk(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sn(this,e).ease=n}}function yk(e){if(typeof e!="function")throw new Error;return this.each(xk(this._id,e))}function vk(e){typeof e!="function"&&(e=wy(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&l.push(u);return new bn(r,this._parents,this._name,this._id)}function wk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var u=t[l],c=n[l],d=u.length,f=o[l]=new Array(d),h,w=0;w<d;++w)(h=u[w]||c[w])&&(f[w]=h);for(;l<r;++l)o[l]=t[l];return new bn(o,this._parents,this._name,this._id)}function bk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Nk(e,t,n){var r,s,i=bk(t)?gf:sn;return function(){var o=i(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function jk(e,t){var n=this._id;return arguments.length<2?Bt(this.node(),n).on.on(e):this.each(Nk(n,e,t))}function _k(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function kk(){return this.on("end.remove",_k(this._id))}function Sk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=df(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],u=l.length,c=i[o]=new Array(u),d,f,h=0;h<u;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Il(c[h],t,n,h,c,Bt(d,n)));return new bn(i,this._parents,t,n)}function Ek(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vy(e));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var u=r[l],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=e.call(d,d.__data__,f,u),w,x=Bt(d,n),N=0,k=h.length;N<k;++N)(w=h[N])&&Il(w,t,n,N,h,x);i.push(h),o.push(d)}return new bn(i,o,t,n)}var Ck=wo.prototype.constructor;function Tk(){return new Ck(this._groups,this._parents)}function Mk(e,t){var n,r,s;return function(){var i=Os(this,e),o=(this.style.removeProperty(e),Os(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Uy(e){return function(){this.style.removeProperty(e)}}function Rk(e,t,n){var r,s=n+"",i;return function(){var o=Os(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function Pk(e,t,n){var r,s,i;return function(){var o=Os(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Os(this,e))),o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l))}}function Ik(e,t){var n,r,s,i="style."+t,o="end."+i,l;return function(){var u=sn(this,e),c=u.on,d=u.value[i]==null?l||(l=Uy(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),u.on=r}}function Dk(e,t,n){var r=(e+="")=="transform"?A_:By;return t==null?this.styleTween(e,Mk(e,r)).on("end.style."+e,Uy(e)):typeof t=="function"?this.styleTween(e,Pk(e,r,xf(this,"style."+e,t))).each(Ik(this._id,e)):this.styleTween(e,Rk(e,r,t),n).on("end.style."+e,null)}function Ak(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ok(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Ak(e,o,n)),r}return i._value=t,i}function Lk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ok(e,t,n??""))}function zk(e){return function(){this.textContent=e}}function Fk(e){return function(){var t=e(this);this.textContent=t??""}}function $k(e){return this.tween("text",typeof e=="function"?Fk(xf(this,"text",e)):zk(e==null?"":e+""))}function Hk(e){return function(t){this.textContent=e.call(this,t)}}function Vk(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Hk(s)),t}return r._value=e,r}function Bk(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Vk(e))}function Uk(){for(var e=this._name,t=this._id,n=Wy(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var d=Bt(u,t);Il(u,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new bn(r,this._parents,e,n)}function Wk(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},u={value:function(){--s===0&&i()}};n.each(function(){var c=sn(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),s===0&&i()})}var qk=0;function bn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Wy(){return++qk}var an=wo.prototype;bn.prototype={constructor:bn,select:Sk,selectAll:Ek,selectChild:an.selectChild,selectChildren:an.selectChildren,filter:vk,merge:wk,selection:Tk,transition:Uk,call:an.call,nodes:an.nodes,node:an.node,size:an.size,empty:an.empty,each:an.each,on:jk,attr:rk,attrTween:lk,style:Dk,styleTween:Lk,text:$k,textTween:Bk,remove:kk,tween:Y_,delay:dk,duration:mk,ease:gk,easeVarying:yk,end:Wk,[Symbol.iterator]:an[Symbol.iterator]};function Qk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Xk={time:null,delay:0,duration:250,ease:Qk};function Kk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Yk(e){var t,n;e instanceof bn?(t=e._id,e=e._name):(t=Wy(),(n=Xk).time=pf(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,u,c=0;c<l;++c)(u=o[c])&&Il(u,e,t,c,o,n||Kk(u,t));return new bn(r,this._parents,e,t)}wo.prototype.interrupt=Q_;wo.prototype.transition=Yk;const ta=e=>()=>e;function Gk(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dl=new pn(1,0,0);qy.prototype=pn.prototype;function qy(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Dl;return e.__zoom}function Tu(e){e.stopImmediatePropagation()}function hi(e){e.preventDefault(),e.stopImmediatePropagation()}function Zk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Jk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Cm(){return this.__zoom||Dl}function eS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tS(){return navigator.maxTouchPoints||"ontouchstart"in this}function nS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Qy(){var e=Zk,t=Jk,n=nS,r=eS,s=tS,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=ba,c=Ml("start","zoom","end"),d,f,h,w=500,x=150,N=0,k=10;function p(S){S.property("__zoom",Cm).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(S,z,A,L){var C=S.selection?S.selection():S;C.property("__zoom",Cm),S!==C?b(S,z,A,L):C.interrupt().each(function(){j(this,arguments).event(L).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},p.scaleBy=function(S,z,A,L){p.scaleTo(S,function(){var C=this.__zoom.k,P=typeof z=="function"?z.apply(this,arguments):z;return C*P},A,L)},p.scaleTo=function(S,z,A,L){p.transform(S,function(){var C=t.apply(this,arguments),P=this.__zoom,F=A==null?y(C):typeof A=="function"?A.apply(this,arguments):A,H=P.invert(F),V=typeof z=="function"?z.apply(this,arguments):z;return n(g(m(P,V),F,H),C,o)},A,L)},p.translateBy=function(S,z,A,L){p.transform(S,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),o)},null,L)},p.translateTo=function(S,z,A,L,C){p.transform(S,function(){var P=t.apply(this,arguments),F=this.__zoom,H=L==null?y(P):typeof L=="function"?L.apply(this,arguments):L;return n(Dl.translate(H[0],H[1]).scale(F.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof A=="function"?-A.apply(this,arguments):-A),P,o)},L,C)};function m(S,z){return z=Math.max(i[0],Math.min(i[1],z)),z===S.k?S:new pn(z,S.x,S.y)}function g(S,z,A){var L=z[0]-A[0]*S.k,C=z[1]-A[1]*S.k;return L===S.x&&C===S.y?S:new pn(S.k,L,C)}function y(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function b(S,z,A,L){S.on("start.zoom",function(){j(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(L).end()}).tween("zoom",function(){var C=this,P=arguments,F=j(C,P).event(L),H=t.apply(C,P),V=A==null?y(H):typeof A=="function"?A.apply(C,P):A,q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),U=C.__zoom,K=typeof z=="function"?z.apply(C,P):z,Y=u(U.invert(V).concat(q/U.k),K.invert(V).concat(q/K.k));return function(Z){if(Z===1)Z=K;else{var W=Y(Z),J=q/W[2];Z=new pn(J,V[0]-W[0]*J,V[1]-W[1]*J)}F.zoom(null,Z)}})}function j(S,z,A){return!A&&S.__zooming||new v(S,z)}function v(S,z){this.that=S,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,z),this.taps=0}v.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,z){return this.mouse&&S!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var z=mt(this.that).datum();c.call(S,this.that,new Gk(S,{sourceEvent:this.sourceEvent,target:p,transform:this.that.__zoom,dispatch:c}),z)}};function _(S,...z){if(!e.apply(this,arguments))return;var A=j(this,z).event(S),L=this.__zoom,C=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),P=Dt(S);if(A.wheel)(A.mouse[0][0]!==P[0]||A.mouse[0][1]!==P[1])&&(A.mouse[1]=L.invert(A.mouse[0]=P)),clearTimeout(A.wheel);else{if(L.k===C)return;A.mouse=[P,L.invert(P)],_a(this),A.start()}hi(S),A.wheel=setTimeout(F,x),A.zoom("mouse",n(g(m(L,C),A.mouse[0],A.mouse[1]),A.extent,o));function F(){A.wheel=null,A.end()}}function E(S,...z){if(h||!e.apply(this,arguments))return;var A=S.currentTarget,L=j(this,z,!0).event(S),C=mt(S.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",q,!0),P=Dt(S,A),F=S.clientX,H=S.clientY;My(S.view),Tu(S),L.mouse=[P,this.__zoom.invert(P)],_a(this),L.start();function V(U){if(hi(U),!L.moved){var K=U.clientX-F,Y=U.clientY-H;L.moved=K*K+Y*Y>N}L.event(U).zoom("mouse",n(g(L.that.__zoom,L.mouse[0]=Dt(U,A),L.mouse[1]),L.extent,o))}function q(U){C.on("mousemove.zoom mouseup.zoom",null),Ry(U.view,L.moved),hi(U),L.event(U).end()}}function M(S,...z){if(e.apply(this,arguments)){var A=this.__zoom,L=Dt(S.changedTouches?S.changedTouches[0]:S,this),C=A.invert(L),P=A.k*(S.shiftKey?.5:2),F=n(g(m(A,P),L,C),t.apply(this,z),o);hi(S),l>0?mt(this).transition().duration(l).call(b,F,L,S):mt(this).call(p.transform,F,L,S)}}function I(S,...z){if(e.apply(this,arguments)){var A=S.touches,L=A.length,C=j(this,z,S.changedTouches.length===L).event(S),P,F,H,V;for(Tu(S),F=0;F<L;++F)H=A[F],V=Dt(H,this),V=[V,this.__zoom.invert(V),H.identifier],C.touch0?!C.touch1&&C.touch0[2]!==V[2]&&(C.touch1=V,C.taps=0):(C.touch0=V,P=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),P&&(C.taps<2&&(f=V[0],d=setTimeout(function(){d=null},w)),_a(this),C.start())}}function T(S,...z){if(this.__zooming){var A=j(this,z).event(S),L=S.changedTouches,C=L.length,P,F,H,V;for(hi(S),P=0;P<C;++P)F=L[P],H=Dt(F,this),A.touch0&&A.touch0[2]===F.identifier?A.touch0[0]=H:A.touch1&&A.touch1[2]===F.identifier&&(A.touch1[0]=H);if(F=A.that.__zoom,A.touch1){var q=A.touch0[0],U=A.touch0[1],K=A.touch1[0],Y=A.touch1[1],Z=(Z=K[0]-q[0])*Z+(Z=K[1]-q[1])*Z,W=(W=Y[0]-U[0])*W+(W=Y[1]-U[1])*W;F=m(F,Math.sqrt(Z/W)),H=[(q[0]+K[0])/2,(q[1]+K[1])/2],V=[(U[0]+Y[0])/2,(U[1]+Y[1])/2]}else if(A.touch0)H=A.touch0[0],V=A.touch0[1];else return;A.zoom("touch",n(g(F,H,V),A.extent,o))}}function O(S,...z){if(this.__zooming){var A=j(this,z).event(S),L=S.changedTouches,C=L.length,P,F;for(Tu(S),h&&clearTimeout(h),h=setTimeout(function(){h=null},w),P=0;P<C;++P)F=L[P],A.touch0&&A.touch0[2]===F.identifier?delete A.touch0:A.touch1&&A.touch1[2]===F.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(F=Dt(F,this),Math.hypot(f[0]-F[0],f[1]-F[1])<k)){var H=mt(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return p.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:ta(+S),p):r},p.filter=function(S){return arguments.length?(e=typeof S=="function"?S:ta(!!S),p):e},p.touchable=function(S){return arguments.length?(s=typeof S=="function"?S:ta(!!S),p):s},p.extent=function(S){return arguments.length?(t=typeof S=="function"?S:ta([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),p):t},p.scaleExtent=function(S){return arguments.length?(i[0]=+S[0],i[1]=+S[1],p):[i[0],i[1]]},p.translateExtent=function(S){return arguments.length?(o[0][0]=+S[0][0],o[1][0]=+S[1][0],o[0][1]=+S[0][1],o[1][1]=+S[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(S){return arguments.length?(n=S,p):n},p.duration=function(S){return arguments.length?(l=+S,p):l},p.interpolate=function(S){return arguments.length?(u=S,p):u},p.on=function(){var S=c.on.apply(c,arguments);return S===c?p:S},p.clickDistance=function(S){return arguments.length?(N=(S=+S)*S,p):Math.sqrt(N)},p.tapDistance=function(S){return arguments.length?(k=+S,p):k},p}const rn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},no=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Xy=["Enter"," ","Escape"],Ky={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var zs;(function(e){e.Strict="strict",e.Loose="loose"})(zs||(zs={}));var Tr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Tr||(Tr={}));var ro;(function(e){e.Partial="partial",e.Full="full"})(ro||(ro={}));const Yy={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var In;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(In||(In={}));var ol;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ol||(ol={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));const Tm={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top};function Gy(e){return e===null?null:e?"valid":"invalid"}const Zy=e=>"id"in e&&"source"in e&&"target"in e,rS=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),yf=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ks=(e,t,n)=>{if(!e.id)return[];const r=new Set;return n.forEach(s=>{s.target===e.id&&r.add(s.source)}),t.filter(s=>r.has(s.id))},No=(e,t=[0,0])=>{const{width:n,height:r}=jn(e),s=e.origin??t,i=n*s[0],o=r*s[1];return{x:e.position.x-i,y:e.position.y-o}},sS=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let o=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(s):yf(s)?s:t.nodeLookup.get(s.id));const l=o?al(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Al(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ol(n)},jo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Al(n,al(s)),r=!0)}),r?Ol(n):{x:0,y:0,width:0,height:0}},vf=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1)=>{const l={...ko(t,[n,r,s]),width:t.width/s,height:t.height/s},u=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=c;if(o&&!f||h)continue;const w=d.width??c.width??c.initialWidth??null,x=d.height??c.height??c.initialHeight??null,N=so(l,$s(c)),k=(w??0)*(x??0),p=i&&N>0;(!c.internals.handleBounds||p||N>=k||c.dragging)&&u.push(c)}return u},iS=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function oS(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function aS({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const l=oS(e,o),u=jo(l),c=wf(u,t,n,(o==null?void 0:o.minZoom)??s,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Jy({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const o=n.get(e),l=o.parentId?n.get(o.parentId):void 0,{x:u,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let f=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!l)i==null||i("005",rn.error005());else{const w=l.measured.width,x=l.measured.height;w&&x&&(f=[[u,c],[u+w,c+x]])}else l&&Hs(o.extent)&&(f=[[o.extent[0][0]+u,o.extent[0][1]+c],[o.extent[1][0]+u,o.extent[1][1]+c]]);const h=Hs(f)?Fr(t,f,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",rn.error015())),{position:{x:h.x-u+(o.measured.width??0)*d[0],y:h.y-c+(o.measured.height??0)*d[1]},positionAbsolute:h}}async function lS({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const w=i.has(h.id),x=!w&&h.parentId&&o.find(N=>N.id===h.parentId);(w||x)&&o.push(h)}const l=new Set(t.map(h=>h.id)),u=r.filter(h=>h.deletable!==!1),d=iS(o,u);for(const h of u)l.has(h.id)&&!d.find(x=>x.id===h.id)&&d.push(h);if(!s)return{edges:d,nodes:o};const f=await s({nodes:o,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:o}:{edges:[],nodes:[]}:f}const Fs=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Fr=(e={x:0,y:0},t,n)=>({x:Fs(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Fs(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function e0(e,t,n){const{width:r,height:s}=jn(n),{x:i,y:o}=n.internals.positionAbsolute;return Fr(e,[[i,o],[i+r,o+s]],t)}const Mm=(e,t,n)=>e<t?Fs(Math.abs(e-t),1,t)/t:e>n?-Fs(Math.abs(e-n),1,t)/t:0,t0=(e,t,n=15,r=40)=>{const s=Mm(e.x,r,t.width-r)*n,i=Mm(e.y,r,t.height-r)*n;return[s,i]},Al=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),td=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ol=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),$s=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=yf(e)?e.internals.positionAbsolute:No(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},al=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=yf(e)?e.internals.positionAbsolute:No(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},n0=(e,t)=>Ol(Al(td(e),td(t))),so=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Rm=e=>zt(e.width)&&zt(e.height)&&zt(e.x)&&zt(e.y),zt=e=>!isNaN(e)&&isFinite(e),uS=(e,t)=>{},_o=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ko=({x:e,y:t},[n,r,s],i=!1,o=[1,1])=>{const l={x:(e-n)/s,y:(t-r)/s};return i?_o(l,o):l},ll=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Qr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function cS(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Qr(e,n),s=Qr(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Qr(e.top??e.y??0,n),s=Qr(e.bottom??e.y??0,n),i=Qr(e.left??e.x??0,t),o=Qr(e.right??e.x??0,t);return{top:r,right:o,bottom:s,left:i,x:i+o,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function dS(e,t,n,r,s,i){const{x:o,y:l}=ll(e,[t,n,r]),{x:u,y:c}=ll({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-u,f=i-c;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const wf=(e,t,n,r,s,i)=>{const o=cS(i,t,n),l=(t-o.x)/e.width,u=(n-o.y)/e.height,c=Math.min(l,u),d=Fs(c,r,s),f=e.x+e.width/2,h=e.y+e.height/2,w=t/2-f*d,x=n/2-h*d,N=dS(e,w,x,d,t,n),k={left:Math.min(N.left-o.left,0),top:Math.min(N.top-o.top,0),right:Math.min(N.right-o.right,0),bottom:Math.min(N.bottom-o.bottom,0)};return{x:w-k.left+k.right,y:x-k.top+k.bottom,zoom:d}},io=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Hs(e){return e!=null&&e!=="parent"}function jn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function r0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function s0(e,t={width:0,height:0},n,r,s){const i={...e},o=r.get(n);if(o){const l=o.origin||s;i.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Pm(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function fS(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function hS(e){return{...Ky,...e||{}}}function Pi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:o}=Ft(e),l=ko({x:i-((s==null?void 0:s.left)??0),y:o-((s==null?void 0:s.top)??0)},r),{x:u,y:c}=n?_o(l,t):l;return{xSnapped:u,ySnapped:c,...l}}const bf=e=>({width:e.offsetWidth,height:e.offsetHeight}),i0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},mS=["INPUT","SELECT","TEXTAREA"];function o0(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:mS.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const a0=e=>"clientX"in e,Ft=(e,t)=>{var i,o;const n=a0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Im=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...bf(o)}})};function l0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const u=e*.125+s*.375+o*.375+n*.125,c=t*.125+i*.375+l*.375+r*.125,d=Math.abs(u-e),f=Math.abs(c-t);return[u,c,d,f]}function na(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Dm({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-na(t-r,i),n];case G.Right:return[t+na(r-t,i),n];case G.Top:return[t,n-na(n-s,i)];case G.Bottom:return[t,n+na(s-n,i)]}}function u0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[l,u]=Dm({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[c,d]=Dm({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,w,x]=l0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${l},${u} ${c},${d} ${r},${s}`,f,h,w,x]}function c0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,s,o]}function pS({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const o=s&&n?r+1e3:r,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return o+l}function gS({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Al(al(e),al(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return so(o,Ol(i))>0}const xS=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,yS=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),d0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||xS;let s;return Zy(e)?s={...e}:s={...e,id:r(e)},yS(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function f0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,l]=c0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,l]}const Am={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},vS=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Om=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function wS({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i,stepPosition:o}){const l=Am[t],u=Am[r],c={x:e.x+l.x*i,y:e.y+l.y*i},d={x:n.x+u.x*i,y:n.y+u.y*i},f=vS({source:c,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",w=f[h];let x=[],N,k;const p={x:0,y:0},m={x:0,y:0},[,,g,y]=c0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[h]*u[h]===-1){h==="x"?(N=s.x??c.x+(d.x-c.x)*o,k=s.y??(c.y+d.y)/2):(N=s.x??(c.x+d.x)/2,k=s.y??c.y+(d.y-c.y)*o);const j=[{x:N,y:c.y},{x:N,y:d.y}],v=[{x:c.x,y:k},{x:d.x,y:k}];l[h]===w?x=h==="x"?j:v:x=h==="x"?v:j}else{const j=[{x:c.x,y:d.y}],v=[{x:d.x,y:c.y}];if(h==="x"?x=l.x===w?v:j:x=l.y===w?j:v,t===r){const T=Math.abs(e[h]-n[h]);if(T<=i){const O=Math.min(i-1,i-T);l[h]===w?p[h]=(c[h]>e[h]?-1:1)*O:m[h]=(d[h]>n[h]?-1:1)*O}}if(t!==r){const T=h==="x"?"y":"x",O=l[h]===u[T],S=c[T]>d[T],z=c[T]<d[T];(l[h]===1&&(!O&&S||O&&z)||l[h]!==1&&(!O&&z||O&&S))&&(x=h==="x"?j:v)}const _={x:c.x+p.x,y:c.y+p.y},E={x:d.x+m.x,y:d.y+m.y},M=Math.max(Math.abs(_.x-x[0].x),Math.abs(E.x-x[0].x)),I=Math.max(Math.abs(_.y-x[0].y),Math.abs(E.y-x[0].y));M>=I?(N=(_.x+E.x)/2,k=x[0].y):(N=x[0].x,k=(_.y+E.y)/2)}return[[e,{x:c.x+p.x,y:c.y+p.y},...x,{x:d.x+m.x,y:d.y+m.y},n],N,k,g,y]}function bS(e,t,n,r){const s=Math.min(Om(e,t)/2,Om(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const l=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${o+s*u}Q ${i},${o} ${i+s*l},${o}`}function ul({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:l,centerY:u,offset:c=20,stepPosition:d=.5}){const[f,h,w,x,N]=wS({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:l,y:u},offset:c,stepPosition:d});return[f.reduce((p,m,g)=>{let y="";return g>0&&g<f.length-1?y=bS(f[g-1],m,f[g+1],o):y=`${g===0?"M":"L"}${m.x} ${m.y}`,p+=y,p},""),h,w,x,N]}function Lm(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function NS(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Lm(t)||!Lm(n))return null;const r=t.internals.handleBounds||zm(t.handles),s=n.internals.handleBounds||zm(n.handles),i=Fm((r==null?void 0:r.source)??[],e.sourceHandle),o=Fm(e.connectionMode===zs.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!o)return(f=e.onError)==null||f.call(e,"008",rn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||G.Bottom,u=(o==null?void 0:o.position)||G.Top,c=$r(t,i,l),d=$r(n,o,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:u}}function zm(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function $r(e,t,n=G.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??jn(e);if(r)return{x:s+o/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case G.Top:return{x:s+o/2,y:i};case G.Right:return{x:s+o,y:i+l/2};case G.Bottom:return{x:s+o/2,y:i+l};case G.Left:return{x:s,y:i+l/2}}}function Fm(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function nd(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function jS(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,l)=>([l.markerStart||r,l.markerEnd||s].forEach(u=>{if(u&&typeof u=="object"){const c=nd(u,t);i.has(c)||(o.push({id:c,color:u.color||n,...u}),i.add(c))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const h0=1e3,_S=10,Nf={nodeOrigin:[0,0],nodeExtent:no,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},kS={...Nf,checkEquality:!0};function jf(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function SS(e,t,n){const r=jf(Nf,n);for(const s of e.values())if(s.parentId)kf(s,e,t,r);else{const i=No(s,r.nodeOrigin),o=Hs(s.extent)?s.extent:r.nodeExtent,l=Fr(i,o,jn(s));s.internals.positionAbsolute=l}}function ES(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function _f(e){return e==="manual"}function rd(e,t,n,r={}){var c,d;const s=jf(kS,r),i={i:0},o=new Map(t),l=s!=null&&s.elevateNodesOnSelect&&!_f(s.zIndexMode)?h0:0;let u=e.length>0;t.clear(),n.clear();for(const f of e){let h=o.get(f.id);if(s.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const w=No(f,s.nodeOrigin),x=Hs(f.extent)?f.extent:s.nodeExtent,N=Fr(w,x,jn(f));h={...s.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:N,handleBounds:ES(f,h),z:m0(f,l,s.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(u=!1),f.parentId&&kf(h,t,n,r,i)}return u}function CS(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function kf(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:l,zIndexMode:u}=jf(Nf,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}CS(e,n),s&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++s.i,d.internals.z=d.internals.z+s.i*_S),s&&d.internals.rootParentIndex!==void 0&&(s.i=d.internals.rootParentIndex);const f=i&&!_f(u)?h0:0,{x:h,y:w,z:x}=TS(e,d,o,l,f,u),{positionAbsolute:N}=e.internals,k=h!==N.x||w!==N.y;(k||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:k?{x:h,y:w}:N,z:x}})}function m0(e,t,n){const r=zt(e.zIndex)?e.zIndex:0;return _f(n)?r:r+(e.selected?t:0)}function TS(e,t,n,r,s,i){const{x:o,y:l}=t.internals.positionAbsolute,u=jn(e),c=No(e,n),d=Hs(e.extent)?Fr(c,e.extent,u):c;let f=Fr({x:o+d.x,y:l+d.y},r,u);e.extent==="parent"&&(f=e0(f,u,t));const h=m0(e,s,i),w=t.internals.z??0;return{x:f.x,y:f.y,z:w>=h?w+1:h}}function Sf(e,t,n,r=[0,0]){var o;const s=[],i=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const c=((o=i.get(l.parentId))==null?void 0:o.expandedRect)??$s(u),d=n0(c,l.rect);i.set(l.parentId,{expandedRect:d,parent:u})}return i.size>0&&i.forEach(({expandedRect:l,parent:u},c)=>{var g;const d=u.internals.positionAbsolute,f=jn(u),h=u.origin??r,w=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,x=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,N=Math.max(f.width,Math.round(l.width)),k=Math.max(f.height,Math.round(l.height)),p=(N-f.width)*h[0],m=(k-f.height)*h[1];(w>0||x>0||p||m)&&(s.push({id:c,type:"position",position:{x:u.position.x-w+p,y:u.position.y-x+m}}),(g=n.get(c))==null||g.forEach(y=>{e.some(b=>b.id===y.id)||s.push({id:y.id,type:"position",position:{x:y.position.x+w,y:y.position.y+x}})})),(f.width<l.width||f.height<l.height||w||x)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:N+(w?h[0]*w-p:0),height:k+(x?h[1]*x-m:0)}})}),s}function MS(e,t,n,r,s,i,o){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!l)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const w of e.values()){const x=t.get(w.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),u=!0;continue}const N=bf(w.nodeElement),k=x.measured.width!==N.width||x.measured.height!==N.height;if(!!(N.width&&N.height&&(k||!x.internals.handleBounds||w.force))){const m=w.nodeElement.getBoundingClientRect(),g=Hs(x.extent)?x.extent:i;let{positionAbsolute:y}=x.internals;x.parentId&&x.extent==="parent"?y=e0(y,N,t.get(x.parentId)):g&&(y=Fr(y,g,N));const b={...x,measured:N,internals:{...x.internals,positionAbsolute:y,handleBounds:{source:Im("source",w.nodeElement,m,f,x.id),target:Im("target",w.nodeElement,m,f,x.id)}}};t.set(x.id,b),x.parentId&&kf(b,t,n,{nodeOrigin:s,zIndexMode:o}),u=!0,k&&(c.push({id:x.id,type:"dimensions",dimensions:N}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:$s(b,s)}))}}if(h.length>0){const w=Sf(h,t,n,s);c.push(...w)}return{changes:c,updatedInternals:u}}async function RS({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function $m(e,t,n,r,s,i){let o=s;const l=r.get(o)||new Map;r.set(o,l.set(n,t)),o=`${s}-${e}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,t)),i){o=`${s}-${e}-${i}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function p0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:o=null,targetHandle:l=null}=r,u={edgeId:r.id,source:s,target:i,sourceHandle:o,targetHandle:l},c=`${s}-${o}--${i}-${l}`,d=`${i}-${l}--${s}-${o}`;$m("source",u,d,e,s,o),$m("target",u,c,e,i,l),t.set(r.id,r)}}function g0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:g0(n,t):!1}function Hm(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function PS(e,t,n,r){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!g0(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(i);l&&s.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return s}function Mu({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,l,u;const s=[];for(const[c,d]of t){const f=(o=n.get(c))==null?void 0:o.internals.userNode;f&&s.push({...f,position:d.position,dragging:r})}if(!e)return[s[0],s];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:r}:s[0],s]}function IS({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},o=_o(i,t);return{x:o.x-i.x,y:o.y-i.y}}function DS({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},o=0,l=new Map,u=!1,c={x:0,y:0},d=null,f=!1,h=null,w=!1,x=!1,N=null;function k({noDragClassName:m,handleSelector:g,domNode:y,isSelectable:b,nodeId:j,nodeClickDistance:v=0}){h=mt(y);function _({x:T,y:O}){const{nodeLookup:S,nodeExtent:z,snapGrid:A,snapToGrid:L,nodeOrigin:C,onNodeDrag:P,onSelectionDrag:F,onError:H,updateNodePositions:V}=t();i={x:T,y:O};let q=!1;const U=l.size>1,K=U&&z?td(jo(l)):null,Y=U&&L?IS({dragItems:l,snapGrid:A,x:T,y:O}):null;for(const[Z,W]of l){if(!S.has(Z))continue;let J={x:T-W.distance.x,y:O-W.distance.y};L&&(J=Y?{x:Math.round(J.x+Y.x),y:Math.round(J.y+Y.y)}:_o(J,A));let oe=null;if(U&&z&&!W.extent&&K){const{positionAbsolute:te}=W.internals,me=te.x-K.x+z[0][0],ve=te.x+W.measured.width-K.x2+z[1][0],he=te.y-K.y+z[0][1],Ue=te.y+W.measured.height-K.y2+z[1][1];oe=[[me,he],[ve,Ue]]}const{position:se,positionAbsolute:ne}=Jy({nodeId:Z,nextPosition:J,nodeLookup:S,nodeExtent:oe||z,nodeOrigin:C,onError:H});q=q||W.position.x!==se.x||W.position.y!==se.y,W.position=se,W.internals.positionAbsolute=ne}if(x=x||q,!!q&&(V(l,!0),N&&(r||P||!j&&F))){const[Z,W]=Mu({nodeId:j,dragItems:l,nodeLookup:S});r==null||r(N,l,Z,W),P==null||P(N,Z,W),j||F==null||F(N,W)}}async function E(){if(!d)return;const{transform:T,panBy:O,autoPanSpeed:S,autoPanOnNodeDrag:z}=t();if(!z){u=!1,cancelAnimationFrame(o);return}const[A,L]=t0(c,d,S);(A!==0||L!==0)&&(i.x=(i.x??0)-A/T[2],i.y=(i.y??0)-L/T[2],await O({x:A,y:L})&&_(i)),o=requestAnimationFrame(E)}function M(T){var U;const{nodeLookup:O,multiSelectionActive:S,nodesDraggable:z,transform:A,snapGrid:L,snapToGrid:C,selectNodesOnDrag:P,onNodeDragStart:F,onSelectionDragStart:H,unselectNodesAndEdges:V}=t();f=!0,(!P||!b)&&!S&&j&&((U=O.get(j))!=null&&U.selected||V()),b&&P&&j&&(e==null||e(j));const q=Pi(T.sourceEvent,{transform:A,snapGrid:L,snapToGrid:C,containerBounds:d});if(i=q,l=PS(O,z,q,j),l.size>0&&(n||F||!j&&H)){const[K,Y]=Mu({nodeId:j,dragItems:l,nodeLookup:O});n==null||n(T.sourceEvent,l,K,Y),F==null||F(T.sourceEvent,K,Y),j||H==null||H(T.sourceEvent,Y)}}const I=Py().clickDistance(v).on("start",T=>{const{domNode:O,nodeDragThreshold:S,transform:z,snapGrid:A,snapToGrid:L}=t();d=(O==null?void 0:O.getBoundingClientRect())||null,w=!1,x=!1,N=T.sourceEvent,S===0&&M(T),i=Pi(T.sourceEvent,{transform:z,snapGrid:A,snapToGrid:L,containerBounds:d}),c=Ft(T.sourceEvent,d)}).on("drag",T=>{const{autoPanOnNodeDrag:O,transform:S,snapGrid:z,snapToGrid:A,nodeDragThreshold:L,nodeLookup:C}=t(),P=Pi(T.sourceEvent,{transform:S,snapGrid:z,snapToGrid:A,containerBounds:d});if(N=T.sourceEvent,(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1||j&&!C.has(j))&&(w=!0),!w){if(!u&&O&&f&&(u=!0,E()),!f){const F=Ft(T.sourceEvent,d),H=F.x-c.x,V=F.y-c.y;Math.sqrt(H*H+V*V)>L&&M(T)}(i.x!==P.xSnapped||i.y!==P.ySnapped)&&l&&f&&(c=Ft(T.sourceEvent,d),_(P))}}).on("end",T=>{if(!(!f||w)&&(u=!1,f=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:O,updateNodePositions:S,onNodeDragStop:z,onSelectionDragStop:A}=t();if(x&&(S(l,!1),x=!1),s||z||!j&&A){const[L,C]=Mu({nodeId:j,dragItems:l,nodeLookup:O,dragging:!1});s==null||s(T.sourceEvent,l,L,C),z==null||z(T.sourceEvent,L,C),j||A==null||A(T.sourceEvent,C)}}}).filter(T=>{const O=T.target;return!T.button&&(!m||!Hm(O,`.${m}`,y))&&(!g||Hm(O,g,y))});h.call(I)}function p(){h==null||h.on(".drag",null)}return{update:k,destroy:p}}function AS(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())so(s,$s(i))>0&&r.push(i);return r}const OS=250;function LS(e,t,n,r){var l,u;let s=[],i=1/0;const o=AS(e,n,t+OS);for(const c of o){const d=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:h,y:w}=$r(c,f,f.position,!0),x=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(w-e.y,2));x>t||(x<i?(s=[{...f,x:h,y:w}],i=x):x===i&&s.push({...f,x:h,y:w}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(d=>d.type===c)??s[0]}return s[0]}function x0(e,t,n,r,s,i=!1){var c,d,f;const o=r.get(e);if(!o)return null;const l=s==="strict"?(c=o.internals.handleBounds)==null?void 0:c[t]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],u=(n?l==null?void 0:l.find(h=>h.id===n):l==null?void 0:l[0])??null;return u&&i?{...u,...$r(o,u,u.position,!0)}:u}function y0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function zS(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const v0=()=>!0;function FS(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:l,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:w,onConnectStart:x,onConnect:N,onConnectEnd:k,isValidConnection:p=v0,onReconnectEnd:m,updateConnection:g,getTransform:y,getFromHandle:b,autoPanSpeed:j,dragThreshold:v=1,handleDomNode:_}){const E=i0(e.target);let M=0,I;const{x:T,y:O}=Ft(e),S=y0(i,_),z=l==null?void 0:l.getBoundingClientRect();let A=!1;if(!z||!S)return;const L=x0(s,S,r,u,t);if(!L)return;let C=Ft(e,z),P=!1,F=null,H=!1,V=null;function q(){if(!d||!z)return;const[se,ne]=t0(C,z,j);h({x:se,y:ne}),M=requestAnimationFrame(q)}const U={...L,nodeId:s,type:S,position:L.position},K=u.get(s);let Z={inProgress:!0,isValid:null,from:$r(K,U,G.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:K,to:C,toHandle:null,toPosition:Tm[U.position],toNode:null,pointer:C};function W(){A=!0,g(Z),x==null||x(e,{nodeId:s,handleId:r,handleType:S})}v===0&&W();function J(se){if(!A){const{x:Ue,y:_n}=Ft(se),on=Ue-T,or=_n-O;if(!(on*on+or*or>v*v))return;W()}if(!b()||!U){oe(se);return}const ne=y();C=Ft(se,z),I=LS(ko(C,ne,!1,[1,1]),n,u,U),P||(q(),P=!0);const te=w0(se,{handle:I,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:o?"target":"source",isValidConnection:p,doc:E,lib:c,flowId:f,nodeLookup:u});V=te.handleDomNode,F=te.connection,H=zS(!!I,te.isValid);const me=u.get(s),ve=me?$r(me,U,G.Left,!0):Z.from,he={...Z,from:ve,isValid:H,to:te.toHandle&&H?ll({x:te.toHandle.x,y:te.toHandle.y},ne):C,toHandle:te.toHandle,toPosition:H&&te.toHandle?te.toHandle.position:Tm[U.position],toNode:te.toHandle?u.get(te.toHandle.nodeId):null,pointer:C};g(he),Z=he}function oe(se){if(!("touches"in se&&se.touches.length>0)){if(A){(I||V)&&F&&H&&(N==null||N(F));const{inProgress:ne,...te}=Z,me={...te,toPosition:Z.toHandle?Z.toPosition:null};k==null||k(se,me),i&&(m==null||m(se,me))}w(),cancelAnimationFrame(M),P=!1,H=!1,F=null,V=null,E.removeEventListener("mousemove",J),E.removeEventListener("mouseup",oe),E.removeEventListener("touchmove",J),E.removeEventListener("touchend",oe)}}E.addEventListener("mousemove",J),E.addEventListener("mouseup",oe),E.addEventListener("touchmove",J),E.addEventListener("touchend",oe)}function w0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:o,lib:l,flowId:u,isValidConnection:c=v0,nodeLookup:d}){const f=i==="target",h=t?o.querySelector(`.${l}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:w,y:x}=Ft(e),N=o.elementFromPoint(w,x),k=N!=null&&N.classList.contains(`${l}-flow__handle`)?N:h,p={handleDomNode:k,isValid:!1,connection:null,toHandle:null};if(k){const m=y0(void 0,k),g=k.getAttribute("data-nodeid"),y=k.getAttribute("data-handleid"),b=k.classList.contains("connectable"),j=k.classList.contains("connectableend");if(!g||!m)return p;const v={source:f?g:r,sourceHandle:f?y:s,target:f?r:g,targetHandle:f?s:y};p.connection=v;const E=b&&j&&(n===zs.Strict?f&&m==="source"||!f&&m==="target":g!==r||y!==s);p.isValid=E&&c(v),p.toHandle=x0(g,m,y,d,n,!0)}return p}const sd={onPointerDown:FS,isValid:w0};function $S({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=mt(e);function i({translateExtent:l,width:u,height:c,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:w=!1}){const x=g=>{if(g.sourceEvent.type!=="wheel"||!t)return;const y=n(),b=g.sourceEvent.ctrlKey&&io()?10:1,j=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*d,v=y[2]*Math.pow(2,j*b);t.scaleTo(v)};let N=[0,0];const k=g=>{(g.sourceEvent.type==="mousedown"||g.sourceEvent.type==="touchstart")&&(N=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY])},p=g=>{const y=n();if(g.sourceEvent.type!=="mousemove"&&g.sourceEvent.type!=="touchmove"||!t)return;const b=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY],j=[b[0]-N[0],b[1]-N[1]];N=b;const v=r()*Math.max(y[2],Math.log(y[2]))*(w?-1:1),_={x:y[0]-j[0]*v,y:y[1]-j[1]*v},E=[[0,0],[u,c]];t.setViewportConstrained({x:_.x,y:_.y,zoom:y[2]},E,l)},m=Qy().on("start",k).on("zoom",f?p:null).on("zoom.wheel",h?x:null);s.call(m,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Dt}}const Ll=e=>({x:e.x,y:e.y,zoom:e.k}),Ru=({x:e,y:t,zoom:n})=>Dl.translate(e,t).scale(n),os=(e,t)=>e.target.closest(`.${t}`),b0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),HS=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Pu=(e,t=0,n=HS,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},N0=e=>{const t=e.ctrlKey&&io()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function VS({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(os(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&o){const k=Dt(d),p=N0(d),m=f*Math.pow(2,p);r.scaleTo(n,m,k,d);return}const h=d.deltaMode===1?20:1;let w=s===Tr.Vertical?0:d.deltaX*h,x=s===Tr.Horizontal?0:d.deltaY*h;!io()&&d.shiftKey&&s!==Tr.Vertical&&(w=d.deltaY*h,x=0),r.translateBy(n,-(w/f)*i,-(x/f)*i,{internal:!0});const N=Ll(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(d,N),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,N),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,N))}}function BS({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,l=os(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),o||l)return null;r.preventDefault(),n.call(this,r,s)}}function US({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,l;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Ll(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function WS({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var o,l;e.usedRightMouseButton=!!(n&&b0(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((l=i.sourceEvent)!=null&&l.internal)&&(s==null||s(i.sourceEvent,Ll(i.transform)))}}function qS({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&b0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const u=Ll(o.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(o.sourceEvent,u)},n?150:0)}}}function QS({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:c,connectionInProgress:d}){return f=>{var k;const h=e||t,w=n&&f.ctrlKey,x=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(os(f,`${c}-flow__node`)||os(f,`${c}-flow__edge`)))return!0;if(!r&&!h&&!s&&!i&&!n||o||d&&!x||os(f,l)&&x||os(f,u)&&(!x||s&&x&&!e)||!n&&f.ctrlKey&&x)return!1;if(!n&&f.type==="touchstart"&&((k=f.touches)==null?void 0:k.length)>1)return f.preventDefault(),!1;if(!h&&!s&&!w&&x||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const N=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||x)&&N}}function XS({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Qy().scaleExtent([t,n]).translateExtent(r),h=mt(e).call(f);m({x:s.x,y:s.y,zoom:Fs(s.zoom,t,n)},[[0,0],[d.width,d.height]],r);const w=h.on("wheel.zoom"),x=h.on("dblclick.zoom");f.wheelDelta(N0);function N(I,T){return h?new Promise(O=>{f==null||f.interpolate((T==null?void 0:T.interpolate)==="linear"?Ri:ba).transform(Pu(h,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function k({noWheelClassName:I,noPanClassName:T,onPaneContextMenu:O,userSelectionActive:S,panOnScroll:z,panOnDrag:A,panOnScrollMode:L,panOnScrollSpeed:C,preventScrolling:P,zoomOnPinch:F,zoomOnScroll:H,zoomOnDoubleClick:V,zoomActivationKeyPressed:q,lib:U,onTransformChange:K,connectionInProgress:Y,paneClickDistance:Z,selectionOnDrag:W}){S&&!c.isZoomingOrPanning&&p();const J=z&&!q&&!S;f.clickDistance(W?1/0:!zt(Z)||Z<0?0:Z);const oe=J?VS({zoomPanValues:c,noWheelClassName:I,d3Selection:h,d3Zoom:f,panOnScrollMode:L,panOnScrollSpeed:C,zoomOnPinch:F,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:l}):BS({noWheelClassName:I,preventScrolling:P,d3ZoomHandler:w});if(h.on("wheel.zoom",oe,{passive:!1}),!S){const ne=US({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:o});f.on("start",ne);const te=WS({zoomPanValues:c,panOnDrag:A,onPaneContextMenu:!!O,onPanZoom:i,onTransformChange:K});f.on("zoom",te);const me=qS({zoomPanValues:c,panOnDrag:A,panOnScroll:z,onPaneContextMenu:O,onPanZoomEnd:l,onDraggingChange:u});f.on("end",me)}const se=QS({zoomActivationKeyPressed:q,panOnDrag:A,zoomOnScroll:H,panOnScroll:z,zoomOnDoubleClick:V,zoomOnPinch:F,userSelectionActive:S,noPanClassName:T,noWheelClassName:I,lib:U,connectionInProgress:Y});f.filter(se),V?h.on("dblclick.zoom",x):h.on("dblclick.zoom",null)}function p(){f.on("zoom",null)}async function m(I,T,O){const S=Ru(I),z=f==null?void 0:f.constrain()(S,T,O);return z&&await N(z),new Promise(A=>A(z))}async function g(I,T){const O=Ru(I);return await N(O,T),new Promise(S=>S(O))}function y(I){if(h){const T=Ru(I),O=h.property("__zoom");(O.k!==I.zoom||O.x!==I.x||O.y!==I.y)&&(f==null||f.transform(h,T,null,{sync:!0}))}}function b(){const I=h?qy(h.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function j(I,T){return h?new Promise(O=>{f==null||f.interpolate((T==null?void 0:T.interpolate)==="linear"?Ri:ba).scaleTo(Pu(h,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function v(I,T){return h?new Promise(O=>{f==null||f.interpolate((T==null?void 0:T.interpolate)==="linear"?Ri:ba).scaleBy(Pu(h,T==null?void 0:T.duration,T==null?void 0:T.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function _(I){f==null||f.scaleExtent(I)}function E(I){f==null||f.translateExtent(I)}function M(I){const T=!zt(I)||I<0?0:I;f==null||f.clickDistance(T)}return{update:k,destroy:p,setViewport:g,setViewportConstrained:m,getViewport:b,scaleTo:j,scaleBy:v,setScaleExtent:_,setTranslateExtent:E,syncViewport:y,setClickDistance:M}}var Vs;(function(e){e.Line="line",e.Handle="handle"})(Vs||(Vs={}));function KS({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const o=e-t,l=n-r,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&s&&(u[0]=u[0]*-1),l&&i&&(u[1]=u[1]*-1),u}function Vm(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function Sn(e,t){return Math.max(0,t-e)}function En(e,t){return Math.max(0,e-t)}function ra(e,t,n){return Math.max(0,t-e,e-n)}function Bm(e,t){return e?!t:t}function YS(e,t,n,r,s,i,o,l){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:w,ySnapped:x}=n,{minWidth:N,maxWidth:k,minHeight:p,maxHeight:m}=r,{x:g,y,width:b,height:j,aspectRatio:v}=e;let _=Math.floor(d?w-e.pointerX:0),E=Math.floor(f?x-e.pointerY:0);const M=b+(u?-_:_),I=j+(c?-E:E),T=-i[0]*b,O=-i[1]*j;let S=ra(M,N,k),z=ra(I,p,m);if(o){let C=0,P=0;u&&_<0?C=Sn(g+_+T,o[0][0]):!u&&_>0&&(C=En(g+M+T,o[1][0])),c&&E<0?P=Sn(y+E+O,o[0][1]):!c&&E>0&&(P=En(y+I+O,o[1][1])),S=Math.max(S,C),z=Math.max(z,P)}if(l){let C=0,P=0;u&&_>0?C=En(g+_,l[0][0]):!u&&_<0&&(C=Sn(g+M,l[1][0])),c&&E>0?P=En(y+E,l[0][1]):!c&&E<0&&(P=Sn(y+I,l[1][1])),S=Math.max(S,C),z=Math.max(z,P)}if(s){if(d){const C=ra(M/v,p,m)*v;if(S=Math.max(S,C),o){let P=0;!u&&!c||u&&!c&&h?P=En(y+O+M/v,o[1][1])*v:P=Sn(y+O+(u?_:-_)/v,o[0][1])*v,S=Math.max(S,P)}if(l){let P=0;!u&&!c||u&&!c&&h?P=Sn(y+M/v,l[1][1])*v:P=En(y+(u?_:-_)/v,l[0][1])*v,S=Math.max(S,P)}}if(f){const C=ra(I*v,N,k)/v;if(z=Math.max(z,C),o){let P=0;!u&&!c||c&&!u&&h?P=En(g+I*v+T,o[1][0])/v:P=Sn(g+(c?E:-E)*v+T,o[0][0])/v,z=Math.max(z,P)}if(l){let P=0;!u&&!c||c&&!u&&h?P=Sn(g+I*v,l[1][0])/v:P=En(g+(c?E:-E)*v,l[0][0])/v,z=Math.max(z,P)}}}E=E+(E<0?z:-z),_=_+(_<0?S:-S),s&&(h?M>I*v?E=(Bm(u,c)?-_:_)/v:_=(Bm(u,c)?-E:E)*v:d?(E=_/v,c=u):(_=E*v,u=c));const A=u?g+_:g,L=c?y+E:y;return{width:b+(u?-_:_),height:j+(c?-E:E),x:i[0]*_*(u?-1:1)+A,y:i[1]*E*(c?-1:1)+L}}const j0={width:0,height:0,x:0,y:0},GS={...j0,pointerX:0,pointerY:0,aspectRatio:1};function ZS(e){return[[0,0],[e.measured.width,e.measured.height]]}function JS(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,l=n[0]*i,u=n[1]*o;return[[r-l,s-u],[r+i-l,s+o-u]]}function eE({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=mt(e);let o={controlDirection:Vm("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:w,onResize:x,onResizeEnd:N,shouldResize:k}){let p={...j0},m={...GS};o={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:Vm(c)};let g,y=null,b=[],j,v,_,E=!1;const M=Py().on("start",I=>{const{nodeLookup:T,transform:O,snapGrid:S,snapToGrid:z,nodeOrigin:A,paneDomNode:L}=n();if(g=T.get(t),!g)return;y=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:P}=Pi(I.sourceEvent,{transform:O,snapGrid:S,snapToGrid:z,containerBounds:y});p={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},m={...p,pointerX:C,pointerY:P,aspectRatio:p.width/p.height},j=void 0,g.parentId&&(g.extent==="parent"||g.expandParent)&&(j=T.get(g.parentId),v=j&&g.extent==="parent"?ZS(j):void 0),b=[],_=void 0;for(const[F,H]of T)if(H.parentId===t&&(b.push({id:F,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const V=JS(H,g,H.origin??A);_?_=[[Math.min(V[0][0],_[0][0]),Math.min(V[0][1],_[0][1])],[Math.max(V[1][0],_[1][0]),Math.max(V[1][1],_[1][1])]]:_=V}w==null||w(I,{...p})}).on("drag",I=>{const{transform:T,snapGrid:O,snapToGrid:S,nodeOrigin:z}=n(),A=Pi(I.sourceEvent,{transform:T,snapGrid:O,snapToGrid:S,containerBounds:y}),L=[];if(!g)return;const{x:C,y:P,width:F,height:H}=p,V={},q=g.origin??z,{width:U,height:K,x:Y,y:Z}=YS(m,o.controlDirection,A,o.boundaries,o.keepAspectRatio,q,v,_),W=U!==F,J=K!==H,oe=Y!==C&&W,se=Z!==P&&J;if(!oe&&!se&&!W&&!J)return;if((oe||se||q[0]===1||q[1]===1)&&(V.x=oe?Y:p.x,V.y=se?Z:p.y,p.x=V.x,p.y=V.y,b.length>0)){const ve=Y-C,he=Z-P;for(const Ue of b)Ue.position={x:Ue.position.x-ve+q[0]*(U-F),y:Ue.position.y-he+q[1]*(K-H)},L.push(Ue)}if((W||J)&&(V.width=W&&(!o.resizeDirection||o.resizeDirection==="horizontal")?U:p.width,V.height=J&&(!o.resizeDirection||o.resizeDirection==="vertical")?K:p.height,p.width=V.width,p.height=V.height),j&&g.expandParent){const ve=q[0]*(V.width??0);V.x&&V.x<ve&&(p.x=ve,m.x=m.x-(V.x-ve));const he=q[1]*(V.height??0);V.y&&V.y<he&&(p.y=he,m.y=m.y-(V.y-he))}const ne=KS({width:p.width,prevWidth:F,height:p.height,prevHeight:H,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),te={...p,direction:ne};(k==null?void 0:k(I,te))!==!1&&(E=!0,x==null||x(I,te),r(V,L))}).on("end",I=>{E&&(N==null||N(I,{...p}),s==null||s({...p}),E=!1)});i.call(M)}function u(){i.on(".drag",null)}return{update:l,destroy:u}}const{useDebugValue:tE}=Lt,{useSyncExternalStoreWithSelector:nE}=gy,rE=e=>e;function _0(e,t=rE,n){const r=nE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tE(r),r}const Um=(e,t)=>{const n=dy(e),r=(s,i=t)=>_0(n,s,i);return Object.assign(r,n),r},sE=(e,t)=>e?Um(e,t):Um;function je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const zl=R.createContext(null),iE=zl.Provider,k0=rn.error001();function de(e,t){const n=R.useContext(zl);if(n===null)throw new Error(k0);return _0(n,e,t)}function _e(){const e=R.useContext(zl);if(e===null)throw new Error(k0);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Wm={display:"none"},oE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},S0="react-flow__node-desc",E0="react-flow__edge-desc",aE="react-flow__aria-live",lE=e=>e.ariaLiveMessage,uE=e=>e.ariaLabelConfig;function cE({rfId:e}){const t=de(lE);return a.jsx("div",{id:`${aE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:oE,children:t})}function dE({rfId:e,disableKeyboardA11y:t}){const n=de(uE);return a.jsxs(a.Fragment,{children:[a.jsx("div",{id:`${S0}-${e}`,style:Wm,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),a.jsx("div",{id:`${E0}-${e}`,style:Wm,children:n["edge.a11yDescription.default"]}),!t&&a.jsx(cE,{rfId:e})]})}const Fl=R.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const o=`${e}`.split("-");return a.jsx("div",{className:Ie(["react-flow__panel",n,...o]),style:r,ref:i,...s,children:t})});Fl.displayName="Panel";function fE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:a.jsx(Fl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:a.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const hE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},sa=e=>e.id;function mE(e,t){return je(e.selectedNodes.map(sa),t.selectedNodes.map(sa))&&je(e.selectedEdges.map(sa),t.selectedEdges.map(sa))}function pE({onSelectionChange:e}){const t=_e(),{selectedNodes:n,selectedEdges:r}=de(hE,mE);return R.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const gE=e=>!!e.onSelectionChangeHandlers;function xE({onSelectionChange:e}){const t=de(gE);return e||t?a.jsx(pE,{onSelectionChange:e}):null}const C0=[0,0],yE={x:0,y:0,zoom:1},vE=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],qm=[...vE,"rfId"],wE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Qm={translateExtent:no,nodeOrigin:C0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function bE(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u}=de(wE,je),c=_e();R.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=Qm,l()}),[]);const d=R.useRef(Qm);return R.useEffect(()=>{for(const f of qm){const h=e[f],w=d.current[f];h!==w&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?s(h):f==="translateExtent"?i(h):f==="nodeExtent"?o(h):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:hS(h)}):f==="fitView"?c.setState({fitViewQueued:h}):f==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[f]:h})))}d.current=e},qm.map(f=>e[f])),null}function Xm(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function NE(e){var r;const[t,n]=R.useState(e==="system"?null:e);return R.useEffect(()=>{if(e!=="system"){n(e);return}const s=Xm(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=Xm())!=null&&r.matches?"dark":"light"}const Km=typeof document<"u"?document:null;function oo(e=null,t={target:Km,actInsideInputWithModifier:!0}){const[n,r]=R.useState(!1),s=R.useRef(!1),i=R.useRef(new Set([])),[o,l]=R.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,h)=>f.concat(...h),[]);return[c,d]}return[[],[]]},[e]);return R.useEffect(()=>{const u=(t==null?void 0:t.target)??Km,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=w=>{var k,p;if(s.current=w.ctrlKey||w.metaKey||w.shiftKey||w.altKey,(!s.current||s.current&&!c)&&o0(w))return!1;const N=Gm(w.code,l);if(i.current.add(w[N]),Ym(o,i.current,!1)){const m=((p=(k=w.composedPath)==null?void 0:k.call(w))==null?void 0:p[0])||w.target,g=(m==null?void 0:m.nodeName)==="BUTTON"||(m==null?void 0:m.nodeName)==="A";t.preventDefault!==!1&&(s.current||!g)&&w.preventDefault(),r(!0)}},f=w=>{const x=Gm(w.code,l);Ym(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(w[x]),w.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function Ym(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Gm(e,t){return t.includes(e)?"code":"key"}const jE=()=>{const e=_e();return R.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:o,panZoom:l}=e.getState(),u=wf(t,r,s,i,o,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(u,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:l,y:u}=o.getBoundingClientRect(),c={x:t.x-l,y:t.y-u},d=n.snapGrid??s,f=n.snapToGrid??i;return ko(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),o=ll(t,n);return{x:o.x+s,y:o.y+i}}}),[])};function T0(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...i};for(const u of o)_E(u,l);n.push(l)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function _E(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function M0(e,t){return T0(e,t)}function R0(e,t){return T0(e,t)}function ur(e,t){return{id:e,type:"select",selected:t}}function as(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const o=t.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(ur(i.id,o)))}return r}function Zm({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const l=t.get(o.id),u=((s=l==null?void 0:l.internals)==null?void 0:s.userNode)??l;u!==void 0&&u!==o&&n.push({id:o.id,item:o,type:"replace"}),u===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Jm(e){return{id:e.id,type:"remove"}}const ep=e=>rS(e),kE=e=>Zy(e);function P0(e){return R.forwardRef(e)}const SE=typeof window<"u"?R.useLayoutEffect:R.useEffect;function tp(e){const[t,n]=R.useState(BigInt(0)),[r]=R.useState(()=>EE(()=>n(s=>s+BigInt(1))));return SE(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function EE(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const I0=R.createContext(null);function CE({children:e}){const t=_e(),n=R.useCallback(l=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:w,onNodesChangeMiddlewareMap:x}=t.getState();let N=u;for(const p of l)N=typeof p=="function"?p(N):p;let k=Zm({items:N,lookup:h});for(const p of x.values())k=p(k);d&&c(N),k.length>0?f==null||f(k):w&&window.requestAnimationFrame(()=>{const{fitViewQueued:p,nodes:m,setNodes:g}=t.getState();p&&g(m)})},[]),r=tp(n),s=R.useCallback(l=>{const{edges:u=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let w=u;for(const x of l)w=typeof x=="function"?x(w):x;d?c(w):f&&f(Zm({items:w,lookup:h}))},[]),i=tp(s),o=R.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return a.jsx(I0.Provider,{value:o,children:e})}function TE(){const e=R.useContext(I0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const ME=e=>!!e.panZoom;function Ys(){const e=jE(),t=_e(),n=TE(),r=de(ME),s=R.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),o=f=>{n.nodeQueue.push(f)},l=f=>{n.edgeQueue.push(f)},u=f=>{var p,m;const{nodeLookup:h,nodeOrigin:w}=t.getState(),x=ep(f)?f:h.get(f.id),N=x.parentId?s0(x.position,x.measured,x.parentId,h,w):x.position,k={...x,position:N,width:((p=x.measured)==null?void 0:p.width)??x.width,height:((m=x.measured)==null?void 0:m.height)??x.height};return $s(k)},c=(f,h,w={replace:!1})=>{o(x=>x.map(N=>{if(N.id===f){const k=typeof h=="function"?h(N):h;return w.replace&&ep(k)?k:{...N,...k}}return N}))},d=(f,h,w={replace:!1})=>{l(x=>x.map(N=>{if(N.id===f){const k=typeof h=="function"?h(N):h;return w.replace&&kE(k)?k:{...N,...k}}return N}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:o,setEdges:l,addNodes:f=>{const h=Array.isArray(f)?f:[f];n.nodeQueue.push(w=>[...w,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];n.edgeQueue.push(w=>[...w,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:w}=t.getState(),[x,N,k]=w;return{nodes:f.map(p=>({...p})),edges:h.map(p=>({...p})),viewport:{x,y:N,zoom:k}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:w,edges:x,onNodesDelete:N,onEdgesDelete:k,triggerNodeChanges:p,triggerEdgeChanges:m,onDelete:g,onBeforeDelete:y}=t.getState(),{nodes:b,edges:j}=await lS({nodesToRemove:f,edgesToRemove:h,nodes:w,edges:x,onBeforeDelete:y}),v=j.length>0,_=b.length>0;if(v){const E=j.map(Jm);k==null||k(j),m(E)}if(_){const E=b.map(Jm);N==null||N(b),p(E)}return(_||v)&&(g==null||g({nodes:b,edges:j})),{deletedNodes:b,deletedEdges:j}},getIntersectingNodes:(f,h=!0,w)=>{const x=Rm(f),N=x?f:u(f),k=w!==void 0;return N?(w||t.getState().nodes).filter(p=>{const m=t.getState().nodeLookup.get(p.id);if(m&&!x&&(p.id===f.id||!m.internals.positionAbsolute))return!1;const g=$s(k?p:m),y=so(g,N);return h&&y>0||y>=g.width*g.height||y>=N.width*N.height}):[]},isNodeIntersecting:(f,h,w=!0)=>{const N=Rm(f)?f:u(f);if(!N)return!1;const k=so(N,h);return w&&k>0||k>=h.width*h.height||k>=N.width*N.height},updateNode:c,updateNodeData:(f,h,w={replace:!1})=>{c(f,x=>{const N=typeof h=="function"?h(x):h;return w.replace?{...x,data:N}:{...x,data:{...x.data,...N}}},w)},updateEdge:d,updateEdgeData:(f,h,w={replace:!1})=>{d(f,x=>{const N=typeof h=="function"?h(x):h;return w.replace?{...x,data:N}:{...x,data:{...x.data,...N}}},w)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:w}=t.getState();return sS(f,{nodeLookup:h,nodeOrigin:w})},getHandleConnections:({type:f,id:h,nodeId:w})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${w}-${f}${h?`-${h}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:w})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${w}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:x.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??fS();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),n.nodeQueue.push(w=>[...w]),h.promise}}},[]);return R.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const np=e=>e.selected,RE=typeof window<"u"?window:void 0;function PE({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=_e(),{deleteElements:r}=Ys(),s=oo(e,{actInsideInputWithModifier:!1}),i=oo(t,{target:RE});R.useEffect(()=>{if(s){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(np),edges:o.filter(np)}),n.setState({nodesSelectionActive:!1})}},[s]),R.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function IE(e){const t=_e();R.useEffect(()=>{const n=()=>{var s,i,o,l;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=bf(e.current);(r.height===0||r.width===0)&&((l=(o=t.getState()).onError)==null||l.call(o,"004",rn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const $l={position:"absolute",width:"100%",height:"100%",top:0,left:0},DE=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function AE({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Tr.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:w=!0,children:x,noWheelClassName:N,noPanClassName:k,onViewportChange:p,isControlledViewport:m,paneClickDistance:g,selectionOnDrag:y}){const b=_e(),j=R.useRef(null),{userSelectionActive:v,lib:_,connectionInProgress:E}=de(DE,je),M=oo(h),I=R.useRef();IE(j);const T=R.useCallback(O=>{p==null||p({x:O[0],y:O[1],zoom:O[2]}),m||b.setState({transform:O})},[p,m]);return R.useEffect(()=>{if(j.current){I.current=XS({domNode:j.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:u,onDraggingChange:A=>b.setState({paneDragging:A}),onPanZoomStart:(A,L)=>{const{onViewportChangeStart:C,onMoveStart:P}=b.getState();P==null||P(A,L),C==null||C(L)},onPanZoom:(A,L)=>{const{onViewportChange:C,onMove:P}=b.getState();P==null||P(A,L),C==null||C(L)},onPanZoomEnd:(A,L)=>{const{onViewportChangeEnd:C,onMoveEnd:P}=b.getState();P==null||P(A,L),C==null||C(L)}});const{x:O,y:S,zoom:z}=I.current.getViewport();return b.setState({panZoom:I.current,transform:[O,S,z],domNode:j.current.closest(".react-flow")}),()=>{var A;(A=I.current)==null||A.destroy()}}},[]),R.useEffect(()=>{var O;(O=I.current)==null||O.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:M,preventScrolling:w,noPanClassName:k,userSelectionActive:v,noWheelClassName:N,lib:_,onTransformChange:T,connectionInProgress:E,selectionOnDrag:y,paneClickDistance:g})},[e,t,n,r,s,i,o,l,M,w,k,v,N,_,T,E,y,g]),a.jsx("div",{className:"react-flow__renderer",ref:j,style:$l,children:x})}const OE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function LE(){const{userSelectionActive:e,userSelectionRect:t}=de(OE,je);return e&&t?a.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Iu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},zE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function FE({isSelecting:e,selectionKeyPressed:t,selectionMode:n=ro.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:l,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:w,children:x}){const N=_e(),{userSelectionActive:k,elementsSelectable:p,dragging:m,connectionInProgress:g}=de(zE,je),y=p&&(e||k),b=R.useRef(null),j=R.useRef(),v=R.useRef(new Set),_=R.useRef(new Set),E=R.useRef(!1),M=C=>{if(E.current||g){E.current=!1;return}u==null||u(C),N.getState().resetSelectedElements(),N.setState({nodesSelectionActive:!1})},I=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}c==null||c(C)},T=d?C=>d(C):void 0,O=C=>{E.current&&(C.stopPropagation(),E.current=!1)},S=C=>{var K,Y;const{domNode:P}=N.getState();if(j.current=P==null?void 0:P.getBoundingClientRect(),!j.current)return;const F=C.target===b.current;if(!F&&!!C.target.closest(".nokey")||!e||!(i&&F||t)||C.button!==0||!C.isPrimary)return;(Y=(K=C.target)==null?void 0:K.setPointerCapture)==null||Y.call(K,C.pointerId),E.current=!1;const{x:q,y:U}=Ft(C.nativeEvent,j.current);N.setState({userSelectionRect:{width:0,height:0,startX:q,startY:U,x:q,y:U}}),F||(C.stopPropagation(),C.preventDefault())},z=C=>{const{userSelectionRect:P,transform:F,nodeLookup:H,edgeLookup:V,connectionLookup:q,triggerNodeChanges:U,triggerEdgeChanges:K,defaultEdgeOptions:Y,resetSelectedElements:Z}=N.getState();if(!j.current||!P)return;const{x:W,y:J}=Ft(C.nativeEvent,j.current),{startX:oe,startY:se}=P;if(!E.current){const he=t?0:s;if(Math.hypot(W-oe,J-se)<=he)return;Z(),o==null||o(C)}E.current=!0;const ne={startX:oe,startY:se,x:W<oe?W:oe,y:J<se?J:se,width:Math.abs(W-oe),height:Math.abs(J-se)},te=v.current,me=_.current;v.current=new Set(vf(H,ne,F,n===ro.Partial,!0).map(he=>he.id)),_.current=new Set;const ve=(Y==null?void 0:Y.selectable)??!0;for(const he of v.current){const Ue=q.get(he);if(Ue)for(const{edgeId:_n}of Ue.values()){const on=V.get(_n);on&&(on.selectable??ve)&&_.current.add(_n)}}if(!Pm(te,v.current)){const he=as(H,v.current,!0);U(he)}if(!Pm(me,_.current)){const he=as(V,_.current);K(he)}N.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},A=C=>{var P,F;C.button===0&&((F=(P=C.target)==null?void 0:P.releasePointerCapture)==null||F.call(P,C.pointerId),!k&&C.target===b.current&&N.getState().userSelectionRect&&(M==null||M(C)),N.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(l==null||l(C),N.setState({nodesSelectionActive:v.current.size>0})))},L=r===!0||Array.isArray(r)&&r.includes(0);return a.jsxs("div",{className:Ie(["react-flow__pane",{draggable:L,dragging:m,selection:e}]),onClick:y?void 0:Iu(M,b),onContextMenu:Iu(I,b),onWheel:Iu(T,b),onPointerEnter:y?void 0:f,onPointerMove:y?z:h,onPointerUp:y?A:void 0,onPointerDownCapture:y?S:void 0,onClickCapture:y?O:void 0,onPointerLeave:w,ref:b,style:$l,children:[x,a.jsx(LE,{})]})}function id({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:l,onError:u}=t.getState(),c=l.get(e);if(!c){u==null||u("012",rn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function D0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:o}){const l=_e(),[u,c]=R.useState(!1),d=R.useRef();return R.useEffect(()=>{d.current=DS({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{id({id:f,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),R.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{var w;(w=d.current)==null||w.destroy()}},[n,r,t,i,e,s]),u}const $E=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function A0(){const e=_e();return R.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,h=$E(o),w=s?i[0]:5,x=s?i[1]:5,N=n.direction.x*w*n.factor,k=n.direction.y*x*n.factor;for(const[,p]of c){if(!h(p))continue;let m={x:p.internals.positionAbsolute.x+N,y:p.internals.positionAbsolute.y+k};s&&(m=_o(m,i));const{position:g,positionAbsolute:y}=Jy({nodeId:p.id,nextPosition:m,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:l});p.position=g,p.internals.positionAbsolute=y,f.set(p.id,p)}u(f)},[])}const Ef=R.createContext(null),HE=Ef.Provider;Ef.Consumer;const O0=()=>R.useContext(Ef),VE=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),BE=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=r,{fromHandle:l,toHandle:u,isValid:c}=o,d=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===zs.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!s,valid:d&&c}};function UE({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:u,className:c,onMouseDown:d,onTouchStart:f,...h},w){var z,A;const x=o||null,N=e==="target",k=_e(),p=O0(),{connectOnClick:m,noPanClassName:g,rfId:y}=de(VE,je),{connectingFrom:b,connectingTo:j,clickConnecting:v,isPossibleEndHandle:_,connectionInProcess:E,clickConnectionInProcess:M,valid:I}=de(BE(p,x,e),je);p||(A=(z=k.getState()).onError)==null||A.call(z,"010",rn.error010());const T=L=>{const{defaultEdgeOptions:C,onConnect:P,hasDefaultEdges:F}=k.getState(),H={...C,...L};if(F){const{edges:V,setEdges:q}=k.getState();q(d0(H,V))}P==null||P(H),l==null||l(H)},O=L=>{if(!p)return;const C=a0(L.nativeEvent);if(s&&(C&&L.button===0||!C)){const P=k.getState();sd.onPointerDown(L.nativeEvent,{handleDomNode:L.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:N,handleId:x,nodeId:p,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:T,isValidConnection:n||P.isValidConnection,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}C?d==null||d(L):f==null||f(L)},S=L=>{const{onClickConnectStart:C,onClickConnectEnd:P,connectionClickStartHandle:F,connectionMode:H,isValidConnection:V,lib:q,rfId:U,nodeLookup:K,connection:Y}=k.getState();if(!p||!F&&!s)return;if(!F){C==null||C(L.nativeEvent,{nodeId:p,handleId:x,handleType:e}),k.setState({connectionClickStartHandle:{nodeId:p,type:e,id:x}});return}const Z=i0(L.target),W=n||V,{connection:J,isValid:oe}=sd.isValid(L.nativeEvent,{handle:{nodeId:p,id:x,type:e},connectionMode:H,fromNodeId:F.nodeId,fromHandleId:F.id||null,fromType:F.type,isValidConnection:W,flowId:U,doc:Z,lib:q,nodeLookup:K});oe&&J&&T(J);const se=structuredClone(Y);delete se.inProgress,se.toPosition=se.toHandle?se.toHandle.position:null,P==null||P(L,se),k.setState({connectionClickStartHandle:null})};return a.jsx("div",{"data-handleid":x,"data-nodeid":p,"data-handlepos":t,"data-id":`${y}-${p}-${x}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,c,{source:!N,target:N,connectable:r,connectablestart:s,connectableend:i,clickconnecting:v,connectingfrom:b,connectingto:j,valid:I,connectionindicator:r&&(!E||_)&&(E||M?i:s)}]),onMouseDown:O,onTouchStart:O,onClick:m?S:void 0,ref:w,...h,children:u})}const Bs=R.memo(P0(UE));function WE({data:e,isConnectable:t,sourcePosition:n=G.Bottom}){return a.jsxs(a.Fragment,{children:[e==null?void 0:e.label,a.jsx(Bs,{type:"source",position:n,isConnectable:t})]})}function qE({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom}){return a.jsxs(a.Fragment,{children:[a.jsx(Bs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,a.jsx(Bs,{type:"source",position:r,isConnectable:t})]})}function QE(){return null}function XE({data:e,isConnectable:t,targetPosition:n=G.Top}){return a.jsxs(a.Fragment,{children:[a.jsx(Bs,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const cl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},rp={input:WE,default:qE,output:XE,group:QE};function KE(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const YE=e=>{const{width:t,height:n,x:r,y:s}=jo(e.nodeLookup,{filter:i=>!!i.selected});return{width:zt(t)?t:null,height:zt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function GE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_e(),{width:s,height:i,transformString:o,userSelectionActive:l}=de(YE,je),u=A0(),c=R.useRef(null);if(R.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),D0({nodeRef:c}),l||!s||!i)return null;const d=e?h=>{const w=r.getState().nodes.filter(x=>x.selected);e(h,w)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(cl,h.key)&&(h.preventDefault(),u({direction:cl[h.key],factor:h.shiftKey?4:1}))};return a.jsx("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:a.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:i}})})}const sp=typeof window<"u"?window:void 0,ZE=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function L0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:w,multiSelectionKeyCode:x,panActivationKeyCode:N,zoomActivationKeyCode:k,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:g,panOnScroll:y,panOnScrollSpeed:b,panOnScrollMode:j,zoomOnDoubleClick:v,panOnDrag:_,defaultViewport:E,translateExtent:M,minZoom:I,maxZoom:T,preventScrolling:O,onSelectionContextMenu:S,noWheelClassName:z,noPanClassName:A,disableKeyboardA11y:L,onViewportChange:C,isControlledViewport:P}){const{nodesSelectionActive:F,userSelectionActive:H}=de(ZE,je),V=oo(c,{target:sp}),q=oo(N,{target:sp}),U=q||_,K=q||y,Y=d&&U!==!0,Z=V||H||Y;return PE({deleteKeyCode:u,multiSelectionKeyCode:x}),a.jsx(AE,{onPaneContextMenu:i,elementsSelectable:p,zoomOnScroll:m,zoomOnPinch:g,panOnScroll:K,panOnScrollSpeed:b,panOnScrollMode:j,zoomOnDoubleClick:v,panOnDrag:!V&&U,defaultViewport:E,translateExtent:M,minZoom:I,maxZoom:T,zoomActivationKeyCode:k,preventScrolling:O,noWheelClassName:z,noPanClassName:A,onViewportChange:C,isControlledViewport:P,paneClickDistance:l,selectionOnDrag:Y,children:a.jsxs(FE,{onSelectionStart:h,onSelectionEnd:w,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:U,isSelecting:!!Z,selectionMode:f,selectionKeyPressed:V,paneClickDistance:l,selectionOnDrag:Y,children:[e,F&&a.jsx(GE,{onSelectionContextMenu:S,noPanClassName:A,disableKeyboardA11y:L})]})})}L0.displayName="FlowRenderer";const JE=R.memo(L0),eC=e=>t=>e?vf(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function tC(e){return de(R.useCallback(eC(e),[e]),je)}const nC=e=>e.updateNodeInternals;function rC(){const e=de(nC),[t]=R.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return R.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function sC({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=_e(),i=R.useRef(null),o=R.useRef(null),l=R.useRef(e.sourcePosition),u=R.useRef(e.targetPosition),c=R.useRef(t),d=n&&!!e.internals.handleBounds;return R.useEffect(()=>{i.current&&!e.hidden&&(!d||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[d,e.hidden]),R.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),R.useEffect(()=>{if(i.current){const f=c.current!==t,h=l.current!==e.sourcePosition,w=u.current!==e.targetPosition;(f||h||w)&&(c.current=t,l.current=e.sourcePosition,u.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function iC({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:w,disableKeyboardA11y:x,rfId:N,nodeTypes:k,nodeClickDistance:p,onError:m}){const{node:g,internals:y,isParent:b}=de(W=>{const J=W.nodeLookup.get(e),oe=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:oe}},je);let j=g.type||"default",v=(k==null?void 0:k[j])||rp[j];v===void 0&&(m==null||m("003",rn.error003(j)),j="default",v=(k==null?void 0:k.default)||rp.default);const _=!!(g.draggable||l&&typeof g.draggable>"u"),E=!!(g.selectable||u&&typeof g.selectable>"u"),M=!!(g.connectable||c&&typeof g.connectable>"u"),I=!!(g.focusable||d&&typeof g.focusable>"u"),T=_e(),O=r0(g),S=sC({node:g,nodeType:j,hasDimensions:O,resizeObserver:f}),z=D0({nodeRef:S,disabled:g.hidden||!_,noDragClassName:h,handleSelector:g.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:p}),A=A0();if(g.hidden)return null;const L=jn(g),C=KE(g),P=E||_||t||n||r||s,F=n?W=>n(W,{...y.userNode}):void 0,H=r?W=>r(W,{...y.userNode}):void 0,V=s?W=>s(W,{...y.userNode}):void 0,q=i?W=>i(W,{...y.userNode}):void 0,U=o?W=>o(W,{...y.userNode}):void 0,K=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:oe}=T.getState();E&&(!J||!_||oe>0)&&id({id:e,store:T,nodeRef:S}),t&&t(W,{...y.userNode})},Y=W=>{if(!(o0(W.nativeEvent)||x)){if(Xy.includes(W.key)&&E){const J=W.key==="Escape";id({id:e,store:T,unselect:J,nodeRef:S})}else if(_&&g.selected&&Object.prototype.hasOwnProperty.call(cl,W.key)){W.preventDefault();const{ariaLabelConfig:J}=T.getState();T.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~y.positionAbsolute.x,y:~~y.positionAbsolute.y})}),A({direction:cl[W.key],factor:W.shiftKey?4:1})}}},Z=()=>{var me;if(x||!((me=S.current)!=null&&me.matches(":focus-visible")))return;const{transform:W,width:J,height:oe,autoPanOnNodeFocus:se,setCenter:ne}=T.getState();if(!se)return;vf(new Map([[e,g]]),{x:0,y:0,width:J,height:oe},W,!0).length>0||ne(g.position.x+L.width/2,g.position.y+L.height/2,{zoom:W[2]})};return a.jsx("div",{className:Ie(["react-flow__node",`react-flow__node-${j}`,{[w]:_},g.className,{selected:g.selected,selectable:E,parent:b,draggable:_,dragging:z}]),ref:S,style:{zIndex:y.z,transform:`translate(${y.positionAbsolute.x}px,${y.positionAbsolute.y}px)`,pointerEvents:P?"all":"none",visibility:O?"visible":"hidden",...g.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:F,onMouseMove:H,onMouseLeave:V,onContextMenu:q,onClick:K,onDoubleClick:U,onKeyDown:I?Y:void 0,tabIndex:I?0:void 0,onFocus:I?Z:void 0,role:g.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${S0}-${N}`,"aria-label":g.ariaLabel,...g.domAttributes,children:a.jsx(HE,{value:e,children:a.jsx(v,{id:e,data:g.data,type:j,positionAbsoluteX:y.positionAbsolute.x,positionAbsoluteY:y.positionAbsolute.y,selected:g.selected??!1,selectable:E,draggable:_,deletable:g.deletable??!0,isConnectable:M,sourcePosition:g.sourcePosition,targetPosition:g.targetPosition,dragging:z,dragHandle:g.dragHandle,zIndex:y.z,parentId:g.parentId,...L})})})}var oC=R.memo(iC);const aC=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function z0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=de(aC,je),o=tC(e.onlyRenderVisibleElements),l=rC();return a.jsx("div",{className:"react-flow__nodes",style:$l,children:o.map(u=>a.jsx(oC,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}z0.displayName="NodeRenderer";const lC=R.memo(z0);function uC(e){return de(R.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),o=n.nodeLookup.get(s.target);i&&o&&gS({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),je)}const cC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return a.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},dC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return a.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},ip={[ol.Arrow]:cC,[ol.ArrowClosed]:dC};function fC(e){const t=_e();return R.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(ip,e)?ip[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",rn.error009(e)),null)},[e])}const hC=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=fC(t);return u?a.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:a.jsx(u,{color:n,strokeWidth:o})}):null},F0=({defaultColor:e,rfId:t})=>{const n=de(i=>i.edges),r=de(i=>i.defaultEdgeOptions),s=R.useMemo(()=>jS(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?a.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:a.jsx("defs",{children:s.map(i=>a.jsx(hC,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};F0.displayName="MarkerDefinitions";var mC=R.memo(F0);function $0({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:c,...d}){const[f,h]=R.useState({x:1,y:0,width:0,height:0}),w=Ie(["react-flow__edge-textwrapper",c]),x=R.useRef(null);return R.useEffect(()=>{if(x.current){const N=x.current.getBBox();h({x:N.x,y:N.y,width:N.width,height:N.height})}},[n]),n?a.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:w,visibility:f.width?"visible":"hidden",...d,children:[s&&a.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),a.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:x,style:r,children:n}),u]}):null}$0.displayName="EdgeText";const pC=R.memo($0);function Us({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:c=20,...d}){return a.jsxs(a.Fragment,{children:[a.jsx("path",{...d,d:e,fill:"none",className:Ie(["react-flow__edge-path",d.className])}),c?a.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&zt(t)&&zt(n)?a.jsx(pC,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function op({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function H0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,l]=op({pos:n,x1:e,y1:t,x2:r,y2:s}),[u,c]=op({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,f,h,w]=l0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${o},${l} ${u},${c} ${r},${s}`,d,f,h,w]}function V0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o,targetPosition:l,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:k,interactionWidth:p})=>{const[m,g,y]=H0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:l}),b=e.isInternal?void 0:t;return a.jsx(Us,{id:b,path:m,labelX:g,labelY:y,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:k,interactionWidth:p})})}const gC=V0({isInternal:!1}),B0=V0({isInternal:!0});gC.displayName="SimpleBezierEdge";B0.displayName="SimpleBezierEdgeInternal";function U0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:w=G.Bottom,targetPosition:x=G.Top,markerEnd:N,markerStart:k,pathOptions:p,interactionWidth:m})=>{const[g,y,b]=ul({sourceX:n,sourceY:r,sourcePosition:w,targetX:s,targetY:i,targetPosition:x,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),j=e.isInternal?void 0:t;return a.jsx(Us,{id:j,path:g,labelX:y,labelY:b,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:N,markerStart:k,interactionWidth:m})})}const W0=U0({isInternal:!1}),q0=U0({isInternal:!0});W0.displayName="SmoothStepEdge";q0.displayName="SmoothStepEdgeInternal";function Q0(e){return R.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return a.jsx(W0,{...n,id:r,pathOptions:R.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const xC=Q0({isInternal:!1}),X0=Q0({isInternal:!0});xC.displayName="StepEdge";X0.displayName="StepEdgeInternal";function K0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:w,markerStart:x,interactionWidth:N})=>{const[k,p,m]=f0({sourceX:n,sourceY:r,targetX:s,targetY:i}),g=e.isInternal?void 0:t;return a.jsx(Us,{id:g,path:k,labelX:p,labelY:m,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:w,markerStart:x,interactionWidth:N})})}const yC=K0({isInternal:!1}),Y0=K0({isInternal:!0});yC.displayName="StraightEdge";Y0.displayName="StraightEdgeInternal";function G0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o=G.Bottom,targetPosition:l=G.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:k,pathOptions:p,interactionWidth:m})=>{const[g,y,b]=u0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:l,curvature:p==null?void 0:p.curvature}),j=e.isInternal?void 0:t;return a.jsx(Us,{id:j,path:g,labelX:y,labelY:b,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:w,style:x,markerEnd:N,markerStart:k,interactionWidth:m})})}const vC=G0({isInternal:!1}),Z0=G0({isInternal:!0});vC.displayName="BezierEdge";Z0.displayName="BezierEdgeInternal";const ap={default:Z0,straight:Y0,step:X0,smoothstep:q0,simplebezier:B0},lp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},wC=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,bC=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,up="react-flow__edgeupdater";function cp({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l}){return a.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Ie([up,`${up}-${l}`]),cx:wC(t,r,e),cy:bC(n,r,e),r,stroke:"transparent",fill:"transparent"})}function NC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:w}){const x=_e(),N=(y,b)=>{if(y.button!==0)return;const{autoPanOnConnect:j,domNode:v,isValidConnection:_,connectionMode:E,connectionRadius:M,lib:I,onConnectStart:T,onConnectEnd:O,cancelConnection:S,nodeLookup:z,rfId:A,panBy:L,updateConnection:C}=x.getState(),P=b.type==="target",F=(q,U)=>{h(!1),f==null||f(q,n,b.type,U)},H=q=>c==null?void 0:c(n,q),V=(q,U)=>{h(!0),d==null||d(y,n,b.type),T==null||T(q,U)};sd.onPointerDown(y.nativeEvent,{autoPanOnConnect:j,connectionMode:E,connectionRadius:M,domNode:v,handleId:b.id,nodeId:b.nodeId,nodeLookup:z,isTarget:P,edgeUpdaterType:b.type,lib:I,flowId:A,cancelConnection:S,panBy:L,isValidConnection:_,onConnect:H,onConnectStart:V,onConnectEnd:O,onReconnectEnd:F,updateConnection:C,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:y.currentTarget})},k=y=>N(y,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=y=>N(y,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),m=()=>w(!0),g=()=>w(!1);return a.jsxs(a.Fragment,{children:[(e===!0||e==="source")&&a.jsx(cp,{position:l,centerX:r,centerY:s,radius:t,onMouseDown:k,onMouseEnter:m,onMouseOut:g,type:"source"}),(e===!0||e==="target")&&a.jsx(cp,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:p,onMouseEnter:m,onMouseOut:g,type:"target"})]})}function jC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:w,rfId:x,edgeTypes:N,noPanClassName:k,onError:p,disableKeyboardA11y:m}){let g=de(ne=>ne.edgeLookup.get(e));const y=de(ne=>ne.defaultEdgeOptions);g=y?{...y,...g}:g;let b=g.type||"default",j=(N==null?void 0:N[b])||ap[b];j===void 0&&(p==null||p("011",rn.error011(b)),b="default",j=(N==null?void 0:N.default)||ap.default);const v=!!(g.focusable||t&&typeof g.focusable>"u"),_=typeof f<"u"&&(g.reconnectable||n&&typeof g.reconnectable>"u"),E=!!(g.selectable||r&&typeof g.selectable>"u"),M=R.useRef(null),[I,T]=R.useState(!1),[O,S]=R.useState(!1),z=_e(),{zIndex:A,sourceX:L,sourceY:C,targetX:P,targetY:F,sourcePosition:H,targetPosition:V}=de(R.useCallback(ne=>{const te=ne.nodeLookup.get(g.source),me=ne.nodeLookup.get(g.target);if(!te||!me)return{zIndex:g.zIndex,...lp};const ve=NS({id:e,sourceNode:te,targetNode:me,sourceHandle:g.sourceHandle||null,targetHandle:g.targetHandle||null,connectionMode:ne.connectionMode,onError:p});return{zIndex:pS({selected:g.selected,zIndex:g.zIndex,sourceNode:te,targetNode:me,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...ve||lp}},[g.source,g.target,g.sourceHandle,g.targetHandle,g.selected,g.zIndex]),je),q=R.useMemo(()=>g.markerStart?`url('#${nd(g.markerStart,x)}')`:void 0,[g.markerStart,x]),U=R.useMemo(()=>g.markerEnd?`url('#${nd(g.markerEnd,x)}')`:void 0,[g.markerEnd,x]);if(g.hidden||L===null||C===null||P===null||F===null)return null;const K=ne=>{var he;const{addSelectedEdges:te,unselectNodesAndEdges:me,multiSelectionActive:ve}=z.getState();E&&(z.setState({nodesSelectionActive:!1}),g.selected&&ve?(me({nodes:[],edges:[g]}),(he=M.current)==null||he.blur()):te([e])),s&&s(ne,g)},Y=i?ne=>{i(ne,{...g})}:void 0,Z=o?ne=>{o(ne,{...g})}:void 0,W=l?ne=>{l(ne,{...g})}:void 0,J=u?ne=>{u(ne,{...g})}:void 0,oe=c?ne=>{c(ne,{...g})}:void 0,se=ne=>{var te;if(!m&&Xy.includes(ne.key)&&E){const{unselectNodesAndEdges:me,addSelectedEdges:ve}=z.getState();ne.key==="Escape"?((te=M.current)==null||te.blur(),me({edges:[g]})):ve([e])}};return a.jsx("svg",{style:{zIndex:A},children:a.jsxs("g",{className:Ie(["react-flow__edge",`react-flow__edge-${b}`,g.className,k,{selected:g.selected,animated:g.animated,inactive:!E&&!s,updating:I,selectable:E}]),onClick:K,onDoubleClick:Y,onContextMenu:Z,onMouseEnter:W,onMouseMove:J,onMouseLeave:oe,onKeyDown:v?se:void 0,tabIndex:v?0:void 0,role:g.ariaRole??(v?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":g.ariaLabel===null?void 0:g.ariaLabel||`Edge from ${g.source} to ${g.target}`,"aria-describedby":v?`${E0}-${x}`:void 0,ref:M,...g.domAttributes,children:[!O&&a.jsx(j,{id:e,source:g.source,target:g.target,type:g.type,selected:g.selected,animated:g.animated,selectable:E,deletable:g.deletable??!0,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,sourceX:L,sourceY:C,targetX:P,targetY:F,sourcePosition:H,targetPosition:V,data:g.data,style:g.style,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerStart:q,markerEnd:U,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth}),_&&a.jsx(NC,{edge:g,isReconnectable:_,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:w,sourceX:L,sourceY:C,targetX:P,targetY:F,sourcePosition:H,targetPosition:V,setUpdateHover:T,setReconnecting:S})]})})}var _C=R.memo(jC);const kC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function J0({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:w,onReconnectEnd:x,disableKeyboardA11y:N}){const{edgesFocusable:k,edgesReconnectable:p,elementsSelectable:m,onError:g}=de(kC,je),y=uC(t);return a.jsxs("div",{className:"react-flow__edges",children:[a.jsx(mC,{defaultColor:e,rfId:n}),y.map(b=>a.jsx(_C,{id:b,edgesFocusable:k,edgesReconnectable:p,elementsSelectable:m,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:w,onReconnectEnd:x,rfId:n,onError:g,edgeTypes:r,disableKeyboardA11y:N},b))]})}J0.displayName="EdgeRenderer";const SC=R.memo(J0),EC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function CC({children:e}){const t=de(EC);return a.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function TC(e){const t=Ys(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const MC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function RC(e){const t=de(MC),n=_e();return R.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function PC(e){return e.connection.inProgress?{...e.connection,to:ko(e.connection.to,e.transform)}:{...e.connection}}function IC(e){return PC}function DC(e){const t=IC();return de(t,je)}const AC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function OC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:o,isValid:l,inProgress:u}=de(AC,je);return!(i&&s&&u)?null:a.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:a.jsx("g",{className:Ie(["react-flow__connection",Gy(l)]),children:a.jsx(ev,{style:t,type:n,CustomComponent:r,isValid:l})})})}const ev=({style:e,type:t=In.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:l,fromPosition:u,to:c,toNode:d,toHandle:f,toPosition:h,pointer:w}=DC();if(!s)return;if(n)return a.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:i.x,fromY:i.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:h,connectionStatus:Gy(r),toNode:d,toHandle:f,pointer:w});let x="";const N={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case In.Bezier:[x]=u0(N);break;case In.SimpleBezier:[x]=H0(N);break;case In.Step:[x]=ul({...N,borderRadius:0});break;case In.SmoothStep:[x]=ul(N);break;default:[x]=f0(N)}return a.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};ev.displayName="ConnectionLine";const LC={};function dp(e=LC){R.useRef(e),_e(),R.useEffect(()=>{},[e])}function zC(){_e(),R.useRef(!1),R.useEffect(()=>{},[])}function tv({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:w,connectionLineType:x,connectionLineStyle:N,connectionLineComponent:k,connectionLineContainerStyle:p,selectionKeyCode:m,selectionOnDrag:g,selectionMode:y,multiSelectionKeyCode:b,panActivationKeyCode:j,zoomActivationKeyCode:v,deleteKeyCode:_,onlyRenderVisibleElements:E,elementsSelectable:M,defaultViewport:I,translateExtent:T,minZoom:O,maxZoom:S,preventScrolling:z,defaultMarkerColor:A,zoomOnScroll:L,zoomOnPinch:C,panOnScroll:P,panOnScrollSpeed:F,panOnScrollMode:H,zoomOnDoubleClick:V,panOnDrag:q,onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:oe,nodeClickDistance:se,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:me,onEdgeMouseLeave:ve,reconnectRadius:he,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:on,noDragClassName:or,noWheelClassName:ei,noPanClassName:ti,disableKeyboardA11y:ni,nodeExtent:Xl,rfId:Mo,viewport:Wr,onViewportChange:ri}){return dp(e),dp(t),zC(),TC(n),RC(Wr),a.jsx(JE,{onPaneClick:U,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:oe,deleteKeyCode:_,selectionKeyCode:m,selectionOnDrag:g,selectionMode:y,onSelectionStart:h,onSelectionEnd:w,multiSelectionKeyCode:b,panActivationKeyCode:j,zoomActivationKeyCode:v,elementsSelectable:M,zoomOnScroll:L,zoomOnPinch:C,zoomOnDoubleClick:V,panOnScroll:P,panOnScrollSpeed:F,panOnScrollMode:H,panOnDrag:q,defaultViewport:I,translateExtent:T,minZoom:O,maxZoom:S,onSelectionContextMenu:f,preventScrolling:z,noDragClassName:or,noWheelClassName:ei,noPanClassName:ti,disableKeyboardA11y:ni,onViewportChange:ri,isControlledViewport:!!Wr,children:a.jsxs(CC,{children:[a.jsx(SC,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:on,onlyRenderVisibleElements:E,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:me,onEdgeMouseLeave:ve,reconnectRadius:he,defaultMarkerColor:A,noPanClassName:ti,disableKeyboardA11y:ni,rfId:Mo}),a.jsx(OC,{style:N,type:x,component:k,containerStyle:p}),a.jsx("div",{className:"react-flow__edgelabel-renderer"}),a.jsx(lC,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:se,onlyRenderVisibleElements:E,noPanClassName:ti,noDragClassName:or,disableKeyboardA11y:ni,nodeExtent:Xl,rfId:Mo}),a.jsx("div",{className:"react-flow__viewport-portal"})]})})}tv.displayName="GraphView";const FC=R.memo(tv),fp=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const w=new Map,x=new Map,N=new Map,k=new Map,p=r??t??[],m=n??e??[],g=d??[0,0],y=f??no;p0(N,k,p);const b=rd(m,w,x,{nodeOrigin:g,nodeExtent:y,zIndexMode:h});let j=[0,0,1];if(o&&s&&i){const v=jo(w,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:_,y:E,zoom:M}=wf(v,s,i,u,c,(l==null?void 0:l.padding)??.1);j=[_,E,M]}return{rfId:"1",width:s??0,height:i??0,transform:j,nodes:m,nodesInitialized:b,nodeLookup:w,parentLookup:x,edges:p,edgeLookup:k,connectionLookup:N,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:no,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:zs.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...Yy},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:uS,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ky,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},$C=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>sE((w,x)=>{async function N(){const{nodeLookup:k,panZoom:p,fitViewOptions:m,fitViewResolver:g,width:y,height:b,minZoom:j,maxZoom:v}=x();p&&(await aS({nodes:k,width:y,height:b,panZoom:p,minZoom:j,maxZoom:v},m),g==null||g.resolve(!0),w({fitViewResolver:null}))}return{...fp({nodes:e,edges:t,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:k=>{const{nodeLookup:p,parentLookup:m,nodeOrigin:g,elevateNodesOnSelect:y,fitViewQueued:b,zIndexMode:j}=x(),v=rd(k,p,m,{nodeOrigin:g,nodeExtent:f,elevateNodesOnSelect:y,checkEquality:!0,zIndexMode:j});b&&v?(N(),w({nodes:k,nodesInitialized:v,fitViewQueued:!1,fitViewOptions:void 0})):w({nodes:k,nodesInitialized:v})},setEdges:k=>{const{connectionLookup:p,edgeLookup:m}=x();p0(p,m,k),w({edges:k})},setDefaultNodesAndEdges:(k,p)=>{if(k){const{setNodes:m}=x();m(k),w({hasDefaultNodes:!0})}if(p){const{setEdges:m}=x();m(p),w({hasDefaultEdges:!0})}},updateNodeInternals:k=>{const{triggerNodeChanges:p,nodeLookup:m,parentLookup:g,domNode:y,nodeOrigin:b,nodeExtent:j,debug:v,fitViewQueued:_,zIndexMode:E}=x(),{changes:M,updatedInternals:I}=MS(k,m,g,y,b,j,E);I&&(SS(m,g,{nodeOrigin:b,nodeExtent:j,zIndexMode:E}),_?(N(),w({fitViewQueued:!1,fitViewOptions:void 0})):w({}),(M==null?void 0:M.length)>0&&(v&&console.log("React Flow: trigger node changes",M),p==null||p(M)))},updateNodePositions:(k,p=!1)=>{const m=[];let g=[];const{nodeLookup:y,triggerNodeChanges:b,connection:j,updateConnection:v,onNodesChangeMiddlewareMap:_}=x();for(const[E,M]of k){const I=y.get(E),T=!!(I!=null&&I.expandParent&&(I!=null&&I.parentId)&&(M!=null&&M.position)),O={id:E,type:"position",position:T?{x:Math.max(0,M.position.x),y:Math.max(0,M.position.y)}:M.position,dragging:p};if(I&&j.inProgress&&j.fromNode.id===I.id){const S=$r(I,j.fromHandle,G.Left,!0);v({...j,from:S})}T&&I.parentId&&m.push({id:E,parentId:I.parentId,rect:{...M.internals.positionAbsolute,width:M.measured.width??0,height:M.measured.height??0}}),g.push(O)}if(m.length>0){const{parentLookup:E,nodeOrigin:M}=x(),I=Sf(m,y,E,M);g.push(...I)}for(const E of _.values())g=E(g);b(g)},triggerNodeChanges:k=>{const{onNodesChange:p,setNodes:m,nodes:g,hasDefaultNodes:y,debug:b}=x();if(k!=null&&k.length){if(y){const j=M0(k,g);m(j)}b&&console.log("React Flow: trigger node changes",k),p==null||p(k)}},triggerEdgeChanges:k=>{const{onEdgesChange:p,setEdges:m,edges:g,hasDefaultEdges:y,debug:b}=x();if(k!=null&&k.length){if(y){const j=R0(k,g);m(j)}b&&console.log("React Flow: trigger edge changes",k),p==null||p(k)}},addSelectedNodes:k=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:b}=x();if(p){const j=k.map(v=>ur(v,!0));y(j);return}y(as(g,new Set([...k]),!0)),b(as(m))},addSelectedEdges:k=>{const{multiSelectionActive:p,edgeLookup:m,nodeLookup:g,triggerNodeChanges:y,triggerEdgeChanges:b}=x();if(p){const j=k.map(v=>ur(v,!0));b(j);return}b(as(m,new Set([...k]))),y(as(g,new Set,!0))},unselectNodesAndEdges:({nodes:k,edges:p}={})=>{const{edges:m,nodes:g,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:j}=x(),v=k||g,_=p||m,E=v.map(I=>{const T=y.get(I.id);return T&&(T.selected=!1),ur(I.id,!1)}),M=_.map(I=>ur(I.id,!1));b(E),j(M)},setMinZoom:k=>{const{panZoom:p,maxZoom:m}=x();p==null||p.setScaleExtent([k,m]),w({minZoom:k})},setMaxZoom:k=>{const{panZoom:p,minZoom:m}=x();p==null||p.setScaleExtent([m,k]),w({maxZoom:k})},setTranslateExtent:k=>{var p;(p=x().panZoom)==null||p.setTranslateExtent(k),w({translateExtent:k})},resetSelectedElements:()=>{const{edges:k,nodes:p,triggerNodeChanges:m,triggerEdgeChanges:g,elementsSelectable:y}=x();if(!y)return;const b=p.reduce((v,_)=>_.selected?[...v,ur(_.id,!1)]:v,[]),j=k.reduce((v,_)=>_.selected?[...v,ur(_.id,!1)]:v,[]);m(b),g(j)},setNodeExtent:k=>{const{nodes:p,nodeLookup:m,parentLookup:g,nodeOrigin:y,elevateNodesOnSelect:b,nodeExtent:j,zIndexMode:v}=x();k[0][0]===j[0][0]&&k[0][1]===j[0][1]&&k[1][0]===j[1][0]&&k[1][1]===j[1][1]||(rd(p,m,g,{nodeOrigin:y,nodeExtent:k,elevateNodesOnSelect:b,checkEquality:!1,zIndexMode:v}),w({nodeExtent:k}))},panBy:k=>{const{transform:p,width:m,height:g,panZoom:y,translateExtent:b}=x();return RS({delta:k,panZoom:y,transform:p,translateExtent:b,width:m,height:g})},setCenter:async(k,p,m)=>{const{width:g,height:y,maxZoom:b,panZoom:j}=x();if(!j)return Promise.resolve(!1);const v=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:b;return await j.setViewport({x:g/2-k*v,y:y/2-p*v,zoom:v},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{w({connection:{...Yy}})},updateConnection:k=>{w({connection:k})},reset:()=>w({...fp()})}},Object.is);function nv({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:u,fitView:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:w}){const[x]=R.useState(()=>$C({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:c,minZoom:o,maxZoom:l,fitViewOptions:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return a.jsx(iE,{value:x,children:a.jsx(CE,{children:w})})}function HC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:w}){return R.useContext(zl)?a.jsx(a.Fragment,{children:e}):a.jsx(nv,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:l,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:w,children:e})}const VC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function BC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:w,onConnectStart:x,onConnectEnd:N,onClickConnectStart:k,onClickConnectEnd:p,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:b,onNodeDoubleClick:j,onNodeDragStart:v,onNodeDrag:_,onNodeDragStop:E,onNodesDelete:M,onEdgesDelete:I,onDelete:T,onSelectionChange:O,onSelectionDragStart:S,onSelectionDrag:z,onSelectionDragStop:A,onSelectionContextMenu:L,onSelectionStart:C,onSelectionEnd:P,onBeforeDelete:F,connectionMode:H,connectionLineType:V=In.Bezier,connectionLineStyle:q,connectionLineComponent:U,connectionLineContainerStyle:K,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:W=!1,selectionMode:J=ro.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:se=io()?"Meta":"Control",zoomActivationKeyCode:ne=io()?"Meta":"Control",snapToGrid:te,snapGrid:me,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:he,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:on,nodesFocusable:or,nodeOrigin:ei=C0,edgesFocusable:ti,edgesReconnectable:ni,elementsSelectable:Xl=!0,defaultViewport:Mo=yE,minZoom:Wr=.5,maxZoom:ri=2,translateExtent:Df=no,preventScrolling:Fv=!0,nodeExtent:Kl,defaultMarkerColor:$v="#b1b1b7",zoomOnScroll:Hv=!0,zoomOnPinch:Vv=!0,panOnScroll:Bv=!1,panOnScrollSpeed:Uv=.5,panOnScrollMode:Wv=Tr.Free,zoomOnDoubleClick:qv=!0,panOnDrag:Qv=!0,onPaneClick:Xv,onPaneMouseEnter:Kv,onPaneMouseMove:Yv,onPaneMouseLeave:Gv,onPaneScroll:Zv,onPaneContextMenu:Jv,paneClickDistance:e1=1,nodeClickDistance:t1=0,children:n1,onReconnect:r1,onReconnectStart:s1,onReconnectEnd:i1,onEdgeContextMenu:o1,onEdgeDoubleClick:a1,onEdgeMouseEnter:l1,onEdgeMouseMove:u1,onEdgeMouseLeave:c1,reconnectRadius:d1=10,onNodesChange:f1,onEdgesChange:h1,noDragClassName:m1="nodrag",noWheelClassName:p1="nowheel",noPanClassName:Af="nopan",fitView:Of,fitViewOptions:Lf,connectOnClick:g1,attributionPosition:x1,proOptions:y1,defaultEdgeOptions:v1,elevateNodesOnSelect:w1=!0,elevateEdgesOnSelect:b1=!1,disableKeyboardA11y:zf=!1,autoPanOnConnect:N1,autoPanOnNodeDrag:j1,autoPanSpeed:_1,connectionRadius:k1,isValidConnection:S1,onError:E1,style:C1,id:Ff,nodeDragThreshold:T1,connectionDragThreshold:M1,viewport:R1,onViewportChange:P1,width:I1,height:D1,colorMode:A1="light",debug:O1,onScroll:Ro,ariaLabelConfig:L1,zIndexMode:$f="basic",...z1},F1){const Yl=Ff||"1",$1=NE(A1),H1=R.useCallback(Hf=>{Hf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ro==null||Ro(Hf)},[Ro]);return a.jsx("div",{"data-testid":"rf__wrapper",...z1,onScroll:H1,style:{...C1,...VC},ref:F1,className:Ie(["react-flow",s,$1]),id:Ff,role:"application",children:a.jsxs(HC,{nodes:e,edges:t,width:I1,height:D1,fitView:Of,fitViewOptions:Lf,minZoom:Wr,maxZoom:ri,nodeOrigin:ei,nodeExtent:Kl,zIndexMode:$f,children:[a.jsx(FC,{onInit:c,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:b,onNodeDoubleClick:j,nodeTypes:i,edgeTypes:o,connectionLineType:V,connectionLineStyle:q,connectionLineComponent:U,connectionLineContainerStyle:K,selectionKeyCode:Z,selectionOnDrag:W,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:se,panActivationKeyCode:oe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:ve,defaultViewport:Mo,translateExtent:Df,minZoom:Wr,maxZoom:ri,preventScrolling:Fv,zoomOnScroll:Hv,zoomOnPinch:Vv,zoomOnDoubleClick:qv,panOnScroll:Bv,panOnScrollSpeed:Uv,panOnScrollMode:Wv,panOnDrag:Qv,onPaneClick:Xv,onPaneMouseEnter:Kv,onPaneMouseMove:Yv,onPaneMouseLeave:Gv,onPaneScroll:Zv,onPaneContextMenu:Jv,paneClickDistance:e1,nodeClickDistance:t1,onSelectionContextMenu:L,onSelectionStart:C,onSelectionEnd:P,onReconnect:r1,onReconnectStart:s1,onReconnectEnd:i1,onEdgeContextMenu:o1,onEdgeDoubleClick:a1,onEdgeMouseEnter:l1,onEdgeMouseMove:u1,onEdgeMouseLeave:c1,reconnectRadius:d1,defaultMarkerColor:$v,noDragClassName:m1,noWheelClassName:p1,noPanClassName:Af,rfId:Yl,disableKeyboardA11y:zf,nodeExtent:Kl,viewport:R1,onViewportChange:P1}),a.jsx(bE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:w,onConnectStart:x,onConnectEnd:N,onClickConnectStart:k,onClickConnectEnd:p,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:on,nodesFocusable:or,edgesFocusable:ti,edgesReconnectable:ni,elementsSelectable:Xl,elevateNodesOnSelect:w1,elevateEdgesOnSelect:b1,minZoom:Wr,maxZoom:ri,nodeExtent:Kl,onNodesChange:f1,onEdgesChange:h1,snapToGrid:te,snapGrid:me,connectionMode:H,translateExtent:Df,connectOnClick:g1,defaultEdgeOptions:v1,fitView:Of,fitViewOptions:Lf,onNodesDelete:M,onEdgesDelete:I,onDelete:T,onNodeDragStart:v,onNodeDrag:_,onNodeDragStop:E,onSelectionDrag:z,onSelectionDragStart:S,onSelectionDragStop:A,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:Af,nodeOrigin:ei,rfId:Yl,autoPanOnConnect:N1,autoPanOnNodeDrag:j1,autoPanSpeed:_1,onError:E1,connectionRadius:k1,isValidConnection:S1,selectNodesOnDrag:he,nodeDragThreshold:T1,connectionDragThreshold:M1,onBeforeDelete:F,debug:O1,ariaLabelConfig:L1,zIndexMode:$f}),a.jsx(xE,{onSelectionChange:O}),n1,a.jsx(fE,{proOptions:y1,position:x1}),a.jsx(dE,{rfId:Yl,disableKeyboardA11y:zf})]})})}var UC=P0(BC);const WC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function qC({children:e}){const t=de(WC);return t?ey.createPortal(e,t):null}function QC({dimensions:e,lineWidth:t,variant:n,className:r}){return a.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ie(["react-flow__background-pattern",n,r])})}function XC({radius:e,className:t}){return a.jsx("circle",{cx:e,cy:e,r:e,className:Ie(["react-flow__background-pattern","dots",t])})}var Jn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Jn||(Jn={}));const KC={[Jn.Dots]:1,[Jn.Lines]:1,[Jn.Cross]:6},YC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function rv({id:e,variant:t=Jn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:o,bgColor:l,style:u,className:c,patternClassName:d}){const f=R.useRef(null),{transform:h,patternId:w}=de(YC,je),x=r||KC[t],N=t===Jn.Dots,k=t===Jn.Cross,p=Array.isArray(n)?n:[n,n],m=[p[0]*h[2]||1,p[1]*h[2]||1],g=x*h[2],y=Array.isArray(i)?i:[i,i],b=k?[g,g]:m,j=[y[0]*h[2]||1+b[0]/2,y[1]*h[2]||1+b[1]/2],v=`${w}${e||""}`;return a.jsxs("svg",{className:Ie(["react-flow__background",c]),style:{...u,...$l,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[a.jsx("pattern",{id:v,x:h[0]%m[0],y:h[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`,children:N?a.jsx(XC,{radius:g/2,className:d}):a.jsx(QC,{dimensions:b,lineWidth:s,variant:t,className:d})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v})`})]})}rv.displayName="Background";const GC=R.memo(rv);function ZC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:a.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function JC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:a.jsx("path",{d:"M0 0h32v4.2H0z"})})}function eT(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:a.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tT(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function nT(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ia({children:e,className:t,...n}){return a.jsx("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n,children:e})}const rT=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function sv({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:c,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":w}){const x=_e(),{isInteractive:N,minZoomReached:k,maxZoomReached:p,ariaLabelConfig:m}=de(rT,je),{zoomIn:g,zoomOut:y,fitView:b}=Ys(),j=()=>{g(),i==null||i()},v=()=>{y(),o==null||o()},_=()=>{b(s),l==null||l()},E=()=>{x.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),u==null||u(!N)},M=h==="horizontal"?"horizontal":"vertical";return a.jsxs(Fl,{className:Ie(["react-flow__controls",M,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":w??m["controls.ariaLabel"],children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(ia,{onClick:j,className:"react-flow__controls-zoomin",title:m["controls.zoomIn.ariaLabel"],"aria-label":m["controls.zoomIn.ariaLabel"],disabled:p,children:a.jsx(ZC,{})}),a.jsx(ia,{onClick:v,className:"react-flow__controls-zoomout",title:m["controls.zoomOut.ariaLabel"],"aria-label":m["controls.zoomOut.ariaLabel"],disabled:k,children:a.jsx(JC,{})})]}),n&&a.jsx(ia,{className:"react-flow__controls-fitview",onClick:_,title:m["controls.fitView.ariaLabel"],"aria-label":m["controls.fitView.ariaLabel"],children:a.jsx(eT,{})}),r&&a.jsx(ia,{className:"react-flow__controls-interactive",onClick:E,title:m["controls.interactive.ariaLabel"],"aria-label":m["controls.interactive.ariaLabel"],children:N?a.jsx(nT,{}):a.jsx(tT,{})}),d]})}sv.displayName="Controls";const sT=R.memo(sv);function iT({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:l,strokeWidth:u,className:c,borderRadius:d,shapeRendering:f,selected:h,onClick:w}){const{background:x,backgroundColor:N}=i||{},k=o||x||N;return a.jsx("rect",{className:Ie(["react-flow__minimap-node",{selected:h},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:k,stroke:l,strokeWidth:u},shapeRendering:f,onClick:w?p=>w(p,e):void 0})}const oT=R.memo(iT),aT=e=>e.nodes.map(t=>t.id),Du=e=>e instanceof Function?e:()=>e;function lT({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=oT,onClick:o}){const l=de(aT,je),u=Du(t),c=Du(e),d=Du(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:l.map(h=>a.jsx(cT,{id:h,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:f},h))})}function uT({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:c,x:d,y:f,width:h,height:w}=de(x=>{const{internals:N}=x.nodeLookup.get(e),k=N.userNode,{x:p,y:m}=N.positionAbsolute,{width:g,height:y}=jn(k);return{node:k,x:p,y:m,width:g,height:y}},je);return!c||c.hidden||!r0(c)?null:a.jsx(l,{x:d,y:f,width:h,height:w,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:i,shapeRendering:o,onClick:u,id:c.id})}const cT=R.memo(uT);var dT=R.memo(lT);const fT=200,hT=150,mT=e=>!e.hidden,pT=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?n0(jo(e.nodeLookup,{filter:mT}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},gT="react-flow__minimap-desc";function iv({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:w,onNodeClick:x,pannable:N=!1,zoomable:k=!1,ariaLabel:p,inversePan:m,zoomStep:g=1,offsetScale:y=5}){const b=_e(),j=R.useRef(null),{boundingRect:v,viewBB:_,rfId:E,panZoom:M,translateExtent:I,flowWidth:T,flowHeight:O,ariaLabelConfig:S}=de(pT,je),z=(e==null?void 0:e.width)??fT,A=(e==null?void 0:e.height)??hT,L=v.width/z,C=v.height/A,P=Math.max(L,C),F=P*z,H=P*A,V=y*P,q=v.x-(F-v.width)/2-V,U=v.y-(H-v.height)/2-V,K=F+V*2,Y=H+V*2,Z=`${gT}-${E}`,W=R.useRef(0),J=R.useRef();W.current=P,R.useEffect(()=>{if(j.current&&M)return J.current=$S({domNode:j.current,panZoom:M,getTransform:()=>b.getState().transform,getViewScale:()=>W.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[M]),R.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:I,width:T,height:O,inversePan:m,pannable:N,zoomStep:g,zoomable:k})},[N,k,m,g,I,T,O]);const oe=w?te=>{var he;const[me,ve]=((he=J.current)==null?void 0:he.pointer(te))||[0,0];w(te,{x:me,y:ve})}:void 0,se=x?R.useCallback((te,me)=>{const ve=b.getState().nodeLookup.get(me).internals.userNode;x(te,ve)},[]):void 0,ne=p??S["minimap.ariaLabel"];return a.jsx(Fl,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*P:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:z,height:A,viewBox:`${q} ${U} ${K} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:j,onClick:oe,children:[ne&&a.jsx("title",{id:Z,children:ne}),a.jsx(dT,{onClick:se,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-V},${U-V}h${K+V*2}v${Y+V*2}h${-K-V*2}z
        M${_.x},${_.y}h${_.width}v${_.height}h${-_.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}iv.displayName="MiniMap";R.memo(iv);const xT=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,yT={[Vs.Line]:"right",[Vs.Handle]:"bottom-right"};function vT({nodeId:e,position:t,variant:n=Vs.Handle,className:r,style:s=void 0,children:i,color:o,minWidth:l=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:w=!0,shouldResize:x,onResizeStart:N,onResize:k,onResizeEnd:p}){const m=O0(),g=typeof e=="string"?e:m,y=_e(),b=R.useRef(null),j=n===Vs.Handle,v=de(R.useCallback(xT(j&&w),[j,w]),je),_=R.useRef(null),E=t??yT[n];R.useEffect(()=>{if(!(!b.current||!g))return _.current||(_.current=eE({domNode:b.current,nodeId:g,getStoreItems:()=>{const{nodeLookup:I,transform:T,snapGrid:O,snapToGrid:S,nodeOrigin:z,domNode:A}=y.getState();return{nodeLookup:I,transform:T,snapGrid:O,snapToGrid:S,nodeOrigin:z,paneDomNode:A}},onChange:(I,T)=>{const{triggerNodeChanges:O,nodeLookup:S,parentLookup:z,nodeOrigin:A}=y.getState(),L=[],C={x:I.x,y:I.y},P=S.get(g);if(P&&P.expandParent&&P.parentId){const F=P.origin??A,H=I.width??P.measured.width??0,V=I.height??P.measured.height??0,q={id:P.id,parentId:P.parentId,rect:{width:H,height:V,...s0({x:I.x??P.position.x,y:I.y??P.position.y},{width:H,height:V},P.parentId,S,F)}},U=Sf([q],S,z,A);L.push(...U),C.x=I.x?Math.max(F[0]*H,I.x):void 0,C.y=I.y?Math.max(F[1]*V,I.y):void 0}if(C.x!==void 0&&C.y!==void 0){const F={id:g,type:"position",position:{...C}};L.push(F)}if(I.width!==void 0&&I.height!==void 0){const H={id:g,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:I.width,height:I.height}};L.push(H)}for(const F of T){const H={...F,type:"position"};L.push(H)}O(L)},onEnd:({width:I,height:T})=>{const O={id:g,type:"dimensions",resizing:!1,dimensions:{width:I,height:T}};y.getState().triggerNodeChanges([O])}})),_.current.update({controlPosition:E,boundaries:{minWidth:l,minHeight:u,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:N,onResize:k,onResizeEnd:p,shouldResize:x}),()=>{var I;(I=_.current)==null||I.destroy()}},[E,l,u,c,d,f,N,k,p,x]);const M=E.split("-");return a.jsx("div",{className:Ie(["react-flow__resize-control","nodrag",...M,n,r]),ref:b,style:{...s,scale:v,...o&&{[j?"backgroundColor":"borderColor"]:o}},children:i})}R.memo(vT);const ce=j2((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:n=>e({executionResult:n}),setGraph:(n,r)=>e({nodes:n,edges:r}),onNodesChange:n=>{e({nodes:M0(n,t().nodes)})},onEdgesChange:n=>{e({edges:R0(n,t().edges)})},onConnect:n=>{e({edges:d0(n,t().edges)})},addNode:(n,r,s={})=>{const i=xe.get(n);if(!i)return console.error(`Node type ${n} not found in registry`),"";const o=`${n}-${Date.now()}`,l={id:o,type:"custom",position:r,data:{definitionType:n,catalogType:n,...i.getDefaultConfig(),...s}};return e({nodes:[...t().nodes,l]}),o},updateNodeData:(n,r)=>{e({nodes:t().nodes.map(s=>s.id===n?{...s,data:{...s.data,...r}}:s)})},validateGraph:async()=>{const{nodes:n,edges:r}=t();if(n.length===0)return!1;for(const s of n){const i=xe.get(s.data.definitionType);if(i){const o=i.validate(s.data);if(!o.isValid)return console.warn(`Node ${s.id} validation failed: ${o.message}`),!1}}for(const s of n){const i=xe.get(s.data.definitionType);if(i&&i.inputs.length>0&&!r.some(l=>l.target===s.id))return console.warn(`Node ${s.id} (${i.label}) is disconnected.`),!1}return!0}}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=R.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>R.createElement("svg",{ref:d,...wT,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bT(e)}`,l].join(" "),...c},[...t.map(([f,h])=>R.createElement(f,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=re("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=re("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=re("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=re("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=re("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=re("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=re("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=re("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=re("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=re("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=re("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=re("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=re("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=re("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=re("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=re("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=re("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=re("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=re("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),t3=()=>{const e=xe.getAll(),t=ce(l=>l.addNode),[n,r]=R.useState(""),s=(l,u)=>{l.dataTransfer.setData("application/reactflow",u),l.dataTransfer.effectAllowed="move"},i=e.filter(l=>l.label.toLowerCase().includes(n.toLowerCase())||l.category.toLowerCase().includes(n.toLowerCase())),o=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return a.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[a.jsxs("div",{className:"p-4 border-b space-y-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Tf,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:n,onChange:l=>r(l.target.value)})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:o.map(l=>{const u=i.filter(c=>c.category===l);return u.length===0?null:a.jsxs("div",{children:[a.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:l}),a.jsx("div",{className:"space-y-2",children:u.map(c=>a.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>s(d,c.type),onClick:()=>t(c.type,{x:100,y:100}),children:[a.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:c.icon&&a.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:c.label}),a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:c.description})]})]},c.type))})]},l)})})]})};function n3(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:r3}=Lt;function s3(e){const t=r3();return n=>{const r=e(n);return n3(t.current,r)?t.current:t.current=r}}const i3=R.memo(({id:e,data:t,selected:n})=>{const r=t.definitionType,s=xe.get(r),{deleteElements:i}=Ys(),o=ce(c=>c.executionResult),l=o==null?void 0:o.node_results[e],u=c=>{c.stopPropagation(),i({nodes:[{id:e}]})};return s?a.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${n?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[a.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:s.icon&&a.jsx(s.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-sm font-bold",children:s.label}),l&&a.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?a.jsx(ET,{size:10}):a.jsx(CT,{size:10})})]}),a.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:s.category})]}),a.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:a.jsx(dl,{size:14})})]}),a.jsx("div",{className:"p-3",children:s.component?a.jsx(s.component,{data:t}):a.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),s.inputs.map((c,d)=>a.jsx(Bs,{type:"target",position:G.Left,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.inputs.length+1)}%`},children:a.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`input-${c.id}`)),s.outputs.map((c,d)=>a.jsx(Bs,{type:"source",position:G.Right,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.outputs.length+1)}%`},children:a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`output-${c.id}`))]}):a.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[a.jsx(kT,{size:16}),a.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),a.jsxs("div",{className:"text-xs mt-1",children:["Type: ",r]})]})}),o3=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,style:l={},markerEnd:u})=>{const{deleteElements:c}=Ys(),[d,f,h]=ul({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o,borderRadius:24}),w=x=>{x.stopPropagation(),c({edges:[{id:e}]})};return a.jsxs(a.Fragment,{children:[a.jsx(Us,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),a.jsx(Us,{path:d,markerEnd:u,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),a.jsx(qC,{children:a.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:a.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:w,title:"Remove Connection",children:a.jsx(dl,{size:10})})})})]})},a3={custom:i3},l3={custom:o3},u3=()=>{const e=R.useRef(null),{screenToFlowPosition:t}=Ys(),{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,addNode:l}=ce(s3(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),u=R.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),c=R.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});l(f,h)},[t,l]);return a.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:a.jsxs(UC,{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,nodeTypes:a3,onDragOver:u,onDrop:c,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:l3,deleteKeyCode:["Backspace","Delete"],children:[a.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"edge-gradient",children:[a.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),a.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),a.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),a.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),a.jsx(GC,{}),a.jsx(sT,{position:"top-left"})]})})},c3=()=>a.jsx(nv,{children:a.jsx(u3,{})}),d3=()=>{const e=ce(f=>f.nodes),t=ce(f=>f.updateNodeData),n=ce(f=>f.onNodesChange),[r,s]=R.useState(!1),i=e.find(f=>f.selected);if(!i)return a.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[a.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:a.jsx(YT,{className:"w-8 h-8 opacity-50"})}),a.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),a.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const o=()=>{n([{id:i.id,type:"select",selected:!1}])},l=()=>{s(!r)},u=i.data.definitionType,c=xe.get(u);if(!c)return a.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:a.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[a.jsx(dl,{className:"w-4 h-4"}),"Error: Node definition '",u,"' not found."]})});const d=c.settings;return a.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${r?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:c.icon&&a.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-sm",children:c.label}),a.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:c.category})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:l,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:r?"Collapse":"Expand",children:r?a.jsx(HT,{className:"w-4 h-4"}):a.jsx($T,{className:"w-4 h-4"})}),a.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:a.jsx(dl,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:d?a.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):a.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),a.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[a.jsxs("span",{children:["ID: ",i.id]}),a.jsx("span",{children:"v1.0"})]})]})};function hv(e,t){return function(){return e.apply(t,arguments)}}const{toString:f3}=Object.prototype,{getPrototypeOf:Mf}=Object,{iterator:Vl,toStringTag:mv}=Symbol,Bl=(e=>t=>{const n=f3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ut=e=>(e=e.toLowerCase(),t=>Bl(t)===e),Ul=e=>t=>typeof t===e,{isArray:Gs}=Array,Ws=Ul("undefined");function So(e){return e!==null&&!Ws(e)&&e.constructor!==null&&!Ws(e.constructor)&&dt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pv=Ut("ArrayBuffer");function h3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pv(e.buffer),t}const m3=Ul("string"),dt=Ul("function"),gv=Ul("number"),Eo=e=>e!==null&&typeof e=="object",p3=e=>e===!0||e===!1,ka=e=>{if(Bl(e)!=="object")return!1;const t=Mf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mv in e)&&!(Vl in e)},g3=e=>{if(!Eo(e)||So(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},x3=Ut("Date"),y3=Ut("File"),v3=Ut("Blob"),w3=Ut("FileList"),b3=e=>Eo(e)&&dt(e.pipe),N3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dt(e.append)&&((t=Bl(e))==="formdata"||t==="object"&&dt(e.toString)&&e.toString()==="[object FormData]"))},j3=Ut("URLSearchParams"),[_3,k3,S3,E3]=["ReadableStream","Request","Response","Headers"].map(Ut),C3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Co(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Gs(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(So(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function xv(e,t){if(So(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yv=e=>!Ws(e)&&e!==gr;function ad(){const{caseless:e,skipUndefined:t}=yv(this)&&this||{},n={},r=(s,i)=>{const o=e&&xv(n,i)||i;ka(n[o])&&ka(s)?n[o]=ad(n[o],s):ka(s)?n[o]=ad({},s):Gs(s)?n[o]=s.slice():(!t||!Ws(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Co(arguments[s],r);return n}const T3=(e,t,n,{allOwnKeys:r}={})=>(Co(t,(s,i)=>{n&&dt(s)?e[i]=hv(s,n):e[i]=s},{allOwnKeys:r}),e),M3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),R3=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},P3=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Mf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},I3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},D3=e=>{if(!e)return null;if(Gs(e))return e;let t=e.length;if(!gv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},A3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Mf(Uint8Array)),O3=(e,t)=>{const r=(e&&e[Vl]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},L3=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},z3=Ut("HTMLFormElement"),F3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),hp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$3=Ut("RegExp"),vv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Co(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},H3=e=>{vv(e,(t,n)=>{if(dt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(dt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},V3=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Gs(e)?r(e):r(String(e).split(t)),n},B3=()=>{},U3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function W3(e){return!!(e&&dt(e.append)&&e[mv]==="FormData"&&e[Vl])}const q3=e=>{const t=new Array(10),n=(r,s)=>{if(Eo(r)){if(t.indexOf(r)>=0)return;if(So(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Gs(r)?[]:{};return Co(r,(o,l)=>{const u=n(o,s+1);!Ws(u)&&(i[l]=u)}),t[s]=void 0,i}}return r};return n(e,0)},Q3=Ut("AsyncFunction"),X3=e=>e&&(Eo(e)||dt(e))&&dt(e.then)&&dt(e.catch),wv=((e,t)=>e?setImmediate:t?((n,r)=>(gr.addEventListener("message",({source:s,data:i})=>{s===gr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),gr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dt(gr.postMessage)),K3=typeof queueMicrotask<"u"?queueMicrotask.bind(gr):typeof process<"u"&&process.nextTick||wv,Y3=e=>e!=null&&dt(e[Vl]),$={isArray:Gs,isArrayBuffer:pv,isBuffer:So,isFormData:N3,isArrayBufferView:h3,isString:m3,isNumber:gv,isBoolean:p3,isObject:Eo,isPlainObject:ka,isEmptyObject:g3,isReadableStream:_3,isRequest:k3,isResponse:S3,isHeaders:E3,isUndefined:Ws,isDate:x3,isFile:y3,isBlob:v3,isRegExp:$3,isFunction:dt,isStream:b3,isURLSearchParams:j3,isTypedArray:A3,isFileList:w3,forEach:Co,merge:ad,extend:T3,trim:C3,stripBOM:M3,inherits:R3,toFlatObject:P3,kindOf:Bl,kindOfTest:Ut,endsWith:I3,toArray:D3,forEachEntry:O3,matchAll:L3,isHTMLForm:z3,hasOwnProperty:hp,hasOwnProp:hp,reduceDescriptors:vv,freezeMethods:H3,toObjectSet:V3,toCamelCase:F3,noop:B3,toFiniteNumber:U3,findKey:xv,global:gr,isContextDefined:yv,isSpecCompliantForm:W3,toJSONObject:q3,isAsyncFn:Q3,isThenable:X3,setImmediate:wv,asap:K3,isIterable:Y3};function ie(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const bv=ie.prototype,Nv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Nv[e]={value:e}});Object.defineProperties(ie,Nv);Object.defineProperty(bv,"isAxiosError",{value:!0});ie.from=(e,t,n,r,s,i)=>{const o=Object.create(bv);$.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return ie.call(o,l,u,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const G3=null;function ld(e){return $.isPlainObject(e)||$.isArray(e)}function jv(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function mp(e,t,n){return e?e.concat(t).map(function(s,i){return s=jv(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Z3(e){return $.isArray(e)&&!e.some(ld)}const J3=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Wl(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,k){return!$.isUndefined(k[N])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if($.isDate(x))return x.toISOString();if($.isBoolean(x))return x.toString();if(!u&&$.isBlob(x))throw new ie("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(x)||$.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,N,k){let p=x;if(x&&!k&&typeof x=="object"){if($.endsWith(N,"{}"))N=r?N:N.slice(0,-2),x=JSON.stringify(x);else if($.isArray(x)&&Z3(x)||($.isFileList(x)||$.endsWith(N,"[]"))&&(p=$.toArray(x)))return N=jv(N),p.forEach(function(g,y){!($.isUndefined(g)||g===null)&&t.append(o===!0?mp([N],y,i):o===null?N:N+"[]",c(g))}),!1}return ld(x)?!0:(t.append(mp(k,N,i),c(x)),!1)}const f=[],h=Object.assign(J3,{defaultVisitor:d,convertValue:c,isVisitable:ld});function w(x,N){if(!$.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+N.join("."));f.push(x),$.forEach(x,function(p,m){(!($.isUndefined(p)||p===null)&&s.call(t,p,$.isString(m)?m.trim():m,N,h))===!0&&w(p,N?N.concat(m):[m])}),f.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return w(e),t}function pp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Rf(e,t){this._pairs=[],e&&Wl(e,this,t)}const _v=Rf.prototype;_v.append=function(t,n){this._pairs.push([t,n])};_v.toString=function(t){const n=t?function(r){return t.call(this,r,pp)}:pp;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function e4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kv(e,t,n){if(!t)return e;const r=n&&n.encode||e4;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=$.isURLSearchParams(t)?t.toString():new Rf(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class gp{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Sv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t4=typeof URLSearchParams<"u"?URLSearchParams:Rf,n4=typeof FormData<"u"?FormData:null,r4=typeof Blob<"u"?Blob:null,s4={isBrowser:!0,classes:{URLSearchParams:t4,FormData:n4,Blob:r4},protocols:["http","https","file","blob","url","data"]},Pf=typeof window<"u"&&typeof document<"u",ud=typeof navigator=="object"&&navigator||void 0,i4=Pf&&(!ud||["ReactNative","NativeScript","NS"].indexOf(ud.product)<0),o4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a4=Pf&&window.location.href||"http://localhost",l4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pf,hasStandardBrowserEnv:i4,hasStandardBrowserWebWorkerEnv:o4,navigator:ud,origin:a4},Symbol.toStringTag,{value:"Module"})),Xe={...l4,...s4};function u4(e,t){return Wl(e,new Xe.classes.URLSearchParams,{visitor:function(n,r,s,i){return Xe.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function c4(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function d4(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Ev(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=n.length;return o=!o&&$.isArray(s)?s.length:o,u?($.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!$.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&$.isArray(s[o])&&(s[o]=d4(s[o])),!l)}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,(r,s)=>{t(c4(r),s,n,0)}),n}return null}function f4(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const To={transitional:Sv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=$.isObject(t);if(i&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return s?JSON.stringify(Ev(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return u4(t,this.formSerializer).toString();if((l=$.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Wl(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),f4(t)):t}],transformResponse:[function(t){const n=this.transitional||To.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ie.from(l,ie.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xe.classes.FormData,Blob:Xe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{To.headers[e]={}});const h4=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),m4=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&h4[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},xp=Symbol("internals");function mi(e){return e&&String(e).trim().toLowerCase()}function Sa(e){return e===!1||e==null?e:$.isArray(e)?e.map(Sa):String(e)}function p4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const g4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Au(e,t,n,r,s){if($.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!$.isString(t)){if($.isString(r))return t.indexOf(r)!==-1;if($.isRegExp(r))return r.test(t)}}function x4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function y4(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let ft=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,u,c){const d=mi(u);if(!d)throw new Error("header name must be a non-empty string");const f=$.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||u]=Sa(l))}const o=(l,u)=>$.forEach(l,(c,d)=>i(c,d,u));if($.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if($.isString(t)&&(t=t.trim())&&!g4(t))o(m4(t),n);else if($.isObject(t)&&$.isIterable(t)){let l={},u,c;for(const d of t){if(!$.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?$.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=mi(t),t){const r=$.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return p4(s);if($.isFunction(n))return n.call(this,s,r);if($.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=mi(t),t){const r=$.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Au(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=mi(o),o){const l=$.findKey(r,o);l&&(!n||Au(r,r[l],l,n))&&(delete r[l],s=!0)}}return $.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Au(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return $.forEach(this,(s,i)=>{const o=$.findKey(r,i);if(o){n[o]=Sa(s),delete n[i];return}const l=t?x4(i):String(i).trim();l!==i&&delete n[i],n[l]=Sa(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return $.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[xp]=this[xp]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=mi(o);r[l]||(y4(s,o),r[l]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}};ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(ft.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});$.freezeMethods(ft);function Ou(e,t){const n=this||To,r=t||n,s=ft.from(r.headers);let i=r.data;return $.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Cv(e){return!!(e&&e.__CANCEL__)}function Zs(e,t,n){ie.call(this,e??"canceled",ie.ERR_CANCELED,t,n),this.name="CanceledError"}$.inherits(Zs,ie,{__CANCEL__:!0});function Tv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ie("Request failed with status code "+n.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function v4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function w4(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=r[i];o||(o=c),n[s]=u,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const w=d&&c-d;return w?Math.round(h*1e3/w):void 0}}function b4(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const fl=(e,t,n=3)=>{let r=0;const s=w4(50,250);return b4(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-r,c=s(u),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},yp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},vp=e=>(...t)=>$.asap(()=>e(...t)),N4=Xe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Xe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Xe.origin),Xe.navigator&&/(msie|trident)/i.test(Xe.navigator.userAgent)):()=>!0,j4=Xe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];$.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&l.push(`path=${r}`),$.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),$.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function k4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mv(e,t,n){let r=!_4(t);return e&&(r||n==!1)?k4(e,t):t}const wp=e=>e instanceof ft?{...e}:e;function Hr(e,t){t=t||{};const n={};function r(c,d,f,h){return $.isPlainObject(c)&&$.isPlainObject(d)?$.merge.call({caseless:h},c,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function s(c,d,f,h){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!$.isUndefined(d))return r(void 0,d)}function o(c,d){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,d,f)=>s(wp(c),wp(d),f,!0)};return $.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||s,h=f(e[d],t[d],d);$.isUndefined(h)&&f!==l||(n[d]=h)}),n}const Rv=e=>{const t=Hr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=ft.from(o),t.url=kv(Mv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),$.isFormData(n)){if(Xe.hasStandardBrowserEnv||Xe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if($.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&o.set(d,f)})}}if(Xe.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(t)),r||r!==!1&&N4(t.url))){const u=s&&i&&j4.read(i);u&&o.set(s,u)}return t},S4=typeof XMLHttpRequest<"u",E4=S4&&function(e){return new Promise(function(n,r){const s=Rv(e);let i=s.data;const o=ft.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,d,f,h,w,x;function N(){w&&w(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function p(){if(!k)return;const g=ft.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:g,config:e,request:k};Tv(function(v){n(v),N()},function(v){r(v),N()},b),k=null}"onloadend"in k?k.onloadend=p:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(p)},k.onabort=function(){k&&(r(new ie("Request aborted",ie.ECONNABORTED,e,k)),k=null)},k.onerror=function(y){const b=y&&y.message?y.message:"Network Error",j=new ie(b,ie.ERR_NETWORK,e,k);j.event=y||null,r(j),k=null},k.ontimeout=function(){let y=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const b=s.transitional||Sv;s.timeoutErrorMessage&&(y=s.timeoutErrorMessage),r(new ie(y,b.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,e,k)),k=null},i===void 0&&o.setContentType(null),"setRequestHeader"in k&&$.forEach(o.toJSON(),function(y,b){k.setRequestHeader(b,y)}),$.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),l&&l!=="json"&&(k.responseType=s.responseType),c&&([h,x]=fl(c,!0),k.addEventListener("progress",h)),u&&k.upload&&([f,w]=fl(u),k.upload.addEventListener("progress",f),k.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(d=g=>{k&&(r(!g||g.type?new Zs(null,e,k):g),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=v4(s.url);if(m&&Xe.protocols.indexOf(m)===-1){r(new ie("Unsupported protocol "+m+":",ie.ERR_BAD_REQUEST,e));return}k.send(i||null)})},C4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,l();const d=c instanceof Error?c:this.reason;r.abort(d instanceof ie?d:new Zs(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>$.asap(l),u}},T4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},M4=async function*(e,t){for await(const n of R4(e))yield*T4(n,t)},R4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},bp=(e,t,n,r)=>{const s=M4(e,t);let i=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){l(),u.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Np=64*1024,{isFunction:aa}=$,P4=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:jp,TextEncoder:_p}=$.global,kp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},I4=e=>{e=$.merge.call({skipUndefined:!0},P4,e);const{fetch:t,Request:n,Response:r}=e,s=t?aa(t):typeof fetch=="function",i=aa(n),o=aa(r);if(!s)return!1;const l=s&&aa(jp),u=s&&(typeof _p=="function"?(x=>N=>x.encode(N))(new _p):async x=>new Uint8Array(await new n(x).arrayBuffer())),c=i&&l&&kp(()=>{let x=!1;const N=new n(Xe.origin,{body:new jp,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!N}),d=o&&l&&kp(()=>$.isReadableStream(new r("").body)),f={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(N,k)=>{let p=N&&N[x];if(p)return p.call(N);throw new ie(`Response type '${x}' is not supported`,ie.ERR_NOT_SUPPORT,k)})});const h=async x=>{if(x==null)return 0;if($.isBlob(x))return x.size;if($.isSpecCompliantForm(x))return(await new n(Xe.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if($.isArrayBufferView(x)||$.isArrayBuffer(x))return x.byteLength;if($.isURLSearchParams(x)&&(x=x+""),$.isString(x))return(await u(x)).byteLength},w=async(x,N)=>{const k=$.toFiniteNumber(x.getContentLength());return k??h(N)};return async x=>{let{url:N,method:k,data:p,signal:m,cancelToken:g,timeout:y,onDownloadProgress:b,onUploadProgress:j,responseType:v,headers:_,withCredentials:E="same-origin",fetchOptions:M}=Rv(x),I=t||fetch;v=v?(v+"").toLowerCase():"text";let T=C4([m,g&&g.toAbortSignal()],y),O=null;const S=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let z;try{if(j&&c&&k!=="get"&&k!=="head"&&(z=await w(_,p))!==0){let H=new n(N,{method:"POST",body:p,duplex:"half"}),V;if($.isFormData(p)&&(V=H.headers.get("content-type"))&&_.setContentType(V),H.body){const[q,U]=yp(z,fl(vp(j)));p=bp(H.body,Np,q,U)}}$.isString(E)||(E=E?"include":"omit");const A=i&&"credentials"in n.prototype,L={...M,signal:T,method:k.toUpperCase(),headers:_.normalize().toJSON(),body:p,duplex:"half",credentials:A?E:void 0};O=i&&new n(N,L);let C=await(i?I(O,M):I(N,L));const P=d&&(v==="stream"||v==="response");if(d&&(b||P&&S)){const H={};["status","statusText","headers"].forEach(K=>{H[K]=C[K]});const V=$.toFiniteNumber(C.headers.get("content-length")),[q,U]=b&&yp(V,fl(vp(b),!0))||[];C=new r(bp(C.body,Np,q,()=>{U&&U(),S&&S()}),H)}v=v||"text";let F=await f[$.findKey(f,v)||"text"](C,x);return!P&&S&&S(),await new Promise((H,V)=>{Tv(H,V,{data:F,headers:ft.from(C.headers),status:C.status,statusText:C.statusText,config:x,request:O})})}catch(A){throw S&&S(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,x,O),{cause:A.cause||A}):ie.from(A,A&&A.code,x,O)}}},D4=new Map,Pv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,l=o,u,c,d=D4;for(;l--;)u=i[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:I4(t)),d=c;return c};Pv();const If={http:G3,xhr:E4,fetch:{get:Pv}};$.forEach(If,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Sp=e=>`- ${e}`,A4=e=>$.isFunction(e)||e===null||e===!1;function O4(e,t){e=$.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!A4(r)&&(s=If[(l=String(r)).toLowerCase()],s===void 0))throw new ie(`Unknown adapter '${l}'`);if(s&&($.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Sp).join(`
`):" "+Sp(o[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Iv={getAdapter:O4,adapters:If};function Lu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zs(null,e)}function Ep(e){return Lu(e),e.headers=ft.from(e.headers),e.data=Ou.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Iv.getAdapter(e.adapter||To.adapter,e)(e).then(function(r){return Lu(e),r.data=Ou.call(e,e.transformResponse,r),r.headers=ft.from(r.headers),r},function(r){return Cv(r)||(Lu(e),r&&r.response&&(r.response.data=Ou.call(e,e.transformResponse,r.response),r.response.headers=ft.from(r.response.headers))),Promise.reject(r)})}const Dv="1.13.2",ql={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ql[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Cp={};ql.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Dv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new ie(s(o," has been removed"+(n?" in "+n:"")),ie.ERR_DEPRECATED);return n&&!Cp[o]&&(Cp[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};ql.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function L4(e,t,n){if(typeof e!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new ie("option "+i+" must be "+u,ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ie("Unknown option "+i,ie.ERR_BAD_OPTION)}}const Ea={assertOptions:L4,validators:ql},qt=Ea.validators;let Mr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new gp,response:new gp}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Hr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ea.assertOptions(r,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),s!=null&&($.isFunction(s)?n.paramsSerializer={serialize:s}:Ea.assertOptions(s,{encode:qt.function,serialize:qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ea.assertOptions(n,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&$.merge(i.common,i[n.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=ft.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(u=u&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const c=[];this.interceptors.response.forEach(function(N){c.push(N.fulfilled,N.rejected)});let d,f=0,h;if(!u){const x=[Ep.bind(this),void 0];for(x.unshift(...l),x.push(...c),h=x.length,d=Promise.resolve(n);f<h;)d=d.then(x[f++],x[f++]);return d}h=l.length;let w=n;for(;f<h;){const x=l[f++],N=l[f++];try{w=x(w)}catch(k){N.call(this,k);break}}try{d=Ep.call(this,w)}catch(x){return Promise.reject(x)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Hr(this.defaults,t);const n=Mv(t.baseURL,t.url,t.allowAbsoluteUrls);return kv(n,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){Mr.prototype[t]=function(n,r){return this.request(Hr(r||{},{method:t,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(Hr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Mr.prototype[t]=n(),Mr.prototype[t+"Form"]=n(!0)});let z4=class Av{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Zs(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Av(function(s){t=s}),cancel:t}}};function F4(e){return function(n){return e.apply(null,n)}}function $4(e){return $.isObject(e)&&e.isAxiosError===!0}const cd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cd).forEach(([e,t])=>{cd[t]=e});function Ov(e){const t=new Mr(e),n=hv(Mr.prototype.request,t);return $.extend(n,Mr.prototype,t,{allOwnKeys:!0}),$.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Ov(Hr(e,s))},n}const Re=Ov(To);Re.Axios=Mr;Re.CanceledError=Zs;Re.CancelToken=z4;Re.isCancel=Cv;Re.VERSION=Dv;Re.toFormData=Wl;Re.AxiosError=ie;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=F4;Re.isAxiosError=$4;Re.mergeConfig=Hr;Re.AxiosHeaders=ft;Re.formToJSON=e=>Ev($.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=Iv.getAdapter;Re.HttpStatusCode=cd;Re.default=Re;const{Axios:eR,AxiosError:tR,CanceledError:nR,isCancel:rR,CancelToken:sR,VERSION:iR,all:oR,Cancel:aR,isAxiosError:lR,spread:uR,toFormData:cR,AxiosHeaders:dR,HttpStatusCode:fR,formToJSON:hR,getAdapter:mR,mergeConfig:pR}=Re,H4="/api",Ql=Re.create({baseURL:H4,headers:{"Content-Type":"application/json"}}),V4=async e=>(await Ql.post("/pipeline/preview",e)).data,B4=async e=>(await Ql.get(`/pipeline/datasets/${e}/schema`)).data,Tp=async(e,t)=>(await Ql.post(`/pipeline/save/${e}`,t)).data,U4=async e=>{const t=await Ql.get(`/pipeline/load/${e}`);return t.data?t.data:null},W4=async e=>(console.warn("submitTrainingJob is not yet implemented in V2",e),{job_id:"mock_job_id"}),q4=()=>{const e=ce(m=>m.nodes),t=ce(m=>m.edges),n=ce(m=>m.setExecutionResult),r=ce(m=>m.setGraph),[s,i]=R.useState(!1),[o,l]=R.useState(!1),[u,c]=R.useState(!1),[d,f]=R.useState(!1),h=()=>({nodes:e.map(m=>({id:m.id,type:m.type,position:m.position,data:{...m.data,catalogType:m.data.catalogType||m.data.definitionType}})),edges:t.map(m=>({id:m.id,source:m.source,target:m.target,sourceHandle:m.sourceHandle,targetHandle:m.targetHandle,type:m.type,data:m.data}))}),w=m=>{const g=[],y=new Set,b=[],j=e.find(v=>v.data.definitionType==="dataset_node");for(j&&b.push(j.id);b.length>0;){const v=b.shift();if(y.has(v))continue;y.add(v);const _=e.find(S=>S.id===v);if(!_)continue;let E="unknown",M={};const T=t.filter(S=>S.target===v).map(S=>S.source);if(_.data.definitionType==="dataset_node")E="data_loader",M={dataset_id:_.data.datasetId};else if(_.data.definitionType==="imputation_node"){const S=_.data.method||"simple";S==="knn"?(E="KNNImputer",M={columns:_.data.columns,n_neighbors:_.data.n_neighbors,weights:_.data.weights}):S==="iterative"?(E="IterativeImputer",M={columns:_.data.columns,max_iter:_.data.max_iter,estimator:_.data.estimator,random_state:0}):(E="SimpleImputer",M={columns:_.data.columns,strategy:_.data.strategy,fill_value:_.data.fill_value})}else if(_.data.definitionType==="simple_imputer")E="SimpleImputer",M=_.data||{};else if(_.data.definitionType==="drop_missing_columns"||_.data.definitionType==="DropMissingColumns")E="DropMissingColumns",M={columns:_.data.columns||[],missing_threshold:_.data.missing_threshold};else if(_.data.definitionType==="drop_missing_rows"||_.data.definitionType==="DropMissingRows")E="DropMissingRows",M={missing_threshold:_.data.missing_threshold,drop_if_any_missing:_.data.drop_if_any_missing};else if(_.data.definitionType==="deduplicate"||_.data.definitionType==="Deduplicate")E="Deduplicate",M={subset:_.data.subset,keep:_.data.keep};else if(_.data.definitionType==="casting"||_.data.definitionType==="Casting")E="Casting",M={column_types:_.data.column_types};else if(_.data.definitionType==="MissingIndicator"||_.data.definitionType==="missing_indicator")E="MissingIndicator",M={columns:_.data.columns,flag_suffix:_.data.flag_suffix};else if(_.data.definitionType==="scale_numeric_features"){const S=_.data||{},z=S.method||"standard";z==="minmax"?E="MinMaxScaler":z==="maxabs"?E="MaxAbsScaler":z==="robust"?E="RobustScaler":E="StandardScaler",M=S}else if(_.data.definitionType==="encoding"){const S=_.data.method;S==="onehot"?E="OneHotEncoder":S==="dummy"?(E="DummyEncoder",M={..._.data,drop_first:!0}):S==="label"?E="LabelEncoder":S==="ordinal"?E="OrdinalEncoder":S==="target"?E="TargetEncoder":S==="hash"?E="HashEncoder":E="OneHotEncoder",E!=="DummyEncoder"&&(M=_.data)}else if(_.data.definitionType==="TrainTestSplitter")E="TrainTestSplitter",M=_.data||{};else if(_.data.definitionType==="label_encoding")E="LabelEncoder",M=_.data||{};else if(_.data.definitionType==="feature_target_split")E="feature_target_split",M=_.data||{};else if(_.data.definitionType==="train_model_draft"){E="model_training";let S=_.data.modelType;S==="random_forest"&&(S="random_forest_classifier"),M={target_column:_.data.targetColumn,algorithm:S,hyperparameters:_.data.hyperparameters}}else if(_.data.definitionType==="feature_selection")E="feature_selection",M=_.data||{};else if(_.data.definitionType==="outlier"){const S=_.data.method||"iqr";S==="iqr"?E="IQR":S==="zscore"?E="ZScore":S==="winsorize"?E="Winsorize":S==="elliptic_envelope"?E="EllipticEnvelope":E="IQR",M=_.data}else if(_.data.definitionType==="TransformationNode"){E="GeneralTransformation";const S=_.data.transformations||[],z=[];for(const A of S)if(A.columns&&Array.isArray(A.columns))for(const L of A.columns)z.push({column:L,method:A.method,...A.params});M={transformations:z}}else if(_.data.definitionType==="BinningNode")E="GeneralBinning",M={columns:_.data.columns,strategy:_.data.strategy,n_bins:_.data.n_bins,label_format:_.data.label_format,output_suffix:_.data.output_suffix,drop_original:_.data.drop_original,custom_bins:_.data.custom_bins,custom_labels:_.data.custom_labels};else if(_.data.definitionType==="ResamplingNode")(_.data.type||"oversampling")==="oversampling"?E="Oversampling":E="Undersampling",M=_.data;else if(_.data.definitionType==="FeatureGenerationNode")E="FeatureMath",M={operations:_.data.operations};else throw console.error(`Unknown node type: ${_.data.definitionType}`),new Error(`Unknown node type: ${_.data.definitionType}. Pipeline execution stopped.`);g.push({node_id:_.id,step_type:E,params:M,inputs:T}),t.filter(S=>S.source===v).forEach(S=>b.push(S.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:g,metadata:{dataset_source_id:m}}},x=async()=>{const m=e.find(y=>y.data.definitionType==="dataset_node"),g=m==null?void 0:m.data.datasetId;if(!g){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}l(!0);try{await Tp(g,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(y){console.error("Save failed:",y),alert("Failed to save pipeline.")}finally{l(!1)}},N=async()=>{const m=e.find(y=>y.data.definitionType==="dataset_node"),g=m==null?void 0:m.data.datasetId;if(!g){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){c(!0);try{const y=await U4(g);y&&y.graph?(r(y.graph.nodes,y.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(y){console.error("Load failed:",y),alert("Failed to load pipeline.")}finally{c(!1)}}},k=async()=>{const m=e.find(y=>y.data.definitionType==="dataset_node"),g=m==null?void 0:m.data.datasetId;if(!g){alert("No dataset node found!");return}i(!0),n(null);try{const y=w(g),b=await V4(y);n(b)}catch(y){console.error("Pipeline failed:",y),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}},p=async()=>{const m=e.find(b=>b.data.definitionType==="dataset_node"),g=m==null?void 0:m.data.datasetId,y=e.find(b=>b.data.definitionType==="train_model_draft");if(!g){alert("No dataset node found!");return}if(!y){alert('No training node found! Add a "Model Training" node to train a model.');return}f(!0);try{const b=await Tp(g,{name:"Training Pipeline",description:"Auto-saved before training",graph:h()});await W4({dataset_source_id:g,pipeline_id:b.id.toString(),node_id:y.id,model_types:[y.data.modelType],hyperparameters:y.data.hyperparameters,graph:h(),run_training:!0}),alert("Training job submitted successfully! Check the jobs dashboard.")}catch(b){console.error("Training failed:",b),alert("Failed to submit training job.")}finally{f(!1)}};return a.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[a.jsxs("button",{onClick:N,disabled:u||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?a.jsx(oa,{className:"w-4 h-4 animate-spin"}):a.jsx(AT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),a.jsxs("button",{onClick:x,disabled:o||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?a.jsx(oa,{className:"w-4 h-4 animate-spin"}):a.jsx(QT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),a.jsxs("button",{onClick:k,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?a.jsx(oa,{className:"w-4 h-4 animate-spin"}):a.jsx(qT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]}),a.jsxs("button",{onClick:p,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:[d?a.jsx(oa,{className:"w-4 h-4 animate-spin"}):a.jsx(av,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:d?"Submitting...":"Train Model"})]})]})},Q4=()=>{const e=ce(h=>h.executionResult),[t,n]=R.useState(!0),[r,s]=R.useState(null),i=R.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),o=Object.keys(i);if(Lt.useEffect(()=>{o.length>0&&(!r||!o.includes(r))&&(o.includes("train")?s("train"):o.includes("X")?s("X"):s(o[0]))},[o,r]),!e)return null;const l=r&&i[r]?i[r]:[],u=l.length>0?Object.keys(l[0]):[],c=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return a.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>n(!t),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(JT,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&a.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),a.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?a.jsx(ao,{className:"w-4 h-4"}):a.jsx(lv,{className:"w-4 h-4"})})]}),t&&a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&a.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[a.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),a.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),o.length>1&&a.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[a.jsx(FT,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(h=>a.jsx("button",{onClick:()=>s(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${r===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),c.length>0&&e.status!=="failed"&&a.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:c.map((h,w)=>a.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},w))}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[a.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:a.jsx("tr",{children:u.map(h=>a.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),a.jsx("tbody",{children:l.map((h,w)=>a.jsx("tr",{className:"border-b hover:bg-muted/10",children:u.map(x=>a.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[x]!==null?String(h[x]):a.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${w}-${x}`))},w))})]}),l.length===0&&a.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",r?`for ${r}`:""]})]})]})]})},X4=()=>{const[e,t]=R.useState(!1);R.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const n=()=>{const r=!e;t(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return a.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:a.jsx(UT,{className:"w-5 h-5 text-primary"})}),a.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?a.jsx(VT,{className:"w-5 h-5"}):a.jsx(GT,{className:"w-5 h-5"})})]})]})},K4=()=>a.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[a.jsx(X4,{}),a.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[a.jsx(t3,{}),a.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[a.jsx(q4,{}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(c3,{}),a.jsx(Q4,{})]})]}),a.jsx(d3,{})]})]});function Y4(){const e=ce(t=>t.addNode);return R.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("source_id");n&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:n})},100)},[]),R.useEffect(()=>{},[]),a.jsx(K4,{})}const G4=({config:e,onChange:t})=>a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:n=>t({...e,message:n.target.value})})]}),Z4={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:NT,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>a.jsxs("div",{className:"text-xs",children:["Msg: ",a.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:G4,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},Mp="/data/api",Lv={getAll:async()=>{const e=await fetch(`${Mp}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${Mp}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return t.json()}},Fe=e=>ZN({queryKey:["dataset-schema",e],queryFn:()=>B4(e),enabled:!!e,staleTime:1e3*60*5}),J4=({config:e,onChange:t})=>{const[n,r]=R.useState([]),[s,i]=R.useState(!1),{data:o,isLoading:l}=Fe(e.datasetId);R.useEffect(()=>{i(!0),Lv.getAll().then(r).catch(console.error).finally(()=>i(!1))},[]);const u=c=>{const d=c.target.value,f=n.find(h=>String(h.id)===d);t({...e,datasetId:d,datasetName:f==null?void 0:f.name})};return a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s?a.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:u,children:[a.jsx("option",{value:"",children:"-- Select --"}),n.map(c=>a.jsx("option",{value:c.id,children:c.name},c.id))]})]}),e.datasetId&&a.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[a.jsx(ZT,{size:14}),a.jsx("span",{children:"Dataset Schema"})]}),l?a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:a.jsxs("table",{className:"w-full text-xs text-left",children:[a.jsx("thead",{className:"bg-muted/20 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),a.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),a.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),a.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),a.jsx("tbody",{children:Object.values(o.columns).map(c=>a.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[a.jsx("td",{className:"p-2 font-mono font-medium",children:c.name}),a.jsx("td",{className:"p-2 text-muted-foreground",children:c.dtype}),a.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.missing_count}),a.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.unique_count})]},c.name))})]})}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},eM=({data:e})=>{const[t,n]=R.useState(void 0);R.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Lv.getById(e.datasetId).then(s=>n(s.name)).catch(()=>n(e.datasetId))},[e.datasetId,e.datasetName,t]);const r=e.datasetName||t||e.datasetId;return a.jsx("div",{className:"text-xs",children:e.datasetId?a.jsx("div",{className:"font-medium truncate max-w-[150px]",title:r,children:r||"Loading..."}):a.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},tM={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:MT,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:J4,component:eM,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},zv=(e,t,n,r=new Set)=>{var i;if(r.has(e.id))return;if(r.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const s=Ks(e,t,n);for(const o of s){const l=zv(o,t,n,r);if(l)return l}},Ye=e=>{const t=ce(i=>i.nodes),n=ce(i=>i.edges),r=t.find(i=>i.id===e);return r?Ks(r,t,n).map(i=>{const o=zv(i,t,n);return o&&!i.data.datasetId?{...i.data,datasetId:o}:i.data}):[]},Js=(e,t={})=>{var i;const r=(i=Ye(e).find(o=>o.datasetId))==null?void 0:i.datasetId,s=ce(o=>o.executionResult);return R.useMemo(()=>!r||!(s!=null&&s.recommendations)?[]:s.recommendations.filter(o=>{var l,u;if(t.types||t.suggestedNodeTypes){const c=(l=t.types)==null?void 0:l.includes(o.type),d=(u=t.suggestedNodeTypes)==null?void 0:u.includes(o.suggested_node_type);if(!c&&!d)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[s,r,t.types,t.suggestedNodeTypes,t.scope])},Ur=({recommendations:e,onApply:t,className:n=""})=>!e||e.length===0?null:a.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${n}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[a.jsx(uv,{className:"w-4 h-4"}),a.jsx("span",{children:"Recommendations"})]}),a.jsx("div",{className:"space-y-2",children:e.map(r=>a.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:r.type.replace("_"," ").toUpperCase()}),a.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:r.description}),r.reasoning&&a.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",r.reasoning]})]}),t&&a.jsx("button",{onClick:()=>t(r),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:a.jsx(ST,{className:"w-5 h-5"})})]})},r.rule_id))})]}),nM=({config:e,onChange:t,nodeId:n})=>{var b;const s=(b=Ye(n||"").find(j=>j.datasetId))==null?void 0:b.datasetId,{data:i,isLoading:o}=Fe(s),l=i?Object.values(i.columns).map(j=>j.name):[],u=ce(j=>j.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,w]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const j=new ResizeObserver(v=>{for(const _ of v)w(_.contentRect.width>450)});return j.observe(f.current),()=>j.disconnect()},[]);const x=Js(n||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),N=j=>{if(j.target_columns&&j.target_columns.length>0){const v=Array.from(new Set([...e.columns,...j.target_columns]));t({...e,columns:v})}},[k,p]=R.useState(""),m=R.useMemo(()=>l.filter(j=>j.toLowerCase().includes(k.toLowerCase())),[l,k]),g=()=>{t({...e,columns:m})},y=()=>{const j=e.columns.filter(v=>!m.includes(v));t({...e,columns:j})};return a.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[x.length>0&&a.jsx("div",{className:"shrink-0",children:a.jsx(Ur,{recommendations:x,onApply:N})}),a.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),a.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),a.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:j=>t({...e,missing_threshold:parseInt(j.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&a.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(ir,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&a.jsxs("div",{className:"pt-1 border-t mt-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(j=>a.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:j},j))})]})]})]})]}),a.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[a.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsx("div",{className:"relative group",children:a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:k,onChange:j=>p(j.target.value)})}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:g,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?m.length>0?a.jsx("div",{className:"space-y-0.5",children:m.map(j=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:v=>{const _=v.target.checked?[...e.columns,j]:e.columns.filter(E=>E!==j);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),a.jsx("span",{className:"truncate font-mono text-xs",title:j,children:j})]},j))}):a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',k,'"']}):a.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},rM={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Hl,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:nM,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},sM=({config:e,onChange:t,nodeId:n})=>{var j;const s=(j=Ye(n||"").find(v=>v.datasetId))==null?void 0:j.datasetId,{data:i,isLoading:o}=Fe(s),l=i?Object.values(i.columns).map(v=>v.name):[],u=ce(v=>v.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,w]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const v=new ResizeObserver(_=>{for(const E of _)w(E.contentRect.width>450)});return v.observe(f.current),()=>v.disconnect()},[]);const x=Js(n||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),N=v=>{if(v.target_columns&&v.target_columns.length>0){const _=Array.from(new Set([...e.columns,...v.target_columns]));t({...e,columns:_})}},[k,p]=R.useState(""),m=R.useMemo(()=>l.filter(v=>v.toLowerCase().includes(k.toLowerCase())),[l,k]),g=()=>{t({...e,columns:m})},y=()=>{const v=e.columns.filter(_=>!m.includes(_));t({...e,columns:v})},b=()=>d?a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([v,_])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:v,children:[v,":"]}),a.jsx("span",{className:"font-mono",children:typeof _=="number"?_.toFixed(4):String(_)})]},v))})]}),d.missing_counts&&a.jsxs("div",{className:"space-y-1 mt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([v,_])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:v,children:[v,":"]}),a.jsx("span",{className:"font-mono",children:String(_)})]},v))}),d.total_missing!==void 0&&a.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",a.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(c==null?void 0:c.status)==="success"&&a.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return a.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[x.length>0&&a.jsx("div",{className:"shrink-0",children:a.jsx(Ur,{recommendations:x,onApply:N})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:v=>t({...e,method:v.target.value}),children:[a.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),a.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),a.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:v=>t({...e,strategy:v.target.value}),children:[a.jsx("option",{value:"mean",children:"Mean (Average)"}),a.jsx("option",{value:"median",children:"Median (Middle Value)"}),a.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),a.jsx("option",{value:"constant",children:"Constant Value"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:v=>t({...e,fill_value:v.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:v=>t({...e,n_neighbors:parseInt(v.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:v=>t({...e,weights:v.target.value}),children:[a.jsx("option",{value:"uniform",children:"Uniform"}),a.jsx("option",{value:"distance",children:"Distance"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:v=>t({...e,max_iter:parseInt(v.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:v=>t({...e,estimator:v.target.value}),children:[a.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),a.jsx("option",{value:"decision_tree",children:"Decision Tree"}),a.jsx("option",{value:"extra_trees",children:"Extra Trees"}),a.jsx("option",{value:"knn",children:"KNN"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:v=>t({...e,random_state:parseInt(v.target.value)})})]})]}),h&&a.jsx(b,{})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:y,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:k,onChange:v=>p(v.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:m.length>0?m.map(v=>a.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(v),onChange:_=>{const E=_.target.checked?[...e.columns,v]:e.columns.filter(M=>M!==v);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),a.jsx("span",{className:"truncate",title:v,children:v})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[v]!==void 0&&a.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[v]} missing values filled`,children:d.missing_counts[v]})]},v)):a.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!h&&a.jsx(b,{})]})]})},iM={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:BT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:sM,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},oM=({config:e,onChange:t,nodeId:n})=>{var g;const s=(g=Ye(n||"").find(y=>y.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:o}=Fe(s),l=ce(y=>y.executionResult),u=n?l==null?void 0:l.node_results[n]:null,c=R.useRef(null),[d,f]=R.useState(!1),[h,w]=R.useState("");R.useEffect(()=>{if(!c.current)return;const y=new ResizeObserver(b=>{for(const j of b)f(j.contentRect.width>450)});return y.observe(c.current),()=>y.disconnect()},[]);const x=i?Object.values(i.columns).filter(y=>["int","float","number"].some(b=>{var j;return(j=y.dtype)==null?void 0:j.toLowerCase().includes(b)})).map(y=>y.name):[],N=x.filter(y=>y.toLowerCase().includes(h.toLowerCase())),k=()=>{t({...e,columns:N})},p=()=>{const y=e.columns.filter(b=>!N.includes(b));t({...e,columns:y})},m=()=>{if(!u||!u.metrics)return null;const y=u.metrics,b=y.columns;if(!b)return null;const j=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),a.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:j()})]}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:b.map((v,_)=>{var M,I,T,O,S,z,A;let E="";if(e.method==="standard"){const L=(M=y.mean)==null?void 0:M[_],C=(I=y.scale)==null?void 0:I[_];typeof L=="number"&&(E=`=${L.toFixed(2)}, =${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="minmax"){const L=(T=y.data_min)==null?void 0:T[_],C=(O=y.data_max)==null?void 0:O[_];typeof L=="number"&&(E=`Min=${L.toFixed(2)}, Max=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="robust"){const L=(S=y.center)==null?void 0:S[_],C=(z=y.scale)==null?void 0:z[_];typeof L=="number"&&(E=`Med=${L.toFixed(2)}, IQR=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const L=(A=y.max_abs)==null?void 0:A[_];typeof L=="number"&&(E=`MaxAbs=${L.toFixed(2)}`)}return a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:v,children:v}),a.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},v)})})]})};return a.jsxs("div",{ref:c,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:y=>t({...e,method:y.target.value}),children:[a.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),a.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),a.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),a.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:y=>t({...e,with_mean:y.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Center Data (with_mean)"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:y=>t({...e,with_std:y.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:y=>t({...e,feature_range_min:parseFloat(y.target.value)})}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:y=>t({...e,feature_range_max:parseFloat(y.target.value)})})]})]}),e.method==="robust"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:y=>t({...e,quantile_range_min:parseFloat(y.target.value)})}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:y=>t({...e,quantile_range_max:parseFloat(y.target.value)})})]}),a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:y=>t({...e,with_centering:y.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Center Data (Median)"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:y=>t({...e,with_scaling:y.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&a.jsx(m,{})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:k,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:p,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:y=>w(y.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:N.length>0?N.map(y=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(y),onChange:b=>{const j=b.target.checked?[...e.columns,y]:e.columns.filter(v=>v!==y);t({...e,columns:j})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:y,children:y})]},y)):a.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:o?"Loading schema...":x.length===0?"No numeric columns found":"No matches found"})})]}),!d&&a.jsx(m,{})]})]})},aM={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:XT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:oM,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},lM=({config:e,onChange:t,nodeId:n})=>{var c,d;const r=Ye(n||""),s=(c=r.find(f=>f.datasetId))==null?void 0:c.datasetId,i=(d=r.find(f=>f.target_column))==null?void 0:d.target_column;Lt.useEffect(()=>{const f={};s&&e.datasetId!==s&&(f.datasetId=s),i&&e.targetColumn!==i&&(f.targetColumn=i),Object.keys(f).length>0&&t({...e,...f})},[s,i,e.datasetId,e.targetColumn,t]);const{data:o,isLoading:l}=Fe(s||e.datasetId),u=o?Object.values(o.columns).map(f=>f.name):[];return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&!e.datasetId&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.targetColumn??"",onChange:f=>t({...e,targetColumn:f.target.value}),disabled:!!i,children:[a.jsx("option",{value:"",children:"-- Select Target --"}),u.map(f=>a.jsx("option",{value:f,children:f},f))]}),i&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target column inherited from upstream split."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.modelType,onChange:f=>t({...e,modelType:f.target.value}),children:[a.jsx("option",{value:"random_forest",children:"Random Forest"}),a.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),a.jsx("option",{value:"xgboost",children:"XGBoost"})]})]}),e.modelType==="random_forest"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("h4",{className:"text-xs font-semibold text-muted-foreground",children:"Hyperparameters"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1",children:"N Estimators"}),a.jsx("input",{type:"number",className:"w-full p-1 border rounded text-sm",value:e.hyperparameters.n_estimators||100,onChange:f=>t({...e,hyperparameters:{...e.hyperparameters,n_estimators:parseInt(f.target.value)}})})]})]})]})},uM={type:"train_model_draft",label:"Model Training",category:"Modeling",description:"Train a machine learning model.",icon:av,inputs:[{id:"train",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:lM,validate:e=>e.targetColumn?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({targetColumn:"",modelType:"random_forest",hyperparameters:{n_estimators:100}})},cM=({config:e,onChange:t})=>{const n=["train","validation","test"],r=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],s=o=>{const l=e.splits.includes(o)?e.splits.filter(u=>u!==o):[...e.splits,o];t({...e,splits:l})},i=o=>{const l=e.metrics.includes(o)?e.metrics.filter(u=>u!==o):[...e.metrics,o];t({...e,metrics:l})};return a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),a.jsx("div",{className:"space-y-2",children:n.map(o=>a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.splits.includes(o),onChange:()=>s(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsxs("span",{className:"capitalize",children:[o," Set"]})]},o))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(o=>a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.metrics.includes(o),onChange:()=>i(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"uppercase",children:o.replace("_"," ")})]},o))})]})]})},dM={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:ov,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:cM,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},fM=({config:e,onChange:t,nodeId:n})=>{var y;const r=Ye(n||""),s=ce(b=>b.nodes),i=ce(b=>b.edges),o=ce(b=>b.executionResult),u=(b=>{var _;const j=new Set,v=[b];for(;v.length>0;){const E=v.shift();if(j.has(E))continue;j.add(E);const M=s.find(T=>T.id===E);if(!M)continue;if(E!==b&&((_=M.data)!=null&&_.datasetId))return M.data.datasetId;const I=Ks(M,s,i);for(const T of I)v.push(T.id)}})(n||""),c=(y=r.find(b=>b.target_column))==null?void 0:y.target_column;R.useEffect(()=>{const b={};u&&e.datasetId!==u&&(b.datasetId=u),c&&e.target_column!==c&&(b.target_column=c),Object.keys(b).length>0&&t({...e,...b})},[u,c,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=Fe(u||e.datasetId),h=d?Object.values(d.columns).map(b=>b.name):[],w=R.useRef(null),[x,N]=R.useState(!1);R.useEffect(()=>{if(!w.current)return;const b=new ResizeObserver(j=>{for(const v of j)N(v.contentRect.width>450)});return b.observe(w.current),()=>b.disconnect()},[]);const k=()=>{const b=e.problem_type||"auto";return b==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:b==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},p=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),m=["select_from_model","rfe"].includes(e.method),g=()=>{const b=o==null?void 0:o.node_results[n||""];if(!b)return null;const j=b.metrics||{},v=j.dropped_columns,_=j.feature_scores,E=j.p_values,M=j.feature_importances,I=j.variances,T=j.ranking;return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),b.error&&a.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:b.error}),v&&v.length>0?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:a.jsxs("span",{children:["Dropped Columns (",v.length,")"]})}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:v.map(O=>{const S=_==null?void 0:_[O],z=E==null?void 0:E[O],A=M==null?void 0:M[O],L=I==null?void 0:I[O],C=T==null?void 0:T[O];return a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:O,children:O}),a.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[S!==void 0&&a.jsxs("span",{children:["Score: ",S.toFixed(4)]}),z!==void 0&&a.jsxs("span",{children:["p-val: ",z.toExponential(2)]}),A!==void 0&&a.jsxs("span",{children:["Imp: ",A.toFixed(4)]}),L!==void 0&&a.jsxs("span",{children:["Var: ",L.toFixed(4)]}),C!==void 0&&a.jsxs("span",{children:["Rank: ",C]})]})]},O)})})]}):b.status==="success"&&a.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[a.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(_||M)&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(_||M||{}).sort(([,O],[,S])=>S-O).slice(0,5).map(([O,S])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"truncate max-w-[120px]",title:O,children:O}),a.jsx("span",{className:"font-mono text-[10px]",children:S.toFixed(4)})]},O))})]})]})};return a.jsxs("div",{ref:w,className:`flex flex-col h-full w-full bg-background ${x?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!u&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!u&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${x?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:b=>t({...e,method:b.target.value}),children:[a.jsxs("optgroup",{label:"Simple",children:[a.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),a.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),a.jsxs("optgroup",{label:"Univariate",children:[a.jsx("option",{value:"select_k_best",children:"Select K Best"}),a.jsx("option",{value:"select_percentile",children:"Select Percentile"}),a.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),a.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),a.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),a.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),a.jsxs("optgroup",{label:"Model Based",children:[a.jsx("option",{value:"select_from_model",children:"Select From Model"}),a.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),c?a.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[c," ",a.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:b=>t({...e,target_column:b.target.value}),children:[a.jsx("option",{value:"",children:"Select Target..."}),h.map(b=>a.jsx("option",{value:b,children:b},b))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(p||m)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:b=>t({...e,problem_type:b.target.value}),children:[a.jsx("option",{value:"auto",children:"Auto-detect"}),a.jsx("option",{value:"classification",children:"Classification"}),a.jsx("option",{value:"regression",children:"Regression"})]})]}),x&&a.jsx(g,{})]}),a.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[a.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:b=>t({...e,threshold:parseFloat(b.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:b=>t({...e,threshold:parseFloat(b.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:b=>t({...e,correlation_method:b.target.value}),children:[a.jsx("option",{value:"pearson",children:"Pearson"}),a.jsx("option",{value:"spearman",children:"Spearman"}),a.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),p&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:b=>t({...e,score_func:b.target.value}),children:[a.jsx("option",{value:"",children:"Auto (Default)"}),k().map(b=>a.jsx("option",{value:b.value,children:b.label},b.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:b=>t({...e,k:parseInt(b.target.value)})})]}),e.method==="select_percentile"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:b=>t({...e,percentile:parseInt(b.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),a.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:b=>t({...e,alpha:parseFloat(b.target.value)})})]}),e.method==="generic_univariate_select"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Mode"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:b=>t({...e,mode:b.target.value}),children:[a.jsx("option",{value:"k_best",children:"K Best"}),a.jsx("option",{value:"percentile",children:"Percentile"}),a.jsx("option",{value:"fpr",children:"FPR"}),a.jsx("option",{value:"fdr",children:"FDR"}),a.jsx("option",{value:"fwe",children:"FWE"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),a.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:b=>t({...e,param:parseFloat(b.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:b=>t({...e,estimator:b.target.value}),children:[a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"RandomForest",children:"Random Forest"}),a.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),a.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:b=>t({...e,threshold:b.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Step"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:b=>t({...e,step:parseInt(b.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[a.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:b=>t({...e,drop_columns:b.target.checked})}),a.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!x&&a.jsx(g,{})]})]})]})},hM={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:IT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:fM,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},mM=({config:e,onChange:t,nodeId:n})=>{var p;const r=Ye(n||""),s=ce(m=>m.nodes),i=ce(m=>m.edges),l=(m=>{var b;const g=new Set,y=[m];for(;y.length>0;){const j=y.shift();if(g.has(j))continue;g.add(j);const v=s.find(E=>E.id===j);if(!v)continue;if(j!==m&&((b=v.data)!=null&&b.datasetId))return v.data.datasetId;const _=Ks(v,s,i);for(const E of _)y.push(E.id)}})(n||""),u=(p=r.find(m=>m.target_column))==null?void 0:p.target_column;Lt.useEffect(()=>{const m={};l&&e.datasetId!==l&&(m.datasetId=l),u&&e.target_column!==u&&(m.target_column=u),Object.keys(m).length>0&&t({...e,...m})},[l,u,e.datasetId,e.target_column,t]);const{data:c,isLoading:d}=Fe(l||e.datasetId),f=c?Object.values(c.columns).map(m=>m.name):[],h=e.validation_size||0,w=1-e.test_size-h,x=Lt.useRef(null),[N,k]=Lt.useState(!1);return Lt.useEffect(()=>{if(!x.current)return;const m=new ResizeObserver(g=>{for(const y of g)k(y.contentRect.width>450)});return m.observe(x.current),()=>m.disconnect()},[]),a.jsxs("div",{ref:x,className:`flex flex-col h-full w-full bg-background ${N?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${N?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${N?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:m=>t({...e,test_size:parseFloat(m.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:m=>t({...e,validation_size:parseFloat(m.target.value)})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(w*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),w<=0&&a.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Random State"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:m=>t({...e,random_state:parseInt(m.target.value)})})]})]}),a.jsxs("div",{className:`space-y-4 ${N?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:m=>t({...e,shuffle:m.target.checked})}),a.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:m=>t({...e,stratify:m.target.checked})}),a.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),a.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:m=>t({...e,target_column:m.target.value}),disabled:!e.stratify,children:[a.jsx("option",{value:"",children:"-- Select Target --"}),f.map(m=>a.jsx("option",{value:m,children:m},m))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},pM={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:dv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:mM,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},gM=({config:e,onChange:t,nodeId:n})=>{const r=ce(c=>c.nodes),s=ce(c=>c.edges),o=(c=>{var h;const d=new Set,f=[c];for(;f.length>0;){const w=f.shift();if(d.has(w))continue;d.add(w);const x=r.find(k=>k.id===w);if(!x)continue;if(w!==c&&((h=x.data)!=null&&h.datasetId))return x.data.datasetId;const N=Ks(x,r,s);for(const k of N)f.push(k.id)}})(n||"");Lt.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:l}=Fe(o||e.datasetId),u=l?Object.values(l.columns).map(c=>c.name):[];return a.jsx("div",{className:"p-4 space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:c=>t({...e,target_column:c.target.value}),children:[a.jsx("option",{value:"",children:"-- Select Target --"}),u.map(c=>a.jsx("option",{value:c,children:c},c))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},xM={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:dv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:gM,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},yM=({config:e,onChange:t,nodeId:n})=>{var c;const s=(c=Ye(n||"").find(d=>d.datasetId))==null?void 0:c.datasetId,{isLoading:i}=Fe(s),o=ce(d=>d.executionResult),l=n?o==null?void 0:o.node_results[n]:null,u=l==null?void 0:l.metrics;return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),a.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[a.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),a.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),u&&u.DropMissingRows_rows_removed!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(ir,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),a.jsx("span",{className:"font-medium text-destructive",children:u.DropMissingRows_rows_removed})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),a.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_remaining})]}),a.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),a.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_total})]})]})]})]})},vM={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:PT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:yM,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},wM=({config:e,onChange:t,nodeId:n})=>{var k;const s=(k=Ye(n||"").find(p=>p.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:o}=Fe(s),l=i?Object.values(i.columns).map(p=>p.name):[],u=ce(p=>p.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=R.useState(""),w=R.useMemo(()=>l.filter(p=>p.toLowerCase().includes(f.toLowerCase())),[l,f]),x=()=>{t({...e,subset:w})},N=()=>{const p=e.subset.filter(m=>!w.includes(m));t({...e,subset:p})};return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:p=>t({...e,keep:p.target.value}),children:[a.jsx("option",{value:"first",children:"Keep First Occurrence"}),a.jsx("option",{value:"last",children:"Keep Last Occurrence"}),a.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:p=>h(p.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:N,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[w.map(p=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(p),onChange:m=>{const g=m.target.checked?[...e.subset,p]:e.subset.filter(y=>y!==p);t({...e,subset:g})}}),p]},p)),w.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(ir,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),a.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),a.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),a.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},bM={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:TT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:wM,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},NM=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],jM=({config:e,onChange:t,nodeId:n})=>{var m;const s=(m=Ye(n||"").find(g=>g.datasetId))==null?void 0:m.datasetId,{data:i,isLoading:o}=Fe(s),l=i?Object.values(i.columns).map(g=>g.name):[],u=ce(g=>g.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,w]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const g=new ResizeObserver(y=>{for(const b of y)w(b.contentRect.width>450)});return g.observe(f.current),()=>g.disconnect()},[]);const x=()=>{if(l.length===0)return;const g=l.find(y=>!e.column_types[y])||l[0];t({...e,column_types:{...e.column_types,[g]:"float"}})},N=g=>{const y={...e.column_types};delete y[g],t({...e,column_types:y})},k=(g,y)=>{if(g===y)return;const b=e.column_types[g],j={...e.column_types};delete j[g],j[y]=b,t({...e,column_types:j})},p=(g,y)=>{t({...e,column_types:{...e.column_types,[g]:y}})};return a.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),a.jsx("button",{onClick:x,disabled:!s||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:a.jsx(cv,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([g,y])=>a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[a.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[a.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:g,onChange:b=>k(g,b.target.value),children:l.map(b=>a.jsx("option",{value:b,disabled:b!==g&&!!e.column_types[b],children:b},b))}),a.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:y,onChange:b=>p(g,b.target.value),children:NM.map(b=>a.jsx("option",{value:b.value,children:b.label},b.value))})]}),a.jsx("button",{onClick:()=>N(g),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:a.jsx(Hl,{className:"w-4 h-4"})})]},g)),Object.keys(e.column_types).length===0&&a.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(ir,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),a.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},_M={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:RT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:jM,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},kM=({config:e,onChange:t,nodeId:n})=>{var k;const s=(k=Ye(n||"").find(p=>p.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:o}=Fe(s),l=i?Object.values(i.columns).map(p=>p.name):[],u=ce(p=>p.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=R.useState(""),w=R.useMemo(()=>l.filter(p=>p.toLowerCase().includes(f.toLowerCase())),[l,f]),x=()=>{t({...e,columns:w})},N=()=>{const p=e.columns.filter(m=>!w.includes(m));t({...e,columns:p})};return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:p=>t({...e,flag_suffix:p.target.value}),placeholder:"_was_missing"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:p=>h(p.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:N,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[w.map(p=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(p),onChange:m=>{const g=m.target.checked?[...e.columns,p]:e.columns.filter(y=>y!==p);t({...e,columns:g})}}),p]},p)),w.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(ir,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),a.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&a.jsxs("div",{className:"pt-1 border-t mt-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(p=>a.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:p},p))})]})]})]})]})},SM={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:DT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:kM,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},EM=({config:e,onChange:t,nodeId:n})=>{var b;const s=(b=Ye(n||"").find(j=>j.datasetId))==null?void 0:b.datasetId,{data:i,isLoading:o}=Fe(s),[l,u]=R.useState(""),c=R.useRef(null),[d,f]=R.useState(!1),h=ce(j=>j.executionResult),w=n?h==null?void 0:h.node_results[n]:null,x=w==null?void 0:w.metrics,k=((h==null?void 0:h.recommendations)||[]).filter(j=>j.suggested_node_type==="encoding"||j.type.includes("encoding")||j.type.includes("cardinality"));R.useEffect(()=>{if(!c.current)return;const j=new ResizeObserver(v=>{for(const _ of v)f(_.contentRect.width>400)});return j.observe(c.current),()=>j.disconnect()},[]);const p=i?Object.values(i.columns).filter(j=>["object","string","category","bool"].some(v=>{var _;return(_=j.dtype)==null?void 0:_.toLowerCase().includes(v)})).map(j=>j.name):[],m=p.filter(j=>j.toLowerCase().includes(l.toLowerCase())),g=()=>{t({...e,columns:[...p]})},y=()=>{t({...e,columns:[]})};return a.jsxs("div",{ref:c,className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[a.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),a.jsx("option",{value:"dummy",children:"Dummy Encoding"}),a.jsx("option",{value:"label",children:"Label Encoding"}),a.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),a.jsx("option",{value:"target",children:"Target Encoding"}),a.jsx("option",{value:"hash",children:"Hash Encoding"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]})]}),a.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:j=>t({...e,drop_first:j.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),a.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:j=>t({...e,handle_unknown:j.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[a.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),a.jsx("option",{value:"error",children:"Raise Error"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:j=>t({...e,target_column:j.target.value}),children:[a.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(j=>a.jsxs("option",{value:j.name,children:[j.name," (",j.dtype,")"]},j.name))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:j=>t({...e,n_features:parseInt(j.target.value)})})]}),e.method==="ordinal"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:j=>t({...e,unknown_value:parseInt(j.target.value)}),title:"Integer to assign for unknown categories."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:j=>t({...e,missing_code:parseInt(j.target.value)}),title:"Integer to assign for missing or unknown categories."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:j=>u(j.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:g,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),p.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[m.map(j=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(j),onChange:v=>{const _=v.target.checked?[...e.columns,j]:e.columns.filter(E=>E!==j);t({...e,columns:_})}}),j]},j)),m.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),k.length>0&&a.jsx(Ur,{recommendations:k}),x&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(ir,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[x.encoded_columns_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),a.jsx("span",{className:"font-medium",children:x.encoded_columns_count})]}),x.new_features_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),a.jsx("span",{className:"font-medium text-primary",children:x.new_features_count})]}),x.categories_count&&a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(x.categories_count).map(([j,v])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:j,children:[j,":"]}),a.jsx("span",{className:"font-mono",children:v})]},j))})]}),x.classes_count&&a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(x.classes_count).map(([j,v])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:j,children:[j,":"]}),a.jsx("span",{className:"font-mono",children:v})]},j))})]})]})]})]})},CM={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:LT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:EM,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},TM=({config:e,onChange:t,nodeId:n})=>{const r=ce(v=>v.nodes),s=ce(v=>v.edges),o=(v=>{var M;const _=new Set,E=[v];for(;E.length>0;){const I=E.shift();if(_.has(I))continue;_.add(I);const T=r.find(S=>S.id===I);if(!T)continue;if(I!==v&&((M=T.data)!=null&&M.datasetId))return T.data.datasetId;const O=Ks(T,r,s);for(const S of O)E.push(S.id)}})(n||""),{data:l,isLoading:u}=Fe(o),c=Js(n||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=ce(v=>v.executionResult),f=n?d==null?void 0:d.node_results[n]:null,h=R.useRef(null),[w,x]=R.useState(!1),[N,k]=R.useState("");R.useEffect(()=>{if(!h.current)return;const v=new ResizeObserver(_=>{for(const E of _)x(E.contentRect.width>450)});return v.observe(h.current),()=>v.disconnect()},[]);const p=l?Object.values(l.columns).filter(v=>["int","float","number"].some(_=>{var E;return(E=v.dtype)==null?void 0:E.toLowerCase().includes(_)})).map(v=>v.name):[],m=p.filter(v=>v.toLowerCase().includes(N.toLowerCase())),g=()=>{t({...e,columns:m})},y=()=>{const v=e.columns.filter(_=>!m.includes(_));t({...e,columns:v})},b=()=>{if(!f||!f.metrics)return null;const v=f.metrics,_=v.rows_removed,E=v.rows_remaining,M=v.rows_total??(_??0)+(E??0),I=v.bounds,T=v.stats,O=v.contamination,S=v.warnings,z=v.values_clipped;if(_===void 0&&!I&&!T&&O===void 0&&!S&&z===void 0)return null;const A=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),a.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:A()})]}),S&&S.length>0&&a.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[a.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),a.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:S.map((L,C)=>a.jsx("li",{className:"truncate",title:L,children:L},C))})]}),e.method==="winsorize"?a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"font-mono font-medium text-blue-600",children:z??0}),a.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(_!==void 0||M!==void 0)&&a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("span",{className:"font-mono font-medium text-destructive",children:_??0}),M>0&&a.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((_??0)/M*100).toFixed(1),"%)"]})]}),E!==void 0&&a.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),O!==void 0&&a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),a.jsxs("span",{className:"font-mono font-medium",children:[(O*100).toFixed(1),"%"]})]}),I&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(I).map(([L,C])=>a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),a.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",C.lower.toFixed(2),", ",C.upper.toFixed(2),"]"]})]},L))})]}),T&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(T).map(([L,C])=>a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),a.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",C.mean.toFixed(2),", =",C.std.toFixed(2)]})]},L))})]})]})},j=()=>{const v=[];if(f&&f.metrics){const E=f.metrics,M=E.rows_removed,T=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(M!==void 0&&T!==void 0&&T>0){const O=M/T;O>.2?v.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):O===0&&e.method!=="winsorize"&&v.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&v.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const _=[...c,...v];return _.length===0?null:a.jsx("div",{className:"mt-4",children:a.jsx(Ur,{recommendations:_})})};return a.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${w?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!o&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${w?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${w?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:v=>t({...e,method:v.target.value}),children:[a.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),a.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),a.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),a.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:v=>t({...e,multiplier:parseFloat(v.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:v=>t({...e,threshold:parseFloat(v.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:v=>t({...e,lower_percentile:parseFloat(v.target.value)})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:v=>t({...e,upper_percentile:parseFloat(v.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:v=>t({...e,contamination:parseFloat(v.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),w&&a.jsxs(a.Fragment,{children:[a.jsx(b,{}),a.jsx(j,{})]})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${w?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:g,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:y,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:N,onChange:v=>k(v.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:m.length>0?m.map(v=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(v),onChange:_=>{const E=_.target.checked?[...e.columns,v]:e.columns.filter(M=>M!==v);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:v,children:v})]},v)):a.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:u?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!w&&a.jsxs(a.Fragment,{children:[a.jsx(b,{}),a.jsx(j,{})]})]})]})},MM={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:KT,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:TM,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},zu={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},RM=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",PM=({allColumns:e,selectedColumns:t,onChange:n})=>{const[r,s]=R.useState(""),i=R.useMemo(()=>e.filter(c=>c.toLowerCase().includes(r.toLowerCase())),[e,r]),o=()=>{const c=Array.from(new Set([...t,...i]));n(c)},l=()=>{const c=t.filter(d=>!i.includes(d));n(c)},u=c=>{t.includes(c)?n(t.filter(d=>d!==c)):n([...t,c])};return a.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[a.jsx("div",{className:"flex gap-2 items-center",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Tf,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),a.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:r,onChange:c=>s(c.target.value)})]})}),a.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[a.jsx("button",{onClick:o,className:"text-primary hover:underline font-medium",children:"Select All"}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),a.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),a.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?a.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',r,'"']}):i.map(c=>a.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:t.includes(c),onChange:()=>u(c),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:c,children:c})]},c))})]})},IM=({config:e,onChange:t,nodeId:n})=>{var y;const r=R.useMemo(()=>e||{transformations:[]},[e]),s=R.useMemo(()=>Array.isArray(r.transformations)?r.transformations:[],[r.transformations]),[i,o]=R.useState([]),l=R.useRef(null),[u,c]=R.useState(!1);R.useEffect(()=>{if(!l.current)return;const b=new ResizeObserver(j=>{for(const v of j)c(v.contentRect.width>450)});return b.observe(l.current),()=>b.disconnect()},[]);const f=(y=Ye(n||"").find(b=>b.datasetId))==null?void 0:y.datasetId,{data:h}=Fe(f),w=R.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(b=>["int","float","number"].some(j=>{var v;return(v=b.dtype)==null?void 0:v.toLowerCase().includes(j)})).map(b=>b.name):[],[h]),x=()=>{const b=s.length;o(j=>[...j,b]),t({transformations:[...s,{columns:[],method:"log",params:{}}]})},N=(b,j)=>{const v=[...s];v[b]={...v[b],...j},t({transformations:v})},k=b=>{const j=[...s];j.splice(b,1),t({transformations:j}),o(v=>v.filter(_=>_!==b).map(_=>_>b?_-1:_))},p=b=>{o(j=>j.includes(b)?j.filter(v=>v!==b):[...j,b])},m=(b,j)=>{const v=zu[j].methods[0].value;N(b,{method:v})},g=Js(n||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return a.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),a.jsxs("button",{onClick:x,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[a.jsx(cv,{size:12})," Add Rule"]})]}),a.jsxs("div",{className:"space-y-4",children:[s.map((b,j)=>{var M,I,T;const v=RM(b.method),_=i.includes(j),E=((M=zu[v].methods.find(O=>O.value===b.method))==null?void 0:M.label)||b.method;return a.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>p(j),children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[_?a.jsx(ao,{size:16,className:"text-muted-foreground flex-shrink-0"}):a.jsx(od,{size:16,className:"text-muted-foreground flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col overflow-hidden",children:[a.jsx("span",{className:"text-sm font-medium truncate",children:E}),a.jsx("span",{className:"text-xs text-muted-foreground truncate",children:b.columns.length===0?"No columns selected":`${b.columns.length} columns`})]})]}),a.jsx("button",{onClick:O=>{O.stopPropagation(),k(j)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:a.jsx(Hl,{size:14})})]}),_&&a.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${u?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),a.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:v,onChange:O=>m(j,O.target.value),onClick:O=>O.stopPropagation(),children:[a.jsx("option",{value:"simple",children:"Simple Math"}),a.jsx("option",{value:"power",children:"Power Transform"})]}),a.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:b.method,onChange:O=>N(j,{method:O.target.value}),onClick:O=>O.stopPropagation(),children:zu[v].methods.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))})]}),(b.method==="yeo-johnson"||b.method==="box-cox")&&a.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:O=>O.stopPropagation(),children:[a.jsx("input",{type:"checkbox",id:`std-${j}`,checked:((I=b.params)==null?void 0:I.standardize)!==!1,onChange:O=>N(j,{params:{...b.params,standardize:O.target.checked}})}),a.jsx("label",{htmlFor:`std-${j}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),b.method==="exponential"&&a.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:O=>O.stopPropagation(),children:[a.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),a.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((T=b.params)==null?void 0:T.clip_threshold)||700,onChange:O=>N(j,{params:{...b.params,clip_threshold:parseFloat(O.target.value)}})})]})]}),a.jsxs("div",{className:"space-y-1 min-w-0",onClick:O=>O.stopPropagation(),children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),a.jsx(PM,{allColumns:w,selectedColumns:b.columns||[],onChange:O=>N(j,{columns:O})})]})]})]},j)}),s.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",a.jsx("br",{}),'Click "Add Rule" to start.']})]}),a.jsx(Ur,{recommendations:g||[],onApply:b=>{var E,M;const j=b,v=((E=j.suggested_params)==null?void 0:E.method)||((M=j.params)==null?void 0:M.method)||"log",_=j.target_columns||[];if(_.length>0){const I=s.length;o(T=>[...T,I]),t({transformations:[...s,{columns:_,method:v,params:{}}]})}}})]})},DM={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:fv,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:IM,getDefaultConfig:()=>({transformations:[]})},AM=({value:e,onChange:t})=>{const[n,r]=R.useState((e==null?void 0:e.join(", "))||""),s=R.useRef(e);R.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(s.current)&&(r((e==null?void 0:e.join(", "))||""),s.current=e)},[e]);const i=()=>{const o=n.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,u)=>l-u);t(o)};return a.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:n,onChange:o=>r(o.target.value),onBlur:i})},OM=({config:e,onChange:t,nodeId:n})=>{var p;const s=(p=Ye(n||"").find(m=>m.datasetId))==null?void 0:p.datasetId,{data:i,isLoading:o}=Fe(s),l=R.useRef(null),[u,c]=R.useState(!1),[d,f]=R.useState("");R.useEffect(()=>{if(!l.current)return;const m=new ResizeObserver(g=>{for(const y of g)c(y.contentRect.width>450)});return m.observe(l.current),()=>m.disconnect()},[]);const h=i?Object.values(i.columns).filter(m=>["int","float","number"].some(g=>{var y;return(y=m.dtype)==null?void 0:y.toLowerCase().includes(g)})).map(m=>m.name):[],w=h.filter(m=>m.toLowerCase().includes(d.toLowerCase())),x=()=>{t({...e,columns:w})},N=()=>{const m=e.columns.filter(g=>!w.includes(g));t({...e,columns:m})},k=m=>{e.columns.includes(m)?t({...e,columns:e.columns.filter(g=>g!==m)}):t({...e,columns:[...e.columns,m]})};return a.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),a.jsxs("div",{className:`grid gap-4 ${u?"grid-cols-2":"grid-cols-1"}`,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:m=>t({...e,strategy:m.target.value}),children:[a.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),a.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),a.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),a.jsx("option",{value:"custom",children:"Custom Edges"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),a.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:m=>t({...e,n_bins:parseInt(m.target.value)||5})})]}),e.strategy==="custom"&&a.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[a.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?a.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(m=>{var g;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium",children:m}),a.jsx(AM,{value:(g=e.custom_bins)==null?void 0:g[m],onChange:y=>t({...e,custom_bins:{...e.custom_bins,[m]:y}})})]},m)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:m=>t({...e,label_format:m.target.value}),children:[a.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),a.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),a.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),a.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:m=>t({...e,precision:parseInt(m.target.value)||0})}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),a.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:m=>t({...e,drop_original:m.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),a.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:m=>t({...e,output_suffix:m.target.value})})]})]})]}),a.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),a.jsx("div",{className:"flex gap-2",children:a.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:m=>f(m.target.value)})}),a.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[a.jsx("button",{onClick:x,className:"text-primary hover:underline",children:"Select All"}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsx("button",{onClick:N,className:"text-muted-foreground hover:underline",children:"None"}),a.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:o?a.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):w.length===0?a.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:h.length===0?"No numeric columns found.":`No columns match "${d}"`}):a.jsx("div",{className:"space-y-1",children:w.map(m=>a.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(m),onChange:()=>k(m),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:m,children:m})]},m))})})]})]})]})},LM={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:ov,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:OM,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},zM=({nodeId:e})=>{const t=ce(s=>s.executionResult),n=e?t==null?void 0:t.node_results[e]:null;if(!n)return null;const r=s=>s?a.jsx("div",{className:"space-y-1",children:Object.entries(s).map(([i,o])=>typeof o=="object"&&o!==null?a.jsxs("div",{className:"mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[i.replace(/_/g," "),":"]}),a.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:r(o)})]},i):a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[i.replace(/_/g," "),":"]}),a.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(o)})]},i))}):null;return a.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[a.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),a.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[n.metrics&&a.jsx("div",{className:"mt-2",children:r(n.metrics)}),n.error&&a.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",n.error]}),!n.metrics&&!n.error&&a.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},FM=({config:e,onChange:t,nodeId:n})=>{var N,k;const r=R.useRef(null),[s,i]=R.useState(!1),[o,l]=R.useState(!0),u=Ye(n||""),c=(N=u.find(p=>p.datasetId))==null?void 0:N.datasetId,{data:d}=Fe(c),f=(k=u.find(p=>{var m;return(m=p.config)==null?void 0:m.target_column}))==null?void 0:k.config.target_column;R.useEffect(()=>{if(!e.target_column){if(f)t({...e,target_column:f});else if(d!=null&&d.columns){const p=Object.values(d.columns).find(m=>m.name.toLowerCase()==="target"||m.name.toLowerCase()==="class"||m.column_type==="target");p&&t({...e,target_column:p.name})}}},[d,f,e.target_column]),R.useEffect(()=>{if(!r.current)return;const p=new ResizeObserver(m=>{for(const g of m)i(g.contentRect.width>400)});return p.observe(r.current),()=>p.disconnect()},[]);const h=Js(n||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),w=p=>{p.suggested_params&&t({...e,...p.suggested_params})},x=(p,m)=>{const g={...e,[p]:m};p==="type"&&(m==="oversampling"?g.method="smote":g.method="random_under_sampling"),t(g)};return a.jsx("div",{ref:r,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${s?"overflow-hidden":"overflow-y-auto"}`,children:a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${s?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${s?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:p=>x("type",p.target.value),children:[a.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),a.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),a.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:p=>x("method",p.target.value),children:e.type==="oversampling"?a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"smote",children:"SMOTE"}),a.jsx("option",{value:"adasyn",children:"ADASYN"}),a.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),a.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),a.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),a.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),a.jsx("option",{value:"nearmiss",children:"NearMiss"}),a.jsx("option",{value:"tomek_links",children:"Tomek Links"}),a.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:p=>x("target_column",p.target.value),list:"target-column-suggestions"}),(d==null?void 0:d.columns)&&a.jsx("datalist",{id:"target-column-suggestions",children:Object.values(d.columns).map(p=>a.jsx("option",{value:p.name},p.name))})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f?"Auto-detected from upstream node.":"The column containing the class labels."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:p=>x("sampling_strategy",p.target.value),children:[a.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),a.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),a.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),a.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),a.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),a.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:p=>x("random_state",parseInt(p.target.value))})]})]}),a.jsxs("div",{className:`space-y-4 ${s?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&a.jsxs(a.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),a.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:p=>x("k_neighbors",parseInt(p.target.value))})]}),["borderline_smote","svm_smote"].includes(e.method)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),a.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:p=>x("m_neighbors",parseInt(p.target.value))})]}),e.method==="borderline_smote"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:p=>x("kind",p.target.value),children:[a.jsx("option",{value:"borderline-1",children:"Borderline-1"}),a.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:p=>x("out_step",parseFloat(p.target.value))})]}),e.method==="kmeans_smote"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:p=>x("cluster_balance_threshold",parseFloat(p.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),a.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:p=>x("density_exponent",p.target.value)})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:p=>x("replacement",p.target.checked)})]}),e.type==="undersampling"&&e.method==="nearmiss"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:p=>x("version",parseInt(p.target.value)),children:[a.jsx("option",{value:"1",children:"1"}),a.jsx("option",{value:"2",children:"2"}),a.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),a.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:p=>x("n_neighbors",parseInt(p.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),a.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:p=>x("kind_sel",p.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"mode",children:"Mode"})]})]})]}),h.length>0&&a.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[a.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>l(!o),children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",h.length,")"]}),o?a.jsx(lv,{size:16}):a.jsx(ao,{size:16})]}),o&&a.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:a.jsx(Ur,{recommendations:h,onApply:w})})]}),n&&a.jsx(zM,{nodeId:n})]})]})})},$M=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},HM={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:ir,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:FM,validate:$M,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},VM=[{value:"arithmetic",label:"Arithmetic",icon:Cf},{value:"datetime_extract",label:"Date Extraction",icon:jT},{value:"ratio",label:"Ratio",icon:WT},{value:"similarity",label:"Similarity",icon:OT},{value:"polynomial",label:"Polynomial",icon:e3},{value:"group_agg",label:"Group Agg",icon:fv}],BM=["add","subtract","multiply","divide"],UM=["year","month","day","weekday","hour","quarter","is_weekend"],WM=["ratio","token_sort_ratio","token_set_ratio"],qM=["mean","sum","count","min","max","std","median"],Qt=({columns:e,selected:t,onChange:n,label:r,single:s})=>{const[i,o]=R.useState(""),l=e.filter(c=>c.toLowerCase().includes(i.toLowerCase())),u=c=>{s?n([c]):t.includes(c)?n(t.filter(d=>d!==c)):n([...t,c])};return a.jsxs("div",{className:"space-y-1.5",children:[r&&a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:r}),a.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[a.jsx(Tf,{size:12,className:"text-muted-foreground mr-1.5"}),a.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:i,onChange:c=>o(c.target.value)})]}),a.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(c=>{const d=t.includes(c);return a.jsxs("div",{onClick:()=>u(c),className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[a.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&a.jsx(_T,{size:8,strokeWidth:4})}),a.jsx("span",{className:"truncate",children:c})]},c)}):a.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},QM=({config:e,onChange:t,nodeId:n})=>{var j;const s=(j=Ye(n||"").find(v=>v.datasetId))==null?void 0:j.datasetId,{data:i}=Fe(s),o=ce(v=>v.executionResult),l=n?o==null?void 0:o.node_results[n]:null,u=l==null?void 0:l.metrics,[c,d]=R.useState(!1),f=i?Object.values(i.columns).map(v=>v.name):[],h=i?Object.values(i.columns).filter(v=>["int","float","number"].some(_=>{var E;return(E=v.dtype)==null?void 0:E.toLowerCase().includes(_)})).map(v=>v.name):[],w=i?Object.values(i.columns).filter(v=>["date","time"].some(_=>{var E;return(E=v.dtype)==null?void 0:E.toLowerCase().includes(_)})).map(v=>v.name):[],x=i?Object.values(i.columns).filter(v=>["string","object","text"].some(_=>{var E;return(E=v.dtype)==null?void 0:E.toLowerCase().includes(_)})).map(v=>v.name):[],N=Js(n||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),k=v=>{console.log("Applying recommendation:",v)},p=v=>{const _={operation_type:v,method:v==="arithmetic"?"add":v==="similarity"?"ratio":v==="group_agg"?"mean":v==="polynomial"?"poly":"year",input_columns:[],output_column:"",datetime_features:v==="datetime_extract"?["year"]:void 0,degree:v==="polynomial"?2:void 0,interaction_only:v==="polynomial"?!1:void 0,isExpanded:!0};t({operations:[...e.operations||[],_]})},m=(v,_)=>{const E=[...e.operations||[]];E[v]={...E[v],..._},t({operations:E})},g=(v,_)=>{_.stopPropagation();const E=[...e.operations||[]];E.splice(v,1),t({operations:E})},y=v=>{const _=[...e.operations||[]];_[v]={..._[v],isExpanded:!_[v].isExpanded},t({operations:_})},b=(v,_)=>`${v.operation_type}_${_}`;return a.jsxs("div",{className:"flex h-full",children:[a.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[a.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),VM.map(v=>a.jsxs("button",{onClick:()=>p(v.value),className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:v.label,children:[a.jsx(v.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),a.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:v.label.replace(" ",`
`)})]},v.value))]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[N.length>0&&a.jsxs("div",{className:"border-b bg-muted/10",children:[a.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uv,{size:14,className:N.length>0?"text-yellow-500":""}),a.jsxs("span",{children:["Recommendations (",N.length,")"]})]}),c?a.jsx(ao,{size:14}):a.jsx(od,{size:14})]}),c&&a.jsx("div",{className:"p-4 bg-muted/5 border-t",children:a.jsx(Ur,{recommendations:N,onApply:k,className:"mb-0"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((v,_)=>{var E,M,I;return a.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>y(_),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[v.isExpanded?a.jsx(ao,{size:14,className:"text-muted-foreground"}):a.jsx(od,{size:14,className:"text-muted-foreground"}),a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:v.operation_type==="datetime_extract"?"Date":v.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(v.operation_type)&&a.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:v.method,onClick:T=>T.stopPropagation(),onChange:T=>m(_,{method:T.target.value}),children:(v.operation_type==="arithmetic"?BM:v.operation_type==="similarity"?WM:v.operation_type==="group_agg"?qM:[]).map(T=>a.jsx("option",{value:T,children:T.replace("_"," ")},T))})]}),a.jsx("button",{onClick:T=>g(_,T),className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:a.jsx(Hl,{size:14})})]}),v.isExpanded&&a.jsxs("div",{className:"p-3 space-y-4",children:[v.operation_type==="arithmetic"&&a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:v.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),a.jsx(Qt,{label:"Column A (Left Operand)",columns:h,selected:v.input_columns.slice(0,1),onChange:T=>m(_,{input_columns:T}),single:!0}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-px bg-border flex-1"}),a.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:v.method==="add"?"+":v.method==="subtract"?"-":v.method==="multiply"?"":""}),a.jsx("div",{className:"h-px bg-border flex-1"})]}),a.jsx(Qt,{label:"Column B (Right Operand)",columns:h,selected:((E=v.secondary_columns)==null?void 0:E.slice(0,1))||[],onChange:T=>m(_,{secondary_columns:T}),single:!0})]}),v.operation_type==="ratio"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",a.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),a.jsx(Qt,{label:"Numerator (Sum)",columns:h,selected:v.input_columns,onChange:T=>m(_,{input_columns:T})}),a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-dashed"})}),a.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),a.jsx(Qt,{label:"Denominator (Sum)",columns:h,selected:v.secondary_columns||[],onChange:T=>m(_,{secondary_columns:T})})]}),v.operation_type==="similarity"&&a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[a.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),a.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),a.jsxs("li",{children:[a.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),a.jsx(Qt,{label:"String A",columns:x,selected:v.input_columns.slice(0,1),onChange:T=>m(_,{input_columns:T}),single:!0}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-px bg-border flex-1"}),a.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),a.jsx("div",{className:"h-px bg-border flex-1"})]}),a.jsx(Qt,{label:"String B",columns:x,selected:((M=v.secondary_columns)==null?void 0:M.slice(0,1))||[],onChange:T=>m(_,{secondary_columns:T}),single:!0})]}),v.operation_type==="polynomial"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Generates polynomial and interaction features (e.g., A, AB)."}),a.jsx(Qt,{label:"Input Columns",columns:h,selected:v.input_columns,onChange:T=>m(_,{input_columns:T})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Degree"}),a.jsx("input",{type:"number",min:"2",max:"5",className:"w-full text-xs border rounded p-1.5",value:v.degree||2,onChange:T=>m(_,{degree:parseInt(T.target.value)})})]}),a.jsx("div",{className:"space-y-1 pt-5",children:a.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v.interaction_only||!1,onChange:T=>m(_,{interaction_only:T.target.checked})}),"Interaction Only"]})})]})]}),v.operation_type==="group_agg"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),a.jsx(Qt,{label:"Group By (Categorical)",columns:x.length>0?x:f,selected:v.input_columns.slice(0,1),onChange:T=>m(_,{input_columns:T}),single:!0}),a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-dashed"})}),a.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),a.jsx(Qt,{label:"Target (Numeric)",columns:h,selected:((I=v.secondary_columns)==null?void 0:I.slice(0,1))||[],onChange:T=>m(_,{secondary_columns:T}),single:!0})]}),v.operation_type==="datetime_extract"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Qt,{label:"Date Column",columns:w.length>0?w:f,selected:v.input_columns.slice(0,1),onChange:T=>m(_,{input_columns:T}),single:!0}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:UM.map(T=>a.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[a.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(v.datetime_features||[]).includes(T),onChange:O=>{const S=v.datetime_features||[],z=O.target.checked?[...S,T]:S.filter(A=>A!==T);m(_,{datetime_features:z})}}),a.jsx("span",{className:"capitalize",children:T.replace("_"," ")})]},T))})]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),a.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:b(v,_),value:v.output_column||"",onChange:T=>m(_,{output_column:T.target.value})})]})]})]},_)}),(!e.operations||e.operations.length===0)&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[a.jsx(Cf,{size:32,className:"mb-2 opacity-20"}),a.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),a.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),u&&a.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[a.jsx(ir,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsx("div",{className:"space-y-2 text-xs",children:u.generated_features&&u.generated_features.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),a.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:u.generated_features.length})]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.generated_features.map(v=>a.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:v},v))})]})]}):a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[a.jsx(zT,{size:12}),a.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},XM={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:Cf,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,n,r;if(!e.operations||e.operations.length===0)return{isValid:!1,message:"Add at least one operation."};for(const s of e.operations){if(s.operation_type==="arithmetic"&&(s.input_columns.length===0||!((t=s.secondary_columns)!=null&&t.length)&&!((n=s.constants)!=null&&n.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(s.operation_type==="datetime_extract"&&s.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(s.operation_type==="polynomial"&&s.input_columns.length===0)return{isValid:!1,message:"Select input columns for polynomial features."};if(s.operation_type==="group_agg"&&(s.input_columns.length===0||!((r=s.secondary_columns)!=null&&r.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:QM,getDefaultConfig:()=>({operations:[]})},KM=()=>{xe.register(Z4),xe.register(tM),xe.register(rM),xe.register(iM),xe.register(aM),xe.register(MM),xe.register(DM),xe.register(LM),xe.register(HM),xe.register(XM),xe.register(CM),xe.register(hM),xe.register(pM),xe.register(xM),xe.register(vM),xe.register(bM),xe.register(_M),xe.register(SM),xe.register(uM),xe.register(dM),console.log("[Registry] Initialization complete. Total nodes:",xe.getAll().length)};KM();const YM=new zN;Fu.createRoot(document.getElementById("root")).render(a.jsx(Lt.StrictMode,{children:a.jsx($N,{client:YM,children:a.jsx(Y4,{})})}));
