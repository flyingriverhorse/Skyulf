var jw=Object.defineProperty;var Rf=e=>{throw TypeError(e)};var Tw=(e,t,n)=>t in e?jw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wl=(e,t,n)=>Tw(e,typeof t!="symbol"?t+"":t,n),Ql=(e,t,n)=>t.has(e)||Rf("Cannot "+n);var T=(e,t,n)=>(Ql(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>t.has(e)?Rf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(Ql(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ae=(e,t,n)=>(Ql(e,t,"access private method"),n);var bo=(e,t,n,r)=>({set _(s){q(e,t,s,n)},get _(){return T(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rm={exports:{}},al={},Im={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Symbol.for("react.element"),Mw=Symbol.for("react.portal"),Pw=Symbol.for("react.fragment"),Rw=Symbol.for("react.strict_mode"),Iw=Symbol.for("react.profiler"),Dw=Symbol.for("react.provider"),Aw=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),Lw=Symbol.for("react.suspense"),zw=Symbol.for("react.memo"),Fw=Symbol.for("react.lazy"),If=Symbol.iterator;function $w(e){return e===null||typeof e!="object"?null:(e=If&&e[If]||e["@@iterator"],typeof e=="function"?e:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Am=Object.assign,Om={};function Vs(e,t,n){this.props=e,this.context=t,this.refs=Om,this.updater=n||Dm}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lm(){}Lm.prototype=Vs.prototype;function sd(e,t,n){this.props=e,this.context=t,this.refs=Om,this.updater=n||Dm}var id=sd.prototype=new Lm;id.constructor=sd;Am(id,Vs.prototype);id.isPureReactComponent=!0;var Df=Array.isArray,zm=Object.prototype.hasOwnProperty,od={current:null},Fm={key:!0,ref:!0,__self:!0,__source:!0};function $m(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)zm.call(t,r)&&!Fm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ao,type:e,key:i,ref:o,props:s,_owner:od.current}}function Hw(e,t){return{$$typeof:ao,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ad(e){return typeof e=="object"&&e!==null&&e.$$typeof===ao}function Bw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Af=/\/+/g;function ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bw(""+e.key):t.toString(36)}function na(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ao:case Mw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ql(o,0):r,Df(s)?(n="",e!=null&&(n=e.replace(Af,"$&/")+"/"),na(s,t,n,"",function(u){return u})):s!=null&&(ad(s)&&(s=Hw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Af,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Df(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+ql(i,a);o+=na(i,t,n,l,s)}else if(l=$w(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+ql(i,a++),o+=na(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Co(e,t,n){if(e==null)return e;var r=[],s=0;return na(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Vw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},ra={transition:null},Uw={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:ra,ReactCurrentOwner:od};function Hm(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Co,forEach:function(e,t,n){Co(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Co(e,function(){t++}),t},toArray:function(e){return Co(e,function(t){return t})||[]},only:function(e){if(!ad(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Vs;oe.Fragment=Pw;oe.Profiler=Iw;oe.PureComponent=sd;oe.StrictMode=Rw;oe.Suspense=Lw;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uw;oe.act=Hm;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Am({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=od.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)zm.call(t,l)&&!Fm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ao,type:e.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(e){return e={$$typeof:Aw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dw,_context:e},e.Consumer=e};oe.createElement=$m;oe.createFactory=function(e){var t=$m.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:Ow,render:e}};oe.isValidElement=ad;oe.lazy=function(e){return{$$typeof:Fw,_payload:{_status:-1,_result:e},_init:Vw}};oe.memo=function(e,t){return{$$typeof:zw,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=ra.transition;ra.transition={};try{e()}finally{ra.transition=t}};oe.unstable_act=Hm;oe.useCallback=function(e,t){return Je.current.useCallback(e,t)};oe.useContext=function(e){return Je.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Je.current.useEffect(e,t)};oe.useId=function(){return Je.current.useId()};oe.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Je.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};oe.useRef=function(e){return Je.current.useRef(e)};oe.useState=function(e){return Je.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Je.current.useTransition()};oe.version="18.3.1";Im.exports=oe;var D=Im.exports;const At=Pm(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=D,Qw=Symbol.for("react.element"),qw=Symbol.for("react.fragment"),Xw=Object.prototype.hasOwnProperty,Yw=Ww.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kw={key:!0,ref:!0,__self:!0,__source:!0};function Bm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Xw.call(t,r)&&!Kw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Qw,type:e,key:i,ref:o,props:s,_owner:Yw.current}}al.Fragment=qw;al.jsx=Bm;al.jsxs=Bm;Rm.exports=al;var f=Rm.exports,Ru={},Vm={exports:{}},yt={},Um={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,j){var L=C.length;C.push(j);e:for(;0<L;){var H=L-1>>>1,B=C[H];if(0<s(B,j))C[H]=j,C[L]=B,L=H;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var j=C[0],L=C.pop();if(L!==j){C[0]=L;e:for(var H=0,B=C.length,Q=B>>>1;H<Q;){var U=2*(H+1)-1,Y=C[U],K=U+1,Z=C[K];if(0>s(Y,L))K<B&&0>s(Z,Y)?(C[H]=Z,C[K]=L,H=K):(C[H]=Y,C[U]=L,H=U);else if(K<B&&0>s(Z,L))C[H]=Z,C[K]=L,H=K;else break e}}return j}function s(C,j){var L=C.sortIndex-j.sortIndex;return L!==0?L:C.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,h=3,v=!1,g=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=C)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function x(C){if(w=!1,p(C),!g)if(n(l)!==null)g=!0,P(k);else{var j=n(u);j!==null&&z(x,j.startTime-C)}}function k(C,j){g=!1,w&&(w=!1,y(N),N=-1),v=!0;var L=h;try{for(p(j),c=n(l);c!==null&&(!(c.expirationTime>j)||C&&!R());){var H=c.callback;if(typeof H=="function"){c.callback=null,h=c.priorityLevel;var B=H(c.expirationTime<=j);j=e.unstable_now(),typeof B=="function"?c.callback=B:c===n(l)&&r(l),p(j)}else r(l);c=n(l)}if(c!==null)var Q=!0;else{var U=n(u);U!==null&&z(x,U.startTime-j),Q=!1}return Q}finally{c=null,h=L,v=!1}}var _=!1,E=null,N=-1,M=5,I=-1;function R(){return!(e.unstable_now()-I<M)}function A(){if(E!==null){var C=e.unstable_now();I=C;var j=!0;try{j=E(!0,C)}finally{j?$():(_=!1,E=null)}}else _=!1}var $;if(typeof m=="function")$=function(){m(A)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,O=b.port2;b.port1.onmessage=A,$=function(){O.postMessage(null)}}else $=function(){S(A,0)};function P(C){E=C,_||(_=!0,$())}function z(C,j){N=S(function(){C(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,P(k))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var L=h;h=j;try{return C()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,j){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=h;h=C;try{return j()}finally{h=L}},e.unstable_scheduleCallback=function(C,j,L){var H=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,C={id:d++,callback:j,priorityLevel:C,startTime:L,expirationTime:B,sortIndex:-1},L>H?(C.sortIndex=L,t(u,C),n(l)===null&&C===n(u)&&(w?(y(N),N=-1):w=!0,z(x,L-H))):(C.sortIndex=B,t(l,C),g||v||(g=!0,P(k))),C},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(C){var j=h;return function(){var L=h;h=j;try{return C.apply(this,arguments)}finally{h=L}}}})(Wm);Um.exports=Wm;var Gw=Um.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=D,mt=Gw;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qm=new Set,ji={};function $r(e,t){Ns(e,t),Ns(e+"Capture",t)}function Ns(e,t){for(ji[e]=t,e=0;e<t.length;e++)Qm.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=Object.prototype.hasOwnProperty,Jw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Of={},Lf={};function e1(e){return Iu.call(Lf,e)?!0:Iu.call(Of,e)?!1:Jw.test(e)?Lf[e]=!0:(Of[e]=!0,!1)}function t1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n1(e,t,n,r){if(t===null||typeof t>"u"||t1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var ld=/[\-:]([a-z])/g;function ud(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ld,ud);Be[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ld,ud);Be[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ld,ud);Be[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function cd(e,t,n,r){var s=Be.hasOwnProperty(t)?Be[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(n1(t,n,s,r)&&(n=null),r||s===null?e1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=Zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),Du=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Xm=Symbol.for("react.context"),fd=Symbol.for("react.forward_ref"),Au=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),hd=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),Ym=Symbol.for("react.offscreen"),zf=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=zf&&e[zf]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Xl;function ci(e){if(Xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return`
`+Xl+e}var Yl=!1;function Kl(e,t){if(!e||Yl)return"";Yl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ci(e):""}function r1(e){switch(e.tag){case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return ci("Suspense");case 19:return ci("SuspenseList");case 0:case 2:case 15:return e=Kl(e.type,!1),e;case 11:return e=Kl(e.type.render,!1),e;case 1:return e=Kl(e.type,!0),e;default:return""}}function Lu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Wr:return"Portal";case Du:return"Profiler";case dd:return"StrictMode";case Au:return"Suspense";case Ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xm:return(e.displayName||"Context")+".Consumer";case qm:return(e._context.displayName||"Context")+".Provider";case fd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hd:return t=e.displayName||null,t!==null?t:Lu(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return Lu(e(t))}catch{}}return null}function s1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(t);case 8:return t===dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Km(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i1(e){var t=Km(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function To(e){e._valueTracker||(e._valueTracker=i1(e))}function Gm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Km(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zu(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ff(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zm(e,t){t=t.checked,t!=null&&cd(e,"checked",t,!1)}function Fu(e,t){Zm(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$u(e,t.type,n):t.hasOwnProperty("defaultValue")&&$u(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $f(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $u(e,t,n){(t!=="number"||_a(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var di=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(di(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function Jm(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mo,tg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mo=Mo||document.createElement("div"),Mo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ti(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o1=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(e){o1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yi[t]=yi[e]})});function ng(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yi.hasOwnProperty(e)&&yi[e]?(""+t).trim():t+"px"}function rg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ng(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var a1=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vu(e,t){if(t){if(a1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=null;function pd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qu=null,os=null,as=null;function Vf(e){if(e=co(e)){if(typeof Qu!="function")throw Error(V(280));var t=e.stateNode;t&&(t=fl(t),Qu(e.stateNode,e.type,t))}}function sg(e){os?as?as.push(e):as=[e]:os=e}function ig(){if(os){var e=os,t=as;if(as=os=null,Vf(e),t)for(e=0;e<t.length;e++)Vf(t[e])}}function og(e,t){return e(t)}function ag(){}var Gl=!1;function lg(e,t,n){if(Gl)return e(t,n);Gl=!0;try{return og(e,t,n)}finally{Gl=!1,(os!==null||as!==null)&&(ag(),ig())}}function Mi(e,t){var n=e.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var qu=!1;if(pn)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){qu=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{qu=!1}function l1(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var vi=!1,ka=null,Ea=!1,Xu=null,u1={onError:function(e){vi=!0,ka=e}};function c1(e,t,n,r,s,i,o,a,l){vi=!1,ka=null,l1.apply(u1,arguments)}function d1(e,t,n,r,s,i,o,a,l){if(c1.apply(this,arguments),vi){if(vi){var u=ka;vi=!1,ka=null}else throw Error(V(198));Ea||(Ea=!0,Xu=u)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ug(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uf(e){if(Hr(e)!==e)throw Error(V(188))}function f1(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Uf(s),e;if(i===r)return Uf(s),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function cg(e){return e=f1(e),e!==null?dg(e):null}function dg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dg(e);if(t!==null)return t;e=e.sibling}return null}var fg=mt.unstable_scheduleCallback,Wf=mt.unstable_cancelCallback,h1=mt.unstable_shouldYield,p1=mt.unstable_requestPaint,Te=mt.unstable_now,m1=mt.unstable_getCurrentPriorityLevel,md=mt.unstable_ImmediatePriority,hg=mt.unstable_UserBlockingPriority,Na=mt.unstable_NormalPriority,g1=mt.unstable_LowPriority,pg=mt.unstable_IdlePriority,ll=null,Gt=null;function y1(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:w1,v1=Math.log,x1=Math.LN2;function w1(e){return e>>>=0,e===0?32:31-(v1(e)/x1|0)|0}var Po=64,Ro=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ba(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=fi(a):(i&=o,i!==0&&(r=fi(i)))}else o=n&~s,o!==0?r=fi(o):i!==0&&(r=fi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),s=1<<n,r|=e[n],t&=~s;return r}function S1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-zt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=S1(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Yu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mg(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function Zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function k1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-zt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function gd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function gg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yg,yd,vg,xg,wg,Ku=!1,Io=[],Vn=null,Un=null,Wn=null,Pi=new Map,Ri=new Map,Mn=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qf(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(t.pointerId)}}function ti(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=co(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function N1(e,t,n,r,s){switch(t){case"focusin":return Vn=ti(Vn,e,t,n,r,s),!0;case"dragenter":return Un=ti(Un,e,t,n,r,s),!0;case"mouseover":return Wn=ti(Wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,ti(Pi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ri.set(i,ti(Ri.get(i)||null,e,t,n,r,s)),!0}return!1}function Sg(e){var t=ur(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=ug(n),t!==null){e.blockedOn=t,wg(e.priority,function(){vg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wu=r,n.target.dispatchEvent(r),Wu=null}else return t=co(n),t!==null&&yd(t),e.blockedOn=n,!1;t.shift()}return!0}function qf(e,t,n){sa(e)&&n.delete(t)}function b1(){Ku=!1,Vn!==null&&sa(Vn)&&(Vn=null),Un!==null&&sa(Un)&&(Un=null),Wn!==null&&sa(Wn)&&(Wn=null),Pi.forEach(qf),Ri.forEach(qf)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,Ku||(Ku=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,b1)))}function Ii(e){function t(s){return ni(s,e)}if(0<Io.length){ni(Io[0],e);for(var n=1;n<Io.length;n++){var r=Io[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&ni(Vn,e),Un!==null&&ni(Un,e),Wn!==null&&ni(Wn,e),Pi.forEach(t),Ri.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Sg(n),n.blockedOn===null&&Mn.shift()}var ls=xn.ReactCurrentBatchConfig,Ca=!0;function C1(e,t,n,r){var s=me,i=ls.transition;ls.transition=null;try{me=1,vd(e,t,n,r)}finally{me=s,ls.transition=i}}function j1(e,t,n,r){var s=me,i=ls.transition;ls.transition=null;try{me=4,vd(e,t,n,r)}finally{me=s,ls.transition=i}}function vd(e,t,n,r){if(Ca){var s=Gu(e,t,n,r);if(s===null)lu(e,t,r,ja,n),Qf(e,r);else if(N1(s,e,t,n,r))r.stopPropagation();else if(Qf(e,r),t&4&&-1<E1.indexOf(e)){for(;s!==null;){var i=co(s);if(i!==null&&yg(i),i=Gu(e,t,n,r),i===null&&lu(e,t,r,ja,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lu(e,t,r,null,n)}}var ja=null;function Gu(e,t,n,r){if(ja=null,e=pd(r),e=ur(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ug(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ja=e,null}function _g(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m1()){case md:return 1;case hg:return 4;case Na:case g1:return 16;case pg:return 536870912;default:return 16}default:return 16}}var Hn=null,xd=null,ia=null;function kg(){if(ia)return ia;var e,t=xd,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ia=s.slice(e,1<r?1-r:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Do(){return!0}function Xf(){return!1}function vt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Do:Xf,this.isPropagationStopped=Xf,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),t}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=vt(Us),uo=Ne({},Us,{view:0,detail:0}),T1=vt(uo),Jl,eu,ri,ul=Ne({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(Jl=e.screenX-ri.screenX,eu=e.screenY-ri.screenY):eu=Jl=0,ri=e),Jl)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),Yf=vt(ul),M1=Ne({},ul,{dataTransfer:0}),P1=vt(M1),R1=Ne({},uo,{relatedTarget:0}),tu=vt(R1),I1=Ne({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),D1=vt(I1),A1=Ne({},Us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O1=vt(A1),L1=Ne({},Us,{data:0}),Kf=vt(L1),z1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$1[e])?!!t[e]:!1}function Sd(){return H1}var B1=Ne({},uo,{key:function(e){if(e.key){var t=z1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sd,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V1=vt(B1),U1=Ne({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=vt(U1),W1=Ne({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sd}),Q1=vt(W1),q1=Ne({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),X1=vt(q1),Y1=Ne({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K1=vt(Y1),G1=[9,13,27,32],_d=pn&&"CompositionEvent"in window,xi=null;pn&&"documentMode"in document&&(xi=document.documentMode);var Z1=pn&&"TextEvent"in window&&!xi,Eg=pn&&(!_d||xi&&8<xi&&11>=xi),Zf=" ",Jf=!1;function Ng(e,t){switch(e){case"keyup":return G1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function J1(e,t){switch(e){case"compositionend":return bg(t);case"keypress":return t.which!==32?null:(Jf=!0,Zf);case"textInput":return e=t.data,e===Zf&&Jf?null:e;default:return null}}function eS(e,t){if(qr)return e==="compositionend"||!_d&&Ng(e,t)?(e=kg(),ia=xd=Hn=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eg&&t.locale!=="ko"?null:t.data;default:return null}}var tS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tS[e.type]:t==="textarea"}function Cg(e,t,n,r){sg(r),t=Ta(t,"onChange"),0<t.length&&(n=new wd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wi=null,Di=null;function nS(e){zg(e,0)}function cl(e){var t=Kr(e);if(Gm(t))return e}function rS(e,t){if(e==="change")return t}var jg=!1;if(pn){var nu;if(pn){var ru="oninput"in document;if(!ru){var th=document.createElement("div");th.setAttribute("oninput","return;"),ru=typeof th.oninput=="function"}nu=ru}else nu=!1;jg=nu&&(!document.documentMode||9<document.documentMode)}function nh(){wi&&(wi.detachEvent("onpropertychange",Tg),Di=wi=null)}function Tg(e){if(e.propertyName==="value"&&cl(Di)){var t=[];Cg(t,Di,e,pd(e)),lg(nS,t)}}function sS(e,t,n){e==="focusin"?(nh(),wi=t,Di=n,wi.attachEvent("onpropertychange",Tg)):e==="focusout"&&nh()}function iS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Di)}function oS(e,t){if(e==="click")return cl(t)}function aS(e,t){if(e==="input"||e==="change")return cl(t)}function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:lS;function Ai(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Iu.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sh(e,t){var n=rh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rh(n)}}function Mg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pg(){for(var e=window,t=_a();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_a(e.document)}return t}function kd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uS(e){var t=Pg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mg(n.ownerDocument.documentElement,n)){if(r!==null&&kd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=sh(n,i);var o=sh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cS=pn&&"documentMode"in document&&11>=document.documentMode,Xr=null,Zu=null,Si=null,Ju=!1;function ih(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ju||Xr==null||Xr!==_a(r)||(r=Xr,"selectionStart"in r&&kd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Si&&Ai(Si,r)||(Si=r,r=Ta(Zu,"onSelect"),0<r.length&&(t=new wd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function Ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yr={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},su={},Rg={};pn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function dl(e){if(su[e])return su[e];if(!Yr[e])return e;var t=Yr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rg)return su[e]=t[n];return e}var Ig=dl("animationend"),Dg=dl("animationiteration"),Ag=dl("animationstart"),Og=dl("transitionend"),Lg=new Map,oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){Lg.set(e,t),$r(t,[e])}for(var iu=0;iu<oh.length;iu++){var ou=oh[iu],dS=ou.toLowerCase(),fS=ou[0].toUpperCase()+ou.slice(1);tr(dS,"on"+fS)}tr(Ig,"onAnimationEnd");tr(Dg,"onAnimationIteration");tr(Ag,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Og,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function ah(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,d1(r,t,void 0,e),e.currentTarget=null}function zg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ah(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ah(s,a,u),i=l}}}if(Ea)throw e=Xu,Ea=!1,Xu=null,e}function ve(e,t){var n=t[sc];n===void 0&&(n=t[sc]=new Set);var r=e+"__bubble";n.has(r)||(Fg(t,e,2,!1),n.add(r))}function au(e,t,n){var r=0;t&&(r|=4),Fg(n,e,r,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[Oo]){e[Oo]=!0,Qm.forEach(function(n){n!=="selectionchange"&&(hS.has(n)||au(n,!1,e),au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,au("selectionchange",!1,t))}}function Fg(e,t,n,r){switch(_g(t)){case 1:var s=C1;break;case 4:s=j1;break;default:s=vd}n=s.bind(null,t,n,e),s=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}lg(function(){var u=i,d=pd(n),c=[];e:{var h=Lg.get(e);if(h!==void 0){var v=wd,g=e;switch(e){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":v=V1;break;case"focusin":g="focus",v=tu;break;case"focusout":g="blur",v=tu;break;case"beforeblur":case"afterblur":v=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=P1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Q1;break;case Ig:case Dg:case Ag:v=D1;break;case Og:v=X1;break;case"scroll":v=T1;break;case"wheel":v=K1;break;case"copy":case"cut":case"paste":v=O1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Gf}var w=(t&4)!==0,S=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,p;m!==null;){p=m;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,y!==null&&(x=Mi(m,y),x!=null&&w.push(Li(m,x,p)))),S)break;m=m.return}0<w.length&&(h=new v(h,g,null,n,d),c.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Wu&&(g=n.relatedTarget||n.fromElement)&&(ur(g)||g[mn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=u,g=g?ur(g):null,g!==null&&(S=Hr(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(w=Yf,x="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Gf,x="onPointerLeave",y="onPointerEnter",m="pointer"),S=v==null?h:Kr(v),p=g==null?h:Kr(g),h=new w(x,m+"leave",v,n,d),h.target=S,h.relatedTarget=p,x=null,ur(d)===u&&(w=new w(y,m+"enter",g,n,d),w.target=p,w.relatedTarget=S,x=w),S=x,v&&g)t:{for(w=v,y=g,m=0,p=w;p;p=Vr(p))m++;for(p=0,x=y;x;x=Vr(x))p++;for(;0<m-p;)w=Vr(w),m--;for(;0<p-m;)y=Vr(y),p--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=Vr(w),y=Vr(y)}w=null}else w=null;v!==null&&lh(c,h,v,w,!1),g!==null&&S!==null&&lh(c,S,g,w,!0)}}e:{if(h=u?Kr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var k=rS;else if(eh(h))if(jg)k=aS;else{k=iS;var _=sS}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=oS);if(k&&(k=k(e,u))){Cg(c,k,n,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&$u(h,"number",h.value)}switch(_=u?Kr(u):window,e){case"focusin":(eh(_)||_.contentEditable==="true")&&(Xr=_,Zu=u,Si=null);break;case"focusout":Si=Zu=Xr=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,ih(c,n,d);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":ih(c,n,d)}var E;if(_d)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else qr?Ng(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Eg&&n.locale!=="ko"&&(qr||N!=="onCompositionStart"?N==="onCompositionEnd"&&qr&&(E=kg()):(Hn=d,xd="value"in Hn?Hn.value:Hn.textContent,qr=!0)),_=Ta(u,N),0<_.length&&(N=new Kf(N,e,null,n,d),c.push({event:N,listeners:_}),E?N.data=E:(E=bg(n),E!==null&&(N.data=E)))),(E=Z1?J1(e,n):eS(e,n))&&(u=Ta(u,"onBeforeInput"),0<u.length&&(d=new Kf("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=E))}zg(c,t)})}function Li(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ta(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mi(e,n),i!=null&&r.unshift(Li(e,i,s)),i=Mi(e,t),i!=null&&r.push(Li(e,i,s))),e=e.return}return r}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Mi(n,i),l!=null&&o.unshift(Li(n,l,a))):s||(l=Mi(n,i),l!=null&&o.push(Li(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function uh(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(mS,"")}function Lo(e,t,n){if(t=uh(t),uh(e)!==t&&n)throw Error(V(425))}function Ma(){}var ec=null,tc=null;function nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rc=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(vS)}:rc;function vS(e){setTimeout(function(){throw e})}function uu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ii(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ii(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ws,zi="__reactProps$"+Ws,mn="__reactContainer$"+Ws,sc="__reactEvents$"+Ws,xS="__reactListeners$"+Ws,wS="__reactHandles$"+Ws;function ur(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dh(e);e!==null;){if(n=e[Kt])return n;e=dh(e)}return t}e=n,n=e.parentNode}return null}function co(e){return e=e[Kt]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function fl(e){return e[zi]||null}var ic=[],Gr=-1;function nr(e){return{current:e}}function xe(e){0>Gr||(e.current=ic[Gr],ic[Gr]=null,Gr--)}function ge(e,t){Gr++,ic[Gr]=e.current,e.current=t}var er={},Xe=nr(er),ot=nr(!1),Tr=er;function bs(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Pa(){xe(ot),xe(Xe)}function fh(e,t,n){if(Xe.current!==er)throw Error(V(168));ge(Xe,t),ge(ot,n)}function $g(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(V(108,s1(e)||"Unknown",s));return Ne({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Tr=Xe.current,ge(Xe,e),ge(ot,ot.current),!0}function hh(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=$g(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=e,xe(ot),xe(Xe),ge(Xe,e)):xe(ot),ge(ot,n)}var an=null,hl=!1,cu=!1;function Hg(e){an===null?an=[e]:an.push(e)}function SS(e){hl=!0,Hg(e)}function rr(){if(!cu&&an!==null){cu=!0;var e=0,t=me;try{var n=an;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}an=null,hl=!1}catch(s){throw an!==null&&(an=an.slice(e+1)),fg(md,rr),s}finally{me=t,cu=!1}}return null}var Zr=[],Jr=0,Ia=null,Da=0,St=[],_t=0,Mr=null,cn=1,dn="";function ir(e,t){Zr[Jr++]=Da,Zr[Jr++]=Ia,Ia=e,Da=t}function Bg(e,t,n){St[_t++]=cn,St[_t++]=dn,St[_t++]=Mr,Mr=e;var r=cn;e=dn;var s=32-zt(r)-1;r&=~(1<<s),n+=1;var i=32-zt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cn=1<<32-zt(t)+s|n<<s|r,dn=i+e}else cn=1<<i|n<<s|r,dn=e}function Ed(e){e.return!==null&&(ir(e,1),Bg(e,1,0))}function Nd(e){for(;e===Ia;)Ia=Zr[--Jr],Zr[Jr]=null,Da=Zr[--Jr],Zr[Jr]=null;for(;e===Mr;)Mr=St[--_t],St[_t]=null,dn=St[--_t],St[_t]=null,cn=St[--_t],St[_t]=null}var pt=null,ht=null,we=!1,It=null;function Vg(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ph(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ac(e){if(we){var t=ht;if(t){var n=t;if(!ph(e,t)){if(oc(e))throw Error(V(418));t=Qn(n.nextSibling);var r=pt;t&&ph(e,t)?Vg(r,n):(e.flags=e.flags&-4097|2,we=!1,pt=e)}}else{if(oc(e))throw Error(V(418));e.flags=e.flags&-4097|2,we=!1,pt=e}}}function mh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function zo(e){if(e!==pt)return!1;if(!we)return mh(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nc(e.type,e.memoizedProps)),t&&(t=ht)){if(oc(e))throw Ug(),Error(V(418));for(;t;)Vg(e,t),t=Qn(t.nextSibling)}if(mh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?Qn(e.stateNode.nextSibling):null;return!0}function Ug(){for(var e=ht;e;)e=Qn(e.nextSibling)}function Cs(){ht=pt=null,we=!1}function bd(e){It===null?It=[e]:It.push(e)}var _S=xn.ReactCurrentBatchConfig;function si(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gh(e){var t=e._init;return t(e._payload)}function Wg(e){function t(y,m){if(e){var p=y.deletions;p===null?(y.deletions=[m],y.flags|=16):p.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Kn(y,m),y.index=0,y.sibling=null,y}function i(y,m,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<m?(y.flags|=2,m):p):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,p,x){return m===null||m.tag!==6?(m=yu(p,y.mode,x),m.return=y,m):(m=s(m,p),m.return=y,m)}function l(y,m,p,x){var k=p.type;return k===Qr?d(y,m,p.props.children,x,p.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===jn&&gh(k)===m.type)?(x=s(m,p.props),x.ref=si(y,m,p),x.return=y,x):(x=ha(p.type,p.key,p.props,null,y.mode,x),x.ref=si(y,m,p),x.return=y,x)}function u(y,m,p,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=vu(p,y.mode,x),m.return=y,m):(m=s(m,p.children||[]),m.return=y,m)}function d(y,m,p,x,k){return m===null||m.tag!==7?(m=Nr(p,y.mode,x,k),m.return=y,m):(m=s(m,p),m.return=y,m)}function c(y,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yu(""+m,y.mode,p),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case jo:return p=ha(m.type,m.key,m.props,null,y.mode,p),p.ref=si(y,null,m),p.return=y,p;case Wr:return m=vu(m,y.mode,p),m.return=y,m;case jn:var x=m._init;return c(y,x(m._payload),p)}if(di(m)||Js(m))return m=Nr(m,y.mode,p,null),m.return=y,m;Fo(y,m)}return null}function h(y,m,p,x){var k=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:a(y,m,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case jo:return p.key===k?l(y,m,p,x):null;case Wr:return p.key===k?u(y,m,p,x):null;case jn:return k=p._init,h(y,m,k(p._payload),x)}if(di(p)||Js(p))return k!==null?null:d(y,m,p,x,null);Fo(y,p)}return null}function v(y,m,p,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(p)||null,a(m,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jo:return y=y.get(x.key===null?p:x.key)||null,l(m,y,x,k);case Wr:return y=y.get(x.key===null?p:x.key)||null,u(m,y,x,k);case jn:var _=x._init;return v(y,m,p,_(x._payload),k)}if(di(x)||Js(x))return y=y.get(p)||null,d(m,y,x,k,null);Fo(m,x)}return null}function g(y,m,p,x){for(var k=null,_=null,E=m,N=m=0,M=null;E!==null&&N<p.length;N++){E.index>N?(M=E,E=null):M=E.sibling;var I=h(y,E,p[N],x);if(I===null){E===null&&(E=M);break}e&&E&&I.alternate===null&&t(y,E),m=i(I,m,N),_===null?k=I:_.sibling=I,_=I,E=M}if(N===p.length)return n(y,E),we&&ir(y,N),k;if(E===null){for(;N<p.length;N++)E=c(y,p[N],x),E!==null&&(m=i(E,m,N),_===null?k=E:_.sibling=E,_=E);return we&&ir(y,N),k}for(E=r(y,E);N<p.length;N++)M=v(E,y,N,p[N],x),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?N:M.key),m=i(M,m,N),_===null?k=M:_.sibling=M,_=M);return e&&E.forEach(function(R){return t(y,R)}),we&&ir(y,N),k}function w(y,m,p,x){var k=Js(p);if(typeof k!="function")throw Error(V(150));if(p=k.call(p),p==null)throw Error(V(151));for(var _=k=null,E=m,N=m=0,M=null,I=p.next();E!==null&&!I.done;N++,I=p.next()){E.index>N?(M=E,E=null):M=E.sibling;var R=h(y,E,I.value,x);if(R===null){E===null&&(E=M);break}e&&E&&R.alternate===null&&t(y,E),m=i(R,m,N),_===null?k=R:_.sibling=R,_=R,E=M}if(I.done)return n(y,E),we&&ir(y,N),k;if(E===null){for(;!I.done;N++,I=p.next())I=c(y,I.value,x),I!==null&&(m=i(I,m,N),_===null?k=I:_.sibling=I,_=I);return we&&ir(y,N),k}for(E=r(y,E);!I.done;N++,I=p.next())I=v(E,y,N,I.value,x),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?N:I.key),m=i(I,m,N),_===null?k=I:_.sibling=I,_=I);return e&&E.forEach(function(A){return t(y,A)}),we&&ir(y,N),k}function S(y,m,p,x){if(typeof p=="object"&&p!==null&&p.type===Qr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case jo:e:{for(var k=p.key,_=m;_!==null;){if(_.key===k){if(k=p.type,k===Qr){if(_.tag===7){n(y,_.sibling),m=s(_,p.props.children),m.return=y,y=m;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===jn&&gh(k)===_.type){n(y,_.sibling),m=s(_,p.props),m.ref=si(y,_,p),m.return=y,y=m;break e}n(y,_);break}else t(y,_);_=_.sibling}p.type===Qr?(m=Nr(p.props.children,y.mode,x,p.key),m.return=y,y=m):(x=ha(p.type,p.key,p.props,null,y.mode,x),x.ref=si(y,m,p),x.return=y,y=x)}return o(y);case Wr:e:{for(_=p.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(y,m.sibling),m=s(m,p.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=vu(p,y.mode,x),m.return=y,y=m}return o(y);case jn:return _=p._init,S(y,m,_(p._payload),x)}if(di(p))return g(y,m,p,x);if(Js(p))return w(y,m,p,x);Fo(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,p),m.return=y,y=m):(n(y,m),m=yu(p,y.mode,x),m.return=y,y=m),o(y)):n(y,m)}return S}var js=Wg(!0),Qg=Wg(!1),Aa=nr(null),Oa=null,es=null,Cd=null;function jd(){Cd=es=Oa=null}function Td(e){var t=Aa.current;xe(Aa),e._currentValue=t}function lc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){Oa=e,Cd=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Cd!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Oa===null)throw Error(V(308));es=e,Oa.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var cr=null;function Md(e){cr===null?cr=[e]:cr.push(e)}function qg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Md(t)):(n.next=s.next,s.next=n),t.interleaved=n,gn(e,r)}function gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Pd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gn(e,n)}return s=r.interleaved,s===null?(t.next=t,Md(r)):(t.next=s.next,s.next=t),r.interleaved=t,gn(e,n)}function aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gd(e,n)}}function yh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var s=e.updateQueue;Tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var c=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,w=a;switch(h=t,v=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){c=g.call(v,c,h);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,h=typeof g=="function"?g.call(v,c,h):g,h==null)break e;c=Ne({},c,h);break e;case 2:Tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=c):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=c),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Rr|=o,e.lanes=o,e.memoizedState=c}}function vh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var fo={},Zt=nr(fo),Fi=nr(fo),$i=nr(fo);function dr(e){if(e===fo)throw Error(V(174));return e}function Rd(e,t){switch(ge($i,t),ge(Fi,e),ge(Zt,fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bu(t,e)}xe(Zt),ge(Zt,t)}function Ts(){xe(Zt),xe(Fi),xe($i)}function Yg(e){dr($i.current);var t=dr(Zt.current),n=Bu(t,e.type);t!==n&&(ge(Fi,e),ge(Zt,n))}function Id(e){Fi.current===e&&(xe(Zt),xe(Fi))}var ke=nr(0);function za(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var du=[];function Dd(){for(var e=0;e<du.length;e++)du[e]._workInProgressVersionPrimary=null;du.length=0}var la=xn.ReactCurrentDispatcher,fu=xn.ReactCurrentBatchConfig,Pr=0,Ee=null,Ie=null,Oe=null,Fa=!1,_i=!1,Hi=0,kS=0;function Ue(){throw Error(V(321))}function Ad(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Od(e,t,n,r,s,i){if(Pr=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?CS:jS,e=n(r,s),_i){i=0;do{if(_i=!1,Hi=0,25<=i)throw Error(V(301));i+=1,Oe=Ie=null,t.updateQueue=null,la.current=TS,e=n(r,s)}while(_i)}if(la.current=$a,t=Ie!==null&&Ie.next!==null,Pr=0,Oe=Ie=Ee=null,Fa=!1,t)throw Error(V(300));return e}function Ld(){var e=Hi!==0;return Hi=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function bt(){if(Ie===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Oe===null?Ee.memoizedState:Oe.next;if(t!==null)Oe=t,Ie=e;else{if(e===null)throw Error(V(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Oe===null?Ee.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Bi(e,t){return typeof t=="function"?t(e):t}function hu(e){var t=bt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Pr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,Ee.lanes|=d,Rr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,$t(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,Rr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pu(e){var t=bt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);$t(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Kg(){}function Gg(e,t){var n=Ee,r=bt(),s=t(),i=!$t(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,zd(ey.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Vi(9,Jg.bind(null,n,r,s,t),void 0,null),Le===null)throw Error(V(349));Pr&30||Zg(n,t,s)}return s}function Zg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jg(e,t,n,r){t.value=n,t.getSnapshot=r,ty(t)&&ny(e)}function ey(e,t,n){return n(function(){ty(t)&&ny(e)})}function ty(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function ny(e){var t=gn(e,1);t!==null&&Ft(t,e,1,-1)}function xh(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=bS.bind(null,Ee,e),[t.memoizedState,e]}function Vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ry(){return bt().memoizedState}function ua(e,t,n,r){var s=Wt();Ee.flags|=e,s.memoizedState=Vi(1|t,n,void 0,r===void 0?null:r)}function pl(e,t,n,r){var s=bt();r=r===void 0?null:r;var i=void 0;if(Ie!==null){var o=Ie.memoizedState;if(i=o.destroy,r!==null&&Ad(r,o.deps)){s.memoizedState=Vi(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=Vi(1|t,n,i,r)}function wh(e,t){return ua(8390656,8,e,t)}function zd(e,t){return pl(2048,8,e,t)}function sy(e,t){return pl(4,2,e,t)}function iy(e,t){return pl(4,4,e,t)}function oy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ay(e,t,n){return n=n!=null?n.concat([e]):null,pl(4,4,oy.bind(null,t,e),n)}function Fd(){}function ly(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ad(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uy(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ad(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cy(e,t,n){return Pr&21?($t(n,t)||(n=mg(),Ee.lanes|=n,Rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function ES(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=fu.transition;fu.transition={};try{e(!1),t()}finally{me=n,fu.transition=r}}function dy(){return bt().memoizedState}function NS(e,t,n){var r=Yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fy(e))hy(t,n);else if(n=qg(e,t,n,r),n!==null){var s=Ze();Ft(n,e,r,s),py(n,t,r)}}function bS(e,t,n){var r=Yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fy(e))hy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,$t(a,o)){var l=t.interleaved;l===null?(s.next=s,Md(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=qg(e,t,s,r),n!==null&&(s=Ze(),Ft(n,e,r,s),py(n,t,r))}}function fy(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function hy(e,t){_i=Fa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function py(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gd(e,n)}}var $a={readContext:Nt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},CS={readContext:Nt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:wh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ua(4194308,4,oy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return ua(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=NS.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:xh,useDebugValue:Fd,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=xh(!1),t=e[0];return e=ES.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=Wt();if(we){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Le===null)throw Error(V(349));Pr&30||Zg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,wh(ey.bind(null,r,i,e),[e]),r.flags|=2048,Vi(9,Jg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Le.identifierPrefix;if(we){var n=dn,r=cn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jS={readContext:Nt,useCallback:ly,useContext:Nt,useEffect:zd,useImperativeHandle:ay,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:uy,useReducer:hu,useRef:ry,useState:function(){return hu(Bi)},useDebugValue:Fd,useDeferredValue:function(e){var t=bt();return cy(t,Ie.memoizedState,e)},useTransition:function(){var e=hu(Bi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Kg,useSyncExternalStore:Gg,useId:dy,unstable_isNewReconciler:!1},TS={readContext:Nt,useCallback:ly,useContext:Nt,useEffect:zd,useImperativeHandle:ay,useInsertionEffect:sy,useLayoutEffect:iy,useMemo:uy,useReducer:pu,useRef:ry,useState:function(){return pu(Bi)},useDebugValue:Fd,useDeferredValue:function(e){var t=bt();return Ie===null?t.memoizedState=e:cy(t,Ie.memoizedState,e)},useTransition:function(){var e=pu(Bi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Kg,useSyncExternalStore:Gg,useId:dy,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Yn(e),i=hn(r,s);i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ft(t,e,s,r),aa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Yn(e),i=hn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(Ft(t,e,s,r),aa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Yn(e),s=hn(n,r);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,r),t!==null&&(Ft(t,e,r,n),aa(t,e,r))}};function Sh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ai(n,r)||!Ai(s,i):!0}function my(e,t,n){var r=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(s=at(t)?Tr:Xe.current,r=t.contextTypes,i=(r=r!=null)?bs(e,s):er),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _h(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function cc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Nt(i):(i=at(t)?Tr:Xe.current,s.context=bs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ml.enqueueReplaceState(s,s.state,null),La(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var n="",r=t;do n+=r1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function mu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function dc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MS=typeof WeakMap=="function"?WeakMap:Map;function gy(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,Sc=r),dc(e,t)},n}function yy(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){dc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){dc(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=US.bind(null,e,t,n),t.then(e,e))}function Eh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,qn(n,t,1))),n.lanes|=1),e)}var PS=xn.ReactCurrentOwner,st=!1;function Ge(e,t,n,r){t.child=e===null?Qg(t,null,n,r):js(t,e.child,n,r)}function bh(e,t,n,r,s){n=n.render;var i=t.ref;return us(t,s),r=Od(e,t,n,r,i,s),n=Ld(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yn(e,t,s)):(we&&n&&Ed(t),t.flags|=1,Ge(e,t,r,s),t.child)}function Ch(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!qd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vy(e,t,i,r,s)):(e=ha(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ai,n(o,r)&&e.ref===t.ref)return yn(e,t,s)}return t.flags|=1,e=Kn(i,r),e.ref=t.ref,e.return=t,t.child=e}function vy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ai(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,yn(e,t,s)}return fc(e,t,n,r,s)}function xy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ns,dt),dt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(ns,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(ns,dt),dt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ge(ns,dt),dt|=r;return Ge(e,t,s,n),t.child}function wy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fc(e,t,n,r,s){var i=at(n)?Tr:Xe.current;return i=bs(t,i),us(t,s),n=Od(e,t,n,r,i,s),r=Ld(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yn(e,t,s)):(we&&r&&Ed(t),t.flags|=1,Ge(e,t,n,s),t.child)}function jh(e,t,n,r,s){if(at(n)){var i=!0;Ra(t)}else i=!1;if(us(t,s),t.stateNode===null)ca(e,t),my(t,n,r),cc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=at(n)?Tr:Xe.current,u=bs(t,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_h(t,o,r,u),Tn=!1;var h=t.memoizedState;o.state=h,La(t,r,o,s),l=t.memoizedState,a!==r||h!==l||ot.current||Tn?(typeof d=="function"&&(uc(t,n,d,r),l=t.memoizedState),(a=Tn||Sh(t,n,a,r,h,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Xg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:jt(t.type,a),o.props=u,c=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nt(l):(l=at(n)?Tr:Xe.current,l=bs(t,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||h!==l)&&_h(t,o,r,l),Tn=!1,h=t.memoizedState,o.state=h,La(t,r,o,s);var g=t.memoizedState;a!==c||h!==g||ot.current||Tn?(typeof v=="function"&&(uc(t,n,v,r),g=t.memoizedState),(u=Tn||Sh(t,n,u,r,h,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return hc(e,t,n,r,i,s)}function hc(e,t,n,r,s,i){wy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&hh(t,n,!1),yn(e,t,i);r=t.stateNode,PS.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=js(t,e.child,null,i),t.child=js(t,null,a,i)):Ge(e,t,a,i),t.memoizedState=r.state,s&&hh(t,n,!0),t.child}function Sy(e){var t=e.stateNode;t.pendingContext?fh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fh(e,t.context,!1),Rd(e,t.containerInfo)}function Th(e,t,n,r,s){return Cs(),bd(s),t.flags|=256,Ge(e,t,n,r),t.child}var pc={dehydrated:null,treeContext:null,retryLane:0};function mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function _y(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ge(ke,s&1),e===null)return ac(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vl(o,r,0,null),e=Nr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mc(n),t.memoizedState=pc,e):$d(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return RS(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Kn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kn(a,i):(i=Nr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?mc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=pc,r}return i=e.child,e=i.sibling,r=Kn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $d(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $o(e,t,n,r){return r!==null&&bd(r),js(t,e.child,null,n),e=$d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RS(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=mu(Error(V(422))),$o(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=vl({mode:"visible",children:r.children},s,0,null),i=Nr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&js(t,e.child,null,o),t.child.memoizedState=mc(o),t.memoizedState=pc,i);if(!(t.mode&1))return $o(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(V(419)),r=mu(i,r,void 0),$o(e,t,o,r)}if(a=(o&e.childLanes)!==0,st||a){if(r=Le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gn(e,s),Ft(r,e,s,-1))}return Qd(),r=mu(Error(V(421))),$o(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=WS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ht=Qn(s.nextSibling),pt=t,we=!0,It=null,e!==null&&(St[_t++]=cn,St[_t++]=dn,St[_t++]=Mr,cn=e.id,dn=e.overflow,Mr=t),t=$d(t,r.children),t.flags|=4096,t)}function Mh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lc(e.return,t,n)}function gu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ky(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ge(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,n,t);else if(e.tag===19)Mh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&za(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),gu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&za(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}gu(t,!0,n,null,i);break;case"together":gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ca(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function IS(e,t,n){switch(t.tag){case 3:Sy(t),Cs();break;case 5:Yg(t);break;case 1:at(t.type)&&Ra(t);break;case 4:Rd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ge(Aa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?_y(e,t,n):(ge(ke,ke.current&1),e=yn(e,t,n),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ky(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,xy(e,t,n)}return yn(e,t,n)}var Ey,gc,Ny,by;Ey=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gc=function(){};Ny=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(Zt.current);var i=null;switch(n){case"input":s=zu(e,s),r=zu(e,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=Hu(e,s),r=Hu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ma)}Vu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ji.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ji.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};by=function(e,t,n,r){n!==r&&(t.flags|=4)};function ii(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function DS(e,t,n){var r=t.pendingProps;switch(Nd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return at(t.type)&&Pa(),We(t),null;case 3:return r=t.stateNode,Ts(),xe(ot),xe(Xe),Dd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Ec(It),It=null))),gc(e,t),We(t),null;case 5:Id(t);var s=dr($i.current);if(n=t.type,e!==null&&t.stateNode!=null)Ny(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return We(t),null}if(e=dr(Zt.current),zo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kt]=t,r[zi]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Ff(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Hf(r,i),ve("invalid",r)}Vu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Lo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Lo(r.textContent,a,e),s=["children",""+a]):ji.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":To(r),$f(r,i,!0);break;case"textarea":To(r),Bf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ma)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kt]=t,e[zi]=r,Ey(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<hi.length;s++)ve(hi[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":Ff(e,r),s=zu(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),ve("invalid",e);break;case"textarea":Hf(e,r),s=Hu(e,r),ve("invalid",e);break;default:s=r}Vu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?rg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tg(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ti(e,l):typeof l=="number"&&Ti(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ji.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",e):l!=null&&cd(e,i,l,o))}switch(n){case"input":To(e),$f(e,r,!1);break;case"textarea":To(e),Bf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?is(e,!!r.multiple,i,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ma)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)by(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=dr($i.current),dr(Zt.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(i=r.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Lo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return We(t),null;case 13:if(xe(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&ht!==null&&t.mode&1&&!(t.flags&128))Ug(),Cs(),t.flags|=98560,i=!1;else if(i=zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Kt]=t}else Cs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else It!==null&&(Ec(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?De===0&&(De=3):Qd())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ts(),gc(e,t),e===null&&Oi(t.stateNode.containerInfo),We(t),null;case 10:return Td(t.type._context),We(t),null;case 17:return at(t.type)&&Pa(),We(t),null;case 19:if(xe(ke),i=t.memoizedState,i===null)return We(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ii(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=za(e),o!==null){for(t.flags|=128,ii(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Ps&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304)}else{if(!r)if(e=za(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return We(t),null}else 2*Te()-i.renderingStartTime>Ps&&n!==1073741824&&(t.flags|=128,r=!0,ii(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=ke.current,ge(ke,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Wd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function AS(e,t){switch(Nd(t),t.tag){case 1:return at(t.type)&&Pa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ts(),xe(ot),xe(Xe),Dd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Id(t),null;case 13:if(xe(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ke),null;case 4:return Ts(),null;case 10:return Td(t.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var Ho=!1,Qe=!1,OS=typeof WeakSet=="function"?WeakSet:Set,X=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function yc(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Ph=!1;function LS(e,t){if(ec=Ca,e=Pg(),kd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=e,h=null;t:for(;;){for(var v;c!==n||s!==0&&c.nodeType!==3||(a=o+s),c!==i||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(v=c.firstChild)!==null;)h=c,c=v;for(;;){if(c===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(l=o),(v=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tc={focusedElem:e,selectionRange:n},Ca=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,S=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:jt(t.type,w),S);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(x){Ce(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return g=Ph,Ph=!1,g}function ki(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&yc(t,n,i)}s=s.next}while(s!==r)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cy(e){var t=e.alternate;t!==null&&(e.alternate=null,Cy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[zi],delete t[sc],delete t[xS],delete t[wS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jy(e){return e.tag===5||e.tag===3||e.tag===4}function Rh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ma));else if(r!==4&&(e=e.child,e!==null))for(xc(e,t,n),e=e.sibling;e!==null;)xc(e,t,n),e=e.sibling}function wc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wc(e,t,n),e=e.sibling;e!==null;)wc(e,t,n),e=e.sibling}var Fe=null,Pt=!1;function En(e,t,n){for(n=n.child;n!==null;)Ty(e,t,n),n=n.sibling}function Ty(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:Qe||ts(n,t);case 6:var r=Fe,s=Pt;Fe=null,En(e,t,n),Fe=r,Pt=s,Fe!==null&&(Pt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Pt?(e=Fe,n=n.stateNode,e.nodeType===8?uu(e.parentNode,n):e.nodeType===1&&uu(e,n),Ii(e)):uu(Fe,n.stateNode));break;case 4:r=Fe,s=Pt,Fe=n.stateNode.containerInfo,Pt=!0,En(e,t,n),Fe=r,Pt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yc(n,t,o),s=s.next}while(s!==r)}En(e,t,n);break;case 1:if(!Qe&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,t,a)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,En(e,t,n),Qe=r):En(e,t,n);break;default:En(e,t,n)}}function Ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OS),t.forEach(function(r){var s=QS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Pt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Pt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(Fe===null)throw Error(V(160));Ty(i,o,s),Fe=null,Pt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)My(t,e),t=t.sibling}function My(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Vt(e),r&4){try{ki(3,e,e.return),gl(3,e)}catch(w){Ce(e,e.return,w)}try{ki(5,e,e.return)}catch(w){Ce(e,e.return,w)}}break;case 1:Ct(t,e),Vt(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(Ct(t,e),Vt(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var s=e.stateNode;try{Ti(s,"")}catch(w){Ce(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zm(s,i),Uu(a,o);var u=Uu(a,i);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?rg(s,c):d==="dangerouslySetInnerHTML"?tg(s,c):d==="children"?Ti(s,c):cd(s,d,c,u)}switch(a){case"input":Fu(s,i);break;case"textarea":Jm(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?is(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?is(s,!!i.multiple,i.defaultValue,!0):is(s,!!i.multiple,i.multiple?[]:"",!1))}s[zi]=i}catch(w){Ce(e,e.return,w)}}break;case 6:if(Ct(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Ce(e,e.return,w)}}break;case 3:if(Ct(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(t.containerInfo)}catch(w){Ce(e,e.return,w)}break;case 4:Ct(t,e),Vt(e);break;case 13:Ct(t,e),Vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vd=Te())),r&4&&Ih(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,Ct(t,e),Qe=u):Ct(t,e),Vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(c=X=d;X!==null;){switch(h=X,v=h.child,h.tag){case 0:case 11:case 14:case 15:ki(4,h,h.return);break;case 1:ts(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Ce(r,n,w)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){Ah(c);continue}}v!==null?(v.return=h,X=v):Ah(c)}d=d.sibling}e:for(d=null,c=e;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ng("display",o))}catch(w){Ce(e,e.return,w)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(w){Ce(e,e.return,w)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ct(t,e),Vt(e),r&4&&Ih(e);break;case 21:break;default:Ct(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jy(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ti(s,""),r.flags&=-33);var i=Rh(e);wc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rh(e);xc(e,a,o);break;default:throw Error(V(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zS(e,t,n){X=e,Py(e)}function Py(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ho;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Qe;a=Ho;var u=Qe;if(Ho=o,(Qe=l)&&!u)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Oh(s):l!==null?(l.return=o,X=l):Oh(s);for(;i!==null;)X=i,Py(i),i=i.sibling;X=s,Ho=a,Qe=u}Dh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Dh(e)}}function Dh(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Ii(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Qe||t.flags&512&&vc(t)}catch(h){Ce(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Ah(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Oh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gl(4,t)}catch(l){Ce(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ce(t,s,l)}}var i=t.return;try{vc(t)}catch(l){Ce(t,i,l)}break;case 5:var o=t.return;try{vc(t)}catch(l){Ce(t,o,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var FS=Math.ceil,Ha=xn.ReactCurrentDispatcher,Hd=xn.ReactCurrentOwner,Et=xn.ReactCurrentBatchConfig,ce=0,Le=null,Pe=null,He=0,dt=0,ns=nr(0),De=0,Ui=null,Rr=0,yl=0,Bd=0,Ei=null,rt=null,Vd=0,Ps=1/0,on=null,Ba=!1,Sc=null,Xn=null,Bo=!1,Bn=null,Va=0,Ni=0,_c=null,da=-1,fa=0;function Ze(){return ce&6?Te():da!==-1?da:da=Te()}function Yn(e){return e.mode&1?ce&2&&He!==0?He&-He:_S.transition!==null?(fa===0&&(fa=mg()),fa):(e=me,e!==0||(e=window.event,e=e===void 0?16:_g(e.type)),e):1}function Ft(e,t,n,r){if(50<Ni)throw Ni=0,_c=null,Error(V(185));lo(e,n,r),(!(ce&2)||e!==Le)&&(e===Le&&(!(ce&2)&&(yl|=n),De===4&&Pn(e,He)),lt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Ps=Te()+500,hl&&rr()))}function lt(e,t){var n=e.callbackNode;_1(e,t);var r=ba(e,e===Le?He:0);if(r===0)n!==null&&Wf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wf(n),t===1)e.tag===0?SS(Lh.bind(null,e)):Hg(Lh.bind(null,e)),yS(function(){!(ce&6)&&rr()}),n=null;else{switch(gg(r)){case 1:n=md;break;case 4:n=hg;break;case 16:n=Na;break;case 536870912:n=pg;break;default:n=Na}n=Fy(n,Ry.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ry(e,t){if(da=-1,fa=0,ce&6)throw Error(V(327));var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var r=ba(e,e===Le?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ua(e,r);else{t=r;var s=ce;ce|=2;var i=Dy();(Le!==e||He!==t)&&(on=null,Ps=Te()+500,Er(e,t));do try{BS();break}catch(a){Iy(e,a)}while(!0);jd(),Ha.current=i,ce=s,Pe!==null?t=0:(Le=null,He=0,t=De)}if(t!==0){if(t===2&&(s=Yu(e),s!==0&&(r=s,t=kc(e,s))),t===1)throw n=Ui,Er(e,0),Pn(e,r),lt(e,Te()),n;if(t===6)Pn(e,r);else{if(s=e.current.alternate,!(r&30)&&!$S(s)&&(t=Ua(e,r),t===2&&(i=Yu(e),i!==0&&(r=i,t=kc(e,i))),t===1))throw n=Ui,Er(e,0),Pn(e,r),lt(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:or(e,rt,on);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=Vd+500-Te(),10<t)){if(ba(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rc(or.bind(null,e,rt,on),t);break}or(e,rt,on);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-zt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FS(r/1960))-r,10<r){e.timeoutHandle=rc(or.bind(null,e,rt,on),r);break}or(e,rt,on);break;case 5:or(e,rt,on);break;default:throw Error(V(329))}}}return lt(e,Te()),e.callbackNode===n?Ry.bind(null,e):null}function kc(e,t){var n=Ei;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=Ua(e,t),e!==2&&(t=rt,rt=n,t!==null&&Ec(t)),e}function Ec(e){rt===null?rt=e:rt.push.apply(rt,e)}function $S(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!$t(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Bd,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Lh(e){if(ce&6)throw Error(V(327));cs();var t=ba(e,0);if(!(t&1))return lt(e,Te()),null;var n=Ua(e,t);if(e.tag!==0&&n===2){var r=Yu(e);r!==0&&(t=r,n=kc(e,r))}if(n===1)throw n=Ui,Er(e,0),Pn(e,t),lt(e,Te()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,rt,on),lt(e,Te()),null}function Ud(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Ps=Te()+500,hl&&rr())}}function Ir(e){Bn!==null&&Bn.tag===0&&!(ce&6)&&cs();var t=ce;ce|=1;var n=Et.transition,r=me;try{if(Et.transition=null,me=1,e)return e()}finally{me=r,Et.transition=n,ce=t,!(ce&6)&&rr()}}function Wd(){dt=ns.current,xe(ns)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gS(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Nd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pa();break;case 3:Ts(),xe(ot),xe(Xe),Dd();break;case 5:Id(r);break;case 4:Ts();break;case 13:xe(ke);break;case 19:xe(ke);break;case 10:Td(r.type._context);break;case 22:case 23:Wd()}n=n.return}if(Le=e,Pe=e=Kn(e.current,null),He=dt=t,De=0,Ui=null,Bd=yl=Rr=0,rt=Ei=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return e}function Iy(e,t){do{var n=Pe;try{if(jd(),la.current=$a,Fa){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fa=!1}if(Pr=0,Oe=Ie=Ee=null,_i=!1,Hi=0,Hd.current=null,n===null||n.return===null){De=1,Ui=t,Pe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Eh(o);if(v!==null){v.flags&=-257,Nh(v,o,a,i,t),v.mode&1&&kh(i,u,t),t=v,l=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(l),t.updateQueue=w}else g.add(l);break e}else{if(!(t&1)){kh(i,u,t),Qd();break e}l=Error(V(426))}}else if(we&&a.mode&1){var S=Eh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Nh(S,o,a,i,t),bd(Ms(l,a));break e}}i=l=Ms(l,a),De!==4&&(De=2),Ei===null?Ei=[i]:Ei.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=gy(i,l,t);yh(i,y);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xn===null||!Xn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=yy(i,a,t);yh(i,x);break e}}i=i.return}while(i!==null)}Oy(n)}catch(k){t=k,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Dy(){var e=Ha.current;return Ha.current=$a,e===null?$a:e}function Qd(){(De===0||De===3||De===2)&&(De=4),Le===null||!(Rr&268435455)&&!(yl&268435455)||Pn(Le,He)}function Ua(e,t){var n=ce;ce|=2;var r=Dy();(Le!==e||He!==t)&&(on=null,Er(e,t));do try{HS();break}catch(s){Iy(e,s)}while(!0);if(jd(),ce=n,Ha.current=r,Pe!==null)throw Error(V(261));return Le=null,He=0,De}function HS(){for(;Pe!==null;)Ay(Pe)}function BS(){for(;Pe!==null&&!h1();)Ay(Pe)}function Ay(e){var t=zy(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Oy(e):Pe=t,Hd.current=null}function Oy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AS(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Pe=null;return}}else if(n=DS(n,t,dt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);De===0&&(De=5)}function or(e,t,n){var r=me,s=Et.transition;try{Et.transition=null,me=1,VS(e,t,n,r)}finally{Et.transition=s,me=r}return null}function VS(e,t,n,r){do cs();while(Bn!==null);if(ce&6)throw Error(V(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(k1(e,i),e===Le&&(Pe=Le=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,Fy(Na,function(){return cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var o=me;me=1;var a=ce;ce|=4,Hd.current=null,LS(e,n),My(n,e),uS(tc),Ca=!!ec,tc=ec=null,e.current=n,zS(n),p1(),ce=a,me=o,Et.transition=i}else e.current=n;if(Bo&&(Bo=!1,Bn=e,Va=s),i=e.pendingLanes,i===0&&(Xn=null),y1(n.stateNode),lt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ba)throw Ba=!1,e=Sc,Sc=null,e;return Va&1&&e.tag!==0&&cs(),i=e.pendingLanes,i&1?e===_c?Ni++:(Ni=0,_c=e):Ni=0,rr(),null}function cs(){if(Bn!==null){var e=gg(Va),t=Et.transition,n=me;try{if(Et.transition=null,me=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,Va=0,ce&6)throw Error(V(331));var s=ce;for(ce|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:ki(8,d,i)}var c=d.child;if(c!==null)c.return=d,X=c;else for(;X!==null;){d=X;var h=d.sibling,v=d.return;if(Cy(d),d===u){X=null;break}if(h!==null){h.return=v,X=h;break}X=v}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ki(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,X=y;break e}X=i.return}}var m=e.current;for(X=m;X!==null;){o=X;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,X=p;else e:for(o=m;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gl(9,a)}}catch(k){Ce(a,a.return,k)}if(a===o){X=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,X=x;break e}X=a.return}}if(ce=s,rr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{me=n,Et.transition=t}}return!1}function zh(e,t,n){t=Ms(n,t),t=gy(e,t,1),e=qn(e,t,1),t=Ze(),e!==null&&(lo(e,1,t),lt(e,t))}function Ce(e,t,n){if(e.tag===3)zh(e,e,n);else for(;t!==null;){if(t.tag===3){zh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=Ms(n,e),e=yy(t,e,1),t=qn(t,e,1),e=Ze(),t!==null&&(lo(t,1,e),lt(t,e));break}}t=t.return}}function US(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&(He&n)===n&&(De===4||De===3&&(He&130023424)===He&&500>Te()-Vd?Er(e,0):Bd|=n),lt(e,t)}function Ly(e,t){t===0&&(e.mode&1?(t=Ro,Ro<<=1,!(Ro&130023424)&&(Ro=4194304)):t=1);var n=Ze();e=gn(e,t),e!==null&&(lo(e,t,n),lt(e,n))}function WS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ly(e,n)}function QS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Ly(e,n)}var zy;zy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,IS(e,t,n);st=!!(e.flags&131072)}else st=!1,we&&t.flags&1048576&&Bg(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ca(e,t),e=t.pendingProps;var s=bs(t,Xe.current);us(t,n),s=Od(null,t,r,e,s,n);var i=Ld();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pd(t),s.updater=ml,t.stateNode=s,s._reactInternals=t,cc(t,r,e,n),t=hc(null,t,r,!0,i,n)):(t.tag=0,we&&i&&Ed(t),Ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ca(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=XS(r),e=jt(r,e),s){case 0:t=fc(null,t,r,e,n);break e;case 1:t=jh(null,t,r,e,n);break e;case 11:t=bh(null,t,r,e,n);break e;case 14:t=Ch(null,t,r,jt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),fc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),jh(e,t,r,s,n);case 3:e:{if(Sy(t),e===null)throw Error(V(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Xg(e,t),La(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ms(Error(V(423)),t),t=Th(e,t,r,n,s);break e}else if(r!==s){s=Ms(Error(V(424)),t),t=Th(e,t,r,n,s);break e}else for(ht=Qn(t.stateNode.containerInfo.firstChild),pt=t,we=!0,It=null,n=Qg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===s){t=yn(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return Yg(t),e===null&&ac(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,nc(r,s)?o=null:i!==null&&nc(r,i)&&(t.flags|=32),wy(e,t),Ge(e,t,o,n),t.child;case 6:return e===null&&ac(t),null;case 13:return _y(e,t,n);case 4:return Rd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=js(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),bh(e,t,r,s,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ge(Aa,r._currentValue),r._currentValue=o,i!==null)if($t(i.value,o)){if(i.children===s.children&&!ot.current){t=yn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=hn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),lc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,us(t,n),s=Nt(s),r=r(s),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,s=jt(r,t.pendingProps),s=jt(r.type,s),Ch(e,t,r,s,n);case 15:return vy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:jt(r,s),ca(e,t),t.tag=1,at(r)?(e=!0,Ra(t)):e=!1,us(t,n),my(t,r,s),cc(t,r,s,n),hc(null,t,r,!0,e,n);case 19:return ky(e,t,n);case 22:return xy(e,t,n)}throw Error(V(156,t.tag))};function Fy(e,t){return fg(e,t)}function qS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new qS(e,t,n,r)}function qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XS(e){if(typeof e=="function")return qd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fd)return 11;if(e===hd)return 14}return 2}function Kn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ha(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")qd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qr:return Nr(n.children,s,i,t);case dd:o=8,s|=8;break;case Du:return e=kt(12,n,t,s|2),e.elementType=Du,e.lanes=i,e;case Au:return e=kt(13,n,t,s),e.elementType=Au,e.lanes=i,e;case Ou:return e=kt(19,n,t,s),e.elementType=Ou,e.lanes=i,e;case Ym:return vl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qm:o=10;break e;case Xm:o=9;break e;case fd:o=11;break e;case hd:o=14;break e;case jn:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Nr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function vl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=Ym,e.lanes=n,e.stateNode={isHidden:!1},e}function yu(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function vu(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xd(e,t,n,r,s,i,o,a,l){return e=new YS(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pd(i),e}function KS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $y(e){if(!e)return er;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(at(n))return $g(e,n,t)}return t}function Hy(e,t,n,r,s,i,o,a,l){return e=Xd(n,r,!0,e,s,i,o,a,l),e.context=$y(null),n=e.current,r=Ze(),s=Yn(n),i=hn(r,s),i.callback=t??null,qn(n,i,s),e.current.lanes=s,lo(e,s,r),lt(e,r),e}function xl(e,t,n,r){var s=t.current,i=Ze(),o=Yn(s);return n=$y(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qn(s,t,o),e!==null&&(Ft(e,s,o,i),aa(e,s,o)),o}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yd(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function GS(){return null}var By=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kd(e){this._internalRoot=e}wl.prototype.render=Kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));xl(e,t,null,null)};wl.prototype.unmount=Kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){xl(null,e,null,null)}),t[mn]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&Sg(e)}};function Gd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $h(){}function ZS(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wa(o);i.call(u)}}var o=Hy(t,r,e,0,null,!1,!1,"",$h);return e._reactRootContainer=o,e[mn]=o.current,Oi(e.nodeType===8?e.parentNode:e),Ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Wa(l);a.call(u)}}var l=Xd(e,0,!1,null,null,!1,!1,"",$h);return e._reactRootContainer=l,e[mn]=l.current,Oi(e.nodeType===8?e.parentNode:e),Ir(function(){xl(t,l,n,r)}),l}function _l(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wa(o);a.call(l)}}xl(t,o,e,s)}else o=ZS(n,t,e,s,r);return Wa(o)}yg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fi(t.pendingLanes);n!==0&&(gd(t,n|1),lt(t,Te()),!(ce&6)&&(Ps=Te()+500,rr()))}break;case 13:Ir(function(){var r=gn(e,1);if(r!==null){var s=Ze();Ft(r,e,1,s)}}),Yd(e,1)}};yd=function(e){if(e.tag===13){var t=gn(e,134217728);if(t!==null){var n=Ze();Ft(t,e,134217728,n)}Yd(e,134217728)}};vg=function(e){if(e.tag===13){var t=Yn(e),n=gn(e,t);if(n!==null){var r=Ze();Ft(n,e,t,r)}Yd(e,t)}};xg=function(){return me};wg=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Qu=function(e,t,n){switch(t){case"input":if(Fu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fl(r);if(!s)throw Error(V(90));Gm(r),Fu(r,s)}}}break;case"textarea":Jm(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};og=Ud;ag=Ir;var JS={usingClientEntryPoint:!1,Events:[co,Kr,fl,sg,ig,Ud]},oi={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e2={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cg(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||GS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{ll=Vo.inject(e2),Gt=Vo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(t))throw Error(V(200));return KS(e,t,null,n)};yt.createRoot=function(e,t){if(!Gd(e))throw Error(V(299));var n=!1,r="",s=By;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xd(e,1,!1,null,null,n,!1,r,s),e[mn]=t.current,Oi(e.nodeType===8?e.parentNode:e),new Kd(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=cg(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Ir(e)};yt.hydrate=function(e,t,n){if(!Sl(t))throw Error(V(200));return _l(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!Gd(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=By;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Hy(t,null,e,1,n??null,s,!1,i,o),e[mn]=t.current,Oi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wl(t)};yt.render=function(e,t,n){if(!Sl(t))throw Error(V(200));return _l(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(V(40));return e._reactRootContainer?(Ir(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};yt.unstable_batchedUpdates=Ud;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return _l(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function Vy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vy)}catch(e){console.error(e)}}Vy(),Vm.exports=yt;var Uy=Vm.exports,Hh=Uy;Ru.createRoot=Hh.createRoot,Ru.hydrateRoot=Hh.hydrateRoot;var ho=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},t2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},In,rd,Sm,n2=(Sm=class{constructor(){ee(this,In,t2);ee(this,rd,!1)}setTimeoutProvider(e){q(this,In,e)}setTimeout(e,t){return T(this,In).setTimeout(e,t)}clearTimeout(e){T(this,In).clearTimeout(e)}setInterval(e,t){return T(this,In).setInterval(e,t)}clearInterval(e){T(this,In).clearInterval(e)}},In=new WeakMap,rd=new WeakMap,Sm),fr=new n2;function r2(e){setTimeout(e,0)}var Dr=typeof window>"u"||"Deno"in globalThis;function nt(){}function s2(e,t){return typeof e=="function"?e(t):e}function Nc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Wy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gn(e,t){return typeof e=="function"?e(t):e}function wt(e,t){return typeof e=="function"?e(t):e}function Bh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Zd(o,t.options))return!1}else if(!Qi(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Vh(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Wi(t.options.mutationKey)!==Wi(i))return!1}else if(!Qi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Zd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wi)(e)}function Wi(e){return JSON.stringify(e,(t,n)=>Cc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qi(e[n],t[n])):!1}var i2=Object.prototype.hasOwnProperty;function Qy(e,t){if(e===t)return e;const n=Uh(e)&&Uh(t);if(!n&&!(Cc(e)&&Cc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u],c=e[d],h=t[d];if(c===h){a[d]=c,(n?u<s:i2.call(e,d))&&l++;continue}if(c===null||h===null||typeof c!="object"||typeof h!="object"){a[d]=h;continue}const v=Qy(c,h);a[d]=v,v===c&&l++}return s===o&&l===s?e:a}function bc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Uh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cc(e){if(!Wh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Wh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wh(e){return Object.prototype.toString.call(e)==="[object Object]"}function o2(e){return new Promise(t=>{fr.setTimeout(t,e)})}function jc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Qy(e,t):t}function a2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function l2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Jd=Symbol();function qy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Jd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function u2(e,t){return typeof e=="function"?e(...t):!!e}var mr,Dn,hs,_m,c2=(_m=class extends ho{constructor(){super();ee(this,mr);ee(this,Dn);ee(this,hs);q(this,hs,t=>{if(!Dr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,Dn)||this.setEventListener(T(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Dn))==null||t.call(this),q(this,Dn,void 0))}setEventListener(t){var n;q(this,hs,t),(n=T(this,Dn))==null||n.call(this),q(this,Dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){T(this,mr)!==t&&(q(this,mr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof T(this,mr)=="boolean"?T(this,mr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mr=new WeakMap,Dn=new WeakMap,hs=new WeakMap,_m),ef=new c2;function Tc(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var d2=r2;function f2(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=d2;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var $e=f2(),ps,An,ms,km,h2=(km=class extends ho{constructor(){super();ee(this,ps,!0);ee(this,An);ee(this,ms);q(this,ms,t=>{if(!Dr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,An)||this.setEventListener(T(this,ms))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,An))==null||t.call(this),q(this,An,void 0))}setEventListener(t){var n;q(this,ms,t),(n=T(this,An))==null||n.call(this),q(this,An,t(this.setOnline.bind(this)))}setOnline(t){T(this,ps)!==t&&(q(this,ps,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return T(this,ps)}},ps=new WeakMap,An=new WeakMap,ms=new WeakMap,km),Qa=new h2;function p2(e){return Math.min(1e3*2**e,3e4)}function Xy(e){return(e??"online")==="online"?Qa.isOnline():!0}var Mc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yy(e){let t=!1,n=0,r;const s=Tc(),i=()=>s.status!=="pending",o=w=>{var S;if(!i()){const y=new Mc(w);h(y),(S=e.onCancel)==null||S.call(e,y)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>ef.isFocused()&&(e.networkMode==="always"||Qa.isOnline())&&e.canRun(),d=()=>Xy(e.networkMode)&&e.canRun(),c=w=>{i()||(r==null||r(),s.resolve(w))},h=w=>{i()||(r==null||r(),s.reject(w))},v=()=>new Promise(w=>{var S;r=y=>{(i()||u())&&w(y)},(S=e.onPause)==null||S.call(e)}).then(()=>{var w;r=void 0,i()||(w=e.onContinue)==null||w.call(e)}),g=()=>{if(i())return;let w;const S=n===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(y){w=Promise.reject(y)}Promise.resolve(w).then(c).catch(y=>{var _;if(i())return;const m=e.retry??(Dr?0:3),p=e.retryDelay??p2,x=typeof p=="function"?p(n,y):p,k=m===!0||typeof m=="number"&&n<m||typeof m=="function"&&m(n,y);if(t||!k){h(y);return}n++,(_=e.onFail)==null||_.call(e,n,y),o2(x).then(()=>u()?void 0:v()).then(()=>{t?h(y):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?g():v().then(g),s)}}var gr,Em,Ky=(Em=class{constructor(){ee(this,gr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nc(this.gcTime)&&q(this,gr,fr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Dr?1/0:5*60*1e3))}clearGcTimeout(){T(this,gr)&&(fr.clearTimeout(T(this,gr)),q(this,gr,void 0))}},gr=new WeakMap,Em),yr,gs,xt,vr,Ae,no,xr,Tt,sn,Nm,m2=(Nm=class extends Ky{constructor(t){super();ee(this,Tt);ee(this,yr);ee(this,gs);ee(this,xt);ee(this,vr);ee(this,Ae);ee(this,no);ee(this,xr);q(this,xr,!1),q(this,no,t.defaultOptions),this.setOptions(t.options),this.observers=[],q(this,vr,t.client),q(this,xt,T(this,vr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,q(this,yr,qh(this.options)),this.state=t.state??T(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,Ae))==null?void 0:t.promise}setOptions(t){if(this.options={...T(this,no),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=qh(this.options);n.data!==void 0&&(this.setState(Qh(n.data,n.dataUpdatedAt)),q(this,yr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,xt).remove(this)}setData(t,n){const r=jc(this.state.data,t,this.options);return ae(this,Tt,sn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ae(this,Tt,sn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=T(this,Ae))==null?void 0:r.promise;return(s=T(this,Ae))==null||s.cancel(t),n?n.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,yr))}isActive(){return this.observers.some(t=>wt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Wy(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Ae))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,Ae))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,xt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(T(this,Ae)&&(T(this,xr)?T(this,Ae).cancel({revert:!0}):T(this,Ae).cancelRetry()),this.scheduleGc()),T(this,xt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ae(this,Tt,sn).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,d,c,h,v,g,w,S,y,m,p;if(this.state.fetchStatus!=="idle"&&((l=T(this,Ae))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,Ae))return T(this,Ae).continueRetry(),T(this,Ae).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(k=>k.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(q(this,xr,!0),r.signal)})},i=()=>{const x=qy(this.options,n),_=(()=>{const E={client:T(this,vr),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return q(this,xr,!1),this.options.persister?this.options.persister(x,_,this):x(_)},a=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:T(this,vr),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(a,this),q(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ae(this,Tt,sn).call(this,{type:"fetch",meta:(c=a.fetchOptions)==null?void 0:c.meta}),q(this,Ae,Yy({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:x=>{x instanceof Mc&&x.revert&&this.setState({...T(this,gs),fetchStatus:"idle"}),r.abort()},onFail:(x,k)=>{ae(this,Tt,sn).call(this,{type:"failed",failureCount:x,error:k})},onPause:()=>{ae(this,Tt,sn).call(this,{type:"pause"})},onContinue:()=>{ae(this,Tt,sn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const x=await T(this,Ae).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(v=(h=T(this,xt).config).onSuccess)==null||v.call(h,x,this),(w=(g=T(this,xt).config).onSettled)==null||w.call(g,x,this.state.error,this),x}catch(x){if(x instanceof Mc){if(x.silent)return T(this,Ae).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw ae(this,Tt,sn).call(this,{type:"error",error:x}),(y=(S=T(this,xt).config).onError)==null||y.call(S,x,this),(p=(m=T(this,xt).config).onSettled)==null||p.call(m,this.state.data,x,this),x}finally{this.scheduleGc()}}},yr=new WeakMap,gs=new WeakMap,xt=new WeakMap,vr=new WeakMap,Ae=new WeakMap,no=new WeakMap,xr=new WeakMap,Tt=new WeakSet,sn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Gy(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Qh(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return q(this,gs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,xt).notify({query:this,type:"updated",action:t})})},Nm);function Gy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Qh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tt,le,ro,Ye,wr,ys,ln,On,so,vs,xs,Sr,_r,Ln,ws,pe,pi,Pc,Rc,Ic,Dc,Ac,Oc,Lc,Zy,bm,g2=(bm=class extends ho{constructor(t,n){super();ee(this,pe);ee(this,tt);ee(this,le);ee(this,ro);ee(this,Ye);ee(this,wr);ee(this,ys);ee(this,ln);ee(this,On);ee(this,so);ee(this,vs);ee(this,xs);ee(this,Sr);ee(this,_r);ee(this,Ln);ee(this,ws,new Set);this.options=n,q(this,tt,t),q(this,On,null),q(this,ln,Tc()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,le).addObserver(this),Xh(T(this,le),this.options)?ae(this,pe,pi).call(this):this.updateResult(),ae(this,pe,Dc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zc(T(this,le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zc(T(this,le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ae(this,pe,Ac).call(this),ae(this,pe,Oc).call(this),T(this,le).removeObserver(this)}setOptions(t){const n=this.options,r=T(this,le);if(this.options=T(this,tt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wt(this.options.enabled,T(this,le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ae(this,pe,Lc).call(this),T(this,le).setOptions(this.options),n._defaulted&&!bc(this.options,n)&&T(this,tt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,le),observer:this});const s=this.hasListeners();s&&Yh(T(this,le),r,this.options,n)&&ae(this,pe,pi).call(this),this.updateResult(),s&&(T(this,le)!==r||wt(this.options.enabled,T(this,le))!==wt(n.enabled,T(this,le))||Gn(this.options.staleTime,T(this,le))!==Gn(n.staleTime,T(this,le)))&&ae(this,pe,Pc).call(this);const i=ae(this,pe,Rc).call(this);s&&(T(this,le)!==r||wt(this.options.enabled,T(this,le))!==wt(n.enabled,T(this,le))||i!==T(this,Ln))&&ae(this,pe,Ic).call(this,i)}getOptimisticResult(t){const n=T(this,tt).getQueryCache().build(T(this,tt),t),r=this.createResult(n,t);return v2(this,r)&&(q(this,Ye,r),q(this,ys,this.options),q(this,wr,T(this,le).state)),r}getCurrentResult(){return T(this,Ye)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&T(this,ln).status==="pending"&&T(this,ln).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){T(this,ws).add(t)}getCurrentQuery(){return T(this,le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=T(this,tt).defaultQueryOptions(t),r=T(this,tt).getQueryCache().build(T(this,tt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ae(this,pe,pi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,Ye)))}createResult(t,n){var M;const r=T(this,le),s=this.options,i=T(this,Ye),o=T(this,wr),a=T(this,ys),u=t!==r?t.state:T(this,ro),{state:d}=t;let c={...d},h=!1,v;if(n._optimisticResults){const I=this.hasListeners(),R=!I&&Xh(t,n),A=I&&Yh(t,r,n,s);(R||A)&&(c={...c,...Gy(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:g,errorUpdatedAt:w,status:S}=c;v=c.data;let y=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let I;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(I=i.data,y=!0):I=typeof n.placeholderData=="function"?n.placeholderData((M=T(this,xs))==null?void 0:M.state.data,T(this,xs)):n.placeholderData,I!==void 0&&(S="success",v=jc(i==null?void 0:i.data,I,n),h=!0)}if(n.select&&v!==void 0&&!y)if(i&&v===(o==null?void 0:o.data)&&n.select===T(this,so))v=T(this,vs);else try{q(this,so,n.select),v=n.select(v),v=jc(i==null?void 0:i.data,v,n),q(this,vs,v),q(this,On,null)}catch(I){q(this,On,I)}T(this,On)&&(g=T(this,On),v=T(this,vs),w=Date.now(),S="error");const m=c.fetchStatus==="fetching",p=S==="pending",x=S==="error",k=p&&m,_=v!==void 0,N={status:S,fetchStatus:c.fetchStatus,isPending:p,isSuccess:S==="success",isError:x,isInitialLoading:k,isLoading:k,data:v,dataUpdatedAt:c.dataUpdatedAt,error:g,errorUpdatedAt:w,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!p,isLoadingError:x&&!_,isPaused:c.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&_,isStale:tf(t,n),refetch:this.refetch,promise:T(this,ln),isEnabled:wt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=$=>{N.status==="error"?$.reject(N.error):N.data!==void 0&&$.resolve(N.data)},R=()=>{const $=q(this,ln,N.promise=Tc());I($)},A=T(this,ln);switch(A.status){case"pending":t.queryHash===r.queryHash&&I(A);break;case"fulfilled":(N.status==="error"||N.data!==A.value)&&R();break;case"rejected":(N.status!=="error"||N.error!==A.reason)&&R();break}}return N}updateResult(){const t=T(this,Ye),n=this.createResult(T(this,le),this.options);if(q(this,wr,T(this,le).state),q(this,ys,this.options),T(this,wr).data!==void 0&&q(this,xs,T(this,le)),bc(n,t))return;q(this,Ye,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!T(this,ws).size)return!0;const o=new Set(i??T(this,ws));return this.options.throwOnError&&o.add("error"),Object.keys(T(this,Ye)).some(a=>{const l=a;return T(this,Ye)[l]!==t[l]&&o.has(l)})};ae(this,pe,Zy).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ae(this,pe,Dc).call(this)}},tt=new WeakMap,le=new WeakMap,ro=new WeakMap,Ye=new WeakMap,wr=new WeakMap,ys=new WeakMap,ln=new WeakMap,On=new WeakMap,so=new WeakMap,vs=new WeakMap,xs=new WeakMap,Sr=new WeakMap,_r=new WeakMap,Ln=new WeakMap,ws=new WeakMap,pe=new WeakSet,pi=function(t){ae(this,pe,Lc).call(this);let n=T(this,le).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nt)),n},Pc=function(){ae(this,pe,Ac).call(this);const t=Gn(this.options.staleTime,T(this,le));if(Dr||T(this,Ye).isStale||!Nc(t))return;const r=Wy(T(this,Ye).dataUpdatedAt,t)+1;q(this,Sr,fr.setTimeout(()=>{T(this,Ye).isStale||this.updateResult()},r))},Rc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,le)):this.options.refetchInterval)??!1},Ic=function(t){ae(this,pe,Oc).call(this),q(this,Ln,t),!(Dr||wt(this.options.enabled,T(this,le))===!1||!Nc(T(this,Ln))||T(this,Ln)===0)&&q(this,_r,fr.setInterval(()=>{(this.options.refetchIntervalInBackground||ef.isFocused())&&ae(this,pe,pi).call(this)},T(this,Ln)))},Dc=function(){ae(this,pe,Pc).call(this),ae(this,pe,Ic).call(this,ae(this,pe,Rc).call(this))},Ac=function(){T(this,Sr)&&(fr.clearTimeout(T(this,Sr)),q(this,Sr,void 0))},Oc=function(){T(this,_r)&&(fr.clearInterval(T(this,_r)),q(this,_r,void 0))},Lc=function(){const t=T(this,tt).getQueryCache().build(T(this,tt),this.options);if(t===T(this,le))return;const n=T(this,le);q(this,le,t),q(this,ro,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Zy=function(t){$e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(T(this,Ye))}),T(this,tt).getQueryCache().notify({query:T(this,le),type:"observerResultsUpdated"})})},bm);function y2(e,t){return wt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Xh(e,t){return y2(e,t)||e.state.data!==void 0&&zc(e,t,t.refetchOnMount)}function zc(e,t,n){if(wt(t.enabled,e)!==!1&&Gn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&tf(e,t)}return!1}function Yh(e,t,n,r){return(e!==t||wt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tf(e,n)}function tf(e,t){return wt(t.enabled,e)!==!1&&e.isStaleByTime(Gn(t.staleTime,e))}function v2(e,t){return!bc(e.getCurrentResult(),t)}function Kh(e){return{onFetch:(t,n)=>{var d,c,h,v,g;const r=t.options,s=(h=(c=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:c.fetchMore)==null?void 0:h.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let w=!1;const S=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},y=qy(t.options,t.fetchOptions),m=async(p,x,k)=>{if(w)return Promise.reject();if(x==null&&p.pages.length)return Promise.resolve(p);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:x,direction:k?"backward":"forward",meta:t.options.meta};return S(R),R})(),N=await y(E),{maxPages:M}=t.options,I=k?l2:a2;return{pages:I(p.pages,N,M),pageParams:I(p.pageParams,x,M)}};if(s&&i.length){const p=s==="backward",x=p?x2:Gh,k={pages:i,pageParams:o},_=x(r,k);a=await m(k,_,p)}else{const p=e??i.length;do{const x=l===0?o[0]??r.initialPageParam:Gh(r,a);if(l>0&&x==null)break;a=await m(a,x),l++}while(l<p)}return a};t.options.persister?t.fetchFn=()=>{var w,S;return(S=(w=t.options).persister)==null?void 0:S.call(w,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Gh(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function x2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var io,Qt,Ke,kr,qt,Cn,Cm,w2=(Cm=class extends Ky{constructor(t){super();ee(this,qt);ee(this,io);ee(this,Qt);ee(this,Ke);ee(this,kr);q(this,io,t.client),this.mutationId=t.mutationId,q(this,Ke,t.mutationCache),q(this,Qt,[]),this.state=t.state||S2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,Qt).includes(t)||(T(this,Qt).push(t),this.clearGcTimeout(),T(this,Ke).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){q(this,Qt,T(this,Qt).filter(n=>n!==t)),this.scheduleGc(),T(this,Ke).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,Qt).length||(this.state.status==="pending"?this.scheduleGc():T(this,Ke).remove(this))}continue(){var t;return((t=T(this,kr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,u,d,c,h,v,g,w,S,y,m,p,x,k,_,E,N,M;const n=()=>{ae(this,qt,Cn).call(this,{type:"continue"})},r={client:T(this,io),meta:this.options.meta,mutationKey:this.options.mutationKey};q(this,kr,Yy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{ae(this,qt,Cn).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{ae(this,qt,Cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Ke).canRun(this)}));const s=this.state.status==="pending",i=!T(this,kr).canStart();try{if(s)n();else{ae(this,qt,Cn).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=T(this,Ke).config).onMutate)==null?void 0:a.call(o,t,this,r));const R=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));R!==this.state.context&&ae(this,qt,Cn).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const I=await T(this,kr).start();return await((c=(d=T(this,Ke).config).onSuccess)==null?void 0:c.call(d,I,t,this.state.context,this,r)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,I,t,this.state.context,r)),await((w=(g=T(this,Ke).config).onSettled)==null?void 0:w.call(g,I,null,this.state.variables,this.state.context,this,r)),await((y=(S=this.options).onSettled)==null?void 0:y.call(S,I,null,t,this.state.context,r)),ae(this,qt,Cn).call(this,{type:"success",data:I}),I}catch(I){try{throw await((p=(m=T(this,Ke).config).onError)==null?void 0:p.call(m,I,t,this.state.context,this,r)),await((k=(x=this.options).onError)==null?void 0:k.call(x,I,t,this.state.context,r)),await((E=(_=T(this,Ke).config).onSettled)==null?void 0:E.call(_,void 0,I,this.state.variables,this.state.context,this,r)),await((M=(N=this.options).onSettled)==null?void 0:M.call(N,void 0,I,t,this.state.context,r)),I}finally{ae(this,qt,Cn).call(this,{type:"error",error:I})}}finally{T(this,Ke).runNext(this)}}},io=new WeakMap,Qt=new WeakMap,Ke=new WeakMap,kr=new WeakMap,qt=new WeakSet,Cn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$e.batch(()=>{T(this,Qt).forEach(r=>{r.onMutationUpdate(t)}),T(this,Ke).notify({mutation:this,type:"updated",action:t})})},Cm);function S2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,Mt,oo,jm,_2=(jm=class extends ho{constructor(t={}){super();ee(this,un);ee(this,Mt);ee(this,oo);this.config=t,q(this,un,new Set),q(this,Mt,new Map),q(this,oo,0)}build(t,n,r){const s=new w2({client:t,mutationCache:this,mutationId:++bo(this,oo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){T(this,un).add(t);const n=Uo(t);if(typeof n=="string"){const r=T(this,Mt).get(n);r?r.push(t):T(this,Mt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,un).delete(t)){const n=Uo(t);if(typeof n=="string"){const r=T(this,Mt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&T(this,Mt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Uo(t);if(typeof n=="string"){const r=T(this,Mt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Uo(t);if(typeof n=="string"){const s=(r=T(this,Mt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$e.batch(()=>{T(this,un).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,un).clear(),T(this,Mt).clear()})}getAll(){return Array.from(T(this,un))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Vh(n,r))}findAll(t={}){return this.getAll().filter(n=>Vh(t,n))}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $e.batch(()=>Promise.all(t.map(n=>n.continue().catch(nt))))}},un=new WeakMap,Mt=new WeakMap,oo=new WeakMap,jm);function Uo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Xt,Tm,k2=(Tm=class extends ho{constructor(t={}){super();ee(this,Xt);this.config=t,q(this,Xt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Zd(s,n);let o=this.get(i);return o||(o=new m2({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){T(this,Xt).has(t.queryHash)||(T(this,Xt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=T(this,Xt).get(t.queryHash);n&&(t.destroy(),n===t&&T(this,Xt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,Xt).get(t)}getAll(){return[...T(this,Xt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bh(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Bh(t,r)):n}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xt=new WeakMap,Tm),be,zn,Fn,Ss,_s,$n,ks,Es,Mm,E2=(Mm=class{constructor(e={}){ee(this,be);ee(this,zn);ee(this,Fn);ee(this,Ss);ee(this,_s);ee(this,$n);ee(this,ks);ee(this,Es);q(this,be,e.queryCache||new k2),q(this,zn,e.mutationCache||new _2),q(this,Fn,e.defaultOptions||{}),q(this,Ss,new Map),q(this,_s,new Map),q(this,$n,0)}mount(){bo(this,$n)._++,T(this,$n)===1&&(q(this,ks,ef.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,be).onFocus())})),q(this,Es,Qa.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,be).onOnline())})))}unmount(){var e,t;bo(this,$n)._--,T(this,$n)===0&&((e=T(this,ks))==null||e.call(this),q(this,ks,void 0),(t=T(this,Es))==null||t.call(this),q(this,Es,void 0))}isFetching(e){return T(this,be).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,be).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=T(this,be).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return T(this,be).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=T(this,be).get(r.queryHash),i=s==null?void 0:s.state.data,o=s2(t,i);if(o!==void 0)return T(this,be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $e.batch(()=>T(this,be).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,be).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=T(this,be);$e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=T(this,be);return $e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=$e.batch(()=>T(this,be).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(nt).catch(nt)}invalidateQueries(e,t={}){return $e.batch(()=>(T(this,be).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=$e.batch(()=>T(this,be).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(nt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(nt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=T(this,be).build(this,t);return n.isStaleByTime(Gn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nt).catch(nt)}fetchInfiniteQuery(e){return e.behavior=Kh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nt).catch(nt)}ensureInfiniteQueryData(e){return e.behavior=Kh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qa.isOnline()?T(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,be)}getMutationCache(){return T(this,zn)}getDefaultOptions(){return T(this,Fn)}setDefaultOptions(e){q(this,Fn,e)}setQueryDefaults(e,t){T(this,Ss).set(Wi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,Ss).values()],n={};return t.forEach(r=>{Qi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){T(this,_s).set(Wi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,_s).values()],n={};return t.forEach(r=>{Qi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,Fn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Zd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Jd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,Fn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,be).clear(),T(this,zn).clear()}},be=new WeakMap,zn=new WeakMap,Fn=new WeakMap,Ss=new WeakMap,_s=new WeakMap,$n=new WeakMap,ks=new WeakMap,Es=new WeakMap,Mm),Jy=D.createContext(void 0),N2=e=>{const t=D.useContext(Jy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},b2=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(Jy.Provider,{value:e,children:t})),e0=D.createContext(!1),C2=()=>D.useContext(e0);e0.Provider;function j2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var T2=D.createContext(j2()),M2=()=>D.useContext(T2),P2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},R2=e=>{D.useEffect(()=>{e.clearReset()},[e])},I2=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||u2(n,[e.error,r])),D2=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},A2=(e,t)=>e.isLoading&&e.isFetching&&!t,O2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Zh=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function L2(e,t,n){var c,h,v,g,w;const r=C2(),s=M2(),i=N2(),o=i.defaultQueryOptions(e);(h=(c=i.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||h.call(c,o),o._optimisticResults=r?"isRestoring":"optimistic",D2(o),P2(o,s),R2(s);const a=!i.getQueryCache().get(o.queryHash),[l]=D.useState(()=>new t(i,o)),u=l.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(S=>{const y=d?l.subscribe($e.batchCalls(S)):nt;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),D.useEffect(()=>{l.setOptions(o)},[o,l]),O2(o,u))throw Zh(o,l,s);if(I2({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,u),o.experimental_prefetchInRender&&!Dr&&A2(u,r)){const S=a?Zh(o,l,s):(w=i.getQueryCache().get(o.queryHash))==null?void 0:w.promise;S==null||S.catch(nt).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function z2(e,t){return L2(e,g2)}const lr=class lr{constructor(){Wl(this,"nodes",new Map)}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(n=>{t[n.category]||(t[n.category]=[]),t[n.category].push(n)}),t}};Wl(lr,"instance");let Fc=lr;const ze=Fc.getInstance();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>D.createElement("svg",{ref:d,...F2,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${$2(e)}`,a].join(" "),...u},[...t.map(([c,h])=>D.createElement(c,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=fe("Binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=fe("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=fe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=fe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=fe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=fe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=fe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=fe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=fe("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=fe("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=fe("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=fe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=fe("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=fe("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m_=({config:e,onChange:t})=>f.jsxs("div",{className:"p-4 space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),f.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:n=>t({...e,message:n.target.value})})]}),g_={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:V2,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>f.jsxs("div",{className:"text-xs",children:["Msg: ",f.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:m_,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},Jh="/data/api",r0={getAll:async()=>{const e=await fetch(`${Jh}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${Jh}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return t.json()}},y_=({config:e,onChange:t})=>{const[n,r]=D.useState([]),[s,i]=D.useState(!1);D.useEffect(()=>{i(!0),r0.getAll().then(r).catch(console.error).finally(()=>i(!1))},[]);const o=a=>{const l=a.target.value,u=n.find(d=>String(d.id)===l);t({...e,datasetId:l,datasetName:u==null?void 0:u.name})};return f.jsxs("div",{className:"p-4 space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s?f.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):f.jsxs("select",{className:"w-full p-2 border rounded bg-background",value:e.datasetId||"",onChange:o,children:[f.jsx("option",{value:"",children:"-- Select --"}),n.map(a=>f.jsx("option",{value:a.id,children:a.name},a.id))]})]})},v_=({data:e})=>{const[t,n]=D.useState(void 0);D.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&r0.getById(e.datasetId).then(s=>n(s.name)).catch(()=>n(e.datasetId))},[e.datasetId,e.datasetName,t]);const r=e.datasetName||t||e.datasetId;return f.jsx("div",{className:"text-xs",children:e.datasetId?f.jsx("div",{className:"font-medium truncate max-w-[150px]",title:r,children:r||"Loading..."}):f.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},x_={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:K2,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:y_,component:v_,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},w_={},ep=e=>{let t;const n=new Set,r=(d,c)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const v=t;t=c??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(g=>g(t,v))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(w_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},s0=e=>e?ep(e):ep;var i0={exports:{}},o0={},a0={exports:{}},l0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=D;function S_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var __=typeof Object.is=="function"?Object.is:S_,k_=Rs.useState,E_=Rs.useEffect,N_=Rs.useLayoutEffect,b_=Rs.useDebugValue;function C_(e,t){var n=t(),r=k_({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return N_(function(){s.value=n,s.getSnapshot=t,xu(s)&&i({inst:s})},[e,n,t]),E_(function(){return xu(s)&&i({inst:s}),e(function(){xu(s)&&i({inst:s})})},[e]),b_(n),n}function xu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!__(e,n)}catch{return!0}}function j_(e,t){return t()}var T_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j_:C_;l0.useSyncExternalStore=Rs.useSyncExternalStore!==void 0?Rs.useSyncExternalStore:T_;a0.exports=l0;var M_=a0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=D,P_=M_;function R_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I_=typeof Object.is=="function"?Object.is:R_,D_=P_.useSyncExternalStore,A_=kl.useRef,O_=kl.useEffect,L_=kl.useMemo,z_=kl.useDebugValue;o0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=A_(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=L_(function(){function l(v){if(!u){if(u=!0,d=v,v=r(v),s!==void 0&&o.hasValue){var g=o.value;if(s(g,v))return c=g}return c=v}if(g=c,I_(d,v))return g;var w=r(v);return s!==void 0&&s(g,w)?(d=v,g):(d=v,c=w)}var u=!1,d,c,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,s]);var a=D_(e,i[0],i[1]);return O_(function(){o.hasValue=!0,o.value=a},[a]),z_(a),a};i0.exports=o0;var F_=i0.exports;const u0=Pm(F_),c0={},{useDebugValue:$_}=At,{useSyncExternalStoreWithSelector:H_}=u0;let tp=!1;const B_=e=>e;function V_(e,t=B_,n){(c0?"production":void 0)!=="production"&&n&&!tp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),tp=!0);const r=H_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $_(r),r}const np=e=>{(c0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?s0(e):e,n=(r,s)=>V_(t,r,s);return Object.assign(n,t),n},U_=e=>e?np(e):np;function Re(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Re(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var W_={value:()=>{}};function El(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new pa(n)}function pa(e){this._=e}function Q_(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}pa.prototype=El.prototype={constructor:pa,on:function(e,t){var n=this._,r=Q_(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=q_(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=rp(n[s],e.name,t);else if(t==null)for(s in n)n[s]=rp(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new pa(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function q_(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function rp(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=W_,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var $c="http://www.w3.org/1999/xhtml";const sp={svg:"http://www.w3.org/2000/svg",xhtml:$c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),sp.hasOwnProperty(t)?{space:sp[t],local:e}:e}function X_(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$c&&t.documentElement.namespaceURI===$c?t.createElement(e):t.createElementNS(n,e)}}function Y_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function d0(e){var t=Nl(e);return(t.local?Y_:X_)(t)}function K_(){}function nf(e){return e==null?K_:function(){return this.querySelector(e)}}function G_(e){typeof e!="function"&&(e=nf(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),l,u,d=0;d<o;++d)(l=i[d])&&(u=e.call(l,l.__data__,d,i))&&("__data__"in l&&(u.__data__=l.__data__),a[d]=u);return new gt(r,this._parents)}function Z_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function J_(){return[]}function f0(e){return e==null?J_:function(){return this.querySelectorAll(e)}}function ek(e){return function(){return Z_(e.apply(this,arguments))}}function tk(e){typeof e=="function"?e=ek(e):e=f0(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),s.push(l));return new gt(r,s)}function h0(e){return function(){return this.matches(e)}}function p0(e){return function(t){return t.matches(e)}}var nk=Array.prototype.find;function rk(e){return function(){return nk.call(this.children,e)}}function sk(){return this.firstElementChild}function ik(e){return this.select(e==null?sk:rk(typeof e=="function"?e:p0(e)))}var ok=Array.prototype.filter;function ak(){return Array.from(this.children)}function lk(e){return function(){return ok.call(this.children,e)}}function uk(e){return this.selectAll(e==null?ak:lk(typeof e=="function"?e:p0(e)))}function ck(e){typeof e!="function"&&(e=h0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new gt(r,this._parents)}function m0(e){return new Array(e.length)}function dk(){return new gt(this._enter||this._groups.map(m0),this._parents)}function Xa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xa.prototype={constructor:Xa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function fk(e){return function(){return e}}function hk(e,t,n,r,s,i){for(var o=0,a,l=t.length,u=i.length;o<u;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new Xa(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function pk(e,t,n,r,s,i,o){var a,l,u=new Map,d=t.length,c=i.length,h=new Array(d),v;for(a=0;a<d;++a)(l=t[a])&&(h[a]=v=o.call(l,l.__data__,a,t)+"",u.has(v)?s[a]=l:u.set(v,l));for(a=0;a<c;++a)v=o.call(e,i[a],a,i)+"",(l=u.get(v))?(r[a]=l,l.__data__=i[a],u.delete(v)):n[a]=new Xa(e,i[a]);for(a=0;a<d;++a)(l=t[a])&&u.get(h[a])===l&&(s[a]=l)}function mk(e){return e.__data__}function gk(e,t){if(!arguments.length)return Array.from(this,mk);var n=t?pk:hk,r=this._parents,s=this._groups;typeof e!="function"&&(e=fk(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),u=0;u<i;++u){var d=r[u],c=s[u],h=c.length,v=yk(e.call(d,d&&d.__data__,u,r)),g=v.length,w=a[u]=new Array(g),S=o[u]=new Array(g),y=l[u]=new Array(h);n(d,c,w,S,y,v,t);for(var m=0,p=0,x,k;m<g;++m)if(x=w[m]){for(m>=p&&(p=m+1);!(k=S[p])&&++p<g;);x._next=k||null}}return o=new gt(o,r),o._enter=a,o._exit=l,o}function yk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vk(){return new gt(this._exit||this._groups.map(m0),this._parents)}function xk(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function wk(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var u=n[l],d=r[l],c=u.length,h=a[l]=new Array(c),v,g=0;g<c;++g)(v=u[g]||d[g])&&(h[g]=v);for(;l<s;++l)a[l]=n[l];return new gt(a,this._parents)}function Sk(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function _k(e){e||(e=kk);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),u,d=0;d<a;++d)(u=o[d])&&(l[d]=u);l.sort(t)}return new gt(s,this._parents).order()}function kk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ek(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Nk(){return Array.from(this)}function bk(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Ck(){let e=0;for(const t of this)++e;return e}function jk(){return!this.node()}function Tk(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function Mk(e){return function(){this.removeAttribute(e)}}function Pk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rk(e,t){return function(){this.setAttribute(e,t)}}function Ik(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Dk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ak(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ok(e,t){var n=Nl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Pk:Mk:typeof t=="function"?n.local?Ak:Dk:n.local?Ik:Rk)(n,t))}function g0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lk(e){return function(){this.style.removeProperty(e)}}function zk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fk(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function $k(e,t,n){return arguments.length>1?this.each((t==null?Lk:typeof t=="function"?Fk:zk)(e,t,n??"")):Is(this.node(),e)}function Is(e,t){return e.style.getPropertyValue(t)||g0(e).getComputedStyle(e,null).getPropertyValue(t)}function Hk(e){return function(){delete this[e]}}function Bk(e,t){return function(){this[e]=t}}function Vk(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Uk(e,t){return arguments.length>1?this.each((t==null?Hk:typeof t=="function"?Vk:Bk)(e,t)):this.node()[e]}function y0(e){return e.trim().split(/^|\s+/)}function rf(e){return e.classList||new v0(e)}function v0(e){this._node=e,this._names=y0(e.getAttribute("class")||"")}v0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function x0(e,t){for(var n=rf(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function w0(e,t){for(var n=rf(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function Wk(e){return function(){x0(this,e)}}function Qk(e){return function(){w0(this,e)}}function qk(e,t){return function(){(t.apply(this,arguments)?x0:w0)(this,e)}}function Xk(e,t){var n=y0(e+"");if(arguments.length<2){for(var r=rf(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?qk:t?Wk:Qk)(n,t))}function Yk(){this.textContent=""}function Kk(e){return function(){this.textContent=e}}function Gk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Zk(e){return arguments.length?this.each(e==null?Yk:(typeof e=="function"?Gk:Kk)(e)):this.node().textContent}function Jk(){this.innerHTML=""}function eE(e){return function(){this.innerHTML=e}}function tE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function nE(e){return arguments.length?this.each(e==null?Jk:(typeof e=="function"?tE:eE)(e)):this.node().innerHTML}function rE(){this.nextSibling&&this.parentNode.appendChild(this)}function sE(){return this.each(rE)}function iE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oE(){return this.each(iE)}function aE(e){var t=typeof e=="function"?e:d0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function lE(){return null}function uE(e,t){var n=typeof e=="function"?e:d0(e),r=t==null?lE:typeof t=="function"?t:nf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cE(){var e=this.parentNode;e&&e.removeChild(this)}function dE(){return this.each(cE)}function fE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pE(e){return this.select(e?hE:fE)}function mE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function gE(e){return function(t){e.call(this,t,this.__data__)}}function yE(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function vE(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function xE(e,t,n){return function(){var r=this.__on,s,i=gE(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function wE(e,t,n){var r=yE(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,d;l<u;++l)for(s=0,d=a[l];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?xE:vE,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function S0(e,t,n){var r=g0(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function SE(e,t){return function(){return S0(this,e,t)}}function _E(e,t){return function(){return S0(this,e,t.apply(this,arguments))}}function kE(e,t){return this.each((typeof t=="function"?_E:SE)(e,t))}function*EE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var _0=[null];function gt(e,t){this._groups=e,this._parents=t}function po(){return new gt([[document.documentElement]],_0)}function NE(){return this}gt.prototype=po.prototype={constructor:gt,select:G_,selectAll:tk,selectChild:ik,selectChildren:uk,filter:ck,data:gk,enter:dk,exit:vk,join:xk,merge:wk,selection:NE,order:Sk,sort:_k,call:Ek,nodes:Nk,node:bk,size:Ck,empty:jk,each:Tk,attr:Ok,style:$k,property:Uk,classed:Xk,text:Zk,html:nE,raise:sE,lower:oE,append:aE,insert:uE,remove:dE,clone:pE,datum:mE,on:wE,dispatch:kE,[Symbol.iterator]:EE};function ft(e){return typeof e=="string"?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],_0)}function bE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rt(e,t){if(e=bE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const CE={passive:!1},qi={capture:!0,passive:!1};function wu(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function k0(e){var t=e.document.documentElement,n=ft(e).on("dragstart.drag",ds,qi);"onselectstart"in t?n.on("selectstart.drag",ds,qi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function E0(e,t){var n=e.document.documentElement,r=ft(e).on("dragstart.drag",null);t&&(r.on("click.drag",ds,qi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Qo=e=>()=>e;function Hc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:a,dx:l,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Hc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function jE(e){return!e.ctrlKey&&!e.button}function TE(){return this.parentNode}function ME(e,t){return t??{x:e.x,y:e.y}}function PE(){return navigator.maxTouchPoints||"ontouchstart"in this}function N0(){var e=jE,t=TE,n=ME,r=PE,s={},i=El("start","drag","end"),o=0,a,l,u,d,c=0;function h(x){x.on("mousedown.drag",v).filter(r).on("touchstart.drag",S).on("touchmove.drag",y,CE).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(x,k){if(!(d||!e.call(this,x,k))){var _=p(this,t.call(this,x,k),x,k,"mouse");_&&(ft(x.view).on("mousemove.drag",g,qi).on("mouseup.drag",w,qi),k0(x.view),wu(x),u=!1,a=x.clientX,l=x.clientY,_("start",x))}}function g(x){if(ds(x),!u){var k=x.clientX-a,_=x.clientY-l;u=k*k+_*_>c}s.mouse("drag",x)}function w(x){ft(x.view).on("mousemove.drag mouseup.drag",null),E0(x.view,u),ds(x),s.mouse("end",x)}function S(x,k){if(e.call(this,x,k)){var _=x.changedTouches,E=t.call(this,x,k),N=_.length,M,I;for(M=0;M<N;++M)(I=p(this,E,x,k,_[M].identifier,_[M]))&&(wu(x),I("start",x,_[M]))}}function y(x){var k=x.changedTouches,_=k.length,E,N;for(E=0;E<_;++E)(N=s[k[E].identifier])&&(ds(x),N("drag",x,k[E]))}function m(x){var k=x.changedTouches,_=k.length,E,N;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<_;++E)(N=s[k[E].identifier])&&(wu(x),N("end",x,k[E]))}function p(x,k,_,E,N,M){var I=i.copy(),R=Rt(M||_,k),A,$,b;if((b=n.call(x,new Hc("beforestart",{sourceEvent:_,target:h,identifier:N,active:o,x:R[0],y:R[1],dx:0,dy:0,dispatch:I}),E))!=null)return A=b.x-R[0]||0,$=b.y-R[1]||0,function O(P,z,C){var j=R,L;switch(P){case"start":s[N]=O,L=o++;break;case"end":delete s[N],--o;case"drag":R=Rt(C||z,k),L=o;break}I.call(P,x,new Hc(P,{sourceEvent:z,subject:b,target:h,identifier:N,active:L,x:R[0]+A,y:R[1]+$,dx:R[0]-j[0],dy:R[1]-j[1],dispatch:I}),E)}}return h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Qo(!!x),h):e},h.container=function(x){return arguments.length?(t=typeof x=="function"?x:Qo(x),h):t},h.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Qo(x),h):n},h.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Qo(!!x),h):r},h.on=function(){var x=i.on.apply(i,arguments);return x===i?h:x},h.clickDistance=function(x){return arguments.length?(c=(x=+x)*x,h):Math.sqrt(c)},h}function sf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function b0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mo(){}var Xi=.7,Ya=1/Xi,fs="\\s*([+-]?\\d+)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RE=/^#([0-9a-f]{3,8})$/,IE=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),DE=new RegExp(`^rgb\\(${Jt},${Jt},${Jt}\\)$`),AE=new RegExp(`^rgba\\(${fs},${fs},${fs},${Yi}\\)$`),OE=new RegExp(`^rgba\\(${Jt},${Jt},${Jt},${Yi}\\)$`),LE=new RegExp(`^hsl\\(${Yi},${Jt},${Jt}\\)$`),zE=new RegExp(`^hsla\\(${Yi},${Jt},${Jt},${Yi}\\)$`),ip={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sf(mo,Ar,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:op,formatHex:op,formatHex8:FE,formatHsl:$E,formatRgb:ap,toString:ap});function op(){return this.rgb().formatHex()}function FE(){return this.rgb().formatHex8()}function $E(){return C0(this).formatHsl()}function ap(){return this.rgb().formatRgb()}function Ar(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RE.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?lp(t):n===3?new it(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IE.exec(e))?new it(t[1],t[2],t[3],1):(t=DE.exec(e))?new it(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AE.exec(e))?qo(t[1],t[2],t[3],t[4]):(t=OE.exec(e))?qo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LE.exec(e))?dp(t[1],t[2]/100,t[3]/100,1):(t=zE.exec(e))?dp(t[1],t[2]/100,t[3]/100,t[4]):ip.hasOwnProperty(e)?lp(ip[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function lp(e){return new it(e>>16&255,e>>8&255,e&255,1)}function qo(e,t,n,r){return r<=0&&(e=t=n=NaN),new it(e,t,n,r)}function HE(e){return e instanceof mo||(e=Ar(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function Bc(e,t,n,r){return arguments.length===1?HE(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}sf(it,Bc,b0(mo,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(br(this.r),br(this.g),br(this.b),Ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:up,formatHex:up,formatHex8:BE,formatRgb:cp,toString:cp}));function up(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function BE(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function cp(){const e=Ka(this.opacity);return`${e===1?"rgb(":"rgba("}${br(this.r)}, ${br(this.g)}, ${br(this.b)}${e===1?")":`, ${e})`}`}function Ka(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function br(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hr(e){return e=br(e),(e<16?"0":"")+e.toString(16)}function dp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dt(e,t,n,r)}function C0(e){if(e instanceof Dt)return new Dt(e.h,e.s,e.l,e.opacity);if(e instanceof mo||(e=Ar(e)),!e)return new Dt;if(e instanceof Dt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Dt(o,a,l,e.opacity)}function VE(e,t,n,r){return arguments.length===1?C0(e):new Dt(e,t,n,r??1)}function Dt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}sf(Dt,VE,b0(mo,{brighter(e){return e=e==null?Ya:Math.pow(Ya,e),new Dt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xi:Math.pow(Xi,e),new Dt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new it(Su(e>=240?e-240:e+120,s,r),Su(e,s,r),Su(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Dt(fp(this.h),Xo(this.s),Xo(this.l),Ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ka(this.opacity);return`${e===1?"hsl(":"hsla("}${fp(this.h)}, ${Xo(this.s)*100}%, ${Xo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fp(e){return e=(e||0)%360,e<0?e+360:e}function Xo(e){return Math.max(0,Math.min(1,e||0))}function Su(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const of=e=>()=>e;function UE(e,t){return function(n){return e+n*t}}function WE(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function QE(e){return(e=+e)==1?j0:function(t,n){return n-t?WE(t,n,e):of(isNaN(t)?n:t)}}function j0(e,t){var n=t-e;return n?UE(e,n):of(isNaN(e)?t:e)}const Ga=function e(t){var n=QE(t);function r(s,i){var o=n((s=Bc(s)).r,(i=Bc(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),u=j0(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=a(d),s.b=l(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function qE(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function XE(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YE(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=bi(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(a){for(o=0;o<r;++o)i[o]=s[o](a);return i}}function KE(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function GE(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=bi(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_u=new RegExp(Vc.source,"g");function ZE(e){return function(){return e}}function JE(e){return function(t){return e(t)+""}}function T0(e,t){var n=Vc.lastIndex=_u.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Vc.exec(e))&&(s=_u.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Yt(r,s)})),n=_u.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?JE(l[0].x):ZE(t):(t=l.length,function(u){for(var d=0,c;d<t;++d)a[(c=l[d]).i]=c.x(u);return a.join("")})}function bi(e,t){var n=typeof t,r;return t==null||n==="boolean"?of(t):(n==="number"?Yt:n==="string"?(r=Ar(t))?(t=r,Ga):T0:t instanceof Ar?Ga:t instanceof Date?KE:XE(t)?qE:Array.isArray(t)?YE:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?GE:Yt)(e,t)}var hp=180/Math.PI,Uc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function M0(e,t,n,r,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*hp,skewX:Math.atan(l)*hp,scaleX:o,scaleY:a}}var Yo;function eN(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Uc:M0(t.a,t.b,t.c,t.d,t.e,t.f)}function tN(e){return e==null||(Yo||(Yo=document.createElementNS("http://www.w3.org/2000/svg","g")),Yo.setAttribute("transform",e),!(e=Yo.transform.baseVal.consolidate()))?Uc:(e=e.matrix,M0(e.a,e.b,e.c,e.d,e.e,e.f))}function P0(e,t,n,r){function s(u){return u.length?u.pop()+" ":""}function i(u,d,c,h,v,g){if(u!==c||d!==h){var w=v.push("translate(",null,t,null,n);g.push({i:w-4,x:Yt(u,c)},{i:w-2,x:Yt(d,h)})}else(c||h)&&v.push("translate("+c+t+h+n)}function o(u,d,c,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:c.push(s(c)+"rotate(",null,r)-2,x:Yt(u,d)})):d&&c.push(s(c)+"rotate("+d+r)}function a(u,d,c,h){u!==d?h.push({i:c.push(s(c)+"skewX(",null,r)-2,x:Yt(u,d)}):d&&c.push(s(c)+"skewX("+d+r)}function l(u,d,c,h,v,g){if(u!==c||d!==h){var w=v.push(s(v)+"scale(",null,",",null,")");g.push({i:w-4,x:Yt(u,c)},{i:w-2,x:Yt(d,h)})}else(c!==1||h!==1)&&v.push(s(v)+"scale("+c+","+h+")")}return function(u,d){var c=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,c,h),o(u.rotate,d.rotate,c,h),a(u.skewX,d.skewX,c,h),l(u.scaleX,u.scaleY,d.scaleX,d.scaleY,c,h),u=d=null,function(v){for(var g=-1,w=h.length,S;++g<w;)c[(S=h[g]).i]=S.x(v);return c.join("")}}}var nN=P0(eN,"px, ","px)","deg)"),rN=P0(tN,", ",")",")"),sN=1e-12;function pp(e){return((e=Math.exp(e))+1/e)/2}function iN(e){return((e=Math.exp(e))-1/e)/2}function oN(e){return((e=Math.exp(2*e))-1)/(e+1)}const ma=function e(t,n,r){function s(i,o){var a=i[0],l=i[1],u=i[2],d=o[0],c=o[1],h=o[2],v=d-a,g=c-l,w=v*v+g*g,S,y;if(w<sN)y=Math.log(h/u)/t,S=function(E){return[a+E*v,l+E*g,u*Math.exp(t*E*y)]};else{var m=Math.sqrt(w),p=(h*h-u*u+r*w)/(2*u*n*m),x=(h*h-u*u-r*w)/(2*h*n*m),k=Math.log(Math.sqrt(p*p+1)-p),_=Math.log(Math.sqrt(x*x+1)-x);y=(_-k)/t,S=function(E){var N=E*y,M=pp(k),I=u/(n*m)*(M*oN(t*N+k)-iN(k));return[a+I*v,l+I*g,u*M/pp(t*N+k)]}}return S.duration=y*1e3*t/Math.SQRT2,S}return s.rho=function(i){var o=Math.max(.001,+i),a=o*o,l=a*a;return e(o,a,l)},s}(Math.SQRT2,2,4);var Ds=0,mi=0,ai=0,R0=1e3,Za,gi,Ja=0,Or=0,bl=0,Ki=typeof performance=="object"&&performance.now?performance:Date,I0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function af(){return Or||(I0(aN),Or=Ki.now()+bl)}function aN(){Or=0}function el(){this._call=this._time=this._next=null}el.prototype=D0.prototype={constructor:el,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?af():+n)+(t==null?0:+t),!this._next&&gi!==this&&(gi?gi._next=this:Za=this,gi=this),this._call=e,this._time=n,Wc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wc())}};function D0(e,t,n){var r=new el;return r.restart(e,t,n),r}function lN(){af(),++Ds;for(var e=Za,t;e;)(t=Or-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ds}function mp(){Or=(Ja=Ki.now())+bl,Ds=mi=0;try{lN()}finally{Ds=0,cN(),Or=0}}function uN(){var e=Ki.now(),t=e-Ja;t>R0&&(bl-=t,Ja=e)}function cN(){for(var e,t=Za,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Za=n);gi=e,Wc(r)}function Wc(e){if(!Ds){mi&&(mi=clearTimeout(mi));var t=e-Or;t>24?(e<1/0&&(mi=setTimeout(mp,e-Ki.now()-bl)),ai&&(ai=clearInterval(ai))):(ai||(Ja=Ki.now(),ai=setInterval(uN,R0)),Ds=1,I0(mp))}}function gp(e,t,n){var r=new el;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var dN=El("start","end","cancel","interrupt"),fN=[],A0=0,yp=1,Qc=2,ga=3,vp=4,qc=5,ya=6;function Cl(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;hN(e,n,{name:t,index:r,group:s,on:dN,tween:fN,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:A0})}function lf(e,t){var n=Ht(e,t);if(n.state>A0)throw new Error("too late; already scheduled");return n}function tn(e,t){var n=Ht(e,t);if(n.state>ga)throw new Error("too late; already running");return n}function Ht(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function hN(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=D0(i,0,n.time);function i(u){n.state=yp,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var d,c,h,v;if(n.state!==yp)return l();for(d in r)if(v=r[d],v.name===n.name){if(v.state===ga)return gp(o);v.state===vp?(v.state=ya,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[d]):+d<t&&(v.state=ya,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[d])}if(gp(function(){n.state===ga&&(n.state=vp,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Qc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Qc){for(n.state=ga,s=new Array(h=n.tween.length),d=0,c=-1;d<h;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++c]=v);s.length=c+1}}function a(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=qc,1),c=-1,h=s.length;++c<h;)s[c].call(e,d);n.state===qc&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ya,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function va(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Qc&&r.state<qc,r.state=ya,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function pN(e){return this.each(function(){va(this,e)})}function mN(e,t){var n,r;return function(){var s=tn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function gN(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=tn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},l=0,u=s.length;l<u;++l)if(s[l].name===t){s[l]=a;break}l===u&&s.push(a)}i.tween=s}}function yN(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ht(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?mN:gN)(n,e,t))}function uf(e,t,n){var r=e._id;return e.each(function(){var s=tn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ht(s,r).value[t]}}function O0(e,t){var n;return(typeof t=="number"?Yt:t instanceof Ar?Ga:(n=Ar(t))?(t=n,Ga):T0)(e,t)}function vN(e){return function(){this.removeAttribute(e)}}function xN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function SN(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function _N(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function kN(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function EN(e,t){var n=Nl(e),r=n==="transform"?rN:O0;return this.attrTween(e,typeof t=="function"?(n.local?kN:_N)(n,r,uf(this,"attr."+e,t)):t==null?(n.local?xN:vN)(n):(n.local?SN:wN)(n,r,t))}function NN(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bN(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function CN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&bN(e,i)),n}return s._value=t,s}function jN(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&NN(e,i)),n}return s._value=t,s}function TN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Nl(e);return this.tween(n,(r.local?CN:jN)(r,t))}function MN(e,t){return function(){lf(this,e).delay=+t.apply(this,arguments)}}function PN(e,t){return t=+t,function(){lf(this,e).delay=t}}function RN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?MN:PN)(t,e)):Ht(this.node(),t).delay}function IN(e,t){return function(){tn(this,e).duration=+t.apply(this,arguments)}}function DN(e,t){return t=+t,function(){tn(this,e).duration=t}}function AN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IN:DN)(t,e)):Ht(this.node(),t).duration}function ON(e,t){if(typeof t!="function")throw new Error;return function(){tn(this,e).ease=t}}function LN(e){var t=this._id;return arguments.length?this.each(ON(t,e)):Ht(this.node(),t).ease}function zN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;tn(this,e).ease=n}}function FN(e){if(typeof e!="function")throw new Error;return this.each(zN(this._id,e))}function $N(e){typeof e!="function"&&(e=h0(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,u=0;u<o;++u)(l=i[u])&&e.call(l,l.__data__,u,i)&&a.push(l);return new vn(r,this._parents,this._name,this._id)}function HN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=t[a],u=n[a],d=l.length,c=o[a]=new Array(d),h,v=0;v<d;++v)(h=l[v]||u[v])&&(c[v]=h);for(;a<r;++a)o[a]=t[a];return new vn(o,this._parents,this._name,this._id)}function BN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function VN(e,t,n){var r,s,i=BN(t)?lf:tn;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function UN(e,t){var n=this._id;return arguments.length<2?Ht(this.node(),n).on.on(e):this.each(VN(n,e,t))}function WN(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function QN(){return this.on("end.remove",WN(this._id))}function qN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nf(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,u=i[o]=new Array(l),d,c,h=0;h<l;++h)(d=a[h])&&(c=e.call(d,d.__data__,h,a))&&("__data__"in d&&(c.__data__=d.__data__),u[h]=c,Cl(u[h],t,n,h,u,Ht(d,n)));return new vn(i,this._parents,t,n)}function XN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=f0(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],u=l.length,d,c=0;c<u;++c)if(d=l[c]){for(var h=e.call(d,d.__data__,c,l),v,g=Ht(d,n),w=0,S=h.length;w<S;++w)(v=h[w])&&Cl(v,t,n,w,h,g);i.push(h),o.push(d)}return new vn(i,o,t,n)}var YN=po.prototype.constructor;function KN(){return new YN(this._groups,this._parents)}function GN(e,t){var n,r,s;return function(){var i=Is(this,e),o=(this.style.removeProperty(e),Is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function L0(e){return function(){this.style.removeProperty(e)}}function ZN(e,t,n){var r,s=n+"",i;return function(){var o=Is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function JN(e,t,n){var r,s,i;return function(){var o=Is(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Is(this,e))),o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a))}}function eb(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var l=tn(this,e),u=l.on,d=l.value[i]==null?a||(a=L0(t)):void 0;(u!==n||s!==d)&&(r=(n=u).copy()).on(o,s=d),l.on=r}}function tb(e,t,n){var r=(e+="")=="transform"?nN:O0;return t==null?this.styleTween(e,GN(e,r)).on("end.style."+e,L0(e)):typeof t=="function"?this.styleTween(e,JN(e,r,uf(this,"style."+e,t))).each(eb(this._id,e)):this.styleTween(e,ZN(e,r,t),n).on("end.style."+e,null)}function nb(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function rb(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&nb(e,o,n)),r}return i._value=t,i}function sb(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,rb(e,t,n??""))}function ib(e){return function(){this.textContent=e}}function ob(e){return function(){var t=e(this);this.textContent=t??""}}function ab(e){return this.tween("text",typeof e=="function"?ob(uf(this,"text",e)):ib(e==null?"":e+""))}function lb(e){return function(t){this.textContent=e.call(this,t)}}function ub(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&lb(s)),t}return r._value=e,r}function cb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ub(e))}function db(){for(var e=this._name,t=this._id,n=z0(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var d=Ht(l,t);Cl(l,e,n,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new vn(r,this._parents,e,n)}function fb(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var u=tn(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),s===0&&i()})}var hb=0;function vn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function z0(){return++hb}var rn=po.prototype;vn.prototype={constructor:vn,select:qN,selectAll:XN,selectChild:rn.selectChild,selectChildren:rn.selectChildren,filter:$N,merge:HN,selection:KN,transition:db,call:rn.call,nodes:rn.nodes,node:rn.node,size:rn.size,empty:rn.empty,each:rn.each,on:UN,attr:EN,attrTween:TN,style:tb,styleTween:sb,text:ab,textTween:cb,remove:QN,tween:yN,delay:RN,duration:AN,ease:LN,easeVarying:FN,end:fb,[Symbol.iterator]:rn[Symbol.iterator]};function pb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mb={time:null,delay:0,duration:250,ease:pb};function gb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function yb(e){var t,n;e instanceof vn?(t=e._id,e=e._name):(t=z0(),(n=mb).time=af(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,u=0;u<a;++u)(l=o[u])&&Cl(l,e,t,u,o,n||gb(l,t));return new vn(r,this._parents,e,t)}po.prototype.interrupt=pN;po.prototype.transition=yb;const Ko=e=>()=>e;function vb(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function fn(e,t,n){this.k=e,this.x=t,this.y=n}fn.prototype={constructor:fn,scale:function(e){return e===1?this:new fn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new fn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jl=new fn(1,0,0);F0.prototype=fn.prototype;function F0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jl;return e.__zoom}function ku(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function xb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function wb(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function xp(){return this.__zoom||jl}function Sb(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _b(){return navigator.maxTouchPoints||"ontouchstart"in this}function kb(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function $0(){var e=xb,t=wb,n=kb,r=Sb,s=_b,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=ma,u=El("start","zoom","end"),d,c,h,v=500,g=150,w=0,S=10;function y(b){b.property("__zoom",xp).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",I).filter(s).on("touchstart.zoom",R).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(b,O,P,z){var C=b.selection?b.selection():b;C.property("__zoom",xp),b!==C?k(b,O,P,z):C.interrupt().each(function(){_(this,arguments).event(z).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},y.scaleBy=function(b,O,P,z){y.scaleTo(b,function(){var C=this.__zoom.k,j=typeof O=="function"?O.apply(this,arguments):O;return C*j},P,z)},y.scaleTo=function(b,O,P,z){y.transform(b,function(){var C=t.apply(this,arguments),j=this.__zoom,L=P==null?x(C):typeof P=="function"?P.apply(this,arguments):P,H=j.invert(L),B=typeof O=="function"?O.apply(this,arguments):O;return n(p(m(j,B),L,H),C,o)},P,z)},y.translateBy=function(b,O,P,z){y.transform(b,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),o)},null,z)},y.translateTo=function(b,O,P,z,C){y.transform(b,function(){var j=t.apply(this,arguments),L=this.__zoom,H=z==null?x(j):typeof z=="function"?z.apply(this,arguments):z;return n(jl.translate(H[0],H[1]).scale(L.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof P=="function"?-P.apply(this,arguments):-P),j,o)},z,C)};function m(b,O){return O=Math.max(i[0],Math.min(i[1],O)),O===b.k?b:new fn(O,b.x,b.y)}function p(b,O,P){var z=O[0]-P[0]*b.k,C=O[1]-P[1]*b.k;return z===b.x&&C===b.y?b:new fn(b.k,z,C)}function x(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function k(b,O,P,z){b.on("start.zoom",function(){_(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(z).end()}).tween("zoom",function(){var C=this,j=arguments,L=_(C,j).event(z),H=t.apply(C,j),B=P==null?x(H):typeof P=="function"?P.apply(C,j):P,Q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),U=C.__zoom,Y=typeof O=="function"?O.apply(C,j):O,K=l(U.invert(B).concat(Q/U.k),Y.invert(B).concat(Q/Y.k));return function(Z){if(Z===1)Z=Y;else{var W=K(Z),J=Q/W[2];Z=new fn(J,B[0]-W[0]*J,B[1]-W[1]*J)}L.zoom(null,Z)}})}function _(b,O,P){return!P&&b.__zooming||new E(b,O)}function E(b,O){this.that=b,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,O),this.taps=0}E.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,O){return this.mouse&&b!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var O=ft(this.that).datum();u.call(b,this.that,new vb(b,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),O)}};function N(b,...O){if(!e.apply(this,arguments))return;var P=_(this,O).event(b),z=this.__zoom,C=Math.max(i[0],Math.min(i[1],z.k*Math.pow(2,r.apply(this,arguments)))),j=Rt(b);if(P.wheel)(P.mouse[0][0]!==j[0]||P.mouse[0][1]!==j[1])&&(P.mouse[1]=z.invert(P.mouse[0]=j)),clearTimeout(P.wheel);else{if(z.k===C)return;P.mouse=[j,z.invert(j)],va(this),P.start()}li(b),P.wheel=setTimeout(L,g),P.zoom("mouse",n(p(m(z,C),P.mouse[0],P.mouse[1]),P.extent,o));function L(){P.wheel=null,P.end()}}function M(b,...O){if(h||!e.apply(this,arguments))return;var P=b.currentTarget,z=_(this,O,!0).event(b),C=ft(b.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",Q,!0),j=Rt(b,P),L=b.clientX,H=b.clientY;k0(b.view),ku(b),z.mouse=[j,this.__zoom.invert(j)],va(this),z.start();function B(U){if(li(U),!z.moved){var Y=U.clientX-L,K=U.clientY-H;z.moved=Y*Y+K*K>w}z.event(U).zoom("mouse",n(p(z.that.__zoom,z.mouse[0]=Rt(U,P),z.mouse[1]),z.extent,o))}function Q(U){C.on("mousemove.zoom mouseup.zoom",null),E0(U.view,z.moved),li(U),z.event(U).end()}}function I(b,...O){if(e.apply(this,arguments)){var P=this.__zoom,z=Rt(b.changedTouches?b.changedTouches[0]:b,this),C=P.invert(z),j=P.k*(b.shiftKey?.5:2),L=n(p(m(P,j),z,C),t.apply(this,O),o);li(b),a>0?ft(this).transition().duration(a).call(k,L,z,b):ft(this).call(y.transform,L,z,b)}}function R(b,...O){if(e.apply(this,arguments)){var P=b.touches,z=P.length,C=_(this,O,b.changedTouches.length===z).event(b),j,L,H,B;for(ku(b),L=0;L<z;++L)H=P[L],B=Rt(H,this),B=[B,this.__zoom.invert(B),H.identifier],C.touch0?!C.touch1&&C.touch0[2]!==B[2]&&(C.touch1=B,C.taps=0):(C.touch0=B,j=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),j&&(C.taps<2&&(c=B[0],d=setTimeout(function(){d=null},v)),va(this),C.start())}}function A(b,...O){if(this.__zooming){var P=_(this,O).event(b),z=b.changedTouches,C=z.length,j,L,H,B;for(li(b),j=0;j<C;++j)L=z[j],H=Rt(L,this),P.touch0&&P.touch0[2]===L.identifier?P.touch0[0]=H:P.touch1&&P.touch1[2]===L.identifier&&(P.touch1[0]=H);if(L=P.that.__zoom,P.touch1){var Q=P.touch0[0],U=P.touch0[1],Y=P.touch1[0],K=P.touch1[1],Z=(Z=Y[0]-Q[0])*Z+(Z=Y[1]-Q[1])*Z,W=(W=K[0]-U[0])*W+(W=K[1]-U[1])*W;L=m(L,Math.sqrt(Z/W)),H=[(Q[0]+Y[0])/2,(Q[1]+Y[1])/2],B=[(U[0]+K[0])/2,(U[1]+K[1])/2]}else if(P.touch0)H=P.touch0[0],B=P.touch0[1];else return;P.zoom("touch",n(p(L,H,B),P.extent,o))}}function $(b,...O){if(this.__zooming){var P=_(this,O).event(b),z=b.changedTouches,C=z.length,j,L;for(ku(b),h&&clearTimeout(h),h=setTimeout(function(){h=null},v),j=0;j<C;++j)L=z[j],P.touch0&&P.touch0[2]===L.identifier?delete P.touch0:P.touch1&&P.touch1[2]===L.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(L=Rt(L,this),Math.hypot(c[0]-L[0],c[1]-L[1])<S)){var H=ft(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return y.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:Ko(+b),y):r},y.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Ko(!!b),y):e},y.touchable=function(b){return arguments.length?(s=typeof b=="function"?b:Ko(!!b),y):s},y.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Ko([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),y):t},y.scaleExtent=function(b){return arguments.length?(i[0]=+b[0],i[1]=+b[1],y):[i[0],i[1]]},y.translateExtent=function(b){return arguments.length?(o[0][0]=+b[0][0],o[1][0]=+b[1][0],o[0][1]=+b[0][1],o[1][1]=+b[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(b){return arguments.length?(n=b,y):n},y.duration=function(b){return arguments.length?(a=+b,y):a},y.interpolate=function(b){return arguments.length?(l=b,y):l},y.on=function(){var b=u.on.apply(u,arguments);return b===u?y:b},y.clickDistance=function(b){return arguments.length?(w=(b=+b)*b,y):Math.sqrt(w)},y.tapDistance=function(b){return arguments.length?(S=+b,y):S},y}const en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Gi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],H0=["Enter"," ","Escape"],B0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var As;(function(e){e.Strict="strict",e.Loose="loose"})(As||(As={}));var Cr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Cr||(Cr={}));var Zi;(function(e){e.Partial="partial",e.Full="full"})(Zi||(Zi={}));const V0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Rn||(Rn={}));var tl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(tl||(tl={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));const wp={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top};function U0(e){return e===null?null:e?"valid":"invalid"}const W0=e=>"id"in e&&"source"in e&&"target"in e,Eb=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),cf=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Tl=(e,t,n)=>{if(!e.id)return[];const r=new Set;return n.forEach(s=>{s.target===e.id&&r.add(s.source)}),t.filter(s=>r.has(s.id))},go=(e,t=[0,0])=>{const{width:n,height:r}=wn(e),s=e.origin??t,i=n*s[0],o=r*s[1];return{x:e.position.x-i,y:e.position.y-o}},Nb=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let o=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(s):cf(s)?s:t.nodeLookup.get(s.id));const a=o?nl(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ml(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Pl(n)},yo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Ml(n,nl(s)),r=!0)}),r?Pl(n):{x:0,y:0,width:0,height:0}},df=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1)=>{const a={...xo(t,[n,r,s]),width:t.width/s,height:t.height/s},l=[];for(const u of e.values()){const{measured:d,selectable:c=!0,hidden:h=!1}=u;if(o&&!c||h)continue;const v=d.width??u.width??u.initialWidth??null,g=d.height??u.height??u.initialHeight??null,w=Ji(a,Ls(u)),S=(v??0)*(g??0),y=i&&w>0;(!u.internals.handleBounds||y||w>=S||u.dragging)&&l.push(u)}return l},bb=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Cb(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function jb({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const a=Cb(e,o),l=yo(a),u=ff(l,t,n,(o==null?void 0:o.minZoom)??s,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(u,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Q0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let c=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!a)i==null||i("005",en.error005());else{const v=a.measured.width,g=a.measured.height;v&&g&&(c=[[l,u],[l+v,u+g]])}else a&&zs(o.extent)&&(c=[[o.extent[0][0]+l,o.extent[0][1]+u],[o.extent[1][0]+l,o.extent[1][1]+u]]);const h=zs(c)?Lr(t,c,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",en.error015())),{position:{x:h.x-l+(o.measured.width??0)*d[0],y:h.y-u+(o.measured.height??0)*d[1]},positionAbsolute:h}}async function Tb({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const v=i.has(h.id),g=!v&&h.parentId&&o.find(w=>w.id===h.parentId);(v||g)&&o.push(h)}const a=new Set(t.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),d=bb(o,l);for(const h of l)a.has(h.id)&&!d.find(g=>g.id===h.id)&&d.push(h);if(!s)return{edges:d,nodes:o};const c=await s({nodes:o,edges:d});return typeof c=="boolean"?c?{edges:d,nodes:o}:{edges:[],nodes:[]}:c}const Os=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Lr=(e={x:0,y:0},t,n)=>({x:Os(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Os(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function q0(e,t,n){const{width:r,height:s}=wn(n),{x:i,y:o}=n.internals.positionAbsolute;return Lr(e,[[i,o],[i+r,o+s]],t)}const Sp=(e,t,n)=>e<t?Os(Math.abs(e-t),1,t)/t:e>n?-Os(Math.abs(e-n),1,t)/t:0,X0=(e,t,n=15,r=40)=>{const s=Sp(e.x,r,t.width-r)*n,i=Sp(e.y,r,t.height-r)*n;return[s,i]},Ml=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Xc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Pl=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ls=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=cf(e)?e.internals.positionAbsolute:go(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},nl=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=cf(e)?e.internals.positionAbsolute:go(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Y0=(e,t)=>Pl(Ml(Xc(e),Xc(t))),Ji=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},_p=e=>Ot(e.width)&&Ot(e.height)&&Ot(e.x)&&Ot(e.y),Ot=e=>!isNaN(e)&&isFinite(e),Mb=(e,t)=>{},vo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),xo=({x:e,y:t},[n,r,s],i=!1,o=[1,1])=>{const a={x:(e-n)/s,y:(t-r)/s};return i?vo(a,o):a},rl=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Ur(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Pb(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ur(e,n),s=Ur(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Ur(e.top??e.y??0,n),s=Ur(e.bottom??e.y??0,n),i=Ur(e.left??e.x??0,t),o=Ur(e.right??e.x??0,t);return{top:r,right:o,bottom:s,left:i,x:i+o,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Rb(e,t,n,r,s,i){const{x:o,y:a}=rl(e,[t,n,r]),{x:l,y:u}=rl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-l,c=i-u;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(c)}}const ff=(e,t,n,r,s,i)=>{const o=Pb(i,t,n),a=(t-o.x)/e.width,l=(n-o.y)/e.height,u=Math.min(a,l),d=Os(u,r,s),c=e.x+e.width/2,h=e.y+e.height/2,v=t/2-c*d,g=n/2-h*d,w=Rb(e,v,g,d,t,n),S={left:Math.min(w.left-o.left,0),top:Math.min(w.top-o.top,0),right:Math.min(w.right-o.right,0),bottom:Math.min(w.bottom-o.bottom,0)};return{x:v-S.left+S.right,y:g-S.top+S.bottom,zoom:d}},eo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function zs(e){return e!=null&&e!=="parent"}function wn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function K0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function G0(e,t={width:0,height:0},n,r,s){const i={...e},o=r.get(n);if(o){const a=o.origin||s;i.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function kp(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Ib(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function Db(e){return{...B0,...e||{}}}function Ci(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:o}=Lt(e),a=xo({x:i-((s==null?void 0:s.left)??0),y:o-((s==null?void 0:s.top)??0)},r),{x:l,y:u}=n?vo(a,t):a;return{xSnapped:l,ySnapped:u,...a}}const hf=e=>({width:e.offsetWidth,height:e.offsetHeight}),Z0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Ab=["INPUT","SELECT","TEXTAREA"];function J0(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:Ab.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const ev=e=>"clientX"in e,Lt=(e,t)=>{var i,o;const n=ev(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Ep=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...hf(o)}})};function tv({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:a}){const l=e*.125+s*.375+o*.375+n*.125,u=t*.125+i*.375+a*.375+r*.125,d=Math.abs(l-e),c=Math.abs(u-t);return[l,u,d,c]}function Go(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Np({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-Go(t-r,i),n];case G.Right:return[t+Go(r-t,i),n];case G.Top:return[t,n-Go(n-s,i)];case G.Bottom:return[t,n+Go(s-n,i)]}}function nv({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[a,l]=Np({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[u,d]=Np({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[c,h,v,g]=tv({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${a},${l} ${u},${d} ${r},${s}`,c,h,v,g]}function rv({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[i,a,s,o]}function Ob({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const o=s&&n?r+1e3:r,a=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return o+a}function Lb({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Ml(nl(e),nl(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return Ji(o,Pl(i))>0}const zb=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,Fb=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),sv=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||zb;let s;return W0(e)?s={...e}:s={...e,id:r(e)},Fb(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function iv({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,a]=rv({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,a]}const bp={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},$b=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Cp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Hb({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i,stepPosition:o}){const a=bp[t],l=bp[r],u={x:e.x+a.x*i,y:e.y+a.y*i},d={x:n.x+l.x*i,y:n.y+l.y*i},c=$b({source:u,sourcePosition:t,target:d}),h=c.x!==0?"x":"y",v=c[h];let g=[],w,S;const y={x:0,y:0},m={x:0,y:0},[,,p,x]=rv({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[h]*l[h]===-1){h==="x"?(w=s.x??u.x+(d.x-u.x)*o,S=s.y??(u.y+d.y)/2):(w=s.x??(u.x+d.x)/2,S=s.y??u.y+(d.y-u.y)*o);const _=[{x:w,y:u.y},{x:w,y:d.y}],E=[{x:u.x,y:S},{x:d.x,y:S}];a[h]===v?g=h==="x"?_:E:g=h==="x"?E:_}else{const _=[{x:u.x,y:d.y}],E=[{x:d.x,y:u.y}];if(h==="x"?g=a.x===v?E:_:g=a.y===v?_:E,t===r){const A=Math.abs(e[h]-n[h]);if(A<=i){const $=Math.min(i-1,i-A);a[h]===v?y[h]=(u[h]>e[h]?-1:1)*$:m[h]=(d[h]>n[h]?-1:1)*$}}if(t!==r){const A=h==="x"?"y":"x",$=a[h]===l[A],b=u[A]>d[A],O=u[A]<d[A];(a[h]===1&&(!$&&b||$&&O)||a[h]!==1&&(!$&&O||$&&b))&&(g=h==="x"?_:E)}const N={x:u.x+y.x,y:u.y+y.y},M={x:d.x+m.x,y:d.y+m.y},I=Math.max(Math.abs(N.x-g[0].x),Math.abs(M.x-g[0].x)),R=Math.max(Math.abs(N.y-g[0].y),Math.abs(M.y-g[0].y));I>=R?(w=(N.x+M.x)/2,S=g[0].y):(w=g[0].x,S=(N.y+M.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...g,{x:d.x+m.x,y:d.y+m.y},n],w,S,p,x]}function Bb(e,t,n,r){const s=Math.min(Cp(e,t)/2,Cp(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*d}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${i},${o+s*l}Q ${i},${o} ${i+s*a},${o}`}function sl({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20,stepPosition:d=.5}){const[c,h,v,g,w]=Hb({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:a,y:l},offset:u,stepPosition:d});return[c.reduce((y,m,p)=>{let x="";return p>0&&p<c.length-1?x=Bb(c[p-1],m,c[p+1],o):x=`${p===0?"M":"L"}${m.x} ${m.y}`,y+=x,y},""),h,v,g,w]}function jp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Vb(e){var c;const{sourceNode:t,targetNode:n}=e;if(!jp(t)||!jp(n))return null;const r=t.internals.handleBounds||Tp(t.handles),s=n.internals.handleBounds||Tp(n.handles),i=Mp((r==null?void 0:r.source)??[],e.sourceHandle),o=Mp(e.connectionMode===As.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!o)return(c=e.onError)==null||c.call(e,"008",en.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||G.Bottom,l=(o==null?void 0:o.position)||G.Top,u=zr(t,i,a),d=zr(n,o,l);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:l}}function Tp(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function zr(e,t,n=G.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??wn(e);if(r)return{x:s+o/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case G.Top:return{x:s+o/2,y:i};case G.Right:return{x:s+o,y:i+a/2};case G.Bottom:return{x:s+o/2,y:i+a};case G.Left:return{x:s,y:i+a/2}}}function Mp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Yc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Ub(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||s].forEach(l=>{if(l&&typeof l=="object"){const u=Yc(l,t);i.has(u)||(o.push({id:u,color:l.color||n,...l}),i.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const ov=1e3,Wb=10,pf={nodeOrigin:[0,0],nodeExtent:Gi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Qb={...pf,checkEquality:!0};function mf(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function qb(e,t,n){const r=mf(pf,n);for(const s of e.values())if(s.parentId)yf(s,e,t,r);else{const i=go(s,r.nodeOrigin),o=zs(s.extent)?s.extent:r.nodeExtent,a=Lr(i,o,wn(s));s.internals.positionAbsolute=a}}function Xb(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function gf(e){return e==="manual"}function Kc(e,t,n,r={}){var u,d;const s=mf(Qb,r),i={i:0},o=new Map(t),a=s!=null&&s.elevateNodesOnSelect&&!gf(s.zIndexMode)?ov:0;let l=e.length>0;t.clear(),n.clear();for(const c of e){let h=o.get(c.id);if(s.checkEquality&&c===(h==null?void 0:h.internals.userNode))t.set(c.id,h);else{const v=go(c,s.nodeOrigin),g=zs(c.extent)?c.extent:s.nodeExtent,w=Lr(v,g,wn(c));h={...s.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(d=c.measured)==null?void 0:d.height},internals:{positionAbsolute:w,handleBounds:Xb(c,h),z:av(c,a,s.zIndexMode),userNode:c}},t.set(c.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(l=!1),c.parentId&&yf(h,t,n,r,i)}return l}function Yb(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function yf(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:a,zIndexMode:l}=mf(pf,r),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Yb(e,n),s&&!d.parentId&&d.internals.rootParentIndex===void 0&&l==="auto"&&(d.internals.rootParentIndex=++s.i,d.internals.z=d.internals.z+s.i*Wb),s&&d.internals.rootParentIndex!==void 0&&(s.i=d.internals.rootParentIndex);const c=i&&!gf(l)?ov:0,{x:h,y:v,z:g}=Kb(e,d,o,a,c,l),{positionAbsolute:w}=e.internals,S=h!==w.x||v!==w.y;(S||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:h,y:v}:w,z:g}})}function av(e,t,n){const r=Ot(e.zIndex)?e.zIndex:0;return gf(n)?r:r+(e.selected?t:0)}function Kb(e,t,n,r,s,i){const{x:o,y:a}=t.internals.positionAbsolute,l=wn(e),u=go(e,n),d=zs(e.extent)?Lr(u,e.extent,l):u;let c=Lr({x:o+d.x,y:a+d.y},r,l);e.extent==="parent"&&(c=q0(c,l,t));const h=av(e,s,i),v=t.internals.z??0;return{x:c.x,y:c.y,z:v>=h?v+1:h}}function vf(e,t,n,r=[0,0]){var o;const s=[],i=new Map;for(const a of e){const l=t.get(a.parentId);if(!l)continue;const u=((o=i.get(a.parentId))==null?void 0:o.expandedRect)??Ls(l),d=Y0(u,a.rect);i.set(a.parentId,{expandedRect:d,parent:l})}return i.size>0&&i.forEach(({expandedRect:a,parent:l},u)=>{var p;const d=l.internals.positionAbsolute,c=wn(l),h=l.origin??r,v=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,g=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,w=Math.max(c.width,Math.round(a.width)),S=Math.max(c.height,Math.round(a.height)),y=(w-c.width)*h[0],m=(S-c.height)*h[1];(v>0||g>0||y||m)&&(s.push({id:u,type:"position",position:{x:l.position.x-v+y,y:l.position.y-g+m}}),(p=n.get(u))==null||p.forEach(x=>{e.some(k=>k.id===x.id)||s.push({id:x.id,type:"position",position:{x:x.position.x+v,y:x.position.y+g}})})),(c.width<a.width||c.height<a.height||v||g)&&s.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:w+(v?h[0]*v-y:0),height:S+(g?h[1]*g-m:0)}})}),s}function Gb(e,t,n,r,s,i,o){const a=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const u=[],d=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const v of e.values()){const g=t.get(v.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),l=!0;continue}const w=hf(v.nodeElement),S=g.measured.width!==w.width||g.measured.height!==w.height;if(!!(w.width&&w.height&&(S||!g.internals.handleBounds||v.force))){const m=v.nodeElement.getBoundingClientRect(),p=zs(g.extent)?g.extent:i;let{positionAbsolute:x}=g.internals;g.parentId&&g.extent==="parent"?x=q0(x,w,t.get(g.parentId)):p&&(x=Lr(x,p,w));const k={...g,measured:w,internals:{...g.internals,positionAbsolute:x,handleBounds:{source:Ep("source",v.nodeElement,m,c,g.id),target:Ep("target",v.nodeElement,m,c,g.id)}}};t.set(g.id,k),g.parentId&&yf(k,t,n,{nodeOrigin:s,zIndexMode:o}),l=!0,S&&(u.push({id:g.id,type:"dimensions",dimensions:w}),g.expandParent&&g.parentId&&h.push({id:g.id,parentId:g.parentId,rect:Ls(k,s)}))}}if(h.length>0){const v=vf(h,t,n,s);u.push(...v)}return{changes:u,updatedInternals:l}}async function Zb({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Pp(e,t,n,r,s,i){let o=s;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${s}-${e}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,t)),i){o=`${s}-${e}-${i}`;const u=r.get(o)||new Map;r.set(o,u.set(n,t))}}function lv(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:s,target:i,sourceHandle:o,targetHandle:a},u=`${s}-${o}--${i}-${a}`,d=`${i}-${a}--${s}-${o}`;Pp("source",l,d,e,s,o),Pp("target",l,u,e,i,a),t.set(r.id,r)}}function uv(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:uv(n,t):!1}function Rp(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Jb(e,t,n,r){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!uv(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(i);a&&s.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return s}function Eu({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,a,l;const s=[];for(const[u,d]of t){const c=(o=n.get(u))==null?void 0:o.internals.userNode;c&&s.push({...c,position:d.position,dragging:r})}if(!e)return[s[0],s];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((l=t.get(e))==null?void 0:l.position)||i.position,dragging:r}:s[0],s]}function eC({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},o=vo(i,t);return{x:o.x-i.x,y:o.y-i.y}}function tC({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},o=0,a=new Map,l=!1,u={x:0,y:0},d=null,c=!1,h=null,v=!1,g=!1,w=null;function S({noDragClassName:m,handleSelector:p,domNode:x,isSelectable:k,nodeId:_,nodeClickDistance:E=0}){h=ft(x);function N({x:A,y:$}){const{nodeLookup:b,nodeExtent:O,snapGrid:P,snapToGrid:z,nodeOrigin:C,onNodeDrag:j,onSelectionDrag:L,onError:H,updateNodePositions:B}=t();i={x:A,y:$};let Q=!1;const U=a.size>1,Y=U&&O?Xc(yo(a)):null,K=U&&z?eC({dragItems:a,snapGrid:P,x:A,y:$}):null;for(const[Z,W]of a){if(!b.has(Z))continue;let J={x:A-W.distance.x,y:$-W.distance.y};z&&(J=K?{x:Math.round(J.x+K.x),y:Math.round(J.y+K.y)}:vo(J,P));let ie=null;if(U&&O&&!W.extent&&Y){const{positionAbsolute:te}=W.internals,he=te.x-Y.x+O[0][0],ye=te.x+W.measured.width-Y.x2+O[1][0],de=te.y-Y.y+O[0][1],Ve=te.y+W.measured.height-Y.y2+O[1][1];ie=[[he,de],[ye,Ve]]}const{position:re,positionAbsolute:ne}=Q0({nodeId:Z,nextPosition:J,nodeLookup:b,nodeExtent:ie||O,nodeOrigin:C,onError:H});Q=Q||W.position.x!==re.x||W.position.y!==re.y,W.position=re,W.internals.positionAbsolute=ne}if(g=g||Q,!!Q&&(B(a,!0),w&&(r||j||!_&&L))){const[Z,W]=Eu({nodeId:_,dragItems:a,nodeLookup:b});r==null||r(w,a,Z,W),j==null||j(w,Z,W),_||L==null||L(w,W)}}async function M(){if(!d)return;const{transform:A,panBy:$,autoPanSpeed:b,autoPanOnNodeDrag:O}=t();if(!O){l=!1,cancelAnimationFrame(o);return}const[P,z]=X0(u,d,b);(P!==0||z!==0)&&(i.x=(i.x??0)-P/A[2],i.y=(i.y??0)-z/A[2],await $({x:P,y:z})&&N(i)),o=requestAnimationFrame(M)}function I(A){var U;const{nodeLookup:$,multiSelectionActive:b,nodesDraggable:O,transform:P,snapGrid:z,snapToGrid:C,selectNodesOnDrag:j,onNodeDragStart:L,onSelectionDragStart:H,unselectNodesAndEdges:B}=t();c=!0,(!j||!k)&&!b&&_&&((U=$.get(_))!=null&&U.selected||B()),k&&j&&_&&(e==null||e(_));const Q=Ci(A.sourceEvent,{transform:P,snapGrid:z,snapToGrid:C,containerBounds:d});if(i=Q,a=Jb($,O,Q,_),a.size>0&&(n||L||!_&&H)){const[Y,K]=Eu({nodeId:_,dragItems:a,nodeLookup:$});n==null||n(A.sourceEvent,a,Y,K),L==null||L(A.sourceEvent,Y,K),_||H==null||H(A.sourceEvent,K)}}const R=N0().clickDistance(E).on("start",A=>{const{domNode:$,nodeDragThreshold:b,transform:O,snapGrid:P,snapToGrid:z}=t();d=($==null?void 0:$.getBoundingClientRect())||null,v=!1,g=!1,w=A.sourceEvent,b===0&&I(A),i=Ci(A.sourceEvent,{transform:O,snapGrid:P,snapToGrid:z,containerBounds:d}),u=Lt(A.sourceEvent,d)}).on("drag",A=>{const{autoPanOnNodeDrag:$,transform:b,snapGrid:O,snapToGrid:P,nodeDragThreshold:z,nodeLookup:C}=t(),j=Ci(A.sourceEvent,{transform:b,snapGrid:O,snapToGrid:P,containerBounds:d});if(w=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||_&&!C.has(_))&&(v=!0),!v){if(!l&&$&&c&&(l=!0,M()),!c){const L=Lt(A.sourceEvent,d),H=L.x-u.x,B=L.y-u.y;Math.sqrt(H*H+B*B)>z&&I(A)}(i.x!==j.xSnapped||i.y!==j.ySnapped)&&a&&c&&(u=Lt(A.sourceEvent,d),N(j))}}).on("end",A=>{if(!(!c||v)&&(l=!1,c=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:$,updateNodePositions:b,onNodeDragStop:O,onSelectionDragStop:P}=t();if(g&&(b(a,!1),g=!1),s||O||!_&&P){const[z,C]=Eu({nodeId:_,dragItems:a,nodeLookup:$,dragging:!1});s==null||s(A.sourceEvent,a,z,C),O==null||O(A.sourceEvent,z,C),_||P==null||P(A.sourceEvent,C)}}}).filter(A=>{const $=A.target;return!A.button&&(!m||!Rp($,`.${m}`,x))&&(!p||Rp($,p,x))});h.call(R)}function y(){h==null||h.on(".drag",null)}return{update:S,destroy:y}}function nC(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())Ji(s,Ls(i))>0&&r.push(i);return r}const rC=250;function sC(e,t,n,r){var a,l;let s=[],i=1/0;const o=nC(e,n,t+rC);for(const u of o){const d=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const c of d){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:h,y:v}=zr(u,c,c.position,!0),g=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(v-e.y,2));g>t||(g<i?(s=[{...c,x:h,y:v}],i=g):g===i&&s.push({...c,x:h,y:v}))}}if(!s.length)return null;if(s.length>1){const u=r.type==="source"?"target":"source";return s.find(d=>d.type===u)??s[0]}return s[0]}function cv(e,t,n,r,s,i=!1){var u,d,c;const o=r.get(e);if(!o)return null;const a=s==="strict"?(u=o.internals.handleBounds)==null?void 0:u[t]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((c=o.internals.handleBounds)==null?void 0:c.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&i?{...l,...zr(o,l,l.position,!0)}:l}function dv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function iC(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const fv=()=>!0;function oC(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:d,flowId:c,panBy:h,cancelConnection:v,onConnectStart:g,onConnect:w,onConnectEnd:S,isValidConnection:y=fv,onReconnectEnd:m,updateConnection:p,getTransform:x,getFromHandle:k,autoPanSpeed:_,dragThreshold:E=1,handleDomNode:N}){const M=Z0(e.target);let I=0,R;const{x:A,y:$}=Lt(e),b=dv(i,N),O=a==null?void 0:a.getBoundingClientRect();let P=!1;if(!O||!b)return;const z=cv(s,b,r,l,t);if(!z)return;let C=Lt(e,O),j=!1,L=null,H=!1,B=null;function Q(){if(!d||!O)return;const[re,ne]=X0(C,O,_);h({x:re,y:ne}),I=requestAnimationFrame(Q)}const U={...z,nodeId:s,type:b,position:z.position},Y=l.get(s);let Z={inProgress:!0,isValid:null,from:zr(Y,U,G.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:Y,to:C,toHandle:null,toPosition:wp[U.position],toNode:null,pointer:C};function W(){P=!0,p(Z),g==null||g(e,{nodeId:s,handleId:r,handleType:b})}E===0&&W();function J(re){if(!P){const{x:Ve,y:kn}=Lt(re),nn=Ve-A,sr=kn-$;if(!(nn*nn+sr*sr>E*E))return;W()}if(!k()||!U){ie(re);return}const ne=x();C=Lt(re,O),R=sC(xo(C,ne,!1,[1,1]),n,l,U),j||(Q(),j=!0);const te=hv(re,{handle:R,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:o?"target":"source",isValidConnection:y,doc:M,lib:u,flowId:c,nodeLookup:l});B=te.handleDomNode,L=te.connection,H=iC(!!R,te.isValid);const he=l.get(s),ye=he?zr(he,U,G.Left,!0):Z.from,de={...Z,from:ye,isValid:H,to:te.toHandle&&H?rl({x:te.toHandle.x,y:te.toHandle.y},ne):C,toHandle:te.toHandle,toPosition:H&&te.toHandle?te.toHandle.position:wp[U.position],toNode:te.toHandle?l.get(te.toHandle.nodeId):null,pointer:C};p(de),Z=de}function ie(re){if(!("touches"in re&&re.touches.length>0)){if(P){(R||B)&&L&&H&&(w==null||w(L));const{inProgress:ne,...te}=Z,he={...te,toPosition:Z.toHandle?Z.toPosition:null};S==null||S(re,he),i&&(m==null||m(re,he))}v(),cancelAnimationFrame(I),j=!1,H=!1,L=null,B=null,M.removeEventListener("mousemove",J),M.removeEventListener("mouseup",ie),M.removeEventListener("touchmove",J),M.removeEventListener("touchend",ie)}}M.addEventListener("mousemove",J),M.addEventListener("mouseup",ie),M.addEventListener("touchmove",J),M.addEventListener("touchend",ie)}function hv(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:o,lib:a,flowId:l,isValidConnection:u=fv,nodeLookup:d}){const c=i==="target",h=t?o.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y:g}=Lt(e),w=o.elementFromPoint(v,g),S=w!=null&&w.classList.contains(`${a}-flow__handle`)?w:h,y={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const m=dv(void 0,S),p=S.getAttribute("data-nodeid"),x=S.getAttribute("data-handleid"),k=S.classList.contains("connectable"),_=S.classList.contains("connectableend");if(!p||!m)return y;const E={source:c?p:r,sourceHandle:c?x:s,target:c?r:p,targetHandle:c?s:x};y.connection=E;const M=k&&_&&(n===As.Strict?c&&m==="source"||!c&&m==="target":p!==r||x!==s);y.isValid=M&&u(E),y.toHandle=cv(p,m,x,d,n,!0)}return y}const Gc={onPointerDown:oC,isValid:hv};function aC({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=ft(e);function i({translateExtent:a,width:l,height:u,zoomStep:d=1,pannable:c=!0,zoomable:h=!0,inversePan:v=!1}){const g=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const x=n(),k=p.sourceEvent.ctrlKey&&eo()?10:1,_=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*d,E=x[2]*Math.pow(2,_*k);t.scaleTo(E)};let w=[0,0];const S=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(w=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},y=p=>{const x=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const k=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],_=[k[0]-w[0],k[1]-w[1]];w=k;const E=r()*Math.max(x[2],Math.log(x[2]))*(v?-1:1),N={x:x[0]-_[0]*E,y:x[1]-_[1]*E},M=[[0,0],[l,u]];t.setViewportConstrained({x:N.x,y:N.y,zoom:x[2]},M,a)},m=$0().on("start",S).on("zoom",c?y:null).on("zoom.wheel",h?g:null);s.call(m,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Rt}}const Rl=e=>({x:e.x,y:e.y,zoom:e.k}),Nu=({x:e,y:t,zoom:n})=>jl.translate(e,t).scale(n),rs=(e,t)=>e.target.closest(`.${t}`),pv=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),lC=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,bu=(e,t=0,n=lC,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},mv=e=>{const t=e.ctrlKey&&eo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function uC({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return d=>{if(rs(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(d.ctrlKey&&o){const S=Rt(d),y=mv(d),m=c*Math.pow(2,y);r.scaleTo(n,m,S,d);return}const h=d.deltaMode===1?20:1;let v=s===Cr.Vertical?0:d.deltaX*h,g=s===Cr.Horizontal?0:d.deltaY*h;!eo()&&d.shiftKey&&s!==Cr.Vertical&&(v=d.deltaY*h,g=0),r.translateBy(n,-(v/c)*i,-(g/c)*i,{internal:!0});const w=Rl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(d,w),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,w),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a==null||a(d,w))}}function cC({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,a=rs(r,e);if(r.ctrlKey&&i&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,s)}}function dC({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,a;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Rl(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function fC({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var o,a;e.usedRightMouseButton=!!(n&&pv(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((a=i.sourceEvent)!=null&&a.internal)&&(s==null||s(i.sourceEvent,Rl(i.transform)))}}function hC({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&pv(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const l=Rl(o.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(o.sourceEvent,l)},n?150:0)}}}function pC({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:u,connectionInProgress:d}){return c=>{var S;const h=e||t,v=n&&c.ctrlKey,g=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(rs(c,`${u}-flow__node`)||rs(c,`${u}-flow__edge`)))return!0;if(!r&&!h&&!s&&!i&&!n||o||d&&!g||rs(c,a)&&g||rs(c,l)&&(!g||s&&g&&!e)||!n&&c.ctrlKey&&g)return!1;if(!n&&c.type==="touchstart"&&((S=c.touches)==null?void 0:S.length)>1)return c.preventDefault(),!1;if(!h&&!s&&!v&&g||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const w=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||g)&&w}}function mC({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),c=$0().scaleExtent([t,n]).translateExtent(r),h=ft(e).call(c);m({x:s.x,y:s.y,zoom:Os(s.zoom,t,n)},[[0,0],[d.width,d.height]],r);const v=h.on("wheel.zoom"),g=h.on("dblclick.zoom");c.wheelDelta(mv);function w(R,A){return h?new Promise($=>{c==null||c.interpolate((A==null?void 0:A.interpolate)==="linear"?bi:ma).transform(bu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>$(!0)),R)}):Promise.resolve(!1)}function S({noWheelClassName:R,noPanClassName:A,onPaneContextMenu:$,userSelectionActive:b,panOnScroll:O,panOnDrag:P,panOnScrollMode:z,panOnScrollSpeed:C,preventScrolling:j,zoomOnPinch:L,zoomOnScroll:H,zoomOnDoubleClick:B,zoomActivationKeyPressed:Q,lib:U,onTransformChange:Y,connectionInProgress:K,paneClickDistance:Z,selectionOnDrag:W}){b&&!u.isZoomingOrPanning&&y();const J=O&&!Q&&!b;c.clickDistance(W?1/0:!Ot(Z)||Z<0?0:Z);const ie=J?uC({zoomPanValues:u,noWheelClassName:R,d3Selection:h,d3Zoom:c,panOnScrollMode:z,panOnScrollSpeed:C,zoomOnPinch:L,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:a}):cC({noWheelClassName:R,preventScrolling:j,d3ZoomHandler:v});if(h.on("wheel.zoom",ie,{passive:!1}),!b){const ne=dC({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:o});c.on("start",ne);const te=fC({zoomPanValues:u,panOnDrag:P,onPaneContextMenu:!!$,onPanZoom:i,onTransformChange:Y});c.on("zoom",te);const he=hC({zoomPanValues:u,panOnDrag:P,panOnScroll:O,onPaneContextMenu:$,onPanZoomEnd:a,onDraggingChange:l});c.on("end",he)}const re=pC({zoomActivationKeyPressed:Q,panOnDrag:P,zoomOnScroll:H,panOnScroll:O,zoomOnDoubleClick:B,zoomOnPinch:L,userSelectionActive:b,noPanClassName:A,noWheelClassName:R,lib:U,connectionInProgress:K});c.filter(re),B?h.on("dblclick.zoom",g):h.on("dblclick.zoom",null)}function y(){c.on("zoom",null)}async function m(R,A,$){const b=Nu(R),O=c==null?void 0:c.constrain()(b,A,$);return O&&await w(O),new Promise(P=>P(O))}async function p(R,A){const $=Nu(R);return await w($,A),new Promise(b=>b($))}function x(R){if(h){const A=Nu(R),$=h.property("__zoom");($.k!==R.zoom||$.x!==R.x||$.y!==R.y)&&(c==null||c.transform(h,A,null,{sync:!0}))}}function k(){const R=h?F0(h.node()):{x:0,y:0,k:1};return{x:R.x,y:R.y,zoom:R.k}}function _(R,A){return h?new Promise($=>{c==null||c.interpolate((A==null?void 0:A.interpolate)==="linear"?bi:ma).scaleTo(bu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>$(!0)),R)}):Promise.resolve(!1)}function E(R,A){return h?new Promise($=>{c==null||c.interpolate((A==null?void 0:A.interpolate)==="linear"?bi:ma).scaleBy(bu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>$(!0)),R)}):Promise.resolve(!1)}function N(R){c==null||c.scaleExtent(R)}function M(R){c==null||c.translateExtent(R)}function I(R){const A=!Ot(R)||R<0?0:R;c==null||c.clickDistance(A)}return{update:S,destroy:y,setViewport:p,setViewportConstrained:m,getViewport:k,scaleTo:_,scaleBy:E,setScaleExtent:N,setTranslateExtent:M,syncViewport:x,setClickDistance:I}}var Fs;(function(e){e.Line="line",e.Handle="handle"})(Fs||(Fs={}));function gC({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const o=e-t,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&s&&(l[0]=l[0]*-1),a&&i&&(l[1]=l[1]*-1),l}function Ip(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function Nn(e,t){return Math.max(0,t-e)}function bn(e,t){return Math.max(0,e-t)}function Zo(e,t,n){return Math.max(0,t-e,e-n)}function Dp(e,t){return e?!t:t}function yC(e,t,n,r,s,i,o,a){let{affectsX:l,affectsY:u}=t;const{isHorizontal:d,isVertical:c}=t,h=d&&c,{xSnapped:v,ySnapped:g}=n,{minWidth:w,maxWidth:S,minHeight:y,maxHeight:m}=r,{x:p,y:x,width:k,height:_,aspectRatio:E}=e;let N=Math.floor(d?v-e.pointerX:0),M=Math.floor(c?g-e.pointerY:0);const I=k+(l?-N:N),R=_+(u?-M:M),A=-i[0]*k,$=-i[1]*_;let b=Zo(I,w,S),O=Zo(R,y,m);if(o){let C=0,j=0;l&&N<0?C=Nn(p+N+A,o[0][0]):!l&&N>0&&(C=bn(p+I+A,o[1][0])),u&&M<0?j=Nn(x+M+$,o[0][1]):!u&&M>0&&(j=bn(x+R+$,o[1][1])),b=Math.max(b,C),O=Math.max(O,j)}if(a){let C=0,j=0;l&&N>0?C=bn(p+N,a[0][0]):!l&&N<0&&(C=Nn(p+I,a[1][0])),u&&M>0?j=bn(x+M,a[0][1]):!u&&M<0&&(j=Nn(x+R,a[1][1])),b=Math.max(b,C),O=Math.max(O,j)}if(s){if(d){const C=Zo(I/E,y,m)*E;if(b=Math.max(b,C),o){let j=0;!l&&!u||l&&!u&&h?j=bn(x+$+I/E,o[1][1])*E:j=Nn(x+$+(l?N:-N)/E,o[0][1])*E,b=Math.max(b,j)}if(a){let j=0;!l&&!u||l&&!u&&h?j=Nn(x+I/E,a[1][1])*E:j=bn(x+(l?N:-N)/E,a[0][1])*E,b=Math.max(b,j)}}if(c){const C=Zo(R*E,w,S)/E;if(O=Math.max(O,C),o){let j=0;!l&&!u||u&&!l&&h?j=bn(p+R*E+A,o[1][0])/E:j=Nn(p+(u?M:-M)*E+A,o[0][0])/E,O=Math.max(O,j)}if(a){let j=0;!l&&!u||u&&!l&&h?j=Nn(p+R*E,a[1][0])/E:j=bn(p+(u?M:-M)*E,a[0][0])/E,O=Math.max(O,j)}}}M=M+(M<0?O:-O),N=N+(N<0?b:-b),s&&(h?I>R*E?M=(Dp(l,u)?-N:N)/E:N=(Dp(l,u)?-M:M)*E:d?(M=N/E,u=l):(N=M*E,l=u));const P=l?p+N:p,z=u?x+M:x;return{width:k+(l?-N:N),height:_+(u?-M:M),x:i[0]*N*(l?-1:1)+P,y:i[1]*M*(u?-1:1)+z}}const gv={width:0,height:0,x:0,y:0},vC={...gv,pointerX:0,pointerY:0,aspectRatio:1};function xC(e){return[[0,0],[e.measured.width,e.measured.height]]}function wC(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,a=n[0]*i,l=n[1]*o;return[[r-a,s-l],[r+i-a,s+o-l]]}function SC({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=ft(e);let o={controlDirection:Ip("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:u,boundaries:d,keepAspectRatio:c,resizeDirection:h,onResizeStart:v,onResize:g,onResizeEnd:w,shouldResize:S}){let y={...gv},m={...vC};o={boundaries:d,resizeDirection:h,keepAspectRatio:c,controlDirection:Ip(u)};let p,x=null,k=[],_,E,N,M=!1;const I=N0().on("start",R=>{const{nodeLookup:A,transform:$,snapGrid:b,snapToGrid:O,nodeOrigin:P,paneDomNode:z}=n();if(p=A.get(t),!p)return;x=(z==null?void 0:z.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:j}=Ci(R.sourceEvent,{transform:$,snapGrid:b,snapToGrid:O,containerBounds:x});y={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},m={...y,pointerX:C,pointerY:j,aspectRatio:y.width/y.height},_=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(_=A.get(p.parentId),E=_&&p.extent==="parent"?xC(_):void 0),k=[],N=void 0;for(const[L,H]of A)if(H.parentId===t&&(k.push({id:L,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const B=wC(H,p,H.origin??P);N?N=[[Math.min(B[0][0],N[0][0]),Math.min(B[0][1],N[0][1])],[Math.max(B[1][0],N[1][0]),Math.max(B[1][1],N[1][1])]]:N=B}v==null||v(R,{...y})}).on("drag",R=>{const{transform:A,snapGrid:$,snapToGrid:b,nodeOrigin:O}=n(),P=Ci(R.sourceEvent,{transform:A,snapGrid:$,snapToGrid:b,containerBounds:x}),z=[];if(!p)return;const{x:C,y:j,width:L,height:H}=y,B={},Q=p.origin??O,{width:U,height:Y,x:K,y:Z}=yC(m,o.controlDirection,P,o.boundaries,o.keepAspectRatio,Q,E,N),W=U!==L,J=Y!==H,ie=K!==C&&W,re=Z!==j&&J;if(!ie&&!re&&!W&&!J)return;if((ie||re||Q[0]===1||Q[1]===1)&&(B.x=ie?K:y.x,B.y=re?Z:y.y,y.x=B.x,y.y=B.y,k.length>0)){const ye=K-C,de=Z-j;for(const Ve of k)Ve.position={x:Ve.position.x-ye+Q[0]*(U-L),y:Ve.position.y-de+Q[1]*(Y-H)},z.push(Ve)}if((W||J)&&(B.width=W&&(!o.resizeDirection||o.resizeDirection==="horizontal")?U:y.width,B.height=J&&(!o.resizeDirection||o.resizeDirection==="vertical")?Y:y.height,y.width=B.width,y.height=B.height),_&&p.expandParent){const ye=Q[0]*(B.width??0);B.x&&B.x<ye&&(y.x=ye,m.x=m.x-(B.x-ye));const de=Q[1]*(B.height??0);B.y&&B.y<de&&(y.y=de,m.y=m.y-(B.y-de))}const ne=gC({width:y.width,prevWidth:L,height:y.height,prevHeight:H,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),te={...y,direction:ne};(S==null?void 0:S(R,te))!==!1&&(M=!0,g==null||g(R,te),r(B,z))}).on("end",R=>{M&&(w==null||w(R,{...y}),s==null||s({...y}),M=!1)});i.call(I)}function l(){i.on(".drag",null)}return{update:a,destroy:l}}const{useDebugValue:_C}=At,{useSyncExternalStoreWithSelector:kC}=u0,EC=e=>e;function yv(e,t=EC,n){const r=kC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return _C(r),r}const Ap=(e,t)=>{const n=s0(e),r=(s,i=t)=>yv(n,s,i);return Object.assign(r,n),r},NC=(e,t)=>e?Ap(e,t):Ap;function Se(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Il=D.createContext(null),bC=Il.Provider,vv=en.error001();function ue(e,t){const n=D.useContext(Il);if(n===null)throw new Error(vv);return yv(n,e,t)}function _e(){const e=D.useContext(Il);if(e===null)throw new Error(vv);return D.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Op={display:"none"},CC={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},xv="react-flow__node-desc",wv="react-flow__edge-desc",jC="react-flow__aria-live",TC=e=>e.ariaLiveMessage,MC=e=>e.ariaLabelConfig;function PC({rfId:e}){const t=ue(TC);return f.jsx("div",{id:`${jC}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:CC,children:t})}function RC({rfId:e,disableKeyboardA11y:t}){const n=ue(MC);return f.jsxs(f.Fragment,{children:[f.jsx("div",{id:`${xv}-${e}`,style:Op,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),f.jsx("div",{id:`${wv}-${e}`,style:Op,children:n["edge.a11yDescription.default"]}),!t&&f.jsx(PC,{rfId:e})]})}const Dl=D.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const o=`${e}`.split("-");return f.jsx("div",{className:Re(["react-flow__panel",n,...o]),style:r,ref:i,...s,children:t})});Dl.displayName="Panel";function IC({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:f.jsx(Dl,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:f.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const DC=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Jo=e=>e.id;function AC(e,t){return Se(e.selectedNodes.map(Jo),t.selectedNodes.map(Jo))&&Se(e.selectedEdges.map(Jo),t.selectedEdges.map(Jo))}function OC({onSelectionChange:e}){const t=_e(),{selectedNodes:n,selectedEdges:r}=ue(DC,AC);return D.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const LC=e=>!!e.onSelectionChangeHandlers;function zC({onSelectionChange:e}){const t=ue(LC);return e||t?f.jsx(OC,{onSelectionChange:e}):null}const Sv=[0,0],FC={x:0,y:0,zoom:1},$C=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Lp=[...$C,"rfId"],HC=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),zp={translateExtent:Gi,nodeOrigin:Sv,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function BC(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l}=ue(HC,Se),u=_e();D.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{d.current=zp,a()}),[]);const d=D.useRef(zp);return D.useEffect(()=>{for(const c of Lp){const h=e[c],v=d.current[c];h!==v&&(typeof e[c]>"u"||(c==="nodes"?t(h):c==="edges"?n(h):c==="minZoom"?r(h):c==="maxZoom"?s(h):c==="translateExtent"?i(h):c==="nodeExtent"?o(h):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:Db(h)}):c==="fitView"?u.setState({fitViewQueued:h}):c==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[c]:h})))}d.current=e},Lp.map(c=>e[c])),null}function Fp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function VC(e){var r;const[t,n]=D.useState(e==="system"?null:e);return D.useEffect(()=>{if(e!=="system"){n(e);return}const s=Fp(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=Fp())!=null&&r.matches?"dark":"light"}const $p=typeof document<"u"?document:null;function to(e=null,t={target:$p,actInsideInputWithModifier:!0}){const[n,r]=D.useState(!1),s=D.useRef(!1),i=D.useRef(new Set([])),[o,a]=D.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((c,h)=>c.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return D.useEffect(()=>{const l=(t==null?void 0:t.target)??$p,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=v=>{var S,y;if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!u)&&J0(v))return!1;const w=Bp(v.code,a);if(i.current.add(v[w]),Hp(o,i.current,!1)){const m=((y=(S=v.composedPath)==null?void 0:S.call(v))==null?void 0:y[0])||v.target,p=(m==null?void 0:m.nodeName)==="BUTTON"||(m==null?void 0:m.nodeName)==="A";t.preventDefault!==!1&&(s.current||!p)&&v.preventDefault(),r(!0)}},c=v=>{const g=Bp(v.code,a);Hp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(v[g]),v.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",d),l==null||l.addEventListener("keyup",c),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",d),l==null||l.removeEventListener("keyup",c),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function Hp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function Bp(e,t){return t.includes(e)?"code":"key"}const UC=()=>{const e=_e();return D.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:o,panZoom:a}=e.getState(),l=ff(t,r,s,i,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:a,y:l}=o.getBoundingClientRect(),u={x:t.x-a,y:t.y-l},d=n.snapGrid??s,c=n.snapToGrid??i;return xo(u,r,c,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),o=rl(t,n);return{x:o.x+s,y:o.y+i}}}),[])};function _v(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...i};for(const l of o)WC(l,a);n.push(a)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function WC(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function kv(e,t){return _v(e,t)}function Ev(e,t){return _v(e,t)}function ar(e,t){return{id:e,type:"select",selected:t}}function ss(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const o=t.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(ar(i.id,o)))}return r}function Vp({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const a=t.get(o.id),l=((s=a==null?void 0:a.internals)==null?void 0:s.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Up(e){return{id:e.id,type:"remove"}}const Wp=e=>Eb(e),QC=e=>W0(e);function Nv(e){return D.forwardRef(e)}const qC=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Qp(e){const[t,n]=D.useState(BigInt(0)),[r]=D.useState(()=>XC(()=>n(s=>s+BigInt(1))));return qC(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function XC(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const bv=D.createContext(null);function YC({children:e}){const t=_e(),n=D.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:d,onNodesChange:c,nodeLookup:h,fitViewQueued:v,onNodesChangeMiddlewareMap:g}=t.getState();let w=l;for(const y of a)w=typeof y=="function"?y(w):y;let S=Vp({items:w,lookup:h});for(const y of g.values())S=y(S);d&&u(w),S.length>0?c==null||c(S):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:m,setNodes:p}=t.getState();y&&p(m)})},[]),r=Qp(n),s=D.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:c,edgeLookup:h}=t.getState();let v=l;for(const g of a)v=typeof g=="function"?g(v):g;d?u(v):c&&c(Vp({items:v,lookup:h}))},[]),i=Qp(s),o=D.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return f.jsx(bv.Provider,{value:o,children:e})}function KC(){const e=D.useContext(bv);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const GC=e=>!!e.panZoom;function Qs(){const e=UC(),t=_e(),n=KC(),r=ue(GC),s=D.useMemo(()=>{const i=c=>t.getState().nodeLookup.get(c),o=c=>{n.nodeQueue.push(c)},a=c=>{n.edgeQueue.push(c)},l=c=>{var y,m;const{nodeLookup:h,nodeOrigin:v}=t.getState(),g=Wp(c)?c:h.get(c.id),w=g.parentId?G0(g.position,g.measured,g.parentId,h,v):g.position,S={...g,position:w,width:((y=g.measured)==null?void 0:y.width)??g.width,height:((m=g.measured)==null?void 0:m.height)??g.height};return Ls(S)},u=(c,h,v={replace:!1})=>{o(g=>g.map(w=>{if(w.id===c){const S=typeof h=="function"?h(w):h;return v.replace&&Wp(S)?S:{...w,...S}}return w}))},d=(c,h,v={replace:!1})=>{a(g=>g.map(w=>{if(w.id===c){const S=typeof h=="function"?h(w):h;return v.replace&&QC(S)?S:{...w,...S}}return w}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var h;return(h=i(c))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(h=>({...h}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:o,setEdges:a,addNodes:c=>{const h=Array.isArray(c)?c:[c];n.nodeQueue.push(v=>[...v,...h])},addEdges:c=>{const h=Array.isArray(c)?c:[c];n.edgeQueue.push(v=>[...v,...h])},toObject:()=>{const{nodes:c=[],edges:h=[],transform:v}=t.getState(),[g,w,S]=v;return{nodes:c.map(y=>({...y})),edges:h.map(y=>({...y})),viewport:{x:g,y:w,zoom:S}}},deleteElements:async({nodes:c=[],edges:h=[]})=>{const{nodes:v,edges:g,onNodesDelete:w,onEdgesDelete:S,triggerNodeChanges:y,triggerEdgeChanges:m,onDelete:p,onBeforeDelete:x}=t.getState(),{nodes:k,edges:_}=await Tb({nodesToRemove:c,edgesToRemove:h,nodes:v,edges:g,onBeforeDelete:x}),E=_.length>0,N=k.length>0;if(E){const M=_.map(Up);S==null||S(_),m(M)}if(N){const M=k.map(Up);w==null||w(k),y(M)}return(N||E)&&(p==null||p({nodes:k,edges:_})),{deletedNodes:k,deletedEdges:_}},getIntersectingNodes:(c,h=!0,v)=>{const g=_p(c),w=g?c:l(c),S=v!==void 0;return w?(v||t.getState().nodes).filter(y=>{const m=t.getState().nodeLookup.get(y.id);if(m&&!g&&(y.id===c.id||!m.internals.positionAbsolute))return!1;const p=Ls(S?y:m),x=Ji(p,w);return h&&x>0||x>=p.width*p.height||x>=w.width*w.height}):[]},isNodeIntersecting:(c,h,v=!0)=>{const w=_p(c)?c:l(c);if(!w)return!1;const S=Ji(w,h);return v&&S>0||S>=h.width*h.height||S>=w.width*w.height},updateNode:u,updateNodeData:(c,h,v={replace:!1})=>{u(c,g=>{const w=typeof h=="function"?h(g):h;return v.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},v)},updateEdge:d,updateEdgeData:(c,h,v={replace:!1})=>{d(c,g=>{const w=typeof h=="function"?h(g):h;return v.replace?{...g,data:w}:{...g,data:{...g.data,...w}}},v)},getNodesBounds:c=>{const{nodeLookup:h,nodeOrigin:v}=t.getState();return Nb(c,{nodeLookup:h,nodeOrigin:v})},getHandleConnections:({type:c,id:h,nodeId:v})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${v}-${c}${h?`-${h}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:c,handleId:h,nodeId:v})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${v}${c?h?`-${c}-${h}`:`-${c}`:""}`))==null?void 0:g.values())??[])},fitView:async c=>{const h=t.getState().fitViewResolver??Ib();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:h}),n.nodeQueue.push(v=>[...v]),h.promise}}},[]);return D.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const qp=e=>e.selected,ZC=typeof window<"u"?window:void 0;function JC({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=_e(),{deleteElements:r}=Qs(),s=to(e,{actInsideInputWithModifier:!1}),i=to(t,{target:ZC});D.useEffect(()=>{if(s){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(qp),edges:o.filter(qp)}),n.setState({nodesSelectionActive:!1})}},[s]),D.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function ej(e){const t=_e();D.useEffect(()=>{const n=()=>{var s,i,o,a;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=hf(e.current);(r.height===0||r.width===0)&&((a=(o=t.getState()).onError)==null||a.call(o,"004",en.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Al={position:"absolute",width:"100%",height:"100%",top:0,left:0},tj=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function nj({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Cr.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:d,maxZoom:c,zoomActivationKeyCode:h,preventScrolling:v=!0,children:g,noWheelClassName:w,noPanClassName:S,onViewportChange:y,isControlledViewport:m,paneClickDistance:p,selectionOnDrag:x}){const k=_e(),_=D.useRef(null),{userSelectionActive:E,lib:N,connectionInProgress:M}=ue(tj,Se),I=to(h),R=D.useRef();ej(_);const A=D.useCallback($=>{y==null||y({x:$[0],y:$[1],zoom:$[2]}),m||k.setState({transform:$})},[y,m]);return D.useEffect(()=>{if(_.current){R.current=mC({domNode:_.current,minZoom:d,maxZoom:c,translateExtent:u,viewport:l,onDraggingChange:P=>k.setState({paneDragging:P}),onPanZoomStart:(P,z)=>{const{onViewportChangeStart:C,onMoveStart:j}=k.getState();j==null||j(P,z),C==null||C(z)},onPanZoom:(P,z)=>{const{onViewportChange:C,onMove:j}=k.getState();j==null||j(P,z),C==null||C(z)},onPanZoomEnd:(P,z)=>{const{onViewportChangeEnd:C,onMoveEnd:j}=k.getState();j==null||j(P,z),C==null||C(z)}});const{x:$,y:b,zoom:O}=R.current.getViewport();return k.setState({panZoom:R.current,transform:[$,b,O],domNode:_.current.closest(".react-flow")}),()=>{var P;(P=R.current)==null||P.destroy()}}},[]),D.useEffect(()=>{var $;($=R.current)==null||$.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:I,preventScrolling:v,noPanClassName:S,userSelectionActive:E,noWheelClassName:w,lib:N,onTransformChange:A,connectionInProgress:M,selectionOnDrag:x,paneClickDistance:p})},[e,t,n,r,s,i,o,a,I,v,S,E,w,N,A,M,x,p]),f.jsx("div",{className:"react-flow__renderer",ref:_,style:Al,children:g})}const rj=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sj(){const{userSelectionActive:e,userSelectionRect:t}=ue(rj,Se);return e&&t?f.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Cu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},ij=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function oj({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Zi.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:c,onPaneMouseMove:h,onPaneMouseLeave:v,children:g}){const w=_e(),{userSelectionActive:S,elementsSelectable:y,dragging:m,connectionInProgress:p}=ue(ij,Se),x=y&&(e||S),k=D.useRef(null),_=D.useRef(),E=D.useRef(new Set),N=D.useRef(new Set),M=D.useRef(!1),I=C=>{if(M.current||p){M.current=!1;return}l==null||l(C),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},R=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},A=d?C=>d(C):void 0,$=C=>{M.current&&(C.stopPropagation(),M.current=!1)},b=C=>{var Y,K;const{domNode:j}=w.getState();if(_.current=j==null?void 0:j.getBoundingClientRect(),!_.current)return;const L=C.target===k.current;if(!L&&!!C.target.closest(".nokey")||!e||!(i&&L||t)||C.button!==0||!C.isPrimary)return;(K=(Y=C.target)==null?void 0:Y.setPointerCapture)==null||K.call(Y,C.pointerId),M.current=!1;const{x:Q,y:U}=Lt(C.nativeEvent,_.current);w.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:U,x:Q,y:U}}),L||(C.stopPropagation(),C.preventDefault())},O=C=>{const{userSelectionRect:j,transform:L,nodeLookup:H,edgeLookup:B,connectionLookup:Q,triggerNodeChanges:U,triggerEdgeChanges:Y,defaultEdgeOptions:K,resetSelectedElements:Z}=w.getState();if(!_.current||!j)return;const{x:W,y:J}=Lt(C.nativeEvent,_.current),{startX:ie,startY:re}=j;if(!M.current){const de=t?0:s;if(Math.hypot(W-ie,J-re)<=de)return;Z(),o==null||o(C)}M.current=!0;const ne={startX:ie,startY:re,x:W<ie?W:ie,y:J<re?J:re,width:Math.abs(W-ie),height:Math.abs(J-re)},te=E.current,he=N.current;E.current=new Set(df(H,ne,L,n===Zi.Partial,!0).map(de=>de.id)),N.current=new Set;const ye=(K==null?void 0:K.selectable)??!0;for(const de of E.current){const Ve=Q.get(de);if(Ve)for(const{edgeId:kn}of Ve.values()){const nn=B.get(kn);nn&&(nn.selectable??ye)&&N.current.add(kn)}}if(!kp(te,E.current)){const de=ss(H,E.current,!0);U(de)}if(!kp(he,N.current)){const de=ss(B,N.current);Y(de)}w.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},P=C=>{var j,L;C.button===0&&((L=(j=C.target)==null?void 0:j.releasePointerCapture)==null||L.call(j,C.pointerId),!S&&C.target===k.current&&w.getState().userSelectionRect&&(I==null||I(C)),w.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(a==null||a(C),w.setState({nodesSelectionActive:E.current.size>0})))},z=r===!0||Array.isArray(r)&&r.includes(0);return f.jsxs("div",{className:Re(["react-flow__pane",{draggable:z,dragging:m,selection:e}]),onClick:x?void 0:Cu(I,k),onContextMenu:Cu(R,k),onWheel:Cu(A,k),onPointerEnter:x?void 0:c,onPointerMove:x?O:h,onPointerUp:x?P:void 0,onPointerDownCapture:x?b:void 0,onClickCapture:x?$:void 0,onPointerLeave:v,ref:k,style:Al,children:[g,f.jsx(sj,{})]})}function Zc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:a,onError:l}=t.getState(),u=a.get(e);if(!u){l==null||l("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function Cv({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:o}){const a=_e(),[l,u]=D.useState(!1),d=D.useRef();return D.useEffect(()=>{d.current=tC({getStoreItems:()=>a.getState(),onNodeMouseDown:c=>{Zc({id:c,store:a,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),D.useEffect(()=>{var c,h;if(t)(c=d.current)==null||c.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{var v;(v=d.current)==null||v.destroy()}},[n,r,t,i,e,s]),l}const aj=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function jv(){const e=_e();return D.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:d}=e.getState(),c=new Map,h=aj(o),v=s?i[0]:5,g=s?i[1]:5,w=n.direction.x*v*n.factor,S=n.direction.y*g*n.factor;for(const[,y]of u){if(!h(y))continue;let m={x:y.internals.positionAbsolute.x+w,y:y.internals.positionAbsolute.y+S};s&&(m=vo(m,i));const{position:p,positionAbsolute:x}=Q0({nodeId:y.id,nextPosition:m,nodeLookup:u,nodeExtent:r,nodeOrigin:d,onError:a});y.position=p,y.internals.positionAbsolute=x,c.set(y.id,y)}l(c)},[])}const xf=D.createContext(null),lj=xf.Provider;xf.Consumer;const Tv=()=>D.useContext(xf),uj=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),cj=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=r,{fromHandle:a,toHandle:l,isValid:u}=o,d=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===As.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!s,valid:d&&u}};function dj({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:d,onTouchStart:c,...h},v){var O,P;const g=o||null,w=e==="target",S=_e(),y=Tv(),{connectOnClick:m,noPanClassName:p,rfId:x}=ue(uj,Se),{connectingFrom:k,connectingTo:_,clickConnecting:E,isPossibleEndHandle:N,connectionInProcess:M,clickConnectionInProcess:I,valid:R}=ue(cj(y,g,e),Se);y||(P=(O=S.getState()).onError)==null||P.call(O,"010",en.error010());const A=z=>{const{defaultEdgeOptions:C,onConnect:j,hasDefaultEdges:L}=S.getState(),H={...C,...z};if(L){const{edges:B,setEdges:Q}=S.getState();Q(sv(H,B))}j==null||j(H),a==null||a(H)},$=z=>{if(!y)return;const C=ev(z.nativeEvent);if(s&&(C&&z.button===0||!C)){const j=S.getState();Gc.onPointerDown(z.nativeEvent,{handleDomNode:z.currentTarget,autoPanOnConnect:j.autoPanOnConnect,connectionMode:j.connectionMode,connectionRadius:j.connectionRadius,domNode:j.domNode,nodeLookup:j.nodeLookup,lib:j.lib,isTarget:w,handleId:g,nodeId:y,flowId:j.rfId,panBy:j.panBy,cancelConnection:j.cancelConnection,onConnectStart:j.onConnectStart,onConnectEnd:j.onConnectEnd,updateConnection:j.updateConnection,onConnect:A,isValidConnection:n||j.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:j.autoPanSpeed,dragThreshold:j.connectionDragThreshold})}C?d==null||d(z):c==null||c(z)},b=z=>{const{onClickConnectStart:C,onClickConnectEnd:j,connectionClickStartHandle:L,connectionMode:H,isValidConnection:B,lib:Q,rfId:U,nodeLookup:Y,connection:K}=S.getState();if(!y||!L&&!s)return;if(!L){C==null||C(z.nativeEvent,{nodeId:y,handleId:g,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:y,type:e,id:g}});return}const Z=Z0(z.target),W=n||B,{connection:J,isValid:ie}=Gc.isValid(z.nativeEvent,{handle:{nodeId:y,id:g,type:e},connectionMode:H,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:W,flowId:U,doc:Z,lib:Q,nodeLookup:Y});ie&&J&&A(J);const re=structuredClone(K);delete re.inProgress,re.toPosition=re.toHandle?re.toHandle.position:null,j==null||j(z,re),S.setState({connectionClickStartHandle:null})};return f.jsx("div",{"data-handleid":g,"data-nodeid":y,"data-handlepos":t,"data-id":`${x}-${y}-${g}-${e}`,className:Re(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,u,{source:!w,target:w,connectable:r,connectablestart:s,connectableend:i,clickconnecting:E,connectingfrom:k,connectingto:_,valid:R,connectionindicator:r&&(!M||N)&&(M||I?i:s)}]),onMouseDown:$,onTouchStart:$,onClick:m?b:void 0,ref:v,...h,children:l})}const $s=D.memo(Nv(dj));function fj({data:e,isConnectable:t,sourcePosition:n=G.Bottom}){return f.jsxs(f.Fragment,{children:[e==null?void 0:e.label,f.jsx($s,{type:"source",position:n,isConnectable:t})]})}function hj({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom}){return f.jsxs(f.Fragment,{children:[f.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,f.jsx($s,{type:"source",position:r,isConnectable:t})]})}function pj(){return null}function mj({data:e,isConnectable:t,targetPosition:n=G.Top}){return f.jsxs(f.Fragment,{children:[f.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const il={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Xp={input:fj,default:hj,output:mj,group:pj};function gj(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const yj=e=>{const{width:t,height:n,x:r,y:s}=yo(e.nodeLookup,{filter:i=>!!i.selected});return{width:Ot(t)?t:null,height:Ot(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function vj({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=_e(),{width:s,height:i,transformString:o,userSelectionActive:a}=ue(yj,Se),l=jv(),u=D.useRef(null);if(D.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),Cv({nodeRef:u}),a||!s||!i)return null;const d=e?h=>{const v=r.getState().nodes.filter(g=>g.selected);e(h,v)}:void 0,c=h=>{Object.prototype.hasOwnProperty.call(il,h.key)&&(h.preventDefault(),l({direction:il[h.key],factor:h.shiftKey?4:1}))};return f.jsx("div",{className:Re(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:f.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:s,height:i}})})}const Yp=typeof window<"u"?window:void 0,xj=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Mv({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:d,selectionMode:c,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:g,panActivationKeyCode:w,zoomActivationKeyCode:S,elementsSelectable:y,zoomOnScroll:m,zoomOnPinch:p,panOnScroll:x,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:E,panOnDrag:N,defaultViewport:M,translateExtent:I,minZoom:R,maxZoom:A,preventScrolling:$,onSelectionContextMenu:b,noWheelClassName:O,noPanClassName:P,disableKeyboardA11y:z,onViewportChange:C,isControlledViewport:j}){const{nodesSelectionActive:L,userSelectionActive:H}=ue(xj,Se),B=to(u,{target:Yp}),Q=to(w,{target:Yp}),U=Q||N,Y=Q||x,K=d&&U!==!0,Z=B||H||K;return JC({deleteKeyCode:l,multiSelectionKeyCode:g}),f.jsx(nj,{onPaneContextMenu:i,elementsSelectable:y,zoomOnScroll:m,zoomOnPinch:p,panOnScroll:Y,panOnScrollSpeed:k,panOnScrollMode:_,zoomOnDoubleClick:E,panOnDrag:!B&&U,defaultViewport:M,translateExtent:I,minZoom:R,maxZoom:A,zoomActivationKeyCode:S,preventScrolling:$,noWheelClassName:O,noPanClassName:P,onViewportChange:C,isControlledViewport:j,paneClickDistance:a,selectionOnDrag:K,children:f.jsxs(oj,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:U,isSelecting:!!Z,selectionMode:c,selectionKeyPressed:B,paneClickDistance:a,selectionOnDrag:K,children:[e,L&&f.jsx(vj,{onSelectionContextMenu:b,noPanClassName:P,disableKeyboardA11y:z})]})})}Mv.displayName="FlowRenderer";const wj=D.memo(Mv),Sj=e=>t=>e?df(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function _j(e){return ue(D.useCallback(Sj(e),[e]),Se)}const kj=e=>e.updateNodeInternals;function Ej(){const e=ue(kj),[t]=D.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return D.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Nj({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=_e(),i=D.useRef(null),o=D.useRef(null),a=D.useRef(e.sourcePosition),l=D.useRef(e.targetPosition),u=D.useRef(t),d=n&&!!e.internals.handleBounds;return D.useEffect(()=>{i.current&&!e.hidden&&(!d||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[d,e.hidden]),D.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),D.useEffect(()=>{if(i.current){const c=u.current!==t,h=a.current!==e.sourcePosition,v=l.current!==e.targetPosition;(c||h||v)&&(u.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function bj({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:d,resizeObserver:c,noDragClassName:h,noPanClassName:v,disableKeyboardA11y:g,rfId:w,nodeTypes:S,nodeClickDistance:y,onError:m}){const{node:p,internals:x,isParent:k}=ue(W=>{const J=W.nodeLookup.get(e),ie=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:ie}},Se);let _=p.type||"default",E=(S==null?void 0:S[_])||Xp[_];E===void 0&&(m==null||m("003",en.error003(_)),_="default",E=(S==null?void 0:S.default)||Xp.default);const N=!!(p.draggable||a&&typeof p.draggable>"u"),M=!!(p.selectable||l&&typeof p.selectable>"u"),I=!!(p.connectable||u&&typeof p.connectable>"u"),R=!!(p.focusable||d&&typeof p.focusable>"u"),A=_e(),$=K0(p),b=Nj({node:p,nodeType:_,hasDimensions:$,resizeObserver:c}),O=Cv({nodeRef:b,disabled:p.hidden||!N,noDragClassName:h,handleSelector:p.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:y}),P=jv();if(p.hidden)return null;const z=wn(p),C=gj(p),j=M||N||t||n||r||s,L=n?W=>n(W,{...x.userNode}):void 0,H=r?W=>r(W,{...x.userNode}):void 0,B=s?W=>s(W,{...x.userNode}):void 0,Q=i?W=>i(W,{...x.userNode}):void 0,U=o?W=>o(W,{...x.userNode}):void 0,Y=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:ie}=A.getState();M&&(!J||!N||ie>0)&&Zc({id:e,store:A,nodeRef:b}),t&&t(W,{...x.userNode})},K=W=>{if(!(J0(W.nativeEvent)||g)){if(H0.includes(W.key)&&M){const J=W.key==="Escape";Zc({id:e,store:A,unselect:J,nodeRef:b})}else if(N&&p.selected&&Object.prototype.hasOwnProperty.call(il,W.key)){W.preventDefault();const{ariaLabelConfig:J}=A.getState();A.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~x.positionAbsolute.x,y:~~x.positionAbsolute.y})}),P({direction:il[W.key],factor:W.shiftKey?4:1})}}},Z=()=>{var he;if(g||!((he=b.current)!=null&&he.matches(":focus-visible")))return;const{transform:W,width:J,height:ie,autoPanOnNodeFocus:re,setCenter:ne}=A.getState();if(!re)return;df(new Map([[e,p]]),{x:0,y:0,width:J,height:ie},W,!0).length>0||ne(p.position.x+z.width/2,p.position.y+z.height/2,{zoom:W[2]})};return f.jsx("div",{className:Re(["react-flow__node",`react-flow__node-${_}`,{[v]:N},p.className,{selected:p.selected,selectable:M,parent:k,draggable:N,dragging:O}]),ref:b,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:j?"all":"none",visibility:$?"visible":"hidden",...p.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:H,onMouseLeave:B,onContextMenu:Q,onClick:Y,onDoubleClick:U,onKeyDown:R?K:void 0,tabIndex:R?0:void 0,onFocus:R?Z:void 0,role:p.ariaRole??(R?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${xv}-${w}`,"aria-label":p.ariaLabel,...p.domAttributes,children:f.jsx(lj,{value:e,children:f.jsx(E,{id:e,data:p.data,type:_,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:p.selected??!1,selectable:M,draggable:N,deletable:p.deletable??!0,isConnectable:I,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:O,dragHandle:p.dragHandle,zIndex:x.z,parentId:p.parentId,...z})})})}var Cj=D.memo(bj);const jj=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Pv(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=ue(jj,Se),o=_j(e.onlyRenderVisibleElements),a=Ej();return f.jsx("div",{className:"react-flow__nodes",style:Al,children:o.map(l=>f.jsx(Cj,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},l))})}Pv.displayName="NodeRenderer";const Tj=D.memo(Pv);function Mj(e){return ue(D.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),o=n.nodeLookup.get(s.target);i&&o&&Lb({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),Se)}const Pj=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return f.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Rj=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return f.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Kp={[tl.Arrow]:Pj,[tl.ArrowClosed]:Rj};function Ij(e){const t=_e();return D.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(Kp,e)?Kp[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",en.error009(e)),null)},[e])}const Dj=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=Ij(t);return l?f.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:f.jsx(l,{color:n,strokeWidth:o})}):null},Rv=({defaultColor:e,rfId:t})=>{const n=ue(i=>i.edges),r=ue(i=>i.defaultEdgeOptions),s=D.useMemo(()=>Ub(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?f.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:f.jsx("defs",{children:s.map(i=>f.jsx(Dj,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Rv.displayName="MarkerDefinitions";var Aj=D.memo(Rv);function Iv({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...d}){const[c,h]=D.useState({x:1,y:0,width:0,height:0}),v=Re(["react-flow__edge-textwrapper",u]),g=D.useRef(null);return D.useEffect(()=>{if(g.current){const w=g.current.getBBox();h({x:w.x,y:w.y,width:w.width,height:w.height})}},[n]),n?f.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:v,visibility:c.width?"visible":"hidden",...d,children:[s&&f.jsx("rect",{width:c.width+2*o[0],x:-o[0],y:-o[1],height:c.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),f.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:g,style:r,children:n}),l]}):null}Iv.displayName="EdgeText";const Oj=D.memo(Iv);function Hs({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...d}){return f.jsxs(f.Fragment,{children:[f.jsx("path",{...d,d:e,fill:"none",className:Re(["react-flow__edge-path",d.className])}),u?f.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Ot(t)&&Ot(n)?f.jsx(Oj,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function Gp({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function Dv({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,a]=Gp({pos:n,x1:e,y1:t,x2:r,y2:s}),[l,u]=Gp({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,c,h,v]=tv({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${e},${t} C${o},${a} ${l},${u} ${r},${s}`,d,c,h,v]}function Av(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o,targetPosition:a,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:v,style:g,markerEnd:w,markerStart:S,interactionWidth:y})=>{const[m,p,x]=Dv({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a}),k=e.isInternal?void 0:t;return f.jsx(Hs,{id:k,path:m,labelX:p,labelY:x,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:v,style:g,markerEnd:w,markerStart:S,interactionWidth:y})})}const Lj=Av({isInternal:!1}),Ov=Av({isInternal:!0});Lj.displayName="SimpleBezierEdge";Ov.displayName="SimpleBezierEdgeInternal";function Lv(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:h,sourcePosition:v=G.Bottom,targetPosition:g=G.Top,markerEnd:w,markerStart:S,pathOptions:y,interactionWidth:m})=>{const[p,x,k]=sl({sourceX:n,sourceY:r,sourcePosition:v,targetX:s,targetY:i,targetPosition:g,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset,stepPosition:y==null?void 0:y.stepPosition}),_=e.isInternal?void 0:t;return f.jsx(Hs,{id:_,path:p,labelX:x,labelY:k,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:h,markerEnd:w,markerStart:S,interactionWidth:m})})}const zv=Lv({isInternal:!1}),Fv=Lv({isInternal:!0});zv.displayName="SmoothStepEdge";Fv.displayName="SmoothStepEdgeInternal";function $v(e){return D.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return f.jsx(zv,{...n,id:r,pathOptions:D.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const zj=$v({isInternal:!1}),Hv=$v({isInternal:!0});zj.displayName="StepEdge";Hv.displayName="StepEdgeInternal";function Bv(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:h,markerEnd:v,markerStart:g,interactionWidth:w})=>{const[S,y,m]=iv({sourceX:n,sourceY:r,targetX:s,targetY:i}),p=e.isInternal?void 0:t;return f.jsx(Hs,{id:p,path:S,labelX:y,labelY:m,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:c,style:h,markerEnd:v,markerStart:g,interactionWidth:w})})}const Fj=Bv({isInternal:!1}),Vv=Bv({isInternal:!0});Fj.displayName="StraightEdge";Vv.displayName="StraightEdgeInternal";function Uv(e){return D.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o=G.Bottom,targetPosition:a=G.Top,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:v,style:g,markerEnd:w,markerStart:S,pathOptions:y,interactionWidth:m})=>{const[p,x,k]=nv({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:a,curvature:y==null?void 0:y.curvature}),_=e.isInternal?void 0:t;return f.jsx(Hs,{id:_,path:p,labelX:x,labelY:k,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:v,style:g,markerEnd:w,markerStart:S,interactionWidth:m})})}const $j=Uv({isInternal:!1}),Wv=Uv({isInternal:!0});$j.displayName="BezierEdge";Wv.displayName="BezierEdgeInternal";const Zp={default:Wv,straight:Vv,step:Hv,smoothstep:Fv,simplebezier:Ov},Jp={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Hj=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,Bj=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,em="react-flow__edgeupdater";function tm({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:a}){return f.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Re([em,`${em}-${a}`]),cx:Hj(t,r,e),cy:Bj(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Vj({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:d,onReconnectEnd:c,setReconnecting:h,setUpdateHover:v}){const g=_e(),w=(x,k)=>{if(x.button!==0)return;const{autoPanOnConnect:_,domNode:E,isValidConnection:N,connectionMode:M,connectionRadius:I,lib:R,onConnectStart:A,onConnectEnd:$,cancelConnection:b,nodeLookup:O,rfId:P,panBy:z,updateConnection:C}=g.getState(),j=k.type==="target",L=(Q,U)=>{h(!1),c==null||c(Q,n,k.type,U)},H=Q=>u==null?void 0:u(n,Q),B=(Q,U)=>{h(!0),d==null||d(x,n,k.type),A==null||A(Q,U)};Gc.onPointerDown(x.nativeEvent,{autoPanOnConnect:_,connectionMode:M,connectionRadius:I,domNode:E,handleId:k.id,nodeId:k.nodeId,nodeLookup:O,isTarget:j,edgeUpdaterType:k.type,lib:R,flowId:P,cancelConnection:b,panBy:z,isValidConnection:N,onConnect:H,onConnectStart:B,onConnectEnd:$,onReconnectEnd:L,updateConnection:C,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:x.currentTarget})},S=x=>w(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=x=>w(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),m=()=>v(!0),p=()=>v(!1);return f.jsxs(f.Fragment,{children:[(e===!0||e==="source")&&f.jsx(tm,{position:a,centerX:r,centerY:s,radius:t,onMouseDown:S,onMouseEnter:m,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&f.jsx(tm,{position:l,centerX:i,centerY:o,radius:t,onMouseDown:y,onMouseEnter:m,onMouseOut:p,type:"target"})]})}function Uj({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:d,onReconnect:c,onReconnectStart:h,onReconnectEnd:v,rfId:g,edgeTypes:w,noPanClassName:S,onError:y,disableKeyboardA11y:m}){let p=ue(ne=>ne.edgeLookup.get(e));const x=ue(ne=>ne.defaultEdgeOptions);p=x?{...x,...p}:p;let k=p.type||"default",_=(w==null?void 0:w[k])||Zp[k];_===void 0&&(y==null||y("011",en.error011(k)),k="default",_=(w==null?void 0:w.default)||Zp.default);const E=!!(p.focusable||t&&typeof p.focusable>"u"),N=typeof c<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),M=!!(p.selectable||r&&typeof p.selectable>"u"),I=D.useRef(null),[R,A]=D.useState(!1),[$,b]=D.useState(!1),O=_e(),{zIndex:P,sourceX:z,sourceY:C,targetX:j,targetY:L,sourcePosition:H,targetPosition:B}=ue(D.useCallback(ne=>{const te=ne.nodeLookup.get(p.source),he=ne.nodeLookup.get(p.target);if(!te||!he)return{zIndex:p.zIndex,...Jp};const ye=Vb({id:e,sourceNode:te,targetNode:he,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:ne.connectionMode,onError:y});return{zIndex:Ob({selected:p.selected,zIndex:p.zIndex,sourceNode:te,targetNode:he,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...ye||Jp}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),Se),Q=D.useMemo(()=>p.markerStart?`url('#${Yc(p.markerStart,g)}')`:void 0,[p.markerStart,g]),U=D.useMemo(()=>p.markerEnd?`url('#${Yc(p.markerEnd,g)}')`:void 0,[p.markerEnd,g]);if(p.hidden||z===null||C===null||j===null||L===null)return null;const Y=ne=>{var de;const{addSelectedEdges:te,unselectNodesAndEdges:he,multiSelectionActive:ye}=O.getState();M&&(O.setState({nodesSelectionActive:!1}),p.selected&&ye?(he({nodes:[],edges:[p]}),(de=I.current)==null||de.blur()):te([e])),s&&s(ne,p)},K=i?ne=>{i(ne,{...p})}:void 0,Z=o?ne=>{o(ne,{...p})}:void 0,W=a?ne=>{a(ne,{...p})}:void 0,J=l?ne=>{l(ne,{...p})}:void 0,ie=u?ne=>{u(ne,{...p})}:void 0,re=ne=>{var te;if(!m&&H0.includes(ne.key)&&M){const{unselectNodesAndEdges:he,addSelectedEdges:ye}=O.getState();ne.key==="Escape"?((te=I.current)==null||te.blur(),he({edges:[p]})):ye([e])}};return f.jsx("svg",{style:{zIndex:P},children:f.jsxs("g",{className:Re(["react-flow__edge",`react-flow__edge-${k}`,p.className,S,{selected:p.selected,animated:p.animated,inactive:!M&&!s,updating:R,selectable:M}]),onClick:Y,onDoubleClick:K,onContextMenu:Z,onMouseEnter:W,onMouseMove:J,onMouseLeave:ie,onKeyDown:E?re:void 0,tabIndex:E?0:void 0,role:p.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":E?`${wv}-${g}`:void 0,ref:I,...p.domAttributes,children:[!$&&f.jsx(_,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:M,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:z,sourceY:C,targetX:j,targetY:L,sourcePosition:H,targetPosition:B,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:Q,markerEnd:U,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),N&&f.jsx(Vj,{edge:p,isReconnectable:N,reconnectRadius:d,onReconnect:c,onReconnectStart:h,onReconnectEnd:v,sourceX:z,sourceY:C,targetX:j,targetY:L,sourcePosition:H,targetPosition:B,setUpdateHover:A,setReconnecting:b})]})})}var Wj=D.memo(Uj);const Qj=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Qv({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:c,onEdgeDoubleClick:h,onReconnectStart:v,onReconnectEnd:g,disableKeyboardA11y:w}){const{edgesFocusable:S,edgesReconnectable:y,elementsSelectable:m,onError:p}=ue(Qj,Se),x=Mj(t);return f.jsxs("div",{className:"react-flow__edges",children:[f.jsx(Aj,{defaultColor:e,rfId:n}),x.map(k=>f.jsx(Wj,{id:k,edgesFocusable:S,edgesReconnectable:y,elementsSelectable:m,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:d,reconnectRadius:c,onDoubleClick:h,onReconnectStart:v,onReconnectEnd:g,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:w},k))]})}Qv.displayName="EdgeRenderer";const qj=D.memo(Qv),Xj=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Yj({children:e}){const t=ue(Xj);return f.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Kj(e){const t=Qs(),n=D.useRef(!1);D.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Gj=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Zj(e){const t=ue(Gj),n=_e();return D.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Jj(e){return e.connection.inProgress?{...e.connection,to:xo(e.connection.to,e.transform)}:{...e.connection}}function eT(e){return Jj}function tT(e){const t=eT();return ue(t,Se)}const nT=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function rT({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:o,isValid:a,inProgress:l}=ue(nT,Se);return!(i&&s&&l)?null:f.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:f.jsx("g",{className:Re(["react-flow__connection",U0(a)]),children:f.jsx(qv,{style:t,type:n,CustomComponent:r,isValid:a})})})}const qv=({style:e,type:t=Rn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:a,fromPosition:l,to:u,toNode:d,toHandle:c,toPosition:h,pointer:v}=tT();if(!s)return;if(n)return f.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:h,connectionStatus:U0(r),toNode:d,toHandle:c,pointer:v});let g="";const w={sourceX:i.x,sourceY:i.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case Rn.Bezier:[g]=nv(w);break;case Rn.SimpleBezier:[g]=Dv(w);break;case Rn.Step:[g]=sl({...w,borderRadius:0});break;case Rn.SmoothStep:[g]=sl(w);break;default:[g]=iv(w)}return f.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};qv.displayName="ConnectionLine";const sT={};function nm(e=sT){D.useRef(e),_e(),D.useEffect(()=>{},[e])}function iT(){_e(),D.useRef(!1),D.useEffect(()=>{},[])}function Xv({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:c,onSelectionStart:h,onSelectionEnd:v,connectionLineType:g,connectionLineStyle:w,connectionLineComponent:S,connectionLineContainerStyle:y,selectionKeyCode:m,selectionOnDrag:p,selectionMode:x,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:E,deleteKeyCode:N,onlyRenderVisibleElements:M,elementsSelectable:I,defaultViewport:R,translateExtent:A,minZoom:$,maxZoom:b,preventScrolling:O,defaultMarkerColor:P,zoomOnScroll:z,zoomOnPinch:C,panOnScroll:j,panOnScrollSpeed:L,panOnScrollMode:H,zoomOnDoubleClick:B,panOnDrag:Q,onPaneClick:U,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:Z,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:ie,nodeClickDistance:re,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:he,onEdgeMouseLeave:ye,reconnectRadius:de,onReconnect:Ve,onReconnectStart:kn,onReconnectEnd:nn,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Ks,disableKeyboardA11y:Gs,nodeExtent:Bl,rfId:Eo,viewport:Br,onViewportChange:Zs}){return nm(e),nm(t),iT(),Kj(n),Zj(Br),f.jsx(wj,{onPaneClick:U,onPaneMouseEnter:Y,onPaneMouseMove:K,onPaneMouseLeave:Z,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:ie,deleteKeyCode:N,selectionKeyCode:m,selectionOnDrag:p,selectionMode:x,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:k,panActivationKeyCode:_,zoomActivationKeyCode:E,elementsSelectable:I,zoomOnScroll:z,zoomOnPinch:C,zoomOnDoubleClick:B,panOnScroll:j,panOnScrollSpeed:L,panOnScrollMode:H,panOnDrag:Q,defaultViewport:R,translateExtent:A,minZoom:$,maxZoom:b,onSelectionContextMenu:c,preventScrolling:O,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Ks,disableKeyboardA11y:Gs,onViewportChange:Zs,isControlledViewport:!!Br,children:f.jsxs(Yj,{children:[f.jsx(qj,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:Ve,onReconnectStart:kn,onReconnectEnd:nn,onlyRenderVisibleElements:M,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:he,onEdgeMouseLeave:ye,reconnectRadius:de,defaultMarkerColor:P,noPanClassName:Ks,disableKeyboardA11y:Gs,rfId:Eo}),f.jsx(rT,{style:w,type:g,component:S,containerStyle:y}),f.jsx("div",{className:"react-flow__edgelabel-renderer"}),f.jsx(Tj,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:re,onlyRenderVisibleElements:M,noPanClassName:Ks,noDragClassName:sr,disableKeyboardA11y:Gs,nodeExtent:Bl,rfId:Eo}),f.jsx("div",{className:"react-flow__viewport-portal"})]})})}Xv.displayName="GraphView";const oT=D.memo(Xv),rm=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:c,zIndexMode:h="basic"}={})=>{const v=new Map,g=new Map,w=new Map,S=new Map,y=r??t??[],m=n??e??[],p=d??[0,0],x=c??Gi;lv(w,S,y);const k=Kc(m,v,g,{nodeOrigin:p,nodeExtent:x,zIndexMode:h});let _=[0,0,1];if(o&&s&&i){const E=yo(v,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:N,y:M,zoom:I}=ff(E,s,i,l,u,(a==null?void 0:a.padding)??.1);_=[N,M,I]}return{rfId:"1",width:s??0,height:i??0,transform:_,nodes:m,nodesInitialized:k,nodeLookup:v,parentLookup:g,edges:y,edgeLookup:S,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Gi,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:As.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...V0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Mb,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:B0,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},aT=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:d,nodeExtent:c,zIndexMode:h})=>NC((v,g)=>{async function w(){const{nodeLookup:S,panZoom:y,fitViewOptions:m,fitViewResolver:p,width:x,height:k,minZoom:_,maxZoom:E}=g();y&&(await jb({nodes:S,width:x,height:k,panZoom:y,minZoom:_,maxZoom:E},m),p==null||p.resolve(!0),v({fitViewResolver:null}))}return{...rm({nodes:e,edges:t,width:s,height:i,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:d,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:S=>{const{nodeLookup:y,parentLookup:m,nodeOrigin:p,elevateNodesOnSelect:x,fitViewQueued:k,zIndexMode:_}=g(),E=Kc(S,y,m,{nodeOrigin:p,nodeExtent:c,elevateNodesOnSelect:x,checkEquality:!0,zIndexMode:_});k&&E?(w(),v({nodes:S,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:S,nodesInitialized:E})},setEdges:S=>{const{connectionLookup:y,edgeLookup:m}=g();lv(y,m,S),v({edges:S})},setDefaultNodesAndEdges:(S,y)=>{if(S){const{setNodes:m}=g();m(S),v({hasDefaultNodes:!0})}if(y){const{setEdges:m}=g();m(y),v({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:y,nodeLookup:m,parentLookup:p,domNode:x,nodeOrigin:k,nodeExtent:_,debug:E,fitViewQueued:N,zIndexMode:M}=g(),{changes:I,updatedInternals:R}=Gb(S,m,p,x,k,_,M);R&&(qb(m,p,{nodeOrigin:k,nodeExtent:_,zIndexMode:M}),N?(w(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(I==null?void 0:I.length)>0&&(E&&console.log("React Flow: trigger node changes",I),y==null||y(I)))},updateNodePositions:(S,y=!1)=>{const m=[];let p=[];const{nodeLookup:x,triggerNodeChanges:k,connection:_,updateConnection:E,onNodesChangeMiddlewareMap:N}=g();for(const[M,I]of S){const R=x.get(M),A=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(I!=null&&I.position)),$={id:M,type:"position",position:A?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:y};if(R&&_.inProgress&&_.fromNode.id===R.id){const b=zr(R,_.fromHandle,G.Left,!0);E({..._,from:b})}A&&R.parentId&&m.push({id:M,parentId:R.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width??0,height:I.measured.height??0}}),p.push($)}if(m.length>0){const{parentLookup:M,nodeOrigin:I}=g(),R=vf(m,x,M,I);p.push(...R)}for(const M of N.values())p=M(p);k(p)},triggerNodeChanges:S=>{const{onNodesChange:y,setNodes:m,nodes:p,hasDefaultNodes:x,debug:k}=g();if(S!=null&&S.length){if(x){const _=kv(S,p);m(_)}k&&console.log("React Flow: trigger node changes",S),y==null||y(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:y,setEdges:m,edges:p,hasDefaultEdges:x,debug:k}=g();if(S!=null&&S.length){if(x){const _=Ev(S,p);m(_)}k&&console.log("React Flow: trigger edge changes",S),y==null||y(S)}},addSelectedNodes:S=>{const{multiSelectionActive:y,edgeLookup:m,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:k}=g();if(y){const _=S.map(E=>ar(E,!0));x(_);return}x(ss(p,new Set([...S]),!0)),k(ss(m))},addSelectedEdges:S=>{const{multiSelectionActive:y,edgeLookup:m,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:k}=g();if(y){const _=S.map(E=>ar(E,!0));k(_);return}k(ss(m,new Set([...S]))),x(ss(p,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:y}={})=>{const{edges:m,nodes:p,nodeLookup:x,triggerNodeChanges:k,triggerEdgeChanges:_}=g(),E=S||p,N=y||m,M=E.map(R=>{const A=x.get(R.id);return A&&(A.selected=!1),ar(R.id,!1)}),I=N.map(R=>ar(R.id,!1));k(M),_(I)},setMinZoom:S=>{const{panZoom:y,maxZoom:m}=g();y==null||y.setScaleExtent([S,m]),v({minZoom:S})},setMaxZoom:S=>{const{panZoom:y,minZoom:m}=g();y==null||y.setScaleExtent([m,S]),v({maxZoom:S})},setTranslateExtent:S=>{var y;(y=g().panZoom)==null||y.setTranslateExtent(S),v({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:y,triggerNodeChanges:m,triggerEdgeChanges:p,elementsSelectable:x}=g();if(!x)return;const k=y.reduce((E,N)=>N.selected?[...E,ar(N.id,!1)]:E,[]),_=S.reduce((E,N)=>N.selected?[...E,ar(N.id,!1)]:E,[]);m(k),p(_)},setNodeExtent:S=>{const{nodes:y,nodeLookup:m,parentLookup:p,nodeOrigin:x,elevateNodesOnSelect:k,nodeExtent:_,zIndexMode:E}=g();S[0][0]===_[0][0]&&S[0][1]===_[0][1]&&S[1][0]===_[1][0]&&S[1][1]===_[1][1]||(Kc(y,m,p,{nodeOrigin:x,nodeExtent:S,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:E}),v({nodeExtent:S}))},panBy:S=>{const{transform:y,width:m,height:p,panZoom:x,translateExtent:k}=g();return Zb({delta:S,panZoom:x,transform:y,translateExtent:k,width:m,height:p})},setCenter:async(S,y,m)=>{const{width:p,height:x,maxZoom:k,panZoom:_}=g();if(!_)return Promise.resolve(!1);const E=typeof(m==null?void 0:m.zoom)<"u"?m.zoom:k;return await _.setViewport({x:p/2-S*E,y:x/2-y*E,zoom:E},{duration:m==null?void 0:m.duration,ease:m==null?void 0:m.ease,interpolate:m==null?void 0:m.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...V0}})},updateConnection:S=>{v({connection:S})},reset:()=>v({...rm()})}},Object.is);function Yv({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:d,nodeExtent:c,zIndexMode:h,children:v}){const[g]=D.useState(()=>aT({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:u,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:d,nodeExtent:c,zIndexMode:h}));return f.jsx(bC,{value:g,children:f.jsx(YC,{children:v})})}function lT({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:o,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:d,nodeOrigin:c,nodeExtent:h,zIndexMode:v}){return D.useContext(Il)?f.jsx(f.Fragment,{children:e}):f.jsx(Yv,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:c,nodeExtent:h,zIndexMode:v,children:e})}const uT={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function cT({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:d,onMoveStart:c,onMoveEnd:h,onConnect:v,onConnectStart:g,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:y,onNodeMouseEnter:m,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:k,onNodeDoubleClick:_,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:M,onNodesDelete:I,onEdgesDelete:R,onDelete:A,onSelectionChange:$,onSelectionDragStart:b,onSelectionDrag:O,onSelectionDragStop:P,onSelectionContextMenu:z,onSelectionStart:C,onSelectionEnd:j,onBeforeDelete:L,connectionMode:H,connectionLineType:B=Rn.Bezier,connectionLineStyle:Q,connectionLineComponent:U,connectionLineContainerStyle:Y,deleteKeyCode:K="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:W=!1,selectionMode:J=Zi.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:re=eo()?"Meta":"Control",zoomActivationKeyCode:ne=eo()?"Meta":"Control",snapToGrid:te,snapGrid:he,onlyRenderVisibleElements:ye=!1,selectNodesOnDrag:de,nodesDraggable:Ve,autoPanOnNodeFocus:kn,nodesConnectable:nn,nodesFocusable:sr,nodeOrigin:Ys=Sv,edgesFocusable:Ks,edgesReconnectable:Gs,elementsSelectable:Bl=!0,defaultViewport:Eo=FC,minZoom:Br=.5,maxZoom:Zs=2,translateExtent:Ef=Gi,preventScrolling:Nx=!0,nodeExtent:Vl,defaultMarkerColor:bx="#b1b1b7",zoomOnScroll:Cx=!0,zoomOnPinch:jx=!0,panOnScroll:Tx=!1,panOnScrollSpeed:Mx=.5,panOnScrollMode:Px=Cr.Free,zoomOnDoubleClick:Rx=!0,panOnDrag:Ix=!0,onPaneClick:Dx,onPaneMouseEnter:Ax,onPaneMouseMove:Ox,onPaneMouseLeave:Lx,onPaneScroll:zx,onPaneContextMenu:Fx,paneClickDistance:$x=1,nodeClickDistance:Hx=0,children:Bx,onReconnect:Vx,onReconnectStart:Ux,onReconnectEnd:Wx,onEdgeContextMenu:Qx,onEdgeDoubleClick:qx,onEdgeMouseEnter:Xx,onEdgeMouseMove:Yx,onEdgeMouseLeave:Kx,reconnectRadius:Gx=10,onNodesChange:Zx,onEdgesChange:Jx,noDragClassName:ew="nodrag",noWheelClassName:tw="nowheel",noPanClassName:Nf="nopan",fitView:bf,fitViewOptions:Cf,connectOnClick:nw,attributionPosition:rw,proOptions:sw,defaultEdgeOptions:iw,elevateNodesOnSelect:ow=!0,elevateEdgesOnSelect:aw=!1,disableKeyboardA11y:jf=!1,autoPanOnConnect:lw,autoPanOnNodeDrag:uw,autoPanSpeed:cw,connectionRadius:dw,isValidConnection:fw,onError:hw,style:pw,id:Tf,nodeDragThreshold:mw,connectionDragThreshold:gw,viewport:yw,onViewportChange:vw,width:xw,height:ww,colorMode:Sw="light",debug:_w,onScroll:No,ariaLabelConfig:kw,zIndexMode:Mf="basic",...Ew},Nw){const Ul=Tf||"1",bw=VC(Sw),Cw=D.useCallback(Pf=>{Pf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),No==null||No(Pf)},[No]);return f.jsx("div",{"data-testid":"rf__wrapper",...Ew,onScroll:Cw,style:{...pw,...uT},ref:Nw,className:Re(["react-flow",s,bw]),id:Tf,role:"application",children:f.jsxs(lT,{nodes:e,edges:t,width:xw,height:ww,fitView:bf,fitViewOptions:Cf,minZoom:Br,maxZoom:Zs,nodeOrigin:Ys,nodeExtent:Vl,zIndexMode:Mf,children:[f.jsx(oT,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:m,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:k,onNodeDoubleClick:_,nodeTypes:i,edgeTypes:o,connectionLineType:B,connectionLineStyle:Q,connectionLineComponent:U,connectionLineContainerStyle:Y,selectionKeyCode:Z,selectionOnDrag:W,selectionMode:J,deleteKeyCode:K,multiSelectionKeyCode:re,panActivationKeyCode:ie,zoomActivationKeyCode:ne,onlyRenderVisibleElements:ye,defaultViewport:Eo,translateExtent:Ef,minZoom:Br,maxZoom:Zs,preventScrolling:Nx,zoomOnScroll:Cx,zoomOnPinch:jx,zoomOnDoubleClick:Rx,panOnScroll:Tx,panOnScrollSpeed:Mx,panOnScrollMode:Px,panOnDrag:Ix,onPaneClick:Dx,onPaneMouseEnter:Ax,onPaneMouseMove:Ox,onPaneMouseLeave:Lx,onPaneScroll:zx,onPaneContextMenu:Fx,paneClickDistance:$x,nodeClickDistance:Hx,onSelectionContextMenu:z,onSelectionStart:C,onSelectionEnd:j,onReconnect:Vx,onReconnectStart:Ux,onReconnectEnd:Wx,onEdgeContextMenu:Qx,onEdgeDoubleClick:qx,onEdgeMouseEnter:Xx,onEdgeMouseMove:Yx,onEdgeMouseLeave:Kx,reconnectRadius:Gx,defaultMarkerColor:bx,noDragClassName:ew,noWheelClassName:tw,noPanClassName:Nf,rfId:Ul,disableKeyboardA11y:jf,nodeExtent:Vl,viewport:yw,onViewportChange:vw}),f.jsx(BC,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:g,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:y,nodesDraggable:Ve,autoPanOnNodeFocus:kn,nodesConnectable:nn,nodesFocusable:sr,edgesFocusable:Ks,edgesReconnectable:Gs,elementsSelectable:Bl,elevateNodesOnSelect:ow,elevateEdgesOnSelect:aw,minZoom:Br,maxZoom:Zs,nodeExtent:Vl,onNodesChange:Zx,onEdgesChange:Jx,snapToGrid:te,snapGrid:he,connectionMode:H,translateExtent:Ef,connectOnClick:nw,defaultEdgeOptions:iw,fitView:bf,fitViewOptions:Cf,onNodesDelete:I,onEdgesDelete:R,onDelete:A,onNodeDragStart:E,onNodeDrag:N,onNodeDragStop:M,onSelectionDrag:O,onSelectionDragStart:b,onSelectionDragStop:P,onMove:d,onMoveStart:c,onMoveEnd:h,noPanClassName:Nf,nodeOrigin:Ys,rfId:Ul,autoPanOnConnect:lw,autoPanOnNodeDrag:uw,autoPanSpeed:cw,onError:hw,connectionRadius:dw,isValidConnection:fw,selectNodesOnDrag:de,nodeDragThreshold:mw,connectionDragThreshold:gw,onBeforeDelete:L,debug:_w,ariaLabelConfig:kw,zIndexMode:Mf}),f.jsx(zC,{onSelectionChange:$}),Bx,f.jsx(IC,{proOptions:sw,position:rw}),f.jsx(RC,{rfId:Ul,disableKeyboardA11y:jf})]})})}var dT=Nv(cT);const fT=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function hT({children:e}){const t=ue(fT);return t?Uy.createPortal(e,t):null}function pT({dimensions:e,lineWidth:t,variant:n,className:r}){return f.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Re(["react-flow__background-pattern",n,r])})}function mT({radius:e,className:t}){return f.jsx("circle",{cx:e,cy:e,r:e,className:Re(["react-flow__background-pattern","dots",t])})}var Zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zn||(Zn={}));const gT={[Zn.Dots]:1,[Zn.Lines]:1,[Zn.Cross]:6},yT=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Kv({id:e,variant:t=Zn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:o,bgColor:a,style:l,className:u,patternClassName:d}){const c=D.useRef(null),{transform:h,patternId:v}=ue(yT,Se),g=r||gT[t],w=t===Zn.Dots,S=t===Zn.Cross,y=Array.isArray(n)?n:[n,n],m=[y[0]*h[2]||1,y[1]*h[2]||1],p=g*h[2],x=Array.isArray(i)?i:[i,i],k=S?[p,p]:m,_=[x[0]*h[2]||1+k[0]/2,x[1]*h[2]||1+k[1]/2],E=`${v}${e||""}`;return f.jsxs("svg",{className:Re(["react-flow__background",u]),style:{...l,...Al,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:c,"data-testid":"rf__background",children:[f.jsx("pattern",{id:E,x:h[0]%m[0],y:h[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:w?f.jsx(mT,{radius:p/2,className:d}):f.jsx(pT,{dimensions:k,lineWidth:s,variant:t,className:d})}),f.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}Kv.displayName="Background";const vT=D.memo(Kv);function xT(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:f.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function wT(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:f.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ST(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:f.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function _T(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function kT(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ea({children:e,className:t,...n}){return f.jsx("button",{type:"button",className:Re(["react-flow__controls-button",t]),...n,children:e})}const ET=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Gv({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:d,position:c="bottom-left",orientation:h="vertical","aria-label":v}){const g=_e(),{isInteractive:w,minZoomReached:S,maxZoomReached:y,ariaLabelConfig:m}=ue(ET,Se),{zoomIn:p,zoomOut:x,fitView:k}=Qs(),_=()=>{p(),i==null||i()},E=()=>{x(),o==null||o()},N=()=>{k(s),a==null||a()},M=()=>{g.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),l==null||l(!w)},I=h==="horizontal"?"horizontal":"vertical";return f.jsxs(Dl,{className:Re(["react-flow__controls",I,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":v??m["controls.ariaLabel"],children:[t&&f.jsxs(f.Fragment,{children:[f.jsx(ea,{onClick:_,className:"react-flow__controls-zoomin",title:m["controls.zoomIn.ariaLabel"],"aria-label":m["controls.zoomIn.ariaLabel"],disabled:y,children:f.jsx(xT,{})}),f.jsx(ea,{onClick:E,className:"react-flow__controls-zoomout",title:m["controls.zoomOut.ariaLabel"],"aria-label":m["controls.zoomOut.ariaLabel"],disabled:S,children:f.jsx(wT,{})})]}),n&&f.jsx(ea,{className:"react-flow__controls-fitview",onClick:N,title:m["controls.fitView.ariaLabel"],"aria-label":m["controls.fitView.ariaLabel"],children:f.jsx(ST,{})}),r&&f.jsx(ea,{className:"react-flow__controls-interactive",onClick:M,title:m["controls.interactive.ariaLabel"],"aria-label":m["controls.interactive.ariaLabel"],children:w?f.jsx(kT,{}):f.jsx(_T,{})}),d]})}Gv.displayName="Controls";const NT=D.memo(Gv);function bT({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:d,shapeRendering:c,selected:h,onClick:v}){const{background:g,backgroundColor:w}=i||{},S=o||g||w;return f.jsx("rect",{className:Re(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:S,stroke:a,strokeWidth:l},shapeRendering:c,onClick:v?y=>v(y,e):void 0})}const CT=D.memo(bT),jT=e=>e.nodes.map(t=>t.id),ju=e=>e instanceof Function?e:()=>e;function TT({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=CT,onClick:o}){const a=ue(jT,Se),l=ju(t),u=ju(e),d=ju(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return f.jsx(f.Fragment,{children:a.map(h=>f.jsx(PT,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:c},h))})}function MT({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:u,x:d,y:c,width:h,height:v}=ue(g=>{const{internals:w}=g.nodeLookup.get(e),S=w.userNode,{x:y,y:m}=w.positionAbsolute,{width:p,height:x}=wn(S);return{node:S,x:y,y:m,width:p,height:x}},Se);return!u||u.hidden||!K0(u)?null:f.jsx(a,{x:d,y:c,width:h,height:v,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:s,strokeColor:n(u),strokeWidth:i,shapeRendering:o,onClick:l,id:u.id})}const PT=D.memo(MT);var RT=D.memo(TT);const IT=200,DT=150,AT=e=>!e.hidden,OT=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Y0(yo(e.nodeLookup,{filter:AT}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},LT="react-flow__minimap-desc";function Zv({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:d,maskStrokeWidth:c,position:h="bottom-right",onClick:v,onNodeClick:g,pannable:w=!1,zoomable:S=!1,ariaLabel:y,inversePan:m,zoomStep:p=1,offsetScale:x=5}){const k=_e(),_=D.useRef(null),{boundingRect:E,viewBB:N,rfId:M,panZoom:I,translateExtent:R,flowWidth:A,flowHeight:$,ariaLabelConfig:b}=ue(OT,Se),O=(e==null?void 0:e.width)??IT,P=(e==null?void 0:e.height)??DT,z=E.width/O,C=E.height/P,j=Math.max(z,C),L=j*O,H=j*P,B=x*j,Q=E.x-(L-E.width)/2-B,U=E.y-(H-E.height)/2-B,Y=L+B*2,K=H+B*2,Z=`${LT}-${M}`,W=D.useRef(0),J=D.useRef();W.current=j,D.useEffect(()=>{if(_.current&&I)return J.current=aC({domNode:_.current,panZoom:I,getTransform:()=>k.getState().transform,getViewScale:()=>W.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[I]),D.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:R,width:A,height:$,inversePan:m,pannable:w,zoomStep:p,zoomable:S})},[w,S,m,p,R,A,$]);const ie=v?te=>{var de;const[he,ye]=((de=J.current)==null?void 0:de.pointer(te))||[0,0];v(te,{x:he,y:ye})}:void 0,re=g?D.useCallback((te,he)=>{const ye=k.getState().nodeLookup.get(he).internals.userNode;g(te,ye)},[]):void 0,ne=y??b["minimap.ariaLabel"];return f.jsx(Dl,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*j:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Re(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:f.jsxs("svg",{width:O,height:P,viewBox:`${Q} ${U} ${Y} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:_,onClick:ie,children:[ne&&f.jsx("title",{id:Z,children:ne}),f.jsx(RT,{onClick:re,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:a}),f.jsx("path",{className:"react-flow__minimap-mask",d:`M${Q-B},${U-B}h${Y+B*2}v${K+B*2}h${-Y-B*2}z
        M${N.x},${N.y}h${N.width}v${N.height}h${-N.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Zv.displayName="MiniMap";D.memo(Zv);const zT=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,FT={[Fs.Line]:"right",[Fs.Handle]:"bottom-right"};function $T({nodeId:e,position:t,variant:n=Fs.Handle,className:r,style:s=void 0,children:i,color:o,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:h,autoScale:v=!0,shouldResize:g,onResizeStart:w,onResize:S,onResizeEnd:y}){const m=Tv(),p=typeof e=="string"?e:m,x=_e(),k=D.useRef(null),_=n===Fs.Handle,E=ue(D.useCallback(zT(_&&v),[_,v]),Se),N=D.useRef(null),M=t??FT[n];D.useEffect(()=>{if(!(!k.current||!p))return N.current||(N.current=SC({domNode:k.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:R,transform:A,snapGrid:$,snapToGrid:b,nodeOrigin:O,domNode:P}=x.getState();return{nodeLookup:R,transform:A,snapGrid:$,snapToGrid:b,nodeOrigin:O,paneDomNode:P}},onChange:(R,A)=>{const{triggerNodeChanges:$,nodeLookup:b,parentLookup:O,nodeOrigin:P}=x.getState(),z=[],C={x:R.x,y:R.y},j=b.get(p);if(j&&j.expandParent&&j.parentId){const L=j.origin??P,H=R.width??j.measured.width??0,B=R.height??j.measured.height??0,Q={id:j.id,parentId:j.parentId,rect:{width:H,height:B,...G0({x:R.x??j.position.x,y:R.y??j.position.y},{width:H,height:B},j.parentId,b,L)}},U=vf([Q],b,O,P);z.push(...U),C.x=R.x?Math.max(L[0]*H,R.x):void 0,C.y=R.y?Math.max(L[1]*B,R.y):void 0}if(C.x!==void 0&&C.y!==void 0){const L={id:p,type:"position",position:{...C}};z.push(L)}if(R.width!==void 0&&R.height!==void 0){const H={id:p,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:R.width,height:R.height}};z.push(H)}for(const L of A){const H={...L,type:"position"};z.push(H)}$(z)},onEnd:({width:R,height:A})=>{const $={id:p,type:"dimensions",resizing:!1,dimensions:{width:R,height:A}};x.getState().triggerNodeChanges([$])}})),N.current.update({controlPosition:M,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:d},keepAspectRatio:c,resizeDirection:h,onResizeStart:w,onResize:S,onResizeEnd:y,shouldResize:g}),()=>{var R;(R=N.current)==null||R.destroy()}},[M,a,l,u,d,c,w,S,y,g]);const I=M.split("-");return f.jsx("div",{className:Re(["react-flow__resize-control","nodrag",...I,n,r]),ref:k,style:{...s,scale:E,...o&&{[_?"backgroundColor":"borderColor"]:o}},children:i})}D.memo($T);const je=U_((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:n=>e({executionResult:n}),setGraph:(n,r)=>e({nodes:n,edges:r}),onNodesChange:n=>{e({nodes:kv(n,t().nodes)})},onEdgesChange:n=>{e({edges:Ev(n,t().edges)})},onConnect:n=>{e({edges:sv(n,t().edges)})},addNode:(n,r,s={})=>{const i=ze.get(n);if(!i)return console.error(`Node type ${n} not found in registry`),"";const o=`${n}-${Date.now()}`,a={id:o,type:"custom",position:r,data:{definitionType:n,catalogType:n,...i.getDefaultConfig(),...s}};return e({nodes:[...t().nodes,a]}),o},updateNodeData:(n,r)=>{e({nodes:t().nodes.map(s=>s.id===n?{...s,data:{...s.data,...r}}:s)})},validateGraph:async()=>{const{nodes:n,edges:r}=t();if(n.length===0)return!1;for(const s of n){const i=ze.get(s.data.definitionType);if(i){const o=i.validate(s.data);if(!o.isValid)return console.warn(`Node ${s.id} validation failed: ${o.message}`),!1}}for(const s of n){const i=ze.get(s.data.definitionType);if(i&&i.inputs.length>0&&!r.some(a=>a.target===s.id))return console.warn(`Node ${s.id} (${i.label}) is disconnected.`),!1}return!0}})),Sn=e=>{const t=je(i=>i.nodes),n=je(i=>i.edges),r=t.find(i=>i.id===e);return r?Tl(r,t,n).map(i=>i.data):[]};function Jv(e,t){return function(){return e.apply(t,arguments)}}const{toString:HT}=Object.prototype,{getPrototypeOf:wf}=Object,{iterator:Ol,toStringTag:ex}=Symbol,Ll=(e=>t=>{const n=HT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>Ll(t)===e),zl=e=>t=>typeof t===e,{isArray:qs}=Array,Bs=zl("undefined");function wo(e){return e!==null&&!Bs(e)&&e.constructor!==null&&!Bs(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tx=Bt("ArrayBuffer");function BT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tx(e.buffer),t}const VT=zl("string"),ut=zl("function"),nx=zl("number"),So=e=>e!==null&&typeof e=="object",UT=e=>e===!0||e===!1,xa=e=>{if(Ll(e)!=="object")return!1;const t=wf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ex in e)&&!(Ol in e)},WT=e=>{if(!So(e)||wo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},QT=Bt("Date"),qT=Bt("File"),XT=Bt("Blob"),YT=Bt("FileList"),KT=e=>So(e)&&ut(e.pipe),GT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=Ll(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},ZT=Bt("URLSearchParams"),[JT,eM,tM,nM]=["ReadableStream","Request","Response","Headers"].map(Bt),rM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _o(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),qs(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(wo(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function rx(e,t){if(wo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sx=e=>!Bs(e)&&e!==pr;function Jc(){const{caseless:e,skipUndefined:t}=sx(this)&&this||{},n={},r=(s,i)=>{const o=e&&rx(n,i)||i;xa(n[o])&&xa(s)?n[o]=Jc(n[o],s):xa(s)?n[o]=Jc({},s):qs(s)?n[o]=s.slice():(!t||!Bs(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&_o(arguments[s],r);return n}const sM=(e,t,n,{allOwnKeys:r}={})=>(_o(t,(s,i)=>{n&&ut(s)?e[i]=Jv(s,n):e[i]=s},{allOwnKeys:r}),e),iM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),oM=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},aM=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&wf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},lM=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},uM=e=>{if(!e)return null;if(qs(e))return e;let t=e.length;if(!nx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},cM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&wf(Uint8Array)),dM=(e,t)=>{const r=(e&&e[Ol]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},fM=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},hM=Bt("HTMLFormElement"),pM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),sm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),mM=Bt("RegExp"),ix=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_o(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},gM=e=>{ix(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yM=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return qs(e)?r(e):r(String(e).split(t)),n},vM=()=>{},xM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wM(e){return!!(e&&ut(e.append)&&e[ex]==="FormData"&&e[Ol])}const SM=e=>{const t=new Array(10),n=(r,s)=>{if(So(r)){if(t.indexOf(r)>=0)return;if(wo(r))return r;if(!("toJSON"in r)){t[s]=r;const i=qs(r)?[]:{};return _o(r,(o,a)=>{const l=n(o,s+1);!Bs(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},_M=Bt("AsyncFunction"),kM=e=>e&&(So(e)||ut(e))&&ut(e.then)&&ut(e.catch),ox=((e,t)=>e?setImmediate:t?((n,r)=>(pr.addEventListener("message",({source:s,data:i})=>{s===pr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(pr.postMessage)),EM=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||ox,NM=e=>e!=null&&ut(e[Ol]),F={isArray:qs,isArrayBuffer:tx,isBuffer:wo,isFormData:GT,isArrayBufferView:BT,isString:VT,isNumber:nx,isBoolean:UT,isObject:So,isPlainObject:xa,isEmptyObject:WT,isReadableStream:JT,isRequest:eM,isResponse:tM,isHeaders:nM,isUndefined:Bs,isDate:QT,isFile:qT,isBlob:XT,isRegExp:mM,isFunction:ut,isStream:KT,isURLSearchParams:ZT,isTypedArray:cM,isFileList:YT,forEach:_o,merge:Jc,extend:sM,trim:rM,stripBOM:iM,inherits:oM,toFlatObject:aM,kindOf:Ll,kindOfTest:Bt,endsWith:lM,toArray:uM,forEachEntry:dM,matchAll:fM,isHTMLForm:hM,hasOwnProperty:sm,hasOwnProp:sm,reduceDescriptors:ix,freezeMethods:gM,toObjectSet:yM,toCamelCase:pM,noop:vM,toFiniteNumber:xM,findKey:rx,global:pr,isContextDefined:sx,isSpecCompliantForm:wM,toJSONObject:SM,isAsyncFn:_M,isThenable:kM,setImmediate:ox,asap:EM,isIterable:NM};function se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const ax=se.prototype,lx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lx[e]={value:e}});Object.defineProperties(se,lx);Object.defineProperty(ax,"isAxiosError",{value:!0});se.from=(e,t,n,r,s,i)=>{const o=Object.create(ax);F.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return se.call(o,a,l,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const bM=null;function ed(e){return F.isPlainObject(e)||F.isArray(e)}function ux(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function im(e,t,n){return e?e.concat(t).map(function(s,i){return s=ux(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function CM(e){return F.isArray(e)&&!e.some(ed)}const jM=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function Fl(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!F.isUndefined(S[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(F.isDate(g))return g.toISOString();if(F.isBoolean(g))return g.toString();if(!l&&F.isBlob(g))throw new se("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(g)||F.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,w,S){let y=g;if(g&&!S&&typeof g=="object"){if(F.endsWith(w,"{}"))w=r?w:w.slice(0,-2),g=JSON.stringify(g);else if(F.isArray(g)&&CM(g)||(F.isFileList(g)||F.endsWith(w,"[]"))&&(y=F.toArray(g)))return w=ux(w),y.forEach(function(p,x){!(F.isUndefined(p)||p===null)&&t.append(o===!0?im([w],x,i):o===null?w:w+"[]",u(p))}),!1}return ed(g)?!0:(t.append(im(S,w,i),u(g)),!1)}const c=[],h=Object.assign(jM,{defaultVisitor:d,convertValue:u,isVisitable:ed});function v(g,w){if(!F.isUndefined(g)){if(c.indexOf(g)!==-1)throw Error("Circular reference detected in "+w.join("."));c.push(g),F.forEach(g,function(y,m){(!(F.isUndefined(y)||y===null)&&s.call(t,y,F.isString(m)?m.trim():m,w,h))===!0&&v(y,w?w.concat(m):[m])}),c.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return v(e),t}function om(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Sf(e,t){this._pairs=[],e&&Fl(e,this,t)}const cx=Sf.prototype;cx.append=function(t,n){this._pairs.push([t,n])};cx.toString=function(t){const n=t?function(r){return t.call(this,r,om)}:om;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function TM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dx(e,t,n){if(!t)return e;const r=n&&n.encode||TM;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=F.isURLSearchParams(t)?t.toString():new Sf(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class am{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(r){r!==null&&t(r)})}}const fx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MM=typeof URLSearchParams<"u"?URLSearchParams:Sf,PM=typeof FormData<"u"?FormData:null,RM=typeof Blob<"u"?Blob:null,IM={isBrowser:!0,classes:{URLSearchParams:MM,FormData:PM,Blob:RM},protocols:["http","https","file","blob","url","data"]},_f=typeof window<"u"&&typeof document<"u",td=typeof navigator=="object"&&navigator||void 0,DM=_f&&(!td||["ReactNative","NativeScript","NS"].indexOf(td.product)<0),AM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",OM=_f&&window.location.href||"http://localhost",LM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_f,hasStandardBrowserEnv:DM,hasStandardBrowserWebWorkerEnv:AM,navigator:td,origin:OM},Symbol.toStringTag,{value:"Module"})),qe={...LM,...IM};function zM(e,t){return Fl(e,new qe.classes.URLSearchParams,{visitor:function(n,r,s,i){return qe.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function FM(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $M(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function hx(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&F.isArray(s)?s.length:o,l?(F.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!F.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&F.isArray(s[o])&&(s[o]=$M(s[o])),!a)}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,(r,s)=>{t(FM(r),s,n,0)}),n}return null}function HM(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ko={transitional:fx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=F.isObject(t);if(i&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return s?JSON.stringify(hx(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zM(t,this.formSerializer).toString();if((a=F.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Fl(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),HM(t)):t}],transformResponse:[function(t){const n=this.transitional||ko.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qe.classes.FormData,Blob:qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{ko.headers[e]={}});const BM=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VM=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&BM[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},lm=Symbol("internals");function ui(e){return e&&String(e).trim().toLowerCase()}function wa(e){return e===!1||e==null?e:F.isArray(e)?e.map(wa):String(e)}function UM(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const WM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tu(e,t,n,r,s){if(F.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!F.isString(t)){if(F.isString(r))return t.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(t)}}function QM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function qM(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,u){const d=ui(l);if(!d)throw new Error("header name must be a non-empty string");const c=F.findKey(s,d);(!c||s[c]===void 0||u===!0||u===void 0&&s[c]!==!1)&&(s[c||l]=wa(a))}const o=(a,l)=>F.forEach(a,(u,d)=>i(u,d,l));if(F.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(F.isString(t)&&(t=t.trim())&&!WM(t))o(VM(t),n);else if(F.isObject(t)&&F.isIterable(t)){let a={},l,u;for(const d of t){if(!F.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?F.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ui(t),t){const r=F.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return UM(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ui(t),t){const r=F.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Tu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=ui(o),o){const a=F.findKey(r,o);a&&(!n||Tu(r,r[a],a,n))&&(delete r[a],s=!0)}}return F.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Tu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return F.forEach(this,(s,i)=>{const o=F.findKey(r,i);if(o){n[o]=wa(s),delete n[i];return}const a=t?QM(i):String(i).trim();a!==i&&delete n[i],n[a]=wa(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[lm]=this[lm]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ui(o);r[a]||(qM(s,o),r[a]=!0)}return F.isArray(t)?t.forEach(i):i(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(ct.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});F.freezeMethods(ct);function Mu(e,t){const n=this||ko,r=t||n,s=ct.from(r.headers);let i=r.data;return F.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function px(e){return!!(e&&e.__CANCEL__)}function Xs(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(Xs,se,{__CANCEL__:!0});function mx(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function XM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function YM(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),d=r[i];o||(o=u),n[s]=l,r[s]=u;let c=i,h=0;for(;c!==s;)h+=n[c++],c=c%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const v=d&&u-d;return v?Math.round(h*1e3/v):void 0}}function KM(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),c=d-n;c>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-c)))},()=>s&&o(s)]}const ol=(e,t,n=3)=>{let r=0;const s=YM(50,250);return KM(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),d=o<=a;r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(c)},n)},um=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},cm=e=>(...t)=>F.asap(()=>e(...t)),GM=qe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qe.origin),qe.navigator&&/(msie|trident)/i.test(qe.navigator.userAgent)):()=>!0,ZM=qe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];F.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&a.push(`path=${r}`),F.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),F.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function JM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function e4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gx(e,t,n){let r=!JM(t);return e&&(r||n==!1)?e4(e,t):t}const dm=e=>e instanceof ct?{...e}:e;function Fr(e,t){t=t||{};const n={};function r(u,d,c,h){return F.isPlainObject(u)&&F.isPlainObject(d)?F.merge.call({caseless:h},u,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function s(u,d,c,h){if(F.isUndefined(d)){if(!F.isUndefined(u))return r(void 0,u,c,h)}else return r(u,d,c,h)}function i(u,d){if(!F.isUndefined(d))return r(void 0,d)}function o(u,d){if(F.isUndefined(d)){if(!F.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,c){if(c in t)return r(u,d);if(c in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,c)=>s(dm(u),dm(d),c,!0)};return F.forEach(Object.keys({...e,...t}),function(d){const c=l[d]||s,h=c(e[d],t[d],d);F.isUndefined(h)&&c!==a||(n[d]=h)}),n}const yx=e=>{const t=Fr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=ct.from(o),t.url=dx(gx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),F.isFormData(n)){if(qe.hasStandardBrowserEnv||qe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,c])=>{u.includes(d.toLowerCase())&&o.set(d,c)})}}if(qe.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(t)),r||r!==!1&&GM(t.url))){const l=s&&i&&ZM.read(i);l&&o.set(s,l)}return t},t4=typeof XMLHttpRequest<"u",n4=t4&&function(e){return new Promise(function(n,r){const s=yx(e);let i=s.data;const o=ct.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,d,c,h,v,g;function w(){v&&v(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function y(){if(!S)return;const p=ct.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:p,config:e,request:S};mx(function(E){n(E),w()},function(E){r(E),w()},k),S=null}"onloadend"in S?S.onloadend=y:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(y)},S.onabort=function(){S&&(r(new se("Request aborted",se.ECONNABORTED,e,S)),S=null)},S.onerror=function(x){const k=x&&x.message?x.message:"Network Error",_=new se(k,se.ERR_NETWORK,e,S);_.event=x||null,r(_),S=null},S.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||fx;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new se(x,k.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&F.forEach(o.toJSON(),function(x,k){S.setRequestHeader(k,x)}),F.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),u&&([h,g]=ol(u,!0),S.addEventListener("progress",h)),l&&S.upload&&([c,v]=ol(l),S.upload.addEventListener("progress",c),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=p=>{S&&(r(!p||p.type?new Xs(null,e,S):p),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=XM(s.url);if(m&&qe.protocols.indexOf(m)===-1){r(new se("Unsupported protocol "+m+":",se.ERR_BAD_REQUEST,e));return}S.send(i||null)})},r4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof se?d:new Xs(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},s4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},i4=async function*(e,t){for await(const n of o4(e))yield*s4(n,t)},o4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},fm=(e,t,n,r)=>{const s=i4(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await s.next();if(u){a(),l.close();return}let c=d.byteLength;if(n){let h=i+=c;n(h)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},hm=64*1024,{isFunction:ta}=F,a4=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:pm,TextEncoder:mm}=F.global,gm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},l4=e=>{e=F.merge.call({skipUndefined:!0},a4,e);const{fetch:t,Request:n,Response:r}=e,s=t?ta(t):typeof fetch=="function",i=ta(n),o=ta(r);if(!s)return!1;const a=s&&ta(pm),l=s&&(typeof mm=="function"?(g=>w=>g.encode(w))(new mm):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&a&&gm(()=>{let g=!1;const w=new n(qe.origin,{body:new pm,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!w}),d=o&&a&&gm(()=>F.isReadableStream(new r("").body)),c={stream:d&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!c[g]&&(c[g]=(w,S)=>{let y=w&&w[g];if(y)return y.call(w);throw new se(`Response type '${g}' is not supported`,se.ERR_NOT_SUPPORT,S)})});const h=async g=>{if(g==null)return 0;if(F.isBlob(g))return g.size;if(F.isSpecCompliantForm(g))return(await new n(qe.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(F.isArrayBufferView(g)||F.isArrayBuffer(g))return g.byteLength;if(F.isURLSearchParams(g)&&(g=g+""),F.isString(g))return(await l(g)).byteLength},v=async(g,w)=>{const S=F.toFiniteNumber(g.getContentLength());return S??h(w)};return async g=>{let{url:w,method:S,data:y,signal:m,cancelToken:p,timeout:x,onDownloadProgress:k,onUploadProgress:_,responseType:E,headers:N,withCredentials:M="same-origin",fetchOptions:I}=yx(g),R=t||fetch;E=E?(E+"").toLowerCase():"text";let A=r4([m,p&&p.toAbortSignal()],x),$=null;const b=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let O;try{if(_&&u&&S!=="get"&&S!=="head"&&(O=await v(N,y))!==0){let H=new n(w,{method:"POST",body:y,duplex:"half"}),B;if(F.isFormData(y)&&(B=H.headers.get("content-type"))&&N.setContentType(B),H.body){const[Q,U]=um(O,ol(cm(_)));y=fm(H.body,hm,Q,U)}}F.isString(M)||(M=M?"include":"omit");const P=i&&"credentials"in n.prototype,z={...I,signal:A,method:S.toUpperCase(),headers:N.normalize().toJSON(),body:y,duplex:"half",credentials:P?M:void 0};$=i&&new n(w,z);let C=await(i?R($,I):R(w,z));const j=d&&(E==="stream"||E==="response");if(d&&(k||j&&b)){const H={};["status","statusText","headers"].forEach(Y=>{H[Y]=C[Y]});const B=F.toFiniteNumber(C.headers.get("content-length")),[Q,U]=k&&um(B,ol(cm(k),!0))||[];C=new r(fm(C.body,hm,Q,()=>{U&&U(),b&&b()}),H)}E=E||"text";let L=await c[F.findKey(c,E)||"text"](C,g);return!j&&b&&b(),await new Promise((H,B)=>{mx(H,B,{data:L,headers:ct.from(C.headers),status:C.status,statusText:C.statusText,config:g,request:$})})}catch(P){throw b&&b(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,g,$),{cause:P.cause||P}):se.from(P,P&&P.code,g,$)}}},u4=new Map,vx=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,l,u,d=u4;for(;a--;)l=i[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:l4(t)),d=u;return u};vx();const kf={http:bM,xhr:n4,fetch:{get:vx}};F.forEach(kf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ym=e=>`- ${e}`,c4=e=>F.isFunction(e)||e===null||e===!1;function d4(e,t){e=F.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!c4(r)&&(s=kf[(a=String(r)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${a}'`);if(s&&(F.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(ym).join(`
`):" "+ym(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const xx={getAdapter:d4,adapters:kf};function Pu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xs(null,e)}function vm(e){return Pu(e),e.headers=ct.from(e.headers),e.data=Mu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xx.getAdapter(e.adapter||ko.adapter,e)(e).then(function(r){return Pu(e),r.data=Mu.call(e,e.transformResponse,r),r.headers=ct.from(r.headers),r},function(r){return px(r)||(Pu(e),r&&r.response&&(r.response.data=Mu.call(e,e.transformResponse,r.response),r.response.headers=ct.from(r.response.headers))),Promise.reject(r)})}const wx="1.13.2",$l={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{$l[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const xm={};$l.transitional=function(t,n,r){function s(i,o){return"[Axios v"+wx+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new se(s(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!xm[o]&&(xm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};$l.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function f4(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new se("option "+i+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const Sa={assertOptions:f4,validators:$l},Ut=Sa.validators;let jr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new am,response:new am}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Sa.assertOptions(r,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:Sa.assertOptions(s,{encode:Ut.function,serialize:Ut.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sa.assertOptions(n,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[n.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=ct.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,c=0,h;if(!l){const g=[vm.bind(this),void 0];for(g.unshift(...a),g.push(...u),h=g.length,d=Promise.resolve(n);c<h;)d=d.then(g[c++],g[c++]);return d}h=a.length;let v=n;for(;c<h;){const g=a[c++],w=a[c++];try{v=g(v)}catch(S){w.call(this,S);break}}try{d=vm.call(this,v)}catch(g){return Promise.reject(g)}for(c=0,h=u.length;c<h;)d=d.then(u[c++],u[c++]);return d}getUri(t){t=Fr(this.defaults,t);const n=gx(t.baseURL,t.url,t.allowAbsoluteUrls);return dx(n,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){jr.prototype[t]=function(n,r){return this.request(Fr(r||{},{method:t,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Fr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}jr.prototype[t]=n(),jr.prototype[t+"Form"]=n(!0)});let h4=class Sx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new Xs(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Sx(function(s){t=s}),cancel:t}}};function p4(e){return function(n){return e.apply(null,n)}}function m4(e){return F.isObject(e)&&e.isAxiosError===!0}const nd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(nd).forEach(([e,t])=>{nd[t]=e});function _x(e){const t=new jr(e),n=Jv(jr.prototype.request,t);return F.extend(n,jr.prototype,t,{allOwnKeys:!0}),F.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return _x(Fr(e,s))},n}const Me=_x(ko);Me.Axios=jr;Me.CanceledError=Xs;Me.CancelToken=h4;Me.isCancel=px;Me.VERSION=wx;Me.toFormData=Fl;Me.AxiosError=se;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=p4;Me.isAxiosError=m4;Me.mergeConfig=Fr;Me.AxiosHeaders=ct;Me.formToJSON=e=>hx(F.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=xx.getAdapter;Me.HttpStatusCode=nd;Me.default=Me;const{Axios:aP,AxiosError:lP,CanceledError:uP,isCancel:cP,CancelToken:dP,VERSION:fP,all:hP,Cancel:pP,isAxiosError:mP,spread:gP,toFormData:yP,AxiosHeaders:vP,HttpStatusCode:xP,formToJSON:wP,getAdapter:SP,mergeConfig:_P}=Me,g4="/api",Hl=Me.create({baseURL:g4,headers:{"Content-Type":"application/json"}}),y4=async e=>(await Hl.post("/pipeline/preview",e)).data,v4=async e=>(await Hl.get(`/pipeline/datasets/${e}/schema`)).data,wm=async(e,t)=>(await Hl.post(`/pipeline/save/${e}`,t)).data,x4=async e=>{const t=await Hl.get(`/pipeline/load/${e}`);return t.data?t.data:null},w4=async e=>(console.warn("submitTrainingJob is not yet implemented in V2",e),{job_id:"mock_job_id"}),_n=e=>z2({queryKey:["dataset-schema",e],queryFn:()=>v4(e),enabled:!!e,staleTime:1e3*60*5}),kx=(e,t={})=>{var i;const r=(i=Sn(e).find(o=>o.datasetId))==null?void 0:i.datasetId,s=je(o=>o.executionResult);return D.useMemo(()=>!r||!(s!=null&&s.recommendations)?[]:s.recommendations.filter(o=>{var a,l;if(t.types||t.suggestedNodeTypes){const u=(a=t.types)==null?void 0:a.includes(o.type),d=(l=t.suggestedNodeTypes)==null?void 0:l.includes(o.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[s,r,t.types,t.suggestedNodeTypes,t.scope])},Ex=({recommendations:e,onApply:t,className:n=""})=>!e||e.length===0?null:f.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${n}`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[f.jsx(t_,{className:"w-4 h-4"}),f.jsx("span",{children:"Recommendations"})]}),f.jsx("div",{className:"space-y-2",children:e.map(r=>f.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:f.jsxs("div",{className:"flex justify-between items-start gap-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:r.type.replace("_"," ").toUpperCase()}),f.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:r.description}),r.reasoning&&f.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",r.reasoning]})]}),t&&f.jsx("button",{onClick:()=>t(r),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:f.jsx(q2,{className:"w-5 h-5"})})]})},r.rule_id))})]}),S4=({config:e,onChange:t,nodeId:n})=>{var m;const s=(m=Sn(n||"").find(p=>p.datasetId))==null?void 0:m.datasetId,{data:i,isLoading:o}=_n(s),a=i?Object.values(i.columns).map(p=>p.name):[],l=D.useRef(null),[u,d]=D.useState(!1);D.useEffect(()=>{if(!l.current)return;const p=new ResizeObserver(x=>{for(const k of x)d(k.contentRect.width>450)});return p.observe(l.current),()=>p.disconnect()},[]);const c=kx(n||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),h=p=>{if(p.target_columns&&p.target_columns.length>0){const x=Array.from(new Set([...e.columns,...p.target_columns]));t({...e,columns:x})}},[v,g]=D.useState(""),w=D.useMemo(()=>a.filter(p=>p.toLowerCase().includes(v.toLowerCase())),[a,v]),S=()=>{t({...e,columns:w})},y=()=>{const p=e.columns.filter(x=>!w.includes(x));t({...e,columns:p})};return f.jsxs("div",{ref:l,className:`flex flex-col h-full w-full bg-background ${u?"overflow-hidden":"overflow-y-auto"}`,children:[f.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&f.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),f.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${u?"grid grid-cols-2":"flex flex-col"}`,children:[f.jsxs("div",{className:`space-y-4 ${u?"overflow-y-auto pr-2":"shrink-0"}`,children:[c.length>0&&f.jsx("div",{className:"shrink-0",children:f.jsx(Ex,{recommendations:c,onApply:h})}),f.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),f.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),f.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),f.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:p=>t({...e,missing_threshold:parseInt(p.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),f.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${u?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[f.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),f.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),f.jsx("div",{className:"relative group",children:f.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:p=>g(p.target.value)})}),f.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[f.jsx("button",{onClick:S,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),f.jsx("span",{className:"text-border",children:"|"}),f.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:a.length>0?w.length>0?f.jsx("div",{className:"space-y-0.5",children:w.map(p=>f.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[f.jsx("input",{type:"checkbox",checked:e.columns.includes(p),onChange:x=>{const k=x.target.checked?[...e.columns,p]:e.columns.filter(_=>_!==p);t({...e,columns:k})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),f.jsx("span",{className:"truncate font-mono text-xs",title:p,children:p})]},p))}):f.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):f.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},_4={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:p_,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:S4,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},k4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=Sn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=_n(s),a=i?Object.values(i.columns).map(u=>u.name):[];return f.jsxs("div",{className:"p-4 space-y-4",children:[!s&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&f.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Strategy"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:u=>t({...e,strategy:u.target.value}),children:[f.jsx("option",{value:"mean",children:"Mean (Average)"}),f.jsx("option",{value:"median",children:"Median (Middle Value)"}),f.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),f.jsx("option",{value:"constant",children:"Constant Value"})]})]}),e.strategy==="constant"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),f.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:u=>t({...e,fill_value:u.target.value}),placeholder:"Enter value..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Columns"}),a.length>0?f.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>f.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),f.jsx("span",{children:u})]},u))}):f.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]})]})},E4={type:"simple_imputer",label:"Imputation",category:"Preprocessing",description:"Fill missing values in selected columns.",icon:i_,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Filled Data",type:"dataset"}],settings:k4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],strategy:"mean"})},N4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=Sn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=_n(s),a=i?Object.values(i.columns).filter(u=>["int","float","number"].some(d=>{var c;return(c=u.dtype)==null?void 0:c.toLowerCase().includes(d)})).map(u=>u.name):[];return f.jsxs("div",{className:"p-4 space-y-4",children:[!s&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:u=>t({...e,method:u.target.value}),children:[f.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),f.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),f.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),f.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),f.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Numeric Columns"}),a.length>0?f.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>f.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),f.jsx("span",{children:u})]},u))}):f.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No numeric columns found"})]})]})},b4={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:u_,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:N4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},C4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=Sn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=_n(s),a=i?Object.values(i.columns).filter(u=>["object","string","category","bool"].some(d=>{var c;return(c=u.dtype)==null?void 0:c.toLowerCase().includes(d)})).map(u=>u.name):[];return f.jsxs("div",{className:"p-4 space-y-4",children:[!s&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categorical Columns"}),a.length>0?f.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>f.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),f.jsx("span",{children:u})]},u))}):f.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No categorical columns found"}),f.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Creates binary columns for each category. Best for low-cardinality features."})]})]})},j4={type:"one_hot_encoding",label:"One-Hot Encoding",category:"Preprocessing",description:"Convert categorical variables into binary columns.",icon:B2,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:C4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[]})},T4=({config:e,onChange:t,nodeId:n})=>{var l;const s=(l=Sn(n||"").find(u=>u.datasetId))==null?void 0:l.datasetId,{data:i,isLoading:o}=_n(s),a=i?Object.values(i.columns).filter(u=>["object","string","category","bool"].some(d=>{var c;return(c=u.dtype)==null?void 0:c.toLowerCase().includes(d)})).map(u=>u.name):[];return f.jsxs("div",{className:"p-4 space-y-4",children:[!s&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categorical Columns"}),a.length>0?f.jsx("div",{className:"space-y-1 max-h-60 overflow-y-auto border rounded p-2 bg-background",children:a.map(u=>f.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:e.columns.includes(u),onChange:d=>{const c=d.target.checked?[...e.columns,u]:e.columns.filter(h=>h!==u);t({...e,columns:c})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),f.jsx("span",{children:u})]},u))}):f.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:o?"Loading schema...":"No categorical columns found"}),f.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"Converts categories to integer codes (0, 1, 2...). Best for ordinal data."})]})]})},M4={type:"label_encoding",label:"Label Encoding",category:"Preprocessing",description:"Convert categorical variables into integer codes.",icon:J2,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:T4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[]})},P4=({config:e,onChange:t,nodeId:n})=>{var u,d;const r=Sn(n||""),s=(u=r.find(c=>c.datasetId))==null?void 0:u.datasetId,i=(d=r.find(c=>c.target_column))==null?void 0:d.target_column;At.useEffect(()=>{const c={};s&&e.datasetId!==s&&(c.datasetId=s),i&&e.targetColumn!==i&&(c.targetColumn=i),Object.keys(c).length>0&&t({...e,...c})},[s,i,e.datasetId,e.targetColumn,t]);const{data:o,isLoading:a}=_n(s||e.datasetId),l=o?Object.values(o.columns).map(c=>c.name):[];return f.jsxs("div",{className:"p-4 space-y-4",children:[!s&&!e.datasetId&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),a&&f.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Column"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.targetColumn??"",onChange:c=>t({...e,targetColumn:c.target.value}),disabled:!!i,children:[f.jsx("option",{value:"",children:"-- Select Target --"}),l.map(c=>f.jsx("option",{value:c,children:c},c))]}),i&&f.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target column inherited from upstream split."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.modelType,onChange:c=>t({...e,modelType:c.target.value}),children:[f.jsx("option",{value:"random_forest",children:"Random Forest"}),f.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),f.jsx("option",{value:"xgboost",children:"XGBoost"})]})]}),e.modelType==="random_forest"&&f.jsxs("div",{className:"space-y-2 border-t pt-2",children:[f.jsx("h4",{className:"text-xs font-semibold text-muted-foreground",children:"Hyperparameters"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs mb-1",children:"N Estimators"}),f.jsx("input",{type:"number",className:"w-full p-1 border rounded text-sm",value:e.hyperparameters.n_estimators||100,onChange:c=>t({...e,hyperparameters:{...e.hyperparameters,n_estimators:parseInt(c.target.value)}})})]})]})]})},R4={type:"train_model_draft",label:"Model Training",category:"Modeling",description:"Train a machine learning model.",icon:t0,inputs:[{id:"train",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:P4,validate:e=>e.targetColumn?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({targetColumn:"",modelType:"random_forest",hyperparameters:{n_estimators:100}})},I4=({config:e,onChange:t})=>{const n=["train","validation","test"],r=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],s=o=>{const a=e.splits.includes(o)?e.splits.filter(l=>l!==o):[...e.splits,o];t({...e,splits:a})},i=o=>{const a=e.metrics.includes(o)?e.metrics.filter(l=>l!==o):[...e.metrics,o];t({...e,metrics:a})};return f.jsxs("div",{className:"p-4 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),f.jsx("div",{className:"space-y-2",children:n.map(o=>f.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:e.splits.includes(o),onChange:()=>s(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),f.jsxs("span",{className:"capitalize",children:[o," Set"]})]},o))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(o=>f.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:e.metrics.includes(o),onChange:()=>i(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),f.jsx("span",{className:"uppercase",children:o.replace("_"," ")})]},o))})]})]})},D4={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:H2,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:I4,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},A4=({config:e,onChange:t,nodeId:n})=>{var k;const r=Sn(n||""),s=je(_=>_.nodes),i=je(_=>_.edges),o=je(_=>_.executionResult),l=(_=>{var M;const E=new Set,N=[_];for(;N.length>0;){const I=N.shift();if(E.has(I))continue;E.add(I);const R=s.find($=>$.id===I);if(!R)continue;if(I!==_&&((M=R.data)!=null&&M.datasetId))return R.data.datasetId;const A=Tl(R,s,i);for(const $ of A)N.push($.id)}})(n||""),u=(k=r.find(_=>_.target_column))==null?void 0:k.target_column;D.useEffect(()=>{const _={};l&&e.datasetId!==l&&(_.datasetId=l),u&&e.target_column!==u&&(_.target_column=u),Object.keys(_).length>0&&t({...e,..._})},[l,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:c}=_n(l||e.datasetId),h=d?Object.values(d.columns).map(_=>_.name):[],v=D.useRef(null),[g,w]=D.useState(!1);D.useEffect(()=>{if(!v.current)return;const _=new ResizeObserver(E=>{for(const N of E)w(N.contentRect.width>450)});return _.observe(v.current),()=>_.disconnect()},[]);const S=kx(n||"",{types:["feature_selection"],scope:"any"}),y=_=>{_.suggested_params&&t({...e,..._.suggested_params})},m=()=>{const _=e.problem_type||"auto";return _==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:_==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},p=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),x=["select_from_model","rfe"].includes(e.method);return f.jsxs("div",{ref:v,className:`flex flex-col h-full w-full bg-background ${g?"overflow-hidden":"overflow-y-auto"}`,children:[f.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),c&&!!l&&f.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),f.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${g?"grid grid-cols-2":"flex flex-col"}`,children:[f.jsxs("div",{className:`space-y-4 ${g?"overflow-y-auto pr-2":"shrink-0"}`,children:[S.length>0&&f.jsx("div",{className:"shrink-0",children:f.jsx(Ex,{recommendations:S,onApply:y})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[f.jsxs("optgroup",{label:"Simple",children:[f.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),f.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),f.jsxs("optgroup",{label:"Univariate",children:[f.jsx("option",{value:"select_k_best",children:"Select K Best"}),f.jsx("option",{value:"select_percentile",children:"Select Percentile"}),f.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),f.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),f.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),f.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),f.jsxs("optgroup",{label:"Model Based",children:[f.jsx("option",{value:"select_from_model",children:"Select From Model"}),f.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?f.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",f.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:_=>t({...e,target_column:_.target.value}),children:[f.jsx("option",{value:"",children:"Select Target..."}),h.map(_=>f.jsx("option",{value:_,children:_},_))]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(p||x)&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:_=>t({...e,problem_type:_.target.value}),children:[f.jsx("option",{value:"auto",children:"Auto-detect"}),f.jsx("option",{value:"classification",children:"Classification"}),f.jsx("option",{value:"regression",children:"Regression"})]})]})]}),f.jsxs("div",{className:`space-y-4 ${g?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[f.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),f.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:_=>t({...e,threshold:parseFloat(_.target.value)})}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),f.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:_=>t({...e,threshold:parseFloat(_.target.value)})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Method"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:_=>t({...e,correlation_method:_.target.value}),children:[f.jsx("option",{value:"pearson",children:"Pearson"}),f.jsx("option",{value:"spearman",children:"Spearman"}),f.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),p&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:_=>t({...e,score_func:_.target.value}),children:[f.jsx("option",{value:"",children:"Auto (Default)"}),m().map(_=>f.jsx("option",{value:_.value,children:_.label},_.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),f.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:_=>t({...e,k:parseInt(_.target.value)})})]}),e.method==="select_percentile"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),f.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:_=>t({...e,percentile:parseInt(_.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),f.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:_=>t({...e,alpha:parseFloat(_.target.value)})})]}),e.method==="generic_univariate_select"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Mode"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:_=>t({...e,mode:_.target.value}),children:[f.jsx("option",{value:"k_best",children:"K Best"}),f.jsx("option",{value:"percentile",children:"Percentile"}),f.jsx("option",{value:"fpr",children:"FPR"}),f.jsx("option",{value:"fdr",children:"FDR"}),f.jsx("option",{value:"fwe",children:"FWE"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),f.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:_=>t({...e,param:parseFloat(_.target.value)})}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),x&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:_=>t({...e,estimator:_.target.value}),children:[f.jsx("option",{value:"auto",children:"Auto"}),f.jsx("option",{value:"RandomForest",children:"Random Forest"}),f.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),f.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),f.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:_=>t({...e,threshold:_.target.value})}),f.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Step"}),f.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:_=>t({...e,step:parseInt(_.target.value)})}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),f.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[f.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:_=>t({...e,drop_columns:_.target.checked})}),f.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),o&&o.node_results[n||""]&&f.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:(()=>{var N;const _=o.node_results[n||""],E=(N=_.metrics)==null?void 0:N.dropped_columns;return f.jsxs("div",{className:"space-y-2",children:[_.error&&f.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:_.error}),E&&E.length>0&&f.jsxs("div",{children:[f.jsxs("div",{className:"font-medium text-muted-foreground mb-1",children:["Dropped Columns (",E.length,"):"]}),f.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border",children:f.jsx("ul",{className:"list-disc list-inside space-y-0.5 text-muted-foreground",children:E.map(M=>f.jsx("li",{className:"truncate",title:M,children:M},M))})})]}),E&&E.length===0&&_.status==="success"&&f.jsx("div",{className:"text-muted-foreground italic",children:"No columns were dropped."})]})})()})]})]})]})},O4={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:G2,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:A4,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},L4=({config:e,onChange:t,nodeId:n})=>{var y;const r=Sn(n||""),s=je(m=>m.nodes),i=je(m=>m.edges),a=(m=>{var k;const p=new Set,x=[m];for(;x.length>0;){const _=x.shift();if(p.has(_))continue;p.add(_);const E=s.find(M=>M.id===_);if(!E)continue;if(_!==m&&((k=E.data)!=null&&k.datasetId))return E.data.datasetId;const N=Tl(E,s,i);for(const M of N)x.push(M.id)}})(n||""),l=(y=r.find(m=>m.target_column))==null?void 0:y.target_column;At.useEffect(()=>{const m={};a&&e.datasetId!==a&&(m.datasetId=a),l&&e.target_column!==l&&(m.target_column=l),Object.keys(m).length>0&&t({...e,...m})},[a,l,e.datasetId,e.target_column,t]);const{data:u,isLoading:d}=_n(a||e.datasetId),c=u?Object.values(u.columns).map(m=>m.name):[],h=e.validation_size||0,v=1-e.test_size-h,g=At.useRef(null),[w,S]=At.useState(!1);return At.useEffect(()=>{if(!g.current)return;const m=new ResizeObserver(p=>{for(const x of p)S(x.contentRect.width>450)});return m.observe(g.current),()=>m.disconnect()},[]),f.jsxs("div",{ref:g,className:`flex flex-col h-full w-full bg-background ${w?"overflow-hidden":"overflow-y-auto"}`,children:[f.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&!e.datasetId&&f.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&f.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),f.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${w?"grid grid-cols-2":"flex flex-col"}`,children:[f.jsxs("div",{className:`space-y-4 ${w?"overflow-y-auto pr-2":"shrink-0"}`,children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),f.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:m=>t({...e,test_size:parseFloat(m.target.value)})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),f.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:m=>t({...e,validation_size:parseFloat(m.target.value)})}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(v*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),v<=0&&f.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Random State"}),f.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:m=>t({...e,random_state:parseInt(m.target.value)})})]})]}),f.jsxs("div",{className:`space-y-4 ${w?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:m=>t({...e,shuffle:m.target.checked})}),f.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:m=>t({...e,stratify:m.target.checked})}),f.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),f.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[f.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:m=>t({...e,target_column:m.target.value}),disabled:!e.stratify,children:[f.jsx("option",{value:"",children:"-- Select Target --"}),c.map(m=>f.jsx("option",{value:m,children:m},m))]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},z4={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:n0,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:L4,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},F4=({config:e,onChange:t,nodeId:n})=>{const r=je(u=>u.nodes),s=je(u=>u.edges),o=(u=>{var h;const d=new Set,c=[u];for(;c.length>0;){const v=c.shift();if(d.has(v))continue;d.add(v);const g=r.find(S=>S.id===v);if(!g)continue;if(v!==u&&((h=g.data)!=null&&h.datasetId))return g.data.datasetId;const w=Tl(g,r,s);for(const S of w)c.push(S.id)}})(n||"");At.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:a}=_n(o||e.datasetId),l=a?Object.values(a.columns).map(u=>u.name):[];return f.jsx("div",{className:"p-4 space-y-4",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),f.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[f.jsx("option",{value:"",children:"-- Select Target --"}),l.map(u=>f.jsx("option",{value:u,children:u},u))]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},$4={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:n0,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:F4,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},H4=()=>{const e=ze.getAll(),t=je(a=>a.addNode),[n,r]=D.useState(""),s=(a,l)=>{a.dataTransfer.setData("application/reactflow",l),a.dataTransfer.effectAllowed="move"},i=e.filter(a=>a.label.toLowerCase().includes(n.toLowerCase())||a.category.toLowerCase().includes(n.toLowerCase())),o=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return f.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[f.jsxs("div",{className:"p-4 border-b space-y-3",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(c_,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),f.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:n,onChange:a=>r(a.target.value)})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:o.map(a=>{const l=i.filter(u=>u.category===a);return l.length===0?null:f.jsxs("div",{children:[f.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:a}),f.jsx("div",{className:"space-y-2",children:l.map(u=>f.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>s(d,u.type),onClick:()=>t(u.type,{x:100,y:100}),children:[f.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:u.icon&&f.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-sm font-medium truncate",children:u.label}),f.jsx("div",{className:"text-xs text-muted-foreground truncate",children:u.description})]})]},u.type))})]},a)})})]})};function B4(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:V4}=At;function U4(e){const t=V4();return n=>{const r=e(n);return B4(t.current,r)?t.current:t.current=r}}const W4=D.memo(({id:e,data:t,selected:n})=>{const r=t.definitionType,s=ze.get(r),{deleteElements:i}=Qs(),o=je(u=>u.executionResult),a=o==null?void 0:o.node_results[e],l=u=>{u.stopPropagation(),i({nodes:[{id:e}]})};return s?f.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${n?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[f.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[f.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:s.icon&&f.jsx(s.icon,{className:"w-4 h-4 text-primary"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"text-sm font-bold",children:s.label}),a&&f.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${a.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:a.status==="success"?f.jsx(X2,{size:10}):f.jsx(Y2,{size:10})})]}),f.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:s.category})]}),f.jsx("button",{onClick:l,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:f.jsx(qa,{size:14})})]}),f.jsx("div",{className:"p-3",children:s.component?f.jsx(s.component,{data:t}):f.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),s.inputs.map((u,d)=>f.jsx($s,{type:"target",position:G.Left,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.inputs.length+1)}%`},children:f.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`input-${u.id}`)),s.outputs.map((u,d)=>f.jsx($s,{type:"source",position:G.Right,id:u.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.outputs.length+1)}%`},children:f.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:u.label})},`output-${u.id}`))]}):f.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[f.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[f.jsx(Q2,{size:16}),f.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),f.jsxs("div",{className:"text-xs mt-1",children:["Type: ",r]})]})}),Q4=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,style:a={},markerEnd:l})=>{const{deleteElements:u}=Qs(),[d,c,h]=sl({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o,borderRadius:24}),v=g=>{g.stopPropagation(),u({edges:[{id:e}]})};return f.jsxs(f.Fragment,{children:[f.jsx(Hs,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),f.jsx(Hs,{path:d,markerEnd:l,style:{...a,strokeWidth:2},className:"react-flow__edge-path"}),f.jsx(hT,{children:f.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${c}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:f.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:v,title:"Remove Connection",children:f.jsx(qa,{size:10})})})})]})},q4={custom:W4},X4={custom:Q4},Y4=()=>{const e=D.useRef(null),{screenToFlowPosition:t}=Qs(),{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,addNode:a}=je(U4(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),l=D.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),u=D.useCallback(d=>{d.preventDefault();const c=d.dataTransfer.getData("application/reactflow");if(typeof c>"u"||!c)return;const h=t({x:d.clientX,y:d.clientY});a(c,h)},[t,a]);return f.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:f.jsxs(dT,{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,nodeTypes:q4,onDragOver:l,onDrop:u,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:X4,deleteKeyCode:["Backspace","Delete"],children:[f.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"edge-gradient",children:[f.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),f.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),f.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),f.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[f.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),f.jsx(vT,{}),f.jsx(NT,{position:"top-left"})]})})},K4=()=>f.jsx(Yv,{children:f.jsx(Y4,{})}),G4=()=>{const e=je(c=>c.nodes),t=je(c=>c.updateNodeData),n=je(c=>c.onNodesChange),[r,s]=D.useState(!1),i=e.find(c=>c.selected);if(!i)return f.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[f.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:f.jsx(d_,{className:"w-8 h-8 opacity-50"})}),f.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),f.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const o=()=>{n([{id:i.id,type:"select",selected:!1}])},a=()=>{s(!r)},l=i.data.definitionType,u=ze.get(l);if(!u)return f.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:f.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[f.jsx(qa,{className:"w-4 h-4"}),"Error: Node definition '",l,"' not found."]})});const d=u.settings;return f.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${r?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[f.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:u.icon&&f.jsx(u.icon,{className:"w-4 h-4 text-primary"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"font-semibold text-sm",children:u.label}),f.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:u.category})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:a,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:r?"Collapse":"Expand",children:r?f.jsx(r_,{className:"w-4 h-4"}):f.jsx(n_,{className:"w-4 h-4"})}),f.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:f.jsx(qa,{className:"w-4 h-4"})})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:d?f.jsx(d,{config:i.data,onChange:c=>t(i.id,c),nodeId:i.id}):f.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),f.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[f.jsxs("span",{children:["ID: ",i.id]}),f.jsx("span",{children:"v1.0"})]})]})},Z4=()=>{const e=je(m=>m.nodes),t=je(m=>m.edges),n=je(m=>m.setExecutionResult),r=je(m=>m.setGraph),[s,i]=D.useState(!1),[o,a]=D.useState(!1),[l,u]=D.useState(!1),[d,c]=D.useState(!1),h=()=>({nodes:e.map(m=>({id:m.id,type:m.type,position:m.position,data:{...m.data,catalogType:m.data.catalogType||m.data.definitionType}})),edges:t.map(m=>({id:m.id,source:m.source,target:m.target,sourceHandle:m.sourceHandle,targetHandle:m.targetHandle,type:m.type,data:m.data}))}),v=m=>{const p=[],x=new Set,k=[],_=e.find(E=>E.data.definitionType==="dataset_node");for(_&&k.push(_.id);k.length>0;){const E=k.shift();if(x.has(E))continue;x.add(E);const N=e.find(b=>b.id===E);if(!N)continue;let M="unknown",I={};const A=t.filter(b=>b.target===E).map(b=>b.source);if(N.data.definitionType==="dataset_node")M="data_loader",I={dataset_id:N.data.datasetId};else if(N.data.definitionType==="simple_imputer")M="SimpleImputer",I=N.data||{};else if(N.data.definitionType==="drop_missing_columns")M="DropMissingColumns",I={columns:N.data.columns||[],missing_threshold:N.data.missing_threshold};else if(N.data.definitionType==="scale_numeric_features"){const b=N.data||{},O=b.method||"standard";O==="minmax"?M="MinMaxScaler":O==="maxabs"?M="MaxAbsScaler":O==="robust"?M="RobustScaler":M="StandardScaler",I=b}else if(N.data.definitionType==="one_hot_encoding")M="OneHotEncoder",I=N.data||{};else if(N.data.definitionType==="label_encoding")M="LabelEncoder",I=N.data||{};else if(N.data.definitionType==="TrainTestSplitter")M="TrainTestSplitter",I=N.data||{};else if(N.data.definitionType==="feature_target_split")M="feature_target_split",I=N.data||{};else if(N.data.definitionType==="train_model_draft"){M="model_training";let b=N.data.modelType;b==="random_forest"&&(b="random_forest_classifier"),I={target_column:N.data.targetColumn,algorithm:b,hyperparameters:N.data.hyperparameters}}else if(N.data.definitionType==="feature_selection")M="feature_selection",I=N.data||{};else throw console.error(`Unknown node type: ${N.data.definitionType}`),new Error(`Unknown node type: ${N.data.definitionType}. Pipeline execution stopped.`);p.push({node_id:N.id,step_type:M,params:I,inputs:A}),t.filter(b=>b.source===E).forEach(b=>k.push(b.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:p,metadata:{dataset_source_id:m}}},g=async()=>{const m=e.find(x=>x.data.definitionType==="dataset_node"),p=m==null?void 0:m.data.datasetId;if(!p){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}a(!0);try{await wm(p,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(x){console.error("Save failed:",x),alert("Failed to save pipeline.")}finally{a(!1)}},w=async()=>{const m=e.find(x=>x.data.definitionType==="dataset_node"),p=m==null?void 0:m.data.datasetId;if(!p){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){u(!0);try{const x=await x4(p);x&&x.graph?(r(x.graph.nodes,x.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(x){console.error("Load failed:",x),alert("Failed to load pipeline.")}finally{u(!1)}}},S=async()=>{const m=e.find(x=>x.data.definitionType==="dataset_node"),p=m==null?void 0:m.data.datasetId;if(!p){alert("No dataset node found!");return}i(!0),n(null);try{const x=v(p),k=await y4(x);n(k)}catch(x){console.error("Pipeline failed:",x),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}},y=async()=>{const m=e.find(k=>k.data.definitionType==="dataset_node"),p=m==null?void 0:m.data.datasetId,x=e.find(k=>k.data.definitionType==="train_model_draft");if(!p){alert("No dataset node found!");return}if(!x){alert('No training node found! Add a "Model Training" node to train a model.');return}c(!0);try{const k=await wm(p,{name:"Training Pipeline",description:"Auto-saved before training",graph:h()});await w4({dataset_source_id:p,pipeline_id:k.id.toString(),node_id:x.id,model_types:[x.data.modelType],hyperparameters:x.data.hyperparameters,graph:h(),run_training:!0}),alert("Training job submitted successfully! Check the jobs dashboard.")}catch(k){console.error("Training failed:",k),alert("Failed to submit training job.")}finally{c(!1)}};return f.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[f.jsxs("button",{onClick:w,disabled:l||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?f.jsx(Wo,{className:"w-4 h-4 animate-spin"}):f.jsx(Z2,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:l?"Loading...":"Load"})]}),f.jsxs("button",{onClick:g,disabled:o||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?f.jsx(Wo,{className:"w-4 h-4 animate-spin"}):f.jsx(l_,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),f.jsxs("button",{onClick:S,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?f.jsx(Wo,{className:"w-4 h-4 animate-spin"}):f.jsx(a_,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]}),f.jsxs("button",{onClick:y,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:[d?f.jsx(Wo,{className:"w-4 h-4 animate-spin"}):f.jsx(t0,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:d?"Submitting...":"Train Model"})]})]})},J4=()=>{const e=je(h=>h.executionResult),[t,n]=D.useState(!0),[r,s]=D.useState(null),i=D.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),o=Object.keys(i);if(At.useEffect(()=>{o.length>0&&(!r||!o.includes(r))&&(o.includes("train")?s("train"):o.includes("X")?s("X"):s(o[0]))},[o,r]),!e)return null;const a=r&&i[r]?i[r]:[],l=a.length>0?Object.keys(a[0]):[],u=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),c=d?e.node_results[d].error:null;return f.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>n(!t),children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(h_,{className:"w-4 h-4 text-primary"}),f.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),f.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[a.length," rows shown"]}),e.status==="failed"&&f.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),f.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?f.jsx(U2,{className:"w-4 h-4"}):f.jsx(W2,{className:"w-4 h-4"})})]}),t&&f.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&f.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[f.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),f.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:c||"Unknown error occurred during execution."})]}),o.length>1&&f.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[f.jsx(e_,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(h=>f.jsx("button",{onClick:()=>s(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${r===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),u.length>0&&e.status!=="failed"&&f.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((h,v)=>f.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},v))}),f.jsxs("div",{className:"flex-1 overflow-auto",children:[f.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[f.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:f.jsx("tr",{children:l.map(h=>f.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),f.jsx("tbody",{children:a.map((h,v)=>f.jsx("tr",{className:"border-b hover:bg-muted/10",children:l.map(g=>f.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[g]!==null?String(h[g]):f.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${v}-${g}`))},v))})]}),a.length===0&&f.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",r?`for ${r}`:""]})]})]})]})},eP=()=>{const[e,t]=D.useState(!1);D.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const n=()=>{const r=!e;t(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return f.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:f.jsx(o_,{className:"w-5 h-5 text-primary"})}),f.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),f.jsx("button",{onClick:n,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?f.jsx(s_,{className:"w-5 h-5"}):f.jsx(f_,{className:"w-5 h-5"})})]})]})},tP=()=>f.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[f.jsx(eP,{}),f.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[f.jsx(H4,{}),f.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[f.jsx(Z4,{}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(K4,{}),f.jsx(J4,{})]})]}),f.jsx(G4,{})]})]});ze.register(g_);ze.register(x_);ze.register(_4);ze.register(E4);ze.register(b4);ze.register(j4);ze.register(M4);ze.register(O4);ze.register(z4);ze.register($4);ze.register(R4);ze.register(D4);function nP(){const e=je(t=>t.addNode);return D.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("source_id");n&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:n})},100)},[]),D.useEffect(()=>{},[]),f.jsx(tP,{})}const rP=new E2;Ru.createRoot(document.getElementById("root")).render(f.jsx(At.StrictMode,{children:f.jsx(b2,{client:rP,children:f.jsx(nP,{})})}));
