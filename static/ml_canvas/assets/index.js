var Dw=Object.defineProperty;var Lf=e=>{throw TypeError(e)};var Aw=(e,t,n)=>t in e?Dw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xl=(e,t,n)=>Aw(e,typeof t!="symbol"?t+"":t,n),Kl=(e,t,n)=>t.has(e)||Lf("Cannot "+n);var P=(e,t,n)=>(Kl(e,t,"read from private field"),n?n.call(e):t.get(e)),ee=(e,t,n)=>t.has(e)?Lf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Q=(e,t,n,r)=>(Kl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),le=(e,t,n)=>(Kl(e,t,"access private method"),n);var To=(e,t,n,r)=>({set _(s){Q(e,t,s,n)},get _(){return P(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lm={exports:{}},cl={},zm={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Ow=Symbol.for("react.portal"),Lw=Symbol.for("react.fragment"),zw=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),$w=Symbol.for("react.provider"),Hw=Symbol.for("react.context"),Vw=Symbol.for("react.forward_ref"),Uw=Symbol.for("react.suspense"),Bw=Symbol.for("react.memo"),Ww=Symbol.for("react.lazy"),zf=Symbol.iterator;function qw(e){return e===null||typeof e!="object"?null:(e=zf&&e[zf]||e["@@iterator"],typeof e=="function"?e:null)}var Fm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$m=Object.assign,Hm={};function Us(e,t,n){this.props=e,this.context=t,this.refs=Hm,this.updater=n||Fm}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vm(){}Vm.prototype=Us.prototype;function ld(e,t,n){this.props=e,this.context=t,this.refs=Hm,this.updater=n||Fm}var ud=ld.prototype=new Vm;ud.constructor=ld;$m(ud,Us.prototype);ud.isPureReactComponent=!0;var Ff=Array.isArray,Um=Object.prototype.hasOwnProperty,cd={current:null},Bm={key:!0,ref:!0,__self:!0,__source:!0};function Wm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Um.call(t,r)&&!Bm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:lo,type:e,key:i,ref:o,props:s,_owner:cd.current}}function Qw(e,t){return{$$typeof:lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function Xw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $f=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xw(""+e.key):t.toString(36)}function ia(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case lo:case Ow:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Yl(o,0):r,Ff(s)?(n="",e!=null&&(n=e.replace($f,"$&/")+"/"),ia(s,t,n,"",function(c){return c})):s!=null&&(dd(s)&&(s=Qw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($f,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ff(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+Yl(i,l);o+=ia(i,t,n,u,s)}else if(u=qw(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+Yl(i,l++),o+=ia(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mo(e,t,n){if(e==null)return e;var r=[],s=0;return ia(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Kw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},oa={transition:null},Yw={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:oa,ReactCurrentOwner:cd};function qm(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Mo,forEach:function(e,t,n){Mo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Mo(e,function(){t++}),t},toArray:function(e){return Mo(e,function(t){return t})||[]},only:function(e){if(!dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Us;ae.Fragment=Lw;ae.Profiler=Fw;ae.PureComponent=ld;ae.StrictMode=zw;ae.Suspense=Uw;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yw;ae.act=qm;ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$m({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Um.call(t,u)&&!Bm.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:lo,type:e.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(e){return e={$$typeof:Hw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$w,_context:e},e.Consumer=e};ae.createElement=Wm;ae.createFactory=function(e){var t=Wm.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:Vw,render:e}};ae.isValidElement=dd;ae.lazy=function(e){return{$$typeof:Ww,_payload:{_status:-1,_result:e},_init:Kw}};ae.memo=function(e,t){return{$$typeof:Bw,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=oa.transition;oa.transition={};try{e()}finally{oa.transition=t}};ae.unstable_act=qm;ae.useCallback=function(e,t){return Je.current.useCallback(e,t)};ae.useContext=function(e){return Je.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Je.current.useEffect(e,t)};ae.useId=function(){return Je.current.useId()};ae.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};ae.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Je.current.useMemo(e,t)};ae.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};ae.useRef=function(e){return Je.current.useRef(e)};ae.useState=function(e){return Je.current.useState(e)};ae.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};ae.useTransition=function(){return Je.current.useTransition()};ae.version="18.3.1";zm.exports=ae;var R=zm.exports;const Lt=Om(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw=R,Zw=Symbol.for("react.element"),Jw=Symbol.for("react.fragment"),e1=Object.prototype.hasOwnProperty,t1=Gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n1={key:!0,ref:!0,__self:!0,__source:!0};function Qm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)e1.call(t,r)&&!n1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Zw,type:e,key:i,ref:o,props:s,_owner:t1.current}}cl.Fragment=Jw;cl.jsx=Qm;cl.jsxs=Qm;Lm.exports=cl;var a=Lm.exports,Ou={},Xm={exports:{}},xt={},Km={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,M){var F=C.length;C.push(M);e:for(;0<F;){var H=F-1>>>1,V=C[H];if(0<s(V,M))C[H]=M,C[F]=V,F=H;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var M=C[0],F=C.pop();if(F!==M){C[0]=F;e:for(var H=0,V=C.length,q=V>>>1;H<q;){var B=2*(H+1)-1,K=C[B],Y=B+1,Z=C[Y];if(0>s(K,F))Y<V&&0>s(Z,K)?(C[H]=Z,C[Y]=F,H=Y):(C[H]=K,C[B]=F,H=B);else if(Y<V&&0>s(Z,F))C[H]=Z,C[Y]=F,H=Y;else break e}}return M}function s(C,M){var F=C.sortIndex-M.sortIndex;return F!==0?F:C.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,h=3,v=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=C)r(c),M.sortIndex=M.expirationTime,t(u,M);else break;M=n(c)}}function x(C){if(b=!1,p(C),!y)if(n(u)!==null)y=!0,D(w);else{var M=n(c);M!==null&&L(x,M.startTime-C)}}function w(C,M){y=!1,b&&(b=!1,m(k),k=-1),v=!0;var F=h;try{for(p(M),f=n(u);f!==null&&(!(f.expirationTime>M)||C&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(u)&&r(u),p(M)}else r(u);f=n(u)}if(f!==null)var q=!0;else{var B=n(c);B!==null&&L(x,B.startTime-M),q=!1}return q}finally{f=null,h=F,v=!1}}var _=!1,N=null,k=-1,E=5,T=-1;function I(){return!(e.unstable_now()-T<E)}function A(){if(N!==null){var C=e.unstable_now();T=C;var M=!0;try{M=N(!0,C)}finally{M?O():(_=!1,N=null)}}else _=!1}var O;if(typeof g=="function")O=function(){g(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,z=j.port2;j.port1.onmessage=A,O=function(){z.postMessage(null)}}else O=function(){S(A,0)};function D(C){N=C,_||(_=!0,O())}function L(C,M){k=S(function(){C(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,D(w))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var F=h;h=M;try{return C()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,M){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=h;h=C;try{return M()}finally{h=F}},e.unstable_scheduleCallback=function(C,M,F){var H=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,C={id:d++,callback:M,priorityLevel:C,startTime:F,expirationTime:V,sortIndex:-1},F>H?(C.sortIndex=F,t(c,C),n(u)===null&&C===n(c)&&(b?(m(k),k=-1):b=!0,L(x,F-H))):(C.sortIndex=V,t(u,C),y||v||(y=!0,D(w))),C},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(C){var M=h;return function(){var F=h;h=M;try{return C.apply(this,arguments)}finally{h=F}}}})(Ym);Km.exports=Ym;var r1=Km.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1=R,gt=r1;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gm=new Set,Ti={};function $r(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Ti[e]=t,e=0;e<t.length;e++)Gm.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=Object.prototype.hasOwnProperty,i1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hf={},Vf={};function o1(e){return Lu.call(Vf,e)?!0:Lu.call(Hf,e)?!1:i1.test(e)?Vf[e]=!0:(Hf[e]=!0,!1)}function a1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function l1(e,t,n,r){if(t===null||typeof t>"u"||a1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var fd=/[\-:]([a-z])/g;function hd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fd,hd);Ve[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fd,hd);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fd,hd);Ve[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function pd(e,t,n,r){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(l1(t,n,s,r)&&(n=null),r||s===null?o1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bn=s1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ro=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),md=Symbol.for("react.strict_mode"),zu=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),Jm=Symbol.for("react.context"),gd=Symbol.for("react.forward_ref"),Fu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),yd=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),eg=Symbol.for("react.offscreen"),Uf=Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=Uf&&e[Uf]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Gl;function di(e){if(Gl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gl=t&&t[1]||""}return`
`+Gl+e}var Zl=!1;function Jl(e,t){if(!e||Zl)return"";Zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Zl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?di(e):""}function u1(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=Jl(e.type,!1),e;case 11:return e=Jl(e.type.render,!1),e;case 1:return e=Jl(e.type,!0),e;default:return""}}function Hu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qr:return"Fragment";case Wr:return"Portal";case zu:return"Profiler";case md:return"StrictMode";case Fu:return"Suspense";case $u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jm:return(e.displayName||"Context")+".Consumer";case Zm:return(e._context.displayName||"Context")+".Provider";case gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yd:return t=e.displayName||null,t!==null?t:Hu(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Hu(e(t))}catch{}}return null}function c1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hu(t);case 8:return t===md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function d1(e){var t=tg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Po(e){e._valueTracker||(e._valueTracker=d1(e))}function ng(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rg(e,t){t=t.checked,t!=null&&pd(e,"checked",t,!1)}function Uu(e,t){rg(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bu(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bu(e,t,n){(t!=="number"||ka(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fi=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(fi(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function sg(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ig(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ig(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Io,og=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Io=Io||document.createElement("div"),Io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f1=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){f1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xi[t]=xi[e]})});function ag(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xi.hasOwnProperty(e)&&xi[e]?(""+t).trim():t+"px"}function lg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ag(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var h1=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qu(e,t){if(t){if(h1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yu=null,os=null,as=null;function Xf(e){if(e=fo(e)){if(typeof Yu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=ml(t),Yu(e.stateNode,e.type,t))}}function ug(e){os?as?as.push(e):as=[e]:os=e}function cg(){if(os){var e=os,t=as;if(as=os=null,Xf(e),t)for(e=0;e<t.length;e++)Xf(t[e])}}function dg(e,t){return e(t)}function fg(){}var eu=!1;function hg(e,t,n){if(eu)return e(t,n);eu=!0;try{return dg(e,t,n)}finally{eu=!1,(os!==null||as!==null)&&(fg(),cg())}}function Ri(e,t){var n=e.stateNode;if(n===null)return null;var r=ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Gu=!1;if(gn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Gu=!1}function p1(e,t,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var vi=!1,ja=null,Ea=!1,Zu=null,m1={onError:function(e){vi=!0,ja=e}};function g1(e,t,n,r,s,i,o,l,u){vi=!1,ja=null,p1.apply(m1,arguments)}function y1(e,t,n,r,s,i,o,l,u){if(g1.apply(this,arguments),vi){if(vi){var c=ja;vi=!1,ja=null}else throw Error(U(198));Ea||(Ea=!0,Zu=c)}}function Hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kf(e){if(Hr(e)!==e)throw Error(U(188))}function x1(e){var t=e.alternate;if(!t){if(t=Hr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kf(s),e;if(i===r)return Kf(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function mg(e){return e=x1(e),e!==null?gg(e):null}function gg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gg(e);if(t!==null)return t;e=e.sibling}return null}var yg=gt.unstable_scheduleCallback,Yf=gt.unstable_cancelCallback,v1=gt.unstable_shouldYield,w1=gt.unstable_requestPaint,Me=gt.unstable_now,b1=gt.unstable_getCurrentPriorityLevel,vd=gt.unstable_ImmediatePriority,xg=gt.unstable_UserBlockingPriority,Ca=gt.unstable_NormalPriority,N1=gt.unstable_LowPriority,vg=gt.unstable_IdlePriority,dl=null,Jt=null;function _1(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:j1,S1=Math.log,k1=Math.LN2;function j1(e){return e>>>=0,e===0?32:31-(S1(e)/k1|0)|0}var Do=64,Ao=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ta(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=hi(l):(i&=o,i!==0&&(r=hi(i)))}else o=n&~s,o!==0?r=hi(o):i!==0&&(r=hi(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function E1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-$t(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=E1(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Ju(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wg(){var e=Do;return Do<<=1,!(Do&4194240)&&(Do=64),e}function tu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function T1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function wd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function bg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ng,bd,_g,Sg,kg,ec=!1,Oo=[],Un=null,Bn=null,Wn=null,Pi=new Map,Ii=new Map,Mn=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gf(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function ni(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fo(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function R1(e,t,n,r,s){switch(t){case"focusin":return Un=ni(Un,e,t,n,r,s),!0;case"dragenter":return Bn=ni(Bn,e,t,n,r,s),!0;case"mouseover":return Wn=ni(Wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pi.set(i,ni(Pi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ii.set(i,ni(Ii.get(i)||null,e,t,n,r,s)),!0}return!1}function jg(e){var t=ur(e.target);if(t!==null){var n=Hr(t);if(n!==null){if(t=n.tag,t===13){if(t=pg(n),t!==null){e.blockedOn=t,kg(e.priority,function(){_g(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ku=r,n.target.dispatchEvent(r),Ku=null}else return t=fo(n),t!==null&&bd(t),e.blockedOn=n,!1;t.shift()}return!0}function Zf(e,t,n){aa(e)&&n.delete(t)}function P1(){ec=!1,Un!==null&&aa(Un)&&(Un=null),Bn!==null&&aa(Bn)&&(Bn=null),Wn!==null&&aa(Wn)&&(Wn=null),Pi.forEach(Zf),Ii.forEach(Zf)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,ec||(ec=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,P1)))}function Di(e){function t(s){return ri(s,e)}if(0<Oo.length){ri(Oo[0],e);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Un!==null&&ri(Un,e),Bn!==null&&ri(Bn,e),Wn!==null&&ri(Wn,e),Pi.forEach(t),Ii.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)jg(n),n.blockedOn===null&&Mn.shift()}var ls=bn.ReactCurrentBatchConfig,Ma=!0;function I1(e,t,n,r){var s=ge,i=ls.transition;ls.transition=null;try{ge=1,Nd(e,t,n,r)}finally{ge=s,ls.transition=i}}function D1(e,t,n,r){var s=ge,i=ls.transition;ls.transition=null;try{ge=4,Nd(e,t,n,r)}finally{ge=s,ls.transition=i}}function Nd(e,t,n,r){if(Ma){var s=tc(e,t,n,r);if(s===null)du(e,t,r,Ra,n),Gf(e,r);else if(R1(s,e,t,n,r))r.stopPropagation();else if(Gf(e,r),t&4&&-1<M1.indexOf(e)){for(;s!==null;){var i=fo(s);if(i!==null&&Ng(i),i=tc(e,t,n,r),i===null&&du(e,t,r,Ra,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else du(e,t,r,null,n)}}var Ra=null;function tc(e,t,n,r){if(Ra=null,e=xd(r),e=ur(e),e!==null)if(t=Hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ra=e,null}function Eg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b1()){case vd:return 1;case xg:return 4;case Ca:case N1:return 16;case vg:return 536870912;default:return 16}default:return 16}}var Hn=null,_d=null,la=null;function Cg(){if(la)return la;var e,t=_d,n=t.length,r,s="value"in Hn?Hn.value:Hn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return la=s.slice(e,1<r?1-r:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lo(){return!0}function Jf(){return!1}function vt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lo:Jf,this.isPropagationStopped=Jf,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=vt(Bs),co=Ee({},Bs,{view:0,detail:0}),A1=vt(co),nu,ru,si,fl=Ee({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(nu=e.screenX-si.screenX,ru=e.screenY-si.screenY):ru=nu=0,si=e),nu)},movementY:function(e){return"movementY"in e?e.movementY:ru}}),eh=vt(fl),O1=Ee({},fl,{dataTransfer:0}),L1=vt(O1),z1=Ee({},co,{relatedTarget:0}),su=vt(z1),F1=Ee({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),$1=vt(F1),H1=Ee({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V1=vt(H1),U1=Ee({},Bs,{data:0}),th=vt(U1),B1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=q1[e])?!!t[e]:!1}function kd(){return Q1}var X1=Ee({},co,{key:function(e){if(e.key){var t=B1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K1=vt(X1),Y1=Ee({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=vt(Y1),G1=Ee({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),Z1=vt(G1),J1=Ee({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),eb=vt(J1),tb=Ee({},fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nb=vt(tb),rb=[9,13,27,32],jd=gn&&"CompositionEvent"in window,wi=null;gn&&"documentMode"in document&&(wi=document.documentMode);var sb=gn&&"TextEvent"in window&&!wi,Tg=gn&&(!jd||wi&&8<wi&&11>=wi),rh=" ",sh=!1;function Mg(e,t){switch(e){case"keyup":return rb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qr=!1;function ib(e,t){switch(e){case"compositionend":return Rg(t);case"keypress":return t.which!==32?null:(sh=!0,rh);case"textInput":return e=t.data,e===rh&&sh?null:e;default:return null}}function ob(e,t){if(Qr)return e==="compositionend"||!jd&&Mg(e,t)?(e=Cg(),la=_d=Hn=null,Qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tg&&t.locale!=="ko"?null:t.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ab[e.type]:t==="textarea"}function Pg(e,t,n,r){ug(r),t=Pa(t,"onChange"),0<t.length&&(n=new Sd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bi=null,Ai=null;function lb(e){Ug(e,0)}function hl(e){var t=Yr(e);if(ng(t))return e}function ub(e,t){if(e==="change")return t}var Ig=!1;if(gn){var iu;if(gn){var ou="oninput"in document;if(!ou){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),ou=typeof oh.oninput=="function"}iu=ou}else iu=!1;Ig=iu&&(!document.documentMode||9<document.documentMode)}function ah(){bi&&(bi.detachEvent("onpropertychange",Dg),Ai=bi=null)}function Dg(e){if(e.propertyName==="value"&&hl(Ai)){var t=[];Pg(t,Ai,e,xd(e)),hg(lb,t)}}function cb(e,t,n){e==="focusin"?(ah(),bi=t,Ai=n,bi.attachEvent("onpropertychange",Dg)):e==="focusout"&&ah()}function db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(Ai)}function fb(e,t){if(e==="click")return hl(t)}function hb(e,t){if(e==="input"||e==="change")return hl(t)}function pb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:pb;function Oi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lu.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uh(e,t){var n=lh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lh(n)}}function Ag(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ag(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Og(){for(var e=window,t=ka();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ka(e.document)}return t}function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mb(e){var t=Og(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ag(n.ownerDocument.documentElement,n)){if(r!==null&&Ed(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=uh(n,i);var o=uh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gb=gn&&"documentMode"in document&&11>=document.documentMode,Xr=null,nc=null,Ni=null,rc=!1;function ch(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rc||Xr==null||Xr!==ka(r)||(r=Xr,"selectionStart"in r&&Ed(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&Oi(Ni,r)||(Ni=r,r=Pa(nc,"onSelect"),0<r.length&&(t=new Sd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xr)))}function zo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionend:zo("Transition","TransitionEnd")},au={},Lg={};gn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function pl(e){if(au[e])return au[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lg)return au[e]=t[n];return e}var zg=pl("animationend"),Fg=pl("animationiteration"),$g=pl("animationstart"),Hg=pl("transitionend"),Vg=new Map,dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){Vg.set(e,t),$r(t,[e])}for(var lu=0;lu<dh.length;lu++){var uu=dh[lu],yb=uu.toLowerCase(),xb=uu[0].toUpperCase()+uu.slice(1);tr(yb,"on"+xb)}tr(zg,"onAnimationEnd");tr(Fg,"onAnimationIteration");tr($g,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Hg,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function fh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,y1(r,t,void 0,e),e.currentTarget=null}function Ug(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;fh(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;fh(s,l,c),i=u}}}if(Ea)throw e=Zu,Ea=!1,Zu=null,e}function ve(e,t){var n=t[lc];n===void 0&&(n=t[lc]=new Set);var r=e+"__bubble";n.has(r)||(Bg(t,e,2,!1),n.add(r))}function cu(e,t,n){var r=0;t&&(r|=4),Bg(n,e,r,t)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[Fo]){e[Fo]=!0,Gm.forEach(function(n){n!=="selectionchange"&&(vb.has(n)||cu(n,!1,e),cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fo]||(t[Fo]=!0,cu("selectionchange",!1,t))}}function Bg(e,t,n,r){switch(Eg(t)){case 1:var s=I1;break;case 4:s=D1;break;default:s=Nd}n=s.bind(null,t,n,e),s=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function du(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ur(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}hg(function(){var c=i,d=xd(n),f=[];e:{var h=Vg.get(e);if(h!==void 0){var v=Sd,y=e;switch(e){case"keypress":if(ua(n)===0)break e;case"keydown":case"keyup":v=K1;break;case"focusin":y="focus",v=su;break;case"focusout":y="blur",v=su;break;case"beforeblur":case"afterblur":v=su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=L1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Z1;break;case zg:case Fg:case $g:v=$1;break;case Hg:v=eb;break;case"scroll":v=A1;break;case"wheel":v=nb;break;case"copy":case"cut":case"paste":v=V1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=nh}var b=(t&4)!==0,S=!b&&e==="scroll",m=b?h!==null?h+"Capture":null:h;b=[];for(var g=c,p;g!==null;){p=g;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,m!==null&&(x=Ri(g,m),x!=null&&b.push(zi(g,x,p)))),S)break;g=g.return}0<b.length&&(h=new v(h,y,null,n,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ku&&(y=n.relatedTarget||n.fromElement)&&(ur(y)||y[yn]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?ur(y):null,y!==null&&(S=Hr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(b=eh,x="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=nh,x="onPointerLeave",m="onPointerEnter",g="pointer"),S=v==null?h:Yr(v),p=y==null?h:Yr(y),h=new b(x,g+"leave",v,n,d),h.target=S,h.relatedTarget=p,x=null,ur(d)===c&&(b=new b(m,g+"enter",y,n,d),b.target=p,b.relatedTarget=S,x=b),S=x,v&&y)t:{for(b=v,m=y,g=0,p=b;p;p=Ur(p))g++;for(p=0,x=m;x;x=Ur(x))p++;for(;0<g-p;)b=Ur(b),g--;for(;0<p-g;)m=Ur(m),p--;for(;g--;){if(b===m||m!==null&&b===m.alternate)break t;b=Ur(b),m=Ur(m)}b=null}else b=null;v!==null&&hh(f,h,v,b,!1),y!==null&&S!==null&&hh(f,S,y,b,!0)}}e:{if(h=c?Yr(c):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var w=ub;else if(ih(h))if(Ig)w=hb;else{w=db;var _=cb}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=fb);if(w&&(w=w(e,c))){Pg(f,w,n,d);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Bu(h,"number",h.value)}switch(_=c?Yr(c):window,e){case"focusin":(ih(_)||_.contentEditable==="true")&&(Xr=_,nc=c,Ni=null);break;case"focusout":Ni=nc=Xr=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,ch(f,n,d);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":ch(f,n,d)}var N;if(jd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qr?Mg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Tg&&n.locale!=="ko"&&(Qr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Qr&&(N=Cg()):(Hn=d,_d="value"in Hn?Hn.value:Hn.textContent,Qr=!0)),_=Pa(c,k),0<_.length&&(k=new th(k,e,null,n,d),f.push({event:k,listeners:_}),N?k.data=N:(N=Rg(n),N!==null&&(k.data=N)))),(N=sb?ib(e,n):ob(e,n))&&(c=Pa(c,"onBeforeInput"),0<c.length&&(d=new th("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=N))}Ug(f,t)})}function zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ri(e,n),i!=null&&r.unshift(zi(e,i,s)),i=Ri(e,t),i!=null&&r.push(zi(e,i,s))),e=e.return}return r}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Ri(n,i),u!=null&&o.unshift(zi(n,u,l))):s||(u=Ri(n,i),u!=null&&o.push(zi(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function ph(e){return(typeof e=="string"?e:""+e).replace(wb,`
`).replace(bb,"")}function $o(e,t,n){if(t=ph(t),ph(e)!==t&&n)throw Error(U(425))}function Ia(){}var sc=null,ic=null;function oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,Nb=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(e){return mh.resolve(null).then(e).catch(Sb)}:ac;function Sb(e){setTimeout(function(){throw e})}function fu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Di(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Di(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ws,Fi="__reactProps$"+Ws,yn="__reactContainer$"+Ws,lc="__reactEvents$"+Ws,kb="__reactListeners$"+Ws,jb="__reactHandles$"+Ws;function ur(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gh(e);e!==null;){if(n=e[Zt])return n;e=gh(e)}return t}e=n,n=e.parentNode}return null}function fo(e){return e=e[Zt]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function ml(e){return e[Fi]||null}var uc=[],Gr=-1;function nr(e){return{current:e}}function we(e){0>Gr||(e.current=uc[Gr],uc[Gr]=null,Gr--)}function ye(e,t){Gr++,uc[Gr]=e.current,e.current=t}var er={},Xe=nr(er),at=nr(!1),Tr=er;function js(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function Da(){we(at),we(Xe)}function yh(e,t,n){if(Xe.current!==er)throw Error(U(168));ye(Xe,t),ye(at,n)}function Wg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,c1(e)||"Unknown",s));return Ee({},n,r)}function Aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Tr=Xe.current,ye(Xe,e),ye(at,at.current),!0}function xh(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Wg(e,t,Tr),r.__reactInternalMemoizedMergedChildContext=e,we(at),we(Xe),ye(Xe,e)):we(at),ye(at,n)}var un=null,gl=!1,hu=!1;function qg(e){un===null?un=[e]:un.push(e)}function Eb(e){gl=!0,qg(e)}function rr(){if(!hu&&un!==null){hu=!0;var e=0,t=ge;try{var n=un;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,gl=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),yg(vd,rr),s}finally{ge=t,hu=!1}}return null}var Zr=[],Jr=0,Oa=null,La=0,_t=[],St=0,Mr=null,fn=1,hn="";function ir(e,t){Zr[Jr++]=La,Zr[Jr++]=Oa,Oa=e,La=t}function Qg(e,t,n){_t[St++]=fn,_t[St++]=hn,_t[St++]=Mr,Mr=e;var r=fn;e=hn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var i=32-$t(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-$t(t)+s|n<<s|r,hn=i+e}else fn=1<<i|n<<s|r,hn=e}function Cd(e){e.return!==null&&(ir(e,1),Qg(e,1,0))}function Td(e){for(;e===Oa;)Oa=Zr[--Jr],Zr[Jr]=null,La=Zr[--Jr],Zr[Jr]=null;for(;e===Mr;)Mr=_t[--St],_t[St]=null,hn=_t[--St],_t[St]=null,fn=_t[--St],_t[St]=null}var mt=null,pt=null,Ne=!1,At=null;function Xg(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dc(e){if(Ne){var t=pt;if(t){var n=t;if(!vh(e,t)){if(cc(e))throw Error(U(418));t=qn(n.nextSibling);var r=mt;t&&vh(e,t)?Xg(r,n):(e.flags=e.flags&-4097|2,Ne=!1,mt=e)}}else{if(cc(e))throw Error(U(418));e.flags=e.flags&-4097|2,Ne=!1,mt=e}}}function wh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Ho(e){if(e!==mt)return!1;if(!Ne)return wh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oc(e.type,e.memoizedProps)),t&&(t=pt)){if(cc(e))throw Kg(),Error(U(418));for(;t;)Xg(e,t),t=qn(t.nextSibling)}if(wh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?qn(e.stateNode.nextSibling):null;return!0}function Kg(){for(var e=pt;e;)e=qn(e.nextSibling)}function Es(){pt=mt=null,Ne=!1}function Md(e){At===null?At=[e]:At.push(e)}var Cb=bn.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bh(e){var t=e._init;return t(e._payload)}function Yg(e){function t(m,g){if(e){var p=m.deletions;p===null?(m.deletions=[g],m.flags|=16):p.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Yn(m,g),m.index=0,m.sibling=null,m}function i(m,g,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<g?(m.flags|=2,g):p):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,g,p,x){return g===null||g.tag!==6?(g=wu(p,m.mode,x),g.return=m,g):(g=s(g,p),g.return=m,g)}function u(m,g,p,x){var w=p.type;return w===qr?d(m,g,p.props.children,x,p.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&bh(w)===g.type)?(x=s(g,p.props),x.ref=ii(m,g,p),x.return=m,x):(x=ga(p.type,p.key,p.props,null,m.mode,x),x.ref=ii(m,g,p),x.return=m,x)}function c(m,g,p,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=bu(p,m.mode,x),g.return=m,g):(g=s(g,p.children||[]),g.return=m,g)}function d(m,g,p,x,w){return g===null||g.tag!==7?(g=kr(p,m.mode,x,w),g.return=m,g):(g=s(g,p),g.return=m,g)}function f(m,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wu(""+g,m.mode,p),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ro:return p=ga(g.type,g.key,g.props,null,m.mode,p),p.ref=ii(m,null,g),p.return=m,p;case Wr:return g=bu(g,m.mode,p),g.return=m,g;case Cn:var x=g._init;return f(m,x(g._payload),p)}if(fi(g)||ei(g))return g=kr(g,m.mode,p,null),g.return=m,g;Vo(m,g)}return null}function h(m,g,p,x){var w=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return w!==null?null:l(m,g,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ro:return p.key===w?u(m,g,p,x):null;case Wr:return p.key===w?c(m,g,p,x):null;case Cn:return w=p._init,h(m,g,w(p._payload),x)}if(fi(p)||ei(p))return w!==null?null:d(m,g,p,x,null);Vo(m,p)}return null}function v(m,g,p,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(p)||null,l(g,m,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ro:return m=m.get(x.key===null?p:x.key)||null,u(g,m,x,w);case Wr:return m=m.get(x.key===null?p:x.key)||null,c(g,m,x,w);case Cn:var _=x._init;return v(m,g,p,_(x._payload),w)}if(fi(x)||ei(x))return m=m.get(p)||null,d(g,m,x,w,null);Vo(g,x)}return null}function y(m,g,p,x){for(var w=null,_=null,N=g,k=g=0,E=null;N!==null&&k<p.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var T=h(m,N,p[k],x);if(T===null){N===null&&(N=E);break}e&&N&&T.alternate===null&&t(m,N),g=i(T,g,k),_===null?w=T:_.sibling=T,_=T,N=E}if(k===p.length)return n(m,N),Ne&&ir(m,k),w;if(N===null){for(;k<p.length;k++)N=f(m,p[k],x),N!==null&&(g=i(N,g,k),_===null?w=N:_.sibling=N,_=N);return Ne&&ir(m,k),w}for(N=r(m,N);k<p.length;k++)E=v(N,m,k,p[k],x),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),g=i(E,g,k),_===null?w=E:_.sibling=E,_=E);return e&&N.forEach(function(I){return t(m,I)}),Ne&&ir(m,k),w}function b(m,g,p,x){var w=ei(p);if(typeof w!="function")throw Error(U(150));if(p=w.call(p),p==null)throw Error(U(151));for(var _=w=null,N=g,k=g=0,E=null,T=p.next();N!==null&&!T.done;k++,T=p.next()){N.index>k?(E=N,N=null):E=N.sibling;var I=h(m,N,T.value,x);if(I===null){N===null&&(N=E);break}e&&N&&I.alternate===null&&t(m,N),g=i(I,g,k),_===null?w=I:_.sibling=I,_=I,N=E}if(T.done)return n(m,N),Ne&&ir(m,k),w;if(N===null){for(;!T.done;k++,T=p.next())T=f(m,T.value,x),T!==null&&(g=i(T,g,k),_===null?w=T:_.sibling=T,_=T);return Ne&&ir(m,k),w}for(N=r(m,N);!T.done;k++,T=p.next())T=v(N,m,k,T.value,x),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?k:T.key),g=i(T,g,k),_===null?w=T:_.sibling=T,_=T);return e&&N.forEach(function(A){return t(m,A)}),Ne&&ir(m,k),w}function S(m,g,p,x){if(typeof p=="object"&&p!==null&&p.type===qr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ro:e:{for(var w=p.key,_=g;_!==null;){if(_.key===w){if(w=p.type,w===qr){if(_.tag===7){n(m,_.sibling),g=s(_,p.props.children),g.return=m,m=g;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cn&&bh(w)===_.type){n(m,_.sibling),g=s(_,p.props),g.ref=ii(m,_,p),g.return=m,m=g;break e}n(m,_);break}else t(m,_);_=_.sibling}p.type===qr?(g=kr(p.props.children,m.mode,x,p.key),g.return=m,m=g):(x=ga(p.type,p.key,p.props,null,m.mode,x),x.ref=ii(m,g,p),x.return=m,m=x)}return o(m);case Wr:e:{for(_=p.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(m,g.sibling),g=s(g,p.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=bu(p,m.mode,x),g.return=m,m=g}return o(m);case Cn:return _=p._init,S(m,g,_(p._payload),x)}if(fi(p))return y(m,g,p,x);if(ei(p))return b(m,g,p,x);Vo(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,p),g.return=m,m=g):(n(m,g),g=wu(p,m.mode,x),g.return=m,m=g),o(m)):n(m,g)}return S}var Cs=Yg(!0),Gg=Yg(!1),za=nr(null),Fa=null,es=null,Rd=null;function Pd(){Rd=es=Fa=null}function Id(e){var t=za.current;we(za),e._currentValue=t}function fc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){Fa=e,Rd=es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Rd!==e)if(e={context:e,memoizedValue:t,next:null},es===null){if(Fa===null)throw Error(U(308));es=e,Fa.dependencies={lanes:0,firstContext:e}}else es=es.next=e;return t}var cr=null;function Dd(e){cr===null?cr=[e]:cr.push(e)}function Zg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dd(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Ad(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Dd(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function ca(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wd(e,n)}}function Nh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $a(e,t,n,r){var s=e.updateQueue;Tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,l=i;do{var h=l.lane,v=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,v=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(v,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(v,f,h):y,h==null)break e;f=Ee({},f,h);break e;case 2:Tn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Pr|=o,e.lanes=o,e.memoizedState=f}}function _h(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ho={},en=nr(ho),$i=nr(ho),Hi=nr(ho);function dr(e){if(e===ho)throw Error(U(174));return e}function Od(e,t){switch(ye(Hi,t),ye($i,e),ye(en,ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qu(t,e)}we(en),ye(en,t)}function Ts(){we(en),we($i),we(Hi)}function ey(e){dr(Hi.current);var t=dr(en.current),n=qu(t,e.type);t!==n&&(ye($i,e),ye(en,n))}function Ld(e){$i.current===e&&(we(en),we($i))}var ke=nr(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pu=[];function zd(){for(var e=0;e<pu.length;e++)pu[e]._workInProgressVersionPrimary=null;pu.length=0}var da=bn.ReactCurrentDispatcher,mu=bn.ReactCurrentBatchConfig,Rr=0,je=null,De=null,Le=null,Va=!1,_i=!1,Vi=0,Tb=0;function Be(){throw Error(U(321))}function Fd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function $d(e,t,n,r,s,i){if(Rr=i,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?Ib:Db,e=n(r,s),_i){i=0;do{if(_i=!1,Vi=0,25<=i)throw Error(U(301));i+=1,Le=De=null,t.updateQueue=null,da.current=Ab,e=n(r,s)}while(_i)}if(da.current=Ua,t=De!==null&&De.next!==null,Rr=0,Le=De=je=null,Va=!1,t)throw Error(U(300));return e}function Hd(){var e=Vi!==0;return Vi=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?je.memoizedState=Le=e:Le=Le.next=e,Le}function Ct(){if(De===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Le===null?je.memoizedState:Le.next;if(t!==null)Le=t,De=e;else{if(e===null)throw Error(U(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Le===null?je.memoizedState=Le=e:Le=Le.next=e}return Le}function Ui(e,t){return typeof t=="function"?t(e):t}function gu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((Rr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,je.lanes|=d,Pr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,Vt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,je.lanes|=i,Pr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yu(e){var t=Ct(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Vt(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ty(){}function ny(e,t){var n=je,r=Ct(),s=t(),i=!Vt(r.memoizedState,s);if(i&&(r.memoizedState=s,it=!0),r=r.queue,Vd(iy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Bi(9,sy.bind(null,n,r,s,t),void 0,null),ze===null)throw Error(U(349));Rr&30||ry(n,t,s)}return s}function ry(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sy(e,t,n,r){t.value=n,t.getSnapshot=r,oy(t)&&ay(e)}function iy(e,t,n){return n(function(){oy(t)&&ay(e)})}function oy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function ay(e){var t=xn(e,1);t!==null&&Ht(t,e,1,-1)}function Sh(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=Pb.bind(null,je,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ly(){return Ct().memoizedState}function fa(e,t,n,r){var s=Qt();je.flags|=e,s.memoizedState=Bi(1|t,n,void 0,r===void 0?null:r)}function yl(e,t,n,r){var s=Ct();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&Fd(r,o.deps)){s.memoizedState=Bi(t,n,i,r);return}}je.flags|=e,s.memoizedState=Bi(1|t,n,i,r)}function kh(e,t){return fa(8390656,8,e,t)}function Vd(e,t){return yl(2048,8,e,t)}function uy(e,t){return yl(4,2,e,t)}function cy(e,t){return yl(4,4,e,t)}function dy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fy(e,t,n){return n=n!=null?n.concat([e]):null,yl(4,4,dy.bind(null,t,e),n)}function Ud(){}function hy(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function py(e,t){var n=Ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function my(e,t,n){return Rr&21?(Vt(n,t)||(n=wg(),je.lanes|=n,Pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Mb(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=mu.transition;mu.transition={};try{e(!1),t()}finally{ge=n,mu.transition=r}}function gy(){return Ct().memoizedState}function Rb(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yy(e))xy(t,n);else if(n=Zg(e,t,n,r),n!==null){var s=Ze();Ht(n,e,r,s),vy(n,t,r)}}function Pb(e,t,n){var r=Kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yy(e))xy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vt(l,o)){var u=t.interleaved;u===null?(s.next=s,Dd(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Zg(e,t,s,r),n!==null&&(s=Ze(),Ht(n,e,r,s),vy(n,t,r))}}function yy(e){var t=e.alternate;return e===je||t!==null&&t===je}function xy(e,t){_i=Va=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wd(e,n)}}var Ua={readContext:Et,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Ib={readContext:Et,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:kh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fa(4194308,4,dy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return fa(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Rb.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:Sh,useDebugValue:Ud,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Sh(!1),t=e[0];return e=Mb.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,s=Qt();if(Ne){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),ze===null)throw Error(U(349));Rr&30||ry(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,kh(iy.bind(null,r,i,e),[e]),r.flags|=2048,Bi(9,sy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qt(),t=ze.identifierPrefix;if(Ne){var n=hn,r=fn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Db={readContext:Et,useCallback:hy,useContext:Et,useEffect:Vd,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:gu,useRef:ly,useState:function(){return gu(Ui)},useDebugValue:Ud,useDeferredValue:function(e){var t=Ct();return my(t,De.memoizedState,e)},useTransition:function(){var e=gu(Ui)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:ty,useSyncExternalStore:ny,useId:gy,unstable_isNewReconciler:!1},Ab={readContext:Et,useCallback:hy,useContext:Et,useEffect:Vd,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:yu,useRef:ly,useState:function(){return yu(Ui)},useDebugValue:Ud,useDeferredValue:function(e){var t=Ct();return De===null?t.memoizedState=e:my(t,De.memoizedState,e)},useTransition:function(){var e=yu(Ui)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:ty,useSyncExternalStore:ny,useId:gy,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xl={isMounted:function(e){return(e=e._reactInternals)?Hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(Ht(t,e,s,r),ca(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Kn(e),i=mn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,s),t!==null&&(Ht(t,e,s,r),ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Kn(e),s=mn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qn(e,s,r),t!==null&&(Ht(t,e,r,n),ca(t,e,r))}};function jh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,r)||!Oi(s,i):!0}function wy(e,t,n){var r=!1,s=er,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=lt(t)?Tr:Xe.current,r=t.contextTypes,i=(r=r!=null)?js(e,s):er),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Eh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xl.enqueueReplaceState(t,t.state,null)}function pc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ad(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=lt(t)?Tr:Xe.current,s.context=js(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xl.enqueueReplaceState(s,s.state,null),$a(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var n="",r=t;do n+=u1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function xu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function by(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wa||(Wa=!0,kc=r),mc(e,t)},n}function Ny(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mc(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ch(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ob;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Yb.bind(null,e,t,n),t.then(e,e))}function Th(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var Lb=bn.ReactCurrentOwner,it=!1;function Ge(e,t,n,r){t.child=e===null?Gg(t,null,n,r):Cs(t,e.child,n,r)}function Rh(e,t,n,r,s){n=n.render;var i=t.ref;return us(t,s),r=$d(e,t,n,r,i,s),n=Hd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ne&&n&&Cd(t),t.flags|=1,Ge(e,t,r,s),t.child)}function Ph(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Gd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,_y(e,t,i,r,s)):(e=ga(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function _y(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Oi(i,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,vn(e,t,s)}return gc(e,t,n,r,s)}function Sy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ns,ft),ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ns,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(ns,ft),ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ye(ns,ft),ft|=r;return Ge(e,t,s,n),t.child}function ky(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gc(e,t,n,r,s){var i=lt(n)?Tr:Xe.current;return i=js(t,i),us(t,s),n=$d(e,t,n,r,i,s),r=Hd(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ne&&r&&Cd(t),t.flags|=1,Ge(e,t,n,s),t.child)}function Ih(e,t,n,r,s){if(lt(n)){var i=!0;Aa(t)}else i=!1;if(us(t,s),t.stateNode===null)ha(e,t),wy(t,n,r),pc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Et(c):(c=lt(n)?Tr:Xe.current,c=js(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Eh(t,o,r,c),Tn=!1;var h=t.memoizedState;o.state=h,$a(t,r,o,s),u=t.memoizedState,l!==r||h!==u||at.current||Tn?(typeof d=="function"&&(hc(t,n,d,r),u=t.memoizedState),(l=Tn||jh(t,n,l,r,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Jg(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Mt(t.type,l),o.props=c,f=t.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Et(u):(u=lt(n)?Tr:Xe.current,u=js(t,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==u)&&Eh(t,o,r,u),Tn=!1,h=t.memoizedState,o.state=h,$a(t,r,o,s);var y=t.memoizedState;l!==f||h!==y||at.current||Tn?(typeof v=="function"&&(hc(t,n,v,r),y=t.memoizedState),(c=Tn||jh(t,n,c,r,h,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return yc(e,t,n,r,i,s)}function yc(e,t,n,r,s,i){ky(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&xh(t,n,!1),vn(e,t,i);r=t.stateNode,Lb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Cs(t,e.child,null,i),t.child=Cs(t,null,l,i)):Ge(e,t,l,i),t.memoizedState=r.state,s&&xh(t,n,!0),t.child}function jy(e){var t=e.stateNode;t.pendingContext?yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yh(e,t.context,!1),Od(e,t.containerInfo)}function Dh(e,t,n,r,s){return Es(),Md(s),t.flags|=256,Ge(e,t,n,r),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ey(e,t,n){var r=t.pendingProps,s=ke.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(ke,s&1),e===null)return dc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bl(o,r,0,null),e=kr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vc(n),t.memoizedState=xc,e):Bd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zb(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Yn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yn(l,i):(i=kr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?vc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=xc,r}return i=e.child,e=i.sibling,r=Yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bd(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uo(e,t,n,r){return r!==null&&Md(r),Cs(t,e.child,null,n),e=Bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=xu(Error(U(422))),Uo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=bl({mode:"visible",children:r.children},s,0,null),i=kr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Cs(t,e.child,null,o),t.child.memoizedState=vc(o),t.memoizedState=xc,i);if(!(t.mode&1))return Uo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=xu(i,r,void 0),Uo(e,t,o,r)}if(l=(o&e.childLanes)!==0,it||l){if(r=ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),Ht(r,e,s,-1))}return Yd(),r=xu(Error(U(421))),Uo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,pt=qn(s.nextSibling),mt=t,Ne=!0,At=null,e!==null&&(_t[St++]=fn,_t[St++]=hn,_t[St++]=Mr,fn=e.id,hn=e.overflow,Mr=t),t=Bd(t,r.children),t.flags|=4096,t)}function Ah(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fc(e.return,t,n)}function vu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ge(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,n,t);else if(e.tag===19)Ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ha(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ha(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vu(t,!0,n,null,i);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fb(e,t,n){switch(t.tag){case 3:jy(t),Es();break;case 5:ey(t);break;case 1:lt(t.type)&&Aa(t);break;case 4:Od(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(za,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Ey(e,t,n):(ye(ke,ke.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Sy(e,t,n)}return vn(e,t,n)}var Ty,wc,My,Ry;Ty=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wc=function(){};My=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(en.current);var i=null;switch(n){case"input":s=Vu(e,s),r=Vu(e,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Wu(e,s),r=Wu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}Qu(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ti.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ve("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ry=function(e,t,n,r){n!==r&&(t.flags|=4)};function oi(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $b(e,t,n){var r=t.pendingProps;switch(Td(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return lt(t.type)&&Da(),We(t),null;case 3:return r=t.stateNode,Ts(),we(at),we(Xe),zd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ho(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Cc(At),At=null))),wc(e,t),We(t),null;case 5:Ld(t);var s=dr(Hi.current);if(n=t.type,e!==null&&t.stateNode!=null)My(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return We(t),null}if(e=dr(en.current),Ho(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[Fi]=i,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<pi.length;s++)ve(pi[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Bf(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":qf(r,i),ve("invalid",r)}Qu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),s=["children",""+l]):Ti.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Po(r),Wf(r,i,!0);break;case"textarea":Po(r),Qf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ia)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ig(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[Fi]=r,Ty(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xu(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<pi.length;s++)ve(pi[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":Bf(e,r),s=Vu(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ve("invalid",e);break;case"textarea":qf(e,r),s=Wu(e,r),ve("invalid",e);break;default:s=r}Qu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?lg(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&og(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Mi(e,u):typeof u=="number"&&Mi(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ve("scroll",e):u!=null&&pd(e,i,u,o))}switch(n){case"input":Po(e),Wf(e,r,!1);break;case"textarea":Po(e),Qf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?is(e,!!r.multiple,i,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Ry(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=dr(Hi.current),dr(en.current),Ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:$o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return We(t),null;case 13:if(we(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&pt!==null&&t.mode&1&&!(t.flags&128))Kg(),Es(),t.flags|=98560,i=!1;else if(i=Ho(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Zt]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else At!==null&&(Cc(At),At=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ae===0&&(Ae=3):Yd())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ts(),wc(e,t),e===null&&Li(t.stateNode.containerInfo),We(t),null;case 10:return Id(t.type._context),We(t),null;case 17:return lt(t.type)&&Da(),We(t),null;case 19:if(we(ke),i=t.memoizedState,i===null)return We(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)oi(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ha(e),o!==null){for(t.flags|=128,oi(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),t.child}e=e.sibling}i.tail!==null&&Me()>Rs&&(t.flags|=128,r=!0,oi(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ha(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return We(t),null}else 2*Me()-i.renderingStartTime>Rs&&n!==1073741824&&(t.flags|=128,r=!0,oi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Me(),t.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Kd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Hb(e,t){switch(Td(t),t.tag){case 1:return lt(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ts(),we(at),we(Xe),zd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ld(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return Ts(),null;case 10:return Id(t.type._context),null;case 22:case 23:return Kd(),null;case 24:return null;default:return null}}var Bo=!1,qe=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,X=null;function ts(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function bc(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Oh=!1;function Ub(e,t){if(sc=Ma,e=Og(),Ed(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===n&&++c===s&&(l=o),h===i&&++d===r&&(u=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:e,selectionRange:n},Ma=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,S=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:Mt(t.type,b),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(x){Te(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return y=Oh,Oh=!1,y}function Si(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bc(t,n,i)}s=s.next}while(s!==r)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Py(e){var t=e.alternate;t!==null&&(e.alternate=null,Py(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Fi],delete t[lc],delete t[kb],delete t[jb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iy(e){return e.tag===5||e.tag===3||e.tag===4}function Lh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}function Sc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sc(e,t,n),e=e.sibling;e!==null;)Sc(e,t,n),e=e.sibling}var Fe=null,It=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Dy(e,t,n),n=n.sibling}function Dy(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:qe||ts(n,t);case 6:var r=Fe,s=It;Fe=null,Sn(e,t,n),Fe=r,It=s,Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(It?(e=Fe,n=n.stateNode,e.nodeType===8?fu(e.parentNode,n):e.nodeType===1&&fu(e,n),Di(e)):fu(Fe,n.stateNode));break;case 4:r=Fe,s=It,Fe=n.stateNode.containerInfo,It=!0,Sn(e,t,n),Fe=r,It=s;break;case 0:case 11:case 14:case 15:if(!qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bc(n,t,o),s=s.next}while(s!==r)}Sn(e,t,n);break;case 1:if(!qe&&(ts(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,t,l)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(qe=(r=qe)||n.memoizedState!==null,Sn(e,t,n),qe=r):Sn(e,t,n);break;default:Sn(e,t,n)}}function zh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vb),t.forEach(function(r){var s=Zb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fe=l.stateNode,It=!1;break e;case 3:Fe=l.stateNode.containerInfo,It=!0;break e;case 4:Fe=l.stateNode.containerInfo,It=!0;break e}l=l.return}if(Fe===null)throw Error(U(160));Dy(i,o,s),Fe=null,It=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ay(t,e),t=t.sibling}function Ay(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Wt(e),r&4){try{Si(3,e,e.return),vl(3,e)}catch(b){Te(e,e.return,b)}try{Si(5,e,e.return)}catch(b){Te(e,e.return,b)}}break;case 1:Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return);break;case 5:if(Tt(t,e),Wt(e),r&512&&n!==null&&ts(n,n.return),e.flags&32){var s=e.stateNode;try{Mi(s,"")}catch(b){Te(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rg(s,i),Xu(l,o);var c=Xu(l,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?lg(s,f):d==="dangerouslySetInnerHTML"?og(s,f):d==="children"?Mi(s,f):pd(s,d,f,c)}switch(l){case"input":Uu(s,i);break;case"textarea":sg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?is(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?is(s,!!i.multiple,i.defaultValue,!0):is(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fi]=i}catch(b){Te(e,e.return,b)}}break;case 6:if(Tt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){Te(e,e.return,b)}}break;case 3:if(Tt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(b){Te(e,e.return,b)}break;case 4:Tt(t,e),Wt(e);break;case 13:Tt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qd=Me())),r&4&&zh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(c=qe)||d,Tt(t,e),qe=c):Tt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,v=h.child,h.tag){case 0:case 11:case 14:case 15:Si(4,h,h.return);break;case 1:ts(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Te(r,n,b)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){$h(f);continue}}v!==null?(v.return=h,X=v):$h(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=ag("display",o))}catch(b){Te(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Te(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Wt(e),r&4&&zh(e);break;case 21:break;default:Tt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iy(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mi(s,""),r.flags&=-33);var i=Lh(e);Sc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Lh(e);_c(e,l,o);break;default:throw Error(U(161))}}catch(u){Te(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bb(e,t,n){X=e,Oy(e)}function Oy(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bo;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||qe;l=Bo;var c=qe;if(Bo=o,(qe=u)&&!c)for(X=s;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Hh(s):u!==null?(u.return=o,X=u):Hh(s);for(;i!==null;)X=i,Oy(i),i=i.sibling;X=s,Bo=l,qe=c}Fh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Fh(e)}}function Fh(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_h(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_h(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Di(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}qe||t.flags&512&&Nc(t)}catch(h){Te(t,t.return,h)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function $h(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Hh(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vl(4,t)}catch(u){Te(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Te(t,s,u)}}var i=t.return;try{Nc(t)}catch(u){Te(t,i,u)}break;case 5:var o=t.return;try{Nc(t)}catch(u){Te(t,o,u)}}}catch(u){Te(t,t.return,u)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var Wb=Math.ceil,Ba=bn.ReactCurrentDispatcher,Wd=bn.ReactCurrentOwner,jt=bn.ReactCurrentBatchConfig,de=0,ze=null,Pe=null,He=0,ft=0,ns=nr(0),Ae=0,Wi=null,Pr=0,wl=0,qd=0,ki=null,st=null,Qd=0,Rs=1/0,ln=null,Wa=!1,kc=null,Xn=null,Wo=!1,Vn=null,qa=0,ji=0,jc=null,pa=-1,ma=0;function Ze(){return de&6?Me():pa!==-1?pa:pa=Me()}function Kn(e){return e.mode&1?de&2&&He!==0?He&-He:Cb.transition!==null?(ma===0&&(ma=wg()),ma):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Eg(e.type)),e):1}function Ht(e,t,n,r){if(50<ji)throw ji=0,jc=null,Error(U(185));uo(e,n,r),(!(de&2)||e!==ze)&&(e===ze&&(!(de&2)&&(wl|=n),Ae===4&&Rn(e,He)),ut(e,r),n===1&&de===0&&!(t.mode&1)&&(Rs=Me()+500,gl&&rr()))}function ut(e,t){var n=e.callbackNode;C1(e,t);var r=Ta(e,e===ze?He:0);if(r===0)n!==null&&Yf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yf(n),t===1)e.tag===0?Eb(Vh.bind(null,e)):qg(Vh.bind(null,e)),_b(function(){!(de&6)&&rr()}),n=null;else{switch(bg(r)){case 1:n=vd;break;case 4:n=xg;break;case 16:n=Ca;break;case 536870912:n=vg;break;default:n=Ca}n=By(n,Ly.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ly(e,t){if(pa=-1,ma=0,de&6)throw Error(U(327));var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var r=Ta(e,e===ze?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qa(e,r);else{t=r;var s=de;de|=2;var i=Fy();(ze!==e||He!==t)&&(ln=null,Rs=Me()+500,Sr(e,t));do try{Xb();break}catch(l){zy(e,l)}while(!0);Pd(),Ba.current=i,de=s,Pe!==null?t=0:(ze=null,He=0,t=Ae)}if(t!==0){if(t===2&&(s=Ju(e),s!==0&&(r=s,t=Ec(e,s))),t===1)throw n=Wi,Sr(e,0),Rn(e,r),ut(e,Me()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!qb(s)&&(t=Qa(e,r),t===2&&(i=Ju(e),i!==0&&(r=i,t=Ec(e,i))),t===1))throw n=Wi,Sr(e,0),Rn(e,r),ut(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:or(e,st,ln);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Qd+500-Me(),10<t)){if(Ta(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ac(or.bind(null,e,st,ln),t);break}or(e,st,ln);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wb(r/1960))-r,10<r){e.timeoutHandle=ac(or.bind(null,e,st,ln),r);break}or(e,st,ln);break;case 5:or(e,st,ln);break;default:throw Error(U(329))}}}return ut(e,Me()),e.callbackNode===n?Ly.bind(null,e):null}function Ec(e,t){var n=ki;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=st,st=n,t!==null&&Cc(t)),e}function Cc(e){st===null?st=e:st.push.apply(st,e)}function qb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~qd,t&=~wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function Vh(e){if(de&6)throw Error(U(327));cs();var t=Ta(e,0);if(!(t&1))return ut(e,Me()),null;var n=Qa(e,t);if(e.tag!==0&&n===2){var r=Ju(e);r!==0&&(t=r,n=Ec(e,r))}if(n===1)throw n=Wi,Sr(e,0),Rn(e,t),ut(e,Me()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,st,ln),ut(e,Me()),null}function Xd(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Rs=Me()+500,gl&&rr())}}function Ir(e){Vn!==null&&Vn.tag===0&&!(de&6)&&cs();var t=de;de|=1;var n=jt.transition,r=ge;try{if(jt.transition=null,ge=1,e)return e()}finally{ge=r,jt.transition=n,de=t,!(de&6)&&rr()}}function Kd(){ft=ns.current,we(ns)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Nb(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Td(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Da();break;case 3:Ts(),we(at),we(Xe),zd();break;case 5:Ld(r);break;case 4:Ts();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Id(r.type._context);break;case 22:case 23:Kd()}n=n.return}if(ze=e,Pe=e=Yn(e.current,null),He=ft=t,Ae=0,Wi=null,qd=wl=Pr=0,st=ki=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cr=null}return e}function zy(e,t){do{var n=Pe;try{if(Pd(),da.current=Ua,Va){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Va=!1}if(Rr=0,Le=De=je=null,_i=!1,Vi=0,Wd.current=null,n===null||n.return===null){Ae=1,Wi=t,Pe=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=He,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Th(o);if(v!==null){v.flags&=-257,Mh(v,o,l,i,t),v.mode&1&&Ch(i,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var b=new Set;b.add(u),t.updateQueue=b}else y.add(u);break e}else{if(!(t&1)){Ch(i,c,t),Yd();break e}u=Error(U(426))}}else if(Ne&&l.mode&1){var S=Th(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Mh(S,o,l,i,t),Md(Ms(u,l));break e}}i=u=Ms(u,l),Ae!==4&&(Ae=2),ki===null?ki=[i]:ki.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=by(i,u,t);Nh(i,m);break e;case 1:l=u;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xn===null||!Xn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Ny(i,l,t);Nh(i,x);break e}}i=i.return}while(i!==null)}Hy(n)}catch(w){t=w,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Fy(){var e=Ba.current;return Ba.current=Ua,e===null?Ua:e}function Yd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),ze===null||!(Pr&268435455)&&!(wl&268435455)||Rn(ze,He)}function Qa(e,t){var n=de;de|=2;var r=Fy();(ze!==e||He!==t)&&(ln=null,Sr(e,t));do try{Qb();break}catch(s){zy(e,s)}while(!0);if(Pd(),de=n,Ba.current=r,Pe!==null)throw Error(U(261));return ze=null,He=0,Ae}function Qb(){for(;Pe!==null;)$y(Pe)}function Xb(){for(;Pe!==null&&!v1();)$y(Pe)}function $y(e){var t=Uy(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Hy(e):Pe=t,Wd.current=null}function Hy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hb(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(n=$b(n,t,ft),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function or(e,t,n){var r=ge,s=jt.transition;try{jt.transition=null,ge=1,Kb(e,t,n,r)}finally{jt.transition=s,ge=r}return null}function Kb(e,t,n,r){do cs();while(Vn!==null);if(de&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(T1(e,i),e===ze&&(Pe=ze=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,By(Ca,function(){return cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var o=ge;ge=1;var l=de;de|=4,Wd.current=null,Ub(e,n),Ay(n,e),mb(ic),Ma=!!sc,ic=sc=null,e.current=n,Bb(n),w1(),de=l,ge=o,jt.transition=i}else e.current=n;if(Wo&&(Wo=!1,Vn=e,qa=s),i=e.pendingLanes,i===0&&(Xn=null),_1(n.stateNode),ut(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wa)throw Wa=!1,e=kc,kc=null,e;return qa&1&&e.tag!==0&&cs(),i=e.pendingLanes,i&1?e===jc?ji++:(ji=0,jc=e):ji=0,rr(),null}function cs(){if(Vn!==null){var e=bg(qa),t=jt.transition,n=ge;try{if(jt.transition=null,ge=16>e?16:e,Vn===null)var r=!1;else{if(e=Vn,Vn=null,qa=0,de&6)throw Error(U(331));var s=de;for(de|=4,X=e.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:Si(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,v=d.return;if(Py(d),d===c){X=null;break}if(h!==null){h.return=v,X=h;break}X=v}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Si(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,X=m;break e}X=i.return}}var g=e.current;for(X=g;X!==null;){o=X;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,X=p;else e:for(o=g;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vl(9,l)}}catch(w){Te(l,l.return,w)}if(l===o){X=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,X=x;break e}X=l.return}}if(de=s,rr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(dl,e)}catch{}r=!0}return r}finally{ge=n,jt.transition=t}}return!1}function Uh(e,t,n){t=Ms(n,t),t=by(e,t,1),e=Qn(e,t,1),t=Ze(),e!==null&&(uo(e,1,t),ut(e,t))}function Te(e,t,n){if(e.tag===3)Uh(e,e,n);else for(;t!==null;){if(t.tag===3){Uh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=Ms(n,e),e=Ny(t,e,1),t=Qn(t,e,1),e=Ze(),t!==null&&(uo(t,1,e),ut(t,e));break}}t=t.return}}function Yb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(He&n)===n&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Me()-Qd?Sr(e,0):qd|=n),ut(e,t)}function Vy(e,t){t===0&&(e.mode&1?(t=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):t=1);var n=Ze();e=xn(e,t),e!==null&&(uo(e,t,n),ut(e,n))}function Gb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vy(e,n)}function Zb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Vy(e,n)}var Uy;Uy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,Fb(e,t,n);it=!!(e.flags&131072)}else it=!1,Ne&&t.flags&1048576&&Qg(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ha(e,t),e=t.pendingProps;var s=js(t,Xe.current);us(t,n),s=$d(null,t,r,e,s,n);var i=Hd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(i=!0,Aa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ad(t),s.updater=xl,t.stateNode=s,s._reactInternals=t,pc(t,r,e,n),t=yc(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&Cd(t),Ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=eN(r),e=Mt(r,e),s){case 0:t=gc(null,t,r,e,n);break e;case 1:t=Ih(null,t,r,e,n);break e;case 11:t=Rh(null,t,r,e,n);break e;case 14:t=Ph(null,t,r,Mt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),gc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Ih(e,t,r,s,n);case 3:e:{if(jy(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Jg(e,t),$a(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ms(Error(U(423)),t),t=Dh(e,t,r,n,s);break e}else if(r!==s){s=Ms(Error(U(424)),t),t=Dh(e,t,r,n,s);break e}else for(pt=qn(t.stateNode.containerInfo.firstChild),mt=t,Ne=!0,At=null,n=Gg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===s){t=vn(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return ey(t),e===null&&dc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,oc(r,s)?o=null:i!==null&&oc(r,i)&&(t.flags|=32),ky(e,t),Ge(e,t,o,n),t.child;case 6:return e===null&&dc(t),null;case 13:return Ey(e,t,n);case 4:return Od(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cs(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),Rh(e,t,r,s,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ye(za,r._currentValue),r._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===s.children&&!at.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=mn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),fc(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),fc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,us(t,n),s=Et(s),r=r(s),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,s=Mt(r,t.pendingProps),s=Mt(r.type,s),Ph(e,t,r,s,n);case 15:return _y(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Mt(r,s),ha(e,t),t.tag=1,lt(r)?(e=!0,Aa(t)):e=!1,us(t,n),wy(t,r,s),pc(t,r,s,n),yc(null,t,r,!0,e,n);case 19:return Cy(e,t,n);case 22:return Sy(e,t,n)}throw Error(U(156,t.tag))};function By(e,t){return yg(e,t)}function Jb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new Jb(e,t,n,r)}function Gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eN(e){if(typeof e=="function")return Gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gd)return 11;if(e===yd)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ga(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Gd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qr:return kr(n.children,s,i,t);case md:o=8,s|=8;break;case zu:return e=kt(12,n,t,s|2),e.elementType=zu,e.lanes=i,e;case Fu:return e=kt(13,n,t,s),e.elementType=Fu,e.lanes=i,e;case $u:return e=kt(19,n,t,s),e.elementType=$u,e.lanes=i,e;case eg:return bl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zm:o=10;break e;case Jm:o=9;break e;case gd:o=11;break e;case yd:o=14;break e;case Cn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function kr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function bl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=eg,e.lanes=n,e.stateNode={isHidden:!1},e}function wu(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function bu(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zd(e,t,n,r,s,i,o,l,u){return e=new tN(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=kt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(i),e}function nN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wy(e){if(!e)return er;e=e._reactInternals;e:{if(Hr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(lt(n))return Wg(e,n,t)}return t}function qy(e,t,n,r,s,i,o,l,u){return e=Zd(n,r,!0,e,s,i,o,l,u),e.context=Wy(null),n=e.current,r=Ze(),s=Kn(n),i=mn(r,s),i.callback=t??null,Qn(n,i,s),e.current.lanes=s,uo(e,s,r),ut(e,r),e}function Nl(e,t,n,r){var s=t.current,i=Ze(),o=Kn(s);return n=Wy(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qn(s,t,o),e!==null&&(Ht(e,s,o,i),ca(e,s,o)),o}function Xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jd(e,t){Bh(e,t),(e=e.alternate)&&Bh(e,t)}function rN(){return null}var Qy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ef(e){this._internalRoot=e}_l.prototype.render=ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Nl(e,t,null,null)};_l.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ir(function(){Nl(null,e,null,null)}),t[yn]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&jg(e)}};function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function sN(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xa(o);i.call(c)}}var o=qy(t,r,e,0,null,!1,!1,"",Wh);return e._reactRootContainer=o,e[yn]=o.current,Li(e.nodeType===8?e.parentNode:e),Ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Xa(u);l.call(c)}}var u=Zd(e,0,!1,null,null,!1,!1,"",Wh);return e._reactRootContainer=u,e[yn]=u.current,Li(e.nodeType===8?e.parentNode:e),Ir(function(){Nl(t,u,n,r)}),u}function kl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Xa(o);l.call(u)}}Nl(t,o,e,s)}else o=sN(n,t,e,s,r);return Xa(o)}Ng=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hi(t.pendingLanes);n!==0&&(wd(t,n|1),ut(t,Me()),!(de&6)&&(Rs=Me()+500,rr()))}break;case 13:Ir(function(){var r=xn(e,1);if(r!==null){var s=Ze();Ht(r,e,1,s)}}),Jd(e,1)}};bd=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=Ze();Ht(t,e,134217728,n)}Jd(e,134217728)}};_g=function(e){if(e.tag===13){var t=Kn(e),n=xn(e,t);if(n!==null){var r=Ze();Ht(n,e,t,r)}Jd(e,t)}};Sg=function(){return ge};kg=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Yu=function(e,t,n){switch(t){case"input":if(Uu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ml(r);if(!s)throw Error(U(90));ng(r),Uu(r,s)}}}break;case"textarea":sg(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};dg=Xd;fg=Ir;var iN={usingClientEntryPoint:!1,Events:[fo,Yr,ml,ug,cg,Xd]},ai={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oN={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mg(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||rN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{dl=qo.inject(oN),Jt=qo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iN;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tf(t))throw Error(U(200));return nN(e,t,null,n)};xt.createRoot=function(e,t){if(!tf(e))throw Error(U(299));var n=!1,r="",s=Qy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zd(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,Li(e.nodeType===8?e.parentNode:e),new ef(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=mg(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Ir(e)};xt.hydrate=function(e,t,n){if(!Sl(t))throw Error(U(200));return kl(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!tf(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Qy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qy(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,Li(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new _l(t)};xt.render=function(e,t,n){if(!Sl(t))throw Error(U(200));return kl(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(U(40));return e._reactRootContainer?(Ir(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};xt.unstable_batchedUpdates=Xd;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sl(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return kl(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Xy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xy)}catch(e){console.error(e)}}Xy(),Xm.exports=xt;var Ky=Xm.exports,qh=Ky;Ou.createRoot=qh.createRoot,Ou.hydrateRoot=qh.hydrateRoot;var po=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aN={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},In,ad,jm,lN=(jm=class{constructor(){ee(this,In,aN);ee(this,ad,!1)}setTimeoutProvider(e){Q(this,In,e)}setTimeout(e,t){return P(this,In).setTimeout(e,t)}clearTimeout(e){P(this,In).clearTimeout(e)}setInterval(e,t){return P(this,In).setInterval(e,t)}clearInterval(e){P(this,In).clearInterval(e)}},In=new WeakMap,ad=new WeakMap,jm),fr=new lN;function uN(e){setTimeout(e,0)}var Dr=typeof window>"u"||"Deno"in globalThis;function rt(){}function cN(e,t){return typeof e=="function"?e(t):e}function Tc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gn(e,t){return typeof e=="function"?e(t):e}function Nt(e,t){return typeof e=="function"?e(t):e}function Qh(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==nf(o,t.options))return!1}else if(!Qi(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Xh(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(qi(t.options.mutationKey)!==qi(i))return!1}else if(!Qi(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function nf(e,t){return((t==null?void 0:t.queryKeyHashFn)||qi)(e)}function qi(e){return JSON.stringify(e,(t,n)=>Rc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Qi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Qi(e[n],t[n])):!1}var dN=Object.prototype.hasOwnProperty;function Gy(e,t){if(e===t)return e;const n=Kh(e)&&Kh(t);if(!n&&!(Rc(e)&&Rc(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c],f=e[d],h=t[d];if(f===h){l[d]=f,(n?c<s:dN.call(e,d))&&u++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const v=Gy(f,h);l[d]=v,v===f&&u++}return s===o&&u===s?e:l}function Mc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Kh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rc(e){if(!Yh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Yh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yh(e){return Object.prototype.toString.call(e)==="[object Object]"}function fN(e){return new Promise(t=>{fr.setTimeout(t,e)})}function Pc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Gy(e,t):t}function hN(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function pN(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rf=Symbol();function Zy(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mN(e,t){return typeof e=="function"?e(...t):!!e}var mr,Dn,hs,Em,gN=(Em=class extends po{constructor(){super();ee(this,mr);ee(this,Dn);ee(this,hs);Q(this,hs,t=>{if(!Dr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Dn)||this.setEventListener(P(this,hs))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Dn))==null||t.call(this),Q(this,Dn,void 0))}setEventListener(t){var n;Q(this,hs,t),(n=P(this,Dn))==null||n.call(this),Q(this,Dn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){P(this,mr)!==t&&(Q(this,mr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof P(this,mr)=="boolean"?P(this,mr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},mr=new WeakMap,Dn=new WeakMap,hs=new WeakMap,Em),sf=new gN;function Ic(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var yN=uN;function xN(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=yN;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var $e=xN(),ps,An,ms,Cm,vN=(Cm=class extends po{constructor(){super();ee(this,ps,!0);ee(this,An);ee(this,ms);Q(this,ms,t=>{if(!Dr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,An)||this.setEventListener(P(this,ms))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,An))==null||t.call(this),Q(this,An,void 0))}setEventListener(t){var n;Q(this,ms,t),(n=P(this,An))==null||n.call(this),Q(this,An,t(this.setOnline.bind(this)))}setOnline(t){P(this,ps)!==t&&(Q(this,ps,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return P(this,ps)}},ps=new WeakMap,An=new WeakMap,ms=new WeakMap,Cm),Ka=new vN;function wN(e){return Math.min(1e3*2**e,3e4)}function Jy(e){return(e??"online")==="online"?Ka.isOnline():!0}var Dc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ex(e){let t=!1,n=0,r;const s=Ic(),i=()=>s.status!=="pending",o=b=>{var S;if(!i()){const m=new Dc(b);h(m),(S=e.onCancel)==null||S.call(e,m)}},l=()=>{t=!0},u=()=>{t=!1},c=()=>sf.isFocused()&&(e.networkMode==="always"||Ka.isOnline())&&e.canRun(),d=()=>Jy(e.networkMode)&&e.canRun(),f=b=>{i()||(r==null||r(),s.resolve(b))},h=b=>{i()||(r==null||r(),s.reject(b))},v=()=>new Promise(b=>{var S;r=m=>{(i()||c())&&b(m)},(S=e.onPause)==null||S.call(e)}).then(()=>{var b;r=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const S=n===0?e.initialPromise:void 0;try{b=S??e.fn()}catch(m){b=Promise.reject(m)}Promise.resolve(b).then(f).catch(m=>{var _;if(i())return;const g=e.retry??(Dr?0:3),p=e.retryDelay??wN,x=typeof p=="function"?p(n,m):p,w=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(t||!w){h(m);return}n++,(_=e.onFail)==null||_.call(e,n,m),fN(x).then(()=>c()?void 0:v()).then(()=>{t?h(m):y()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?y():v().then(y),s)}}var gr,Tm,tx=(Tm=class{constructor(){ee(this,gr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tc(this.gcTime)&&Q(this,gr,fr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Dr?1/0:5*60*1e3))}clearGcTimeout(){P(this,gr)&&(fr.clearTimeout(P(this,gr)),Q(this,gr,void 0))}},gr=new WeakMap,Tm),yr,gs,bt,xr,Oe,ro,vr,Rt,an,Mm,bN=(Mm=class extends tx{constructor(t){super();ee(this,Rt);ee(this,yr);ee(this,gs);ee(this,bt);ee(this,xr);ee(this,Oe);ee(this,ro);ee(this,vr);Q(this,vr,!1),Q(this,ro,t.defaultOptions),this.setOptions(t.options),this.observers=[],Q(this,xr,t.client),Q(this,bt,P(this,xr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Q(this,yr,Zh(this.options)),this.state=t.state??P(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,Oe))==null?void 0:t.promise}setOptions(t){if(this.options={...P(this,ro),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Zh(this.options);n.data!==void 0&&(this.setState(Gh(n.data,n.dataUpdatedAt)),Q(this,yr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,bt).remove(this)}setData(t,n){const r=Pc(this.state.data,t,this.options);return le(this,Rt,an).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){le(this,Rt,an).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=P(this,Oe))==null?void 0:r.promise;return(s=P(this,Oe))==null||s.cancel(t),n?n.then(rt).catch(rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,yr))}isActive(){return this.observers.some(t=>Nt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Yy(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Oe))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,Oe))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(P(this,Oe)&&(P(this,vr)?P(this,Oe).cancel({revert:!0}):P(this,Oe).cancelRetry()),this.scheduleGc()),P(this,bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Rt,an).call(this,{type:"invalidate"})}async fetch(t,n){var u,c,d,f,h,v,y,b,S,m,g,p;if(this.state.fetchStatus!=="idle"&&((u=P(this,Oe))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,Oe))return P(this,Oe).continueRetry(),P(this,Oe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Q(this,vr,!0),r.signal)})},i=()=>{const x=Zy(this.options,n),_=(()=>{const N={client:P(this,xr),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Q(this,vr,!1),this.options.persister?this.options.persister(x,_,this):x(_)},l=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,xr),state:this.state,fetchFn:i};return s(x),x})();(c=this.options.behavior)==null||c.onFetch(l,this),Q(this,gs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&le(this,Rt,an).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Q(this,Oe,ex({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof Dc&&x.revert&&this.setState({...P(this,gs),fetchStatus:"idle"}),r.abort()},onFail:(x,w)=>{le(this,Rt,an).call(this,{type:"failed",failureCount:x,error:w})},onPause:()=>{le(this,Rt,an).call(this,{type:"pause"})},onContinue:()=>{le(this,Rt,an).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await P(this,Oe).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(v=(h=P(this,bt).config).onSuccess)==null||v.call(h,x,this),(b=(y=P(this,bt).config).onSettled)==null||b.call(y,x,this.state.error,this),x}catch(x){if(x instanceof Dc){if(x.silent)return P(this,Oe).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw le(this,Rt,an).call(this,{type:"error",error:x}),(m=(S=P(this,bt).config).onError)==null||m.call(S,x,this),(p=(g=P(this,bt).config).onSettled)==null||p.call(g,this.state.data,x,this),x}finally{this.scheduleGc()}}},yr=new WeakMap,gs=new WeakMap,bt=new WeakMap,xr=new WeakMap,Oe=new WeakMap,ro=new WeakMap,vr=new WeakMap,Rt=new WeakSet,an=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...nx(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Gh(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Q(this,gs,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),$e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,bt).notify({query:this,type:"updated",action:t})})},Mm);function nx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gh(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zh(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nt,ue,so,Ke,wr,ys,cn,On,io,xs,vs,br,Nr,Ln,ws,me,mi,Ac,Oc,Lc,zc,Fc,$c,Hc,rx,Rm,NN=(Rm=class extends po{constructor(t,n){super();ee(this,me);ee(this,nt);ee(this,ue);ee(this,so);ee(this,Ke);ee(this,wr);ee(this,ys);ee(this,cn);ee(this,On);ee(this,io);ee(this,xs);ee(this,vs);ee(this,br);ee(this,Nr);ee(this,Ln);ee(this,ws,new Set);this.options=n,Q(this,nt,t),Q(this,On,null),Q(this,cn,Ic()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,ue).addObserver(this),Jh(P(this,ue),this.options)?le(this,me,mi).call(this):this.updateResult(),le(this,me,zc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vc(P(this,ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vc(P(this,ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,me,Fc).call(this),le(this,me,$c).call(this),P(this,ue).removeObserver(this)}setOptions(t){const n=this.options,r=P(this,ue);if(this.options=P(this,nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nt(this.options.enabled,P(this,ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,me,Hc).call(this),P(this,ue).setOptions(this.options),n._defaulted&&!Mc(this.options,n)&&P(this,nt).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,ue),observer:this});const s=this.hasListeners();s&&ep(P(this,ue),r,this.options,n)&&le(this,me,mi).call(this),this.updateResult(),s&&(P(this,ue)!==r||Nt(this.options.enabled,P(this,ue))!==Nt(n.enabled,P(this,ue))||Gn(this.options.staleTime,P(this,ue))!==Gn(n.staleTime,P(this,ue)))&&le(this,me,Ac).call(this);const i=le(this,me,Oc).call(this);s&&(P(this,ue)!==r||Nt(this.options.enabled,P(this,ue))!==Nt(n.enabled,P(this,ue))||i!==P(this,Ln))&&le(this,me,Lc).call(this,i)}getOptimisticResult(t){const n=P(this,nt).getQueryCache().build(P(this,nt),t),r=this.createResult(n,t);return SN(this,r)&&(Q(this,Ke,r),Q(this,ys,this.options),Q(this,wr,P(this,ue).state)),r}getCurrentResult(){return P(this,Ke)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&P(this,cn).status==="pending"&&P(this,cn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){P(this,ws).add(t)}getCurrentQuery(){return P(this,ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=P(this,nt).defaultQueryOptions(t),r=P(this,nt).getQueryCache().build(P(this,nt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return le(this,me,mi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,Ke)))}createResult(t,n){var E;const r=P(this,ue),s=this.options,i=P(this,Ke),o=P(this,wr),l=P(this,ys),c=t!==r?t.state:P(this,so),{state:d}=t;let f={...d},h=!1,v;if(n._optimisticResults){const T=this.hasListeners(),I=!T&&Jh(t,n),A=T&&ep(t,r,n,s);(I||A)&&(f={...f,...nx(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:S}=f;v=f.data;let m=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let T;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,m=!0):T=typeof n.placeholderData=="function"?n.placeholderData((E=P(this,vs))==null?void 0:E.state.data,P(this,vs)):n.placeholderData,T!==void 0&&(S="success",v=Pc(i==null?void 0:i.data,T,n),h=!0)}if(n.select&&v!==void 0&&!m)if(i&&v===(o==null?void 0:o.data)&&n.select===P(this,io))v=P(this,xs);else try{Q(this,io,n.select),v=n.select(v),v=Pc(i==null?void 0:i.data,v,n),Q(this,xs,v),Q(this,On,null)}catch(T){Q(this,On,T)}P(this,On)&&(y=P(this,On),v=P(this,xs),b=Date.now(),S="error");const g=f.fetchStatus==="fetching",p=S==="pending",x=S==="error",w=p&&g,_=v!==void 0,k={status:S,fetchStatus:f.fetchStatus,isPending:p,isSuccess:S==="success",isError:x,isInitialLoading:w,isLoading:w,data:v,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!p,isLoadingError:x&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&_,isStale:of(t,n),refetch:this.refetch,promise:P(this,cn),isEnabled:Nt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=O=>{k.status==="error"?O.reject(k.error):k.data!==void 0&&O.resolve(k.data)},I=()=>{const O=Q(this,cn,k.promise=Ic());T(O)},A=P(this,cn);switch(A.status){case"pending":t.queryHash===r.queryHash&&T(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&I();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&I();break}}return k}updateResult(){const t=P(this,Ke),n=this.createResult(P(this,ue),this.options);if(Q(this,wr,P(this,ue).state),Q(this,ys,this.options),P(this,wr).data!==void 0&&Q(this,vs,P(this,ue)),Mc(n,t))return;Q(this,Ke,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!P(this,ws).size)return!0;const o=new Set(i??P(this,ws));return this.options.throwOnError&&o.add("error"),Object.keys(P(this,Ke)).some(l=>{const u=l;return P(this,Ke)[u]!==t[u]&&o.has(u)})};le(this,me,rx).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,me,zc).call(this)}},nt=new WeakMap,ue=new WeakMap,so=new WeakMap,Ke=new WeakMap,wr=new WeakMap,ys=new WeakMap,cn=new WeakMap,On=new WeakMap,io=new WeakMap,xs=new WeakMap,vs=new WeakMap,br=new WeakMap,Nr=new WeakMap,Ln=new WeakMap,ws=new WeakMap,me=new WeakSet,mi=function(t){le(this,me,Hc).call(this);let n=P(this,ue).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(rt)),n},Ac=function(){le(this,me,Fc).call(this);const t=Gn(this.options.staleTime,P(this,ue));if(Dr||P(this,Ke).isStale||!Tc(t))return;const r=Yy(P(this,Ke).dataUpdatedAt,t)+1;Q(this,br,fr.setTimeout(()=>{P(this,Ke).isStale||this.updateResult()},r))},Oc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,ue)):this.options.refetchInterval)??!1},Lc=function(t){le(this,me,$c).call(this),Q(this,Ln,t),!(Dr||Nt(this.options.enabled,P(this,ue))===!1||!Tc(P(this,Ln))||P(this,Ln)===0)&&Q(this,Nr,fr.setInterval(()=>{(this.options.refetchIntervalInBackground||sf.isFocused())&&le(this,me,mi).call(this)},P(this,Ln)))},zc=function(){le(this,me,Ac).call(this),le(this,me,Lc).call(this,le(this,me,Oc).call(this))},Fc=function(){P(this,br)&&(fr.clearTimeout(P(this,br)),Q(this,br,void 0))},$c=function(){P(this,Nr)&&(fr.clearInterval(P(this,Nr)),Q(this,Nr,void 0))},Hc=function(){const t=P(this,nt).getQueryCache().build(P(this,nt),this.options);if(t===P(this,ue))return;const n=P(this,ue);Q(this,ue,t),Q(this,so,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},rx=function(t){$e.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(P(this,Ke))}),P(this,nt).getQueryCache().notify({query:P(this,ue),type:"observerResultsUpdated"})})},Rm);function _N(e,t){return Nt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Jh(e,t){return _N(e,t)||e.state.data!==void 0&&Vc(e,t,t.refetchOnMount)}function Vc(e,t,n){if(Nt(t.enabled,e)!==!1&&Gn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&of(e,t)}return!1}function ep(e,t,n,r){return(e!==t||Nt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&of(e,n)}function of(e,t){return Nt(t.enabled,e)!==!1&&e.isStaleByTime(Gn(t.staleTime,e))}function SN(e,t){return!Mc(e.getCurrentResult(),t)}function tp(e){return{onFetch:(t,n)=>{var d,f,h,v,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let b=!1;const S=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},m=Zy(t.options,t.fetchOptions),g=async(p,x,w)=>{if(b)return Promise.reject();if(x==null&&p.pages.length)return Promise.resolve(p);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:x,direction:w?"backward":"forward",meta:t.options.meta};return S(I),I})(),k=await m(N),{maxPages:E}=t.options,T=w?pN:hN;return{pages:T(p.pages,k,E),pageParams:T(p.pageParams,x,E)}};if(s&&i.length){const p=s==="backward",x=p?kN:np,w={pages:i,pageParams:o},_=x(r,w);l=await g(w,_,p)}else{const p=e??i.length;do{const x=u===0?o[0]??r.initialPageParam:np(r,l);if(u>0&&x==null)break;l=await g(l,x),u++}while(u<p)}return l};t.options.persister?t.fetchFn=()=>{var b,S;return(S=(b=t.options).persister)==null?void 0:S.call(b,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function np(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function kN(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var oo,Xt,Ye,_r,Kt,En,Pm,jN=(Pm=class extends tx{constructor(t){super();ee(this,Kt);ee(this,oo);ee(this,Xt);ee(this,Ye);ee(this,_r);Q(this,oo,t.client),this.mutationId=t.mutationId,Q(this,Ye,t.mutationCache),Q(this,Xt,[]),this.state=t.state||EN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,Xt).includes(t)||(P(this,Xt).push(t),this.clearGcTimeout(),P(this,Ye).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Q(this,Xt,P(this,Xt).filter(n=>n!==t)),this.scheduleGc(),P(this,Ye).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():P(this,Ye).remove(this))}continue(){var t;return((t=P(this,_r))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,c,d,f,h,v,y,b,S,m,g,p,x,w,_,N,k,E;const n=()=>{le(this,Kt,En).call(this,{type:"continue"})},r={client:P(this,oo),meta:this.options.meta,mutationKey:this.options.mutationKey};Q(this,_r,ex({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{le(this,Kt,En).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{le(this,Kt,En).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,Ye).canRun(this)}));const s=this.state.status==="pending",i=!P(this,_r).canStart();try{if(s)n();else{le(this,Kt,En).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=P(this,Ye).config).onMutate)==null?void 0:l.call(o,t,this,r));const I=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,t,r));I!==this.state.context&&le(this,Kt,En).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const T=await P(this,_r).start();return await((f=(d=P(this,Ye).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,r)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,T,t,this.state.context,r)),await((b=(y=P(this,Ye).config).onSettled)==null?void 0:b.call(y,T,null,this.state.variables,this.state.context,this,r)),await((m=(S=this.options).onSettled)==null?void 0:m.call(S,T,null,t,this.state.context,r)),le(this,Kt,En).call(this,{type:"success",data:T}),T}catch(T){try{throw await((p=(g=P(this,Ye).config).onError)==null?void 0:p.call(g,T,t,this.state.context,this,r)),await((w=(x=this.options).onError)==null?void 0:w.call(x,T,t,this.state.context,r)),await((N=(_=P(this,Ye).config).onSettled)==null?void 0:N.call(_,void 0,T,this.state.variables,this.state.context,this,r)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,T,t,this.state.context,r)),T}finally{le(this,Kt,En).call(this,{type:"error",error:T})}}finally{P(this,Ye).runNext(this)}}},oo=new WeakMap,Xt=new WeakMap,Ye=new WeakMap,_r=new WeakMap,Kt=new WeakSet,En=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$e.batch(()=>{P(this,Xt).forEach(r=>{r.onMutationUpdate(t)}),P(this,Ye).notify({mutation:this,type:"updated",action:t})})},Pm);function EN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dn,Pt,ao,Im,CN=(Im=class extends po{constructor(t={}){super();ee(this,dn);ee(this,Pt);ee(this,ao);this.config=t,Q(this,dn,new Set),Q(this,Pt,new Map),Q(this,ao,0)}build(t,n,r){const s=new jN({client:t,mutationCache:this,mutationId:++To(this,ao)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){P(this,dn).add(t);const n=Qo(t);if(typeof n=="string"){const r=P(this,Pt).get(n);r?r.push(t):P(this,Pt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,dn).delete(t)){const n=Qo(t);if(typeof n=="string"){const r=P(this,Pt).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&P(this,Pt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Qo(t);if(typeof n=="string"){const r=P(this,Pt).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Qo(t);if(typeof n=="string"){const s=(r=P(this,Pt).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$e.batch(()=>{P(this,dn).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,dn).clear(),P(this,Pt).clear()})}getAll(){return Array.from(P(this,dn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xh(n,r))}findAll(t={}){return this.getAll().filter(n=>Xh(t,n))}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return $e.batch(()=>Promise.all(t.map(n=>n.continue().catch(rt))))}},dn=new WeakMap,Pt=new WeakMap,ao=new WeakMap,Im);function Qo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Yt,Dm,TN=(Dm=class extends po{constructor(t={}){super();ee(this,Yt);this.config=t,Q(this,Yt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??nf(s,n);let o=this.get(i);return o||(o=new bN({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){P(this,Yt).has(t.queryHash)||(P(this,Yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=P(this,Yt).get(t.queryHash);n&&(t.destroy(),n===t&&P(this,Yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,Yt).get(t)}getAll(){return[...P(this,Yt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Qh(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Qh(t,r)):n}notify(t){$e.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yt=new WeakMap,Dm),Ce,zn,Fn,bs,Ns,$n,_s,Ss,Am,MN=(Am=class{constructor(e={}){ee(this,Ce);ee(this,zn);ee(this,Fn);ee(this,bs);ee(this,Ns);ee(this,$n);ee(this,_s);ee(this,Ss);Q(this,Ce,e.queryCache||new TN),Q(this,zn,e.mutationCache||new CN),Q(this,Fn,e.defaultOptions||{}),Q(this,bs,new Map),Q(this,Ns,new Map),Q(this,$n,0)}mount(){To(this,$n)._++,P(this,$n)===1&&(Q(this,_s,sf.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ce).onFocus())})),Q(this,Ss,Ka.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,Ce).onOnline())})))}unmount(){var e,t;To(this,$n)._--,P(this,$n)===0&&((e=P(this,_s))==null||e.call(this),Q(this,_s,void 0),(t=P(this,Ss))==null||t.call(this),Q(this,Ss,void 0))}isFetching(e){return P(this,Ce).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,zn).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,Ce).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=P(this,Ce).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Gn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return P(this,Ce).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=P(this,Ce).get(r.queryHash),i=s==null?void 0:s.state.data,o=cN(t,i);if(o!==void 0)return P(this,Ce).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $e.batch(()=>P(this,Ce).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,Ce).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=P(this,Ce);$e.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=P(this,Ce);return $e.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=$e.batch(()=>P(this,Ce).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(rt).catch(rt)}invalidateQueries(e,t={}){return $e.batch(()=>(P(this,Ce).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=$e.batch(()=>P(this,Ce).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(rt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=P(this,Ce).build(this,t);return n.isStaleByTime(Gn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rt).catch(rt)}fetchInfiniteQuery(e){return e.behavior=tp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rt).catch(rt)}ensureInfiniteQueryData(e){return e.behavior=tp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ka.isOnline()?P(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,Ce)}getMutationCache(){return P(this,zn)}getDefaultOptions(){return P(this,Fn)}setDefaultOptions(e){Q(this,Fn,e)}setQueryDefaults(e,t){P(this,bs).set(qi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,bs).values()],n={};return t.forEach(r=>{Qi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){P(this,Ns).set(qi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,Ns).values()],n={};return t.forEach(r=>{Qi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,Fn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,Fn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,Ce).clear(),P(this,zn).clear()}},Ce=new WeakMap,zn=new WeakMap,Fn=new WeakMap,bs=new WeakMap,Ns=new WeakMap,$n=new WeakMap,_s=new WeakMap,Ss=new WeakMap,Am),sx=R.createContext(void 0),RN=e=>{const t=R.useContext(sx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},PN=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(sx.Provider,{value:e,children:t})),ix=R.createContext(!1),IN=()=>R.useContext(ix);ix.Provider;function DN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var AN=R.createContext(DN()),ON=()=>R.useContext(AN),LN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zN=e=>{R.useEffect(()=>{e.clearReset()},[e])},FN=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||mN(n,[e.error,r])),$N=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},HN=(e,t)=>e.isLoading&&e.isFetching&&!t,VN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function UN(e,t,n){var f,h,v,y,b;const r=IN(),s=ON(),i=RN(),o=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",$N(o),LN(o,s),zN(s);const l=!i.getQueryCache().get(o.queryHash),[u]=R.useState(()=>new t(i,o)),c=u.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(S=>{const m=d?u.subscribe($e.batchCalls(S)):rt;return u.updateResult(),m},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),R.useEffect(()=>{u.setOptions(o)},[o,u]),VN(o,c))throw rp(o,u,s);if(FN({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((y=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,o,c),o.experimental_prefetchInRender&&!Dr&&HN(c,r)){const S=l?rp(o,u,s):(b=i.getQueryCache().get(o.queryHash))==null?void 0:b.promise;S==null||S.catch(rt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function BN(e,t){return UN(e,NN)}const lr=class lr{constructor(){Xl(this,"nodes",new Map)}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t),console.log(`[Registry] Registered node: ${t.label} (${t.type})`)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(n=>{t[n.category]||(t[n.category]=[]),t[n.category].push(n)}),t}};Xl(lr,"instance");let Uc=lr;const be=Uc.getInstance(),WN={},sp=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const v=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(WN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,u);return u},ox=e=>e?sp(e):sp;var ax={exports:{}},lx={},ux={exports:{}},cx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=R;function qN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QN=typeof Object.is=="function"?Object.is:qN,XN=Ps.useState,KN=Ps.useEffect,YN=Ps.useLayoutEffect,GN=Ps.useDebugValue;function ZN(e,t){var n=t(),r=XN({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return YN(function(){s.value=n,s.getSnapshot=t,Nu(s)&&i({inst:s})},[e,n,t]),KN(function(){return Nu(s)&&i({inst:s}),e(function(){Nu(s)&&i({inst:s})})},[e]),GN(n),n}function Nu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!QN(e,n)}catch{return!0}}function JN(e,t){return t()}var e2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JN:ZN;cx.useSyncExternalStore=Ps.useSyncExternalStore!==void 0?Ps.useSyncExternalStore:e2;ux.exports=cx;var t2=ux.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=R,n2=t2;function r2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s2=typeof Object.is=="function"?Object.is:r2,i2=n2.useSyncExternalStore,o2=jl.useRef,a2=jl.useEffect,l2=jl.useMemo,u2=jl.useDebugValue;lx.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=o2(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=l2(function(){function u(v){if(!c){if(c=!0,d=v,v=r(v),s!==void 0&&o.hasValue){var y=o.value;if(s(y,v))return f=y}return f=v}if(y=f,s2(d,v))return y;var b=r(v);return s!==void 0&&s(y,b)?(d=v,y):(d=v,f=b)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,n,r,s]);var l=i2(e,i[0],i[1]);return a2(function(){o.hasValue=!0,o.value=l},[l]),u2(l),l};ax.exports=lx;var c2=ax.exports;const dx=Om(c2),fx={},{useDebugValue:d2}=Lt,{useSyncExternalStoreWithSelector:f2}=dx;let ip=!1;const h2=e=>e;function p2(e,t=h2,n){(fx?"production":void 0)!=="production"&&n&&!ip&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ip=!0);const r=f2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return d2(r),r}const op=e=>{(fx?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ox(e):e,n=(r,s)=>p2(t,r,s);return Object.assign(n,t),n},m2=e=>e?op(e):op;function Ie(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ie(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var g2={value:()=>{}};function El(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ya(n)}function ya(e){this._=e}function y2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ya.prototype=El.prototype={constructor:ya,on:function(e,t){var n=this._,r=y2(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=x2(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=ap(n[s],e.name,t);else if(t==null)for(s in n)n[s]=ap(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ya(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function x2(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function ap(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=g2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Bc="http://www.w3.org/1999/xhtml";const lp={svg:"http://www.w3.org/2000/svg",xhtml:Bc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),lp.hasOwnProperty(t)?{space:lp[t],local:e}:e}function v2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bc&&t.documentElement.namespaceURI===Bc?t.createElement(e):t.createElementNS(n,e)}}function w2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hx(e){var t=Cl(e);return(t.local?w2:v2)(t)}function b2(){}function af(e){return e==null?b2:function(){return this.querySelector(e)}}function N2(e){typeof e!="function"&&(e=af(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=new Array(o),u,c,d=0;d<o;++d)(u=i[d])&&(c=e.call(u,u.__data__,d,i))&&("__data__"in u&&(c.__data__=u.__data__),l[d]=c);return new yt(r,this._parents)}function _2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function S2(){return[]}function px(e){return e==null?S2:function(){return this.querySelectorAll(e)}}function k2(e){return function(){return _2(e.apply(this,arguments))}}function j2(e){typeof e=="function"?e=k2(e):e=px(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(e.call(u,u.__data__,c,o)),s.push(u));return new yt(r,s)}function mx(e){return function(){return this.matches(e)}}function gx(e){return function(t){return t.matches(e)}}var E2=Array.prototype.find;function C2(e){return function(){return E2.call(this.children,e)}}function T2(){return this.firstElementChild}function M2(e){return this.select(e==null?T2:C2(typeof e=="function"?e:gx(e)))}var R2=Array.prototype.filter;function P2(){return Array.from(this.children)}function I2(e){return function(){return R2.call(this.children,e)}}function D2(e){return this.selectAll(e==null?P2:I2(typeof e=="function"?e:gx(e)))}function A2(e){typeof e!="function"&&(e=mx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&l.push(u);return new yt(r,this._parents)}function yx(e){return new Array(e.length)}function O2(){return new yt(this._enter||this._groups.map(yx),this._parents)}function Ya(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ya.prototype={constructor:Ya,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function L2(e){return function(){return e}}function z2(e,t,n,r,s,i){for(var o=0,l,u=t.length,c=i.length;o<c;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Ya(e,i[o]);for(;o<u;++o)(l=t[o])&&(s[o]=l)}function F2(e,t,n,r,s,i,o){var l,u,c=new Map,d=t.length,f=i.length,h=new Array(d),v;for(l=0;l<d;++l)(u=t[l])&&(h[l]=v=o.call(u,u.__data__,l,t)+"",c.has(v)?s[l]=u:c.set(v,u));for(l=0;l<f;++l)v=o.call(e,i[l],l,i)+"",(u=c.get(v))?(r[l]=u,u.__data__=i[l],c.delete(v)):n[l]=new Ya(e,i[l]);for(l=0;l<d;++l)(u=t[l])&&c.get(h[l])===u&&(s[l]=u)}function $2(e){return e.__data__}function H2(e,t){if(!arguments.length)return Array.from(this,$2);var n=t?F2:z2,r=this._parents,s=this._groups;typeof e!="function"&&(e=L2(e));for(var i=s.length,o=new Array(i),l=new Array(i),u=new Array(i),c=0;c<i;++c){var d=r[c],f=s[c],h=f.length,v=V2(e.call(d,d&&d.__data__,c,r)),y=v.length,b=l[c]=new Array(y),S=o[c]=new Array(y),m=u[c]=new Array(h);n(d,f,b,S,m,v,t);for(var g=0,p=0,x,w;g<y;++g)if(x=b[g]){for(g>=p&&(p=g+1);!(w=S[p])&&++p<y;);x._next=w||null}}return o=new yt(o,r),o._enter=l,o._exit=u,o}function V2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function U2(){return new yt(this._exit||this._groups.map(yx),this._parents)}function B2(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function W2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),l=new Array(s),u=0;u<o;++u)for(var c=n[u],d=r[u],f=c.length,h=l[u]=new Array(f),v,y=0;y<f;++y)(v=c[y]||d[y])&&(h[y]=v);for(;u<s;++u)l[u]=n[u];return new yt(l,this._parents)}function q2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function Q2(e){e||(e=X2);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,u=s[i]=new Array(l),c,d=0;d<l;++d)(c=o[d])&&(u[d]=c);u.sort(t)}return new yt(s,this._parents).order()}function X2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function K2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Y2(){return Array.from(this)}function G2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function Z2(){let e=0;for(const t of this)++e;return e}function J2(){return!this.node()}function e_(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function t_(e){return function(){this.removeAttribute(e)}}function n_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function r_(e,t){return function(){this.setAttribute(e,t)}}function s_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function i_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function o_(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function a_(e,t){var n=Cl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?n_:t_:typeof t=="function"?n.local?o_:i_:n.local?s_:r_)(n,t))}function xx(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function l_(e){return function(){this.style.removeProperty(e)}}function u_(e,t,n){return function(){this.style.setProperty(e,t,n)}}function c_(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function d_(e,t,n){return arguments.length>1?this.each((t==null?l_:typeof t=="function"?c_:u_)(e,t,n??"")):Is(this.node(),e)}function Is(e,t){return e.style.getPropertyValue(t)||xx(e).getComputedStyle(e,null).getPropertyValue(t)}function f_(e){return function(){delete this[e]}}function h_(e,t){return function(){this[e]=t}}function p_(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function m_(e,t){return arguments.length>1?this.each((t==null?f_:typeof t=="function"?p_:h_)(e,t)):this.node()[e]}function vx(e){return e.trim().split(/^|\s+/)}function lf(e){return e.classList||new wx(e)}function wx(e){this._node=e,this._names=vx(e.getAttribute("class")||"")}wx.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bx(e,t){for(var n=lf(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function Nx(e,t){for(var n=lf(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function g_(e){return function(){bx(this,e)}}function y_(e){return function(){Nx(this,e)}}function x_(e,t){return function(){(t.apply(this,arguments)?bx:Nx)(this,e)}}function v_(e,t){var n=vx(e+"");if(arguments.length<2){for(var r=lf(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?x_:t?g_:y_)(n,t))}function w_(){this.textContent=""}function b_(e){return function(){this.textContent=e}}function N_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function __(e){return arguments.length?this.each(e==null?w_:(typeof e=="function"?N_:b_)(e)):this.node().textContent}function S_(){this.innerHTML=""}function k_(e){return function(){this.innerHTML=e}}function j_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function E_(e){return arguments.length?this.each(e==null?S_:(typeof e=="function"?j_:k_)(e)):this.node().innerHTML}function C_(){this.nextSibling&&this.parentNode.appendChild(this)}function T_(){return this.each(C_)}function M_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function R_(){return this.each(M_)}function P_(e){var t=typeof e=="function"?e:hx(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function I_(){return null}function D_(e,t){var n=typeof e=="function"?e:hx(e),r=t==null?I_:typeof t=="function"?t:af(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function A_(){var e=this.parentNode;e&&e.removeChild(this)}function O_(){return this.each(A_)}function L_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function z_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function F_(e){return this.select(e?z_:L_)}function $_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function H_(e){return function(t){e.call(this,t,this.__data__)}}function V_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function U_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function B_(e,t,n){return function(){var r=this.__on,s,i=H_(t);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function W_(e,t,n){var r=V_(e+""),s,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,d;u<c;++u)for(s=0,d=l[u];s<i;++s)if((o=r[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?B_:U_,s=0;s<i;++s)this.each(l(r[s],t,n));return this}function _x(e,t,n){var r=xx(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function q_(e,t){return function(){return _x(this,e,t)}}function Q_(e,t){return function(){return _x(this,e,t.apply(this,arguments))}}function X_(e,t){return this.each((typeof t=="function"?Q_:q_)(e,t))}function*K_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var Sx=[null];function yt(e,t){this._groups=e,this._parents=t}function mo(){return new yt([[document.documentElement]],Sx)}function Y_(){return this}yt.prototype=mo.prototype={constructor:yt,select:N2,selectAll:j2,selectChild:M2,selectChildren:D2,filter:A2,data:H2,enter:O2,exit:U2,join:B2,merge:W2,selection:Y_,order:q2,sort:Q2,call:K2,nodes:Y2,node:G2,size:Z2,empty:J2,each:e_,attr:a_,style:d_,property:m_,classed:v_,text:__,html:E_,raise:T_,lower:R_,append:P_,insert:D_,remove:O_,clone:F_,datum:$_,on:W_,dispatch:X_,[Symbol.iterator]:K_};function ht(e){return typeof e=="string"?new yt([[document.querySelector(e)]],[document.documentElement]):new yt([[e]],Sx)}function G_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Dt(e,t){if(e=G_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const Z_={passive:!1},Xi={capture:!0,passive:!1};function _u(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function kx(e){var t=e.document.documentElement,n=ht(e).on("dragstart.drag",ds,Xi);"onselectstart"in t?n.on("selectstart.drag",ds,Xi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jx(e,t){var n=e.document.documentElement,r=ht(e).on("dragstart.drag",null);t&&(r.on("click.drag",ds,Xi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Xo=e=>()=>e;function Wc(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:o,y:l,dx:u,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}Wc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function J_(e){return!e.ctrlKey&&!e.button}function eS(){return this.parentNode}function tS(e,t){return t??{x:e.x,y:e.y}}function nS(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ex(){var e=J_,t=eS,n=tS,r=nS,s={},i=El("start","drag","end"),o=0,l,u,c,d,f=0;function h(x){x.on("mousedown.drag",v).filter(r).on("touchstart.drag",S).on("touchmove.drag",m,Z_).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(x,w){if(!(d||!e.call(this,x,w))){var _=p(this,t.call(this,x,w),x,w,"mouse");_&&(ht(x.view).on("mousemove.drag",y,Xi).on("mouseup.drag",b,Xi),kx(x.view),_u(x),c=!1,l=x.clientX,u=x.clientY,_("start",x))}}function y(x){if(ds(x),!c){var w=x.clientX-l,_=x.clientY-u;c=w*w+_*_>f}s.mouse("drag",x)}function b(x){ht(x.view).on("mousemove.drag mouseup.drag",null),jx(x.view,c),ds(x),s.mouse("end",x)}function S(x,w){if(e.call(this,x,w)){var _=x.changedTouches,N=t.call(this,x,w),k=_.length,E,T;for(E=0;E<k;++E)(T=p(this,N,x,w,_[E].identifier,_[E]))&&(_u(x),T("start",x,_[E]))}}function m(x){var w=x.changedTouches,_=w.length,N,k;for(N=0;N<_;++N)(k=s[w[N].identifier])&&(ds(x),k("drag",x,w[N]))}function g(x){var w=x.changedTouches,_=w.length,N,k;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<_;++N)(k=s[w[N].identifier])&&(_u(x),k("end",x,w[N]))}function p(x,w,_,N,k,E){var T=i.copy(),I=Dt(E||_,w),A,O,j;if((j=n.call(x,new Wc("beforestart",{sourceEvent:_,target:h,identifier:k,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:T}),N))!=null)return A=j.x-I[0]||0,O=j.y-I[1]||0,function z(D,L,C){var M=I,F;switch(D){case"start":s[k]=z,F=o++;break;case"end":delete s[k],--o;case"drag":I=Dt(C||L,w),F=o;break}T.call(D,x,new Wc(D,{sourceEvent:L,subject:j,target:h,identifier:k,active:F,x:I[0]+A,y:I[1]+O,dx:I[0]-M[0],dy:I[1]-M[1],dispatch:T}),N)}}return h.filter=function(x){return arguments.length?(e=typeof x=="function"?x:Xo(!!x),h):e},h.container=function(x){return arguments.length?(t=typeof x=="function"?x:Xo(x),h):t},h.subject=function(x){return arguments.length?(n=typeof x=="function"?x:Xo(x),h):n},h.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:Xo(!!x),h):r},h.on=function(){var x=i.on.apply(i,arguments);return x===i?h:x},h.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,h):Math.sqrt(f)},h}function uf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Cx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function go(){}var Ki=.7,Ga=1/Ki,fs="\\s*([+-]?\\d+)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rS=/^#([0-9a-f]{3,8})$/,sS=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),iS=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),oS=new RegExp(`^rgba\\(${fs},${fs},${fs},${Yi}\\)$`),aS=new RegExp(`^rgba\\(${tn},${tn},${tn},${Yi}\\)$`),lS=new RegExp(`^hsl\\(${Yi},${tn},${tn}\\)$`),uS=new RegExp(`^hsla\\(${Yi},${tn},${tn},${Yi}\\)$`),up={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uf(go,Ar,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cp,formatHex:cp,formatHex8:cS,formatHsl:dS,formatRgb:dp,toString:dp});function cp(){return this.rgb().formatHex()}function cS(){return this.rgb().formatHex8()}function dS(){return Tx(this).formatHsl()}function dp(){return this.rgb().formatRgb()}function Ar(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=rS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fp(t):n===3?new ot(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ko(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ko(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sS.exec(e))?new ot(t[1],t[2],t[3],1):(t=iS.exec(e))?new ot(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oS.exec(e))?Ko(t[1],t[2],t[3],t[4]):(t=aS.exec(e))?Ko(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lS.exec(e))?mp(t[1],t[2]/100,t[3]/100,1):(t=uS.exec(e))?mp(t[1],t[2]/100,t[3]/100,t[4]):up.hasOwnProperty(e)?fp(up[e]):e==="transparent"?new ot(NaN,NaN,NaN,0):null}function fp(e){return new ot(e>>16&255,e>>8&255,e&255,1)}function Ko(e,t,n,r){return r<=0&&(e=t=n=NaN),new ot(e,t,n,r)}function fS(e){return e instanceof go||(e=Ar(e)),e?(e=e.rgb(),new ot(e.r,e.g,e.b,e.opacity)):new ot}function qc(e,t,n,r){return arguments.length===1?fS(e):new ot(e,t,n,r??1)}function ot(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}uf(ot,qc,Cx(go,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new ot(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ki:Math.pow(Ki,e),new ot(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ot(jr(this.r),jr(this.g),jr(this.b),Za(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hp,formatHex:hp,formatHex8:hS,formatRgb:pp,toString:pp}));function hp(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}`}function hS(){return`#${hr(this.r)}${hr(this.g)}${hr(this.b)}${hr((isNaN(this.opacity)?1:this.opacity)*255)}`}function pp(){const e=Za(this.opacity);return`${e===1?"rgb(":"rgba("}${jr(this.r)}, ${jr(this.g)}, ${jr(this.b)}${e===1?")":`, ${e})`}`}function Za(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hr(e){return e=jr(e),(e<16?"0":"")+e.toString(16)}function mp(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ot(e,t,n,r)}function Tx(e){if(e instanceof Ot)return new Ot(e.h,e.s,e.l,e.opacity);if(e instanceof go||(e=Ar(e)),!e)return new Ot;if(e instanceof Ot)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-s,u=(i+s)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?i+s:2-i-s,o*=60):l=u>0&&u<1?0:o,new Ot(o,l,u,e.opacity)}function pS(e,t,n,r){return arguments.length===1?Tx(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}uf(Ot,pS,Cx(go,{brighter(e){return e=e==null?Ga:Math.pow(Ga,e),new Ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ki:Math.pow(Ki,e),new Ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new ot(Su(e>=240?e-240:e+120,s,r),Su(e,s,r),Su(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Ot(gp(this.h),Yo(this.s),Yo(this.l),Za(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Za(this.opacity);return`${e===1?"hsl(":"hsla("}${gp(this.h)}, ${Yo(this.s)*100}%, ${Yo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gp(e){return e=(e||0)%360,e<0?e+360:e}function Yo(e){return Math.max(0,Math.min(1,e||0))}function Su(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cf=e=>()=>e;function mS(e,t){return function(n){return e+n*t}}function gS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function yS(e){return(e=+e)==1?Mx:function(t,n){return n-t?gS(t,n,e):cf(isNaN(t)?n:t)}}function Mx(e,t){var n=t-e;return n?mS(e,n):cf(isNaN(e)?t:e)}const Ja=function e(t){var n=yS(t);function r(s,i){var o=n((s=qc(s)).r,(i=qc(i)).r),l=n(s.g,i.g),u=n(s.b,i.b),c=Mx(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=u(d),s.opacity=c(d),s+""}}return r.gamma=e,r}(1);function xS(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function vS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wS(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ei(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function bS(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function NS(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ei(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Qc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ku=new RegExp(Qc.source,"g");function _S(e){return function(){return e}}function SS(e){return function(t){return e(t)+""}}function Rx(e,t){var n=Qc.lastIndex=ku.lastIndex=0,r,s,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=Qc.exec(e))&&(s=ku.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:Gt(r,s)})),n=ku.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?SS(u[0].x):_S(t):(t=u.length,function(c){for(var d=0,f;d<t;++d)l[(f=u[d]).i]=f.x(c);return l.join("")})}function Ei(e,t){var n=typeof t,r;return t==null||n==="boolean"?cf(t):(n==="number"?Gt:n==="string"?(r=Ar(t))?(t=r,Ja):Rx:t instanceof Ar?Ja:t instanceof Date?bS:vS(t)?xS:Array.isArray(t)?wS:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?NS:Gt)(e,t)}var yp=180/Math.PI,Xc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Px(e,t,n,r,s,i){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*yp,skewX:Math.atan(u)*yp,scaleX:o,scaleY:l}}var Go;function kS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xc:Px(t.a,t.b,t.c,t.d,t.e,t.f)}function jS(e){return e==null||(Go||(Go=document.createElementNS("http://www.w3.org/2000/svg","g")),Go.setAttribute("transform",e),!(e=Go.transform.baseVal.consolidate()))?Xc:(e=e.matrix,Px(e.a,e.b,e.c,e.d,e.e,e.f))}function Ix(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,d,f,h,v,y){if(c!==f||d!==h){var b=v.push("translate(",null,t,null,n);y.push({i:b-4,x:Gt(c,f)},{i:b-2,x:Gt(d,h)})}else(f||h)&&v.push("translate("+f+t+h+n)}function o(c,d,f,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Gt(c,d)})):d&&f.push(s(f)+"rotate("+d+r)}function l(c,d,f,h){c!==d?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Gt(c,d)}):d&&f.push(s(f)+"skewX("+d+r)}function u(c,d,f,h,v,y){if(c!==f||d!==h){var b=v.push(s(v)+"scale(",null,",",null,")");y.push({i:b-4,x:Gt(c,f)},{i:b-2,x:Gt(d,h)})}else(f!==1||h!==1)&&v.push(s(v)+"scale("+f+","+h+")")}return function(c,d){var f=[],h=[];return c=e(c),d=e(d),i(c.translateX,c.translateY,d.translateX,d.translateY,f,h),o(c.rotate,d.rotate,f,h),l(c.skewX,d.skewX,f,h),u(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,h),c=d=null,function(v){for(var y=-1,b=h.length,S;++y<b;)f[(S=h[y]).i]=S.x(v);return f.join("")}}}var ES=Ix(kS,"px, ","px)","deg)"),CS=Ix(jS,", ",")",")"),TS=1e-12;function xp(e){return((e=Math.exp(e))+1/e)/2}function MS(e){return((e=Math.exp(e))-1/e)/2}function RS(e){return((e=Math.exp(2*e))-1)/(e+1)}const xa=function e(t,n,r){function s(i,o){var l=i[0],u=i[1],c=i[2],d=o[0],f=o[1],h=o[2],v=d-l,y=f-u,b=v*v+y*y,S,m;if(b<TS)m=Math.log(h/c)/t,S=function(N){return[l+N*v,u+N*y,c*Math.exp(t*N*m)]};else{var g=Math.sqrt(b),p=(h*h-c*c+r*b)/(2*c*n*g),x=(h*h-c*c-r*b)/(2*h*n*g),w=Math.log(Math.sqrt(p*p+1)-p),_=Math.log(Math.sqrt(x*x+1)-x);m=(_-w)/t,S=function(N){var k=N*m,E=xp(w),T=c/(n*g)*(E*RS(t*k+w)-MS(w));return[l+T*v,u+T*y,c*E/xp(t*k+w)]}}return S.duration=m*1e3*t/Math.SQRT2,S}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,u=l*l;return e(o,l,u)},s}(Math.SQRT2,2,4);var Ds=0,gi=0,li=0,Dx=1e3,el,yi,tl=0,Or=0,Tl=0,Gi=typeof performance=="object"&&performance.now?performance:Date,Ax=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function df(){return Or||(Ax(PS),Or=Gi.now()+Tl)}function PS(){Or=0}function nl(){this._call=this._time=this._next=null}nl.prototype=Ox.prototype={constructor:nl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?df():+n)+(t==null?0:+t),!this._next&&yi!==this&&(yi?yi._next=this:el=this,yi=this),this._call=e,this._time=n,Kc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kc())}};function Ox(e,t,n){var r=new nl;return r.restart(e,t,n),r}function IS(){df(),++Ds;for(var e=el,t;e;)(t=Or-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ds}function vp(){Or=(tl=Gi.now())+Tl,Ds=gi=0;try{IS()}finally{Ds=0,AS(),Or=0}}function DS(){var e=Gi.now(),t=e-tl;t>Dx&&(Tl-=t,tl=e)}function AS(){for(var e,t=el,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:el=n);yi=e,Kc(r)}function Kc(e){if(!Ds){gi&&(gi=clearTimeout(gi));var t=e-Or;t>24?(e<1/0&&(gi=setTimeout(vp,e-Gi.now()-Tl)),li&&(li=clearInterval(li))):(li||(tl=Gi.now(),li=setInterval(DS,Dx)),Ds=1,Ax(vp))}}function wp(e,t,n){var r=new nl;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var OS=El("start","end","cancel","interrupt"),LS=[],Lx=0,bp=1,Yc=2,va=3,Np=4,Gc=5,wa=6;function Ml(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;zS(e,n,{name:t,index:r,group:s,on:OS,tween:LS,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Lx})}function ff(e,t){var n=Ut(e,t);if(n.state>Lx)throw new Error("too late; already scheduled");return n}function rn(e,t){var n=Ut(e,t);if(n.state>va)throw new Error("too late; already running");return n}function Ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function zS(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Ox(i,0,n.time);function i(c){n.state=bp,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,h,v;if(n.state!==bp)return u();for(d in r)if(v=r[d],v.name===n.name){if(v.state===va)return wp(o);v.state===Np?(v.state=wa,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[d]):+d<t&&(v.state=wa,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[d])}if(wp(function(){n.state===va&&(n.state=Np,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Yc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yc){for(n.state=va,s=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(v=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=v);s.length=f+1}}function l(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Gc,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);n.state===Gc&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=wa,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ba(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Yc&&r.state<Gc,r.state=wa,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function FS(e){return this.each(function(){ba(this,e)})}function $S(e,t){var n,r;return function(){var s=rn(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function HS(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=rn(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var l={name:t,value:n},u=0,c=s.length;u<c;++u)if(s[u].name===t){s[u]=l;break}u===c&&s.push(l)}i.tween=s}}function VS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ut(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?$S:HS)(n,e,t))}function hf(e,t,n){var r=e._id;return e.each(function(){var s=rn(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return Ut(s,r).value[t]}}function zx(e,t){var n;return(typeof t=="number"?Gt:t instanceof Ar?Ja:(n=Ar(t))?(t=n,Ja):Rx)(e,t)}function US(e){return function(){this.removeAttribute(e)}}function BS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WS(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function qS(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function QS(e,t,n){var r,s,i;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l)))}}function XS(e,t,n){var r,s,i;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l)))}}function KS(e,t){var n=Cl(e),r=n==="transform"?CS:zx;return this.attrTween(e,typeof t=="function"?(n.local?XS:QS)(n,r,hf(this,"attr."+e,t)):t==null?(n.local?BS:US)(n):(n.local?qS:WS)(n,r,t))}function YS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function GS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ZS(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&GS(e,i)),n}return s._value=t,s}function JS(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&YS(e,i)),n}return s._value=t,s}function ek(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Cl(e);return this.tween(n,(r.local?ZS:JS)(r,t))}function tk(e,t){return function(){ff(this,e).delay=+t.apply(this,arguments)}}function nk(e,t){return t=+t,function(){ff(this,e).delay=t}}function rk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tk:nk)(t,e)):Ut(this.node(),t).delay}function sk(e,t){return function(){rn(this,e).duration=+t.apply(this,arguments)}}function ik(e,t){return t=+t,function(){rn(this,e).duration=t}}function ok(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?sk:ik)(t,e)):Ut(this.node(),t).duration}function ak(e,t){if(typeof t!="function")throw new Error;return function(){rn(this,e).ease=t}}function lk(e){var t=this._id;return arguments.length?this.each(ak(t,e)):Ut(this.node(),t).ease}function uk(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;rn(this,e).ease=n}}function ck(e){if(typeof e!="function")throw new Error;return this.each(uk(this._id,e))}function dk(e){typeof e!="function"&&(e=mx(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,l=r[s]=[],u,c=0;c<o;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&l.push(u);return new wn(r,this._parents,this._name,this._id)}function fk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),l=0;l<i;++l)for(var u=t[l],c=n[l],d=u.length,f=o[l]=new Array(d),h,v=0;v<d;++v)(h=u[v]||c[v])&&(f[v]=h);for(;l<r;++l)o[l]=t[l];return new wn(o,this._parents,this._name,this._id)}function hk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function pk(e,t,n){var r,s,i=hk(t)?ff:rn;return function(){var o=i(this,e),l=o.on;l!==r&&(s=(r=l).copy()).on(t,n),o.on=s}}function mk(e,t){var n=this._id;return arguments.length<2?Ut(this.node(),n).on.on(e):this.each(pk(n,e,t))}function gk(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function yk(){return this.on("end.remove",gk(this._id))}function xk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=af(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var l=r[o],u=l.length,c=i[o]=new Array(u),d,f,h=0;h<u;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),c[h]=f,Ml(c[h],t,n,h,c,Ut(d,n)));return new wn(i,this._parents,t,n)}function vk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=px(e));for(var r=this._groups,s=r.length,i=[],o=[],l=0;l<s;++l)for(var u=r[l],c=u.length,d,f=0;f<c;++f)if(d=u[f]){for(var h=e.call(d,d.__data__,f,u),v,y=Ut(d,n),b=0,S=h.length;b<S;++b)(v=h[b])&&Ml(v,t,n,b,h,y);i.push(h),o.push(d)}return new wn(i,o,t,n)}var wk=mo.prototype.constructor;function bk(){return new wk(this._groups,this._parents)}function Nk(e,t){var n,r,s;return function(){var i=Is(this,e),o=(this.style.removeProperty(e),Is(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Fx(e){return function(){this.style.removeProperty(e)}}function _k(e,t,n){var r,s=n+"",i;return function(){var o=Is(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function Sk(e,t,n){var r,s,i;return function(){var o=Is(this,e),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),Is(this,e))),o===u?null:o===r&&u===s?i:(s=u,i=t(r=o,l))}}function kk(e,t){var n,r,s,i="style."+t,o="end."+i,l;return function(){var u=rn(this,e),c=u.on,d=u.value[i]==null?l||(l=Fx(t)):void 0;(c!==n||s!==d)&&(r=(n=c).copy()).on(o,s=d),u.on=r}}function jk(e,t,n){var r=(e+="")=="transform"?ES:zx;return t==null?this.styleTween(e,Nk(e,r)).on("end.style."+e,Fx(e)):typeof t=="function"?this.styleTween(e,Sk(e,r,hf(this,"style."+e,t))).each(kk(this._id,e)):this.styleTween(e,_k(e,r,t),n).on("end.style."+e,null)}function Ek(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ck(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&Ek(e,o,n)),r}return i._value=t,i}function Tk(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ck(e,t,n??""))}function Mk(e){return function(){this.textContent=e}}function Rk(e){return function(){var t=e(this);this.textContent=t??""}}function Pk(e){return this.tween("text",typeof e=="function"?Rk(hf(this,"text",e)):Mk(e==null?"":e+""))}function Ik(e){return function(t){this.textContent=e.call(this,t)}}function Dk(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&Ik(s)),t}return r._value=e,r}function Ak(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Dk(e))}function Ok(){for(var e=this._name,t=this._id,n=$x(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var d=Ut(u,t);Ml(u,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new wn(r,this._parents,e,n)}function Lk(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var l={value:o},u={value:function(){--s===0&&i()}};n.each(function(){var c=rn(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),c.on=t}),s===0&&i()})}var zk=0;function wn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $x(){return++zk}var on=mo.prototype;wn.prototype={constructor:wn,select:xk,selectAll:vk,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:dk,merge:fk,selection:bk,transition:Ok,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:mk,attr:KS,attrTween:ek,style:jk,styleTween:Tk,text:Pk,textTween:Ak,remove:yk,tween:VS,delay:rk,duration:ok,ease:lk,easeVarying:ck,end:Lk,[Symbol.iterator]:on[Symbol.iterator]};function Fk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $k={time:null,delay:0,duration:250,ease:Fk};function Hk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Vk(e){var t,n;e instanceof wn?(t=e._id,e=e._name):(t=$x(),(n=$k).time=df(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],l=o.length,u,c=0;c<l;++c)(u=o[c])&&Ml(u,e,t,c,o,n||Hk(u,t));return new wn(r,this._parents,e,t)}mo.prototype.interrupt=FS;mo.prototype.transition=Vk;const Zo=e=>()=>e;function Uk(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function pn(e,t,n){this.k=e,this.x=t,this.y=n}pn.prototype={constructor:pn,scale:function(e){return e===1?this:new pn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rl=new pn(1,0,0);Hx.prototype=pn.prototype;function Hx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Rl;return e.__zoom}function ju(e){e.stopImmediatePropagation()}function ui(e){e.preventDefault(),e.stopImmediatePropagation()}function Bk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Wk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function _p(){return this.__zoom||Rl}function qk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Qk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xk(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Vx(){var e=Bk,t=Wk,n=Xk,r=qk,s=Qk,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=xa,c=El("start","zoom","end"),d,f,h,v=500,y=150,b=0,S=10;function m(j){j.property("__zoom",_p).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",T).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(j,z,D,L){var C=j.selection?j.selection():j;C.property("__zoom",_p),j!==C?w(j,z,D,L):C.interrupt().each(function(){_(this,arguments).event(L).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},m.scaleBy=function(j,z,D,L){m.scaleTo(j,function(){var C=this.__zoom.k,M=typeof z=="function"?z.apply(this,arguments):z;return C*M},D,L)},m.scaleTo=function(j,z,D,L){m.transform(j,function(){var C=t.apply(this,arguments),M=this.__zoom,F=D==null?x(C):typeof D=="function"?D.apply(this,arguments):D,H=M.invert(F),V=typeof z=="function"?z.apply(this,arguments):z;return n(p(g(M,V),F,H),C,o)},D,L)},m.translateBy=function(j,z,D,L){m.transform(j,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),o)},null,L)},m.translateTo=function(j,z,D,L,C){m.transform(j,function(){var M=t.apply(this,arguments),F=this.__zoom,H=L==null?x(M):typeof L=="function"?L.apply(this,arguments):L;return n(Rl.translate(H[0],H[1]).scale(F.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof D=="function"?-D.apply(this,arguments):-D),M,o)},L,C)};function g(j,z){return z=Math.max(i[0],Math.min(i[1],z)),z===j.k?j:new pn(z,j.x,j.y)}function p(j,z,D){var L=z[0]-D[0]*j.k,C=z[1]-D[1]*j.k;return L===j.x&&C===j.y?j:new pn(j.k,L,C)}function x(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function w(j,z,D,L){j.on("start.zoom",function(){_(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(L).end()}).tween("zoom",function(){var C=this,M=arguments,F=_(C,M).event(L),H=t.apply(C,M),V=D==null?x(H):typeof D=="function"?D.apply(C,M):D,q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),B=C.__zoom,K=typeof z=="function"?z.apply(C,M):z,Y=u(B.invert(V).concat(q/B.k),K.invert(V).concat(q/K.k));return function(Z){if(Z===1)Z=K;else{var W=Y(Z),J=q/W[2];Z=new pn(J,V[0]-W[0]*J,V[1]-W[1]*J)}F.zoom(null,Z)}})}function _(j,z,D){return!D&&j.__zooming||new N(j,z)}function N(j,z){this.that=j,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,z),this.taps=0}N.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,z){return this.mouse&&j!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var z=ht(this.that).datum();c.call(j,this.that,new Uk(j,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),z)}};function k(j,...z){if(!e.apply(this,arguments))return;var D=_(this,z).event(j),L=this.__zoom,C=Math.max(i[0],Math.min(i[1],L.k*Math.pow(2,r.apply(this,arguments)))),M=Dt(j);if(D.wheel)(D.mouse[0][0]!==M[0]||D.mouse[0][1]!==M[1])&&(D.mouse[1]=L.invert(D.mouse[0]=M)),clearTimeout(D.wheel);else{if(L.k===C)return;D.mouse=[M,L.invert(M)],ba(this),D.start()}ui(j),D.wheel=setTimeout(F,y),D.zoom("mouse",n(p(g(L,C),D.mouse[0],D.mouse[1]),D.extent,o));function F(){D.wheel=null,D.end()}}function E(j,...z){if(h||!e.apply(this,arguments))return;var D=j.currentTarget,L=_(this,z,!0).event(j),C=ht(j.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",q,!0),M=Dt(j,D),F=j.clientX,H=j.clientY;kx(j.view),ju(j),L.mouse=[M,this.__zoom.invert(M)],ba(this),L.start();function V(B){if(ui(B),!L.moved){var K=B.clientX-F,Y=B.clientY-H;L.moved=K*K+Y*Y>b}L.event(B).zoom("mouse",n(p(L.that.__zoom,L.mouse[0]=Dt(B,D),L.mouse[1]),L.extent,o))}function q(B){C.on("mousemove.zoom mouseup.zoom",null),jx(B.view,L.moved),ui(B),L.event(B).end()}}function T(j,...z){if(e.apply(this,arguments)){var D=this.__zoom,L=Dt(j.changedTouches?j.changedTouches[0]:j,this),C=D.invert(L),M=D.k*(j.shiftKey?.5:2),F=n(p(g(D,M),L,C),t.apply(this,z),o);ui(j),l>0?ht(this).transition().duration(l).call(w,F,L,j):ht(this).call(m.transform,F,L,j)}}function I(j,...z){if(e.apply(this,arguments)){var D=j.touches,L=D.length,C=_(this,z,j.changedTouches.length===L).event(j),M,F,H,V;for(ju(j),F=0;F<L;++F)H=D[F],V=Dt(H,this),V=[V,this.__zoom.invert(V),H.identifier],C.touch0?!C.touch1&&C.touch0[2]!==V[2]&&(C.touch1=V,C.taps=0):(C.touch0=V,M=!0,C.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(C.taps<2&&(f=V[0],d=setTimeout(function(){d=null},v)),ba(this),C.start())}}function A(j,...z){if(this.__zooming){var D=_(this,z).event(j),L=j.changedTouches,C=L.length,M,F,H,V;for(ui(j),M=0;M<C;++M)F=L[M],H=Dt(F,this),D.touch0&&D.touch0[2]===F.identifier?D.touch0[0]=H:D.touch1&&D.touch1[2]===F.identifier&&(D.touch1[0]=H);if(F=D.that.__zoom,D.touch1){var q=D.touch0[0],B=D.touch0[1],K=D.touch1[0],Y=D.touch1[1],Z=(Z=K[0]-q[0])*Z+(Z=K[1]-q[1])*Z,W=(W=Y[0]-B[0])*W+(W=Y[1]-B[1])*W;F=g(F,Math.sqrt(Z/W)),H=[(q[0]+K[0])/2,(q[1]+K[1])/2],V=[(B[0]+Y[0])/2,(B[1]+Y[1])/2]}else if(D.touch0)H=D.touch0[0],V=D.touch0[1];else return;D.zoom("touch",n(p(F,H,V),D.extent,o))}}function O(j,...z){if(this.__zooming){var D=_(this,z).event(j),L=j.changedTouches,C=L.length,M,F;for(ju(j),h&&clearTimeout(h),h=setTimeout(function(){h=null},v),M=0;M<C;++M)F=L[M],D.touch0&&D.touch0[2]===F.identifier?delete D.touch0:D.touch1&&D.touch1[2]===F.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(F=Dt(F,this),Math.hypot(f[0]-F[0],f[1]-F[1])<S)){var H=ht(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return m.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:Zo(+j),m):r},m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Zo(!!j),m):e},m.touchable=function(j){return arguments.length?(s=typeof j=="function"?j:Zo(!!j),m):s},m.extent=function(j){return arguments.length?(t=typeof j=="function"?j:Zo([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),m):t},m.scaleExtent=function(j){return arguments.length?(i[0]=+j[0],i[1]=+j[1],m):[i[0],i[1]]},m.translateExtent=function(j){return arguments.length?(o[0][0]=+j[0][0],o[1][0]=+j[1][0],o[0][1]=+j[0][1],o[1][1]=+j[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(j){return arguments.length?(n=j,m):n},m.duration=function(j){return arguments.length?(l=+j,m):l},m.interpolate=function(j){return arguments.length?(u=j,m):u},m.on=function(){var j=c.on.apply(c,arguments);return j===c?m:j},m.clickDistance=function(j){return arguments.length?(b=(j=+j)*j,m):Math.sqrt(b)},m.tapDistance=function(j){return arguments.length?(S=+j,m):S},m}const nn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Zi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ux=["Enter"," ","Escape"],Bx={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var As;(function(e){e.Strict="strict",e.Loose="loose"})(As||(As={}));var Er;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Er||(Er={}));var Ji;(function(e){e.Partial="partial",e.Full="full"})(Ji||(Ji={}));const Wx={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Pn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Pn||(Pn={}));var rl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(rl||(rl={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));const Sp={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top};function qx(e){return e===null?null:e?"valid":"invalid"}const Qx=e=>"id"in e&&"source"in e&&"target"in e,Kk=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),pf=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),yo=(e,t,n)=>{if(!e.id)return[];const r=new Set;return n.forEach(s=>{s.target===e.id&&r.add(s.source)}),t.filter(s=>r.has(s.id))},xo=(e,t=[0,0])=>{const{width:n,height:r}=Nn(e),s=e.origin??t,i=n*s[0],o=r*s[1];return{x:e.position.x-i,y:e.position.y-o}},Yk=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let o=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(s):pf(s)?s:t.nodeLookup.get(s.id));const l=o?sl(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Pl(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Il(n)},vo=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=Pl(n,sl(s)),r=!0)}),r?Il(n):{x:0,y:0,width:0,height:0}},mf=(e,t,[n,r,s]=[0,0,1],i=!1,o=!1)=>{const l={...bo(t,[n,r,s]),width:t.width/s,height:t.height/s},u=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:h=!1}=c;if(o&&!f||h)continue;const v=d.width??c.width??c.initialWidth??null,y=d.height??c.height??c.initialHeight??null,b=eo(l,Ls(c)),S=(v??0)*(y??0),m=i&&b>0;(!c.internals.handleBounds||m||b>=S||c.dragging)&&u.push(c)}return u},Gk=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function Zk(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function Jk({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const l=Zk(e,o),u=vo(l),c=gf(u,t,n,(o==null?void 0:o.minZoom)??s,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Xx({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const o=n.get(e),l=o.parentId?n.get(o.parentId):void 0,{x:u,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let f=o.extent||s;if(o.extent==="parent"&&!o.expandParent)if(!l)i==null||i("005",nn.error005());else{const v=l.measured.width,y=l.measured.height;v&&y&&(f=[[u,c],[u+v,c+y]])}else l&&zs(o.extent)&&(f=[[o.extent[0][0]+u,o.extent[0][1]+c],[o.extent[1][0]+u,o.extent[1][1]+c]]);const h=zs(f)?Lr(t,f,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",nn.error015())),{position:{x:h.x-u+(o.measured.width??0)*d[0],y:h.y-c+(o.measured.height??0)*d[1]},positionAbsolute:h}}async function ej({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const v=i.has(h.id),y=!v&&h.parentId&&o.find(b=>b.id===h.parentId);(v||y)&&o.push(h)}const l=new Set(t.map(h=>h.id)),u=r.filter(h=>h.deletable!==!1),d=Gk(o,u);for(const h of u)l.has(h.id)&&!d.find(y=>y.id===h.id)&&d.push(h);if(!s)return{edges:d,nodes:o};const f=await s({nodes:o,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:o}:{edges:[],nodes:[]}:f}const Os=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Lr=(e={x:0,y:0},t,n)=>({x:Os(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Os(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Kx(e,t,n){const{width:r,height:s}=Nn(n),{x:i,y:o}=n.internals.positionAbsolute;return Lr(e,[[i,o],[i+r,o+s]],t)}const kp=(e,t,n)=>e<t?Os(Math.abs(e-t),1,t)/t:e>n?-Os(Math.abs(e-n),1,t)/t:0,Yx=(e,t,n=15,r=40)=>{const s=kp(e.x,r,t.width-r)*n,i=kp(e.y,r,t.height-r)*n;return[s,i]},Pl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Zc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Il=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ls=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=pf(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,width:((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},sl=(e,t=[0,0])=>{var s,i;const{x:n,y:r}=pf(e)?e.internals.positionAbsolute:xo(e,t);return{x:n,y:r,x2:n+(((s=e.measured)==null?void 0:s.width)??e.width??e.initialWidth??0),y2:r+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Gx=(e,t)=>Il(Pl(Zc(e),Zc(t))),eo=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},jp=e=>zt(e.width)&&zt(e.height)&&zt(e.x)&&zt(e.y),zt=e=>!isNaN(e)&&isFinite(e),tj=(e,t)=>{},wo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),bo=({x:e,y:t},[n,r,s],i=!1,o=[1,1])=>{const l={x:(e-n)/s,y:(t-r)/s};return i?wo(l,o):l},il=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function Br(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function nj(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Br(e,n),s=Br(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=Br(e.top??e.y??0,n),s=Br(e.bottom??e.y??0,n),i=Br(e.left??e.x??0,t),o=Br(e.right??e.x??0,t);return{top:r,right:o,bottom:s,left:i,x:i+o,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function rj(e,t,n,r,s,i){const{x:o,y:l}=il(e,[t,n,r]),{x:u,y:c}=il({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=s-u,f=i-c;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const gf=(e,t,n,r,s,i)=>{const o=nj(i,t,n),l=(t-o.x)/e.width,u=(n-o.y)/e.height,c=Math.min(l,u),d=Os(c,r,s),f=e.x+e.width/2,h=e.y+e.height/2,v=t/2-f*d,y=n/2-h*d,b=rj(e,v,y,d,t,n),S={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:v-S.left+S.right,y:y-S.top+S.bottom,zoom:d}},to=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function zs(e){return e!=null&&e!=="parent"}function Nn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Zx(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Jx(e,t={width:0,height:0},n,r,s){const i={...e},o=r.get(n);if(o){const l=o.origin||s;i.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function Ep(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function sj(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function ij(e){return{...Bx,...e||{}}}function Ci(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:o}=Ft(e),l=bo({x:i-((s==null?void 0:s.left)??0),y:o-((s==null?void 0:s.top)??0)},r),{x:u,y:c}=n?wo(l,t):l;return{xSnapped:u,ySnapped:c,...l}}const yf=e=>({width:e.offsetWidth,height:e.offsetHeight}),e0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},oj=["INPUT","SELECT","TEXTAREA"];function t0(e){var r,s;const t=((s=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:s[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:oj.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const n0=e=>"clientX"in e,Ft=(e,t)=>{var i,o;const n=n0(e),r=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Cp=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:s,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...yf(o)}})};function r0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const u=e*.125+s*.375+o*.375+n*.125,c=t*.125+i*.375+l*.375+r*.125,d=Math.abs(u-e),f=Math.abs(c-t);return[u,c,d,f]}function Jo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Tp({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case G.Left:return[t-Jo(t-r,i),n];case G.Right:return[t+Jo(r-t,i),n];case G.Top:return[t,n-Jo(n-s,i)];case G.Bottom:return[t,n+Jo(s-n,i)]}}function s0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,curvature:o=.25}){const[l,u]=Tp({pos:n,x1:e,y1:t,x2:r,y2:s,c:o}),[c,d]=Tp({pos:i,x1:r,y1:s,x2:e,y2:t,c:o}),[f,h,v,y]=r0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${l},${u} ${c},${d} ${r},${s}`,f,h,v,y]}function i0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[i,l,s,o]}function aj({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:s=!1,zIndexMode:i="basic"}){if(i==="manual")return r;const o=s&&n?r+1e3:r,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return o+l}function lj({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=Pl(sl(e),sl(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return eo(o,Il(i))>0}const uj=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,cj=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),o0=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||uj;let s;return Qx(e)?s={...e}:s={...e,id:r(e)},cj(s,t)?t:(s.sourceHandle===null&&delete s.sourceHandle,s.targetHandle===null&&delete s.targetHandle,t.concat(s))};function a0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,o,l]=i0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,o,l]}const Mp={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},dj=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Rp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function fj({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:s,offset:i,stepPosition:o}){const l=Mp[t],u=Mp[r],c={x:e.x+l.x*i,y:e.y+l.y*i},d={x:n.x+u.x*i,y:n.y+u.y*i},f=dj({source:c,sourcePosition:t,target:d}),h=f.x!==0?"x":"y",v=f[h];let y=[],b,S;const m={x:0,y:0},g={x:0,y:0},[,,p,x]=i0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[h]*u[h]===-1){h==="x"?(b=s.x??c.x+(d.x-c.x)*o,S=s.y??(c.y+d.y)/2):(b=s.x??(c.x+d.x)/2,S=s.y??c.y+(d.y-c.y)*o);const _=[{x:b,y:c.y},{x:b,y:d.y}],N=[{x:c.x,y:S},{x:d.x,y:S}];l[h]===v?y=h==="x"?_:N:y=h==="x"?N:_}else{const _=[{x:c.x,y:d.y}],N=[{x:d.x,y:c.y}];if(h==="x"?y=l.x===v?N:_:y=l.y===v?_:N,t===r){const A=Math.abs(e[h]-n[h]);if(A<=i){const O=Math.min(i-1,i-A);l[h]===v?m[h]=(c[h]>e[h]?-1:1)*O:g[h]=(d[h]>n[h]?-1:1)*O}}if(t!==r){const A=h==="x"?"y":"x",O=l[h]===u[A],j=c[A]>d[A],z=c[A]<d[A];(l[h]===1&&(!O&&j||O&&z)||l[h]!==1&&(!O&&z||O&&j))&&(y=h==="x"?_:N)}const k={x:c.x+m.x,y:c.y+m.y},E={x:d.x+g.x,y:d.y+g.y},T=Math.max(Math.abs(k.x-y[0].x),Math.abs(E.x-y[0].x)),I=Math.max(Math.abs(k.y-y[0].y),Math.abs(E.y-y[0].y));T>=I?(b=(k.x+E.x)/2,S=y[0].y):(b=y[0].x,S=(k.y+E.y)/2)}return[[e,{x:c.x+m.x,y:c.y+m.y},...y,{x:d.x+g.x,y:d.y+g.y},n],b,S,p,x]}function hj(e,t,n,r){const s=Math.min(Rp(e,t)/2,Rp(t,n)/2,r),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${i+s*c},${o}Q ${i},${o} ${i},${o+s*d}`}const l=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${o+s*u}Q ${i},${o} ${i+s*l},${o}`}function ol({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top,borderRadius:o=5,centerX:l,centerY:u,offset:c=20,stepPosition:d=.5}){const[f,h,v,y,b]=fj({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:l,y:u},offset:c,stepPosition:d});return[f.reduce((m,g,p)=>{let x="";return p>0&&p<f.length-1?x=hj(f[p-1],g,f[p+1],o):x=`${p===0?"M":"L"}${g.x} ${g.y}`,m+=x,m},""),h,v,y,b]}function Pp(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function pj(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Pp(t)||!Pp(n))return null;const r=t.internals.handleBounds||Ip(t.handles),s=n.internals.handleBounds||Ip(n.handles),i=Dp((r==null?void 0:r.source)??[],e.sourceHandle),o=Dp(e.connectionMode===As.Strict?(s==null?void 0:s.target)??[]:((s==null?void 0:s.target)??[]).concat((s==null?void 0:s.source)??[]),e.targetHandle);if(!i||!o)return(f=e.onError)==null||f.call(e,"008",nn.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||G.Bottom,u=(o==null?void 0:o.position)||G.Top,c=zr(t,i,l),d=zr(n,o,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:u}}function Ip(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function zr(e,t,n=G.Left,r=!1){const s=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??Nn(e);if(r)return{x:s+o/2,y:i+l/2};switch((t==null?void 0:t.position)??n){case G.Top:return{x:s+o/2,y:i};case G.Right:return{x:s+o,y:i+l/2};case G.Bottom:return{x:s+o/2,y:i+l};case G.Left:return{x:s,y:i+l/2}}}function Dp(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Jc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function mj(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((o,l)=>([l.markerStart||r,l.markerEnd||s].forEach(u=>{if(u&&typeof u=="object"){const c=Jc(u,t);i.has(c)||(o.push({id:c,color:u.color||n,...u}),i.add(c))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const l0=1e3,gj=10,xf={nodeOrigin:[0,0],nodeExtent:Zi,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},yj={...xf,checkEquality:!0};function vf(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function xj(e,t,n){const r=vf(xf,n);for(const s of e.values())if(s.parentId)bf(s,e,t,r);else{const i=xo(s,r.nodeOrigin),o=zs(s.extent)?s.extent:r.nodeExtent,l=Lr(i,o,Nn(s));s.internals.positionAbsolute=l}}function vj(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function wf(e){return e==="manual"}function ed(e,t,n,r={}){var c,d;const s=vf(yj,r),i={i:0},o=new Map(t),l=s!=null&&s.elevateNodesOnSelect&&!wf(s.zIndexMode)?l0:0;let u=e.length>0;t.clear(),n.clear();for(const f of e){let h=o.get(f.id);if(s.checkEquality&&f===(h==null?void 0:h.internals.userNode))t.set(f.id,h);else{const v=xo(f,s.nodeOrigin),y=zs(f.extent)?f.extent:s.nodeExtent,b=Lr(v,y,Nn(f));h={...s.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:b,handleBounds:vj(f,h),z:u0(f,l,s.zIndexMode),userNode:f}},t.set(f.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(u=!1),f.parentId&&bf(h,t,n,r,i)}return u}function wj(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function bf(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:l,zIndexMode:u}=vf(xf,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}wj(e,n),s&&!d.parentId&&d.internals.rootParentIndex===void 0&&u==="auto"&&(d.internals.rootParentIndex=++s.i,d.internals.z=d.internals.z+s.i*gj),s&&d.internals.rootParentIndex!==void 0&&(s.i=d.internals.rootParentIndex);const f=i&&!wf(u)?l0:0,{x:h,y:v,z:y}=bj(e,d,o,l,f,u),{positionAbsolute:b}=e.internals,S=h!==b.x||v!==b.y;(S||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:S?{x:h,y:v}:b,z:y}})}function u0(e,t,n){const r=zt(e.zIndex)?e.zIndex:0;return wf(n)?r:r+(e.selected?t:0)}function bj(e,t,n,r,s,i){const{x:o,y:l}=t.internals.positionAbsolute,u=Nn(e),c=xo(e,n),d=zs(e.extent)?Lr(c,e.extent,u):c;let f=Lr({x:o+d.x,y:l+d.y},r,u);e.extent==="parent"&&(f=Kx(f,u,t));const h=u0(e,s,i),v=t.internals.z??0;return{x:f.x,y:f.y,z:v>=h?v+1:h}}function Nf(e,t,n,r=[0,0]){var o;const s=[],i=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const c=((o=i.get(l.parentId))==null?void 0:o.expandedRect)??Ls(u),d=Gx(c,l.rect);i.set(l.parentId,{expandedRect:d,parent:u})}return i.size>0&&i.forEach(({expandedRect:l,parent:u},c)=>{var p;const d=u.internals.positionAbsolute,f=Nn(u),h=u.origin??r,v=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,y=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,b=Math.max(f.width,Math.round(l.width)),S=Math.max(f.height,Math.round(l.height)),m=(b-f.width)*h[0],g=(S-f.height)*h[1];(v>0||y>0||m||g)&&(s.push({id:c,type:"position",position:{x:u.position.x-v+m,y:u.position.y-y+g}}),(p=n.get(c))==null||p.forEach(x=>{e.some(w=>w.id===x.id)||s.push({id:x.id,type:"position",position:{x:x.position.x+v,y:x.position.y+y}})})),(f.width<l.width||f.height<l.height||v||y)&&s.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:b+(v?h[0]*v-m:0),height:S+(y?h[1]*y-g:0)}})}),s}function Nj(e,t,n,r,s,i,o){const l=r==null?void 0:r.querySelector(".xyflow__viewport");let u=!1;if(!l)return{changes:[],updatedInternals:u};const c=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const v of e.values()){const y=t.get(v.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),u=!0;continue}const b=yf(v.nodeElement),S=y.measured.width!==b.width||y.measured.height!==b.height;if(!!(b.width&&b.height&&(S||!y.internals.handleBounds||v.force))){const g=v.nodeElement.getBoundingClientRect(),p=zs(y.extent)?y.extent:i;let{positionAbsolute:x}=y.internals;y.parentId&&y.extent==="parent"?x=Kx(x,b,t.get(y.parentId)):p&&(x=Lr(x,p,b));const w={...y,measured:b,internals:{...y.internals,positionAbsolute:x,handleBounds:{source:Cp("source",v.nodeElement,g,f,y.id),target:Cp("target",v.nodeElement,g,f,y.id)}}};t.set(y.id,w),y.parentId&&bf(w,t,n,{nodeOrigin:s,zIndexMode:o}),u=!0,S&&(c.push({id:y.id,type:"dimensions",dimensions:b}),y.expandParent&&y.parentId&&h.push({id:y.id,parentId:y.parentId,rect:Ls(w,s)}))}}if(h.length>0){const v=Nf(h,t,n,s);c.push(...v)}return{changes:c,updatedInternals:u}}async function _j({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function Ap(e,t,n,r,s,i){let o=s;const l=r.get(o)||new Map;r.set(o,l.set(n,t)),o=`${s}-${e}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,t)),i){o=`${s}-${e}-${i}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function c0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:o=null,targetHandle:l=null}=r,u={edgeId:r.id,source:s,target:i,sourceHandle:o,targetHandle:l},c=`${s}-${o}--${i}-${l}`,d=`${i}-${l}--${s}-${o}`;Ap("source",u,d,e,s,o),Ap("target",u,c,e,i,l),t.set(r.id,r)}}function d0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:d0(n,t):!1}function Op(e,t,n){var s;let r=e;do{if((s=r==null?void 0:r.matches)!=null&&s.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Sj(e,t,n,r){const s=new Map;for(const[i,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!d0(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(i);l&&s.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return s}function Eu({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var o,l,u;const s=[];for(const[c,d]of t){const f=(o=n.get(c))==null?void 0:o.internals.userNode;f&&s.push({...f,position:d.position,dragging:r})}if(!e)return[s[0],s];const i=(l=n.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:r}:s[0],s]}function kj({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},o=wo(i,t);return{x:o.x-i.x,y:o.y-i.y}}function jj({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},o=0,l=new Map,u=!1,c={x:0,y:0},d=null,f=!1,h=null,v=!1,y=!1,b=null;function S({noDragClassName:g,handleSelector:p,domNode:x,isSelectable:w,nodeId:_,nodeClickDistance:N=0}){h=ht(x);function k({x:A,y:O}){const{nodeLookup:j,nodeExtent:z,snapGrid:D,snapToGrid:L,nodeOrigin:C,onNodeDrag:M,onSelectionDrag:F,onError:H,updateNodePositions:V}=t();i={x:A,y:O};let q=!1;const B=l.size>1,K=B&&z?Zc(vo(l)):null,Y=B&&L?kj({dragItems:l,snapGrid:D,x:A,y:O}):null;for(const[Z,W]of l){if(!j.has(Z))continue;let J={x:A-W.distance.x,y:O-W.distance.y};L&&(J=Y?{x:Math.round(J.x+Y.x),y:Math.round(J.y+Y.y)}:wo(J,D));let oe=null;if(B&&z&&!W.extent&&K){const{positionAbsolute:te}=W.internals,pe=te.x-K.x+z[0][0],xe=te.x+W.measured.width-K.x2+z[1][0],he=te.y-K.y+z[0][1],Ue=te.y+W.measured.height-K.y2+z[1][1];oe=[[pe,he],[xe,Ue]]}const{position:re,positionAbsolute:ne}=Xx({nodeId:Z,nextPosition:J,nodeLookup:j,nodeExtent:oe||z,nodeOrigin:C,onError:H});q=q||W.position.x!==re.x||W.position.y!==re.y,W.position=re,W.internals.positionAbsolute=ne}if(y=y||q,!!q&&(V(l,!0),b&&(r||M||!_&&F))){const[Z,W]=Eu({nodeId:_,dragItems:l,nodeLookup:j});r==null||r(b,l,Z,W),M==null||M(b,Z,W),_||F==null||F(b,W)}}async function E(){if(!d)return;const{transform:A,panBy:O,autoPanSpeed:j,autoPanOnNodeDrag:z}=t();if(!z){u=!1,cancelAnimationFrame(o);return}const[D,L]=Yx(c,d,j);(D!==0||L!==0)&&(i.x=(i.x??0)-D/A[2],i.y=(i.y??0)-L/A[2],await O({x:D,y:L})&&k(i)),o=requestAnimationFrame(E)}function T(A){var B;const{nodeLookup:O,multiSelectionActive:j,nodesDraggable:z,transform:D,snapGrid:L,snapToGrid:C,selectNodesOnDrag:M,onNodeDragStart:F,onSelectionDragStart:H,unselectNodesAndEdges:V}=t();f=!0,(!M||!w)&&!j&&_&&((B=O.get(_))!=null&&B.selected||V()),w&&M&&_&&(e==null||e(_));const q=Ci(A.sourceEvent,{transform:D,snapGrid:L,snapToGrid:C,containerBounds:d});if(i=q,l=Sj(O,z,q,_),l.size>0&&(n||F||!_&&H)){const[K,Y]=Eu({nodeId:_,dragItems:l,nodeLookup:O});n==null||n(A.sourceEvent,l,K,Y),F==null||F(A.sourceEvent,K,Y),_||H==null||H(A.sourceEvent,Y)}}const I=Ex().clickDistance(N).on("start",A=>{const{domNode:O,nodeDragThreshold:j,transform:z,snapGrid:D,snapToGrid:L}=t();d=(O==null?void 0:O.getBoundingClientRect())||null,v=!1,y=!1,b=A.sourceEvent,j===0&&T(A),i=Ci(A.sourceEvent,{transform:z,snapGrid:D,snapToGrid:L,containerBounds:d}),c=Ft(A.sourceEvent,d)}).on("drag",A=>{const{autoPanOnNodeDrag:O,transform:j,snapGrid:z,snapToGrid:D,nodeDragThreshold:L,nodeLookup:C}=t(),M=Ci(A.sourceEvent,{transform:j,snapGrid:z,snapToGrid:D,containerBounds:d});if(b=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||_&&!C.has(_))&&(v=!0),!v){if(!u&&O&&f&&(u=!0,E()),!f){const F=Ft(A.sourceEvent,d),H=F.x-c.x,V=F.y-c.y;Math.sqrt(H*H+V*V)>L&&T(A)}(i.x!==M.xSnapped||i.y!==M.ySnapped)&&l&&f&&(c=Ft(A.sourceEvent,d),k(M))}}).on("end",A=>{if(!(!f||v)&&(u=!1,f=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:O,updateNodePositions:j,onNodeDragStop:z,onSelectionDragStop:D}=t();if(y&&(j(l,!1),y=!1),s||z||!_&&D){const[L,C]=Eu({nodeId:_,dragItems:l,nodeLookup:O,dragging:!1});s==null||s(A.sourceEvent,l,L,C),z==null||z(A.sourceEvent,L,C),_||D==null||D(A.sourceEvent,C)}}}).filter(A=>{const O=A.target;return!A.button&&(!g||!Op(O,`.${g}`,x))&&(!p||Op(O,p,x))});h.call(I)}function m(){h==null||h.on(".drag",null)}return{update:S,destroy:m}}function Ej(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())eo(s,Ls(i))>0&&r.push(i);return r}const Cj=250;function Tj(e,t,n,r){var l,u;let s=[],i=1/0;const o=Ej(e,n,t+Cj);for(const c of o){const d=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((u=c.internals.handleBounds)==null?void 0:u.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:h,y:v}=zr(c,f,f.position,!0),y=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(v-e.y,2));y>t||(y<i?(s=[{...f,x:h,y:v}],i=y):y===i&&s.push({...f,x:h,y:v}))}}if(!s.length)return null;if(s.length>1){const c=r.type==="source"?"target":"source";return s.find(d=>d.type===c)??s[0]}return s[0]}function f0(e,t,n,r,s,i=!1){var c,d,f;const o=r.get(e);if(!o)return null;const l=s==="strict"?(c=o.internals.handleBounds)==null?void 0:c[t]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((f=o.internals.handleBounds)==null?void 0:f.target)??[]],u=(n?l==null?void 0:l.find(h=>h.id===n):l==null?void 0:l[0])??null;return u&&i?{...u,...zr(o,u,u.position,!0)}:u}function h0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Mj(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const p0=()=>!0;function Rj(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:o,domNode:l,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:v,onConnectStart:y,onConnect:b,onConnectEnd:S,isValidConnection:m=p0,onReconnectEnd:g,updateConnection:p,getTransform:x,getFromHandle:w,autoPanSpeed:_,dragThreshold:N=1,handleDomNode:k}){const E=e0(e.target);let T=0,I;const{x:A,y:O}=Ft(e),j=h0(i,k),z=l==null?void 0:l.getBoundingClientRect();let D=!1;if(!z||!j)return;const L=f0(s,j,r,u,t);if(!L)return;let C=Ft(e,z),M=!1,F=null,H=!1,V=null;function q(){if(!d||!z)return;const[re,ne]=Yx(C,z,_);h({x:re,y:ne}),T=requestAnimationFrame(q)}const B={...L,nodeId:s,type:j,position:L.position},K=u.get(s);let Z={inProgress:!0,isValid:null,from:zr(K,B,G.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:K,to:C,toHandle:null,toPosition:Sp[B.position],toNode:null,pointer:C};function W(){D=!0,p(Z),y==null||y(e,{nodeId:s,handleId:r,handleType:j})}N===0&&W();function J(re){if(!D){const{x:Ue,y:_n}=Ft(re),sn=Ue-A,sr=_n-O;if(!(sn*sn+sr*sr>N*N))return;W()}if(!w()||!B){oe(re);return}const ne=x();C=Ft(re,z),I=Tj(bo(C,ne,!1,[1,1]),n,u,B),M||(q(),M=!0);const te=m0(re,{handle:I,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:o?"target":"source",isValidConnection:m,doc:E,lib:c,flowId:f,nodeLookup:u});V=te.handleDomNode,F=te.connection,H=Mj(!!I,te.isValid);const pe=u.get(s),xe=pe?zr(pe,B,G.Left,!0):Z.from,he={...Z,from:xe,isValid:H,to:te.toHandle&&H?il({x:te.toHandle.x,y:te.toHandle.y},ne):C,toHandle:te.toHandle,toPosition:H&&te.toHandle?te.toHandle.position:Sp[B.position],toNode:te.toHandle?u.get(te.toHandle.nodeId):null,pointer:C};p(he),Z=he}function oe(re){if(!("touches"in re&&re.touches.length>0)){if(D){(I||V)&&F&&H&&(b==null||b(F));const{inProgress:ne,...te}=Z,pe={...te,toPosition:Z.toHandle?Z.toPosition:null};S==null||S(re,pe),i&&(g==null||g(re,pe))}v(),cancelAnimationFrame(T),M=!1,H=!1,F=null,V=null,E.removeEventListener("mousemove",J),E.removeEventListener("mouseup",oe),E.removeEventListener("touchmove",J),E.removeEventListener("touchend",oe)}}E.addEventListener("mousemove",J),E.addEventListener("mouseup",oe),E.addEventListener("touchmove",J),E.addEventListener("touchend",oe)}function m0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:o,lib:l,flowId:u,isValidConnection:c=p0,nodeLookup:d}){const f=i==="target",h=t?o.querySelector(`.${l}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:v,y}=Ft(e),b=o.elementFromPoint(v,y),S=b!=null&&b.classList.contains(`${l}-flow__handle`)?b:h,m={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const g=h0(void 0,S),p=S.getAttribute("data-nodeid"),x=S.getAttribute("data-handleid"),w=S.classList.contains("connectable"),_=S.classList.contains("connectableend");if(!p||!g)return m;const N={source:f?p:r,sourceHandle:f?x:s,target:f?r:p,targetHandle:f?s:x};m.connection=N;const E=w&&_&&(n===As.Strict?f&&g==="source"||!f&&g==="target":p!==r||x!==s);m.isValid=E&&c(N),m.toHandle=f0(p,g,x,d,n,!0)}return m}const td={onPointerDown:Rj,isValid:m0};function Pj({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=ht(e);function i({translateExtent:l,width:u,height:c,zoomStep:d=1,pannable:f=!0,zoomable:h=!0,inversePan:v=!1}){const y=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const x=n(),w=p.sourceEvent.ctrlKey&&to()?10:1,_=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*d,N=x[2]*Math.pow(2,_*w);t.scaleTo(N)};let b=[0,0];const S=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(b=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},m=p=>{const x=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const w=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],_=[w[0]-b[0],w[1]-b[1]];b=w;const N=r()*Math.max(x[2],Math.log(x[2]))*(v?-1:1),k={x:x[0]-_[0]*N,y:x[1]-_[1]*N},E=[[0,0],[u,c]];t.setViewportConstrained({x:k.x,y:k.y,zoom:x[2]},E,l)},g=Vx().on("start",S).on("zoom",f?m:null).on("zoom.wheel",h?y:null);s.call(g,{})}function o(){s.on("zoom",null)}return{update:i,destroy:o,pointer:Dt}}const Dl=e=>({x:e.x,y:e.y,zoom:e.k}),Cu=({x:e,y:t,zoom:n})=>Rl.translate(e,t).scale(n),rs=(e,t)=>e.target.closest(`.${t}`),g0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Ij=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Tu=(e,t=0,n=Ij,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},y0=e=>{const t=e.ctrlKey&&to()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Dj({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:c}){return d=>{if(rs(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&o){const S=Dt(d),m=y0(d),g=f*Math.pow(2,m);r.scaleTo(n,g,S,d);return}const h=d.deltaMode===1?20:1;let v=s===Er.Vertical?0:d.deltaX*h,y=s===Er.Horizontal?0:d.deltaY*h;!to()&&d.shiftKey&&s!==Er.Vertical&&(v=d.deltaY*h,y=0),r.translateBy(n,-(v/f)*i,-(y/f)*i,{internal:!0});const b=Dl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(d,b),e.panScrollTimeout=setTimeout(()=>{c==null||c(d,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,b))}}function Aj({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",o=!t&&i&&!r.ctrlKey,l=rs(r,e);if(r.ctrlKey&&i&&l&&r.preventDefault(),o||l)return null;r.preventDefault(),n.call(this,r,s)}}function Oj({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var i,o,l;if((i=r.sourceEvent)!=null&&i.internal)return;const s=Dl(r.transform);e.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=s,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,s))}}function Lj({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{var o,l;e.usedRightMouseButton=!!(n&&g0(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!((l=i.sourceEvent)!=null&&l.internal)&&(s==null||s(i.sourceEvent,Dl(i.transform)))}}function zj({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&g0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const u=Dl(o.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s==null||s(o.sourceEvent,u)},n?150:0)}}}function Fj({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:c,connectionInProgress:d}){return f=>{var S;const h=e||t,v=n&&f.ctrlKey,y=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(rs(f,`${c}-flow__node`)||rs(f,`${c}-flow__edge`)))return!0;if(!r&&!h&&!s&&!i&&!n||o||d&&!y||rs(f,l)&&y||rs(f,u)&&(!y||s&&y&&!e)||!n&&f.ctrlKey&&y)return!1;if(!n&&f.type==="touchstart"&&((S=f.touches)==null?void 0:S.length)>1)return f.preventDefault(),!1;if(!h&&!s&&!v&&y||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||y)&&b}}function $j({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Vx().scaleExtent([t,n]).translateExtent(r),h=ht(e).call(f);g({x:s.x,y:s.y,zoom:Os(s.zoom,t,n)},[[0,0],[d.width,d.height]],r);const v=h.on("wheel.zoom"),y=h.on("dblclick.zoom");f.wheelDelta(y0);function b(I,A){return h?new Promise(O=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:xa).transform(Tu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function S({noWheelClassName:I,noPanClassName:A,onPaneContextMenu:O,userSelectionActive:j,panOnScroll:z,panOnDrag:D,panOnScrollMode:L,panOnScrollSpeed:C,preventScrolling:M,zoomOnPinch:F,zoomOnScroll:H,zoomOnDoubleClick:V,zoomActivationKeyPressed:q,lib:B,onTransformChange:K,connectionInProgress:Y,paneClickDistance:Z,selectionOnDrag:W}){j&&!c.isZoomingOrPanning&&m();const J=z&&!q&&!j;f.clickDistance(W?1/0:!zt(Z)||Z<0?0:Z);const oe=J?Dj({zoomPanValues:c,noWheelClassName:I,d3Selection:h,d3Zoom:f,panOnScrollMode:L,panOnScrollSpeed:C,zoomOnPinch:F,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:l}):Aj({noWheelClassName:I,preventScrolling:M,d3ZoomHandler:v});if(h.on("wheel.zoom",oe,{passive:!1}),!j){const ne=Oj({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:o});f.on("start",ne);const te=Lj({zoomPanValues:c,panOnDrag:D,onPaneContextMenu:!!O,onPanZoom:i,onTransformChange:K});f.on("zoom",te);const pe=zj({zoomPanValues:c,panOnDrag:D,panOnScroll:z,onPaneContextMenu:O,onPanZoomEnd:l,onDraggingChange:u});f.on("end",pe)}const re=Fj({zoomActivationKeyPressed:q,panOnDrag:D,zoomOnScroll:H,panOnScroll:z,zoomOnDoubleClick:V,zoomOnPinch:F,userSelectionActive:j,noPanClassName:A,noWheelClassName:I,lib:B,connectionInProgress:Y});f.filter(re),V?h.on("dblclick.zoom",y):h.on("dblclick.zoom",null)}function m(){f.on("zoom",null)}async function g(I,A,O){const j=Cu(I),z=f==null?void 0:f.constrain()(j,A,O);return z&&await b(z),new Promise(D=>D(z))}async function p(I,A){const O=Cu(I);return await b(O,A),new Promise(j=>j(O))}function x(I){if(h){const A=Cu(I),O=h.property("__zoom");(O.k!==I.zoom||O.x!==I.x||O.y!==I.y)&&(f==null||f.transform(h,A,null,{sync:!0}))}}function w(){const I=h?Hx(h.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function _(I,A){return h?new Promise(O=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:xa).scaleTo(Tu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function N(I,A){return h?new Promise(O=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?Ei:xa).scaleBy(Tu(h,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>O(!0)),I)}):Promise.resolve(!1)}function k(I){f==null||f.scaleExtent(I)}function E(I){f==null||f.translateExtent(I)}function T(I){const A=!zt(I)||I<0?0:I;f==null||f.clickDistance(A)}return{update:S,destroy:m,setViewport:p,setViewportConstrained:g,getViewport:w,scaleTo:_,scaleBy:N,setScaleExtent:k,setTranslateExtent:E,syncViewport:x,setClickDistance:T}}var Fs;(function(e){e.Line="line",e.Handle="handle"})(Fs||(Fs={}));function Hj({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const o=e-t,l=n-r,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&s&&(u[0]=u[0]*-1),l&&i&&(u[1]=u[1]*-1),u}function Lp(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function kn(e,t){return Math.max(0,t-e)}function jn(e,t){return Math.max(0,e-t)}function ea(e,t,n){return Math.max(0,t-e,e-n)}function zp(e,t){return e?!t:t}function Vj(e,t,n,r,s,i,o,l){let{affectsX:u,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,h=d&&f,{xSnapped:v,ySnapped:y}=n,{minWidth:b,maxWidth:S,minHeight:m,maxHeight:g}=r,{x:p,y:x,width:w,height:_,aspectRatio:N}=e;let k=Math.floor(d?v-e.pointerX:0),E=Math.floor(f?y-e.pointerY:0);const T=w+(u?-k:k),I=_+(c?-E:E),A=-i[0]*w,O=-i[1]*_;let j=ea(T,b,S),z=ea(I,m,g);if(o){let C=0,M=0;u&&k<0?C=kn(p+k+A,o[0][0]):!u&&k>0&&(C=jn(p+T+A,o[1][0])),c&&E<0?M=kn(x+E+O,o[0][1]):!c&&E>0&&(M=jn(x+I+O,o[1][1])),j=Math.max(j,C),z=Math.max(z,M)}if(l){let C=0,M=0;u&&k>0?C=jn(p+k,l[0][0]):!u&&k<0&&(C=kn(p+T,l[1][0])),c&&E>0?M=jn(x+E,l[0][1]):!c&&E<0&&(M=kn(x+I,l[1][1])),j=Math.max(j,C),z=Math.max(z,M)}if(s){if(d){const C=ea(T/N,m,g)*N;if(j=Math.max(j,C),o){let M=0;!u&&!c||u&&!c&&h?M=jn(x+O+T/N,o[1][1])*N:M=kn(x+O+(u?k:-k)/N,o[0][1])*N,j=Math.max(j,M)}if(l){let M=0;!u&&!c||u&&!c&&h?M=kn(x+T/N,l[1][1])*N:M=jn(x+(u?k:-k)/N,l[0][1])*N,j=Math.max(j,M)}}if(f){const C=ea(I*N,b,S)/N;if(z=Math.max(z,C),o){let M=0;!u&&!c||c&&!u&&h?M=jn(p+I*N+A,o[1][0])/N:M=kn(p+(c?E:-E)*N+A,o[0][0])/N,z=Math.max(z,M)}if(l){let M=0;!u&&!c||c&&!u&&h?M=kn(p+I*N,l[1][0])/N:M=jn(p+(c?E:-E)*N,l[0][0])/N,z=Math.max(z,M)}}}E=E+(E<0?z:-z),k=k+(k<0?j:-j),s&&(h?T>I*N?E=(zp(u,c)?-k:k)/N:k=(zp(u,c)?-E:E)*N:d?(E=k/N,c=u):(k=E*N,u=c));const D=u?p+k:p,L=c?x+E:x;return{width:w+(u?-k:k),height:_+(c?-E:E),x:i[0]*k*(u?-1:1)+D,y:i[1]*E*(c?-1:1)+L}}const x0={width:0,height:0,x:0,y:0},Uj={...x0,pointerX:0,pointerY:0,aspectRatio:1};function Bj(e){return[[0,0],[e.measured.width,e.measured.height]]}function Wj(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,l=n[0]*i,u=n[1]*o;return[[r-l,s-u],[r+i-l,s+o-u]]}function qj({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=ht(e);let o={controlDirection:Lp("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:v,onResize:y,onResizeEnd:b,shouldResize:S}){let m={...x0},g={...Uj};o={boundaries:d,resizeDirection:h,keepAspectRatio:f,controlDirection:Lp(c)};let p,x=null,w=[],_,N,k,E=!1;const T=Ex().on("start",I=>{const{nodeLookup:A,transform:O,snapGrid:j,snapToGrid:z,nodeOrigin:D,paneDomNode:L}=n();if(p=A.get(t),!p)return;x=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:M}=Ci(I.sourceEvent,{transform:O,snapGrid:j,snapToGrid:z,containerBounds:x});m={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},g={...m,pointerX:C,pointerY:M,aspectRatio:m.width/m.height},_=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(_=A.get(p.parentId),N=_&&p.extent==="parent"?Bj(_):void 0),w=[],k=void 0;for(const[F,H]of A)if(H.parentId===t&&(w.push({id:F,position:{...H.position},extent:H.extent}),H.extent==="parent"||H.expandParent)){const V=Wj(H,p,H.origin??D);k?k=[[Math.min(V[0][0],k[0][0]),Math.min(V[0][1],k[0][1])],[Math.max(V[1][0],k[1][0]),Math.max(V[1][1],k[1][1])]]:k=V}v==null||v(I,{...m})}).on("drag",I=>{const{transform:A,snapGrid:O,snapToGrid:j,nodeOrigin:z}=n(),D=Ci(I.sourceEvent,{transform:A,snapGrid:O,snapToGrid:j,containerBounds:x}),L=[];if(!p)return;const{x:C,y:M,width:F,height:H}=m,V={},q=p.origin??z,{width:B,height:K,x:Y,y:Z}=Vj(g,o.controlDirection,D,o.boundaries,o.keepAspectRatio,q,N,k),W=B!==F,J=K!==H,oe=Y!==C&&W,re=Z!==M&&J;if(!oe&&!re&&!W&&!J)return;if((oe||re||q[0]===1||q[1]===1)&&(V.x=oe?Y:m.x,V.y=re?Z:m.y,m.x=V.x,m.y=V.y,w.length>0)){const xe=Y-C,he=Z-M;for(const Ue of w)Ue.position={x:Ue.position.x-xe+q[0]*(B-F),y:Ue.position.y-he+q[1]*(K-H)},L.push(Ue)}if((W||J)&&(V.width=W&&(!o.resizeDirection||o.resizeDirection==="horizontal")?B:m.width,V.height=J&&(!o.resizeDirection||o.resizeDirection==="vertical")?K:m.height,m.width=V.width,m.height=V.height),_&&p.expandParent){const xe=q[0]*(V.width??0);V.x&&V.x<xe&&(m.x=xe,g.x=g.x-(V.x-xe));const he=q[1]*(V.height??0);V.y&&V.y<he&&(m.y=he,g.y=g.y-(V.y-he))}const ne=Hj({width:m.width,prevWidth:F,height:m.height,prevHeight:H,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),te={...m,direction:ne};(S==null?void 0:S(I,te))!==!1&&(E=!0,y==null||y(I,te),r(V,L))}).on("end",I=>{E&&(b==null||b(I,{...m}),s==null||s({...m}),E=!1)});i.call(T)}function u(){i.on(".drag",null)}return{update:l,destroy:u}}const{useDebugValue:Qj}=Lt,{useSyncExternalStoreWithSelector:Xj}=dx,Kj=e=>e;function v0(e,t=Kj,n){const r=Xj(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Qj(r),r}const Fp=(e,t)=>{const n=ox(e),r=(s,i=t)=>v0(n,s,i);return Object.assign(r,n),r},Yj=(e,t)=>e?Fp(e,t):Fp;function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Al=R.createContext(null),Gj=Al.Provider,w0=nn.error001();function ce(e,t){const n=R.useContext(Al);if(n===null)throw new Error(w0);return v0(n,e,t)}function Se(){const e=R.useContext(Al);if(e===null)throw new Error(w0);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const $p={display:"none"},Zj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},b0="react-flow__node-desc",N0="react-flow__edge-desc",Jj="react-flow__aria-live",eE=e=>e.ariaLiveMessage,tE=e=>e.ariaLabelConfig;function nE({rfId:e}){const t=ce(eE);return a.jsx("div",{id:`${Jj}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Zj,children:t})}function rE({rfId:e,disableKeyboardA11y:t}){const n=ce(tE);return a.jsxs(a.Fragment,{children:[a.jsx("div",{id:`${b0}-${e}`,style:$p,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),a.jsx("div",{id:`${N0}-${e}`,style:$p,children:n["edge.a11yDescription.default"]}),!t&&a.jsx(nE,{rfId:e})]})}const Ol=R.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const o=`${e}`.split("-");return a.jsx("div",{className:Ie(["react-flow__panel",n,...o]),style:r,ref:i,...s,children:t})});Ol.displayName="Panel";function sE({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:a.jsx(Ol,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:a.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const iE=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},ta=e=>e.id;function oE(e,t){return _e(e.selectedNodes.map(ta),t.selectedNodes.map(ta))&&_e(e.selectedEdges.map(ta),t.selectedEdges.map(ta))}function aE({onSelectionChange:e}){const t=Se(),{selectedNodes:n,selectedEdges:r}=ce(iE,oE);return R.useEffect(()=>{const s={nodes:n,edges:r};e==null||e(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const lE=e=>!!e.onSelectionChangeHandlers;function uE({onSelectionChange:e}){const t=ce(lE);return e||t?a.jsx(aE,{onSelectionChange:e}):null}const _0=[0,0],cE={x:0,y:0,zoom:1},dE=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Hp=[...dE,"rfId"],fE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Vp={translateExtent:Zi,nodeOrigin:_0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function hE(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u}=ce(fE,_e),c=Se();R.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{d.current=Vp,l()}),[]);const d=R.useRef(Vp);return R.useEffect(()=>{for(const f of Hp){const h=e[f],v=d.current[f];h!==v&&(typeof e[f]>"u"||(f==="nodes"?t(h):f==="edges"?n(h):f==="minZoom"?r(h):f==="maxZoom"?s(h):f==="translateExtent"?i(h):f==="nodeExtent"?o(h):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:ij(h)}):f==="fitView"?c.setState({fitViewQueued:h}):f==="fitViewOptions"?c.setState({fitViewOptions:h}):c.setState({[f]:h})))}d.current=e},Hp.map(f=>e[f])),null}function Up(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function pE(e){var r;const[t,n]=R.useState(e==="system"?null:e);return R.useEffect(()=>{if(e!=="system"){n(e);return}const s=Up(),i=()=>n(s!=null&&s.matches?"dark":"light");return i(),s==null||s.addEventListener("change",i),()=>{s==null||s.removeEventListener("change",i)}},[e]),t!==null?t:(r=Up())!=null&&r.matches?"dark":"light"}const Bp=typeof document<"u"?document:null;function no(e=null,t={target:Bp,actInsideInputWithModifier:!0}){const[n,r]=R.useState(!1),s=R.useRef(!1),i=R.useRef(new Set([])),[o,l]=R.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,h)=>f.concat(...h),[]);return[c,d]}return[[],[]]},[e]);return R.useEffect(()=>{const u=(t==null?void 0:t.target)??Bp,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=v=>{var S,m;if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!c)&&t0(v))return!1;const b=qp(v.code,l);if(i.current.add(v[b]),Wp(o,i.current,!1)){const g=((m=(S=v.composedPath)==null?void 0:S.call(v))==null?void 0:m[0])||v.target,p=(g==null?void 0:g.nodeName)==="BUTTON"||(g==null?void 0:g.nodeName)==="A";t.preventDefault!==!1&&(s.current||!p)&&v.preventDefault(),r(!0)}},f=v=>{const y=qp(v.code,l);Wp(o,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(v[y]),v.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function Wp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function qp(e,t){return t.includes(e)?"code":"key"}const mE=()=>{const e=Se();return R.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:o,panZoom:l}=e.getState(),u=gf(t,r,s,i,o,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(u,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:l,y:u}=o.getBoundingClientRect(),c={x:t.x-l,y:t.y-u},d=n.snapGrid??s,f=n.snapToGrid??i;return bo(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),o=il(t,n);return{x:o.x+s,y:o.y+i}}}),[])};function S0(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const o=r.get(i.id);o?o.push(i):r.set(i.id,[i])}for(const i of t){const o=r.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...i};for(const u of o)gE(u,l);n.push(l)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function gE(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function k0(e,t){return S0(e,t)}function j0(e,t){return S0(e,t)}function ar(e,t){return{id:e,type:"select",selected:t}}function ss(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const o=t.has(s);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),r.push(ar(i.id,o)))}return r}function Qp({items:e=[],lookup:t}){var s;const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const l=t.get(o.id),u=((s=l==null?void 0:l.internals)==null?void 0:s.userNode)??l;u!==void 0&&u!==o&&n.push({id:o.id,item:o,type:"replace"}),u===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Xp(e){return{id:e.id,type:"remove"}}const Kp=e=>Kk(e),yE=e=>Qx(e);function E0(e){return R.forwardRef(e)}const xE=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Yp(e){const[t,n]=R.useState(BigInt(0)),[r]=R.useState(()=>vE(()=>n(s=>s+BigInt(1))));return xE(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function vE(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const C0=R.createContext(null);function wE({children:e}){const t=Se(),n=R.useCallback(l=>{const{nodes:u=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:h,fitViewQueued:v,onNodesChangeMiddlewareMap:y}=t.getState();let b=u;for(const m of l)b=typeof m=="function"?m(b):m;let S=Qp({items:b,lookup:h});for(const m of y.values())S=m(S);d&&c(b),S.length>0?f==null||f(S):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:g,setNodes:p}=t.getState();m&&p(g)})},[]),r=Yp(n),s=R.useCallback(l=>{const{edges:u=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:h}=t.getState();let v=u;for(const y of l)v=typeof y=="function"?y(v):y;d?c(v):f&&f(Qp({items:v,lookup:h}))},[]),i=Yp(s),o=R.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return a.jsx(C0.Provider,{value:o,children:e})}function bE(){const e=R.useContext(C0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const NE=e=>!!e.panZoom;function qs(){const e=mE(),t=Se(),n=bE(),r=ce(NE),s=R.useMemo(()=>{const i=f=>t.getState().nodeLookup.get(f),o=f=>{n.nodeQueue.push(f)},l=f=>{n.edgeQueue.push(f)},u=f=>{var m,g;const{nodeLookup:h,nodeOrigin:v}=t.getState(),y=Kp(f)?f:h.get(f.id),b=y.parentId?Jx(y.position,y.measured,y.parentId,h,v):y.position,S={...y,position:b,width:((m=y.measured)==null?void 0:m.width)??y.width,height:((g=y.measured)==null?void 0:g.height)??y.height};return Ls(S)},c=(f,h,v={replace:!1})=>{o(y=>y.map(b=>{if(b.id===f){const S=typeof h=="function"?h(b):h;return v.replace&&Kp(S)?S:{...b,...S}}return b}))},d=(f,h,v={replace:!1})=>{l(y=>y.map(b=>{if(b.id===f){const S=typeof h=="function"?h(b):h;return v.replace&&yE(S)?S:{...b,...S}}return b}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=i(f))==null?void 0:h.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:o,setEdges:l,addNodes:f=>{const h=Array.isArray(f)?f:[f];n.nodeQueue.push(v=>[...v,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];n.edgeQueue.push(v=>[...v,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:v}=t.getState(),[y,b,S]=v;return{nodes:f.map(m=>({...m})),edges:h.map(m=>({...m})),viewport:{x:y,y:b,zoom:S}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:v,edges:y,onNodesDelete:b,onEdgesDelete:S,triggerNodeChanges:m,triggerEdgeChanges:g,onDelete:p,onBeforeDelete:x}=t.getState(),{nodes:w,edges:_}=await ej({nodesToRemove:f,edgesToRemove:h,nodes:v,edges:y,onBeforeDelete:x}),N=_.length>0,k=w.length>0;if(N){const E=_.map(Xp);S==null||S(_),g(E)}if(k){const E=w.map(Xp);b==null||b(w),m(E)}return(k||N)&&(p==null||p({nodes:w,edges:_})),{deletedNodes:w,deletedEdges:_}},getIntersectingNodes:(f,h=!0,v)=>{const y=jp(f),b=y?f:u(f),S=v!==void 0;return b?(v||t.getState().nodes).filter(m=>{const g=t.getState().nodeLookup.get(m.id);if(g&&!y&&(m.id===f.id||!g.internals.positionAbsolute))return!1;const p=Ls(S?m:g),x=eo(p,b);return h&&x>0||x>=p.width*p.height||x>=b.width*b.height}):[]},isNodeIntersecting:(f,h,v=!0)=>{const b=jp(f)?f:u(f);if(!b)return!1;const S=eo(b,h);return v&&S>0||S>=h.width*h.height||S>=b.width*b.height},updateNode:c,updateNodeData:(f,h,v={replace:!1})=>{c(f,y=>{const b=typeof h=="function"?h(y):h;return v.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},v)},updateEdge:d,updateEdgeData:(f,h,v={replace:!1})=>{d(f,y=>{const b=typeof h=="function"?h(y):h;return v.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},v)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:v}=t.getState();return Yk(f,{nodeLookup:h,nodeOrigin:v})},getHandleConnections:({type:f,id:h,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}-${f}${h?`-${h}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:f,handleId:h,nodeId:v})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${v}${f?h?`-${f}-${h}`:`-${f}`:""}`))==null?void 0:y.values())??[])},fitView:async f=>{const h=t.getState().fitViewResolver??sj();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),n.nodeQueue.push(v=>[...v]),h.promise}}},[]);return R.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const Gp=e=>e.selected,_E=typeof window<"u"?window:void 0;function SE({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Se(),{deleteElements:r}=qs(),s=no(e,{actInsideInputWithModifier:!1}),i=no(t,{target:_E});R.useEffect(()=>{if(s){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(Gp),edges:o.filter(Gp)}),n.setState({nodesSelectionActive:!1})}},[s]),R.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function kE(e){const t=Se();R.useEffect(()=>{const n=()=>{var s,i,o,l;if(!e.current||!(((i=(s=e.current).checkVisibility)==null?void 0:i.call(s))??!0))return!1;const r=yf(e.current);(r.height===0||r.width===0)&&((l=(o=t.getState()).onError)==null||l.call(o,"004",nn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Ll={position:"absolute",width:"100%",height:"100%",top:0,left:0},jE=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function EE({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Er.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:v=!0,children:y,noWheelClassName:b,noPanClassName:S,onViewportChange:m,isControlledViewport:g,paneClickDistance:p,selectionOnDrag:x}){const w=Se(),_=R.useRef(null),{userSelectionActive:N,lib:k,connectionInProgress:E}=ce(jE,_e),T=no(h),I=R.useRef();kE(_);const A=R.useCallback(O=>{m==null||m({x:O[0],y:O[1],zoom:O[2]}),g||w.setState({transform:O})},[m,g]);return R.useEffect(()=>{if(_.current){I.current=$j({domNode:_.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:u,onDraggingChange:D=>w.setState({paneDragging:D}),onPanZoomStart:(D,L)=>{const{onViewportChangeStart:C,onMoveStart:M}=w.getState();M==null||M(D,L),C==null||C(L)},onPanZoom:(D,L)=>{const{onViewportChange:C,onMove:M}=w.getState();M==null||M(D,L),C==null||C(L)},onPanZoomEnd:(D,L)=>{const{onViewportChangeEnd:C,onMoveEnd:M}=w.getState();M==null||M(D,L),C==null||C(L)}});const{x:O,y:j,zoom:z}=I.current.getViewport();return w.setState({panZoom:I.current,transform:[O,j,z],domNode:_.current.closest(".react-flow")}),()=>{var D;(D=I.current)==null||D.destroy()}}},[]),R.useEffect(()=>{var O;(O=I.current)==null||O.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:T,preventScrolling:v,noPanClassName:S,userSelectionActive:N,noWheelClassName:b,lib:k,onTransformChange:A,connectionInProgress:E,selectionOnDrag:x,paneClickDistance:p})},[e,t,n,r,s,i,o,l,T,v,S,N,b,k,A,E,x,p]),a.jsx("div",{className:"react-flow__renderer",ref:_,style:Ll,children:y})}const CE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function TE(){const{userSelectionActive:e,userSelectionRect:t}=ce(CE,_e);return e&&t?a.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Mu=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},ME=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function RE({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ji.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:l,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:v,children:y}){const b=Se(),{userSelectionActive:S,elementsSelectable:m,dragging:g,connectionInProgress:p}=ce(ME,_e),x=m&&(e||S),w=R.useRef(null),_=R.useRef(),N=R.useRef(new Set),k=R.useRef(new Set),E=R.useRef(!1),T=C=>{if(E.current||p){E.current=!1;return}u==null||u(C),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},I=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}c==null||c(C)},A=d?C=>d(C):void 0,O=C=>{E.current&&(C.stopPropagation(),E.current=!1)},j=C=>{var K,Y;const{domNode:M}=b.getState();if(_.current=M==null?void 0:M.getBoundingClientRect(),!_.current)return;const F=C.target===w.current;if(!F&&!!C.target.closest(".nokey")||!e||!(i&&F||t)||C.button!==0||!C.isPrimary)return;(Y=(K=C.target)==null?void 0:K.setPointerCapture)==null||Y.call(K,C.pointerId),E.current=!1;const{x:q,y:B}=Ft(C.nativeEvent,_.current);b.setState({userSelectionRect:{width:0,height:0,startX:q,startY:B,x:q,y:B}}),F||(C.stopPropagation(),C.preventDefault())},z=C=>{const{userSelectionRect:M,transform:F,nodeLookup:H,edgeLookup:V,connectionLookup:q,triggerNodeChanges:B,triggerEdgeChanges:K,defaultEdgeOptions:Y,resetSelectedElements:Z}=b.getState();if(!_.current||!M)return;const{x:W,y:J}=Ft(C.nativeEvent,_.current),{startX:oe,startY:re}=M;if(!E.current){const he=t?0:s;if(Math.hypot(W-oe,J-re)<=he)return;Z(),o==null||o(C)}E.current=!0;const ne={startX:oe,startY:re,x:W<oe?W:oe,y:J<re?J:re,width:Math.abs(W-oe),height:Math.abs(J-re)},te=N.current,pe=k.current;N.current=new Set(mf(H,ne,F,n===Ji.Partial,!0).map(he=>he.id)),k.current=new Set;const xe=(Y==null?void 0:Y.selectable)??!0;for(const he of N.current){const Ue=q.get(he);if(Ue)for(const{edgeId:_n}of Ue.values()){const sn=V.get(_n);sn&&(sn.selectable??xe)&&k.current.add(_n)}}if(!Ep(te,N.current)){const he=ss(H,N.current,!0);B(he)}if(!Ep(pe,k.current)){const he=ss(V,k.current);K(he)}b.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},D=C=>{var M,F;C.button===0&&((F=(M=C.target)==null?void 0:M.releasePointerCapture)==null||F.call(M,C.pointerId),!S&&C.target===w.current&&b.getState().userSelectionRect&&(T==null||T(C)),b.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(l==null||l(C),b.setState({nodesSelectionActive:N.current.size>0})))},L=r===!0||Array.isArray(r)&&r.includes(0);return a.jsxs("div",{className:Ie(["react-flow__pane",{draggable:L,dragging:g,selection:e}]),onClick:x?void 0:Mu(T,w),onContextMenu:Mu(I,w),onWheel:Mu(A,w),onPointerEnter:x?void 0:f,onPointerMove:x?z:h,onPointerUp:x?D:void 0,onPointerDownCapture:x?j:void 0,onClickCapture:x?O:void 0,onPointerLeave:v,ref:w,style:Ll,children:[y,a.jsx(TE,{})]})}function nd({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:l,onError:u}=t.getState(),c=l.get(e);if(!c){u==null||u("012",nn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):s([e])}function T0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:o}){const l=Se(),[u,c]=R.useState(!1),d=R.useRef();return R.useEffect(()=>{d.current=jj({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{nd({id:f,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),R.useEffect(()=>{var f,h;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(h=d.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:o}),()=>{var v;(v=d.current)==null||v.destroy()}},[n,r,t,i,e,s]),u}const PE=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function M0(){const e=Se();return R.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,h=PE(o),v=s?i[0]:5,y=s?i[1]:5,b=n.direction.x*v*n.factor,S=n.direction.y*y*n.factor;for(const[,m]of c){if(!h(m))continue;let g={x:m.internals.positionAbsolute.x+b,y:m.internals.positionAbsolute.y+S};s&&(g=wo(g,i));const{position:p,positionAbsolute:x}=Xx({nodeId:m.id,nextPosition:g,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:l});m.position=p,m.internals.positionAbsolute=x,f.set(m.id,m)}u(f)},[])}const _f=R.createContext(null),IE=_f.Provider;_f.Consumer;const R0=()=>R.useContext(_f),DE=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),AE=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:o}=r,{fromHandle:l,toHandle:u,isValid:c}=o,d=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:d,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,isPossibleEndHandle:i===As.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!s,valid:d&&c}};function OE({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:u,className:c,onMouseDown:d,onTouchStart:f,...h},v){var z,D;const y=o||null,b=e==="target",S=Se(),m=R0(),{connectOnClick:g,noPanClassName:p,rfId:x}=ce(DE,_e),{connectingFrom:w,connectingTo:_,clickConnecting:N,isPossibleEndHandle:k,connectionInProcess:E,clickConnectionInProcess:T,valid:I}=ce(AE(m,y,e),_e);m||(D=(z=S.getState()).onError)==null||D.call(z,"010",nn.error010());const A=L=>{const{defaultEdgeOptions:C,onConnect:M,hasDefaultEdges:F}=S.getState(),H={...C,...L};if(F){const{edges:V,setEdges:q}=S.getState();q(o0(H,V))}M==null||M(H),l==null||l(H)},O=L=>{if(!m)return;const C=n0(L.nativeEvent);if(s&&(C&&L.button===0||!C)){const M=S.getState();td.onPointerDown(L.nativeEvent,{handleDomNode:L.currentTarget,autoPanOnConnect:M.autoPanOnConnect,connectionMode:M.connectionMode,connectionRadius:M.connectionRadius,domNode:M.domNode,nodeLookup:M.nodeLookup,lib:M.lib,isTarget:b,handleId:y,nodeId:m,flowId:M.rfId,panBy:M.panBy,cancelConnection:M.cancelConnection,onConnectStart:M.onConnectStart,onConnectEnd:M.onConnectEnd,updateConnection:M.updateConnection,onConnect:A,isValidConnection:n||M.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:M.autoPanSpeed,dragThreshold:M.connectionDragThreshold})}C?d==null||d(L):f==null||f(L)},j=L=>{const{onClickConnectStart:C,onClickConnectEnd:M,connectionClickStartHandle:F,connectionMode:H,isValidConnection:V,lib:q,rfId:B,nodeLookup:K,connection:Y}=S.getState();if(!m||!F&&!s)return;if(!F){C==null||C(L.nativeEvent,{nodeId:m,handleId:y,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:m,type:e,id:y}});return}const Z=e0(L.target),W=n||V,{connection:J,isValid:oe}=td.isValid(L.nativeEvent,{handle:{nodeId:m,id:y,type:e},connectionMode:H,fromNodeId:F.nodeId,fromHandleId:F.id||null,fromType:F.type,isValidConnection:W,flowId:B,doc:Z,lib:q,nodeLookup:K});oe&&J&&A(J);const re=structuredClone(Y);delete re.inProgress,re.toPosition=re.toHandle?re.toHandle.position:null,M==null||M(L,re),S.setState({connectionClickStartHandle:null})};return a.jsx("div",{"data-handleid":y,"data-nodeid":m,"data-handlepos":t,"data-id":`${x}-${m}-${y}-${e}`,className:Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,c,{source:!b,target:b,connectable:r,connectablestart:s,connectableend:i,clickconnecting:N,connectingfrom:w,connectingto:_,valid:I,connectionindicator:r&&(!E||k)&&(E||T?i:s)}]),onMouseDown:O,onTouchStart:O,onClick:g?j:void 0,ref:v,...h,children:u})}const $s=R.memo(E0(OE));function LE({data:e,isConnectable:t,sourcePosition:n=G.Bottom}){return a.jsxs(a.Fragment,{children:[e==null?void 0:e.label,a.jsx($s,{type:"source",position:n,isConnectable:t})]})}function zE({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom}){return a.jsxs(a.Fragment,{children:[a.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,a.jsx($s,{type:"source",position:r,isConnectable:t})]})}function FE(){return null}function $E({data:e,isConnectable:t,targetPosition:n=G.Top}){return a.jsxs(a.Fragment,{children:[a.jsx($s,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const al={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Zp={input:LE,default:zE,output:$E,group:FE};function HE(e){var t,n,r,s;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((s=e.style)==null?void 0:s.height)}}const VE=e=>{const{width:t,height:n,x:r,y:s}=vo(e.nodeLookup,{filter:i=>!!i.selected});return{width:zt(t)?t:null,height:zt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function UE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Se(),{width:s,height:i,transformString:o,userSelectionActive:l}=ce(VE,_e),u=M0(),c=R.useRef(null);if(R.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),T0({nodeRef:c}),l||!s||!i)return null;const d=e?h=>{const v=r.getState().nodes.filter(y=>y.selected);e(h,v)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(al,h.key)&&(h.preventDefault(),u({direction:al[h.key],factor:h.shiftKey?4:1}))};return a.jsx("div",{className:Ie(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:a.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:s,height:i}})})}const Jp=typeof window<"u"?window:void 0,BE=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function P0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:S,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:x,panOnScrollSpeed:w,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:k,defaultViewport:E,translateExtent:T,minZoom:I,maxZoom:A,preventScrolling:O,onSelectionContextMenu:j,noWheelClassName:z,noPanClassName:D,disableKeyboardA11y:L,onViewportChange:C,isControlledViewport:M}){const{nodesSelectionActive:F,userSelectionActive:H}=ce(BE,_e),V=no(c,{target:Jp}),q=no(b,{target:Jp}),B=q||k,K=q||x,Y=d&&B!==!0,Z=V||H||Y;return SE({deleteKeyCode:u,multiSelectionKeyCode:y}),a.jsx(EE,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:g,zoomOnPinch:p,panOnScroll:K,panOnScrollSpeed:w,panOnScrollMode:_,zoomOnDoubleClick:N,panOnDrag:!V&&B,defaultViewport:E,translateExtent:T,minZoom:I,maxZoom:A,zoomActivationKeyCode:S,preventScrolling:O,noWheelClassName:z,noPanClassName:D,onViewportChange:C,isControlledViewport:M,paneClickDistance:l,selectionOnDrag:Y,children:a.jsxs(RE,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:B,isSelecting:!!Z,selectionMode:f,selectionKeyPressed:V,paneClickDistance:l,selectionOnDrag:Y,children:[e,F&&a.jsx(UE,{onSelectionContextMenu:j,noPanClassName:D,disableKeyboardA11y:L})]})})}P0.displayName="FlowRenderer";const WE=R.memo(P0),qE=e=>t=>e?mf(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function QE(e){return ce(R.useCallback(qE(e),[e]),_e)}const XE=e=>e.updateNodeInternals;function KE(){const e=ce(XE),[t]=R.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return R.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function YE({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=Se(),i=R.useRef(null),o=R.useRef(null),l=R.useRef(e.sourcePosition),u=R.useRef(e.targetPosition),c=R.useRef(t),d=n&&!!e.internals.handleBounds;return R.useEffect(()=>{i.current&&!e.hidden&&(!d||o.current!==i.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(i.current),o.current=i.current)},[d,e.hidden]),R.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),R.useEffect(()=>{if(i.current){const f=c.current!==t,h=l.current!==e.sourcePosition,v=u.current!==e.targetPosition;(f||h||v)&&(c.current=t,l.current=e.sourcePosition,u.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function GE({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:h,noPanClassName:v,disableKeyboardA11y:y,rfId:b,nodeTypes:S,nodeClickDistance:m,onError:g}){const{node:p,internals:x,isParent:w}=ce(W=>{const J=W.nodeLookup.get(e),oe=W.parentLookup.has(e);return{node:J,internals:J.internals,isParent:oe}},_e);let _=p.type||"default",N=(S==null?void 0:S[_])||Zp[_];N===void 0&&(g==null||g("003",nn.error003(_)),_="default",N=(S==null?void 0:S.default)||Zp.default);const k=!!(p.draggable||l&&typeof p.draggable>"u"),E=!!(p.selectable||u&&typeof p.selectable>"u"),T=!!(p.connectable||c&&typeof p.connectable>"u"),I=!!(p.focusable||d&&typeof p.focusable>"u"),A=Se(),O=Zx(p),j=YE({node:p,nodeType:_,hasDimensions:O,resizeObserver:f}),z=T0({nodeRef:j,disabled:p.hidden||!k,noDragClassName:h,handleSelector:p.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:m}),D=M0();if(p.hidden)return null;const L=Nn(p),C=HE(p),M=E||k||t||n||r||s,F=n?W=>n(W,{...x.userNode}):void 0,H=r?W=>r(W,{...x.userNode}):void 0,V=s?W=>s(W,{...x.userNode}):void 0,q=i?W=>i(W,{...x.userNode}):void 0,B=o?W=>o(W,{...x.userNode}):void 0,K=W=>{const{selectNodesOnDrag:J,nodeDragThreshold:oe}=A.getState();E&&(!J||!k||oe>0)&&nd({id:e,store:A,nodeRef:j}),t&&t(W,{...x.userNode})},Y=W=>{if(!(t0(W.nativeEvent)||y)){if(Ux.includes(W.key)&&E){const J=W.key==="Escape";nd({id:e,store:A,unselect:J,nodeRef:j})}else if(k&&p.selected&&Object.prototype.hasOwnProperty.call(al,W.key)){W.preventDefault();const{ariaLabelConfig:J}=A.getState();A.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~x.positionAbsolute.x,y:~~x.positionAbsolute.y})}),D({direction:al[W.key],factor:W.shiftKey?4:1})}}},Z=()=>{var pe;if(y||!((pe=j.current)!=null&&pe.matches(":focus-visible")))return;const{transform:W,width:J,height:oe,autoPanOnNodeFocus:re,setCenter:ne}=A.getState();if(!re)return;mf(new Map([[e,p]]),{x:0,y:0,width:J,height:oe},W,!0).length>0||ne(p.position.x+L.width/2,p.position.y+L.height/2,{zoom:W[2]})};return a.jsx("div",{className:Ie(["react-flow__node",`react-flow__node-${_}`,{[v]:k},p.className,{selected:p.selected,selectable:E,parent:w,draggable:k,dragging:z}]),ref:j,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:M?"all":"none",visibility:O?"visible":"hidden",...p.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:F,onMouseMove:H,onMouseLeave:V,onContextMenu:q,onClick:K,onDoubleClick:B,onKeyDown:I?Y:void 0,tabIndex:I?0:void 0,onFocus:I?Z:void 0,role:p.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${b0}-${b}`,"aria-label":p.ariaLabel,...p.domAttributes,children:a.jsx(IE,{value:e,children:a.jsx(N,{id:e,data:p.data,type:_,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:p.selected??!1,selectable:E,draggable:k,deletable:p.deletable??!0,isConnectable:T,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:z,dragHandle:p.dragHandle,zIndex:x.z,parentId:p.parentId,...L})})})}var ZE=R.memo(GE);const JE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function I0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=ce(JE,_e),o=QE(e.onlyRenderVisibleElements),l=KE();return a.jsx("div",{className:"react-flow__nodes",style:Ll,children:o.map(u=>a.jsx(ZE,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}I0.displayName="NodeRenderer";const eC=R.memo(I0);function tC(e){return ce(R.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),o=n.nodeLookup.get(s.target);i&&o&&lj({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),_e)}const nC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return a.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},rC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return a.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},em={[rl.Arrow]:nC,[rl.ArrowClosed]:rC};function sC(e){const t=Se();return R.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(em,e)?em[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",nn.error009(e)),null)},[e])}const iC=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=sC(t);return u?a.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:a.jsx(u,{color:n,strokeWidth:o})}):null},D0=({defaultColor:e,rfId:t})=>{const n=ce(i=>i.edges),r=ce(i=>i.defaultEdgeOptions),s=R.useMemo(()=>mj(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return s.length?a.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:a.jsx("defs",{children:s.map(i=>a.jsx(iC,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};D0.displayName="MarkerDefinitions";var oC=R.memo(D0);function A0({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:c,...d}){const[f,h]=R.useState({x:1,y:0,width:0,height:0}),v=Ie(["react-flow__edge-textwrapper",c]),y=R.useRef(null);return R.useEffect(()=>{if(y.current){const b=y.current.getBBox();h({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),n?a.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:v,visibility:f.width?"visible":"hidden",...d,children:[s&&a.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),a.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:y,style:r,children:n}),u]}):null}A0.displayName="EdgeText";const aC=R.memo(A0);function Hs({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:c=20,...d}){return a.jsxs(a.Fragment,{children:[a.jsx("path",{...d,d:e,fill:"none",className:Ie(["react-flow__edge-path",d.className])}),c?a.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&zt(t)&&zt(n)?a.jsx(aC,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function tm({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function O0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:s,targetPosition:i=G.Top}){const[o,l]=tm({pos:n,x1:e,y1:t,x2:r,y2:s}),[u,c]=tm({pos:i,x1:r,y1:s,x2:e,y2:t}),[d,f,h,v]=r0({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${o},${l} ${u},${c} ${r},${s}`,d,f,h,v]}function L0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o,targetPosition:l,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,interactionWidth:m})=>{const[g,p,x]=O0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:l}),w=e.isInternal?void 0:t;return a.jsx(Hs,{id:w,path:g,labelX:p,labelY:x,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,interactionWidth:m})})}const lC=L0({isInternal:!1}),z0=L0({isInternal:!0});lC.displayName="SimpleBezierEdge";z0.displayName="SimpleBezierEdgeInternal";function F0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:v=G.Bottom,targetPosition:y=G.Top,markerEnd:b,markerStart:S,pathOptions:m,interactionWidth:g})=>{const[p,x,w]=ol({sourceX:n,sourceY:r,sourcePosition:v,targetX:s,targetY:i,targetPosition:y,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),_=e.isInternal?void 0:t;return a.jsx(Hs,{id:_,path:p,labelX:x,labelY:w,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:b,markerStart:S,interactionWidth:g})})}const $0=F0({isInternal:!1}),H0=F0({isInternal:!0});$0.displayName="SmoothStepEdge";H0.displayName="SmoothStepEdgeInternal";function V0(e){return R.memo(({id:t,...n})=>{var s;const r=e.isInternal?void 0:t;return a.jsx($0,{...n,id:r,pathOptions:R.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(s=n.pathOptions)==null?void 0:s.offset])})})}const uC=V0({isInternal:!1}),U0=V0({isInternal:!0});uC.displayName="StepEdge";U0.displayName="StepEdgeInternal";function B0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:y,interactionWidth:b})=>{const[S,m,g]=a0({sourceX:n,sourceY:r,targetX:s,targetY:i}),p=e.isInternal?void 0:t;return a.jsx(Hs,{id:p,path:S,labelX:m,labelY:g,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:y,interactionWidth:b})})}const cC=B0({isInternal:!1}),W0=B0({isInternal:!0});cC.displayName="StraightEdge";W0.displayName="StraightEdgeInternal";function q0(e){return R.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:o=G.Bottom,targetPosition:l=G.Top,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,pathOptions:m,interactionWidth:g})=>{const[p,x,w]=s0({sourceX:n,sourceY:r,sourcePosition:o,targetX:s,targetY:i,targetPosition:l,curvature:m==null?void 0:m.curvature}),_=e.isInternal?void 0:t;return a.jsx(Hs,{id:_,path:p,labelX:x,labelY:w,label:u,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:v,style:y,markerEnd:b,markerStart:S,interactionWidth:g})})}const dC=q0({isInternal:!1}),Q0=q0({isInternal:!0});dC.displayName="BezierEdge";Q0.displayName="BezierEdgeInternal";const nm={default:Q0,straight:W0,step:U0,smoothstep:H0,simplebezier:z0},rm={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},fC=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,hC=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,sm="react-flow__edgeupdater";function im({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l}){return a.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Ie([sm,`${sm}-${l}`]),cx:fC(t,r,e),cy:hC(n,r,e),r,stroke:"transparent",fill:"transparent"})}function pC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:h,setUpdateHover:v}){const y=Se(),b=(x,w)=>{if(x.button!==0)return;const{autoPanOnConnect:_,domNode:N,isValidConnection:k,connectionMode:E,connectionRadius:T,lib:I,onConnectStart:A,onConnectEnd:O,cancelConnection:j,nodeLookup:z,rfId:D,panBy:L,updateConnection:C}=y.getState(),M=w.type==="target",F=(q,B)=>{h(!1),f==null||f(q,n,w.type,B)},H=q=>c==null?void 0:c(n,q),V=(q,B)=>{h(!0),d==null||d(x,n,w.type),A==null||A(q,B)};td.onPointerDown(x.nativeEvent,{autoPanOnConnect:_,connectionMode:E,connectionRadius:T,domNode:N,handleId:w.id,nodeId:w.nodeId,nodeLookup:z,isTarget:M,edgeUpdaterType:w.type,lib:I,flowId:D,cancelConnection:j,panBy:L,isValidConnection:k,onConnect:H,onConnectStart:V,onConnectEnd:O,onReconnectEnd:F,updateConnection:C,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:x.currentTarget})},S=x=>b(x,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=x=>b(x,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),g=()=>v(!0),p=()=>v(!1);return a.jsxs(a.Fragment,{children:[(e===!0||e==="source")&&a.jsx(im,{position:l,centerX:r,centerY:s,radius:t,onMouseDown:S,onMouseEnter:g,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&a.jsx(im,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:m,onMouseEnter:g,onMouseOut:p,type:"target"})]})}function mC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:v,rfId:y,edgeTypes:b,noPanClassName:S,onError:m,disableKeyboardA11y:g}){let p=ce(ne=>ne.edgeLookup.get(e));const x=ce(ne=>ne.defaultEdgeOptions);p=x?{...x,...p}:p;let w=p.type||"default",_=(b==null?void 0:b[w])||nm[w];_===void 0&&(m==null||m("011",nn.error011(w)),w="default",_=(b==null?void 0:b.default)||nm.default);const N=!!(p.focusable||t&&typeof p.focusable>"u"),k=typeof f<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),E=!!(p.selectable||r&&typeof p.selectable>"u"),T=R.useRef(null),[I,A]=R.useState(!1),[O,j]=R.useState(!1),z=Se(),{zIndex:D,sourceX:L,sourceY:C,targetX:M,targetY:F,sourcePosition:H,targetPosition:V}=ce(R.useCallback(ne=>{const te=ne.nodeLookup.get(p.source),pe=ne.nodeLookup.get(p.target);if(!te||!pe)return{zIndex:p.zIndex,...rm};const xe=pj({id:e,sourceNode:te,targetNode:pe,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:ne.connectionMode,onError:m});return{zIndex:aj({selected:p.selected,zIndex:p.zIndex,sourceNode:te,targetNode:pe,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...xe||rm}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),_e),q=R.useMemo(()=>p.markerStart?`url('#${Jc(p.markerStart,y)}')`:void 0,[p.markerStart,y]),B=R.useMemo(()=>p.markerEnd?`url('#${Jc(p.markerEnd,y)}')`:void 0,[p.markerEnd,y]);if(p.hidden||L===null||C===null||M===null||F===null)return null;const K=ne=>{var he;const{addSelectedEdges:te,unselectNodesAndEdges:pe,multiSelectionActive:xe}=z.getState();E&&(z.setState({nodesSelectionActive:!1}),p.selected&&xe?(pe({nodes:[],edges:[p]}),(he=T.current)==null||he.blur()):te([e])),s&&s(ne,p)},Y=i?ne=>{i(ne,{...p})}:void 0,Z=o?ne=>{o(ne,{...p})}:void 0,W=l?ne=>{l(ne,{...p})}:void 0,J=u?ne=>{u(ne,{...p})}:void 0,oe=c?ne=>{c(ne,{...p})}:void 0,re=ne=>{var te;if(!g&&Ux.includes(ne.key)&&E){const{unselectNodesAndEdges:pe,addSelectedEdges:xe}=z.getState();ne.key==="Escape"?((te=T.current)==null||te.blur(),pe({edges:[p]})):xe([e])}};return a.jsx("svg",{style:{zIndex:D},children:a.jsxs("g",{className:Ie(["react-flow__edge",`react-flow__edge-${w}`,p.className,S,{selected:p.selected,animated:p.animated,inactive:!E&&!s,updating:I,selectable:E}]),onClick:K,onDoubleClick:Y,onContextMenu:Z,onMouseEnter:W,onMouseMove:J,onMouseLeave:oe,onKeyDown:N?re:void 0,tabIndex:N?0:void 0,role:p.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":N?`${N0}-${y}`:void 0,ref:T,...p.domAttributes,children:[!O&&a.jsx(_,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:E,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:L,sourceY:C,targetX:M,targetY:F,sourcePosition:H,targetPosition:V,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:q,markerEnd:B,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),k&&a.jsx(pC,{edge:p,isReconnectable:k,reconnectRadius:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:v,sourceX:L,sourceY:C,targetX:M,targetY:F,sourcePosition:H,targetPosition:V,setUpdateHover:A,setReconnecting:j})]})})}var gC=R.memo(mC);const yC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function X0({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,disableKeyboardA11y:b}){const{edgesFocusable:S,edgesReconnectable:m,elementsSelectable:g,onError:p}=ce(yC,_e),x=tC(t);return a.jsxs("div",{className:"react-flow__edges",children:[a.jsx(oC,{defaultColor:e,rfId:n}),x.map(w=>a.jsx(gC,{id:w,edgesFocusable:S,edgesReconnectable:m,elementsSelectable:g,noPanClassName:s,onReconnect:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:b},w))]})}X0.displayName="EdgeRenderer";const xC=R.memo(X0),vC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function wC({children:e}){const t=ce(vC);return a.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function bC(e){const t=qs(),n=R.useRef(!1);R.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const NC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function _C(e){const t=ce(NC),n=Se();return R.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function SC(e){return e.connection.inProgress?{...e.connection,to:bo(e.connection.to,e.transform)}:{...e.connection}}function kC(e){return SC}function jC(e){const t=kC();return ce(t,_e)}const EC=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function CC({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:o,isValid:l,inProgress:u}=ce(EC,_e);return!(i&&s&&u)?null:a.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:a.jsx("g",{className:Ie(["react-flow__connection",qx(l)]),children:a.jsx(K0,{style:t,type:n,CustomComponent:r,isValid:l})})})}const K0=({style:e,type:t=Pn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:o,fromHandle:l,fromPosition:u,to:c,toNode:d,toHandle:f,toPosition:h,pointer:v}=jC();if(!s)return;if(n)return a.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:i.x,fromY:i.y,toX:c.x,toY:c.y,fromPosition:u,toPosition:h,connectionStatus:qx(r),toNode:d,toHandle:f,pointer:v});let y="";const b={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case Pn.Bezier:[y]=s0(b);break;case Pn.SimpleBezier:[y]=O0(b);break;case Pn.Step:[y]=ol({...b,borderRadius:0});break;case Pn.SmoothStep:[y]=ol(b);break;default:[y]=a0(b)}return a.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};K0.displayName="ConnectionLine";const TC={};function om(e=TC){R.useRef(e),Se(),R.useEffect(()=>{},[e])}function MC(){Se(),R.useRef(!1),R.useEffect(()=>{},[])}function Y0({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:S,connectionLineContainerStyle:m,selectionKeyCode:g,selectionOnDrag:p,selectionMode:x,multiSelectionKeyCode:w,panActivationKeyCode:_,zoomActivationKeyCode:N,deleteKeyCode:k,onlyRenderVisibleElements:E,elementsSelectable:T,defaultViewport:I,translateExtent:A,minZoom:O,maxZoom:j,preventScrolling:z,defaultMarkerColor:D,zoomOnScroll:L,zoomOnPinch:C,panOnScroll:M,panOnScrollSpeed:F,panOnScrollMode:H,zoomOnDoubleClick:V,panOnDrag:q,onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneScroll:W,onPaneContextMenu:J,paneClickDistance:oe,nodeClickDistance:re,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:xe,reconnectRadius:he,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:sn,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Gs,disableKeyboardA11y:Zs,nodeExtent:Wl,rfId:Eo,viewport:Vr,onViewportChange:Js}){return om(e),om(t),MC(),bC(n),_C(Vr),a.jsx(WE,{onPaneClick:B,onPaneMouseEnter:K,onPaneMouseMove:Y,onPaneMouseLeave:Z,onPaneContextMenu:J,onPaneScroll:W,paneClickDistance:oe,deleteKeyCode:k,selectionKeyCode:g,selectionOnDrag:p,selectionMode:x,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:_,zoomActivationKeyCode:N,elementsSelectable:T,zoomOnScroll:L,zoomOnPinch:C,zoomOnDoubleClick:V,panOnScroll:M,panOnScrollSpeed:F,panOnScrollMode:H,panOnDrag:q,defaultViewport:I,translateExtent:A,minZoom:O,maxZoom:j,onSelectionContextMenu:f,preventScrolling:z,noDragClassName:sr,noWheelClassName:Ys,noPanClassName:Gs,disableKeyboardA11y:Zs,onViewportChange:Js,isControlledViewport:!!Vr,children:a.jsxs(wC,{children:[a.jsx(xC,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:o,onReconnect:Ue,onReconnectStart:_n,onReconnectEnd:sn,onlyRenderVisibleElements:E,onEdgeContextMenu:ne,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:xe,reconnectRadius:he,defaultMarkerColor:D,noPanClassName:Gs,disableKeyboardA11y:Zs,rfId:Eo}),a.jsx(CC,{style:b,type:y,component:S,containerStyle:m}),a.jsx("div",{className:"react-flow__edgelabel-renderer"}),a.jsx(eC,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:re,onlyRenderVisibleElements:E,noPanClassName:Gs,noDragClassName:sr,disableKeyboardA11y:Zs,nodeExtent:Wl,rfId:Eo}),a.jsx("div",{className:"react-flow__viewport-portal"})]})})}Y0.displayName="GraphView";const RC=R.memo(Y0),am=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f,zIndexMode:h="basic"}={})=>{const v=new Map,y=new Map,b=new Map,S=new Map,m=r??t??[],g=n??e??[],p=d??[0,0],x=f??Zi;c0(b,S,m);const w=ed(g,v,y,{nodeOrigin:p,nodeExtent:x,zIndexMode:h});let _=[0,0,1];if(o&&s&&i){const N=vo(v,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:k,y:E,zoom:T}=gf(N,s,i,u,c,(l==null?void 0:l.padding)??.1);_=[k,E,T]}return{rfId:"1",width:s??0,height:i??0,transform:_,nodes:g,nodesInitialized:w,nodeLookup:v,parentLookup:y,edges:m,edgeLookup:S,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:u,maxZoom:c,translateExtent:Zi,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:As.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:p,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...Wx},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:tj,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Bx,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},PC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h})=>Yj((v,y)=>{async function b(){const{nodeLookup:S,panZoom:m,fitViewOptions:g,fitViewResolver:p,width:x,height:w,minZoom:_,maxZoom:N}=y();m&&(await Jk({nodes:S,width:x,height:w,panZoom:m,minZoom:_,maxZoom:N},g),p==null||p.resolve(!0),v({fitViewResolver:null}))}return{...am({nodes:e,edges:t,width:s,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:S=>{const{nodeLookup:m,parentLookup:g,nodeOrigin:p,elevateNodesOnSelect:x,fitViewQueued:w,zIndexMode:_}=y(),N=ed(S,m,g,{nodeOrigin:p,nodeExtent:f,elevateNodesOnSelect:x,checkEquality:!0,zIndexMode:_});w&&N?(b(),v({nodes:S,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:S,nodesInitialized:N})},setEdges:S=>{const{connectionLookup:m,edgeLookup:g}=y();c0(m,g,S),v({edges:S})},setDefaultNodesAndEdges:(S,m)=>{if(S){const{setNodes:g}=y();g(S),v({hasDefaultNodes:!0})}if(m){const{setEdges:g}=y();g(m),v({hasDefaultEdges:!0})}},updateNodeInternals:S=>{const{triggerNodeChanges:m,nodeLookup:g,parentLookup:p,domNode:x,nodeOrigin:w,nodeExtent:_,debug:N,fitViewQueued:k,zIndexMode:E}=y(),{changes:T,updatedInternals:I}=Nj(S,g,p,x,w,_,E);I&&(xj(g,p,{nodeOrigin:w,nodeExtent:_,zIndexMode:E}),k?(b(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),(T==null?void 0:T.length)>0&&(N&&console.log("React Flow: trigger node changes",T),m==null||m(T)))},updateNodePositions:(S,m=!1)=>{const g=[];let p=[];const{nodeLookup:x,triggerNodeChanges:w,connection:_,updateConnection:N,onNodesChangeMiddlewareMap:k}=y();for(const[E,T]of S){const I=x.get(E),A=!!(I!=null&&I.expandParent&&(I!=null&&I.parentId)&&(T!=null&&T.position)),O={id:E,type:"position",position:A?{x:Math.max(0,T.position.x),y:Math.max(0,T.position.y)}:T.position,dragging:m};if(I&&_.inProgress&&_.fromNode.id===I.id){const j=zr(I,_.fromHandle,G.Left,!0);N({..._,from:j})}A&&I.parentId&&g.push({id:E,parentId:I.parentId,rect:{...T.internals.positionAbsolute,width:T.measured.width??0,height:T.measured.height??0}}),p.push(O)}if(g.length>0){const{parentLookup:E,nodeOrigin:T}=y(),I=Nf(g,x,E,T);p.push(...I)}for(const E of k.values())p=E(p);w(p)},triggerNodeChanges:S=>{const{onNodesChange:m,setNodes:g,nodes:p,hasDefaultNodes:x,debug:w}=y();if(S!=null&&S.length){if(x){const _=k0(S,p);g(_)}w&&console.log("React Flow: trigger node changes",S),m==null||m(S)}},triggerEdgeChanges:S=>{const{onEdgesChange:m,setEdges:g,edges:p,hasDefaultEdges:x,debug:w}=y();if(S!=null&&S.length){if(x){const _=j0(S,p);g(_)}w&&console.log("React Flow: trigger edge changes",S),m==null||m(S)}},addSelectedNodes:S=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:w}=y();if(m){const _=S.map(N=>ar(N,!0));x(_);return}x(ss(p,new Set([...S]),!0)),w(ss(g))},addSelectedEdges:S=>{const{multiSelectionActive:m,edgeLookup:g,nodeLookup:p,triggerNodeChanges:x,triggerEdgeChanges:w}=y();if(m){const _=S.map(N=>ar(N,!0));w(_);return}w(ss(g,new Set([...S]))),x(ss(p,new Set,!0))},unselectNodesAndEdges:({nodes:S,edges:m}={})=>{const{edges:g,nodes:p,nodeLookup:x,triggerNodeChanges:w,triggerEdgeChanges:_}=y(),N=S||p,k=m||g,E=N.map(I=>{const A=x.get(I.id);return A&&(A.selected=!1),ar(I.id,!1)}),T=k.map(I=>ar(I.id,!1));w(E),_(T)},setMinZoom:S=>{const{panZoom:m,maxZoom:g}=y();m==null||m.setScaleExtent([S,g]),v({minZoom:S})},setMaxZoom:S=>{const{panZoom:m,minZoom:g}=y();m==null||m.setScaleExtent([g,S]),v({maxZoom:S})},setTranslateExtent:S=>{var m;(m=y().panZoom)==null||m.setTranslateExtent(S),v({translateExtent:S})},resetSelectedElements:()=>{const{edges:S,nodes:m,triggerNodeChanges:g,triggerEdgeChanges:p,elementsSelectable:x}=y();if(!x)return;const w=m.reduce((N,k)=>k.selected?[...N,ar(k.id,!1)]:N,[]),_=S.reduce((N,k)=>k.selected?[...N,ar(k.id,!1)]:N,[]);g(w),p(_)},setNodeExtent:S=>{const{nodes:m,nodeLookup:g,parentLookup:p,nodeOrigin:x,elevateNodesOnSelect:w,nodeExtent:_,zIndexMode:N}=y();S[0][0]===_[0][0]&&S[0][1]===_[0][1]&&S[1][0]===_[1][0]&&S[1][1]===_[1][1]||(ed(m,g,p,{nodeOrigin:x,nodeExtent:S,elevateNodesOnSelect:w,checkEquality:!1,zIndexMode:N}),v({nodeExtent:S}))},panBy:S=>{const{transform:m,width:g,height:p,panZoom:x,translateExtent:w}=y();return _j({delta:S,panZoom:x,transform:m,translateExtent:w,width:g,height:p})},setCenter:async(S,m,g)=>{const{width:p,height:x,maxZoom:w,panZoom:_}=y();if(!_)return Promise.resolve(!1);const N=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:w;return await _.setViewport({x:p/2-S*N,y:x/2-m*N,zoom:N},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...Wx}})},updateConnection:S=>{v({connection:S})},reset:()=>v({...am()})}},Object.is);function G0({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:u,fitView:c,nodeOrigin:d,nodeExtent:f,zIndexMode:h,children:v}){const[y]=R.useState(()=>PC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:c,minZoom:o,maxZoom:l,fitViewOptions:u,nodeOrigin:d,nodeExtent:f,zIndexMode:h}));return a.jsx(Gj,{value:y,children:a.jsx(wE,{children:v})})}function IC({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:v}){return R.useContext(Al)?a.jsx(a.Fragment,{children:e}):a.jsx(G0,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:o,fitView:l,initialFitViewOptions:u,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:v,children:e})}const DC={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function AC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:m,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:w,onNodeDoubleClick:_,onNodeDragStart:N,onNodeDrag:k,onNodeDragStop:E,onNodesDelete:T,onEdgesDelete:I,onDelete:A,onSelectionChange:O,onSelectionDragStart:j,onSelectionDrag:z,onSelectionDragStop:D,onSelectionContextMenu:L,onSelectionStart:C,onSelectionEnd:M,onBeforeDelete:F,connectionMode:H,connectionLineType:V=Pn.Bezier,connectionLineStyle:q,connectionLineComponent:B,connectionLineContainerStyle:K,deleteKeyCode:Y="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:W=!1,selectionMode:J=Ji.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:re=to()?"Meta":"Control",zoomActivationKeyCode:ne=to()?"Meta":"Control",snapToGrid:te,snapGrid:pe,onlyRenderVisibleElements:xe=!1,selectNodesOnDrag:he,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:sn,nodesFocusable:sr,nodeOrigin:Ys=_0,edgesFocusable:Gs,edgesReconnectable:Zs,elementsSelectable:Wl=!0,defaultViewport:Eo=cE,minZoom:Vr=.5,maxZoom:Js=2,translateExtent:Tf=Zi,preventScrolling:Rv=!0,nodeExtent:ql,defaultMarkerColor:Pv="#b1b1b7",zoomOnScroll:Iv=!0,zoomOnPinch:Dv=!0,panOnScroll:Av=!1,panOnScrollSpeed:Ov=.5,panOnScrollMode:Lv=Er.Free,zoomOnDoubleClick:zv=!0,panOnDrag:Fv=!0,onPaneClick:$v,onPaneMouseEnter:Hv,onPaneMouseMove:Vv,onPaneMouseLeave:Uv,onPaneScroll:Bv,onPaneContextMenu:Wv,paneClickDistance:qv=1,nodeClickDistance:Qv=0,children:Xv,onReconnect:Kv,onReconnectStart:Yv,onReconnectEnd:Gv,onEdgeContextMenu:Zv,onEdgeDoubleClick:Jv,onEdgeMouseEnter:ew,onEdgeMouseMove:tw,onEdgeMouseLeave:nw,reconnectRadius:rw=10,onNodesChange:sw,onEdgesChange:iw,noDragClassName:ow="nodrag",noWheelClassName:aw="nowheel",noPanClassName:Mf="nopan",fitView:Rf,fitViewOptions:Pf,connectOnClick:lw,attributionPosition:uw,proOptions:cw,defaultEdgeOptions:dw,elevateNodesOnSelect:fw=!0,elevateEdgesOnSelect:hw=!1,disableKeyboardA11y:If=!1,autoPanOnConnect:pw,autoPanOnNodeDrag:mw,autoPanSpeed:gw,connectionRadius:yw,isValidConnection:xw,onError:vw,style:ww,id:Df,nodeDragThreshold:bw,connectionDragThreshold:Nw,viewport:_w,onViewportChange:Sw,width:kw,height:jw,colorMode:Ew="light",debug:Cw,onScroll:Co,ariaLabelConfig:Tw,zIndexMode:Af="basic",...Mw},Rw){const Ql=Df||"1",Pw=pE(Ew),Iw=R.useCallback(Of=>{Of.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Co==null||Co(Of)},[Co]);return a.jsx("div",{"data-testid":"rf__wrapper",...Mw,onScroll:Iw,style:{...ww,...DC},ref:Rw,className:Ie(["react-flow",s,Pw]),id:Df,role:"application",children:a.jsxs(IC,{nodes:e,edges:t,width:kw,height:jw,fitView:Rf,fitViewOptions:Pf,minZoom:Vr,maxZoom:Js,nodeOrigin:Ys,nodeExtent:ql,zIndexMode:Af,children:[a.jsx(RC,{onInit:c,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:g,onNodeMouseMove:p,onNodeMouseLeave:x,onNodeContextMenu:w,onNodeDoubleClick:_,nodeTypes:i,edgeTypes:o,connectionLineType:V,connectionLineStyle:q,connectionLineComponent:B,connectionLineContainerStyle:K,selectionKeyCode:Z,selectionOnDrag:W,selectionMode:J,deleteKeyCode:Y,multiSelectionKeyCode:re,panActivationKeyCode:oe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:xe,defaultViewport:Eo,translateExtent:Tf,minZoom:Vr,maxZoom:Js,preventScrolling:Rv,zoomOnScroll:Iv,zoomOnPinch:Dv,zoomOnDoubleClick:zv,panOnScroll:Av,panOnScrollSpeed:Ov,panOnScrollMode:Lv,panOnDrag:Fv,onPaneClick:$v,onPaneMouseEnter:Hv,onPaneMouseMove:Vv,onPaneMouseLeave:Uv,onPaneScroll:Bv,onPaneContextMenu:Wv,paneClickDistance:qv,nodeClickDistance:Qv,onSelectionContextMenu:L,onSelectionStart:C,onSelectionEnd:M,onReconnect:Kv,onReconnectStart:Yv,onReconnectEnd:Gv,onEdgeContextMenu:Zv,onEdgeDoubleClick:Jv,onEdgeMouseEnter:ew,onEdgeMouseMove:tw,onEdgeMouseLeave:nw,reconnectRadius:rw,defaultMarkerColor:Pv,noDragClassName:ow,noWheelClassName:aw,noPanClassName:Mf,rfId:Ql,disableKeyboardA11y:If,nodeExtent:ql,viewport:_w,onViewportChange:Sw}),a.jsx(hE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:m,nodesDraggable:Ue,autoPanOnNodeFocus:_n,nodesConnectable:sn,nodesFocusable:sr,edgesFocusable:Gs,edgesReconnectable:Zs,elementsSelectable:Wl,elevateNodesOnSelect:fw,elevateEdgesOnSelect:hw,minZoom:Vr,maxZoom:Js,nodeExtent:ql,onNodesChange:sw,onEdgesChange:iw,snapToGrid:te,snapGrid:pe,connectionMode:H,translateExtent:Tf,connectOnClick:lw,defaultEdgeOptions:dw,fitView:Rf,fitViewOptions:Pf,onNodesDelete:T,onEdgesDelete:I,onDelete:A,onNodeDragStart:N,onNodeDrag:k,onNodeDragStop:E,onSelectionDrag:z,onSelectionDragStart:j,onSelectionDragStop:D,onMove:d,onMoveStart:f,onMoveEnd:h,noPanClassName:Mf,nodeOrigin:Ys,rfId:Ql,autoPanOnConnect:pw,autoPanOnNodeDrag:mw,autoPanSpeed:gw,onError:vw,connectionRadius:yw,isValidConnection:xw,selectNodesOnDrag:he,nodeDragThreshold:bw,connectionDragThreshold:Nw,onBeforeDelete:F,debug:Cw,ariaLabelConfig:Tw,zIndexMode:Af}),a.jsx(uE,{onSelectionChange:O}),Xv,a.jsx(sE,{proOptions:cw,position:uw}),a.jsx(rE,{rfId:Ql,disableKeyboardA11y:If})]})})}var OC=E0(AC);const LC=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function zC({children:e}){const t=ce(LC);return t?Ky.createPortal(e,t):null}function FC({dimensions:e,lineWidth:t,variant:n,className:r}){return a.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ie(["react-flow__background-pattern",n,r])})}function $C({radius:e,className:t}){return a.jsx("circle",{cx:e,cy:e,r:e,className:Ie(["react-flow__background-pattern","dots",t])})}var Zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zn||(Zn={}));const HC={[Zn.Dots]:1,[Zn.Lines]:1,[Zn.Cross]:6},VC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Z0({id:e,variant:t=Zn.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:o,bgColor:l,style:u,className:c,patternClassName:d}){const f=R.useRef(null),{transform:h,patternId:v}=ce(VC,_e),y=r||HC[t],b=t===Zn.Dots,S=t===Zn.Cross,m=Array.isArray(n)?n:[n,n],g=[m[0]*h[2]||1,m[1]*h[2]||1],p=y*h[2],x=Array.isArray(i)?i:[i,i],w=S?[p,p]:g,_=[x[0]*h[2]||1+w[0]/2,x[1]*h[2]||1+w[1]/2],N=`${v}${e||""}`;return a.jsxs("svg",{className:Ie(["react-flow__background",c]),style:{...u,...Ll,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[a.jsx("pattern",{id:N,x:h[0]%g[0],y:h[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`,children:b?a.jsx($C,{radius:p/2,className:d}):a.jsx(FC,{dimensions:w,lineWidth:s,variant:t,className:d})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}Z0.displayName="Background";const UC=R.memo(Z0);function BC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:a.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function WC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:a.jsx("path",{d:"M0 0h32v4.2H0z"})})}function qC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:a.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function QC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function XC(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function na({children:e,className:t,...n}){return a.jsx("button",{type:"button",className:Ie(["react-flow__controls-button",t]),...n,children:e})}const KC=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function J0({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:c,children:d,position:f="bottom-left",orientation:h="vertical","aria-label":v}){const y=Se(),{isInteractive:b,minZoomReached:S,maxZoomReached:m,ariaLabelConfig:g}=ce(KC,_e),{zoomIn:p,zoomOut:x,fitView:w}=qs(),_=()=>{p(),i==null||i()},N=()=>{x(),o==null||o()},k=()=>{w(s),l==null||l()},E=()=>{y.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),u==null||u(!b)},T=h==="horizontal"?"horizontal":"vertical";return a.jsxs(Ol,{className:Ie(["react-flow__controls",T,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":v??g["controls.ariaLabel"],children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(na,{onClick:_,className:"react-flow__controls-zoomin",title:g["controls.zoomIn.ariaLabel"],"aria-label":g["controls.zoomIn.ariaLabel"],disabled:m,children:a.jsx(BC,{})}),a.jsx(na,{onClick:N,className:"react-flow__controls-zoomout",title:g["controls.zoomOut.ariaLabel"],"aria-label":g["controls.zoomOut.ariaLabel"],disabled:S,children:a.jsx(WC,{})})]}),n&&a.jsx(na,{className:"react-flow__controls-fitview",onClick:k,title:g["controls.fitView.ariaLabel"],"aria-label":g["controls.fitView.ariaLabel"],children:a.jsx(qC,{})}),r&&a.jsx(na,{className:"react-flow__controls-interactive",onClick:E,title:g["controls.interactive.ariaLabel"],"aria-label":g["controls.interactive.ariaLabel"],children:b?a.jsx(XC,{}):a.jsx(QC,{})}),d]})}J0.displayName="Controls";const YC=R.memo(J0);function GC({id:e,x:t,y:n,width:r,height:s,style:i,color:o,strokeColor:l,strokeWidth:u,className:c,borderRadius:d,shapeRendering:f,selected:h,onClick:v}){const{background:y,backgroundColor:b}=i||{},S=o||y||b;return a.jsx("rect",{className:Ie(["react-flow__minimap-node",{selected:h},c]),x:t,y:n,rx:d,ry:d,width:r,height:s,style:{fill:S,stroke:l,strokeWidth:u},shapeRendering:f,onClick:v?m=>v(m,e):void 0})}const ZC=R.memo(GC),JC=e=>e.nodes.map(t=>t.id),Ru=e=>e instanceof Function?e:()=>e;function eT({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=ZC,onClick:o}){const l=ce(JC,_e),u=Ru(t),c=Ru(e),d=Ru(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:l.map(h=>a.jsx(nT,{id:h,nodeColorFunc:u,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:o,shapeRendering:f},h))})}function tT({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:c,x:d,y:f,width:h,height:v}=ce(y=>{const{internals:b}=y.nodeLookup.get(e),S=b.userNode,{x:m,y:g}=b.positionAbsolute,{width:p,height:x}=Nn(S);return{node:S,x:m,y:g,width:p,height:x}},_e);return!c||c.hidden||!Zx(c)?null:a.jsx(l,{x:d,y:f,width:h,height:v,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:s,strokeColor:n(c),strokeWidth:i,shapeRendering:o,onClick:u,id:c.id})}const nT=R.memo(tT);var rT=R.memo(eT);const sT=200,iT=150,oT=e=>!e.hidden,aT=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Gx(vo(e.nodeLookup,{filter:oT}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},lT="react-flow__minimap-desc";function ev({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:h="bottom-right",onClick:v,onNodeClick:y,pannable:b=!1,zoomable:S=!1,ariaLabel:m,inversePan:g,zoomStep:p=1,offsetScale:x=5}){const w=Se(),_=R.useRef(null),{boundingRect:N,viewBB:k,rfId:E,panZoom:T,translateExtent:I,flowWidth:A,flowHeight:O,ariaLabelConfig:j}=ce(aT,_e),z=(e==null?void 0:e.width)??sT,D=(e==null?void 0:e.height)??iT,L=N.width/z,C=N.height/D,M=Math.max(L,C),F=M*z,H=M*D,V=x*M,q=N.x-(F-N.width)/2-V,B=N.y-(H-N.height)/2-V,K=F+V*2,Y=H+V*2,Z=`${lT}-${E}`,W=R.useRef(0),J=R.useRef();W.current=M,R.useEffect(()=>{if(_.current&&T)return J.current=Pj({domNode:_.current,panZoom:T,getTransform:()=>w.getState().transform,getViewScale:()=>W.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[T]),R.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:I,width:A,height:O,inversePan:g,pannable:b,zoomStep:p,zoomable:S})},[b,S,g,p,I,A,O]);const oe=v?te=>{var he;const[pe,xe]=((he=J.current)==null?void 0:he.pointer(te))||[0,0];v(te,{x:pe,y:xe})}:void 0,re=y?R.useCallback((te,pe)=>{const xe=w.getState().nodeLookup.get(pe).internals.userNode;y(te,xe)},[]):void 0,ne=m??j["minimap.ariaLabel"];return a.jsx(Ol,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*M:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Ie(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:z,height:D,viewBox:`${q} ${B} ${K} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Z,ref:_,onClick:oe,children:[ne&&a.jsx("title",{id:Z,children:ne}),a.jsx(rT,{onClick:re,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:o,nodeComponent:l}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-V},${B-V}h${K+V*2}v${Y+V*2}h${-K-V*2}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}ev.displayName="MiniMap";R.memo(ev);const uT=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,cT={[Fs.Line]:"right",[Fs.Handle]:"bottom-right"};function dT({nodeId:e,position:t,variant:n=Fs.Handle,className:r,style:s=void 0,children:i,color:o,minWidth:l=10,minHeight:u=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,autoScale:v=!0,shouldResize:y,onResizeStart:b,onResize:S,onResizeEnd:m}){const g=R0(),p=typeof e=="string"?e:g,x=Se(),w=R.useRef(null),_=n===Fs.Handle,N=ce(R.useCallback(uT(_&&v),[_,v]),_e),k=R.useRef(null),E=t??cT[n];R.useEffect(()=>{if(!(!w.current||!p))return k.current||(k.current=qj({domNode:w.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:I,transform:A,snapGrid:O,snapToGrid:j,nodeOrigin:z,domNode:D}=x.getState();return{nodeLookup:I,transform:A,snapGrid:O,snapToGrid:j,nodeOrigin:z,paneDomNode:D}},onChange:(I,A)=>{const{triggerNodeChanges:O,nodeLookup:j,parentLookup:z,nodeOrigin:D}=x.getState(),L=[],C={x:I.x,y:I.y},M=j.get(p);if(M&&M.expandParent&&M.parentId){const F=M.origin??D,H=I.width??M.measured.width??0,V=I.height??M.measured.height??0,q={id:M.id,parentId:M.parentId,rect:{width:H,height:V,...Jx({x:I.x??M.position.x,y:I.y??M.position.y},{width:H,height:V},M.parentId,j,F)}},B=Nf([q],j,z,D);L.push(...B),C.x=I.x?Math.max(F[0]*H,I.x):void 0,C.y=I.y?Math.max(F[1]*V,I.y):void 0}if(C.x!==void 0&&C.y!==void 0){const F={id:p,type:"position",position:{...C}};L.push(F)}if(I.width!==void 0&&I.height!==void 0){const H={id:p,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:I.width,height:I.height}};L.push(H)}for(const F of A){const H={...F,type:"position"};L.push(H)}O(L)},onEnd:({width:I,height:A})=>{const O={id:p,type:"dimensions",resizing:!1,dimensions:{width:I,height:A}};x.getState().triggerNodeChanges([O])}})),k.current.update({controlPosition:E,boundaries:{minWidth:l,minHeight:u,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:h,onResizeStart:b,onResize:S,onResizeEnd:m,shouldResize:y}),()=>{var I;(I=k.current)==null||I.destroy()}},[E,l,u,c,d,f,b,S,m,y]);const T=E.split("-");return a.jsx("div",{className:Ie(["react-flow__resize-control","nodrag",...T,n,r]),ref:w,style:{...s,scale:N,...o&&{[_?"backgroundColor":"borderColor"]:o}},children:i})}R.memo(dT);const fe=m2((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:n=>e({executionResult:n}),setGraph:(n,r)=>e({nodes:n,edges:r}),onNodesChange:n=>{e({nodes:k0(n,t().nodes)})},onEdgesChange:n=>{e({edges:j0(n,t().edges)})},onConnect:n=>{e({edges:o0(n,t().edges)})},addNode:(n,r,s={})=>{const i=be.get(n);if(!i)return console.error(`Node type ${n} not found in registry`),"";const o=`${n}-${Date.now()}`,l={id:o,type:"custom",position:r,data:{definitionType:n,catalogType:n,...i.getDefaultConfig(),...s}};return e({nodes:[...t().nodes,l]}),o},updateNodeData:(n,r)=>{e({nodes:t().nodes.map(s=>s.id===n?{...s,data:{...s.data,...r}}:s)})},validateGraph:async()=>{const{nodes:n,edges:r}=t();if(n.length===0)return!1;for(const s of n){const i=be.get(s.data.definitionType);if(i){const o=i.validate(s.data);if(!o.isValid)return console.warn(`Node ${s.id} validation failed: ${o.message}`),!1}}for(const s of n){const i=be.get(s.data.definitionType);if(i&&i.inputs.length>0&&!r.some(l=>l.target===s.id))return console.warn(`Node ${s.id} (${i.label}) is disconnected.`),!1}return!0}}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,t)=>{const n=R.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>R.createElement("svg",{ref:d,...fT,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${hT(e)}`,l].join(" "),...c},[...t.map(([f,h])=>R.createElement(f,h)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ie("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ie("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ie("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=ie("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=ie("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ie("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=ie("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=ie("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ie("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ie("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ie("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ie("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ie("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ie("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ie("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ie("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ie("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qT=()=>{const e=be.getAll(),t=fe(l=>l.addNode),[n,r]=R.useState(""),s=(l,u)=>{l.dataTransfer.setData("application/reactflow",u),l.dataTransfer.effectAllowed="move"},i=e.filter(l=>l.label.toLowerCase().includes(n.toLowerCase())||l.category.toLowerCase().includes(n.toLowerCase())),o=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return a.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10",children:[a.jsxs("div",{className:"p-4 border-b space-y-3",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(sv,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:n,onChange:l=>r(l.target.value)})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:o.map(l=>{const u=i.filter(c=>c.category===l);return u.length===0?null:a.jsxs("div",{children:[a.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:l}),a.jsx("div",{className:"space-y-2",children:u.map(c=>a.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:d=>s(d,c.type),onClick:()=>t(c.type,{x:100,y:100}),children:[a.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:c.icon&&a.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium truncate",children:c.label}),a.jsx("div",{className:"text-xs text-muted-foreground truncate",children:c.description})]})]},c.type))})]},l)})})]})};function QT(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:XT}=Lt;function KT(e){const t=XT();return n=>{const r=e(n);return QT(t.current,r)?t.current:t.current=r}}const YT=R.memo(({id:e,data:t,selected:n})=>{const r=t.definitionType,s=be.get(r),{deleteElements:i}=qs(),o=fe(c=>c.executionResult),l=o==null?void 0:o.node_results[e],u=c=>{c.stopPropagation(),i({nodes:[{id:e}]})};return s?a.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${n?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[a.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:s.icon&&a.jsx(s.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-sm font-bold",children:s.label}),l&&a.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?a.jsx(wT,{size:10}):a.jsx(bT,{size:10})})]}),a.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:s.category})]}),a.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:a.jsx(ll,{size:14})})]}),a.jsx("div",{className:"p-3",children:s.component?a.jsx(s.component,{data:t}):a.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),s.inputs.map((c,d)=>a.jsx($s,{type:"target",position:G.Left,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.inputs.length+1)}%`},children:a.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`input-${c.id}`)),s.outputs.map((c,d)=>a.jsx($s,{type:"source",position:G.Right,id:c.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(d+1)*100/(s.outputs.length+1)}%`},children:a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:c.label})},`output-${c.id}`))]}):a.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[a.jsx(xT,{size:16}),a.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),a.jsxs("div",{className:"text-xs mt-1",children:["Type: ",r]})]})}),GT=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:s,sourcePosition:i,targetPosition:o,style:l={},markerEnd:u})=>{const{deleteElements:c}=qs(),[d,f,h]=ol({sourceX:t,sourceY:n,sourcePosition:i,targetX:r,targetY:s,targetPosition:o,borderRadius:24}),v=y=>{y.stopPropagation(),c({edges:[{id:e}]})};return a.jsxs(a.Fragment,{children:[a.jsx(Hs,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),a.jsx(Hs,{path:d,markerEnd:u,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),a.jsx(zC,{children:a.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:a.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:v,title:"Remove Connection",children:a.jsx(ll,{size:10})})})})]})},ZT={custom:YT},JT={custom:GT},eM=()=>{const e=R.useRef(null),{screenToFlowPosition:t}=qs(),{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,addNode:l}=fe(KT(d=>({nodes:d.nodes,edges:d.edges,onNodesChange:d.onNodesChange,onEdgesChange:d.onEdgesChange,onConnect:d.onConnect,addNode:d.addNode}))),u=R.useCallback(d=>{d.preventDefault(),d.dataTransfer.dropEffect="move"},[]),c=R.useCallback(d=>{d.preventDefault();const f=d.dataTransfer.getData("application/reactflow");if(typeof f>"u"||!f)return;const h=t({x:d.clientX,y:d.clientY});l(f,h)},[t,l]);return a.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:a.jsxs(OC,{nodes:n,edges:r,onNodesChange:s,onEdgesChange:i,onConnect:o,nodeTypes:ZT,onDragOver:u,onDrop:c,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:JT,deleteKeyCode:["Backspace","Delete"],children:[a.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"edge-gradient",children:[a.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),a.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),a.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),a.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),a.jsx(UC,{}),a.jsx(YC,{position:"top-left"})]})})},tM=()=>a.jsx(G0,{children:a.jsx(eM,{})}),nM=()=>{const e=fe(f=>f.nodes),t=fe(f=>f.updateNodeData),n=fe(f=>f.onNodesChange),[r,s]=R.useState(!1),i=e.find(f=>f.selected);if(!i)return a.jsxs("aside",{className:"w-80 border-l bg-background p-8 flex flex-col items-center justify-center text-muted-foreground text-center shrink-0",children:[a.jsx("div",{className:"p-4 bg-muted/50 rounded-full mb-4",children:a.jsx(HT,{className:"w-8 h-8 opacity-50"})}),a.jsx("h3",{className:"font-medium mb-1",children:"No Node Selected"}),a.jsx("p",{className:"text-sm",children:"Select a node on the canvas to configure its properties."})]});const o=()=>{n([{id:i.id,type:"select",selected:!1}])},l=()=>{s(!r)},u=i.data.definitionType,c=be.get(u);if(!c)return a.jsx("aside",{className:"w-80 border-l bg-background p-4 shrink-0",children:a.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[a.jsx(ll,{className:"w-4 h-4"}),"Error: Node definition '",u,"' not found."]})});const d=c.settings;return a.jsxs("aside",{className:`
        border-l bg-background flex flex-col h-full shadow-xl z-20 transition-all duration-300 ease-in-out
        ${r?"absolute right-0 top-0 bottom-0 w-[calc(100%-16rem)]":"w-80 shrink-0"}
      `,children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-md",children:c.icon&&a.jsx(c.icon,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-sm",children:c.label}),a.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:c.category})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:l,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:r?"Collapse":"Expand",children:r?a.jsx(IT,{className:"w-4 h-4"}):a.jsx(PT,{className:"w-4 h-4"})}),a.jsx("button",{onClick:o,className:"p-1 hover:bg-muted rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Close",children:a.jsx(ll,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:d?a.jsx(d,{config:i.data,onChange:f=>t(i.id,f),nodeId:i.id}):a.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground italic",children:"No configuration options available for this node."})}),a.jsxs("div",{className:"p-3 border-t bg-muted/5 text-[10px] text-muted-foreground font-mono flex justify-between",children:[a.jsxs("span",{children:["ID: ",i.id]}),a.jsx("span",{children:"v1.0"})]})]})};function ov(e,t){return function(){return e.apply(t,arguments)}}const{toString:rM}=Object.prototype,{getPrototypeOf:kf}=Object,{iterator:zl,toStringTag:av}=Symbol,Fl=(e=>t=>{const n=rM.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>Fl(t)===e),$l=e=>t=>typeof t===e,{isArray:Xs}=Array,Vs=$l("undefined");function No(e){return e!==null&&!Vs(e)&&e.constructor!==null&&!Vs(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lv=Bt("ArrayBuffer");function sM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lv(e.buffer),t}const iM=$l("string"),ct=$l("function"),uv=$l("number"),_o=e=>e!==null&&typeof e=="object",oM=e=>e===!0||e===!1,Na=e=>{if(Fl(e)!=="object")return!1;const t=kf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(av in e)&&!(zl in e)},aM=e=>{if(!_o(e)||No(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lM=Bt("Date"),uM=Bt("File"),cM=Bt("Blob"),dM=Bt("FileList"),fM=e=>_o(e)&&ct(e.pipe),hM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Fl(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},pM=Bt("URLSearchParams"),[mM,gM,yM,xM]=["ReadableStream","Request","Response","Headers"].map(Bt),vM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function So(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Xs(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(No(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function cv(e,t){if(No(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dv=e=>!Vs(e)&&e!==pr;function rd(){const{caseless:e,skipUndefined:t}=dv(this)&&this||{},n={},r=(s,i)=>{const o=e&&cv(n,i)||i;Na(n[o])&&Na(s)?n[o]=rd(n[o],s):Na(s)?n[o]=rd({},s):Xs(s)?n[o]=s.slice():(!t||!Vs(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&So(arguments[s],r);return n}const wM=(e,t,n,{allOwnKeys:r}={})=>(So(t,(s,i)=>{n&&ct(s)?e[i]=ov(s,n):e[i]=s},{allOwnKeys:r}),e),bM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),NM=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_M=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&kf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},SM=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},kM=e=>{if(!e)return null;if(Xs(e))return e;let t=e.length;if(!uv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},jM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&kf(Uint8Array)),EM=(e,t)=>{const r=(e&&e[zl]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},CM=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},TM=Bt("HTMLFormElement"),MM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),lm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),RM=Bt("RegExp"),fv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};So(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},PM=e=>{fv(e,(t,n)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ct(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IM=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Xs(e)?r(e):r(String(e).split(t)),n},DM=()=>{},AM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function OM(e){return!!(e&&ct(e.append)&&e[av]==="FormData"&&e[zl])}const LM=e=>{const t=new Array(10),n=(r,s)=>{if(_o(r)){if(t.indexOf(r)>=0)return;if(No(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Xs(r)?[]:{};return So(r,(o,l)=>{const u=n(o,s+1);!Vs(u)&&(i[l]=u)}),t[s]=void 0,i}}return r};return n(e,0)},zM=Bt("AsyncFunction"),FM=e=>e&&(_o(e)||ct(e))&&ct(e.then)&&ct(e.catch),hv=((e,t)=>e?setImmediate:t?((n,r)=>(pr.addEventListener("message",({source:s,data:i})=>{s===pr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ct(pr.postMessage)),$M=typeof queueMicrotask<"u"?queueMicrotask.bind(pr):typeof process<"u"&&process.nextTick||hv,HM=e=>e!=null&&ct(e[zl]),$={isArray:Xs,isArrayBuffer:lv,isBuffer:No,isFormData:hM,isArrayBufferView:sM,isString:iM,isNumber:uv,isBoolean:oM,isObject:_o,isPlainObject:Na,isEmptyObject:aM,isReadableStream:mM,isRequest:gM,isResponse:yM,isHeaders:xM,isUndefined:Vs,isDate:lM,isFile:uM,isBlob:cM,isRegExp:RM,isFunction:ct,isStream:fM,isURLSearchParams:pM,isTypedArray:jM,isFileList:dM,forEach:So,merge:rd,extend:wM,trim:vM,stripBOM:bM,inherits:NM,toFlatObject:_M,kindOf:Fl,kindOfTest:Bt,endsWith:SM,toArray:kM,forEachEntry:EM,matchAll:CM,isHTMLForm:TM,hasOwnProperty:lm,hasOwnProp:lm,reduceDescriptors:fv,freezeMethods:PM,toObjectSet:IM,toCamelCase:MM,noop:DM,toFiniteNumber:AM,findKey:cv,global:pr,isContextDefined:dv,isSpecCompliantForm:OM,toJSONObject:LM,isAsyncFn:zM,isThenable:FM,setImmediate:hv,asap:$M,isIterable:HM};function se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const pv=se.prototype,mv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mv[e]={value:e}});Object.defineProperties(se,mv);Object.defineProperty(pv,"isAxiosError",{value:!0});se.from=(e,t,n,r,s,i)=>{const o=Object.create(pv);$.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return se.call(o,l,u,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const VM=null;function sd(e){return $.isPlainObject(e)||$.isArray(e)}function gv(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function um(e,t,n){return e?e.concat(t).map(function(s,i){return s=gv(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function UM(e){return $.isArray(e)&&!e.some(sd)}const BM=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Hl(e,t,n){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!$.isUndefined(S[b])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if($.isDate(y))return y.toISOString();if($.isBoolean(y))return y.toString();if(!u&&$.isBlob(y))throw new se("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(y)||$.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,b,S){let m=y;if(y&&!S&&typeof y=="object"){if($.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if($.isArray(y)&&UM(y)||($.isFileList(y)||$.endsWith(b,"[]"))&&(m=$.toArray(y)))return b=gv(b),m.forEach(function(p,x){!($.isUndefined(p)||p===null)&&t.append(o===!0?um([b],x,i):o===null?b:b+"[]",c(p))}),!1}return sd(y)?!0:(t.append(um(S,b,i),c(y)),!1)}const f=[],h=Object.assign(BM,{defaultVisitor:d,convertValue:c,isVisitable:sd});function v(y,b){if(!$.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(y),$.forEach(y,function(m,g){(!($.isUndefined(m)||m===null)&&s.call(t,m,$.isString(g)?g.trim():g,b,h))===!0&&v(m,b?b.concat(g):[g])}),f.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return v(e),t}function cm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jf(e,t){this._pairs=[],e&&Hl(e,this,t)}const yv=jf.prototype;yv.append=function(t,n){this._pairs.push([t,n])};yv.toString=function(t){const n=t?function(r){return t.call(this,r,cm)}:cm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function WM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xv(e,t,n){if(!t)return e;const r=n&&n.encode||WM;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=$.isURLSearchParams(t)?t.toString():new jf(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class dm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(r){r!==null&&t(r)})}}const vv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qM=typeof URLSearchParams<"u"?URLSearchParams:jf,QM=typeof FormData<"u"?FormData:null,XM=typeof Blob<"u"?Blob:null,KM={isBrowser:!0,classes:{URLSearchParams:qM,FormData:QM,Blob:XM},protocols:["http","https","file","blob","url","data"]},Ef=typeof window<"u"&&typeof document<"u",id=typeof navigator=="object"&&navigator||void 0,YM=Ef&&(!id||["ReactNative","NativeScript","NS"].indexOf(id.product)<0),GM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZM=Ef&&window.location.href||"http://localhost",JM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ef,hasStandardBrowserEnv:YM,hasStandardBrowserWebWorkerEnv:GM,navigator:id,origin:ZM},Symbol.toStringTag,{value:"Module"})),Qe={...JM,...KM};function e4(e,t){return Hl(e,new Qe.classes.URLSearchParams,{visitor:function(n,r,s,i){return Qe.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function t4(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function n4(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function wv(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=n.length;return o=!o&&$.isArray(s)?s.length:o,u?($.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!$.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&$.isArray(s[o])&&(s[o]=n4(s[o])),!l)}if($.isFormData(e)&&$.isFunction(e.entries)){const n={};return $.forEachEntry(e,(r,s)=>{t(t4(r),s,n,0)}),n}return null}function r4(e,t,n){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ko={transitional:vv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=$.isObject(t);if(i&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return s?JSON.stringify(wv(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return e4(t,this.formSerializer).toString();if((l=$.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Hl(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),r4(t)):t}],transformResponse:[function(t){const n=this.transitional||ko.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?se.from(l,se.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{ko.headers[e]={}});const s4=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i4=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&s4[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},fm=Symbol("internals");function ci(e){return e&&String(e).trim().toLowerCase()}function _a(e){return e===!1||e==null?e:$.isArray(e)?e.map(_a):String(e)}function o4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const a4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pu(e,t,n,r,s){if($.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!$.isString(t)){if($.isString(r))return t.indexOf(r)!==-1;if($.isRegExp(r))return r.test(t)}}function l4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function u4(e,t){const n=$.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,u,c){const d=ci(u);if(!d)throw new Error("header name must be a non-empty string");const f=$.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||u]=_a(l))}const o=(l,u)=>$.forEach(l,(c,d)=>i(c,d,u));if($.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if($.isString(t)&&(t=t.trim())&&!a4(t))o(i4(t),n);else if($.isObject(t)&&$.isIterable(t)){let l={},u,c;for(const d of t){if(!$.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(u=l[c])?$.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ci(t),t){const r=$.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return o4(s);if($.isFunction(n))return n.call(this,s,r);if($.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ci(t),t){const r=$.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Pu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=ci(o),o){const l=$.findKey(r,o);l&&(!n||Pu(r,r[l],l,n))&&(delete r[l],s=!0)}}return $.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Pu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return $.forEach(this,(s,i)=>{const o=$.findKey(r,i);if(o){n[o]=_a(s),delete n[i];return}const l=t?l4(i):String(i).trim();l!==i&&delete n[i],n[l]=_a(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return $.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[fm]=this[fm]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=ci(o);r[l]||(u4(s,o),r[l]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});$.freezeMethods(dt);function Iu(e,t){const n=this||ko,r=t||n,s=dt.from(r.headers);let i=r.data;return $.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function bv(e){return!!(e&&e.__CANCEL__)}function Ks(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}$.inherits(Ks,se,{__CANCEL__:!0});function Nv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function c4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function d4(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=r[i];o||(o=c),n[s]=u,r[s]=c;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const v=d&&c-d;return v?Math.round(h*1e3/v):void 0}}function f4(e,t){let n=0,r=1e3/t,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const ul=(e,t,n=3)=>{let r=0;const s=d4(50,250);return f4(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-r,c=s(u),d=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&d?(l-o)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},hm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},pm=e=>(...t)=>$.asap(()=>e(...t)),h4=Qe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Qe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,p4=Qe.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];$.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&l.push(`path=${r}`),$.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),$.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function m4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function g4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _v(e,t,n){let r=!m4(t);return e&&(r||n==!1)?g4(e,t):t}const mm=e=>e instanceof dt?{...e}:e;function Fr(e,t){t=t||{};const n={};function r(c,d,f,h){return $.isPlainObject(c)&&$.isPlainObject(d)?$.merge.call({caseless:h},c,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function s(c,d,f,h){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function i(c,d){if(!$.isUndefined(d))return r(void 0,d)}function o(c,d){if($.isUndefined(d)){if(!$.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function l(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,d,f)=>s(mm(c),mm(d),f,!0)};return $.forEach(Object.keys({...e,...t}),function(d){const f=u[d]||s,h=f(e[d],t[d],d);$.isUndefined(h)&&f!==l||(n[d]=h)}),n}const Sv=e=>{const t=Fr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=dt.from(o),t.url=xv(_v(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),$.isFormData(n)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if($.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,f])=>{c.includes(d.toLowerCase())&&o.set(d,f)})}}if(Qe.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(t)),r||r!==!1&&h4(t.url))){const u=s&&i&&p4.read(i);u&&o.set(s,u)}return t},y4=typeof XMLHttpRequest<"u",x4=y4&&function(e){return new Promise(function(n,r){const s=Sv(e);let i=s.data;const o=dt.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,d,f,h,v,y;function b(){v&&v(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function m(){if(!S)return;const p=dt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:p,config:e,request:S};Nv(function(N){n(N),b()},function(N){r(N),b()},w),S=null}"onloadend"in S?S.onloadend=m:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(m)},S.onabort=function(){S&&(r(new se("Request aborted",se.ECONNABORTED,e,S)),S=null)},S.onerror=function(x){const w=x&&x.message?x.message:"Network Error",_=new se(w,se.ERR_NETWORK,e,S);_.event=x||null,r(_),S=null},S.ontimeout=function(){let x=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||vv;s.timeoutErrorMessage&&(x=s.timeoutErrorMessage),r(new se(x,w.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&$.forEach(o.toJSON(),function(x,w){S.setRequestHeader(w,x)}),$.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),c&&([h,y]=ul(c,!0),S.addEventListener("progress",h)),u&&S.upload&&([f,v]=ul(u),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=p=>{S&&(r(!p||p.type?new Ks(null,e,S):p),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=c4(s.url);if(g&&Qe.protocols.indexOf(g)===-1){r(new se("Unsupported protocol "+g+":",se.ERR_BAD_REQUEST,e));return}S.send(i||null)})},v4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,l();const d=c instanceof Error?c:this.reason;r.abort(d instanceof se?d:new Ks(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>$.asap(l),u}},w4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},b4=async function*(e,t){for await(const n of N4(e))yield*w4(n,t)},N4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},gm=(e,t,n,r)=>{const s=b4(e,t);let i=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){l(),u.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},ym=64*1024,{isFunction:sa}=$,_4=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:xm,TextEncoder:vm}=$.global,wm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},S4=e=>{e=$.merge.call({skipUndefined:!0},_4,e);const{fetch:t,Request:n,Response:r}=e,s=t?sa(t):typeof fetch=="function",i=sa(n),o=sa(r);if(!s)return!1;const l=s&&sa(xm),u=s&&(typeof vm=="function"?(y=>b=>y.encode(b))(new vm):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=i&&l&&wm(()=>{let y=!1;const b=new n(Qe.origin,{body:new xm,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),d=o&&l&&wm(()=>$.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(b,S)=>{let m=b&&b[y];if(m)return m.call(b);throw new se(`Response type '${y}' is not supported`,se.ERR_NOT_SUPPORT,S)})});const h=async y=>{if(y==null)return 0;if($.isBlob(y))return y.size;if($.isSpecCompliantForm(y))return(await new n(Qe.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if($.isArrayBufferView(y)||$.isArrayBuffer(y))return y.byteLength;if($.isURLSearchParams(y)&&(y=y+""),$.isString(y))return(await u(y)).byteLength},v=async(y,b)=>{const S=$.toFiniteNumber(y.getContentLength());return S??h(b)};return async y=>{let{url:b,method:S,data:m,signal:g,cancelToken:p,timeout:x,onDownloadProgress:w,onUploadProgress:_,responseType:N,headers:k,withCredentials:E="same-origin",fetchOptions:T}=Sv(y),I=t||fetch;N=N?(N+"").toLowerCase():"text";let A=v4([g,p&&p.toAbortSignal()],x),O=null;const j=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let z;try{if(_&&c&&S!=="get"&&S!=="head"&&(z=await v(k,m))!==0){let H=new n(b,{method:"POST",body:m,duplex:"half"}),V;if($.isFormData(m)&&(V=H.headers.get("content-type"))&&k.setContentType(V),H.body){const[q,B]=hm(z,ul(pm(_)));m=gm(H.body,ym,q,B)}}$.isString(E)||(E=E?"include":"omit");const D=i&&"credentials"in n.prototype,L={...T,signal:A,method:S.toUpperCase(),headers:k.normalize().toJSON(),body:m,duplex:"half",credentials:D?E:void 0};O=i&&new n(b,L);let C=await(i?I(O,T):I(b,L));const M=d&&(N==="stream"||N==="response");if(d&&(w||M&&j)){const H={};["status","statusText","headers"].forEach(K=>{H[K]=C[K]});const V=$.toFiniteNumber(C.headers.get("content-length")),[q,B]=w&&hm(V,ul(pm(w),!0))||[];C=new r(gm(C.body,ym,q,()=>{B&&B(),j&&j()}),H)}N=N||"text";let F=await f[$.findKey(f,N)||"text"](C,y);return!M&&j&&j(),await new Promise((H,V)=>{Nv(H,V,{data:F,headers:dt.from(C.headers),status:C.status,statusText:C.statusText,config:y,request:O})})}catch(D){throw j&&j(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,y,O),{cause:D.cause||D}):se.from(D,D&&D.code,y,O)}}},k4=new Map,kv=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,l=o,u,c,d=k4;for(;l--;)u=i[l],c=d.get(u),c===void 0&&d.set(u,c=l?new Map:S4(t)),d=c;return c};kv();const Cf={http:VM,xhr:x4,fetch:{get:kv}};$.forEach(Cf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bm=e=>`- ${e}`,j4=e=>$.isFunction(e)||e===null||e===!1;function E4(e,t){e=$.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!j4(r)&&(s=Cf[(l=String(r)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${l}'`);if(s&&($.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(bm).join(`
`):" "+bm(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const jv={getAdapter:E4,adapters:Cf};function Du(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ks(null,e)}function Nm(e){return Du(e),e.headers=dt.from(e.headers),e.data=Iu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jv.getAdapter(e.adapter||ko.adapter,e)(e).then(function(r){return Du(e),r.data=Iu.call(e,e.transformResponse,r),r.headers=dt.from(r.headers),r},function(r){return bv(r)||(Du(e),r&&r.response&&(r.response.data=Iu.call(e,e.transformResponse,r.response),r.response.headers=dt.from(r.response.headers))),Promise.reject(r)})}const Ev="1.13.2",Vl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const _m={};Vl.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Ev+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new se(s(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!_m[o]&&(_m[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};Vl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function C4(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new se("option "+i+" must be "+u,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+i,se.ERR_BAD_OPTION)}}const Sa={assertOptions:C4,validators:Vl},qt=Sa.validators;let Cr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dm,response:new dm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Sa.assertOptions(r,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),s!=null&&($.isFunction(s)?n.paramsSerializer={serialize:s}:Sa.assertOptions(s,{encode:qt.function,serialize:qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sa.assertOptions(n,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&$.merge(i.common,i[n.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=dt.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,f=0,h;if(!u){const y=[Nm.bind(this),void 0];for(y.unshift(...l),y.push(...c),h=y.length,d=Promise.resolve(n);f<h;)d=d.then(y[f++],y[f++]);return d}h=l.length;let v=n;for(;f<h;){const y=l[f++],b=l[f++];try{v=y(v)}catch(S){b.call(this,S);break}}try{d=Nm.call(this,v)}catch(y){return Promise.reject(y)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Fr(this.defaults,t);const n=_v(t.baseURL,t.url,t.allowAbsoluteUrls);return xv(n,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){Cr.prototype[t]=function(n,r){return this.request(Fr(r||{},{method:t,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(Fr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Cr.prototype[t]=n(),Cr.prototype[t+"Form"]=n(!0)});let T4=class Cv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Ks(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Cv(function(s){t=s}),cancel:t}}};function M4(e){return function(n){return e.apply(null,n)}}function R4(e){return $.isObject(e)&&e.isAxiosError===!0}const od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(od).forEach(([e,t])=>{od[t]=e});function Tv(e){const t=new Cr(e),n=ov(Cr.prototype.request,t);return $.extend(n,Cr.prototype,t,{allOwnKeys:!0}),$.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Tv(Fr(e,s))},n}const Re=Tv(ko);Re.Axios=Cr;Re.CanceledError=Ks;Re.CancelToken=T4;Re.isCancel=bv;Re.VERSION=Ev;Re.toFormData=Hl;Re.AxiosError=se;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=M4;Re.isAxiosError=R4;Re.mergeConfig=Fr;Re.AxiosHeaders=dt;Re.formToJSON=e=>wv($.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=jv.getAdapter;Re.HttpStatusCode=od;Re.default=Re;const{Axios:R3,AxiosError:P3,CanceledError:I3,isCancel:D3,CancelToken:A3,VERSION:O3,all:L3,Cancel:z3,isAxiosError:F3,spread:$3,toFormData:H3,AxiosHeaders:V3,HttpStatusCode:U3,formToJSON:B3,getAdapter:W3,mergeConfig:q3}=Re,P4="/api",Ul=Re.create({baseURL:P4,headers:{"Content-Type":"application/json"}}),I4=async e=>(await Ul.post("/pipeline/preview",e)).data,D4=async e=>(await Ul.get(`/pipeline/datasets/${e}/schema`)).data,Sm=async(e,t)=>(await Ul.post(`/pipeline/save/${e}`,t)).data,A4=async e=>{const t=await Ul.get(`/pipeline/load/${e}`);return t.data?t.data:null},O4=async e=>(console.warn("submitTrainingJob is not yet implemented in V2",e),{job_id:"mock_job_id"}),L4=()=>{const e=fe(g=>g.nodes),t=fe(g=>g.edges),n=fe(g=>g.setExecutionResult),r=fe(g=>g.setGraph),[s,i]=R.useState(!1),[o,l]=R.useState(!1),[u,c]=R.useState(!1),[d,f]=R.useState(!1),h=()=>({nodes:e.map(g=>({id:g.id,type:g.type,position:g.position,data:{...g.data,catalogType:g.data.catalogType||g.data.definitionType}})),edges:t.map(g=>({id:g.id,source:g.source,target:g.target,sourceHandle:g.sourceHandle,targetHandle:g.targetHandle,type:g.type,data:g.data}))}),v=g=>{const p=[],x=new Set,w=[],_=e.find(N=>N.data.definitionType==="dataset_node");for(_&&w.push(_.id);w.length>0;){const N=w.shift();if(x.has(N))continue;x.add(N);const k=e.find(j=>j.id===N);if(!k)continue;let E="unknown",T={};const A=t.filter(j=>j.target===N).map(j=>j.source);if(k.data.definitionType==="dataset_node")E="data_loader",T={dataset_id:k.data.datasetId};else if(k.data.definitionType==="imputation_node"){const j=k.data.method||"simple";j==="knn"?(E="KNNImputer",T={columns:k.data.columns,n_neighbors:k.data.n_neighbors,weights:k.data.weights}):j==="iterative"?(E="IterativeImputer",T={columns:k.data.columns,max_iter:k.data.max_iter,estimator:k.data.estimator,random_state:0}):(E="SimpleImputer",T={columns:k.data.columns,strategy:k.data.strategy,fill_value:k.data.fill_value})}else if(k.data.definitionType==="simple_imputer")E="SimpleImputer",T=k.data||{};else if(k.data.definitionType==="drop_missing_columns"||k.data.definitionType==="DropMissingColumns")E="DropMissingColumns",T={columns:k.data.columns||[],missing_threshold:k.data.missing_threshold};else if(k.data.definitionType==="drop_missing_rows"||k.data.definitionType==="DropMissingRows")E="DropMissingRows",T={missing_threshold:k.data.missing_threshold,drop_if_any_missing:k.data.drop_if_any_missing};else if(k.data.definitionType==="deduplicate"||k.data.definitionType==="Deduplicate")E="Deduplicate",T={subset:k.data.subset,keep:k.data.keep};else if(k.data.definitionType==="casting"||k.data.definitionType==="Casting")E="Casting",T={column_types:k.data.column_types};else if(k.data.definitionType==="MissingIndicator"||k.data.definitionType==="missing_indicator")E="MissingIndicator",T={columns:k.data.columns,flag_suffix:k.data.flag_suffix};else if(k.data.definitionType==="scale_numeric_features"){const j=k.data||{},z=j.method||"standard";z==="minmax"?E="MinMaxScaler":z==="maxabs"?E="MaxAbsScaler":z==="robust"?E="RobustScaler":E="StandardScaler",T=j}else if(k.data.definitionType==="encoding"){const j=k.data.method;j==="onehot"?E="OneHotEncoder":j==="dummy"?(E="DummyEncoder",T={...k.data,drop_first:!0}):j==="label"?E="LabelEncoder":j==="ordinal"?E="OrdinalEncoder":j==="target"?E="TargetEncoder":j==="hash"?E="HashEncoder":E="OneHotEncoder",E!=="DummyEncoder"&&(T=k.data)}else if(k.data.definitionType==="TrainTestSplitter")E="TrainTestSplitter",T=k.data||{};else if(k.data.definitionType==="label_encoding")E="LabelEncoder",T=k.data||{};else if(k.data.definitionType==="feature_target_split")E="feature_target_split",T=k.data||{};else if(k.data.definitionType==="train_model_draft"){E="model_training";let j=k.data.modelType;j==="random_forest"&&(j="random_forest_classifier"),T={target_column:k.data.targetColumn,algorithm:j,hyperparameters:k.data.hyperparameters}}else if(k.data.definitionType==="feature_selection")E="feature_selection",T=k.data||{};else if(k.data.definitionType==="outlier"){const j=k.data.method||"iqr";j==="iqr"?E="IQR":j==="zscore"?E="ZScore":j==="winsorize"?E="Winsorize":j==="elliptic_envelope"?E="EllipticEnvelope":E="IQR",T=k.data}else if(k.data.definitionType==="TransformationNode"){E="GeneralTransformation";const j=k.data.transformations||[],z=[];for(const D of j)if(D.columns&&Array.isArray(D.columns))for(const L of D.columns)z.push({column:L,method:D.method,...D.params});T={transformations:z}}else throw console.error(`Unknown node type: ${k.data.definitionType}`),new Error(`Unknown node type: ${k.data.definitionType}. Pipeline execution stopped.`);p.push({node_id:k.id,step_type:E,params:T,inputs:A}),t.filter(j=>j.source===N).forEach(j=>w.push(j.target))}return{pipeline_id:`preview_${Date.now()}`,nodes:p,metadata:{dataset_source_id:g}}},y=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}l(!0);try{await Sm(p,{name:"My Pipeline",description:"Saved from V2 Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(x){console.error("Save failed:",x),alert("Failed to save pipeline.")}finally{l(!1)}},b=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){c(!0);try{const x=await A4(p);x&&x.graph?(r(x.graph.nodes,x.graph.edges),alert("Pipeline loaded successfully!")):alert("No saved pipeline found for this dataset.")}catch(x){console.error("Load failed:",x),alert("Failed to load pipeline.")}finally{c(!1)}}},S=async()=>{const g=e.find(x=>x.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId;if(!p){alert("No dataset node found!");return}i(!0),n(null);try{const x=v(p),w=await I4(x);n(w)}catch(x){console.error("Pipeline failed:",x),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}},m=async()=>{const g=e.find(w=>w.data.definitionType==="dataset_node"),p=g==null?void 0:g.data.datasetId,x=e.find(w=>w.data.definitionType==="train_model_draft");if(!p){alert("No dataset node found!");return}if(!x){alert('No training node found! Add a "Model Training" node to train a model.');return}f(!0);try{const w=await Sm(p,{name:"Training Pipeline",description:"Auto-saved before training",graph:h()});await O4({dataset_source_id:p,pipeline_id:w.id.toString(),node_id:x.id,model_types:[x.data.modelType],hyperparameters:x.data.hyperparameters,graph:h(),run_training:!0}),alert("Training job submitted successfully! Check the jobs dashboard.")}catch(w){console.error("Training failed:",w),alert("Failed to submit training job.")}finally{f(!1)}};return a.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[a.jsxs("button",{onClick:b,disabled:u||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(CT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),a.jsxs("button",{onClick:y,disabled:o||s||d,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[o?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(zT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:o?"Saving...":"Save"})]}),a.jsxs("button",{onClick:S,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(LT,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]}),a.jsxs("button",{onClick:m,disabled:s||d,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md shadow-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:[d?a.jsx(ra,{className:"w-4 h-4 animate-spin"}):a.jsx(tv,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:d?"Submitting...":"Train Model"})]})]})},z4=()=>{const e=fe(h=>h.executionResult),[t,n]=R.useState(!0),[r,s]=R.useState(null),i=R.useMemo(()=>e!=null&&e.preview_data?Array.isArray(e.preview_data)?{Result:e.preview_data}:typeof e.preview_data=="object"?e.preview_data:{}:{},[e]),o=Object.keys(i);if(Lt.useEffect(()=>{o.length>0&&(!r||!o.includes(r))&&(o.includes("train")?s("train"):o.includes("X")?s("X"):s(o[0]))},[o,r]),!e)return null;const l=r&&i[r]?i[r]:[],u=l.length>0?Object.keys(l[0]):[],c=e.node_results?Object.keys(e.node_results):[],d=Object.keys(e.node_results||{}).find(h=>e.node_results[h].status==="failed"),f=d?e.node_results[d].error:null;return a.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>n(!t),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(WT,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&a.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),a.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?a.jsx(nv,{className:"w-4 h-4"}):a.jsx(yT,{className:"w-4 h-4"})})]}),t&&a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&a.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[a.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),a.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:f||"Unknown error occurred during execution."})]}),o.length>1&&a.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[a.jsx(MT,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(h=>a.jsx("button",{onClick:()=>s(h),className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${r===h?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:h},h))]}),c.length>0&&e.status!=="failed"&&a.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:c.map((h,v)=>a.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:h},v))}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[a.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:a.jsx("tr",{children:u.map(h=>a.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:h},h))})}),a.jsx("tbody",{children:l.map((h,v)=>a.jsx("tr",{className:"border-b hover:bg-muted/10",children:u.map(y=>a.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:h[y]!==null?String(h[y]):a.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${v}-${y}`))},v))})]}),l.length===0&&a.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",r?`for ${r}`:""]})]})]})]})},F4=()=>{const[e,t]=R.useState(!1);R.useEffect(()=>{document.documentElement.classList.contains("dark")?t(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),t(!0))},[]);const n=()=>{const r=!e;t(r),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return a.jsxs("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-between shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:a.jsx(OT,{className:"w-5 h-5 text-primary"})}),a.jsx("h1",{className:"font-bold text-lg tracking-tight bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent",children:"Skyulf ML Canvas"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:"/ml-workflow-v1",className:"text-sm text-muted-foreground hover:text-primary transition-colors mr-2",target:"_blank",rel:"noopener noreferrer",children:"Switch to Legacy V1"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-accent rounded-md transition-colors text-muted-foreground hover:text-foreground",title:"Toggle Theme",children:e?a.jsx(DT,{className:"w-5 h-5"}):a.jsx(UT,{className:"w-5 h-5"})})]})]})},$4=()=>a.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden flex-col",children:[a.jsx(F4,{}),a.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[a.jsx(qT,{}),a.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[a.jsx(L4,{}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(tM,{}),a.jsx(z4,{})]})]}),a.jsx(nM,{})]})]});function H4(){const e=fe(t=>t.addNode);return R.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("source_id");n&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:n})},100)},[]),R.useEffect(()=>{},[]),a.jsx($4,{})}const V4=({config:e,onChange:t})=>a.jsxs("div",{className:"p-4 space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Debug Message"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:e.message,onChange:n=>t({...e,message:n.target.value})})]}),U4={type:"debug_node",label:"Debug Node",category:"Utility",description:"A simple node for testing the registry.",icon:mT,inputs:[{id:"in",label:"Input",type:"any"}],outputs:[{id:"out",label:"Output",type:"any"}],component:({data:e})=>a.jsxs("div",{className:"text-xs",children:["Msg: ",a.jsx("span",{className:"font-mono",children:e.message||"..."})]}),settings:V4,validate:e=>({isValid:e.message.length>0,message:e.message.length===0?"Message is required":void 0}),getDefaultConfig:()=>({message:"Hello World"})},km="/data/api",Mv={getAll:async()=>{const e=await fetch(`${km}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getById:async e=>{const t=await fetch(`${km}/sources/${e}`);if(!t.ok)throw new Error("Failed to fetch dataset");return t.json()}},tt=e=>BN({queryKey:["dataset-schema",e],queryFn:()=>D4(e),enabled:!!e,staleTime:1e3*60*5}),B4=({config:e,onChange:t})=>{const[n,r]=R.useState([]),[s,i]=R.useState(!1),{data:o,isLoading:l}=tt(e.datasetId);R.useEffect(()=>{i(!0),Mv.getAll().then(r).catch(console.error).finally(()=>i(!1))},[]);const u=c=>{const d=c.target.value,f=n.find(h=>String(h.id)===d);t({...e,datasetId:d,datasetName:f==null?void 0:f.name})};return a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s?a.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:u,children:[a.jsx("option",{value:"",children:"-- Select --"}),n.map(c=>a.jsx("option",{value:c.id,children:c.name},c.id))]})]}),e.datasetId&&a.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[a.jsx(BT,{size:14}),a.jsx("span",{children:"Dataset Schema"})]}),l?a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):o?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-y-auto",children:a.jsxs("table",{className:"w-full text-xs text-left",children:[a.jsx("thead",{className:"bg-muted/20 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2 font-medium border-b",children:"Column"}),a.jsx("th",{className:"p-2 font-medium border-b",children:"Type"}),a.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Missing"}),a.jsx("th",{className:"p-2 font-medium border-b text-right",children:"Unique"})]})}),a.jsx("tbody",{children:Object.values(o.columns).map(c=>a.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[a.jsx("td",{className:"p-2 font-mono font-medium",children:c.name}),a.jsx("td",{className:"p-2 text-muted-foreground",children:c.dtype}),a.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.missing_count}),a.jsx("td",{className:"p-2 text-right text-muted-foreground",children:c.unique_count})]},c.name))})]})}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},W4=({data:e})=>{const[t,n]=R.useState(void 0);R.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Mv.getById(e.datasetId).then(s=>n(s.name)).catch(()=>n(e.datasetId))},[e.datasetId,e.datasetName,t]);const r=e.datasetName||t||e.datasetId;return a.jsx("div",{className:"text-xs",children:e.datasetId?a.jsx("div",{className:"font-medium truncate max-w-[150px]",title:r,children:r||"Loading..."}):a.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},q4={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:_T,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:B4,component:W4,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},wt=e=>{const t=fe(i=>i.nodes),n=fe(i=>i.edges),r=t.find(i=>i.id===e);return r?yo(r,t,n).map(i=>i.data):[]},Bl=(e,t={})=>{var i;const r=(i=wt(e).find(o=>o.datasetId))==null?void 0:i.datasetId,s=fe(o=>o.executionResult);return R.useMemo(()=>!r||!(s!=null&&s.recommendations)?[]:s.recommendations.filter(o=>{var l,u;if(t.types||t.suggestedNodeTypes){const c=(l=t.types)==null?void 0:l.includes(o.type),d=(u=t.suggestedNodeTypes)==null?void 0:u.includes(o.suggested_node_type);if(!c&&!d)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[s,r,t.types,t.suggestedNodeTypes,t.scope])},jo=({recommendations:e,onApply:t,className:n=""})=>!e||e.length===0?null:a.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${n}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[a.jsx(RT,{className:"w-4 h-4"}),a.jsx("span",{children:"Recommendations"})]}),a.jsx("div",{className:"space-y-2",children:e.map(r=>a.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:r.type.replace("_"," ").toUpperCase()}),a.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:r.description}),r.reasoning&&a.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",r.reasoning]})]}),t&&a.jsx("button",{onClick:()=>t(r),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:a.jsx(vT,{className:"w-5 h-5"})})]})},r.rule_id))})]}),Q4=({config:e,onChange:t,nodeId:n})=>{var w;const s=(w=wt(n||"").find(_=>_.datasetId))==null?void 0:w.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(_=>_.name):[],u=fe(_=>_.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,v]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const _=new ResizeObserver(N=>{for(const k of N)v(k.contentRect.width>450)});return _.observe(f.current),()=>_.disconnect()},[]);const y=Bl(n||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),b=_=>{if(_.target_columns&&_.target_columns.length>0){const N=Array.from(new Set([...e.columns,..._.target_columns]));t({...e,columns:N})}},[S,m]=R.useState(""),g=R.useMemo(()=>l.filter(_=>_.toLowerCase().includes(S.toLowerCase())),[l,S]),p=()=>{t({...e,columns:g})},x=()=>{const _=e.columns.filter(N=>!g.includes(N));t({...e,columns:_})};return a.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&a.jsx("div",{className:"shrink-0",children:a.jsx(jo,{recommendations:y,onApply:b})}),a.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),a.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),a.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),a.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:_=>t({...e,missing_threshold:parseInt(_.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&a.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Qs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.dropped_columns_count})]}),d.dropped_columns&&Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&a.jsxs("div",{className:"pt-1 border-t mt-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(_=>a.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_))})]})]})]})]}),a.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${h?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[a.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsx("div",{className:"relative group",children:a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:S,onChange:_=>m(_.target.value)})}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?g.length>0?a.jsx("div",{className:"space-y-0.5",children:g.map(_=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:N=>{const k=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:k})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),a.jsx("span",{className:"truncate font-mono text-xs",title:_,children:_})]},_))}):a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',S,'"']}):a.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},X4={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Sf,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:Q4,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},K4=({config:e,onChange:t,nodeId:n})=>{var _;const s=(_=wt(n||"").find(N=>N.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(N=>N.name):[],u=fe(N=>N.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,v]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(k=>{for(const E of k)v(E.contentRect.width>450)});return N.observe(f.current),()=>N.disconnect()},[]);const y=Bl(n||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),b=N=>{if(N.target_columns&&N.target_columns.length>0){const k=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:k})}},[S,m]=R.useState(""),g=R.useMemo(()=>l.filter(N=>N.toLowerCase().includes(S.toLowerCase())),[l,S]),p=()=>{t({...e,columns:g})},x=()=>{const N=e.columns.filter(k=>!g.includes(k));t({...e,columns:N})},w=()=>d?a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),d.fill_values&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.fill_values).map(([N,k])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),a.jsx("span",{className:"font-mono",children:typeof k=="number"?k.toFixed(4):String(k)})]},N))})]}),d.missing_counts&&a.jsxs("div",{className:"space-y-1 mt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(d.missing_counts).map(([N,k])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:N,children:[N,":"]}),a.jsx("span",{className:"font-mono",children:String(k)})]},N))}),d.total_missing!==void 0&&a.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",a.jsx("span",{className:"font-mono font-medium",children:d.total_missing})]})]}),!d.fill_values&&!d.missing_counts&&(c==null?void 0:c.status)==="success"&&a.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return a.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&a.jsx("div",{className:"shrink-0",children:a.jsx(jo,{recommendations:y,onApply:b})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:N=>t({...e,method:N.target.value}),children:[a.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),a.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),a.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:N=>t({...e,strategy:N.target.value}),children:[a.jsx("option",{value:"mean",children:"Mean (Average)"}),a.jsx("option",{value:"median",children:"Median (Middle Value)"}),a.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),a.jsx("option",{value:"constant",children:"Constant Value"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:N=>t({...e,fill_value:N.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:N=>t({...e,n_neighbors:parseInt(N.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:N=>t({...e,weights:N.target.value}),children:[a.jsx("option",{value:"uniform",children:"Uniform"}),a.jsx("option",{value:"distance",children:"Distance"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:N=>t({...e,max_iter:parseInt(N.target.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:N=>t({...e,estimator:N.target.value}),children:[a.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),a.jsx("option",{value:"decision_tree",children:"Decision Tree"}),a.jsx("option",{value:"extra_trees",children:"Extra Trees"}),a.jsx("option",{value:"knn",children:"KNN"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:N=>t({...e,random_state:parseInt(N.target.value)})})]})]}),h&&a.jsx(w,{})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:p,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:S,onChange:N=>m(N.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:g.length>0?g.map(N=>a.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:k=>{const E=k.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),a.jsx("span",{className:"truncate",title:N,children:N})]}),(d==null?void 0:d.missing_counts)&&d.missing_counts[N]!==void 0&&a.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${d.missing_counts[N]} missing values filled`,children:d.missing_counts[N]})]},N)):a.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!h&&a.jsx(w,{})]})]})},Y4={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:AT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:K4,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:(e.method==="simple"||!e.method)&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},G4=({config:e,onChange:t,nodeId:n})=>{var p;const s=(p=wt(n||"").find(x=>x.datasetId))==null?void 0:p.datasetId,{data:i,isLoading:o}=tt(s),l=fe(x=>x.executionResult),u=n?l==null?void 0:l.node_results[n]:null,c=R.useRef(null),[d,f]=R.useState(!1),[h,v]=R.useState("");R.useEffect(()=>{if(!c.current)return;const x=new ResizeObserver(w=>{for(const _ of w)f(_.contentRect.width>450)});return x.observe(c.current),()=>x.disconnect()},[]);const y=i?Object.values(i.columns).filter(x=>["int","float","number"].some(w=>{var _;return(_=x.dtype)==null?void 0:_.toLowerCase().includes(w)})).map(x=>x.name):[],b=y.filter(x=>x.toLowerCase().includes(h.toLowerCase())),S=()=>{t({...e,columns:b})},m=()=>{const x=e.columns.filter(w=>!b.includes(w));t({...e,columns:x})},g=()=>{if(!u||!u.metrics)return null;const x=u.metrics,w=x.columns;if(!w)return null;const _=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),a.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:_()})]}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:w.map((N,k)=>{var T,I,A,O,j,z,D;let E="";if(e.method==="standard"){const L=(T=x.mean)==null?void 0:T[k],C=(I=x.scale)==null?void 0:I[k];typeof L=="number"&&(E=`=${L.toFixed(2)}, =${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="minmax"){const L=(A=x.data_min)==null?void 0:A[k],C=(O=x.data_max)==null?void 0:O[k];typeof L=="number"&&(E=`Min=${L.toFixed(2)}, Max=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="robust"){const L=(j=x.center)==null?void 0:j[k],C=(z=x.scale)==null?void 0:z[k];typeof L=="number"&&(E=`Med=${L.toFixed(2)}, IQR=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const L=(D=x.max_abs)==null?void 0:D[k];typeof L=="number"&&(E=`MaxAbs=${L.toFixed(2)}`)}return a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:N,children:N}),a.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},N)})})]})};return a.jsxs("div",{ref:c,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:x=>t({...e,method:x.target.value}),children:[a.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),a.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),a.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),a.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:x=>t({...e,with_mean:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Center Data (with_mean)"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:x=>t({...e,with_std:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:x=>t({...e,feature_range_min:parseFloat(x.target.value)})}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:x=>t({...e,feature_range_max:parseFloat(x.target.value)})})]})]}),e.method==="robust"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:x=>t({...e,quantile_range_min:parseFloat(x.target.value)})}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:x=>t({...e,quantile_range_max:parseFloat(x.target.value)})})]}),a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:x=>t({...e,with_centering:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Center Data (Median)"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:x=>t({...e,with_scaling:x.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&a.jsx(g,{})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:S,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:m,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:h,onChange:x=>v(x.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(x=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(x),onChange:w=>{const _=w.target.checked?[...e.columns,x]:e.columns.filter(N=>N!==x);t({...e,columns:_})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:x,children:x})]},x)):a.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:o?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!d&&a.jsx(g,{})]})]})},Z4={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:FT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:G4,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},J4=({config:e,onChange:t,nodeId:n})=>{var c,d;const r=wt(n||""),s=(c=r.find(f=>f.datasetId))==null?void 0:c.datasetId,i=(d=r.find(f=>f.target_column))==null?void 0:d.target_column;Lt.useEffect(()=>{const f={};s&&e.datasetId!==s&&(f.datasetId=s),i&&e.targetColumn!==i&&(f.targetColumn=i),Object.keys(f).length>0&&t({...e,...f})},[s,i,e.datasetId,e.targetColumn,t]);const{data:o,isLoading:l}=tt(s||e.datasetId),u=o?Object.values(o.columns).map(f=>f.name):[];return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&!e.datasetId&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.targetColumn??"",onChange:f=>t({...e,targetColumn:f.target.value}),disabled:!!i,children:[a.jsx("option",{value:"",children:"-- Select Target --"}),u.map(f=>a.jsx("option",{value:f,children:f},f))]}),i&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Target column inherited from upstream split."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Model Type"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.modelType,onChange:f=>t({...e,modelType:f.target.value}),children:[a.jsx("option",{value:"random_forest",children:"Random Forest"}),a.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),a.jsx("option",{value:"xgboost",children:"XGBoost"})]})]}),e.modelType==="random_forest"&&a.jsxs("div",{className:"space-y-2 border-t pt-2",children:[a.jsx("h4",{className:"text-xs font-semibold text-muted-foreground",children:"Hyperparameters"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs mb-1",children:"N Estimators"}),a.jsx("input",{type:"number",className:"w-full p-1 border rounded text-sm",value:e.hyperparameters.n_estimators||100,onChange:f=>t({...e,hyperparameters:{...e.hyperparameters,n_estimators:parseInt(f.target.value)}})})]})]})]})},e3={type:"train_model_draft",label:"Model Training",category:"Modeling",description:"Train a machine learning model.",icon:tv,inputs:[{id:"train",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:J4,validate:e=>e.targetColumn?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({targetColumn:"",modelType:"random_forest",hyperparameters:{n_estimators:100}})},t3=({config:e,onChange:t})=>{const n=["train","validation","test"],r=["accuracy","precision","recall","f1","roc_auc","mse","rmse","r2"],s=o=>{const l=e.splits.includes(o)?e.splits.filter(u=>u!==o):[...e.splits,o];t({...e,splits:l})},i=o=>{const l=e.metrics.includes(o)?e.metrics.filter(u=>u!==o):[...e.metrics,o];t({...e,metrics:l})};return a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Evaluation Splits"}),a.jsx("div",{className:"space-y-2",children:n.map(o=>a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.splits.includes(o),onChange:()=>s(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsxs("span",{className:"capitalize",children:[o," Set"]})]},o))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Metrics to Track"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(o=>a.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.metrics.includes(o),onChange:()=>i(o),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"uppercase",children:o.replace("_"," ")})]},o))})]})]})},n3={type:"model_evaluation",label:"Model Evaluation",category:"Evaluation",description:"Evaluate model performance on specific splits.",icon:pT,inputs:[{id:"model",label:"Trained Model",type:"model"}],outputs:[{id:"report",label:"Evaluation Report",type:"report"}],settings:t3,validate:e=>({isValid:e.splits.length>0,message:e.splits.length===0?"Select at least one split to evaluate":void 0}),getDefaultConfig:()=>({splits:["validation"],metrics:["accuracy","f1"]})},r3=({config:e,onChange:t,nodeId:n})=>{var x;const r=wt(n||""),s=fe(w=>w.nodes),i=fe(w=>w.edges),o=fe(w=>w.executionResult),u=(w=>{var k;const _=new Set,N=[w];for(;N.length>0;){const E=N.shift();if(_.has(E))continue;_.add(E);const T=s.find(A=>A.id===E);if(!T)continue;if(E!==w&&((k=T.data)!=null&&k.datasetId))return T.data.datasetId;const I=yo(T,s,i);for(const A of I)N.push(A.id)}})(n||""),c=(x=r.find(w=>w.target_column))==null?void 0:x.target_column;R.useEffect(()=>{const w={};u&&e.datasetId!==u&&(w.datasetId=u),c&&e.target_column!==c&&(w.target_column=c),Object.keys(w).length>0&&t({...e,...w})},[u,c,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=tt(u||e.datasetId),h=d?Object.values(d.columns).map(w=>w.name):[],v=R.useRef(null),[y,b]=R.useState(!1);R.useEffect(()=>{if(!v.current)return;const w=new ResizeObserver(_=>{for(const N of _)b(N.contentRect.width>450)});return w.observe(v.current),()=>w.disconnect()},[]);const S=()=>{const w=e.problem_type||"auto";return w==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:w==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},m=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),g=["select_from_model","rfe"].includes(e.method),p=()=>{const w=o==null?void 0:o.node_results[n||""];if(!w)return null;const _=w.metrics||{},N=_.dropped_columns,k=_.feature_scores,E=_.p_values,T=_.feature_importances,I=_.variances,A=_.ranking;return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),w.error&&a.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:w.error}),N&&N.length>0?a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:a.jsxs("span",{children:["Dropped Columns (",N.length,")"]})}),a.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:N.map(O=>{const j=k==null?void 0:k[O],z=E==null?void 0:E[O],D=T==null?void 0:T[O],L=I==null?void 0:I[O],C=A==null?void 0:A[O];return a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:O,children:O}),a.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[j!==void 0&&a.jsxs("span",{children:["Score: ",j.toFixed(4)]}),z!==void 0&&a.jsxs("span",{children:["p-val: ",z.toExponential(2)]}),D!==void 0&&a.jsxs("span",{children:["Imp: ",D.toFixed(4)]}),L!==void 0&&a.jsxs("span",{children:["Var: ",L.toFixed(4)]}),C!==void 0&&a.jsxs("span",{children:["Rank: ",C]})]})]},O)})})]}):w.status==="success"&&a.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[a.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&a.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(k||T)&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(k||T||{}).sort(([,O],[,j])=>j-O).slice(0,5).map(([O,j])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"truncate max-w-[120px]",title:O,children:O}),a.jsx("span",{className:"font-mono text-[10px]",children:j.toFixed(4)})]},O))})]})]})};return a.jsxs("div",{ref:v,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!u&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!u&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:w=>t({...e,method:w.target.value}),children:[a.jsxs("optgroup",{label:"Simple",children:[a.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),a.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),a.jsxs("optgroup",{label:"Univariate",children:[a.jsx("option",{value:"select_k_best",children:"Select K Best"}),a.jsx("option",{value:"select_percentile",children:"Select Percentile"}),a.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),a.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),a.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),a.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),a.jsxs("optgroup",{label:"Model Based",children:[a.jsx("option",{value:"select_from_model",children:"Select From Model"}),a.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),c?a.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[c," ",a.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:w=>t({...e,target_column:w.target.value}),children:[a.jsx("option",{value:"",children:"Select Target..."}),h.map(w=>a.jsx("option",{value:w,children:w},w))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(m||g)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:w=>t({...e,problem_type:w.target.value}),children:[a.jsx("option",{value:"auto",children:"Auto-detect"}),a.jsx("option",{value:"classification",children:"Classification"}),a.jsx("option",{value:"regression",children:"Regression"})]})]}),y&&a.jsx(p,{})]}),a.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[a.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:w=>t({...e,threshold:parseFloat(w.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:w=>t({...e,threshold:parseFloat(w.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:w=>t({...e,correlation_method:w.target.value}),children:[a.jsx("option",{value:"pearson",children:"Pearson"}),a.jsx("option",{value:"spearman",children:"Spearman"}),a.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),m&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:w=>t({...e,score_func:w.target.value}),children:[a.jsx("option",{value:"",children:"Auto (Default)"}),S().map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:w=>t({...e,k:parseInt(w.target.value)})})]}),e.method==="select_percentile"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:w=>t({...e,percentile:parseInt(w.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),a.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:w=>t({...e,alpha:parseFloat(w.target.value)})})]}),e.method==="generic_univariate_select"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Mode"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:w=>t({...e,mode:w.target.value}),children:[a.jsx("option",{value:"k_best",children:"K Best"}),a.jsx("option",{value:"percentile",children:"Percentile"}),a.jsx("option",{value:"fpr",children:"FPR"}),a.jsx("option",{value:"fdr",children:"FDR"}),a.jsx("option",{value:"fwe",children:"FWE"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),a.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:w=>t({...e,param:parseFloat(w.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),g&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:w=>t({...e,estimator:w.target.value}),children:[a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"RandomForest",children:"Random Forest"}),a.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),a.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:w=>t({...e,threshold:w.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Step"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:w=>t({...e,step:parseInt(w.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[a.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:w=>t({...e,drop_columns:w.target.checked})}),a.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!y&&a.jsx(p,{})]})]})]})},s3={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:jT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:r3,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},i3=({config:e,onChange:t,nodeId:n})=>{var m;const r=wt(n||""),s=fe(g=>g.nodes),i=fe(g=>g.edges),l=(g=>{var w;const p=new Set,x=[g];for(;x.length>0;){const _=x.shift();if(p.has(_))continue;p.add(_);const N=s.find(E=>E.id===_);if(!N)continue;if(_!==g&&((w=N.data)!=null&&w.datasetId))return N.data.datasetId;const k=yo(N,s,i);for(const E of k)x.push(E.id)}})(n||""),u=(m=r.find(g=>g.target_column))==null?void 0:m.target_column;Lt.useEffect(()=>{const g={};l&&e.datasetId!==l&&(g.datasetId=l),u&&e.target_column!==u&&(g.target_column=u),Object.keys(g).length>0&&t({...e,...g})},[l,u,e.datasetId,e.target_column,t]);const{data:c,isLoading:d}=tt(l||e.datasetId),f=c?Object.values(c.columns).map(g=>g.name):[],h=e.validation_size||0,v=1-e.test_size-h,y=Lt.useRef(null),[b,S]=Lt.useState(!1);return Lt.useEffect(()=>{if(!y.current)return;const g=new ResizeObserver(p=>{for(const x of p)S(x.contentRect.width>450)});return g.observe(y.current),()=>g.disconnect()},[]),a.jsxs("div",{ref:y,className:`flex flex-col h-full w-full bg-background ${b?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${b?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${b?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:g=>t({...e,test_size:parseFloat(g.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),a.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:h,onChange:g=>t({...e,validation_size:parseFloat(g.target.value)})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(v*100),"% Training, ",Math.round(h*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),v<=0&&a.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Random State"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:g=>t({...e,random_state:parseInt(g.target.value)})})]})]}),a.jsxs("div",{className:`space-y-4 ${b?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:g=>t({...e,shuffle:g.target.checked})}),a.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:g=>t({...e,stratify:g.target.checked})}),a.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),a.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:g=>t({...e,target_column:g.target.value}),disabled:!e.stratify,children:[a.jsx("option",{value:"",children:"-- Select Target --"}),f.map(g=>a.jsx("option",{value:g,children:g},g))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},o3={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:iv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:i3,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},a3=({config:e,onChange:t,nodeId:n})=>{const r=fe(c=>c.nodes),s=fe(c=>c.edges),o=(c=>{var h;const d=new Set,f=[c];for(;f.length>0;){const v=f.shift();if(d.has(v))continue;d.add(v);const y=r.find(S=>S.id===v);if(!y)continue;if(v!==c&&((h=y.data)!=null&&h.datasetId))return y.data.datasetId;const b=yo(y,r,s);for(const S of b)f.push(S.id)}})(n||"");Lt.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:l}=tt(o||e.datasetId),u=l?Object.values(l.columns).map(c=>c.name):[];return a.jsx("div",{className:"p-4 space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:c=>t({...e,target_column:c.target.value}),children:[a.jsx("option",{value:"",children:"-- Select Target --"}),u.map(c=>a.jsx("option",{value:c,children:c},c))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},l3={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:iv,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:a3,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},u3=({config:e,onChange:t,nodeId:n})=>{var c;const s=(c=wt(n||"").find(d=>d.datasetId))==null?void 0:c.datasetId,{isLoading:i}=tt(s),o=fe(d=>d.executionResult),l=n?o==null?void 0:o.node_results[n]:null,u=l==null?void 0:l.metrics;return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),a.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[a.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),a.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),u&&u.DropMissingRows_rows_removed!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Qs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),a.jsx("span",{className:"font-medium text-destructive",children:u.DropMissingRows_rows_removed})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),a.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_remaining})]}),a.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),a.jsx("span",{className:"font-medium",children:u.DropMissingRows_rows_total})]})]})]})]})},c3={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:kT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:u3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},d3=({config:e,onChange:t,nodeId:n})=>{var S;const s=(S=wt(n||"").find(m=>m.datasetId))==null?void 0:S.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(m=>m.name):[],u=fe(m=>m.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=R.useState(""),v=R.useMemo(()=>l.filter(m=>m.toLowerCase().includes(f.toLowerCase())),[l,f]),y=()=>{t({...e,subset:v})},b=()=>{const m=e.subset.filter(g=>!v.includes(g));t({...e,subset:m})};return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:m=>t({...e,keep:m.target.value}),children:[a.jsx("option",{value:"first",children:"Keep First Occurrence"}),a.jsx("option",{value:"last",children:"Keep Last Occurrence"}),a.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:m=>h(m.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(m),onChange:g=>{const p=g.target.checked?[...e.subset,m]:e.subset.filter(x=>x!==m);t({...e,subset:p})}}),m]},m)),v.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Qs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.Deduplicate_rows_removed})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),a.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_remaining})]}),a.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),a.jsx("span",{className:"font-medium",children:d.Deduplicate_rows_total})]})]})]})]})},f3={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:NT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:d3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},h3=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],p3=({config:e,onChange:t,nodeId:n})=>{var g;const s=(g=wt(n||"").find(p=>p.datasetId))==null?void 0:g.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(p=>p.name):[],u=fe(p=>p.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,f=R.useRef(null),[h,v]=R.useState(!1);R.useEffect(()=>{if(!f.current)return;const p=new ResizeObserver(x=>{for(const w of x)v(w.contentRect.width>450)});return p.observe(f.current),()=>p.disconnect()},[]);const y=()=>{if(l.length===0)return;const p=l.find(x=>!e.column_types[x])||l[0];t({...e,column_types:{...e.column_types,[p]:"float"}})},b=p=>{const x={...e.column_types};delete x[p],t({...e,column_types:x})},S=(p,x)=>{if(p===x)return;const w=e.column_types[p],_={...e.column_types};delete _[p],_[x]=w,t({...e,column_types:_})},m=(p,x)=>{t({...e,column_types:{...e.column_types,[p]:x}})};return a.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),a.jsx("button",{onClick:y,disabled:!s||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:a.jsx(rv,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:`space-y-2 ${h?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([p,x])=>a.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[a.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[a.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:p,onChange:w=>S(p,w.target.value),children:l.map(w=>a.jsx("option",{value:w,disabled:w!==p&&!!e.column_types[w],children:w},w))}),a.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:x,onChange:w=>m(p,w.target.value),children:h3.map(w=>a.jsx("option",{value:w.value,children:w.label},w.value))})]}),a.jsx("button",{onClick:()=>b(p),className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:a.jsx(Sf,{className:"w-4 h-4"})})]},p)),Object.keys(e.column_types).length===0&&a.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${h?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Qs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),a.jsx("span",{className:"font-medium",children:d.casted_columns_count})]}),d.cast_errors!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),a.jsx("span",{className:"font-medium text-destructive",children:d.cast_errors})]})]})]})]})},m3={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:ST,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:p3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},g3=({config:e,onChange:t,nodeId:n})=>{var S;const s=(S=wt(n||"").find(m=>m.datasetId))==null?void 0:S.datasetId,{data:i,isLoading:o}=tt(s),l=i?Object.values(i.columns).map(m=>m.name):[],u=fe(m=>m.executionResult),c=n?u==null?void 0:u.node_results[n]:null,d=c==null?void 0:c.metrics,[f,h]=R.useState(""),v=R.useMemo(()=>l.filter(m=>m.toLowerCase().includes(f.toLowerCase())),[l,f]),y=()=>{t({...e,columns:v})},b=()=>{const m=e.columns.filter(g=>!v.includes(g));t({...e,columns:m})};return a.jsxs("div",{className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:m=>t({...e,flag_suffix:m.target.value}),placeholder:"_was_missing"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:m=>h(m.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[v.map(m=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(m),onChange:g=>{const p=g.target.checked?[...e.columns,m]:e.columns.filter(x=>x!==m);t({...e,columns:p})}}),m]},m)),v.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.missing_indicators_created!==void 0&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Qs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),a.jsx("span",{className:"font-medium text-primary",children:d.missing_indicators_created})]}),d.missing_indicators_columns&&Array.isArray(d.missing_indicators_columns)&&d.missing_indicators_columns.length>0&&a.jsxs("div",{className:"pt-1 border-t mt-1",children:[a.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:d.missing_indicators_columns.map(m=>a.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:m},m))})]})]})]})]})},y3={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:ET,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:g3,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},x3=({config:e,onChange:t,nodeId:n})=>{var w;const s=(w=wt(n||"").find(_=>_.datasetId))==null?void 0:w.datasetId,{data:i,isLoading:o}=tt(s),[l,u]=R.useState(""),c=R.useRef(null),[d,f]=R.useState(!1),h=fe(_=>_.executionResult),v=n?h==null?void 0:h.node_results[n]:null,y=v==null?void 0:v.metrics,S=((h==null?void 0:h.recommendations)||[]).filter(_=>_.suggested_node_type==="encoding"||_.type.includes("encoding")||_.type.includes("cardinality"));R.useEffect(()=>{if(!c.current)return;const _=new ResizeObserver(N=>{for(const k of N)f(k.contentRect.width>400)});return _.observe(c.current),()=>_.disconnect()},[]);const m=i?Object.values(i.columns).filter(_=>["object","string","category","bool"].some(N=>{var k;return(k=_.dtype)==null?void 0:k.toLowerCase().includes(N)})).map(_=>_.name):[],g=m.filter(_=>_.toLowerCase().includes(l.toLowerCase())),p=()=>{t({...e,columns:[...m]})},x=()=>{t({...e,columns:[]})};return a.jsxs("div",{ref:c,className:"p-4 space-y-4",children:[!s&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!s&&a.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),a.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[a.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),a.jsx("option",{value:"dummy",children:"Dummy Encoding"}),a.jsx("option",{value:"label",children:"Label Encoding"}),a.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),a.jsx("option",{value:"target",children:"Target Encoding"}),a.jsx("option",{value:"hash",children:"Hash Encoding"})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]})]}),a.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:_=>t({...e,drop_first:_.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),a.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:_=>t({...e,handle_unknown:_.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[a.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),a.jsx("option",{value:"error",children:"Raise Error"})]}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:_=>t({...e,target_column:_.target.value}),children:[a.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(_=>a.jsxs("option",{value:_.name,children:[_.name," (",_.dtype,")"]},_.name))]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),a.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:_=>t({...e,n_features:parseInt(_.target.value)})})]}),e.method==="ordinal"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:_=>t({...e,unknown_value:parseInt(_.target.value)}),title:"Integer to assign for unknown categories."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&a.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:_=>t({...e,missing_code:parseInt(_.target.value)}),title:"Integer to assign for missing or unknown categories."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:_=>u(_.target.value)}),a.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[a.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),a.jsx("span",{className:"text-border",children:"|"}),a.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),m.length>0?a.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[g.map(_=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(_),onChange:N=>{const k=N.target.checked?[...e.columns,_]:e.columns.filter(E=>E!==_);t({...e,columns:k})}}),_]},_)),g.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):a.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),S.length>0&&a.jsx(jo,{recommendations:S}),y&&a.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[a.jsx(Qs,{size:14}),a.jsx("span",{children:"Last Run Results"})]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[y.encoded_columns_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),a.jsx("span",{className:"font-medium",children:y.encoded_columns_count})]}),y.new_features_count!==void 0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),a.jsx("span",{className:"font-medium text-primary",children:y.new_features_count})]}),y.categories_count&&a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(y.categories_count).map(([_,N])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),a.jsx("span",{className:"font-mono",children:N})]},_))})]}),y.classes_count&&a.jsxs("div",{className:"mt-2 border-t pt-2",children:[a.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(y.classes_count).map(([_,N])=>a.jsxs("div",{className:"flex justify-between text-[10px]",children:[a.jsxs("span",{className:"truncate max-w-[100px]",title:_,children:[_,":"]}),a.jsx("span",{className:"font-mono",children:N})]},_))})]})]})]})]})},v3={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:TT,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:x3,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},w3=({config:e,onChange:t,nodeId:n})=>{const r=fe(N=>N.nodes),s=fe(N=>N.edges),o=(N=>{var T;const k=new Set,E=[N];for(;E.length>0;){const I=E.shift();if(k.has(I))continue;k.add(I);const A=r.find(j=>j.id===I);if(!A)continue;if(I!==N&&((T=A.data)!=null&&T.datasetId))return A.data.datasetId;const O=yo(A,r,s);for(const j of O)E.push(j.id)}})(n||""),{data:l,isLoading:u}=tt(o),c=Bl(n||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=fe(N=>N.executionResult),f=n?d==null?void 0:d.node_results[n]:null,h=R.useRef(null),[v,y]=R.useState(!1),[b,S]=R.useState("");R.useEffect(()=>{if(!h.current)return;const N=new ResizeObserver(k=>{for(const E of k)y(E.contentRect.width>450)});return N.observe(h.current),()=>N.disconnect()},[]);const m=l?Object.values(l.columns).filter(N=>["int","float","number"].some(k=>{var E;return(E=N.dtype)==null?void 0:E.toLowerCase().includes(k)})).map(N=>N.name):[],g=m.filter(N=>N.toLowerCase().includes(b.toLowerCase())),p=()=>{t({...e,columns:g})},x=()=>{const N=e.columns.filter(k=>!g.includes(k));t({...e,columns:N})},w=()=>{if(!f||!f.metrics)return null;const N=f.metrics,k=N.rows_removed,E=N.rows_remaining,T=N.rows_total??(k??0)+(E??0),I=N.bounds,A=N.stats,O=N.contamination,j=N.warnings,z=N.values_clipped;if(k===void 0&&!I&&!A&&O===void 0&&!j&&z===void 0)return null;const D=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return a.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),a.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:D()})]}),j&&j.length>0&&a.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[a.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),a.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:j.map((L,C)=>a.jsx("li",{className:"truncate",title:L,children:L},C))})]}),e.method==="winsorize"?a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"font-mono font-medium text-blue-600",children:z??0}),a.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):(k!==void 0||T!==void 0)&&a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("span",{className:"font-mono font-medium text-destructive",children:k??0}),T>0&&a.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((k??0)/T*100).toFixed(1),"%)"]})]}),E!==void 0&&a.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),O!==void 0&&a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[a.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),a.jsxs("span",{className:"font-mono font-medium",children:[(O*100).toFixed(1),"%"]})]}),I&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(I).map(([L,C])=>a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),a.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",C.lower.toFixed(2),", ",C.upper.toFixed(2),"]"]})]},L))})]}),A&&a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),a.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(A).map(([L,C])=>a.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[a.jsx("span",{className:"truncate max-w-[100px] font-medium",title:L,children:L}),a.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",C.mean.toFixed(2),", =",C.std.toFixed(2)]})]},L))})]})]})},_=()=>{const N=[];if(f&&f.metrics){const E=f.metrics,T=E.rows_removed,A=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(T!==void 0&&A!==void 0&&A>0){const O=T/A;O>.2?N.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):O===0&&e.method!=="winsorize"&&N.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&N.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const k=[...c,...N];return k.length===0?null:a.jsx("div",{className:"mt-4",children:a.jsx(jo,{recommendations:k})})};return a.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${v?"overflow-hidden":"overflow-y-auto"}`,children:[a.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!o&&a.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),a.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${v?"grid grid-cols-2":"flex flex-col"}`,children:[a.jsxs("div",{className:`space-y-4 ${v?"overflow-y-auto pr-2":"shrink-0"}`,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),a.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[a.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),a.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),a.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),a.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:N=>t({...e,multiplier:parseFloat(N.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),a.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:N=>t({...e,threshold:parseFloat(N.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:N=>t({...e,lower_percentile:parseFloat(N.target.value)})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),a.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:N=>t({...e,upper_percentile:parseFloat(N.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),a.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:N=>t({...e,contamination:parseFloat(N.target.value)})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),v&&a.jsxs(a.Fragment,{children:[a.jsx(w,{}),a.jsx(_,{})]})]}),a.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${v?"":"shrink-0"}`,children:[a.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:p,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),a.jsx("button",{onClick:x,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),a.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:b,onChange:N=>S(N.target.value)})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:g.length>0?g.map(N=>a.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[a.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:k=>{const E=k.target.checked?[...e.columns,N]:e.columns.filter(T=>T!==N);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:N,children:N})]},N)):a.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:u?"Loading schema...":m.length===0?"No numeric columns found":"No matches found"})})]}),!v&&a.jsxs(a.Fragment,{children:[a.jsx(w,{}),a.jsx(_,{})]})]})]})},b3={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:$T,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:w3,validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},Au={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},N3=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",_3=({allColumns:e,selectedColumns:t,onChange:n})=>{const[r,s]=R.useState(""),i=R.useMemo(()=>e.filter(c=>c.toLowerCase().includes(r.toLowerCase())),[e,r]),o=()=>{const c=Array.from(new Set([...t,...i]));n(c)},l=()=>{const c=t.filter(d=>!i.includes(d));n(c)},u=c=>{t.includes(c)?n(t.filter(d=>d!==c)):n([...t,c])};return a.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[a.jsx("div",{className:"flex gap-2 items-center",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(sv,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),a.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:r,onChange:c=>s(c.target.value)})]})}),a.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[a.jsx("button",{onClick:o,className:"text-primary hover:underline font-medium",children:"Select All"}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),a.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),a.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?a.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',r,'"']}):i.map(c=>a.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[a.jsx("input",{type:"checkbox",checked:t.includes(c),onChange:()=>u(c),className:"rounded border-gray-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"truncate",title:c,children:c})]},c))})]})},S3=({config:e,onChange:t,nodeId:n})=>{var x;const r=R.useMemo(()=>e||{transformations:[]},[e]),s=R.useMemo(()=>Array.isArray(r.transformations)?r.transformations:[],[r.transformations]),[i,o]=R.useState([]),l=R.useRef(null),[u,c]=R.useState(!1);R.useEffect(()=>{if(!l.current)return;const w=new ResizeObserver(_=>{for(const N of _)c(N.contentRect.width>450)});return w.observe(l.current),()=>w.disconnect()},[]);const f=(x=wt(n||"").find(w=>w.datasetId))==null?void 0:x.datasetId,{data:h}=tt(f),v=R.useMemo(()=>h!=null&&h.columns?Object.values(h.columns).filter(w=>["int","float","number"].some(_=>{var N;return(N=w.dtype)==null?void 0:N.toLowerCase().includes(_)})).map(w=>w.name):[],[h]),y=()=>{const w=s.length;o(_=>[..._,w]),t({transformations:[...s,{columns:[],method:"log",params:{}}]})},b=(w,_)=>{const N=[...s];N[w]={...N[w],..._},t({transformations:N})},S=w=>{const _=[...s];_.splice(w,1),t({transformations:_}),o(N=>N.filter(k=>k!==w).map(k=>k>w?k-1:k))},m=w=>{o(_=>_.includes(w)?_.filter(N=>N!==w):[..._,w])},g=(w,_)=>{const N=Au[_].methods[0].value;b(w,{method:N})},p=Bl(n||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return a.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),a.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[a.jsx(rv,{size:12})," Add Rule"]})]}),a.jsxs("div",{className:"space-y-4",children:[s.map((w,_)=>{var T,I,A;const N=N3(w.method),k=i.includes(_),E=((T=Au[N].methods.find(O=>O.value===w.method))==null?void 0:T.label)||w.method;return a.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>m(_),children:[a.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[k?a.jsx(nv,{size:16,className:"text-muted-foreground flex-shrink-0"}):a.jsx(gT,{size:16,className:"text-muted-foreground flex-shrink-0"}),a.jsxs("div",{className:"flex flex-col overflow-hidden",children:[a.jsx("span",{className:"text-sm font-medium truncate",children:E}),a.jsx("span",{className:"text-xs text-muted-foreground truncate",children:w.columns.length===0?"No columns selected":`${w.columns.length} columns`})]})]}),a.jsx("button",{onClick:O=>{O.stopPropagation(),S(_)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:a.jsx(Sf,{size:14})})]}),k&&a.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${u?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),a.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:N,onChange:O=>g(_,O.target.value),onClick:O=>O.stopPropagation(),children:[a.jsx("option",{value:"simple",children:"Simple Math"}),a.jsx("option",{value:"power",children:"Power Transform"})]}),a.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:w.method,onChange:O=>b(_,{method:O.target.value}),onClick:O=>O.stopPropagation(),children:Au[N].methods.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))})]}),(w.method==="yeo-johnson"||w.method==="box-cox")&&a.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:O=>O.stopPropagation(),children:[a.jsx("input",{type:"checkbox",id:`std-${_}`,checked:((I=w.params)==null?void 0:I.standardize)!==!1,onChange:O=>b(_,{params:{...w.params,standardize:O.target.checked}})}),a.jsx("label",{htmlFor:`std-${_}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),w.method==="exponential"&&a.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:O=>O.stopPropagation(),children:[a.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),a.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((A=w.params)==null?void 0:A.clip_threshold)||700,onChange:O=>b(_,{params:{...w.params,clip_threshold:parseFloat(O.target.value)}})})]})]}),a.jsxs("div",{className:"space-y-1 min-w-0",onClick:O=>O.stopPropagation(),children:[a.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),a.jsx(_3,{allColumns:v,selectedColumns:w.columns||[],onChange:O=>b(_,{columns:O})})]})]})]},_)}),s.length===0&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",a.jsx("br",{}),'Click "Add Rule" to start.']})]}),a.jsx(jo,{recommendations:p||[],onApply:w=>{var E;const _=w,N=((E=_.params)==null?void 0:E.method)||"log",k=_.target_columns||[];if(k.length>0){const T=s.length;o(I=>[...I,T]),t({transformations:[...s,{columns:k,method:N,params:{}}]})}}})]})},k3={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:VT,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(!(e!=null&&e.transformations)||e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(!t.columns||t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:S3,getDefaultConfig:()=>({transformations:[]})},j3=()=>{be.register(U4),be.register(q4),be.register(X4),be.register(Y4),be.register(Z4),be.register(b3),be.register(k3),be.register(v3),be.register(s3),be.register(o3),be.register(l3),be.register(c3),be.register(f3),be.register(m3),be.register(y3),be.register(e3),be.register(n3),console.log("[Registry] Initialization complete. Total nodes:",be.getAll().length)};j3();const E3=new MN;Ou.createRoot(document.getElementById("root")).render(a.jsx(Lt.StrictMode,{children:a.jsx(PN,{client:E3,children:a.jsx(H4,{})})}));
