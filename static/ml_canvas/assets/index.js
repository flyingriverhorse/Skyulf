var kF=Object.defineProperty;var NN=e=>{throw TypeError(e)};var NF=(e,t,r)=>t in e?kF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nu=(e,t,r)=>NF(e,typeof t!="symbol"?t+"":t,r),hx=(e,t,r)=>t.has(e)||NN("Cannot "+r);var Y=(e,t,r)=>(hx(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?NN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(hx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ze=(e,t,r)=>(hx(e,t,"access private method"),r);var Ch=(e,t,r,n)=>({set _(a){ye(e,t,a,r)},get _(){return Y(e,t,n)}});function SF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var PF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ya(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RO={exports:{}},Tg={},zO={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=Symbol.for("react.element"),CF=Symbol.for("react.portal"),EF=Symbol.for("react.fragment"),OF=Symbol.for("react.strict_mode"),AF=Symbol.for("react.profiler"),TF=Symbol.for("react.provider"),MF=Symbol.for("react.context"),IF=Symbol.for("react.forward_ref"),LF=Symbol.for("react.suspense"),DF=Symbol.for("react.memo"),RF=Symbol.for("react.lazy"),SN=Symbol.iterator;function zF(e){return e===null||typeof e!="object"?null:(e=SN&&e[SN]||e["@@iterator"],typeof e=="function"?e:null)}var FO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$O=Object.assign,BO={};function $c(e,t,r){this.props=e,this.context=t,this.refs=BO,this.updater=r||FO}$c.prototype.isReactComponent={};$c.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$c.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UO(){}UO.prototype=$c.prototype;function o_(e,t,r){this.props=e,this.context=t,this.refs=BO,this.updater=r||FO}var l_=o_.prototype=new UO;l_.constructor=o_;$O(l_,$c.prototype);l_.isPureReactComponent=!0;var PN=Array.isArray,HO=Object.prototype.hasOwnProperty,c_={current:null},WO={key:!0,ref:!0,__self:!0,__source:!0};function VO(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)HO.call(t,n)&&!WO.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];a.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:cf,type:e,key:i,ref:o,props:a,_owner:c_.current}}function FF(e,t){return{$$typeof:cf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function u_(e){return typeof e=="object"&&e!==null&&e.$$typeof===cf}function $F(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var CN=/\/+/g;function mx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$F(""+e.key):t.toString(36)}function km(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cf:case CF:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+mx(o,0):n,PN(a)?(r="",e!=null&&(r=e.replace(CN,"$&/")+"/"),km(a,t,r,"",function(d){return d})):a!=null&&(u_(a)&&(a=FF(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(CN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",PN(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+mx(i,l);o+=km(i,t,r,u,a)}else if(u=zF(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+mx(i,l++),o+=km(i,t,r,u,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Eh(e,t,r){if(e==null)return e;var n=[],a=0;return km(e,n,"","",function(i){return t.call(r,i,a++)}),n}function BF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},Nm={transition:null},UF={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:Nm,ReactCurrentOwner:c_};function KO(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Eh,forEach:function(e,t,r){Eh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Eh(e,function(){t++}),t},toArray:function(e){return Eh(e,function(t){return t})||[]},only:function(e){if(!u_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=$c;De.Fragment=EF;De.Profiler=AF;De.PureComponent=o_;De.StrictMode=OF;De.Suspense=LF;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UF;De.act=KO;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$O({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=c_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)HO.call(t,u)&&!WO.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:cf,type:e.type,key:a,ref:i,props:n,_owner:o}};De.createContext=function(e){return e={$$typeof:MF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TF,_context:e},e.Consumer=e};De.createElement=VO;De.createFactory=function(e){var t=VO.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:IF,render:e}};De.isValidElement=u_;De.lazy=function(e){return{$$typeof:RF,_payload:{_status:-1,_result:e},_init:BF}};De.memo=function(e,t){return{$$typeof:DF,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Nm.transition;Nm.transition={};try{e()}finally{Nm.transition=t}};De.unstable_act=KO;De.useCallback=function(e,t){return Rr.current.useCallback(e,t)};De.useContext=function(e){return Rr.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};De.useEffect=function(e,t){return Rr.current.useEffect(e,t)};De.useId=function(){return Rr.current.useId()};De.useImperativeHandle=function(e,t,r){return Rr.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Rr.current.useMemo(e,t)};De.useReducer=function(e,t,r){return Rr.current.useReducer(e,t,r)};De.useRef=function(e){return Rr.current.useRef(e)};De.useState=function(e){return Rr.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return Rr.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return Rr.current.useTransition()};De.version="18.3.1";zO.exports=De;var x=zO.exports;const Sr=Ya(x),HF=SF({__proto__:null,default:Sr},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WF=x,VF=Symbol.for("react.element"),KF=Symbol.for("react.fragment"),qF=Object.prototype.hasOwnProperty,ZF=WF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YF={key:!0,ref:!0,__self:!0,__source:!0};function qO(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)qF.call(t,n)&&!YF.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:VF,type:e,key:i,ref:o,props:a,_owner:ZF.current}}Tg.Fragment=KF;Tg.jsx=qO;Tg.jsxs=qO;RO.exports=Tg;var s=RO.exports,Cv={},ZO={exports:{}},jn={},YO={exports:{}},GO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,T){var U=z.length;z.push(T);e:for(;0<U;){var Z=U-1>>>1,G=z[Z];if(0<a(G,T))z[Z]=T,z[U]=G,U=Z;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var T=z[0],U=z.pop();if(U!==T){z[0]=U;e:for(var Z=0,G=z.length,H=G>>>1;Z<H;){var Q=2*(Z+1)-1,se=z[Q],oe=Q+1,ie=z[oe];if(0>a(se,U))oe<G&&0>a(ie,se)?(z[Z]=ie,z[oe]=U,Z=oe):(z[Z]=se,z[Q]=U,Z=Q);else if(oe<G&&0>a(ie,U))z[Z]=ie,z[oe]=U,Z=oe;else break e}}return T}function a(z,T){var U=z.sortIndex-T.sortIndex;return U!==0?U:z.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,h=null,p=3,g=!1,y=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(z){for(var T=r(d);T!==null;){if(T.callback===null)n(d);else if(T.startTime<=z)n(d),T.sortIndex=T.expirationTime,t(u,T);else break;T=r(d)}}function N(z){if(b=!1,j(z),!y)if(r(u)!==null)y=!0,W(P);else{var T=r(d);T!==null&&V(N,T.startTime-z)}}function P(z,T){y=!1,b&&(b=!1,w(O),O=-1),g=!0;var U=p;try{for(j(T),h=r(u);h!==null&&(!(h.expirationTime>T)||z&&!I());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var G=Z(h.expirationTime<=T);T=e.unstable_now(),typeof G=="function"?h.callback=G:h===r(u)&&n(u),j(T)}else n(u);h=r(u)}if(h!==null)var H=!0;else{var Q=r(d);Q!==null&&V(N,Q.startTime-T),H=!1}return H}finally{h=null,p=U,g=!1}}var C=!1,A=null,O=-1,M=5,$=-1;function I(){return!(e.unstable_now()-$<M)}function R(){if(A!==null){var z=e.unstable_now();$=z;var T=!0;try{T=A(!0,z)}finally{T?B():(C=!1,A=null)}}else C=!1}var B;if(typeof k=="function")B=function(){k(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=R,B=function(){q.postMessage(null)}}else B=function(){_(R,0)};function W(z){A=z,C||(C=!0,B())}function V(z,T){O=_(function(){z(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,W(P))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var U=p;p=T;try{return z()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,T){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var U=p;p=z;try{return T()}finally{p=U}},e.unstable_scheduleCallback=function(z,T,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,z={id:f++,callback:T,priorityLevel:z,startTime:U,expirationTime:G,sortIndex:-1},U>Z?(z.sortIndex=U,t(d,z),r(u)===null&&z===r(d)&&(b?(w(O),O=-1):b=!0,V(N,U-Z))):(z.sortIndex=G,t(u,z),y||g||(y=!0,W(P))),z},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(z){var T=p;return function(){var U=p;p=T;try{return z.apply(this,arguments)}finally{p=U}}}})(GO);YO.exports=GO;var GF=YO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XF=x,xn=GF;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XO=new Set,md={};function tl(e,t){dc(e,t),dc(e+"Capture",t)}function dc(e,t){for(md[e]=t,e=0;e<t.length;e++)XO.add(t[e])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ev=Object.prototype.hasOwnProperty,QF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EN={},ON={};function JF(e){return Ev.call(ON,e)?!0:Ev.call(EN,e)?!1:QF.test(e)?ON[e]=!0:(EN[e]=!0,!1)}function e$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function t$(e,t,r,n){if(t===null||typeof t>"u"||e$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var d_=/[\-:]([a-z])/g;function f_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(d_,f_);vr[t]=new zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(d_,f_);vr[t]=new zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(d_,f_);vr[t]=new zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new zr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function h_(e,t,r,n){var a=vr.hasOwnProperty(t)?vr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t$(t,r,a,n)&&(r=null),n||a===null?JF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bi=XF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oh=Symbol.for("react.element"),Sl=Symbol.for("react.portal"),Pl=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),QO=Symbol.for("react.provider"),JO=Symbol.for("react.context"),p_=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),Tv=Symbol.for("react.suspense_list"),g_=Symbol.for("react.memo"),as=Symbol.for("react.lazy"),eA=Symbol.for("react.offscreen"),AN=Symbol.iterator;function Su(e){return e===null||typeof e!="object"?null:(e=AN&&e[AN]||e["@@iterator"],typeof e=="function"?e:null)}var Nt=Object.assign,px;function qu(e){if(px===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);px=t&&t[1]||""}return`
`+px+e}var gx=!1;function yx(e,t){if(!e||gx)return"";gx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var u=`
`+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{gx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qu(e):""}function r$(e){switch(e.tag){case 5:return qu(e.type);case 16:return qu("Lazy");case 13:return qu("Suspense");case 19:return qu("SuspenseList");case 0:case 2:case 15:return e=yx(e.type,!1),e;case 11:return e=yx(e.type.render,!1),e;case 1:return e=yx(e.type,!0),e;default:return""}}function Mv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pl:return"Fragment";case Sl:return"Portal";case Ov:return"Profiler";case m_:return"StrictMode";case Av:return"Suspense";case Tv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JO:return(e.displayName||"Context")+".Consumer";case QO:return(e._context.displayName||"Context")+".Provider";case p_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case g_:return t=e.displayName||null,t!==null?t:Mv(e.type)||"Memo";case as:t=e._payload,e=e._init;try{return Mv(e(t))}catch{}}return null}function n$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mv(t);case 8:return t===m_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ls(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a$(e){var t=tA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ah(e){e._valueTracker||(e._valueTracker=a$(e))}function rA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iv(e,t){var r=t.checked;return Nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function TN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ls(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nA(e,t){t=t.checked,t!=null&&h_(e,"checked",t,!1)}function Lv(e,t){nA(e,t);var r=Ls(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dv(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dv(e,t.type,Ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dv(e,t,r){(t!=="number"||Xm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zu=Array.isArray;function Ul(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ls(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Rv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(Zu(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ls(r)}}function aA(e,t){var r=Ls(t.value),n=Ls(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function LN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Th,sA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Th.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i$=["Webkit","ms","Moz","O"];Object.keys(rd).forEach(function(e){i$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rd[t]=rd[e]})});function oA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rd.hasOwnProperty(e)&&rd[e]?(""+t).trim():t+"px"}function lA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=oA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var s$=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fv(e,t){if(t){if(s$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function $v(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bv=null;function y_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uv=null,Hl=null,Wl=null;function DN(e){if(e=ff(e)){if(typeof Uv!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Rg(t),Uv(e.stateNode,e.type,t))}}function cA(e){Hl?Wl?Wl.push(e):Wl=[e]:Hl=e}function uA(){if(Hl){var e=Hl,t=Wl;if(Wl=Hl=null,DN(e),t)for(e=0;e<t.length;e++)DN(t[e])}}function dA(e,t){return e(t)}function fA(){}var xx=!1;function hA(e,t,r){if(xx)return e(t,r);xx=!0;try{return dA(e,t,r)}finally{xx=!1,(Hl!==null||Wl!==null)&&(fA(),uA())}}function gd(e,t){var r=e.stateNode;if(r===null)return null;var n=Rg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Hv=!1;if(Ci)try{var Pu={};Object.defineProperty(Pu,"passive",{get:function(){Hv=!0}}),window.addEventListener("test",Pu,Pu),window.removeEventListener("test",Pu,Pu)}catch{Hv=!1}function o$(e,t,r,n,a,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var nd=!1,Qm=null,Jm=!1,Wv=null,l$={onError:function(e){nd=!0,Qm=e}};function c$(e,t,r,n,a,i,o,l,u){nd=!1,Qm=null,o$.apply(l$,arguments)}function u$(e,t,r,n,a,i,o,l,u){if(c$.apply(this,arguments),nd){if(nd){var d=Qm;nd=!1,Qm=null}else throw Error(ue(198));Jm||(Jm=!0,Wv=d)}}function rl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RN(e){if(rl(e)!==e)throw Error(ue(188))}function d$(e){var t=e.alternate;if(!t){if(t=rl(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return RN(a),e;if(i===n)return RN(a),t;i=i.sibling}throw Error(ue(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function pA(e){return e=d$(e),e!==null?gA(e):null}function gA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gA(e);if(t!==null)return t;e=e.sibling}return null}var yA=xn.unstable_scheduleCallback,zN=xn.unstable_cancelCallback,f$=xn.unstable_shouldYield,h$=xn.unstable_requestPaint,It=xn.unstable_now,m$=xn.unstable_getCurrentPriorityLevel,x_=xn.unstable_ImmediatePriority,xA=xn.unstable_UserBlockingPriority,ep=xn.unstable_NormalPriority,p$=xn.unstable_LowPriority,vA=xn.unstable_IdlePriority,Mg=null,Fa=null;function g$(e){if(Fa&&typeof Fa.onCommitFiberRoot=="function")try{Fa.onCommitFiberRoot(Mg,e,void 0,(e.current.flags&128)===128)}catch{}}var ga=Math.clz32?Math.clz32:v$,y$=Math.log,x$=Math.LN2;function v$(e){return e>>>=0,e===0?32:31-(y$(e)/x$|0)|0}var Mh=64,Ih=4194304;function Yu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Yu(l):(i&=o,i!==0&&(n=Yu(i)))}else o=r&~a,o!==0?n=Yu(o):i!==0&&(n=Yu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ga(t),a=1<<r,n|=e[r],t&=~a;return n}function b$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w$(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ga(i),l=1<<o,u=a[o];u===-1?(!(l&r)||l&n)&&(a[o]=b$(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Vv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bA(){var e=Mh;return Mh<<=1,!(Mh&4194240)&&(Mh=64),e}function vx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function uf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ga(t),e[t]=r}function _$(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ga(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function v_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ga(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Qe=0;function wA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _A,b_,jA,kA,NA,Kv=!1,Lh=[],ks=null,Ns=null,Ss=null,yd=new Map,xd=new Map,ls=[],j$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FN(e,t){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":yd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xd.delete(t.pointerId)}}function Cu(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ff(t),t!==null&&b_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function k$(e,t,r,n,a){switch(t){case"focusin":return ks=Cu(ks,e,t,r,n,a),!0;case"dragenter":return Ns=Cu(Ns,e,t,r,n,a),!0;case"mouseover":return Ss=Cu(Ss,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return yd.set(i,Cu(yd.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,xd.set(i,Cu(xd.get(i)||null,e,t,r,n,a)),!0}return!1}function SA(e){var t=fo(e.target);if(t!==null){var r=rl(t);if(r!==null){if(t=r.tag,t===13){if(t=mA(r),t!==null){e.blockedOn=t,NA(e.priority,function(){jA(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bv=n,r.target.dispatchEvent(n),Bv=null}else return t=ff(r),t!==null&&b_(t),e.blockedOn=r,!1;t.shift()}return!0}function $N(e,t,r){Sm(e)&&r.delete(t)}function N$(){Kv=!1,ks!==null&&Sm(ks)&&(ks=null),Ns!==null&&Sm(Ns)&&(Ns=null),Ss!==null&&Sm(Ss)&&(Ss=null),yd.forEach($N),xd.forEach($N)}function Eu(e,t){e.blockedOn===t&&(e.blockedOn=null,Kv||(Kv=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,N$)))}function vd(e){function t(a){return Eu(a,e)}if(0<Lh.length){Eu(Lh[0],e);for(var r=1;r<Lh.length;r++){var n=Lh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ks!==null&&Eu(ks,e),Ns!==null&&Eu(Ns,e),Ss!==null&&Eu(Ss,e),yd.forEach(t),xd.forEach(t),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)SA(r),r.blockedOn===null&&ls.shift()}var Vl=Bi.ReactCurrentBatchConfig,rp=!0;function S$(e,t,r,n){var a=Qe,i=Vl.transition;Vl.transition=null;try{Qe=1,w_(e,t,r,n)}finally{Qe=a,Vl.transition=i}}function P$(e,t,r,n){var a=Qe,i=Vl.transition;Vl.transition=null;try{Qe=4,w_(e,t,r,n)}finally{Qe=a,Vl.transition=i}}function w_(e,t,r,n){if(rp){var a=qv(e,t,r,n);if(a===null)Ex(e,t,n,np,r),FN(e,n);else if(k$(a,e,t,r,n))n.stopPropagation();else if(FN(e,n),t&4&&-1<j$.indexOf(e)){for(;a!==null;){var i=ff(a);if(i!==null&&_A(i),i=qv(e,t,r,n),i===null&&Ex(e,t,n,np,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Ex(e,t,n,null,r)}}var np=null;function qv(e,t,r,n){if(np=null,e=y_(n),e=fo(e),e!==null)if(t=rl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mA(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return np=e,null}function PA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m$()){case x_:return 1;case xA:return 4;case ep:case p$:return 16;case vA:return 536870912;default:return 16}default:return 16}}var bs=null,__=null,Pm=null;function CA(){if(Pm)return Pm;var e,t=__,r=t.length,n,a="value"in bs?bs.value:bs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Pm=a.slice(e,1<n?1-n:void 0)}function Cm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dh(){return!0}function BN(){return!1}function kn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dh:BN,this.isPropagationStopped=BN,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dh)},persist:function(){},isPersistent:Dh}),t}var Bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j_=kn(Bc),df=Nt({},Bc,{view:0,detail:0}),C$=kn(df),bx,wx,Ou,Ig=Nt({},df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ou&&(Ou&&e.type==="mousemove"?(bx=e.screenX-Ou.screenX,wx=e.screenY-Ou.screenY):wx=bx=0,Ou=e),bx)},movementY:function(e){return"movementY"in e?e.movementY:wx}}),UN=kn(Ig),E$=Nt({},Ig,{dataTransfer:0}),O$=kn(E$),A$=Nt({},df,{relatedTarget:0}),_x=kn(A$),T$=Nt({},Bc,{animationName:0,elapsedTime:0,pseudoElement:0}),M$=kn(T$),I$=Nt({},Bc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),L$=kn(I$),D$=Nt({},Bc,{data:0}),HN=kn(D$),R$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F$[e])?!!t[e]:!1}function k_(){return $$}var B$=Nt({},df,{key:function(e){if(e.key){var t=R$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k_,charCode:function(e){return e.type==="keypress"?Cm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),U$=kn(B$),H$=Nt({},Ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WN=kn(H$),W$=Nt({},df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k_}),V$=kn(W$),K$=Nt({},Bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),q$=kn(K$),Z$=Nt({},Ig,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y$=kn(Z$),G$=[9,13,27,32],N_=Ci&&"CompositionEvent"in window,ad=null;Ci&&"documentMode"in document&&(ad=document.documentMode);var X$=Ci&&"TextEvent"in window&&!ad,EA=Ci&&(!N_||ad&&8<ad&&11>=ad),VN=" ",KN=!1;function OA(e,t){switch(e){case"keyup":return G$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cl=!1;function Q$(e,t){switch(e){case"compositionend":return AA(t);case"keypress":return t.which!==32?null:(KN=!0,VN);case"textInput":return e=t.data,e===VN&&KN?null:e;default:return null}}function J$(e,t){if(Cl)return e==="compositionend"||!N_&&OA(e,t)?(e=CA(),Pm=__=bs=null,Cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EA&&t.locale!=="ko"?null:t.data;default:return null}}var e6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e6[e.type]:t==="textarea"}function TA(e,t,r,n){cA(n),t=ap(t,"onChange"),0<t.length&&(r=new j_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var id=null,bd=null;function t6(e){HA(e,0)}function Lg(e){var t=Al(e);if(rA(t))return e}function r6(e,t){if(e==="change")return t}var MA=!1;if(Ci){var jx;if(Ci){var kx="oninput"in document;if(!kx){var ZN=document.createElement("div");ZN.setAttribute("oninput","return;"),kx=typeof ZN.oninput=="function"}jx=kx}else jx=!1;MA=jx&&(!document.documentMode||9<document.documentMode)}function YN(){id&&(id.detachEvent("onpropertychange",IA),bd=id=null)}function IA(e){if(e.propertyName==="value"&&Lg(bd)){var t=[];TA(t,bd,e,y_(e)),hA(t6,t)}}function n6(e,t,r){e==="focusin"?(YN(),id=t,bd=r,id.attachEvent("onpropertychange",IA)):e==="focusout"&&YN()}function a6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lg(bd)}function i6(e,t){if(e==="click")return Lg(t)}function s6(e,t){if(e==="input"||e==="change")return Lg(t)}function o6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var va=typeof Object.is=="function"?Object.is:o6;function wd(e,t){if(va(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ev.call(t,a)||!va(e[a],t[a]))return!1}return!0}function GN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function XN(e,t){var r=GN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=GN(r)}}function LA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DA(){for(var e=window,t=Xm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xm(e.document)}return t}function S_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function l6(e){var t=DA(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&LA(r.ownerDocument.documentElement,r)){if(n!==null&&S_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=XN(r,i);var o=XN(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var c6=Ci&&"documentMode"in document&&11>=document.documentMode,El=null,Zv=null,sd=null,Yv=!1;function QN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yv||El==null||El!==Xm(n)||(n=El,"selectionStart"in n&&S_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sd&&wd(sd,n)||(sd=n,n=ap(Zv,"onSelect"),0<n.length&&(t=new j_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=El)))}function Rh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ol={animationend:Rh("Animation","AnimationEnd"),animationiteration:Rh("Animation","AnimationIteration"),animationstart:Rh("Animation","AnimationStart"),transitionend:Rh("Transition","TransitionEnd")},Nx={},RA={};Ci&&(RA=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Dg(e){if(Nx[e])return Nx[e];if(!Ol[e])return e;var t=Ol[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in RA)return Nx[e]=t[r];return e}var zA=Dg("animationend"),FA=Dg("animationiteration"),$A=Dg("animationstart"),BA=Dg("transitionend"),UA=new Map,JN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(e,t){UA.set(e,t),tl(t,[e])}for(var Sx=0;Sx<JN.length;Sx++){var Px=JN[Sx],u6=Px.toLowerCase(),d6=Px[0].toUpperCase()+Px.slice(1);$s(u6,"on"+d6)}$s(zA,"onAnimationEnd");$s(FA,"onAnimationIteration");$s($A,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(BA,"onTransitionEnd");dc("onMouseEnter",["mouseout","mouseover"]);dc("onMouseLeave",["mouseout","mouseover"]);dc("onPointerEnter",["pointerout","pointerover"]);dc("onPointerLeave",["pointerout","pointerover"]);tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function e2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,u$(n,t,void 0,e),e.currentTarget=null}function HA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&a.isPropagationStopped())break e;e2(a,l,d),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&a.isPropagationStopped())break e;e2(a,l,d),i=u}}}if(Jm)throw e=Wv,Jm=!1,Wv=null,e}function st(e,t){var r=t[eb];r===void 0&&(r=t[eb]=new Set);var n=e+"__bubble";r.has(n)||(WA(t,e,2,!1),r.add(n))}function Cx(e,t,r){var n=0;t&&(n|=4),WA(r,e,n,t)}var zh="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[zh]){e[zh]=!0,XO.forEach(function(r){r!=="selectionchange"&&(f6.has(r)||Cx(r,!1,e),Cx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zh]||(t[zh]=!0,Cx("selectionchange",!1,t))}}function WA(e,t,r,n){switch(PA(t)){case 1:var a=S$;break;case 4:a=P$;break;default:a=w_}r=a.bind(null,t,r,e),a=void 0,!Hv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ex(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;l!==null;){if(o=fo(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hA(function(){var d=i,f=y_(r),h=[];e:{var p=UA.get(e);if(p!==void 0){var g=j_,y=e;switch(e){case"keypress":if(Cm(r)===0)break e;case"keydown":case"keyup":g=U$;break;case"focusin":y="focus",g=_x;break;case"focusout":y="blur",g=_x;break;case"beforeblur":case"afterblur":g=_x;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=UN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=O$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=V$;break;case zA:case FA:case $A:g=M$;break;case BA:g=q$;break;case"scroll":g=C$;break;case"wheel":g=Y$;break;case"copy":case"cut":case"paste":g=L$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=WN}var b=(t&4)!==0,_=!b&&e==="scroll",w=b?p!==null?p+"Capture":null:p;b=[];for(var k=d,j;k!==null;){j=k;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,w!==null&&(N=gd(k,w),N!=null&&b.push(jd(k,N,j)))),_)break;k=k.return}0<b.length&&(p=new g(p,y,null,r,f),h.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==Bv&&(y=r.relatedTarget||r.fromElement)&&(fo(y)||y[Ei]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?fo(y):null,y!==null&&(_=rl(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(b=UN,N="onMouseLeave",w="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(b=WN,N="onPointerLeave",w="onPointerEnter",k="pointer"),_=g==null?p:Al(g),j=y==null?p:Al(y),p=new b(N,k+"leave",g,r,f),p.target=_,p.relatedTarget=j,N=null,fo(f)===d&&(b=new b(w,k+"enter",y,r,f),b.target=j,b.relatedTarget=_,N=b),_=N,g&&y)t:{for(b=g,w=y,k=0,j=b;j;j=xl(j))k++;for(j=0,N=w;N;N=xl(N))j++;for(;0<k-j;)b=xl(b),k--;for(;0<j-k;)w=xl(w),j--;for(;k--;){if(b===w||w!==null&&b===w.alternate)break t;b=xl(b),w=xl(w)}b=null}else b=null;g!==null&&t2(h,p,g,b,!1),y!==null&&_!==null&&t2(h,_,y,b,!0)}}e:{if(p=d?Al(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=r6;else if(qN(p))if(MA)P=s6;else{P=a6;var C=n6}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=i6);if(P&&(P=P(e,d))){TA(h,P,r,f);break e}C&&C(e,p,d),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Dv(p,"number",p.value)}switch(C=d?Al(d):window,e){case"focusin":(qN(C)||C.contentEditable==="true")&&(El=C,Zv=d,sd=null);break;case"focusout":sd=Zv=El=null;break;case"mousedown":Yv=!0;break;case"contextmenu":case"mouseup":case"dragend":Yv=!1,QN(h,r,f);break;case"selectionchange":if(c6)break;case"keydown":case"keyup":QN(h,r,f)}var A;if(N_)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Cl?OA(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(EA&&r.locale!=="ko"&&(Cl||O!=="onCompositionStart"?O==="onCompositionEnd"&&Cl&&(A=CA()):(bs=f,__="value"in bs?bs.value:bs.textContent,Cl=!0)),C=ap(d,O),0<C.length&&(O=new HN(O,e,null,r,f),h.push({event:O,listeners:C}),A?O.data=A:(A=AA(r),A!==null&&(O.data=A)))),(A=X$?Q$(e,r):J$(e,r))&&(d=ap(d,"onBeforeInput"),0<d.length&&(f=new HN("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:d}),f.data=A))}HA(h,t)})}function jd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ap(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=gd(e,r),i!=null&&n.unshift(jd(e,i,a)),i=gd(e,t),i!=null&&n.push(jd(e,i,a))),e=e.return}return n}function xl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function t2(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,d=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&d!==null&&(l=d,a?(u=gd(r,i),u!=null&&o.unshift(jd(r,u,l))):a||(u=gd(r,i),u!=null&&o.push(jd(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var h6=/\r\n?/g,m6=/\u0000|\uFFFD/g;function r2(e){return(typeof e=="string"?e:""+e).replace(h6,`
`).replace(m6,"")}function Fh(e,t,r){if(t=r2(t),r2(e)!==t&&r)throw Error(ue(425))}function ip(){}var Gv=null,Xv=null;function Qv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jv=typeof setTimeout=="function"?setTimeout:void 0,p6=typeof clearTimeout=="function"?clearTimeout:void 0,n2=typeof Promise=="function"?Promise:void 0,g6=typeof queueMicrotask=="function"?queueMicrotask:typeof n2<"u"?function(e){return n2.resolve(null).then(e).catch(y6)}:Jv;function y6(e){setTimeout(function(){throw e})}function Ox(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vd(t)}function Ps(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Uc=Math.random().toString(36).slice(2),Ra="__reactFiber$"+Uc,kd="__reactProps$"+Uc,Ei="__reactContainer$"+Uc,eb="__reactEvents$"+Uc,x6="__reactListeners$"+Uc,v6="__reactHandles$"+Uc;function fo(e){var t=e[Ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ei]||r[Ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=a2(e);e!==null;){if(r=e[Ra])return r;e=a2(e)}return t}e=r,r=e.parentNode}return null}function ff(e){return e=e[Ra]||e[Ei],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Al(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Rg(e){return e[kd]||null}var tb=[],Tl=-1;function Bs(e){return{current:e}}function lt(e){0>Tl||(e.current=tb[Tl],tb[Tl]=null,Tl--)}function at(e,t){Tl++,tb[Tl]=e.current,e.current=t}var Ds={},Pr=Bs(Ds),tn=Bs(!1),zo=Ds;function fc(e,t){var r=e.type.contextTypes;if(!r)return Ds;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rn(e){return e=e.childContextTypes,e!=null}function sp(){lt(tn),lt(Pr)}function i2(e,t,r){if(Pr.current!==Ds)throw Error(ue(168));at(Pr,t),at(tn,r)}function VA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ue(108,n$(e)||"Unknown",a));return Nt({},r,n)}function op(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,zo=Pr.current,at(Pr,e),at(tn,tn.current),!0}function s2(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=VA(e,t,zo),n.__reactInternalMemoizedMergedChildContext=e,lt(tn),lt(Pr),at(Pr,e)):lt(tn),at(tn,r)}var di=null,zg=!1,Ax=!1;function KA(e){di===null?di=[e]:di.push(e)}function b6(e){zg=!0,KA(e)}function Us(){if(!Ax&&di!==null){Ax=!0;var e=0,t=Qe;try{var r=di;for(Qe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}di=null,zg=!1}catch(a){throw di!==null&&(di=di.slice(e+1)),yA(x_,Us),a}finally{Qe=t,Ax=!1}}return null}var Ml=[],Il=0,lp=null,cp=0,Ln=[],Dn=0,Fo=null,yi=1,xi="";function ao(e,t){Ml[Il++]=cp,Ml[Il++]=lp,lp=e,cp=t}function qA(e,t,r){Ln[Dn++]=yi,Ln[Dn++]=xi,Ln[Dn++]=Fo,Fo=e;var n=yi;e=xi;var a=32-ga(n)-1;n&=~(1<<a),r+=1;var i=32-ga(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,yi=1<<32-ga(t)+a|r<<a|n,xi=i+e}else yi=1<<i|r<<a|n,xi=e}function P_(e){e.return!==null&&(ao(e,1),qA(e,1,0))}function C_(e){for(;e===lp;)lp=Ml[--Il],Ml[Il]=null,cp=Ml[--Il],Ml[Il]=null;for(;e===Fo;)Fo=Ln[--Dn],Ln[Dn]=null,xi=Ln[--Dn],Ln[Dn]=null,yi=Ln[--Dn],Ln[Dn]=null}var gn=null,mn=null,ht=!1,oa=null;function ZA(e,t){var r=Bn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function o2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,mn=Ps(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fo!==null?{id:yi,overflow:xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gn=e,mn=null,!0):!1;default:return!1}}function rb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nb(e){if(ht){var t=mn;if(t){var r=t;if(!o2(e,t)){if(rb(e))throw Error(ue(418));t=Ps(r.nextSibling);var n=gn;t&&o2(e,t)?ZA(n,r):(e.flags=e.flags&-4097|2,ht=!1,gn=e)}}else{if(rb(e))throw Error(ue(418));e.flags=e.flags&-4097|2,ht=!1,gn=e}}}function l2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function $h(e){if(e!==gn)return!1;if(!ht)return l2(e),ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qv(e.type,e.memoizedProps)),t&&(t=mn)){if(rb(e))throw YA(),Error(ue(418));for(;t;)ZA(e,t),t=Ps(t.nextSibling)}if(l2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mn=Ps(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mn=null}}else mn=gn?Ps(e.stateNode.nextSibling):null;return!0}function YA(){for(var e=mn;e;)e=Ps(e.nextSibling)}function hc(){mn=gn=null,ht=!1}function E_(e){oa===null?oa=[e]:oa.push(e)}var w6=Bi.ReactCurrentBatchConfig;function Au(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Bh(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function c2(e){var t=e._init;return t(e._payload)}function GA(e){function t(w,k){if(e){var j=w.deletions;j===null?(w.deletions=[k],w.flags|=16):j.push(k)}}function r(w,k){if(!e)return null;for(;k!==null;)t(w,k),k=k.sibling;return null}function n(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function a(w,k){return w=As(w,k),w.index=0,w.sibling=null,w}function i(w,k,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<k?(w.flags|=2,k):j):(w.flags|=2,k)):(w.flags|=1048576,k)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,k,j,N){return k===null||k.tag!==6?(k=zx(j,w.mode,N),k.return=w,k):(k=a(k,j),k.return=w,k)}function u(w,k,j,N){var P=j.type;return P===Pl?f(w,k,j.props.children,N,j.key):k!==null&&(k.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===as&&c2(P)===k.type)?(N=a(k,j.props),N.ref=Au(w,k,j),N.return=w,N):(N=Lm(j.type,j.key,j.props,null,w.mode,N),N.ref=Au(w,k,j),N.return=w,N)}function d(w,k,j,N){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=Fx(j,w.mode,N),k.return=w,k):(k=a(k,j.children||[]),k.return=w,k)}function f(w,k,j,N,P){return k===null||k.tag!==7?(k=To(j,w.mode,N,P),k.return=w,k):(k=a(k,j),k.return=w,k)}function h(w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return k=zx(""+k,w.mode,j),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Oh:return j=Lm(k.type,k.key,k.props,null,w.mode,j),j.ref=Au(w,null,k),j.return=w,j;case Sl:return k=Fx(k,w.mode,j),k.return=w,k;case as:var N=k._init;return h(w,N(k._payload),j)}if(Zu(k)||Su(k))return k=To(k,w.mode,j,null),k.return=w,k;Bh(w,k)}return null}function p(w,k,j,N){var P=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return P!==null?null:l(w,k,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Oh:return j.key===P?u(w,k,j,N):null;case Sl:return j.key===P?d(w,k,j,N):null;case as:return P=j._init,p(w,k,P(j._payload),N)}if(Zu(j)||Su(j))return P!==null?null:f(w,k,j,N,null);Bh(w,j)}return null}function g(w,k,j,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(j)||null,l(k,w,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Oh:return w=w.get(N.key===null?j:N.key)||null,u(k,w,N,P);case Sl:return w=w.get(N.key===null?j:N.key)||null,d(k,w,N,P);case as:var C=N._init;return g(w,k,j,C(N._payload),P)}if(Zu(N)||Su(N))return w=w.get(j)||null,f(k,w,N,P,null);Bh(k,N)}return null}function y(w,k,j,N){for(var P=null,C=null,A=k,O=k=0,M=null;A!==null&&O<j.length;O++){A.index>O?(M=A,A=null):M=A.sibling;var $=p(w,A,j[O],N);if($===null){A===null&&(A=M);break}e&&A&&$.alternate===null&&t(w,A),k=i($,k,O),C===null?P=$:C.sibling=$,C=$,A=M}if(O===j.length)return r(w,A),ht&&ao(w,O),P;if(A===null){for(;O<j.length;O++)A=h(w,j[O],N),A!==null&&(k=i(A,k,O),C===null?P=A:C.sibling=A,C=A);return ht&&ao(w,O),P}for(A=n(w,A);O<j.length;O++)M=g(A,w,O,j[O],N),M!==null&&(e&&M.alternate!==null&&A.delete(M.key===null?O:M.key),k=i(M,k,O),C===null?P=M:C.sibling=M,C=M);return e&&A.forEach(function(I){return t(w,I)}),ht&&ao(w,O),P}function b(w,k,j,N){var P=Su(j);if(typeof P!="function")throw Error(ue(150));if(j=P.call(j),j==null)throw Error(ue(151));for(var C=P=null,A=k,O=k=0,M=null,$=j.next();A!==null&&!$.done;O++,$=j.next()){A.index>O?(M=A,A=null):M=A.sibling;var I=p(w,A,$.value,N);if(I===null){A===null&&(A=M);break}e&&A&&I.alternate===null&&t(w,A),k=i(I,k,O),C===null?P=I:C.sibling=I,C=I,A=M}if($.done)return r(w,A),ht&&ao(w,O),P;if(A===null){for(;!$.done;O++,$=j.next())$=h(w,$.value,N),$!==null&&(k=i($,k,O),C===null?P=$:C.sibling=$,C=$);return ht&&ao(w,O),P}for(A=n(w,A);!$.done;O++,$=j.next())$=g(A,w,O,$.value,N),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?O:$.key),k=i($,k,O),C===null?P=$:C.sibling=$,C=$);return e&&A.forEach(function(R){return t(w,R)}),ht&&ao(w,O),P}function _(w,k,j,N){if(typeof j=="object"&&j!==null&&j.type===Pl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Oh:e:{for(var P=j.key,C=k;C!==null;){if(C.key===P){if(P=j.type,P===Pl){if(C.tag===7){r(w,C.sibling),k=a(C,j.props.children),k.return=w,w=k;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===as&&c2(P)===C.type){r(w,C.sibling),k=a(C,j.props),k.ref=Au(w,C,j),k.return=w,w=k;break e}r(w,C);break}else t(w,C);C=C.sibling}j.type===Pl?(k=To(j.props.children,w.mode,N,j.key),k.return=w,w=k):(N=Lm(j.type,j.key,j.props,null,w.mode,N),N.ref=Au(w,k,j),N.return=w,w=N)}return o(w);case Sl:e:{for(C=j.key;k!==null;){if(k.key===C)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){r(w,k.sibling),k=a(k,j.children||[]),k.return=w,w=k;break e}else{r(w,k);break}else t(w,k);k=k.sibling}k=Fx(j,w.mode,N),k.return=w,w=k}return o(w);case as:return C=j._init,_(w,k,C(j._payload),N)}if(Zu(j))return y(w,k,j,N);if(Su(j))return b(w,k,j,N);Bh(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,k!==null&&k.tag===6?(r(w,k.sibling),k=a(k,j),k.return=w,w=k):(r(w,k),k=zx(j,w.mode,N),k.return=w,w=k),o(w)):r(w,k)}return _}var mc=GA(!0),XA=GA(!1),up=Bs(null),dp=null,Ll=null,O_=null;function A_(){O_=Ll=dp=null}function T_(e){var t=up.current;lt(up),e._currentValue=t}function ab(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kl(e,t){dp=e,O_=Ll=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(O_!==e)if(e={context:e,memoizedValue:t,next:null},Ll===null){if(dp===null)throw Error(ue(308));Ll=e,dp.dependencies={lanes:0,firstContext:e}}else Ll=Ll.next=e;return t}var ho=null;function M_(e){ho===null?ho=[e]:ho.push(e)}function QA(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,M_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Oi(e,n)}function Oi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function I_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Oi(e,r)}return a=n.interleaved,a===null?(t.next=t,M_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Oi(e,r)}function Em(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,v_(e,r)}}function u2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fp(e,t,r,n){var a=e.updateQueue;is=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=a.baseState;o=0,f=d=u=null,l=i;do{var p=l.lane,g=l.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(p=t,g=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(g,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,p=typeof y=="function"?y.call(g,h,p):y,p==null)break e;h=Nt({},h,p);break e;case 2:is=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=g,u=h):f=f.next=g,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(f===null&&(u=h),a.baseState=u,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Bo|=o,e.lanes=o,e.memoizedState=h}}function d2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ue(191,a));a.call(n)}}}var hf={},$a=Bs(hf),Nd=Bs(hf),Sd=Bs(hf);function mo(e){if(e===hf)throw Error(ue(174));return e}function L_(e,t){switch(at(Sd,t),at(Nd,e),at($a,hf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zv(t,e)}lt($a),at($a,t)}function pc(){lt($a),lt(Nd),lt(Sd)}function eT(e){mo(Sd.current);var t=mo($a.current),r=zv(t,e.type);t!==r&&(at(Nd,e),at($a,r))}function D_(e){Nd.current===e&&(lt($a),lt(Nd))}var wt=Bs(0);function hp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tx=[];function R_(){for(var e=0;e<Tx.length;e++)Tx[e]._workInProgressVersionPrimary=null;Tx.length=0}var Om=Bi.ReactCurrentDispatcher,Mx=Bi.ReactCurrentBatchConfig,$o=0,_t=null,Wt=null,ar=null,mp=!1,od=!1,Pd=0,_6=0;function br(){throw Error(ue(321))}function z_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!va(e[r],t[r]))return!1;return!0}function F_(e,t,r,n,a,i){if($o=i,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Om.current=e===null||e.memoizedState===null?S6:P6,e=r(n,a),od){i=0;do{if(od=!1,Pd=0,25<=i)throw Error(ue(301));i+=1,ar=Wt=null,t.updateQueue=null,Om.current=C6,e=r(n,a)}while(od)}if(Om.current=pp,t=Wt!==null&&Wt.next!==null,$o=0,ar=Wt=_t=null,mp=!1,t)throw Error(ue(300));return e}function $_(){var e=Pd!==0;return Pd=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?_t.memoizedState=ar=e:ar=ar.next=e,ar}function Kn(){if(Wt===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=ar===null?_t.memoizedState:ar.next;if(t!==null)ar=t,Wt=e;else{if(e===null)throw Error(ue(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},ar===null?_t.memoizedState=ar=e:ar=ar.next=e}return ar}function Cd(e,t){return typeof t=="function"?t(e):t}function Ix(e){var t=Kn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=Wt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,u=null,d=i;do{var f=d.lane;if(($o&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,o=n):u=u.next=h,_t.lanes|=f,Bo|=f}d=d.next}while(d!==null&&d!==i);u===null?o=n:u.next=l,va(n,t.memoizedState)||(Gr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,_t.lanes|=i,Bo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lx(e){var t=Kn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);va(i,t.memoizedState)||(Gr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function tT(){}function rT(e,t){var r=_t,n=Kn(),a=t(),i=!va(n.memoizedState,a);if(i&&(n.memoizedState=a,Gr=!0),n=n.queue,B_(iT.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,Ed(9,aT.bind(null,r,n,a,t),void 0,null),sr===null)throw Error(ue(349));$o&30||nT(r,t,a)}return a}function nT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aT(e,t,r,n){t.value=r,t.getSnapshot=n,sT(t)&&oT(e)}function iT(e,t,r){return r(function(){sT(t)&&oT(e)})}function sT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!va(e,r)}catch{return!0}}function oT(e){var t=Oi(e,1);t!==null&&ya(t,e,1,-1)}function f2(e){var t=Ta();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:e},t.queue=e,e=e.dispatch=N6.bind(null,_t,e),[t.memoizedState,e]}function Ed(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lT(){return Kn().memoizedState}function Am(e,t,r,n){var a=Ta();_t.flags|=e,a.memoizedState=Ed(1|t,r,void 0,n===void 0?null:n)}function Fg(e,t,r,n){var a=Kn();n=n===void 0?null:n;var i=void 0;if(Wt!==null){var o=Wt.memoizedState;if(i=o.destroy,n!==null&&z_(n,o.deps)){a.memoizedState=Ed(t,r,i,n);return}}_t.flags|=e,a.memoizedState=Ed(1|t,r,i,n)}function h2(e,t){return Am(8390656,8,e,t)}function B_(e,t){return Fg(2048,8,e,t)}function cT(e,t){return Fg(4,2,e,t)}function uT(e,t){return Fg(4,4,e,t)}function dT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fT(e,t,r){return r=r!=null?r.concat([e]):null,Fg(4,4,dT.bind(null,t,e),r)}function U_(){}function hT(e,t){var r=Kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&z_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mT(e,t){var r=Kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&z_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pT(e,t,r){return $o&21?(va(r,t)||(r=bA(),_t.lanes|=r,Bo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=r)}function j6(e,t){var r=Qe;Qe=r!==0&&4>r?r:4,e(!0);var n=Mx.transition;Mx.transition={};try{e(!1),t()}finally{Qe=r,Mx.transition=n}}function gT(){return Kn().memoizedState}function k6(e,t,r){var n=Os(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yT(e))xT(t,r);else if(r=QA(e,t,r,n),r!==null){var a=Lr();ya(r,e,n,a),vT(r,t,n)}}function N6(e,t,r){var n=Os(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yT(e))xT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,va(l,o)){var u=t.interleaved;u===null?(a.next=a,M_(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}r=QA(e,t,a,n),r!==null&&(a=Lr(),ya(r,e,n,a),vT(r,t,n))}}function yT(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function xT(e,t){od=mp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,v_(e,r)}}var pp={readContext:Vn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},S6={readContext:Vn,useCallback:function(e,t){return Ta().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:h2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Am(4194308,4,dT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Am(4194308,4,e,t)},useInsertionEffect:function(e,t){return Am(4,2,e,t)},useMemo:function(e,t){var r=Ta();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ta();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=k6.bind(null,_t,e),[n.memoizedState,e]},useRef:function(e){var t=Ta();return e={current:e},t.memoizedState=e},useState:f2,useDebugValue:U_,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=f2(!1),t=e[0];return e=j6.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_t,a=Ta();if(ht){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),sr===null)throw Error(ue(349));$o&30||nT(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,h2(iT.bind(null,n,i,e),[e]),n.flags|=2048,Ed(9,aT.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ta(),t=sr.identifierPrefix;if(ht){var r=xi,n=yi;r=(n&~(1<<32-ga(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},P6={readContext:Vn,useCallback:hT,useContext:Vn,useEffect:B_,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:Ix,useRef:lT,useState:function(){return Ix(Cd)},useDebugValue:U_,useDeferredValue:function(e){var t=Kn();return pT(t,Wt.memoizedState,e)},useTransition:function(){var e=Ix(Cd)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:gT,unstable_isNewReconciler:!1},C6={readContext:Vn,useCallback:hT,useContext:Vn,useEffect:B_,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:Lx,useRef:lT,useState:function(){return Lx(Cd)},useDebugValue:U_,useDeferredValue:function(e){var t=Kn();return Wt===null?t.memoizedState=e:pT(t,Wt.memoizedState,e)},useTransition:function(){var e=Lx(Cd)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:rT,useId:gT,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){t=Nt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ib(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Nt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $g={isMounted:function(e){return(e=e._reactInternals)?rl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lr(),a=Os(e),i=ji(n,a);i.payload=t,r!=null&&(i.callback=r),t=Cs(e,i,a),t!==null&&(ya(t,e,a,n),Em(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lr(),a=Os(e),i=ji(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Cs(e,i,a),t!==null&&(ya(t,e,a,n),Em(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lr(),n=Os(e),a=ji(r,n);a.tag=2,t!=null&&(a.callback=t),t=Cs(e,a,n),t!==null&&(ya(t,e,n,r),Em(t,e,n))}};function m2(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!wd(r,n)||!wd(a,i):!0}function bT(e,t,r){var n=!1,a=Ds,i=t.contextType;return typeof i=="object"&&i!==null?i=Vn(i):(a=rn(t)?zo:Pr.current,n=t.contextTypes,i=(n=n!=null)?fc(e,a):Ds),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$g,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function p2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$g.enqueueReplaceState(t,t.state,null)}function sb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},I_(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Vn(i):(i=rn(t)?zo:Pr.current,a.context=fc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ib(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&$g.enqueueReplaceState(a,a.state,null),fp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function gc(e,t){try{var r="",n=t;do r+=r$(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Dx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ob(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var E6=typeof WeakMap=="function"?WeakMap:Map;function wT(e,t,r){r=ji(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yp||(yp=!0,yb=n),ob(e,t)},r}function _T(e,t,r){r=ji(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ob(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ob(e,t),typeof n!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function g2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new E6;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=H6.bind(null,e,t,r),t.then(e,e))}function y2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function x2(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ji(-1,1),t.tag=2,Cs(r,t,1))),r.lanes|=1),e)}var O6=Bi.ReactCurrentOwner,Gr=!1;function Tr(e,t,r,n){t.child=e===null?XA(t,null,r,n):mc(t,e.child,r,n)}function v2(e,t,r,n,a){r=r.render;var i=t.ref;return Kl(t,a),n=F_(e,t,r,n,i,a),r=$_(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ai(e,t,a)):(ht&&r&&P_(t),t.flags|=1,Tr(e,t,n,a),t.child)}function b2(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!G_(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,jT(e,t,i,n,a)):(e=Lm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:wd,r(o,n)&&e.ref===t.ref)return Ai(e,t,a)}return t.flags|=1,e=As(i,n),e.ref=t.ref,e.return=t,t.child=e}function jT(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(wd(i,n)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,Ai(e,t,a)}return lb(e,t,r,n,a)}function kT(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Rl,un),un|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(Rl,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,at(Rl,un),un|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,at(Rl,un),un|=n;return Tr(e,t,a,r),t.child}function NT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lb(e,t,r,n,a){var i=rn(r)?zo:Pr.current;return i=fc(t,i),Kl(t,a),r=F_(e,t,r,n,i,a),n=$_(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ai(e,t,a)):(ht&&n&&P_(t),t.flags|=1,Tr(e,t,r,a),t.child)}function w2(e,t,r,n,a){if(rn(r)){var i=!0;op(t)}else i=!1;if(Kl(t,a),t.stateNode===null)Tm(e,t),bT(t,r,n),sb(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Vn(d):(d=rn(r)?zo:Pr.current,d=fc(t,d));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==d)&&p2(t,o,n,d),is=!1;var p=t.memoizedState;o.state=p,fp(t,n,o,a),u=t.memoizedState,l!==n||p!==u||tn.current||is?(typeof f=="function"&&(ib(t,r,f,n),u=t.memoizedState),(l=is||m2(t,r,l,n,p,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,JA(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ra(t.type,l),o.props=d,h=t.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Vn(u):(u=rn(r)?zo:Pr.current,u=fc(t,u));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==u)&&p2(t,o,n,u),is=!1,p=t.memoizedState,o.state=p,fp(t,n,o,a);var y=t.memoizedState;l!==h||p!==y||tn.current||is?(typeof g=="function"&&(ib(t,r,g,n),y=t.memoizedState),(d=is||m2(t,r,d,n,p,y,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return cb(e,t,r,n,i,a)}function cb(e,t,r,n,a,i){NT(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&s2(t,r,!1),Ai(e,t,i);n=t.stateNode,O6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=mc(t,e.child,null,i),t.child=mc(t,null,l,i)):Tr(e,t,l,i),t.memoizedState=n.state,a&&s2(t,r,!0),t.child}function ST(e){var t=e.stateNode;t.pendingContext?i2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&i2(e,t.context,!1),L_(e,t.containerInfo)}function _2(e,t,r,n,a){return hc(),E_(a),t.flags|=256,Tr(e,t,r,n),t.child}var ub={dehydrated:null,treeContext:null,retryLane:0};function db(e){return{baseLanes:e,cachePool:null,transitions:null}}function PT(e,t,r){var n=t.pendingProps,a=wt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),at(wt,a&1),e===null)return nb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hg(o,n,0,null),e=To(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=db(r),t.memoizedState=ub,e):H_(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return A6(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=As(a,u),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=As(l,i):(i=To(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?db(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ub,n}return i=e.child,e=i.sibling,n=As(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function H_(e,t){return t=Hg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uh(e,t,r,n){return n!==null&&E_(n),mc(t,e.child,null,r),e=H_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A6(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Dx(Error(ue(422))),Uh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Hg({mode:"visible",children:n.children},a,0,null),i=To(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&mc(t,e.child,null,o),t.child.memoizedState=db(o),t.memoizedState=ub,i);if(!(t.mode&1))return Uh(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ue(419)),n=Dx(i,n,void 0),Uh(e,t,o,n)}if(l=(o&e.childLanes)!==0,Gr||l){if(n=sr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Oi(e,a),ya(n,e,a,-1))}return Y_(),n=Dx(Error(ue(421))),Uh(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=W6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mn=Ps(a.nextSibling),gn=t,ht=!0,oa=null,e!==null&&(Ln[Dn++]=yi,Ln[Dn++]=xi,Ln[Dn++]=Fo,yi=e.id,xi=e.overflow,Fo=t),t=H_(t,n.children),t.flags|=4096,t)}function j2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ab(e.return,t,r)}function Rx(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function CT(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Tr(e,t,n.children,r),n=wt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&j2(e,r,t);else if(e.tag===19)j2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(wt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&hp(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Rx(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hp(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Rx(t,!0,r,null,i);break;case"together":Rx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ai(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=As(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=As(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function T6(e,t,r){switch(t.tag){case 3:ST(t),hc();break;case 5:eT(t);break;case 1:rn(t.type)&&op(t);break;case 4:L_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;at(up,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(at(wt,wt.current&1),t.flags|=128,null):r&t.child.childLanes?PT(e,t,r):(at(wt,wt.current&1),e=Ai(e,t,r),e!==null?e.sibling:null);at(wt,wt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return CT(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),at(wt,wt.current),n)break;return null;case 22:case 23:return t.lanes=0,kT(e,t,r)}return Ai(e,t,r)}var ET,fb,OT,AT;ET=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fb=function(){};OT=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,mo($a.current);var i=null;switch(r){case"input":a=Iv(e,a),n=Iv(e,n),i=[];break;case"select":a=Nt({},a,{value:void 0}),n=Nt({},n,{value:void 0}),i=[];break;case"textarea":a=Rv(e,a),n=Rv(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ip)}Fv(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(md.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(md.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&st("scroll",e),i||l===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};AT=function(e,t,r,n){r!==n&&(t.flags|=4)};function Tu(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function M6(e,t,r){var n=t.pendingProps;switch(C_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(t),null;case 1:return rn(t.type)&&sp(),wr(t),null;case 3:return n=t.stateNode,pc(),lt(tn),lt(Pr),R_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($h(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oa!==null&&(bb(oa),oa=null))),fb(e,t),wr(t),null;case 5:D_(t);var a=mo(Sd.current);if(r=t.type,e!==null&&t.stateNode!=null)OT(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return wr(t),null}if(e=mo($a.current),$h(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ra]=t,n[kd]=i,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(a=0;a<Gu.length;a++)st(Gu[a],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":TN(n,i),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},st("invalid",n);break;case"textarea":IN(n,i),st("invalid",n)}Fv(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fh(n.textContent,l,e),a=["children",""+l]):md.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":Ah(n),MN(n,i,!0);break;case"textarea":Ah(n),LN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ip)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iA(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ra]=t,e[kd]=n,ET(e,t,!1,!1),t.stateNode=e;e:{switch(o=$v(r,n),r){case"dialog":st("cancel",e),st("close",e),a=n;break;case"iframe":case"object":case"embed":st("load",e),a=n;break;case"video":case"audio":for(a=0;a<Gu.length;a++)st(Gu[a],e);a=n;break;case"source":st("error",e),a=n;break;case"img":case"image":case"link":st("error",e),st("load",e),a=n;break;case"details":st("toggle",e),a=n;break;case"input":TN(e,n),a=Iv(e,n),st("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Nt({},n,{value:void 0}),st("invalid",e);break;case"textarea":IN(e,n),a=Rv(e,n),st("invalid",e);break;default:a=n}Fv(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?lA(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sA(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&pd(e,u):typeof u=="number"&&pd(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(md.hasOwnProperty(i)?u!=null&&i==="onScroll"&&st("scroll",e):u!=null&&h_(e,i,u,o))}switch(r){case"input":Ah(e),MN(e,n,!1);break;case"textarea":Ah(e),LN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ls(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ul(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ul(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ip)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wr(t),null;case 6:if(e&&t.stateNode!=null)AT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=mo(Sd.current),mo($a.current),$h(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ra]=t,(i=n.nodeValue!==r)&&(e=gn,e!==null))switch(e.tag){case 3:Fh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ra]=t,t.stateNode=n}return wr(t),null;case 13:if(lt(wt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&mn!==null&&t.mode&1&&!(t.flags&128))YA(),hc(),t.flags|=98560,i=!1;else if(i=$h(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[Ra]=t}else hc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wr(t),i=!1}else oa!==null&&(bb(oa),oa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wt.current&1?Kt===0&&(Kt=3):Y_())),t.updateQueue!==null&&(t.flags|=4),wr(t),null);case 4:return pc(),fb(e,t),e===null&&_d(t.stateNode.containerInfo),wr(t),null;case 10:return T_(t.type._context),wr(t),null;case 17:return rn(t.type)&&sp(),wr(t),null;case 19:if(lt(wt),i=t.memoizedState,i===null)return wr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Tu(i,!1);else{if(Kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hp(e),o!==null){for(t.flags|=128,Tu(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(wt,wt.current&1|2),t.child}e=e.sibling}i.tail!==null&&It()>yc&&(t.flags|=128,n=!0,Tu(i,!1),t.lanes=4194304)}else{if(!n)if(e=hp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Tu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ht)return wr(t),null}else 2*It()-i.renderingStartTime>yc&&r!==1073741824&&(t.flags|=128,n=!0,Tu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=It(),t.sibling=null,r=wt.current,at(wt,n?r&1|2:r&1),t):(wr(t),null);case 22:case 23:return Z_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?un&1073741824&&(wr(t),t.subtreeFlags&6&&(t.flags|=8192)):wr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function I6(e,t){switch(C_(t),t.tag){case 1:return rn(t.type)&&sp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pc(),lt(tn),lt(Pr),R_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return D_(t),null;case 13:if(lt(wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));hc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(wt),null;case 4:return pc(),null;case 10:return T_(t.type._context),null;case 22:case 23:return Z_(),null;case 24:return null;default:return null}}var Hh=!1,jr=!1,L6=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Dl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(e,t,n)}else r.current=null}function hb(e,t,r){try{r()}catch(n){Et(e,t,n)}}var k2=!1;function D6(e,t){if(Gv=rp,e=DA(),S_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,d=0,f=0,h=e,p=null;t:for(;;){for(var g;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===e)break t;if(p===r&&++d===a&&(l=o),p===i&&++f===n&&(u=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xv={focusedElem:e,selectionRange:r},rp=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,_=y.memoizedState,w=t.stateNode,k=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:ra(t.type,b),_);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(N){Et(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return y=k2,k2=!1,y}function ld(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&hb(t,r,i)}a=a.next}while(a!==n)}}function Bg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function TT(e){var t=e.alternate;t!==null&&(e.alternate=null,TT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ra],delete t[kd],delete t[eb],delete t[x6],delete t[v6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MT(e){return e.tag===5||e.tag===3||e.tag===4}function N2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ip));else if(n!==4&&(e=e.child,e!==null))for(pb(e,t,r),e=e.sibling;e!==null;)pb(e,t,r),e=e.sibling}function gb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gb(e,t,r),e=e.sibling;e!==null;)gb(e,t,r),e=e.sibling}var pr=null,ia=!1;function Qi(e,t,r){for(r=r.child;r!==null;)IT(e,t,r),r=r.sibling}function IT(e,t,r){if(Fa&&typeof Fa.onCommitFiberUnmount=="function")try{Fa.onCommitFiberUnmount(Mg,r)}catch{}switch(r.tag){case 5:jr||Dl(r,t);case 6:var n=pr,a=ia;pr=null,Qi(e,t,r),pr=n,ia=a,pr!==null&&(ia?(e=pr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pr.removeChild(r.stateNode));break;case 18:pr!==null&&(ia?(e=pr,r=r.stateNode,e.nodeType===8?Ox(e.parentNode,r):e.nodeType===1&&Ox(e,r),vd(e)):Ox(pr,r.stateNode));break;case 4:n=pr,a=ia,pr=r.stateNode.containerInfo,ia=!0,Qi(e,t,r),pr=n,ia=a;break;case 0:case 11:case 14:case 15:if(!jr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hb(r,t,o),a=a.next}while(a!==n)}Qi(e,t,r);break;case 1:if(!jr&&(Dl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Et(r,t,l)}Qi(e,t,r);break;case 21:Qi(e,t,r);break;case 22:r.mode&1?(jr=(n=jr)||r.memoizedState!==null,Qi(e,t,r),jr=n):Qi(e,t,r);break;default:Qi(e,t,r)}}function S2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new L6),t.forEach(function(n){var a=V6.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ta(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:pr=l.stateNode,ia=!1;break e;case 3:pr=l.stateNode.containerInfo,ia=!0;break e;case 4:pr=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(pr===null)throw Error(ue(160));IT(i,o,a),pr=null,ia=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(d){Et(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LT(t,e),t=t.sibling}function LT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ta(t,e),Oa(e),n&4){try{ld(3,e,e.return),Bg(3,e)}catch(b){Et(e,e.return,b)}try{ld(5,e,e.return)}catch(b){Et(e,e.return,b)}}break;case 1:ta(t,e),Oa(e),n&512&&r!==null&&Dl(r,r.return);break;case 5:if(ta(t,e),Oa(e),n&512&&r!==null&&Dl(r,r.return),e.flags&32){var a=e.stateNode;try{pd(a,"")}catch(b){Et(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&nA(a,i),$v(l,o);var d=$v(l,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?lA(a,h):f==="dangerouslySetInnerHTML"?sA(a,h):f==="children"?pd(a,h):h_(a,f,h,d)}switch(l){case"input":Lv(a,i);break;case"textarea":aA(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ul(a,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ul(a,!!i.multiple,i.defaultValue,!0):Ul(a,!!i.multiple,i.multiple?[]:"",!1))}a[kd]=i}catch(b){Et(e,e.return,b)}}break;case 6:if(ta(t,e),Oa(e),n&4){if(e.stateNode===null)throw Error(ue(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Et(e,e.return,b)}}break;case 3:if(ta(t,e),Oa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vd(t.containerInfo)}catch(b){Et(e,e.return,b)}break;case 4:ta(t,e),Oa(e);break;case 13:ta(t,e),Oa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(K_=It())),n&4&&S2(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(jr=(d=jr)||f,ta(t,e),jr=d):ta(t,e),Oa(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(xe=e,f=e.child;f!==null;){for(h=xe=f;xe!==null;){switch(p=xe,g=p.child,p.tag){case 0:case 11:case 14:case 15:ld(4,p,p.return);break;case 1:Dl(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Et(n,r,b)}}break;case 5:Dl(p,p.return);break;case 22:if(p.memoizedState!==null){C2(h);continue}}g!==null?(g.return=p,xe=g):C2(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=oA("display",o))}catch(b){Et(e,e.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){Et(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ta(t,e),Oa(e),n&4&&S2(e);break;case 21:break;default:ta(t,e),Oa(e)}}function Oa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(MT(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(pd(a,""),n.flags&=-33);var i=N2(e);gb(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=N2(e);pb(e,l,o);break;default:throw Error(ue(161))}}catch(u){Et(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R6(e,t,r){xe=e,DT(e)}function DT(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Hh;if(!o){var l=a.alternate,u=l!==null&&l.memoizedState!==null||jr;l=Hh;var d=jr;if(Hh=o,(jr=u)&&!d)for(xe=a;xe!==null;)o=xe,u=o.child,o.tag===22&&o.memoizedState!==null?E2(a):u!==null?(u.return=o,xe=u):E2(a);for(;i!==null;)xe=i,DT(i),i=i.sibling;xe=a,Hh=l,jr=d}P2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,xe=i):P2(e)}}function P2(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jr||Bg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&d2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}d2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&vd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}jr||t.flags&512&&mb(t)}catch(p){Et(t,t.return,p)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function C2(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function E2(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bg(4,t)}catch(u){Et(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){Et(t,a,u)}}var i=t.return;try{mb(t)}catch(u){Et(t,i,u)}break;case 5:var o=t.return;try{mb(t)}catch(u){Et(t,o,u)}}}catch(u){Et(t,t.return,u)}if(t===e){xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,xe=l;break}xe=t.return}}var z6=Math.ceil,gp=Bi.ReactCurrentDispatcher,W_=Bi.ReactCurrentOwner,Hn=Bi.ReactCurrentBatchConfig,He=0,sr=null,Ft=null,xr=0,un=0,Rl=Bs(0),Kt=0,Od=null,Bo=0,Ug=0,V_=0,cd=null,Yr=null,K_=0,yc=1/0,ui=null,yp=!1,yb=null,Es=null,Wh=!1,ws=null,xp=0,ud=0,xb=null,Mm=-1,Im=0;function Lr(){return He&6?It():Mm!==-1?Mm:Mm=It()}function Os(e){return e.mode&1?He&2&&xr!==0?xr&-xr:w6.transition!==null?(Im===0&&(Im=bA()),Im):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:PA(e.type)),e):1}function ya(e,t,r,n){if(50<ud)throw ud=0,xb=null,Error(ue(185));uf(e,r,n),(!(He&2)||e!==sr)&&(e===sr&&(!(He&2)&&(Ug|=r),Kt===4&&cs(e,xr)),nn(e,n),r===1&&He===0&&!(t.mode&1)&&(yc=It()+500,zg&&Us()))}function nn(e,t){var r=e.callbackNode;w$(e,t);var n=tp(e,e===sr?xr:0);if(n===0)r!==null&&zN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&zN(r),t===1)e.tag===0?b6(O2.bind(null,e)):KA(O2.bind(null,e)),g6(function(){!(He&6)&&Us()}),r=null;else{switch(wA(n)){case 1:r=x_;break;case 4:r=xA;break;case 16:r=ep;break;case 536870912:r=vA;break;default:r=ep}r=WT(r,RT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function RT(e,t){if(Mm=-1,Im=0,He&6)throw Error(ue(327));var r=e.callbackNode;if(ql()&&e.callbackNode!==r)return null;var n=tp(e,e===sr?xr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vp(e,n);else{t=n;var a=He;He|=2;var i=FT();(sr!==e||xr!==t)&&(ui=null,yc=It()+500,Ao(e,t));do try{B6();break}catch(l){zT(e,l)}while(!0);A_(),gp.current=i,He=a,Ft!==null?t=0:(sr=null,xr=0,t=Kt)}if(t!==0){if(t===2&&(a=Vv(e),a!==0&&(n=a,t=vb(e,a))),t===1)throw r=Od,Ao(e,0),cs(e,n),nn(e,It()),r;if(t===6)cs(e,n);else{if(a=e.current.alternate,!(n&30)&&!F6(a)&&(t=vp(e,n),t===2&&(i=Vv(e),i!==0&&(n=i,t=vb(e,i))),t===1))throw r=Od,Ao(e,0),cs(e,n),nn(e,It()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:io(e,Yr,ui);break;case 3:if(cs(e,n),(n&130023424)===n&&(t=K_+500-It(),10<t)){if(tp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Lr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Jv(io.bind(null,e,Yr,ui),t);break}io(e,Yr,ui);break;case 4:if(cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ga(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*z6(n/1960))-n,10<n){e.timeoutHandle=Jv(io.bind(null,e,Yr,ui),n);break}io(e,Yr,ui);break;case 5:io(e,Yr,ui);break;default:throw Error(ue(329))}}}return nn(e,It()),e.callbackNode===r?RT.bind(null,e):null}function vb(e,t){var r=cd;return e.current.memoizedState.isDehydrated&&(Ao(e,t).flags|=256),e=vp(e,t),e!==2&&(t=Yr,Yr=r,t!==null&&bb(t)),e}function bb(e){Yr===null?Yr=e:Yr.push.apply(Yr,e)}function F6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!va(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~V_,t&=~Ug,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ga(t),n=1<<r;e[r]=-1,t&=~n}}function O2(e){if(He&6)throw Error(ue(327));ql();var t=tp(e,0);if(!(t&1))return nn(e,It()),null;var r=vp(e,t);if(e.tag!==0&&r===2){var n=Vv(e);n!==0&&(t=n,r=vb(e,n))}if(r===1)throw r=Od,Ao(e,0),cs(e,t),nn(e,It()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,io(e,Yr,ui),nn(e,It()),null}function q_(e,t){var r=He;He|=1;try{return e(t)}finally{He=r,He===0&&(yc=It()+500,zg&&Us())}}function Uo(e){ws!==null&&ws.tag===0&&!(He&6)&&ql();var t=He;He|=1;var r=Hn.transition,n=Qe;try{if(Hn.transition=null,Qe=1,e)return e()}finally{Qe=n,Hn.transition=r,He=t,!(He&6)&&Us()}}function Z_(){un=Rl.current,lt(Rl)}function Ao(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,p6(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(C_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sp();break;case 3:pc(),lt(tn),lt(Pr),R_();break;case 5:D_(n);break;case 4:pc();break;case 13:lt(wt);break;case 19:lt(wt);break;case 10:T_(n.type._context);break;case 22:case 23:Z_()}r=r.return}if(sr=e,Ft=e=As(e.current,null),xr=un=t,Kt=0,Od=null,V_=Ug=Bo=0,Yr=cd=null,ho!==null){for(t=0;t<ho.length;t++)if(r=ho[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ho=null}return e}function zT(e,t){do{var r=Ft;try{if(A_(),Om.current=pp,mp){for(var n=_t.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}mp=!1}if($o=0,ar=Wt=_t=null,od=!1,Pd=0,W_.current=null,r===null||r.return===null){Kt=1,Od=t,Ft=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=xr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=y2(o);if(g!==null){g.flags&=-257,x2(g,o,l,i,t),g.mode&1&&g2(i,d,t),t=g,u=d;var y=t.updateQueue;if(y===null){var b=new Set;b.add(u),t.updateQueue=b}else y.add(u);break e}else{if(!(t&1)){g2(i,d,t),Y_();break e}u=Error(ue(426))}}else if(ht&&l.mode&1){var _=y2(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),x2(_,o,l,i,t),E_(gc(u,l));break e}}i=u=gc(u,l),Kt!==4&&(Kt=2),cd===null?cd=[i]:cd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=wT(i,u,t);u2(i,w);break e;case 1:l=u;var k=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof k.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Es===null||!Es.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=_T(i,l,t);u2(i,N);break e}}i=i.return}while(i!==null)}BT(r)}catch(P){t=P,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function FT(){var e=gp.current;return gp.current=pp,e===null?pp:e}function Y_(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),sr===null||!(Bo&268435455)&&!(Ug&268435455)||cs(sr,xr)}function vp(e,t){var r=He;He|=2;var n=FT();(sr!==e||xr!==t)&&(ui=null,Ao(e,t));do try{$6();break}catch(a){zT(e,a)}while(!0);if(A_(),He=r,gp.current=n,Ft!==null)throw Error(ue(261));return sr=null,xr=0,Kt}function $6(){for(;Ft!==null;)$T(Ft)}function B6(){for(;Ft!==null&&!f$();)$T(Ft)}function $T(e){var t=HT(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?BT(e):Ft=t,W_.current=null}function BT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=I6(r,t),r!==null){r.flags&=32767,Ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kt=6,Ft=null;return}}else if(r=M6(r,t,un),r!==null){Ft=r;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Kt===0&&(Kt=5)}function io(e,t,r){var n=Qe,a=Hn.transition;try{Hn.transition=null,Qe=1,U6(e,t,r,n)}finally{Hn.transition=a,Qe=n}return null}function U6(e,t,r,n){do ql();while(ws!==null);if(He&6)throw Error(ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(_$(e,i),e===sr&&(Ft=sr=null,xr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wh||(Wh=!0,WT(ep,function(){return ql(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Hn.transition,Hn.transition=null;var o=Qe;Qe=1;var l=He;He|=4,W_.current=null,D6(e,r),LT(r,e),l6(Xv),rp=!!Gv,Xv=Gv=null,e.current=r,R6(r),h$(),He=l,Qe=o,Hn.transition=i}else e.current=r;if(Wh&&(Wh=!1,ws=e,xp=a),i=e.pendingLanes,i===0&&(Es=null),g$(r.stateNode),nn(e,It()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(yp)throw yp=!1,e=yb,yb=null,e;return xp&1&&e.tag!==0&&ql(),i=e.pendingLanes,i&1?e===xb?ud++:(ud=0,xb=e):ud=0,Us(),null}function ql(){if(ws!==null){var e=wA(xp),t=Hn.transition,r=Qe;try{if(Hn.transition=null,Qe=16>e?16:e,ws===null)var n=!1;else{if(e=ws,ws=null,xp=0,He&6)throw Error(ue(331));var a=He;for(He|=4,xe=e.current;xe!==null;){var i=xe,o=i.child;if(xe.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(xe=d;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:ld(8,f,i)}var h=f.child;if(h!==null)h.return=f,xe=h;else for(;xe!==null;){f=xe;var p=f.sibling,g=f.return;if(TT(f),f===d){xe=null;break}if(p!==null){p.return=g,xe=p;break}xe=g}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var _=b.sibling;b.sibling=null,b=_}while(b!==null)}}xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xe=o;else e:for(;xe!==null;){if(i=xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ld(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,xe=w;break e}xe=i.return}}var k=e.current;for(xe=k;xe!==null;){o=xe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,xe=j;else e:for(o=k;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bg(9,l)}}catch(P){Et(l,l.return,P)}if(l===o){xe=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,xe=N;break e}xe=l.return}}if(He=a,Us(),Fa&&typeof Fa.onPostCommitFiberRoot=="function")try{Fa.onPostCommitFiberRoot(Mg,e)}catch{}n=!0}return n}finally{Qe=r,Hn.transition=t}}return!1}function A2(e,t,r){t=gc(r,t),t=wT(e,t,1),e=Cs(e,t,1),t=Lr(),e!==null&&(uf(e,1,t),nn(e,t))}function Et(e,t,r){if(e.tag===3)A2(e,e,r);else for(;t!==null;){if(t.tag===3){A2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Es===null||!Es.has(n))){e=gc(r,e),e=_T(t,e,1),t=Cs(t,e,1),e=Lr(),t!==null&&(uf(t,1,e),nn(t,e));break}}t=t.return}}function H6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lr(),e.pingedLanes|=e.suspendedLanes&r,sr===e&&(xr&r)===r&&(Kt===4||Kt===3&&(xr&130023424)===xr&&500>It()-K_?Ao(e,0):V_|=r),nn(e,t)}function UT(e,t){t===0&&(e.mode&1?(t=Ih,Ih<<=1,!(Ih&130023424)&&(Ih=4194304)):t=1);var r=Lr();e=Oi(e,t),e!==null&&(uf(e,t,r),nn(e,r))}function W6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),UT(e,r)}function V6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),UT(e,r)}var HT;HT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gr=!1,T6(e,t,r);Gr=!!(e.flags&131072)}else Gr=!1,ht&&t.flags&1048576&&qA(t,cp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tm(e,t),e=t.pendingProps;var a=fc(t,Pr.current);Kl(t,r),a=F_(null,t,n,e,a,r);var i=$_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(n)?(i=!0,op(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,I_(t),a.updater=$g,t.stateNode=a,a._reactInternals=t,sb(t,n,e,r),t=cb(null,t,n,!0,i,r)):(t.tag=0,ht&&i&&P_(t),Tr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=q6(n),e=ra(n,e),a){case 0:t=lb(null,t,n,e,r);break e;case 1:t=w2(null,t,n,e,r);break e;case 11:t=v2(null,t,n,e,r);break e;case 14:t=b2(null,t,n,ra(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),lb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),w2(e,t,n,a,r);case 3:e:{if(ST(t),e===null)throw Error(ue(387));n=t.pendingProps,i=t.memoizedState,a=i.element,JA(e,t),fp(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=gc(Error(ue(423)),t),t=_2(e,t,n,r,a);break e}else if(n!==a){a=gc(Error(ue(424)),t),t=_2(e,t,n,r,a);break e}else for(mn=Ps(t.stateNode.containerInfo.firstChild),gn=t,ht=!0,oa=null,r=XA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hc(),n===a){t=Ai(e,t,r);break e}Tr(e,t,n,r)}t=t.child}return t;case 5:return eT(t),e===null&&nb(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Qv(n,a)?o=null:i!==null&&Qv(n,i)&&(t.flags|=32),NT(e,t),Tr(e,t,o,r),t.child;case 6:return e===null&&nb(t),null;case 13:return PT(e,t,r);case 4:return L_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mc(t,null,n,r):Tr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),v2(e,t,n,a,r);case 7:return Tr(e,t,t.pendingProps,r),t.child;case 8:return Tr(e,t,t.pendingProps.children,r),t.child;case 12:return Tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,at(up,n._currentValue),n._currentValue=o,i!==null)if(va(i.value,o)){if(i.children===a.children&&!tn.current){t=Ai(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=ji(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ab(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ue(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ab(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Kl(t,r),a=Vn(a),n=n(a),t.flags|=1,Tr(e,t,n,r),t.child;case 14:return n=t.type,a=ra(n,t.pendingProps),a=ra(n.type,a),b2(e,t,n,a,r);case 15:return jT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ra(n,a),Tm(e,t),t.tag=1,rn(n)?(e=!0,op(t)):e=!1,Kl(t,r),bT(t,n,a),sb(t,n,a,r),cb(null,t,n,!0,e,r);case 19:return CT(e,t,r);case 22:return kT(e,t,r)}throw Error(ue(156,t.tag))};function WT(e,t){return yA(e,t)}function K6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,r,n){return new K6(e,t,r,n)}function G_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q6(e){if(typeof e=="function")return G_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===p_)return 11;if(e===g_)return 14}return 2}function As(e,t){var r=e.alternate;return r===null?(r=Bn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lm(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")G_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pl:return To(r.children,a,i,t);case m_:o=8,a|=8;break;case Ov:return e=Bn(12,r,t,a|2),e.elementType=Ov,e.lanes=i,e;case Av:return e=Bn(13,r,t,a),e.elementType=Av,e.lanes=i,e;case Tv:return e=Bn(19,r,t,a),e.elementType=Tv,e.lanes=i,e;case eA:return Hg(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QO:o=10;break e;case JO:o=9;break e;case p_:o=11;break e;case g_:o=14;break e;case as:o=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Bn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function To(e,t,r,n){return e=Bn(7,e,n,t),e.lanes=r,e}function Hg(e,t,r,n){return e=Bn(22,e,n,t),e.elementType=eA,e.lanes=r,e.stateNode={isHidden:!1},e}function zx(e,t,r){return e=Bn(6,e,null,t),e.lanes=r,e}function Fx(e,t,r){return t=Bn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Z6(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vx(0),this.expirationTimes=vx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vx(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function X_(e,t,r,n,a,i,o,l,u){return e=new Z6(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I_(i),e}function Y6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function VT(e){if(!e)return Ds;e=e._reactInternals;e:{if(rl(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(rn(r))return VA(e,r,t)}return t}function KT(e,t,r,n,a,i,o,l,u){return e=X_(r,n,!0,e,a,i,o,l,u),e.context=VT(null),r=e.current,n=Lr(),a=Os(r),i=ji(n,a),i.callback=t??null,Cs(r,i,a),e.current.lanes=a,uf(e,a,n),nn(e,n),e}function Wg(e,t,r,n){var a=t.current,i=Lr(),o=Os(a);return r=VT(r),t.context===null?t.context=r:t.pendingContext=r,t=ji(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cs(a,t,o),e!==null&&(ya(e,a,o,i),Em(e,a,o)),o}function bp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function T2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Q_(e,t){T2(e,t),(e=e.alternate)&&T2(e,t)}function G6(){return null}var qT=typeof reportError=="function"?reportError:function(e){console.error(e)};function J_(e){this._internalRoot=e}Vg.prototype.render=J_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Wg(e,t,null,null)};Vg.prototype.unmount=J_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uo(function(){Wg(null,e,null,null)}),t[Ei]=null}};function Vg(e){this._internalRoot=e}Vg.prototype.unstable_scheduleHydration=function(e){if(e){var t=kA();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ls.length&&t!==0&&t<ls[r].priority;r++);ls.splice(r,0,e),r===0&&SA(e)}};function e1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M2(){}function X6(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=bp(o);i.call(d)}}var o=KT(t,n,e,0,null,!1,!1,"",M2);return e._reactRootContainer=o,e[Ei]=o.current,_d(e.nodeType===8?e.parentNode:e),Uo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=bp(u);l.call(d)}}var u=X_(e,0,!1,null,null,!1,!1,"",M2);return e._reactRootContainer=u,e[Ei]=u.current,_d(e.nodeType===8?e.parentNode:e),Uo(function(){Wg(t,u,r,n)}),u}function qg(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var u=bp(o);l.call(u)}}Wg(t,o,e,a)}else o=X6(r,t,e,a,n);return bp(o)}_A=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yu(t.pendingLanes);r!==0&&(v_(t,r|1),nn(t,It()),!(He&6)&&(yc=It()+500,Us()))}break;case 13:Uo(function(){var n=Oi(e,1);if(n!==null){var a=Lr();ya(n,e,1,a)}}),Q_(e,1)}};b_=function(e){if(e.tag===13){var t=Oi(e,134217728);if(t!==null){var r=Lr();ya(t,e,134217728,r)}Q_(e,134217728)}};jA=function(e){if(e.tag===13){var t=Os(e),r=Oi(e,t);if(r!==null){var n=Lr();ya(r,e,t,n)}Q_(e,t)}};kA=function(){return Qe};NA=function(e,t){var r=Qe;try{return Qe=e,t()}finally{Qe=r}};Uv=function(e,t,r){switch(t){case"input":if(Lv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Rg(n);if(!a)throw Error(ue(90));rA(n),Lv(n,a)}}}break;case"textarea":aA(e,r);break;case"select":t=r.value,t!=null&&Ul(e,!!r.multiple,t,!1)}};dA=q_;fA=Uo;var Q6={usingClientEntryPoint:!1,Events:[ff,Al,Rg,cA,uA,q_]},Mu={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J6={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pA(e),e===null?null:e.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||G6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Mg=Vh.inject(J6),Fa=Vh}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q6;jn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e1(t))throw Error(ue(200));return Y6(e,t,null,r)};jn.createRoot=function(e,t){if(!e1(e))throw Error(ue(299));var r=!1,n="",a=qT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=X_(e,1,!1,null,null,r,!1,n,a),e[Ei]=t.current,_d(e.nodeType===8?e.parentNode:e),new J_(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=pA(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return Uo(e)};jn.hydrate=function(e,t,r){if(!Kg(t))throw Error(ue(200));return qg(null,e,t,!0,r)};jn.hydrateRoot=function(e,t,r){if(!e1(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=qT;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=KT(t,null,e,1,r??null,a,!1,i,o),e[Ei]=t.current,_d(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Vg(t)};jn.render=function(e,t,r){if(!Kg(t))throw Error(ue(200));return qg(null,e,t,!1,r)};jn.unmountComponentAtNode=function(e){if(!Kg(e))throw Error(ue(40));return e._reactRootContainer?(Uo(function(){qg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ei]=null})}),!0):!1};jn.unstable_batchedUpdates=q_;jn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kg(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return qg(e,t,r,!1,n)};jn.version="18.3.1-next-f1338f8080-20240426";function ZT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZT)}catch(e){console.error(e)}}ZT(),ZO.exports=jn;var Hc=ZO.exports,I2=Hc;Cv.createRoot=I2.createRoot,Cv.hydrateRoot=I2.hydrateRoot;var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},e8={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},fs,s_,PO,t8=(PO=class{constructor(){Ce(this,fs,e8);Ce(this,s_,!1)}setTimeoutProvider(e){ye(this,fs,e)}setTimeout(e,t){return Y(this,fs).setTimeout(e,t)}clearTimeout(e){Y(this,fs).clearTimeout(e)}setInterval(e,t){return Y(this,fs).setInterval(e,t)}clearInterval(e){Y(this,fs).clearInterval(e)}},fs=new WeakMap,s_=new WeakMap,PO),po=new t8;function r8(e){setTimeout(e,0)}var Ho=typeof window>"u"||"Deno"in globalThis;function Zr(){}function n8(e,t){return typeof e=="function"?e(t):e}function wb(e){return typeof e=="number"&&e>=0&&e!==1/0}function YT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ts(e,t){return typeof e=="function"?e(t):e}function In(e,t){return typeof e=="function"?e(t):e}function L2(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==t1(o,t.options))return!1}else if(!Td(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function D2(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ad(t.options.mutationKey)!==Ad(i))return!1}else if(!Td(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function t1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ad)(e)}function Ad(e){return JSON.stringify(e,(t,r)=>jb(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Td(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Td(e[r],t[r])):!1}var a8=Object.prototype.hasOwnProperty;function GT(e,t){if(e===t)return e;const r=R2(e)&&R2(t);if(!r&&!(jb(e)&&jb(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let u=0;for(let d=0;d<o;d++){const f=r?d:i[d],h=e[f],p=t[f];if(h===p){l[f]=h,(r?d<a:a8.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){l[f]=p;continue}const g=GT(h,p);l[f]=g,g===h&&u++}return a===o&&u===a?e:l}function _b(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function R2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jb(e){if(!z2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!z2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function z2(e){return Object.prototype.toString.call(e)==="[object Object]"}function i8(e){return new Promise(t=>{po.setTimeout(t,e)})}function kb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?GT(e,t):t}function s8(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function o8(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var r1=Symbol();function XT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===r1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function l8(e,t){return typeof e=="function"?e(...t):!!e}var _o,hs,Jl,CO,c8=(CO=class extends mf{constructor(){super();Ce(this,_o);Ce(this,hs);Ce(this,Jl);ye(this,Jl,t=>{if(!Ho&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,hs)||this.setEventListener(Y(this,Jl))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,hs))==null||t.call(this),ye(this,hs,void 0))}setEventListener(t){var r;ye(this,Jl,t),(r=Y(this,hs))==null||r.call(this),ye(this,hs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Y(this,_o)!==t&&(ye(this,_o,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Y(this,_o)=="boolean"?Y(this,_o):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_o=new WeakMap,hs=new WeakMap,Jl=new WeakMap,CO),n1=new c8;function Nb(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var u8=r8;function d8(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=u8;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var gr=d8(),ec,ms,tc,EO,f8=(EO=class extends mf{constructor(){super();Ce(this,ec,!0);Ce(this,ms);Ce(this,tc);ye(this,tc,t=>{if(!Ho&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,ms)||this.setEventListener(Y(this,tc))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,ms))==null||t.call(this),ye(this,ms,void 0))}setEventListener(t){var r;ye(this,tc,t),(r=Y(this,ms))==null||r.call(this),ye(this,ms,t(this.setOnline.bind(this)))}setOnline(t){Y(this,ec)!==t&&(ye(this,ec,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Y(this,ec)}},ec=new WeakMap,ms=new WeakMap,tc=new WeakMap,EO),wp=new f8;function h8(e){return Math.min(1e3*2**e,3e4)}function QT(e){return(e??"online")==="online"?wp.isOnline():!0}var Sb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function JT(e){let t=!1,r=0,n;const a=Nb(),i=()=>a.status!=="pending",o=b=>{var _;if(!i()){const w=new Sb(b);p(w),(_=e.onCancel)==null||_.call(e,w)}},l=()=>{t=!0},u=()=>{t=!1},d=()=>n1.isFocused()&&(e.networkMode==="always"||wp.isOnline())&&e.canRun(),f=()=>QT(e.networkMode)&&e.canRun(),h=b=>{i()||(n==null||n(),a.resolve(b))},p=b=>{i()||(n==null||n(),a.reject(b))},g=()=>new Promise(b=>{var _;n=w=>{(i()||d())&&b(w)},(_=e.onPause)==null||_.call(e)}).then(()=>{var b;n=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const _=r===0?e.initialPromise:void 0;try{b=_??e.fn()}catch(w){b=Promise.reject(w)}Promise.resolve(b).then(h).catch(w=>{var C;if(i())return;const k=e.retry??(Ho?0:3),j=e.retryDelay??h8,N=typeof j=="function"?j(r,w):j,P=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,w);if(t||!P){p(w);return}r++,(C=e.onFail)==null||C.call(e,r,w),i8(N).then(()=>d()?void 0:g()).then(()=>{t?p(w):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?y():g().then(y),a)}}var jo,OO,eM=(OO=class{constructor(){Ce(this,jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wb(this.gcTime)&&ye(this,jo,po.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ho?1/0:5*60*1e3))}clearGcTimeout(){Y(this,jo)&&(po.clearTimeout(Y(this,jo)),ye(this,jo,void 0))}},jo=new WeakMap,OO),ko,rc,Mn,No,rr,nf,So,na,ci,AO,m8=(AO=class extends eM{constructor(t){super();Ce(this,na);Ce(this,ko);Ce(this,rc);Ce(this,Mn);Ce(this,No);Ce(this,rr);Ce(this,nf);Ce(this,So);ye(this,So,!1),ye(this,nf,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,No,t.client),ye(this,Mn,Y(this,No).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,ko,$2(this.options)),this.state=t.state??Y(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,rr))==null?void 0:t.promise}setOptions(t){if(this.options={...Y(this,nf),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$2(this.options);r.data!==void 0&&(this.setState(F2(r.data,r.dataUpdatedAt)),ye(this,ko,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Mn).remove(this)}setData(t,r){const n=kb(this.state.data,t,this.options);return ze(this,na,ci).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ze(this,na,ci).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Y(this,rr))==null?void 0:n.promise;return(a=Y(this,rr))==null||a.cancel(t),r?r.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,ko))}isActive(){return this.observers.some(t=>In(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ts(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!YT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,rr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,rr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,Mn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,rr)&&(Y(this,So)?Y(this,rr).cancel({revert:!0}):Y(this,rr).cancelRetry()),this.scheduleGc()),Y(this,Mn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,na,ci).call(this,{type:"invalidate"})}async fetch(t,r){var u,d,f,h,p,g,y,b,_,w,k,j;if(this.state.fetchStatus!=="idle"&&((u=Y(this,rr))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,rr))return Y(this,rr).continueRetry(),Y(this,rr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(P=>P.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(ye(this,So,!0),n.signal)})},i=()=>{const N=XT(this.options,r),C=(()=>{const A={client:Y(this,No),queryKey:this.queryKey,meta:this.meta};return a(A),A})();return ye(this,So,!1),this.options.persister?this.options.persister(N,C,this):N(C)},l=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,No),state:this.state,fetchFn:i};return a(N),N})();(d=this.options.behavior)==null||d.onFetch(l,this),ye(this,rc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&ze(this,na,ci).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ye(this,rr,JT({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof Sb&&N.revert&&this.setState({...Y(this,rc),fetchStatus:"idle"}),n.abort()},onFail:(N,P)=>{ze(this,na,ci).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{ze(this,na,ci).call(this,{type:"pause"})},onContinue:()=>{ze(this,na,ci).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await Y(this,rr).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(g=(p=Y(this,Mn).config).onSuccess)==null||g.call(p,N,this),(b=(y=Y(this,Mn).config).onSettled)==null||b.call(y,N,this.state.error,this),N}catch(N){if(N instanceof Sb){if(N.silent)return Y(this,rr).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ze(this,na,ci).call(this,{type:"error",error:N}),(w=(_=Y(this,Mn).config).onError)==null||w.call(_,N,this),(j=(k=Y(this,Mn).config).onSettled)==null||j.call(k,this.state.data,N,this),N}finally{this.scheduleGc()}}},ko=new WeakMap,rc=new WeakMap,Mn=new WeakMap,No=new WeakMap,rr=new WeakMap,nf=new WeakMap,So=new WeakMap,na=new WeakSet,ci=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tM(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...F2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ye(this,rc,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,Mn).notify({query:this,type:"updated",action:t})})},AO);function tM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function F2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kr,Fe,af,Or,Po,nc,hi,ps,sf,ac,ic,Co,Eo,gs,sc,Ye,Xu,Pb,Cb,Eb,Ob,Ab,Tb,Mb,rM,TO,p8=(TO=class extends mf{constructor(t,r){super();Ce(this,Ye);Ce(this,Kr);Ce(this,Fe);Ce(this,af);Ce(this,Or);Ce(this,Po);Ce(this,nc);Ce(this,hi);Ce(this,ps);Ce(this,sf);Ce(this,ac);Ce(this,ic);Ce(this,Co);Ce(this,Eo);Ce(this,gs);Ce(this,sc,new Set);this.options=r,ye(this,Kr,t),ye(this,ps,null),ye(this,hi,Nb()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Fe).addObserver(this),B2(Y(this,Fe),this.options)?ze(this,Ye,Xu).call(this):this.updateResult(),ze(this,Ye,Ob).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ib(Y(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ib(Y(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,Ye,Ab).call(this),ze(this,Ye,Tb).call(this),Y(this,Fe).removeObserver(this)}setOptions(t){const r=this.options,n=Y(this,Fe);if(this.options=Y(this,Kr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof In(this.options.enabled,Y(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,Ye,Mb).call(this),Y(this,Fe).setOptions(this.options),r._defaulted&&!_b(this.options,r)&&Y(this,Kr).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Fe),observer:this});const a=this.hasListeners();a&&U2(Y(this,Fe),n,this.options,r)&&ze(this,Ye,Xu).call(this),this.updateResult(),a&&(Y(this,Fe)!==n||In(this.options.enabled,Y(this,Fe))!==In(r.enabled,Y(this,Fe))||Ts(this.options.staleTime,Y(this,Fe))!==Ts(r.staleTime,Y(this,Fe)))&&ze(this,Ye,Pb).call(this);const i=ze(this,Ye,Cb).call(this);a&&(Y(this,Fe)!==n||In(this.options.enabled,Y(this,Fe))!==In(r.enabled,Y(this,Fe))||i!==Y(this,gs))&&ze(this,Ye,Eb).call(this,i)}getOptimisticResult(t){const r=Y(this,Kr).getQueryCache().build(Y(this,Kr),t),n=this.createResult(r,t);return y8(this,n)&&(ye(this,Or,n),ye(this,nc,this.options),ye(this,Po,Y(this,Fe).state)),n}getCurrentResult(){return Y(this,Or)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,hi).status==="pending"&&Y(this,hi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){Y(this,sc).add(t)}getCurrentQuery(){return Y(this,Fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Y(this,Kr).defaultQueryOptions(t),n=Y(this,Kr).getQueryCache().build(Y(this,Kr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ze(this,Ye,Xu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Or)))}createResult(t,r){var M;const n=Y(this,Fe),a=this.options,i=Y(this,Or),o=Y(this,Po),l=Y(this,nc),d=t!==n?t.state:Y(this,af),{state:f}=t;let h={...f},p=!1,g;if(r._optimisticResults){const $=this.hasListeners(),I=!$&&B2(t,r),R=$&&U2(t,n,r,a);(I||R)&&(h={...h,...tM(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:_}=h;g=h.data;let w=!1;if(r.placeholderData!==void 0&&g===void 0&&_==="pending"){let $;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?($=i.data,w=!0):$=typeof r.placeholderData=="function"?r.placeholderData((M=Y(this,ic))==null?void 0:M.state.data,Y(this,ic)):r.placeholderData,$!==void 0&&(_="success",g=kb(i==null?void 0:i.data,$,r),p=!0)}if(r.select&&g!==void 0&&!w)if(i&&g===(o==null?void 0:o.data)&&r.select===Y(this,sf))g=Y(this,ac);else try{ye(this,sf,r.select),g=r.select(g),g=kb(i==null?void 0:i.data,g,r),ye(this,ac,g),ye(this,ps,null)}catch($){ye(this,ps,$)}Y(this,ps)&&(y=Y(this,ps),g=Y(this,ac),b=Date.now(),_="error");const k=h.fetchStatus==="fetching",j=_==="pending",N=_==="error",P=j&&k,C=g!==void 0,O={status:_,fetchStatus:h.fetchStatus,isPending:j,isSuccess:_==="success",isError:N,isInitialLoading:P,isLoading:P,data:g,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:k,isRefetching:k&&!j,isLoadingError:N&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&C,isStale:a1(t,r),refetch:this.refetch,promise:Y(this,hi),isEnabled:In(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=B=>{O.status==="error"?B.reject(O.error):O.data!==void 0&&B.resolve(O.data)},I=()=>{const B=ye(this,hi,O.promise=Nb());$(B)},R=Y(this,hi);switch(R.status){case"pending":t.queryHash===n.queryHash&&$(R);break;case"fulfilled":(O.status==="error"||O.data!==R.value)&&I();break;case"rejected":(O.status!=="error"||O.error!==R.reason)&&I();break}}return O}updateResult(){const t=Y(this,Or),r=this.createResult(Y(this,Fe),this.options);if(ye(this,Po,Y(this,Fe).state),ye(this,nc,this.options),Y(this,Po).data!==void 0&&ye(this,ic,Y(this,Fe)),_b(r,t))return;ye(this,Or,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Y(this,sc).size)return!0;const o=new Set(i??Y(this,sc));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,Or)).some(l=>{const u=l;return Y(this,Or)[u]!==t[u]&&o.has(u)})};ze(this,Ye,rM).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,Ye,Ob).call(this)}},Kr=new WeakMap,Fe=new WeakMap,af=new WeakMap,Or=new WeakMap,Po=new WeakMap,nc=new WeakMap,hi=new WeakMap,ps=new WeakMap,sf=new WeakMap,ac=new WeakMap,ic=new WeakMap,Co=new WeakMap,Eo=new WeakMap,gs=new WeakMap,sc=new WeakMap,Ye=new WeakSet,Xu=function(t){ze(this,Ye,Mb).call(this);let r=Y(this,Fe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Zr)),r},Pb=function(){ze(this,Ye,Ab).call(this);const t=Ts(this.options.staleTime,Y(this,Fe));if(Ho||Y(this,Or).isStale||!wb(t))return;const n=YT(Y(this,Or).dataUpdatedAt,t)+1;ye(this,Co,po.setTimeout(()=>{Y(this,Or).isStale||this.updateResult()},n))},Cb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Fe)):this.options.refetchInterval)??!1},Eb=function(t){ze(this,Ye,Tb).call(this),ye(this,gs,t),!(Ho||In(this.options.enabled,Y(this,Fe))===!1||!wb(Y(this,gs))||Y(this,gs)===0)&&ye(this,Eo,po.setInterval(()=>{(this.options.refetchIntervalInBackground||n1.isFocused())&&ze(this,Ye,Xu).call(this)},Y(this,gs)))},Ob=function(){ze(this,Ye,Pb).call(this),ze(this,Ye,Eb).call(this,ze(this,Ye,Cb).call(this))},Ab=function(){Y(this,Co)&&(po.clearTimeout(Y(this,Co)),ye(this,Co,void 0))},Tb=function(){Y(this,Eo)&&(po.clearInterval(Y(this,Eo)),ye(this,Eo,void 0))},Mb=function(){const t=Y(this,Kr).getQueryCache().build(Y(this,Kr),this.options);if(t===Y(this,Fe))return;const r=Y(this,Fe);ye(this,Fe,t),ye(this,af,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},rM=function(t){gr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Y(this,Or))}),Y(this,Kr).getQueryCache().notify({query:Y(this,Fe),type:"observerResultsUpdated"})})},TO);function g8(e,t){return In(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function B2(e,t){return g8(e,t)||e.state.data!==void 0&&Ib(e,t,t.refetchOnMount)}function Ib(e,t,r){if(In(t.enabled,e)!==!1&&Ts(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&a1(e,t)}return!1}function U2(e,t,r,n){return(e!==t||In(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&a1(e,r)}function a1(e,t){return In(t.enabled,e)!==!1&&e.isStaleByTime(Ts(t.staleTime,e))}function y8(e,t){return!_b(e.getCurrentResult(),t)}function H2(e){return{onFetch:(t,r)=>{var f,h,p,g,y;const n=t.options,a=(p=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let b=!1;const _=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},w=XT(t.options,t.fetchOptions),k=async(j,N,P)=>{if(b)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const A=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:N,direction:P?"backward":"forward",meta:t.options.meta};return _(I),I})(),O=await w(A),{maxPages:M}=t.options,$=P?o8:s8;return{pages:$(j.pages,O,M),pageParams:$(j.pageParams,N,M)}};if(a&&i.length){const j=a==="backward",N=j?x8:W2,P={pages:i,pageParams:o},C=N(n,P);l=await k(P,C,j)}else{const j=e??i.length;do{const N=u===0?o[0]??n.initialPageParam:W2(n,l);if(u>0&&N==null)break;l=await k(l,N),u++}while(u<j)}return l};t.options.persister?t.fetchFn=()=>{var b,_;return(_=(b=t.options).persister)==null?void 0:_.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function W2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function x8(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var of,Ma,Ar,Oo,Ia,rs,MO,v8=(MO=class extends eM{constructor(t){super();Ce(this,Ia);Ce(this,of);Ce(this,Ma);Ce(this,Ar);Ce(this,Oo);ye(this,of,t.client),this.mutationId=t.mutationId,ye(this,Ar,t.mutationCache),ye(this,Ma,[]),this.state=t.state||b8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Ma).includes(t)||(Y(this,Ma).push(t),this.clearGcTimeout(),Y(this,Ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,Ma,Y(this,Ma).filter(r=>r!==t)),this.scheduleGc(),Y(this,Ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Ma).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Ar).remove(this))}continue(){var t;return((t=Y(this,Oo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,d,f,h,p,g,y,b,_,w,k,j,N,P,C,A,O,M;const r=()=>{ze(this,Ia,rs).call(this,{type:"continue"})},n={client:Y(this,of),meta:this.options.meta,mutationKey:this.options.mutationKey};ye(this,Oo,JT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:($,I)=>{ze(this,Ia,rs).call(this,{type:"failed",failureCount:$,error:I})},onPause:()=>{ze(this,Ia,rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Ar).canRun(this)}));const a=this.state.status==="pending",i=!Y(this,Oo).canStart();try{if(a)r();else{ze(this,Ia,rs).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=Y(this,Ar).config).onMutate)==null?void 0:l.call(o,t,this,n));const I=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t,n));I!==this.state.context&&ze(this,Ia,rs).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const $=await Y(this,Oo).start();return await((h=(f=Y(this,Ar).config).onSuccess)==null?void 0:h.call(f,$,t,this.state.context,this,n)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,$,t,this.state.context,n)),await((b=(y=Y(this,Ar).config).onSettled)==null?void 0:b.call(y,$,null,this.state.variables,this.state.context,this,n)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,$,null,t,this.state.context,n)),ze(this,Ia,rs).call(this,{type:"success",data:$}),$}catch($){try{throw await((j=(k=Y(this,Ar).config).onError)==null?void 0:j.call(k,$,t,this.state.context,this,n)),await((P=(N=this.options).onError)==null?void 0:P.call(N,$,t,this.state.context,n)),await((A=(C=Y(this,Ar).config).onSettled)==null?void 0:A.call(C,void 0,$,this.state.variables,this.state.context,this,n)),await((M=(O=this.options).onSettled)==null?void 0:M.call(O,void 0,$,t,this.state.context,n)),$}finally{ze(this,Ia,rs).call(this,{type:"error",error:$})}}finally{Y(this,Ar).runNext(this)}}},of=new WeakMap,Ma=new WeakMap,Ar=new WeakMap,Oo=new WeakMap,Ia=new WeakSet,rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gr.batch(()=>{Y(this,Ma).forEach(n=>{n.onMutationUpdate(t)}),Y(this,Ar).notify({mutation:this,type:"updated",action:t})})},MO);function b8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mi,aa,lf,IO,w8=(IO=class extends mf{constructor(t={}){super();Ce(this,mi);Ce(this,aa);Ce(this,lf);this.config=t,ye(this,mi,new Set),ye(this,aa,new Map),ye(this,lf,0)}build(t,r,n){const a=new v8({client:t,mutationCache:this,mutationId:++Ch(this,lf)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Y(this,mi).add(t);const r=Kh(t);if(typeof r=="string"){const n=Y(this,aa).get(r);n?n.push(t):Y(this,aa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Y(this,mi).delete(t)){const r=Kh(t);if(typeof r=="string"){const n=Y(this,aa).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Y(this,aa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kh(t);if(typeof r=="string"){const n=Y(this,aa).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Kh(t);if(typeof r=="string"){const a=(n=Y(this,aa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gr.batch(()=>{Y(this,mi).forEach(t=>{this.notify({type:"removed",mutation:t})}),Y(this,mi).clear(),Y(this,aa).clear()})}getAll(){return Array.from(Y(this,mi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>D2(r,n))}findAll(t={}){return this.getAll().filter(r=>D2(t,r))}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return gr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Zr))))}},mi=new WeakMap,aa=new WeakMap,lf=new WeakMap,IO);function Kh(e){var t;return(t=e.options.scope)==null?void 0:t.id}var La,LO,_8=(LO=class extends mf{constructor(t={}){super();Ce(this,La);this.config=t,ye(this,La,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??t1(a,r);let o=this.get(i);return o||(o=new m8({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Y(this,La).has(t.queryHash)||(Y(this,La).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Y(this,La).get(t.queryHash);r&&(t.destroy(),r===t&&Y(this,La).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,La).get(t)}getAll(){return[...Y(this,La).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>L2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>L2(t,n)):r}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},La=new WeakMap,LO),Ct,ys,xs,oc,lc,vs,cc,uc,DO,j8=(DO=class{constructor(e={}){Ce(this,Ct);Ce(this,ys);Ce(this,xs);Ce(this,oc);Ce(this,lc);Ce(this,vs);Ce(this,cc);Ce(this,uc);ye(this,Ct,e.queryCache||new _8),ye(this,ys,e.mutationCache||new w8),ye(this,xs,e.defaultOptions||{}),ye(this,oc,new Map),ye(this,lc,new Map),ye(this,vs,0)}mount(){Ch(this,vs)._++,Y(this,vs)===1&&(ye(this,cc,n1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,Ct).onFocus())})),ye(this,uc,wp.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,Ct).onOnline())})))}unmount(){var e,t;Ch(this,vs)._--,Y(this,vs)===0&&((e=Y(this,cc))==null||e.call(this),ye(this,cc,void 0),(t=Y(this,uc))==null||t.call(this),ye(this,uc,void 0))}isFetching(e){return Y(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,ys).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,Ct).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Y(this,Ct).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ts(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Y(this,Ct).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Y(this,Ct).get(n.queryHash),i=a==null?void 0:a.state.data,o=n8(t,i);if(o!==void 0)return Y(this,Ct).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return gr.batch(()=>Y(this,Ct).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,Ct).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Y(this,Ct);gr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Y(this,Ct);return gr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=gr.batch(()=>Y(this,Ct).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Zr).catch(Zr)}invalidateQueries(e,t={}){return gr.batch(()=>(Y(this,Ct).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=gr.batch(()=>Y(this,Ct).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Zr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Zr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Y(this,Ct).build(this,t);return r.isStaleByTime(Ts(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zr).catch(Zr)}fetchInfiniteQuery(e){return e.behavior=H2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zr).catch(Zr)}ensureInfiniteQueryData(e){return e.behavior=H2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wp.isOnline()?Y(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Ct)}getMutationCache(){return Y(this,ys)}getDefaultOptions(){return Y(this,xs)}setDefaultOptions(e){ye(this,xs,e)}setQueryDefaults(e,t){Y(this,oc).set(Ad(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,oc).values()],r={};return t.forEach(n=>{Td(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Y(this,lc).set(Ad(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,lc).values()],r={};return t.forEach(n=>{Td(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,xs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=t1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===r1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,xs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,Ct).clear(),Y(this,ys).clear()}},Ct=new WeakMap,ys=new WeakMap,xs=new WeakMap,oc=new WeakMap,lc=new WeakMap,vs=new WeakMap,cc=new WeakMap,uc=new WeakMap,DO),nM=x.createContext(void 0),k8=e=>{const t=x.useContext(nM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},N8=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(nM.Provider,{value:e,children:t})),aM=x.createContext(!1),S8=()=>x.useContext(aM);aM.Provider;function P8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var C8=x.createContext(P8()),E8=()=>x.useContext(C8),O8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},A8=e=>{x.useEffect(()=>{e.clearReset()},[e])},T8=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||l8(r,[e.error,n])),M8=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},I8=(e,t)=>e.isLoading&&e.isFetching&&!t,L8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,V2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function D8(e,t,r){var h,p,g,y,b;const n=S8(),a=E8(),i=k8(),o=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",M8(o),O8(o,a),A8(a);const l=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(_=>{const w=f?u.subscribe(gr.batchCalls(_)):Zr;return u.updateResult(),w},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),L8(o,d))throw V2(o,u,a);if(T8({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,d),o.experimental_prefetchInRender&&!Ho&&I8(d,n)){const _=l?V2(o,u,a):(b=i.getQueryCache().get(o.queryHash))==null?void 0:b.promise;_==null||_.catch(Zr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function R8(e,t){return D8(e,p8)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K2="popstate";function z8(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Lb("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Md(a)}return $8(t,r,null,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function F8(){return Math.random().toString(36).substring(2,10)}function q2(e,t){return{usr:e.state,key:e.key,idx:t}}function Lb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wc(t):t,state:r,key:t&&t.key||n||F8()}}function Md({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function $8(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function h(){l="POP";let _=f(),w=_==null?null:_-d;d=_,u&&u({action:l,location:b.location,delta:w})}function p(_,w){l="PUSH";let k=Lb(b.location,_,w);d=f()+1;let j=q2(k,d),N=b.createHref(k);try{o.pushState(j,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(N)}i&&u&&u({action:l,location:b.location,delta:1})}function g(_,w){l="REPLACE";let k=Lb(b.location,_,w);d=f();let j=q2(k,d),N=b.createHref(k);o.replaceState(j,"",N),i&&u&&u({action:l,location:b.location,delta:0})}function y(_){return B8(_)}let b={get action(){return l},get location(){return e(a,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(K2,h),u=_,()=>{a.removeEventListener(K2,h),u=null}},createHref(_){return t(a,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return o.go(_)}};return b}function B8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),jt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Md(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function iM(e,t,r="/"){return U8(e,t,r,!1)}function U8(e,t,r,n){let a=typeof t=="string"?Wc(t):t,i=Ti(a.pathname||"/",r);if(i==null)return null;let o=sM(e);H8(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=eB(i);l=Q8(o[u],d,n)}return l}function sM(e,t=[],r=[],n="",a=!1){let i=(o,l,u=a,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;jt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let h=ki([n,f.relativePath]),p=r.concat(f);o.children&&o.children.length>0&&(jt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),sM(o.children,t,p,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:G8(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of oM(o.path))i(o,l,!0,d)}),t}function oM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=oM(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function H8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:X8(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var W8=/^:[\w-]+$/,V8=3,K8=2,q8=1,Z8=10,Y8=-2,Z2=e=>e==="*";function G8(e,t){let r=e.split("/"),n=r.length;return r.some(Z2)&&(n+=Y8),t&&(n+=K8),r.filter(a=>!Z2(a)).reduce((a,i)=>a+(W8.test(i)?V8:i===""?q8:Z8),n)}function X8(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Q8(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=_p({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),p=u.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=_p({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:ki([i,h.pathname]),pathnameBase:iB(ki([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=ki([i,h.pathnameBase]))}return o}function _p(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=J8(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:h},p)=>{if(f==="*"){let y=l[p]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[p];return h&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function J8(e,t=!1,r=!0){qn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function eB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ti(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var tB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rB=e=>tB.test(e);function nB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Wc(e):e,i;if(r)if(rB(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=Y2(r.substring(1),"/"):i=Y2(r,t)}else i=t;return{pathname:i,search:sB(n),hash:oB(a)}}function Y2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $x(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lM(e){let t=aB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function cM(e,t,r,n=!1){let a;typeof e=="string"?a=Wc(e):(a={...e},jt(!a.pathname||!a.pathname.includes("?"),$x("?","pathname","search",a)),jt(!a.pathname||!a.pathname.includes("#"),$x("#","pathname","hash",a)),jt(!a.search||!a.search.includes("#"),$x("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=nB(a,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var ki=e=>e.join("/").replace(/\/\/+/g,"/"),iB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,oB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function cB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uM=["POST","PUT","PATCH","DELETE"];new Set(uM);var uB=["GET",...uM];new Set(uB);var Vc=x.createContext(null);Vc.displayName="DataRouter";var Zg=x.createContext(null);Zg.displayName="DataRouterState";x.createContext(!1);var dM=x.createContext({isTransitioning:!1});dM.displayName="ViewTransition";var dB=x.createContext(new Map);dB.displayName="Fetchers";var fB=x.createContext(null);fB.displayName="Await";var ja=x.createContext(null);ja.displayName="Navigation";var pf=x.createContext(null);pf.displayName="Location";var Ga=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var i1=x.createContext(null);i1.displayName="RouteError";function hB(e,{relative:t}={}){jt(gf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(ja),{hash:a,pathname:i,search:o}=yf(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:ki([r,i])),n.createHref({pathname:l,search:o,hash:a})}function gf(){return x.useContext(pf)!=null}function Ui(){return jt(gf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(pf).location}var fM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hM(e){x.useContext(ja).static||x.useLayoutEffect(e)}function Yg(){let{isDataRoute:e}=x.useContext(Ga);return e?CB():mB()}function mB(){jt(gf(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Vc),{basename:t,navigator:r}=x.useContext(ja),{matches:n}=x.useContext(Ga),{pathname:a}=Ui(),i=JSON.stringify(lM(n)),o=x.useRef(!1);return hM(()=>{o.current=!0}),x.useCallback((u,d={})=>{if(qn(o.current,fM),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=cM(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ki([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,a,e])}var pB=x.createContext(null);function gB(e){let t=x.useContext(Ga).outlet;return x.useMemo(()=>t&&x.createElement(pB.Provider,{value:e},t),[t,e])}function yf(e,{relative:t}={}){let{matches:r}=x.useContext(Ga),{pathname:n}=Ui(),a=JSON.stringify(lM(r));return x.useMemo(()=>cM(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function yB(e,t){return mM(e,t)}function mM(e,t,r,n,a){var k;jt(gf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(ja),{matches:o}=x.useContext(Ga),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let j=h&&h.path||"";pM(d,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let p=Ui(),g;if(t){let j=typeof t=="string"?Wc(t):t;jt(f==="/"||((k=j.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=p;let y=g.pathname||"/",b=y;if(f!=="/"){let j=f.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=iM(e,{pathname:b});qn(h||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),qn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=_B(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:ki([f,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:ki([f,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,r,n,a);return t&&w?x.createElement(pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function xB(){let e=PB(),t=lB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,o)}var vB=x.createElement(xB,null),bB=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Ga.Provider,{value:this.props.routeContext},x.createElement(i1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wB({routeContext:e,match:t,children:r}){let n=x.useContext(Vc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Ga.Provider,{value:e},r)}function _B(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let f=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);jt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=r,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=r&&n?(f,h)=>{var p,g;n(f,{location:r.location,params:((g=(p=r.matches)==null?void 0:p[0])==null?void 0:g.params)??{},unstable_pattern:cB(r.matches),errorInfo:h})}:void 0;return i.reduceRight((f,h,p)=>{let g,y=!1,b=null,_=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||vB,l&&(u<0&&p===0?(pM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):u===p&&(y=!0,_=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),k=()=>{let j;return g?j=b:y?j=_:h.route.Component?j=x.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=f,x.createElement(wB,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?x.createElement(bB,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:d}):k()},null)}function s1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jB(e){let t=x.useContext(Vc);return jt(t,s1(e)),t}function kB(e){let t=x.useContext(Zg);return jt(t,s1(e)),t}function NB(e){let t=x.useContext(Ga);return jt(t,s1(e)),t}function o1(e){let t=NB(e),r=t.matches[t.matches.length-1];return jt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function SB(){return o1("useRouteId")}function PB(){var n;let e=x.useContext(i1),t=kB("useRouteError"),r=o1("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function CB(){let{router:e}=jB("useNavigate"),t=o1("useNavigate"),r=x.useRef(!1);return hM(()=>{r.current=!0}),x.useCallback(async(a,i={})=>{qn(r.current,fM),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var G2={};function pM(e,t,r){!t&&!G2[e]&&(G2[e]=!0,qn(!1,r))}x.memo(EB);function EB({routes:e,future:t,state:r,unstable_onError:n}){return mM(e,void 0,r,n,t)}function OB(e){return gB(e.context)}function ns(e){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AB({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){jt(!gf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof r=="string"&&(r=Wc(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,y=x.useMemo(()=>{let b=Ti(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:n}},[l,d,f,h,p,g,n]);return qn(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(ja.Provider,{value:u},x.createElement(pf.Provider,{children:t,value:y}))}function TB({children:e,location:t}){return yB(Db(e),t)}function Db(e,t=[]){let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Db(n.props.children,i));return}jt(n.type===ns,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Db(n.props.children,i)),r.push(o)}),r}var Dm="get",Rm="application/x-www-form-urlencoded";function Gg(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function MB(e){return Gg(e)&&e.tagName.toLowerCase()==="button"}function IB(e){return Gg(e)&&e.tagName.toLowerCase()==="form"}function LB(e){return Gg(e)&&e.tagName.toLowerCase()==="input"}function DB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RB(e,t){return e.button===0&&(!t||t==="_self")&&!DB(e)}function Rb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function zB(e,t){let r=Rb(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var qh=null;function FB(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var $B=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bx(e){return e!=null&&!$B.has(e)?(qn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rm}"`),null):e}function BB(e,t){let r,n,a,i,o;if(IB(e)){let l=e.getAttribute("action");n=l?Ti(l,t):null,r=e.getAttribute("method")||Dm,a=Bx(e.getAttribute("enctype"))||Rm,i=new FormData(e)}else if(MB(e)||LB(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?Ti(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Dm,a=Bx(e.getAttribute("formenctype"))||Bx(l.getAttribute("enctype"))||Rm,i=new FormData(l,e),!FB()){let{name:d,type:f,value:h}=e;if(f==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,h)}}else{if(Gg(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Dm,n=null,a=Rm,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UB(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Ti(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function HB(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VB(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await HB(i,r);return o.links?o.links():[]}return[]}));return YB(n.flat(1).filter(WB).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function X2(e,t,r,n,a,i){let o=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>{var f;return r[d].pathname!==u.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):i==="data"?t.filter((u,d)=>{var h;let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function KB(e,t,{includeHydrateFallback:r}={}){return qB(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function qB(e){return[...new Set(e)]}function ZB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function YB(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(ZB(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function gM(){let e=x.useContext(Vc);return l1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GB(){let e=x.useContext(Zg);return l1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var c1=x.createContext(void 0);c1.displayName="FrameworkContext";function yM(){let e=x.useContext(c1);return l1(e,"You must render this element inside a <HydratedRouter> element"),e}function XB(e,t){let r=x.useContext(c1),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:h}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=w=>{w.forEach(k=>{o(k.isIntersecting)})},_=new IntersectionObserver(b,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(n){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[n]);let g=()=>{a(!0)},y=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Iu(l,g),onBlur:Iu(u,y),onMouseEnter:Iu(d,g),onMouseLeave:Iu(f,y),onTouchStart:Iu(h,g)}]:[!1,p,{}]}function Iu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function QB({page:e,...t}){let{router:r}=gM(),n=x.useMemo(()=>iM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(e7,{page:e,matches:n,...t}):null}function JB(e){let{manifest:t,routeModules:r}=yM(),[n,a]=x.useState([]);return x.useEffect(()=>{let i=!1;return VB(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function e7({page:e,matches:t,...r}){let n=Ui(),{manifest:a,routeModules:i}=yM(),{basename:o}=gM(),{loaderData:l,matches:u}=GB(),d=x.useMemo(()=>X2(e,t,u,a,n,"data"),[e,t,u,a,n]),f=x.useMemo(()=>X2(e,t,u,a,n,"assets"),[e,t,u,a,n]),h=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(t.forEach(w=>{var j;let k=a.routes[w.route.id];!k||!k.hasLoader||(!d.some(N=>N.route.id===w.route.id)&&w.route.id in l&&((j=i[w.route.id])!=null&&j.shouldRevalidate)||k.hasClientLoader?b=!0:y.add(w.route.id))}),y.size===0)return[];let _=UB(e,o,"data");return b&&y.size>0&&_.searchParams.set("_routes",t.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[_.pathname+_.search]},[o,l,n,a,d,t,e,i]),p=x.useMemo(()=>KB(f,a),[f,a]),g=JB(f);return x.createElement(x.Fragment,null,h.map(y=>x.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>x.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),g.map(({key:y,link:b})=>x.createElement("link",{key:y,nonce:r.nonce,...b})))}function t7(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var xM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xM&&(window.__reactRouterVersion="7.10.1")}catch{}function r7({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=x.useRef();a.current==null&&(a.current=z8({window:n,v5Compat:!0}));let i=a.current,[o,l]=x.useState({action:i.action,location:i.location}),u=x.useCallback(d=>{r===!1?l(d):x.startTransition(()=>l(d))},[r]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(AB,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r===!0})}var vM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xg=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:h,...p},g){let{basename:y,unstable_useTransitions:b}=x.useContext(ja),_=typeof d=="string"&&vM.test(d),w,k=!1;if(typeof d=="string"&&_&&(w=d,xM))try{let $=new URL(window.location.href),I=d.startsWith("//")?new URL($.protocol+d):new URL(d),R=Ti(I.pathname,y);I.origin===$.origin&&R!=null?d=R+I.search+I.hash:k=!0}catch{qn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=hB(d,{relative:a}),[N,P,C]=XB(n,p),A=s7(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:a,viewTransition:h,unstable_useTransitions:b});function O($){t&&t($),$.defaultPrevented||A($)}let M=x.createElement("a",{...p,...C,href:w||j,onClick:k||i?t:O,ref:t7(g,P),target:u,"data-discover":!_&&r==="render"?"true":void 0});return N&&!_?x.createElement(x.Fragment,null,M,x.createElement(QB,{page:j})):M});Xg.displayName="Link";var n7=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:u,...d},f){let h=yf(o,{relative:d.relative}),p=Ui(),g=x.useContext(Zg),{navigator:y,basename:b}=x.useContext(ja),_=g!=null&&d7(h)&&l===!0,w=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,k=p.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(k=k.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&b&&(j=Ti(j,b)||j);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=k===w||!a&&k.startsWith(w)&&k.charAt(N)==="/",C=j!=null&&(j===w||!a&&j.startsWith(w)&&j.charAt(w.length)==="/"),A={isActive:P,isPending:C,isTransitioning:_},O=P?t:void 0,M;typeof n=="function"?M=n(A):M=[n,P?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(A):i;return x.createElement(Xg,{...d,"aria-current":O,className:M,ref:f,style:$,to:o,viewTransition:l},typeof u=="function"?u(A):u)});n7.displayName="NavLink";var a7=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Dm,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:h,...p},g)=>{let{unstable_useTransitions:y}=x.useContext(ja),b=c7(),_=u7(l,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&vM.test(l),j=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,C=(P==null?void 0:P.getAttribute("formmethod"))||o,A=()=>b(P||N.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:i,relative:d,preventScrollReset:f,viewTransition:h});y&&r!==!1?x.startTransition(()=>A()):A()};return x.createElement("form",{ref:g,method:w,action:_,onSubmit:n?u:j,...p,"data-discover":!k&&e==="render"?"true":void 0})});a7.displayName="Form";function i7(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bM(e){let t=x.useContext(Vc);return jt(t,i7(e)),t}function s7(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_useTransitions:l}={}){let u=Yg(),d=Ui(),f=yf(e,{relative:i});return x.useCallback(h=>{if(RB(h,t)){h.preventDefault();let p=r!==void 0?r:Md(d)===Md(f),g=()=>u(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o});l?x.startTransition(()=>g()):g()}},[d,u,f,r,n,t,e,a,i,o,l])}function wM(e){qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(Rb(e)),r=x.useRef(!1),n=Ui(),a=x.useMemo(()=>zB(n.search,r.current?null:t.current),[n.search]),i=Yg(),o=x.useCallback((l,u)=>{const d=Rb(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+d,u)},[i,a]);return[a,o]}var o7=0,l7=()=>`__${String(++o7)}__`;function c7(){let{router:e}=bM("useSubmit"),{basename:t}=x.useContext(ja),r=SB(),n=e.fetch,a=e.navigate;return x.useCallback(async(i,o={})=>{let{action:l,method:u,encType:d,formData:f,body:h}=BB(i,t);if(o.navigate===!1){let p=o.fetcherKey||l7();await n(p,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await a(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,t,r])}function u7(e,{relative:t}={}){let{basename:r}=x.useContext(ja),n=x.useContext(Ga);jt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...yf(e||".",{relative:t})},o=Ui();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ki([r,i.pathname])),Md(i)}function d7(e,{relative:t}={}){let r=x.useContext(dM);jt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=bM("useViewTransitionState"),a=yf(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ti(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ti(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _p(a.pathname,o)!=null||_p(a.pathname,i)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...d},f)=>x.createElement("svg",{ref:f,...f7,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${h7(e)}`,l].join(" "),...d},[...t.map(([h,p])=>x.createElement(h,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=de("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=de("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=de("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=de("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=de("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=de("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=de("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=de("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=de("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=de("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=de("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=de("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=de("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=de("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=de("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=de("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=de("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=de("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=de("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=de("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=de("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=de("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=de("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=de("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=de("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=de("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=de("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=de("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=de("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=de("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=de("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=de("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=de("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=de("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=de("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["circle",{cx:"18.5",cy:"5.5",r:".5",fill:"currentColor",key:"lysivs"}],["circle",{cx:"11.5",cy:"11.5",r:".5",fill:"currentColor",key:"byv1b8"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["circle",{cx:"17.5",cy:"14.5",r:".5",fill:"currentColor",key:"1gjh6j"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=de("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=de("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=de("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=de("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=de("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=de("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=de("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=de("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=de("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=de("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=de("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),J7=()=>{const e=Ui(),[t,r]=x.useState(!1);x.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const o=!t;r(o),o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=o=>e.pathname===o,i=e.pathname==="/canvas";return s.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[s.jsxs("aside",{className:`${i?"w-16":"w-64"} bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-all duration-200`,children:[s.jsxs("div",{className:`${i?"p-4":"p-6"} border-b border-slate-800 dark:border-slate-900 flex items-center ${i?"justify-center":"gap-3"}`,children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-lg shrink-0 shadow-lg shadow-blue-900/20",children:"S"}),!i&&s.jsx("h1",{className:"text-xl font-bold tracking-tight whitespace-nowrap bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Skyulf ML"})]}),s.jsxs("nav",{className:"flex-1 p-2 space-y-2",children:[s.jsx(vl,{to:"/",active:a("/"),icon:s.jsx(CM,{size:20}),collapsed:i,children:"Dashboard"}),s.jsx(vl,{to:"/canvas",active:a("/canvas"),icon:s.jsx(SM,{size:20}),collapsed:i,children:"ML Canvas"}),s.jsx(vl,{to:"/data",active:a("/data"),icon:s.jsx(Ha,{size:20}),collapsed:i,children:"Data Sources"}),s.jsx(vl,{to:"/eda",active:a("/eda"),icon:s.jsx(Zl,{size:20}),collapsed:i,children:"EDA"}),s.jsx(vl,{to:"/registry",active:a("/registry"),icon:s.jsx(zb,{size:20}),collapsed:i,children:"Model Registry"}),s.jsx(vl,{to:"/deployments",active:a("/deployments"),icon:s.jsx(e0,{size:20}),collapsed:i,children:"Deployments"})]}),s.jsx("div",{className:`${i?"p-2":"p-4"} border-t border-slate-800 space-y-4`,children:s.jsxs("button",{onClick:n,className:`flex items-center ${i?"justify-center":"gap-3"} w-full ${i?"px-2":"px-4"} py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors`,title:t?"Light Mode":"Dark Mode",children:[t?s.jsx(q7,{size:20}):s.jsx(D7,{size:20}),!i&&(t?"Light Mode":"Dark Mode")]})})]}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsx(OB,{})})]})},vl=({to:e,children:t,active:r,icon:n,collapsed:a})=>s.jsxs(Xg,{to:e,className:`flex items-center ${a?"justify-center":"gap-3"} ${a?"px-2":"px-4"} py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:a?t:void 0,children:[n,!a&&t]});function TM(e,t){return function(){return e.apply(t,arguments)}}const{toString:e9}=Object.prototype,{getPrototypeOf:m1}=Object,{iterator:r0,toStringTag:MM}=Symbol,n0=(e=>t=>{const r=e9.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ka=e=>(e=e.toLowerCase(),t=>n0(t)===e),a0=e=>t=>typeof t===e,{isArray:Kc}=Array,vc=a0("undefined");function vf(e){return e!==null&&!vc(e)&&e.constructor!==null&&!vc(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const IM=ka("ArrayBuffer");function t9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&IM(e.buffer),t}const r9=a0("string"),sn=a0("function"),LM=a0("number"),bf=e=>e!==null&&typeof e=="object",n9=e=>e===!0||e===!1,zm=e=>{if(n0(e)!=="object")return!1;const t=m1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(MM in e)&&!(r0 in e)},a9=e=>{if(!bf(e)||vf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},i9=ka("Date"),s9=ka("File"),o9=ka("Blob"),l9=ka("FileList"),c9=e=>bf(e)&&sn(e.pipe),u9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||sn(e.append)&&((t=n0(e))==="formdata"||t==="object"&&sn(e.toString)&&e.toString()==="[object FormData]"))},d9=ka("URLSearchParams"),[f9,h9,m9,p9]=["ReadableStream","Request","Response","Headers"].map(ka),g9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wf(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Kc(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(vf(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function DM(e,t){if(vf(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RM=e=>!vc(e)&&e!==go;function $b(){const{caseless:e,skipUndefined:t}=RM(this)&&this||{},r={},n=(a,i)=>{const o=e&&DM(r,i)||i;zm(r[o])&&zm(a)?r[o]=$b(r[o],a):zm(a)?r[o]=$b({},a):Kc(a)?r[o]=a.slice():(!t||!vc(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&wf(arguments[a],n);return r}const y9=(e,t,r,{allOwnKeys:n}={})=>(wf(t,(a,i)=>{r&&sn(a)?e[i]=TM(a,r):e[i]=a},{allOwnKeys:n}),e),x9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),v9=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},b9=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&m1(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},w9=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},_9=e=>{if(!e)return null;if(Kc(e))return e;let t=e.length;if(!LM(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},j9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&m1(Uint8Array)),k9=(e,t)=>{const n=(e&&e[r0]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},N9=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},S9=ka("HTMLFormElement"),P9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),aS=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),C9=ka("RegExp"),zM=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};wf(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},E9=e=>{zM(e,(t,r)=>{if(sn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(sn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},O9=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Kc(e)?n(e):n(String(e).split(t)),r},A9=()=>{},T9=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function M9(e){return!!(e&&sn(e.append)&&e[MM]==="FormData"&&e[r0])}const I9=e=>{const t=new Array(10),r=(n,a)=>{if(bf(n)){if(t.indexOf(n)>=0)return;if(vf(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Kc(n)?[]:{};return wf(n,(o,l)=>{const u=r(o,a+1);!vc(u)&&(i[l]=u)}),t[a]=void 0,i}}return n};return r(e,0)},L9=ka("AsyncFunction"),D9=e=>e&&(bf(e)||sn(e))&&sn(e.then)&&sn(e.catch),FM=((e,t)=>e?setImmediate:t?((r,n)=>(go.addEventListener("message",({source:a,data:i})=>{a===go&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),go.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",sn(go.postMessage)),R9=typeof queueMicrotask<"u"?queueMicrotask.bind(go):typeof process<"u"&&process.nextTick||FM,z9=e=>e!=null&&sn(e[r0]),ae={isArray:Kc,isArrayBuffer:IM,isBuffer:vf,isFormData:u9,isArrayBufferView:t9,isString:r9,isNumber:LM,isBoolean:n9,isObject:bf,isPlainObject:zm,isEmptyObject:a9,isReadableStream:f9,isRequest:h9,isResponse:m9,isHeaders:p9,isUndefined:vc,isDate:i9,isFile:s9,isBlob:o9,isRegExp:C9,isFunction:sn,isStream:c9,isURLSearchParams:d9,isTypedArray:j9,isFileList:l9,forEach:wf,merge:$b,extend:y9,trim:g9,stripBOM:x9,inherits:v9,toFlatObject:b9,kindOf:n0,kindOfTest:ka,endsWith:w9,toArray:_9,forEachEntry:k9,matchAll:N9,isHTMLForm:S9,hasOwnProperty:aS,hasOwnProp:aS,reduceDescriptors:zM,freezeMethods:E9,toObjectSet:O9,toCamelCase:P9,noop:A9,toFiniteNumber:T9,findKey:DM,global:go,isContextDefined:RM,isSpecCompliantForm:M9,toJSONObject:I9,isAsyncFn:L9,isThenable:D9,setImmediate:FM,asap:R9,isIterable:z9};function Me(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ae.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}});const $M=Me.prototype,BM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{BM[e]={value:e}});Object.defineProperties(Me,BM);Object.defineProperty($M,"isAxiosError",{value:!0});Me.from=(e,t,r,n,a,i)=>{const o=Object.create($M);ae.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Me.call(o,l,u,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const F9=null;function Bb(e){return ae.isPlainObject(e)||ae.isArray(e)}function UM(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function iS(e,t,r){return e?e.concat(t).map(function(a,i){return a=UM(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function $9(e){return ae.isArray(e)&&!e.some(Bb)}const B9=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function i0(e,t,r){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,_){return!ae.isUndefined(_[b])});const n=r.metaTokens,a=r.visitor||f,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ae.isDate(y))return y.toISOString();if(ae.isBoolean(y))return y.toString();if(!u&&ae.isBlob(y))throw new Me("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(y)||ae.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,b,_){let w=y;if(y&&!_&&typeof y=="object"){if(ae.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(ae.isArray(y)&&$9(y)||(ae.isFileList(y)||ae.endsWith(b,"[]"))&&(w=ae.toArray(y)))return b=UM(b),w.forEach(function(j,N){!(ae.isUndefined(j)||j===null)&&t.append(o===!0?iS([b],N,i):o===null?b:b+"[]",d(j))}),!1}return Bb(y)?!0:(t.append(iS(_,b,i),d(y)),!1)}const h=[],p=Object.assign(B9,{defaultVisitor:f,convertValue:d,isVisitable:Bb});function g(y,b){if(!ae.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),ae.forEach(y,function(w,k){(!(ae.isUndefined(w)||w===null)&&a.call(t,w,ae.isString(k)?k.trim():k,b,p))===!0&&g(w,b?b.concat(k):[k])}),h.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return g(e),t}function sS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function p1(e,t){this._pairs=[],e&&i0(e,this,t)}const HM=p1.prototype;HM.append=function(t,r){this._pairs.push([t,r])};HM.toString=function(t){const r=t?function(n){return t.call(this,n,sS)}:sS;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function U9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function WM(e,t,r){if(!t)return e;const n=r&&r.encode||U9;ae.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=ae.isURLSearchParams(t)?t.toString():new p1(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class oS{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(n){n!==null&&t(n)})}}const VM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},H9=typeof URLSearchParams<"u"?URLSearchParams:p1,W9=typeof FormData<"u"?FormData:null,V9=typeof Blob<"u"?Blob:null,K9={isBrowser:!0,classes:{URLSearchParams:H9,FormData:W9,Blob:V9},protocols:["http","https","file","blob","url","data"]},g1=typeof window<"u"&&typeof document<"u",Ub=typeof navigator=="object"&&navigator||void 0,q9=g1&&(!Ub||["ReactNative","NativeScript","NS"].indexOf(Ub.product)<0),Z9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Y9=g1&&window.location.href||"http://localhost",G9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g1,hasStandardBrowserEnv:q9,hasStandardBrowserWebWorkerEnv:Z9,navigator:Ub,origin:Y9},Symbol.toStringTag,{value:"Module"})),Nr={...G9,...K9};function X9(e,t){return i0(e,new Nr.classes.URLSearchParams,{visitor:function(r,n,a,i){return Nr.isNode&&ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Q9(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function J9(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function KM(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&ae.isArray(a)?a.length:o,u?(ae.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!ae.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&ae.isArray(a[o])&&(a[o]=J9(a[o])),!l)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const r={};return ae.forEachEntry(e,(n,a)=>{t(Q9(n),a,r,0)}),r}return null}function eU(e,t,r){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const _f={transitional:VM,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ae.isObject(t);if(i&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return a?JSON.stringify(KM(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return X9(t,this.formSerializer).toString();if((l=ae.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return i0(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),eU(t)):t}],transformResponse:[function(t){const r=this.transitional||_f.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Me.from(l,Me.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{_f.headers[e]={}});const tU=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rU=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&tU[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},lS=Symbol("internals");function Lu(e){return e&&String(e).trim().toLowerCase()}function Fm(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Fm):String(e)}function nU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const aU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ux(e,t,r,n,a){if(ae.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ae.isString(t)){if(ae.isString(n))return t.indexOf(n)!==-1;if(ae.isRegExp(n))return n.test(t)}}function iU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function sU(e,t){const r=ae.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let on=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,u,d){const f=Lu(u);if(!f)throw new Error("header name must be a non-empty string");const h=ae.findKey(a,f);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||u]=Fm(l))}const o=(l,u)=>ae.forEach(l,(d,f)=>i(d,f,u));if(ae.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ae.isString(t)&&(t=t.trim())&&!aU(t))o(rU(t),r);else if(ae.isObject(t)&&ae.isIterable(t)){let l={},u,d;for(const f of t){if(!ae.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(u=l[d])?ae.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Lu(t),t){const n=ae.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return nU(a);if(ae.isFunction(r))return r.call(this,a,n);if(ae.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Lu(t),t){const n=ae.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Ux(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=Lu(o),o){const l=ae.findKey(n,o);l&&(!r||Ux(n,n[l],l,r))&&(delete n[l],a=!0)}}return ae.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Ux(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return ae.forEach(this,(a,i)=>{const o=ae.findKey(n,i);if(o){r[o]=Fm(a),delete r[i];return}const l=t?iU(i):String(i).trim();l!==i&&delete r[i],r[l]=Fm(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ae.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[lS]=this[lS]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Lu(o);n[l]||(sU(a,o),n[l]=!0)}return ae.isArray(t)?t.forEach(i):i(t),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(on.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ae.freezeMethods(on);function Hx(e,t){const r=this||_f,n=t||r,a=on.from(n.headers);let i=n.data;return ae.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function qM(e){return!!(e&&e.__CANCEL__)}function qc(e,t,r){Me.call(this,e??"canceled",Me.ERR_CANCELED,t,r),this.name="CanceledError"}ae.inherits(qc,Me,{__CANCEL__:!0});function ZM(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Me("Request failed with status code "+r.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function oU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lU(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),f=n[i];o||(o=d),r[a]=u,n[a]=d;let h=i,p=0;for(;h!==a;)p+=r[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const g=f&&d-f;return g?Math.round(p*1e3/g):void 0}}function cU(e,t){let r=0,n=1e3/t,a,i;const o=(d,f=Date.now())=>{r=f,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-r;h>=n?o(d,f):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-h)))},()=>a&&o(a)]}const Np=(e,t,r=3)=>{let n=0;const a=lU(50,250);return cU(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,d=a(u),f=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},cS=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},uS=e=>(...t)=>ae.asap(()=>e(...t)),uU=Nr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Nr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Nr.origin),Nr.navigator&&/(msie|trident)/i.test(Nr.navigator.userAgent)):()=>!0,dU=Nr.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];ae.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),ae.isString(n)&&l.push(`path=${n}`),ae.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),ae.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function fU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function YM(e,t,r){let n=!fU(t);return e&&(n||r==!1)?hU(e,t):t}const dS=e=>e instanceof on?{...e}:e;function Wo(e,t){t=t||{};const r={};function n(d,f,h,p){return ae.isPlainObject(d)&&ae.isPlainObject(f)?ae.merge.call({caseless:p},d,f):ae.isPlainObject(f)?ae.merge({},f):ae.isArray(f)?f.slice():f}function a(d,f,h,p){if(ae.isUndefined(f)){if(!ae.isUndefined(d))return n(void 0,d,h,p)}else return n(d,f,h,p)}function i(d,f){if(!ae.isUndefined(f))return n(void 0,f)}function o(d,f){if(ae.isUndefined(f)){if(!ae.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function l(d,f,h){if(h in t)return n(d,f);if(h in e)return n(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>a(dS(d),dS(f),h,!0)};return ae.forEach(Object.keys({...e,...t}),function(f){const h=u[f]||a,p=h(e[f],t[f],f);ae.isUndefined(p)&&h!==l||(r[f]=p)}),r}const GM=e=>{const t=Wo({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=on.from(o),t.url=WM(YM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ae.isFormData(r)){if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ae.isFunction(r.getHeaders)){const u=r.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(Nr.hasStandardBrowserEnv&&(n&&ae.isFunction(n)&&(n=n(t)),n||n!==!1&&uU(t.url))){const u=a&&i&&dU.read(i);u&&o.set(a,u)}return t},mU=typeof XMLHttpRequest<"u",pU=mU&&function(e){return new Promise(function(r,n){const a=GM(e);let i=a.data;const o=on.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=a,f,h,p,g,y;function b(){g&&g(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function w(){if(!_)return;const j=on.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:j,config:e,request:_};ZM(function(A){r(A),b()},function(A){n(A),b()},P),_=null}"onloadend"in _?_.onloadend=w:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(w)},_.onabort=function(){_&&(n(new Me("Request aborted",Me.ECONNABORTED,e,_)),_=null)},_.onerror=function(N){const P=N&&N.message?N.message:"Network Error",C=new Me(P,Me.ERR_NETWORK,e,_);C.event=N||null,n(C),_=null},_.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||VM;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new Me(N,P.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,e,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&ae.forEach(o.toJSON(),function(N,P){_.setRequestHeader(P,N)}),ae.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),l&&l!=="json"&&(_.responseType=a.responseType),d&&([p,y]=Np(d,!0),_.addEventListener("progress",p)),u&&_.upload&&([h,g]=Np(u),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(f=j=>{_&&(n(!j||j.type?new qc(null,e,_):j),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const k=oU(a.url);if(k&&Nr.protocols.indexOf(k)===-1){n(new Me("Unsupported protocol "+k+":",Me.ERR_BAD_REQUEST,e));return}_.send(i||null)})},gU=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const f=d instanceof Error?d:this.reason;n.abort(f instanceof Me?f:new qc(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new Me(`timeout ${t} of ms exceeded`,Me.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>ae.asap(l),u}},yU=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},xU=async function*(e,t){for await(const r of vU(e))yield*yU(r,t)},vU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},fS=(e,t,r,n)=>{const a=xU(e,t);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await a.next();if(d){l(),u.close();return}let h=f.byteLength;if(r){let p=i+=h;r(p)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},hS=64*1024,{isFunction:Zh}=ae,bU=(({Request:e,Response:t})=>({Request:e,Response:t}))(ae.global),{ReadableStream:mS,TextEncoder:pS}=ae.global,gS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wU=e=>{e=ae.merge.call({skipUndefined:!0},bU,e);const{fetch:t,Request:r,Response:n}=e,a=t?Zh(t):typeof fetch=="function",i=Zh(r),o=Zh(n);if(!a)return!1;const l=a&&Zh(mS),u=a&&(typeof pS=="function"?(y=>b=>y.encode(b))(new pS):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=i&&l&&gS(()=>{let y=!1;const b=new r(Nr.origin,{body:new mS,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),f=o&&l&&gS(()=>ae.isReadableStream(new n("").body)),h={stream:f&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(b,_)=>{let w=b&&b[y];if(w)return w.call(b);throw new Me(`Response type '${y}' is not supported`,Me.ERR_NOT_SUPPORT,_)})});const p=async y=>{if(y==null)return 0;if(ae.isBlob(y))return y.size;if(ae.isSpecCompliantForm(y))return(await new r(Nr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(y)||ae.isArrayBuffer(y))return y.byteLength;if(ae.isURLSearchParams(y)&&(y=y+""),ae.isString(y))return(await u(y)).byteLength},g=async(y,b)=>{const _=ae.toFiniteNumber(y.getContentLength());return _??p(b)};return async y=>{let{url:b,method:_,data:w,signal:k,cancelToken:j,timeout:N,onDownloadProgress:P,onUploadProgress:C,responseType:A,headers:O,withCredentials:M="same-origin",fetchOptions:$}=GM(y),I=t||fetch;A=A?(A+"").toLowerCase():"text";let R=gU([k,j&&j.toAbortSignal()],N),B=null;const F=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let q;try{if(C&&d&&_!=="get"&&_!=="head"&&(q=await g(O,w))!==0){let Z=new r(b,{method:"POST",body:w,duplex:"half"}),G;if(ae.isFormData(w)&&(G=Z.headers.get("content-type"))&&O.setContentType(G),Z.body){const[H,Q]=cS(q,Np(uS(C)));w=fS(Z.body,hS,H,Q)}}ae.isString(M)||(M=M?"include":"omit");const W=i&&"credentials"in r.prototype,V={...$,signal:R,method:_.toUpperCase(),headers:O.normalize().toJSON(),body:w,duplex:"half",credentials:W?M:void 0};B=i&&new r(b,V);let z=await(i?I(B,$):I(b,V));const T=f&&(A==="stream"||A==="response");if(f&&(P||T&&F)){const Z={};["status","statusText","headers"].forEach(se=>{Z[se]=z[se]});const G=ae.toFiniteNumber(z.headers.get("content-length")),[H,Q]=P&&cS(G,Np(uS(P),!0))||[];z=new n(fS(z.body,hS,H,()=>{Q&&Q(),F&&F()}),Z)}A=A||"text";let U=await h[ae.findKey(h,A)||"text"](z,y);return!T&&F&&F(),await new Promise((Z,G)=>{ZM(Z,G,{data:U,headers:on.from(z.headers),status:z.status,statusText:z.statusText,config:y,request:B})})}catch(W){throw F&&F(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,y,B),{cause:W.cause||W}):Me.from(W,W&&W.code,y,B)}}},_U=new Map,XM=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,u,d,f=_U;for(;l--;)u=i[l],d=f.get(u),d===void 0&&f.set(u,d=l?new Map:wU(t)),f=d;return d};XM();const y1={http:F9,xhr:pU,fetch:{get:XM}};ae.forEach(y1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yS=e=>`- ${e}`,jU=e=>ae.isFunction(e)||e===null||e===!1;function kU(e,t){e=ae.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!jU(n)&&(a=y1[(l=String(n)).toLowerCase()],a===void 0))throw new Me(`Unknown adapter '${l}'`);if(a&&(ae.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(yS).join(`
`):" "+yS(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const QM={getAdapter:kU,adapters:y1};function Wx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qc(null,e)}function xS(e){return Wx(e),e.headers=on.from(e.headers),e.data=Hx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),QM.getAdapter(e.adapter||_f.adapter,e)(e).then(function(n){return Wx(e),n.data=Hx.call(e,e.transformResponse,n),n.headers=on.from(n.headers),n},function(n){return qM(n)||(Wx(e),n&&n.response&&(n.response.data=Hx.call(e,e.transformResponse,n.response),n.response.headers=on.from(n.response.headers))),Promise.reject(n)})}const JM="1.13.2",s0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{s0[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const vS={};s0.transitional=function(t,r,n){function a(i,o){return"[Axios v"+JM+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Me(a(o," has been removed"+(r?" in "+r:"")),Me.ERR_DEPRECATED);return r&&!vS[o]&&(vS[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};s0.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function NU(e,t,r){if(typeof e!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],u=l===void 0||o(l,i,e);if(u!==!0)throw new Me("option "+i+" must be "+u,Me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Me("Unknown option "+i,Me.ERR_BAD_OPTION)}}const $m={assertOptions:NU,validators:s0},Aa=$m.validators;let Mo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new oS,response:new oS}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Wo(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&$m.assertOptions(n,{silentJSONParsing:Aa.transitional(Aa.boolean),forcedJSONParsing:Aa.transitional(Aa.boolean),clarifyTimeoutError:Aa.transitional(Aa.boolean)},!1),a!=null&&(ae.isFunction(a)?r.paramsSerializer={serialize:a}:$m.assertOptions(a,{encode:Aa.function,serialize:Aa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$m.assertOptions(r,{baseUrl:Aa.spelling("baseURL"),withXsrfToken:Aa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&ae.merge(i.common,i[r.method]);i&&ae.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=on.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let f,h=0,p;if(!u){const y=[xS.bind(this),void 0];for(y.unshift(...l),y.push(...d),p=y.length,f=Promise.resolve(r);h<p;)f=f.then(y[h++],y[h++]);return f}p=l.length;let g=r;for(;h<p;){const y=l[h++],b=l[h++];try{g=y(g)}catch(_){b.call(this,_);break}}try{f=xS.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,p=d.length;h<p;)f=f.then(d[h++],d[h++]);return f}getUri(t){t=Wo(this.defaults,t);const r=YM(t.baseURL,t.url,t.allowAbsoluteUrls);return WM(r,t.params,t.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(t){Mo.prototype[t]=function(r,n){return this.request(Wo(n||{},{method:t,url:r,data:(n||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Wo(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Mo.prototype[t]=r(),Mo.prototype[t+"Form"]=r(!0)});let SU=class eI{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new qc(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new eI(function(a){t=a}),cancel:t}}};function PU(e){return function(r){return e.apply(null,r)}}function CU(e){return ae.isObject(e)&&e.isAxiosError===!0}const Hb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hb).forEach(([e,t])=>{Hb[t]=e});function tI(e){const t=new Mo(e),r=TM(Mo.prototype.request,t);return ae.extend(r,Mo.prototype,t,{allOwnKeys:!0}),ae.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return tI(Wo(e,a))},r}const ct=tI(_f);ct.Axios=Mo;ct.CanceledError=qc;ct.CancelToken=SU;ct.isCancel=qM;ct.VERSION=JM;ct.toFormData=i0;ct.AxiosError=Me;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=PU;ct.isAxiosError=CU;ct.mergeConfig=Wo;ct.AxiosHeaders=on;ct.formToJSON=e=>KM(ae.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=QM.getAdapter;ct.HttpStatusCode=Hb;ct.default=ct;const{Axios:Mge,AxiosError:Ige,CanceledError:Lge,isCancel:Dge,CancelToken:Rge,VERSION:zge,all:Fge,Cancel:$ge,isAxiosError:Bge,spread:Uge,toFormData:Hge,AxiosHeaders:Wge,HttpStatusCode:Vge,formToJSON:Kge,getAdapter:qge,mergeConfig:Zge}=ct,EU="/api",Ot=ct.create({baseURL:EU,headers:{"Content-Type":"application/json"}}),OU=async e=>(await Ot.post("/pipeline/preview",e)).data,AU=async e=>(await Ot.get(`/pipeline/datasets/${e}/schema`)).data,TU=async(e,t)=>(await Ot.post(`/pipeline/save/${e}`,t)).data,MU=async e=>{const t=await Ot.get(`/pipeline/load/${e}`);return t.data?t.data:null},ir={runPipeline:async e=>(await Ot.post("/pipeline/run",e)).data,getJob:async e=>(await Ot.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await Ot.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await Ot.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await Ot.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await Ot.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await Ot.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await Ot.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await Ot.get(`/pipeline/jobs/tuning/history/${e}`)).data},bS=e=>typeof e=="object"&&e!==null,IU=()=>{const[e,t]=x.useState(null),[r,n]=x.useState([]),[a,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const[l,u]=await Promise.all([Ot.get("/pipeline/stats"),ir.getJobs(5,0,"training")]);t(l.data),n(u.map(d=>({id:d.job_id,status:d.status,model_type:d.model_type||"Unknown",created_at:d.start_time||d.created_at||new Date().toISOString(),metrics:(()=>{const f=d.metrics??(bS(d.result)?d.result.metrics:void 0);return bS(f)?f:void 0})()})))}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{i(!1)}})()},[]),s.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),s.jsx(Xg,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Vx,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),s.jsx(Vx,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),s.jsx(Vx,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?s.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?s.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(o=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:o.id,children:[o.id.substring(0,8),"..."]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.model_type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.status==="succeeded"?"bg-green-100 text-green-800":o.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:o.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(o.created_at).toLocaleString()})]},o.id))})]})})]})]})},Vx=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),s.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&s.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Du="/data/api",Yh="/api/ingestion",Wn={getAll:async()=>{const e=await fetch(`${Du}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getUsable:async()=>{const e=await fetch(`${Du}/sources/usable`);if(!e.ok)throw new Error("Failed to fetch usable datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Yh}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Yh}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Yh}/${encodeURIComponent(e)}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},cancelIngestion:async e=>{const t=await fetch(`${Yh}/${encodeURIComponent(e)}/cancel`,{method:"POST"});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to cancel ingestion")}},getById:async e=>{const t=await fetch(`${Du}/sources/${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=new URLSearchParams({limit:t.toString()}),n=await fetch(`${Du}/sources/${encodeURIComponent(e)}/sample?${r.toString()}`);if(!n.ok)throw new Error("Failed to fetch dataset sample");return(await n.json()).data},getProfile:async e=>{const t=await fetch(`/api/pipeline/datasets/${encodeURIComponent(e)}/schema`);if(!t.ok)throw new Error("Failed to fetch dataset profile");const r=await t.json(),n=Object.values(r.columns).map(o=>{const l=o;return{name:l.name,dtype:l.dtype,missing_count:l.missing_count||0,missing_percentage:(l.missing_ratio||0)*100,distinct_count:l.unique_count||0,numeric_summary:l.column_type==="numeric"?{mean:l.mean_value,std:l.std_value,minimum:l.min_value,maximum:l.max_value}:void 0}}),a=r.row_count*r.column_count,i=n.reduce((o,l)=>o+l.missing_count,0);return{metrics:{row_count:r.row_count,column_count:r.column_count,missing_cells:i,missing_percentage:a>0?Number((i/a*100).toFixed(2)):0},columns:n}},delete:async e=>{if(!(await fetch(`${Du}/sources/${encodeURIComponent(e)}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")}},rI=({onUploadComplete:e,onCancel:t})=>{const[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(null),[u,d]=x.useState(0),f=x.useCallback(y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?n(!0):y.type==="dragleave"&&n(!1)},[]),h=x.useCallback(y=>{y.preventDefault(),y.stopPropagation(),n(!1),y.dataTransfer.files&&y.dataTransfer.files[0]&&g(y.dataTransfer.files[0])},[]),p=y=>{y.preventDefault(),y.target.files&&y.target.files[0]&&g(y.target.files[0])},g=async y=>{i(!0),l(null),d(0);try{const b=await Wn.upload(y);e(b.job_id,y.name)}catch(b){console.error("Upload failed:",b),l(b.message||"Failed to upload file. Please try again.")}finally{i(!1)}};return s.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:s.jsx(lr,{size:16})}),s.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[s.jsx(X7,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),s.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:h,children:a?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${u}%`}})}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",u,"%"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(k7,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",s.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",s.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:p})]})]}),s.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),o&&s.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[s.jsx(an,{size:16,className:"mt-0.5 shrink-0"}),s.jsx("span",{children:o})]})]})},nI=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,i)).toFixed(n))} ${a[i]}`},LU=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=x.useState([]),[i,o]=x.useState(null),[l,u]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState("sample"),[g,y]=x.useState(100);x.useEffect(()=>{t&&e?b(100):(a([]),o(null),f(null),p("sample"),y(100))},[t,e]);const b=async P=>{if(e){u(!0),f(null);try{const[C,A]=await Promise.all([Wn.getSample(e.id,P),Wn.getProfile(e.id)]);a(C),o(A)}catch(C){console.error("Failed to fetch data:",C),f("Failed to load dataset preview.")}finally{u(!1)}}},_=()=>{const P=g+500;y(P),b(P)};if(!t||!e)return null;const w=n.length>0?Object.keys(n[0]):[],k=(i==null?void 0:i.metrics.row_count)??e.rows??0,j=(i==null?void 0:i.metrics.column_count)??e.columns??0,N=e.size_bytes??0;return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:s.jsx(Ha,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jg,{size:14})," ",e.format||"CSV"]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(m7,{size:14})," ",k.toLocaleString()," rows"]}),s.jsx("span",{children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(b7,{size:14})," ",j," columns"]}),s.jsx("span",{children:""}),s.jsx("span",{children:nI(N)})]})]})]}),s.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:s.jsx(lr,{size:20})})]}),s.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[s.jsx("button",{onClick:()=>{p("sample")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${h==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),s.jsx("button",{onClick:()=>{p("stats")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${h==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),s.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{children:"Loading preview data..."})]}):d?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[s.jsx("p",{children:d}),s.jsx("button",{onClick:()=>{b(g)},className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):h==="sample"?n.length===0?s.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):w.length===0?s.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:s.jsx("tr",{children:w.map(P=>s.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:P},P))})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((P,C)=>s.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:w.map(A=>s.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(P[A]??"")},`${C}-${A}`))},C))})]})})}),s.jsxs("div",{className:"flex justify-center items-center gap-4",children:[s.jsx("button",{onClick:_,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),s.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Gh,{label:"Total Rows",value:i==null?void 0:i.metrics.row_count.toLocaleString()}),s.jsx(Gh,{label:"Total Columns",value:i==null?void 0:i.metrics.column_count}),s.jsx(Gh,{label:"Missing Cells",value:i==null?void 0:i.metrics.missing_cells.toLocaleString()}),s.jsx(Gh,{label:"Missing %",value:`${i==null?void 0:i.metrics.missing_percentage}%`})]}),s.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),s.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:i==null?void 0:i.columns.map(P=>{var C,A,O,M;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:P.name}),s.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:P.dtype}),s.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[P.missing_count," ",s.jsxs("span",{className:"text-xs text-slate-400",children:["(",P.missing_percentage,"%)"]})]}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:P.distinct_count}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((C=P.numeric_summary)==null?void 0:C.minimum.toFixed(2))??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((A=P.numeric_summary)==null?void 0:A.maximum.toFixed(2))??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((O=P.numeric_summary)==null?void 0:O.mean.toFixed(2))??"-"}),s.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((M=P.numeric_summary)==null?void 0:M.std.toFixed(2))??"-"})]},P.name)})})]})})]})}),s.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:s.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Gh=({label:e,value:t})=>s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),s.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),DU=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=x.useState("database"),[i,o]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState(""),[g,y]=x.useState("GET"),[b,_]=x.useState(""),[w,k]=x.useState(!1),[j,N]=x.useState(!1),[P,C]=x.useState(null);if(!e)return null;const A=async O=>{var M,$,I;O.preventDefault(),N(!0),C(null);try{const R={};if(n==="database")R.connection_string=l,R.query=d;else if(n==="s3"){R.path=b;const q=O.target,W=(M=q.elements.namedItem("aws_access_key_id"))==null?void 0:M.value,V=($=q.elements.namedItem("aws_secret_access_key"))==null?void 0:$.value,z=(I=q.elements.namedItem("region_name"))==null?void 0:I.value;W&&V&&(R.storage_options={aws_access_key_id:W,aws_secret_access_key:V,region:z||void 0})}else R.url=h,R.method=g;const B={name:i,type:n,config:R,description:`Imported from ${n}`},F=await Wn.createSource(B);r(F.job_id),t()}catch(R){C(R.message||"Failed to create source")}finally{N(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700 shrink-0",children:[s.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),s.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:s.jsx(lr,{size:20})})]}),s.jsxs("div",{className:"p-4 overflow-y-auto",children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs("button",{onClick:()=>{a("database")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[s.jsx(Ha,{size:16})," Database"]}),s.jsxs("button",{onClick:()=>{a("s3")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="s3"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[s.jsx(kM,{size:16})," S3"]}),s.jsxs("button",{onClick:()=>{a("api")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[s.jsx(O7,{size:16})," API"]})]}),s.jsxs("form",{onSubmit:O=>{A(O)},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),s.jsx("input",{type:"text",required:!0,value:i,onChange:O=>{o(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),s.jsx("input",{type:"text",required:!0,value:l,onChange:O=>{u(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),s.jsx("textarea",{required:!0,value:d,onChange:O=>{f(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}),n==="s3"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S3 Path"}),s.jsx("input",{type:"text",required:!0,value:b,onChange:O=>{_(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"s3://my-bucket/path/to/data.parquet"})]}),s.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-md overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:()=>k(!w),className:"w-full flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Credentials (Optional)"})}),w?s.jsx(or,{size:16,className:"text-slate-500"}):s.jsx(Ua,{size:16,className:"text-slate-500"})]}),w&&s.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700",children:[s.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"If your bucket is private, provide credentials here. They will be stored securely. Leave blank if using backend's IAM role."}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Access Key ID"}),s.jsx("input",{type:"text",name:"aws_access_key_id",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"AKIA..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Secret Access Key"}),s.jsx("input",{type:"password",name:"aws_secret_access_key",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"Secret..."})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Region"}),s.jsx("input",{type:"text",name:"region_name",className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"us-east-1"})]})]})]})]})]}),n==="api"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),s.jsx("input",{type:"url",required:!0,value:h,onChange:O=>{p(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),s.jsxs("select",{value:g,onChange:O=>{y(O.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"GET",children:"GET"}),s.jsx("option",{value:"POST",children:"POST"})]})]})]}),P&&s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:P}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:j?"Creating...":s.jsxs(s.Fragment,{children:[s.jsx(Id,{size:16})," Create Source"]})})]})]})]})]})})},RU=({isOpen:e,onClose:t,datasets:r,onRefresh:n})=>{const[a,i]=x.useState(null);if(!e)return null;const o=async u=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){i(u);try{await Wn.cancelIngestion(u),n&&n()}catch(d){console.error("Failed to cancel ingestion:",d),alert("Failed to cancel ingestion")}finally{i(null)}}},l=r.map(u=>{var d,f,h,p,g,y;return{id:u.id,name:u.name,status:((f=(d=u.source_metadata)==null?void 0:d.ingestion_status)==null?void 0:f.status)||"completed",created_at:u.created_at,message:((p=(h=u.source_metadata)==null?void 0:h.ingestion_status)==null?void 0:p.error)||(((y=(g=u.source_metadata)==null?void 0:g.ingestion_status)==null?void 0:y.status)==="cancelled"?"Ingestion cancelled":"Ingestion completed successfully")}}).sort((u,d)=>new Date(d.created_at).getTime()-new Date(u.created_at).getTime());return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),s.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:s.jsx(lr,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?s.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):s.jsx("div",{className:"space-y-4",children:l.map(u=>s.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[s.jsx("div",{className:"mt-1",children:u.status==="processing"||u.status==="pending"?s.jsx(Xr,{className:"text-blue-500 animate-spin",size:20}):u.status==="failed"?s.jsx(f1,{className:"text-red-500",size:20}):u.status==="cancelled"?s.jsx(Q2,{className:"text-slate-500",size:20}):s.jsx(ba,{className:"text-green-500",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:u.name}),s.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsx(Qg,{size:12}),new Date(u.created_at).toLocaleString()]})]}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",s.jsx("span",{className:"capitalize",children:u.status})]}),(u.status==="failed"||u.status==="cancelled")&&s.jsx("p",{className:`text-sm mt-1 p-2 rounded ${u.status==="failed"?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10":"text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800"}`,children:u.message})]}),(u.status==="processing"||u.status==="pending")&&s.jsx("button",{onClick:()=>{o(u.id)},disabled:a===u.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:a===u.id?s.jsx(Xr,{className:"animate-spin",size:20}):s.jsx(Q2,{size:20})})]},u.id))})})]})})},zU=()=>{const e=Yg(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,y]=x.useState(null),[b,_]=x.useState(null),[w,k]=x.useState("completed"),j=t.filter(I=>{var B,F;const R=((F=(B=I.source_metadata)==null?void 0:B.ingestion_status)==null?void 0:F.status)||"completed";return w==="all"?!0:w==="active"?["processing","pending"].includes(R):R===w}),N=async()=>{t.length===0&&a(!0);try{const I=await Wn.getAll();r(I)}catch(I){console.error("Failed to fetch datasets:",I)}finally{a(!1)}};x.useEffect(()=>{N()},[]),x.useEffect(()=>{const I=setInterval(()=>{t.some(B=>{var F,q,W,V;return((q=(F=B.source_metadata)==null?void 0:F.ingestion_status)==null?void 0:q.status)==="pending"||((V=(W=B.source_metadata)==null?void 0:W.ingestion_status)==null?void 0:V.status)==="processing"})&&N()},5e3);return()=>{clearInterval(I)}},[t]);const P=async I=>{if(window.confirm("Are you sure you want to delete this dataset?")){p(I);try{await Wn.delete(I),r(t.filter(R=>R.id!==I))}catch(R){console.error("Failed to delete dataset:",R),alert("Failed to delete dataset")}finally{p(null)}}},C=async I=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){y(I);try{await Wn.cancelIngestion(I),N()}catch(R){console.error("Failed to cancel ingestion:",R),alert("Failed to cancel ingestion")}finally{y(null)}}},A=I=>{e(`/canvas?source_id=${I}`)},O=()=>{o(!1),N()},M=()=>{u(!1),N()},$=I=>{var B,F;const R=(F=(B=I.source_metadata)==null?void 0:B.ingestion_status)==null?void 0:F.status;return!R||R==="completed"?null:R==="failed"?s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):R==="cancelled"?s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-400",children:"Cancelled"}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[s.jsx(Xr,{size:12,className:"animate-spin"}),R==="processing"?"Processing...":"Pending..."]})};return s.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[s.jsx(LU,{dataset:b,isOpen:!!b,onClose:()=>{_(null)}}),s.jsx(DU,{isOpen:l,onClose:()=>{u(!1)},onSuccess:M}),s.jsx(RU,{isOpen:d,onClose:()=>{f(!1)},datasets:t,onRefresh:N}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>{f(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[s.jsx(xc,{size:18}),"Ingestion Jobs"]}),s.jsxs("button",{onClick:()=>{u(!0)},className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[s.jsx(Ha,{size:18}),"Add Source"]}),s.jsxs("button",{onClick:()=>{o(!i)},className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[s.jsx(nl,{size:18}),i?"Cancel Upload":"Upload File"]})]})]}),i&&s.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:s.jsx(rI,{onUploadComplete:O,onCancel:()=>{o(!1)}})}),s.jsx("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:["all","active","completed","failed","cancelled"].map(I=>s.jsx("button",{onClick:()=>{k(I)},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${w===I?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-slate-800 text-slate-600 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:I.charAt(0).toUpperCase()+I.slice(1)},I))}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):j.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:t.length===0?s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),s.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),s.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]}):s.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets match the selected filter"})})}):j.map(I=>{var R,B,F,q,W,V,z;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:s.jsx(Jg,{size:18})}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[I.name,$(I)]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:I.source_id||I.id})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:I.format||"CSV"})}),s.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:nI(I.size_bytes||0)}),s.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((R=I.rows)==null?void 0:R.toLocaleString())||"-"," rows  ",I.columns||"-"," cols"]})]})}),s.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xc,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(I.created_at).toLocaleDateString()]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((F=(B=I.source_metadata)==null?void 0:B.ingestion_status)==null?void 0:F.status)==="completed"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{_(I)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:s.jsx(j7,{size:16})}),s.jsxs("button",{onClick:()=>{A(I.id)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[s.jsx(Hs,{size:16}),"Canvas"]}),s.jsxs("button",{onClick:()=>{e(`/eda?dataset_id=${I.id}`)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-md transition-colors",title:"Analyze with EDA",children:[s.jsx(Zl,{size:16}),"EDA"]})]}),(((W=(q=I.source_metadata)==null?void 0:q.ingestion_status)==null?void 0:W.status)==="pending"||((z=(V=I.source_metadata)==null?void 0:V.ingestion_status)==null?void 0:z.status)==="processing")&&s.jsx("button",{onClick:()=>{C(I.id)},disabled:g===I.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:g===I.id?s.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):s.jsx(f1,{size:16})}),s.jsx("button",{onClick:()=>{P(I.id)},disabled:h===I.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:h===I.id?s.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):s.jsx(Vs,{size:16})})]})})]},I.id)})})]})})})]})},uo=class uo{constructor(){Nu(this,"nodes",new Map)}static getInstance(){return uo.instance||(uo.instance=new uo),uo.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};Nu(uo,"instance");let Wb=uo;const Ke=Wb.getInstance(),FU={},wS=e=>{let t;const r=new Set,n=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const g=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(y=>y(t,g))}},a=()=>t,u={setState:n,getState:a,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(FU?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,a,u);return u},aI=e=>e?wS(e):wS;var iI={exports:{}},sI={},oI={exports:{}},lI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=x;function $U(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BU=typeof Object.is=="function"?Object.is:$U,UU=bc.useState,HU=bc.useEffect,WU=bc.useLayoutEffect,VU=bc.useDebugValue;function KU(e,t){var r=t(),n=UU({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return WU(function(){a.value=r,a.getSnapshot=t,Kx(a)&&i({inst:a})},[e,r,t]),HU(function(){return Kx(a)&&i({inst:a}),e(function(){Kx(a)&&i({inst:a})})},[e]),VU(r),r}function Kx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!BU(e,r)}catch{return!0}}function qU(e,t){return t()}var ZU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qU:KU;lI.useSyncExternalStore=bc.useSyncExternalStore!==void 0?bc.useSyncExternalStore:ZU;oI.exports=lI;var YU=oI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=x,GU=YU;function XU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QU=typeof Object.is=="function"?Object.is:XU,JU=GU.useSyncExternalStore,eH=o0.useRef,tH=o0.useEffect,rH=o0.useMemo,nH=o0.useDebugValue;sI.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=eH(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=rH(function(){function u(g){if(!d){if(d=!0,f=g,g=n(g),a!==void 0&&o.hasValue){var y=o.value;if(a(y,g))return h=y}return h=g}if(y=h,QU(f,g))return y;var b=n(g);return a!==void 0&&a(y,b)?(f=g,y):(f=g,h=b)}var d=!1,f,h,p=r===void 0?null:r;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,r,n,a]);var l=JU(e,i[0],i[1]);return tH(function(){o.hasValue=!0,o.value=l},[l]),nH(l),l};iI.exports=sI;var cI=iI.exports;const uI=Ya(cI),dI={},{useDebugValue:aH}=Sr,{useSyncExternalStoreWithSelector:iH}=uI;let _S=!1;const sH=e=>e;function oH(e,t=sH,r){(dI?"production":void 0)!=="production"&&r&&!_S&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_S=!0);const n=iH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return aH(n),n}const jS=e=>{(dI?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?aI(e):e,r=(n,a)=>oH(t,n,a);return Object.assign(r,t),r},x1=e=>e?jS(e):jS;function Bt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Bt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var lH={value:()=>{}};function l0(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Bm(r)}function Bm(e){this._=e}function cH(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Bm.prototype=l0.prototype={constructor:Bm,on:function(e,t){var r=this._,n=cH(e+"",r),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(e=n[i]).type)&&(a=uH(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=n[i]).type)r[a]=kS(r[a],e.name,t);else if(t==null)for(a in r)r[a]=kS(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Bm(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function uH(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function kS(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=lH,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Vb="http://www.w3.org/1999/xhtml";const NS={svg:"http://www.w3.org/2000/svg",xhtml:Vb,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function c0(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),NS.hasOwnProperty(t)?{space:NS[t],local:e}:e}function dH(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Vb&&t.documentElement.namespaceURI===Vb?t.createElement(e):t.createElementNS(r,e)}}function fH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fI(e){var t=c0(e);return(t.local?fH:dH)(t)}function hH(){}function v1(e){return e==null?hH:function(){return this.querySelector(e)}}function mH(e){typeof e!="function"&&(e=v1(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=new Array(o),u,d,f=0;f<o;++f)(u=i[f])&&(d=e.call(u,u.__data__,f,i))&&("__data__"in u&&(d.__data__=u.__data__),l[f]=d);return new vn(n,this._parents)}function pH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gH(){return[]}function hI(e){return e==null?gH:function(){return this.querySelectorAll(e)}}function yH(e){return function(){return pH(e.apply(this,arguments))}}function xH(e){typeof e=="function"?e=yH(e):e=hI(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var o=t[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(n.push(e.call(u,u.__data__,d,o)),a.push(u));return new vn(n,a)}function mI(e){return function(){return this.matches(e)}}function pI(e){return function(t){return t.matches(e)}}var vH=Array.prototype.find;function bH(e){return function(){return vH.call(this.children,e)}}function wH(){return this.firstElementChild}function _H(e){return this.select(e==null?wH:bH(typeof e=="function"?e:pI(e)))}var jH=Array.prototype.filter;function kH(){return Array.from(this.children)}function NH(e){return function(){return jH.call(this.children,e)}}function SH(e){return this.selectAll(e==null?kH:NH(typeof e=="function"?e:pI(e)))}function PH(e){typeof e!="function"&&(e=mI(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new vn(n,this._parents)}function gI(e){return new Array(e.length)}function CH(){return new vn(this._enter||this._groups.map(gI),this._parents)}function Sp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sp.prototype={constructor:Sp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function EH(e){return function(){return e}}function OH(e,t,r,n,a,i){for(var o=0,l,u=t.length,d=i.length;o<d;++o)(l=t[o])?(l.__data__=i[o],n[o]=l):r[o]=new Sp(e,i[o]);for(;o<u;++o)(l=t[o])&&(a[o]=l)}function AH(e,t,r,n,a,i,o){var l,u,d=new Map,f=t.length,h=i.length,p=new Array(f),g;for(l=0;l<f;++l)(u=t[l])&&(p[l]=g=o.call(u,u.__data__,l,t)+"",d.has(g)?a[l]=u:d.set(g,u));for(l=0;l<h;++l)g=o.call(e,i[l],l,i)+"",(u=d.get(g))?(n[l]=u,u.__data__=i[l],d.delete(g)):r[l]=new Sp(e,i[l]);for(l=0;l<f;++l)(u=t[l])&&d.get(p[l])===u&&(a[l]=u)}function TH(e){return e.__data__}function MH(e,t){if(!arguments.length)return Array.from(this,TH);var r=t?AH:OH,n=this._parents,a=this._groups;typeof e!="function"&&(e=EH(e));for(var i=a.length,o=new Array(i),l=new Array(i),u=new Array(i),d=0;d<i;++d){var f=n[d],h=a[d],p=h.length,g=IH(e.call(f,f&&f.__data__,d,n)),y=g.length,b=l[d]=new Array(y),_=o[d]=new Array(y),w=u[d]=new Array(p);r(f,h,b,_,w,g,t);for(var k=0,j=0,N,P;k<y;++k)if(N=b[k]){for(k>=j&&(j=k+1);!(P=_[j])&&++j<y;);N._next=P||null}}return o=new vn(o,n),o._enter=l,o._exit=u,o}function IH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LH(){return new vn(this._exit||this._groups.map(gI),this._parents)}function DH(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function RH(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,o=Math.min(a,i),l=new Array(a),u=0;u<o;++u)for(var d=r[u],f=n[u],h=d.length,p=l[u]=new Array(h),g,y=0;y<h;++y)(g=d[y]||f[y])&&(p[y]=g);for(;u<a;++u)l[u]=r[u];return new vn(l,this._parents)}function zH(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],o;--a>=0;)(o=n[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function FH(e){e||(e=$H);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var o=r[i],l=o.length,u=a[i]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(u[f]=d);u.sort(t)}return new vn(a,this._parents).order()}function $H(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function BH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function UH(){return Array.from(this)}function HH(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var o=n[a];if(o)return o}return null}function WH(){let e=0;for(const t of this)++e;return e}function VH(){return!this.node()}function KH(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function qH(e){return function(){this.removeAttribute(e)}}function ZH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function YH(e,t){return function(){this.setAttribute(e,t)}}function GH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function XH(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function QH(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function JH(e,t){var r=c0(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?ZH:qH:typeof t=="function"?r.local?QH:XH:r.local?GH:YH)(r,t))}function yI(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function eW(e){return function(){this.style.removeProperty(e)}}function tW(e,t,r){return function(){this.style.setProperty(e,t,r)}}function rW(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function nW(e,t,r){return arguments.length>1?this.each((t==null?eW:typeof t=="function"?rW:tW)(e,t,r??"")):wc(this.node(),e)}function wc(e,t){return e.style.getPropertyValue(t)||yI(e).getComputedStyle(e,null).getPropertyValue(t)}function aW(e){return function(){delete this[e]}}function iW(e,t){return function(){this[e]=t}}function sW(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function oW(e,t){return arguments.length>1?this.each((t==null?aW:typeof t=="function"?sW:iW)(e,t)):this.node()[e]}function xI(e){return e.trim().split(/^|\s+/)}function b1(e){return e.classList||new vI(e)}function vI(e){this._node=e,this._names=xI(e.getAttribute("class")||"")}vI.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bI(e,t){for(var r=b1(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function wI(e,t){for(var r=b1(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function lW(e){return function(){bI(this,e)}}function cW(e){return function(){wI(this,e)}}function uW(e,t){return function(){(t.apply(this,arguments)?bI:wI)(this,e)}}function dW(e,t){var r=xI(e+"");if(arguments.length<2){for(var n=b1(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?uW:t?lW:cW)(r,t))}function fW(){this.textContent=""}function hW(e){return function(){this.textContent=e}}function mW(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pW(e){return arguments.length?this.each(e==null?fW:(typeof e=="function"?mW:hW)(e)):this.node().textContent}function gW(){this.innerHTML=""}function yW(e){return function(){this.innerHTML=e}}function xW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function vW(e){return arguments.length?this.each(e==null?gW:(typeof e=="function"?xW:yW)(e)):this.node().innerHTML}function bW(){this.nextSibling&&this.parentNode.appendChild(this)}function wW(){return this.each(bW)}function _W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jW(){return this.each(_W)}function kW(e){var t=typeof e=="function"?e:fI(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function NW(){return null}function SW(e,t){var r=typeof e=="function"?e:fI(e),n=t==null?NW:typeof t=="function"?t:v1(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function PW(){var e=this.parentNode;e&&e.removeChild(this)}function CW(){return this.each(PW)}function EW(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function OW(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function AW(e){return this.select(e?OW:EW)}function TW(e){return arguments.length?this.property("__data__",e):this.node().__data__}function MW(e){return function(t){e.call(this,t,this.__data__)}}function IW(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function LW(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function DW(e,t,r){return function(){var n=this.__on,a,i=MW(t);if(n){for(var o=0,l=n.length;o<l;++o)if((a=n[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function RW(e,t,r){var n=IW(e+""),a,i=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,f;u<d;++u)for(a=0,f=l[u];a<i;++a)if((o=n[a]).type===f.type&&o.name===f.name)return f.value}return}for(l=t?DW:LW,a=0;a<i;++a)this.each(l(n[a],t,r));return this}function _I(e,t,r){var n=yI(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function zW(e,t){return function(){return _I(this,e,t)}}function FW(e,t){return function(){return _I(this,e,t.apply(this,arguments))}}function $W(e,t){return this.each((typeof t=="function"?FW:zW)(e,t))}function*BW(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,o;a<i;++a)(o=n[a])&&(yield o)}var jI=[null];function vn(e,t){this._groups=e,this._parents=t}function jf(){return new vn([[document.documentElement]],jI)}function UW(){return this}vn.prototype=jf.prototype={constructor:vn,select:mH,selectAll:xH,selectChild:_H,selectChildren:SH,filter:PH,data:MH,enter:CH,exit:LH,join:DH,merge:RH,selection:UW,order:zH,sort:FH,call:BH,nodes:UH,node:HH,size:WH,empty:VH,each:KH,attr:JH,style:nW,property:oW,classed:dW,text:pW,html:vW,raise:wW,lower:jW,append:kW,insert:SW,remove:CW,clone:AW,datum:TW,on:RW,dispatch:$W,[Symbol.iterator]:BW};function fn(e){return typeof e=="string"?new vn([[document.querySelector(e)]],[document.documentElement]):new vn([[e]],jI)}function HW(e){let t;for(;t=e.sourceEvent;)e=t;return e}function sa(e,t){if(e=HW(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const WW={passive:!1},Ld={capture:!0,passive:!1};function qx(e){e.stopImmediatePropagation()}function Yl(e){e.preventDefault(),e.stopImmediatePropagation()}function kI(e){var t=e.document.documentElement,r=fn(e).on("dragstart.drag",Yl,Ld);"onselectstart"in t?r.on("selectstart.drag",Yl,Ld):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function NI(e,t){var r=e.document.documentElement,n=fn(e).on("dragstart.drag",null);t&&(n.on("click.drag",Yl,Ld),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Xh=e=>()=>e;function Kb(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:i,x:o,y:l,dx:u,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}Kb.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function VW(e){return!e.ctrlKey&&!e.button}function KW(){return this.parentNode}function qW(e,t){return t??{x:e.x,y:e.y}}function ZW(){return navigator.maxTouchPoints||"ontouchstart"in this}function SI(){var e=VW,t=KW,r=qW,n=ZW,a={},i=l0("start","drag","end"),o=0,l,u,d,f,h=0;function p(N){N.on("mousedown.drag",g).filter(n).on("touchstart.drag",_).on("touchmove.drag",w,WW).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(N,P){if(!(f||!e.call(this,N,P))){var C=j(this,t.call(this,N,P),N,P,"mouse");C&&(fn(N.view).on("mousemove.drag",y,Ld).on("mouseup.drag",b,Ld),kI(N.view),qx(N),d=!1,l=N.clientX,u=N.clientY,C("start",N))}}function y(N){if(Yl(N),!d){var P=N.clientX-l,C=N.clientY-u;d=P*P+C*C>h}a.mouse("drag",N)}function b(N){fn(N.view).on("mousemove.drag mouseup.drag",null),NI(N.view,d),Yl(N),a.mouse("end",N)}function _(N,P){if(e.call(this,N,P)){var C=N.changedTouches,A=t.call(this,N,P),O=C.length,M,$;for(M=0;M<O;++M)($=j(this,A,N,P,C[M].identifier,C[M]))&&(qx(N),$("start",N,C[M]))}}function w(N){var P=N.changedTouches,C=P.length,A,O;for(A=0;A<C;++A)(O=a[P[A].identifier])&&(Yl(N),O("drag",N,P[A]))}function k(N){var P=N.changedTouches,C=P.length,A,O;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),A=0;A<C;++A)(O=a[P[A].identifier])&&(qx(N),O("end",N,P[A]))}function j(N,P,C,A,O,M){var $=i.copy(),I=sa(M||C,P),R,B,F;if((F=r.call(N,new Kb("beforestart",{sourceEvent:C,target:p,identifier:O,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:$}),A))!=null)return R=F.x-I[0]||0,B=F.y-I[1]||0,function q(W,V,z){var T=I,U;switch(W){case"start":a[O]=q,U=o++;break;case"end":delete a[O],--o;case"drag":I=sa(z||V,P),U=o;break}$.call(W,N,new Kb(W,{sourceEvent:V,subject:F,target:p,identifier:O,active:U,x:I[0]+R,y:I[1]+B,dx:I[0]-T[0],dy:I[1]-T[1],dispatch:$}),A)}}return p.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Xh(!!N),p):e},p.container=function(N){return arguments.length?(t=typeof N=="function"?N:Xh(N),p):t},p.subject=function(N){return arguments.length?(r=typeof N=="function"?N:Xh(N),p):r},p.touchable=function(N){return arguments.length?(n=typeof N=="function"?N:Xh(!!N),p):n},p.on=function(){var N=i.on.apply(i,arguments);return N===i?p:N},p.clickDistance=function(N){return arguments.length?(h=(N=+N)*N,p):Math.sqrt(h)},p}function w1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PI(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function kf(){}var Dd=.7,Pp=1/Dd,Gl="\\s*([+-]?\\d+)\\s*",Rd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YW=/^#([0-9a-f]{3,8})$/,GW=new RegExp(`^rgb\\(${Gl},${Gl},${Gl}\\)$`),XW=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),QW=new RegExp(`^rgba\\(${Gl},${Gl},${Gl},${Rd}\\)$`),JW=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${Rd}\\)$`),eV=new RegExp(`^hsl\\(${Rd},${Ba},${Ba}\\)$`),tV=new RegExp(`^hsla\\(${Rd},${Ba},${Ba},${Rd}\\)$`),SS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w1(kf,Vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PS,formatHex:PS,formatHex8:rV,formatHsl:nV,formatRgb:CS,toString:CS});function PS(){return this.rgb().formatHex()}function rV(){return this.rgb().formatHex8()}function nV(){return CI(this).formatHsl()}function CS(){return this.rgb().formatRgb()}function Vo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=YW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ES(t):r===3?new Qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GW.exec(e))?new Qr(t[1],t[2],t[3],1):(t=XW.exec(e))?new Qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QW.exec(e))?Qh(t[1],t[2],t[3],t[4]):(t=JW.exec(e))?Qh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eV.exec(e))?TS(t[1],t[2]/100,t[3]/100,1):(t=tV.exec(e))?TS(t[1],t[2]/100,t[3]/100,t[4]):SS.hasOwnProperty(e)?ES(SS[e]):e==="transparent"?new Qr(NaN,NaN,NaN,0):null}function ES(e){return new Qr(e>>16&255,e>>8&255,e&255,1)}function Qh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qr(e,t,r,n)}function aV(e){return e instanceof kf||(e=Vo(e)),e?(e=e.rgb(),new Qr(e.r,e.g,e.b,e.opacity)):new Qr}function qb(e,t,r,n){return arguments.length===1?aV(e):new Qr(e,t,r,n??1)}function Qr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}w1(Qr,qb,PI(kf,{brighter(e){return e=e==null?Pp:Math.pow(Pp,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dd:Math.pow(Dd,e),new Qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qr(Io(this.r),Io(this.g),Io(this.b),Cp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OS,formatHex:OS,formatHex8:iV,formatRgb:AS,toString:AS}));function OS(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function iV(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function AS(){const e=Cp(this.opacity);return`${e===1?"rgb(":"rgba("}${Io(this.r)}, ${Io(this.g)}, ${Io(this.b)}${e===1?")":`, ${e})`}`}function Cp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yo(e){return e=Io(e),(e<16?"0":"")+e.toString(16)}function TS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ua(e,t,r,n)}function CI(e){if(e instanceof ua)return new ua(e.h,e.s,e.l,e.opacity);if(e instanceof kf||(e=Vo(e)),!e)return new ua;if(e instanceof ua)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,u=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?i+a:2-i-a,o*=60):l=u>0&&u<1?0:o,new ua(o,l,u,e.opacity)}function sV(e,t,r,n){return arguments.length===1?CI(e):new ua(e,t,r,n??1)}function ua(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}w1(ua,sV,PI(kf,{brighter(e){return e=e==null?Pp:Math.pow(Pp,e),new ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dd:Math.pow(Dd,e),new ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Qr(Zx(e>=240?e-240:e+120,a,n),Zx(e,a,n),Zx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ua(MS(this.h),Jh(this.s),Jh(this.l),Cp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cp(this.opacity);return`${e===1?"hsl(":"hsla("}${MS(this.h)}, ${Jh(this.s)*100}%, ${Jh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MS(e){return e=(e||0)%360,e<0?e+360:e}function Jh(e){return Math.max(0,Math.min(1,e||0))}function Zx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _1=e=>()=>e;function oV(e,t){return function(r){return e+r*t}}function lV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cV(e){return(e=+e)==1?EI:function(t,r){return r-t?lV(t,r,e):_1(isNaN(t)?r:t)}}function EI(e,t){var r=t-e;return r?oV(e,r):_1(isNaN(e)?t:e)}const Ep=function e(t){var r=cV(t);function n(a,i){var o=r((a=qb(a)).r,(i=qb(i)).r),l=r(a.g,i.g),u=r(a.b,i.b),d=EI(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=d(f),a+""}}return n.gamma=e,n}(1);function uV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function dV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ni(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function hV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function la(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mV(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ni(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Zb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yx=new RegExp(Zb.source,"g");function pV(e){return function(){return e}}function gV(e){return function(t){return e(t)+""}}function OI(e,t){var r=Zb.lastIndex=Yx.lastIndex=0,n,a,i,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=Zb.exec(e))&&(a=Yx.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:la(n,a)})),r=Yx.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?u[0]?gV(u[0].x):pV(t):(t=u.length,function(d){for(var f=0,h;f<t;++f)l[(h=u[f]).i]=h.x(d);return l.join("")})}function Ni(e,t){var r=typeof t,n;return t==null||r==="boolean"?_1(t):(r==="number"?la:r==="string"?(n=Vo(t))?(t=n,Ep):OI:t instanceof Vo?Ep:t instanceof Date?hV:dV(t)?uV:Array.isArray(t)?fV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mV:la)(e,t)}function j1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var IS=180/Math.PI,Yb={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AI(e,t,r,n,a,i){var o,l,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*IS,skewX:Math.atan(u)*IS,scaleX:o,scaleY:l}}var em;function yV(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yb:AI(t.a,t.b,t.c,t.d,t.e,t.f)}function xV(e){return e==null||(em||(em=document.createElementNS("http://www.w3.org/2000/svg","g")),em.setAttribute("transform",e),!(e=em.transform.baseVal.consolidate()))?Yb:(e=e.matrix,AI(e.a,e.b,e.c,e.d,e.e,e.f))}function TI(e,t,r,n){function a(d){return d.length?d.pop()+" ":""}function i(d,f,h,p,g,y){if(d!==h||f!==p){var b=g.push("translate(",null,t,null,r);y.push({i:b-4,x:la(d,h)},{i:b-2,x:la(f,p)})}else(h||p)&&g.push("translate("+h+t+p+r)}function o(d,f,h,p){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),p.push({i:h.push(a(h)+"rotate(",null,n)-2,x:la(d,f)})):f&&h.push(a(h)+"rotate("+f+n)}function l(d,f,h,p){d!==f?p.push({i:h.push(a(h)+"skewX(",null,n)-2,x:la(d,f)}):f&&h.push(a(h)+"skewX("+f+n)}function u(d,f,h,p,g,y){if(d!==h||f!==p){var b=g.push(a(g)+"scale(",null,",",null,")");y.push({i:b-4,x:la(d,h)},{i:b-2,x:la(f,p)})}else(h!==1||p!==1)&&g.push(a(g)+"scale("+h+","+p+")")}return function(d,f){var h=[],p=[];return d=e(d),f=e(f),i(d.translateX,d.translateY,f.translateX,f.translateY,h,p),o(d.rotate,f.rotate,h,p),l(d.skewX,f.skewX,h,p),u(d.scaleX,d.scaleY,f.scaleX,f.scaleY,h,p),d=f=null,function(g){for(var y=-1,b=p.length,_;++y<b;)h[(_=p[y]).i]=_.x(g);return h.join("")}}}var vV=TI(yV,"px, ","px)","deg)"),bV=TI(xV,", ",")",")"),wV=1e-12;function LS(e){return((e=Math.exp(e))+1/e)/2}function _V(e){return((e=Math.exp(e))-1/e)/2}function jV(e){return((e=Math.exp(2*e))-1)/(e+1)}const Um=function e(t,r,n){function a(i,o){var l=i[0],u=i[1],d=i[2],f=o[0],h=o[1],p=o[2],g=f-l,y=h-u,b=g*g+y*y,_,w;if(b<wV)w=Math.log(p/d)/t,_=function(A){return[l+A*g,u+A*y,d*Math.exp(t*A*w)]};else{var k=Math.sqrt(b),j=(p*p-d*d+n*b)/(2*d*r*k),N=(p*p-d*d-n*b)/(2*p*r*k),P=Math.log(Math.sqrt(j*j+1)-j),C=Math.log(Math.sqrt(N*N+1)-N);w=(C-P)/t,_=function(A){var O=A*w,M=LS(P),$=d/(r*k)*(M*jV(t*O+P)-_V(P));return[l+$*g,u+$*y,d*M/LS(t*O+P)]}}return _.duration=w*1e3*t/Math.SQRT2,_}return a.rho=function(i){var o=Math.max(.001,+i),l=o*o,u=l*l;return e(o,l,u)},a}(Math.SQRT2,2,4);function kV(e,t){t===void 0&&(t=e,e=Ni);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}var _c=0,Qu=0,Ru=0,MI=1e3,Op,Ju,Ap=0,Ko=0,u0=0,zd=typeof performance=="object"&&performance.now?performance:Date,II=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function k1(){return Ko||(II(NV),Ko=zd.now()+u0)}function NV(){Ko=0}function Tp(){this._call=this._time=this._next=null}Tp.prototype=LI.prototype={constructor:Tp,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?k1():+r)+(t==null?0:+t),!this._next&&Ju!==this&&(Ju?Ju._next=this:Op=this,Ju=this),this._call=e,this._time=r,Gb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gb())}};function LI(e,t,r){var n=new Tp;return n.restart(e,t,r),n}function SV(){k1(),++_c;for(var e=Op,t;e;)(t=Ko-e._time)>=0&&e._call.call(void 0,t),e=e._next;--_c}function DS(){Ko=(Ap=zd.now())+u0,_c=Qu=0;try{SV()}finally{_c=0,CV(),Ko=0}}function PV(){var e=zd.now(),t=e-Ap;t>MI&&(u0-=t,Ap=e)}function CV(){for(var e,t=Op,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Op=r);Ju=e,Gb(n)}function Gb(e){if(!_c){Qu&&(Qu=clearTimeout(Qu));var t=e-Ko;t>24?(e<1/0&&(Qu=setTimeout(DS,e-zd.now()-u0)),Ru&&(Ru=clearInterval(Ru))):(Ru||(Ap=zd.now(),Ru=setInterval(PV,MI)),_c=1,II(DS))}}function RS(e,t,r){var n=new Tp;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var EV=l0("start","end","cancel","interrupt"),OV=[],DI=0,zS=1,Xb=2,Hm=3,FS=4,Qb=5,Wm=6;function d0(e,t,r,n,a,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;AV(e,r,{name:t,index:n,group:a,on:EV,tween:OV,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:DI})}function N1(e,t){var r=Na(e,t);if(r.state>DI)throw new Error("too late; already scheduled");return r}function Xa(e,t){var r=Na(e,t);if(r.state>Hm)throw new Error("too late; already running");return r}function Na(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function AV(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=LI(i,0,r.time);function i(d){r.state=zS,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var f,h,p,g;if(r.state!==zS)return u();for(f in n)if(g=n[f],g.name===r.name){if(g.state===Hm)return RS(o);g.state===FS?(g.state=Wm,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete n[f]):+f<t&&(g.state=Wm,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete n[f])}if(RS(function(){r.state===Hm&&(r.state=FS,r.timer.restart(l,r.delay,r.time),l(d))}),r.state=Xb,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Xb){for(r.state=Hm,a=new Array(p=r.tween.length),f=0,h=-1;f<p;++f)(g=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++h]=g);a.length=h+1}}function l(d){for(var f=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(u),r.state=Qb,1),h=-1,p=a.length;++h<p;)a[h].call(e,f);r.state===Qb&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Wm,r.timer.stop(),delete n[t];for(var d in n)return;delete e.__transition}}function Vm(e,t){var r=e.__transition,n,a,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}a=n.state>Xb&&n.state<Qb,n.state=Wm,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function TV(e){return this.each(function(){Vm(this,e)})}function MV(e,t){var r,n;return function(){var a=Xa(this,e),i=a.tween;if(i!==r){n=r=i;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function IV(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Xa(this,e),o=i.tween;if(o!==n){a=(n=o).slice();for(var l={name:t,value:r},u=0,d=a.length;u<d;++u)if(a[u].name===t){a[u]=l;break}u===d&&a.push(l)}i.tween=a}}function LV(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Na(this.node(),r).tween,a=0,i=n.length,o;a<i;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?MV:IV)(r,e,t))}function S1(e,t,r){var n=e._id;return e.each(function(){var a=Xa(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Na(a,n).value[t]}}function RI(e,t){var r;return(typeof t=="number"?la:t instanceof Vo?Ep:(r=Vo(t))?(t=r,Ep):OI)(e,t)}function DV(e){return function(){this.removeAttribute(e)}}function RV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zV(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function FV(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function $V(e,t,r){var n,a,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=l+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l)))}}function BV(e,t,r){var n,a,i;return function(){var o,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=l+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l)))}}function UV(e,t){var r=c0(e),n=r==="transform"?bV:RI;return this.attrTween(e,typeof t=="function"?(r.local?BV:$V)(r,n,S1(this,"attr."+e,t)):t==null?(r.local?RV:DV)(r):(r.local?FV:zV)(r,n,t))}function HV(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function WV(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function VV(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&WV(e,i)),r}return a._value=t,a}function KV(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&HV(e,i)),r}return a._value=t,a}function qV(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=c0(e);return this.tween(r,(n.local?VV:KV)(n,t))}function ZV(e,t){return function(){N1(this,e).delay=+t.apply(this,arguments)}}function YV(e,t){return t=+t,function(){N1(this,e).delay=t}}function GV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ZV:YV)(t,e)):Na(this.node(),t).delay}function XV(e,t){return function(){Xa(this,e).duration=+t.apply(this,arguments)}}function QV(e,t){return t=+t,function(){Xa(this,e).duration=t}}function JV(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XV:QV)(t,e)):Na(this.node(),t).duration}function eK(e,t){if(typeof t!="function")throw new Error;return function(){Xa(this,e).ease=t}}function tK(e){var t=this._id;return arguments.length?this.each(eK(t,e)):Na(this.node(),t).ease}function rK(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Xa(this,e).ease=r}}function nK(e){if(typeof e!="function")throw new Error;return this.each(rK(this._id,e))}function aK(e){typeof e!="function"&&(e=mI(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,l=n[a]=[],u,d=0;d<o;++d)(u=i[d])&&e.call(u,u.__data__,d,i)&&l.push(u);return new Mi(n,this._parents,this._name,this._id)}function iK(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),o=new Array(n),l=0;l<i;++l)for(var u=t[l],d=r[l],f=u.length,h=o[l]=new Array(f),p,g=0;g<f;++g)(p=u[g]||d[g])&&(h[g]=p);for(;l<n;++l)o[l]=t[l];return new Mi(o,this._parents,this._name,this._id)}function sK(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function oK(e,t,r){var n,a,i=sK(t)?N1:Xa;return function(){var o=i(this,e),l=o.on;l!==n&&(a=(n=l).copy()).on(t,r),o.on=a}}function lK(e,t){var r=this._id;return arguments.length<2?Na(this.node(),r).on.on(e):this.each(oK(r,e,t))}function cK(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function uK(){return this.on("end.remove",cK(this._id))}function dK(e){var t=this._name,r=this._id;typeof e!="function"&&(e=v1(e));for(var n=this._groups,a=n.length,i=new Array(a),o=0;o<a;++o)for(var l=n[o],u=l.length,d=i[o]=new Array(u),f,h,p=0;p<u;++p)(f=l[p])&&(h=e.call(f,f.__data__,p,l))&&("__data__"in f&&(h.__data__=f.__data__),d[p]=h,d0(d[p],t,r,p,d,Na(f,r)));return new Mi(i,this._parents,t,r)}function fK(e){var t=this._name,r=this._id;typeof e!="function"&&(e=hI(e));for(var n=this._groups,a=n.length,i=[],o=[],l=0;l<a;++l)for(var u=n[l],d=u.length,f,h=0;h<d;++h)if(f=u[h]){for(var p=e.call(f,f.__data__,h,u),g,y=Na(f,r),b=0,_=p.length;b<_;++b)(g=p[b])&&d0(g,t,r,b,p,y);i.push(p),o.push(f)}return new Mi(i,o,t,r)}var hK=jf.prototype.constructor;function mK(){return new hK(this._groups,this._parents)}function pK(e,t){var r,n,a;return function(){var i=wc(this,e),o=(this.style.removeProperty(e),wc(this,e));return i===o?null:i===r&&o===n?a:a=t(r=i,n=o)}}function zI(e){return function(){this.style.removeProperty(e)}}function gK(e,t,r){var n,a=r+"",i;return function(){var o=wc(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}function yK(e,t,r){var n,a,i;return function(){var o=wc(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),wc(this,e))),o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,l))}}function xK(e,t){var r,n,a,i="style."+t,o="end."+i,l;return function(){var u=Xa(this,e),d=u.on,f=u.value[i]==null?l||(l=zI(t)):void 0;(d!==r||a!==f)&&(n=(r=d).copy()).on(o,a=f),u.on=n}}function vK(e,t,r){var n=(e+="")=="transform"?vV:RI;return t==null?this.styleTween(e,pK(e,n)).on("end.style."+e,zI(e)):typeof t=="function"?this.styleTween(e,yK(e,n,S1(this,"style."+e,t))).each(xK(this._id,e)):this.styleTween(e,gK(e,n,t),r).on("end.style."+e,null)}function bK(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function wK(e,t,r){var n,a;function i(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&bK(e,o,r)),n}return i._value=t,i}function _K(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,wK(e,t,r??""))}function jK(e){return function(){this.textContent=e}}function kK(e){return function(){var t=e(this);this.textContent=t??""}}function NK(e){return this.tween("text",typeof e=="function"?kK(S1(this,"text",e)):jK(e==null?"":e+""))}function SK(e){return function(t){this.textContent=e.call(this,t)}}function PK(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&SK(a)),t}return n._value=e,n}function CK(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,PK(e))}function EK(){for(var e=this._name,t=this._id,r=FI(),n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var f=Na(u,t);d0(u,e,r,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Mi(n,this._parents,e,r)}function OK(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,o){var l={value:o},u={value:function(){--a===0&&i()}};r.each(function(){var d=Xa(this,n),f=d.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),d.on=t}),a===0&&i()})}var AK=0;function Mi(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function FI(){return++AK}var oi=jf.prototype;Mi.prototype={constructor:Mi,select:dK,selectAll:fK,selectChild:oi.selectChild,selectChildren:oi.selectChildren,filter:aK,merge:iK,selection:mK,transition:EK,call:oi.call,nodes:oi.nodes,node:oi.node,size:oi.size,empty:oi.empty,each:oi.each,on:lK,attr:UV,attrTween:qV,style:vK,styleTween:_K,text:NK,textTween:CK,remove:uK,tween:LV,delay:GV,duration:JV,ease:tK,easeVarying:nK,end:OK,[Symbol.iterator]:oi[Symbol.iterator]};function TK(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var MK={time:null,delay:0,duration:250,ease:TK};function IK(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function LK(e){var t,r;e instanceof Mi?(t=e._id,e=e._name):(t=FI(),(r=MK).time=k1(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],l=o.length,u,d=0;d<l;++d)(u=o[d])&&d0(u,e,t,d,o,r||IK(u,t));return new Mi(n,this._parents,e,t)}jf.prototype.interrupt=TV;jf.prototype.transition=LK;const tm=e=>()=>e;function DK(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function bi(e,t,r){this.k=e,this.x=t,this.y=r}bi.prototype={constructor:bi,scale:function(e){return e===1?this:new bi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f0=new bi(1,0,0);$I.prototype=bi.prototype;function $I(e){for(;!e.__zoom;)if(!(e=e.parentNode))return f0;return e.__zoom}function Gx(e){e.stopImmediatePropagation()}function zu(e){e.preventDefault(),e.stopImmediatePropagation()}function RK(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function zK(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $S(){return this.__zoom||f0}function FK(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $K(){return navigator.maxTouchPoints||"ontouchstart"in this}function BK(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function BI(){var e=RK,t=zK,r=BK,n=FK,a=$K,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Um,d=l0("start","zoom","end"),f,h,p,g=500,y=150,b=0,_=10;function w(F){F.property("__zoom",$S).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",$).filter(a).on("touchstart.zoom",I).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(F,q,W,V){var z=F.selection?F.selection():F;z.property("__zoom",$S),F!==z?P(F,q,W,V):z.interrupt().each(function(){C(this,arguments).event(V).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},w.scaleBy=function(F,q,W,V){w.scaleTo(F,function(){var z=this.__zoom.k,T=typeof q=="function"?q.apply(this,arguments):q;return z*T},W,V)},w.scaleTo=function(F,q,W,V){w.transform(F,function(){var z=t.apply(this,arguments),T=this.__zoom,U=W==null?N(z):typeof W=="function"?W.apply(this,arguments):W,Z=T.invert(U),G=typeof q=="function"?q.apply(this,arguments):q;return r(j(k(T,G),U,Z),z,o)},W,V)},w.translateBy=function(F,q,W,V){w.transform(F,function(){return r(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),o)},null,V)},w.translateTo=function(F,q,W,V,z){w.transform(F,function(){var T=t.apply(this,arguments),U=this.__zoom,Z=V==null?N(T):typeof V=="function"?V.apply(this,arguments):V;return r(f0.translate(Z[0],Z[1]).scale(U.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof W=="function"?-W.apply(this,arguments):-W),T,o)},V,z)};function k(F,q){return q=Math.max(i[0],Math.min(i[1],q)),q===F.k?F:new bi(q,F.x,F.y)}function j(F,q,W){var V=q[0]-W[0]*F.k,z=q[1]-W[1]*F.k;return V===F.x&&z===F.y?F:new bi(F.k,V,z)}function N(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function P(F,q,W,V){F.on("start.zoom",function(){C(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(V).end()}).tween("zoom",function(){var z=this,T=arguments,U=C(z,T).event(V),Z=t.apply(z,T),G=W==null?N(Z):typeof W=="function"?W.apply(z,T):W,H=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),Q=z.__zoom,se=typeof q=="function"?q.apply(z,T):q,oe=u(Q.invert(G).concat(H/Q.k),se.invert(G).concat(H/se.k));return function(ie){if(ie===1)ie=se;else{var le=oe(ie),X=H/le[2];ie=new bi(X,G[0]-le[0]*X,G[1]-le[1]*X)}U.zoom(null,ie)}})}function C(F,q,W){return!W&&F.__zooming||new A(F,q)}function A(F,q){this.that=F,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(F,q),this.taps=0}A.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,q){return this.mouse&&F!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var q=fn(this.that).datum();d.call(F,this.that,new DK(F,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:d}),q)}};function O(F,...q){if(!e.apply(this,arguments))return;var W=C(this,q).event(F),V=this.__zoom,z=Math.max(i[0],Math.min(i[1],V.k*Math.pow(2,n.apply(this,arguments)))),T=sa(F);if(W.wheel)(W.mouse[0][0]!==T[0]||W.mouse[0][1]!==T[1])&&(W.mouse[1]=V.invert(W.mouse[0]=T)),clearTimeout(W.wheel);else{if(V.k===z)return;W.mouse=[T,V.invert(T)],Vm(this),W.start()}zu(F),W.wheel=setTimeout(U,y),W.zoom("mouse",r(j(k(V,z),W.mouse[0],W.mouse[1]),W.extent,o));function U(){W.wheel=null,W.end()}}function M(F,...q){if(p||!e.apply(this,arguments))return;var W=F.currentTarget,V=C(this,q,!0).event(F),z=fn(F.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",H,!0),T=sa(F,W),U=F.clientX,Z=F.clientY;kI(F.view),Gx(F),V.mouse=[T,this.__zoom.invert(T)],Vm(this),V.start();function G(Q){if(zu(Q),!V.moved){var se=Q.clientX-U,oe=Q.clientY-Z;V.moved=se*se+oe*oe>b}V.event(Q).zoom("mouse",r(j(V.that.__zoom,V.mouse[0]=sa(Q,W),V.mouse[1]),V.extent,o))}function H(Q){z.on("mousemove.zoom mouseup.zoom",null),NI(Q.view,V.moved),zu(Q),V.event(Q).end()}}function $(F,...q){if(e.apply(this,arguments)){var W=this.__zoom,V=sa(F.changedTouches?F.changedTouches[0]:F,this),z=W.invert(V),T=W.k*(F.shiftKey?.5:2),U=r(j(k(W,T),V,z),t.apply(this,q),o);zu(F),l>0?fn(this).transition().duration(l).call(P,U,V,F):fn(this).call(w.transform,U,V,F)}}function I(F,...q){if(e.apply(this,arguments)){var W=F.touches,V=W.length,z=C(this,q,F.changedTouches.length===V).event(F),T,U,Z,G;for(Gx(F),U=0;U<V;++U)Z=W[U],G=sa(Z,this),G=[G,this.__zoom.invert(G),Z.identifier],z.touch0?!z.touch1&&z.touch0[2]!==G[2]&&(z.touch1=G,z.taps=0):(z.touch0=G,T=!0,z.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(z.taps<2&&(h=G[0],f=setTimeout(function(){f=null},g)),Vm(this),z.start())}}function R(F,...q){if(this.__zooming){var W=C(this,q).event(F),V=F.changedTouches,z=V.length,T,U,Z,G;for(zu(F),T=0;T<z;++T)U=V[T],Z=sa(U,this),W.touch0&&W.touch0[2]===U.identifier?W.touch0[0]=Z:W.touch1&&W.touch1[2]===U.identifier&&(W.touch1[0]=Z);if(U=W.that.__zoom,W.touch1){var H=W.touch0[0],Q=W.touch0[1],se=W.touch1[0],oe=W.touch1[1],ie=(ie=se[0]-H[0])*ie+(ie=se[1]-H[1])*ie,le=(le=oe[0]-Q[0])*le+(le=oe[1]-Q[1])*le;U=k(U,Math.sqrt(ie/le)),Z=[(H[0]+se[0])/2,(H[1]+se[1])/2],G=[(Q[0]+oe[0])/2,(Q[1]+oe[1])/2]}else if(W.touch0)Z=W.touch0[0],G=W.touch0[1];else return;W.zoom("touch",r(j(U,Z,G),W.extent,o))}}function B(F,...q){if(this.__zooming){var W=C(this,q).event(F),V=F.changedTouches,z=V.length,T,U;for(Gx(F),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),T=0;T<z;++T)U=V[T],W.touch0&&W.touch0[2]===U.identifier?delete W.touch0:W.touch1&&W.touch1[2]===U.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(U=sa(U,this),Math.hypot(h[0]-U[0],h[1]-U[1])<_)){var Z=fn(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return w.wheelDelta=function(F){return arguments.length?(n=typeof F=="function"?F:tm(+F),w):n},w.filter=function(F){return arguments.length?(e=typeof F=="function"?F:tm(!!F),w):e},w.touchable=function(F){return arguments.length?(a=typeof F=="function"?F:tm(!!F),w):a},w.extent=function(F){return arguments.length?(t=typeof F=="function"?F:tm([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),w):t},w.scaleExtent=function(F){return arguments.length?(i[0]=+F[0],i[1]=+F[1],w):[i[0],i[1]]},w.translateExtent=function(F){return arguments.length?(o[0][0]=+F[0][0],o[1][0]=+F[1][0],o[0][1]=+F[0][1],o[1][1]=+F[1][1],w):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},w.constrain=function(F){return arguments.length?(r=F,w):r},w.duration=function(F){return arguments.length?(l=+F,w):l},w.interpolate=function(F){return arguments.length?(u=F,w):u},w.on=function(){var F=d.on.apply(d,arguments);return F===d?w:F},w.clickDistance=function(F){return arguments.length?(b=(F=+F)*F,w):Math.sqrt(b)},w.tapDistance=function(F){return arguments.length?(_=+F,w):_},w}const Wa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Fd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],UI=["Enter"," ","Escape"],HI={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var jc;(function(e){e.Strict="strict",e.Loose="loose"})(jc||(jc={}));var Lo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Lo||(Lo={}));var $d;(function(e){e.Partial="partial",e.Full="full"})($d||($d={}));const WI={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var us;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(us||(us={}));var Mp;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Mp||(Mp={}));var Se;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Se||(Se={}));const BS={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top};function VI(e){return e===null?null:e?"valid":"invalid"}const KI=e=>"id"in e&&"source"in e&&"target"in e,UK=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),P1=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),al=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Nf=(e,t=[0,0])=>{const{width:r,height:n}=Hi(e),a=e.origin??t,i=r*a[0],o=n*a[1];return{x:e.position.x-i,y:e.position.y-o}},HK=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const i=typeof a=="string";let o=!t.nodeLookup&&!i?a:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(a):P1(a)?a:t.nodeLookup.get(a.id));const l=o?Ip(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return h0(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return m0(r)},Sf=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=h0(r,Ip(a)),n=!0)}),n?m0(r):{x:0,y:0,width:0,height:0}},C1=(e,t,[r,n,a]=[0,0,1],i=!1,o=!1)=>{const l={...Cf(t,[r,n,a]),width:t.width/a,height:t.height/a},u=[];for(const d of e.values()){const{measured:f,selectable:h=!0,hidden:p=!1}=d;if(o&&!h||p)continue;const g=f.width??d.width??d.initialWidth??null,y=f.height??d.height??d.initialHeight??null,b=Bd(l,Nc(d)),_=(g??0)*(y??0),w=i&&b>0;(!d.internals.handleBounds||w||b>=_||d.dragging)&&u.push(d)}return u},WK=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function VK(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function KK({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:i},o){if(e.size===0)return Promise.resolve(!0);const l=VK(e,o),u=Sf(l),d=E1(u,t,r,(o==null?void 0:o.minZoom)??a,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await n.setViewport(d,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function qI({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:i}){const o=r.get(e),l=o.parentId?r.get(o.parentId):void 0,{x:u,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??n;let h=o.extent||a;if(o.extent==="parent"&&!o.expandParent)if(!l)i==null||i("005",Wa.error005());else{const g=l.measured.width,y=l.measured.height;g&&y&&(h=[[u,d],[u+g,d+y]])}else l&&Sc(o.extent)&&(h=[[o.extent[0][0]+u,o.extent[0][1]+d],[o.extent[1][0]+u,o.extent[1][1]+d]]);const p=Sc(h)?qo(t,h,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&(i==null||i("015",Wa.error015())),{position:{x:p.x-u+(o.measured.width??0)*f[0],y:p.y-d+(o.measured.height??0)*f[1]},positionAbsolute:p}}async function qK({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const i=new Set(e.map(p=>p.id)),o=[];for(const p of r){if(p.deletable===!1)continue;const g=i.has(p.id),y=!g&&p.parentId&&o.find(b=>b.id===p.parentId);(g||y)&&o.push(p)}const l=new Set(t.map(p=>p.id)),u=n.filter(p=>p.deletable!==!1),f=WK(o,u);for(const p of u)l.has(p.id)&&!f.find(y=>y.id===p.id)&&f.push(p);if(!a)return{edges:f,nodes:o};const h=await a({nodes:o,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:o}:{edges:[],nodes:[]}:h}const kc=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),qo=(e={x:0,y:0},t,r)=>({x:kc(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:kc(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function ZI(e,t,r){const{width:n,height:a}=Hi(r),{x:i,y:o}=r.internals.positionAbsolute;return qo(e,[[i,o],[i+n,o+a]],t)}const US=(e,t,r)=>e<t?kc(Math.abs(e-t),1,t)/t:e>r?-kc(Math.abs(e-r),1,t)/t:0,YI=(e,t,r=15,n=40)=>{const a=US(e.x,n,t.width-n)*r,i=US(e.y,n,t.height-n)*r;return[a,i]},h0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Jb=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),m0=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Nc=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=P1(e)?e.internals.positionAbsolute:Nf(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Ip=(e,t=[0,0])=>{var a,i;const{x:r,y:n}=P1(e)?e.internals.positionAbsolute:Nf(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},GI=(e,t)=>m0(h0(Jb(e),Jb(t))),Bd=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},HS=e=>ma(e.width)&&ma(e.height)&&ma(e.x)&&ma(e.y),ma=e=>!isNaN(e)&&isFinite(e),ZK=(e,t)=>{},Pf=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Cf=({x:e,y:t},[r,n,a],i=!1,o=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return i?Pf(l,o):l},Lp=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function bl(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function YK(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=bl(e,r),a=bl(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=bl(e.top??e.y??0,r),a=bl(e.bottom??e.y??0,r),i=bl(e.left??e.x??0,t),o=bl(e.right??e.x??0,t);return{top:n,right:o,bottom:a,left:i,x:i+o,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function GK(e,t,r,n,a,i){const{x:o,y:l}=Lp(e,[t,r,n]),{x:u,y:d}=Lp({x:e.x+e.width,y:e.y+e.height},[t,r,n]),f=a-u,h=i-d;return{left:Math.floor(o),top:Math.floor(l),right:Math.floor(f),bottom:Math.floor(h)}}const E1=(e,t,r,n,a,i)=>{const o=YK(i,t,r),l=(t-o.x)/e.width,u=(r-o.y)/e.height,d=Math.min(l,u),f=kc(d,n,a),h=e.x+e.width/2,p=e.y+e.height/2,g=t/2-h*f,y=r/2-p*f,b=GK(e,g,y,f,t,r),_={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:g-_.left+_.right,y:y-_.top+_.bottom,zoom:f}},Ud=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Sc(e){return e!=null&&e!=="parent"}function Hi(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function XI(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function QI(e,t={width:0,height:0},r,n,a){const i={...e},o=n.get(r);if(o){const l=o.origin||a;i.x+=o.internals.positionAbsolute.x-(t.width??0)*l[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*l[1]}return i}function WS(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function XK(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function QK(e){return{...HI,...e||{}}}function dd(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:i,y:o}=pa(e),l=Cf({x:i-((a==null?void 0:a.left)??0),y:o-((a==null?void 0:a.top)??0)},n),{x:u,y:d}=r?Pf(l,t):l;return{xSnapped:u,ySnapped:d,...l}}const O1=e=>({width:e.offsetWidth,height:e.offsetHeight}),JI=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},JK=["INPUT","SELECT","TEXTAREA"];function e4(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:JK.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const t4=e=>"clientX"in e,pa=(e,t)=>{var i,o;const r=t4(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,a=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},VS=(e,t,r,n,a)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:a,position:o.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,...O1(o)}})};function r4({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:i,targetControlX:o,targetControlY:l}){const u=e*.125+a*.375+o*.375+r*.125,d=t*.125+i*.375+l*.375+n*.125,f=Math.abs(u-e),h=Math.abs(d-t);return[u,d,f,h]}function rm(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function KS({pos:e,x1:t,y1:r,x2:n,y2:a,c:i}){switch(e){case Se.Left:return[t-rm(t-n,i),r];case Se.Right:return[t+rm(n-t,i),r];case Se.Top:return[t,r-rm(r-a,i)];case Se.Bottom:return[t,r+rm(a-r,i)]}}function n4({sourceX:e,sourceY:t,sourcePosition:r=Se.Bottom,targetX:n,targetY:a,targetPosition:i=Se.Top,curvature:o=.25}){const[l,u]=KS({pos:r,x1:e,y1:t,x2:n,y2:a,c:o}),[d,f]=KS({pos:i,x1:n,y1:a,x2:e,y2:t,c:o}),[h,p,g,y]=r4({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${u} ${d},${f} ${n},${a}`,h,p,g,y]}function a4({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,i=r<e?r+a:r-a,o=Math.abs(n-t)/2,l=n<t?n+o:n-o;return[i,l,a,o]}function eq({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:i="basic"}){if(i==="manual")return n;const o=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return o+l}function tq({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const i=h0(Ip(e),Ip(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return Bd(o,m0(i))>0}const rq=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,nq=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),i4=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||rq;let a;return KI(e)?a={...e}:a={...e,id:n(e)},nq(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function s4({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,i,o,l]=a4({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,i,o,l]}const qS={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}},aq=({source:e,sourcePosition:t=Se.Bottom,target:r})=>t===Se.Left||t===Se.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},ZS=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function iq({source:e,sourcePosition:t=Se.Bottom,target:r,targetPosition:n=Se.Top,center:a,offset:i,stepPosition:o}){const l=qS[t],u=qS[n],d={x:e.x+l.x*i,y:e.y+l.y*i},f={x:r.x+u.x*i,y:r.y+u.y*i},h=aq({source:d,sourcePosition:t,target:f}),p=h.x!==0?"x":"y",g=h[p];let y=[],b,_;const w={x:0,y:0},k={x:0,y:0},[,,j,N]=a4({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[p]*u[p]===-1){p==="x"?(b=a.x??d.x+(f.x-d.x)*o,_=a.y??(d.y+f.y)/2):(b=a.x??(d.x+f.x)/2,_=a.y??d.y+(f.y-d.y)*o);const C=[{x:b,y:d.y},{x:b,y:f.y}],A=[{x:d.x,y:_},{x:f.x,y:_}];l[p]===g?y=p==="x"?C:A:y=p==="x"?A:C}else{const C=[{x:d.x,y:f.y}],A=[{x:f.x,y:d.y}];if(p==="x"?y=l.x===g?A:C:y=l.y===g?C:A,t===n){const R=Math.abs(e[p]-r[p]);if(R<=i){const B=Math.min(i-1,i-R);l[p]===g?w[p]=(d[p]>e[p]?-1:1)*B:k[p]=(f[p]>r[p]?-1:1)*B}}if(t!==n){const R=p==="x"?"y":"x",B=l[p]===u[R],F=d[R]>f[R],q=d[R]<f[R];(l[p]===1&&(!B&&F||B&&q)||l[p]!==1&&(!B&&q||B&&F))&&(y=p==="x"?C:A)}const O={x:d.x+w.x,y:d.y+w.y},M={x:f.x+k.x,y:f.y+k.y},$=Math.max(Math.abs(O.x-y[0].x),Math.abs(M.x-y[0].x)),I=Math.max(Math.abs(O.y-y[0].y),Math.abs(M.y-y[0].y));$>=I?(b=(O.x+M.x)/2,_=y[0].y):(b=y[0].x,_=(O.y+M.y)/2)}return[[e,{x:d.x+w.x,y:d.y+w.y},...y,{x:f.x+k.x,y:f.y+k.y},r],b,_,j,N]}function sq(e,t,r,n){const a=Math.min(ZS(e,t)/2,ZS(t,r)/2,n),{x:i,y:o}=t;if(e.x===i&&i===r.x||e.y===o&&o===r.y)return`L${i} ${o}`;if(e.y===o){const d=e.x<r.x?-1:1,f=e.y<r.y?1:-1;return`L ${i+a*d},${o}Q ${i},${o} ${i},${o+a*f}`}const l=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${i},${o+a*u}Q ${i},${o} ${i+a*l},${o}`}function Dp({sourceX:e,sourceY:t,sourcePosition:r=Se.Bottom,targetX:n,targetY:a,targetPosition:i=Se.Top,borderRadius:o=5,centerX:l,centerY:u,offset:d=20,stepPosition:f=.5}){const[h,p,g,y,b]=iq({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:i,center:{x:l,y:u},offset:d,stepPosition:f});return[h.reduce((w,k,j)=>{let N="";return j>0&&j<h.length-1?N=sq(h[j-1],k,h[j+1],o):N=`${j===0?"M":"L"}${k.x} ${k.y}`,w+=N,w},""),p,g,y,b]}function YS(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function oq(e){var h;const{sourceNode:t,targetNode:r}=e;if(!YS(t)||!YS(r))return null;const n=t.internals.handleBounds||GS(t.handles),a=r.internals.handleBounds||GS(r.handles),i=XS((n==null?void 0:n.source)??[],e.sourceHandle),o=XS(e.connectionMode===jc.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!i||!o)return(h=e.onError)==null||h.call(e,"008",Wa.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(i==null?void 0:i.position)||Se.Bottom,u=(o==null?void 0:o.position)||Se.Top,d=Zo(t,i,l),f=Zo(r,o,u);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:u}}function GS(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function Zo(e,t,r=Se.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:l}=t??Hi(e);if(n)return{x:a+o/2,y:i+l/2};switch((t==null?void 0:t.position)??r){case Se.Top:return{x:a+o/2,y:i};case Se.Right:return{x:a+o,y:i+l/2};case Se.Bottom:return{x:a+o/2,y:i+l};case Se.Left:return{x:a,y:i+l/2}}}function XS(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function ew(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function lq(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const i=new Set;return e.reduce((o,l)=>([l.markerStart||n,l.markerEnd||a].forEach(u=>{if(u&&typeof u=="object"){const d=ew(u,t);i.has(d)||(o.push({id:d,color:u.color||r,...u}),i.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const o4=1e3,cq=10,A1={nodeOrigin:[0,0],nodeExtent:Fd,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},uq={...A1,checkEquality:!0};function T1(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function dq(e,t,r){const n=T1(A1,r);for(const a of e.values())if(a.parentId)I1(a,e,t,n);else{const i=Nf(a,n.nodeOrigin),o=Sc(a.extent)?a.extent:n.nodeExtent,l=qo(i,o,Hi(a));a.internals.positionAbsolute=l}}function fq(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const i={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(i):a.type==="target"&&n.push(i)}return{source:r,target:n}}function M1(e){return e==="manual"}function tw(e,t,r,n={}){var d,f;const a=T1(uq,n),i={i:0},o=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!M1(a.zIndexMode)?o4:0;let u=e.length>0;t.clear(),r.clear();for(const h of e){let p=o.get(h.id);if(a.checkEquality&&h===(p==null?void 0:p.internals.userNode))t.set(h.id,p);else{const g=Nf(h,a.nodeOrigin),y=Sc(h.extent)?h.extent:a.nodeExtent,b=qo(g,y,Hi(h));p={...a.defaults,...h,measured:{width:(d=h.measured)==null?void 0:d.width,height:(f=h.measured)==null?void 0:f.height},internals:{positionAbsolute:b,handleBounds:fq(h,p),z:l4(h,l,a.zIndexMode),userNode:h}},t.set(h.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(u=!1),h.parentId&&I1(p,t,r,n,i)}return u}function hq(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function I1(e,t,r,n,a){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:l,zIndexMode:u}=T1(A1,n),d=e.parentId,f=t.get(d);if(!f){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}hq(e,r),a&&!f.parentId&&f.internals.rootParentIndex===void 0&&u==="auto"&&(f.internals.rootParentIndex=++a.i,f.internals.z=f.internals.z+a.i*cq),a&&f.internals.rootParentIndex!==void 0&&(a.i=f.internals.rootParentIndex);const h=i&&!M1(u)?o4:0,{x:p,y:g,z:y}=mq(e,f,o,l,h,u),{positionAbsolute:b}=e.internals,_=p!==b.x||g!==b.y;(_||y!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:p,y:g}:b,z:y}})}function l4(e,t,r){const n=ma(e.zIndex)?e.zIndex:0;return M1(r)?n:n+(e.selected?t:0)}function mq(e,t,r,n,a,i){const{x:o,y:l}=t.internals.positionAbsolute,u=Hi(e),d=Nf(e,r),f=Sc(e.extent)?qo(d,e.extent,u):d;let h=qo({x:o+f.x,y:l+f.y},n,u);e.extent==="parent"&&(h=ZI(h,u,t));const p=l4(e,a,i),g=t.internals.z??0;return{x:h.x,y:h.y,z:g>=p?g+1:p}}function L1(e,t,r,n=[0,0]){var o;const a=[],i=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const d=((o=i.get(l.parentId))==null?void 0:o.expandedRect)??Nc(u),f=GI(d,l.rect);i.set(l.parentId,{expandedRect:f,parent:u})}return i.size>0&&i.forEach(({expandedRect:l,parent:u},d)=>{var j;const f=u.internals.positionAbsolute,h=Hi(u),p=u.origin??n,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,y=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,b=Math.max(h.width,Math.round(l.width)),_=Math.max(h.height,Math.round(l.height)),w=(b-h.width)*p[0],k=(_-h.height)*p[1];(g>0||y>0||w||k)&&(a.push({id:d,type:"position",position:{x:u.position.x-g+w,y:u.position.y-y+k}}),(j=r.get(d))==null||j.forEach(N=>{e.some(P=>P.id===N.id)||a.push({id:N.id,type:"position",position:{x:N.position.x+g,y:N.position.y+y}})})),(h.width<l.width||h.height<l.height||g||y)&&a.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:b+(g?p[0]*g-w:0),height:_+(y?p[1]*y-k:0)}})}),a}function pq(e,t,r,n,a,i,o){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let u=!1;if(!l)return{changes:[],updatedInternals:u};const d=[],f=window.getComputedStyle(l),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=[];for(const g of e.values()){const y=t.get(g.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),u=!0;continue}const b=O1(g.nodeElement),_=y.measured.width!==b.width||y.measured.height!==b.height;if(!!(b.width&&b.height&&(_||!y.internals.handleBounds||g.force))){const k=g.nodeElement.getBoundingClientRect(),j=Sc(y.extent)?y.extent:i;let{positionAbsolute:N}=y.internals;y.parentId&&y.extent==="parent"?N=ZI(N,b,t.get(y.parentId)):j&&(N=qo(N,j,b));const P={...y,measured:b,internals:{...y.internals,positionAbsolute:N,handleBounds:{source:VS("source",g.nodeElement,k,h,y.id),target:VS("target",g.nodeElement,k,h,y.id)}}};t.set(y.id,P),y.parentId&&I1(P,t,r,{nodeOrigin:a,zIndexMode:o}),u=!0,_&&(d.push({id:y.id,type:"dimensions",dimensions:b}),y.expandParent&&y.parentId&&p.push({id:y.id,parentId:y.parentId,rect:Nc(P,a)}))}}if(p.length>0){const g=L1(p,t,r,a);d.push(...g)}return{changes:d,updatedInternals:u}}async function gq({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,i]],n),l=!!o&&(o.x!==r[0]||o.y!==r[1]||o.k!==r[2]);return Promise.resolve(l)}function QS(e,t,r,n,a,i){let o=a;const l=n.get(o)||new Map;n.set(o,l.set(r,t)),o=`${a}-${e}`;const u=n.get(o)||new Map;if(n.set(o,u.set(r,t)),i){o=`${a}-${e}-${i}`;const d=n.get(o)||new Map;n.set(o,d.set(r,t))}}function c4(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:i,sourceHandle:o=null,targetHandle:l=null}=n,u={edgeId:n.id,source:a,target:i,sourceHandle:o,targetHandle:l},d=`${a}-${o}--${i}-${l}`,f=`${i}-${l}--${a}-${o}`;QS("source",u,f,e,a,o),QS("target",u,d,e,i,l),t.set(n.id,n)}}function u4(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:u4(r,t):!1}function JS(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function yq(e,t,r,n){const a=new Map;for(const[i,o]of e)if((o.selected||o.id===n)&&(!o.parentId||!u4(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const l=e.get(i);l&&a.set(i,{id:i,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Xx({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var o,l,u;const a=[];for(const[d,f]of t){const h=(o=r.get(d))==null?void 0:o.internals.userNode;h&&a.push({...h,position:f.position,dragging:n})}if(!e)return[a[0],a];const i=(l=r.get(e))==null?void 0:l.internals.userNode;return[i?{...i,position:((u=t.get(e))==null?void 0:u.position)||i.position,dragging:n}:a[0],a]}function xq({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const i={x:r-a.distance.x,y:n-a.distance.y},o=Pf(i,t);return{x:o.x-i.x,y:o.y-i.y}}function vq({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let i={x:null,y:null},o=0,l=new Map,u=!1,d={x:0,y:0},f=null,h=!1,p=null,g=!1,y=!1,b=null;function _({noDragClassName:k,handleSelector:j,domNode:N,isSelectable:P,nodeId:C,nodeClickDistance:A=0}){p=fn(N);function O({x:R,y:B}){const{nodeLookup:F,nodeExtent:q,snapGrid:W,snapToGrid:V,nodeOrigin:z,onNodeDrag:T,onSelectionDrag:U,onError:Z,updateNodePositions:G}=t();i={x:R,y:B};let H=!1;const Q=l.size>1,se=Q&&q?Jb(Sf(l)):null,oe=Q&&V?xq({dragItems:l,snapGrid:W,x:R,y:B}):null;for(const[ie,le]of l){if(!F.has(ie))continue;let X={x:R-le.distance.x,y:B-le.distance.y};V&&(X=oe?{x:Math.round(X.x+oe.x),y:Math.round(X.y+oe.y)}:Pf(X,W));let me=null;if(Q&&q&&!le.extent&&se){const{positionAbsolute:pe}=le.internals,we=pe.x-se.x+q[0][0],Oe=pe.x+le.measured.width-se.x2+q[1][0],Pe=pe.y-se.y+q[0][1],Ve=pe.y+le.measured.height-se.y2+q[1][1];me=[[we,Pe],[Oe,Ve]]}const{position:fe,positionAbsolute:te}=qI({nodeId:ie,nextPosition:X,nodeLookup:F,nodeExtent:me||q,nodeOrigin:z,onError:Z});H=H||le.position.x!==fe.x||le.position.y!==fe.y,le.position=fe,le.internals.positionAbsolute=te}if(y=y||H,!!H&&(G(l,!0),b&&(n||T||!C&&U))){const[ie,le]=Xx({nodeId:C,dragItems:l,nodeLookup:F});n==null||n(b,l,ie,le),T==null||T(b,ie,le),C||U==null||U(b,le)}}async function M(){if(!f)return;const{transform:R,panBy:B,autoPanSpeed:F,autoPanOnNodeDrag:q}=t();if(!q){u=!1,cancelAnimationFrame(o);return}const[W,V]=YI(d,f,F);(W!==0||V!==0)&&(i.x=(i.x??0)-W/R[2],i.y=(i.y??0)-V/R[2],await B({x:W,y:V})&&O(i)),o=requestAnimationFrame(M)}function $(R){var Q;const{nodeLookup:B,multiSelectionActive:F,nodesDraggable:q,transform:W,snapGrid:V,snapToGrid:z,selectNodesOnDrag:T,onNodeDragStart:U,onSelectionDragStart:Z,unselectNodesAndEdges:G}=t();h=!0,(!T||!P)&&!F&&C&&((Q=B.get(C))!=null&&Q.selected||G()),P&&T&&C&&(e==null||e(C));const H=dd(R.sourceEvent,{transform:W,snapGrid:V,snapToGrid:z,containerBounds:f});if(i=H,l=yq(B,q,H,C),l.size>0&&(r||U||!C&&Z)){const[se,oe]=Xx({nodeId:C,dragItems:l,nodeLookup:B});r==null||r(R.sourceEvent,l,se,oe),U==null||U(R.sourceEvent,se,oe),C||Z==null||Z(R.sourceEvent,oe)}}const I=SI().clickDistance(A).on("start",R=>{const{domNode:B,nodeDragThreshold:F,transform:q,snapGrid:W,snapToGrid:V}=t();f=(B==null?void 0:B.getBoundingClientRect())||null,g=!1,y=!1,b=R.sourceEvent,F===0&&$(R),i=dd(R.sourceEvent,{transform:q,snapGrid:W,snapToGrid:V,containerBounds:f}),d=pa(R.sourceEvent,f)}).on("drag",R=>{const{autoPanOnNodeDrag:B,transform:F,snapGrid:q,snapToGrid:W,nodeDragThreshold:V,nodeLookup:z}=t(),T=dd(R.sourceEvent,{transform:F,snapGrid:q,snapToGrid:W,containerBounds:f});if(b=R.sourceEvent,(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1||C&&!z.has(C))&&(g=!0),!g){if(!u&&B&&h&&(u=!0,M()),!h){const U=pa(R.sourceEvent,f),Z=U.x-d.x,G=U.y-d.y;Math.sqrt(Z*Z+G*G)>V&&$(R)}(i.x!==T.xSnapped||i.y!==T.ySnapped)&&l&&h&&(d=pa(R.sourceEvent,f),O(T))}}).on("end",R=>{if(!(!h||g)&&(u=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:B,updateNodePositions:F,onNodeDragStop:q,onSelectionDragStop:W}=t();if(y&&(F(l,!1),y=!1),a||q||!C&&W){const[V,z]=Xx({nodeId:C,dragItems:l,nodeLookup:B,dragging:!1});a==null||a(R.sourceEvent,l,V,z),q==null||q(R.sourceEvent,V,z),C||W==null||W(R.sourceEvent,z)}}}).filter(R=>{const B=R.target;return!R.button&&(!k||!JS(B,`.${k}`,N))&&(!j||JS(B,j,N))});p.call(I)}function w(){p==null||p.on(".drag",null)}return{update:_,destroy:w}}function bq(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const i of t.values())Bd(a,Nc(i))>0&&n.push(i);return n}const wq=250;function _q(e,t,r,n){var l,u;let a=[],i=1/0;const o=bq(e,r,t+wq);for(const d of o){const f=[...((l=d.internals.handleBounds)==null?void 0:l.source)??[],...((u=d.internals.handleBounds)==null?void 0:u.target)??[]];for(const h of f){if(n.nodeId===h.nodeId&&n.type===h.type&&n.id===h.id)continue;const{x:p,y:g}=Zo(d,h,h.position,!0),y=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(g-e.y,2));y>t||(y<i?(a=[{...h,x:p,y:g}],i=y):y===i&&a.push({...h,x:p,y:g}))}}if(!a.length)return null;if(a.length>1){const d=n.type==="source"?"target":"source";return a.find(f=>f.type===d)??a[0]}return a[0]}function d4(e,t,r,n,a,i=!1){var d,f,h;const o=n.get(e);if(!o)return null;const l=a==="strict"?(d=o.internals.handleBounds)==null?void 0:d[t]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((h=o.internals.handleBounds)==null?void 0:h.target)??[]],u=(r?l==null?void 0:l.find(p=>p.id===r):l==null?void 0:l[0])??null;return u&&i?{...u,...Zo(o,u,u.position,!0)}:u}function f4(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function jq(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const h4=()=>!0;function kq(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:i,isTarget:o,domNode:l,nodeLookup:u,lib:d,autoPanOnConnect:f,flowId:h,panBy:p,cancelConnection:g,onConnectStart:y,onConnect:b,onConnectEnd:_,isValidConnection:w=h4,onReconnectEnd:k,updateConnection:j,getTransform:N,getFromHandle:P,autoPanSpeed:C,dragThreshold:A=1,handleDomNode:O}){const M=JI(e.target);let $=0,I;const{x:R,y:B}=pa(e),F=f4(i,O),q=l==null?void 0:l.getBoundingClientRect();let W=!1;if(!q||!F)return;const V=d4(a,F,n,u,t);if(!V)return;let z=pa(e,q),T=!1,U=null,Z=!1,G=null;function H(){if(!f||!q)return;const[fe,te]=YI(z,q,C);p({x:fe,y:te}),$=requestAnimationFrame(H)}const Q={...V,nodeId:a,type:F,position:V.position},se=u.get(a);let ie={inProgress:!0,isValid:null,from:Zo(se,Q,Se.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:se,to:z,toHandle:null,toPosition:BS[Q.position],toNode:null,pointer:z};function le(){W=!0,j(ie),y==null||y(e,{nodeId:a,handleId:n,handleType:F})}A===0&&le();function X(fe){if(!W){const{x:Ve,y:Ht}=pa(fe),Br=Ve-R,ee=Ht-B;if(!(Br*Br+ee*ee>A*A))return;le()}if(!P()||!Q){me(fe);return}const te=N();z=pa(fe,q),I=_q(Cf(z,te,!1,[1,1]),r,u,Q),T||(H(),T=!0);const pe=m4(fe,{handle:I,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:o?"target":"source",isValidConnection:w,doc:M,lib:d,flowId:h,nodeLookup:u});G=pe.handleDomNode,U=pe.connection,Z=jq(!!I,pe.isValid);const we=u.get(a),Oe=we?Zo(we,Q,Se.Left,!0):ie.from,Pe={...ie,from:Oe,isValid:Z,to:pe.toHandle&&Z?Lp({x:pe.toHandle.x,y:pe.toHandle.y},te):z,toHandle:pe.toHandle,toPosition:Z&&pe.toHandle?pe.toHandle.position:BS[Q.position],toNode:pe.toHandle?u.get(pe.toHandle.nodeId):null,pointer:z};j(Pe),ie=Pe}function me(fe){if(!("touches"in fe&&fe.touches.length>0)){if(W){(I||G)&&U&&Z&&(b==null||b(U));const{inProgress:te,...pe}=ie,we={...pe,toPosition:ie.toHandle?ie.toPosition:null};_==null||_(fe,we),i&&(k==null||k(fe,we))}g(),cancelAnimationFrame($),T=!1,Z=!1,U=null,G=null,M.removeEventListener("mousemove",X),M.removeEventListener("mouseup",me),M.removeEventListener("touchmove",X),M.removeEventListener("touchend",me)}}M.addEventListener("mousemove",X),M.addEventListener("mouseup",me),M.addEventListener("touchmove",X),M.addEventListener("touchend",me)}function m4(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:i,doc:o,lib:l,flowId:u,isValidConnection:d=h4,nodeLookup:f}){const h=i==="target",p=t?o.querySelector(`.${l}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y}=pa(e),b=o.elementFromPoint(g,y),_=b!=null&&b.classList.contains(`${l}-flow__handle`)?b:p,w={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const k=f4(void 0,_),j=_.getAttribute("data-nodeid"),N=_.getAttribute("data-handleid"),P=_.classList.contains("connectable"),C=_.classList.contains("connectableend");if(!j||!k)return w;const A={source:h?j:n,sourceHandle:h?N:a,target:h?n:j,targetHandle:h?a:N};w.connection=A;const M=P&&C&&(r===jc.Strict?h&&k==="source"||!h&&k==="target":j!==n||N!==a);w.isValid=M&&d(A),w.toHandle=d4(j,k,N,f,r,!0)}return w}const rw={onPointerDown:kq,isValid:m4};function Nq({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=fn(e);function i({translateExtent:l,width:u,height:d,zoomStep:f=1,pannable:h=!0,zoomable:p=!0,inversePan:g=!1}){const y=j=>{if(j.sourceEvent.type!=="wheel"||!t)return;const N=r(),P=j.sourceEvent.ctrlKey&&Ud()?10:1,C=-j.sourceEvent.deltaY*(j.sourceEvent.deltaMode===1?.05:j.sourceEvent.deltaMode?1:.002)*f,A=N[2]*Math.pow(2,C*P);t.scaleTo(A)};let b=[0,0];const _=j=>{(j.sourceEvent.type==="mousedown"||j.sourceEvent.type==="touchstart")&&(b=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY])},w=j=>{const N=r();if(j.sourceEvent.type!=="mousemove"&&j.sourceEvent.type!=="touchmove"||!t)return;const P=[j.sourceEvent.clientX??j.sourceEvent.touches[0].clientX,j.sourceEvent.clientY??j.sourceEvent.touches[0].clientY],C=[P[0]-b[0],P[1]-b[1]];b=P;const A=n()*Math.max(N[2],Math.log(N[2]))*(g?-1:1),O={x:N[0]-C[0]*A,y:N[1]-C[1]*A},M=[[0,0],[u,d]];t.setViewportConstrained({x:O.x,y:O.y,zoom:N[2]},M,l)},k=BI().on("start",_).on("zoom",h?w:null).on("zoom.wheel",p?y:null);a.call(k,{})}function o(){a.on("zoom",null)}return{update:i,destroy:o,pointer:sa}}const p0=e=>({x:e.x,y:e.y,zoom:e.k}),Qx=({x:e,y:t,zoom:r})=>f0.translate(e,t).scale(r),zl=(e,t)=>e.target.closest(`.${t}`),p4=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Sq=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Jx=(e,t=0,r=Sq,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},g4=e=>{const t=e.ctrlKey&&Ud()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Pq({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:d}){return f=>{if(zl(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const h=r.property("__zoom").k||1;if(f.ctrlKey&&o){const _=sa(f),w=g4(f),k=h*Math.pow(2,w);n.scaleTo(r,k,_,f);return}const p=f.deltaMode===1?20:1;let g=a===Lo.Vertical?0:f.deltaX*p,y=a===Lo.Horizontal?0:f.deltaY*p;!Ud()&&f.shiftKey&&a!==Lo.Vertical&&(g=f.deltaY*p,y=0),n.translateBy(r,-(g/h)*i,-(y/h)*i,{internal:!0});const b=p0(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(u==null||u(f,b),e.panScrollTimeout=setTimeout(()=>{d==null||d(f,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(f,b))}}function Cq({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const i=n.type==="wheel",o=!t&&i&&!n.ctrlKey,l=zl(n,e);if(n.ctrlKey&&i&&l&&n.preventDefault(),o||l)return null;n.preventDefault(),r.call(this,n,a)}}function Eq({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var i,o,l;if((i=n.sourceEvent)!=null&&i.internal)return;const a=p0(n.transform);e.mouseButton=((o=n.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function Oq({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return i=>{var o,l;e.usedRightMouseButton=!!(r&&p4(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||n([i.transform.x,i.transform.y,i.transform.k]),a&&!((l=i.sourceEvent)!=null&&l.internal)&&(a==null||a(i.sourceEvent,p0(i.transform)))}}function Aq({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:i}){return o=>{var l;if(!((l=o.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,i&&p4(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const u=p0(o.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(o.sourceEvent,u)},r?150:0)}}}function Tq({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:d,connectionInProgress:f}){return h=>{var _;const p=e||t,g=r&&h.ctrlKey,y=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(zl(h,`${d}-flow__node`)||zl(h,`${d}-flow__edge`)))return!0;if(!n&&!p&&!a&&!i&&!r||o||f&&!y||zl(h,l)&&y||zl(h,u)&&(!y||a&&y&&!e)||!r&&h.ctrlKey&&y)return!1;if(!r&&h.type==="touchstart"&&((_=h.touches)==null?void 0:_.length)>1)return h.preventDefault(),!1;if(!p&&!a&&!g&&y||!n&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(n)&&!n.includes(h.button)&&h.type==="mousedown")return!1;const b=Array.isArray(n)&&n.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||y)&&b}}function Mq({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:i,onPanZoomStart:o,onPanZoomEnd:l,onDraggingChange:u}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),h=BI().scaleExtent([t,r]).translateExtent(n),p=fn(e).call(h);k({x:a.x,y:a.y,zoom:kc(a.zoom,t,r)},[[0,0],[f.width,f.height]],n);const g=p.on("wheel.zoom"),y=p.on("dblclick.zoom");h.wheelDelta(g4);function b(I,R){return p?new Promise(B=>{h==null||h.interpolate((R==null?void 0:R.interpolate)==="linear"?Ni:Um).transform(Jx(p,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>B(!0)),I)}):Promise.resolve(!1)}function _({noWheelClassName:I,noPanClassName:R,onPaneContextMenu:B,userSelectionActive:F,panOnScroll:q,panOnDrag:W,panOnScrollMode:V,panOnScrollSpeed:z,preventScrolling:T,zoomOnPinch:U,zoomOnScroll:Z,zoomOnDoubleClick:G,zoomActivationKeyPressed:H,lib:Q,onTransformChange:se,connectionInProgress:oe,paneClickDistance:ie,selectionOnDrag:le}){F&&!d.isZoomingOrPanning&&w();const X=q&&!H&&!F;h.clickDistance(le?1/0:!ma(ie)||ie<0?0:ie);const me=X?Pq({zoomPanValues:d,noWheelClassName:I,d3Selection:p,d3Zoom:h,panOnScrollMode:V,panOnScrollSpeed:z,zoomOnPinch:U,onPanZoomStart:o,onPanZoom:i,onPanZoomEnd:l}):Cq({noWheelClassName:I,preventScrolling:T,d3ZoomHandler:g});if(p.on("wheel.zoom",me,{passive:!1}),!F){const te=Eq({zoomPanValues:d,onDraggingChange:u,onPanZoomStart:o});h.on("start",te);const pe=Oq({zoomPanValues:d,panOnDrag:W,onPaneContextMenu:!!B,onPanZoom:i,onTransformChange:se});h.on("zoom",pe);const we=Aq({zoomPanValues:d,panOnDrag:W,panOnScroll:q,onPaneContextMenu:B,onPanZoomEnd:l,onDraggingChange:u});h.on("end",we)}const fe=Tq({zoomActivationKeyPressed:H,panOnDrag:W,zoomOnScroll:Z,panOnScroll:q,zoomOnDoubleClick:G,zoomOnPinch:U,userSelectionActive:F,noPanClassName:R,noWheelClassName:I,lib:Q,connectionInProgress:oe});h.filter(fe),G?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function w(){h.on("zoom",null)}async function k(I,R,B){const F=Qx(I),q=h==null?void 0:h.constrain()(F,R,B);return q&&await b(q),new Promise(W=>W(q))}async function j(I,R){const B=Qx(I);return await b(B,R),new Promise(F=>F(B))}function N(I){if(p){const R=Qx(I),B=p.property("__zoom");(B.k!==I.zoom||B.x!==I.x||B.y!==I.y)&&(h==null||h.transform(p,R,null,{sync:!0}))}}function P(){const I=p?$I(p.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function C(I,R){return p?new Promise(B=>{h==null||h.interpolate((R==null?void 0:R.interpolate)==="linear"?Ni:Um).scaleTo(Jx(p,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>B(!0)),I)}):Promise.resolve(!1)}function A(I,R){return p?new Promise(B=>{h==null||h.interpolate((R==null?void 0:R.interpolate)==="linear"?Ni:Um).scaleBy(Jx(p,R==null?void 0:R.duration,R==null?void 0:R.ease,()=>B(!0)),I)}):Promise.resolve(!1)}function O(I){h==null||h.scaleExtent(I)}function M(I){h==null||h.translateExtent(I)}function $(I){const R=!ma(I)||I<0?0:I;h==null||h.clickDistance(R)}return{update:_,destroy:w,setViewport:j,setViewportConstrained:k,getViewport:P,scaleTo:C,scaleBy:A,setScaleExtent:O,setTranslateExtent:M,syncViewport:N,setClickDistance:$}}var Pc;(function(e){e.Line="line",e.Handle="handle"})(Pc||(Pc={}));function Iq({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:i}){const o=e-t,l=r-n,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&a&&(u[0]=u[0]*-1),l&&i&&(u[1]=u[1]*-1),u}function eP(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Ji(e,t){return Math.max(0,t-e)}function es(e,t){return Math.max(0,e-t)}function nm(e,t,r){return Math.max(0,t-e,e-r)}function tP(e,t){return e?!t:t}function Lq(e,t,r,n,a,i,o,l){let{affectsX:u,affectsY:d}=t;const{isHorizontal:f,isVertical:h}=t,p=f&&h,{xSnapped:g,ySnapped:y}=r,{minWidth:b,maxWidth:_,minHeight:w,maxHeight:k}=n,{x:j,y:N,width:P,height:C,aspectRatio:A}=e;let O=Math.floor(f?g-e.pointerX:0),M=Math.floor(h?y-e.pointerY:0);const $=P+(u?-O:O),I=C+(d?-M:M),R=-i[0]*P,B=-i[1]*C;let F=nm($,b,_),q=nm(I,w,k);if(o){let z=0,T=0;u&&O<0?z=Ji(j+O+R,o[0][0]):!u&&O>0&&(z=es(j+$+R,o[1][0])),d&&M<0?T=Ji(N+M+B,o[0][1]):!d&&M>0&&(T=es(N+I+B,o[1][1])),F=Math.max(F,z),q=Math.max(q,T)}if(l){let z=0,T=0;u&&O>0?z=es(j+O,l[0][0]):!u&&O<0&&(z=Ji(j+$,l[1][0])),d&&M>0?T=es(N+M,l[0][1]):!d&&M<0&&(T=Ji(N+I,l[1][1])),F=Math.max(F,z),q=Math.max(q,T)}if(a){if(f){const z=nm($/A,w,k)*A;if(F=Math.max(F,z),o){let T=0;!u&&!d||u&&!d&&p?T=es(N+B+$/A,o[1][1])*A:T=Ji(N+B+(u?O:-O)/A,o[0][1])*A,F=Math.max(F,T)}if(l){let T=0;!u&&!d||u&&!d&&p?T=Ji(N+$/A,l[1][1])*A:T=es(N+(u?O:-O)/A,l[0][1])*A,F=Math.max(F,T)}}if(h){const z=nm(I*A,b,_)/A;if(q=Math.max(q,z),o){let T=0;!u&&!d||d&&!u&&p?T=es(j+I*A+R,o[1][0])/A:T=Ji(j+(d?M:-M)*A+R,o[0][0])/A,q=Math.max(q,T)}if(l){let T=0;!u&&!d||d&&!u&&p?T=Ji(j+I*A,l[1][0])/A:T=es(j+(d?M:-M)*A,l[0][0])/A,q=Math.max(q,T)}}}M=M+(M<0?q:-q),O=O+(O<0?F:-F),a&&(p?$>I*A?M=(tP(u,d)?-O:O)/A:O=(tP(u,d)?-M:M)*A:f?(M=O/A,d=u):(O=M*A,u=d));const W=u?j+O:j,V=d?N+M:N;return{width:P+(u?-O:O),height:C+(d?-M:M),x:i[0]*O*(u?-1:1)+W,y:i[1]*M*(d?-1:1)+V}}const y4={width:0,height:0,x:0,y:0},Dq={...y4,pointerX:0,pointerY:0,aspectRatio:1};function Rq(e){return[[0,0],[e.measured.width,e.measured.height]]}function zq(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,l=r[0]*i,u=r[1]*o;return[[n-l,a-u],[n+i-l,a+o-u]]}function Fq({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const i=fn(e);let o={controlDirection:eP("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:d,boundaries:f,keepAspectRatio:h,resizeDirection:p,onResizeStart:g,onResize:y,onResizeEnd:b,shouldResize:_}){let w={...y4},k={...Dq};o={boundaries:f,resizeDirection:p,keepAspectRatio:h,controlDirection:eP(d)};let j,N=null,P=[],C,A,O,M=!1;const $=SI().on("start",I=>{const{nodeLookup:R,transform:B,snapGrid:F,snapToGrid:q,nodeOrigin:W,paneDomNode:V}=r();if(j=R.get(t),!j)return;N=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:z,ySnapped:T}=dd(I.sourceEvent,{transform:B,snapGrid:F,snapToGrid:q,containerBounds:N});w={width:j.measured.width??0,height:j.measured.height??0,x:j.position.x??0,y:j.position.y??0},k={...w,pointerX:z,pointerY:T,aspectRatio:w.width/w.height},C=void 0,j.parentId&&(j.extent==="parent"||j.expandParent)&&(C=R.get(j.parentId),A=C&&j.extent==="parent"?Rq(C):void 0),P=[],O=void 0;for(const[U,Z]of R)if(Z.parentId===t&&(P.push({id:U,position:{...Z.position},extent:Z.extent}),Z.extent==="parent"||Z.expandParent)){const G=zq(Z,j,Z.origin??W);O?O=[[Math.min(G[0][0],O[0][0]),Math.min(G[0][1],O[0][1])],[Math.max(G[1][0],O[1][0]),Math.max(G[1][1],O[1][1])]]:O=G}g==null||g(I,{...w})}).on("drag",I=>{const{transform:R,snapGrid:B,snapToGrid:F,nodeOrigin:q}=r(),W=dd(I.sourceEvent,{transform:R,snapGrid:B,snapToGrid:F,containerBounds:N}),V=[];if(!j)return;const{x:z,y:T,width:U,height:Z}=w,G={},H=j.origin??q,{width:Q,height:se,x:oe,y:ie}=Lq(k,o.controlDirection,W,o.boundaries,o.keepAspectRatio,H,A,O),le=Q!==U,X=se!==Z,me=oe!==z&&le,fe=ie!==T&&X;if(!me&&!fe&&!le&&!X)return;if((me||fe||H[0]===1||H[1]===1)&&(G.x=me?oe:w.x,G.y=fe?ie:w.y,w.x=G.x,w.y=G.y,P.length>0)){const Oe=oe-z,Pe=ie-T;for(const Ve of P)Ve.position={x:Ve.position.x-Oe+H[0]*(Q-U),y:Ve.position.y-Pe+H[1]*(se-Z)},V.push(Ve)}if((le||X)&&(G.width=le&&(!o.resizeDirection||o.resizeDirection==="horizontal")?Q:w.width,G.height=X&&(!o.resizeDirection||o.resizeDirection==="vertical")?se:w.height,w.width=G.width,w.height=G.height),C&&j.expandParent){const Oe=H[0]*(G.width??0);G.x&&G.x<Oe&&(w.x=Oe,k.x=k.x-(G.x-Oe));const Pe=H[1]*(G.height??0);G.y&&G.y<Pe&&(w.y=Pe,k.y=k.y-(G.y-Pe))}const te=Iq({width:w.width,prevWidth:U,height:w.height,prevHeight:Z,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),pe={...w,direction:te};(_==null?void 0:_(I,pe))!==!1&&(M=!0,y==null||y(I,pe),n(G,V))}).on("end",I=>{M&&(b==null||b(I,{...w}),a==null||a({...w}),M=!1)});i.call($)}function u(){i.on(".drag",null)}return{update:l,destroy:u}}const{useDebugValue:$q}=Sr,{useSyncExternalStoreWithSelector:Bq}=uI,Uq=e=>e;function x4(e,t=Uq,r){const n=Bq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return $q(n),n}const rP=(e,t)=>{const r=aI(e),n=(a,i=t)=>x4(r,a,i);return Object.assign(n,r),n},Hq=(e,t)=>e?rP(e,t):rP;function pt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const g0=x.createContext(null),Wq=g0.Provider,v4=Wa.error001();function $e(e,t){const r=x.useContext(g0);if(r===null)throw new Error(v4);return x4(r,e,t)}function gt(){const e=x.useContext(g0);if(e===null)throw new Error(v4);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const nP={display:"none"},Vq={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},b4="react-flow__node-desc",w4="react-flow__edge-desc",Kq="react-flow__aria-live",qq=e=>e.ariaLiveMessage,Zq=e=>e.ariaLabelConfig;function Yq({rfId:e}){const t=$e(qq);return s.jsx("div",{id:`${Kq}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Vq,children:t})}function Gq({rfId:e,disableKeyboardA11y:t}){const r=$e(Zq);return s.jsxs(s.Fragment,{children:[s.jsx("div",{id:`${b4}-${e}`,style:nP,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),s.jsx("div",{id:`${w4}-${e}`,style:nP,children:r["edge.a11yDescription.default"]}),!t&&s.jsx(Yq,{rfId:e})]})}const y0=x.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},i)=>{const o=`${e}`.split("-");return s.jsx("div",{className:Bt(["react-flow__panel",r,...o]),style:n,ref:i,...a,children:t})});y0.displayName="Panel";function Xq({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:s.jsx(y0,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:s.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Qq=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},am=e=>e.id;function Jq(e,t){return pt(e.selectedNodes.map(am),t.selectedNodes.map(am))&&pt(e.selectedEdges.map(am),t.selectedEdges.map(am))}function eZ({onSelectionChange:e}){const t=gt(),{selectedNodes:r,selectedEdges:n}=$e(Qq,Jq);return x.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(i=>i(a))},[r,n,e]),null}const tZ=e=>!!e.onSelectionChangeHandlers;function rZ({onSelectionChange:e}){const t=$e(tZ);return e||t?s.jsx(eZ,{onSelectionChange:e}):null}const _4=[0,0],nZ={x:0,y:0,zoom:1},aZ=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],aP=[...aZ,"rfId"],iZ=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),iP={translateExtent:Fd,nodeOrigin:_4,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function sZ(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u}=$e(iZ,pt),d=gt();x.useEffect(()=>(u(e.defaultNodes,e.defaultEdges),()=>{f.current=iP,l()}),[]);const f=x.useRef(iP);return x.useEffect(()=>{for(const h of aP){const p=e[h],g=f.current[h];p!==g&&(typeof e[h]>"u"||(h==="nodes"?t(p):h==="edges"?r(p):h==="minZoom"?n(p):h==="maxZoom"?a(p):h==="translateExtent"?i(p):h==="nodeExtent"?o(p):h==="ariaLabelConfig"?d.setState({ariaLabelConfig:QK(p)}):h==="fitView"?d.setState({fitViewQueued:p}):h==="fitViewOptions"?d.setState({fitViewOptions:p}):d.setState({[h]:p})))}f.current=e},aP.map(h=>e[h])),null}function sP(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function oZ(e){var n;const[t,r]=x.useState(e==="system"?null:e);return x.useEffect(()=>{if(e!=="system"){r(e);return}const a=sP(),i=()=>r(a!=null&&a.matches?"dark":"light");return i(),a==null||a.addEventListener("change",i),()=>{a==null||a.removeEventListener("change",i)}},[e]),t!==null?t:(n=sP())!=null&&n.matches?"dark":"light"}const oP=typeof document<"u"?document:null;function Hd(e=null,t={target:oP,actInsideInputWithModifier:!0}){const[r,n]=x.useState(!1),a=x.useRef(!1),i=x.useRef(new Set([])),[o,l]=x.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((h,p)=>h.concat(...p),[]);return[d,f]}return[[],[]]},[e]);return x.useEffect(()=>{const u=(t==null?void 0:t.target)??oP,d=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=g=>{var _,w;if(a.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!a.current||a.current&&!d)&&e4(g))return!1;const b=cP(g.code,l);if(i.current.add(g[b]),lP(o,i.current,!1)){const k=((w=(_=g.composedPath)==null?void 0:_.call(g))==null?void 0:w[0])||g.target,j=(k==null?void 0:k.nodeName)==="BUTTON"||(k==null?void 0:k.nodeName)==="A";t.preventDefault!==!1&&(a.current||!j)&&g.preventDefault(),n(!0)}},h=g=>{const y=cP(g.code,l);lP(o,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(g[y]),g.key==="Meta"&&i.current.clear(),a.current=!1},p=()=>{i.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,n]),r}function lP(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function cP(e,t){return t.includes(e)?"code":"key"}const lZ=()=>{const e=gt();return x.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??i},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:i,maxZoom:o,panZoom:l}=e.getState(),u=E1(t,n,a,i,o,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(u,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:l,y:u}=o.getBoundingClientRect(),d={x:t.x-l,y:t.y-u},f=r.snapGrid??a,h=r.snapToGrid??i;return Cf(d,n,h,f)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:i}=n.getBoundingClientRect(),o=Lp(t,r);return{x:o.x+a,y:o.y+i}}}),[])};function j4(e,t){const r=[],n=new Map,a=[];for(const i of e)if(i.type==="add"){a.push(i);continue}else if(i.type==="remove"||i.type==="replace")n.set(i.id,[i]);else{const o=n.get(i.id);o?o.push(i):n.set(i.id,[i])}for(const i of t){const o=n.get(i.id);if(!o){r.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){r.push({...o[0].item});continue}const l={...i};for(const u of o)cZ(u,l);r.push(l)}return a.length&&a.forEach(i=>{i.index!==void 0?r.splice(i.index,0,{...i.item}):r.push({...i.item})}),r}function cZ(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function k4(e,t){return j4(e,t)}function N4(e,t){return j4(e,t)}function so(e,t){return{id:e,type:"select",selected:t}}function Fl(e,t=new Set,r=!1){const n=[];for(const[a,i]of e){const o=t.has(a);!(i.selected===void 0&&!o)&&i.selected!==o&&(r&&(i.selected=o),n.push(so(i.id,o)))}return n}function uP({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const l=t.get(o.id),u=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;u!==void 0&&u!==o&&r.push({id:o.id,item:o,type:"replace"}),u===void 0&&r.push({item:o,type:"add",index:i})}for(const[i]of t)n.get(i)===void 0&&r.push({id:i,type:"remove"});return r}function dP(e){return{id:e.id,type:"remove"}}const fP=e=>UK(e),uZ=e=>KI(e);function S4(e){return x.forwardRef(e)}const dZ=typeof window<"u"?x.useLayoutEffect:x.useEffect;function hP(e){const[t,r]=x.useState(BigInt(0)),[n]=x.useState(()=>fZ(()=>r(a=>a+BigInt(1))));return dZ(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function fZ(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const P4=x.createContext(null);function hZ({children:e}){const t=gt(),r=x.useCallback(l=>{const{nodes:u=[],setNodes:d,hasDefaultNodes:f,onNodesChange:h,nodeLookup:p,fitViewQueued:g,onNodesChangeMiddlewareMap:y}=t.getState();let b=u;for(const w of l)b=typeof w=="function"?w(b):w;let _=uP({items:b,lookup:p});for(const w of y.values())_=w(_);f&&d(b),_.length>0?h==null||h(_):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:k,setNodes:j}=t.getState();w&&j(k)})},[]),n=hP(r),a=x.useCallback(l=>{const{edges:u=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:p}=t.getState();let g=u;for(const y of l)g=typeof y=="function"?y(g):y;f?d(g):h&&h(uP({items:g,lookup:p}))},[]),i=hP(a),o=x.useMemo(()=>({nodeQueue:n,edgeQueue:i}),[]);return s.jsx(P4.Provider,{value:o,children:e})}function mZ(){const e=x.useContext(P4);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const pZ=e=>!!e.panZoom;function Zc(){const e=lZ(),t=gt(),r=mZ(),n=$e(pZ),a=x.useMemo(()=>{const i=h=>t.getState().nodeLookup.get(h),o=h=>{r.nodeQueue.push(h)},l=h=>{r.edgeQueue.push(h)},u=h=>{var w,k;const{nodeLookup:p,nodeOrigin:g}=t.getState(),y=fP(h)?h:p.get(h.id),b=y.parentId?QI(y.position,y.measured,y.parentId,p,g):y.position,_={...y,position:b,width:((w=y.measured)==null?void 0:w.width)??y.width,height:((k=y.measured)==null?void 0:k.height)??y.height};return Nc(_)},d=(h,p,g={replace:!1})=>{o(y=>y.map(b=>{if(b.id===h){const _=typeof p=="function"?p(b):p;return g.replace&&fP(_)?_:{...b,..._}}return b}))},f=(h,p,g={replace:!1})=>{l(y=>y.map(b=>{if(b.id===h){const _=typeof p=="function"?p(b):p;return g.replace&&uZ(_)?_:{...b,..._}}return b}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var p;return(p=i(h))==null?void 0:p.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(p=>({...p}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const p=Array.isArray(h)?h:[h];r.nodeQueue.push(g=>[...g,...p])},addEdges:h=>{const p=Array.isArray(h)?h:[h];r.edgeQueue.push(g=>[...g,...p])},toObject:()=>{const{nodes:h=[],edges:p=[],transform:g}=t.getState(),[y,b,_]=g;return{nodes:h.map(w=>({...w})),edges:p.map(w=>({...w})),viewport:{x:y,y:b,zoom:_}}},deleteElements:async({nodes:h=[],edges:p=[]})=>{const{nodes:g,edges:y,onNodesDelete:b,onEdgesDelete:_,triggerNodeChanges:w,triggerEdgeChanges:k,onDelete:j,onBeforeDelete:N}=t.getState(),{nodes:P,edges:C}=await qK({nodesToRemove:h,edgesToRemove:p,nodes:g,edges:y,onBeforeDelete:N}),A=C.length>0,O=P.length>0;if(A){const M=C.map(dP);_==null||_(C),k(M)}if(O){const M=P.map(dP);b==null||b(P),w(M)}return(O||A)&&(j==null||j({nodes:P,edges:C})),{deletedNodes:P,deletedEdges:C}},getIntersectingNodes:(h,p=!0,g)=>{const y=HS(h),b=y?h:u(h),_=g!==void 0;return b?(g||t.getState().nodes).filter(w=>{const k=t.getState().nodeLookup.get(w.id);if(k&&!y&&(w.id===h.id||!k.internals.positionAbsolute))return!1;const j=Nc(_?w:k),N=Bd(j,b);return p&&N>0||N>=j.width*j.height||N>=b.width*b.height}):[]},isNodeIntersecting:(h,p,g=!0)=>{const b=HS(h)?h:u(h);if(!b)return!1;const _=Bd(b,p);return g&&_>0||_>=p.width*p.height||_>=b.width*b.height},updateNode:d,updateNodeData:(h,p,g={replace:!1})=>{d(h,y=>{const b=typeof p=="function"?p(y):p;return g.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},g)},updateEdge:f,updateEdgeData:(h,p,g={replace:!1})=>{f(h,y=>{const b=typeof p=="function"?p(y):p;return g.replace?{...y,data:b}:{...y,data:{...y.data,...b}}},g)},getNodesBounds:h=>{const{nodeLookup:p,nodeOrigin:g}=t.getState();return HK(h,{nodeLookup:p,nodeOrigin:g})},getHandleConnections:({type:h,id:p,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}-${h}${p?`-${p}`:""}`))==null?void 0:y.values())??[])},getNodeConnections:({type:h,handleId:p,nodeId:g})=>{var y;return Array.from(((y=t.getState().connectionLookup.get(`${g}${h?p?`-${h}-${p}`:`-${h}`:""}`))==null?void 0:y.values())??[])},fitView:async h=>{const p=t.getState().fitViewResolver??XK();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:p}),r.nodeQueue.push(g=>[...g]),p.promise}}},[]);return x.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const mP=e=>e.selected,gZ=typeof window<"u"?window:void 0;function yZ({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=gt(),{deleteElements:n}=Zc(),a=Hd(e,{actInsideInputWithModifier:!1}),i=Hd(t,{target:gZ});x.useEffect(()=>{if(a){const{edges:o,nodes:l}=r.getState();n({nodes:l.filter(mP),edges:o.filter(mP)}),r.setState({nodesSelectionActive:!1})}},[a]),x.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])}function xZ(e){const t=gt();x.useEffect(()=>{const r=()=>{var a,i,o,l;if(!e.current||!(((i=(a=e.current).checkVisibility)==null?void 0:i.call(a))??!0))return!1;const n=O1(e.current);(n.height===0||n.width===0)&&((l=(o=t.getState()).onError)==null||l.call(o,"004",Wa.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const x0={position:"absolute",width:"100%",height:"100%",top:0,left:0},vZ=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function bZ({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:i=Lo.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:f,maxZoom:h,zoomActivationKeyCode:p,preventScrolling:g=!0,children:y,noWheelClassName:b,noPanClassName:_,onViewportChange:w,isControlledViewport:k,paneClickDistance:j,selectionOnDrag:N}){const P=gt(),C=x.useRef(null),{userSelectionActive:A,lib:O,connectionInProgress:M}=$e(vZ,pt),$=Hd(p),I=x.useRef();xZ(C);const R=x.useCallback(B=>{w==null||w({x:B[0],y:B[1],zoom:B[2]}),k||P.setState({transform:B})},[w,k]);return x.useEffect(()=>{if(C.current){I.current=Mq({domNode:C.current,minZoom:f,maxZoom:h,translateExtent:d,viewport:u,onDraggingChange:W=>P.setState({paneDragging:W}),onPanZoomStart:(W,V)=>{const{onViewportChangeStart:z,onMoveStart:T}=P.getState();T==null||T(W,V),z==null||z(V)},onPanZoom:(W,V)=>{const{onViewportChange:z,onMove:T}=P.getState();T==null||T(W,V),z==null||z(V)},onPanZoomEnd:(W,V)=>{const{onViewportChangeEnd:z,onMoveEnd:T}=P.getState();T==null||T(W,V),z==null||z(V)}});const{x:B,y:F,zoom:q}=I.current.getViewport();return P.setState({panZoom:I.current,transform:[B,F,q],domNode:C.current.closest(".react-flow")}),()=>{var W;(W=I.current)==null||W.destroy()}}},[]),x.useEffect(()=>{var B;(B=I.current)==null||B.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:$,preventScrolling:g,noPanClassName:_,userSelectionActive:A,noWheelClassName:b,lib:O,onTransformChange:R,connectionInProgress:M,selectionOnDrag:N,paneClickDistance:j})},[e,t,r,n,a,i,o,l,$,g,_,A,b,O,R,M,N,j]),s.jsx("div",{className:"react-flow__renderer",ref:C,style:x0,children:y})}const wZ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function _Z(){const{userSelectionActive:e,userSelectionRect:t}=$e(wZ,pt);return e&&t?s.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ev=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},jZ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function kZ({isSelecting:e,selectionKeyPressed:t,selectionMode:r=$d.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:l,onPaneClick:u,onPaneContextMenu:d,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:p,onPaneMouseLeave:g,children:y}){const b=gt(),{userSelectionActive:_,elementsSelectable:w,dragging:k,connectionInProgress:j}=$e(jZ,pt),N=w&&(e||_),P=x.useRef(null),C=x.useRef(),A=x.useRef(new Set),O=x.useRef(new Set),M=x.useRef(!1),$=z=>{if(M.current||j){M.current=!1;return}u==null||u(z),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},I=z=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){z.preventDefault();return}d==null||d(z)},R=f?z=>f(z):void 0,B=z=>{M.current&&(z.stopPropagation(),M.current=!1)},F=z=>{var se,oe;const{domNode:T}=b.getState();if(C.current=T==null?void 0:T.getBoundingClientRect(),!C.current)return;const U=z.target===P.current;if(!U&&!!z.target.closest(".nokey")||!e||!(i&&U||t)||z.button!==0||!z.isPrimary)return;(oe=(se=z.target)==null?void 0:se.setPointerCapture)==null||oe.call(se,z.pointerId),M.current=!1;const{x:H,y:Q}=pa(z.nativeEvent,C.current);b.setState({userSelectionRect:{width:0,height:0,startX:H,startY:Q,x:H,y:Q}}),U||(z.stopPropagation(),z.preventDefault())},q=z=>{const{userSelectionRect:T,transform:U,nodeLookup:Z,edgeLookup:G,connectionLookup:H,triggerNodeChanges:Q,triggerEdgeChanges:se,defaultEdgeOptions:oe,resetSelectedElements:ie}=b.getState();if(!C.current||!T)return;const{x:le,y:X}=pa(z.nativeEvent,C.current),{startX:me,startY:fe}=T;if(!M.current){const Pe=t?0:a;if(Math.hypot(le-me,X-fe)<=Pe)return;ie(),o==null||o(z)}M.current=!0;const te={startX:me,startY:fe,x:le<me?le:me,y:X<fe?X:fe,width:Math.abs(le-me),height:Math.abs(X-fe)},pe=A.current,we=O.current;A.current=new Set(C1(Z,te,U,r===$d.Partial,!0).map(Pe=>Pe.id)),O.current=new Set;const Oe=(oe==null?void 0:oe.selectable)??!0;for(const Pe of A.current){const Ve=H.get(Pe);if(Ve)for(const{edgeId:Ht}of Ve.values()){const Br=G.get(Ht);Br&&(Br.selectable??Oe)&&O.current.add(Ht)}}if(!WS(pe,A.current)){const Pe=Fl(Z,A.current,!0);Q(Pe)}if(!WS(we,O.current)){const Pe=Fl(G,O.current);se(Pe)}b.setState({userSelectionRect:te,userSelectionActive:!0,nodesSelectionActive:!1})},W=z=>{var T,U;z.button===0&&((U=(T=z.target)==null?void 0:T.releasePointerCapture)==null||U.call(T,z.pointerId),!_&&z.target===P.current&&b.getState().userSelectionRect&&($==null||$(z)),b.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(l==null||l(z),b.setState({nodesSelectionActive:A.current.size>0})))},V=n===!0||Array.isArray(n)&&n.includes(0);return s.jsxs("div",{className:Bt(["react-flow__pane",{draggable:V,dragging:k,selection:e}]),onClick:N?void 0:ev($,P),onContextMenu:ev(I,P),onWheel:ev(R,P),onPointerEnter:N?void 0:h,onPointerMove:N?q:p,onPointerUp:N?W:void 0,onPointerDownCapture:N?F:void 0,onClickCapture:N?B:void 0,onPointerLeave:g,ref:P,style:x0,children:[y,s.jsx(_Z,{})]})}function nw({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:l,onError:u}=t.getState(),d=l.get(e);if(!d){u==null||u("012",Wa.error012(e));return}t.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&o)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var f;return(f=n==null?void 0:n.current)==null?void 0:f.blur()})):a([e])}function C4({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:i,nodeClickDistance:o}){const l=gt(),[u,d]=x.useState(!1),f=x.useRef();return x.useEffect(()=>{f.current=vq({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{nw({id:h,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),x.useEffect(()=>{var h,p;if(t)(h=f.current)==null||h.destroy();else if(e.current)return(p=f.current)==null||p.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:i,nodeId:a,nodeClickDistance:o}),()=>{var g;(g=f.current)==null||g.destroy()}},[r,n,t,i,e,a]),u}const NZ=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function E4(){const e=gt();return x.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:i,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:d,nodeOrigin:f}=e.getState(),h=new Map,p=NZ(o),g=a?i[0]:5,y=a?i[1]:5,b=r.direction.x*g*r.factor,_=r.direction.y*y*r.factor;for(const[,w]of d){if(!p(w))continue;let k={x:w.internals.positionAbsolute.x+b,y:w.internals.positionAbsolute.y+_};a&&(k=Pf(k,i));const{position:j,positionAbsolute:N}=qI({nodeId:w.id,nextPosition:k,nodeLookup:d,nodeExtent:n,nodeOrigin:f,onError:l});w.position=j,w.internals.positionAbsolute=N,h.set(w.id,w)}u(h)},[])}const D1=x.createContext(null),SZ=D1.Provider;D1.Consumer;const O4=()=>x.useContext(D1),PZ=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),CZ=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:i,connection:o}=n,{fromHandle:l,toHandle:u,isValid:d}=o,f=(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.id)===t&&(u==null?void 0:u.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:f,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:i===jc.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:f&&d}};function EZ({type:e="source",position:t=Se.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:u,className:d,onMouseDown:f,onTouchStart:h,...p},g){var q,W;const y=o||null,b=e==="target",_=gt(),w=O4(),{connectOnClick:k,noPanClassName:j,rfId:N}=$e(PZ,pt),{connectingFrom:P,connectingTo:C,clickConnecting:A,isPossibleEndHandle:O,connectionInProcess:M,clickConnectionInProcess:$,valid:I}=$e(CZ(w,y,e),pt);w||(W=(q=_.getState()).onError)==null||W.call(q,"010",Wa.error010());const R=V=>{const{defaultEdgeOptions:z,onConnect:T,hasDefaultEdges:U}=_.getState(),Z={...z,...V};if(U){const{edges:G,setEdges:H}=_.getState();H(i4(Z,G))}T==null||T(Z),l==null||l(Z)},B=V=>{if(!w)return;const z=t4(V.nativeEvent);if(a&&(z&&V.button===0||!z)){const T=_.getState();rw.onPointerDown(V.nativeEvent,{handleDomNode:V.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:b,handleId:y,nodeId:w,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:R,isValidConnection:r||T.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}z?f==null||f(V):h==null||h(V)},F=V=>{const{onClickConnectStart:z,onClickConnectEnd:T,connectionClickStartHandle:U,connectionMode:Z,isValidConnection:G,lib:H,rfId:Q,nodeLookup:se,connection:oe}=_.getState();if(!w||!U&&!a)return;if(!U){z==null||z(V.nativeEvent,{nodeId:w,handleId:y,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:w,type:e,id:y}});return}const ie=JI(V.target),le=r||G,{connection:X,isValid:me}=rw.isValid(V.nativeEvent,{handle:{nodeId:w,id:y,type:e},connectionMode:Z,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:le,flowId:Q,doc:ie,lib:H,nodeLookup:se});me&&X&&R(X);const fe=structuredClone(oe);delete fe.inProgress,fe.toPosition=fe.toHandle?fe.toHandle.position:null,T==null||T(V,fe),_.setState({connectionClickStartHandle:null})};return s.jsx("div",{"data-handleid":y,"data-nodeid":w,"data-handlepos":t,"data-id":`${N}-${w}-${y}-${e}`,className:Bt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,d,{source:!b,target:b,connectable:n,connectablestart:a,connectableend:i,clickconnecting:A,connectingfrom:P,connectingto:C,valid:I,connectionindicator:n&&(!M||O)&&(M||$?i:a)}]),onMouseDown:B,onTouchStart:B,onClick:k?F:void 0,ref:g,...p,children:u})}const Cc=x.memo(S4(EZ));function OZ({data:e,isConnectable:t,sourcePosition:r=Se.Bottom}){return s.jsxs(s.Fragment,{children:[e==null?void 0:e.label,s.jsx(Cc,{type:"source",position:r,isConnectable:t})]})}function AZ({data:e,isConnectable:t,targetPosition:r=Se.Top,sourcePosition:n=Se.Bottom}){return s.jsxs(s.Fragment,{children:[s.jsx(Cc,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,s.jsx(Cc,{type:"source",position:n,isConnectable:t})]})}function TZ(){return null}function MZ({data:e,isConnectable:t,targetPosition:r=Se.Top}){return s.jsxs(s.Fragment,{children:[s.jsx(Cc,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Rp={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},pP={input:OZ,default:AZ,output:MZ,group:TZ};function IZ(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const LZ=e=>{const{width:t,height:r,x:n,y:a}=Sf(e.nodeLookup,{filter:i=>!!i.selected});return{width:ma(t)?t:null,height:ma(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function DZ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=gt(),{width:a,height:i,transformString:o,userSelectionActive:l}=$e(LZ,pt),u=E4(),d=x.useRef(null);if(x.useEffect(()=>{var p;r||(p=d.current)==null||p.focus({preventScroll:!0})},[r]),C4({nodeRef:d}),l||!a||!i)return null;const f=e?p=>{const g=n.getState().nodes.filter(y=>y.selected);e(p,g)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(Rp,p.key)&&(p.preventDefault(),u({direction:Rp[p.key],factor:p.shiftKey?4:1}))};return s.jsx("div",{className:Bt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:s.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:r?void 0:-1,onKeyDown:r?void 0:h,style:{width:a,height:i}})})}const gP=typeof window<"u"?window:void 0,RZ=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function A4({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:_,elementsSelectable:w,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:N,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:O,defaultViewport:M,translateExtent:$,minZoom:I,maxZoom:R,preventScrolling:B,onSelectionContextMenu:F,noWheelClassName:q,noPanClassName:W,disableKeyboardA11y:V,onViewportChange:z,isControlledViewport:T}){const{nodesSelectionActive:U,userSelectionActive:Z}=$e(RZ,pt),G=Hd(d,{target:gP}),H=Hd(b,{target:gP}),Q=H||O,se=H||N,oe=f&&Q!==!0,ie=G||Z||oe;return yZ({deleteKeyCode:u,multiSelectionKeyCode:y}),s.jsx(bZ,{onPaneContextMenu:i,elementsSelectable:w,zoomOnScroll:k,zoomOnPinch:j,panOnScroll:se,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:!G&&Q,defaultViewport:M,translateExtent:$,minZoom:I,maxZoom:R,zoomActivationKeyCode:_,preventScrolling:B,noWheelClassName:q,noPanClassName:W,onViewportChange:z,isControlledViewport:T,paneClickDistance:l,selectionOnDrag:oe,children:s.jsxs(kZ,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:Q,isSelecting:!!ie,selectionMode:h,selectionKeyPressed:G,paneClickDistance:l,selectionOnDrag:oe,children:[e,U&&s.jsx(DZ,{onSelectionContextMenu:F,noPanClassName:W,disableKeyboardA11y:V})]})})}A4.displayName="FlowRenderer";const zZ=x.memo(A4),FZ=e=>t=>e?C1(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function $Z(e){return $e(x.useCallback(FZ(e),[e]),pt)}const BZ=e=>e.updateNodeInternals;function UZ(){const e=$e(BZ),[t]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const i=a.target.getAttribute("data-id");n.set(i,{id:i,nodeElement:a.target,force:!0})}),e(n)}));return x.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function HZ({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=gt(),i=x.useRef(null),o=x.useRef(null),l=x.useRef(e.sourcePosition),u=x.useRef(e.targetPosition),d=x.useRef(t),f=r&&!!e.internals.handleBounds;return x.useEffect(()=>{i.current&&!e.hidden&&(!f||o.current!==i.current)&&(o.current&&(n==null||n.unobserve(o.current)),n==null||n.observe(i.current),o.current=i.current)},[f,e.hidden]),x.useEffect(()=>()=>{o.current&&(n==null||n.unobserve(o.current),o.current=null)},[]),x.useEffect(()=>{if(i.current){const h=d.current!==t,p=l.current!==e.sourcePosition,g=u.current!==e.targetPosition;(h||p||g)&&(d.current=t,l.current=e.sourcePosition,u.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function WZ({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:i,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:f,resizeObserver:h,noDragClassName:p,noPanClassName:g,disableKeyboardA11y:y,rfId:b,nodeTypes:_,nodeClickDistance:w,onError:k}){const{node:j,internals:N,isParent:P}=$e(le=>{const X=le.nodeLookup.get(e),me=le.parentLookup.has(e);return{node:X,internals:X.internals,isParent:me}},pt);let C=j.type||"default",A=(_==null?void 0:_[C])||pP[C];A===void 0&&(k==null||k("003",Wa.error003(C)),C="default",A=(_==null?void 0:_.default)||pP.default);const O=!!(j.draggable||l&&typeof j.draggable>"u"),M=!!(j.selectable||u&&typeof j.selectable>"u"),$=!!(j.connectable||d&&typeof j.connectable>"u"),I=!!(j.focusable||f&&typeof j.focusable>"u"),R=gt(),B=XI(j),F=HZ({node:j,nodeType:C,hasDimensions:B,resizeObserver:h}),q=C4({nodeRef:F,disabled:j.hidden||!O,noDragClassName:p,handleSelector:j.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:w}),W=E4();if(j.hidden)return null;const V=Hi(j),z=IZ(j),T=M||O||t||r||n||a,U=r?le=>r(le,{...N.userNode}):void 0,Z=n?le=>n(le,{...N.userNode}):void 0,G=a?le=>a(le,{...N.userNode}):void 0,H=i?le=>i(le,{...N.userNode}):void 0,Q=o?le=>o(le,{...N.userNode}):void 0,se=le=>{const{selectNodesOnDrag:X,nodeDragThreshold:me}=R.getState();M&&(!X||!O||me>0)&&nw({id:e,store:R,nodeRef:F}),t&&t(le,{...N.userNode})},oe=le=>{if(!(e4(le.nativeEvent)||y)){if(UI.includes(le.key)&&M){const X=le.key==="Escape";nw({id:e,store:R,unselect:X,nodeRef:F})}else if(O&&j.selected&&Object.prototype.hasOwnProperty.call(Rp,le.key)){le.preventDefault();const{ariaLabelConfig:X}=R.getState();R.setState({ariaLiveMessage:X["node.a11yDescription.ariaLiveMessage"]({direction:le.key.replace("Arrow","").toLowerCase(),x:~~N.positionAbsolute.x,y:~~N.positionAbsolute.y})}),W({direction:Rp[le.key],factor:le.shiftKey?4:1})}}},ie=()=>{var we;if(y||!((we=F.current)!=null&&we.matches(":focus-visible")))return;const{transform:le,width:X,height:me,autoPanOnNodeFocus:fe,setCenter:te}=R.getState();if(!fe)return;C1(new Map([[e,j]]),{x:0,y:0,width:X,height:me},le,!0).length>0||te(j.position.x+V.width/2,j.position.y+V.height/2,{zoom:le[2]})};return s.jsx("div",{className:Bt(["react-flow__node",`react-flow__node-${C}`,{[g]:O},j.className,{selected:j.selected,selectable:M,parent:P,draggable:O,dragging:q}]),ref:F,style:{zIndex:N.z,transform:`translate(${N.positionAbsolute.x}px,${N.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:B?"visible":"hidden",...j.style,...z},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:U,onMouseMove:Z,onMouseLeave:G,onContextMenu:H,onClick:se,onDoubleClick:Q,onKeyDown:I?oe:void 0,tabIndex:I?0:void 0,onFocus:I?ie:void 0,role:j.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":y?void 0:`${b4}-${b}`,"aria-label":j.ariaLabel,...j.domAttributes,children:s.jsx(SZ,{value:e,children:s.jsx(A,{id:e,data:j.data,type:C,positionAbsoluteX:N.positionAbsolute.x,positionAbsoluteY:N.positionAbsolute.y,selected:j.selected??!1,selectable:M,draggable:O,deletable:j.deletable??!0,isConnectable:$,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:q,dragHandle:j.dragHandle,zIndex:N.z,parentId:j.parentId,...V})})})}var VZ=x.memo(WZ);const KZ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function T4(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:i}=$e(KZ,pt),o=$Z(e.onlyRenderVisibleElements),l=UZ();return s.jsx("div",{className:"react-flow__nodes",style:x0,children:o.map(u=>s.jsx(VZ,{id:u,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:i},u))})}T4.displayName="NodeRenderer";const qZ=x.memo(T4);function ZZ(e){return $e(x.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const i=r.nodeLookup.get(a.source),o=r.nodeLookup.get(a.target);i&&o&&tq({sourceNode:i,targetNode:o,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),pt)}const YZ=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return s.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},GZ=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return s.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},yP={[Mp.Arrow]:YZ,[Mp.ArrowClosed]:GZ};function XZ(e){const t=gt();return x.useMemo(()=>{var a,i;return Object.prototype.hasOwnProperty.call(yP,e)?yP[e]:((i=(a=t.getState()).onError)==null||i.call(a,"009",Wa.error009(e)),null)},[e])}const QZ=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=XZ(t);return u?s.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:s.jsx(u,{color:r,strokeWidth:o})}):null},M4=({defaultColor:e,rfId:t})=>{const r=$e(i=>i.edges),n=$e(i=>i.defaultEdgeOptions),a=x.useMemo(()=>lq(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?s.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:s.jsx("defs",{children:a.map(i=>s.jsx(QZ,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};M4.displayName="MarkerDefinitions";var JZ=x.memo(M4);function I4({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:i,labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...f}){const[h,p]=x.useState({x:1,y:0,width:0,height:0}),g=Bt(["react-flow__edge-textwrapper",d]),y=x.useRef(null);return x.useEffect(()=>{if(y.current){const b=y.current.getBBox();p({x:b.x,y:b.y,width:b.width,height:b.height})}},[r]),r?s.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...f,children:[a&&s.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),s.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:y,style:n,children:r}),u]}):null}I4.displayName="EdgeText";const eY=x.memo(I4);function Ec({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:d=20,...f}){return s.jsxs(s.Fragment,{children:[s.jsx("path",{...f,d:e,fill:"none",className:Bt(["react-flow__edge-path",f.className])}),d?s.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,n&&ma(t)&&ma(r)?s.jsx(eY,{x:t,y:r,label:n,labelStyle:a,labelShowBg:i,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function xP({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===Se.Left||e===Se.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function L4({sourceX:e,sourceY:t,sourcePosition:r=Se.Bottom,targetX:n,targetY:a,targetPosition:i=Se.Top}){const[o,l]=xP({pos:r,x1:e,y1:t,x2:n,y2:a}),[u,d]=xP({pos:i,x1:n,y1:a,x2:e,y2:t}),[f,h,p,g]=r4({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${e},${t} C${o},${l} ${u},${d} ${n},${a}`,f,h,p,g]}function D4(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:o,targetPosition:l,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,interactionWidth:w})=>{const[k,j,N]=L4({sourceX:r,sourceY:n,sourcePosition:o,targetX:a,targetY:i,targetPosition:l}),P=e.isInternal?void 0:t;return s.jsx(Ec,{id:P,path:k,labelX:j,labelY:N,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,interactionWidth:w})})}const tY=D4({isInternal:!1}),R4=D4({isInternal:!0});tY.displayName="SimpleBezierEdge";R4.displayName="SimpleBezierEdgeInternal";function z4(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:g=Se.Bottom,targetPosition:y=Se.Top,markerEnd:b,markerStart:_,pathOptions:w,interactionWidth:k})=>{const[j,N,P]=Dp({sourceX:r,sourceY:n,sourcePosition:g,targetX:a,targetY:i,targetPosition:y,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset,stepPosition:w==null?void 0:w.stepPosition}),C=e.isInternal?void 0:t;return s.jsx(Ec,{id:C,path:j,labelX:N,labelY:P,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:b,markerStart:_,interactionWidth:k})})}const F4=z4({isInternal:!1}),$4=z4({isInternal:!0});F4.displayName="SmoothStepEdge";$4.displayName="SmoothStepEdgeInternal";function B4(e){return x.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return s.jsx(F4,{...r,id:n,pathOptions:x.useMemo(()=>{var i;return{borderRadius:0,offset:(i=r.pathOptions)==null?void 0:i.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const rY=B4({isInternal:!1}),U4=B4({isInternal:!0});rY.displayName="StepEdge";U4.displayName="StepEdgeInternal";function H4(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:y,interactionWidth:b})=>{const[_,w,k]=s4({sourceX:r,sourceY:n,targetX:a,targetY:i}),j=e.isInternal?void 0:t;return s.jsx(Ec,{id:j,path:_,labelX:w,labelY:k,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:y,interactionWidth:b})})}const nY=H4({isInternal:!1}),W4=H4({isInternal:!0});nY.displayName="StraightEdge";W4.displayName="StraightEdgeInternal";function V4(e){return x.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:i,sourcePosition:o=Se.Bottom,targetPosition:l=Se.Top,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,pathOptions:w,interactionWidth:k})=>{const[j,N,P]=n4({sourceX:r,sourceY:n,sourcePosition:o,targetX:a,targetY:i,targetPosition:l,curvature:w==null?void 0:w.curvature}),C=e.isInternal?void 0:t;return s.jsx(Ec,{id:C,path:j,labelX:N,labelY:P,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,markerEnd:b,markerStart:_,interactionWidth:k})})}const aY=V4({isInternal:!1}),K4=V4({isInternal:!0});aY.displayName="BezierEdge";K4.displayName="BezierEdgeInternal";const vP={default:K4,straight:W4,step:U4,smoothstep:$4,simplebezier:R4},bP={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},iY=(e,t,r)=>r===Se.Left?e-t:r===Se.Right?e+t:e,sY=(e,t,r)=>r===Se.Top?e-t:r===Se.Bottom?e+t:e,wP="react-flow__edgeupdater";function _P({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:i,onMouseOut:o,type:l}){return s.jsx("circle",{onMouseDown:a,onMouseEnter:i,onMouseOut:o,className:Bt([wP,`${wP}-${l}`]),cx:iY(t,n,e),cy:sY(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function oY({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:i,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:g}){const y=gt(),b=(N,P)=>{if(N.button!==0)return;const{autoPanOnConnect:C,domNode:A,isValidConnection:O,connectionMode:M,connectionRadius:$,lib:I,onConnectStart:R,onConnectEnd:B,cancelConnection:F,nodeLookup:q,rfId:W,panBy:V,updateConnection:z}=y.getState(),T=P.type==="target",U=(H,Q)=>{p(!1),h==null||h(H,r,P.type,Q)},Z=H=>d==null?void 0:d(r,H),G=(H,Q)=>{p(!0),f==null||f(N,r,P.type),R==null||R(H,Q)};rw.onPointerDown(N.nativeEvent,{autoPanOnConnect:C,connectionMode:M,connectionRadius:$,domNode:A,handleId:P.id,nodeId:P.nodeId,nodeLookup:q,isTarget:T,edgeUpdaterType:P.type,lib:I,flowId:W,cancelConnection:F,panBy:V,isValidConnection:O,onConnect:Z,onConnectStart:G,onConnectEnd:B,onReconnectEnd:U,updateConnection:z,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,dragThreshold:y.getState().connectionDragThreshold,handleDomNode:N.currentTarget})},_=N=>b(N,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),w=N=>b(N,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),k=()=>g(!0),j=()=>g(!1);return s.jsxs(s.Fragment,{children:[(e===!0||e==="source")&&s.jsx(_P,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:_,onMouseEnter:k,onMouseOut:j,type:"source"}),(e===!0||e==="target")&&s.jsx(_P,{position:u,centerX:i,centerY:o,radius:t,onMouseDown:w,onMouseEnter:k,onMouseOut:j,type:"target"})]})}function lY({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:g,rfId:y,edgeTypes:b,noPanClassName:_,onError:w,disableKeyboardA11y:k}){let j=$e(te=>te.edgeLookup.get(e));const N=$e(te=>te.defaultEdgeOptions);j=N?{...N,...j}:j;let P=j.type||"default",C=(b==null?void 0:b[P])||vP[P];C===void 0&&(w==null||w("011",Wa.error011(P)),P="default",C=(b==null?void 0:b.default)||vP.default);const A=!!(j.focusable||t&&typeof j.focusable>"u"),O=typeof h<"u"&&(j.reconnectable||r&&typeof j.reconnectable>"u"),M=!!(j.selectable||n&&typeof j.selectable>"u"),$=x.useRef(null),[I,R]=x.useState(!1),[B,F]=x.useState(!1),q=gt(),{zIndex:W,sourceX:V,sourceY:z,targetX:T,targetY:U,sourcePosition:Z,targetPosition:G}=$e(x.useCallback(te=>{const pe=te.nodeLookup.get(j.source),we=te.nodeLookup.get(j.target);if(!pe||!we)return{zIndex:j.zIndex,...bP};const Oe=oq({id:e,sourceNode:pe,targetNode:we,sourceHandle:j.sourceHandle||null,targetHandle:j.targetHandle||null,connectionMode:te.connectionMode,onError:w});return{zIndex:eq({selected:j.selected,zIndex:j.zIndex,sourceNode:pe,targetNode:we,elevateOnSelect:te.elevateEdgesOnSelect,zIndexMode:te.zIndexMode}),...Oe||bP}},[j.source,j.target,j.sourceHandle,j.targetHandle,j.selected,j.zIndex]),pt),H=x.useMemo(()=>j.markerStart?`url('#${ew(j.markerStart,y)}')`:void 0,[j.markerStart,y]),Q=x.useMemo(()=>j.markerEnd?`url('#${ew(j.markerEnd,y)}')`:void 0,[j.markerEnd,y]);if(j.hidden||V===null||z===null||T===null||U===null)return null;const se=te=>{var Pe;const{addSelectedEdges:pe,unselectNodesAndEdges:we,multiSelectionActive:Oe}=q.getState();M&&(q.setState({nodesSelectionActive:!1}),j.selected&&Oe?(we({nodes:[],edges:[j]}),(Pe=$.current)==null||Pe.blur()):pe([e])),a&&a(te,j)},oe=i?te=>{i(te,{...j})}:void 0,ie=o?te=>{o(te,{...j})}:void 0,le=l?te=>{l(te,{...j})}:void 0,X=u?te=>{u(te,{...j})}:void 0,me=d?te=>{d(te,{...j})}:void 0,fe=te=>{var pe;if(!k&&UI.includes(te.key)&&M){const{unselectNodesAndEdges:we,addSelectedEdges:Oe}=q.getState();te.key==="Escape"?((pe=$.current)==null||pe.blur(),we({edges:[j]})):Oe([e])}};return s.jsx("svg",{style:{zIndex:W},children:s.jsxs("g",{className:Bt(["react-flow__edge",`react-flow__edge-${P}`,j.className,_,{selected:j.selected,animated:j.animated,inactive:!M&&!a,updating:I,selectable:M}]),onClick:se,onDoubleClick:oe,onContextMenu:ie,onMouseEnter:le,onMouseMove:X,onMouseLeave:me,onKeyDown:A?fe:void 0,tabIndex:A?0:void 0,role:j.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":j.ariaLabel===null?void 0:j.ariaLabel||`Edge from ${j.source} to ${j.target}`,"aria-describedby":A?`${w4}-${y}`:void 0,ref:$,...j.domAttributes,children:[!B&&s.jsx(C,{id:e,source:j.source,target:j.target,type:j.type,selected:j.selected,animated:j.animated,selectable:M,deletable:j.deletable??!0,label:j.label,labelStyle:j.labelStyle,labelShowBg:j.labelShowBg,labelBgStyle:j.labelBgStyle,labelBgPadding:j.labelBgPadding,labelBgBorderRadius:j.labelBgBorderRadius,sourceX:V,sourceY:z,targetX:T,targetY:U,sourcePosition:Z,targetPosition:G,data:j.data,style:j.style,sourceHandleId:j.sourceHandle,targetHandleId:j.targetHandle,markerStart:H,markerEnd:Q,pathOptions:"pathOptions"in j?j.pathOptions:void 0,interactionWidth:j.interactionWidth}),O&&s.jsx(oY,{edge:j,isReconnectable:O,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:g,sourceX:V,sourceY:z,targetX:T,targetY:U,sourcePosition:Z,targetPosition:G,setUpdateHover:R,setReconnecting:F})]})})}var cY=x.memo(lY);const uY=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function q4({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:p,onReconnectStart:g,onReconnectEnd:y,disableKeyboardA11y:b}){const{edgesFocusable:_,edgesReconnectable:w,elementsSelectable:k,onError:j}=$e(uY,pt),N=ZZ(t);return s.jsxs("div",{className:"react-flow__edges",children:[s.jsx(JZ,{defaultColor:e,rfId:r}),N.map(P=>s.jsx(cY,{id:P,edgesFocusable:_,edgesReconnectable:w,elementsSelectable:k,noPanClassName:a,onReconnect:i,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:f,reconnectRadius:h,onDoubleClick:p,onReconnectStart:g,onReconnectEnd:y,rfId:r,onError:j,edgeTypes:n,disableKeyboardA11y:b},P))]})}q4.displayName="EdgeRenderer";const dY=x.memo(q4),fY=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function hY({children:e}){const t=$e(fY);return s.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function mY(e){const t=Zc(),r=x.useRef(!1);x.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const pY=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function gY(e){const t=$e(pY),r=gt();return x.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function yY(e){return e.connection.inProgress?{...e.connection,to:Cf(e.connection.to,e.transform)}:{...e.connection}}function xY(e){return yY}function vY(e){const t=xY();return $e(t,pt)}const bY=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function wY({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:i,height:o,isValid:l,inProgress:u}=$e(bY,pt);return!(i&&a&&u)?null:s.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:s.jsx("g",{className:Bt(["react-flow__connection",VI(l)]),children:s.jsx(Z4,{style:t,type:r,CustomComponent:n,isValid:l})})})}const Z4=({style:e,type:t=us.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:i,fromNode:o,fromHandle:l,fromPosition:u,to:d,toNode:f,toHandle:h,toPosition:p,pointer:g}=vY();if(!a)return;if(r)return s.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:l,fromX:i.x,fromY:i.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:p,connectionStatus:VI(n),toNode:f,toHandle:h,pointer:g});let y="";const b={sourceX:i.x,sourceY:i.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:p};switch(t){case us.Bezier:[y]=n4(b);break;case us.SimpleBezier:[y]=L4(b);break;case us.Step:[y]=Dp({...b,borderRadius:0});break;case us.SmoothStep:[y]=Dp(b);break;default:[y]=s4(b)}return s.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};Z4.displayName="ConnectionLine";const _Y={};function jP(e=_Y){x.useRef(e),gt(),x.useEffect(()=>{},[e])}function jY(){gt(),x.useRef(!1),x.useEffect(()=>{},[])}function Y4({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:p,onSelectionEnd:g,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:_,connectionLineContainerStyle:w,selectionKeyCode:k,selectionOnDrag:j,selectionMode:N,multiSelectionKeyCode:P,panActivationKeyCode:C,zoomActivationKeyCode:A,deleteKeyCode:O,onlyRenderVisibleElements:M,elementsSelectable:$,defaultViewport:I,translateExtent:R,minZoom:B,maxZoom:F,preventScrolling:q,defaultMarkerColor:W,zoomOnScroll:V,zoomOnPinch:z,panOnScroll:T,panOnScrollSpeed:U,panOnScrollMode:Z,zoomOnDoubleClick:G,panOnDrag:H,onPaneClick:Q,onPaneMouseEnter:se,onPaneMouseMove:oe,onPaneMouseLeave:ie,onPaneScroll:le,onPaneContextMenu:X,paneClickDistance:me,nodeClickDistance:fe,onEdgeContextMenu:te,onEdgeMouseEnter:pe,onEdgeMouseMove:we,onEdgeMouseLeave:Oe,reconnectRadius:Pe,onReconnect:Ve,onReconnectStart:Ht,onReconnectEnd:Br,noDragClassName:ee,noWheelClassName:he,noPanClassName:Ne,disableKeyboardA11y:_e,nodeExtent:Re,rfId:dt,viewport:Qt,onViewportChange:St}){return jP(e),jP(t),jY(),mY(r),gY(Qt),s.jsx(zZ,{onPaneClick:Q,onPaneMouseEnter:se,onPaneMouseMove:oe,onPaneMouseLeave:ie,onPaneContextMenu:X,onPaneScroll:le,paneClickDistance:me,deleteKeyCode:O,selectionKeyCode:k,selectionOnDrag:j,selectionMode:N,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:P,panActivationKeyCode:C,zoomActivationKeyCode:A,elementsSelectable:$,zoomOnScroll:V,zoomOnPinch:z,zoomOnDoubleClick:G,panOnScroll:T,panOnScrollSpeed:U,panOnScrollMode:Z,panOnDrag:H,defaultViewport:I,translateExtent:R,minZoom:B,maxZoom:F,onSelectionContextMenu:h,preventScrolling:q,noDragClassName:ee,noWheelClassName:he,noPanClassName:Ne,disableKeyboardA11y:_e,onViewportChange:St,isControlledViewport:!!Qt,children:s.jsxs(hY,{children:[s.jsx(dY,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:o,onReconnect:Ve,onReconnectStart:Ht,onReconnectEnd:Br,onlyRenderVisibleElements:M,onEdgeContextMenu:te,onEdgeMouseEnter:pe,onEdgeMouseMove:we,onEdgeMouseLeave:Oe,reconnectRadius:Pe,defaultMarkerColor:W,noPanClassName:Ne,disableKeyboardA11y:_e,rfId:dt}),s.jsx(wY,{style:b,type:y,component:_,containerStyle:w}),s.jsx("div",{className:"react-flow__edgelabel-renderer"}),s.jsx(qZ,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:fe,onlyRenderVisibleElements:M,noPanClassName:Ne,noDragClassName:ee,disableKeyboardA11y:_e,nodeExtent:Re,rfId:dt}),s.jsx("div",{className:"react-flow__viewport-portal"})]})})}Y4.displayName="GraphView";const kY=x.memo(Y4),kP=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:u=.5,maxZoom:d=2,nodeOrigin:f,nodeExtent:h,zIndexMode:p="basic"}={})=>{const g=new Map,y=new Map,b=new Map,_=new Map,w=n??t??[],k=r??e??[],j=f??[0,0],N=h??Fd;c4(b,_,w);const P=tw(k,g,y,{nodeOrigin:j,nodeExtent:N,zIndexMode:p});let C=[0,0,1];if(o&&a&&i){const A=Sf(g,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:O,y:M,zoom:$}=E1(A,a,i,u,d,(l==null?void 0:l.padding)??.1);C=[O,M,$]}return{rfId:"1",width:a??0,height:i??0,transform:C,nodes:k,nodesInitialized:P,nodeLookup:g,parentLookup:y,edges:w,edgeLookup:_,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:u,maxZoom:d,translateExtent:Fd,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:jc.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:j,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:l,fitViewResolver:null,connection:{...WI},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:ZK,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:HI,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},NY=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,zIndexMode:p})=>Hq((g,y)=>{async function b(){const{nodeLookup:_,panZoom:w,fitViewOptions:k,fitViewResolver:j,width:N,height:P,minZoom:C,maxZoom:A}=y();w&&(await KK({nodes:_,width:N,height:P,panZoom:w,minZoom:C,maxZoom:A},k),j==null||j.resolve(!0),g({fitViewResolver:null}))}return{...kP({nodes:e,edges:t,width:a,height:i,fitView:o,fitViewOptions:l,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:h,defaultNodes:r,defaultEdges:n,zIndexMode:p}),setNodes:_=>{const{nodeLookup:w,parentLookup:k,nodeOrigin:j,elevateNodesOnSelect:N,fitViewQueued:P,zIndexMode:C}=y(),A=tw(_,w,k,{nodeOrigin:j,nodeExtent:h,elevateNodesOnSelect:N,checkEquality:!0,zIndexMode:C});P&&A?(b(),g({nodes:_,nodesInitialized:A,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:_,nodesInitialized:A})},setEdges:_=>{const{connectionLookup:w,edgeLookup:k}=y();c4(w,k,_),g({edges:_})},setDefaultNodesAndEdges:(_,w)=>{if(_){const{setNodes:k}=y();k(_),g({hasDefaultNodes:!0})}if(w){const{setEdges:k}=y();k(w),g({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:w,nodeLookup:k,parentLookup:j,domNode:N,nodeOrigin:P,nodeExtent:C,debug:A,fitViewQueued:O,zIndexMode:M}=y(),{changes:$,updatedInternals:I}=pq(_,k,j,N,P,C,M);I&&(dq(k,j,{nodeOrigin:P,nodeExtent:C,zIndexMode:M}),O?(b(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),($==null?void 0:$.length)>0&&(A&&console.log("React Flow: trigger node changes",$),w==null||w($)))},updateNodePositions:(_,w=!1)=>{const k=[];let j=[];const{nodeLookup:N,triggerNodeChanges:P,connection:C,updateConnection:A,onNodesChangeMiddlewareMap:O}=y();for(const[M,$]of _){const I=N.get(M),R=!!(I!=null&&I.expandParent&&(I!=null&&I.parentId)&&($!=null&&$.position)),B={id:M,type:"position",position:R?{x:Math.max(0,$.position.x),y:Math.max(0,$.position.y)}:$.position,dragging:w};if(I&&C.inProgress&&C.fromNode.id===I.id){const F=Zo(I,C.fromHandle,Se.Left,!0);A({...C,from:F})}R&&I.parentId&&k.push({id:M,parentId:I.parentId,rect:{...$.internals.positionAbsolute,width:$.measured.width??0,height:$.measured.height??0}}),j.push(B)}if(k.length>0){const{parentLookup:M,nodeOrigin:$}=y(),I=L1(k,N,M,$);j.push(...I)}for(const M of O.values())j=M(j);P(j)},triggerNodeChanges:_=>{const{onNodesChange:w,setNodes:k,nodes:j,hasDefaultNodes:N,debug:P}=y();if(_!=null&&_.length){if(N){const C=k4(_,j);k(C)}P&&console.log("React Flow: trigger node changes",_),w==null||w(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:w,setEdges:k,edges:j,hasDefaultEdges:N,debug:P}=y();if(_!=null&&_.length){if(N){const C=N4(_,j);k(C)}P&&console.log("React Flow: trigger edge changes",_),w==null||w(_)}},addSelectedNodes:_=>{const{multiSelectionActive:w,edgeLookup:k,nodeLookup:j,triggerNodeChanges:N,triggerEdgeChanges:P}=y();if(w){const C=_.map(A=>so(A,!0));N(C);return}N(Fl(j,new Set([..._]),!0)),P(Fl(k))},addSelectedEdges:_=>{const{multiSelectionActive:w,edgeLookup:k,nodeLookup:j,triggerNodeChanges:N,triggerEdgeChanges:P}=y();if(w){const C=_.map(A=>so(A,!0));P(C);return}P(Fl(k,new Set([..._]))),N(Fl(j,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:w}={})=>{const{edges:k,nodes:j,nodeLookup:N,triggerNodeChanges:P,triggerEdgeChanges:C}=y(),A=_||j,O=w||k,M=A.map(I=>{const R=N.get(I.id);return R&&(R.selected=!1),so(I.id,!1)}),$=O.map(I=>so(I.id,!1));P(M),C($)},setMinZoom:_=>{const{panZoom:w,maxZoom:k}=y();w==null||w.setScaleExtent([_,k]),g({minZoom:_})},setMaxZoom:_=>{const{panZoom:w,minZoom:k}=y();w==null||w.setScaleExtent([k,_]),g({maxZoom:_})},setTranslateExtent:_=>{var w;(w=y().panZoom)==null||w.setTranslateExtent(_),g({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:w,triggerNodeChanges:k,triggerEdgeChanges:j,elementsSelectable:N}=y();if(!N)return;const P=w.reduce((A,O)=>O.selected?[...A,so(O.id,!1)]:A,[]),C=_.reduce((A,O)=>O.selected?[...A,so(O.id,!1)]:A,[]);k(P),j(C)},setNodeExtent:_=>{const{nodes:w,nodeLookup:k,parentLookup:j,nodeOrigin:N,elevateNodesOnSelect:P,nodeExtent:C,zIndexMode:A}=y();_[0][0]===C[0][0]&&_[0][1]===C[0][1]&&_[1][0]===C[1][0]&&_[1][1]===C[1][1]||(tw(w,k,j,{nodeOrigin:N,nodeExtent:_,elevateNodesOnSelect:P,checkEquality:!1,zIndexMode:A}),g({nodeExtent:_}))},panBy:_=>{const{transform:w,width:k,height:j,panZoom:N,translateExtent:P}=y();return gq({delta:_,panZoom:N,transform:w,translateExtent:P,width:k,height:j})},setCenter:async(_,w,k)=>{const{width:j,height:N,maxZoom:P,panZoom:C}=y();if(!C)return Promise.resolve(!1);const A=typeof(k==null?void 0:k.zoom)<"u"?k.zoom:P;return await C.setViewport({x:j/2-_*A,y:N/2-w*A,zoom:A},{duration:k==null?void 0:k.duration,ease:k==null?void 0:k.ease,interpolate:k==null?void 0:k.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...WI}})},updateConnection:_=>{g({connection:_})},reset:()=>g({...kP()})}},Object.is);function G4({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:i,initialMinZoom:o,initialMaxZoom:l,initialFitViewOptions:u,fitView:d,nodeOrigin:f,nodeExtent:h,zIndexMode:p,children:g}){const[y]=x.useState(()=>NY({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:i,fitView:d,minZoom:o,maxZoom:l,fitViewOptions:u,nodeOrigin:f,nodeExtent:h,zIndexMode:p}));return s.jsx(Wq,{value:y,children:s.jsx(hZ,{children:g})})}function SY({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:i,height:o,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g}){return x.useContext(g0)?s.jsx(s.Fragment,{children:e}):s.jsx(G4,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:i,initialHeight:o,fitView:l,initialFitViewOptions:u,initialMinZoom:d,initialMaxZoom:f,nodeOrigin:h,nodeExtent:p,zIndexMode:g,children:e})}const PY={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function CY({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:i,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:p,onConnect:g,onConnectStart:y,onConnectEnd:b,onClickConnectStart:_,onClickConnectEnd:w,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:P,onNodeDoubleClick:C,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:M,onNodesDelete:$,onEdgesDelete:I,onDelete:R,onSelectionChange:B,onSelectionDragStart:F,onSelectionDrag:q,onSelectionDragStop:W,onSelectionContextMenu:V,onSelectionStart:z,onSelectionEnd:T,onBeforeDelete:U,connectionMode:Z,connectionLineType:G=us.Bezier,connectionLineStyle:H,connectionLineComponent:Q,connectionLineContainerStyle:se,deleteKeyCode:oe="Backspace",selectionKeyCode:ie="Shift",selectionOnDrag:le=!1,selectionMode:X=$d.Full,panActivationKeyCode:me="Space",multiSelectionKeyCode:fe=Ud()?"Meta":"Control",zoomActivationKeyCode:te=Ud()?"Meta":"Control",snapToGrid:pe,snapGrid:we,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Pe,nodesDraggable:Ve,autoPanOnNodeFocus:Ht,nodesConnectable:Br,nodesFocusable:ee,nodeOrigin:he=_4,edgesFocusable:Ne,edgesReconnectable:_e,elementsSelectable:Re=!0,defaultViewport:dt=nZ,minZoom:Qt=.5,maxZoom:St=2,translateExtent:Ur=Fd,preventScrolling:Dt=!0,nodeExtent:Pt,defaultMarkerColor:Hr="#b1b1b7",zoomOnScroll:ei=!0,zoomOnPinch:Tt=!0,panOnScroll:Nn=!1,panOnScrollSpeed:ah=.5,panOnScrollMode:_y=Lo.Free,zoomOnDoubleClick:Gs=!0,panOnDrag:jy=!0,onPaneClick:ky,onPaneMouseEnter:ih,onPaneMouseMove:sh,onPaneMouseLeave:oh,onPaneScroll:Ny,onPaneContextMenu:Sy,paneClickDistance:Py=1,nodeClickDistance:Cy=0,children:Ey,onReconnect:Oy,onReconnectStart:ou,onReconnectEnd:Ay,onEdgeContextMenu:Ty,onEdgeDoubleClick:My,onEdgeMouseEnter:Iy,onEdgeMouseMove:Sn,onEdgeMouseLeave:ke,reconnectRadius:lh=10,onNodesChange:ch,onEdgesChange:uh,noDragClassName:dh="nodrag",noWheelClassName:lu="nowheel",noPanClassName:cu="nopan",fitView:ti,fitViewOptions:uu,connectOnClick:Ly,attributionPosition:Dy,proOptions:Ry,defaultEdgeOptions:zy,elevateNodesOnSelect:fh=!0,elevateEdgesOnSelect:Fy=!1,disableKeyboardA11y:Xs=!1,autoPanOnConnect:$y,autoPanOnNodeDrag:By,autoPanSpeed:Uy,connectionRadius:Hy,isValidConnection:Wy,onError:du,style:Qs,id:fu,nodeDragThreshold:hh,connectionDragThreshold:Js,viewport:Be,onViewportChange:it,width:ll,height:Zi,colorMode:Yi="light",debug:hu,onScroll:Ae,ariaLabelConfig:vt,zIndexMode:cl="basic",...ul},Wr){const mu=fu||"1",dl=oZ(Yi),ri=x.useCallback(bt=>{bt.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ae==null||Ae(bt)},[Ae]);return s.jsx("div",{"data-testid":"rf__wrapper",...ul,onScroll:ri,style:{...Qs,...PY},ref:Wr,className:Bt(["react-flow",a,dl]),id:fu,role:"application",children:s.jsxs(SY,{nodes:e,edges:t,width:ll,height:Zi,fitView:ti,fitViewOptions:uu,minZoom:Qt,maxZoom:St,nodeOrigin:he,nodeExtent:Pt,zIndexMode:cl,children:[s.jsx(kY,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:k,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:P,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:o,connectionLineType:G,connectionLineStyle:H,connectionLineComponent:Q,connectionLineContainerStyle:se,selectionKeyCode:ie,selectionOnDrag:le,selectionMode:X,deleteKeyCode:oe,multiSelectionKeyCode:fe,panActivationKeyCode:me,zoomActivationKeyCode:te,onlyRenderVisibleElements:Oe,defaultViewport:dt,translateExtent:Ur,minZoom:Qt,maxZoom:St,preventScrolling:Dt,zoomOnScroll:ei,zoomOnPinch:Tt,zoomOnDoubleClick:Gs,panOnScroll:Nn,panOnScrollSpeed:ah,panOnScrollMode:_y,panOnDrag:jy,onPaneClick:ky,onPaneMouseEnter:ih,onPaneMouseMove:sh,onPaneMouseLeave:oh,onPaneScroll:Ny,onPaneContextMenu:Sy,paneClickDistance:Py,nodeClickDistance:Cy,onSelectionContextMenu:V,onSelectionStart:z,onSelectionEnd:T,onReconnect:Oy,onReconnectStart:ou,onReconnectEnd:Ay,onEdgeContextMenu:Ty,onEdgeDoubleClick:My,onEdgeMouseEnter:Iy,onEdgeMouseMove:Sn,onEdgeMouseLeave:ke,reconnectRadius:lh,defaultMarkerColor:Hr,noDragClassName:dh,noWheelClassName:lu,noPanClassName:cu,rfId:mu,disableKeyboardA11y:Xs,nodeExtent:Pt,viewport:Be,onViewportChange:it}),s.jsx(sZ,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:g,onConnectStart:y,onConnectEnd:b,onClickConnectStart:_,onClickConnectEnd:w,nodesDraggable:Ve,autoPanOnNodeFocus:Ht,nodesConnectable:Br,nodesFocusable:ee,edgesFocusable:Ne,edgesReconnectable:_e,elementsSelectable:Re,elevateNodesOnSelect:fh,elevateEdgesOnSelect:Fy,minZoom:Qt,maxZoom:St,nodeExtent:Pt,onNodesChange:ch,onEdgesChange:uh,snapToGrid:pe,snapGrid:we,connectionMode:Z,translateExtent:Ur,connectOnClick:Ly,defaultEdgeOptions:zy,fitView:ti,fitViewOptions:uu,onNodesDelete:$,onEdgesDelete:I,onDelete:R,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:M,onSelectionDrag:q,onSelectionDragStart:F,onSelectionDragStop:W,onMove:f,onMoveStart:h,onMoveEnd:p,noPanClassName:cu,nodeOrigin:he,rfId:mu,autoPanOnConnect:$y,autoPanOnNodeDrag:By,autoPanSpeed:Uy,onError:du,connectionRadius:Hy,isValidConnection:Wy,selectNodesOnDrag:Pe,nodeDragThreshold:hh,connectionDragThreshold:Js,onBeforeDelete:U,debug:hu,ariaLabelConfig:vt,zIndexMode:cl}),s.jsx(rZ,{onSelectionChange:B}),Ey,s.jsx(Xq,{proOptions:Ry,position:Dy}),s.jsx(Gq,{rfId:mu,disableKeyboardA11y:Xs})]})})}var EY=S4(CY);const OY=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function AY({children:e}){const t=$e(OY);return t?Hc.createPortal(e,t):null}function TY({dimensions:e,lineWidth:t,variant:r,className:n}){return s.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Bt(["react-flow__background-pattern",r,n])})}function MY({radius:e,className:t}){return s.jsx("circle",{cx:e,cy:e,r:e,className:Bt(["react-flow__background-pattern","dots",t])})}var Ms;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ms||(Ms={}));const IY={[Ms.Dots]:1,[Ms.Lines]:1,[Ms.Cross]:6},LY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function X4({id:e,variant:t=Ms.Dots,gap:r=20,size:n,lineWidth:a=1,offset:i=0,color:o,bgColor:l,style:u,className:d,patternClassName:f}){const h=x.useRef(null),{transform:p,patternId:g}=$e(LY,pt),y=n||IY[t],b=t===Ms.Dots,_=t===Ms.Cross,w=Array.isArray(r)?r:[r,r],k=[w[0]*p[2]||1,w[1]*p[2]||1],j=y*p[2],N=Array.isArray(i)?i:[i,i],P=_?[j,j]:k,C=[N[0]*p[2]||1+P[0]/2,N[1]*p[2]||1+P[1]/2],A=`${g}${e||""}`;return s.jsxs("svg",{className:Bt(["react-flow__background",d]),style:{...u,...x0,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[s.jsx("pattern",{id:A,x:p[0]%k[0],y:p[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:b?s.jsx(MY,{radius:j/2,className:f}):s.jsx(TY,{dimensions:P,lineWidth:a,variant:t,className:f})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${A})`})]})}X4.displayName="Background";const DY=x.memo(X4);function RY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:s.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function zY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:s.jsx("path",{d:"M0 0h32v4.2H0z"})})}function FY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:s.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function $Y(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function BY(){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:s.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function im({children:e,className:t,...r}){return s.jsx("button",{type:"button",className:Bt(["react-flow__controls-button",t]),...r,children:e})}const UY=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Q4({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:d,children:f,position:h="bottom-left",orientation:p="vertical","aria-label":g}){const y=gt(),{isInteractive:b,minZoomReached:_,maxZoomReached:w,ariaLabelConfig:k}=$e(UY,pt),{zoomIn:j,zoomOut:N,fitView:P}=Zc(),C=()=>{j(),i==null||i()},A=()=>{N(),o==null||o()},O=()=>{P(a),l==null||l()},M=()=>{y.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),u==null||u(!b)},$=p==="horizontal"?"horizontal":"vertical";return s.jsxs(y0,{className:Bt(["react-flow__controls",$,d]),position:h,style:e,"data-testid":"rf__controls","aria-label":g??k["controls.ariaLabel"],children:[t&&s.jsxs(s.Fragment,{children:[s.jsx(im,{onClick:C,className:"react-flow__controls-zoomin",title:k["controls.zoomIn.ariaLabel"],"aria-label":k["controls.zoomIn.ariaLabel"],disabled:w,children:s.jsx(RY,{})}),s.jsx(im,{onClick:A,className:"react-flow__controls-zoomout",title:k["controls.zoomOut.ariaLabel"],"aria-label":k["controls.zoomOut.ariaLabel"],disabled:_,children:s.jsx(zY,{})})]}),r&&s.jsx(im,{className:"react-flow__controls-fitview",onClick:O,title:k["controls.fitView.ariaLabel"],"aria-label":k["controls.fitView.ariaLabel"],children:s.jsx(FY,{})}),n&&s.jsx(im,{className:"react-flow__controls-interactive",onClick:M,title:k["controls.interactive.ariaLabel"],"aria-label":k["controls.interactive.ariaLabel"],children:b?s.jsx(BY,{}):s.jsx($Y,{})}),f]})}Q4.displayName="Controls";const HY=x.memo(Q4);function WY({id:e,x:t,y:r,width:n,height:a,style:i,color:o,strokeColor:l,strokeWidth:u,className:d,borderRadius:f,shapeRendering:h,selected:p,onClick:g}){const{background:y,backgroundColor:b}=i||{},_=o||y||b;return s.jsx("rect",{className:Bt(["react-flow__minimap-node",{selected:p},d]),x:t,y:r,rx:f,ry:f,width:n,height:a,style:{fill:_,stroke:l,strokeWidth:u},shapeRendering:h,onClick:g?w=>g(w,e):void 0})}const VY=x.memo(WY),KY=e=>e.nodes.map(t=>t.id),tv=e=>e instanceof Function?e:()=>e;function qY({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:i=VY,onClick:o}){const l=$e(KY,pt),u=tv(t),d=tv(e),f=tv(r),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return s.jsx(s.Fragment,{children:l.map(p=>s.jsx(YY,{id:p,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:i,onClick:o,shapeRendering:h},p))})}function ZY({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:d,x:f,y:h,width:p,height:g}=$e(y=>{const{internals:b}=y.nodeLookup.get(e),_=b.userNode,{x:w,y:k}=b.positionAbsolute,{width:j,height:N}=Hi(_);return{node:_,x:w,y:k,width:j,height:N}},pt);return!d||d.hidden||!XI(d)?null:s.jsx(l,{x:f,y:h,width:p,height:g,style:d.style,selected:!!d.selected,className:n(d),color:t(d),borderRadius:a,strokeColor:r(d),strokeWidth:i,shapeRendering:o,onClick:u,id:d.id})}const YY=x.memo(ZY);var GY=x.memo(qY);const XY=200,QY=150,JY=e=>!e.hidden,eG=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?GI(Sf(e.nodeLookup,{filter:JY}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},tG="react-flow__minimap-desc";function J4({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:f,maskStrokeWidth:h,position:p="bottom-right",onClick:g,onNodeClick:y,pannable:b=!1,zoomable:_=!1,ariaLabel:w,inversePan:k,zoomStep:j=1,offsetScale:N=5}){const P=gt(),C=x.useRef(null),{boundingRect:A,viewBB:O,rfId:M,panZoom:$,translateExtent:I,flowWidth:R,flowHeight:B,ariaLabelConfig:F}=$e(eG,pt),q=(e==null?void 0:e.width)??XY,W=(e==null?void 0:e.height)??QY,V=A.width/q,z=A.height/W,T=Math.max(V,z),U=T*q,Z=T*W,G=N*T,H=A.x-(U-A.width)/2-G,Q=A.y-(Z-A.height)/2-G,se=U+G*2,oe=Z+G*2,ie=`${tG}-${M}`,le=x.useRef(0),X=x.useRef();le.current=T,x.useEffect(()=>{if(C.current&&$)return X.current=Nq({domNode:C.current,panZoom:$,getTransform:()=>P.getState().transform,getViewScale:()=>le.current}),()=>{var pe;(pe=X.current)==null||pe.destroy()}},[$]),x.useEffect(()=>{var pe;(pe=X.current)==null||pe.update({translateExtent:I,width:R,height:B,inversePan:k,pannable:b,zoomStep:j,zoomable:_})},[b,_,k,j,I,R,B]);const me=g?pe=>{var Pe;const[we,Oe]=((Pe=X.current)==null?void 0:Pe.pointer(pe))||[0,0];g(pe,{x:we,y:Oe})}:void 0,fe=y?x.useCallback((pe,we)=>{const Oe=P.getState().nodeLookup.get(we).internals.userNode;y(pe,Oe)},[]):void 0,te=w??F["minimap.ariaLabel"];return s.jsx(y0,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*T:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Bt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:s.jsxs("svg",{width:q,height:W,viewBox:`${H} ${Q} ${se} ${oe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ie,ref:C,onClick:me,children:[te&&s.jsx("title",{id:ie,children:te}),s.jsx(GY,{onClick:fe,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:i,nodeClassName:a,nodeStrokeWidth:o,nodeComponent:l}),s.jsx("path",{className:"react-flow__minimap-mask",d:`M${H-G},${Q-G}h${se+G*2}v${oe+G*2}h${-se-G*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}J4.displayName="MiniMap";x.memo(J4);const rG=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,nG={[Pc.Line]:"right",[Pc.Handle]:"bottom-right"};function aG({nodeId:e,position:t,variant:r=Pc.Handle,className:n,style:a=void 0,children:i,color:o,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:p,autoScale:g=!0,shouldResize:y,onResizeStart:b,onResize:_,onResizeEnd:w}){const k=O4(),j=typeof e=="string"?e:k,N=gt(),P=x.useRef(null),C=r===Pc.Handle,A=$e(x.useCallback(rG(C&&g),[C,g]),pt),O=x.useRef(null),M=t??nG[r];x.useEffect(()=>{if(!(!P.current||!j))return O.current||(O.current=Fq({domNode:P.current,nodeId:j,getStoreItems:()=>{const{nodeLookup:I,transform:R,snapGrid:B,snapToGrid:F,nodeOrigin:q,domNode:W}=N.getState();return{nodeLookup:I,transform:R,snapGrid:B,snapToGrid:F,nodeOrigin:q,paneDomNode:W}},onChange:(I,R)=>{const{triggerNodeChanges:B,nodeLookup:F,parentLookup:q,nodeOrigin:W}=N.getState(),V=[],z={x:I.x,y:I.y},T=F.get(j);if(T&&T.expandParent&&T.parentId){const U=T.origin??W,Z=I.width??T.measured.width??0,G=I.height??T.measured.height??0,H={id:T.id,parentId:T.parentId,rect:{width:Z,height:G,...QI({x:I.x??T.position.x,y:I.y??T.position.y},{width:Z,height:G},T.parentId,F,U)}},Q=L1([H],F,q,W);V.push(...Q),z.x=I.x?Math.max(U[0]*Z,I.x):void 0,z.y=I.y?Math.max(U[1]*G,I.y):void 0}if(z.x!==void 0&&z.y!==void 0){const U={id:j,type:"position",position:{...z}};V.push(U)}if(I.width!==void 0&&I.height!==void 0){const Z={id:j,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:I.width,height:I.height}};V.push(Z)}for(const U of R){const Z={...U,type:"position"};V.push(Z)}B(V)},onEnd:({width:I,height:R})=>{const B={id:j,type:"dimensions",resizing:!1,dimensions:{width:I,height:R}};N.getState().triggerNodeChanges([B])}})),O.current.update({controlPosition:M,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:f},keepAspectRatio:h,resizeDirection:p,onResizeStart:b,onResize:_,onResizeEnd:w,shouldResize:y}),()=>{var I;(I=O.current)==null||I.destroy()}},[M,l,u,d,f,h,b,_,w,y]);const $=M.split("-");return s.jsx("div",{className:Bt(["react-flow__resize-control","nodrag",...$,r,n]),ref:P,style:{...a,scale:A,...o&&{[C?"backgroundColor":"borderColor"]:o}},children:i})}x.memo(aG);const hr=[];for(let e=0;e<256;++e)hr.push((e+256).toString(16).slice(1));function iG(e,t=0){return(hr[e[t+0]]+hr[e[t+1]]+hr[e[t+2]]+hr[e[t+3]]+"-"+hr[e[t+4]]+hr[e[t+5]]+"-"+hr[e[t+6]]+hr[e[t+7]]+"-"+hr[e[t+8]]+hr[e[t+9]]+"-"+hr[e[t+10]]+hr[e[t+11]]+hr[e[t+12]]+hr[e[t+13]]+hr[e[t+14]]+hr[e[t+15]]).toLowerCase()}let rv;const sG=new Uint8Array(16);function oG(){if(!rv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rv=crypto.getRandomValues.bind(crypto)}return rv(sG)}const lG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),NP={randomUUID:lG};function cG(e,t,r){var a;e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??oG();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,iG(n)}function eL(e,t,r){return NP.randomUUID&&!e?NP.randomUUID():cG(e)}const Ie=x1((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:k4(r,t().nodes)})},onEdgesChange:r=>{e({edges:N4(r,t().edges)})},onConnect:r=>{const n=t().nodes,a=t().edges,i=n.find(l=>l.id===r.source),o=n.find(l=>l.id===r.target);if(i&&o&&i.data.definitionType==="feature_target_split"){let u=o.data.definitionType==="TrainTestSplitter";if(!u){const d=[i.id],f=new Set;for(;d.length>0;){const h=d.shift();if(f.has(h))continue;f.add(h);const p=n.find(y=>y.id===h);if((p==null?void 0:p.data.definitionType)==="TrainTestSplitter"){u=!0;break}const g=a.filter(y=>y.target===h);for(const y of g)d.push(y.source)}}u||alert(`Warning: You are using an X/Y Split without a prior Train-Test Split.

Any processing or modeling done on this data will use 100% of the dataset (Data Leakage).

Recommended: Add a "Train-Test Split" node BEFORE the "Feature-Target Split" node.`)}e({edges:i4(r,t().edges)})},addNode:(r,n,a={})=>{const i=Ke.get(r);if(!i)return console.error(`Node type ${r} not found in registry`),"";const o=`${r}-${eL()}`,l={id:o,type:"custom",position:n,data:{definitionType:r,catalogType:r,...i.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),o},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const i=Ke.get(a.data.definitionType);if(i){const o=i.validate(a.data);if(!o.isValid)return console.warn(`Node ${a.id} validation failed: ${o.message}`),!1}}for(const a of r){const i=Ke.get(a.data.definitionType);if(i&&i.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${i.label}) is disconnected.`),!1}return!0}})),Yc=x1(e=>({activeView:"canvas",setView:t=>e({activeView:t}),isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t}),isPropertiesPanelExpanded:!1,setPropertiesPanelExpanded:t=>e({isPropertiesPanelExpanded:t}),isResultsPanelExpanded:!0,setResultsPanelExpanded:t=>e({isResultsPanelExpanded:t})})),uG=()=>{const e=Ke.getAll(),t=Ie(d=>d.addNode),{isSidebarOpen:r,setSidebarOpen:n}=Yc(),[a,i]=x.useState(""),o=(d,f)=>{d.dataTransfer.setData("application/reactflow",f),d.dataTransfer.effectAllowed="move"};if(!r)return s.jsx("div",{className:"absolute left-4 top-4 z-50",children:s.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-background border shadow-md rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Expand Components",children:s.jsx(F7,{className:"w-5 h-5"})})});const l=e.filter(d=>d.label.toLowerCase().includes(a.toLowerCase())||d.category.toLowerCase().includes(a.toLowerCase())),u=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return s.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10 transition-all duration-300",children:[s.jsxs("div",{className:"p-4 border-b space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),s.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Collapse Sidebar",children:s.jsx(z7,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:a,onChange:d=>{i(d.target.value)}})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:u.map(d=>{const f=l.filter(h=>h.category===d);return f.length===0?null:s.jsxs("div",{children:[s.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:d}),s.jsx("div",{className:"space-y-2",children:f.map(h=>s.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:p=>{o(p,h.type)},onClick:()=>t(h.type,{x:100,y:100}),children:[s.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:h.icon&&s.jsx(h.icon,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:h.label}),s.jsx("div",{className:"text-xs text-muted-foreground truncate",children:h.description})]})]},h.type))})]},d)})})]})};function dG(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:fG}=Sr;function hG(e){const t=fG();return r=>{const n=e(r);return dG(t.current,n)?t.current:t.current=n}}const mG=x.memo(({id:e,data:t,selected:r})=>{var d;const n=t.definitionType,a=Ke.get(n),{deleteElements:i}=Zc(),o=Ie(f=>f.executionResult),l=(d=o==null?void 0:o.node_results)==null?void 0:d[e],u=f=>{f.stopPropagation(),i({nodes:[{id:e}]})};return a?s.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[s.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&s.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&s.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?s.jsx(v7,{size:10}):s.jsx(f1,{size:10})})]}),s.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),s.jsx("button",{onClick:u,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:s.jsx(lr,{size:14})})]}),s.jsx("div",{className:"p-3",children:a.component?s.jsx(a.component,{data:t}):s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((f,h)=>s.jsx(Cc,{type:"target",position:Se.Left,id:f.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(h+1)*100/(a.inputs.length+1)}%`},children:s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:f.label})},`input-${f.id}`)),a.outputs.map((f,h)=>s.jsx(Cc,{type:"source",position:Se.Right,id:f.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(h+1)*100/(a.outputs.length+1)}%`},children:s.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:f.label})},`output-${f.id}`))]}):s.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[s.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[s.jsx(an,{size:16}),s.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),s.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),pG=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:i,targetPosition:o,style:l={},markerEnd:u})=>{const{deleteElements:d}=Zc(),[f,h,p]=Dp({sourceX:t,sourceY:r,sourcePosition:i,targetX:n,targetY:a,targetPosition:o,borderRadius:24}),g=y=>{y.stopPropagation(),d({edges:[{id:e}]})};return s.jsxs(s.Fragment,{children:[s.jsx(Ec,{path:f,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),s.jsx(Ec,{path:f,markerEnd:u,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),s.jsx(AY,{children:s.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${h}px,${p}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:s.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:g,title:"Remove Connection",children:s.jsx(lr,{size:10})})})})]})},gG={custom:mG},yG={custom:pG},xG=()=>{const e=x.useRef(null),{screenToFlowPosition:t}=Zc(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:o,addNode:l,executionResult:u}=Ie(hG(p=>({nodes:p.nodes,edges:p.edges,onNodesChange:p.onNodesChange,onEdgesChange:p.onEdgesChange,onConnect:p.onConnect,addNode:p.addNode,executionResult:p.executionResult}))),{isResultsPanelExpanded:d}=Yc(),f=x.useCallback(p=>{p.preventDefault(),p.dataTransfer.dropEffect="move"},[]),h=x.useCallback(p=>{p.preventDefault();const g=p.dataTransfer.getData("application/reactflow");if(typeof g>"u"||!g)return;const y=t({x:p.clientX,y:p.clientY});l(g,y)},[t,l]);return s.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:s.jsxs(EY,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:i,onConnect:o,nodeTypes:gG,onDragOver:f,onDrop:h,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:yG,deleteKeyCode:["Backspace","Delete"],children:[s.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"edge-gradient",children:[s.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),s.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),s.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),s.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[s.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),s.jsxs("feMerge",{children:[s.jsx("feMergeNode",{in:"coloredBlur"}),s.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),s.jsx(DY,{}),s.jsx(HY,{position:"bottom-left",style:u&&!d?{marginBottom:"40px",transition:"margin-bottom 0.3s ease-in-out"}:{transition:"margin-bottom 0.3s ease-in-out"}})]})})},vG=()=>s.jsx(G4,{children:s.jsx(xG,{})}),bG=()=>{const e=Ie(o=>o.nodes),{isSidebarOpen:t,isPropertiesPanelExpanded:r,setPropertiesPanelExpanded:n}=Yc(),a=e.find(o=>o.selected);Sr.useEffect(()=>{a||n(!1)},[a,n]);const i=t?"w-[calc(100vw-300px)]":"w-[calc(100vw-50px)]";return s.jsx("aside",{className:`border-l bg-background shrink-0 transition-all duration-300 ease-in-out overflow-hidden ${a?r?`${i} opacity-100`:"w-80 opacity-100":"w-0 opacity-0"}`,children:a&&s.jsx(wG,{selectedNode:a,isExpanded:r,toggleExpand:()=>n(!r)})})},wG=({selectedNode:e,isExpanded:t,toggleExpand:r})=>{const n=Ie(d=>d.updateNodeData),a=Ie(d=>d.onNodesChange),i=()=>{a([{id:e.id,type:"select",selected:!1}])},o=e.data.definitionType,l=Ke.get(o);if(!l)return s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[s.jsx(lr,{className:"w-4 h-4"}),"Error: Node definition '",o,"' not found."]})});const u=l.settings;return s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:s.jsx(h1,{className:"w-4 h-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-sm",children:String(e.data.label||l.label)}),s.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",e.id]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:r,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:t?s.jsx(L7,{className:"w-4 h-4"}):s.jsx(I7,{className:"w-4 h-4"})}),s.jsx("button",{onClick:i,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("div",{className:"space-y-6",children:s.jsx(u,{config:e.data,onChange:d=>n(e.id,d),nodeId:e.id})})})]})},_G=3e3,ts=50,Gc=x1((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchJobs:async()=>{e({isLoading:!0,skip:0});try{const n=await ir.getJobs(ts,0);e({jobs:n,isLoading:!1,hasMore:n.length===ts})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:i,hasMore:o}=t();if(i||!o)return;const l=n+ts;e({isLoading:!0});try{const u=await ir.getJobs(ts,l);e({jobs:[...a,...u],isLoading:!1,skip:l,hasMore:u.length===ts})}catch(u){console.error("Failed to load more jobs:",u),e({isLoading:!1})}},submitJob:async n=>{try{const a=await ir.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await ir.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,i=n!==void 0?n:!a;e({isDrawerOpen:i}),i?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(()=>{(async()=>{try{const n=await ir.getJobs(ts,0);e(i=>i.jobs.length<=ts?{jobs:n}:{jobs:[...n,...i.jobs.slice(ts)]}),!n.some(i=>i.status==="running"||i.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}})()},_G))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),v0=(e,t)=>{const r=[],n=new Set,a=[],i=e.find(l=>l.data.definitionType==="dataset_node"),o=i==null?void 0:i.data.datasetId;for(i&&a.push(i.id);a.length>0;){const l=a.shift();if(!l||n.has(l))continue;n.add(l);const u=e.find(y=>y.id===l);if(!u)continue;let d="unknown",f={};const p=t.filter(y=>y.target===l).map(y=>y.source);if(u.data.definitionType==="dataset_node")d="data_loader",f={dataset_id:u.data.datasetId};else if(u.data.definitionType==="imputation_node"){const y=u.data.method||"simple";y==="knn"?(d="KNNImputer",f={columns:u.data.columns,n_neighbors:u.data.n_neighbors,weights:u.data.weights}):y==="iterative"?(d="IterativeImputer",f={columns:u.data.columns,max_iter:u.data.max_iter,estimator:u.data.estimator,random_state:0}):(d="SimpleImputer",f={columns:u.data.columns,strategy:u.data.strategy,fill_value:u.data.fill_value})}else if(u.data.definitionType==="simple_imputer")d="SimpleImputer",f=u.data||{};else if(u.data.definitionType==="drop_missing_columns"||u.data.definitionType==="DropMissingColumns")d="DropMissingColumns",f={columns:u.data.columns||[],missing_threshold:u.data.missing_threshold};else if(u.data.definitionType==="drop_missing_rows"||u.data.definitionType==="DropMissingRows")d="DropMissingRows",f={missing_threshold:u.data.missing_threshold,drop_if_any_missing:u.data.drop_if_any_missing};else if(u.data.definitionType==="deduplicate"||u.data.definitionType==="Deduplicate")d="Deduplicate",f={subset:u.data.subset,keep:u.data.keep};else if(u.data.definitionType==="casting"||u.data.definitionType==="Casting")d="Casting",f={column_types:u.data.column_types};else if(u.data.definitionType==="MissingIndicator"||u.data.definitionType==="missing_indicator")d="MissingIndicator",f={columns:u.data.columns,flag_suffix:u.data.flag_suffix};else if(u.data.definitionType==="scale_numeric_features"){const y=u.data&&typeof u.data=="object"?u.data:{},b=y.method||"standard";b==="minmax"?d="MinMaxScaler":b==="maxabs"?d="MaxAbsScaler":b==="robust"?d="RobustScaler":d="StandardScaler",f=y}else if(u.data.definitionType==="encoding"){const y=u.data.method;y==="onehot"?d="OneHotEncoder":y==="dummy"?(d="DummyEncoder",f={...u.data,drop_first:!0}):y==="label"?d="LabelEncoder":y==="ordinal"?d="OrdinalEncoder":y==="target"?d="TargetEncoder":y==="hash"?d="HashEncoder":d="OneHotEncoder",d!=="DummyEncoder"&&(f=u.data)}else if(u.data.definitionType==="TrainTestSplitter")d="TrainTestSplitter",f=u.data||{};else if(u.data.definitionType==="label_encoding")d="LabelEncoder",f=u.data||{};else if(u.data.definitionType==="feature_target_split")d="feature_target_split",f=u.data||{};else if(u.data.definitionType==="feature_selection")d="feature_selection",f=u.data||{};else if(u.data.definitionType==="outlier"){const y=u.data.method||"iqr";y==="iqr"?d="IQR":y==="zscore"?d="ZScore":y==="winsorize"?d="Winsorize":y==="elliptic_envelope"?d="EllipticEnvelope":d="IQR",f=u.data}else if(u.data.definitionType==="TransformationNode"){d="GeneralTransformation";const y=u.data.transformations||[],b=[];for(const _ of y){const w=_;if(w.columns&&Array.isArray(w.columns))for(const k of w.columns)b.push({column:k,method:w.method,...w.params})}f={transformations:b}}else u.data.definitionType==="BinningNode"?(d="GeneralBinning",f={columns:u.data.columns,strategy:u.data.strategy,n_bins:u.data.n_bins,label_format:u.data.label_format,output_suffix:u.data.output_suffix,drop_original:u.data.drop_original,custom_bins:u.data.custom_bins,custom_labels:u.data.custom_labels}):u.data.definitionType==="ResamplingNode"?((u.data.type||"oversampling")==="oversampling"?d="Oversampling":d="Undersampling",f=u.data):u.data.definitionType==="FeatureGenerationNode"?(d="FeatureMath",f={operations:u.data.operations}):u.data.definitionType==="PolynomialFeaturesNode"?(d="PolynomialFeatures",f={columns:u.data.columns,degree:u.data.degree,interaction_only:u.data.interaction_only,include_bias:u.data.include_bias,output_prefix:u.data.output_prefix,include_input_features:u.data.include_input_features}):u.data.definitionType==="TextCleaning"?(d="TextCleaning",f=u.data):u.data.definitionType==="ValueReplacement"?(d="ValueReplacement",f=u.data):u.data.definitionType==="AliasReplacement"?(d="AliasReplacement",f=u.data):u.data.definitionType==="InvalidValueReplacement"?(d="InvalidValueReplacement",f=u.data):u.data.definitionType==="model_training"?(d="model_training",f={target_column:u.data.target_column,model_type:u.data.model_type,hyperparameters:u.data.hyperparameters,cv_enabled:u.data.cv_enabled,cv_folds:u.data.cv_folds,cv_type:u.data.cv_type,cv_shuffle:u.data.cv_shuffle,cv_random_state:u.data.cv_random_state}):u.data.definitionType==="hyperparameter_tuning"?(d="model_tuning",f={target_column:u.data.target_column,algorithm:u.data.model_type,tuning_config:{strategy:u.data.search_strategy,metric:u.data.metric,n_trials:u.data.n_trials,search_space:u.data.search_space,cv_enabled:u.data.cv_enabled,cv_folds:u.data.cv_folds,cv_type:u.data.cv_type,cv_shuffle:u.data.cv_shuffle,cv_random_state:u.data.cv_random_state,random_state:u.data.random_state}}):u.data.definitionType==="data_preview"?(d="data_preview",f={}):(console.warn(`Unknown node type: ${u.data.definitionType}`),d="Unknown",f=u.data&&typeof u.data=="object"?u.data:{});r.push({node_id:u.id,step_type:d,params:f,inputs:p}),t.filter(y=>y.source===l).forEach(y=>a.push(y.target))}return{pipeline_id:`preview_${eL()}`,nodes:r,metadata:{dataset_source_id:o}}},jG=()=>{const e=Ie(b=>b.nodes),t=Ie(b=>b.edges),r=Ie(b=>b.setExecutionResult),n=Ie(b=>b.setGraph),{toggleDrawer:a}=Gc(),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),h=()=>({nodes:e.map(b=>({id:b.id,type:b.type,position:b.position,data:{...b.data,catalogType:b.data.catalogType||b.data.definitionType}})),edges:t.map(b=>({id:b.id,source:b.source,target:b.target,sourceHandle:b.sourceHandle,targetHandle:b.targetHandle,type:b.type,data:b.data}))}),p=async()=>{const b=e.find(w=>w.data.definitionType==="dataset_node"),_=b==null?void 0:b.data.datasetId;if(!_){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}u(!0);try{await TU(_,{name:"My Pipeline",description:"Saved from Canvas",graph:h()}),alert("Pipeline saved successfully!")}catch(w){console.error("Save failed:",w),alert("Failed to save pipeline.")}finally{u(!1)}},g=async()=>{const b=e.find(w=>w.data.definitionType==="dataset_node"),_=b==null?void 0:b.data.datasetId;if(!_){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){f(!0);try{const w=await MU(_);if(w){const k=Array.isArray(w.graph.nodes)?w.graph.nodes:[],j=Array.isArray(w.graph.edges)?w.graph.edges:[];n(k,j),alert("Pipeline loaded successfully!")}else alert("No saved pipeline found for this dataset.")}catch(w){console.error("Load failed:",w),alert("Failed to load pipeline.")}finally{f(!1)}}},y=async()=>{const b=e.find(w=>w.data.definitionType==="dataset_node");if(!(b==null?void 0:b.data.datasetId)){alert("No dataset node found!");return}o(!0),r(null);try{const w=v0(e,t),k=await OU(w);r(k)}catch(w){console.error("Pipeline failed:",w),alert("Pipeline execution failed. Check console for details.")}finally{o(!1)}};return s.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[s.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[s.jsx(T7,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),s.jsxs("button",{onClick:()=>{g()},disabled:d||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[d?s.jsx(Xr,{className:"w-4 h-4 animate-spin"}):s.jsx(C7,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:d?"Loading...":"Load"})]}),s.jsxs("button",{onClick:()=>{p()},disabled:l||i,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?s.jsx(Xr,{className:"w-4 h-4 animate-spin"}):s.jsx(U7,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),s.jsxs("button",{onClick:()=>{y()},disabled:i,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[i?s.jsx(Xr,{className:"w-4 h-4 animate-spin"}):s.jsx(Hs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:i?"Running...":"Run Preview"})]})]})},kG=()=>{var g;const e=Ie(y=>y.executionResult),{isResultsPanelExpanded:t,setResultsPanelExpanded:r}=Yc(),[n,a]=x.useState(null),i=x.useMemo(()=>{const y=e==null?void 0:e.preview_data;return y?Array.isArray(y)?{Result:y}:typeof y=="object"?y:{}:{}},[e]),o=Object.keys(i);if(Sr.useEffect(()=>{o.length>0&&(!n||!o.includes(n))&&(o.includes("train")?a("train"):o.includes("X")?a("X"):a(o[0]))},[o,n]),!e)return null;const l=n&&i[n]?i[n]:[],u=l.length>0?Object.keys(l[0]??{}):[],d=e.node_results?Object.keys(e.node_results):[],f=e.node_results||{},h=Object.keys(f).find(y=>{const b=f[y];return(b==null?void 0:b.status)==="failed"}),p=h?(g=f[h])==null?void 0:g.error:null;return s.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(AM,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&s.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),s.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?s.jsx(or,{className:"w-4 h-4"}):s.jsx(xf,{className:"w-4 h-4"})})]}),t&&s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&s.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[s.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),s.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:p||"Unknown error occurred during execution."})]}),o.length>1&&s.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[s.jsx(M7,{className:"w-3 h-3 text-muted-foreground mr-1"}),o.map(y=>s.jsx("button",{onClick:()=>{a(y)},className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===y?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:y},y))]}),d.length>0&&e.status!=="failed"&&s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:d.map((y,b)=>s.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:y},b))}),s.jsxs("div",{className:"flex-1 overflow-auto",children:[s.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[s.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:s.jsx("tr",{children:u.map(y=>s.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:y},y))})}),s.jsx("tbody",{children:l.map((y,b)=>s.jsx("tr",{className:"border-b hover:bg-muted/10",children:u.map(_=>s.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:y[_]!==null?String(y[_]):s.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${b}-${_}`))},b))})]}),l.length===0&&s.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},NG=()=>{const{activeView:e,setView:t}=Yc();return s.jsx("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-center shrink-0 relative",children:s.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[s.jsx(SM,{className:"w-4 h-4"}),"Canvas"]}),s.jsxs("button",{onClick:()=>t("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[s.jsx(Zl,{className:"w-4 h-4"}),"Experiments"]}),s.jsxs("button",{onClick:()=>t("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[s.jsx(e0,{className:"w-4 h-4"}),"Inference"]})]})})},SG=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:i,fetchJobs:o,hasMore:l,loadMoreJobs:u}=Gc(),[d,f]=x.useState(null);if(!e)return null;const h=r.filter(p=>p.job_type===a);return s.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),s.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:d?s.jsx(PG,{job:d,onBack:()=>{f(null)},onClose:()=>t(!1)}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[s.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>o(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:s.jsx(ha,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[s.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("tuning"),children:"Model Optimization"}),s.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>i("training"),children:"Standard Training"})]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[s.jsx("div",{className:"col-span-2",children:"Status"}),s.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),s.jsx("div",{className:"col-span-3",children:"Job ID"}),s.jsx("div",{className:"col-span-2",children:"Started"}),s.jsx("div",{className:"col-span-1",children:"Duration"}),s.jsx("div",{className:"col-span-1",children:"Ready"}),s.jsx("div",{className:"col-span-1",children:"Result"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:h.length===0?s.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):s.jsxs(s.Fragment,{children:[h.map(p=>s.jsx(CG,{job:p,onClick:()=>{f(p)}},p.job_id)),l&&s.jsx("div",{className:"flex justify-center pt-2 pb-4",children:s.jsxs("button",{onClick:()=>u(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?s.jsx(ha,{className:"w-3 h-3 animate-spin"}):s.jsx(or,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},PG=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=Gc(),[a,i]=x.useState(e),[o,l]=x.useState("overview"),[u,d]=x.useState(!1),f=x.useRef(null);x.useEffect(()=>{let p;const g=async()=>{try{const y=await ir.getJob(e.job_id);i(y)}catch(y){console.error("Failed to fetch job details",y)}};return g(),(a.status==="running"||a.status==="queued")&&(p=setInterval(()=>{g()},2e3)),()=>{p&&clearInterval(p)}},[e.job_id,a.status]),x.useEffect(()=>{o==="logs"&&f.current&&f.current.scrollIntoView({behavior:"smooth"})},[a.logs,o]);const h=async()=>{if(confirm("Are you sure you want to stop this job?")){d(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{d(!1)}}};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:s.jsx(g7,{className:"w-4 h-4"})}),s.jsx("div",{children:s.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",s.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&s.jsxs("button",{onClick:()=>{h()},disabled:u,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[s.jsx(K7,{className:"w-3 h-3 fill-current"}),u?"Stopping...":"Stop Job"]}),s.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[s.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${o==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("overview")},children:[s.jsx(CM,{className:"w-4 h-4"}),"Overview"]}),s.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${o==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("logs")},children:[s.jsx(Jg,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&s.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o==="overview"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),s.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),s.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(Ha,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),s.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[s.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4"}),"Error Log"]}),s.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[s.jsx(Y7,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&s.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[s.jsx(ba,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&!!a.result.metrics&&s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([p,g])=>s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:p.replace(/_/g," ")}),s.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof g=="number"?g.toFixed(4):String(g)})]},p))}),a.job_type==="tuning"&&s.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Best Score"}),s.jsx("div",{className:"font-mono font-bold text-lg text-purple-600 dark:text-purple-400",children:Number(a.result.best_score).toFixed(4)})]}),!!a.result.metrics&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([p])=>!["best_score","best_params","trials"].includes(p)).map(([p,g])=>s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:p.replace(/_/g," ")}),s.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof g=="number"?g.toFixed(4):String(g)})]},p))})]}),!!a.result.best_params&&s.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[s.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),s.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):s.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((p,g)=>s.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:p},g)):s.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),s.jsx("div",{ref:f})]})})]})},CG=({job:e,onClick:t})=>{var o;const r=l=>{switch(l){case"completed":case"succeeded":return s.jsx(ba,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return s.jsx(an,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return s.jsx(ha,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return s.jsx(Qg,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=l=>{switch(l){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=l=>l?new Date(l).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",i=(l,u)=>{if(!l||!u)return"-";const d=new Date(u).getTime()-new Date(l).getTime(),f=Math.floor(d/1e3);return f<60?`${f}s`:`${Math.floor(f/60)}m ${f%60}s`};return s.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[s.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),s.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[s.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[s.jsx(Ha,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[s.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&!!e.config&&!!e.config.tuning&&s.jsxs("span",{className:"text-gray-400 truncate",children:["(",(o=e.config.tuning)==null?void 0:o.strategy,")"]})]})]}),s.jsx("div",{className:"col-span-3 font-mono text-xs text-gray-500 dark:text-gray-400 break-all",title:e.job_id,children:e.job_id}),s.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),s.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:i(e.start_time,e.end_time)}),s.jsx("div",{className:"col-span-1",children:e.status==="completed"&&s.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:s.jsx(ba,{className:"w-3 h-3"})})}),s.jsx("div",{className:"col-span-1",children:e.error?s.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([l,u])=>s.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[l,": ",Number(u).toFixed(3)]},l))}):e.job_type==="tuning"?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&s.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&!!e.result.best_params&&s.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):s.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):s.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function tL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=tL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=tL(e))&&(n&&(n+=" "),n+=t);return n}var EG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function R1(e){if(typeof e!="string")return!1;var t=EG;return t.includes(e)}var OG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AG=new Set(OG);function rL(e){return typeof e!="string"?!1:AG.has(e)}function nL(e){return typeof e=="string"&&e.startsWith("data-")}function bn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rL(r)||nL(r))&&(t[r]=e[r]);return t}function Xc(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return bn(t)}return typeof e=="object"&&!Array.isArray(e)?bn(e):null}function Cr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(rL(r)||nL(r)||R1(r))&&(t[r]=e[r]);return t}function TG(e){return e==null?null:x.isValidElement(e)?Cr(e.props):typeof e=="object"&&!Array.isArray(e)?Cr(e):null}var MG=["children","width","height","viewBox","className","style","title","desc"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(null,arguments)}function IG(e,t){if(e==null)return{};var r,n,a=LG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var z1=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:u,desc:d}=e,f=IG(e,MG),h=i||{width:n,height:a,x:0,y:0},p=qe("recharts-surface",o);return x.createElement("svg",aw({},Cr(f),{className:p,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),x.createElement("title",null,u),x.createElement("desc",null,d),r)}),DG=["children","className"];function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function RG(e,t){if(e==null)return{};var r,n,a=zG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cr=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=RG(e,DG),i=qe("recharts-layer",n);return x.createElement("g",iw({className:i},Cr(a),{ref:t}),r)}),aL=x.createContext(null),FG=()=>x.useContext(aL);function rt(e){return function(){return e}}const iL=Math.cos,zp=Math.sin,Sa=Math.sqrt,Fp=Math.PI,b0=2*Fp,sw=Math.PI,ow=2*sw,oo=1e-6,$G=ow-oo;function sL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class UG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sL:BG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,u=n-t,d=a-r,f=o-t,h=l-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>oo)if(!(Math.abs(h*u-d*f)>oo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,y=a-l,b=u*u+d*d,_=g*g+y*y,w=Math.sqrt(b),k=Math.sqrt(p),j=i*Math.tan((sw-Math.acos((b+p-_)/(2*w*k)))/2),N=j/k,P=j/w;Math.abs(N-1)>oo&&this._append`L${t+N*f},${r+N*h}`,this._append`A${i},${i},0,0,${+(h*g>f*y)},${this._x1=t+P*u},${this._y1=r+P*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),d=t+l,f=r+u,h=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>oo||Math.abs(this._y1-f)>oo)&&this._append`L${d},${f}`,n&&(p<0&&(p=p%ow+ow),p>$G?this._append`A${n},${n},0,1,${h},${t-l},${r-u}A${n},${n},0,1,${h},${this._x1=d},${this._y1=f}`:p>oo&&this._append`A${n},${n},0,${+(p>=sw)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function F1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UG(t)}function $1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oL(e){this._context=e}oL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function w0(e){return new oL(e)}function lL(e){return e[0]}function cL(e){return e[1]}function uL(e,t){var r=rt(!0),n=null,a=w0,i=null,o=F1(l);e=typeof e=="function"?e:e===void 0?lL:rt(e),t=typeof t=="function"?t:t===void 0?cL:rt(t);function l(u){var d,f=(u=$1(u)).length,h,p=!1,g;for(n==null&&(i=a(g=o())),d=0;d<=f;++d)!(d<f&&r(h=u[d],d,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,d,u),+t(h,d,u));if(g)return i=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:rt(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:rt(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:rt(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(i=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=i=null:i=a(n=u),l):n},l}function sm(e,t,r){var n=null,a=rt(!0),i=null,o=w0,l=null,u=F1(d);e=typeof e=="function"?e:e===void 0?lL:rt(+e),t=typeof t=="function"?t:rt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?cL:rt(+r);function d(h){var p,g,y,b=(h=$1(h)).length,_,w=!1,k,j=new Array(b),N=new Array(b);for(i==null&&(l=o(k=u())),p=0;p<=b;++p){if(!(p<b&&a(_=h[p],p,h))===w)if(w=!w)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=g;--y)l.point(j[y],N[y]);l.lineEnd(),l.areaEnd()}w&&(j[p]=+e(_,p,h),N[p]=+t(_,p,h),l.point(n?+n(_,p,h):j[p],r?+r(_,p,h):N[p]))}if(k)return l=null,k+""||null}function f(){return uL().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:rt(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:rt(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:rt(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:rt(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:rt(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:rt(+h),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(n).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:rt(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class dL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function HG(e){return new dL(e,!0)}function WG(e){return new dL(e,!1)}const B1={draw(e,t){const r=Sa(t/Fp);e.moveTo(r,0),e.arc(0,0,r,0,b0)}},VG={draw(e,t){const r=Sa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},fL=Sa(1/3),KG=fL*2,qG={draw(e,t){const r=Sa(t/KG),n=r*fL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ZG={draw(e,t){const r=Sa(t),n=-r/2;e.rect(n,n,r,r)}},YG=.8908130915292852,hL=zp(Fp/10)/zp(7*Fp/10),GG=zp(b0/10)*hL,XG=-iL(b0/10)*hL,QG={draw(e,t){const r=Sa(t*YG),n=GG*r,a=XG*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=b0*i/5,l=iL(o),u=zp(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},nv=Sa(3),JG={draw(e,t){const r=-Sa(t/(nv*3));e.moveTo(0,r*2),e.lineTo(-nv*r,-r),e.lineTo(nv*r,-r),e.closePath()}},En=-.5,On=Sa(3)/2,lw=1/Sa(12),eX=(lw/2+1)*3,tX={draw(e,t){const r=Sa(t/eX),n=r/2,a=r*lw,i=n,o=r*lw+r,l=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,u),e.lineTo(En*n-On*a,On*n+En*a),e.lineTo(En*i-On*o,On*i+En*o),e.lineTo(En*l-On*u,On*l+En*u),e.lineTo(En*n+On*a,En*a-On*n),e.lineTo(En*i+On*o,En*o-On*i),e.lineTo(En*l+On*u,En*u-On*l),e.closePath()}};function rX(e,t){let r=null,n=F1(a);e=typeof e=="function"?e:rt(e||B1),t=typeof t=="function"?t:rt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:rt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:rt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function $p(){}function Bp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function mL(e){this._context=e}mL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nX(e){return new mL(e)}function pL(e){this._context=e}pL.prototype={areaStart:$p,areaEnd:$p,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aX(e){return new pL(e)}function gL(e){this._context=e}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iX(e){return new gL(e)}function yL(e){this._context=e}yL.prototype={areaStart:$p,areaEnd:$p,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sX(e){return new yL(e)}function SP(e){return e<0?-1:1}function PP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(SP(i)+SP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function CP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function av(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Up(e){this._context=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:av(this,this._t0,CP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,av(this,CP(this,r=PP(this,e,t)),r);break;default:av(this,this._t0,r=PP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function xL(e){this._context=new vL(e)}(xL.prototype=Object.create(Up.prototype)).point=function(e,t){Up.prototype.point.call(this,t,e)};function vL(e){this._context=e}vL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function oX(e){return new Up(e)}function lX(e){return new xL(e)}function bL(e){this._context=e}bL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=EP(e),a=EP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function EP(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function cX(e){return new bL(e)}function _0(e,t){this._context=e,this._t=t}_0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uX(e){return new _0(e,.5)}function dX(e){return new _0(e,0)}function fX(e){return new _0(e,1)}function Oc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function cw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hX(e,t){return e[t]}function mX(e){const t=[];return t.key=e,t}function pX(){var e=rt([]),t=cw,r=Oc,n=hX;function a(i){var o=Array.from(e.apply(this,arguments),mX),l,u=o.length,d=-1,f;for(const h of i)for(l=0,++d;l<u;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,f=$1(t(o));l<u;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:rt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:rt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?cw:typeof i=="function"?i:rt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Oc,a):r},a}function gX(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Oc(e,t)}}function yX(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Oc(e,t)}}function xX(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,u=0,d=0;l<o;++l){for(var f=e[t[l]],h=f[n][1]||0,p=f[n-1][1]||0,g=(h-p)/2,y=0;y<l;++y){var b=e[t[y]],_=b[n][1]||0,w=b[n-1][1]||0;g+=_-w}u+=h,d+=g*h}a[n-1][1]+=a[n-1][0]=r,u&&(r-=d/u)}a[n-1][1]+=a[n-1][0]=r,Oc(e,t)}}var j0={},wL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(wL);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(U1);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(k0);var N0={},_L={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(_L);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_L,r=k0;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,u="",d="",f=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const h=a[l];d?h==="\\"&&l+1<o?(l++,u+=a[l]):h===d?d="":u+=h:f?h==='"'||h==="'"?d=h:h==="]"?(f=!1,i.push(u),u=""):u+=h:h==="["?(f=!0,u&&(i.push(u),u="")):h==="."?u&&(i.push(u),u=""):u+=h,l++}return u&&i.push(u),i}e.toPath=n})(N0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wL,r=U1,n=k0,a=N0;function i(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?r.isDeepKey(u)?i(l,a.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function o(l,u,d){if(u.length===0)return d;let f=l;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return d;f=f[u[h]]}return f===void 0?d:f}e.get=i})(j0);var vX=j0.get;const Ac=Ya(vX);var Jr=e=>e===0?0:e>0?1:-1,wn=e=>typeof e=="number"&&e!=+e,Ii=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!wn(e),Zn=e=>je(e)||typeof e=="string",bX=0,Wd=e=>{var t=++bX;return"".concat(e||"").concat(t)},wa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var i;if(Ii(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return wn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},jL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function nt(e,t,r){return je(e)&&je(t)?e+r*(t-e):t}function kL(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ac(n,t))===r)}var wX=e=>{for(var t=e.length,r=0,n=0,a=0,i=0,o=1/0,l=-1/0,u=0,d=0,f=0;f<t;f++)u=e[f].cx||0,d=e[f].cy||0,r+=u,n+=d,a+=u*d,i+=u*u,o=Math.min(o,u),l=Math.max(l,u);var h=t*i!==r*r?(t*a-r*n)/(t*i-r*r):0;return{xmin:o,xmax:l,a:h,b:(n-h*r)/t}},Xe=e=>e===null||typeof e>"u",Ef=e=>Xe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function _X(e){return e!=null}function Of(){}var jX=["type","size","sizeType"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){kX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PX(e,t){if(e==null)return{};var r,n,a=CX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NL={symbolCircle:B1,symbolCross:VG,symbolDiamond:qG,symbolSquare:ZG,symbolStar:QG,symbolTriangle:JG,symbolWye:tX},EX=Math.PI/180,OX=e=>{var t="symbol".concat(Ef(e));return NL[t]||B1},AX=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*EX;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TX=(e,t)=>{NL["symbol".concat(Ef(e))]=t},S0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=PX(e,jX),i=AP(AP({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var p=OX(o),g=rX().type(p).size(AX(r,n,o)),y=g();if(y!==null)return y},{className:u,cx:d,cy:f}=i,h=Cr(i);return je(d)&&je(f)&&je(r)?x.createElement("path",uw({},h,{className:qe("recharts-symbols",u),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};S0.registerSymbol=TX;var SL=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,H1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{R1(a)&&(n[a]=i=>r[a](r,i))}),n},MX=(e,t,r)=>n=>(e(t,r,n),null),Af=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];R1(a)&&typeof i=="function"&&(n||(n={}),n[a]=MX(i,t,r))}),n},IX=e=>Array.isArray(e)&&e.length>0;function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){DX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t){var r=LX({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(null,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){$X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tn=32,HX={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function WX(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Tn/2,i=Tn/6,o=Tn/3,l=t.inactive?n:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var d;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:a,x2:Tn,y2:a,className:"recharts-legend-icon"})}if(u==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Tn,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(u==="rect")return x.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Tn/8,"h").concat(Tn,"v").concat(Tn*3/4,"h").concat(-Tn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var f=FX({},t);return delete f.legendIcon,x.cloneElement(t.legendIcon,f)}return x.createElement(S0,{fill:l,cx:a,cy:a,size:Tn,sizeType:"diameter",type:u})}function VX(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=e,l={x:0,y:0,width:Tn,height:Tn},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,h)=>{var p=f.formatter||a,g=qe({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var y=f.inactive?i:f.color,b=p?p(f.value,f,h):f.value;return x.createElement("li",Hp({className:g,style:u,key:"legend-item-".concat(h)},Af(e,f,h)),x.createElement(z1,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(b," legend icon")},x.createElement(WX,{data:f,iconType:o,inactiveColor:i})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}var KX=e=>{var t=Ut(e,HX),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},x.createElement(VX,Hp({},t,{payload:r})))},PL={},CL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(CL);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(W1);var EL={},P0={},OL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(OL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OL;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(P0);var AL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(AL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P0,r=AL;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(EL);var TL={},ML={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0;function r(n){return function(a){return t.get(a,n)}}e.property=r})(ML);var IL={},V1={},LL={},K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(K1);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(q1);var Z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,r=q1,n=Z1;function a(f,h,p){return typeof p!="function"?a(f,h,()=>{}):i(f,h,function g(y,b,_,w,k,j){const N=p(y,b,_,w,k,j);return N!==void 0?!!N:i(y,b,g,j)},new Map)}function i(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,p,g);case"function":return Object.keys(h).length>0?i(f,{...h},p,g):n.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:n.eq(f,h)}}function o(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,g);if(h instanceof Map)return l(f,h,p,g);if(h instanceof Set)return d(f,h,p,g);const y=Object.keys(h);if(f==null)return y.length===0;if(y.length===0)return!0;if(g!=null&&g.has(h))return g.get(h)===f;g==null||g.set(h,f);try{for(let b=0;b<y.length;b++){const _=y[b];if(!r.isPrimitive(f)&&!(_ in f)||h[_]===void 0&&f[_]!==void 0||h[_]===null&&f[_]!==null||!p(f[_],h[_],_,f,h,g))return!1}return!0}finally{g==null||g.delete(h)}}function l(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,b]of h.entries()){const _=f.get(y);if(p(_,b,y,f,h,g)===!1)return!1}return!0}function u(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let b=0;b<h.length;b++){const _=h[b];let w=!1;for(let k=0;k<f.length;k++){if(y.has(k))continue;const j=f[k];let N=!1;if(p(j,_,b,f,h,g)&&(N=!0),N){y.add(k),w=!0;break}}if(!w)return!1}return!0}function d(f,h,p,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,g):!1}e.isMatchWith=a,e.isSetMatch=d})(LL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LL;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(V1);var DL={},Y1={},RL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(RL);var G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(G1);var X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",h="[object Function]",p="[object ArrayBuffer]",g="[object Object]",y="[object Error]",b="[object DataView]",_="[object Uint8Array]",w="[object Uint8ClampedArray]",k="[object Uint16Array]",j="[object Uint32Array]",N="[object BigUint64Array]",P="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",O="[object BigInt64Array]",M="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=f,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=N,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=M,e.float64ArrayTag=$,e.functionTag=h,e.int16ArrayTag=C,e.int32ArrayTag=A,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=k,e.uint32ArrayTag=j,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=w})(X1);var zL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(zL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RL,r=G1,n=X1,a=q1,i=zL;function o(f,h){return l(f,void 0,f,new Map,h)}function l(f,h,p,g=new Map,y=void 0){const b=y==null?void 0:y(f,h,p,g);if(b!==void 0)return b;if(a.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const _=new Array(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=l(f[w],w,p,g,y);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;g.set(f,_);for(const[w,k]of f)_.set(w,l(k,w,p,g,y));return _}if(f instanceof Set){const _=new Set;g.set(f,_);for(const w of f)_.add(l(w,void 0,p,g,y));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,_);for(let w=0;w<f.length;w++)_[w]=l(f[w],w,p,g,y);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,_),u(_,f,p,g,y),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return g.set(f,_),u(_,f,p,g,y),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return g.set(f,_),u(_,f,p,g,y),_}if(f instanceof Error){const _=new f.constructor;return g.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,u(_,f,p,g,y),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return g.set(f,_),u(_,f,p,g,y),_}if(f instanceof Number){const _=new Number(f.valueOf());return g.set(f,_),u(_,f,p,g,y),_}if(f instanceof String){const _=new String(f.valueOf());return g.set(f,_),u(_,f,p,g,y),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return g.set(f,_),u(_,f,p,g,y),_}return f}function u(f,h,p=f,g,y){const b=[...Object.keys(h),...t.getSymbols(h)];for(let _=0;_<b.length;_++){const w=b[_],k=Object.getOwnPropertyDescriptor(f,w);(k==null||k.writable)&&(f[w]=l(h[w],w,p,g,y))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(DL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,r=DL;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(IL);var FL={},$L={},BL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,r=X1;function n(a,i){return t.cloneDeepWith(a,(o,l,u,d)=>{const f=i==null?void 0:i(o,l,u,d);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(BL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BL;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($L);var UL={},Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Q1);var HL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(HL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,r=Q1,n=HL,a=N0;function i(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=a.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let f=0;f<u.length;f++){const h=u[f];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}e.has=i})(UL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,r=k0,n=$L,a=j0,i=UL;function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return u=n.cloneDeep(u),function(d){const f=a.get(d,l);return f===void 0?i.has(d,l):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=o})(FL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,r=ML,n=IL,a=FL;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(TL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CL,r=W1,n=EL,a=TL;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(PL);var qX=PL.uniqBy;const IP=Ya(qX);function WL(e,t,r){return t===!0?IP(e,r):typeof t=="function"?IP(e,t):e}var J1=x.createContext(null),ZX=e=>e,yt=()=>{var e=x.useContext(J1);return e?e.store.dispatch:ZX},Km=()=>{},YX=()=>Km,GX=(e,t)=>e===t;function ve(e){var t=x.useContext(J1);return cI.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YX,t?t.store.getState:Km,t?t.store.getState:Km,t?e:Km,GX)}function XX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function QX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function JX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LP=e=>Array.isArray(e)?e:[e];function eQ(e){const t=Array.isArray(e[0])?e[0]:e;return JX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tQ(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var rQ=class{constructor(e){this.value=e}deref(){return this.value}},nQ=typeof WeakRef<"u"?WeakRef:rQ,aQ=0,DP=1;function om(){return{s:aQ,v:void 0,o:null,p:null}}function VL(e,t={}){let r=om();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var h;let l=r;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const _=b.get(y);_===void 0?(l=om(),b.set(y,l)):l=_}else{let b=l.p;b===null&&(l.p=b=new Map);const _=b.get(y);_===void 0?(l=om(),b.set(y,l)):l=_}}const d=l;let f;if(l.s===DP)f=l.v;else if(f=e.apply(null,arguments),i++,n){const p=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;p!=null&&n(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new nQ(f):f}return d.s=DP,d.v=f,f}return o.clearCache=()=>{r=om(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function iQ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,u={},d=a.pop();typeof d=="object"&&(u=d,d=a.pop()),XX(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...u},{memoize:h,memoizeOptions:p=[],argsMemoize:g=VL,argsMemoizeOptions:y=[]}=f,b=LP(p),_=LP(y),w=eQ(a),k=h(function(){return i++,d.apply(null,arguments)},...b),j=g(function(){o++;const P=tQ(w,arguments);return l=k.apply(null,P),l},..._);return Object.assign(j,{resultFunc:d,memoizedResultFunc:k,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var re=iQ(VL),sQ=Object.assign((e,t=re)=>{QX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,u)=>(o[r[u]]=l,o),{}))},{withTypes:()=>sQ}),KL={},qL={},ZL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(ZL);var YL={},ej={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(ej);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ej,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(YL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL,r=YL,n=N0;function a(i,o,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const d=(g,y)=>{let b=g;for(let _=0;_<y.length&&b!=null;++_)b=b[y[_]];return b},f=(g,y)=>y==null||g==null?y:typeof g=="object"&&"key"in g?Object.hasOwn(y,g.key)?y[g.key]:d(y,g.path):typeof g=="function"?g(y):Array.isArray(g)?d(y,g):typeof y=="object"?y[g]:y,h=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:h.map(y=>f(y,g))})).slice().sort((g,y)=>{for(let b=0;b<h.length;b++){const _=t.compareValues(g.criteria[b],y.criteria[b],l[b]);if(_!==0)return _}return 0}).map(g=>g.original)}e.orderBy=a})(qL);var GL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<i?o(f,u+1):a.push(f)}};return o(r,0),a}e.flatten=t})(GL);var tj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1,r=P0,n=K1,a=Z1;function i(o,l,u){return n.isObject(u)&&(typeof l=="number"&&r.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?a.eq(u[l],o):!1}e.isIterateeCall=i})(tj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qL,r=GL,n=tj;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(KL);var oQ=KL.sortBy;const C0=Ya(oQ);var XL=e=>e.legend.settings,lQ=e=>e.legend.size,cQ=e=>e.legend.payload,uQ=re([cQ,XL],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?C0(n,r):n});function dQ(){return ve(uQ)}var lm=1;function QL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>lm||Math.abs(o.left-t.left)>lm||Math.abs(o.top-t.top)>lm||Math.abs(o.width-t.width)>lm)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function mr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",RP=fQ,iv=()=>Math.random().toString(36).substring(7).split("").join("."),hQ={INIT:`@@redux/INIT${iv()}`,REPLACE:`@@redux/REPLACE${iv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iv()}`},Wp=hQ;function rj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function JL(e,t,r){if(typeof e!="function")throw new Error(mr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mr(1));return r(JL)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,u=!1;function d(){o===i&&(o=new Map,i.forEach((_,w)=>{o.set(w,_)}))}function f(){if(u)throw new Error(mr(3));return a}function h(_){if(typeof _!="function")throw new Error(mr(4));if(u)throw new Error(mr(5));let w=!0;d();const k=l++;return o.set(k,_),function(){if(w){if(u)throw new Error(mr(6));w=!1,d(),o.delete(k),i=null}}}function p(_){if(!rj(_))throw new Error(mr(7));if(typeof _.type>"u")throw new Error(mr(8));if(typeof _.type!="string")throw new Error(mr(17));if(u)throw new Error(mr(9));try{u=!0,a=n(a,_)}finally{u=!1}return(i=o).forEach(k=>{k()}),_}function g(_){if(typeof _!="function")throw new Error(mr(10));n=_,p({type:Wp.REPLACE})}function y(){const _=h;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(mr(11));function k(){const N=w;N.next&&N.next(f())}return k(),{unsubscribe:_(k)}},[RP](){return this}}}return p({type:Wp.INIT}),{dispatch:p,subscribe:h,getState:f,replaceReducer:g,[RP]:y}}function mQ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wp.INIT})>"u")throw new Error(mr(12));if(typeof r(void 0,{type:Wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function eD(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{mQ(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let u=!1;const d={};for(let f=0;f<n.length;f++){const h=n[f],p=r[h],g=o[h],y=p(g,l);if(typeof y>"u")throw l&&l.type,new Error(mr(14));d[h]=y,u=u||y!==g}return u=u||n.length!==Object.keys(o).length,u?d:o}}function Vp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function pQ(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(mr(15))};const o={getState:a.getState,dispatch:(u,...d)=>i(u,...d)},l=e.map(u=>u(o));return i=Vp(...l)(a.dispatch),{...a,dispatch:i}}}function tD(e){return rj(e)&&"type"in e&&typeof e.type=="string"}var rD=Symbol.for("immer-nothing"),zP=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pn=Object,Tc=pn.getPrototypeOf,Kp="constructor",E0="prototype",dw="configurable",qp="enumerable",qm="writable",Vd="value",Li=e=>!!e&&!!e[Dr];function _a(e){var t;return e?nD(e)||O0(e)||!!e[zP]||!!((t=e[Kp])!=null&&t[zP])||A0(e)||T0(e):!1}var gQ=pn[E0][Kp].toString(),FP=new WeakMap;function nD(e){if(!e||!nj(e))return!1;const t=Tc(e);if(t===null||t===pn[E0])return!0;const r=pn.hasOwnProperty.call(t,Kp)&&t[Kp];if(r===Object)return!0;if(!Nl(r))return!1;let n=FP.get(r);return n===void 0&&(n=Function.toString.call(r),FP.set(r,n)),n===gQ}function Tf(e,t,r=!0){Mf(e)===0?(r?Reflect.ownKeys(e):pn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Mf(e){const t=e[Dr];return t?t.type_:O0(e)?1:A0(e)?2:T0(e)?3:0}var $P=(e,t,r=Mf(e))=>r===2?e.has(t):pn[E0].hasOwnProperty.call(e,t),fw=(e,t,r=Mf(e))=>r===2?e.get(t):e[t],Zp=(e,t,r,n=Mf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function yQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var O0=Array.isArray,A0=e=>e instanceof Map,T0=e=>e instanceof Set,nj=e=>typeof e=="object",Nl=e=>typeof e=="function",sv=e=>typeof e=="boolean",fi=e=>e.copy_||e.base_,aj=e=>e.modified_?e.copy_:e.base_;function hw(e,t){if(A0(e))return new Map(e);if(T0(e))return new Set(e);if(O0(e))return Array[E0].slice.call(e);const r=nD(e);if(t===!0||t==="class_only"&&!r){const n=pn.getOwnPropertyDescriptors(e);delete n[Dr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[qm]===!1&&(l[qm]=!0,l[dw]=!0),(l.get||l.set)&&(n[o]={[dw]:!0,[qm]:!0,[qp]:l[qp],[Vd]:e[o]})}return pn.create(Tc(e),n)}else{const n=Tc(e);if(n!==null&&r)return{...e};const a=pn.create(n);return pn.assign(a,e)}}function ij(e,t=!1){return M0(e)||Li(e)||!_a(e)||(Mf(e)>1&&pn.defineProperties(e,{set:cm,add:cm,clear:cm,delete:cm}),pn.freeze(e),t&&Tf(e,(r,n)=>{ij(n,!0)},!1)),e}function xQ(){da(2)}var cm={[Vd]:xQ};function M0(e){return e===null||!nj(e)?!0:pn.isFrozen(e)}var Yp="MapSet",mw="Patches",aD={};function Mc(e){const t=aD[e];return t||da(0,e),t}var vQ=e=>!!aD[e],Kd,iD=()=>Kd,bQ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:vQ(Yp)?Mc(Yp):void 0});function BP(e,t){t&&(e.patchPlugin_=Mc(mw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pw(e){gw(e),e.drafts_.forEach(wQ),e.drafts_=null}function gw(e){e===Kd&&(Kd=e.parent_)}var UP=e=>Kd=bQ(Kd,e);function wQ(e){const t=e[Dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Dr].modified_&&(pw(t),da(4)),_a(e)&&(e=WP(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Dr].base_,e,t)}else e=WP(t,r);return _Q(t,e,!0),pw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rD?e:void 0}function WP(e,t){if(M0(t))return t;const r=t[Dr];if(!r)return sj(t,e.handledSet_,e);if(!I0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);lD(r,e)}return r.copy_}function _Q(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ij(t,r)}function sD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var I0=(e,t)=>e.scope_===t,jQ=[];function oD(e,t,r,n){const a=fi(e),i=e.type_;if(n!==void 0&&fw(a,n,i)===t){Zp(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Tf(a,(u,d)=>{if(Li(d)){const f=l.get(d)||[];f.push(u),l.set(d,f)}})}const o=e.draftLocations_.get(t)??jQ;for(const l of o)Zp(a,l,r,i)}function kQ(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!I0(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=aj(i);oD(e,i.draft_??i,o,r),lD(i,a)})}function lD(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}sD(e)}}function NQ(e,t,r){const{scope_:n}=e;if(Li(r)){const a=r[Dr];I0(a,n)&&a.callbacks_.push(function(){Zm(e);const o=aj(a);oD(e,r,o,t)})}else _a(r)&&e.callbacks_.push(function(){const i=fi(e);fw(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&sj(fw(e.copy_,t,e.type_),n.handledSet_,n)})}function sj(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Li(e)||t.has(e)||!_a(e)||M0(e)||(t.add(e),Tf(e,(n,a)=>{if(Li(a)){const i=a[Dr];if(I0(i,r)){const o=aj(i);Zp(e,n,o,e.type_),sD(i)}}else _a(a)&&sj(a,t,r)})),e}function SQ(e,t){const r=O0(e),n={type_:r?1:0,scope_:t?t.scope_:iD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=oj;r&&(a=[n],i=qd);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var oj={get(e,t){if(t===Dr)return e;const r=fi(e);if(!$P(r,t,e.type_))return PQ(e,r,t);const n=r[t];if(e.finalized_||!_a(n))return n;if(n===ov(e.base_,t)){Zm(e);const a=e.type_===1?+t:t,i=xw(e.scope_,n,e,a);return e.copy_[a]=i}return n},has(e,t){return t in fi(e)},ownKeys(e){return Reflect.ownKeys(fi(e))},set(e,t,r){const n=cD(fi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ov(fi(e),t),i=a==null?void 0:a[Dr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(yQ(r,a)&&(r!==void 0||$P(e.base_,t,e.type_)))return!0;Zm(e),yw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),NQ(e,t,r)),!0},deleteProperty(e,t){return Zm(e),ov(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[qm]:!0,[dw]:e.type_!==1||t!=="length",[qp]:n[qp],[Vd]:r[t]}},defineProperty(){da(11)},getPrototypeOf(e){return Tc(e.base_)},setPrototypeOf(){da(12)}},qd={};Tf(oj,(e,t)=>{qd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});qd.deleteProperty=function(e,t){return qd.set.call(this,e,t,void 0)};qd.set=function(e,t,r){return oj.set.call(this,e[0],t,r,e[0])};function ov(e,t){const r=e[Dr];return(r?fi(r):e)[t]}function PQ(e,t,r){var a;const n=cD(t,r);return n?Vd in n?n[Vd]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function cD(e,t){if(!(t in e))return;let r=Tc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Tc(r)}}function yw(e){e.modified_||(e.modified_=!0,e.parent_&&yw(e.parent_))}function Zm(e){e.copy_||(e.assigned_=new Map,e.copy_=hw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var CQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Nl(r)&&!Nl(n)){const o=n;n=r;const l=this;return function(d=o,...f){return l.produce(d,h=>n.call(this,h,...f))}}Nl(n)||da(6),a!==void 0&&!Nl(a)&&da(7);let i;if(_a(r)){const o=UP(this),l=xw(o,r,void 0);let u=!0;try{i=n(l),u=!1}finally{u?pw(o):gw(o)}return BP(o,a),HP(i,o)}else if(!r||!nj(r)){if(i=n(r),i===void 0&&(i=r),i===rD&&(i=void 0),this.autoFreeze_&&ij(i,!0),a){const o=[],l=[];Mc(mw).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else da(1,r)},this.produceWithPatches=(r,n)=>{if(Nl(r))return(l,...u)=>this.produceWithPatches(l,d=>r(d,...u));let a,i;return[this.produce(r,n,(l,u)=>{a=l,i=u}),a,i]},sv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),sv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),sv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_a(t)||da(8),Li(t)&&(t=xa(t));const r=UP(this),n=xw(r,t,void 0);return n[Dr].isManual_=!0,gw(r),n}finishDraft(t,r){const n=t&&t[Dr];(!n||!n.isManual_)&&da(9);const{scope_:a}=n;return BP(a,r),HP(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Mc(mw).applyPatches_;return Li(t)?a(t,r):this.produce(t,i=>a(i,r))}};function xw(e,t,r,n){const[a,i]=A0(t)?Mc(Yp).proxyMap_(t,r):T0(t)?Mc(Yp).proxySet_(t,r):SQ(t,r);return((r==null?void 0:r.scope_)??iD()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?kQ(r,i,n):i.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(i);const{patchPlugin_:d}=u;i.modified_&&d&&d.generatePatches_(i,[],u)}),a}function xa(e){return Li(e)||da(10,e),uD(e)}function uD(e){if(!_a(e)||M0(e))return e;const t=e[Dr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=hw(e,!0);return Tf(r,(a,i)=>{Zp(r,a,uD(i))},n),t&&(t.finalized_=!1),r}var EQ=new CQ,dD=EQ.produce;function fD(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var OQ=fD(),AQ=fD,TQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vp:Vp.apply(null,arguments)};function Yn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(yn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>tD(n)&&n.type===e,r}var hD=class ed extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ed.prototype)}static get[Symbol.species](){return ed}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ed(...t[0].concat(this)):new ed(...t.concat(this))}};function VP(e){return _a(e)?dD(e,()=>{}):e}function um(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function MQ(e){return typeof e=="boolean"}var IQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new hD;return r&&(MQ(r)?o.push(OQ):o.push(AQ(r.extraArgument))),o},mD="RTK_autoBatch",ft=()=>e=>({payload:e,meta:{[mD]:!0}}),KP=e=>t=>{setTimeout(t,e)},pD=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KP(10):e.type==="callback"?e.queueNotification:KP(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const h=()=>a&&f(),p=n.subscribe(h);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){var h;try{return a=!((h=f==null?void 0:f.meta)!=null&&h[mD]),i=!a,i&&(o||(o=!0,u(d))),n.dispatch(f)}finally{a=!0}}})},LQ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new hD(e);return n&&a.push(pD(typeof n=="object"?n:void 0)),a};function DQ(e){const t=IQ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(rj(r))l=eD(r);else throw new Error(yn(1));let u;typeof n=="function"?u=n(t):u=t();let d=Vp;a&&(d=TQ({trace:!1,...typeof a=="object"&&a}));const f=pQ(...u),h=LQ(f);let p=typeof o=="function"?o(h):h();const g=d(...p);return JL(l,i,g)}function gD(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(yn(28));if(l in t)throw new Error(yn(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function RQ(e){return typeof e=="function"}function zQ(e,t){let[r,n,a]=gD(t),i;if(RQ(e))i=()=>VP(e());else{const l=VP(e);i=()=>l}function o(l=i(),u){let d=[r[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[a]),d.reduce((f,h)=>{if(h)if(Li(f)){const g=h(f,u);return g===void 0?f:g}else{if(_a(f))return dD(f,p=>h(p,u));{const p=h(f,u);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return o.getInitialState=i,o}var FQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$Q=(e=21)=>{let t="",r=e;for(;r--;)t+=FQ[Math.random()*64|0];return t},BQ=Symbol.for("rtk-slice-createasyncthunk");function UQ(e,t){return`${e}/${t}`}function HQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[BQ];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(yn(11));const l=(typeof a.reducers=="function"?a.reducers(VQ()):a.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,P){const C=typeof N=="string"?N:N.type;if(!C)throw new Error(yn(12));if(C in d.sliceCaseReducersByType)throw new Error(yn(13));return d.sliceCaseReducersByType[C]=P,f},addMatcher(N,P){return d.sliceMatchers.push({matcher:N,reducer:P}),f},exposeAction(N,P){return d.actionCreators[N]=P,f},exposeCaseReducer(N,P){return d.sliceCaseReducersByName[N]=P,f}};u.forEach(N=>{const P=l[N],C={reducerName:N,type:UQ(i,N),createNotation:typeof a.reducers=="function"};qQ(P)?YQ(C,P,f,t):KQ(C,P,f)});function h(){const[N={},P=[],C=void 0]=typeof a.extraReducers=="function"?gD(a.extraReducers):[a.extraReducers],A={...N,...d.sliceCaseReducersByType};return zQ(a.initialState,O=>{for(let M in A)O.addCase(M,A[M]);for(let M of d.sliceMatchers)O.addMatcher(M.matcher,M.reducer);for(let M of P)O.addMatcher(M.matcher,M.reducer);C&&O.addDefaultCase(C)})}const p=N=>N,g=new Map,y=new WeakMap;let b;function _(N,P){return b||(b=h()),b(N,P)}function w(){return b||(b=h()),b.getInitialState()}function k(N,P=!1){function C(O){let M=O[N];return typeof M>"u"&&P&&(M=um(y,C,w)),M}function A(O=p){const M=um(g,P,()=>new WeakMap);return um(M,O,()=>{const $={};for(const[I,R]of Object.entries(a.selectors??{}))$[I]=WQ(R,O,()=>um(y,O,w),P);return $})}return{reducerPath:N,getSelectors:A,get selectors(){return A(C)},selectSlice:C}}const j={name:i,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...k(o),injectInto(N,{reducerPath:P,...C}={}){const A=P??o;return N.inject({reducerPath:A,reducer:_},C),{...j,...k(A,!0)}}};return j}}function WQ(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var cn=HQ();function VQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function KQ({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!ZQ(n))throw new Error(yn(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Yn(e,o):Yn(e))}function qQ(e){return e._reducerDefinitionType==="asyncThunk"}function ZQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function YQ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(yn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:u,settled:d,options:f}=r,h=a(e,i,f);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),u&&n.addCase(h.rejected,u),d&&n.addMatcher(h.settled,d),n.exposeCaseReducer(t,{fulfilled:o||dm,pending:l||dm,rejected:u||dm,settled:d||dm})}function dm(){}var GQ="task",yD="listener",xD="completed",lj="cancelled",XQ=`task-${lj}`,QQ=`task-${xD}`,vw=`${yD}-${lj}`,JQ=`${yD}-${xD}`,L0=class{constructor(e){Nu(this,"name","TaskAbortError");Nu(this,"message");this.code=e,this.message=`${GQ} ${lj} (reason: ${e})`}},cj=(e,t)=>{if(typeof e!="function")throw new TypeError(yn(32))},Gp=()=>{},vD=(e,t=Gp)=>(e.catch(t),e),bD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Do=e=>{if(e.aborted)throw new L0(e.reason)};function wD(e,t){let r=Gp;return new Promise((n,a)=>{const i=()=>a(new L0(e.reason));if(e.aborted){i();return}r=bD(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Gp})}var eJ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof L0?"cancelled":"rejected",error:r}}finally{t==null||t()}},Xp=e=>t=>vD(wD(e,t).then(r=>(Do(e),r))),_D=e=>{const t=Xp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xl}=Object,qP={},D0="listenerMiddleware",tJ=(e,t)=>{const r=n=>bD(e,()=>n.abort(e.reason));return(n,a)=>{cj(n);const i=new AbortController;r(i);const o=eJ(async()=>{Do(e),Do(i.signal);const l=await n({pause:Xp(i.signal),delay:_D(i.signal),signal:i.signal});return Do(i.signal),l},()=>i.abort(QQ));return a!=null&&a.autoJoin&&t.push(o.catch(Gp)),{result:Xp(e)(o),cancel(){i.abort(XQ)}}}},rJ=(e,t)=>{const r=async(n,a)=>{Do(t);let i=()=>{};const l=[new Promise((u,d)=>{let f=e({predicate:n,effect:(h,p)=>{p.unsubscribe(),u([h,p.getState(),p.getOriginalState()])}});i=()=>{f(),d()}})];a!=null&&l.push(new Promise(u=>setTimeout(u,a,null)));try{const u=await wD(t,Promise.race(l));return Do(t),u}finally{i()}};return(n,a)=>vD(r(n,a))},jD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Yn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(yn(21));return cj(i),{predicate:a,type:t,effect:i}},kD=Xl(e=>{const{type:t,predicate:r,effect:n}=jD(e);return{id:$Q(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(yn(22))}}},{withTypes:()=>kD}),ZP=(e,t)=>{const{type:r,effect:n,predicate:a}=jD(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},bw=e=>{e.pending.forEach(t=>{t.abort(vw)})},nJ=(e,t)=>()=>{for(const r of t.keys())bw(r);e.clear()},YP=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ND=Xl(Yn(`${D0}/add`),{withTypes:()=>ND}),aJ=Yn(`${D0}/removeAll`),SD=Xl(Yn(`${D0}/remove`),{withTypes:()=>SD}),iJ=(...e)=>{console.error(`${D0}/error`,...e)},If=(e={})=>{const t=new Map,r=new Map,n=g=>{const y=r.get(g)??0;r.set(g,y+1)},a=g=>{const y=r.get(g)??1;y===1?r.delete(g):r.set(g,y-1)},{extra:i,onError:o=iJ}=e;cj(o);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),y=>{g.unsubscribe(),y!=null&&y.cancelActive&&bw(g)}),u=g=>{const y=ZP(t,g)??kD(g);return l(y)};Xl(u,{withTypes:()=>u});const d=g=>{const y=ZP(t,g);return y&&(y.unsubscribe(),g.cancelActive&&bw(y)),!!y};Xl(d,{withTypes:()=>d});const f=async(g,y,b,_)=>{const w=new AbortController,k=rJ(u,w.signal),j=[];try{g.pending.add(w),n(g),await Promise.resolve(g.effect(y,Xl({},b,{getOriginalState:_,condition:(N,P)=>k(N,P).then(Boolean),take:k,delay:_D(w.signal),pause:Xp(w.signal),extra:i,signal:w.signal,fork:tJ(w.signal,j),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((N,P,C)=>{N!==w&&(N.abort(vw),C.delete(N))})},cancel:()=>{w.abort(vw),g.pending.delete(w)},throwIfCancelled:()=>{Do(w.signal)}})))}catch(N){N instanceof L0||YP(o,N,{raisedBy:"effect"})}finally{await Promise.all(j),w.abort(JQ),a(g),g.pending.delete(w)}},h=nJ(t,r);return{middleware:g=>y=>b=>{if(!tD(b))return y(b);if(ND.match(b))return u(b.payload);if(aJ.match(b)){h();return}if(SD.match(b))return d(b.payload);let _=g.getState();const w=()=>{if(_===qP)throw new Error(yn(23));return _};let k;try{if(k=y(b),t.size>0){const j=g.getState(),N=Array.from(t.values());for(const P of N){let C=!1;try{C=P.predicate(b,j,_)}catch(A){C=!1,YP(o,A,{raisedBy:"predicate"})}C&&f(P,b,g,w)}}}finally{_=qP}return k},startListening:u,stopListening:d,clearListeners:h}};function yn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},PD=cn({name:"chartLayout",initialState:sJ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:oJ,setLayout:lJ,setChartSize:cJ,setScale:uJ}=PD.actions,dJ=PD.reducer;function CD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){fJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(e,t,r){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e,t,r){return Xe(e)||Xe(t)?r:Zn(t)?Ac(e,t,r):typeof t=="function"?t(e):r}var pJ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&je(e[i]))return $l($l({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&je(e[o]))return $l($l({},e),{},{[o]:e[o]+(a||0)})}return e},Ks=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ED=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},OD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:h,niceTicks:p,axisType:g}=e;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/y:0;if(b=g==="angleAxis"&&i&&i.length>=2?Jr(i[0]-i[1])*2*b:b,h||p){var _=(h||p||[]).map((w,k)=>{var j=n?n.indexOf(w):w;return{coordinate:o(j)+b,value:w,offset:b,index:k}});return _.filter(w=>!wn(w.coordinate))}return u&&d?d.map((w,k)=>({coordinate:o(w)+b,value:w,index:k,offset:b})):o.ticks&&f!=null?o.ticks(f).map((w,k)=>({coordinate:o(w)+b,value:w,offset:b,index:k})):o.domain().map((w,k)=>({coordinate:o(w)+b,value:n?n[w]:w,index:k,offset:b}))},XP=1e-4,gJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-XP,i=Math.max(n[0],n[1])+XP,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},yJ=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},xJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=wn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},vJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=wn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},bJ={sign:xJ,expand:gX,none:Oc,silhouette:yX,wiggle:xX,positive:vJ},wJ=(e,t,r)=>{var n=bJ[r],a=pX().keys(t).value((i,o)=>Number(kt(i,o,0))).order(cw).offset(n);return a(e)};function _J(e){return e==null?void 0:String(e)}function Qp(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xe(a[t.dataKey])){var l=kL(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var u=kt(a,Xe(o)?t.dataKey:o);return Xe(u)?null:t.scale(u)}var QP=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=kt(i,t.dataKey,t.scale.domain()[o]);return Xe(l)?null:t.scale(l)-a/2+n},jJ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},kJ=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},NJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],SJ=(e,t,r)=>{if(e!=null)return NJ(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((u,d)=>{var f=CD(d,t,r),h=kJ(f);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},JP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ic=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=C0(t,f=>f.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var u=a[o],d=a[o-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function tC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return $l($l({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Qc(e,t){if(e)return String(e);if(typeof t=="string")return t}var PJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},CJ=(e,t)=>t==="centric"?e.angle:e.radius,Wi=e=>e.layout.width,Vi=e=>e.layout.height,EJ=e=>e.layout.scale,AD=e=>e.layout.margin,R0=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),z0=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),TD="data-recharts-item-index",MD="data-recharts-item-data-key",Lf=60;function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){OJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OJ(e,t,r){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MJ=e=>e.brush.height;function IJ(e){var t=z0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Lf;return r+a}return r},0)}function LJ(e){var t=z0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Lf;return r+a}return r},0)}function DJ(e){var t=R0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function RJ(e){var t=R0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ur=re([Wi,Vi,AD,MJ,IJ,LJ,DJ,RJ,XL,lQ],(e,t,r,n,a,i,o,l,u,d)=>{var f={left:(r.left||0)+a,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+l},p=fm(fm({},h),f),g=p.bottom;p.bottom+=n,p=pJ(p,u,d);var y=e-p.left-p.right,b=t-p.top-p.bottom;return fm(fm({brushBottom:g},p),{},{width:Math.max(y,0),height:Math.max(b,0)})}),zJ=re(ur,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uj=re(Wi,Vi,(e,t)=>({x:0,y:0,width:e,height:t})),FJ=x.createContext(null),qt=()=>x.useContext(FJ)!=null,F0=e=>e.brush,$0=re([F0,ur,AD],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),ID={},LD={},DD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const u=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),f=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{d&&f(),b()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},y=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{y(),o=void 0,l=null},_=()=>{f()},w=function(...k){if(a!=null&&a.aborted)return;o=this,l=k;const j=p==null;g(),u&&j&&f()};return w.schedule=g,w.cancel=b,w.flush=_,a==null||a.addEventListener("abort",b,{once:!0}),w}e.debounce=t})(DD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DD;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:u}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let f,h=null;const p=t.debounce(function(...b){f=n.apply(this,b),h=null},a,{edges:d}),g=function(...b){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=n.apply(this,b),h=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,b),f)},y=()=>(p.flush(),f);return g.cancel=p.cancel,g.flush=y,g}e.debounce=r})(LD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LD;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(ID);var $J=ID.throttle;const BJ=Ya($J);var Jp=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},RD=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Ii(n)?e:Number(n),u=Ii(a)?t:Number(a);return i&&i>0&&(l?u=l/i:u&&(l=u*i),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},UJ={width:0,height:0,overflow:"visible"},HJ={width:0,overflowX:"visible"},WJ={height:0,overflowY:"visible"},VJ={},KJ=e=>{var{width:t,height:r}=e,n=Ii(t),a=Ii(r);return n&&a?UJ:n?HJ:a?WJ:VJ};function qJ(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function ut(e){return Number.isFinite(e)}function Va(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(null,arguments)}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(r),!0).forEach(function(n){ZJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZJ(e,t,r){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zD=x.createContext({width:-1,height:-1});function XJ(e){return Va(e.width)&&Va(e.height)}function FD(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return XJ(a)?x.createElement(zD.Provider,{value:a},t):null}var dj=()=>x.useContext(zD),QJ=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:h,className:p,onResize:g,style:y={}}=e,b=x.useRef(null),_=x.useRef();_.current=g,x.useImperativeHandle(t,()=>b.current);var[w,k]=x.useState({containerWidth:n.width,containerHeight:n.height}),j=x.useCallback((O,M)=>{k($=>{var I=Math.round(O),R=Math.round(M);return $.containerWidth===I&&$.containerHeight===R?$:{containerWidth:I,containerHeight:R}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Of;var O=R=>{var B,{width:F,height:q}=R[0].contentRect;j(F,q),(B=_.current)===null||B===void 0||B.call(_,F,q)};f>0&&(O=BJ(O,f,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),{width:$,height:I}=b.current.getBoundingClientRect();return j($,I),M.observe(b.current),()=>{M.disconnect()}},[j,f]);var{containerWidth:N,containerHeight:P}=w;Jp(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:A}=RD(N,P,{width:a,height:i,aspect:r,maxHeight:u});return Jp(C!=null&&C>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,A,a,i,o,l,r),x.createElement("div",{id:h?"".concat(h):void 0,className:qe("recharts-responsive-container",p),style:aC(aC({},y),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:u}),ref:b},x.createElement("div",{style:KJ({width:a,height:i})},x.createElement(FD,{width:C,height:A},d)))}),Rn=x.forwardRef((e,t)=>{var r=dj();if(Va(r.width)&&Va(r.height))return e.children;var{width:n,height:a}=qJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=RD(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return je(i)&&je(o)?x.createElement(FD,{width:i,height:o},e.children):x.createElement(QJ,ww({},e,{width:n,height:a,ref:t}))});function $D(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Jc=()=>{var e,t=qt(),r=ve(zJ),n=ve($0),a=(e=ve(F0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},JJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BD=()=>{var e;return(e=ve(ur))!==null&&e!==void 0?e:JJ},fj=()=>ve(Wi),hj=()=>ve(Vi),eee=()=>ve(e=>e.layout.margin),Ze=e=>e.layout.layoutType,Df=()=>ve(Ze),tee=()=>{var e=Df();return e!==void 0},B0=e=>{var t=yt(),r=qt(),{width:n,height:a}=e,i=dj(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),x.useEffect(()=>{!r&&Va(o)&&Va(l)&&t(cJ({width:o,height:l}))},[t,r,o,l]),null},UD=Symbol.for("immer-nothing"),iC=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function fa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zd=Object.getPrototypeOf;function Lc(e){return!!e&&!!e[_n]}function Yo(e){var t;return e?HD(e)||Array.isArray(e)||!!e[iC]||!!((t=e.constructor)!=null&&t[iC])||Rf(e)||H0(e):!1}var ree=Object.prototype.constructor.toString(),sC=new WeakMap;function HD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=sC.get(r);return n===void 0&&(n=Function.toString.call(r),sC.set(r,n)),n===ree}function eg(e,t,r=!0){U0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function U0(e){const t=e[_n];return t?t.type_:Array.isArray(e)?1:Rf(e)?2:H0(e)?3:0}function _w(e,t){return U0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WD(e,t,r){const n=U0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function nee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rf(e){return e instanceof Map}function H0(e){return e instanceof Set}function lo(e){return e.copy_||e.base_}function jw(e,t){if(Rf(e))return new Map(e);if(H0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=HD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[_n];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Zd(e),n)}else{const n=Zd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function mj(e,t=!1){return W0(e)||Lc(e)||!Yo(e)||(U0(e)>1&&Object.defineProperties(e,{set:hm,add:hm,clear:hm,delete:hm}),Object.freeze(e),t&&Object.values(e).forEach(r=>mj(r,!0))),e}function aee(){fa(2)}var hm={value:aee};function W0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var iee={};function Go(e){const t=iee[e];return t||fa(0,e),t}var Yd;function VD(){return Yd}function see(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oC(e,t){t&&(Go("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kw(e){Nw(e),e.drafts_.forEach(oee),e.drafts_=null}function Nw(e){e===Yd&&(Yd=e.parent_)}function lC(e){return Yd=see(Yd,e)}function oee(e){const t=e[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[_n].modified_&&(kw(t),fa(4)),Yo(e)&&(e=tg(t,e),t.parent_||rg(t,e)),t.patches_&&Go("Patches").generateReplacementPatches_(r[_n].base_,e,t.patches_,t.inversePatches_)):e=tg(t,r,[]),kw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UD?e:void 0}function tg(e,t,r){if(W0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[_n];if(!a)return eg(t,(i,o)=>uC(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return rg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),eg(o,(u,d)=>uC(e,a,i,u,d,r,l),n),rg(e,i,!1),r&&e.patches_&&Go("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function uC(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=W0(a);if(!(l&&!o)){if(Lc(a)){const u=i&&t&&t.type_!==3&&!_w(t.assigned_,n)?i.concat(n):void 0,d=tg(e,a,u);if(WD(r,n,d),Lc(d))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Yo(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;tg(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Rf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&rg(e,a)}}}function rg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mj(t,r)}function lee(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:VD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=pj;r&&(a=[n],i=Gd);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var pj={get(e,t){if(t===_n)return e;const r=lo(e);if(!_w(r,t))return cee(e,r,t);const n=r[t];return e.finalized_||!Yo(n)?n:n===lv(e.base_,t)?(cv(e),e.copy_[t]=Pw(n,e)):n},has(e,t){return t in lo(e)},ownKeys(e){return Reflect.ownKeys(lo(e))},set(e,t,r){const n=KD(lo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=lv(lo(e),t),i=a==null?void 0:a[_n];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(nee(r,a)&&(r!==void 0||_w(e.base_,t)))return!0;cv(e),Sw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cv(e),Sw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){fa(11)},getPrototypeOf(e){return Zd(e.base_)},setPrototypeOf(){fa(12)}},Gd={};eg(pj,(e,t)=>{Gd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Gd.deleteProperty=function(e,t){return Gd.set.call(this,e,t,void 0)};Gd.set=function(e,t,r){return pj.set.call(this,e[0],t,r,e[0])};function lv(e,t){const r=e[_n];return(r?lo(r):e)[t]}function cee(e,t,r){var a;const n=KD(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function KD(e,t){if(!(t in e))return;let r=Zd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Zd(r)}}function Sw(e){e.modified_||(e.modified_=!0,e.parent_&&Sw(e.parent_))}function cv(e){e.copy_||(e.copy_=jw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(u=i,...d){return o.produce(u,f=>r.call(this,f,...d))}}typeof r!="function"&&fa(6),n!==void 0&&typeof n!="function"&&fa(7);let a;if(Yo(t)){const i=lC(this),o=Pw(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?kw(i):Nw(i)}return oC(i,n),cC(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===UD&&(a=void 0),this.autoFreeze_&&mj(a,!0),n){const i=[],o=[];Go("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else fa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yo(e)||fa(8),Lc(e)&&(e=dee(e));const t=lC(this),r=Pw(e,void 0);return r[_n].isManual_=!0,Nw(t),r}finishDraft(e,t){const r=e&&e[_n];(!r||!r.isManual_)&&fa(9);const{scope_:n}=r;return oC(n,t),cC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Go("Patches").applyPatches_;return Lc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Pw(e,t){const r=Rf(e)?Go("MapSet").proxyMap_(e,t):H0(e)?Go("MapSet").proxySet_(e,t):lee(e,t);return(t?t.scope_:VD()).drafts_.push(r),r}function dee(e){return Lc(e)||fa(10,e),qD(e)}function qD(e){if(!Yo(e)||W0(e))return e;const t=e[_n];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=jw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=jw(e,!0);return eg(r,(a,i)=>{WD(r,a,qD(i))},n),t&&(t.finalized_=!1),r}var fee=new uee;fee.produce;var hee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZD=cn({name:"legend",initialState:hee,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ft()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xa(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:ft()},removeLegendPayload:{reducer(e,t){var r=xa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ft()}}}),{setLegendSize:dC,setLegendSettings:mee,addLegendPayload:pee,replaceLegendPayload:gee,removeLegendPayload:yee}=ZD.actions,xee=ZD.reducer,vee=["contextPayload"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(null,arguments)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jee(e,t){if(e==null)return{};var r,n,a=kee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nee(e){return e.value}function See(e){var{contextPayload:t}=e,r=jee(e,vee),n=WL(t,e.payloadUniqBy,Nee),a=Dc(Dc({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(KX,a)}function Pee(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:u}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((a||0)-i.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Dc(Dc({},d),f)}function Cee(e){var t=yt();return x.useEffect(()=>{t(mee(e))},[t,e]),null}function Eee(e){var t=yt();return x.useEffect(()=>(t(dC(e)),()=>{t(dC({width:0,height:0}))}),[t,e]),null}function Oee(e,t,r,n){return e==="vertical"&&je(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Aee={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function ng(e){var t=Ut(e,Aee),r=dQ(),n=FG(),a=eee(),{width:i,height:o,wrapperStyle:l,portal:u}=t,[d,f]=QL([r]),h=fj(),p=hj();if(h==null||p==null)return null;var g=h-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),y=Oee(t.layout,o,i,g),b=u?l:Dc(Dc({position:"absolute",width:(y==null?void 0:y.width)||i||"auto",height:(y==null?void 0:y.height)||o||"auto"},Pee(l,t,a,h,p,d)),l),_=u??n;if(_==null||r==null)return null;var w=x.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},x.createElement(Cee,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&x.createElement(Eee,{width:d.width,height:d.height}),x.createElement(See,Cw({},t,y,{margin:a,chartWidth:h,chartHeight:p,contextPayload:r})));return Hc.createPortal(w,_)}ng.displayName="Legend";function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(null,arguments)}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){Tee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lee(e){return Array.isArray(e)&&Zn(e[0])&&Zn(e[1])?e.join(" ~ "):e}var Dee=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:h,accessibilityLayer:p=!1}=e,g=()=>{if(i&&i.length){var P={padding:0,margin:0},C=(l?C0(i,l):i).map((A,O)=>{if(A.type==="none")return null;var M=A.formatter||o||Lee,{value:$,name:I}=A,R=$,B=I;if(M){var F=M($,I,A,O,i);if(Array.isArray(F))[R,B]=F;else if(F!=null)R=F;else return null}var q=uv({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:q},Zn(B)?x.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Zn(B)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},R),x.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:P},C)}return null},y=uv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=uv({margin:0},a),_=!Xe(f),w=_?f:"",k=qe("recharts-default-tooltip",u),j=qe("recharts-tooltip-label",d);_&&h&&i!==void 0&&i!==null&&(w=h(f,i));var N=p?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Ew({className:k,style:y},N),x.createElement("p",{className:j,style:b},x.isValidElement(w)?w:"".concat(w)),g())},Fu="recharts-tooltip-wrapper",Ree={visibility:"hidden"};function zee(e){var{coordinate:t,translateX:r,translateY:n}=e;return qe(Fu,{["".concat(Fu,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(Fu,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(Fu,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(Fu,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function mC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=e;if(i&&je(i[n]))return i[n];var f=r[n]-l-(a>0?a:0),h=r[n]+a;if(t[n])return o[n]?f:h;var p=u[n];if(p==null)return 0;if(o[n]){var g=f,y=p;return g<y?Math.max(h,p):Math.max(f,p)}if(d==null)return 0;var b=h+l,_=p+d;return b>_?Math.max(f,p):Math.max(h,p)}function Fee(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $ee(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,d,f,h;return o.height>0&&o.width>0&&r?(f=mC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=mC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Fee({translateX:f,translateY:h,useTranslate3d:l})):d=Ree,{cssProperties:d,cssClasses:zee({translateX:f,translateY:h,coordinate:r})}}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){Ow(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ow(e,t,r){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hee extends x.PureComponent{constructor(){super(...arguments),Ow(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ow(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:h,useTranslate3d:p,viewBox:g,wrapperStyle:y,lastBoundingBox:b,innerRef:_,hasPortalFromProps:w}=this.props,{cssClasses:k,cssProperties:j}=$ee({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:g}),N=w?{}:mm(mm({transition:u&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),P=mm(mm({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:P,ref:_},i)}}var YD=()=>{var e;return(e=ve(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(null,arguments)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){Wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t,r){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xC={curveBasisClosed:aX,curveBasisOpen:iX,curveBasis:nX,curveBumpX:HG,curveBumpY:WG,curveLinearClosed:sX,curveLinear:w0,curveMonotoneX:oX,curveMonotoneY:lX,curveNatural:cX,curveStep:uX,curveStepAfter:fX,curveStepBefore:dX},ag=e=>ut(e.x)&&ut(e.y),vC=e=>e.base!=null&&ag(e.base)&&ag(e),$u=e=>e.x,Bu=e=>e.y,qee=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ef(e));return(r==="curveMonotone"||r==="curveBump")&&t?xC["".concat(r).concat(t==="vertical"?"Y":"X")]:xC[r]||w0},Zee=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=qee(t,a),l=i?r.filter(ag):r,u;if(Array.isArray(n)){var d=r.map((g,y)=>yC(yC({},g),{},{base:n[y]}));a==="vertical"?u=sm().y(Bu).x1($u).x0(g=>g.base.x):u=sm().x($u).y1(Bu).y0(g=>g.base.y);var f=u.defined(vC).curve(o),h=i?d.filter(vC):d;return f(h)}a==="vertical"&&je(n)?u=sm().y(Bu).x1($u).x0(n):je(n)?u=sm().x($u).y1(Bu).y0(n):u=uL().x($u).y(Bu);var p=u.defined(ag).curve(o);return p(l)},gj=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Zee(e):n;return x.createElement("path",Aw({},bn(e),H1(e),{className:qe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Yee=["x","y","top","left","width","height","className"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){Xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xee(e,t,r){return(t=Qee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ete(e,t){if(e==null)return{};var r,n,a=tte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rte=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),nte=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,u=ete(e,Yee),d=Gee({x:t,y:r,top:n,left:a,width:i,height:o},u);return!je(t)||!je(r)||!je(i)||!je(o)||!je(n)||!je(a)?null:x.createElement("path",Tw({},Cr(d),{className:qe("recharts-cross",l),d:rte(t,r,i,o,n,a)}))};function ate(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ite(e,t,r){return(t=ste(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lte=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),GD=(e,t,r)=>e.map(n=>"".concat(lte(n)," ").concat(t,"ms ").concat(r)).join(","),cte=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Xd=(e,t)=>Object.keys(t).reduce((r,n)=>_C(_C({},r),{},{[n]:e(n,t[n])}),{});function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ute(e,t,r){return(t=dte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dte(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ig=(e,t,r)=>e+(t-e)*r,Mw=e=>{var{from:t,to:r}=e;return t!==r},XD=(e,t,r)=>{var n=Xd((a,i)=>{if(Mw(i)){var[o,l]=e(i.from,i.to,i.velocity);return Vt(Vt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Xd((a,i)=>Mw(i)?Vt(Vt({},i),{},{velocity:ig(i.velocity,n[a].velocity,r),from:ig(i.from,n[a].from,r)}):i,t):XD(e,n,r-1)};function hte(e,t,r,n,a,i){var o,l=n.reduce((p,g)=>Vt(Vt({},p),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>Xd((p,g)=>g.from,l),d=()=>!Object.values(l).filter(Mw).length,f=null,h=p=>{o||(o=p);var g=p-o,y=g/r.dt;l=XD(r,l,y),a(Vt(Vt(Vt({},e),t),u())),o=p,d()||(f=i.setTimeout(h))};return()=>(f=i.setTimeout(h),()=>{var p;(p=f)===null||p===void 0||p()})}function mte(e,t,r,n,a,i,o){var l=null,u=a.reduce((h,p)=>Vt(Vt({},h),{},{[p]:[e[p],t[p]]}),{}),d,f=h=>{d||(d=h);var p=(h-d)/n,g=Xd((b,_)=>ig(..._,r(p)),u);if(i(Vt(Vt(Vt({},e),t),g)),p<1)l=o.setTimeout(f);else{var y=Xd((b,_)=>ig(..._,r(1)),u);i(Vt(Vt(Vt({},e),t),y))}};return()=>(l=o.setTimeout(f),()=>{var h;(h=l)===null||h===void 0||h()})}const pte=(e,t,r,n,a,i)=>{var o=cte(e,t);return r==null?()=>(a(Vt(Vt({},e),t)),()=>{}):r.isStepper===!0?hte(e,t,r,o,a,i):mte(e,t,r,n,o,a,i)};var sg=1e-4,QD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],JD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),kC=(e,t)=>r=>{var n=QD(e,t);return JD(n,r)},gte=(e,t)=>r=>{var n=QD(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return JD(a,r)},yte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,i=r[0].split("(");if(i[0]==="cubic-bezier"&&((a=i[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var o=i[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},xte=(e,t,r,n)=>{var a=kC(e,r),i=kC(t,n),o=gte(e,r),l=d=>d>1?1:d<0?0:d,u=d=>{for(var f=d>1?1:d,h=f,p=0;p<8;++p){var g=a(h)-f,y=o(h);if(Math.abs(g-f)<sg||y<sg)return i(h);h=l(h-g/y)}return i(h)};return u.isStepper=!1,u},NC=function(){return xte(...yte(...arguments))},vte=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,u)=>{var d=-(o-l)*r,f=u*n,h=u+(d-f)*a/1e3,p=u*a/1e3+o;return Math.abs(p-l)<sg&&Math.abs(h)<sg?[l,0]:[p,h]};return i.isStepper=!0,i.dt=a,i},bte=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NC(e);case"spring":return vte();default:if(e.split("(")[0]==="cubic-bezier")return NC(e)}return typeof e=="function"?e:null};function wte(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){a=e.setTimeout(i.bind(null,d),u);return}i(u),a=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class _te{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function jte(){return wte(new _te)}var kte=x.createContext(jte);function Nte(e,t){var r=x.useContext(kte);return x.useMemo(()=>t??r(e),[e,t,r])}var Ste=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zf={devToolsEnabled:!1,isSsr:Ste()},Pte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SC={t:0},dv={t:1};function Ff(e){var t=Ut(e,Pte),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=t,f=r==="auto"?!zf.isSsr:r,h=Nte(t.animationId,t.animationManager),[p,g]=x.useState(f?SC:dv),y=x.useRef(null);return x.useEffect(()=>{f||g(dv)},[f]),x.useEffect(()=>{if(!f||!n)return Of;var b=pte(SC,dv,bte(i),a,g,h.getTimeoutController()),_=()=>{y.current=b()};return h.start([u,o,_,a,l]),()=>{h.stop(),y.current&&y.current(),l()}},[f,n,a,i,o,u,l,h]),d(p.t)}function $f(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Wd(t)),n=x.useRef(e);return n.current!==e&&(r.current=Wd(t),n.current=e),r.current}var Cte=["radius"],Ete=["radius"];function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){Ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ote(e,t,r){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ate(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(null,arguments)}function EC(e,t){if(e==null)return{};var r,n,a=Mte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OC=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,u=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>i?i:a[h];d="M".concat(e,",").concat(t+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(t)),d+="L ".concat(e+r-l*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(t+o*f[1])),d+="L ".concat(e+r,",").concat(t+n-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(t+n)),d+="L ".concat(e+l*f[3],",").concat(t+n),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+n-o*f[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var g=Math.min(i,a);d="M ".concat(e,",").concat(t+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(t,`
            L `).concat(e+r-l*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(t+o*g,`
            L `).concat(e+r,",").concat(t+n-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(t+n,`
            L `).concat(e+l*g,",").concat(t+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(t+n-o*g," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},AC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e5=e=>{var t=Ut(e,AC),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:i,y:o,width:l,height:u,radius:d,className:f}=t,{animationEasing:h,animationDuration:p,animationBegin:g,isAnimationActive:y,isUpdateAnimationActive:b}=t,_=x.useRef(l),w=x.useRef(u),k=x.useRef(i),j=x.useRef(o),N=x.useMemo(()=>({x:i,y:o,width:l,height:u,radius:d}),[i,o,l,u,d]),P=$f(N,"rectangle-");if(i!==+i||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var C=qe("recharts-rectangle",f);if(!b){var A=Cr(t),{radius:O}=A,M=EC(A,Cte);return x.createElement("path",og({},M,{radius:typeof d=="number"?d:void 0,className:C,d:OC(i,o,l,u,d)}))}var $=_.current,I=w.current,R=k.current,B=j.current,F="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),W=GD(["strokeDasharray"],p,typeof h=="string"?h:AC.animationEasing);return x.createElement(Ff,{animationId:P,key:P,canBegin:n>0,duration:p,easing:h,isActive:b,begin:g},V=>{var z=nt($,l,V),T=nt(I,u,V),U=nt(R,i,V),Z=nt(B,o,V);r.current&&(_.current=z,w.current=T,k.current=U,j.current=Z);var G;y?V>0?G={transition:W,strokeDasharray:q}:G={strokeDasharray:F}:G={strokeDasharray:q};var H=Cr(t),{radius:Q}=H,se=EC(H,Ete);return x.createElement("path",og({},se,{radius:typeof d=="number"?d:void 0,className:C,d:OC(U,Z,z,T,d),ref:r,style:CC(CC({},G),t.style)}))})};function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){Ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ite(e,t,r){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lg=Math.PI/180,Rte=e=>e*180/Math.PI,yr=(e,t,r,n)=>({x:e+Math.cos(-lg*n)*r,y:t+Math.sin(-lg*n)*r}),zte=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fte=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},$te=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=Fte({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,u=Math.acos(l);return n>i&&(u=2*Math.PI-u),{radius:o,angle:Rte(u),angleInRadian:u}},Bte=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Ute=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},Hte=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=$te({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:u,endAngle:d}=Bte(t),f=i,h;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;h=f>=d&&f<=u}return h?MC(MC({},t),{},{radius:a,angle:Ute(f,t)}):null};function t5(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=yr(t,r,n,a),l=yr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(null,arguments)}var Wte=(e,t)=>{var r=Jr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},pm=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,d=l*(o?1:-1)+n,f=Math.asin(l/d)/lg,h=u?a:a+i*f,p=yr(t,r,d,h),g=yr(t,r,n,h),y=u?a-i*f:a,b=yr(t,r,d*Math.cos(f*lg),y);return{center:p,circleTangency:g,lineTangency:b,theta:f}},r5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=Wte(i,o),u=i+l,d=yr(t,r,a,i),f=yr(t,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var p=yr(t,r,n,i),g=yr(t,r,n,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},Vte=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=e,f=Jr(d-u),{circleTangency:h,lineTangency:p,theta:g}=pm({cx:t,cy:r,radius:a,angle:u,sign:f,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:b,theta:_}=pm({cx:t,cy:r,radius:a,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),w=l?Math.abs(u-d):Math.abs(u-d)-g-_;if(w<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):r5({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:u,endAngle:d});var k="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:N,theta:P}=pm({cx:t,cy:r,radius:n,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:C,lineTangency:A,theta:O}=pm({cx:t,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),M=l?Math.abs(u-d):Math.abs(u-d)-P-O;if(M<0&&i===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+="L".concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else k+="L".concat(t,",").concat(r,"Z");return k},Kte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n5=e=>{var t=Ut(e,Kte),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:h}=t;if(i<a||d===f)return null;var p=qe("recharts-sector",h),g=i-a,y=wa(o,g,0,!0),b;return y>0&&Math.abs(d-f)<360?b=Vte({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):b=r5({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:f}),x.createElement("path",Iw({},Cr(t),{className:p,d:b}))};function qte(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(SL(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,u=yr(n,a,i,l),d=yr(n,a,o,l);return[{x:u.x,y:u.y},{x:d.x,y:d.y}]}return t5(t)}}var a5={},i5={},s5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ej;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(s5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s5;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(i5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tj,r=i5;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=a,a+=o;return u}e.range=n})(a5);var Zte=a5.range;const o5=Ya(Zte);function Is(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yj(e){let t,r,n;e.length!==2?(t=Is,r=(l,u)=>Is(e(l),u),n=(l,u)=>e(l)-u):(t=e===Is||e===Yte?e:Gte,r=e,n=e);function a(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;r(l[h],u)<0?d=h+1:f=h}while(d<f)}return d}function i(l,u,d=0,f=l.length){if(d<f){if(t(u,u)!==0)return f;do{const h=d+f>>>1;r(l[h],u)<=0?d=h+1:f=h}while(d<f)}return d}function o(l,u,d=0,f=l.length){const h=a(l,u,d,f-1);return h>d&&n(l[h-1],u)>-n(l[h],u)?h-1:h}return{left:a,center:o,right:i}}function Gte(){return 0}function l5(e){return e===null?NaN:+e}function*Xte(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Qte=yj(Is),Bf=Qte.right;yj(l5).center;class IC extends Map{constructor(t,r=tre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(LC(this,t))}has(t){return super.has(LC(this,t))}set(t,r){return super.set(Jte(this,t),r)}delete(t){return super.delete(ere(this,t))}}function LC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Jte({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ere({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function tre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function rre(e=Is){if(e===Is)return c5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function c5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nre=Math.sqrt(50),are=Math.sqrt(10),ire=Math.sqrt(2);function cg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=nre?10:i>=are?5:i>=ire?2:1;let l,u,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),u=Math.round(t*d),l/d<e&&++l,u/d>t&&--u,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),u=Math.round(t/d),l*d<e&&++l,u*d>t&&--u),u<l&&.5<=r&&r<2?cg(e,t,r*2):[l,u,d]}function Lw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?cg(t,e,r):cg(e,t,r);if(!(i>=a))return[];const l=i-a+1,u=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)u[d]=(i-d)/-o;else for(let d=0;d<l;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(a+d)/-o;else for(let d=0;d<l;++d)u[d]=(a+d)*o;return u}function Dw(e,t,r){return t=+t,e=+e,r=+r,cg(e,t,r)[2]}function Rw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Dw(t,e,r):Dw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function DC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function u5(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?c5:rre(a);n>r;){if(n-r>600){const u=n-r+1,d=t-r+1,f=Math.log(u),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(u-h)/u)*(d-u/2<0?-1:1),g=Math.max(r,Math.floor(t-d*h/u+p)),y=Math.min(n,Math.floor(t+(u-d)*h/u+p));u5(e,t,g,y,a)}const i=e[t];let o=r,l=n;for(Uu(e,r,t),a(e[n],i)>0&&Uu(e,r,n);o<l;){for(Uu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Uu(e,r,l):(++l,Uu(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Uu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sre(e,t,r){if(e=Float64Array.from(Xte(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return RC(e);if(t>=1)return DC(e);var n,a=(n-1)*t,i=Math.floor(a),o=DC(u5(e,i).subarray(0,i+1)),l=RC(e.subarray(i+1));return o+(l-o)*(a-i)}}function ore(e,t,r=l5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function lre(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Xn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ki(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zw=Symbol("implicit");function xj(){var e=new IC,t=[],r=[],n=zw;function a(i){let o=e.get(i);if(o===void 0){if(n!==zw)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new IC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xj(t,r).unknown(n)},Xn.apply(a,arguments),a}function vj(){var e=xj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,u=0,d=0,f=.5;delete e.unknown;function h(){var p=t().length,g=a<n,y=g?a:n,b=g?n:a;i=(b-y)/Math.max(1,p-u+d*2),l&&(i=Math.floor(i)),y+=(b-y-i*(p-u))*f,o=i*(1-u),l&&(y=Math.round(y),o=Math.round(o));var _=lre(p).map(function(w){return y+i*w});return r(g?_.reverse():_)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,d=+p),h()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),h()):u},e.paddingOuter=function(p){return arguments.length?(d=+p,h()):d},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return vj(t(),[n,a]).round(l).paddingInner(u).paddingOuter(d).align(f)},Xn.apply(h(),arguments)}function d5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d5(t())},e}function cre(){return d5(vj.apply(null,arguments).paddingInner(1))}function ure(e){return function(){return e}}function ug(e){return+e}var zC=[0,1];function Ir(e){return e}function Fw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ure(isNaN(t)?NaN:.5)}function dre(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fre(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Fw(a,n),i=r(o,i)):(n=Fw(n,a),i=r(i,o)),function(l){return i(n(l))}}function hre(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Fw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var u=Bf(e,l,1,n)-1;return i[u](a[u](l))}}function Uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V0(){var e=zC,t=zC,r=Ni,n,a,i,o=Ir,l,u,d;function f(){var p=Math.min(e.length,t.length);return o!==Ir&&(o=dre(e[0],e[p-1])),l=p>2?hre:fre,u=d=null,h}function h(p){return p==null||isNaN(p=+p)?i:(u||(u=l(e.map(n),t,r)))(n(o(p)))}return h.invert=function(p){return o(a((d||(d=l(t,e.map(n),la)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,ug),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),r=j1,f()},h.clamp=function(p){return arguments.length?(o=p?!0:Ir,f()):o!==Ir},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,g){return n=p,a=g,f()}}function bj(){return V0()(Ir,Ir)}function mre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Rc(e){return e=dg(Math.abs(e)),e?e[1]:NaN}function pre(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),i.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function gre(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qd(e){if(!(t=yre.exec(e)))throw new Error("invalid format: "+e);var t;return new wj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qd.prototype=wj.prototype;function wj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xre(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var f5;function vre(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(f5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+dg(e,Math.max(0,t+i-1))[0]}function FC(e,t){var r=dg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $C={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FC(e*100,t),r:FC,s:vre,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BC(e){return e}var UC=Array.prototype.map,HC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bre(e){var t=e.grouping===void 0||e.thousands===void 0?BC:pre(UC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?BC:gre(UC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Qd(h);var p=h.fill,g=h.align,y=h.sign,b=h.symbol,_=h.zero,w=h.width,k=h.comma,j=h.precision,N=h.trim,P=h.type;P==="n"?(k=!0,P="g"):$C[P]||(j===void 0&&(j=12),N=!0,P="g"),(_||p==="0"&&g==="=")&&(_=!0,p="0",g="=");var C=b==="$"?r:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",A=b==="$"?n:/[%p]/.test(P)?o:"",O=$C[P],M=/[defgprs%]/.test(P);j=j===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function $(I){var R=C,B=A,F,q,W;if(P==="c")B=O(I)+B,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?u:O(Math.abs(I),j),N&&(I=xre(I)),V&&+I==0&&y!=="+"&&(V=!1),R=(V?y==="("?y:l:y==="-"||y==="("?"":y)+R,B=(P==="s"?HC[8+f5/3]:"")+B+(V&&y==="("?")":""),M){for(F=-1,q=I.length;++F<q;)if(W=I.charCodeAt(F),48>W||W>57){B=(W===46?a+I.slice(F+1):I.slice(F))+B,I=I.slice(0,F);break}}}k&&!_&&(I=t(I,1/0));var z=R.length+I.length+B.length,T=z<w?new Array(w-z+1).join(p):"";switch(k&&_&&(I=t(T+I,T.length?w-B.length:1/0),T=""),g){case"<":I=R+I+B+T;break;case"=":I=R+T+I+B;break;case"^":I=T.slice(0,z=T.length>>1)+R+I+B+T.slice(z);break;default:I=T+R+I+B;break}return i(I)}return $.toString=function(){return h+""},$}function f(h,p){var g=d((h=Qd(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Rc(p)/3)))*3,b=Math.pow(10,-y),_=HC[8+y/3];return function(w){return g(b*w)+_}}return{format:d,formatPrefix:f}}var gm,_j,h5;wre({thousands:",",grouping:[3],currency:["$",""]});function wre(e){return gm=bre(e),_j=gm.format,h5=gm.formatPrefix,gm}function _re(e){return Math.max(0,-Rc(Math.abs(e)))}function jre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rc(t)/3)))*3-Rc(Math.abs(e)))}function kre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rc(t)-Rc(e))+1}function m5(e,t,r,n){var a=Rw(e,t,r),i;switch(n=Qd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=jre(a,o))&&(n.precision=i),h5(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=kre(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=_re(a))&&(n.precision=i-(n.type==="%")*2);break}}return _j(n)}function qs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return m5(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],u,d,f=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);f-- >0;){if(d=Dw(o,l,r),d===u)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return e},e}function p5(){var e=bj();return e.copy=function(){return Uf(e,p5())},Xn.apply(e,arguments),qs(e)}function g5(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ug),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return g5(e).unknown(t)},e=arguments.length?Array.from(e,ug):[0,1],qs(r)}function y5(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function WC(e){return Math.log(e)}function VC(e){return Math.exp(e)}function Nre(e){return-Math.log(-e)}function Sre(e){return-Math.exp(-e)}function Pre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cre(e){return e===10?Pre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ere(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KC(e){return(t,r)=>-e(-t,r)}function jj(e){const t=e(WC,VC),r=t.domain;let n=10,a,i;function o(){return a=Ere(n),i=Cre(n),r()[0]<0?(a=KC(a),i=KC(i),e(Nre,Sre)):e(WC,VC),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let d=u[0],f=u[u.length-1];const h=f<d;h&&([d,f]=[f,d]);let p=a(d),g=a(f),y,b;const _=l==null?10:+l;let w=[];if(!(n%1)&&g-p<_){if(p=Math.floor(p),g=Math.ceil(g),d>0){for(;p<=g;++p)for(y=1;y<n;++y)if(b=p<0?y/i(-p):y*i(p),!(b<d)){if(b>f)break;w.push(b)}}else for(;p<=g;++p)for(y=n-1;y>=1;--y)if(b=p>0?y/i(-p):y*i(p),!(b<d)){if(b>f)break;w.push(b)}w.length*2<_&&(w=Lw(d,f,_))}else w=Lw(p,g,Math.min(g-p,_)).map(i);return h?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Qd(u)).precision==null&&(u.trim=!0),u=_j(u)),l===1/0)return u;const d=Math.max(1,n*l/t.ticks().length);return f=>{let h=f/i(Math.round(a(f)));return h*n<n-.5&&(h*=n),h<=d?u(f):""}},t.nice=()=>r(y5(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function x5(){const e=jj(V0()).domain([1,10]);return e.copy=()=>Uf(e,x5()).base(e.base()),Xn.apply(e,arguments),e}function qC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kj(e){var t=1,r=e(qC(t),ZC(t));return r.constant=function(n){return arguments.length?e(qC(t=+n),ZC(t)):t},qs(r)}function v5(){var e=kj(V0());return e.copy=function(){return Uf(e,v5()).constant(e.constant())},Xn.apply(e,arguments)}function YC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ore(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Are(e){return e<0?-e*e:e*e}function Nj(e){var t=e(Ir,Ir),r=1;function n(){return r===1?e(Ir,Ir):r===.5?e(Ore,Are):e(YC(r),YC(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},qs(t)}function Sj(){var e=Nj(V0());return e.copy=function(){return Uf(e,Sj()).exponent(e.exponent())},Xn.apply(e,arguments),e}function Tre(){return Sj.apply(null,arguments).exponent(.5)}function GC(e){return Math.sign(e)*e*e}function Mre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function b5(){var e=bj(),t=[0,1],r=!1,n;function a(i){var o=Mre(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(GC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ug)).map(GC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return b5(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xn.apply(a,arguments),qs(a)}function w5(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=ore(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Bf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Is),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return w5().domain(e).range(t).unknown(n)},Xn.apply(i,arguments)}function _5(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(u){return u!=null&&u<=u?a[Bf(n,u,0,r)]:i}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var d=a.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return _5().domain([e,t]).range(a).unknown(i)},Xn.apply(qs(o),arguments)}function j5(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bf(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return j5().domain(e).range(t).unknown(r)},Xn.apply(a,arguments)}const fv=new Date,hv=new Date;function Zt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const u=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return u;let d;do u.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return u},a.filter=i=>Zt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(fv.setTime(+i),hv.setTime(+o),e(fv),e(hv),Math.floor(r(fv,hv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fg=Zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fg);fg.range;const wi=1e3,Un=wi*60,_i=Un*60,Di=_i*24,Pj=Di*7,XC=Di*30,mv=Di*365,xo=Zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());xo.range;const Cj=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getMinutes());Cj.range;const Ej=Zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getUTCMinutes());Ej.range;const Oj=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*Un)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getHours());Oj.range;const Aj=Zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCHours());Aj.range;const Hf=Zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Un)/Di,e=>e.getDate()-1);Hf.range;const K0=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>e.getUTCDate()-1);K0.range;const k5=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>Math.floor(e/Di));k5.range;function il(e){return Zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Un)/Pj)}const q0=il(0),hg=il(1),Ire=il(2),Lre=il(3),zc=il(4),Dre=il(5),Rre=il(6);q0.range;hg.range;Ire.range;Lre.range;zc.range;Dre.range;Rre.range;function sl(e){return Zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Pj)}const Z0=sl(0),mg=sl(1),zre=sl(2),Fre=sl(3),Fc=sl(4),$re=sl(5),Bre=sl(6);Z0.range;mg.range;zre.range;Fre.range;Fc.range;$re.range;Bre.range;const Tj=Zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Tj.range;const Mj=Zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mj.range;const Ri=Zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ri.range;const zi=Zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zi.range;function N5(e,t,r,n,a,i){const o=[[xo,1,wi],[xo,5,5*wi],[xo,15,15*wi],[xo,30,30*wi],[i,1,Un],[i,5,5*Un],[i,15,15*Un],[i,30,30*Un],[a,1,_i],[a,3,3*_i],[a,6,6*_i],[a,12,12*_i],[n,1,Di],[n,2,2*Di],[r,1,Pj],[t,1,XC],[t,3,3*XC],[e,1,mv]];function l(d,f,h){const p=f<d;p&&([d,f]=[f,d]);const g=h&&typeof h.range=="function"?h:u(d,f,h),y=g?g.range(d,+f+1):[];return p?y.reverse():y}function u(d,f,h){const p=Math.abs(f-d)/h,g=yj(([,,_])=>_).right(o,p);if(g===o.length)return e.every(Rw(d/mv,f/mv,h));if(g===0)return fg.every(Math.max(Rw(d,f,h),1));const[y,b]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return y.every(b)}return[l,u]}const[Ure,Hre]=N5(zi,Mj,Z0,k5,Aj,Ej),[Wre,Vre]=N5(Ri,Tj,q0,Hf,Oj,Cj);function pv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Kre(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,d=Wu(a),f=Vu(a),h=Wu(i),p=Vu(i),g=Wu(o),y=Vu(o),b=Wu(l),_=Vu(l),w=Wu(u),k=Vu(u),j={a:V,A:z,b:T,B:U,c:null,d:nE,e:nE,f:pne,g:Nne,G:Pne,H:fne,I:hne,j:mne,L:S5,m:gne,M:yne,p:Z,q:G,Q:sE,s:oE,S:xne,u:vne,U:bne,V:wne,w:_ne,W:jne,x:null,X:null,y:kne,Y:Sne,Z:Cne,"%":iE},N={a:H,A:Q,b:se,B:oe,c:null,d:aE,e:aE,f:Tne,g:Une,G:Wne,H:Ene,I:One,j:Ane,L:C5,m:Mne,M:Ine,p:ie,q:le,Q:sE,s:oE,S:Lne,u:Dne,U:Rne,V:zne,w:Fne,W:$ne,x:null,X:null,y:Bne,Y:Hne,Z:Vne,"%":iE},P={a:$,A:I,b:R,B,c:F,d:tE,e:tE,f:lne,g:eE,G:JC,H:rE,I:rE,j:ane,L:one,m:nne,M:ine,p:M,q:rne,Q:une,s:dne,S:sne,u:Xre,U:Qre,V:Jre,w:Gre,W:ene,x:q,X:W,y:eE,Y:JC,Z:tne,"%":cne};j.x=C(r,j),j.X=C(n,j),j.c=C(t,j),N.x=C(r,N),N.X=C(n,N),N.c=C(t,N);function C(X,me){return function(fe){var te=[],pe=-1,we=0,Oe=X.length,Pe,Ve,Ht;for(fe instanceof Date||(fe=new Date(+fe));++pe<Oe;)X.charCodeAt(pe)===37&&(te.push(X.slice(we,pe)),(Ve=QC[Pe=X.charAt(++pe)])!=null?Pe=X.charAt(++pe):Ve=Pe==="e"?" ":"0",(Ht=me[Pe])&&(Pe=Ht(fe,Ve)),te.push(Pe),we=pe+1);return te.push(X.slice(we,pe)),te.join("")}}function A(X,me){return function(fe){var te=Hu(1900,void 0,1),pe=O(te,X,fe+="",0),we,Oe;if(pe!=fe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(me&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(we=gv(Hu(te.y,0,1)),Oe=we.getUTCDay(),we=Oe>4||Oe===0?mg.ceil(we):mg(we),we=K0.offset(we,(te.V-1)*7),te.y=we.getUTCFullYear(),te.m=we.getUTCMonth(),te.d=we.getUTCDate()+(te.w+6)%7):(we=pv(Hu(te.y,0,1)),Oe=we.getDay(),we=Oe>4||Oe===0?hg.ceil(we):hg(we),we=Hf.offset(we,(te.V-1)*7),te.y=we.getFullYear(),te.m=we.getMonth(),te.d=we.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Oe="Z"in te?gv(Hu(te.y,0,1)).getUTCDay():pv(Hu(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Oe+5)%7:te.w+te.U*7-(Oe+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,gv(te)):pv(te)}}function O(X,me,fe,te){for(var pe=0,we=me.length,Oe=fe.length,Pe,Ve;pe<we;){if(te>=Oe)return-1;if(Pe=me.charCodeAt(pe++),Pe===37){if(Pe=me.charAt(pe++),Ve=P[Pe in QC?me.charAt(pe++):Pe],!Ve||(te=Ve(X,fe,te))<0)return-1}else if(Pe!=fe.charCodeAt(te++))return-1}return te}function M(X,me,fe){var te=d.exec(me.slice(fe));return te?(X.p=f.get(te[0].toLowerCase()),fe+te[0].length):-1}function $(X,me,fe){var te=g.exec(me.slice(fe));return te?(X.w=y.get(te[0].toLowerCase()),fe+te[0].length):-1}function I(X,me,fe){var te=h.exec(me.slice(fe));return te?(X.w=p.get(te[0].toLowerCase()),fe+te[0].length):-1}function R(X,me,fe){var te=w.exec(me.slice(fe));return te?(X.m=k.get(te[0].toLowerCase()),fe+te[0].length):-1}function B(X,me,fe){var te=b.exec(me.slice(fe));return te?(X.m=_.get(te[0].toLowerCase()),fe+te[0].length):-1}function F(X,me,fe){return O(X,t,me,fe)}function q(X,me,fe){return O(X,r,me,fe)}function W(X,me,fe){return O(X,n,me,fe)}function V(X){return o[X.getDay()]}function z(X){return i[X.getDay()]}function T(X){return u[X.getMonth()]}function U(X){return l[X.getMonth()]}function Z(X){return a[+(X.getHours()>=12)]}function G(X){return 1+~~(X.getMonth()/3)}function H(X){return o[X.getUTCDay()]}function Q(X){return i[X.getUTCDay()]}function se(X){return u[X.getUTCMonth()]}function oe(X){return l[X.getUTCMonth()]}function ie(X){return a[+(X.getUTCHours()>=12)]}function le(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=C(X+="",j);return me.toString=function(){return X},me},parse:function(X){var me=A(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=C(X+="",N);return me.toString=function(){return X},me},utcParse:function(X){var me=A(X+="",!0);return me.toString=function(){return X},me}}}var QC={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,qre=/^%/,Zre=/[\\^$*+?|[\]().{}]/g;function We(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Yre(e){return e.replace(Zre,"\\$&")}function Wu(e){return new RegExp("^(?:"+e.map(Yre).join("|")+")","i")}function Vu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Gre(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Xre(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Qre(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Jre(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ene(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function JC(e,t,r){var n=dr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function eE(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tne(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rne(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nne(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function tE(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ane(e,t,r){var n=dr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function rE(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ine(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sne(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function one(e,t,r){var n=dr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lne(e,t,r){var n=dr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cne(e,t,r){var n=qre.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function une(e,t,r){var n=dr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dne(e,t,r){var n=dr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function nE(e,t){return We(e.getDate(),t,2)}function fne(e,t){return We(e.getHours(),t,2)}function hne(e,t){return We(e.getHours()%12||12,t,2)}function mne(e,t){return We(1+Hf.count(Ri(e),e),t,3)}function S5(e,t){return We(e.getMilliseconds(),t,3)}function pne(e,t){return S5(e,t)+"000"}function gne(e,t){return We(e.getMonth()+1,t,2)}function yne(e,t){return We(e.getMinutes(),t,2)}function xne(e,t){return We(e.getSeconds(),t,2)}function vne(e){var t=e.getDay();return t===0?7:t}function bne(e,t){return We(q0.count(Ri(e)-1,e),t,2)}function P5(e){var t=e.getDay();return t>=4||t===0?zc(e):zc.ceil(e)}function wne(e,t){return e=P5(e),We(zc.count(Ri(e),e)+(Ri(e).getDay()===4),t,2)}function _ne(e){return e.getDay()}function jne(e,t){return We(hg.count(Ri(e)-1,e),t,2)}function kne(e,t){return We(e.getFullYear()%100,t,2)}function Nne(e,t){return e=P5(e),We(e.getFullYear()%100,t,2)}function Sne(e,t){return We(e.getFullYear()%1e4,t,4)}function Pne(e,t){var r=e.getDay();return e=r>=4||r===0?zc(e):zc.ceil(e),We(e.getFullYear()%1e4,t,4)}function Cne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function aE(e,t){return We(e.getUTCDate(),t,2)}function Ene(e,t){return We(e.getUTCHours(),t,2)}function One(e,t){return We(e.getUTCHours()%12||12,t,2)}function Ane(e,t){return We(1+K0.count(zi(e),e),t,3)}function C5(e,t){return We(e.getUTCMilliseconds(),t,3)}function Tne(e,t){return C5(e,t)+"000"}function Mne(e,t){return We(e.getUTCMonth()+1,t,2)}function Ine(e,t){return We(e.getUTCMinutes(),t,2)}function Lne(e,t){return We(e.getUTCSeconds(),t,2)}function Dne(e){var t=e.getUTCDay();return t===0?7:t}function Rne(e,t){return We(Z0.count(zi(e)-1,e),t,2)}function E5(e){var t=e.getUTCDay();return t>=4||t===0?Fc(e):Fc.ceil(e)}function zne(e,t){return e=E5(e),We(Fc.count(zi(e),e)+(zi(e).getUTCDay()===4),t,2)}function Fne(e){return e.getUTCDay()}function $ne(e,t){return We(mg.count(zi(e)-1,e),t,2)}function Bne(e,t){return We(e.getUTCFullYear()%100,t,2)}function Une(e,t){return e=E5(e),We(e.getUTCFullYear()%100,t,2)}function Hne(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function Wne(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Fc(e):Fc.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function Vne(){return"+0000"}function iE(){return"%"}function sE(e){return+e}function oE(e){return Math.floor(+e/1e3)}var wl,O5,A5;Kne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kne(e){return wl=Kre(e),O5=wl.format,wl.parse,A5=wl.utcFormat,wl.utcParse,wl}function qne(e){return new Date(e)}function Zne(e){return e instanceof Date?+e:+new Date(+e)}function Ij(e,t,r,n,a,i,o,l,u,d){var f=bj(),h=f.invert,p=f.domain,g=d(".%L"),y=d(":%S"),b=d("%I:%M"),_=d("%I %p"),w=d("%a %d"),k=d("%b %d"),j=d("%B"),N=d("%Y");function P(C){return(u(C)<C?g:l(C)<C?y:o(C)<C?b:i(C)<C?_:n(C)<C?a(C)<C?w:k:r(C)<C?j:N)(C)}return f.invert=function(C){return new Date(h(C))},f.domain=function(C){return arguments.length?p(Array.from(C,Zne)):p().map(qne)},f.ticks=function(C){var A=p();return e(A[0],A[A.length-1],C??10)},f.tickFormat=function(C,A){return A==null?P:d(A)},f.nice=function(C){var A=p();return(!C||typeof C.range!="function")&&(C=t(A[0],A[A.length-1],C??10)),C?p(y5(A,C)):f},f.copy=function(){return Uf(f,Ij(e,t,r,n,a,i,o,l,u,d))},f}function Yne(){return Xn.apply(Ij(Wre,Vre,Ri,Tj,q0,Hf,Oj,Cj,xo,O5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gne(){return Xn.apply(Ij(Ure,Hre,zi,Mj,Z0,K0,Aj,Ej,xo,A5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y0(){var e=0,t=1,r,n,a,i,o=Ir,l=!1,u;function d(h){return h==null||isNaN(h=+h)?u:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(p){var g,y;return arguments.length?([g,y]=p,o=h(g,y),d):[o(0),o(1)]}}return d.range=f(Ni),d.rangeRound=f(j1),d.unknown=function(h){return arguments.length?(u=h,d):u},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),d}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T5(){var e=qs(Y0()(Ir));return e.copy=function(){return Zs(e,T5())},Ki.apply(e,arguments)}function M5(){var e=jj(Y0()).domain([1,10]);return e.copy=function(){return Zs(e,M5()).base(e.base())},Ki.apply(e,arguments)}function I5(){var e=kj(Y0());return e.copy=function(){return Zs(e,I5()).constant(e.constant())},Ki.apply(e,arguments)}function Lj(){var e=Nj(Y0());return e.copy=function(){return Zs(e,Lj()).exponent(e.exponent())},Ki.apply(e,arguments)}function Xne(){return Lj.apply(null,arguments).exponent(.5)}function L5(){var e=[],t=Ir;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Is),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>sre(e,i/n))},r.copy=function(){return L5(t).domain(e)},Ki.apply(r,arguments)}function G0(){var e=0,t=.5,r=1,n=1,a,i,o,l,u,d=Ir,f,h=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-i)*(n*b<n*i?l:u),d(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,r]=b,a=f(e=+e),i=f(t=+t),o=f(r=+r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(d=b,g):d};function y(b){return function(_){var w,k,j;return arguments.length?([w,k,j]=_,d=kV(b,[w,k,j]),g):[d(0),d(.5),d(1)]}}return g.range=y(Ni),g.rangeRound=y(j1),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return f=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,g}}function D5(){var e=qs(G0()(Ir));return e.copy=function(){return Zs(e,D5())},Ki.apply(e,arguments)}function R5(){var e=jj(G0()).domain([.1,1,10]);return e.copy=function(){return Zs(e,R5()).base(e.base())},Ki.apply(e,arguments)}function z5(){var e=kj(G0());return e.copy=function(){return Zs(e,z5()).constant(e.constant())},Ki.apply(e,arguments)}function Dj(){var e=Nj(G0());return e.copy=function(){return Zs(e,Dj()).exponent(e.exponent())},Ki.apply(e,arguments)}function Qne(){return Dj.apply(null,arguments).exponent(.5)}const td=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vj,scaleDiverging:D5,scaleDivergingLog:R5,scaleDivergingPow:Dj,scaleDivergingSqrt:Qne,scaleDivergingSymlog:z5,scaleIdentity:g5,scaleImplicit:zw,scaleLinear:p5,scaleLog:x5,scaleOrdinal:xj,scalePoint:cre,scalePow:Sj,scaleQuantile:w5,scaleQuantize:_5,scaleRadial:b5,scaleSequential:T5,scaleSequentialLog:M5,scaleSequentialPow:Lj,scaleSequentialQuantile:L5,scaleSequentialSqrt:Xne,scaleSequentialSymlog:I5,scaleSqrt:Tre,scaleSymlog:v5,scaleThreshold:j5,scaleTime:Yne,scaleUtc:Gne,tickFormat:m5},Symbol.toStringTag,{value:"Module"}));var Ys=e=>e.chartData,Jne=re([Ys],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Wf=(e,t,r,n)=>n?Jne(e):Ys(e);function Rs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ut(t)&&ut(r))return!0}return!1}function lE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function F5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(ut(r))a=r;else if(typeof r=="function")return;if(ut(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Rs(o))return o}}function eae(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Rs(n))return lE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(je(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&JP.test(a)){var u=JP.exec(a);if(u==null||t==null)o=void 0;else{var d=+u[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(je(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&eC.test(i)){var f=eC.exec(i);if(f==null||t==null)l=void 0;else{var h=+f[1];l=t[1]+h}}else l=t==null?void 0:t[1];var p=[o,l];if(Rs(p))return t==null?p:lE(p,t,r)}}}var eu=1e9,tae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zj,mt=!0,Gn="[DecimalError] ",Ro=Gn+"Invalid argument: ",Rj=Gn+"Exponent out of range: ",tu=Math.floor,co=Math.pow,rae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,nr=1e7,ot=7,$5=9007199254740991,pg=tu($5/ot),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return Si(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return Je(Si(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return $t(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hn))throw Error(Gn+"NaN");if(r.s<1)throw Error(Gn+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(mt=!1,t=Si(Jd(r,i),Jd(e,i),i),mt=!0,Je(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H5(t,e):B5(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Gn+"NaN");return r.s?(mt=!1,t=Si(r,e,0,1).times(e),mt=!0,r.minus(t)):Je(new n(r),a)};be.naturalExponential=be.exp=function(){return U5(this)};be.naturalLogarithm=be.ln=function(){return Jd(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B5(t,e):H5(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ro+e);if(t=$t(a)+1,n=a.d.length-1,r=n*ot+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,i,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Gn+"NaN")}for(e=$t(l),mt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=za(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=tu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(i=n,n=i.plus(Si(l,i,o+2)).times(.5),za(i.d).slice(0,o)===(t=za(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Je(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return mt=!0,Je(n,r)};be.times=be.mul=function(e){var t,r,n,a,i,o,l,u,d,f=this,h=f.constructor,p=f.d,g=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,u=p.length,d=g.length,u<d&&(i=p,p=g,g=i,o=u,u=d,d=o),i=[],o=u+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=u+n;a>n;)l=i[a]+g[n]*p[a-n-1]+t,i[a--]=l%nr|0,t=l/nr|0;i[a]=(i[a]+t)%nr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,mt?Je(e,h.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ka(e,0,eu),t===void 0?t=n.rounding:Ka(t,0,8),Je(r,e+$t(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Xo(n,!0):(Ka(e,0,eu),t===void 0?t=a.rounding:Ka(t,0,8),n=Je(new a(n),e+1,t),r=Xo(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Xo(a):(Ka(e,0,eu),t===void 0?t=i.rounding:Ka(t,0,8),n=Je(new i(a),e+$t(a)+1,t),r=Xo(n.abs(),!1,e+$t(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return Je(new t(e),$t(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,i,o,l=this,u=l.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(hn);if(l=new u(l),!l.s){if(e.s<1)throw Error(Gn+"Infinity");return l}if(l.eq(hn))return l;if(n=u.precision,e.eq(hn))return Je(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=$5){for(a=new u(hn),t=Math.ceil(n/ot+4),mt=!1;r%2&&(a=a.times(l),uE(a.d,t)),r=tu(r/2),r!==0;)l=l.times(l),uE(l.d,t);return mt=!0,e.s<0?new u(hn).div(a):Je(a,n)}}else if(i<0)throw Error(Gn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,mt=!1,a=e.times(Jd(l,n+d)),mt=!0,a=U5(a),a.s=i,a};be.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=$t(a),n=Xo(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ka(e,1,eu),t===void 0?t=i.rounding:Ka(t,0,8),a=Je(new i(a),e,t),r=$t(a),n=Xo(a,e<=r||r<=i.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ka(e,1,eu),t===void 0?t=n.rounding:Ka(t,0,8)),Je(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),r=e.constructor;return Xo(e,t<=r.toExpNeg||t>=r.toExpPos)};function B5(e,t){var r,n,a,i,o,l,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),mt?Je(t,h):t;if(u=e.d,d=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a,i){for(i<0?(n=u,i=-i,l=d.length):(n=d,a=o,l=u.length),o=Math.ceil(h/ot),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=u.length,i=d.length,l-i<0&&(i=l,n=d,d=u,u=n),r=0;i;)r=(u[--i]=u[i]+d[i]+r)/nr|0,u[i]%=nr;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,mt?Je(t,h):t}function Ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ro+e)}function za(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ot-n.length,r&&(i+=ss(r)),i+=n;o=e[t],n=o+"",r=ot-n.length,r&&(i+=ss(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Si=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%nr|0,o=i/nr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,u;if(i!=o)u=i>o?1:-1;else for(l=u=0;l<i;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*nr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,u,d,f,h,p,g,y,b,_,w,k,j,N,P,C,A,O,M=n.constructor,$=n.s==a.s?1:-1,I=n.d,R=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(Gn+"Division by zero");for(u=n.e-a.e,A=R.length,P=I.length,g=new M($),y=g.d=[],d=0;R[d]==(I[d]||0);)++d;if(R[d]>(I[d]||0)&&--u,i==null?k=i=M.precision:o?k=i+($t(n)-$t(a))+1:k=i,k<0)return new M(0);if(k=k/ot+2|0,d=0,A==1)for(f=0,R=R[0],k++;(d<P||f)&&k--;d++)j=f*nr+(I[d]||0),y[d]=j/R|0,f=j%R|0;else{for(f=nr/(R[0]+1)|0,f>1&&(R=e(R,f),I=e(I,f),A=R.length,P=I.length),N=A,b=I.slice(0,A),_=b.length;_<A;)b[_++]=0;O=R.slice(),O.unshift(0),C=R[0],R[1]>=nr/2&&++C;do f=0,l=t(R,b,A,_),l<0?(w=b[0],A!=_&&(w=w*nr+(b[1]||0)),f=w/C|0,f>1?(f>=nr&&(f=nr-1),h=e(R,f),p=h.length,_=b.length,l=t(h,b,p,_),l==1&&(f--,r(h,A<p?O:R,p))):(f==0&&(l=f=1),h=R.slice()),p=h.length,p<_&&h.unshift(0),r(b,h,_),l==-1&&(_=b.length,l=t(R,b,A,_),l<1&&(f++,r(b,A<_?O:R,_))),_=b.length):l===0&&(f++,b=[0]),y[d++]=f,l&&b[0]?b[_++]=I[N]||0:(b=[I[N]],_=1);while((N++<P||b[0]!==void 0)&&k--)}return y[0]||y.shift(),g.e=u,Je(g,o?i+$t(g)+1:i)}}();function U5(e,t){var r,n,a,i,o,l,u=0,d=0,f=e.constructor,h=f.precision;if($t(e)>16)throw Error(Rj+$t(e));if(!e.s)return new f(hn);for(mt=!1,l=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(co(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new f(hn),f.precision=l;;){if(a=Je(a.times(e),l),r=r.times(++u),o=i.plus(Si(a,r,l)),za(o.d).slice(0,l)===za(i.d).slice(0,l)){for(;d--;)i=Je(i.times(i),l);return f.precision=h,t==null?(mt=!0,Je(i,h)):i}i=o}}function $t(e){for(var t=e.e*ot,r=e.d[0];r>=10;r/=10)t++;return t}function yv(e,t,r){if(t>e.LN10.sd())throw mt=!0,r&&(e.precision=r),Error(Gn+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function ss(e){for(var t="";e--;)t+="0";return t}function Jd(e,t){var r,n,a,i,o,l,u,d,f,h=1,p=10,g=e,y=g.d,b=g.constructor,_=b.precision;if(g.s<1)throw Error(Gn+(g.s?"NaN":"-Infinity"));if(g.eq(hn))return new b(0);if(t==null?(mt=!1,d=_):d=t,g.eq(10))return t==null&&(mt=!0),yv(b,d);if(d+=p,b.precision=d,r=za(y),n=r.charAt(0),i=$t(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=za(g.d),n=r.charAt(0),h++;i=$t(g),n>1?(g=new b("0."+r),i++):g=new b(n+"."+r.slice(1))}else return u=yv(b,d+2,_).times(i+""),g=Jd(new b(n+"."+r.slice(1)),d-p).plus(u),b.precision=_,t==null?(mt=!0,Je(g,_)):g;for(l=o=g=Si(g.minus(hn),g.plus(hn),d),f=Je(g.times(g),d),a=3;;){if(o=Je(o.times(f),d),u=l.plus(Si(o,new b(a),d)),za(u.d).slice(0,d)===za(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(yv(b,d+2,_).times(i+""))),l=Si(l,new b(h),d),b.precision=_,t==null?(mt=!0,Je(l,_)):l;l=u,a+=2}}function cE(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=tu(r/ot),e.d=[],n=(r+1)%ot,r<0&&(n+=ot),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ot;n<a;)e.d.push(+t.slice(n,n+=ot));t=t.slice(n),n=ot-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),mt&&(e.e>pg||e.e<-pg))throw Error(Rj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,r){var n,a,i,o,l,u,d,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ot,a=t,d=h[f=0];else{if(f=Math.ceil((n+1)/ot),i=h.length,f>=i)return e;for(d=i=h[f],o=1;i>=10;i/=10)o++;n%=ot,a=n-ot+o}if(r!==void 0&&(i=co(10,o-a-1),l=d/i%10|0,u=t<0||h[f+1]!==void 0||d%i,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?d/co(10,o-a):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(i=$t(e),h.length=1,t=t-i-1,h[0]=co(10,(ot-t%ot)%ot),e.e=tu(-t/ot)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=f,i=1,f--):(h.length=f+1,i=co(10,ot-n),h[f]=a>0?(d/co(10,o-a)%co(10,a)|0)*i:0),u)for(;;)if(f==0){(h[0]+=i)==nr&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=nr)break;h[f--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(mt&&(e.e>pg||e.e<-pg))throw Error(Rj+$t(e));return e}function H5(e,t){var r,n,a,i,o,l,u,d,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),mt?Je(t,g):t;if(u=e.d,h=t.d,n=t.e,d=e.e,u=u.slice(),o=d-n,o){for(f=o<0,f?(r=u,o=-o,l=h.length):(r=h,n=d,l=u.length),a=Math.max(Math.ceil(g/ot),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=h.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(u[a]!=h[a]){f=u[a]<h[a];break}o=0}for(f&&(r=u,u=h,h=r,t.s=-t.s),l=u.length,a=h.length-l;a>0;--a)u[l++]=0;for(a=h.length;a>o;){if(u[--a]<h[a]){for(i=a;i&&u[--i]===0;)u[i]=nr-1;--u[i],u[a]+=nr}u[a]-=h[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,mt?Je(t,g):t):new p(0)}function Xo(e,t,r){var n,a=$t(e),i=za(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ss(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ss(-a-1)+i,r&&(n=r-o)>0&&(i+=ss(n))):a>=o?(i+=ss(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ss(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ss(n))),e.s<0?"-"+i:i}function uE(e,t){if(e.length>t)return e.length=t,!0}function W5(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ro+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cE(o,i.toString())}else if(typeof i!="string")throw Error(Ro+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rae.test(i))cE(o,i);else throw Error(Ro+i)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=W5,a.config=a.set=nae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nae(e){if(!e||typeof e!="object")throw Error(Gn+"Object expected");var t,r,n,a=["precision",1,eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(tu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ro+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ro+r+": "+n);return this}var zj=W5(tae);hn=new zj(1);const Ge=zj;var aae=e=>e,V5={},K5=e=>e===V5,dE=e=>function t(){return arguments.length===0||arguments.length===1&&K5(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},q5=(e,t)=>e===1?t:dE(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==V5).length;return i>=e?t(...n):q5(e-i,dE(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=n.map(f=>K5(f)?l.shift():f);return t(...d,...l)}))}),iae=e=>q5(e.length,e),$w=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},sae=iae((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),oae=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aae;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,u)=>u(l),i(...arguments))}},Bw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Z5(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function Y5(e,t,r){for(var n=new Ge(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var G5=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},X5=(e,t,r)=>{if(e.lte(0))return new Ge(0);var n=Z5(e.toNumber()),a=new Ge(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Ge(Math.ceil(i.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?new Ge(u.toNumber()):new Ge(Math.ceil(u.toNumber()))},lae=(e,t,r)=>{var n=new Ge(1),a=new Ge(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ge(10).pow(Z5(e)-1),a=new Ge(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ge(Math.floor(e)))}else e===0?a=new Ge(Math.floor((t-1)/2)):r||(a=new Ge(Math.floor(e)));var o=Math.floor((t-1)/2),l=oae(sae(u=>a.add(new Ge(u-o).mul(n)).toNumber()),$w);return l(0,t)},Q5=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=X5(new Ge(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Ge(0):(l=new Ge(t).add(r).div(2),l=l.sub(new Ge(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ge(r).sub(l).div(o).toNumber()),f=u+d+1;return f>n?Q5(t,r,n,a,i+1):(f<n&&(d=r>0?d+(n-f):d,u=r>0?u:u+(n-f)),{step:o,tickMin:l.sub(new Ge(u).mul(o)),tickMax:l.add(new Ge(d).mul(o))})},cae=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,u]=G5([r,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...$w(0,a-1).map(()=>1/0)]:[...$w(0,a-1).map(()=>-1/0),u];return r>n?Bw(d):d}if(l===u)return lae(l,a,i);var{step:f,tickMin:h,tickMax:p}=Q5(l,u,o,i,0),g=Y5(h,p.add(new Ge(.1).mul(f)),f);return r>n?Bw(g):g},uae=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=G5([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var u=Math.max(r,2),d=X5(new Ge(l).sub(o).div(u-1),i,0),f=[...Y5(new Ge(o),new Ge(l),d),l];return i===!1&&(f=f.map(h=>Math.round(h))),n>a?Bw(f):f},J5=e=>e.rootProps.maxBarSize,dae=e=>e.rootProps.barGap,e3=e=>e.rootProps.barCategoryGap,fae=e=>e.rootProps.barSize,X0=e=>e.rootProps.stackOffset,t3=e=>e.rootProps.reverseStackOrder,Fj=e=>e.options.chartName,$j=e=>e.rootProps.syncId,r3=e=>e.rootProps.syncMethod,Bj=e=>e.options.eventEmitter,Lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},pi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Q0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pi.angleAxisId,includeHidden:!1,name:void 0,reversed:pi.reversed,scale:pi.scale,tick:pi.tick,tickCount:void 0,ticks:void 0,type:pi.type,unit:void 0},mae={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:dn.type,unit:void 0},pae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pi.scale,tick:pi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gae={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:"category",unit:void 0},Uj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pae:hae,Hj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?gae:mae,J0=e=>e.polarOptions,Wj=re([Wi,Vi,ur],zte),n3=re([J0,Wj],(e,t)=>{if(e!=null)return wa(e.innerRadius,t,0)}),a3=re([J0,Wj],(e,t)=>{if(e!=null)return wa(e.outerRadius,t,t*.8)}),yae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},i3=re([J0],yae);re([Uj,i3],Q0);var s3=re([Wj,n3,a3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});re([Hj,s3],Q0);var o3=re([Ze,J0,n3,a3,Wi,Vi],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=t;return{cx:wa(o,a,a/2),cy:wa(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:d,clockWise:!1}}}),Yt=(e,t)=>t,ey=(e,t,r)=>r;function Vj(e){return e==null?void 0:e.id}function l3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var u,d=(u=l.data)!==null&&u!==void 0?u:n;if(!(d==null||d.length===0)){var f=Vj(l);d.forEach((h,p)=>{var g=i==null||a?p:String(kt(h,i,null)),y=kt(h,l.dataKey,0),b;o.has(g)?b=o.get(g):b={},Object.assign(b,{[f]:y}),o.set(g,b)})}}),Array.from(o.values())}function ty(e){return e.stackId!=null&&e.dataKey!=null}var ry=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ny(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xae(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Gt=e=>{var t=Ze(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ru=e=>e.tooltip.settings.axisId;function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return(t=bae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uw=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},c3=(e,t)=>e.cartesianAxis.xAxis[t],Qa=(e,t)=>{var r=c3(e,t);return r??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Uw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Lf},u3=(e,t)=>e.cartesianAxis.yAxis[t],Ja=(e,t)=>{var r=u3(e,t);return r??tr},d3={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Kj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??d3},Fr=(e,t,r)=>{switch(t){case"xAxis":return Qa(e,r);case"yAxis":return Ja(e,r);case"zAxis":return Kj(e,r);case"angleAxis":return Uj(e,r);case"radiusAxis":return Hj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_ae=(e,t,r)=>{switch(t){case"xAxis":return Qa(e,r);case"yAxis":return Ja(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vf=(e,t,r)=>{switch(t){case"xAxis":return Qa(e,r);case"yAxis":return Ja(e,r);case"angleAxis":return Uj(e,r);case"radiusAxis":return Hj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},f3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function h3(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Kf=e=>e.graphicalItems.cartesianItems,jae=re([Yt,ey],h3),m3=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),qf=re([Kf,Fr,jae],m3,{memoizeOptions:{resultEqualityCheck:ny}}),p3=re([qf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ty)),g3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kae=re([qf],g3),y3=e=>e.map(t=>t.data).filter(Boolean).flat(1),Nae=re([qf],y3,{memoizeOptions:{resultEqualityCheck:ny}}),x3=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},qj=re([Nae,Wf],x3),v3=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:kt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:kt(a,n)}))):e.map(n=>({value:n})),ay=re([qj,Fr,qf],v3);function b3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ym(e){if(Zn(e)||e instanceof Date){var t=Number(e);if(ut(t))return t}}function hE(e){if(Array.isArray(e)){var t=[Ym(e[0]),Ym(e[1])];return Rs(t)?t:void 0}var r=Ym(e);if(r!=null)return[r,r]}function Fi(e){return e.map(Ym).filter(_X)}function Sae(e,t,r){return!r||typeof t!="number"||wn(t)?[]:r.length?Fi(r.flatMap(n=>{var a=kt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!ut(i)||!ut(o)))return[t-i,t+o]})):[]}var Xt=e=>{var t=Gt(e),r=ru(e);return Vf(e,t,r)},Zf=re([Xt],e=>e==null?void 0:e.dataKey),Pae=re([p3,Wf,Xt],l3),w3=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,d=n?[...u].reverse():u,f=d.map(Vj);return[l,{stackedData:wJ(e,f,r),graphicalItems:d}]}))},Hw=re([Pae,p3,X0,t3],w3),_3=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=SJ(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Cae=re([Fr],e=>e.allowDataOverflow),Zj=e=>{var t;if(e==null||!("domain"in e))return Uw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Fi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Uw},j3=re([Fr],Zj),k3=re([j3,Cae],F5),Eae=re([Hw,Ys,Yt,k3],_3,{memoizeOptions:{resultEqualityCheck:ry}}),Yj=e=>e.errorBars,Oae=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>b3(r,n)),yg=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},N3=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(u=>{var d,f,h=(d=n[u.id])===null||d===void 0?void 0:d.filter(w=>b3(a,w)),p=kt(l,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),g=Sae(l,p,h);if(g.length>=2){var y=Math.min(...g),b=Math.max(...g);(i==null||y<i)&&(i=y),(o==null||b>o)&&(o=b)}var _=hE(p);_!=null&&(i=i==null?_[0]:Math.min(i,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=hE(kt(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),ut(i)&&ut(o))return[i,o]},Aae=re([qj,Fr,kae,Yj,Yt],N3,{memoizeOptions:{resultEqualityCheck:ry}});function Tae(e){var{value:t}=e;if(Zn(t)||t instanceof Date)return t}var Mae=(e,t,r)=>{var n=e.map(Tae).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&jL(n))?o5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},S3=e=>e.referenceElements.dots,nu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Iae=re([S3,Yt,ey],nu),P3=e=>e.referenceElements.areas,Lae=re([P3,Yt,ey],nu),C3=e=>e.referenceElements.lines,Dae=re([C3,Yt,ey],nu),E3=(e,t)=>{var r=Fi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Rae=re(Iae,Yt,E3),O3=(e,t)=>{var r=Fi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zae=re([Lae,Yt],O3);function Fae(e){var t;if(e.x!=null)return Fi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Fi(r)}function $ae(e){var t;if(e.y!=null)return Fi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Fi(r)}var A3=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Fae(n):$ae(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Bae=re([Dae,Yt],A3),Uae=re(Rae,Bae,zae,(e,t,r)=>yg(e,r,t)),T3=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",d=u?yg(n,i,a):yg(i,a);return eae(t,d,e.allowDataOverflow)},Hae=re([Fr,j3,k3,Eae,Aae,Uae,Ze,Yt],T3,{memoizeOptions:{resultEqualityCheck:ry}}),Wae=[0,1],M3=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,d=Ks(t,i);if(d&&l==null){var f;return o5(0,(f=r==null?void 0:r.length)!==null&&f!==void 0?f:0)}return u==="category"?Mae(n,e,d):a==="expand"?Wae:o}},Gj=re([Fr,Ze,qj,ay,X0,Yt,Hae],M3),I3=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Ef(i));return l in td?l:"point"}}},Yf=re([Fr,Ze,f3,Fj,Yt],I3);function Vae(e){if(e!=null){if(e in td)return td[e]();var t="scale".concat(Ef(e));if(t in td)return td[t]()}}function Xj(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Vae(t);if(a!=null){var i=a.domain(r).range(n);return gJ(i),i}}}var L3=(e,t,r)=>{var n=Zj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Rs(e))return cae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Rs(e))return uae(e,t.tickCount,t.allowDecimals)}},Qj=re([Gj,Vf,Yf],L3),D3=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Rs(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},Kae=re([Fr,Gj,Qj,Yt],D3),qae=re(ay,Fr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Fi(e.map(l=>l.value))).sort((l,u)=>l-u);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),R3=re(qae,Ze,e3,ur,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ut(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=wa(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),Zae=(e,t)=>{var r=Qa(e,t);return r==null||typeof r.padding!="string"?0:R3(e,"xAxis",t,r.padding)},Yae=(e,t)=>{var r=Ja(e,t);return r==null||typeof r.padding!="string"?0:R3(e,"yAxis",t,r.padding)},Gae=re(Qa,Zae,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Xae=re(Ja,Yae,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Qae=re([ur,Gae,$0,F0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Jae=re([ur,Ze,Xae,$0,F0,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gf=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Qae(e,r,n);case"yAxis":return Jae(e,r,n);case"zAxis":return(a=Kj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return i3(e);case"radiusAxis":return s3(e,r);default:return}},z3=re([Fr,Gf],Q0),zs=re([Fr,Yf,Kae,z3],Xj);re([qf,Yj,Yt],Oae);function F3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var iy=(e,t)=>t,sy=(e,t,r)=>r,eie=re(R0,iy,sy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F3)),tie=re(z0,iy,sy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(F3)),$3=(e,t)=>({width:e.width,height:t.height}),rie=(e,t)=>{var r=typeof t.width=="number"?t.width:Lf;return{width:r,height:e.height}},B3=re(ur,Qa,$3),nie=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},aie=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},iie=re(Vi,ur,eie,iy,sy,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=$3(t,l);o==null&&(o=nie(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),i}),sie=re(Wi,ur,tie,iy,sy,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var u=rie(t,l);o==null&&(o=aie(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),i}),oie=(e,t)=>{var r=Qa(e,t);if(r!=null)return iie(e,r.orientation,r.mirror)},lie=re([ur,Qa,oie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),cie=(e,t)=>{var r=Ja(e,t);if(r!=null)return sie(e,r.orientation,r.mirror)},uie=re([ur,Ja,cie,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),U3=re(ur,Ja,(e,t)=>{var r=typeof t.width=="number"?t.width:Lf;return{width:r,height:e.height}}),mE=(e,t,r)=>{switch(t){case"xAxis":return B3(e,r).width;case"yAxis":return U3(e,r).height;default:return}},H3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Ks(e,n),u=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&jL(u))return u}},Jj=re([Ze,ay,Fr,Yt],H3),W3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Ks(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},ek=re([Ze,ay,Vf,Yt],W3),pE=re([Ze,_ae,Yf,zs,Jj,ek,Gf,Qj,Yt],(e,t,r,n,a,i,o,l,u)=>{if(t!=null){var d=Ks(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}}),die=(e,t,r,n,a,i,o,l,u)=>{if(!(t==null||n==null)){var d=Ks(e,u),{type:f,ticks:h,tickCount:p}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=f==="category"&&n.bandwidth?n.bandwidth()/g:0;y=u==="angleAxis"&&i!=null&&i.length>=2?Jr(i[0]-i[1])*2*y:y;var b=h||a;if(b){var _=b.map((w,k)=>{var j=o?o.indexOf(w):w;return{index:k,coordinate:n(j)+y,value:w,offset:y}});return _.filter(w=>ut(w.coordinate))}return d&&l?l.map((w,k)=>({coordinate:n(w)+y,value:w,index:k,offset:y})).filter(w=>ut(w.coordinate)):n.ticks?n.ticks(p).map(w=>({coordinate:n(w)+y,value:w,offset:y})):n.domain().map((w,k)=>({coordinate:n(w)+y,value:o?o[w]:w,index:k,offset:y}))}},V3=re([Ze,Vf,Yf,zs,Qj,Gf,Jj,ek,Yt],die),fie=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ks(e,o),{tickCount:u}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Jr(n[0]-n[1])*2*d:d,l&&i?i.map((f,h)=>({coordinate:r(f)+d,value:f,index:h,offset:d})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,h)=>({coordinate:r(f)+d,value:a?a[f]:f,index:h,offset:d}))}},qa=re([Ze,Vf,zs,Gf,Jj,ek,Yt],fie),Za=re(Fr,zs,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})}),hie=re([Fr,Yf,Gj,z3],Xj),mie=re((e,t,r)=>Kj(e,r),hie,(e,t)=>{if(!(e==null||t==null))return gg(gg({},e),{},{scale:t})}),pie=re([Ze,R0,z0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),K3=e=>e.options.defaultTooltipEventType,q3=e=>e.options.validateTooltipEventTypes;function Z3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function tk(e,t){var r=K3(e),n=q3(e);return Z3(t,r,n)}function gie(e){return ve(t=>tk(t,e))}var Y3=(e,t)=>{var r,n=Number(t);if(!(wn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},yie=e=>e.tooltip.settings,ds={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},xie={itemInteraction:{click:ds,hover:ds},axisInteraction:{click:ds,hover:ds},keyboardInteraction:ds,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},G3=cn({name:"tooltip",initialState:xie,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ft()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xa(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:ft()},removeTooltipEntrySettings:{reducer(e,t){var r=xa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ft()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:vie,replaceTooltipEntrySettings:bie,removeTooltipEntrySettings:wie,setTooltipSettingsState:_ie,setActiveMouseOverItemIndex:X3,mouseLeaveItem:jie,mouseLeaveChart:Q3,setActiveClickItemIndex:kie,setMouseOverAxisIndex:J3,setMouseClickAxisIndex:Nie,setSyncInteraction:Ww,setKeyboardInteraction:Vw}=G3.actions,Sie=G3.reducer;function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){Pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pie(e,t,r){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oie(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Aie(e){return e.index!=null}var eR=(e,t,r,n)=>{if(t==null)return ds;var a=Oie(e,t,r);if(a==null)return ds;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Aie(a)){if(i)return ym(ym({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return ym(ym({},ds),{},{coordinate:a.coordinate})};function Tie(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Mie(e,t){var r=Tie(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function Iie(e,t,r){if(r==null||t==null)return!0;var n=kt(e,t);return n==null||!Rs(r)?!0:Mie(n,r)}var rk=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!ut(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(i,l)),d=t[u];return d==null||Iie(d,r,n)?String(u):null},tR=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,i);if(d!=null)return d;var f=a==null?void 0:a[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},rR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Xf=e=>e.options.tooltipPayloadSearcher,au=e=>e.tooltip;function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return(t=Die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Die(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zie(e,t){return e??t}var nR=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=r,h=[];return e.reduce((p,g)=>{var y,{dataDefinedOnItem:b,settings:_}=g,w=zie(b,l),k=Array.isArray(w)?CD(w,d,f):w,j=(y=_==null?void 0:_.dataKey)!==null&&y!==void 0?y:n,N=_==null?void 0:_.nameKey,P;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?P=kL(k,n,a):P=i(k,t,u,N),Array.isArray(P))P.forEach(A=>{var O=xE(xE({},_),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(tC({tooltipEntrySettings:O,dataKey:A.dataKey,payload:A.payload,value:kt(A.payload,A.dataKey),name:A.name}))});else{var C;p.push(tC({tooltipEntrySettings:_,dataKey:j,payload:P,value:kt(P,j),name:(C=kt(P,N))!==null&&C!==void 0?C:_==null?void 0:_.name}))}return p},h)}},nk=re([Xt,Ze,f3,Fj,Gt],I3),Fie=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$ie=re([Gt,ru],h3),Qf=re([Fie,Xt,$ie],m3,{memoizeOptions:{resultEqualityCheck:ny}}),Bie=re([Qf],e=>e.filter(ty)),Uie=re([Qf],y3,{memoizeOptions:{resultEqualityCheck:ny}}),iu=re([Uie,Ys],x3),Hie=re([Bie,Ys,Xt],l3),ak=re([iu,Xt,Qf],v3),aR=re([Xt],Zj),Wie=re([Xt],e=>e.allowDataOverflow),iR=re([aR,Wie],F5),Vie=re([Qf],e=>e.filter(ty)),Kie=re([Hie,Vie,X0,t3],w3),qie=re([Kie,Ys,Gt,iR],_3),Zie=re([Qf],g3),Yie=re([iu,Xt,Zie,Yj,Gt],N3,{memoizeOptions:{resultEqualityCheck:ry}}),Gie=re([S3,Gt,ru],nu),Xie=re([Gie,Gt],E3),Qie=re([P3,Gt,ru],nu),Jie=re([Qie,Gt],O3),ese=re([C3,Gt,ru],nu),tse=re([ese,Gt],A3),rse=re([Xie,tse,Jie],yg),nse=re([Xt,aR,iR,qie,Yie,rse,Ze,Gt],T3),Jf=re([Xt,Ze,iu,ak,X0,Gt,nse],M3),ase=re([Jf,Xt,nk],L3),ise=re([Xt,Jf,ase,Gt],D3),sR=e=>{var t=Gt(e),r=ru(e),n=!1;return Gf(e,t,r,n)},oR=re([Xt,sR],Q0),lR=re([Xt,nk,ise,oR],Xj),sse=re([Ze,ak,Xt,Gt],H3),ose=re([Ze,ak,Xt,Gt],W3),lse=(e,t,r,n,a,i,o,l)=>{if(t){var{type:u}=t,d=Ks(e,l);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=u==="category"&&n.bandwidth?n.bandwidth()/f:0;return h=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Jr(a[0]-a[1])*2*h:h,d&&o?o.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}}},qi=re([Ze,Xt,nk,lR,sR,sse,ose,Gt],lse),ik=re([K3,q3,yie],(e,t,r)=>Z3(r.shared,e,t)),cR=e=>e.tooltip.settings.trigger,sk=e=>e.tooltip.settings.defaultIndex,eh=re([au,ik,cR,sk],eR),Fs=re([eh,iu,Zf,Jf],rk),uR=re([qi,Fs],Y3),dR=re([eh],e=>{if(e)return e.dataKey});re([eh],e=>{if(e)return e.graphicalItemId});var fR=re([au,ik,cR,sk],rR),cse=re([Wi,Vi,Ze,ur,qi,sk,fR,Xf],tR),use=re([eh,cse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),dse=re([eh],e=>e.active),fse=re([fR,Fs,Ys,Zf,uR,Xf,ik],nR),hse=re([fse],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mse(e,t,r){return(t=pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yse=()=>ve(Xt),xse=()=>{var e=yse(),t=ve(qi),r=ve(lR);return Ic(!e||!r?void 0:bE(bE({},e),{},{scale:r}),t)};function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){vse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vse(e,t,r){return(t=bse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bse(e){var t=wse(e,"string");return typeof t=="symbol"?t:t+""}function wse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _se=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},jse=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return _l(_l(_l({},n),yr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:u}=n;return _l(_l(_l({},n),yr(n.cx,n.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kse(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var hR=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?r[u-1].coordinate:r[l-1].coordinate,f=r[u].coordinate,h=u>=l-1?r[0].coordinate:r[u+1].coordinate,p=void 0;if(Jr(f-d)!==Jr(h-f)){var g=[];if(Jr(h-f)===Jr(a[1]-a[0])){p=h;var y=f+a[1]-a[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{p=d;var b=h+a[1]-a[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=g[0]&&e<=g[1]){({index:o}=r[u]);break}}else{var w=Math.min(d,h),k=Math.max(d,h);if(e>(w+f)/2&&e<=(k+f)/2){({index:o}=r[u]);break}}}else if(t){for(var j=0;j<l;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===l-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:o}=t[j]);break}}return o},Nse=()=>ve(Fj),ok=(e,t)=>t,mR=(e,t,r)=>r,lk=(e,t,r,n)=>n,Sse=re(qi,e=>C0(e,t=>t.coordinate)),ck=re([au,ok,mR,lk],eR),uk=re([ck,iu,Zf,Jf],rk),Pse=(e,t,r)=>{if(t!=null){var n=au(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pR=re([au,ok,mR,lk],rR),xg=re([Wi,Vi,Ze,ur,qi,lk,pR,Xf],tR),Cse=re([ck,xg],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),gR=re([qi,uk],Y3),Ese=re([pR,uk,Ys,Zf,gR,Xf,ok],nR),Ose=re([ck,uk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Ase=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&kse(e,o)){var l=PJ(e,t),u=hR(l,i,a,r,n),d=_se(t,a,u,e);return{activeIndex:String(u),activeCoordinate:d}}},Tse=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=Hte(e,r);if(l){var u=CJ(l,t),d=hR(u,o,i,n,a),f=jse(t,i,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},Mse=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?Ase(e,t,n,a,i,o,l):Tse(e,t,r,n,a,i,o)},Ise=re(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Lse=re(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Lt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:xae}});function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){Dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dse(e,t,r){return(t=Rse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rse(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fse={},$se={zIndexMap:Object.values(Lt).reduce((e,t)=>jE(jE({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Fse)},Bse=new Set(Object.values(Lt));function Use(e){return Bse.has(e)}var yR=cn({name:"zIndex",initialState:$se,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ft()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Use(r)&&delete e.zIndexMap[r])},prepare:ft()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:ft()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:ft()}}}),{registerZIndexPortal:Hse,unregisterZIndexPortal:Wse,registerZIndexPortalId:Vse,unregisterZIndexPortalId:Kse}=yR.actions,qse=yR.reducer;function $r(e){var{zIndex:t,children:r}=e,n=tee(),a=n&&t!==void 0&&t!==0,i=qt(),o=yt();x.useLayoutEffect(()=>a?(o(Hse({zIndex:t})),()=>{o(Wse({zIndex:t}))}):Of,[o,t,a]);var l=ve(d=>Ise(d,t,i));if(!a)return r;if(!l)return null;var u=document.getElementById(l);return u?Hc.createPortal(r,u):null}function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kw.apply(null,arguments)}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){Zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zse(e,t,r){return(t=Yse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yse(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xse(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function Qse(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:d,chartName:f}=e,h=r,p=n,g=a;if(!u||!h||f!=="ScatterChart"&&d!=="axis")return null;var y,b,_;if(f==="ScatterChart")y=h,b=nte,_=Lt.cursorLine;else if(f==="BarChart")y=ate(l,h,i,o),b=e5,_=Lt.cursorRectangle;else if(l==="radial"&&SL(h)){var{cx:w,cy:k,radius:j,startAngle:N,endAngle:P}=t5(h);y={cx:w,cy:k,startAngle:N,endAngle:P,innerRadius:j,outerRadius:j},b=n5,_=Lt.cursorLine}else y={points:qte(l,h,i)},b=gj,_=Lt.cursorLine;var C=typeof u=="object"&&"className"in u?u.className:void 0,A=xm(xm(xm(xm({stroke:"#ccc",pointerEvents:"none"},i),y),Xc(u)),{},{payload:p,payloadIndex:g,className:qe("recharts-tooltip-cursor",C)});return x.createElement($r,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},x.createElement(Xse,{cursor:u,cursorComp:b,cursorProps:A}))}function Jse(e){var t=xse(),r=BD(),n=Df(),a=Nse();return t==null||r==null||n==null||a==null?null:x.createElement(Qse,Kw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var xR=x.createContext(null),eoe=()=>x.useContext(xR),vR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,h||u,p),y=r?r+d:d;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],g]:u._events[y].push(g):(u._events[y]=g,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)t.call(f,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,y=new Array(g);p<g;p++)y[p]=h[p].fn;return y},l.prototype.listenerCount=function(d){var f=r?r+d:d,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,f,h,p,g,y){var b=r?r+d:d;if(!this._events[b])return!1;var _=this._events[b],w=arguments.length,k,j;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),w){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,p),!0;case 5:return _.fn.call(_.context,f,h,p,g),!0;case 6:return _.fn.call(_.context,f,h,p,g,y),!0}for(j=1,k=new Array(w-1);j<w;j++)k[j-1]=arguments[j];_.fn.apply(_.context,k)}else{var N=_.length,P;for(j=0;j<N;j++)switch(_[j].once&&this.removeListener(d,_[j].fn,void 0,!0),w){case 1:_[j].fn.call(_[j].context);break;case 2:_[j].fn.call(_[j].context,f);break;case 3:_[j].fn.call(_[j].context,f,h);break;case 4:_[j].fn.call(_[j].context,f,h,p);break;default:if(!k)for(P=1,k=new Array(w-1);P<w;P++)k[P-1]=arguments[P];_[j].fn.apply(_[j].context,k)}}return!0},l.prototype.on=function(d,f,h){return i(this,d,f,h,!1)},l.prototype.once=function(d,f,h){return i(this,d,f,h,!0)},l.prototype.removeListener=function(d,f,h,p){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===f&&(!p||y.once)&&(!h||y.context===h)&&o(this,g);else{for(var b=0,_=[],w=y.length;b<w;b++)(y[b].fn!==f||p&&!y[b].once||h&&y[b].context!==h)&&_.push(y[b]);_.length?this._events[g]=_.length===1?_[0]:_:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(vR);var toe=vR.exports;const roe=Ya(toe);var ef=new roe,qw="recharts.syncEvent.tooltip",NE="recharts.syncEvent.brush";function dk(e,t){if(t){var r=Number.parseInt(t,10);if(!wn(r))return e==null?void 0:e[r]}}var noe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},bR=cn({name:"options",initialState:noe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aoe=bR.reducer,{createEventEmitter:ioe}=bR.actions;function soe(e){return e.tooltip.syncInteraction}var ooe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},wR=cn({name:"chartData",initialState:ooe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:SE,setDataStartEndIndexes:loe,setComputedData:Gge}=wR.actions,coe=wR.reducer,uoe=["x","y"];function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function doe(e,t,r){return(t=foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function foe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function moe(e,t){if(e==null)return{};var r,n,a=poe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function poe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function goe(){var e=ve($j),t=ve(Bj),r=yt(),n=ve(r3),a=ve(qi),i=Df(),o=Jc(),l=ve(u=>u.rootProps.className);x.useEffect(()=>{if(e==null)return Of;var u=(d,f,h)=>{if(t!==h&&e===d){if(n==="index"){var p;if(o&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:y,y:b}=g,_=moe(g,uoe),{x:w,y:k,width:j,height:N}=f.payload.sourceViewBox,P=jl(jl({},_),{},{x:o.x+(j?(y-w)/j:0)*o.width,y:o.y+(N?(b-k)/N:0)*o.height});r(jl(jl({},f),{},{payload:jl(jl({},f.payload),{},{coordinate:P})}))}else r(f);return}if(a!=null){var C;if(typeof n=="function"){var A={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},O=n(a,A);C=a[O]}else n==="value"&&(C=a.find(W=>String(W.value)===f.payload.label));var{coordinate:M}=f.payload;if(C==null||f.payload.active===!1||M==null||o==null){r(Ww({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:I}=M,R=Math.min($,o.x+o.width),B=Math.min(I,o.y+o.height),F={x:i==="horizontal"?C.coordinate:R,y:i==="horizontal"?B:C.coordinate},q=Ww({active:f.payload.active,coordinate:F,dataKey:f.payload.dataKey,index:String(C.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(q)}}};return ef.on(qw,u),()=>{ef.off(qw,u)}},[l,r,t,e,n,a,i,o])}function yoe(){var e=ve($j),t=ve(Bj),r=yt();x.useEffect(()=>{if(e==null)return Of;var n=(a,i,o)=>{t!==o&&e===a&&r(loe(i))};return ef.on(NE,n),()=>{ef.off(NE,n)}},[r,t,e])}function xoe(){var e=yt();x.useEffect(()=>{e(ioe())},[e]),goe(),yoe()}function voe(e,t,r,n,a,i){var o=ve(g=>Pse(g,e,t)),l=ve(Bj),u=ve($j),d=ve(r3),f=ve(soe),h=f==null?void 0:f.active,p=Jc();x.useEffect(()=>{if(!h&&u!=null&&l!=null){var g=Ww({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});ef.emit(qw,u,g,l)}},[h,r,o,a,n,l,u,d,i,p])}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function boe(e,t,r){return(t=woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function woe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function joe(e){return e.dataKey}function koe(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(Dee,t)}var OE=[],Noe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ca(e){var t,r,n=Ut(e,Noe),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:u,filterNull:d,isAnimationActive:f,offset:h,payloadUniqBy:p,position:g,reverseDirection:y,useTranslate3d:b,wrapperStyle:_,cursor:w,shared:k,trigger:j,defaultIndex:N,portal:P,axisId:C}=n,A=yt(),O=typeof N=="number"?String(N):N;x.useEffect(()=>{A(_ie({shared:k,trigger:j,axisId:C,active:a,defaultIndex:O}))},[A,k,j,C,a,O]);var M=Jc(),$=YD(),I=gie(k),{activeIndex:R,isActive:B}=(t=ve(ie=>Ose(ie,I,j,O)))!==null&&t!==void 0?t:{},F=ve(ie=>Ese(ie,I,j,O)),q=ve(ie=>gR(ie,I,j,O)),W=ve(ie=>Cse(ie,I,j,O)),V=F,z=eoe(),T=(r=a??B)!==null&&r!==void 0?r:!1,[U,Z]=QL([V,T]),G=I==="axis"?q:void 0;voe(I,j,W,G,R,T);var H=P??z;if(H==null||M==null||I==null)return null;var Q=V??OE;T||(Q=OE),d&&Q.length&&(Q=WL(Q.filter(ie=>ie.value!=null&&(ie.hide!==!0||n.includeHidden)),p,joe));var se=Q.length>0,oe=x.createElement(Hee,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:f,active:T,coordinate:W,hasPayload:se,offset:h,position:g,reverseDirection:y,useTranslate3d:b,viewBox:M,wrapperStyle:_,lastBoundingBox:U,innerRef:Z,hasPortalFromProps:!!P},koe(u,EE(EE({},n),{},{payload:Q,label:G,active:T,activeIndex:R,coordinate:W,accessibilityLayer:$})));return x.createElement(x.Fragment,null,Hc.createPortal(oe,H),T&&x.createElement(Jse,{cursor:w,tooltipEventType:I,coordinate:W,payload:Q,index:R}))}var oy=e=>null;oy.displayName="Cell";function Soe(e,t,r){return(t=Poe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Eoe{constructor(t){Soe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ooe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){Aoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aoe(e,t,r){return(t=Toe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=Moe(e,"string");return typeof t=="symbol"?t:t+""}function Moe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ioe={cacheSize:2e3,enableCache:!0},_R=Ooe({},Ioe),TE=new Eoe(_R.cacheSize),Loe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ME="recharts_measurement_span";function Doe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var IE=(e,t)=>{try{var r=document.getElementById(ME);r||(r=document.createElement("span"),r.setAttribute("id",ME),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Loe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},fd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zf.isSsr)return{width:0,height:0};if(!_R.enableCache)return IE(t,r);var n=Doe(t,r),a=TE.get(n);if(a)return a;var i=IE(t,r);return TE.set(n,i),i},LE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Roe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zoe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Foe=Object.keys(jR),Bl="NaN";function $oe(e,t){return e*jR[t]}class qr{static parse(t){var r,[,n,a]=(r=zoe.exec(t))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wn(t)&&(this.unit=""),r!==""&&!Roe.test(r)&&(this.num=NaN,this.unit=""),Foe.includes(r)&&(this.num=$oe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wn(this.num)}}function kR(e){if(e.includes(Bl))return Bl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=LE.exec(t))!==null&&r!==void 0?r:[],o=qr.parse(n??""),l=qr.parse(i??""),u=a==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return Bl;t=t.replace(LE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,h,p]=(d=DE.exec(t))!==null&&d!==void 0?d:[],g=qr.parse(f??""),y=qr.parse(p??""),b=h==="+"?g.add(y):g.subtract(y);if(b.isNaN())return Bl;t=t.replace(DE,b.toString())}return t}var RE=/\(([^()]*)\)/;function Boe(e){for(var t=e,r;(r=RE.exec(t))!=null;){var[,n]=r;t=t.replace(RE,kR(n))}return t}function Uoe(e){var t=e.replace(/\s+/g,"");return t=Boe(t),t=kR(t),t}function Hoe(e){try{return Uoe(e)}catch{return Bl}}function xv(e){var t=Hoe(e.slice(5,-1));return t===Bl?"":t}var Woe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Voe=["dx","dy","angle","className","breakAll"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(null,arguments)}function zE(e,t){if(e==null)return{};var r,n,a=Koe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NR=/[ \f\n\r\t\v\u2028\u2029]+/,SR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Xe(t)||(r?a=t.toString().split(""):a=t.toString().split(NR));var i=a.map(l=>({word:l,width:fd(l,n).width})),o=r?0:fd("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function qoe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var PR=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,u=a[a.length-1];if(u&&l!=null&&(t==null||n||u.width+l+r<Number(t)))u.words.push(o),u.width+=l+r;else{var d={words:[o],width:l};a.push(d)}return a},[]),CR=e=>e.reduce((t,r)=>t.width>r.width?t:r),Zoe="",FE=(e,t,r,n,a,i,o,l)=>{var u=e.slice(0,t),d=SR({breakAll:r,style:n,children:u+Zoe});if(!d)return[!1,[]];var f=PR(d.wordsWithComputedWidth,i,o,l),h=f.length>a||CR(f).width>Number(i);return[h,f]},Yoe=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:u}=e,d=je(i),f=String(o),h=PR(t,n,r,a);if(!d||a)return h;var p=h.length>i||CR(h).width>Number(n);if(!p)return h;for(var g=0,y=f.length-1,b=0,_;g<=y&&b<=f.length-1;){var w=Math.floor((g+y)/2),k=w-1,[j,N]=FE(f,k,u,l,i,n,r,a),[P]=FE(f,w,u,l,i,n,r,a);if(!j&&!P&&(g=w+1),j&&P&&(y=w-1),!j&&P){_=N;break}b++}return _||h},$E=e=>{var t=Xe(e)?[]:e.toString().split(NR);return[{words:t,width:void 0}]},Goe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!zf.isSsr){var l,u,d=SR({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:f,spaceWidth:h}=d;l=f,u=h}else return $E(n);return Yoe({breakAll:i,children:n,maxLines:o,style:a},l,u,t,!!r)}return $E(n)},ER="#808080",Xoe={angle:0,breakAll:!1,capHeight:"0.71em",fill:ER,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fk=x.forwardRef((e,t)=>{var r=Ut(e,Xoe),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:u,textAnchor:d,verticalAnchor:f}=r,h=zE(r,Woe),p=x.useMemo(()=>Goe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:g,dy:y,angle:b,className:_,breakAll:w}=h,k=zE(h,Voe);if(!Zn(n)||!Zn(a)||p.length===0)return null;var j=Number(n)+(je(g)?g:0),N=Number(a)+(je(y)?y:0);if(!ut(j)||!ut(N))return null;var P;switch(f){case"start":P=xv("calc(".concat(o,")"));break;case"middle":P=xv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:P=xv("calc(".concat(p.length-1," * -").concat(i,")"));break}var C=[];if(u){var A=p[0].width,{width:O}=h;C.push("scale(".concat(je(O)&&je(A)?O/A:1,")"))}return b&&C.push("rotate(".concat(b,", ").concat(j,", ").concat(N,")")),C.length&&(k.transform=C.join(" ")),x.createElement("text",Zw({},Cr(k),{ref:t,x:j,y:N,className:qe("recharts-text",_),textAnchor:d,fill:l.includes("url")?ER:l}),p.map((M,$)=>{var I=M.words.join(w?"":" ");return x.createElement("tspan",{x:j,dy:$===0?P:i,key:"".concat(I,"-").concat($)},I)}))});fk.displayName="Text";var Qoe=["labelRef"];function Joe(e,t){if(e==null)return{};var r,n,a=ele(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ele(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){tle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tle(e,t,r){return(t=rle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rle(e){var t=nle(e,"string");return typeof t=="symbol"?t:t+""}function nle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(null,arguments)}var OR=x.createContext(null),AR=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,u=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return x.createElement(OR.Provider,{value:u},l)},TR=()=>{var e=x.useContext(OR),t=Jc();return e||$D(t)},ale=x.createContext(null),ile=()=>{var e=x.useContext(ale),t=ve(o3);return e||t},sle=e=>{var{value:t,formatter:r}=e,n=Xe(e.children)?t:e.children;return typeof r=="function"?r(n):n},hk=e=>e!=null&&typeof e=="function",ole=(e,t)=>{var r=Jr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},lle=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:h,endAngle:p,clockWise:g}=a,y=(d+f)/2,b=ole(h,p),_=b>=0?1:-1,w,k;switch(t){case"insideStart":w=h+_*i,k=g;break;case"insideEnd":w=p-_*i,k=!g;break;case"end":w=p+_*i,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=b<=0?k:!k;var j=yr(l,u,y,w),N=yr(l,u,y,w+(k?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(k?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Xe(e.id)?Wd("recharts-radial-line-"):e.id;return x.createElement("text",gi({},n,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:C,d:P})),x.createElement("textPath",{xlinkHref:"#".concat(C)},r))},cle=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:u}=e,d=(l+u)/2;if(r==="outside"){var{x:f,y:h}=yr(n,a,o+t,d);return{x:f,y:h,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:g,y}=yr(n,a,p,d);return{x:g,y,textAnchor:"middle",verticalAnchor:"middle"}},Yw=e=>"cx"in e&&je(e.cx),ule=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!Yw(r)&&(i=r);var{x:o,y:l,upperWidth:u,lowerWidth:d,height:f}=t,h=o,p=o+(u-d)/2,g=(h+p)/2,y=(u+d)/2,b=h+u/2,_=f>=0?1:-1,w=_*n,k=_>0?"end":"start",j=_>0?"start":"end",N=u>=0?1:-1,P=N*n,C=N>0?"end":"start",A=N>0?"start":"end";if(a==="top"){var O={x:h+u/2,y:l-w,textAnchor:"middle",verticalAnchor:k};return Mt(Mt({},O),i?{height:Math.max(l-i.y,0),width:u}:{})}if(a==="bottom"){var M={x:p+d/2,y:l+f+w,textAnchor:"middle",verticalAnchor:j};return Mt(Mt({},M),i?{height:Math.max(i.y+i.height-(l+f),0),width:d}:{})}if(a==="left"){var $={x:g-P,y:l+f/2,textAnchor:C,verticalAnchor:"middle"};return Mt(Mt({},$),i?{width:Math.max($.x-i.x,0),height:f}:{})}if(a==="right"){var I={x:g+y+P,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return Mt(Mt({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:f}:{})}var R=i?{width:y,height:f}:{};return a==="insideLeft"?Mt({x:g+P,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},R):a==="insideRight"?Mt({x:g+y-P,y:l+f/2,textAnchor:C,verticalAnchor:"middle"},R):a==="insideTop"?Mt({x:h+u/2,y:l+w,textAnchor:"middle",verticalAnchor:j},R):a==="insideBottom"?Mt({x:p+d/2,y:l+f-w,textAnchor:"middle",verticalAnchor:k},R):a==="insideTopLeft"?Mt({x:h+P,y:l+w,textAnchor:A,verticalAnchor:j},R):a==="insideTopRight"?Mt({x:h+u-P,y:l+w,textAnchor:C,verticalAnchor:j},R):a==="insideBottomLeft"?Mt({x:p+P,y:l+f-w,textAnchor:A,verticalAnchor:k},R):a==="insideBottomRight"?Mt({x:p+d-P,y:l+f-w,textAnchor:C,verticalAnchor:k},R):a&&typeof a=="object"&&(je(a.x)||Ii(a.x))&&(je(a.y)||Ii(a.y))?Mt({x:o+wa(a.x,y),y:l+wa(a.y,f),textAnchor:"end",verticalAnchor:"end"},R):Mt({x:b,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},dle={angle:0,offset:5,zIndex:Lt.label,position:"middle",textBreakAll:!1};function os(e){var t=Ut(e,dle),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:u,labelRef:d}=t,f=ile(),h=TR(),p=n==="center"?h:f??h,g,y,b;if(r==null?g=p:Yw(r)?g=r:g=$D(r),!g||Xe(a)&&Xe(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var _=Mt(Mt({},t),{},{viewBox:g});if(x.isValidElement(o)){var{labelRef:w}=_,k=Joe(_,Qoe);return x.cloneElement(o,k)}if(typeof o=="function"){if(y=x.createElement(o,_),x.isValidElement(y))return y}else y=sle(t);var j=Cr(t);if(Yw(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return lle(t,n,y,j,g);b=cle(g,t.offset,t.position)}else b=ule(t,g);return x.createElement($r,{zIndex:t.zIndex},x.createElement(fk,gi({ref:d,className:qe("recharts-label",l)},j,b,{textAnchor:qoe(j.textAnchor)?j.textAnchor:b.textAnchor,breakAll:u}),y))}os.displayName="Label";var fle=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(os,gi({key:"label-implicit"},n)):Zn(e)?x.createElement(os,gi({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===os?x.cloneElement(e,Mt({key:"label-implicit"},n)):x.createElement(os,gi({key:"label-implicit",content:e},n)):hk(e)?x.createElement(os,gi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(os,gi({},e,{key:"label-implicit"},n)):null};function MR(e){var{label:t,labelRef:r}=e,n=TR();return fle(t,n,r)||null}var IR={},LR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(LR);var DR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(DR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR,r=DR,n=P0;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(IR);var hle=IR.last;const mle=Ya(hle);var ple=["valueAccessor"],gle=["dataKey","clockWise","id","textBreakAll","zIndex"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(null,arguments)}function UE(e,t){if(e==null)return{};var r,n,a=yle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xle=e=>Array.isArray(e.value)?mle(e.value):e.value,RR=x.createContext(void 0),mk=RR.Provider,zR=x.createContext(void 0);zR.Provider;function vle(){return x.useContext(RR)}function ble(){return x.useContext(zR)}function Gm(e){var{valueAccessor:t=xle}=e,r=UE(e,ple),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,u=UE(r,gle),d=vle(),f=ble(),h=d||f;return!h||!h.length?null:x.createElement($r,{zIndex:l??Lt.label},x.createElement(cr,{className:"recharts-label-list"},h.map((p,g)=>{var y,b=Xe(n)?t(p,g):kt(p&&p.payload,n),_=Xe(i)?{}:{id:"".concat(i,"-").concat(g)};return x.createElement(os,vg({key:"label-".concat(g)},Cr(p),u,_,{fill:(y=r.fill)!==null&&y!==void 0?y:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,index:g,zIndex:0}))})))}Gm.displayName="LabelList";function pk(e){var{label:t}=e;return t?t===!0?x.createElement(Gm,{key:"labelList-implicit"}):x.isValidElement(t)||hk(t)?x.createElement(Gm,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Gm,vg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(null,arguments)}var FR=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=qe("recharts-dot",a);return je(t)&&je(r)&&je(n)?x.createElement("circle",Gw({},bn(e),H1(e),{className:i,cx:t,cy:r,r:n})):null},wle={radiusAxis:{},angleAxis:{}},$R=cn({name:"polarAxis",initialState:wle,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Xge,removeRadiusAxis:Qge,addAngleAxis:Jge,removeAngleAxis:e0e}=$R.actions,_le=$R.reducer,BR={exports:{}},et={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=Symbol.for("react.transitional.element"),yk=Symbol.for("react.portal"),ly=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),uy=Symbol.for("react.profiler"),dy=Symbol.for("react.consumer"),fy=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),gy=Symbol.for("react.memo"),yy=Symbol.for("react.lazy"),jle=Symbol.for("react.view_transition"),kle=Symbol.for("react.client.reference");function Qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gk:switch(e=e.type,e){case ly:case uy:case cy:case my:case py:case jle:return e;default:switch(e=e&&e.$$typeof,e){case fy:case hy:case yy:case gy:return e;case dy:return e;default:return t}}case yk:return t}}}et.ContextConsumer=dy;et.ContextProvider=fy;et.Element=gk;et.ForwardRef=hy;et.Fragment=ly;et.Lazy=yy;et.Memo=gy;et.Portal=yk;et.Profiler=uy;et.StrictMode=cy;et.Suspense=my;et.SuspenseList=py;et.isContextConsumer=function(e){return Qn(e)===dy};et.isContextProvider=function(e){return Qn(e)===fy};et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gk};et.isForwardRef=function(e){return Qn(e)===hy};et.isFragment=function(e){return Qn(e)===ly};et.isLazy=function(e){return Qn(e)===yy};et.isMemo=function(e){return Qn(e)===gy};et.isPortal=function(e){return Qn(e)===yk};et.isProfiler=function(e){return Qn(e)===uy};et.isStrictMode=function(e){return Qn(e)===cy};et.isSuspense=function(e){return Qn(e)===my};et.isSuspenseList=function(e){return Qn(e)===py};et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ly||e===uy||e===cy||e===my||e===py||typeof e=="object"&&e!==null&&(e.$$typeof===yy||e.$$typeof===gy||e.$$typeof===fy||e.$$typeof===dy||e.$$typeof===hy||e.$$typeof===kle||e.getModuleId!==void 0)};et.typeOf=Qn;BR.exports=et;var Nle=BR.exports,HE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",WE=null,vv=null,UR=e=>{if(e===WE&&Array.isArray(vv))return vv;var t=[];return x.Children.forEach(e,r=>{Xe(r)||(Nle.isFragment(r)?t=t.concat(UR(r.props.children)):t.push(r))}),vv=t,WE=e,t};function HR(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>HE(a)):n=[HE(t)],UR(e).forEach(a=>{var i=Ac(a,"type.displayName")||Ac(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var WR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,VR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(VR);var Sle=VR.isPlainObject;const Ple=Ya(Sle);function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){Cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cle(e,t,r){return(t=Ele(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ele(e){var t=Ole(e,"string");return typeof t=="symbol"?t:t+""}function Ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}var qE=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Ale={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tle=e=>{var t=Ut(e,Ale),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:u,animationDuration:d,animationBegin:f,isUpdateAnimationActive:h}=t,p=x.useRef(null),[g,y]=x.useState(-1),b=x.useRef(a),_=x.useRef(i),w=x.useRef(o),k=x.useRef(r),j=x.useRef(n),N=$f(e,"trapezoid-");if(x.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var F=p.current.getTotalLength();F&&y(F)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var P=qe("recharts-trapezoid",l);if(!h)return x.createElement("g",null,x.createElement("path",bg({},Cr(t),{className:P,d:qE(r,n,a,i,o)})));var C=b.current,A=_.current,O=w.current,M=k.current,$=j.current,I="0px ".concat(g===-1?1:g,"px"),R="".concat(g,"px 0px"),B=GD(["strokeDasharray"],d,u);return x.createElement(Ff,{animationId:N,key:N,canBegin:g>0,duration:d,easing:u,isActive:h,begin:f},F=>{var q=nt(C,a,F),W=nt(A,i,F),V=nt(O,o,F),z=nt(M,r,F),T=nt($,n,F);p.current&&(b.current=q,_.current=W,w.current=V,k.current=z,j.current=T);var U=F>0?{transition:B,strokeDasharray:R}:{strokeDasharray:I};return x.createElement("path",bg({},Cr(t),{className:P,d:qE(z,T,q,W,V),ref:p,style:KE(KE({},U),t.style)}))})},Mle=["option","shapeType","propTransformer","activeClassName"];function Ile(e,t){if(e==null)return{};var r,n,a=Lle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){Dle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dle(e,t,r){return(t=Rle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rle(e){var t=zle(e,"string");return typeof t=="symbol"?t:t+""}function zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fle(e,t){return wg(wg({},t),e)}function $le(e,t){return e==="symbols"}function YE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(e5,r);case"trapezoid":return x.createElement(Tle,r);case"sector":return x.createElement(n5,r);case"symbols":if($le(t))return x.createElement(S0,r);break;case"curve":return x.createElement(gj,r);default:return null}}function Ble(e){return x.isValidElement(e)?e.props:e}function _g(e){var{option:t,shapeType:r,propTransformer:n=Fle,activeClassName:a="recharts-active-shape"}=e,i=Ile(e,Mle),o;if(x.isValidElement(t))o=x.cloneElement(t,wg(wg({},i),Ble(t)));else if(typeof t=="function")o=t(i,i.index);else if(Ple(t)&&typeof t!="boolean"){var l=n(t,i);o=x.createElement(YE,{shapeType:r,elementProps:l})}else{var u=i;o=x.createElement(YE,{shapeType:r,elementProps:u})}return i.isActive?x.createElement(cr,{className:a},o):o}var xk=(e,t,r)=>{var n=yt();return(a,i)=>o=>{e==null||e(a,i,o),n(X3({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},vk=e=>{var t=yt();return(r,n)=>a=>{e==null||e(r,n,a),t(jie())}},bk=(e,t,r)=>{var n=yt();return(a,i)=>o=>{e==null||e(a,i,o),n(kie({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function wk(e){var{tooltipEntrySettings:t}=e,r=yt(),n=qt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(vie(t)):a.current!==t&&r(bie({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(wie(a.current)),a.current=null)},[r]),null}function _k(e){var{legendPayload:t}=e,r=yt(),n=qt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(pee(t)):a.current!==t&&r(gee({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(yee(a.current)),a.current=null)},[r]),null}var bv,Ule=()=>{var[e]=x.useState(()=>Wd("uid-"));return e},Hle=(bv=HF.useId)!==null&&bv!==void 0?bv:Ule;function KR(e,t){var r=Hle();return t||(e?"".concat(e,"-").concat(r):r)}var Wle=x.createContext(void 0),jk=e=>{var{id:t,type:r,children:n}=e,a=KR("recharts-".concat(r),t);return x.createElement(Wle.Provider,{value:a},n(a))},Vle={cartesianItems:[],polarItems:[]},qR=cn({name:"graphicalItems",initialState:Vle,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ft()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=xa(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:ft()},removeCartesianGraphicalItem:{reducer(e,t){var r=xa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ft()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ft()},removePolarGraphicalItem:{reducer(e,t){var r=xa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ft()}}}),{addCartesianGraphicalItem:Kle,replaceCartesianGraphicalItem:qle,removeCartesianGraphicalItem:Zle,addPolarGraphicalItem:t0e,removePolarGraphicalItem:r0e}=qR.actions,Yle=qR.reducer,Gle=e=>{var t=yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Kle(e)):r.current!==e&&t(qle({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(Zle(r.current)),r.current=null)},[t]),null},kk=x.memo(Gle),Xle=["points"];function GE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(r),!0).forEach(function(n){Qle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qle(e,t,r){return(t=Jle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jle(e){var t=ece(e,"string");return typeof t=="symbol"?t:t+""}function ece(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}function tce(e,t){if(e==null)return{};var r,n,a=rce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nce(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=qe(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,l=tce(i,Xle);return x.createElement(FR,jg({},l,{className:a}))}function ace(e,t){return e==null?!1:t?!0:e.length===1}function ice(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:o,needClip:l,clipPathId:u,zIndex:d=Lt.scatter}=e;if(!ace(t,r))return null;var f=WR(r),h=TG(r),p=t.map((y,b)=>{var _,w,k=wv(wv(wv({r:3},o),h),{},{index:b,cx:(_=y.x)!==null&&_!==void 0?_:void 0,cy:(w=y.y)!==null&&w!==void 0?w:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return x.createElement(nce,{key:"dot-".concat(b),option:r,dotProps:k,className:a})}),g={};return l&&u!=null&&(g.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),x.createElement($r,{zIndex:d},x.createElement(cr,jg({className:n},g),p))}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){sce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sce(e,t,r){return(t=oce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oce(e){var t=lce(e,"string");return typeof t=="symbol"?t:t+""}function lce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cce={xAxis:{},yAxis:{},zAxis:{}},ZR=cn({name:"cartesianAxis",initialState:cce,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ft()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ft()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ft()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ft()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ft()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ft()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ft()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ft()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ft()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=QE(QE({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:uce,replaceXAxis:dce,removeXAxis:fce,addYAxis:hce,replaceYAxis:mce,removeYAxis:pce,addZAxis:n0e,replaceZAxis:a0e,removeZAxis:i0e,updateYAxisWidth:gce}=ZR.actions,yce=ZR.reducer,xce=re([ur],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),vce=re([xce,Wi,Vi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Nk=()=>ve(vce),bce=()=>ve(hse);function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _v(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){wce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wce(e,t,r){return(t=_ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ce(e){var t=jce(e,"string");return typeof t=="symbol"?t:t+""}function jce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kce=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=_v(_v(_v({},l),Xc(a)),H1(a)),d;return x.isValidElement(a)?d=x.cloneElement(a,u):typeof a=="function"?d=a(u):d=x.createElement(FR,u),x.createElement(cr,{className:"recharts-active-dot",clipPath:o},d)};function Nce(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:o=Lt.activeDot}=e,l=ve(Fs),u=bce();if(t==null||u==null)return null;var d=t.find(f=>u.includes(f.payload));return Xe(d)?null:x.createElement($r,{zIndex:o},x.createElement(kce,{point:d,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var Sce="Invariant failed";function Pce(e,t){throw new Error(Sce)}var Cce=["x","y"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(null,arguments)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Ece(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ece(e,t,r){return(t=Oce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oce(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tce(e,t){if(e==null)return{};var r,n,a=Mce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ice(e,t){var{x:r,y:n}=e,a=Tce(e,Cce),i="".concat(r),o=parseInt(i,10),l="".concat(n),u=parseInt(l,10),d="".concat(t.height||a.height),f=parseInt(d,10),h="".concat(t.width||a.width),p=parseInt(h,10);return Ku(Ku(Ku(Ku(Ku({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function kg(e){return x.createElement(_g,Xw({shapeType:"rectangle",propTransformer:Ice,activeClassName:"recharts-active-bar"},e))}var Lce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(je(t))return t;var i=je(n)||Xe(n);return i?t(n,a):(i||Pce(),r)}},Dce={},YR=cn({name:"errorBars",initialState:Dce,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:s0e,replaceErrorBar:o0e,removeErrorBar:l0e}=YR.actions,Rce=YR.reducer,zce=["children"];function Fce(e,t){if(e==null)return{};var r,n,a=$ce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $ce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Uce=x.createContext(Bce);function Sk(e){var{children:t}=e,r=Fce(e,zce);return x.createElement(Uce.Provider,{value:r},t)}function xy(e,t){var r,n,a=ve(d=>Qa(d,e)),i=ve(d=>Ja(d,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:er.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function Pk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Nk(),{needClipX:i,needClipY:o,needClip:l}=xy(t,r);if(!l||!a)return null;var{x:u,y:d,width:f,height:h}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?u:u-f/2,y:o?d:d-h/2,width:i?f:f*2,height:o?h:h*2}))}function Hce(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ut(e.zIndex)?e.zIndex:t}var Wce={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=x;function Vce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kce=typeof Object.is=="function"?Object.is:Vce,qce=th.useSyncExternalStore,Zce=th.useRef,Yce=th.useEffect,Gce=th.useMemo,Xce=th.useDebugValue;Wce.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Zce(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Gce(function(){function u(g){if(!d){if(d=!0,f=g,g=n(g),a!==void 0&&o.hasValue){var y=o.value;if(a(y,g))return h=y}return h=g}if(y=h,Kce(f,g))return y;var b=n(g);return a!==void 0&&a(y,b)?(f=g,y):(f=g,h=b)}var d=!1,f,h,p=r===void 0?null:r;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,r,n,a]);var l=qce(e,i[0],i[1]);return Yce(function(){o.hasValue=!0,o.value=l},[l]),Xce(l),l};function Qce(e){e()}function Jce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Qce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var tO={notify(){},get:()=>[]};function eue(e,t){let r,n=tO,a=0,i=!1;function o(b){f();const _=n.subscribe(b);let w=!1;return()=>{w||(w=!0,_(),h())}}function l(){n.notify()}function u(){y.onStateChange&&y.onStateChange()}function d(){return i}function f(){a++,r||(r=e.subscribe(u),n=Jce())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=tO)}function p(){i||(i=!0,f())}function g(){i&&(i=!1,h())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return y}var tue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rue=tue(),nue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aue=nue(),iue=()=>rue||aue?x.useLayoutEffect:x.useEffect,sue=iue();function rO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oue(e,t){if(rO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!rO(e[r[a]],t[r[a]]))return!1;return!0}var jv=Symbol.for("react-redux-context"),kv=typeof globalThis<"u"?globalThis:{};function lue(){if(!x.createContext)return{};const e=kv[jv]??(kv[jv]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var cue=lue();function uue(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const u=eue(a);return{store:a,subscription:u,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);sue(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==a.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]);const l=r||cue;return x.createElement(l.Provider,{value:i},t)}var due=uue,fue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function hue(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function rh(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(fue.has(n)){if(e[n]==null&&t[n]==null)continue;if(!oue(e[n],t[n]))return!1}else if(!hue(e[n],t[n]))return!1;return!0}var mue=["onMouseEnter","onMouseLeave","onClick"],pue=["value","background","tooltipPosition"],gue=["id"],yue=["onMouseEnter","onClick","onMouseLeave"];function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(null,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return(t=vue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vue(e){var t=bue(e,"string");return typeof t=="symbol"?t:t+""}function bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ng(e,t){if(e==null)return{};var r,n,a=wue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _ue=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Qc(r,t),payload:e}]},jue=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Qc(i,t),hide:o,type:u,color:a,unit:l}};return x.createElement(wk,{tooltipEntrySettings:d})});function kue(e){var t=ve(Fs),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:u}=i,d=Ng(i,mue),f=xk(o,n),h=vk(l),p=bk(u,n);if(!a||r==null)return null;var g=Xc(a);return x.createElement($r,{zIndex:Hce(a,Lt.barBackground)},r.map((y,b)=>{var{value:_,background:w,tooltipPosition:k}=y,j=Ng(y,pue);if(!w)return null;var N=f(y,b),P=h(y,b),C=p(y,b),A=Mr(Mr(Mr(Mr(Mr({option:a,isActive:String(b)===t},j),{},{fill:"#eee"},w),g),Af(d,y,b)),{},{onMouseEnter:N,onMouseLeave:P,onClick:C,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(kg,$i({key:"background-bar-".concat(b)},A))}))}function Nue(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mr(Mr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(mk,{value:t?a:void 0},r)}function Sue(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=ve(Fs),u=ve(dR),d=r&&String(i)===l&&(u==null||o===u),f=d?r:t;return d?x.createElement($r,{zIndex:Lt.activeBar},x.createElement(kg,$i({},n,{name:String(n.name)},a,{isActive:d,option:f,index:i,dataKey:o}))):x.createElement(kg,$i({},n,{name:String(n.name)},a,{isActive:d,option:f,index:i,dataKey:o}))}function Pue(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(kg,$i({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Cue(e){var t,{data:r,props:n}=e,a=(t=bn(n))!==null&&t!==void 0?t:{},{id:i}=a,o=Ng(a,gue),{shape:l,dataKey:u,activeBar:d}=n,{onMouseEnter:f,onClick:h,onMouseLeave:p}=n,g=Ng(n,yue),y=xk(f,u),b=vk(p),_=bk(h,u);return r?x.createElement(x.Fragment,null,r.map((w,k)=>x.createElement(cr,$i({key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(k),className:"recharts-bar-rectangle"},Af(g,w,k),{onMouseEnter:y(w,k),onMouseLeave:b(w,k),onClick:_(w,k)}),d?x.createElement(Sue,{shape:l,activeBar:d,baseProps:o,entry:w,index:k,dataKey:u}):x.createElement(Pue,{shape:l,baseProps:o,entry:w,index:k,dataKey:u})))):null}function Eue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=t,h=r.current,p=$f(t,"recharts-bar-"),[g,y]=x.useState(!1),b=!g,_=x.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),w=x.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return x.createElement(Nue,{showLabels:b,rects:n},x.createElement(Ff,{animationId:p,begin:o,duration:l,isActive:i,easing:u,onAnimationEnd:_,onAnimationStart:w,key:p},k=>{var j=k===1?n:n==null?void 0:n.map((N,P)=>{var C=h&&h[P];if(C)return Mr(Mr({},N),{},{x:nt(C.x,N.x,k),y:nt(C.y,N.y,k),width:nt(C.width,N.width,k),height:nt(C.height,N.height,k)});if(a==="horizontal"){var A=nt(0,N.height,k),O=nt(N.stackedBarStart,N.y,k);return Mr(Mr({},N),{},{y:O,height:A})}var M=nt(0,N.width,k),$=nt(N.stackedBarStart,N.x,k);return Mr(Mr({},N),{},{width:M,x:$})});return k>0&&(r.current=j??null),j==null?null:x.createElement(cr,null,x.createElement(Cue,{props:t,data:j}))}),x.createElement(pk,{label:t.label}),t.children)}function Oue(e){var t=x.useRef(null);return x.createElement(Eue,{previousRectanglesRef:t,props:e})}var GR=0,Aue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:kt(e,t)}};class Tue extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:u,id:d}=this.props;if(t||r==null)return null;var f=qe("recharts-bar",a),h=d;return x.createElement(cr,{className:f,id:d},l&&x.createElement("defs",null,x.createElement(Pk,{clipPathId:h,xAxisId:i,yAxisId:o})),x.createElement(cr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},x.createElement(kue,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),x.createElement(Oue,this.props)))}}var Mue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:GR,xAxisId:0,yAxisId:0,zIndex:Lt.bar};function Iue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f}=e,{needClip:h}=xy(t,r),p=Df(),g=qt(),y=HR(e.children,oy),b=ve(k=>lde(k,t,r,g,e.id,y));if(p!=="vertical"&&p!=="horizontal")return null;var _,w=b==null?void 0:b[0];return w==null||w.height==null||w.width==null?_=0:_=p==="vertical"?w.height/2:w.width/2,x.createElement(Sk,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:Aue,errorBarOffset:_},x.createElement(Tue,$i({},e,{layout:p,needClip:h,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:u,animationEasing:d,isAnimationActive:f})))}function Lue(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:h,offset:p,cells:g,parentViewBox:y,dataStartIndex:b}=e,_=t==="horizontal"?l:o,w=f?_.scale.domain():null,k=jJ({numericAxis:_}),j=_.scale(k);return h.map((N,P)=>{var C,A,O,M,$,I;f?C=yJ(f[P+b],w):(C=kt(N,r),Array.isArray(C)||(C=[k,C]));var R=Lce(n,GR)(C[1],P);if(t==="horizontal"){var B,[F,q]=[l.scale(C[0]),l.scale(C[1])];A=QP({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:N,index:P}),O=(B=q??F)!==null&&B!==void 0?B:void 0,M=a.size;var W=F-q;if($=wn(W)?0:W,I={x:A,y:p.top,width:M,height:p.height},Math.abs(R)>0&&Math.abs($)<Math.abs(R)){var V=Jr($||R)*(Math.abs(R)-Math.abs($));O-=V,$+=V}}else{var[z,T]=[o.scale(C[0]),o.scale(C[1])];if(A=z,O=QP({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:N,index:P}),M=T-z,$=a.size,I={x:p.left,y:O,width:p.width,height:$},Math.abs(R)>0&&Math.abs(M)<Math.abs(R)){var U=Jr(M||R)*(Math.abs(R)-Math.abs(M));M+=U}}if(A==null||O==null||M==null||$==null)return null;var Z=Mr(Mr({},N),{},{stackedBarStart:j,x:A,y:O,width:M,height:$,value:f?C:C[1],payload:N,background:I,tooltipPosition:{x:A+M/2,y:O+$/2},parentViewBox:y},g&&g[P]&&g[P].props);return Z}).filter(Boolean)}function Due(e){var t=Ut(e,Mue),r=qt();return x.createElement(jk,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(_k,{legendPayload:_ue(t)}),x.createElement(jue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(kk,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:_J(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement($r,{zIndex:t.zIndex},x.createElement(Iue,$i({},t,{id:n})))))}var _s=x.memo(Due,rh);_s.displayName="Bar";function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){Rue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rue(e,t,r){return(t=zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zue(e){var t=Fue(e,"string");return typeof t=="symbol"?t:t+""}function Fue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ue=(e,t)=>t,Bue=(e,t,r)=>r,Uue=(e,t,r,n)=>n,Hue=(e,t,r,n,a)=>a,nh=re([Kf,Hue],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Wue=re([nh],e=>e==null?void 0:e.maxBarSize),Vue=(e,t,r,n,a,i)=>i,iO=(e,t,r)=>{var n=r??e;if(!Xe(n))return wa(n,t,0)},Kue=re([Ze,Kf,$ue,Bue,Uue],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),que=(e,t,r,n)=>{var a=Ze(e);return a==="horizontal"?Hw(e,"yAxis",r,n):Hw(e,"xAxis",t,n)},Zue=(e,t,r)=>{var n=Ze(e);return n==="horizontal"?mE(e,"xAxis",t):mE(e,"yAxis",r)},Yue=(e,t,r)=>{var n={},a=e.filter(ty),i=e.filter(d=>d.stackId==null),o=a.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),n),l=Object.entries(o).map(d=>{var[f,h]=d,p=h.map(y=>y.dataKey),g=iO(t,r,h[0].barSize);return{stackId:f,dataKeys:p,barSize:g}}),u=i.map(d=>{var f=[d.dataKey].filter(p=>p!=null),h=iO(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...l,...u]},Gue=re([Kue,fae,Zue],Yue),Xue=(e,t,r,n,a)=>{var i,o,l=nh(e,t,r,n,a);if(l!=null){var u=Ze(e),d=J5(e),{maxBarSize:f}=l,h=Xe(f)?d:f,p,g;return u==="horizontal"?(p=Za(e,"xAxis",t,n),g=qa(e,"xAxis",t,n)):(p=Za(e,"yAxis",r,n),g=qa(e,"yAxis",r,n)),(i=(o=Ic(p,g,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},XR=(e,t,r,n)=>{var a=Ze(e),i,o;return a==="horizontal"?(i=Za(e,"xAxis",t,n),o=qa(e,"xAxis",t,n)):(i=Za(e,"yAxis",r,n),o=qa(e,"yAxis",r,n)),Ic(i,o)};function Que(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=wa(e,r,0,!0),l,u=[];if(ut(n[0].barSize)){var d=!1,f=r/i,h=n.reduce((w,k)=>w+(k.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&f>0&&(d=!0,f*=.9,h=i*f);var p=(r-h)/2>>0,g={offset:p-o,size:0};l=n.reduce((w,k)=>{var j,N={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:g.offset+g.size+o,size:d?f:(j=k.barSize)!==null&&j!==void 0?j:0}},P=[...w,N];return g=P[P.length-1].position,P},u)}else{var y=wa(t,r,0,!0);r-2*y-(i-1)*o<=0&&(o=0);var b=(r-2*y-(i-1)*o)/i;b>1&&(b>>=0);var _=ut(a)?Math.min(b,a):b;l=n.reduce((w,k,j)=>[...w,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:y+(b+o)*j+(b-_)/2,size:_}}],u)}return l}}var Jue=(e,t,r,n,a,i,o)=>{var l=Xe(o)?t:o,u=Que(r,n,a!==i?a:i,e,l);return a!==i&&u!=null&&(u=u.map(d=>vm(vm({},d),{},{position:vm(vm({},d.position),{},{offset:d.position.offset-a/2})}))),u},ede=re([Gue,J5,dae,e3,Xue,XR,Wue],Jue),tde=(e,t,r,n)=>Za(e,"xAxis",t,n),rde=(e,t,r,n)=>Za(e,"yAxis",r,n),nde=(e,t,r,n)=>qa(e,"xAxis",t,n),ade=(e,t,r,n)=>qa(e,"yAxis",r,n),ide=re([ede,nh],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),sde=(e,t)=>{var r=Vj(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},ode=re([que,nh],sde),lde=re([ur,uj,tde,rde,nde,ade,ide,Ze,Wf,XR,ode,nh,Vue],(e,t,r,n,a,i,o,l,u,d,f,h,p)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:b}=u;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||d==null)){var{data:_}=h,w;if(_!=null&&_.length>0?w=_:w=g==null?void 0:g.slice(y,b+1),w!=null)return Lue({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:f,displayedData:w,offset:e,cells:p,dataStartIndex:y})}}),cde=e=>{var{chartData:t}=e,r=yt(),n=qt();return x.useEffect(()=>n?()=>{}:(r(SE(t)),()=>{r(SE(void 0))}),[t,r,n]),null},sO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},QR=cn({name:"brush",initialState:sO,reducers:{setBrushSettings(e,t){return t.payload==null?sO:t.payload}}}),{setBrushSettings:c0e}=QR.actions,ude=QR.reducer;function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){JR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JR(e,t,r){return(t=dde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hde=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},mde=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return hde({x:t,y:r},{x:n,y:a})};class vy{static create(t){return new vy(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}JR(vy,"EPS",1e-4);var pde=e=>{var t=Object.keys(e).reduce((r,n)=>bm(bm({},r),{},{[n]:vy.create(e[n])}),{});return bm(bm({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(i=>{var[o,l]=i;return[o,t[o].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function gde(e){return(e%180+180)%180}var yde=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=gde(a),o=i*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},xde={dots:[],areas:[],lines:[]},ez=cn({name:"referenceElements",initialState:xde,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=xa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=xa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=xa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:u0e,removeDot:d0e,addArea:f0e,removeArea:h0e,addLine:vde,removeLine:bde}=ez.actions,wde=ez.reducer,tz=x.createContext(void 0),_de=e=>{var{children:t}=e,[r]=x.useState("".concat(Wd("recharts"),"-clip")),n=Nk();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return x.createElement(tz.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:l,width:o}))),t)},jde=()=>x.useContext(tz);function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){kde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kde(e,t,r){return(t=Nde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nde(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sg.apply(null,arguments)}var Pde=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!ut(t.x1)||!ut(t.y1)||!ut(t.x2)||!ut(t.y2))return null;r=x.createElement("line",Sg({},t,{className:"recharts-reference-line-line"}))}return r},Cde=(e,t,r,n,a,i)=>{var{x:o,width:l}=i,u=a.y.apply(e,{position:r});if(wn(u)||t==="discard"&&!a.y.isInRange(u))return null;var d=[{x:o+l,y:u},{x:o,y:u}];return n==="left"?d.reverse():d},Ede=(e,t,r,n,a,i)=>{var{y:o,height:l}=i,u=a.x.apply(e,{position:r});if(wn(u)||t==="discard"&&!a.x.isInRange(u))return null;var d=[{x:u,y:o+l},{x:u,y:o}];return n==="top"?d.reverse():d},Ode=(e,t,r,n)=>{var a=e.map(i=>n.apply(i,{position:r}));return t==="discard"&&a.some(i=>!n.isInRange(i))?null:a},Ade=(e,t,r,n,a,i)=>{var{x:o,y:l,segment:u,ifOverflow:d}=i,f=Zn(o),h=Zn(l);return h?Cde(l,d,r,a,e,t):f?Ede(o,d,r,n,e,t):u!=null&&u.length===2?Ode(u,d,r,e):null};function Tde(e){var t=yt();return x.useEffect(()=>(t(vde(e)),()=>{t(bde(e))})),null}function Mde(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:i}=e,o=qt(),l=jde(),u=ve(C=>Qa(C,t)),d=ve(C=>Ja(C,r)),f=ve(C=>zs(C,"xAxis",t,o)),h=ve(C=>zs(C,"yAxis",r,o)),p=Jc();if(!l||!p||u==null||d==null||f==null||h==null)return null;var g=pde({x:f,y:h}),y=Ade(g,p,e.position,u.orientation,d.orientation,e);if(!y)return null;var[{x:b,y:_},{x:w,y:k}]=y,j=i==="hidden"?"url(#".concat(l,")"):void 0,N=cO(cO({clipPath:j},Cr(e)),{},{x1:b,y1:_,x2:w,y2:k}),P=mde({x1:b,y1:_,x2:w,y2:k});return x.createElement($r,{zIndex:e.zIndex},x.createElement(cr,{className:qe("recharts-reference-line",a)},Pde(n,N),x.createElement(AR,Sg({},P,{lowerWidth:P.width,upperWidth:P.width}),x.createElement(MR,{label:e.label}),e.children)))}var Ide={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Lt.line};function Pg(e){var t=Ut(e,Ide);return x.createElement(x.Fragment,null,x.createElement(Tde,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(Mde,t))}Pg.displayName="ReferenceLine";function rz(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Lde(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return yde(n,r)}function Dde(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Cg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Rde(e,t){return rz(e,t+1)}function zde(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,u=0,d=1,f=o,h=function(){var y=n==null?void 0:n[u];if(y===void 0)return{v:rz(n,d)};var b=u,_,w=()=>(_===void 0&&(_=r(y,b)),_),k=y.coordinate,j=u===0||Cg(e,k,w,f,l);j||(u=0,f=o,d+=1),j&&(f=k+e*(w()/2+a),u+=d)},p;d<=i.length;)if(p=h(),p)return p.v;return[]}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){Fde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fde(e,t,r){return(t=$de(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $de(e){var t=Bde(e,"string");return typeof t=="symbol"?t:t+""}function Bde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ude(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:u}=t,d=function(p){var g=i[p],y,b=()=>(y===void 0&&(y=r(g,p)),y);if(p===o-1){var _=e*(g.coordinate+e*b()/2-u);i[p]=g=_r(_r({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else i[p]=g=_r(_r({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var w=Cg(e,g.tickCoord,b,l,u);w&&(u=g.tickCoord-e*(b()/2+a),i[p]=_r(_r({},g),{},{isShow:!0}))}},f=o-1;f>=0;f--)d(f);return i}function Hde(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:u,end:d}=t;if(i){var f=n[l-1],h=r(f,l-1),p=e*(f.coordinate+e*h/2-d);if(o[l-1]=f=_r(_r({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate}),f.tickCoord!=null){var g=Cg(e,f.tickCoord,()=>h,u,d);g&&(d=f.tickCoord-e*(h/2+a),o[l-1]=_r(_r({},f),{},{isShow:!0}))}}for(var y=i?l-1:l,b=function(k){var j=o[k],N,P=()=>(N===void 0&&(N=r(j,k)),N);if(k===0){var C=e*(j.coordinate-e*P()/2-u);o[k]=j=_r(_r({},j),{},{tickCoord:C<0?j.coordinate-C*e:j.coordinate})}else o[k]=j=_r(_r({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var A=Cg(e,j.tickCoord,P,u,d);A&&(u=j.tickCoord+e*(P()/2+a),o[k]=_r(_r({},j),{},{isShow:!0}))}},_=0;_<y;_++)b(_);return o}function Ck(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:f,angle:h}=e;if(!a||!a.length||!n)return[];if(je(u)||zf.isSsr){var p;return(p=Rde(a,je(u)?u:0))!==null&&p!==void 0?p:[]}var g=[],y=l==="top"||l==="bottom"?"width":"height",b=f&&y==="width"?fd(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(j,N)=>{var P=typeof d=="function"?d(j.value,N):j.value;return y==="width"?Lde(fd(P,{fontSize:t,letterSpacing:r}),b,h):fd(P,{fontSize:t,letterSpacing:r})[y]},w=a.length>=2?Jr(a[1].coordinate-a[0].coordinate):1,k=Dde(i,w,y);return u==="equidistantPreserveStart"?zde(w,k,_,a,o):(u==="preserveStart"||u==="preserveStartEnd"?g=Hde(w,k,_,a,o,u==="preserveStartEnd"):g=Ude(w,k,_,a,o),g.filter(j=>j.isShow))}var Wde=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,u=a+i,d=o+u+l+(r?n:0);return Math.round(d)}return 0},Vde=["axisLine","width","height","className","hide","ticks","axisType"];function Kde(e,t){if(e==null)return{};var r,n,a=qde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(null,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){Zde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zde(e,t,r){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yde(e){var t=Gde(e,"string");return typeof t=="symbol"?t:t+""}function Gde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Lt.axis};function Xde(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var d=zt(zt(zt({},u),bn(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!o||i==="bottom"&&o);d=zt(zt({},d),{},{x1:t,y1:r+f*a,x2:t+n,y2:r+f*a})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=zt(zt({},d),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return x.createElement("line",Qo({},d,{className:qe("recharts-cartesian-axis-line",Ac(l,"className"))}))}function Qde(e,t,r,n,a,i,o,l,u){var d,f,h,p,g,y,b=l?-1:1,_=e.tickSize||o,w=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=f=e.coordinate,p=r+ +!l*a,h=p-b*_,y=h-b*u,g=w;break;case"left":h=p=e.coordinate,f=t+ +!l*n,d=f-b*_,g=d-b*u,y=w;break;case"right":h=p=e.coordinate,f=t+ +l*n,d=f+b*_,g=d+b*u,y=w;break;default:d=f=e.coordinate,p=r+ +l*a,h=p+b*_,y=h+b*u,g=w;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:g,y}}}function Jde(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function efe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function tfe(e){var{option:t,tickProps:r,value:n}=e,a,i=qe(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,zt(zt({},r),{},{className:i}));else if(typeof t=="function")a=t(zt(zt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=qe(o,t==null?void 0:t.className)),a=x.createElement(fk,Qo({},r,{className:o}),n)}return a}var rfe=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:d,orientation:f,mirror:h,x:p,y:g,width:y,height:b,tickSize:_,tickMargin:w,fontSize:k,letterSpacing:j,getTicksConfig:N,events:P,axisType:C}=e,A=Ck(zt(zt({},N),{},{ticks:r}),k,j),O=Jde(f,h),M=efe(f,h),$=bn(N),I=Xc(n),R={};typeof a=="object"&&(R=a);var B=zt(zt({},$),{},{fill:"none"},R),F=A.map(V=>zt({entry:V},Qde(V,p,g,y,b,f,_,h,w))),q=F.map(V=>{var{entry:z,line:T}=V;return x.createElement(cr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},a&&x.createElement("line",Qo({},B,T,{className:qe("recharts-cartesian-axis-tick-line",Ac(a,"className"))})))}),W=F.map((V,z)=>{var{entry:T,tick:U}=V,Z=zt(zt(zt(zt({textAnchor:O,verticalAnchor:M},$),{},{stroke:"none",fill:i},I),U),{},{index:z,payload:T,visibleTicksCount:A.length,tickFormatter:o,padding:u},d);return x.createElement(cr,Qo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Af(P,T,z)),n&&x.createElement(tfe,{option:n,tickProps:Z,value:"".concat(typeof o=="function"?o(T.value,z):T.value).concat(l||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},W.length>0&&x.createElement($r,{zIndex:Lt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},W)),q.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},q))}),nfe=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:u}=e,d=Kde(e,Vde),[f,h]=x.useState(""),[p,g]=x.useState(""),y=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Wde({ticks:y.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=x.useCallback(_=>{if(_){var w=_.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=w;var k=w[0];if(k){var j=window.getComputedStyle(k),N=j.fontSize,P=j.letterSpacing;(N!==f||P!==p)&&(h(N),g(P))}}},[f,p]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement($r,{zIndex:e.zIndex},x.createElement(cr,{className:qe("recharts-cartesian-axis",i)},x.createElement(Xde,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:bn(e)}),x.createElement(rfe,{ref:b,axisType:u,events:d,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(AR,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(MR,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ek=x.forwardRef((e,t)=>{var r=Ut(e,Pi);return x.createElement(nfe,Qo({},r,{ref:t}))});Ek.displayName="CartesianAxis";var afe=["x1","y1","x2","y2","key"],ife=["offset"],sfe=["xAxisId","yAxisId"],ofe=["xAxisId","yAxisId"];function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lfe(e,t,r){return(t=cfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=ufe(e,"string");return typeof t=="symbol"?t:t+""}function ufe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(null,arguments)}function Eg(e,t){if(e==null)return{};var r,n,a=dfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ffe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nz(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:u,key:d}=r,f=Eg(r,afe),h=(a=bn(f))!==null&&a!==void 0?a:{},{offset:p}=h,g=Eg(h,ife);n=x.createElement("line",vo({},g,{x1:i,y1:o,x2:l,y2:u,fill:"none",key:d}))}return n}function hfe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Eg(e,sfe),u=a.map((d,f)=>{var h=kr(kr({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return x.createElement(nz,{key:"line-".concat(f),option:n,lineItemProps:h})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function mfe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Eg(e,ofe),u=a.map((d,f)=>{var h=kr(kr({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return x.createElement(nz,{option:n,lineItemProps:h,key:"line-".concat(f)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function pfe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var d=l.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==d[0]&&d.unshift(0);var f=d.map((h,p)=>{var g=!d[p+1],y=g?a+o-h:d[p+1]-h;if(y<=0)return null;var b=p%t.length;return x.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function gfe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var d=u.map(h=>Math.round(h+a-a)).sort((h,p)=>h-p);a!==d[0]&&d.unshift(0);var f=d.map((h,p)=>{var g=!d[p+1],y=g?a+o-h:d[p+1]-h;if(y<=0)return null;var b=p%r.length;return x.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var yfe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return ED(Ck(kr(kr(kr({},Pi),r),{},{ticks:OD(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},xfe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return ED(Ck(kr(kr(kr({},Pi),r),{},{ticks:OD(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},vfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Lt.grid};function zn(e){var t=fj(),r=hj(),n=BD(),a=kr(kr({},Ut(e,vfe)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:u,width:d,height:f,syncWithTicks:h,horizontalValues:p,verticalValues:g}=a,y=qt(),b=ve(M=>pE(M,"xAxis",i,y)),_=ve(M=>pE(M,"yAxis",o,y));if(!Va(d)||!Va(f)||!je(l)||!je(u))return null;var w=a.verticalCoordinatesGenerator||yfe,k=a.horizontalCoordinatesGenerator||xfe,{horizontalPoints:j,verticalPoints:N}=a;if((!j||!j.length)&&typeof k=="function"){var P=p&&p.length,C=k({yAxis:_?kr(kr({},_),{},{ticks:P?p:_.ticks}):void 0,width:t??d,height:r??f,offset:n},P?!0:h);Jp(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(j=C)}if((!N||!N.length)&&typeof w=="function"){var A=g&&g.length,O=w({xAxis:b?kr(kr({},b),{},{ticks:A?g:b.ticks}):void 0,width:t??d,height:r??f,offset:n},A?!0:h);Jp(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(N=O)}return x.createElement($r,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(ffe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(pfe,vo({},a,{horizontalPoints:j})),x.createElement(gfe,vo({},a,{verticalPoints:N})),x.createElement(hfe,vo({},a,{offset:n,horizontalPoints:j,xAxis:b,yAxis:_})),x.createElement(mfe,vo({},a,{offset:n,verticalPoints:N,xAxis:b,yAxis:_}))))}zn.displayName="CartesianGrid";var az=(e,t,r,n)=>Za(e,"xAxis",t,n),iz=(e,t,r,n)=>qa(e,"xAxis",t,n),sz=(e,t,r,n)=>Za(e,"yAxis",r,n),oz=(e,t,r,n)=>qa(e,"yAxis",r,n),bfe=re([Ze,az,sz,iz,oz],(e,t,r,n,a)=>Ks(e,"xAxis")?Ic(t,n,!1):Ic(r,a,!1)),wfe=(e,t,r,n,a)=>a;function _fe(e){return e.type==="line"}var jfe=re([Kf,wfe],(e,t)=>e.filter(_fe).find(r=>r.id===t)),kfe=re([Ze,az,sz,iz,oz,jfe,bfe,Wf],(e,t,r,n,a,i,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:p}=i,g;if(p!=null&&p.length>0?g=p:g=u==null?void 0:u.slice(d,f+1),g!=null)return Vfe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:g})}});function Nfe(e){var t=Xc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),l=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(l)||l<0)&&(l=n),{r:o,strokeWidth:l}}return{r,strokeWidth:n}}var Sfe=["id"],Pfe=["type","layout","connectNulls","needClip","shape"],Cfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tf.apply(null,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Efe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Efe(e,t,r){return(t=Ofe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ofe(e){var t=Afe(e,"string");return typeof t=="symbol"?t:t+""}function Afe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ok(e,t){if(e==null)return{};var r,n,a=Tfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mfe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Qc(r,t),payload:e}]},Ife=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:u,tooltipType:d}=e,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Qc(o,t),hide:l,type:d,color:n,unit:u}};return x.createElement(wk,{tooltipEntrySettings:f})}),lz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Lfe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Dfe=(e,t,r)=>{var n=r.reduce((h,p)=>h+p);if(!n)return lz(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],u=0,d=0;u<r.length;d+=r[u],++u)if(d+r[u]>i){l=[...r.slice(0,u),i-d];break}var f=l.length%2===0?[0,o]:[o];return[...Lfe(r,a),...l,...f].map(h=>"".concat(h,"px")).join(", ")};function Rfe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n,{id:l}=n,u=Ok(n,Sfe),d=bn(u);return x.createElement(ice,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:d,needClip:o,clipPathId:t})}function zfe(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n==null?void 0:n.map(i=>{var o,l,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Da(Da({},u),{},{value:i.value,payload:i.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(mk,{value:t?a:void 0},r)}function mO(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:u,needClip:d,shape:f}=i,h=Ok(i,Pfe),p=Da(Da({},Cr(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(_g,tf({shapeType:"curve",option:f},p,{pathRef:r})),x.createElement(Rfe,{points:n,clipPathId:t,props:i}))}function Ffe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function $fe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:h,animateNewValues:p,width:g,height:y,onAnimationEnd:b,onAnimationStart:_}=r,w=a.current,k=$f(o,"recharts-line-"),j=x.useRef(k),[N,P]=x.useState(!1),C=!N,A=x.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),O=x.useCallback(()=>{typeof _=="function"&&_(),P(!0)},[_]),M=Ffe(n.current),$=x.useRef(0);j.current!==k&&($.current=i.current,j.current=k);var I=$.current;return x.createElement(zfe,{points:o,showLabels:C},r.children,x.createElement(Ff,{animationId:k,begin:d,duration:f,isActive:u,easing:h,onAnimationEnd:A,onAnimationStart:O,key:k},R=>{var B=nt(I,M+I,R),F=Math.min(B,M),q;if(u)if(l){var W="".concat(l).split(/[,\s]+/gim).map(T=>parseFloat(T));q=Dfe(F,M,W)}else q=lz(M,F);else q=l==null?void 0:String(l);if(R>0&&M>0&&(a.current=o,i.current=Math.max(i.current,F)),w){var V=w.length/o.length,z=R===1?o:o.map((T,U)=>{var Z=Math.floor(U*V);if(w[Z]){var G=w[Z];return Da(Da({},T),{},{x:nt(G.x,T.x,R),y:nt(G.y,T.y,R)})}return p?Da(Da({},T),{},{x:nt(g*2,T.x,R),y:nt(y/2,T.y,R)}):Da(Da({},T),{},{x:T.x,y:T.y})});return a.current=z,x.createElement(mO,{props:r,points:z,clipPathId:t,pathRef:n,strokeDasharray:q})}return x.createElement(mO,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:q})}),x.createElement(pk,{label:r.label}))}function Bfe(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement($fe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Ufe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:kt(e.payload,t)}};class Hfe extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:u,width:d,height:f,id:h,needClip:p,zIndex:g}=this.props;if(t)return null;var y=qe("recharts-line",a),b=h,{r:_,strokeWidth:w}=Nfe(r),k=WR(r),j=_*2+w,N=p?"url(#clipPath-".concat(k?"":"dots-").concat(b,")"):void 0;return x.createElement($r,{zIndex:g},x.createElement(cr,{className:y},p&&x.createElement("defs",null,x.createElement(Pk,{clipPathId:b,xAxisId:i,yAxisId:o}),!k&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:u-j/2,y:l-j/2,width:d+j,height:f+j}))),x.createElement(Sk,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:Ufe,errorBarOffset:0},x.createElement(Bfe,{props:this.props,clipPathId:b}))),x.createElement(Nce,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var cz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Lt.line,type:"linear"};function Wfe(e){var t=Ut(e,cz),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:h,legendType:p,xAxisId:g,yAxisId:y,id:b}=t,_=Ok(t,Cfe),{needClip:w}=xy(g,y),k=Nk(),j=Df(),N=qt(),P=ve($=>kfe($,g,y,N,b));if(j!=="horizontal"&&j!=="vertical"||P==null||k==null)return null;var{height:C,width:A,x:O,y:M}=k;return x.createElement(Hfe,tf({},_,{id:b,connectNulls:l,dot:u,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:f,hide:d,label:h,legendType:p,xAxisId:g,yAxisId:y,points:P,layout:j,height:C,width:A,left:O,top:M,needClip:w}))}function Vfe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:u}=e;return u.map((d,f)=>{var h=kt(d,o);if(t==="horizontal"){var p=Qp({axis:r,ticks:a,bandSize:l,entry:d,index:f}),g=Xe(h)?null:n.scale(h);return{x:p,y:g,value:h,payload:d}}var y=Xe(h)?null:r.scale(h),b=Qp({axis:n,ticks:i,bandSize:l,entry:d,index:f});return y==null||b==null?null:{x:y,y:b,value:h,payload:d}}).filter(Boolean)}function Kfe(e){var t=Ut(e,cz),r=qt();return x.createElement(jk,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(_k,{legendPayload:Mfe(t)}),x.createElement(Ife,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(kk,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(Wfe,tf({},t,{id:n}))))}var Ql=x.memo(Kfe,rh);Ql.displayName="Line";var qfe=["option","isActive"];function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(null,arguments)}function Zfe(e,t){if(e==null)return{};var r,n,a=Yfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gfe(e){var{option:t,isActive:r}=e,n=Zfe(e,qfe);return typeof t=="string"?x.createElement(_g,hd({option:x.createElement(S0,hd({type:t},n)),isActive:r,shapeType:"symbols"},n)):x.createElement(_g,hd({option:t,isActive:r,shapeType:"symbols"},n))}var Xfe=(e,t,r,n,a,i,o)=>Za(e,"xAxis",t,o),Qfe=(e,t,r,n,a,i,o)=>qa(e,"xAxis",t,o),Jfe=(e,t,r,n,a,i,o)=>Za(e,"yAxis",r,o),ehe=(e,t,r,n,a,i,o)=>qa(e,"yAxis",r,o),the=(e,t,r,n)=>mie(e,"zAxis",n,!1),rhe=(e,t,r,n,a)=>a,nhe=(e,t,r,n,a,i)=>i,ahe=(e,t,r,n,a,i,o)=>Wf(e,t,r,o),ihe=re([Kf,rhe],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),she=re([ahe,Xfe,Qfe,Jfe,ehe,the,ihe,nhe],(e,t,r,n,a,i,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=e;if(o!=null){var h;if((o==null?void 0:o.data)!=null&&o.data.length>0?h=o.data:h=u==null?void 0:u.slice(d,f+1),!(h==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return bhe({displayedData:h,xAxis:t,yAxis:n,zAxis:i,scatterSettings:o,xAxisTicks:r,yAxisTicks:a,cells:l})}}),ohe=["onMouseEnter","onClick","onMouseLeave"],lhe=["id"],che=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Qw(e,t){if(e==null)return{};var r,n,a=uhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(null,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){dhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dhe(e,t,r){return(t=fhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fhe(e){var t=hhe(e,"string");return typeof t=="symbol"?t:t+""}function hhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mhe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Qc(r,t),payload:e}]},phe=x.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,tooltipType:u}=e,d={dataDefinedOnItem:r==null?void 0:r.map(f=>f.tooltipPayload),positions:r==null?void 0:r.map(f=>f.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:i,nameKey:void 0,dataKey:t,name:Qc(o,t),hide:l,type:u,color:i,unit:""}};return x.createElement(wk,{tooltipEntrySettings:d})});function ghe(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:i}=r;if(!n)return null;var o=bn(r),l=Xc(n),u,d;if(a==="joint")u=t.map(_=>{var w,k;return{x:(w=_.cx)!==null&&w!==void 0?w:null,y:(k=_.cy)!==null&&k!==void 0?k:null}});else if(a==="fitting"){var{xmin:f,xmax:h,a:p,b:g}=wX(t),y=_=>p*_+g;u=[{x:f,y:y(f)},{x:h,y:y(h)}]}var b=en(en(en({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:u});return x.isValidElement(n)?d=x.cloneElement(n,b):typeof n=="function"?d=n(b):d=x.createElement(gj,Jo({},b,{type:i})),x.createElement(cr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}function yhe(e){var{showLabels:t,points:r,children:n}=e,a=Jc(),i=x.useMemo(()=>r==null?void 0:r.map(o=>{var l,u,d={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return en(en({},d),{},{value:void 0,payload:o.payload,viewBox:d,parentViewBox:a,fill:void 0})}),[a,r]);return x.createElement(mk,{value:t?i:void 0},n)}function xhe(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:i}=r,o=ve(Fs),{onMouseEnter:l,onClick:u,onMouseLeave:d}=r,f=Qw(r,ohe),h=xk(l,r.dataKey),p=vk(d),g=bk(u,r.dataKey);if(!IX(t))return null;var{id:y}=r,b=Qw(r,lhe),_=bn(b);return x.createElement(x.Fragment,null,x.createElement(ghe,{points:t,props:b}),t.map((w,k)=>{var j=a!=null&&a!==!1,N=j&&o===String(k),P=j&&N?a:n,C=en(en(en({},_),w),{},{[TD]:k,[MD]:String(i)});return x.createElement($r,{key:"symbol-".concat(w==null?void 0:w.cx,"-").concat(w==null?void 0:w.cy,"-").concat(w==null?void 0:w.size,"-").concat(k),zIndex:N?Lt.activeDot:void 0},x.createElement(cr,Jo({className:"recharts-scatter-symbol"},Af(f,w,k),{onMouseEnter:h(w,k),onMouseLeave:p(w,k),onClick:g(w,k)}),x.createElement(Gfe,Jo({option:P,isActive:N},C))))}))}function vhe(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l}=r,u=t.current,d=$f(r,"recharts-scatter-"),[f,h]=x.useState(!1),p=x.useCallback(()=>{h(!1)},[]),g=x.useCallback(()=>{h(!0)},[]),y=!f;return x.createElement(yhe,{showLabels:y,points:n},r.children,x.createElement(Ff,{animationId:d,begin:i,duration:o,isActive:a,easing:l,onAnimationEnd:p,onAnimationStart:g,key:d},b=>{var _=b===1?n:n==null?void 0:n.map((w,k)=>{var j=u&&u[k];return j?en(en({},w),{},{cx:w.cx==null?void 0:nt(j.cx,w.cx,b),cy:w.cy==null?void 0:nt(j.cy,w.cy,b),size:nt(j.size,w.size,b)}):en(en({},w),{},{size:nt(0,w.size,b)})});return b>0&&(t.current=_),x.createElement(cr,null,x.createElement(xhe,{points:_,allOtherScatterProps:r,showLabels:y}))}),x.createElement(pk,{label:r.label}))}function bhe(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:i,xAxisTicks:o,yAxisTicks:l,cells:u}=e,d=Xe(r.dataKey)?i.dataKey:r.dataKey,f=Xe(n.dataKey)?i.dataKey:n.dataKey,h=a&&a.dataKey,p=a?a.range:d3.range,g=p&&p[0],y=r.scale.bandwidth?r.scale.bandwidth():0,b=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((_,w)=>{var k=kt(_,d),j=kt(_,f),N=!Xe(h)&&kt(_,h)||"-",P=[{name:Xe(r.dataKey)?i.name:r.name||String(r.dataKey),unit:r.unit||"",value:k,payload:_,dataKey:d,type:i.tooltipType},{name:Xe(n.dataKey)?i.name:n.name||String(n.dataKey),unit:n.unit||"",value:j,payload:_,dataKey:f,type:i.tooltipType}];N!=="-"&&P.push({name:a.name||a.dataKey,unit:a.unit||"",value:N,payload:_,dataKey:h,type:i.tooltipType});var C=Qp({axis:r,ticks:o,bandSize:y,entry:_,index:w,dataKey:d}),A=Qp({axis:n,ticks:l,bandSize:b,entry:_,index:w,dataKey:f}),O=N!=="-"?a.scale(N):g,M=Math.sqrt(Math.max(O,0)/Math.PI);return en(en({},_),{},{cx:C,cy:A,x:C==null?void 0:C-M,y:A==null?void 0:A-M,width:2*M,height:2*M,size:O,node:{x:k,y:j,z:N},tooltipPayload:P,tooltipPosition:{x:C,y:A},payload:_},u&&u[w]&&u[w].props)})}var whe=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:kt(e,t)});function _he(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:i,yAxisId:o,id:l}=e,u=x.useRef(null);if(t)return null;var d=qe("recharts-scatter",n),f=l;return x.createElement($r,{zIndex:e.zIndex},x.createElement(cr,{className:d,clipPath:a?"url(#clipPath-".concat(f,")"):void 0,id:l},a&&x.createElement("defs",null,x.createElement(Pk,{clipPathId:f,xAxisId:i,yAxisId:o})),x.createElement(Sk,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:whe,errorBarOffset:0},x.createElement(cr,{key:"recharts-scatter-symbols"},x.createElement(vhe,{props:e,previousPointsRef:u})))))}var uz={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Lt.scatter};function jhe(e){var t=Ut(e,uz),{animationBegin:r,animationDuration:n,animationEasing:a,hide:i,isAnimationActive:o,legendType:l,lineJointType:u,lineType:d,shape:f,xAxisId:h,yAxisId:p,zAxisId:g}=t,y=Qw(t,che),{needClip:b}=xy(h,p),_=x.useMemo(()=>HR(e.children,oy),[e.children]),w=qt(),k=ve(j=>she(j,h,p,g,e.id,_,w));return b==null||k==null?null:x.createElement(x.Fragment,null,x.createElement(phe,{dataKey:e.dataKey,points:k,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),x.createElement(_he,Jo({},y,{xAxisId:h,yAxisId:p,zAxisId:g,lineType:d,lineJointType:u,legendType:l,shape:f,hide:i,isAnimationActive:o,animationBegin:r,animationDuration:n,animationEasing:a,points:k,needClip:b})))}function khe(e){var t=Ut(e,uz),r=qt();return x.createElement(jk,{id:t.id,type:"scatter"},n=>x.createElement(x.Fragment,null,x.createElement(_k,{legendPayload:mhe(t)}),x.createElement(kk,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),x.createElement(jhe,Jo({},t,{id:n}))))}var rf=x.memo(khe,rh);rf.displayName="Scatter";var Nhe=["domain","range"],She=["domain","range"];function gO(e,t){if(e==null)return{};var r,n,a=Phe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Phe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function dz(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=gO(e,Nhe),{domain:i,range:o}=t,l=gO(t,She);return!yO(r,i)||!yO(n,o)?!1:rh(a,l)}var Che=["dangerouslySetInnerHTML","ticks"],Ehe=["id"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(null,arguments)}function xO(e,t){if(e==null)return{};var r,n,a=Ohe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ohe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ahe(e){var t=yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(uce(e)):r.current!==e&&t(dce({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(fce(r.current)),r.current=null)},[t]),null}var The=e=>{var{xAxisId:t,className:r}=e,n=ve(uj),a=qt(),i="xAxis",o=ve(_=>zs(_,i,t,a)),l=ve(_=>V3(_,i,t,a)),u=ve(_=>B3(_,t)),d=ve(_=>lie(_,t)),f=ve(_=>c3(_,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=e,g=xO(e,Che),{id:y}=f,b=xO(f,Ehe);return x.createElement(Ek,Jw({},g,b,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:qe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},Mhe={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,angle:er.angle,axisLine:Pi.axisLine,height:er.height,hide:!1,includeHidden:er.includeHidden,interval:er.interval,minTickGap:er.minTickGap,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,tickLine:Pi.tickLine,tickSize:Pi.tickSize,type:er.type,xAxisId:0},Ihe=e=>{var t=Ut(e,Mhe);return x.createElement(x.Fragment,null,x.createElement(Ahe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(The,t))},Fn=x.memo(Ihe,dz);Fn.displayName="XAxis";var Lhe=["dangerouslySetInnerHTML","ticks"],Dhe=["id"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}function vO(e,t){if(e==null)return{};var r,n,a=Rhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zhe(e){var t=yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(hce(e)):r.current!==e&&t(mce({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(pce(r.current)),r.current=null)},[t]),null}var Fhe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),l=ve(uj),u=qt(),d=yt(),f="yAxis",h=ve(P=>zs(P,f,t,u)),p=ve(P=>U3(P,t)),g=ve(P=>uie(P,t)),y=ve(P=>V3(P,f,t,u)),b=ve(P=>u3(P,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!p||hk(a)||x.isValidElement(a)||b==null)){var P=i.current;if(P){var C=P.getCalculatedWidth();Math.round(p.width)!==Math.round(C)&&d(gce({id:t,width:C}))}}},[y,p,d,a,t,n,b]),p==null||g==null||b==null)return null;var{dangerouslySetInnerHTML:_,ticks:w}=e,k=vO(e,Lhe),{id:j}=b,N=vO(b,Dhe);return x.createElement(Ek,e_({},k,N,{ref:i,labelRef:o,scale:h,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:qe("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:y,axisType:f}))},$he={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:Pi.axisLine,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:Pi.tickLine,tickSize:Pi.tickSize,type:tr.type,width:tr.width,yAxisId:0},Bhe=e=>{var t=Ut(e,$he);return x.createElement(x.Fragment,null,x.createElement(zhe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(Fhe,t))},$n=x.memo(Bhe,dz);$n.displayName="YAxis";var Uhe=(e,t)=>t,Ak=re([Uhe,Ze,o3,Gt,oR,qi,Sse,ur],Mse),Tk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},fz=Yn("mouseClick"),hz=If();hz.startListening({actionCreator:fz,effect:(e,t)=>{var r=e.payload,n=Ak(t.getState(),Tk(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Nie({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var t_=Yn("mouseMove"),mz=If(),wm=null;mz.startListening({actionCreator:t_,effect:(e,t)=>{var r=e.payload;wm!==null&&cancelAnimationFrame(wm);var n=Tk(r);wm=requestAnimationFrame(()=>{var a=t.getState(),i=tk(a,a.tooltip.settings.shared);if(i==="axis"){var o=Ak(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(J3({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(Q3())}wm=null})}});var bO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},pz=cn({name:"rootProps",initialState:bO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:bO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Hhe=pz.reducer,{updateOptions:Whe}=pz.actions,gz=cn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:m0e}=gz.actions,Vhe=gz.reducer,yz=Yn("keyDown"),xz=Yn("focus"),Mk=If();Mk.startListening({actionCreator:yz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=rk(a,iu(r),Zf(r),Jf(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=qi(r);if(i==="Enter"){var d=xg(r,"axis","hover",String(a.index));t.dispatch(Vw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var f=pie(r),h=f==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=l+p*h;if(!(u==null||g>=u.length||g<0)){var y=xg(r,"axis","hover",String(g));t.dispatch(Vw({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}}});Mk.startListening({actionCreator:xz,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=xg(r,"axis","hover",String(i));t.dispatch(Vw({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var An=Yn("externalEvent"),vz=If(),Nv=new Map;vz.startListening({actionCreator:An,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=Nv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:use(l),activeDataKey:dR(l),activeIndex:Fs(l),activeLabel:uR(l),activeTooltipIndex:Fs(l),isTooltipActive:dse(l)};r(u,n)}finally{Nv.delete(a)}});Nv.set(a,o)}}});var Khe=re([au],e=>e.tooltipItemPayloads),qhe=re([Khe,Xf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),bz=Yn("touchMove"),wz=If();wz.startListening({actionCreator:bz,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=tk(n,n.tooltip.settings.shared);if(a==="axis"){var i=Ak(n,Tk({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(J3({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(TD),f=(o=u.getAttribute(MD))!==null&&o!==void 0?o:void 0,h=qhe(t.getState(),d,f);t.dispatch(X3({activeDataKey:f,activeIndex:d,activeCoordinate:h}))}}}});var Zhe=eD({brush:ude,cartesianAxis:yce,chartData:coe,errorBars:Rce,graphicalItems:Yle,layout:dJ,legend:xee,options:aoe,polarAxis:_le,polarOptions:Vhe,referenceElements:wde,rootProps:Hhe,tooltip:Sie,zIndex:qse}),Yhe=function(t){return DQ({reducer:Zhe,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([hz.middleware,mz.middleware,Mk.middleware,vz.middleware,wz.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(pD({type:"raf"}))},devTools:zf.devToolsEnabled})};function Ghe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=qt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=Yhe(t));var o=J1;return x.createElement(due,{context:o,store:i.current},r)}function Xhe(e){var{layout:t,margin:r}=e,n=yt(),a=qt();return x.useEffect(()=>{a||(n(lJ(t)),n(oJ(r)))},[n,a,t,r]),null}var Qhe=x.memo(Xhe,rh);function Jhe(e){var t=yt();return x.useEffect(()=>{t(Whe(e))},[t,e]),null}function wO(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=KR("".concat(n).concat(t)),i=yt();return x.useLayoutEffect(()=>(i(Vse({zIndex:t,elementId:a,isPanorama:r})),()=>{i(Kse({zIndex:t,isPanorama:r}))}),[i,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function _O(e){var{children:t,isPanorama:r}=e,n=ve(Lse);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(wO,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>x.createElement(wO,{key:o,zIndex:o,isPanorama:r})))}var eme=["children"];function tme(e,t){if(e==null)return{};var r,n,a=rme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(null,arguments)}var nme={width:"100%",height:"100%",display:"block"},ame=x.forwardRef((e,t)=>{var r=fj(),n=hj(),a=YD();if(!Va(r)||!Va(n))return null;var{children:i,otherAttributes:o,title:l,desc:u}=e,d,f;return o!=null&&(typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?f=o.role:f=a?"application":void 0),x.createElement(z1,Og({},o,{title:l,desc:u,role:f,tabIndex:d,width:r,height:n,style:nme,ref:t}),i)}),ime=e=>{var{children:t}=e,r=ve($0);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(z1,{width:n,height:a,x:o,y:i},t)},jO=x.forwardRef((e,t)=>{var{children:r}=e,n=tme(e,eme),a=qt();return a?x.createElement(ime,null,x.createElement(_O,{isPanorama:!0},r)):x.createElement(ame,Og({ref:t},n),x.createElement(_O,{isPanorama:!1},r))});function sme(){var e=yt(),[t,r]=x.useState(null),n=ve(EJ);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;ut(i)&&i!==n&&e(uJ(i))}},[t,e,n]),r}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ome(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t,r){return(t=cme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cme(e){var t=ume(e,"string");return typeof t=="symbol"?t:t+""}function ume(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(null,arguments)}var dme=()=>(xoe(),null);function Ag(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var fme=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:Ag((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ag((n=e.style)===null||n===void 0?void 0:n.height)}),l=x.useCallback((d,f)=>{o(h=>{var p=Math.round(d),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=d.getBoundingClientRect();l(f,h);var p=y=>{var{width:b,height:_}=y[0].contentRect;l(b,_)},g=new ResizeObserver(p);g.observe(d),a.current=g}},[t,l]);return x.useEffect(()=>()=>{var d=a.current;d!=null&&d.disconnect()},[l]),x.createElement(x.Fragment,null,x.createElement(B0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",el({ref:u},e)))}),hme=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:Ag(r),containerHeight:Ag(n)}),o=x.useCallback((u,d)=>{i(f=>{var h=Math.round(u),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:d,height:f}=u.getBoundingClientRect();o(d,f)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(B0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",el({ref:l},e)))}),mme=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(B0,{width:r,height:n}),x.createElement("div",el({ref:t},e)))}),pme=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ii(r)||Ii(n)?x.createElement(hme,el({},e,{ref:t})):x.createElement(mme,el({},e,{ref:t}))});function gme(e){return e===!0?fme:pme}var yme=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:h,onMouseUp:p,onTouchEnd:g,onTouchMove:y,onTouchStart:b,style:_,width:w,responsive:k,dispatchTouchEvents:j=!0}=e,N=x.useRef(null),P=yt(),[C,A]=x.useState(null),[O,M]=x.useState(null),$=sme(),I=dj(),R=(I==null?void 0:I.width)>0?I.width:w,B=(I==null?void 0:I.height)>0?I.height:a,F=x.useCallback(X=>{$(X),typeof t=="function"&&t(X),A(X),M(X),X!=null&&(N.current=X)},[$,t,A,M]),q=x.useCallback(X=>{P(fz(X)),P(An({handler:i,reactEvent:X}))},[P,i]),W=x.useCallback(X=>{P(t_(X)),P(An({handler:d,reactEvent:X}))},[P,d]),V=x.useCallback(X=>{P(Q3()),P(An({handler:f,reactEvent:X}))},[P,f]),z=x.useCallback(X=>{P(t_(X)),P(An({handler:h,reactEvent:X}))},[P,h]),T=x.useCallback(()=>{P(xz())},[P]),U=x.useCallback(X=>{P(yz(X.key))},[P]),Z=x.useCallback(X=>{P(An({handler:o,reactEvent:X}))},[P,o]),G=x.useCallback(X=>{P(An({handler:l,reactEvent:X}))},[P,l]),H=x.useCallback(X=>{P(An({handler:u,reactEvent:X}))},[P,u]),Q=x.useCallback(X=>{P(An({handler:p,reactEvent:X}))},[P,p]),se=x.useCallback(X=>{P(An({handler:b,reactEvent:X}))},[P,b]),oe=x.useCallback(X=>{j&&P(bz(X)),P(An({handler:y,reactEvent:X}))},[P,j,y]),ie=x.useCallback(X=>{P(An({handler:g,reactEvent:X}))},[P,g]),le=gme(k);return x.createElement(xR.Provider,{value:C},x.createElement(aL.Provider,{value:O},x.createElement(le,{width:R??(_==null?void 0:_.width),height:B??(_==null?void 0:_.height),className:qe("recharts-wrapper",n),style:ome({position:"relative",cursor:"default",width:R,height:B},_),onClick:q,onContextMenu:Z,onDoubleClick:G,onFocus:T,onKeyDown:U,onMouseDown:H,onMouseEnter:W,onMouseLeave:V,onMouseMove:z,onMouseUp:Q,onTouchEnd:ie,onTouchMove:oe,onTouchStart:se,ref:F},x.createElement(dme,null),r)))}),xme=["width","height","responsive","children","className","style","compact","title","desc"];function vme(e,t){if(e==null)return{};var r,n,a=bme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wme=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:u,title:d,desc:f}=e,h=vme(e,xme),p=bn(h);return u?x.createElement(x.Fragment,null,x.createElement(B0,{width:r,height:n}),x.createElement(jO,{otherAttributes:p,title:d,desc:f},i)):x.createElement(yme,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(jO,{otherAttributes:p,title:d,desc:f,ref:t},x.createElement(_de,null,i)))});function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(null,arguments)}var _me={top:5,right:5,bottom:5,left:5},jme={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_me,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ik=x.forwardRef(function(t,r){var n,a=Ut(t.categoricalChartProps,jme),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:d}=t,f={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return x.createElement(Ghe,{preloadedState:{options:f},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:i},x.createElement(cde,{chartData:d.data}),x.createElement(Qhe,{layout:a.layout,margin:a.margin}),x.createElement(Jhe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(wme,r_({},a,{ref:r})))}),kme=["axis"],_z=x.forwardRef((e,t)=>x.createElement(Ik,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kme,tooltipPayloadSearcher:dk,categoricalChartProps:e,ref:t})),Nme=["axis","item"],bo=x.forwardRef((e,t)=>x.createElement(Ik,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nme,tooltipPayloadSearcher:dk,categoricalChartProps:e,ref:t})),Sme=["item"],n_=x.forwardRef((e,t)=>x.createElement(Ik,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Sme,tooltipPayloadSearcher:dk,categoricalChartProps:e,ref:t}));const js={deployModel:async e=>(await Ot.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await Ot.get("/deployment/active")).data}catch(e){const t=e;if(t.response&&t.response.status===404)return null;throw e}},getHistory:async(e=50,t=0)=>(await Ot.get("/deployment/history",{params:{limit:e,skip:t}})).data,deactivate:async()=>{await Ot.post("/deployment/deactivate")},predict:async e=>(await Ot.post("/deployment/predict",{data:e})).data},Pme=()=>{var Pe,Ve,Ht,Br;const{jobs:e,fetchJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=Gc(),[i,o]=x.useState([]),[l,u]=x.useState("all"),[d,f]=x.useState([]),[h,p]=x.useState("all"),[g,y]=x.useState(null),[b,_]=x.useState(!0),[w,k]=x.useState(!0),[j,N]=x.useState(!0),[P,C]=x.useState(!0),[A,O]=x.useState(!0),[M,$]=x.useState("charts"),[I,R]=x.useState(null),[B,F]=x.useState(!1),[q,W]=x.useState(null),[V,z]=x.useState(null),[T,U]=x.useState(null);x.useEffect(()=>{t(),Z()},[t]),x.useEffect(()=>{var ee,he,Ne;if((he=(ee=I==null?void 0:I.splits.train)==null?void 0:ee.y_proba)!=null&&he.classes&&I.splits.train.y_proba.classes.length>0){const _e=I.splits.train.y_proba,Re=((Ne=_e.labels)==null?void 0:Ne[0])??_e.classes[0];U(String(Re))}},[I]);const Z=async()=>{try{const ee=await Ot.get("/pipeline/datasets/list");f(ee.data)}catch(ee){console.error("Failed to fetch datasets",ee)}},G=async(ee,he)=>{if(ee.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await js.deployModel(he),alert("Model deployed successfully!")}catch(Ne){alert("Failed to deploy model"),console.error(Ne)}},H=async ee=>{var he,Ne;F(!0),R(null),W(null),z(ee);try{const _e=await Ot.get(`/pipeline/jobs/${ee}/evaluation`);R(_e.data)}catch(_e){console.error("Failed to fetch evaluation data",_e),W(((Ne=(he=_e.response)==null?void 0:he.data)==null?void 0:Ne.detail)||"Failed to fetch evaluation data")}finally{F(!1)}},Q=(ee,he,Ne)=>{const _e=Ne&&Ne.length>0?[...Ne]:Array.from(new Set([...ee,...he])).sort((dt,Qt)=>String(dt).localeCompare(String(Qt))),Re=_e.map(dt=>_e.map(Qt=>ee.reduce((St,Ur,Dt)=>{const Pt=he[Dt];return String(Ur)===String(dt)&&String(Pt)===String(Qt)?St+1:St},0)));return{classes:_e,matrix:Re}},se=(ee,he,Ne)=>{const _e=String(Ne),dt=((he.labels&&he.labels.length===he.classes.length?he.labels:void 0)??he.classes).findIndex(Tt=>String(Tt)===_e);if(dt===-1)return null;const St=he.values.map(Tt=>Tt[dt]).map((Tt,Nn)=>({score:Tt,actual:String(ee[Nn])===_e?1:0}));St.sort((Tt,Nn)=>Nn.score-Tt.score);const Ur=[];let Dt=0,Pt=0;const Hr=St.filter(Tt=>Tt.actual===1).length,ei=St.length-Hr;if(Hr===0||ei===0)return null;Ur.push({fpr:0,tpr:0});for(let Tt=0;Tt<St.length;Tt++)St[Tt].actual===1?Dt++:Pt++,Ur.push({fpr:Pt/ei,tpr:Dt/Hr});return Ur};x.useEffect(()=>{M==="evaluation"&&(!V&&i.length>0||V&&!i.includes(V)&&i.length>0?H(i[0]):i.length===0&&(R(null),z(null)))},[M,i,V]);const oe=e.filter(ee=>{const he=l==="all"||ee.job_type===l,Ne=h==="all"||ee.dataset_id===h,_e=ee.status==="completed";return he&&Ne&&_e}),ie=e.filter(ee=>i.includes(ee.job_id)),le=ee=>{o(he=>he.includes(ee)?he.filter(Ne=>Ne!==ee):[...he,ee])},X=ie.map(ee=>{var Ne;const he=ee.metrics||((Ne=ee.result)==null?void 0:Ne.metrics)||{};return{name:ee.job_id,...he}}),me=Array.from(new Set(ie.flatMap(ee=>{var Ne;const he=ee.metrics||((Ne=ee.result)==null?void 0:Ne.metrics)||{};return Object.keys(he).filter(_e=>{const Re=he[_e];return typeof Re=="number"&&!isNaN(Re)})}))).filter(ee=>!(ee.startsWith("train_")&&!b||ee.startsWith("test_")&&!w||ee.startsWith("val_")&&!j)),fe=(ee,he)=>{if(!ee||!he)return"-";const Ne=new Date(he).getTime()-new Date(ee).getTime(),_e=Math.floor(Ne/1e3);return _e<60?`${_e}s`:`${Math.floor(_e/60)}m ${_e%60}s`},te=ee=>ee==="best_score"?{type:"val",base:"best_score"}:ee.startsWith("train_")?{type:"train",base:ee.replace("train_","")}:ee.startsWith("test_")?{type:"test",base:ee.replace("test_","")}:ee.startsWith("val_")?{type:"val",base:ee.replace("val_","")}:{type:"other",base:ee},pe=new Map;me.forEach(ee=>{var Ne;const{base:he}=te(ee);pe.has(he)||pe.set(he,[]),(Ne=pe.get(he))==null||Ne.push(ee)}),pe.forEach((ee,he)=>{pe.set(he,ee.sort())});const we=Array.from(pe.keys()).sort(),Oe=g&&we.includes(g)?g:we[0]||null;return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:h,onChange:ee=>{p(ee.target.value)},children:[s.jsx("option",{value:"all",children:"All Datasets"}),d.map(ee=>s.jsx("option",{value:ee.id,children:ee.name},ee.id))]}),s.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:ee=>{u(ee.target.value)},children:[s.jsx("option",{value:"all",children:"All Experiments"}),s.jsx("option",{value:"tuning",children:"Model Optimization"}),s.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[s.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",i.length,")"]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[oe.map(ee=>{var he,Ne;return s.jsxs("div",{onClick:()=>{le(ee.job_id)},className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${i.includes(ee.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300 break-all",children:["#",ee.version," - ",ee.job_id]}),s.jsxs("div",{className:"flex items-center gap-2",children:[ee.status==="completed"&&(ee.job_type==="training"||ee.job_type==="tuning")&&s.jsx("button",{onClick:_e=>{G(_e,ee.job_id)},className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:s.jsx(e0,{className:"w-3 h-3"})}),s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${ee.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":ee.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:ee.status})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[ee.model_type,"  ",ee.dataset_name||"Unknown Dataset",ee.job_type==="tuning"&&(ee.search_strategy||((he=ee.config.tuning)==null?void 0:he.strategy))&&s.jsxs("span",{className:"ml-1 text-gray-400",children:["(",ee.search_strategy||((Ne=ee.config.tuning)==null?void 0:Ne.strategy),")"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[s.jsx("span",{children:new Date(ee.start_time||ee.created_at).toLocaleString()}),s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:fe(ee.start_time,ee.end_time)})]})]},ee.job_id)}),r&&s.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:s.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?s.jsx(ha,{className:"w-3 h-3 animate-spin"}):s.jsx(or,{className:"w-3 h-3"}),"Load More"]})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:ie.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx(NM,{className:"w-12 h-12 mb-4 opacity-20"}),s.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[s.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${M==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{$("charts")},children:"Visual Comparison"}),s.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${M==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{$("table")},children:"Detailed Metrics & Params"}),s.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${M==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{$("evaluation")},children:"Model Evaluation"})]}),M==="charts"&&s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b,onChange:ee=>{_(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:ee=>{k(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:ee=>{N(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),we.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:we.map(ee=>s.jsx("button",{onClick:()=>{y(ee)},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${Oe===ee?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:ee.toUpperCase()},ee))}),Oe&&pe.has(Oe)&&s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(bo,{data:X,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(zn,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),s.jsx(Fn,{dataKey:"name",stroke:"#6B7280",fontSize:12}),s.jsx($n,{stroke:"#6B7280",fontSize:12}),s.jsx(ca,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),s.jsx(ng,{}),(Pe=pe.get(Oe))==null?void 0:Pe.map(ee=>{const{type:he}=te(ee);let Ne="#8884d8";return he==="train"&&(Ne="#3b82f6"),he==="test"&&(Ne="#22c55e"),he==="val"&&(Ne="#f97316"),he==="other"&&(Ne="#a855f7"),s.jsx(_s,{dataKey:ee,fill:Ne,name:`${he} (${Oe})`},ee)})]})})})})]}),M==="table"&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-xs text-left",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),ie.map(ee=>s.jsx("th",{className:"px-4 py-2 font-mono break-all min-w-[100px]",children:ee.job_id},ee.job_id))]})}),s.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[s.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),ie.map(ee=>s.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:ee.model_type},ee.job_id))]}),s.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{C(!P)},children:s.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:ie.length+1,children:[P?s.jsx(or,{className:"w-3 h-3"}):s.jsx(Ua,{className:"w-3 h-3"}),"Key Metrics"]})}),P&&me.map(ee=>s.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[s.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:ee}),ie.map(he=>{var Re;const _e=(he.metrics||((Re=he.result)==null?void 0:Re.metrics)||{})[ee];return s.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof _e=="number"?_e.toFixed(4):"-"},he.job_id)})]},ee)),s.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{O(!A)},children:s.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:ie.length+1,children:[A?s.jsx(or,{className:"w-3 h-3"}):s.jsx(Ua,{className:"w-3 h-3"}),"Hyperparameters"]})}),A&&Array.from(new Set(ie.flatMap(ee=>Object.keys(ee.hyperparameters||{})))).map(ee=>s.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[s.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:ee}),ie.map(he=>{var Ne;return s.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((Ne=he.hyperparameters)==null?void 0:Ne[ee])??"-")},he.job_id)})]},ee))]})]})})]}),M==="evaluation"&&s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.length>1&&s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(ee=>s.jsx("button",{onClick:()=>{H(ee)},className:`px-3 py-1 text-xs font-mono rounded border whitespace-nowrap ${V===ee?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:ee},ee))}),B?s.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[s.jsx(ln,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):q?s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[s.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),s.jsx("p",{className:"text-sm mt-2 opacity-80",children:q})]}):I?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b,onChange:ee=>{_(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:ee=>{k(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:ee=>{N(ee.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),I.problem_type==="classification"&&((Ve=I.splits.train)==null?void 0:Ve.y_proba)&&(()=>{const ee=I.splits.train.y_proba;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),s.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:T||"",onChange:he=>{U(he.target.value)},children:ee.classes.map((he,Ne)=>{var Re;const _e=((Re=ee.labels)==null?void 0:Re[Ne])??he;return s.jsx("option",{value:String(_e),children:String(_e)},String(he))})})]})})()]}),I.problem_type==="classification"&&((Br=(Ht=I.splits.train)==null?void 0:Ht.y_proba)==null?void 0:Br.labels)&&(()=>{const ee=I.splits.train.y_proba;return s.jsxs("div",{className:"w-full text-xs text-gray-500 dark:text-gray-400",children:["Mapping: ",ee.classes.map((he,Ne)=>{var _e;return`${String(he)}${String(((_e=ee.labels)==null?void 0:_e[Ne])??he)}`}).join(", ")]})})()]}),s.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(I.splits).filter(([ee])=>!(ee==="train"&&!b||ee==="test"&&!w||ee==="validation"&&!j)).map(([ee,he])=>{const Ne=he.y_true.map((_e,Re)=>({x:_e,y:he.y_pred[Re]}));return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[ee," Set"]}),I.problem_type==="regression"?s.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[s.jsxs("div",{className:"h-[300px]",children:[s.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(n_,{margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(zn,{strokeDasharray:"3 3",opacity:.2}),s.jsx(Fn,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),s.jsx($n,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),s.jsx(ca,{cursor:{strokeDasharray:"3 3"},content:({active:_e,payload:Re})=>{if(_e&&Re&&Re.length){const dt=Re[0].payload;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[s.jsxs("p",{className:"font-medium",children:["Actual: ",dt.x.toFixed(4)]}),s.jsxs("p",{className:"font-medium",children:["Predicted: ",dt.y.toFixed(4)]}),s.jsxs("p",{className:"text-gray-500",children:["Error: ",(dt.y-dt.x).toFixed(4)]})]})}return null}}),s.jsx(Ql,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),s.jsx(rf,{name:"Predictions",data:Ne,fill:"#8884d8",fillOpacity:.6})]})})]}),s.jsxs("div",{className:"h-[300px]",children:[s.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(n_,{margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(zn,{strokeDasharray:"3 3",opacity:.2}),s.jsx(Fn,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),s.jsx($n,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),s.jsx(ca,{cursor:{strokeDasharray:"3 3"},content:({active:_e,payload:Re})=>{if(_e&&Re&&Re.length){const dt=Re[0].payload;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[s.jsxs("p",{className:"font-medium",children:["Predicted: ",dt.y.toFixed(4)]}),s.jsxs("p",{className:"font-medium",children:["Residual: ",dt.residual.toFixed(4)]})]})}return null}}),s.jsx(Pg,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),s.jsx(rf,{name:"Residuals",data:Ne.map(_e=>{const Re=_e;return{...Re,residual:Re.x-Re.y}}),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const _e=he.y_proba,Re=_e==null?void 0:_e.classes;let dt=he.y_true,Qt=he.y_pred;if(_e!=null&&_e.labels&&_e.labels.length===_e.classes.length){const Dt=new Map;_e.labels.forEach((Pt,Hr)=>{Dt.set(String(Pt),_e.classes[Hr])}),dt=he.y_true.map(Pt=>Dt.get(String(Pt))??Pt),Qt=he.y_pred.map(Pt=>Dt.get(String(Pt))??Pt)}const{classes:St,matrix:Ur}=Q(dt,Qt,Re);return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-8"})," ",s.jsxs("div",{className:"flex ml-2",children:[" ",St.map(Dt=>s.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",String(Dt)]},String(Dt)))]})]}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex flex-col justify-center mr-2",children:St.map(Dt=>s.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",String(Dt)]},String(Dt)))}),s.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:Ur.map((Dt,Pt)=>s.jsx("div",{className:"flex",children:Dt.map((Hr,ei)=>{const Tt=Math.max(...Ur.flat()),Nn=Tt>0?Hr/Tt:0;return s.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Nn*.8+.1})`,color:Nn>.5?"white":"inherit"},title:`True: ${St[Pt]}, Pred: ${St[ei]}, Count: ${Hr}`,children:Hr},ei)})},Pt))})]}),s.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),he.y_proba&&s.jsxs("div",{className:"h-[300px] w-full",children:[s.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{if(!T)return s.jsx("div",{className:"text-center text-xs text-gray-400",children:"Select a class"});const _e=se(he.y_true,he.y_proba,T);return _e?s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(_z,{data:_e,margin:{top:5,right:20,bottom:20,left:20},children:[s.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),s.jsx(Fn,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),s.jsx($n,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),s.jsx(ca,{}),s.jsx(Ql,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),s.jsx(Ql,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):s.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},ee)})})]}):s.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[s.jsx("p",{children:"Select a completed job to view evaluation details."}),s.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},Cme=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,i]=x.useState(null),[o,l]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null);x.useEffect(()=>{p()},[]);const p=async()=>{try{const b=await js.getActive();if(t(b),b){let _={},w=!1;if(b.input_schema&&b.input_schema.length>0&&(b.input_schema.forEach(k=>{_[k.name]=0}),w=!0,h(`Schema loaded from artifacts (${b.input_schema.length} features)`)),b.job_id)try{const k=await ir.getJob(b.job_id);if(k.dataset_id){const j=await Wn.getSample(k.dataset_id,1);if(j.length>0){const N=j[0];if(w)Object.keys(_).forEach(P=>{P in N&&(_[P]=N[P])});else{const P=k.target_column,C=k.dropped_columns||[],A={...N};typeof P=="string"&&P in A&&Reflect.deleteProperty(A,P),C.forEach(M=>{typeof M=="string"&&M in A&&Reflect.deleteProperty(A,M)}),_=A;const O=[];P&&O.push(`Target: ${P}`),C.length>0&&O.push(`Dropped: ${C.length} cols`),O.length>0&&h(`Auto-filtered from dataset: ${O.join(", ")}`)}}}}catch(k){console.warn("Failed to fetch dataset sample",k)}Object.keys(_).length>0&&n(JSON.stringify([_],null,2))}}catch{t(null)}},g=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await js.deactivate(),t(null),i(null)}catch(b){console.error("Failed to deactivate",b)}},y=async()=>{l(!0),d(null),i(null);try{const b=JSON.parse(r);if(!Array.isArray(b))throw new Error("Input must be a JSON array of objects");const _=await js.predict(b);i(_.predictions)}catch(b){d(b.message||"Prediction failed")}finally{l(!1)}};return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),f&&s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:f}),s.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),s.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:b=>{n(b.target.value)},placeholder:'[{"col1": 1, "col2": "A"}]'}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:()=>{y()},disabled:!e||o,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||o?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:o?"Running...":s.jsxs(s.Fragment,{children:[s.jsx(Hs,{className:"w-4 h-4"})," Run Prediction"]})})})]}),s.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jp,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&s.jsxs("button",{onClick:()=>{g()},className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[s.jsx(Fb,{className:"w-3 h-3"}),"Undeploy"]})]}),e?s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),s.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),s.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200 break-all",children:e.job_id})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),s.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),s.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[s.jsx(ba,{className:"w-4 h-4"})," Active"]})]})]}):s.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),s.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:u?s.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[s.jsx(an,{className:"w-5 h-5 shrink-0 mt-0.5"}),s.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:u})]}):a?s.jsx("div",{className:"space-y-2",children:a.map((b,_)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[s.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",_+1]}),s.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof b=="object"?JSON.stringify(b):String(b)})]},_))}):s.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Eme=()=>{const{activeView:e,isPropertiesPanelExpanded:t}=Yc();return s.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[s.jsx(SG,{}),s.jsx(NG,{}),e==="canvas"?s.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[s.jsx(uG,{}),s.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[!t&&s.jsx(jG,{}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(vG,{}),s.jsx(kG,{})]})]}),s.jsx(bG,{})]}):e==="experiments"?s.jsx(Pme,{}):s.jsx(Cme,{})]})},Ome=()=>{const e=Ie(i=>i.addNode),t=Ie(i=>i.nodes),[r,n]=wM(),a=x.useRef(!1);return x.useEffect(()=>{const i=r.get("source_id");if(i){if(a.current)return;if(t.some(u=>{var d;return u.type==="dataset_node"&&((d=u.data)==null?void 0:d.datasetId)===i})){const u=new URLSearchParams(r);u.delete("source_id"),n(u,{replace:!0});return}a.current=!0,e("dataset_node",{x:100,y:100},{datasetId:i});const l=new URLSearchParams(r);l.delete("source_id"),n(l,{replace:!0})}},[r,e,t,n]),s.jsx(Eme,{})},Ame=()=>{const e=Yg(),[t,r]=x.useState(null),[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState(null),[h,p]=x.useState(null),[g,y]=x.useState(null),[b,_]=x.useState(null),[w,k]=x.useState(!1),[j,N]=x.useState(0),[P,C]=x.useState(!0),A=10,[O,M]=x.useState(""),[$,I]=x.useState(""),[R,B]=x.useState(()=>{try{const H=localStorage.getItem("skyulf_manual_deployments");return H?JSON.parse(H):{}}catch{return{}}}),F=H=>{B(Q=>{const se={...Q,[H]:!Q[H]};return localStorage.setItem("skyulf_manual_deployments",JSON.stringify(se)),se})},q=async H=>{y(H),k(!0),_(null);try{const Q=await fetch(`/api/registry/artifacts/${H}`);if(Q.ok){const se=await Q.json();_(se)}else{const se=await Q.json();_({storage_type:"error",base_uri:"",files:[`Failed to load artifacts: ${se.detail||"Unknown error"}`]})}}catch{_({storage_type:"error",base_uri:"",files:["Error loading artifacts"]})}finally{k(!1)}},W=async()=>{try{const H=await fetch("/api/registry/stats");if(H.ok){const Q=await H.json();r(Q)}}catch(H){console.error("Failed to fetch stats",H)}},V=async(H,Q=!1)=>{if(!i)try{o(!0);const se=H*A,oe=new URLSearchParams({skip:se.toString(),limit:A.toString()}),ie=await fetch(`/api/registry/models?${oe.toString()}`);if(!ie.ok)throw new Error("Failed to fetch models");const le=await ie.json();return le.length<A?C(!1):C(!0),a(X=>Q?le:[...X,...le]),le}catch(se){return u(se.message),null}finally{o(!1)}};x.useEffect(()=>{W(),V(0,!0)},[]),x.useEffect(()=>{const H=se=>{const oe=se.target;oe.scrollTop+oe.clientHeight>=oe.scrollHeight-100&&!i&&P&&N(ie=>ie+1)},Q=document.querySelector("main");return Q?(Q.addEventListener("scroll",H),()=>{Q.removeEventListener("scroll",H)}):(window.addEventListener("scroll",H),()=>{window.removeEventListener("scroll",H)})},[i,P]),x.useEffect(()=>{j>0&&V(j,!1)},[j]);const z=async H=>{if(confirm("Are you sure you want to deploy this model version? This will replace the currently active deployment."))try{p(H);const Q=await fetch(`/api/deployment/deploy/${H}`,{method:"POST"});if(!Q.ok){const oe=await Q.json();throw new Error(oe.detail||"Deployment failed")}N(0);const se=await V(0,!0);if(d&&se){const oe=se.find(ie=>ie.model_type===d.model_type&&ie.dataset_id===d.dataset_id);oe&&f(oe)}confirm("Model deployed successfully! Do you want to go to the inference page?")&&e("/deployments")}catch(Q){alert(`Error deploying model: ${Q.message}`)}finally{p(null)}},T=H=>{switch(H.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-300"}},U=H=>{const Q=H.score||H.accuracy||H.f1_score||H.rmse||H.mse;if(Q!==void 0)return typeof Q=="number"?Q.toFixed(4):String(Q);const se=Object.keys(H);if(se.length>0){const oe=H[se[0]];return`${se[0]}: ${typeof oe=="number"?oe.toFixed(4):oe}`}return"-"},Z=H=>H.toLowerCase()==="tuning"?"Advanced Training":H.toLowerCase()==="training"?"Standard Training":H.charAt(0).toUpperCase()+H.slice(1),G=n.filter(H=>{const Q=(H.dataset_name||"").toLowerCase().includes(O.toLowerCase())||(H.dataset_id||"").toLowerCase().includes(O.toLowerCase()),se=H.model_type.toLowerCase().includes($.toLowerCase());return Q&&se});return i&&!t&&n.length===0?s.jsxs("div",{className:"p-8 flex justify-center items-center h-full text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading registry..."]}):l?s.jsxs("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:["Error: ",l]}):s.jsxs("div",{className:"p-8 min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Model Registry"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage versions, track metrics, and deploy your best models."})]}),s.jsx("button",{onClick:()=>{N(0),V(0,!0),W()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:"Refresh"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Sv,{title:"Total Versions",value:(t==null?void 0:t.total_versions)||0,icon:s.jsx(jp,{className:"text-blue-500"})}),s.jsx(Sv,{title:"Active Deployments",value:(t==null?void 0:t.active_deployments)||0,icon:s.jsx(Tme,{className:"text-green-500"}),valueColor:"text-green-600 dark:text-green-400"}),s.jsx(Sv,{title:"Model Types",value:n.length,icon:s.jsx(zb,{className:"text-purple-500"}),valueColor:"text-purple-600 dark:text-purple-400"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Model Type"}),s.jsx("input",{type:"text",placeholder:"e.g. RandomForest",value:$,onChange:H=>{I(H.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Dataset"}),s.jsx("input",{type:"text",placeholder:"e.g. Iris Dataset",value:O,onChange:H=>{M(H.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(zb,{size:20,className:"text-slate-400"}),"Registered Models"]}),s.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",G.length," of ",n.length," models"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[s.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Dataset"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Latest Version"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Source"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Deployments"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:G.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(jp,{size:48,className:"mb-4 opacity-20"}),s.jsx("p",{children:"No models found matching your filters."})]})})}):G.map(H=>{const Q=H.latest_version;if(!Q)return null;const se=`${H.model_type}-${H.dataset_id}`,oe=H.deployment_count>0,ie=R[se]||!1,le=oe||ie;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:H.model_type}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:s.jsx("div",{className:"flex flex-col",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:H.dataset_name}),H.dataset_type&&s.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-600 uppercase",children:H.dataset_type})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:s.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:["v",Q.version]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:Z(Q.source)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(Q.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${T(Q.status)}`,children:Q.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",onClick:X=>{X.stopPropagation()},children:[s.jsx("input",{type:"checkbox",checked:le,onChange:()=>{F(se)},disabled:oe,className:`w-4 h-4 rounded border-gray-300 focus:ring-green-500 ${oe?"text-green-600 opacity-50 cursor-not-allowed":"text-blue-600 cursor-pointer"}`}),le?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs",children:[s.jsx(ba,{size:12})," ",oe?"Active":"Manual"]}):s.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-xs",children:"None"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("button",{onClick:()=>{f(H)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 flex items-center justify-end gap-1 ml-auto",children:["View Versions ",s.jsx(Ua,{size:16})]})})]},se)})})]})})]}),i&&n.length>0&&s.jsxs("div",{className:"py-4 flex justify-center text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading more models..."]}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{f(null)},children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:H=>{H.stopPropagation()},children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:d.model_type}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Version History"})]}),s.jsx("button",{onClick:()=>{f(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:s.jsx(lr,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Version"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Date"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Metrics"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:d.versions.map(H=>s.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${H.is_deployed?"bg-green-50/50 dark:bg-green-900/10":""}`,children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-mono",children:["v",H.version]}),H.is_deployed&&s.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-1.5 py-0.5 rounded border border-green-200 dark:border-green-800",children:"Deployed"})]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(H.created_at).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-mono",children:U(H.metrics)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${T(H.status)}`,children:H.status})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>{q(H.job_id)},className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:"View Artifacts",children:s.jsx(eS,{size:16})}),H.status==="completed"&&!H.is_deployed&&s.jsxs("button",{onClick:()=>{z(H.job_id)},disabled:h===H.job_id,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 disabled:opacity-50 flex items-center gap-1",children:[h===H.job_id?s.jsx("span",{className:"animate-spin h-3 w-3 border-b-2 border-current rounded-full"}):s.jsx(Hs,{size:14}),"Deploy"]}),H.is_deployed&&s.jsxs("span",{className:"text-green-600 dark:text-green-400 text-xs flex items-center gap-1",children:[s.jsx(ba,{size:14})," Active"]})]})})]},H.job_id))})]})}),s.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:s.jsx("button",{onClick:()=>{f(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})}),g&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{y(null)},children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:H=>{H.stopPropagation()},children:[s.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[s.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[s.jsx(eS,{size:20,className:"text-blue-500"}),"Artifacts"]}),s.jsx("button",{onClick:()=>{y(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:s.jsx(lr,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:w?s.jsxs("div",{className:"flex justify-center py-8 text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading artifacts..."]}):!b||b.files.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No artifacts found."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[b.storage_type==="s3"?s.jsx(kM,{size:20,className:"text-blue-600 dark:text-blue-400 flex-shrink-0"}):s.jsx(A7,{size:20,className:"text-slate-600 dark:text-slate-400 flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-700 dark:text-blue-300",children:b.storage_type==="s3"?"S3 Bucket Storage":"Local Storage"}),s.jsx("span",{className:"text-xs font-mono text-slate-600 dark:text-slate-400 truncate",title:b.base_uri,children:b.base_uri})]})]}),s.jsx("ul",{className:"space-y-2",children:b.files.map((H,Q)=>s.jsxs("li",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-700/30 border border-slate-100 dark:border-slate-700",children:[s.jsx(Jg,{size:18,className:"text-slate-400"}),s.jsx("span",{className:"text-sm font-mono text-slate-700 dark:text-slate-300 break-all",children:H})]},Q))})]})}),s.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:s.jsx("button",{onClick:()=>{y(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})]})},Sv=({title:e,value:t,icon:r,valueColor:n="text-slate-900 dark:text-white"})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),s.jsx("div",{className:`mt-2 text-3xl font-bold ${n}`,children:t})]}),s.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:r})]}),Tme=({className:e})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),s.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),s.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),s.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Mme=()=>{const[e,t]=x.useState(null),[r,n]=x.useState([]),[a,i]=x.useState(!1),[o,l]=x.useState(null),u=async()=>{i(!0),l(null);try{const[h,p]=await Promise.all([js.getActive(),js.getHistory(50,0)]);t(h),n(p)}catch(h){console.error("Failed to load deployments",h),l("Failed to load deployment data.")}finally{i(!1)}};x.useEffect(()=>{u()},[]);const d=async()=>{if(confirm("Are you sure you want to deactivate the current deployment?"))try{await js.deactivate(),await u()}catch(h){console.error("Failed to deactivate",h),alert("Failed to deactivate deployment.")}},f=async h=>{if(confirm(`Are you sure you want to redeploy job ${h}?`))try{await js.deployModel(h),await u()}catch(p){console.error("Failed to redeploy",p),alert("Failed to redeploy model.")}};return s.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Model Deployments"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage active models and view deployment history"})]}),s.jsx("button",{onClick:()=>{u()},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:s.jsx(ha,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[o&&s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[s.jsx(an,{className:"w-5 h-5"}),o]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(e0,{className:"w-5 h-5 text-green-500"}),"Active Deployment"]}),e?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-green-200 dark:border-green-900 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx(jp,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.model_type}),s.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[s.jsx(ba,{className:"w-3 h-3"})," Active"]})]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Job ID: ",e.job_id]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deployed: ",new Date(e.created_at).toLocaleString()]})]})]}),s.jsxs("button",{onClick:()=>{d()},className:"flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[s.jsx(Fb,{className:"w-4 h-4"}),"Deactivate"]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-xs font-mono text-gray-500 dark:text-gray-400 break-all",children:["Artifact URI: ",e.artifact_uri]})]}):s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Fb,{className:"w-6 h-6 text-gray-400"})}),s.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"No Active Model"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Deploy a model from the Experiments page to see it here."})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(Qg,{className:"w-5 h-5 text-blue-500"}),"Deployment History"]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Status"}),s.jsx("th",{className:"px-6 py-3",children:"Model Type"}),s.jsx("th",{className:"px-6 py-3",children:"Job ID"}),s.jsx("th",{className:"px-6 py-3",children:"Deployed At"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No deployment history found."})}):r.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:h.is_active?s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Active"]}):s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"Inactive"]})}),s.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:h.model_type}),s.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:[h.job_id.slice(0,8),"..."]}),s.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(h.created_at).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 text-right",children:!h.is_active&&s.jsx("button",{onClick:()=>{f(h.job_id)},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Redeploy"})})]},h.id))})]})})})]})]})]})},_m="/api/eda",jm={analyze:async(e,t)=>(await ct.post(`${_m}/${e}/analyze`,{target_col:t})).data,getLatestReport:async e=>(await ct.get(`${_m}/${e}/latest`)).data,getReport:async e=>(await ct.get(`${_m}/reports/${e}`)).data,getHistory:async e=>(await ct.get(`${_m}/${e}/history`)).data},Ime=({profile:e,onClick:t})=>{var a;const r=()=>{switch(e.dtype){case"Numeric":return s.jsx(PM,{className:"w-4 h-4 text-blue-500"});case"Categorical":return s.jsx(p7,{className:"w-4 h-4 text-purple-500"});case"DateTime":return s.jsx(xc,{className:"w-4 h-4 text-green-500"});default:return s.jsx(G7,{className:"w-4 h-4 text-gray-500"})}};let n=[];return e.dtype==="Numeric"&&e.histogram?n=e.histogram.map(i=>({name:i.start.toFixed(1),count:i.count})):e.dtype==="Text"&&e.histogram?n=e.histogram.map(i=>({name:i.start.toFixed(0),count:i.count})):e.dtype==="DateTime"&&e.histogram?n=e.histogram.map(i=>({name:new Date(i.start).toLocaleDateString(),count:i.count})):e.dtype==="Categorical"&&((a=e.categorical_stats)!=null&&a.top_k)&&(n=e.categorical_stats.top_k.slice(0,5).map(i=>({name:i.value,count:i.count}))),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:t,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[r(),s.jsx("h3",{className:"font-medium text-sm truncate max-w-[120px]",title:e.name,children:e.name})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.dtype})]}),s.jsxs("div",{className:"flex justify-between items-end mt-2",children:[s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.missing_percentage>0&&s.jsxs("div",{className:"flex items-center text-amber-600",children:[s.jsx(t0,{className:"w-3 h-3 mr-1"}),e.missing_percentage.toFixed(1),"% null"]}),e.is_unique&&s.jsx("div",{className:"text-blue-500",children:"Unique ID"}),e.is_constant&&s.jsx("div",{className:"text-red-500",children:"Constant"}),!e.is_unique&&!e.is_constant&&e.missing_percentage===0&&s.jsx("div",{className:"text-green-600",children:"Healthy"})]}),n.length>0&&s.jsx("div",{className:"h-12 w-24",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsx(bo,{data:n,children:s.jsx(_s,{dataKey:"count",fill:e.dtype==="Numeric"?"#3b82f6":e.dtype==="Categorical"?"#8b5cf6":"#10b981",radius:[2,2,0,0]})})})})]})]})},Lme=({data:e})=>{if(!e||!e.columns)return s.jsx("div",{children:"No correlation data available"});const t=20,r=e.columns.slice(0,t),n=e.values.slice(0,t).map(o=>o.slice(0,t)),a=e.columns.length>t,i=o=>{if(o===null)return"rgba(243, 244, 246, 1)";const l=Math.abs(o);return o>0?`rgba(239, 68, 68, ${l})`:`rgba(59, 130, 246, ${l})`};return s.jsxs("div",{className:"overflow-x-auto p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a&&s.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 text-sm rounded-md",children:["Showing top ",t," columns. Full heatmap is too large to render."]}),s.jsx("div",{className:"inline-block min-w-full",children:s.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`100px repeat(${r.length}, minmax(50px, 1fr))`},children:[s.jsx("div",{className:"p-2"}),r.map((o,l)=>s.jsx("div",{className:"p-2 text-xs font-medium truncate text-center",title:o,children:o.length>8?o.substring(0,8)+"...":o},l)),r.map((o,l)=>s.jsxs(Sr.Fragment,{children:[s.jsx("div",{className:"p-2 text-xs font-medium truncate text-right pr-4",title:o,children:o}),n[l].map((u,d)=>s.jsx("div",{className:"h-10 w-full flex items-center justify-center text-[10px] text-gray-900 dark:text-gray-100 rounded-sm cursor-help",style:{backgroundColor:i(u)},title:`${o} vs ${r[d]}: ${u.toFixed(3)}`,children:Math.abs(u)>.3?u.toFixed(1):""},d))]},l))]})})]})},Dme=({profile:e})=>{var n;if(!e)return null;let t=[];const r=e.dtype;if(r==="Numeric"&&e.histogram)t=e.histogram.map(a=>({name:`${Number(a.start).toFixed(2)}`,fullName:`${Number(a.start).toFixed(2)} - ${Number(a.end).toFixed(2)}`,count:a.count}));else if(r==="Text"&&e.histogram)t=e.histogram.map(a=>({name:`${Number(a.start).toFixed(0)}`,fullName:`${Number(a.start).toFixed(0)} - ${Number(a.end).toFixed(0)} chars`,count:a.count}));else if(r==="DateTime"&&e.histogram)t=e.histogram.map(a=>({name:new Date(a.start).toLocaleDateString(void 0,{month:"short",year:"2-digit"}),fullName:`${new Date(a.start).toLocaleDateString()} - ${new Date(a.end).toLocaleDateString()}`,count:a.count}));else if(r==="Categorical"&&((n=e.categorical_stats)!=null&&n.top_k))t=e.categorical_stats.top_k.map(a=>({name:String(a.value).substring(0,15)+(String(a.value).length>15?"...":""),fullName:String(a.value),count:a.count}));else return s.jsx("div",{className:"text-gray-500 text-sm italic p-4 text-center",children:"No distribution data available for this type"});return t.length===0?s.jsx("div",{className:"text-gray-500 text-sm italic p-4 text-center",children:"No data points"}):s.jsx("div",{className:"h-64 w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(bo,{data:t,margin:{top:5,right:30,left:20,bottom:30},children:[s.jsx(zn,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),s.jsx(Fn,{dataKey:"name",tick:{fontSize:11,fill:"#6b7280"},interval:"preserveStartEnd",angle:-45,textAnchor:"end"}),s.jsx($n,{tick:{fontSize:11,fill:"#6b7280"}}),s.jsx(ca,{content:({active:a,payload:i})=>{if(a&&i&&i.length){const o=i[0].payload;return s.jsxs("div",{className:"bg-gray-800 text-white text-xs p-2 rounded shadow-lg",children:[s.jsx("p",{className:"font-semibold mb-1",children:o.fullName}),s.jsxs("p",{children:["Count: ",o.count]})]})}return null}}),s.jsx(_s,{dataKey:"count",radius:[4,4,0,0],children:t.map((a,i)=>s.jsx(oy,{fill:r==="Numeric"?"#3b82f6":"#8b5cf6"},`cell-${i}`))})]})})})};function jz(e,t){const r=x.useRef(t);x.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function Rme(e,t,r){t.center!==r.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==r.radius&&e.setRadius(t.radius)}const zme=1;function Fme(e){return Object.freeze({__version:zme,map:e})}function $me(e,t){return Object.freeze({...e,...t})}const kz=x.createContext(null),Nz=kz.Provider;function Lk(){const e=x.useContext(kz);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Bme(e){function t(r,n){const{instance:a,context:i}=e(r).current;return x.useImperativeHandle(n,()=>a),r.children==null?null:Sr.createElement(Nz,{value:i},r.children)}return x.forwardRef(t)}function Ume(e){function t(r,n){const[a,i]=x.useState(!1),{instance:o}=e(r,i).current;x.useImperativeHandle(n,()=>o),x.useEffect(function(){a&&o.update()},[o,a,r.children]);const l=o._contentNode;return l?Hc.createPortal(r.children,l):null}return x.forwardRef(t)}function Hme(e){function t(r,n){const{instance:a}=e(r).current;return x.useImperativeHandle(n,()=>a),null}return x.forwardRef(t)}function Dk(e,t){const r=x.useRef();x.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function by(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function Wme(e,t){return function(n,a){const i=Lk(),o=e(by(n,i),i);return jz(i.map,n.attribution),Dk(o.current,n.eventHandlers),t(o.current,i,n,a),o}}var a_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(PF,function(r){var n="1.9.4";function a(c){var m,v,S,E;for(v=1,S=arguments.length;v<S;v++){E=arguments[v];for(m in E)c[m]=E[m]}return c}var i=Object.create||function(){function c(){}return function(m){return c.prototype=m,new c}}();function o(c,m){var v=Array.prototype.slice;if(c.bind)return c.bind.apply(c,v.call(arguments,1));var S=v.call(arguments,2);return function(){return c.apply(m,S.length?S.concat(v.call(arguments)):arguments)}}var l=0;function u(c){return"_leaflet_id"in c||(c._leaflet_id=++l),c._leaflet_id}function d(c,m,v){var S,E,D,K;return K=function(){S=!1,E&&(D.apply(v,E),E=!1)},D=function(){S?E=arguments:(c.apply(v,arguments),setTimeout(K,m),S=!0)},D}function f(c,m,v){var S=m[1],E=m[0],D=S-E;return c===S&&v?c:((c-E)%D+D)%D+E}function h(){return!1}function p(c,m){if(m===!1)return c;var v=Math.pow(10,m===void 0?6:m);return Math.round(c*v)/v}function g(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function y(c){return g(c).split(/\s+/)}function b(c,m){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?i(c.options):{});for(var v in m)c.options[v]=m[v];return c.options}function _(c,m,v){var S=[];for(var E in c)S.push(encodeURIComponent(v?E.toUpperCase():E)+"="+encodeURIComponent(c[E]));return(!m||m.indexOf("?")===-1?"?":"&")+S.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function k(c,m){return c.replace(w,function(v,S){var E=m[S];if(E===void 0)throw new Error("No value provided for variable "+v);return typeof E=="function"&&(E=E(m)),E})}var j=Array.isArray||function(c){return Object.prototype.toString.call(c)==="[object Array]"};function N(c,m){for(var v=0;v<c.length;v++)if(c[v]===m)return v;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}var A=0;function O(c){var m=+new Date,v=Math.max(0,16-(m-A));return A=m+v,window.setTimeout(c,v)}var M=window.requestAnimationFrame||C("RequestAnimationFrame")||O,$=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)};function I(c,m,v){if(v&&M===O)c.call(m);else return M.call(window,o(c,m))}function R(c){c&&$.call(window,c)}var B={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:u,throttle:d,wrapNum:f,falseFn:h,formatNum:p,trim:g,splitWords:y,setOptions:b,getParamString:_,template:k,isArray:j,indexOf:N,emptyImageUrl:P,requestFn:M,cancelFn:$,requestAnimFrame:I,cancelAnimFrame:R};function F(){}F.extend=function(c){var m=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=m.__super__=this.prototype,S=i(v);S.constructor=m,m.prototype=S;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(m[E]=this[E]);return c.statics&&a(m,c.statics),c.includes&&(q(c.includes),a.apply(null,[S].concat(c.includes))),a(S,c),delete S.statics,delete S.includes,S.options&&(S.options=v.options?i(v.options):{},a(S.options,c.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,K=S._initHooks.length;D<K;D++)S._initHooks[D].call(this)}},m},F.include=function(c){var m=this.prototype.options;return a(this.prototype,c),c.options&&(this.prototype.options=m,this.mergeOptions(c.options)),this},F.mergeOptions=function(c){return a(this.prototype.options,c),this},F.addInitHook=function(c){var m=Array.prototype.slice.call(arguments,1),v=typeof c=="function"?c:function(){this[c].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function q(c){if(!(typeof L>"u"||!L||!L.Mixin)){c=j(c)?c:[c];for(var m=0;m<c.length;m++)c[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(c,m,v){if(typeof c=="object")for(var S in c)this._on(S,c[S],m);else{c=y(c);for(var E=0,D=c.length;E<D;E++)this._on(c[E],m,v)}return this},off:function(c,m,v){if(!arguments.length)delete this._events;else if(typeof c=="object")for(var S in c)this._off(S,c[S],m);else{c=y(c);for(var E=arguments.length===1,D=0,K=c.length;D<K;D++)E?this._off(c[D]):this._off(c[D],m,v)}return this},_on:function(c,m,v,S){if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}if(this._listens(c,m,v)===!1){v===this&&(v=void 0);var E={fn:m,ctx:v};S&&(E.once=!0),this._events=this._events||{},this._events[c]=this._events[c]||[],this._events[c].push(E)}},_off:function(c,m,v){var S,E,D;if(this._events&&(S=this._events[c],!!S)){if(arguments.length===1){if(this._firingCount)for(E=0,D=S.length;E<D;E++)S[E].fn=h;delete this._events[c];return}if(typeof m!="function"){console.warn("wrong listener type: "+typeof m);return}var K=this._listens(c,m,v);if(K!==!1){var J=S[K];this._firingCount&&(J.fn=h,this._events[c]=S=S.slice()),S.splice(K,1)}}},fire:function(c,m,v){if(!this.listens(c,v))return this;var S=a({},m,{type:c,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var E=this._events[c];if(E){this._firingCount=this._firingCount+1||1;for(var D=0,K=E.length;D<K;D++){var J=E[D],ne=J.fn;J.once&&this.off(c,ne,J.ctx),ne.call(J.ctx||this,S)}this._firingCount--}}return v&&this._propagateEvent(S),this},listens:function(c,m,v,S){typeof c!="string"&&console.warn('"string" type argument expected');var E=m;typeof m!="function"&&(S=!!m,E=void 0,v=void 0);var D=this._events&&this._events[c];if(D&&D.length&&this._listens(c,E,v)!==!1)return!0;if(S){for(var K in this._eventParents)if(this._eventParents[K].listens(c,m,v,S))return!0}return!1},_listens:function(c,m,v){if(!this._events)return!1;var S=this._events[c]||[];if(!m)return!!S.length;v===this&&(v=void 0);for(var E=0,D=S.length;E<D;E++)if(S[E].fn===m&&S[E].ctx===v)return E;return!1},once:function(c,m,v){if(typeof c=="object")for(var S in c)this._on(S,c[S],m,!0);else{c=y(c);for(var E=0,D=c.length;E<D;E++)this._on(c[E],m,v,!0)}return this},addEventParent:function(c){return this._eventParents=this._eventParents||{},this._eventParents[u(c)]=c,this},removeEventParent:function(c){return this._eventParents&&delete this._eventParents[u(c)],this},_propagateEvent:function(c){for(var m in this._eventParents)this._eventParents[m].fire(c.type,a({layer:c.target,propagatedFrom:c.target},c),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var V=F.extend(W);function z(c,m,v){this.x=v?Math.round(c):c,this.y=v?Math.round(m):m}var T=Math.trunc||function(c){return c>0?Math.floor(c):Math.ceil(c)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(c){return this.clone()._add(U(c))},_add:function(c){return this.x+=c.x,this.y+=c.y,this},subtract:function(c){return this.clone()._subtract(U(c))},_subtract:function(c){return this.x-=c.x,this.y-=c.y,this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){return this.x/=c,this.y/=c,this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){return this.x*=c,this.y*=c,this},scaleBy:function(c){return new z(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new z(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=T(this.x),this.y=T(this.y),this},distanceTo:function(c){c=U(c);var m=c.x-this.x,v=c.y-this.y;return Math.sqrt(m*m+v*v)},equals:function(c){return c=U(c),c.x===this.x&&c.y===this.y},contains:function(c){return c=U(c),Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function U(c,m,v){return c instanceof z?c:j(c)?new z(c[0],c[1]):c==null?c:typeof c=="object"&&"x"in c&&"y"in c?new z(c.x,c.y):new z(c,m,v)}function Z(c,m){if(c)for(var v=m?[c,m]:c,S=0,E=v.length;S<E;S++)this.extend(v[S])}Z.prototype={extend:function(c){var m,v;if(!c)return this;if(c instanceof z||typeof c[0]=="number"||"x"in c)m=v=U(c);else if(c=G(c),m=c.min,v=c.max,!m||!v)return this;return!this.min&&!this.max?(this.min=m.clone(),this.max=v.clone()):(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(c){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){var m,v;return typeof c[0]=="number"||c instanceof z?c=U(c):c=G(c),c instanceof Z?(m=c.min,v=c.max):m=v=c,m.x>=this.min.x&&v.x<=this.max.x&&m.y>=this.min.y&&v.y<=this.max.y},intersects:function(c){c=G(c);var m=this.min,v=this.max,S=c.min,E=c.max,D=E.x>=m.x&&S.x<=v.x,K=E.y>=m.y&&S.y<=v.y;return D&&K},overlaps:function(c){c=G(c);var m=this.min,v=this.max,S=c.min,E=c.max,D=E.x>m.x&&S.x<v.x,K=E.y>m.y&&S.y<v.y;return D&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(c){var m=this.min,v=this.max,S=Math.abs(m.x-v.x)*c,E=Math.abs(m.y-v.y)*c;return G(U(m.x-S,m.y-E),U(v.x+S,v.y+E))},equals:function(c){return c?(c=G(c),this.min.equals(c.getTopLeft())&&this.max.equals(c.getBottomRight())):!1}};function G(c,m){return!c||c instanceof Z?c:new Z(c,m)}function H(c,m){if(c)for(var v=m?[c,m]:c,S=0,E=v.length;S<E;S++)this.extend(v[S])}H.prototype={extend:function(c){var m=this._southWest,v=this._northEast,S,E;if(c instanceof se)S=c,E=c;else if(c instanceof H){if(S=c._southWest,E=c._northEast,!S||!E)return this}else return c?this.extend(oe(c)||Q(c)):this;return!m&&!v?(this._southWest=new se(S.lat,S.lng),this._northEast=new se(E.lat,E.lng)):(m.lat=Math.min(S.lat,m.lat),m.lng=Math.min(S.lng,m.lng),v.lat=Math.max(E.lat,v.lat),v.lng=Math.max(E.lng,v.lng)),this},pad:function(c){var m=this._southWest,v=this._northEast,S=Math.abs(m.lat-v.lat)*c,E=Math.abs(m.lng-v.lng)*c;return new H(new se(m.lat-S,m.lng-E),new se(v.lat+S,v.lng+E))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){typeof c[0]=="number"||c instanceof se||"lat"in c?c=oe(c):c=Q(c);var m=this._southWest,v=this._northEast,S,E;return c instanceof H?(S=c.getSouthWest(),E=c.getNorthEast()):S=E=c,S.lat>=m.lat&&E.lat<=v.lat&&S.lng>=m.lng&&E.lng<=v.lng},intersects:function(c){c=Q(c);var m=this._southWest,v=this._northEast,S=c.getSouthWest(),E=c.getNorthEast(),D=E.lat>=m.lat&&S.lat<=v.lat,K=E.lng>=m.lng&&S.lng<=v.lng;return D&&K},overlaps:function(c){c=Q(c);var m=this._southWest,v=this._northEast,S=c.getSouthWest(),E=c.getNorthEast(),D=E.lat>m.lat&&S.lat<v.lat,K=E.lng>m.lng&&S.lng<v.lng;return D&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(c,m){return c?(c=Q(c),this._southWest.equals(c.getSouthWest(),m)&&this._northEast.equals(c.getNorthEast(),m)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(c,m){return c instanceof H?c:new H(c,m)}function se(c,m,v){if(isNaN(c)||isNaN(m))throw new Error("Invalid LatLng object: ("+c+", "+m+")");this.lat=+c,this.lng=+m,v!==void 0&&(this.alt=+v)}se.prototype={equals:function(c,m){if(!c)return!1;c=oe(c);var v=Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng));return v<=(m===void 0?1e-9:m)},toString:function(c){return"LatLng("+p(this.lat,c)+", "+p(this.lng,c)+")"},distanceTo:function(c){return le.distance(this,oe(c))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(c){var m=180*c/40075017,v=m/Math.cos(Math.PI/180*this.lat);return Q([this.lat-m,this.lng-v],[this.lat+m,this.lng+v])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function oe(c,m,v){return c instanceof se?c:j(c)&&typeof c[0]!="object"?c.length===3?new se(c[0],c[1],c[2]):c.length===2?new se(c[0],c[1]):null:c==null?c:typeof c=="object"&&"lat"in c?new se(c.lat,"lng"in c?c.lng:c.lon,c.alt):m===void 0?null:new se(c,m,v)}var ie={latLngToPoint:function(c,m){var v=this.projection.project(c),S=this.scale(m);return this.transformation._transform(v,S)},pointToLatLng:function(c,m){var v=this.scale(m),S=this.transformation.untransform(c,v);return this.projection.unproject(S)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var m=this.projection.bounds,v=this.scale(c),S=this.transformation.transform(m.min,v),E=this.transformation.transform(m.max,v);return new Z(S,E)},infinite:!1,wrapLatLng:function(c){var m=this.wrapLng?f(c.lng,this.wrapLng,!0):c.lng,v=this.wrapLat?f(c.lat,this.wrapLat,!0):c.lat,S=c.alt;return new se(v,m,S)},wrapLatLngBounds:function(c){var m=c.getCenter(),v=this.wrapLatLng(m),S=m.lat-v.lat,E=m.lng-v.lng;if(S===0&&E===0)return c;var D=c.getSouthWest(),K=c.getNorthEast(),J=new se(D.lat-S,D.lng-E),ne=new se(K.lat-S,K.lng-E);return new H(J,ne)}},le=a({},ie,{wrapLng:[-180,180],R:6371e3,distance:function(c,m){var v=Math.PI/180,S=c.lat*v,E=m.lat*v,D=Math.sin((m.lat-c.lat)*v/2),K=Math.sin((m.lng-c.lng)*v/2),J=D*D+Math.cos(S)*Math.cos(E)*K*K,ne=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*ne}}),X=6378137,me={R:X,MAX_LATITUDE:85.0511287798,project:function(c){var m=Math.PI/180,v=this.MAX_LATITUDE,S=Math.max(Math.min(v,c.lat),-v),E=Math.sin(S*m);return new z(this.R*c.lng*m,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(c){var m=180/Math.PI;return new se((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*m,c.x*m/this.R)},bounds:function(){var c=X*Math.PI;return new Z([-c,-c],[c,c])}()};function fe(c,m,v,S){if(j(c)){this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3];return}this._a=c,this._b=m,this._c=v,this._d=S}fe.prototype={transform:function(c,m){return this._transform(c.clone(),m)},_transform:function(c,m){return m=m||1,c.x=m*(this._a*c.x+this._b),c.y=m*(this._c*c.y+this._d),c},untransform:function(c,m){return m=m||1,new z((c.x/m-this._b)/this._a,(c.y/m-this._d)/this._c)}};function te(c,m,v,S){return new fe(c,m,v,S)}var pe=a({},le,{code:"EPSG:3857",projection:me,transformation:function(){var c=.5/(Math.PI*me.R);return te(c,.5,-c,.5)}()}),we=a({},pe,{code:"EPSG:900913"});function Oe(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function Pe(c,m){var v="",S,E,D,K,J,ne;for(S=0,D=c.length;S<D;S++){for(J=c[S],E=0,K=J.length;E<K;E++)ne=J[E],v+=(E?"L":"M")+ne.x+" "+ne.y;v+=m?ke.svg?"z":"x":""}return v||"M0 0"}var Ve=document.documentElement.style,Ht="ActiveXObject"in window,Br=Ht&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),he=Sn("webkit"),Ne=Sn("android"),_e=Sn("android 2")||Sn("android 3"),Re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dt=Ne&&Sn("Google")&&Re<537&&!("AudioNode"in window),Qt=!!window.opera,St=!ee&&Sn("chrome"),Ur=Sn("gecko")&&!he&&!Qt&&!Ht,Dt=!St&&Sn("safari"),Pt=Sn("phantom"),Hr="OTransition"in Ve,ei=navigator.platform.indexOf("Win")===0,Tt=Ht&&"transition"in Ve,Nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_e,ah="MozPerspective"in Ve,_y=!window.L_DISABLE_3D&&(Tt||Nn||ah)&&!Hr&&!Pt,Gs=typeof orientation<"u"||Sn("mobile"),jy=Gs&&he,ky=Gs&&Nn,ih=!window.PointerEvent&&window.MSPointerEvent,sh=!!(window.PointerEvent||ih),oh="ontouchstart"in window||!!window.TouchEvent,Ny=!window.L_NO_TOUCH&&(oh||sh),Sy=Gs&&Qt,Py=Gs&&Ur,Cy=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ey=function(){var c=!1;try{var m=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",h,m),window.removeEventListener("testPassiveEventSupport",h,m)}catch{}return c}(),Oy=function(){return!!document.createElement("canvas").getContext}(),ou=!!(document.createElementNS&&Oe("svg").createSVGRect),Ay=!!ou&&function(){var c=document.createElement("div");return c.innerHTML="<svg/>",(c.firstChild&&c.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ty=!ou&&function(){try{var c=document.createElement("div");c.innerHTML='<v:shape adj="1"/>';var m=c.firstChild;return m.style.behavior="url(#default#VML)",m&&typeof m.adj=="object"}catch{return!1}}(),My=navigator.platform.indexOf("Mac")===0,Iy=navigator.platform.indexOf("Linux")===0;function Sn(c){return navigator.userAgent.toLowerCase().indexOf(c)>=0}var ke={ie:Ht,ielt9:Br,edge:ee,webkit:he,android:Ne,android23:_e,androidStock:dt,opera:Qt,chrome:St,gecko:Ur,safari:Dt,phantom:Pt,opera12:Hr,win:ei,ie3d:Tt,webkit3d:Nn,gecko3d:ah,any3d:_y,mobile:Gs,mobileWebkit:jy,mobileWebkit3d:ky,msPointer:ih,pointer:sh,touch:Ny,touchNative:oh,mobileOpera:Sy,mobileGecko:Py,retina:Cy,passiveEvents:Ey,canvas:Oy,svg:ou,vml:Ty,inlineSvg:Ay,mac:My,linux:Iy},lh=ke.msPointer?"MSPointerDown":"pointerdown",ch=ke.msPointer?"MSPointerMove":"pointermove",uh=ke.msPointer?"MSPointerUp":"pointerup",dh=ke.msPointer?"MSPointerCancel":"pointercancel",lu={touchstart:lh,touchmove:ch,touchend:uh,touchcancel:dh},cu={touchstart:$y,touchmove:Xs,touchend:Xs,touchcancel:Xs},ti={},uu=!1;function Ly(c,m,v){return m==="touchstart"&&Fy(),cu[m]?(v=cu[m].bind(this,v),c.addEventListener(lu[m],v,!1),v):(console.warn("wrong event specified:",m),h)}function Dy(c,m,v){if(!lu[m]){console.warn("wrong event specified:",m);return}c.removeEventListener(lu[m],v,!1)}function Ry(c){ti[c.pointerId]=c}function zy(c){ti[c.pointerId]&&(ti[c.pointerId]=c)}function fh(c){delete ti[c.pointerId]}function Fy(){uu||(document.addEventListener(lh,Ry,!0),document.addEventListener(ch,zy,!0),document.addEventListener(uh,fh,!0),document.addEventListener(dh,fh,!0),uu=!0)}function Xs(c,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){m.touches=[];for(var v in ti)m.touches.push(ti[v]);m.changedTouches=[m],c(m)}}function $y(c,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&fr(m),Xs(c,m)}function By(c){var m={},v,S;for(S in c)v=c[S],m[S]=v&&v.bind?v.bind(c):v;return c=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}var Uy=200;function Hy(c,m){c.addEventListener("dblclick",m);var v=0,S;function E(D){if(D.detail!==1){S=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var K=Bk(D);if(!(K.some(function(ne){return ne instanceof HTMLLabelElement&&ne.attributes.for})&&!K.some(function(ne){return ne instanceof HTMLInputElement||ne instanceof HTMLSelectElement}))){var J=Date.now();J-v<=Uy?(S++,S===2&&m(By(D))):S=1,v=J}}}return c.addEventListener("click",E),{dblclick:m,simDblclick:E}}function Wy(c,m){c.removeEventListener("dblclick",m.dblclick),c.removeEventListener("click",m.simDblclick)}var du=dl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qs=dl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fu=Qs==="webkitTransition"||Qs==="OTransition"?Qs+"End":"transitionend";function hh(c){return typeof c=="string"?document.getElementById(c):c}function Js(c,m){var v=c.style[m]||c.currentStyle&&c.currentStyle[m];if((!v||v==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(c,null);v=S?S[m]:null}return v==="auto"?null:v}function Be(c,m,v){var S=document.createElement(c);return S.className=m||"",v&&v.appendChild(S),S}function it(c){var m=c.parentNode;m&&m.removeChild(c)}function ll(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function Zi(c){var m=c.parentNode;m&&m.lastChild!==c&&m.appendChild(c)}function Yi(c){var m=c.parentNode;m&&m.firstChild!==c&&m.insertBefore(c,m.firstChild)}function hu(c,m){if(c.classList!==void 0)return c.classList.contains(m);var v=ul(c);return v.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(v)}function Ae(c,m){if(c.classList!==void 0)for(var v=y(m),S=0,E=v.length;S<E;S++)c.classList.add(v[S]);else if(!hu(c,m)){var D=ul(c);cl(c,(D?D+" ":"")+m)}}function vt(c,m){c.classList!==void 0?c.classList.remove(m):cl(c,g((" "+ul(c)+" ").replace(" "+m+" "," ")))}function cl(c,m){c.className.baseVal===void 0?c.className=m:c.className.baseVal=m}function ul(c){return c.correspondingElement&&(c=c.correspondingElement),c.className.baseVal===void 0?c.className:c.className.baseVal}function Wr(c,m){"opacity"in c.style?c.style.opacity=m:"filter"in c.style&&mu(c,m)}function mu(c,m){var v=!1,S="DXImageTransform.Microsoft.Alpha";try{v=c.filters.item(S)}catch{if(m===1)return}m=Math.round(m*100),v?(v.Enabled=m!==100,v.Opacity=m):c.style.filter+=" progid:"+S+"(opacity="+m+")"}function dl(c){for(var m=document.documentElement.style,v=0;v<c.length;v++)if(c[v]in m)return c[v];return!1}function ri(c,m,v){var S=m||new z(0,0);c.style[du]=(ke.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(v?" scale("+v+")":"")}function bt(c,m){c._leaflet_pos=m,ke.any3d?ri(c,m):(c.style.left=m.x+"px",c.style.top=m.y+"px")}function eo(c){return c._leaflet_pos||new z(0,0)}var pu,gu,Vy;if("onselectstart"in document)pu=function(){Te(window,"selectstart",fr)},gu=function(){tt(window,"selectstart",fr)};else{var yu=dl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pu=function(){if(yu){var c=document.documentElement.style;Vy=c[yu],c[yu]="none"}},gu=function(){yu&&(document.documentElement.style[yu]=Vy,Vy=void 0)}}function Ky(){Te(window,"dragstart",fr)}function qy(){tt(window,"dragstart",fr)}var mh,Zy;function Yy(c){for(;c.tabIndex===-1;)c=c.parentNode;c.style&&(ph(),mh=c,Zy=c.style.outlineStyle,c.style.outlineStyle="none",Te(window,"keydown",ph))}function ph(){mh&&(mh.style.outlineStyle=Zy,mh=void 0,Zy=void 0,tt(window,"keydown",ph))}function Fk(c){do c=c.parentNode;while((!c.offsetWidth||!c.offsetHeight)&&c!==document.body);return c}function Gy(c){var m=c.getBoundingClientRect();return{x:m.width/c.offsetWidth||1,y:m.height/c.offsetHeight||1,boundingClientRect:m}}var Oz={__proto__:null,TRANSFORM:du,TRANSITION:Qs,TRANSITION_END:fu,get:hh,getStyle:Js,create:Be,remove:it,empty:ll,toFront:Zi,toBack:Yi,hasClass:hu,addClass:Ae,removeClass:vt,setClass:cl,getClass:ul,setOpacity:Wr,testProp:dl,setTransform:ri,setPosition:bt,getPosition:eo,get disableTextSelection(){return pu},get enableTextSelection(){return gu},disableImageDrag:Ky,enableImageDrag:qy,preventOutline:Yy,restoreOutline:ph,getSizedParentNode:Fk,getScale:Gy};function Te(c,m,v,S){if(m&&typeof m=="object")for(var E in m)Qy(c,E,m[E],v);else{m=y(m);for(var D=0,K=m.length;D<K;D++)Qy(c,m[D],v,S)}return this}var Pa="_leaflet_events";function tt(c,m,v,S){if(arguments.length===1)$k(c),delete c[Pa];else if(m&&typeof m=="object")for(var E in m)Jy(c,E,m[E],v);else if(m=y(m),arguments.length===2)$k(c,function(J){return N(m,J)!==-1});else for(var D=0,K=m.length;D<K;D++)Jy(c,m[D],v,S);return this}function $k(c,m){for(var v in c[Pa]){var S=v.split(/\d/)[0];(!m||m(S))&&Jy(c,S,null,null,v)}}var Xy={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Qy(c,m,v,S){var E=m+u(v)+(S?"_"+u(S):"");if(c[Pa]&&c[Pa][E])return this;var D=function(J){return v.call(S||c,J||window.event)},K=D;!ke.touchNative&&ke.pointer&&m.indexOf("touch")===0?D=Ly(c,m,D):ke.touch&&m==="dblclick"?D=Hy(c,D):"addEventListener"in c?m==="touchstart"||m==="touchmove"||m==="wheel"||m==="mousewheel"?c.addEventListener(Xy[m]||m,D,ke.passiveEvents?{passive:!1}:!1):m==="mouseenter"||m==="mouseleave"?(D=function(J){J=J||window.event,tx(c,J)&&K(J)},c.addEventListener(Xy[m],D,!1)):c.addEventListener(m,K,!1):c.attachEvent("on"+m,D),c[Pa]=c[Pa]||{},c[Pa][E]=D}function Jy(c,m,v,S,E){E=E||m+u(v)+(S?"_"+u(S):"");var D=c[Pa]&&c[Pa][E];if(!D)return this;!ke.touchNative&&ke.pointer&&m.indexOf("touch")===0?Dy(c,m,D):ke.touch&&m==="dblclick"?Wy(c,D):"removeEventListener"in c?c.removeEventListener(Xy[m]||m,D,!1):c.detachEvent("on"+m,D),c[Pa][E]=null}function to(c){return c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0,this}function ex(c){return Qy(c,"wheel",to),this}function xu(c){return Te(c,"mousedown touchstart dblclick contextmenu",to),c._leaflet_disable_click=!0,this}function fr(c){return c.preventDefault?c.preventDefault():c.returnValue=!1,this}function ro(c){return fr(c),to(c),this}function Bk(c){if(c.composedPath)return c.composedPath();for(var m=[],v=c.target;v;)m.push(v),v=v.parentNode;return m}function Uk(c,m){if(!m)return new z(c.clientX,c.clientY);var v=Gy(m),S=v.boundingClientRect;return new z((c.clientX-S.left)/v.x-m.clientLeft,(c.clientY-S.top)/v.y-m.clientTop)}var Az=ke.linux&&ke.chrome?window.devicePixelRatio:ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hk(c){return ke.edge?c.wheelDeltaY/2:c.deltaY&&c.deltaMode===0?-c.deltaY/Az:c.deltaY&&c.deltaMode===1?-c.deltaY*20:c.deltaY&&c.deltaMode===2?-c.deltaY*60:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&Math.abs(c.detail)<32765?-c.detail*20:c.detail?c.detail/-32765*60:0}function tx(c,m){var v=m.relatedTarget;if(!v)return!0;try{for(;v&&v!==c;)v=v.parentNode}catch{return!1}return v!==c}var Tz={__proto__:null,on:Te,off:tt,stopPropagation:to,disableScrollPropagation:ex,disableClickPropagation:xu,preventDefault:fr,stop:ro,getPropagationPath:Bk,getMousePosition:Uk,getWheelDelta:Hk,isExternalTarget:tx,addListener:Te,removeListener:tt},Wk=V.extend({run:function(c,m,v,S){this.stop(),this._el=c,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=eo(c),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(c){var m=+new Date-this._startTime,v=this._duration*1e3;m<v?this._runFrame(this._easeOut(m/v),c):(this._runFrame(1),this._complete())},_runFrame:function(c,m){var v=this._startPos.add(this._offset.multiplyBy(c));m&&v._round(),bt(this._el,v),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Ue=V.extend({options:{crs:pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,m){m=b(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(c),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),m.zoom!==void 0&&(this._zoom=this._limitZoom(m.zoom)),m.center&&m.zoom!==void 0&&this.setView(oe(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qs&&ke.any3d&&!ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,fu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(c,m,v){if(m=m===void 0?this._zoom:this._limitZoom(m),c=this._limitCenter(oe(c),m,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=a({animate:v.animate},v.zoom),v.pan=a({animate:v.animate,duration:v.duration},v.pan));var S=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,m,v.zoom):this._tryAnimatedPan(c,v.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(c,m,v.pan&&v.pan.noMoveStart),this},setZoom:function(c,m){return this._loaded?this.setView(this.getCenter(),c,{zoom:m}):(this._zoom=c,this)},zoomIn:function(c,m){return c=c||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+c,m)},zoomOut:function(c,m){return c=c||(ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-c,m)},setZoomAround:function(c,m,v){var S=this.getZoomScale(m),E=this.getSize().divideBy(2),D=c instanceof z?c:this.latLngToContainerPoint(c),K=D.subtract(E).multiplyBy(1-1/S),J=this.containerPointToLatLng(E.add(K));return this.setView(J,m,{zoom:v})},_getBoundsCenterZoom:function(c,m){m=m||{},c=c.getBounds?c.getBounds():Q(c);var v=U(m.paddingTopLeft||m.padding||[0,0]),S=U(m.paddingBottomRight||m.padding||[0,0]),E=this.getBoundsZoom(c,!1,v.add(S));if(E=typeof m.maxZoom=="number"?Math.min(m.maxZoom,E):E,E===1/0)return{center:c.getCenter(),zoom:E};var D=S.subtract(v).divideBy(2),K=this.project(c.getSouthWest(),E),J=this.project(c.getNorthEast(),E),ne=this.unproject(K.add(J).divideBy(2).add(D),E);return{center:ne,zoom:E}},fitBounds:function(c,m){if(c=Q(c),!c.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(c,m);return this.setView(v.center,v.zoom,m)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,m){return this.setView(c,this._zoom,{pan:m})},panBy:function(c,m){if(c=U(c).round(),m=m||{},!c.x&&!c.y)return this.fire("moveend");if(m.animate!==!0&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wk,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(c).round();this._panAnim.run(this._mapPane,v,m.duration||.25,m.easeLinearity)}else this._rawPanBy(c),this.fire("move").fire("moveend");return this},flyTo:function(c,m,v){if(v=v||{},v.animate===!1||!ke.any3d)return this.setView(c,m,v);this._stop();var S=this.project(this.getCenter()),E=this.project(c),D=this.getSize(),K=this._zoom;c=oe(c),m=m===void 0?K:m;var J=Math.max(D.x,D.y),ne=J*this.getZoomScale(K,m),ce=E.distanceTo(S)||1,ge=1.42,Ee=ge*ge;function Le(Rt){var Ph=Rt?-1:1,bF=Rt?ne:J,wF=ne*ne-J*J+Ph*Ee*Ee*ce*ce,_F=2*bF*Ee*ce,fx=wF/_F,kN=Math.sqrt(fx*fx+1)-fx,jF=kN<1e-9?-18:Math.log(kN);return jF}function Er(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function Jt(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function Cn(Rt){return Er(Rt)/Jt(Rt)}var Vr=Le(0);function yl(Rt){return J*(Jt(Vr)/Jt(Vr+ge*Rt))}function gF(Rt){return J*(Jt(Vr)*Cn(Vr+ge*Rt)-Er(Vr))/Ee}function yF(Rt){return 1-Math.pow(1-Rt,1.5)}var xF=Date.now(),_N=(Le(1)-Vr)/ge,vF=v.duration?1e3*v.duration:1e3*_N*.8;function jN(){var Rt=(Date.now()-xF)/vF,Ph=yF(Rt)*_N;Rt<=1?(this._flyToFrame=I(jN,this),this._move(this.unproject(S.add(E.subtract(S).multiplyBy(gF(Ph)/ce)),K),this.getScaleZoom(J/yl(Ph),K),{flyTo:!0})):this._move(c,m)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),jN.call(this),this},flyToBounds:function(c,m){var v=this._getBoundsCenterZoom(c,m);return this.flyTo(v.center,v.zoom,m)},setMaxBounds:function(c){return c=Q(c),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),c.isValid()?(this.options.maxBounds=c,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(c){var m=this.options.minZoom;return this.options.minZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var m=this.options.maxZoom;return this.options.maxZoom=c,this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,m){this._enforcingBounds=!0;var v=this.getCenter(),S=this._limitCenter(v,this._zoom,Q(c));return v.equals(S)||this.panTo(S,m),this._enforcingBounds=!1,this},panInside:function(c,m){m=m||{};var v=U(m.paddingTopLeft||m.padding||[0,0]),S=U(m.paddingBottomRight||m.padding||[0,0]),E=this.project(this.getCenter()),D=this.project(c),K=this.getPixelBounds(),J=G([K.min.add(v),K.max.subtract(S)]),ne=J.getSize();if(!J.contains(D)){this._enforcingBounds=!0;var ce=D.subtract(J.getCenter()),ge=J.extend(D).getSize().subtract(ne);E.x+=ce.x<0?-ge.x:ge.x,E.y+=ce.y<0?-ge.y:ge.y,this.panTo(this.unproject(E),m),this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=a({animate:!1,pan:!0},c===!0?{animate:!0}:c);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),S=m.divideBy(2).round(),E=v.divideBy(2).round(),D=S.subtract(E);return!D.x&&!D.y?this:(c.animate&&c.pan?this.panBy(D):(c.pan&&this._rawPanBy(D),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(c){if(c=this._locateOptions=a({timeout:1e4,watch:!1},c),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=o(this._handleGeolocationResponse,this),v=o(this._handleGeolocationError,this);return c.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,v,c):navigator.geolocation.getCurrentPosition(m,v,c),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(c){if(this._container._leaflet_id){var m=c.code,v=c.message||(m===1?"permission denied":m===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(c){if(this._container._leaflet_id){var m=c.coords.latitude,v=c.coords.longitude,S=new se(m,v),E=S.toBounds(c.coords.accuracy*2),D=this._locateOptions;if(D.setView){var K=this.getBoundsZoom(E);this.setView(S,D.maxZoom?Math.min(K,D.maxZoom):K)}var J={latlng:S,bounds:E,timestamp:c.timestamp};for(var ne in c.coords)typeof c.coords[ne]=="number"&&(J[ne]=c.coords[ne]);this.fire("locationfound",J)}},addHandler:function(c,m){if(!m)return this;var v=this[c]=new m(this);return this._handlers.push(v),this.options[c]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var c;for(c in this._layers)this._layers[c].remove();for(c in this._panes)it(this._panes[c]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(c,m){var v="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":""),S=Be("div",v,m||this._mapPane);return c&&(this._panes[c]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=this.getPixelBounds(),m=this.unproject(c.getBottomLeft()),v=this.unproject(c.getTopRight());return new H(m,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,m,v){c=Q(c),v=U(v||[0,0]);var S=this.getZoom()||0,E=this.getMinZoom(),D=this.getMaxZoom(),K=c.getNorthWest(),J=c.getSouthEast(),ne=this.getSize().subtract(v),ce=G(this.project(J,S),this.project(K,S)).getSize(),ge=ke.any3d?this.options.zoomSnap:1,Ee=ne.x/ce.x,Le=ne.y/ce.y,Er=m?Math.max(Ee,Le):Math.min(Ee,Le);return S=this.getScaleZoom(Er,S),ge&&(S=Math.round(S/(ge/100))*(ge/100),S=m?Math.ceil(S/ge)*ge:Math.floor(S/ge)*ge),Math.max(E,Math.min(D,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(c,m){var v=this._getTopLeftPoint(c,m);return new Z(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(c===void 0?this.getZoom():c)},getPane:function(c){return typeof c=="string"?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,m){var v=this.options.crs;return m=m===void 0?this._zoom:m,v.scale(c)/v.scale(m)},getScaleZoom:function(c,m){var v=this.options.crs;m=m===void 0?this._zoom:m;var S=v.zoom(c*v.scale(m));return isNaN(S)?1/0:S},project:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.latLngToPoint(oe(c),m)},unproject:function(c,m){return m=m===void 0?this._zoom:m,this.options.crs.pointToLatLng(U(c),m)},layerPointToLatLng:function(c){var m=U(c).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(c){var m=this.project(oe(c))._round();return m._subtract(this.getPixelOrigin())},wrapLatLng:function(c){return this.options.crs.wrapLatLng(oe(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(Q(c))},distance:function(c,m){return this.options.crs.distance(oe(c),oe(m))},containerPointToLayerPoint:function(c){return U(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return U(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){var m=this.containerPointToLayerPoint(U(c));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(c)))},mouseEventToContainerPoint:function(c){return Uk(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){var m=this._container=hh(c);if(m){if(m._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(m,"scroll",this._onScroll,this),this._containerId=u(m)},_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&ke.any3d,Ae(c,"leaflet-container"+(ke.touch?" leaflet-touch":"")+(ke.retina?" leaflet-retina":"")+(ke.ielt9?" leaflet-oldie":"")+(ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Js(c,"position");m!=="absolute"&&m!=="relative"&&m!=="fixed"&&m!=="sticky"&&(c.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bt(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(c.markerPane,"leaflet-zoom-hide"),Ae(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,m,v){bt(this._mapPane,new z(0,0));var S=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var E=this._zoom!==m;this._moveStart(E,v)._move(c,m)._moveEnd(E),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(c,m){return c&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(c,m,v,S){m===void 0&&(m=this._zoom);var E=this._zoom!==m;return this._zoom=m,this._lastCenter=c,this._pixelOrigin=this._getNewPixelOrigin(c),S?v&&v.pinch&&this.fire("zoom",v):((E||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(c){return c&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(c){bt(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(c){this._targets={},this._targets[u(this._container)]=this;var m=c?tt:Te;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),ke.any3d&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,m){for(var v=[],S,E=m==="mouseout"||m==="mouseover",D=c.target||c.srcElement,K=!1;D;){if(S=this._targets[u(D)],S&&(m==="click"||m==="preclick")&&this._draggableMoved(S)){K=!0;break}if(S&&S.listens(m,!0)&&(E&&!tx(D,c)||(v.push(S),E))||D===this._container)break;D=D.parentNode}return!v.length&&!K&&!E&&this.listens(m,!0)&&(v=[this]),v},_isClickDisabled:function(c){for(;c&&c!==this._container;){if(c._leaflet_disable_click)return!0;c=c.parentNode}},_handleDOMEvent:function(c){var m=c.target||c.srcElement;if(!(!this._loaded||m._leaflet_disable_events||c.type==="click"&&this._isClickDisabled(m))){var v=c.type;v==="mousedown"&&Yy(m),this._fireDOMEvent(c,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,m,v){if(c.type==="click"){var S=a({},c);S.type="preclick",this._fireDOMEvent(S,S.type,v)}var E=this._findEventTargets(c,m);if(v){for(var D=[],K=0;K<v.length;K++)v[K].listens(m,!0)&&D.push(v[K]);E=D.concat(E)}if(E.length){m==="contextmenu"&&fr(c);var J=E[0],ne={originalEvent:c};if(c.type!=="keypress"&&c.type!=="keydown"&&c.type!=="keyup"){var ce=J.getLatLng&&(!J._radius||J._radius<=10);ne.containerPoint=ce?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(c),ne.layerPoint=this.containerPointToLayerPoint(ne.containerPoint),ne.latlng=ce?J.getLatLng():this.layerPointToLatLng(ne.layerPoint)}for(K=0;K<E.length;K++)if(E[K].fire(m,ne,!0),ne.originalEvent._stopped||E[K].options.bubblingMouseEvents===!1&&N(this._mouseEvents,m)!==-1)return}},_draggableMoved:function(c){return c=c.dragging&&c.dragging.enabled()?c:this,c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,m=this._handlers.length;c<m;c++)this._handlers[c].disable()},whenReady:function(c,m){return this._loaded?c.call(m||this,{target:this}):this.on("load",c,m),this},_getMapPanePos:function(){return eo(this._mapPane)||new z(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,m){var v=c&&m!==void 0?this._getNewPixelOrigin(c,m):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,m){var v=this.getSize()._divideBy(2);return this.project(c,m)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,m,v){var S=this._getNewPixelOrigin(v,m);return this.project(c,m)._subtract(S)},_latLngBoundsToNewLayerBounds:function(c,m,v){var S=this._getNewPixelOrigin(v,m);return G([this.project(c.getSouthWest(),m)._subtract(S),this.project(c.getNorthWest(),m)._subtract(S),this.project(c.getSouthEast(),m)._subtract(S),this.project(c.getNorthEast(),m)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,m,v){if(!v)return c;var S=this.project(c,m),E=this.getSize().divideBy(2),D=new Z(S.subtract(E),S.add(E)),K=this._getBoundsOffset(D,v,m);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?c:this.unproject(S.add(K),m)},_limitOffset:function(c,m){if(!m)return c;var v=this.getPixelBounds(),S=new Z(v.min.add(c),v.max.add(c));return c.add(this._getBoundsOffset(S,m))},_getBoundsOffset:function(c,m,v){var S=G(this.project(m.getNorthEast(),v),this.project(m.getSouthWest(),v)),E=S.min.subtract(c.min),D=S.max.subtract(c.max),K=this._rebound(E.x,-D.x),J=this._rebound(E.y,-D.y);return new z(K,J)},_rebound:function(c,m){return c+m>0?Math.round(c-m)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(m))},_limitZoom:function(c){var m=this.getMinZoom(),v=this.getMaxZoom(),S=ke.any3d?this.options.zoomSnap:1;return S&&(c=Math.round(c/S)*S),Math.max(m,Math.min(v,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(c,m){var v=this._getCenterOffset(c)._trunc();return(m&&m.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,m),!0)},_createAnimProxy:function(){var c=this._proxy=Be("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c),this.on("zoomanim",function(m){var v=du,S=this._proxy.style[v];ri(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),S===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),m=this.getZoom();ri(this._proxy,this.project(c,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(c){this._animatingZoom&&c.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,m,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(m),E=this._getCenterOffset(c)._divideBy(1-1/S);return v.animate!==!0&&!this.getSize().contains(E)?!1:(I(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(c,m,!0)},this),!0)},_animateZoom:function(c,m,v,S){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=m,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:m,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Mz(c,m){return new Ue(c,m)}var Jn=F.extend({options:{position:"topright"},initialize:function(c){b(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var m=this._map;return m&&m.removeControl(this),this.options.position=c,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(c){this.remove(),this._map=c;var m=this._container=this.onAdd(c),v=this.getPosition(),S=c._controlCorners[v];return Ae(m,"leaflet-control"),v.indexOf("bottom")!==-1?S.insertBefore(m,S.firstChild):S.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(c){this._map&&c&&c.screenX>0&&c.screenY>0&&this._map.getContainer().focus()}}),vu=function(c){return new Jn(c)};Ue.include({addControl:function(c){return c.addTo(this),this},removeControl:function(c){return c.remove(),this},_initControlPos:function(){var c=this._controlCorners={},m="leaflet-",v=this._controlContainer=Be("div",m+"control-container",this._container);function S(E,D){var K=m+E+" "+m+D;c[E+D]=Be("div",K,v)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)it(this._controlCorners[c]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vk=Jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,m,v,S){return v<S?-1:S<v?1:0}},initialize:function(c,m,v){b(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in c)this._addLayer(c[S],S);for(S in m)this._addLayer(m[S],S,!0)},onAdd:function(c){this._initLayout(),this._update(),this._map=c,c.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){return Jn.prototype.addTo.call(this,c),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,m){return this._addLayer(c,m),this._map?this._update():this},addOverlay:function(c,m){return this._addLayer(c,m,!0),this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);var m=this._getLayer(u(c));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);return c<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=c+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var c="leaflet-control-layers",m=this._container=Be("div",c),v=this.options.collapsed;m.setAttribute("aria-haspopup",!0),xu(m),ex(m);var S=this._section=Be("section",c+"-list");v&&(this._map.on("click",this.collapse,this),Te(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Be("a",c+"-toggle",m);E.href="#",E.title="Layers",E.setAttribute("role","button"),Te(E,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){fr(D),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Be("div",c+"-base",S),this._separator=Be("div",c+"-separator",S),this._overlaysList=Be("div",c+"-overlays",S),m.appendChild(S)},_getLayer:function(c){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&u(this._layers[m].layer)===c)return this._layers[m]},_addLayer:function(c,m,v){this._map&&c.on("add remove",this._onLayerChange,this),this._layers.push({layer:c,name:m,overlay:v}),this.options.sortLayers&&this._layers.sort(o(function(S,E){return this.options.sortFunction(S.layer,E.layer,S.name,E.name)},this)),this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ll(this._baseLayersList),ll(this._overlaysList),this._layerControlInputs=[];var c,m,v,S,E=0;for(v=0;v<this._layers.length;v++)S=this._layers[v],this._addItem(S),m=m||S.overlay,c=c||!S.overlay,E+=S.overlay?0:1;return this.options.hideSingleBase&&(c=c&&E>1,this._baseLayersList.style.display=c?"":"none"),this._separator.style.display=m&&c?"":"none",this},_onLayerChange:function(c){this._handlingClick||this._update();var m=this._getLayer(u(c.target)),v=m.overlay?c.type==="add"?"overlayadd":"overlayremove":c.type==="add"?"baselayerchange":null;v&&this._map.fire(v,m)},_createRadioElement:function(c,m){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+c+'"'+(m?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=v,S.firstChild},_addItem:function(c){var m=document.createElement("label"),v=this._map.hasLayer(c.layer),S;c.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=v):S=this._createRadioElement("leaflet-base-layers_"+u(this),v),this._layerControlInputs.push(S),S.layerId=u(c.layer),Te(S,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+c.name;var D=document.createElement("span");m.appendChild(D),D.appendChild(S),D.appendChild(E);var K=c.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var c=this._layerControlInputs,m,v,S=[],E=[];this._handlingClick=!0;for(var D=c.length-1;D>=0;D--)m=c[D],v=this._getLayer(m.layerId).layer,m.checked?S.push(v):m.checked||E.push(v);for(D=0;D<E.length;D++)this._map.hasLayer(E[D])&&this._map.removeLayer(E[D]);for(D=0;D<S.length;D++)this._map.hasLayer(S[D])||this._map.addLayer(S[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,m,v,S=this._map.getZoom(),E=c.length-1;E>=0;E--)m=c[E],v=this._getLayer(m.layerId).layer,m.disabled=v.options.minZoom!==void 0&&S<v.options.minZoom||v.options.maxZoom!==void 0&&S>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var c=this._section;this._preventClick=!0,Te(c,"click",fr),this.expand();var m=this;setTimeout(function(){tt(c,"click",fr),m._preventClick=!1})}}),Iz=function(c,m,v){return new Vk(c,m,v)},rx=Jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(c){var m="leaflet-control-zoom",v=Be("div",m+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,m+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,m+"-out",v,this._zoomOut),this._updateDisabled(),c.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,m,v,S,E){var D=Be("a",v,S);return D.innerHTML=c,D.href="#",D.title=m,D.setAttribute("role","button"),D.setAttribute("aria-label",m),xu(D),Te(D,"click",ro),Te(D,"click",E,this),Te(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var c=this._map,m="leaflet-disabled";vt(this._zoomInButton,m),vt(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||c._zoom===c.getMinZoom())&&(Ae(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||c._zoom===c.getMaxZoom())&&(Ae(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rx,this.addControl(this.zoomControl))});var Lz=function(c){return new rx(c)},Kk=Jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var m="leaflet-control-scale",v=Be("div",m),S=this.options;return this._addScales(S,m+"-line",v),c.on(S.updateWhenIdle?"moveend":"move",this._update,this),c.whenReady(this._update,this),v},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,m,v){c.metric&&(this._mScale=Be("div",m,v)),c.imperial&&(this._iScale=Be("div",m,v))},_update:function(){var c=this._map,m=c.getSize().y/2,v=c.distance(c.containerPointToLatLng([0,m]),c.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(v)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c),this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var m=this._getRoundNum(c),v=m<1e3?m+" m":m/1e3+" km";this._updateScale(this._mScale,v,m/c)},_updateImperial:function(c){var m=c*3.2808399,v,S,E;m>5280?(v=m/5280,S=this._getRoundNum(v),this._updateScale(this._iScale,S+" mi",S/v)):(E=this._getRoundNum(m),this._updateScale(this._iScale,E+" ft",E/m))},_updateScale:function(c,m,v){c.style.width=Math.round(this.options.maxWidth*v)+"px",c.innerHTML=m},_getRoundNum:function(c){var m=Math.pow(10,(Math.floor(c)+"").length-1),v=c/m;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,m*v}}),Dz=function(c){return new Kk(c)},Rz='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nx=Jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ke.inlineSvg?Rz+" ":"")+"Leaflet</a>"},initialize:function(c){b(this,c),this._attributions={}},onAdd:function(c){c.attributionControl=this,this._container=Be("div","leaflet-control-attribution"),xu(this._container);for(var m in c._layers)c._layers[m].getAttribution&&this.addAttribution(c._layers[m].getAttribution());return this._update(),c.on("layeradd",this._addAttribution,this),this._container},onRemove:function(c){c.off("layeradd",this._addAttribution,this)},_addAttribution:function(c){c.layer.getAttribution&&(this.addAttribution(c.layer.getAttribution()),c.layer.once("remove",function(){this.removeAttribution(c.layer.getAttribution())},this))},setPrefix:function(c){return this.options.prefix=c,this._update(),this},addAttribution:function(c){return c?(this._attributions[c]||(this._attributions[c]=0),this._attributions[c]++,this._update(),this):this},removeAttribution:function(c){return c?(this._attributions[c]&&(this._attributions[c]--,this._update()),this):this},_update:function(){if(this._map){var c=[];for(var m in this._attributions)this._attributions[m]&&c.push(m);var v=[];this.options.prefix&&v.push(this.options.prefix),c.length&&v.push(c.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new nx().addTo(this)});var zz=function(c){return new nx(c)};Jn.Layers=Vk,Jn.Zoom=rx,Jn.Scale=Kk,Jn.Attribution=nx,vu.layers=Iz,vu.zoom=Lz,vu.scale=Dz,vu.attribution=zz;var Ca=F.extend({initialize:function(c){this._map=c},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ca.addTo=function(c,m){return c.addHandler(m,this),this};var Fz={Events:W},qk=ke.touch?"touchstart mousedown":"mousedown",Gi=V.extend({options:{clickTolerance:3},initialize:function(c,m,v,S){b(this,S),this._element=c,this._dragStartTarget=m||c,this._preventOutline=v},enable:function(){this._enabled||(Te(this._dragStartTarget,qk,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gi._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,qk,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(c){if(this._enabled&&(this._moved=!1,!hu(this._element,"leaflet-zoom-anim"))){if(c.touches&&c.touches.length!==1){Gi._dragging===this&&this.finishDrag();return}if(!(Gi._dragging||c.shiftKey||c.which!==1&&c.button!==1&&!c.touches)&&(Gi._dragging=this,this._preventOutline&&Yy(this._element),Ky(),pu(),!this._moving)){this.fire("down");var m=c.touches?c.touches[0]:c,v=Fk(this._element);this._startPoint=new z(m.clientX,m.clientY),this._startPos=eo(this._element),this._parentScale=Gy(v);var S=c.type==="mousedown";Te(document,S?"mousemove":"touchmove",this._onMove,this),Te(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(c){if(this._enabled){if(c.touches&&c.touches.length>1){this._moved=!0;return}var m=c.touches&&c.touches.length===1?c.touches[0]:c,v=new z(m.clientX,m.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,fr(c),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=c,this._updatePosition())}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c),bt(this._element,this._newPos),this.fire("drag",c)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(c){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),qy(),gu();var m=this._moved&&this._moving;this._moving=!1,Gi._dragging=!1,m&&this.fire("dragend",{noInertia:c,distance:this._newPos.distanceTo(this._startPos)})}});function Zk(c,m,v){var S,E=[1,4,2,8],D,K,J,ne,ce,ge,Ee,Le;for(D=0,ge=c.length;D<ge;D++)c[D]._code=no(c[D],m);for(J=0;J<4;J++){for(Ee=E[J],S=[],D=0,ge=c.length,K=ge-1;D<ge;K=D++)ne=c[D],ce=c[K],ne._code&Ee?ce._code&Ee||(Le=gh(ce,ne,Ee,m,v),Le._code=no(Le,m),S.push(Le)):(ce._code&Ee&&(Le=gh(ce,ne,Ee,m,v),Le._code=no(Le,m),S.push(Le)),S.push(ne));c=S}return c}function Yk(c,m){var v,S,E,D,K,J,ne,ce,ge;if(!c||c.length===0)throw new Error("latlngs not passed");Pn(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var Ee=oe([0,0]),Le=Q(c),Er=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());Er<1700&&(Ee=ax(c));var Jt=c.length,Cn=[];for(v=0;v<Jt;v++){var Vr=oe(c[v]);Cn.push(m.project(oe([Vr.lat-Ee.lat,Vr.lng-Ee.lng])))}for(J=ne=ce=0,v=0,S=Jt-1;v<Jt;S=v++)E=Cn[v],D=Cn[S],K=E.y*D.x-D.y*E.x,ne+=(E.x+D.x)*K,ce+=(E.y+D.y)*K,J+=K*3;J===0?ge=Cn[0]:ge=[ne/J,ce/J];var yl=m.unproject(U(ge));return oe([yl.lat+Ee.lat,yl.lng+Ee.lng])}function ax(c){for(var m=0,v=0,S=0,E=0;E<c.length;E++){var D=oe(c[E]);m+=D.lat,v+=D.lng,S++}return oe([m/S,v/S])}var $z={__proto__:null,clipPolygon:Zk,polygonCenter:Yk,centroid:ax};function Gk(c,m){if(!m||!c.length)return c.slice();var v=m*m;return c=Hz(c,v),c=Uz(c,v),c}function Xk(c,m,v){return Math.sqrt(bu(c,m,v,!0))}function Bz(c,m,v){return bu(c,m,v)}function Uz(c,m){var v=c.length,S=typeof Uint8Array<"u"?Uint8Array:Array,E=new S(v);E[0]=E[v-1]=1,ix(c,E,m,0,v-1);var D,K=[];for(D=0;D<v;D++)E[D]&&K.push(c[D]);return K}function ix(c,m,v,S,E){var D=0,K,J,ne;for(J=S+1;J<=E-1;J++)ne=bu(c[J],c[S],c[E],!0),ne>D&&(K=J,D=ne);D>v&&(m[K]=1,ix(c,m,v,S,K),ix(c,m,v,K,E))}function Hz(c,m){for(var v=[c[0]],S=1,E=0,D=c.length;S<D;S++)Wz(c[S],c[E])>m&&(v.push(c[S]),E=S);return E<D-1&&v.push(c[D-1]),v}var Qk;function Jk(c,m,v,S,E){var D=S?Qk:no(c,v),K=no(m,v),J,ne,ce;for(Qk=K;;){if(!(D|K))return[c,m];if(D&K)return!1;J=D||K,ne=gh(c,m,J,v,E),ce=no(ne,v),J===D?(c=ne,D=ce):(m=ne,K=ce)}}function gh(c,m,v,S,E){var D=m.x-c.x,K=m.y-c.y,J=S.min,ne=S.max,ce,ge;return v&8?(ce=c.x+D*(ne.y-c.y)/K,ge=ne.y):v&4?(ce=c.x+D*(J.y-c.y)/K,ge=J.y):v&2?(ce=ne.x,ge=c.y+K*(ne.x-c.x)/D):v&1&&(ce=J.x,ge=c.y+K*(J.x-c.x)/D),new z(ce,ge,E)}function no(c,m){var v=0;return c.x<m.min.x?v|=1:c.x>m.max.x&&(v|=2),c.y<m.min.y?v|=4:c.y>m.max.y&&(v|=8),v}function Wz(c,m){var v=m.x-c.x,S=m.y-c.y;return v*v+S*S}function bu(c,m,v,S){var E=m.x,D=m.y,K=v.x-E,J=v.y-D,ne=K*K+J*J,ce;return ne>0&&(ce=((c.x-E)*K+(c.y-D)*J)/ne,ce>1?(E=v.x,D=v.y):ce>0&&(E+=K*ce,D+=J*ce)),K=c.x-E,J=c.y-D,S?K*K+J*J:new z(E,D)}function Pn(c){return!j(c[0])||typeof c[0][0]!="object"&&typeof c[0][0]<"u"}function eN(c){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(c)}function tN(c,m){var v,S,E,D,K,J,ne,ce;if(!c||c.length===0)throw new Error("latlngs not passed");Pn(c)||(console.warn("latlngs are not flat! Only the first ring will be used"),c=c[0]);var ge=oe([0,0]),Ee=Q(c),Le=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());Le<1700&&(ge=ax(c));var Er=c.length,Jt=[];for(v=0;v<Er;v++){var Cn=oe(c[v]);Jt.push(m.project(oe([Cn.lat-ge.lat,Cn.lng-ge.lng])))}for(v=0,S=0;v<Er-1;v++)S+=Jt[v].distanceTo(Jt[v+1])/2;if(S===0)ce=Jt[0];else for(v=0,D=0;v<Er-1;v++)if(K=Jt[v],J=Jt[v+1],E=K.distanceTo(J),D+=E,D>S){ne=(D-S)/E,ce=[J.x-ne*(J.x-K.x),J.y-ne*(J.y-K.y)];break}var Vr=m.unproject(U(ce));return oe([Vr.lat+ge.lat,Vr.lng+ge.lng])}var Vz={__proto__:null,simplify:Gk,pointToSegmentDistance:Xk,closestPointOnSegment:Bz,clipSegment:Jk,_getEdgeIntersection:gh,_getBitCode:no,_sqClosestPointOnSegment:bu,isFlat:Pn,_flat:eN,polylineCenter:tN},sx={project:function(c){return new z(c.lng,c.lat)},unproject:function(c){return new se(c.y,c.x)},bounds:new Z([-180,-90],[180,90])},ox={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(c){var m=Math.PI/180,v=this.R,S=c.lat*m,E=this.R_MINOR/v,D=Math.sqrt(1-E*E),K=D*Math.sin(S),J=Math.tan(Math.PI/4-S/2)/Math.pow((1-K)/(1+K),D/2);return S=-v*Math.log(Math.max(J,1e-10)),new z(c.lng*m*v,S)},unproject:function(c){for(var m=180/Math.PI,v=this.R,S=this.R_MINOR/v,E=Math.sqrt(1-S*S),D=Math.exp(-c.y/v),K=Math.PI/2-2*Math.atan(D),J=0,ne=.1,ce;J<15&&Math.abs(ne)>1e-7;J++)ce=E*Math.sin(K),ce=Math.pow((1-ce)/(1+ce),E/2),ne=Math.PI/2-2*Math.atan(D*ce)-K,K+=ne;return new se(K*m,c.x*m/v)}},Kz={__proto__:null,LonLat:sx,Mercator:ox,SphericalMercator:me},qz=a({},le,{code:"EPSG:3395",projection:ox,transformation:function(){var c=.5/(Math.PI*ox.R);return te(c,.5,-c,.5)}()}),rN=a({},le,{code:"EPSG:4326",projection:sx,transformation:te(1/180,1,-1/180,.5)}),Zz=a({},ie,{projection:sx,transformation:te(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,m){var v=m.lng-c.lng,S=m.lat-c.lat;return Math.sqrt(v*v+S*S)},infinite:!0});ie.Earth=le,ie.EPSG3395=qz,ie.EPSG3857=pe,ie.EPSG900913=we,ie.EPSG4326=rN,ie.Simple=Zz;var ea=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){return c.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){return c&&c.removeLayer(this),this},getPane:function(c){return this._map.getPane(c?this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){return this._map._targets[u(c)]=this,this},removeInteractiveTarget:function(c){return delete this._map._targets[u(c)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var m=c.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var v=this.getEvents();m.on(v,this),this.once("remove",function(){m.off(v,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(c){if(!c._layerAdd)throw new Error("The provided object is not a Layer.");var m=u(c);return this._layers[m]?this:(this._layers[m]=c,c._mapToAdd=this,c.beforeAdd&&c.beforeAdd(this),this.whenReady(c._layerAdd,c),this)},removeLayer:function(c){var m=u(c);return this._layers[m]?(this._loaded&&c.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove")),c._map=c._mapToAdd=null,this):this},hasLayer:function(c){return u(c)in this._layers},eachLayer:function(c,m){for(var v in this._layers)c.call(m,this._layers[v]);return this},_addLayers:function(c){c=c?j(c)?c:[c]:[];for(var m=0,v=c.length;m<v;m++)this.addLayer(c[m])},_addZoomLimit:function(c){(!isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))&&(this._zoomBoundLayers[u(c)]=c,this._updateZoomLevels())},_removeZoomLimit:function(c){var m=u(c);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var c=1/0,m=-1/0,v=this._getZoomSpan();for(var S in this._zoomBoundLayers){var E=this._zoomBoundLayers[S].options;c=E.minZoom===void 0?c:Math.min(c,E.minZoom),m=E.maxZoom===void 0?m:Math.max(m,E.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=c===1/0?void 0:c,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fl=ea.extend({initialize:function(c,m){b(this,m),this._layers={};var v,S;if(c)for(v=0,S=c.length;v<S;v++)this.addLayer(c[v])},addLayer:function(c){var m=this.getLayerId(c);return this._layers[m]=c,this._map&&this._map.addLayer(c),this},removeLayer:function(c){var m=c in this._layers?c:this.getLayerId(c);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(c){var m=typeof c=="number"?c:this.getLayerId(c);return m in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var m=Array.prototype.slice.call(arguments,1),v,S;for(v in this._layers)S=this._layers[v],S[c]&&S[c].apply(S,m);return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,m){for(var v in this._layers)c.call(m,this._layers[v]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];return this.eachLayer(c.push,c),c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return u(c)}}),Yz=function(c,m){return new fl(c,m)},ni=fl.extend({addLayer:function(c){return this.hasLayer(c)?this:(c.addEventParent(this),fl.prototype.addLayer.call(this,c),this.fire("layeradd",{layer:c}))},removeLayer:function(c){return this.hasLayer(c)?(c in this._layers&&(c=this._layers[c]),c.removeEventParent(this),fl.prototype.removeLayer.call(this,c),this.fire("layerremove",{layer:c})):this},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new H;for(var m in this._layers){var v=this._layers[m];c.extend(v.getBounds?v.getBounds():v.getLatLng())}return c}}),Gz=function(c,m){return new ni(c,m)},hl=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(c){b(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,m){var v=this._getIconUrl(c);if(!v){if(c==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(v,m&&m.tagName==="IMG"?m:null);return this._setIconStyles(S,c),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(c,m){var v=this.options,S=v[m+"Size"];typeof S=="number"&&(S=[S,S]);var E=U(S),D=U(m==="shadow"&&v.shadowAnchor||v.iconAnchor||E&&E.divideBy(2,!0));c.className="leaflet-marker-"+m+" "+(v.className||""),D&&(c.style.marginLeft=-D.x+"px",c.style.marginTop=-D.y+"px"),E&&(c.style.width=E.x+"px",c.style.height=E.y+"px")},_createImg:function(c,m){return m=m||document.createElement("img"),m.src=c,m},_getIconUrl:function(c){return ke.retina&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}});function Xz(c){return new hl(c)}var wu=hl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){return typeof wu.imagePath!="string"&&(wu.imagePath=this._detectIconPath()),(this.options.imagePath||wu.imagePath)+hl.prototype._getIconUrl.call(this,c)},_stripUrl:function(c){var m=function(v,S,E){var D=S.exec(v);return D&&D[E]};return c=m(c,/^url\((['"])?(.+)\1\)$/,2),c&&m(c,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var c=Be("div","leaflet-default-icon-path",document.body),m=Js(c,"background-image")||Js(c,"backgroundImage");if(document.body.removeChild(c),m=this._stripUrl(m),m)return m;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),nN=Ca.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Gi(c,c,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var m=this._marker,v=m._map,S=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,D=eo(m._icon),K=v.getPixelBounds(),J=v.getPixelOrigin(),ne=G(K.min._subtract(J).add(E),K.max._subtract(J).subtract(E));if(!ne.contains(D)){var ce=U((Math.max(ne.max.x,D.x)-ne.max.x)/(K.max.x-ne.max.x)-(Math.min(ne.min.x,D.x)-ne.min.x)/(K.min.x-ne.min.x),(Math.max(ne.max.y,D.y)-ne.max.y)/(K.max.y-ne.max.y)-(Math.min(ne.min.y,D.y)-ne.min.y)/(K.min.y-ne.min.y)).multiplyBy(S);v.panBy(ce,{animate:!1}),this._draggable._newPos._add(ce),this._draggable._startPos._add(ce),bt(m._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=I(this._adjustPan.bind(this,c))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,c)))},_onDrag:function(c){var m=this._marker,v=m._shadow,S=eo(m._icon),E=m._map.layerPointToLatLng(S);v&&bt(v,S),m._latlng=E,c.latlng=E,c.oldLatLng=this._oldLatLng,m.fire("move",c).fire("drag",c)},_onDragEnd:function(c){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",c)}}),yh=ea.extend({options:{icon:new wu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,m){b(this,m),this._latlng=oe(c)},onAdd:function(c){this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation,this._zoomAnimated&&c.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var m=this._latlng;return this._latlng=oe(c),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(c){return this.options.zIndexOffset=c,this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){return this.options.icon=c,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=c.icon.createIcon(this._icon),S=!1;v!==this._icon&&(this._icon&&this._removeIcon(),S=!0,c.title&&(v.title=c.title),v.tagName==="IMG"&&(v.alt=c.alt||"")),Ae(v,m),c.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,c.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(v,"focus",this._panOnFocus,this);var E=c.icon.createShadow(this._shadow),D=!1;E!==this._shadow&&(this._removeShadow(),D=!0),E&&(Ae(E,m),E.alt=""),this._shadow=E,c.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&D&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(c){this._icon&&bt(this._icon,c),this._shadow&&bt(this._shadow,c),this._zIndex=c.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nN)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nN(this),c&&this.dragging.enable()}},setOpacity:function(c){return this.options.opacity=c,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Wr(this._icon,c),this._shadow&&Wr(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var c=this._map;if(c){var m=this.options.icon.options,v=m.iconSize?U(m.iconSize):U(0,0),S=m.iconAnchor?U(m.iconAnchor):U(0,0);c.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:v.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qz(c,m){return new yh(c,m)}var Xi=ea.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(c){return b(this,c),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xh=Xi.extend({options:{fill:!0,radius:10},initialize:function(c,m){b(this,m),this._latlng=oe(c),this._radius=this.options.radius},setLatLng:function(c){var m=this._latlng;return this._latlng=oe(c),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){return this.options.radius=this._radius=c,this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var m=c&&c.radius||this._radius;return Xi.prototype.setStyle.call(this,c),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var c=this._radius,m=this._radiusY||c,v=this._clickTolerance(),S=[c+v,m+v];this._pxBounds=new Z(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jz(c,m){return new xh(c,m)}var lx=xh.extend({initialize:function(c,m,v){if(typeof m=="number"&&(m=a({},v,{radius:m})),b(this,m),this._latlng=oe(c),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){return this._mRadius=c,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:Xi.prototype.setStyle,_project:function(){var c=this._latlng.lng,m=this._latlng.lat,v=this._map,S=v.options.crs;if(S.distance===le.distance){var E=Math.PI/180,D=this._mRadius/le.R/E,K=v.project([m+D,c]),J=v.project([m-D,c]),ne=K.add(J).divideBy(2),ce=v.unproject(ne).lat,ge=Math.acos((Math.cos(D*E)-Math.sin(m*E)*Math.sin(ce*E))/(Math.cos(m*E)*Math.cos(ce*E)))/E;(isNaN(ge)||ge===0)&&(ge=D/Math.cos(Math.PI/180*m)),this._point=ne.subtract(v.getPixelOrigin()),this._radius=isNaN(ge)?0:ne.x-v.project([ce,c-ge]).x,this._radiusY=ne.y-K.y}else{var Ee=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Ee).x}this._updateBounds()}});function eF(c,m,v){return new lx(c,m,v)}var ai=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,m){b(this,m),this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){return this._setLatLngs(c),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var m=1/0,v=null,S=bu,E,D,K=0,J=this._parts.length;K<J;K++)for(var ne=this._parts[K],ce=1,ge=ne.length;ce<ge;ce++){E=ne[ce-1],D=ne[ce];var Ee=S(c,E,D,!0);Ee<m&&(m=Ee,v=S(c,E,D))}return v&&(v.distance=Math.sqrt(m)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tN(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(c,m){return m=m||this._defaultShape(),c=oe(c),m.push(c),this._bounds.extend(c),this.redraw()},_setLatLngs:function(c){this._bounds=new H,this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var m=[],v=Pn(c),S=0,E=c.length;S<E;S++)v?(m[S]=oe(c[S]),this._bounds.extend(m[S])):m[S]=this._convertLatLngs(c[S]);return m},_project:function(){var c=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,c),this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance(),m=new z(c,c);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(c,m,v){var S=c[0]instanceof se,E=c.length,D,K;if(S){for(K=[],D=0;D<E;D++)K[D]=this._map.latLngToLayerPoint(c[D]),v.extend(K[D]);m.push(K)}else for(D=0;D<E;D++)this._projectLatlngs(c[D],m,v)},_clipPoints:function(){var c=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}var m=this._parts,v,S,E,D,K,J,ne;for(v=0,E=0,D=this._rings.length;v<D;v++)for(ne=this._rings[v],S=0,K=ne.length;S<K-1;S++)J=Jk(ne[S],ne[S+1],c,S,!0),J&&(m[E]=m[E]||[],m[E].push(J[0]),(J[1]!==ne[S+1]||S===K-2)&&(m[E].push(J[1]),E++))}},_simplifyPoints:function(){for(var c=this._parts,m=this.options.smoothFactor,v=0,S=c.length;v<S;v++)c[v]=Gk(c[v],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,m){var v,S,E,D,K,J,ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(v=0,D=this._parts.length;v<D;v++)for(J=this._parts[v],S=0,K=J.length,E=K-1;S<K;E=S++)if(!(!m&&S===0)&&Xk(c,J[E],J[S])<=ne)return!0;return!1}});function tF(c,m){return new ai(c,m)}ai._flat=eN;var ml=ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yk(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(c){var m=ai.prototype._convertLatLngs.call(this,c),v=m.length;return v>=2&&m[0]instanceof se&&m[0].equals(m[v-1])&&m.pop(),m},_setLatLngs:function(c){ai.prototype._setLatLngs.call(this,c),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=this._renderer._bounds,m=this.options.weight,v=new z(m,m);if(c=new Z(c.min.subtract(v),c.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(c))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,E=this._rings.length,D;S<E;S++)D=Zk(this._rings[S],c,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var m=!1,v,S,E,D,K,J,ne,ce;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;for(D=0,ne=this._parts.length;D<ne;D++)for(v=this._parts[D],K=0,ce=v.length,J=ce-1;K<ce;J=K++)S=v[K],E=v[J],S.y>c.y!=E.y>c.y&&c.x<(E.x-S.x)*(c.y-S.y)/(E.y-S.y)+S.x&&(m=!m);return m||ai.prototype._containsPoint.call(this,c,!0)}});function rF(c,m){return new ml(c,m)}var ii=ni.extend({initialize:function(c,m){b(this,m),this._layers={},c&&this.addData(c)},addData:function(c){var m=j(c)?c:c.features,v,S,E;if(m){for(v=0,S=m.length;v<S;v++)E=m[v],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var D=this.options;if(D.filter&&!D.filter(c))return this;var K=vh(c,D);return K?(K.feature=_h(c),K.defaultOptions=K.options,this.resetStyle(K),D.onEachFeature&&D.onEachFeature(c,K),this.addLayer(K)):this},resetStyle:function(c){return c===void 0?this.eachLayer(this.resetStyle,this):(c.options=a({},c.defaultOptions),this._setLayerStyle(c,this.options.style),this)},setStyle:function(c){return this.eachLayer(function(m){this._setLayerStyle(m,c)},this)},_setLayerStyle:function(c,m){c.setStyle&&(typeof m=="function"&&(m=m(c.feature)),c.setStyle(m))}});function vh(c,m){var v=c.type==="Feature"?c.geometry:c,S=v?v.coordinates:null,E=[],D=m&&m.pointToLayer,K=m&&m.coordsToLatLng||cx,J,ne,ce,ge;if(!S&&!v)return null;switch(v.type){case"Point":return J=K(S),aN(D,c,J,m);case"MultiPoint":for(ce=0,ge=S.length;ce<ge;ce++)J=K(S[ce]),E.push(aN(D,c,J,m));return new ni(E);case"LineString":case"MultiLineString":return ne=bh(S,v.type==="LineString"?0:1,K),new ai(ne,m);case"Polygon":case"MultiPolygon":return ne=bh(S,v.type==="Polygon"?1:2,K),new ml(ne,m);case"GeometryCollection":for(ce=0,ge=v.geometries.length;ce<ge;ce++){var Ee=vh({geometry:v.geometries[ce],type:"Feature",properties:c.properties},m);Ee&&E.push(Ee)}return new ni(E);case"FeatureCollection":for(ce=0,ge=v.features.length;ce<ge;ce++){var Le=vh(v.features[ce],m);Le&&E.push(Le)}return new ni(E);default:throw new Error("Invalid GeoJSON object.")}}function aN(c,m,v,S){return c?c(m,v):new yh(v,S&&S.markersInheritOptions&&S)}function cx(c){return new se(c[1],c[0],c[2])}function bh(c,m,v){for(var S=[],E=0,D=c.length,K;E<D;E++)K=m?bh(c[E],m-1,v):(v||cx)(c[E]),S.push(K);return S}function ux(c,m){return c=oe(c),c.alt!==void 0?[p(c.lng,m),p(c.lat,m),p(c.alt,m)]:[p(c.lng,m),p(c.lat,m)]}function wh(c,m,v,S){for(var E=[],D=0,K=c.length;D<K;D++)E.push(m?wh(c[D],Pn(c[D])?0:m-1,v,S):ux(c[D],S));return!m&&v&&E.length>0&&E.push(E[0].slice()),E}function pl(c,m){return c.feature?a({},c.feature,{geometry:m}):_h(m)}function _h(c){return c.type==="Feature"||c.type==="FeatureCollection"?c:{type:"Feature",properties:{},geometry:c}}var dx={toGeoJSON:function(c){return pl(this,{type:"Point",coordinates:ux(this.getLatLng(),c)})}};yh.include(dx),lx.include(dx),xh.include(dx),ai.include({toGeoJSON:function(c){var m=!Pn(this._latlngs),v=wh(this._latlngs,m?1:0,!1,c);return pl(this,{type:(m?"Multi":"")+"LineString",coordinates:v})}}),ml.include({toGeoJSON:function(c){var m=!Pn(this._latlngs),v=m&&!Pn(this._latlngs[0]),S=wh(this._latlngs,v?2:m?1:0,!0,c);return m||(S=[S]),pl(this,{type:(v?"Multi":"")+"Polygon",coordinates:S})}}),fl.include({toMultiPoint:function(c){var m=[];return this.eachLayer(function(v){m.push(v.toGeoJSON(c).geometry.coordinates)}),pl(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(c){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(m==="MultiPoint")return this.toMultiPoint(c);var v=m==="GeometryCollection",S=[];return this.eachLayer(function(E){if(E.toGeoJSON){var D=E.toGeoJSON(c);if(v)S.push(D.geometry);else{var K=_h(D);K.type==="FeatureCollection"?S.push.apply(S,K.features):S.push(K)}}}),v?pl(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function iN(c,m){return new ii(c,m)}var nF=iN,jh=ea.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,m,v){this._url=c,this._bounds=Q(m),b(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){return this.options.opacity=c,this._image&&this._updateOpacity(),this},setStyle:function(c){return c.opacity&&this.setOpacity(c.opacity),this},bringToFront:function(){return this._map&&Zi(this._image),this},bringToBack:function(){return this._map&&Yi(this._image),this},setUrl:function(c){return this._url=c,this._image&&(this._image.src=c),this},setBounds:function(c){return this._bounds=Q(c),this._map&&this._reset(),this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c=this._url.tagName==="IMG",m=this._image=c?this._url:Be("img");if(Ae(m,"leaflet-image-layer"),this._zoomAnimated&&Ae(m,"leaflet-zoom-animated"),this.options.className&&Ae(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onload=o(this.fire,this,"load"),m.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),c){this._url=m.src;return}m.src=this._url,m.alt=this.options.alt},_animateZoom:function(c){var m=this._map.getZoomScale(c.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;ri(this._image,v,m)},_reset:function(){var c=this._image,m=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=m.getSize();bt(c,m.min),c.style.width=v.x+"px",c.style.height=v.y+"px"},_updateOpacity:function(){Wr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)},getCenter:function(){return this._bounds.getCenter()}}),aF=function(c,m,v){return new jh(c,m,v)},sN=jh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var c=this._url.tagName==="VIDEO",m=this._image=c?this._url:Be("video");if(Ae(m,"leaflet-image-layer"),this._zoomAnimated&&Ae(m,"leaflet-zoom-animated"),this.options.className&&Ae(m,this.options.className),m.onselectstart=h,m.onmousemove=h,m.onloadeddata=o(this.fire,this,"load"),c){for(var v=m.getElementsByTagName("source"),S=[],E=0;E<v.length;E++)S.push(v[E].src);this._url=v.length>0?S:[m.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var K=Be("source");K.src=this._url[D],m.appendChild(K)}}});function iF(c,m,v){return new sN(c,m,v)}var oN=jh.extend({_initImage:function(){var c=this._image=this._url;Ae(c,"leaflet-image-layer"),this._zoomAnimated&&Ae(c,"leaflet-zoom-animated"),this.options.className&&Ae(c,this.options.className),c.onselectstart=h,c.onmousemove=h}});function sF(c,m,v){return new oN(c,m,v)}var Ea=ea.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(c,m){c&&(c instanceof se||j(c))?(this._latlng=oe(c),b(this,m)):(b(this,c),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(c){return c=arguments.length?c:this._source._map,c.hasLayer(this)||c.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(c){return this._map?this.close():(arguments.length?this._source=c:c=this._source,this._prepareOpen(),this.openOn(c._map)),this},onAdd:function(c){this._zoomAnimated=c._zoomAnimated,this._container||this._initLayout(),c._fadeAnimated&&Wr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),c._fadeAnimated&&Wr(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(c){c._fadeAnimated?(Wr(this._container,0),this._removeTimeout=setTimeout(o(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(c){return this._latlng=oe(c),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(c){return this._content=c,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zi(this._container),this},bringToBack:function(){return this._map&&Yi(this._container),this},_prepareOpen:function(c){var m=this._source;if(!m._map)return!1;if(m instanceof ni){m=null;var v=this._source._layers;for(var S in v)if(v[S]._map){m=v[S];break}if(!m)return!1;this._source=m}if(!c)if(m.getCenter)c=m.getCenter();else if(m.getLatLng)c=m.getLatLng();else if(m.getBounds)c=m.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(c),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var c=this._contentNode,m=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof m=="string")c.innerHTML=m;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),m=U(this.options.offset),v=this._getAnchor();this._zoomAnimated?bt(this._container,c.add(v)):m=m.add(c).add(v);var S=this._containerBottom=-m.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=S+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(c,m,v,S){var E=m;return E instanceof c||(E=new c(S).setContent(m)),v&&E.setLatLng(v),E}}),ea.include({_initOverlay:function(c,m,v,S){var E=v;return E instanceof c?(b(E,S),E._source=this):(E=m&&!S?m:new c(S,this),E.setContent(v)),E}});var kh=Ea.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){return c=arguments.length?c:this._source._map,!c.hasLayer(this)&&c._popup&&c._popup.options.autoClose&&c.removeLayer(c._popup),c._popup=this,Ea.prototype.openOn.call(this,c)},onAdd:function(c){Ea.prototype.onAdd.call(this,c),c.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",to))},onRemove:function(c){Ea.prototype.onRemove.call(this,c),c.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",to))},getEvents:function(){var c=Ea.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(c.preclick=this.close),this.options.keepInView&&(c.moveend=this._adjustPan),c},_initLayout:function(){var c="leaflet-popup",m=this._container=Be("div",c+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Be("div",c+"-content-wrapper",m);if(this._contentNode=Be("div",c+"-content",v),xu(m),ex(this._contentNode),Te(m,"contextmenu",to),this._tipContainer=Be("div",c+"-tip-container",m),this._tip=Be("div",c+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=Be("a",c+"-close-button",m);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Te(S,"click",function(E){fr(E),this.close()},this)}},_updateLayout:function(){var c=this._contentNode,m=c.style;m.width="",m.whiteSpace="nowrap";var v=c.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),m.width=v+1+"px",m.whiteSpace="",m.height="";var S=c.offsetHeight,E=this.options.maxHeight,D="leaflet-popup-scrolled";E&&S>E?(m.height=E+"px",Ae(c,D)):vt(c,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center),v=this._getAnchor();bt(this._container,m.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var c=this._map,m=parseInt(Js(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+m,S=this._containerWidth,E=new z(this._containerLeft,-v-this._containerBottom);E._add(eo(this._container));var D=c.layerPointToContainerPoint(E),K=U(this.options.autoPanPadding),J=U(this.options.autoPanPaddingTopLeft||K),ne=U(this.options.autoPanPaddingBottomRight||K),ce=c.getSize(),ge=0,Ee=0;D.x+S+ne.x>ce.x&&(ge=D.x+S-ce.x+ne.x),D.x-ge-J.x<0&&(ge=D.x-J.x),D.y+v+ne.y>ce.y&&(Ee=D.y+v-ce.y+ne.y),D.y-Ee-J.y<0&&(Ee=D.y-J.y),(ge||Ee)&&(this.options.keepInView&&(this._autopanning=!0),c.fire("autopanstart").panBy([ge,Ee]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),oF=function(c,m){return new kh(c,m)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(c,m,v){return this._initOverlay(kh,c,m,v).openOn(this),this},closePopup:function(c){return c=arguments.length?c:this._popup,c&&c.close(),this}}),ea.include({bindPopup:function(c,m){return this._popup=this._initOverlay(kh,this._popup,c,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(c){return this._popup&&(this instanceof ni||(this._popup._source=this),this._popup._prepareOpen(c||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){return this._popup&&this._popup.setContent(c),this},getPopup:function(){return this._popup},_openPopup:function(c){if(!(!this._popup||!this._map)){ro(c);var m=c.layer||c.target;if(this._popup._source===m&&!(m instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(c.latlng);return}this._popup._source=m,this.openPopup(c.latlng)}},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){c.originalEvent.keyCode===13&&this._openPopup(c)}});var Nh=Ea.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(c){Ea.prototype.onAdd.call(this,c),this.setOpacity(this.options.opacity),c.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(c){Ea.prototype.onRemove.call(this,c),c.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var c=Ea.prototype.getEvents.call(this);return this.options.permanent||(c.preclick=this.close),c},_initLayout:function(){var c="leaflet-tooltip",m=c+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Be("div",m),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(c){var m,v,S=this._map,E=this._container,D=S.latLngToContainerPoint(S.getCenter()),K=S.layerPointToContainerPoint(c),J=this.options.direction,ne=E.offsetWidth,ce=E.offsetHeight,ge=U(this.options.offset),Ee=this._getAnchor();J==="top"?(m=ne/2,v=ce):J==="bottom"?(m=ne/2,v=0):J==="center"?(m=ne/2,v=ce/2):J==="right"?(m=0,v=ce/2):J==="left"?(m=ne,v=ce/2):K.x<D.x?(J="right",m=0,v=ce/2):(J="left",m=ne+(ge.x+Ee.x)*2,v=ce/2),c=c.subtract(U(m,v,!0)).add(ge).add(Ee),vt(E,"leaflet-tooltip-right"),vt(E,"leaflet-tooltip-left"),vt(E,"leaflet-tooltip-top"),vt(E,"leaflet-tooltip-bottom"),Ae(E,"leaflet-tooltip-"+J),bt(E,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c,this._container&&Wr(this._container,c)},_animateZoom:function(c){var m=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(m)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),lF=function(c,m){return new Nh(c,m)};Ue.include({openTooltip:function(c,m,v){return this._initOverlay(Nh,c,m,v).openOn(this),this},closeTooltip:function(c){return c.close(),this}}),ea.include({bindTooltip:function(c,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Nh,this._tooltip,c,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(c){if(!(!c&&this._tooltipHandlersAdded)){var m=c?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[m](v),this._tooltipHandlersAdded=!c}},openTooltip:function(c){return this._tooltip&&(this instanceof ni||(this._tooltip._source=this),this._tooltip._prepareOpen(c)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){return this._tooltip&&this._tooltip.setContent(c),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&(Te(m,"focus",function(){this._tooltip._source=c,this.openTooltip()},this),Te(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(c){var m=typeof c.getElement=="function"&&c.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(c){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(c)});return}this._tooltip._source=c.layer||c.target,this.openTooltip(this._tooltip.options.sticky?c.latlng:void 0)}},_moveTooltip:function(c){var m=c.latlng,v,S;this._tooltip.options.sticky&&c.originalEvent&&(v=this._map.mouseEventToContainerPoint(c.originalEvent),S=this._map.containerPointToLayerPoint(v),m=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(m)}});var lN=hl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){var m=c&&c.tagName==="DIV"?c:document.createElement("div"),v=this.options;if(v.html instanceof Element?(ll(m),m.appendChild(v.html)):m.innerHTML=v.html!==!1?v.html:"",v.bgPos){var S=U(v.bgPos);m.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});function cF(c){return new lN(c)}hl.Default=wu;var _u=ea.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){b(this,c)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles(),it(this._container),c._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(c){return this.options.opacity=c,this._updateOpacity(),this},setZIndex:function(c){return this.options.zIndex=c,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var c=this._clampZoom(this._map.getZoom());c!==this._tileZoom&&(this._tileZoom=c,this._updateLevels()),this._update()}return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove),this._zoomAnimated&&(c.zoomanim=this._animateZoom),c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof z?c:new z(c,c)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var m=this.getPane().children,v=-c(-1/0,1/0),S=0,E=m.length,D;S<E;S++)D=m[S].style.zIndex,m[S]!==this._container&&D&&(v=c(v,+D));isFinite(v)&&(this.options.zIndex=v+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ke.ielt9){Wr(this._container,this.options.opacity);var c=+new Date,m=!1,v=!1;for(var S in this._tiles){var E=this._tiles[S];if(!(!E.current||!E.loaded)){var D=Math.min(1,(c-E.loaded)/200);Wr(E.el,D),D<1?m=!0:(E.active?v=!0:this._onOpaqueTile(E),E.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),m&&(R(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Be("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,m=this.options.maxZoom;if(c!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===c?(this._levels[v].el.style.zIndex=m-Math.abs(c-v),this._onUpdateLevel(v)):(it(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var S=this._levels[c],E=this._map;return S||(S=this._levels[c]={},S.el=Be("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=m,S.origin=E.project(E.unproject(E.getPixelOrigin()),c).round(),S.zoom=c,this._setZoomTransform(S,E.getCenter(),E.getZoom()),h(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var c,m,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(c in this._tiles)m=this._tiles[c],m.retain=m.current;for(c in this._tiles)if(m=this._tiles[c],m.current&&!m.active){var S=m.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}},_removeTilesAtZoom:function(c){for(var m in this._tiles)this._tiles[m].coords.z===c&&this._removeTile(m)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)it(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(c,m,v,S){var E=Math.floor(c/2),D=Math.floor(m/2),K=v-1,J=new z(+E,+D);J.z=+K;var ne=this._tileCoordsToKey(J),ce=this._tiles[ne];return ce&&ce.active?(ce.retain=!0,!0):(ce&&ce.loaded&&(ce.retain=!0),K>S?this._retainParent(E,D,K,S):!1)},_retainChildren:function(c,m,v,S){for(var E=2*c;E<2*c+2;E++)for(var D=2*m;D<2*m+2;D++){var K=new z(E,D);K.z=v+1;var J=this._tileCoordsToKey(K),ne=this._tiles[J];if(ne&&ne.active){ne.retain=!0;continue}else ne&&ne.loaded&&(ne.retain=!0);v+1<S&&this._retainChildren(E,D,v+1,S)}},_resetView:function(c){var m=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var m=this.options;return m.minNativeZoom!==void 0&&c<m.minNativeZoom?m.minNativeZoom:m.maxNativeZoom!==void 0&&m.maxNativeZoom<c?m.maxNativeZoom:c},_setView:function(c,m,v,S){var E=Math.round(m);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var D=this.options.updateWhenZooming&&E!==this._tileZoom;(!S||D)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(c),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(c,m)},_setZoomTransforms:function(c,m){for(var v in this._levels)this._setZoomTransform(this._levels[v],c,m)},_setZoomTransform:function(c,m,v){var S=this._map.getZoomScale(v,c.zoom),E=c.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(m,v)).round();ke.any3d?ri(c.el,E,S):bt(c.el,E)},_resetGrid:function(){var c=this._map,m=c.options.crs,v=this._tileSize=this.getTileSize(),S=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,m.wrapLng[0]],S).x/v.x),Math.ceil(c.project([0,m.wrapLng[1]],S).x/v.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([m.wrapLat[0],0],S).y/v.x),Math.ceil(c.project([m.wrapLat[1],0],S).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(c){var m=this._map,v=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),S=m.getZoomScale(v,this._tileZoom),E=m.project(c,this._tileZoom).floor(),D=m.getSize().divideBy(S*2);return new Z(E.subtract(D),E.add(D))},_update:function(c){var m=this._map;if(m){var v=this._clampZoom(m.getZoom());if(c===void 0&&(c=m.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(c),E=this._pxBoundsToTileRange(S),D=E.getCenter(),K=[],J=this.options.keepBuffer,ne=new Z(E.getBottomLeft().subtract([J,-J]),E.getTopRight().add([J,-J]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ce in this._tiles){var ge=this._tiles[ce].coords;(ge.z!==this._tileZoom||!ne.contains(new z(ge.x,ge.y)))&&(this._tiles[ce].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(c,v);return}for(var Ee=E.min.y;Ee<=E.max.y;Ee++)for(var Le=E.min.x;Le<=E.max.x;Le++){var Er=new z(Le,Ee);if(Er.z=this._tileZoom,!!this._isValidTile(Er)){var Jt=this._tiles[this._tileCoordsToKey(Er)];Jt?Jt.current=!0:K.push(Er)}}if(K.sort(function(Vr,yl){return Vr.distanceTo(D)-yl.distanceTo(D)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cn=document.createDocumentFragment();for(Le=0;Le<K.length;Le++)this._addTile(K[Le],Cn);this._level.el.appendChild(Cn)}}}},_isValidTile:function(c){var m=this._map.options.crs;if(!m.infinite){var v=this._globalTileRange;if(!m.wrapLng&&(c.x<v.min.x||c.x>v.max.x)||!m.wrapLat&&(c.y<v.min.y||c.y>v.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(c);return Q(this.options.bounds).overlaps(S)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var m=this._map,v=this.getTileSize(),S=c.scaleBy(v),E=S.add(v),D=m.unproject(S,c.z),K=m.unproject(E,c.z);return[D,K]},_tileCoordsToBounds:function(c){var m=this._tileCoordsToNwSe(c),v=new H(m[0],m[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){var m=c.split(":"),v=new z(+m[0],+m[1]);return v.z=+m[2],v},_removeTile:function(c){var m=this._tiles[c];m&&(it(m.el),delete this._tiles[c],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){Ae(c,"leaflet-tile");var m=this.getTileSize();c.style.width=m.x+"px",c.style.height=m.y+"px",c.onselectstart=h,c.onmousemove=h,ke.ielt9&&this.options.opacity<1&&Wr(c,this.options.opacity)},_addTile:function(c,m){var v=this._getTilePos(c),S=this._tileCoordsToKey(c),E=this.createTile(this._wrapCoords(c),o(this._tileReady,this,c));this._initTile(E),this.createTile.length<2&&I(o(this._tileReady,this,c,null,E)),bt(E,v),this._tiles[S]={el:E,coords:c,current:!0},m.appendChild(E),this.fire("tileloadstart",{tile:E,coords:c})},_tileReady:function(c,m,v){m&&this.fire("tileerror",{error:m,tile:v,coords:c});var S=this._tileCoordsToKey(c);v=this._tiles[S],v&&(v.loaded=+new Date,this._map._fadeAnimated?(Wr(v.el,0),R(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),m||(Ae(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ke.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var m=new z(this._wrapX?f(c.x,this._wrapX):c.x,this._wrapY?f(c.y,this._wrapY):c.y);return m.z=c.z,m},_pxBoundsToTileRange:function(c){var m=this.getTileSize();return new Z(c.min.unscaleBy(m).floor(),c.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}});function uF(c){return new _u(c)}var gl=_u.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(c,m){this._url=c,m=b(this,m),m.detectRetina&&ke.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),typeof m.subdomains=="string"&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(c,m){return this._url===c&&m===void 0&&(m=!0),this._url=c,m||this.redraw(),this},createTile:function(c,m){var v=document.createElement("img");return Te(v,"load",o(this._tileOnLoad,this,m,v)),Te(v,"error",o(this._tileOnError,this,m,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(c),v},getTileUrl:function(c){var m={r:ke.retina?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-c.y;this.options.tms&&(m.y=v),m["-y"]=v}return k(this._url,a(m,this.options))},_tileOnLoad:function(c,m){ke.ielt9?setTimeout(o(c,this,null,m),0):c(null,m)},_tileOnError:function(c,m,v){var S=this.options.errorTileUrl;S&&m.getAttribute("src")!==S&&(m.src=S),c(v,m)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,m=this.options.maxZoom,v=this.options.zoomReverse,S=this.options.zoomOffset;return v&&(c=m-c),c+S},_getSubdomain:function(c){var m=Math.abs(c.x+c.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var c,m;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom&&(m=this._tiles[c].el,m.onload=h,m.onerror=h,!m.complete)){m.src=P;var v=this._tiles[c].coords;it(m),delete this._tiles[c],this.fire("tileabort",{tile:m,coords:v})}},_removeTile:function(c){var m=this._tiles[c];if(m)return m.el.setAttribute("src",P),_u.prototype._removeTile.call(this,c)},_tileReady:function(c,m,v){if(!(!this._map||v&&v.getAttribute("src")===P))return _u.prototype._tileReady.call(this,c,m,v)}});function cN(c,m){return new gl(c,m)}var uN=gl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,m){this._url=c;var v=a({},this.defaultWmsParams);for(var S in m)S in this.options||(v[S]=m[S]);m=b(this,m);var E=m.detectRetina&&ke.retina?2:1,D=this.getTileSize();v.width=D.x*E,v.height=D.y*E,this.wmsParams=v},onAdd:function(c){this._crs=this.options.crs||c.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var m=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[m]=this._crs.code,gl.prototype.onAdd.call(this,c)},getTileUrl:function(c){var m=this._tileCoordsToNwSe(c),v=this._crs,S=G(v.project(m[0]),v.project(m[1])),E=S.min,D=S.max,K=(this._wmsVersion>=1.3&&this._crs===rN?[E.y,E.x,D.y,D.x]:[E.x,E.y,D.x,D.y]).join(","),J=gl.prototype.getTileUrl.call(this,c);return J+_(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(c,m){return a(this.wmsParams,c),m||this.redraw(),this}});function dF(c,m){return new uN(c,m)}gl.WMS=uN,cN.wms=dF;var si=ea.extend({options:{padding:.1},initialize:function(c){b(this,c),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(c.zoomanim=this._onAnimZoom),c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,m){var v=this._map.getZoomScale(m,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,m),D=S.multiplyBy(-v).add(E).subtract(this._map._getNewPixelOrigin(c,m));ke.any3d?ri(this._container,D,v):bt(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,m=this._map.getSize(),v=this._map.containerPointToLayerPoint(m.multiplyBy(-c)).round();this._bounds=new Z(v,v.add(m.multiplyBy(1+c*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),dN=si.extend({options:{tolerance:0},getEvents:function(){var c=si.prototype.getEvents.call(this);return c.viewprereset=this._onViewPreReset,c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");Te(c,"mousemove",this._onMouseMove,this),Te(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(c,"mouseout",this._handleMouseOut,this),c._leaflet_disable_events=!0,this._ctx=c.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,it(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var c;this._redrawBounds=null;for(var m in this._layers)c=this._layers[m],c._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){si.prototype._update.call(this);var c=this._bounds,m=this._container,v=c.getSize(),S=ke.retina?2:1;bt(m,c.min),m.width=S*v.x,m.height=S*v.y,m.style.width=v.x+"px",m.style.height=v.y+"px",ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-c.min.x,-c.min.y),this.fire("update")}},_reset:function(){si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c),this._layers[u(c)]=c;var m=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var m=c._order,v=m.next,S=m.prev;v?v.prev=S:this._drawLast=S,S?S.next=v:this._drawFirst=v,delete c._order,delete this._layers[u(c)],this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c),c._project(),c._update(),this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c),this._requestRedraw(c)},_updateDashArray:function(c){if(typeof c.options.dashArray=="string"){var m=c.options.dashArray.split(/[, ]+/),v=[],S,E;for(E=0;E<m.length;E++){if(S=Number(m[E]),isNaN(S))return;v.push(S)}c.options._dashArray=v}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var m=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(c._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(c._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var m=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c,m=this._redrawBounds;if(this._ctx.save(),m){var v=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)c=S.layer,(!m||c._pxBounds&&c._pxBounds.intersects(m))&&c._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(c,m){if(this._drawing){var v,S,E,D,K=c._parts,J=K.length,ne=this._ctx;if(J){for(ne.beginPath(),v=0;v<J;v++){for(S=0,E=K[v].length;S<E;S++)D=K[v][S],ne[S?"lineTo":"moveTo"](D.x,D.y);m&&ne.closePath()}this._fillStroke(ne,c)}}},_updateCircle:function(c){if(!(!this._drawing||c._empty())){var m=c._point,v=this._ctx,S=Math.max(Math.round(c._radius),1),E=(Math.max(Math.round(c._radiusY),1)||S)/S;E!==1&&(v.save(),v.scale(1,E)),v.beginPath(),v.arc(m.x,m.y/E,S,0,Math.PI*2,!1),E!==1&&v.restore(),this._fillStroke(v,c)}},_fillStroke:function(c,m){var v=m.options;v.fill&&(c.globalAlpha=v.fillOpacity,c.fillStyle=v.fillColor||v.color,c.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(c.setLineDash&&c.setLineDash(m.options&&m.options._dashArray||[]),c.globalAlpha=v.opacity,c.lineWidth=v.weight,c.strokeStyle=v.color,c.lineCap=v.lineCap,c.lineJoin=v.lineJoin,c.stroke())},_onClick:function(c){for(var m=this._map.mouseEventToLayerPoint(c),v,S,E=this._drawFirst;E;E=E.next)v=E.layer,v.options.interactive&&v._containsPoint(m)&&(!(c.type==="click"||c.type==="preclick")||!this._map._draggableMoved(v))&&(S=v);this._fireEvent(S?[S]:!1,c)},_onMouseMove:function(c){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var m=this._map.mouseEventToLayerPoint(c);this._handleMouseHover(c,m)}},_handleMouseOut:function(c){var m=this._hoveredLayer;m&&(vt(this._container,"leaflet-interactive"),this._fireEvent([m],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,m){if(!this._mouseHoverThrottled){for(var v,S,E=this._drawFirst;E;E=E.next)v=E.layer,v.options.interactive&&v._containsPoint(m)&&(S=v);S!==this._hoveredLayer&&(this._handleMouseOut(c),S&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([S],c,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,c),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,m,v){this._map._fireDOMEvent(m,v||m.type,c)},_bringToFront:function(c){var m=c._order;if(m){var v=m.next,S=m.prev;if(v)v.prev=S;else return;S?S.next=v:v&&(this._drawFirst=v),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(c)}},_bringToBack:function(c){var m=c._order;if(m){var v=m.next,S=m.prev;if(S)S.next=v;else return;v?v.prev=S:S&&(this._drawLast=S),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(c)}}});function fN(c){return ke.canvas?new dN(c):null}var ju=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("<lvml:"+c+' class="lvml">')}}catch{}return function(c){return document.createElement("<"+c+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),fF={_initContainer:function(){this._container=Be("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(si.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var m=c._container=ju("shape");Ae(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",c._path=ju("path"),m.appendChild(c._path),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){var m=c._container;this._container.appendChild(m),c.options.interactive&&c.addInteractiveTarget(m)},_removePath:function(c){var m=c._container;it(m),c.removeInteractiveTarget(m),delete this._layers[u(c)]},_updateStyle:function(c){var m=c._stroke,v=c._fill,S=c.options,E=c._container;E.stroked=!!S.stroke,E.filled=!!S.fill,S.stroke?(m||(m=c._stroke=ju("stroke")),E.appendChild(m),m.weight=S.weight+"px",m.color=S.color,m.opacity=S.opacity,S.dashArray?m.dashStyle=j(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):m.dashStyle="",m.endcap=S.lineCap.replace("butt","flat"),m.joinstyle=S.lineJoin):m&&(E.removeChild(m),c._stroke=null),S.fill?(v||(v=c._fill=ju("fill")),E.appendChild(v),v.color=S.fillColor||S.color,v.opacity=S.fillOpacity):v&&(E.removeChild(v),c._fill=null)},_updateCircle:function(c){var m=c._point.round(),v=Math.round(c._radius),S=Math.round(c._radiusY||v);this._setPath(c,c._empty()?"M0 0":"AL "+m.x+","+m.y+" "+v+","+S+" 0,"+65535*360)},_setPath:function(c,m){c._path.v=m},_bringToFront:function(c){Zi(c._container)},_bringToBack:function(c){Yi(c._container)}},Sh=ke.vml?ju:Oe,ku=si.extend({_initContainer:function(){this._container=Sh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){si.prototype._update.call(this);var c=this._bounds,m=c.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,v.setAttribute("width",m.x),v.setAttribute("height",m.y)),bt(v,c.min),v.setAttribute("viewBox",[c.min.x,c.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(c){var m=c._path=Sh("path");c.options.className&&Ae(m,c.options.className),c.options.interactive&&Ae(m,"leaflet-interactive"),this._updateStyle(c),this._layers[u(c)]=c},_addPath:function(c){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(c._path),c.addInteractiveTarget(c._path)},_removePath:function(c){it(c._path),c.removeInteractiveTarget(c._path),delete this._layers[u(c)]},_updatePath:function(c){c._project(),c._update()},_updateStyle:function(c){var m=c._path,v=c.options;m&&(v.stroke?(m.setAttribute("stroke",v.color),m.setAttribute("stroke-opacity",v.opacity),m.setAttribute("stroke-width",v.weight),m.setAttribute("stroke-linecap",v.lineCap),m.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?m.setAttribute("stroke-dasharray",v.dashArray):m.removeAttribute("stroke-dasharray"),v.dashOffset?m.setAttribute("stroke-dashoffset",v.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),v.fill?(m.setAttribute("fill",v.fillColor||v.color),m.setAttribute("fill-opacity",v.fillOpacity),m.setAttribute("fill-rule",v.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(c,m){this._setPath(c,Pe(c._parts,m))},_updateCircle:function(c){var m=c._point,v=Math.max(Math.round(c._radius),1),S=Math.max(Math.round(c._radiusY),1)||v,E="a"+v+","+S+" 0 1,0 ",D=c._empty()?"M0 0":"M"+(m.x-v)+","+m.y+E+v*2+",0 "+E+-v*2+",0 ";this._setPath(c,D)},_setPath:function(c,m){c._path.setAttribute("d",m)},_bringToFront:function(c){Zi(c._path)},_bringToBack:function(c){Yi(c._path)}});ke.vml&&ku.include(fF);function hN(c){return ke.svg||ke.vml?new ku(c):null}Ue.include({getRenderer:function(c){var m=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(c){if(c==="overlayPane"||c===void 0)return!1;var m=this._paneRenderers[c];return m===void 0&&(m=this._createRenderer({pane:c}),this._paneRenderers[c]=m),m},_createRenderer:function(c){return this.options.preferCanvas&&fN(c)||hN(c)}});var mN=ml.extend({initialize:function(c,m){ml.prototype.initialize.call(this,this._boundsToLatLngs(c),m)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){return c=Q(c),[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});function hF(c,m){return new mN(c,m)}ku.create=Sh,ku.pointsToPath=Pe,ii.geometryToLayer=vh,ii.coordsToLatLng=cx,ii.coordsToLatLngs=bh,ii.latLngToCoords=ux,ii.latLngsToCoords=wh,ii.getFeature=pl,ii.asFeature=_h,Ue.mergeOptions({boxZoom:!0});var pN=Ca.extend({initialize:function(c){this._map=c,this._container=c._container,this._pane=c._panes.overlayPane,this._resetStateTimeout=0,c.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||c.which!==1&&c.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pu(),Ky(),this._startPoint=this._map.mouseEventToContainerPoint(c),Te(document,{contextmenu:ro,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=Be("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(c);var m=new Z(this._point,this._startPoint),v=m.getSize();bt(this._box,m.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(it(this._box),vt(this._container,"leaflet-crosshair")),gu(),qy(),tt(document,{contextmenu:ro,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(!(c.which!==1&&c.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var m=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(c){c.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",pN),Ue.mergeOptions({doubleClickZoom:!0});var gN=Ca.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var m=this._map,v=m.getZoom(),S=m.options.zoomDelta,E=c.originalEvent.shiftKey?v-S:v+S;m.options.doubleClickZoom==="center"?m.setZoom(E):m.setZoomAround(c.containerPoint,E)}});Ue.addInitHook("addHandler","doubleClickZoom",gN),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yN=Ca.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Gi(c._mapPane,c._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;if(c._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Q(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart"),c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var m=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(m),this._prunePositions(m)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;this._positions.length>1&&c-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(c).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,m){return c-(c-m)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var c=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;c.x<m.min.x&&(c.x=this._viscousLimit(c.x,m.min.x)),c.y<m.min.y&&(c.y=this._viscousLimit(c.y,m.min.y)),c.x>m.max.x&&(c.x=this._viscousLimit(c.x,m.max.x)),c.y>m.max.y&&(c.y=this._viscousLimit(c.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,m=Math.round(c/2),v=this._initialWorldOffset,S=this._draggable._newPos.x,E=(S-m+v)%c+m-v,D=(S+m+v)%c-m-v,K=Math.abs(E+v)<Math.abs(D+v)?E:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(c){var m=this._map,v=m.options,S=!v.inertia||c.noInertia||this._times.length<2;if(m.fire("dragend",c),S)m.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,K=v.easeLinearity,J=E.multiplyBy(K/D),ne=J.distanceTo([0,0]),ce=Math.min(v.inertiaMaxSpeed,ne),ge=J.multiplyBy(ce/ne),Ee=ce/(v.inertiaDeceleration*K),Le=ge.multiplyBy(-Ee/2).round();!Le.x&&!Le.y?m.fire("moveend"):(Le=m._limitOffset(Le,m.options.maxBounds),I(function(){m.panBy(Le,{duration:Ee,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",yN),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xN=Ca.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c,this._setPanDelta(c.options.keyboardPanDelta),this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;c.tabIndex<=0&&(c.tabIndex="0"),Te(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,m=document.documentElement,v=c.scrollTop||m.scrollTop,S=c.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(S,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(c){var m=this._panKeys={},v=this.keyCodes,S,E;for(S=0,E=v.left.length;S<E;S++)m[v.left[S]]=[-1*c,0];for(S=0,E=v.right.length;S<E;S++)m[v.right[S]]=[c,0];for(S=0,E=v.down.length;S<E;S++)m[v.down[S]]=[0,c];for(S=0,E=v.up.length;S<E;S++)m[v.up[S]]=[0,-1*c]},_setZoomDelta:function(c){var m=this._zoomKeys={},v=this.keyCodes,S,E;for(S=0,E=v.zoomIn.length;S<E;S++)m[v.zoomIn[S]]=c;for(S=0,E=v.zoomOut.length;S<E;S++)m[v.zoomOut[S]]=-c},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var m=c.keyCode,v=this._map,S;if(m in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(S=this._panKeys[m],c.shiftKey&&(S=U(S).multiplyBy(3)),v.options.maxBounds&&(S=v._limitOffset(U(S),v.options.maxBounds)),v.options.worldCopyJump){var E=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(S)));v.panTo(E)}else v.panBy(S)}else if(m in this._zoomKeys)v.setZoom(v.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[m]);else if(m===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;ro(c)}}});Ue.addInitHook("addHandler","keyboard",xN),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vN=Ca.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var m=Hk(c),v=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(c),this._startTime||(this._startTime=+new Date);var S=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),S),ro(c)},_performZoom:function(){var c=this._map,m=c.getZoom(),v=this._map.options.zoomSnap||0;c._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,D=v?Math.ceil(E/v)*v:E,K=c._limitZoom(m+(this._delta>0?D:-D))-m;this._delta=0,this._startTime=null,K&&(c.options.scrollWheelZoom==="center"?c.setZoom(m+K):c.setZoomAround(this._lastMousePos,m+K))}});Ue.addInitHook("addHandler","scrollWheelZoom",vN);var mF=600;Ue.mergeOptions({tapHold:ke.touchNative&&ke.safari&&ke.mobile,tapTolerance:15});var bN=Ca.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(clearTimeout(this._holdTimeout),c.touches.length===1){var m=c.touches[0];this._startPos=this._newPos=new z(m.clientX,m.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",fr),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),mF),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function c(){tt(document,"touchend",fr),tt(document,"touchend touchcancel",c)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(c){var m=c.touches[0];this._newPos=new z(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(c,m){var v=new MouseEvent(c,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});v._simulated=!0,m.target.dispatchEvent(v)}});Ue.addInitHook("addHandler","tapHold",bN),Ue.mergeOptions({touchZoom:ke.touch,bounceAtZoomLimits:!0});var wN=Ca.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var m=this._map;if(!(!c.touches||c.touches.length!==2||m._animatingZoom||this._zooming)){var v=m.mouseEventToContainerPoint(c.touches[0]),S=m.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),m.options.touchZoom!=="center"&&(this._pinchStartLatLng=m.containerPointToLatLng(v.add(S)._divideBy(2))),this._startDist=v.distanceTo(S),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),fr(c)}},_onTouchMove:function(c){if(!(!c.touches||c.touches.length!==2||!this._zooming)){var m=this._map,v=m.mouseEventToContainerPoint(c.touches[0]),S=m.mouseEventToContainerPoint(c.touches[1]),E=v.distanceTo(S)/this._startDist;if(this._zoom=m.getScaleZoom(E,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&E<1||this._zoom>m.getMaxZoom()&&E>1)&&(this._zoom=m._limitZoom(this._zoom)),m.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var D=v._add(S)._divideBy(2)._subtract(this._centerPoint);if(E===1&&D.x===0&&D.y===0)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var K=o(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I(K,this,!0),fr(c)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",wN),Ue.BoxZoom=pN,Ue.DoubleClickZoom=gN,Ue.Drag=yN,Ue.Keyboard=xN,Ue.ScrollWheelZoom=vN,Ue.TapHold=bN,Ue.TouchZoom=wN,r.Bounds=Z,r.Browser=ke,r.CRS=ie,r.Canvas=dN,r.Circle=lx,r.CircleMarker=xh,r.Class=F,r.Control=Jn,r.DivIcon=lN,r.DivOverlay=Ea,r.DomEvent=Tz,r.DomUtil=Oz,r.Draggable=Gi,r.Evented=V,r.FeatureGroup=ni,r.GeoJSON=ii,r.GridLayer=_u,r.Handler=Ca,r.Icon=hl,r.ImageOverlay=jh,r.LatLng=se,r.LatLngBounds=H,r.Layer=ea,r.LayerGroup=fl,r.LineUtil=Vz,r.Map=Ue,r.Marker=yh,r.Mixin=Fz,r.Path=Xi,r.Point=z,r.PolyUtil=$z,r.Polygon=ml,r.Polyline=ai,r.Popup=kh,r.PosAnimation=Wk,r.Projection=Kz,r.Rectangle=mN,r.Renderer=si,r.SVG=ku,r.SVGOverlay=oN,r.TileLayer=gl,r.Tooltip=Nh,r.Transformation=fe,r.Util=B,r.VideoOverlay=sN,r.bind=o,r.bounds=G,r.canvas=fN,r.circle=eF,r.circleMarker=Jz,r.control=vu,r.divIcon=cF,r.extend=a,r.featureGroup=Gz,r.geoJSON=iN,r.geoJson=nF,r.gridLayer=uF,r.icon=Xz,r.imageOverlay=aF,r.latLng=oe,r.latLngBounds=Q,r.layerGroup=Yz,r.map=Mz,r.marker=Qz,r.point=U,r.polygon=rF,r.polyline=tF,r.popup=oF,r.rectangle=hF,r.setOptions=b,r.stamp=u,r.svg=hN,r.svgOverlay=sF,r.tileLayer=cN,r.tooltip=lF,r.transformation=te,r.version=n,r.videoOverlay=iF;var pF=window.L;r.noConflict=function(){return window.L=pF,this},window.L=r})})(a_,a_.exports);var wy=a_.exports;function Rk(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function zk(e,t){return t==null?function(n,a){const i=x.useRef();return i.current||(i.current=e(n,a)),i}:function(n,a){const i=x.useRef();i.current||(i.current=e(n,a));const o=x.useRef(n),{instance:l}=i.current;return x.useEffect(function(){o.current!==n&&(t(l,n,o.current),o.current=n)},[l,n,a]),i}}function Sz(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Vme(e){return function(r){const n=Lk(),a=e(by(r,n),n);return jz(n.map,r.attribution),Dk(a.current,r.eventHandlers),Sz(a.current,n),a}}function Kme(e,t){const r=x.useRef();x.useEffect(function(){if(t.pathOptions!==r.current){const a=t.pathOptions??{};e.instance.setStyle(a),r.current=a}},[e,t])}function qme(e){return function(r){const n=Lk(),a=e(by(r,n),n);return Dk(a.current,r.eventHandlers),Sz(a.current,n),Kme(a.current,r),a}}function Zme(e,t){const r=zk(e),n=Wme(r,t);return Ume(n)}function Yme(e,t){const r=zk(e,t),n=qme(r);return Bme(n)}function Gme(e,t){const r=zk(e,t),n=Vme(r);return Hme(n)}function Xme(e,t,r){const{opacity:n,zIndex:a}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),a!=null&&a!==r.zIndex&&e.setZIndex(a)}const Qme=Yme(function({center:t,children:r,...n},a){const i=new wy.CircleMarker(t,n);return Rk(i,$me(a,{overlayContainer:i}))},Rme);function i_(){return i_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function Jme({bounds:e,boundsOptions:t,center:r,children:n,className:a,id:i,placeholder:o,style:l,whenReady:u,zoom:d,...f},h){const[p]=x.useState({className:a,id:i,style:l}),[g,y]=x.useState(null);x.useImperativeHandle(h,()=>(g==null?void 0:g.map)??null,[g]);const b=x.useCallback(w=>{if(w!==null&&g===null){const k=new wy.Map(w,f);r!=null&&d!=null?k.setView(r,d):e!=null&&k.fitBounds(e,t),u!=null&&k.whenReady(u),y(Fme(k))}},[]);x.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const _=g?Sr.createElement(Nz,{value:g},n):o??null;return Sr.createElement("div",i_({},p,{ref:b}),_)}const epe=x.forwardRef(Jme),tpe=Zme(function(t,r){const n=new wy.Popup(t,r.overlayContainer);return Rk(n,r)},function(t,r,{position:n},a){x.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),a(!0))}function u(d){d.popup===o&&a(!1)}return r.map.on({popupopen:l,popupclose:u}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var f;r.map.off({popupopen:l,popupclose:u}),(f=r.overlayContainer)==null||f.unbindPopup(),r.map.removeLayer(o)}},[t,r,a,n])}),rpe=Gme(function({url:t,...r},n){const a=new wy.TileLayer(t,by(r,n));return Rk(a,n)},function(t,r,n){Xme(t,r,n);const{url:a}=r;a!=null&&a!==n.url&&t.setUrl(a)}),kl=["#8884d8","#82ca9d","#ffc658","#ff7300","#0088fe","#00C49F","#FFBB28","#FF8042","#a4de6c","#d0ed57"],npe=()=>{var R,B,F,q,W,V,z;const[e]=wM(),[t,r]=x.useState([]),[n,a]=x.useState(()=>{const T=e.get("dataset_id");return T?Number(T):null}),[i,o]=x.useState(null),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(null),[g,y]=x.useState("sample"),[b,_]=x.useState(""),[w,k]=x.useState([]),[j,N]=x.useState(null);x.useEffect(()=>{P()},[]),x.useEffect(()=>{n?(o(null),A(n),C(n)):(o(null),k([]))},[n]),x.useEffect(()=>{let T;return i&&i.status==="PENDING"&&(T=setInterval(()=>{n&&(A(n,!0),C(n))},3e3)),()=>clearInterval(T)},[i,n]);const P=async()=>{try{const T=await Wn.getUsable();r(T),T.length>0&&!n&&a(Number(T[0].id))}catch(T){console.error("Failed to load datasets",T)}},C=async T=>{try{const U=await jm.getHistory(T);k(U)}catch(U){console.error("Failed to load history",U)}},A=async(T,U=!1)=>{U||u(!0),p(null);try{const Z=await jm.getLatestReport(T);o(Z)}catch(Z){Z.response&&Z.response.status===404?o(null):U||p("Failed to load report")}finally{U||u(!1)}},O=async T=>{u(!0);try{const U=await jm.getReport(T);o(U)}catch{p("Failed to load report")}finally{u(!1)}},M=async()=>{if(n){f(!0);try{await jm.analyze(n,b||void 0),A(n),C(n)}catch{p("Failed to start analysis")}finally{f(!1)}}};x.useEffect(()=>{i&&i.profile_data&&i.profile_data.target_col&&_(i.profile_data.target_col)},[i]);const $=({text:T})=>s.jsxs("div",{className:"group relative ml-2 inline-flex items-center",children:[s.jsx(vi,{className:"w-4 h-4 text-gray-400 cursor-help"}),s.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-64 p-2 bg-gray-800 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none text-center",children:[T,s.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]}),I=()=>{var U,Z,G;if(l&&!i)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Xr,{className:"w-8 h-8 animate-spin text-blue-500"})});if(h)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500",children:[s.jsx(an,{className:"w-16 h-16 mb-4"}),s.jsx("p",{children:"Error"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:h}),s.jsxs("button",{onClick:()=>n&&A(n),className:"mt-4 flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[s.jsx(ha,{className:"w-4 h-4 mr-2"}),"Retry"]})]});if(!i)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(Zl,{className:"w-16 h-16 mb-4 opacity-20"}),s.jsx("p",{className:"mb-4",children:"No analysis found for this dataset."}),s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-64",children:s.jsx("input",{type:"text",value:b,onChange:H=>_(H.target.value),placeholder:"Target Column (Optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})}),s.jsxs("button",{onClick:M,disabled:d,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[d?s.jsx(Xr,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Hs,{className:"w-4 h-4 mr-2"}),"Run Analysis"]})]})]});if(i.status==="PENDING")return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(Xr,{className:"w-16 h-16 mb-4 animate-spin text-blue-500"}),s.jsx("p",{children:"Analysis in progress..."}),s.jsx("p",{className:"text-sm text-gray-400",children:"This may take a few moments."})]});if(i.status==="FAILED")return s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500",children:[s.jsx(an,{className:"w-16 h-16 mb-4"}),s.jsx("p",{children:"Analysis Failed"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:i.error_message}),s.jsxs("button",{onClick:M,className:"mt-4 flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[s.jsx(ha,{className:"w-4 h-4 mr-2"}),"Retry"]})]});const T=i.profile_data;return T?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Rows"}),s.jsx("div",{className:"text-2xl font-bold",children:T.row_count.toLocaleString()})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Columns"}),s.jsx("div",{className:"text-2xl font-bold",children:T.column_count})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Missing Cells"}),s.jsxs("div",{className:"text-2xl font-bold",children:[T.missing_cells_percentage.toFixed(1),"%"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Duplicates"}),s.jsx("div",{className:"text-2xl font-bold",children:T.duplicate_rows})]})]}),T.alerts&&T.alerts.length>0&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[s.jsx("div",{className:"flex justify-between items-center mb-2",children:s.jsxs("h3",{className:"font-medium text-amber-800 dark:text-amber-200 flex items-center",children:[s.jsx(an,{className:"w-4 h-4 mr-2"}),"Data Quality Alerts (",T.alerts.length,")"]})}),s.jsx("div",{className:"max-h-40 overflow-y-auto pr-2",children:s.jsx("ul",{className:"space-y-1",children:T.alerts.map((H,Q)=>s.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300 flex items-start",children:[s.jsx("span",{className:"mr-2",children:""}),s.jsxs("span",{children:[H.column&&s.jsxs("span",{className:"font-semibold",children:[H.column,": "]}),H.message]})]},Q))})})]}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>y("sample"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="sample"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sample Data"}),s.jsx("button",{onClick:()=>y("variables"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="variables"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Variables"}),s.jsxs("button",{onClick:()=>y("insights"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${g==="insights"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(kp,{className:"w-4 h-4"}),"Smart Insights"]}),T.pca_data&&s.jsxs("button",{onClick:()=>y("pca"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${g==="pca"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(rS,{className:"w-4 h-4"}),"Multivariate (PCA)"]}),T.geospatial&&s.jsxs("button",{onClick:()=>y("geospatial"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${g==="geospatial"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(tS,{className:"w-4 h-4"}),"Geospatial"]}),T.timeseries&&s.jsxs("button",{onClick:()=>y("timeseries"),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${g==="timeseries"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(xc,{className:"w-4 h-4"}),"Time Series"]}),T.correlations&&T.correlations.values&&T.correlations.values.length>0&&s.jsx("button",{onClick:()=>y("correlations"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="correlations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Correlations"}),T.target_col&&T.target_correlations&&Object.keys(T.target_correlations).length>0&&s.jsx("button",{onClick:()=>y("target"),className:`py-4 px-1 border-b-2 font-medium text-sm ${g==="target"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Target Analysis"})]})}),g==="insights"&&s.jsx("div",{className:"mt-4 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(kp,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Actionable Recommendations"]}),T.recommendations&&T.recommendations.length>0?s.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:T.recommendations.map((H,Q)=>s.jsxs("div",{className:"flex items-start p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-100 dark:border-gray-800",children:[s.jsx("div",{className:`p-2 rounded-full mr-4 shrink-0 ${H.action==="Drop"?"bg-red-100 text-red-600":H.action==="Impute"?"bg-blue-100 text-blue-600":H.action==="Transform"?"bg-purple-100 text-purple-600":H.action==="Resample"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:H.action==="Drop"?s.jsx(lr,{className:"w-4 h-4"}):H.action==="Keep"?s.jsx(ba,{className:"w-4 h-4"}):s.jsx(ha,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[H.action," ",H.column&&s.jsxs("span",{className:"text-gray-500",children:["'",H.column,"'"]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:H.suggestion}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2 italic",children:["Reason: ",H.reason]})]})]},Q))}):s.jsx("p",{className:"text-gray-500 italic",children:"No specific recommendations found. Your data looks clean!"})]})}),g==="pca"&&s.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(rS,{className:"w-5 h-5 mr-2 text-purple-500"}),"Multivariate Structure (PCA)",s.jsx($,{text:"Reduces data to 2D. Points closer together are similar. Colors show clusters or target values."})]}),T.pca_data?s.jsx("div",{className:"h-[500px] w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(n_,{margin:{top:20,right:20,bottom:40,left:20},children:[s.jsx(zn,{strokeDasharray:"3 3"}),s.jsx(Fn,{type:"number",dataKey:"x",name:"PC1",label:{value:"Principal Component 1 (PC1)",position:"bottom",offset:20,fill:"#6b7280"}}),s.jsx($n,{type:"number",dataKey:"y",name:"PC2",label:{value:"Principal Component 2 (PC2)",angle:-90,position:"insideLeft",style:{textAnchor:"middle"},fill:"#6b7280"}}),s.jsx(ca,{cursor:{strokeDasharray:"3 3"}}),(()=>{const H={};let Q=!1;T.pca_data.forEach(ie=>{const le=ie.label||"Data Points";ie.label&&(Q=!0),H[le]||(H[le]=[]),H[le].push(ie)});const se=Object.keys(H);return se.length>20?s.jsx(rf,{name:"Data Points",data:T.pca_data,fill:"#8884d8",fillOpacity:.6}):s.jsxs(s.Fragment,{children:[s.jsx(ng,{verticalAlign:"top",height:36}),se.map((ie,le)=>s.jsx(rf,{name:ie,data:H[ie],fill:Q?kl[le%kl.length]:"#8884d8",fillOpacity:.6},ie))]})})()]})})}):s.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 dark:bg-gray-900 rounded text-gray-400 text-sm text-center p-4",children:"Not enough numeric data for PCA."}),s.jsxs("div",{className:"mt-6 flex items-start gap-2 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md border border-blue-100 dark:border-blue-800",children:[s.jsx(vi,{className:"w-4 h-4 text-blue-500 mt-0.5 shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("p",{className:"font-medium mb-1",children:"About this visualization"}),s.jsx("p",{children:"This chart shows a 2D projection of your data using Principal Component Analysis (PCA). Points that are close together share similar characteristics across all numeric features."}),s.jsxs("p",{className:"mt-1 text-xs opacity-80",children:["* For performance, this visualization uses a random sample of up to ",s.jsx("strong",{children:"5,000 points"}),"."]})]})]})]}),g==="geospatial"&&T.geospatial&&s.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(tS,{className:"w-5 h-5 mr-2 text-blue-500"}),"Geospatial Analysis"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Detected columns: ",s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-900 px-1 rounded",children:T.geospatial.lat_col}),", ",s.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-900 px-1 rounded",children:T.geospatial.lon_col})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 h-96 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 relative z-0",children:(()=>{const H=[[T.geospatial.min_lat,T.geospatial.min_lon],[T.geospatial.max_lat,T.geospatial.max_lon]],Q=Array.from(new Set(T.geospatial.sample_points.map(ie=>ie.label))).filter(Boolean),se=Q.length>20,oe=ie=>{if(!ie||se)return"#3b82f6";const le=Q.indexOf(ie);return kl[le%kl.length]};return s.jsxs(epe,{bounds:H,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[s.jsx(rpe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),T.geospatial.sample_points.map((ie,le)=>s.jsx(Qme,{center:[ie.lat,ie.lon],radius:5,pathOptions:{color:oe(ie.label),fillColor:oe(ie.label),fillOpacity:.7,weight:1},children:s.jsx(tpe,{children:s.jsxs("div",{className:"text-xs",children:[s.jsx("strong",{children:"Lat:"})," ",ie.lat.toFixed(4),s.jsx("br",{}),s.jsx("strong",{children:"Lon:"})," ",ie.lon.toFixed(4),s.jsx("br",{}),ie.label&&s.jsxs(s.Fragment,{children:[s.jsxs("strong",{children:[T.target_col,":"]})," ",ie.label]})]})})},le))]})})()}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Spatial Bounds"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs text-gray-400",children:"Latitude Range"}),s.jsxs("span",{className:"font-mono",children:[T.geospatial.min_lat.toFixed(4)," to ",T.geospatial.max_lat.toFixed(4)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-xs text-gray-400",children:"Longitude Range"}),s.jsxs("span",{className:"font-mono",children:[T.geospatial.min_lon.toFixed(4)," to ",T.geospatial.max_lon.toFixed(4)]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Centroid"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsxs("span",{className:"font-mono text-sm",children:[T.geospatial.centroid_lat.toFixed(4),", ",T.geospatial.centroid_lon.toFixed(4)]})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md border border-blue-100 dark:border-blue-800",children:[s.jsx(vi,{className:"w-4 h-4 text-blue-500 mt-0.5 shrink-0"}),s.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:s.jsxs("p",{children:["This scatter plot shows the spatial distribution of your data.",T.target_col&&" Points are colored by the target variable."]})})]})]})]})]}),g==="target"&&T.target_col&&T.target_correlations&&s.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(Zl,{className:"w-5 h-5 mr-2 text-blue-500"}),"Target Analysis: ",s.jsx("span",{className:"ml-2 text-blue-600",children:T.target_col})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4",children:"Top Associated Features"}),s.jsx("div",{className:"h-64 w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(bo,{data:Object.entries(T.target_correlations).slice(0,10).map(([H,Q])=>({name:H,value:Q})),layout:"vertical",margin:{top:5,right:30,left:40,bottom:5},children:[s.jsx(zn,{strokeDasharray:"3 3",horizontal:!1}),s.jsx(Fn,{type:"number",domain:[0,1]}),s.jsx($n,{type:"category",dataKey:"name",width:120,tick:{fontSize:12}}),s.jsx(ca,{contentStyle:{backgroundColor:"#1f2937",border:"none",color:"#fff"},itemStyle:{color:"#fff"},formatter:H=>[H.toFixed(3),"Association"]}),s.jsx(Pg,{x:0,stroke:"#9ca3af"}),s.jsx(_s,{dataKey:"value",fill:"#3b82f6",radius:[0,4,4,0],barSize:20})]})})})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Key Insights"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2 text-blue-500",children:""}),s.jsxs("span",{children:["Target is ",s.jsx("strong",{children:(U=T.columns[T.target_col])==null?void 0:U.dtype})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"mr-2 text-blue-500",children:""}),s.jsxs("span",{children:["Strongest predictor: ",s.jsx("strong",{children:Object.keys(T.target_correlations)[0]||"None"}),Object.values(T.target_correlations)[0]!==void 0&&s.jsxs(s.Fragment,{children:[" (",Object.values(T.target_correlations)[0].toFixed(2),")"]})]})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm h-fit",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qg,{className:"w-4 h-4 mr-2"}),"Analysis History"]}),l&&s.jsx(Xr,{className:"w-3 h-3 animate-spin text-blue-500"})]}),s.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:w.length===0?s.jsx("p",{className:"text-xs text-gray-500 italic",children:"No previous analyses found."}):w.slice(0,10).map(H=>s.jsxs("button",{onClick:()=>!l&&O(H.id),disabled:l,className:`w-full text-left p-3 rounded-md text-sm border transition-colors ${i&&i.id===H.id?"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300":"bg-gray-50 border-gray-100 text-gray-600 hover:bg-gray-100 dark:bg-gray-900 dark:border-gray-800 dark:text-gray-400 dark:hover:bg-gray-800"} ${l?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("div",{className:"font-medium truncate",children:H.target_col?`Target: ${H.target_col}`:"General Analysis"}),s.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(H.created_at).toLocaleString()}),s.jsx("div",{className:`text-xs mt-1 inline-block px-1.5 py-0.5 rounded ${H.status==="COMPLETED"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":H.status==="FAILED"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:H.status})]},H.id))})]})]}),g==="timeseries"&&T.timeseries&&s.jsxs("div",{className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(xc,{className:"w-5 h-5 mr-2 text-blue-500"}),"Trend Analysis (",T.timeseries.date_col,")",s.jsx($,{text:"Shows how values change over time. Look for long-term trends (up/down) or sudden shifts."})]}),s.jsx("div",{className:"h-80 w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(_z,{data:T.timeseries.trend,children:[s.jsx(zn,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Fn,{dataKey:"date",tick:{fontSize:12},minTickGap:30}),s.jsx($n,{}),s.jsx(ca,{contentStyle:{backgroundColor:"#1f2937",border:"none",color:"#fff"},labelStyle:{color:"#9ca3af"}}),s.jsx(ng,{}),Object.keys(((Z=T.timeseries.trend[0])==null?void 0:Z.values)||{}).map((H,Q)=>s.jsx(Ql,{type:"monotone",dataKey:`values.${H}`,name:H,stroke:kl[Q%kl.length],dot:!1,strokeWidth:2},H)),(!((G=T.timeseries.trend[0])!=null&&G.values)||Object.keys(T.timeseries.trend[0].values).length===0)&&s.jsx(Ql,{type:"monotone",dataKey:"count",stroke:"#3b82f6",dot:!1})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Day of Week Seasonality"}),s.jsx($,{text:"Average values for each day. Helps identify weekly patterns (e.g., lower on weekends)."})]}),s.jsx("div",{className:"h-64 w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(bo,{data:T.timeseries.seasonality.day_of_week,children:[s.jsx(zn,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Fn,{dataKey:"day",tick:{fontSize:12}}),s.jsx($n,{}),s.jsx(ca,{contentStyle:{backgroundColor:"#1f2937",border:"none",color:"#fff"},cursor:{fill:"transparent"}}),s.jsx(_s,{dataKey:"count",fill:"#8884d8",radius:[4,4,0,0]})]})})})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Monthly Seasonality"}),s.jsx($,{text:"Average values for each month. Helps identify yearly patterns or seasonal effects."})]}),s.jsx("div",{className:"h-64 w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(bo,{data:T.timeseries.seasonality.month_of_year,children:[s.jsx(zn,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Fn,{dataKey:"month",tick:{fontSize:12}}),s.jsx($n,{}),s.jsx(ca,{contentStyle:{backgroundColor:"#1f2937",border:"none",color:"#fff"},cursor:{fill:"transparent"}}),s.jsx(_s,{dataKey:"count",fill:"#82ca9d",radius:[4,4,0,0]})]})})})]}),T.timeseries.autocorrelation&&T.timeseries.autocorrelation.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Autocorrelation (Lag Analysis)"}),s.jsxs("div",{className:"group relative",children:[s.jsx(vi,{className:"w-4 h-4 text-gray-400 cursor-help"}),s.jsx("div",{className:"absolute right-0 w-64 p-2 bg-gray-800 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none",children:"Shows how much the current value depends on past values (lags). High bars indicate repeating patterns or seasonality."})]})]}),s.jsx("div",{className:"h-64 w-full",children:s.jsx(Rn,{width:"100%",height:"100%",children:s.jsxs(bo,{data:T.timeseries.autocorrelation,children:[s.jsx(zn,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Fn,{dataKey:"lag",tick:{fontSize:12},label:{value:"Lag (Days)",position:"insideBottom",offset:-5,fontSize:10}}),s.jsx($n,{domain:[-1,1]}),s.jsx(ca,{contentStyle:{backgroundColor:"#1f2937",border:"none",color:"#fff"},cursor:{fill:"transparent"},formatter:H=>[H.toFixed(3),"Correlation"]}),s.jsx(Pg,{y:0,stroke:"#9ca3af"}),s.jsx(_s,{dataKey:"corr",fill:"#f59e0b",radius:[2,2,0,0]})]})})})]})]}),g==="variables"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Object.values(T.columns).map(H=>s.jsx(Ime,{profile:H,onClick:()=>N(H)},H.name))}),g==="correlations"&&T.correlations&&s.jsxs("div",{className:"mt-4 bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(Zl,{className:"w-5 h-5 mr-2 text-blue-500"}),"Correlation Matrix",s.jsx($,{text:"Shows linear relationships between variables. 1 is perfect positive, -1 is perfect negative correlation."})]}),s.jsx(Lme,{data:T.correlations})]}),g==="sample"&&T.sample_data&&s.jsx("div",{className:"mt-4 overflow-x-auto bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:s.jsx("tr",{children:Object.keys(T.sample_data[0]||{}).map(H=>s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:H},H))})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:T.sample_data.map((H,Q)=>s.jsx("tr",{children:Object.values(H).map((se,oe)=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:se!==null?String(se):s.jsx("span",{className:"italic text-gray-400",children:"null"})},oe))},Q))})]})})]}):s.jsx("div",{children:"No profile data"})};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Exploratory Data Analysis"}),i&&i.created_at&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last analyzed: ",new Date(i.created_at).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:n||"",onChange:T=>a(Number(T.target.value)),className:"block w-48 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",children:[s.jsx("option",{value:"",disabled:!0,children:"Select a dataset"}),t.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Target:"}),s.jsxs("select",{value:b,onChange:T=>_(T.target.value),disabled:!i||!i.profile_data,className:"block w-40 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border disabled:opacity-50",children:[s.jsx("option",{value:"",children:"None"}),i&&i.profile_data&&Object.keys(i.profile_data.columns).map(T=>s.jsx("option",{value:T,children:T},T))]})]}),s.jsx("button",{onClick:()=>n&&M(),disabled:!n||d,className:"p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-100",title:"Refresh Analysis",children:s.jsx(ha,{className:`w-5 h-5 ${d?"animate-spin":""}`})})]})]}),I(),j&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10",children:[s.jsx("div",{children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[j.name,s.jsx("span",{className:`text-sm font-normal px-2 py-0.5 rounded-full ${j.dtype==="Numeric"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":j.dtype==="Categorical"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:j.dtype})]})}),s.jsx("button",{onClick:()=>N(null),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:s.jsx(lr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg border border-gray-100 dark:border-gray-800",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-4 uppercase tracking-wider",children:"Distribution"}),s.jsx(Dme,{profile:j})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"General Statistics"}),s.jsx("div",{className:"grid grid-cols-2 gap-4 text-sm",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Missing"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[j.missing_count," (",j.missing_percentage.toFixed(2),"%)"]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:[j.dtype," Statistics"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[j.numeric_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Mean"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(R=j.numeric_stats.mean)==null?void 0:R.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Median"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(B=j.numeric_stats.median)==null?void 0:B.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Std Dev"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(F=j.numeric_stats.std)==null?void 0:F.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Min"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.numeric_stats.min})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Max"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.numeric_stats.max})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Zeros"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.numeric_stats.zeros_count})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Skewness"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(q=j.numeric_stats.skewness)==null?void 0:q.toFixed(4)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Kurtosis"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(W=j.numeric_stats.kurtosis)==null?void 0:W.toFixed(4)})]})]}),j.categorical_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Unique Values"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.categorical_stats.unique_count})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Rare Labels"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.categorical_stats.rare_labels_count})]})]}),j.text_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Avg Length"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(V=j.text_stats.avg_length)==null?void 0:V.toFixed(2)})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Min Length"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.text_stats.min_length})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Max Length"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.text_stats.max_length})]})]}),j.date_stats&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Min Date"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.date_stats.min_date})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Max Date"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:j.date_stats.max_date})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400 block text-xs uppercase",children:"Duration (Days)"})," ",s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(z=j.date_stats.duration_days)==null?void 0:z.toFixed(1)})]})]})]})]})]})]})]})})]})};function ape(){return s.jsx(r7,{children:s.jsx(TB,{children:s.jsxs(ns,{path:"/",element:s.jsx(J7,{}),children:[s.jsx(ns,{index:!0,element:s.jsx(IU,{})}),s.jsx(ns,{path:"data",element:s.jsx(zU,{})}),s.jsx(ns,{path:"eda",element:s.jsx(npe,{})}),s.jsx(ns,{path:"canvas",element:s.jsx(Ome,{})}),s.jsx(ns,{path:"registry",element:s.jsx(Ame,{})}),s.jsx(ns,{path:"deployments",element:s.jsx(Mme,{})})]})})})}const wo=e=>e&&typeof e=="object"?e:null,ipe=e=>{const t=wo(e),r=t==null?void 0:t.sample;if(!t||!Array.isArray(r)||r.length===0)return s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No data available"});const n=wo(r[0])??{},a=Object.keys(n).slice(0,5),i=typeof t.name=="string"?t.name:"Dataset",o=Array.isArray(t.shape)?t.shape:null,l=o&&o.length>0?o[0]:void 0,u=o&&o.length>1?o[1]:void 0;return s.jsxs("div",{className:"overflow-x-auto rounded border border-border",children:[s.jsxs("div",{className:"text-xs font-semibold mb-1 flex justify-between p-2 bg-muted/50 border-b border-border",children:[s.jsx("span",{children:i}),s.jsxs("span",{className:"text-muted-foreground",children:[l??"?"," rows x ",u??"?"," cols"]})]}),s.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[s.jsx("thead",{children:s.jsx("tr",{className:"bg-muted/30",children:a.map(d=>s.jsx("th",{className:"p-2 border-b border-r border-border text-left font-medium text-muted-foreground last:border-r-0",children:d},d))})}),s.jsx("tbody",{children:r.slice(0,5).map((d,f)=>s.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/20",children:a.map(h=>{var p;return s.jsx("td",{className:"p-2 border-r border-border truncate max-w-[80px] last:border-r-0",children:String(((p=wo(d))==null?void 0:p[h])??"")},h)})},f))})]})]})},spe=({config:e,onChange:t,nodeId:r})=>{var w;const{nodes:n,edges:a}=Ie(),[i,o]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState("train");x.useEffect(()=>{const k=e.lastRunJobId;if(!k)return;const j=async()=>{try{const P=await ir.getJob(k);u(P),P.status!=="completed"&&P.status}catch(P){console.error("Failed to fetch job",P)}};j();const N=setInterval(()=>{j()},2e3);return()=>{clearInterval(N)}},[e.lastRunJobId]);const h=async()=>{if(r){o(!0);try{const k=v0(n,a),j=await ir.runPipeline({...k,target_node_id:r,job_type:"preview"});t({...e,lastRunJobId:j.job_id})}catch(k){console.error("Failed to run preview:",k),alert("Failed to start preview job.")}finally{o(!1)}}},p=((w=l==null?void 0:l.result)==null?void 0:w.metrics)??(l==null?void 0:l.result),g=wo(p),y=g?wo(g.data_summary):null,b=g==null?void 0:g.operation_mode,_=typeof b=="string"?b:void 0;return s.jsxs("div",{className:"p-4 space-y-4 h-full overflow-y-auto",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Connect this node to any data output to inspect the data state, schema, and applied transformations."}),s.jsxs("button",{onClick:()=>{h()},disabled:i,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-[#38bdf8] via-[#6366f1] to-[#a855f7] text-white px-3 py-1.5 rounded-md hover:opacity-90 disabled:opacity-50 transition-all text-xs font-medium shadow-md",children:[i?s.jsx(ln,{size:14,className:"animate-spin"}):s.jsx(Hs,{size:14}),i?"Running...":"Run Preview"]}),e.lastRunJobId&&l&&l.status!=="completed"&&s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 p-2 bg-muted/30 rounded border border-border",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:`ml-auto font-medium px-1.5 py-0.5 rounded text-[10px] ${l.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:l.status})]}),(l==null?void 0:l.status)==="completed"&&p&&s.jsxs("div",{className:"space-y-4 border-t border-border pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[s.jsxs("div",{className:"text-[10px] bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 p-2 rounded border border-blue-100 dark:border-blue-900/50",children:[s.jsx("strong",{className:"block mb-0.5",children:"Operation Mode"}),_||"Unknown"]}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex border-b border-border",children:["train","test","validation"].map(k=>y[k]?s.jsx("button",{className:`text-[10px] px-3 py-1.5 border-b-2 transition-colors ${d===k?"border-primary font-medium text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{f(k)},children:k.charAt(0).toUpperCase()+k.slice(1)},k):null)}),y[d]?ipe(y[d]):s.jsxs("div",{className:"text-xs text-muted-foreground p-4 text-center border border-dashed border-border rounded",children:["No ",d," data available"]})]}),Array.isArray(g==null?void 0:g.applied_transformations)&&g.applied_transformations.length>0&&s.jsxs("div",{className:"pt-2 border-t border-border",children:[s.jsx("div",{className:"text-[10px] font-semibold mb-2 text-foreground",children:"Applied Steps"}),s.jsx("div",{className:"space-y-1.5",children:g.applied_transformations.map((k,j)=>{var N,P;return s.jsxs("div",{className:"text-[10px] flex items-center gap-2 text-muted-foreground p-1.5 bg-muted/30 rounded border border-border",children:[s.jsx("span",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center text-[8px] font-medium text-foreground",children:j+1}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-foreground",children:String(((N=wo(k))==null?void 0:N.transformer_name)??"")}),s.jsx("span",{className:"text-[9px] opacity-80",children:String(((P=wo(k))==null?void 0:P.transformer_type)??"")})]})]},j)})})]})]})]})},ope=({data:e})=>{const[t,r]=x.useState(null);return x.useEffect(()=>{const n=e.lastRunJobId;if(!n)return;const a=async()=>{try{const o=await ir.getJob(n);r(o.status)}catch{r("error")}};a();const i=setInterval(()=>{a()},5e3);return()=>{clearInterval(i)}},[e.lastRunJobId]),s.jsx("div",{className:"text-xs flex items-center gap-2",children:e.lastRunJobId?t==="completed"?s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[s.jsx(ba,{size:12})," Ready"]}):t==="failed"?s.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium flex items-center gap-1",children:[s.jsx(an,{size:12})," Failed"]}):s.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1",children:[s.jsx(ln,{size:12,className:"animate-spin"})," Running"]}):s.jsx("span",{className:"text-muted-foreground italic",children:"Not run yet"})})},lpe={type:"data_preview",label:"Data Preview",category:"Evaluation",description:"Inspect data state and transformations at this point.",icon:AM,inputs:[{id:"in",label:"Input Data",type:"any"}],outputs:[],component:ope,settings:spe,validate:()=>({isValid:!0}),getDefaultConfig:()=>({})},xt=e=>R8({queryKey:["dataset-schema",e],queryFn:()=>AU(e),enabled:!!e,staleTime:1e3*60*5}),cpe=({config:e,onChange:t})=>{const[r,n]=x.useState([]),[a,i]=x.useState(!1),[o,l]=x.useState(!1),{data:u,isLoading:d}=xt(e.datasetId),f=()=>{i(!0),Wn.getUsable().then(n).catch(console.error).finally(()=>{i(!1)})};x.useEffect(()=>{f()},[]);const h=g=>{const y=g.target.value,b=r.find(_=>String(_.id)===y);t({...e,datasetId:y,datasetName:b==null?void 0:b.name})},p=(g,y)=>{l(!1),f(),t({...e,datasetId:g,datasetName:y})};return o?s.jsx(rI,{onUploadComplete:p,onCancel:()=>{l(!1)}}):s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),s.jsxs("button",{onClick:()=>{l(!0)},className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[s.jsx(nl,{size:14}),"New Upload"]})]}),a?s.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:h,children:[s.jsx("option",{value:"",children:"-- Select --"}),r.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),e.datasetId&&s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[s.jsx(Z7,{size:14}),s.jsx("span",{children:"Dataset Schema"})]}),d?s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-auto",children:s.jsxs("table",{className:"w-full text-xs text-left min-w-max",children:[s.jsx("thead",{className:"bg-muted/20 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Column"}),s.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Type"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Missing"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Unique"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Min"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Max"}),s.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Mean"})]})}),s.jsx("tbody",{children:Object.values(u.columns).map(g=>s.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[s.jsx("td",{className:"p-2 font-mono font-medium whitespace-nowrap",children:g.name}),s.jsx("td",{className:"p-2 text-muted-foreground whitespace-nowrap",children:g.dtype}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.missing_count}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.unique_count}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.min_value!==void 0?Number(g.min_value).toFixed(2):"-"}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.max_value!==void 0?Number(g.max_value).toFixed(2):"-"}),s.jsx("td",{className:"p-2 text-right text-muted-foreground",children:g.mean_value!==void 0?Number(g.mean_value).toFixed(2):"-"})]},g.name))})]})}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},upe=({data:e})=>{const[t,r]=x.useState(void 0);x.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&Wn.getById(e.datasetId).then(a=>{r(a.name)}).catch(()=>{r(e.datasetId)})},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return s.jsx("div",{className:"text-xs",children:e.datasetId?s.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):s.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},dpe={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Ha,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:cpe,component:upe,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},Pz=(e,t,r,n=new Set)=>{var i;if(n.has(e.id))return;if(n.add(e.id),(i=e.data)!=null&&i.datasetId)return e.data.datasetId;const a=al(e,t,r);for(const o of a){const l=Pz(o,t,r,n);if(l)return l}},At=e=>{const t=Ie(i=>i.nodes),r=Ie(i=>i.edges),n=t.find(i=>i.id===e);return n?al(n,t,r).map(i=>{const o=Pz(i,t,r);return o&&!i.data.datasetId?{...i.data,datasetId:o}:i.data}):[]},su=(e,t={})=>{var i;const n=(i=At(e).find(o=>o.datasetId))==null?void 0:i.datasetId,a=Ie(o=>o.executionResult);return x.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(o=>{var l,u;if(t.types||t.suggestedNodeTypes){const d=(l=t.types)==null?void 0:l.includes(o.type),f=(u=t.suggestedNodeTypes)==null?void 0:u.includes(o.suggested_node_type);if(!d&&!f)return!1}return!(t.scope==="column"&&(!o.target_columns||o.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},ol=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:s.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[s.jsx(kp,{className:"w-4 h-4"}),s.jsx("span",{children:"Recommendations"})]}),s.jsx("div",{className:"space-y-2",children:e.map(n=>s.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),s.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&s.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&s.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:s.jsx(ba,{className:"w-5 h-5"})})]})},n.rule_id))})]}),fpe=({config:e,onChange:t,nodeId:r})=>{var P;const a=(P=At(r||"").find(C=>C.datasetId))==null?void 0:P.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(C=>C.name):[],u=Ie(C=>C.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,h=x.useRef(null),[p,g]=x.useState(!1);x.useEffect(()=>{if(!h.current)return;const C=new ResizeObserver(A=>{for(const O of A)g(O.contentRect.width>450)});return C.observe(h.current),()=>{C.disconnect()}},[]);const y=su(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),b=C=>{var A;if((A=C.target_columns)!=null&&A.length){const O=Array.from(new Set([...e.columns,...C.target_columns]));t({...e,columns:O})}},[_,w]=x.useState(""),k=x.useMemo(()=>l.filter(C=>C.toLowerCase().includes(_.toLowerCase())),[l,_]),j=()=>{t({...e,columns:k})},N=()=>{const C=e.columns.filter(A=>!k.includes(A));t({...e,columns:C})};return s.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[y.length>0&&s.jsx("div",{className:"shrink-0",children:s.jsx(ol,{recommendations:y,onApply:b})}),s.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),s.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:C=>t({...e,missing_threshold:parseInt(C.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),f&&f.dropped_columns_count!==void 0&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(f.dropped_columns_count)})]}),Array.isArray(f.dropped_columns)&&f.dropped_columns.length>0&&s.jsxs("div",{className:"pt-1 border-t mt-1",children:[s.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:f.dropped_columns.map(C=>{const A=String(C);return s.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:A},A)})})]})]})]})]}),s.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${p?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[s.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsx("div",{className:"relative group",children:s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:_,onChange:C=>{w(C.target.value)}})}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:N,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?k.length>0?s.jsx("div",{className:"space-y-0.5",children:k.map(C=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(C),onChange:A=>{const O=A.target.checked?[...e.columns,C]:e.columns.filter(M=>M!==C);t({...e,columns:O})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),s.jsx("span",{className:"truncate font-mono text-xs",title:C,children:C})]},C))}):s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',_,'"']}):s.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},hpe={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Vs,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:fpe,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},mpe=({config:e,onChange:t,nodeId:r})=>{var O;const a=(O=At(r||"").find(M=>M.datasetId))==null?void 0:O.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(M=>M.name):[],u=Ie(M=>M.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,h=f!=null&&f.fill_values&&typeof f.fill_values=="object"?f.fill_values:null,p=f!=null&&f.missing_counts&&typeof f.missing_counts=="object"?f.missing_counts:null,g=x.useRef(null),[y,b]=x.useState(!1);x.useEffect(()=>{if(!g.current)return;const M=new ResizeObserver($=>{for(const I of $)b(I.contentRect.width>450)});return M.observe(g.current),()=>{M.disconnect()}},[]);const _=su(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),w=M=>{if(M.target_columns.length>0){const $=Array.from(new Set([...e.columns,...M.target_columns]));t({...e,columns:$})}},[k,j]=x.useState(""),N=x.useMemo(()=>l.filter(M=>M.toLowerCase().includes(k.toLowerCase())),[l,k]),P=()=>{t({...e,columns:N})},C=()=>{const M=e.columns.filter($=>!N.includes($));t({...e,columns:M})},A=()=>f?s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),h&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(h).map(([M,$])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:M,children:[M,":"]}),s.jsx("span",{className:"font-mono",children:typeof $=="number"?$.toFixed(4):String($)})]},M))})]}),p&&s.jsxs("div",{className:"space-y-1 mt-2",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(p).map(([M,$])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:M,children:[M,":"]}),s.jsx("span",{className:"font-mono",children:String($)})]},M))}),f.total_missing!==void 0&&s.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",s.jsx("span",{className:"font-mono font-medium",children:String(f.total_missing)})]})]}),!h&&!p&&(d==null?void 0:d.status)==="success"&&s.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return s.jsxs("div",{ref:g,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[_.length>0&&s.jsx("div",{className:"shrink-0",children:s.jsx(ol,{recommendations:_,onApply:w})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:M=>t({...e,method:M.target.value}),children:[s.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),s.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),s.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:M=>t({...e,strategy:M.target.value}),children:[s.jsx("option",{value:"mean",children:"Mean (Average)"}),s.jsx("option",{value:"median",children:"Median (Middle Value)"}),s.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),s.jsx("option",{value:"constant",children:"Constant Value"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:M=>t({...e,fill_value:M.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:M=>t({...e,n_neighbors:parseInt(M.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:M=>t({...e,weights:M.target.value}),children:[s.jsx("option",{value:"uniform",children:"Uniform"}),s.jsx("option",{value:"distance",children:"Distance"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:M=>t({...e,max_iter:parseInt(M.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:M=>t({...e,estimator:M.target.value}),children:[s.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),s.jsx("option",{value:"decision_tree",children:"Decision Tree"}),s.jsx("option",{value:"extra_trees",children:"Extra Trees"}),s.jsx("option",{value:"knn",children:"KNN"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:M=>t({...e,random_state:parseInt(M.target.value)})})]})]}),y&&s.jsx(A,{})]}),s.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${y?"":"shrink-0"}`,children:[s.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:P,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),s.jsx("button",{onClick:C,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),s.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:k,onChange:M=>{j(M.target.value)}})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:N.length>0?N.map(M=>s.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(M),onChange:$=>{const I=$.target.checked?[...e.columns,M]:e.columns.filter(R=>R!==M);t({...e,columns:I})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),s.jsx("span",{className:"truncate",title:M,children:M})]}),p&&p[M]!==void 0&&s.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${String(p[M])} missing values filled`,children:String(p[M])})]},M)):s.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!y&&s.jsx(A,{})]})]})},ppe={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:R7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:mpe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:e.method==="simple"&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},gpe=({config:e,onChange:t,nodeId:r})=>{var j;const a=(j=At(r||"").find(N=>N.datasetId))==null?void 0:j.datasetId,{data:i,isLoading:o}=xt(a),l=Ie(N=>N.executionResult),u=r?l==null?void 0:l.node_results[r]:null,d=x.useRef(null),[f,h]=x.useState(!1),[p,g]=x.useState("");x.useEffect(()=>{if(!d.current)return;const N=new ResizeObserver(P=>{for(const C of P)h(C.contentRect.width>450)});return N.observe(d.current),()=>{N.disconnect()}},[]);const y=i?Object.values(i.columns).filter(N=>["int","float","number"].some(P=>N.dtype.toLowerCase().includes(P))).map(N=>N.name):[],b=y.filter(N=>N.toLowerCase().includes(p.toLowerCase())),_=()=>{t({...e,columns:b})},w=()=>{const N=e.columns.filter(P=>!b.includes(P));t({...e,columns:N})},k=()=>{if(!u||!u.metrics)return null;const N=u.metrics,P=N.columns;if(!P)return null;const C=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),s.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:C()})]}),s.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:P.map((A,O)=>{let M="";if(e.method==="standard"){const $=N.mean?N.mean[O]:void 0,I=N.scale?N.scale[O]:void 0;typeof $=="number"&&(M=`=${$.toFixed(2)}, =${typeof I=="number"?I.toFixed(2):"-"}`)}else if(e.method==="minmax"){const $=N.data_min?N.data_min[O]:void 0,I=N.data_max?N.data_max[O]:void 0;typeof $=="number"&&(M=`Min=${$.toFixed(2)}, Max=${typeof I=="number"?I.toFixed(2):"-"}`)}else if(e.method==="robust"){const $=N.center?N.center[O]:void 0,I=N.scale?N.scale[O]:void 0;typeof $=="number"&&(M=`Med=${$.toFixed(2)}, IQR=${typeof I=="number"?I.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const $=N.max_abs?N.max_abs[O]:void 0;typeof $=="number"&&(M=`MaxAbs=${$.toFixed(2)}`)}return s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[100px] font-medium",title:A,children:A}),s.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:M})]},A)})})]})};return s.jsxs("div",{ref:d,className:`flex flex-col h-full w-full bg-background ${f?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${f?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${f?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:N=>t({...e,method:N.target.value}),children:[s.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),s.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),s.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),s.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&s.jsxs("div",{className:"space-y-2 border-t pt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:N=>t({...e,with_mean:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Center Data (with_mean)"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:N=>t({...e,with_std:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&s.jsxs("div",{className:"space-y-2 border-t pt-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:N=>t({...e,feature_range_min:parseFloat(N.target.value)})}),s.jsx("span",{className:"text-muted-foreground",children:"-"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:N=>t({...e,feature_range_max:parseFloat(N.target.value)})})]})]}),e.method==="robust"&&s.jsxs("div",{className:"space-y-2 border-t pt-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:N=>t({...e,quantile_range_min:parseFloat(N.target.value)})}),s.jsx("span",{className:"text-muted-foreground",children:"-"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:N=>t({...e,quantile_range_max:parseFloat(N.target.value)})})]}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:N=>t({...e,with_centering:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Center Data (Median)"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:N=>t({...e,with_scaling:N.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),f&&s.jsx(k,{})]}),s.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${f?"":"shrink-0"}`,children:[s.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:_,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),s.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),s.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:p,onChange:N=>{g(N.target.value)}})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(N=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:P=>{const C=P.target.checked?[...e.columns,N]:e.columns.filter(A=>A!==N);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:N,children:N})]},N)):s.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:o?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!f&&s.jsx(k,{})]})]})},ype={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:H7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:gpe,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},Cz={getAllNodes:async()=>(await Ot.get("/ml/registry")).data};function Ez(){const[e,t]=x.useState(null),[r,n]=x.useState({width:0,height:0}),a=x.useCallback(i=>{if(i.length===0)return;const{width:o,height:l}=i[0].contentRect;n({width:o,height:l})},[]);return x.useEffect(()=>{if(!e)return;const i=new ResizeObserver(a);return i.observe(e),()=>{i.disconnect()}},[e,a]),[t,r]}const xpe=({text:e})=>s.jsxs("div",{className:"group relative flex items-center",children:[s.jsx(jM,{className:"w-3 h-3 text-gray-400 cursor-help"}),s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,s.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),vpe=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,i]=x.useState(r),[o,l]=x.useState([]),[u,d]=x.useState(!1),[f,h]=x.useState(null);x.useEffect(()=>{e&&i(r)},[e,r]);const p=x.useCallback(()=>{a&&(d(!0),h(null),ir.getTuningHistory(a).then(g=>{l(g)}).catch(g=>{console.error("Failed to fetch jobs",g),h("Failed to load history.")}).finally(()=>{d(!1)}))},[a]);return x.useEffect(()=>{e&&p()},[e,p]),e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(ln,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),s.jsxs("select",{value:a,onChange:g=>{i(g.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[s.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),s.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),s.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),s.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:s.jsx(ha,{className:`w-4 h-4 ${u?"animate-spin":""}`})}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:u?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(Xr,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),s.jsx("p",{className:"text-sm",children:"Loading history..."})]}):f?s.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[s.jsx(an,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:f}),s.jsx("button",{onClick:p,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):o.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[s.jsx(Ha,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):o.map(g=>{var y;return s.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",g.job_id.slice(0,8)]}),s.jsx("span",{className:"text-xs text-gray-400",children:g.end_time?new Date(g.end_time).toLocaleString():"Unknown Date"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((y=g.result)==null?void 0:y.best_score)=="number"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),s.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:g.result.best_score.toFixed(4)})]}),s.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[s.jsx(Id,{className:"w-3 h-3"})," Model Ready"]})]})]}),s.jsxs("button",{onClick:()=>{var b;(b=g.result)!=null&&b.best_params&&(n({params:g.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[s.jsx(Id,{className:"w-3 h-3"}),"Apply"]})]})},g.job_id)})})]})]}):null},bpe=({value:e,type:t,onChange:r,step:n,min:a,max:i})=>{const[o,l]=x.useState("");x.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const u=()=>{const d=o.trim();if(d.toLowerCase()==="none"){r(null);return}if(t==="number"){if(d==="")return;const f=Number(d);isNaN(f)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(f)}else t==="boolean"?d.toLowerCase()==="true"?r(!0):d.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(d)};return s.jsx("input",{type:"text",value:o,onChange:d=>{l(d.target.value)},onBlur:u,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:i}:{}})},wpe=({config:e,onChange:t,nodeId:r})=>{const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:h,setTab:p}=Gc(),g=At(r||""),y=Ie(T=>T.nodes),b=Ie(T=>T.edges),w=(T=>{var G,H,Q,se;const U=new Set,Z=[T];for(;Z.length>0;){const oe=Z.shift();if(!oe||U.has(oe))continue;U.add(oe);const ie=y.find(X=>X.id===oe);if(!ie)continue;if(oe!==T){if((G=ie.data)!=null&&G.datasetId)return ie.data.datasetId;if((H=ie.data)!=null&&H.dataset_id)return ie.data.dataset_id;if((Q=ie.data)!=null&&Q.config){const X=ie.data.config;if(X.datasetId)return X.datasetId;if(X.dataset_id)return X.dataset_id}if((se=ie.data)!=null&&se.params){const X=ie.data.params;if(X.datasetId)return X.datasetId;if(X.dataset_id)return X.dataset_id}}const le=al(ie,y,b);for(const X of le)Z.push(X.id)}})(r||""),{data:k}=xt(w),j=k?Object.values(k.columns):[],[N,{width:P}]=Ez(),C=P>450,[A,O]=x.useState("model"),[M,$]=x.useState(!1),[I,R]=x.useState([]),[B,F]=x.useState(!1);x.useEffect(()=>{(async()=>{F(!0);try{const Z=(await Cz.getAllNodes()).filter(G=>G.category==="Model");R(Z)}catch(U){console.error("Failed to fetch models:",U),R([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{F(!1)}})()},[]);const q=x.useRef(!1);x.useEffect(()=>{e.model_type&&(u(!0),ir.getHyperparameters(e.model_type).then(T=>{const U=T;if(a(U),q.current){const Z={};U.forEach(G=>{Z[G.name]=G.default}),t({...e,hyperparameters:Z}),q.current=!1}}).catch(console.error).finally(()=>{u(!1)}))},[e.model_type]),x.useEffect(()=>{var U;const T=(U=g.find(Z=>Z.target_column))==null?void 0:U.target_column;T&&e.target_column!==T&&(e.target_column||t({...e,target_column:T}))},[g,e.target_column,t]);const W=async()=>{if(r)try{const T=v0(y,b);await ir.runPipeline({...T,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),p("training"),h(!0)}catch(T){console.error("Failed to submit training job:",T),alert("Failed to submit training job. Check console for details.")}},V=s.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:e.model_type,onChange:T=>{Object.keys(e.hyperparameters).length>0&&(q.current=!0),t({...e,model_type:T.target.value,hyperparameters:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:B,children:I.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))}),s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),j.length===0&&s.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[s.jsx(t0,{className:"w-3 h-3"}),s.jsx("span",{children:"Connect a dataset node to see available columns"})]}),s.jsxs("div",{className:"relative",children:[j.length>0?s.jsxs("select",{value:e.target_column,onChange:T=>t({...e,target_column:T.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[s.jsx("option",{value:"",children:"Select target..."}),j.map(T=>s.jsx("option",{value:T.name,children:T.name},T.name))]}):s.jsx("input",{type:"text",value:e.target_column,onChange:T=>t({...e,target_column:T.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),j.length>0&&s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>{$(!M)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u1,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),s.jsx(Ua,{className:`w-4 h-4 text-gray-400 transition-transform ${M?"rotate-90":""}`})]}),M&&s.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:T=>t({...e,cv_enabled:T.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&s.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),s.jsx("input",{type:"number",value:e.cv_folds??5,onChange:T=>t({...e,cv_folds:Number(T.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),s.jsxs("select",{value:e.cv_type??"k_fold",onChange:T=>t({...e,cv_type:T.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"k_fold",children:"K-Fold"}),s.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),s.jsx("option",{value:"time_series_split",children:"Time Series"}),s.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:T=>t({...e,cv_shuffle:T.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),z=()=>{const T=Object.keys(e.hyperparameters).length>0,U=Z=>{if(Z){const G={};n.forEach(H=>{G[H.name]=H.default}),Object.keys(e.hyperparameters).length===0&&t({...e,hyperparameters:G})}else t({...e,hyperparameters:{}})};return s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[s.jsx(h1,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:`text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none ${l?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("input",{type:"checkbox",checked:T,onChange:Z=>{U(Z.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),"Customize"]})})]}),T?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-end mb-2",children:s.jsxs("button",{onClick:()=>{o(!0)},className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[s.jsx(J2,{className:"w-3 h-3"}),"Load Best"]})}),l?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(Xr,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(Z=>{var G;return s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:Z.label}),Z.description&&s.jsx(xpe,{text:Z.description})]}),Z.type==="select"?s.jsx("select",{value:e.hyperparameters[Z.name]??Z.default,onChange:H=>t({...e,hyperparameters:{...e.hyperparameters,[Z.name]:H.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(G=Z.options)==null?void 0:G.map(H=>s.jsx("option",{value:String(H.value),children:H.label},String(H.value)))}):s.jsx(bpe,{type:Z.type,value:e.hyperparameters[Z.name]??Z.default,onChange:H=>t({...e,hyperparameters:{...e.hyperparameters,[Z.name]:H}}),step:Z.step,min:Z.min,max:Z.max})]},Z.name)}),n.length===0&&!l&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),s.jsxs("button",{onClick:()=>{o(!0)},className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[s.jsx(J2,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return s.jsxs("div",{className:"flex flex-col h-full",ref:N,children:[d&&s.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[s.jsx("span",{children:"Train a model using fixed parameters or defaults."}),s.jsx("button",{onClick:()=>{f(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:s.jsx(lr,{className:"w-3 h-3"})})]}),s.jsx(vpe,{isOpen:i,onClose:()=>{o(!1)},modelType:e.model_type,onSelect:T=>{const U=T;U.modelType&&U.modelType!==e.model_type?t({...e,model_type:U.modelType,hyperparameters:U.params}):t({...e,hyperparameters:U.params})}}),!C&&s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${A==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{O("model")},children:"Configuration"}),s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${A==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{O("params")},children:"Hyperparameters"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:C?s.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[s.jsx("div",{className:"overflow-y-auto pr-2",children:V}),s.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:s.jsx(z,{})})]}):s.jsxs(s.Fragment,{children:[A==="model"&&V,A==="params"&&s.jsx(z,{})]})}),s.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:s.jsxs("button",{onClick:()=>{W()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[s.jsx(Hs,{className:"w-4 h-4 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},_pe={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:x7,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:wpe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},jpe=({text:e})=>s.jsxs("div",{className:"group relative flex items-center",children:[s.jsx(jM,{className:"w-3 h-3 text-gray-400 cursor-help"}),s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,s.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),kpe=({def:e,value:t,onChange:r})=>{const[n,a]=x.useState(""),[i,o]=x.useState(null);x.useEffect(()=>{a(Array.isArray(t)?t.map(d=>d===null?"None":d).join(", "):"")},[t]);const l=d=>{if(!d.trim())return[];const f=d.split(",").map(p=>p.trim()).filter(p=>p!==""),h=[];for(const p of f){if(p.toLowerCase()==="none"){h.push(null);continue}if(e.type==="number"){const g=Number(p);if(isNaN(g))throw new Error(`"${p}" is not a valid number`);h.push(g)}else if(e.type==="boolean"){const g=p.toLowerCase();if(g==="true")h.push(!0);else if(g==="false")h.push(!1);else throw new Error(`"${p}" must be true or false`)}else h.push(p)}return h},u=()=>{try{const d=l(n);o(null),JSON.stringify(d)!==JSON.stringify(t)&&r(d)}catch(d){o(d.message)}};return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&s.jsx(jpe,{text:e.description})]}),s.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${i?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:d=>{a(d.target.value),o(null)},onBlur:u}),e.type==="select"&&e.options&&s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(d=>s.jsx("button",{onClick:()=>{const f=l(n),p=f.includes(d.value)?f.filter(g=>g!==d.value):[...f,d.value];r(p)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(d.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:d.label},String(d.value)))})]}),i&&s.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[s.jsx(an,{className:"w-3 h-3"}),i]})]})},Npe=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=x.useState(r),[i,o]=x.useState([]),[l,u]=x.useState(!1),[d,f]=x.useState(null);x.useEffect(()=>{e&&a(r)},[e,r]);const h=x.useCallback(()=>{n&&(u(!0),f(null),ir.getTuningHistory(n).then(p=>{o(p)}).catch(p=>{console.error("Failed to fetch jobs",p),f("Failed to load history.")}).finally(()=>{u(!1)}))},[n]);return x.useEffect(()=>{e&&h()},[e,h]),e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(ln,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),s.jsxs("select",{value:n,onChange:p=>{a(p.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[s.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),s.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),s.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),s.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:h,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:s.jsx(ha,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:s.jsx(lr,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[s.jsx(Xr,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),s.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?s.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[s.jsx(an,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:d}),s.jsx("button",{onClick:h,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[s.jsx(Ha,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),s.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(p=>{var g;return s.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",p.job_id.slice(0,8)]}),s.jsx("span",{className:"text-xs text-gray-400",children:p.end_time?new Date(p.end_time).toLocaleString():"Unknown Date"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((g=p.result)==null?void 0:g.best_score)=="number"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),s.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:p.result.best_score.toFixed(4)})]}),s.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[s.jsx(Id,{className:"w-3 h-3"})," Model Ready"]})]})]})})},p.job_id)})})]})]}):null},Spe=({config:e,onChange:t,nodeId:r})=>{const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState("config"),[h,p]=x.useState(!1),[g,y]=x.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[b,{width:_}]=Ez(),w=_>450,{toggleDrawer:k,setTab:j}=Gc(),N=At(r||""),P=Ie(T=>T.nodes),C=Ie(T=>T.edges),O=(T=>{var G,H,Q,se;const U=new Set,Z=[T];for(;Z.length>0;){const oe=Z.shift();if(U.has(oe))continue;U.add(oe);const ie=P.find(X=>X.id===oe);if(!ie)continue;if(oe!==T){if((G=ie.data)!=null&&G.datasetId)return ie.data.datasetId;if((H=ie.data)!=null&&H.dataset_id)return ie.data.dataset_id;const X=ie.data;if((Q=X.config)!=null&&Q.datasetId)return X.config.datasetId;if((se=X.config)!=null&&se.dataset_id)return X.config.dataset_id}const le=al(ie,P,C);for(const X of le)Z.push(X.id)}})(r||""),{data:M}=xt(O),$=M?Object.values(M.columns):[],[I,R]=x.useState([]),[B,F]=x.useState(!1);x.useEffect(()=>{(async()=>{F(!0);try{const Z=(await Cz.getAllNodes()).filter(G=>G.category==="Model");R(Z)}catch(U){console.error("Failed to fetch models:",U),R([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{F(!1)}})()},[]),x.useEffect(()=>{var U;const T=(U=N.find(Z=>Z.target_column))==null?void 0:U.target_column;T&&e.target_column!==T&&t({...e,target_column:T})},[N,e.target_column]);const q=x.useRef(null);x.useEffect(()=>{(async()=>{const U=e.model_type;if(!U)return;const Z=U!==q.current;if(!(!Z&&n.length>0)){o(!0);try{const G=await ir.getHyperparameters(U);if(a(G),Z){const H=await ir.getDefaultSearchSpace(U);t({...e,search_space:H||{}}),q.current=U}}catch(G){console.error("Failed to load model hyperparameters:",G)}finally{o(!1)}}})()},[e.model_type]);const W=async()=>{if(r)try{const T=v0(P,C);await ir.runPipeline({...T,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),j("tuning"),k(!0)}catch(T){console.error("Failed to submit tuning job:",T),alert("Failed to submit tuning job.")}},V=s.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),s.jsxs("div",{className:"grid gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),s.jsxs("div",{className:"relative",children:[s.jsx("select",{value:e.model_type,onChange:T=>{t({...e,model_type:T.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:B,children:I.map(T=>s.jsx("option",{value:T.id,children:T.name},T.id))}),s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),$.length===0&&s.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[s.jsx(t0,{className:"w-3 h-3"}),s.jsx("span",{children:"Connect a dataset node to see available columns"})]}),s.jsxs("div",{className:"relative",children:[$.length>0?s.jsxs("select",{value:e.target_column,onChange:T=>t({...e,target_column:T.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[s.jsx("option",{value:"",children:"Select target..."}),$.map(T=>s.jsx("option",{value:T.name,children:T.name},T.name))]}):s.jsx("input",{type:"text",value:e.target_column,onChange:T=>t({...e,target_column:T.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),$.length>0&&s.jsx(or,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),s.jsxs("select",{value:e.search_strategy??"random",onChange:T=>t({...e,search_strategy:T.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"random",children:"Random Search"}),s.jsx("option",{value:"grid",children:"Grid Search"}),s.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),s.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),s.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),s.jsxs("select",{value:e.metric,onChange:T=>t({...e,metric:T.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"accuracy",children:"Accuracy"}),s.jsx("option",{value:"f1",children:"F1 Score"}),s.jsx("option",{value:"roc_auc",children:"ROC AUC"}),s.jsx("option",{value:"mse",children:"MSE"}),s.jsx("option",{value:"r2",children:"R2 Score"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),s.jsx("input",{type:"number",value:e.n_trials,onChange:T=>t({...e,n_trials:Number(T.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>{p(!h)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u1,{className:"w-4 h-4 text-purple-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),s.jsx(Ua,{className:`w-4 h-4 text-gray-400 transition-transform ${h?"rotate-90":""}`})]}),h&&s.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:T=>t({...e,cv_enabled:T.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&s.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),s.jsx("input",{type:"number",value:e.cv_folds??5,onChange:T=>t({...e,cv_folds:Number(T.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),s.jsxs("select",{value:e.cv_type??"k_fold",onChange:T=>t({...e,cv_type:T.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[s.jsx("option",{value:"k_fold",children:"K-Fold"}),s.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),s.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:T=>t({...e,cv_shuffle:T.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),z=s.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[s.jsx(h1,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),i?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Xr,{className:"w-6 h-6 animate-spin text-purple-500"})}):s.jsxs("div",{className:"space-y-3",children:[n.map(T=>{var U;return s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:s.jsx(kpe,{def:T,value:((U=e.search_space)==null?void 0:U[T.name])||[],onChange:Z=>{t({...e,search_space:{...e.search_space,[T.name]:Z}})}})},`${e.model_type}-${T.name}`)}),n.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return s.jsxs("div",{className:"flex flex-col h-full",ref:b,children:[g&&s.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[s.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),s.jsx("button",{onClick:()=>{y(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:s.jsx(lr,{className:"w-3 h-3"})})]}),!w&&s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${d==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{f("config")},children:"Configuration"}),s.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${d==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{f("search_space")},children:"Search Space"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:w?s.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[s.jsx("div",{className:"overflow-y-auto pr-2",children:V}),s.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:z})]}):s.jsxs(s.Fragment,{children:[d==="config"&&V,d==="search_space"&&z]})}),s.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[s.jsxs("button",{onClick:()=>{W()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[s.jsx(Hs,{className:"w-4 h-4 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),s.jsxs("button",{onClick:()=>{u(!0)},className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx(ln,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),s.jsx(Npe,{isOpen:l,onClose:()=>{u(!1)},modelType:e.model_type})]})},Ppe={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:V7,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:Spe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},Cpe=({config:e,onChange:t,nodeId:r})=>{var N;const n=At(r||""),a=Ie(P=>P.nodes),i=Ie(P=>P.edges),o=Ie(P=>P.executionResult),u=(P=>{var O;const C=new Set,A=[P];for(;A.length>0;){const M=A.shift();if(!M||C.has(M))continue;C.add(M);const $=a.find(R=>R.id===M);if(!$)continue;if(M!==P&&((O=$.data)!=null&&O.datasetId))return $.data.datasetId;const I=al($,a,i);for(const R of I)A.push(R.id)}})(r||""),d=(N=n.find(P=>P.target_column))==null?void 0:N.target_column;x.useEffect(()=>{const P={};u&&e.datasetId!==u&&(P.datasetId=u),d&&e.target_column!==d&&(P.target_column=d),Object.keys(P).length>0&&t({...e,...P})},[u,d,e.datasetId,e.target_column,t]);const{data:f,isLoading:h}=xt(u||e.datasetId),p=f?Object.values(f.columns).map(P=>P.name):[],g=x.useRef(null),[y,b]=x.useState(!1);x.useEffect(()=>{if(!g.current)return;const P=new ResizeObserver(C=>{for(const A of C)b(A.contentRect.width>450)});return P.observe(g.current),()=>{P.disconnect()}},[]);const _=()=>{const P=e.problem_type||"auto";return P==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:P==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},w=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),k=["select_from_model","rfe"].includes(e.method),j=()=>{const P=o==null?void 0:o.node_results[r||""];if(!P)return null;const C=P.metrics||{},A=C.dropped_columns,O=C.feature_scores,M=C.p_values,$=C.feature_importances,I=C.variances,R=C.ranking;return s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[s.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),P.error&&s.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:P.error}),A&&A.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:s.jsxs("span",{children:["Dropped Columns (",A.length,")"]})}),s.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:A.map(B=>{const F=O==null?void 0:O[B],q=M==null?void 0:M[B],W=$==null?void 0:$[B],V=I==null?void 0:I[B],z=R==null?void 0:R[B];return s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:B,children:B}),s.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[F!==void 0&&s.jsxs("span",{children:["Score: ",F.toFixed(4)]}),q!==void 0&&s.jsxs("span",{children:["p-val: ",q.toExponential(2)]}),W!==void 0&&s.jsxs("span",{children:["Imp: ",W.toFixed(4)]}),V!==void 0&&s.jsxs("span",{children:["Var: ",V.toFixed(4)]}),z!==void 0&&s.jsxs("span",{children:["Rank: ",z]})]})]},B)})})]}):P.status==="success"&&s.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[s.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&s.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&s.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&s.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(O||$)&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(O||$||{}).sort(([,B],[,F])=>F-B).slice(0,5).map(([B,F])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"truncate max-w-[120px]",title:B,children:B}),s.jsx("span",{className:"font-mono text-[10px]",children:F.toFixed(4)})]},B))})]})]})};return s.jsxs("div",{ref:g,className:`flex flex-col h-full w-full bg-background ${y?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!u&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),h&&!!u&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${y?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:P=>t({...e,method:P.target.value}),children:[s.jsxs("optgroup",{label:"Simple",children:[s.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),s.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),s.jsxs("optgroup",{label:"Univariate",children:[s.jsx("option",{value:"select_k_best",children:"Select K Best"}),s.jsx("option",{value:"select_percentile",children:"Select Percentile"}),s.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),s.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),s.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),s.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),s.jsxs("optgroup",{label:"Model Based",children:[s.jsx("option",{value:"select_from_model",children:"Select From Model"}),s.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),d?s.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[d," ",s.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:P=>t({...e,target_column:P.target.value}),children:[s.jsx("option",{value:"",children:"Select Target..."}),p.map(P=>s.jsx("option",{value:P,children:P},P))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(w||k)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:P=>t({...e,problem_type:P.target.value}),children:[s.jsx("option",{value:"auto",children:"Auto-detect"}),s.jsx("option",{value:"classification",children:"Classification"}),s.jsx("option",{value:"regression",children:"Regression"})]})]}),y&&s.jsx(j,{})]}),s.jsxs("div",{className:`space-y-4 ${y?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[s.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),s.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:P=>t({...e,threshold:parseFloat(P.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),s.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:P=>t({...e,threshold:parseFloat(P.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:P=>t({...e,correlation_method:P.target.value}),children:[s.jsx("option",{value:"pearson",children:"Pearson"}),s.jsx("option",{value:"spearman",children:"Spearman"}),s.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),w&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:P=>t({...e,score_func:P.target.value}),children:[s.jsx("option",{value:"",children:"Auto (Default)"}),_().map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:P=>t({...e,k:parseInt(P.target.value)})})]}),e.method==="select_percentile"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:P=>t({...e,percentile:parseInt(P.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),s.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:P=>t({...e,alpha:parseFloat(P.target.value)})})]}),e.method==="generic_univariate_select"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Mode"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:P=>t({...e,mode:P.target.value}),children:[s.jsx("option",{value:"k_best",children:"K Best"}),s.jsx("option",{value:"percentile",children:"Percentile"}),s.jsx("option",{value:"fpr",children:"FPR"}),s.jsx("option",{value:"fdr",children:"FDR"}),s.jsx("option",{value:"fwe",children:"FWE"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),s.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:P=>t({...e,param:parseFloat(P.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),k&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:P=>t({...e,estimator:P.target.value}),children:[s.jsx("option",{value:"auto",children:"Auto"}),s.jsx("option",{value:"RandomForest",children:"Random Forest"}),s.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),s.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:P=>t({...e,threshold:P.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Step"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:P=>t({...e,step:parseInt(P.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[s.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:P=>t({...e,drop_columns:P.target.checked})}),s.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!y&&s.jsx(j,{})]})]})]})},Epe={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:NM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:Cpe,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},Ope=({config:e,onChange:t,nodeId:r})=>{var y,b;const n=At(r||""),a=(y=n.find(_=>_.datasetId))==null?void 0:y.datasetId,i=(b=n.find(_=>_.target_column))==null?void 0:b.target_column;Sr.useEffect(()=>{const _={};a&&e.datasetId!==a&&(_.datasetId=a),i&&e.target_column!==i&&(_.target_column=i),Object.keys(_).length>0&&t({...e,..._})},[a,i,e.datasetId,e.target_column,t]);const{data:o,isLoading:l}=xt(a||e.datasetId),u=o?Object.values(o.columns).map(_=>_.name):[],d=e.validation_size||0,f=1-e.test_size-d,h=Sr.useRef(null),[p,g]=Sr.useState(!1);return Sr.useEffect(()=>{if(!h.current)return;const _=new ResizeObserver(w=>{for(const k of w)g(k.contentRect.width>450)});return _.observe(h.current),()=>{_.disconnect()}},[]),s.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&!e.datasetId&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),l&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),s.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:_=>t({...e,test_size:parseFloat(_.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),s.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:d,onChange:_=>t({...e,validation_size:parseFloat(_.target.value)})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(f*100),"% Training, ",Math.round(d*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),f<=0&&s.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Random State"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:_=>t({...e,random_state:parseInt(_.target.value)})})]})]}),s.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:_=>t({...e,shuffle:_.target.checked})}),s.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:_=>t({...e,stratify:_.target.checked})}),s.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),s.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[s.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:_=>t({...e,target_column:_.target.value}),disabled:!e.stratify,children:[s.jsx("option",{value:"",children:"-- Select Target --"}),u.map(_=>s.jsx("option",{value:_,children:_},_))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},Ape={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:EM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:Ope,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},Tpe=({config:e,onChange:t,nodeId:r})=>{const n=Ie(d=>d.nodes),a=Ie(d=>d.edges),o=(d=>{var p;const f=new Set,h=[d];for(;h.length>0;){const g=h.shift();if(!g||f.has(g))continue;f.add(g);const y=n.find(_=>_.id===g);if(!y)continue;if(g!==d&&((p=y.data)!=null&&p.datasetId))return y.data.datasetId;const b=al(y,n,a);for(const _ of b)h.push(_.id)}})(r||"");Sr.useEffect(()=>{o&&e.datasetId!==o&&t({...e,datasetId:o})},[o,e.datasetId,t]);const{data:l}=xt(o||e.datasetId),u=l?Object.values(l.columns).map(d=>d.name):[];return s.jsx("div",{className:"p-4 space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:d=>t({...e,target_column:d.target.value}),children:[s.jsx("option",{value:"",children:"-- Select Target --"}),u.map(d=>s.jsx("option",{value:d,children:d},d))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},Mpe={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:EM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:Tpe,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},Ipe=({config:e,onChange:t,nodeId:r})=>{var d;const a=(d=At(r||"").find(f=>f.datasetId))==null?void 0:d.datasetId,{isLoading:i}=xt(a),o=Ie(f=>f.executionResult),l=r?o==null?void 0:o.node_results[r]:null,u=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null;return s.jsxs("div",{className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:f=>t({...e,drop_if_any_missing:f.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),s.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[s.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:f=>t({...e,missing_threshold:parseInt(f.target.value)}),className:"flex-1"}),s.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),u&&u.DropMissingRows_rows_removed!==void 0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(u.DropMissingRows_rows_removed)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),s.jsx("span",{className:"font-medium",children:String(u.DropMissingRows_rows_remaining)})]}),s.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),s.jsx("span",{className:"font-medium",children:String(u.DropMissingRows_rows_total)})]})]})]})]})},Lpe={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:S7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Ipe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},Dpe=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=At(r||"").find(w=>w.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(w=>w.name):[],u=Ie(w=>w.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,[h,p]=x.useState(""),g=x.useMemo(()=>l.filter(w=>w.toLowerCase().includes(h.toLowerCase())),[l,h]),y=()=>{t({...e,subset:g})},b=()=>{const w=e.subset.filter(k=>!g.includes(k));t({...e,subset:w})};return s.jsxs("div",{className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:w=>t({...e,keep:w.target.value}),children:[s.jsx("option",{value:"first",children:"Keep First Occurrence"}),s.jsx("option",{value:"last",children:"Keep Last Occurrence"}),s.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:h,onChange:w=>{p(w.target.value)}}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?s.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[g.map(w=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(w),onChange:k=>{const j=k.target.checked?[...e.subset,w]:e.subset.filter(N=>N!==w);t({...e,subset:j})}}),w]},w)),g.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',h,'"']})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),f&&f.Deduplicate_rows_removed!==void 0&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(f.Deduplicate_rows_removed)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),s.jsx("span",{className:"font-medium",children:String(f.Deduplicate_rows_remaining)})]}),s.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),s.jsx("span",{className:"font-medium",children:String(f.Deduplicate_rows_total)})]})]})]})]})},Rpe={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:w7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:Dpe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},zpe=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],Fpe=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=At(r||"").find(j=>j.datasetId))==null?void 0:k.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(j=>j.name):[],u=Ie(j=>j.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,h=x.useRef(null),[p,g]=x.useState(!1);x.useEffect(()=>{if(!h.current)return;const j=new ResizeObserver(N=>{for(const P of N)g(P.contentRect.width>450)});return j.observe(h.current),()=>{j.disconnect()}},[]);const y=()=>{if(l.length===0)return;const j=l.find(N=>!e.column_types[N])||l[0];t({...e,column_types:{...e.column_types,[j]:"float"}})},b=j=>{const N={...e.column_types};Reflect.deleteProperty(N,j),t({...e,column_types:N})},_=(j,N)=>{if(j===N)return;const P=e.column_types[j],C={...e.column_types};Reflect.deleteProperty(C,j),C[N]=P,t({...e,column_types:C})},w=(j,N)=>{t({...e,column_types:{...e.column_types,[j]:N}})};return s.jsxs("div",{ref:h,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),s.jsx("button",{onClick:y,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:s.jsx(nl,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:`space-y-2 ${p?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([j,N])=>s.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[s.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[s.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:P=>{_(j,P.target.value)},children:l.map(P=>s.jsx("option",{value:P,disabled:P!==j&&!!e.column_types[P],children:P},P))}),s.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:N,onChange:P=>{w(j,P.target.value)},children:zpe.map(P=>s.jsx("option",{value:P.value,children:P.label},P.value))})]}),s.jsx("button",{onClick:()=>{b(j)},className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:s.jsx(Vs,{className:"w-4 h-4"})})]},j)),Object.keys(e.column_types).length===0&&s.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${p?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),f&&(f.cast_errors!==void 0||f.casted_columns_count!==void 0)&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[f.casted_columns_count!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),s.jsx("span",{className:"font-medium",children:String(f.casted_columns_count)})]}),f.cast_errors!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),s.jsx("span",{className:"font-medium text-destructive",children:String(f.cast_errors)})]})]})]})]})},$pe={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:N7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:Fpe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},Bpe=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=At(r||"").find(w=>w.datasetId))==null?void 0:_.datasetId,{data:i,isLoading:o}=xt(a),l=i?Object.values(i.columns).map(w=>w.name):[],u=Ie(w=>w.executionResult),d=r?u==null?void 0:u.node_results[r]:null,f=d!=null&&d.metrics&&typeof d.metrics=="object"?d.metrics:null,[h,p]=x.useState(""),g=x.useMemo(()=>l.filter(w=>w.toLowerCase().includes(h.toLowerCase())),[l,h]),y=()=>{t({...e,columns:g})},b=()=>{const w=e.columns.filter(k=>!g.includes(k));t({...e,columns:w})};return s.jsxs("div",{className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),s.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:w=>t({...e,flag_suffix:w.target.value}),placeholder:"_was_missing"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:h,onChange:w=>{p(w.target.value)}}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:y,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:b,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?s.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[g.map(w=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(w),onChange:k=>{const j=k.target.checked?[...e.columns,w]:e.columns.filter(N=>N!==w);t({...e,columns:j})}}),w]},w)),g.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',h,'"']})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),(()=>{const w=f==null?void 0:f.missing_indicators_created,k=Array.isArray(f==null?void 0:f.missing_indicators_columns)?f==null?void 0:f.missing_indicators_columns:[];return w===void 0?null:s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),s.jsx("span",{className:"font-medium text-primary",children:String(w)})]}),k.length>0&&s.jsxs("div",{className:"pt-1 border-t mt-1",children:[s.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:k.map(j=>{const N=String(j);return s.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:N},N)})})]})]})]})})()]})},Upe={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:P7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:Bpe,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},Hpe=({config:e,onChange:t,nodeId:r})=>{var A;const a=(A=At(r||"").find(O=>O.datasetId))==null?void 0:A.datasetId,{data:i,isLoading:o}=xt(a),[l,u]=x.useState(""),d=x.useRef(null),[f,h]=x.useState(!1),p=Ie(O=>O.executionResult),g=r?p==null?void 0:p.node_results[r]:null,y=g!=null&&g.metrics&&typeof g.metrics=="object"?g.metrics:null,b=y!=null&&y.categories_count&&typeof y.categories_count=="object"?y.categories_count:null,_=y!=null&&y.classes_count&&typeof y.classes_count=="object"?y.classes_count:null,k=((p==null?void 0:p.recommendations)||[]).filter(O=>O.suggested_node_type==="encoding"||O.type.includes("encoding")||O.type.includes("cardinality"));x.useEffect(()=>{if(!d.current)return;const O=new ResizeObserver(M=>{for(const $ of M)h($.contentRect.width>400)});return O.observe(d.current),()=>{O.disconnect()}},[]);const j=i?Object.values(i.columns).filter(O=>["object","string","category","bool"].some(M=>O.dtype.toLowerCase().includes(M))).map(O=>O.name):[],N=j.filter(O=>O.toLowerCase().includes(l.toLowerCase())),P=()=>{t({...e,columns:[...j]})},C=()=>{t({...e,columns:[]})};return s.jsxs("div",{ref:d,className:"p-4 space-y-4",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o&&!!a&&s.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),s.jsxs("div",{className:`grid gap-4 ${f?"grid-cols-2":"grid-cols-1"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:O=>t({...e,method:O.target.value}),children:[s.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),s.jsx("option",{value:"dummy",children:"Dummy Encoding"}),s.jsx("option",{value:"label",children:"Label Encoding"}),s.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),s.jsx("option",{value:"target",children:"Target Encoding"}),s.jsx("option",{value:"hash",children:"Hash Encoding"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),s.jsxs("div",{className:"pt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:O=>t({...e,drop_original:O.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),s.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),s.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:O=>t({...e,drop_first:O.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),s.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:O=>t({...e,handle_unknown:O.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[s.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),s.jsx("option",{value:"error",children:"Raise Error"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:O=>t({...e,target_column:O.target.value}),children:[s.jsx("option",{value:"",children:"Select a target column..."}),i&&Object.values(i.columns).map(O=>s.jsxs("option",{value:O.name,children:[O.name," (",O.dtype,")"]},O.name))]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:O=>t({...e,n_features:parseInt(O.target.value)})})]}),e.method==="ordinal"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:O=>t({...e,unknown_value:parseInt(O.target.value)}),title:"Integer to assign for unknown categories."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&s.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:O=>t({...e,missing_code:parseInt(O.target.value)}),title:"Integer to assign for missing or unknown categories."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsxs("div",{className:"space-y-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:O=>{u(O.target.value)}}),s.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[s.jsx("button",{onClick:P,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),s.jsx("span",{className:"text-border",children:"|"}),s.jsx("button",{onClick:C,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),j.length>0?s.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[N.map(O=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(O),onChange:M=>{const $=M.target.checked?[...e.columns,O]:e.columns.filter(I=>I!==O);t({...e,columns:$})}}),O]},O)),N.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):s.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),k.length>0&&s.jsx(ol,{recommendations:k}),y&&s.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[y.encoded_columns_count!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),s.jsx("span",{className:"font-medium",children:String(y.encoded_columns_count)})]}),y.new_features_count!==void 0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),s.jsx("span",{className:"font-medium text-primary",children:String(y.new_features_count)})]}),b&&s.jsxs("div",{className:"mt-2 border-t pt-2",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(b).map(([O,M])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:O,children:[O,":"]}),s.jsx("span",{className:"font-mono",children:String(M)})]},O))})]}),_&&s.jsxs("div",{className:"mt-2 border-t pt-2",children:[s.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(_).map(([O,M])=>s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"truncate max-w-[100px]",title:O,children:[O,":"]}),s.jsx("span",{className:"font-mono",children:String(M)})]},O))})]})]})]})]})},Wpe={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:PM,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:Hpe,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},Vpe=({config:e,onChange:t,nodeId:r})=>{const n=Ie(A=>A.nodes),a=Ie(A=>A.edges),o=(A=>{var $;const O=new Set,M=[A];for(;M.length>0;){const I=M.shift();if(!I||O.has(I))continue;O.add(I);const R=n.find(F=>F.id===I);if(!R)continue;if(I!==A&&(($=R.data)!=null&&$.datasetId))return R.data.datasetId;const B=al(R,n,a);for(const F of B)M.push(F.id)}})(r||""),{data:l,isLoading:u}=xt(o),d=su(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),f=Ie(A=>A.executionResult),h=r?f==null?void 0:f.node_results[r]:null,p=x.useRef(null),[g,y]=x.useState(!1),[b,_]=x.useState("");x.useEffect(()=>{if(!p.current)return;const A=new ResizeObserver(O=>{for(const M of O)y(M.contentRect.width>450)});return A.observe(p.current),()=>{A.disconnect()}},[]);const w=l?Object.values(l.columns).filter(A=>["int","float","number"].some(O=>A.dtype.toLowerCase().includes(O))).map(A=>A.name):[],k=w.filter(A=>A.toLowerCase().includes(b.toLowerCase())),j=()=>{t({...e,columns:k})},N=()=>{const A=e.columns.filter(O=>!k.includes(O));t({...e,columns:A})},P=()=>{if(!h||!h.metrics)return null;const A=h.metrics,O=A.rows_removed,M=A.rows_remaining,$=A.rows_total??(O??0)+(M??0),I=A.bounds,R=A.stats,B=A.contamination,F=A.warnings,q=A.values_clipped;if(O===void 0&&!I&&!R&&B===void 0&&!F&&q===void 0)return null;const W=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return s.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),s.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:W()})]}),F&&F.length>0&&s.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[s.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),s.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:F.map((V,z)=>s.jsx("li",{className:"truncate",title:V,children:V},z))})]}),e.method==="winsorize"?s.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"font-mono font-medium text-blue-600",children:q??0}),s.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):s.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center justify-end gap-1",children:[s.jsx("span",{className:"font-mono font-medium text-destructive",children:O??0}),$>0&&s.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((O??0)/$*100).toFixed(1),"%)"]})]}),M!==void 0&&s.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[M," remaining"]})]})]}),B!==void 0&&s.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),s.jsxs("span",{className:"font-mono font-medium",children:[(B*100).toFixed(1),"%"]})]}),I&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(I).map(([V,z])=>s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[100px] font-medium",title:V,children:V}),s.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",z.lower.toFixed(2),", ",z.upper.toFixed(2),"]"]})]},V))})]}),R&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(R).map(([V,z])=>s.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[s.jsx("span",{className:"truncate max-w-[100px] font-medium",title:V,children:V}),s.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",z.mean.toFixed(2),", =",z.std.toFixed(2)]})]},V))})]})]})},C=()=>{const A=[];if(h&&h.metrics){const M=h.metrics,$=M.rows_removed,R=M.rows_total??M[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if($!==void 0&&R!==void 0&&R>0){const B=$/R;B>.2?A.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):B===0&&e.method!=="winsorize"&&A.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&A.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const O=[...d,...A];return O.length===0?null:s.jsx("div",{className:"mt-4",children:s.jsx(ol,{recommendations:O})})};return s.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${g?"overflow-hidden":"overflow-y-auto"}`,children:[s.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!o&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${g?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${g?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:A=>t({...e,method:A.target.value}),children:[s.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),s.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),s.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),s.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:A=>t({...e,multiplier:parseFloat(A.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:A=>t({...e,threshold:parseFloat(A.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:A=>t({...e,lower_percentile:parseFloat(A.target.value)})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),s.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:A=>t({...e,upper_percentile:parseFloat(A.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),s.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:A=>t({...e,contamination:parseFloat(A.target.value)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),g&&s.jsxs(s.Fragment,{children:[s.jsx(P,{}),s.jsx(C,{})]})]}),s.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${g?"":"shrink-0"}`,children:[s.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),s.jsx("button",{onClick:N,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),s.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:b,onChange:A=>{_(A.target.value)}})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:k.length>0?k.map(A=>s.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(A),onChange:O=>{const M=O.target.checked?[...e.columns,A]:e.columns.filter($=>$!==A);t({...e,columns:M})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:A,children:A})]},A)):s.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:u?"Loading schema...":w.length===0?"No numeric columns found":"No matches found"})})]}),!g&&s.jsxs(s.Fragment,{children:[s.jsx(P,{}),s.jsx(C,{})]})]})]})},Kpe={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:W7,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:Vpe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},Pv={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},qpe=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",Zpe=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=x.useState(""),i=x.useMemo(()=>e.filter(d=>d.toLowerCase().includes(n.toLowerCase())),[e,n]),o=()=>{const d=Array.from(new Set([...t,...i]));r(d)},l=()=>{const d=t.filter(f=>!i.includes(f));r(d)},u=d=>{t.includes(d)?r(t.filter(f=>f!==d)):r([...t,d])};return s.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[s.jsx("div",{className:"flex gap-2 items-center",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ws,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),s.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:d=>{a(d.target.value)}})]})}),s.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[s.jsx("button",{onClick:o,className:"text-primary hover:underline font-medium",children:"Select All"}),s.jsx("span",{className:"text-muted-foreground",children:"|"}),s.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),s.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:i.length===0?s.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):i.map(d=>s.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:t.includes(d),onChange:()=>{u(d)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:d,children:d})]},d))})]})},Ype=({config:e,onChange:t,nodeId:r})=>{var N;const n=x.useMemo(()=>e||{transformations:[]},[e]),a=x.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[i,o]=x.useState([]),l=x.useRef(null),[u,d]=x.useState(!1);x.useEffect(()=>{if(!l.current)return;const P=new ResizeObserver(C=>{for(const A of C)d(A.contentRect.width>450)});return P.observe(l.current),()=>{P.disconnect()}},[]);const h=(N=At(r||"").find(P=>P.datasetId))==null?void 0:N.datasetId,{data:p}=xt(h),g=x.useMemo(()=>p!=null&&p.columns?Object.values(p.columns).filter(P=>["int","float","number"].some(C=>P.dtype.toLowerCase().includes(C))).map(P=>P.name):[],[p]),y=()=>{const P=a.length;o(C=>[...C,P]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},b=(P,C)=>{const A=[...a];A[P]={...A[P],...C},t({transformations:A})},_=P=>{const C=[...a];C.splice(P,1),t({transformations:C}),o(A=>A.filter(O=>O!==P).map(O=>O>P?O-1:O))},w=P=>{o(C=>C.includes(P)?C.filter(A=>A!==P):[...C,P])},k=(P,C)=>{const A=Pv[C].methods[0].value;b(P,{method:A})},j=su(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return s.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),s.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[s.jsx(nl,{size:12})," Add Rule"]})]}),s.jsxs("div",{className:"space-y-4",children:[a.map((P,C)=>{var $,I,R;const A=qpe(P.method),O=i.includes(C),M=(($=Pv[A].methods.find(B=>B.value===P.method))==null?void 0:$.label)||P.method;return s.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>{w(C)},children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[O?s.jsx(or,{size:16,className:"text-muted-foreground flex-shrink-0"}):s.jsx(Ua,{size:16,className:"text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("span",{className:"text-sm font-medium truncate",children:M}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:P.columns.length===0?"No columns selected":`${P.columns.length} columns`})]})]}),s.jsx("button",{onClick:B=>{B.stopPropagation(),_(C)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:s.jsx(Vs,{size:14})})]}),O&&s.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${u?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),s.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:A,onChange:B=>{k(C,B.target.value)},onClick:B=>{B.stopPropagation()},children:[s.jsx("option",{value:"simple",children:"Simple Math"}),s.jsx("option",{value:"power",children:"Power Transform"})]}),s.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:P.method,onChange:B=>{b(C,{method:B.target.value})},onClick:B=>{B.stopPropagation()},children:Pv[A].methods.map(B=>s.jsx("option",{value:B.value,children:B.label},B.value))})]}),(P.method==="yeo-johnson"||P.method==="box-cox")&&s.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:B=>{B.stopPropagation()},children:[s.jsx("input",{type:"checkbox",id:`std-${C}`,checked:((I=P.params)==null?void 0:I.standardize)!==!1,onChange:B=>{b(C,{params:{...P.params,standardize:B.target.checked}})}}),s.jsx("label",{htmlFor:`std-${C}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),P.method==="exponential"&&s.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:B=>{B.stopPropagation()},children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),s.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((R=P.params)==null?void 0:R.clip_threshold)||700,onChange:B=>{b(C,{params:{...P.params,clip_threshold:parseFloat(B.target.value)}})}})]})]}),s.jsxs("div",{className:"space-y-1 min-w-0",onClick:B=>{B.stopPropagation()},children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),s.jsx(Zpe,{allColumns:g,selectedColumns:P.columns,onChange:B=>{b(C,{columns:B})}})]})]})]},C)}),a.length===0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",s.jsx("br",{}),'Click "Add Rule" to start.']})]}),s.jsx(ol,{recommendations:j||[],onApply:P=>{var M;const C=P,A=C.suggested_params.method||((M=C.params)==null?void 0:M.method)||"log",O=C.target_columns||[];if(O.length>0){const $=a.length;o(I=>[...I,$]),t({transformations:[...a,{columns:O,method:A,params:{}}]})}}})]})},Gpe={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:OM,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:Ype,getDefaultConfig:()=>({transformations:[]})},Xpe=({value:e,onChange:t})=>{const[r,n]=x.useState((e==null?void 0:e.join(", "))||""),a=x.useRef(e);x.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const i=()=>{const o=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,u)=>l-u);t(o)};return s.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:o=>{n(o.target.value)},onBlur:i})},Qpe=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=At(r||"").find(k=>k.datasetId))==null?void 0:w.datasetId,{data:i,isLoading:o}=xt(a),l=x.useRef(null),[u,d]=x.useState(!1),[f,h]=x.useState("");x.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(j=>{for(const N of j)d(N.contentRect.width>450)});return k.observe(l.current),()=>{k.disconnect()}},[]);const p=i?Object.values(i.columns).filter(k=>["int","float","number"].some(j=>k.dtype.toLowerCase().includes(j))).map(k=>k.name):[],g=p.filter(k=>k.toLowerCase().includes(f.toLowerCase())),y=()=>{t({...e,columns:g})},b=()=>{const k=e.columns.filter(j=>!g.includes(j));t({...e,columns:k})},_=k=>{e.columns.includes(k)?t({...e,columns:e.columns.filter(j=>j!==k)}):t({...e,columns:[...e.columns,k]})};return s.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&s.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s.jsxs("div",{className:`grid gap-4 ${u?"grid-cols-2":"grid-cols-1"}`,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:k=>t({...e,strategy:k.target.value}),children:[s.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),s.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),s.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),s.jsx("option",{value:"custom",children:"Custom Edges"})]}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),s.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:k=>t({...e,n_bins:parseInt(k.target.value)||5})})]}),e.strategy==="custom"&&s.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[s.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?s.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(k=>{var j;return s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-medium",children:k}),s.jsx(Xpe,{value:(j=e.custom_bins)==null?void 0:j[k],onChange:N=>t({...e,custom_bins:{...e.custom_bins,[k]:N}})})]},k)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:k=>t({...e,label_format:k.target.value}),children:[s.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),s.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),s.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),s.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:k=>t({...e,precision:parseInt(k.target.value)||0})}),s.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:k=>t({...e,drop_original:k.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),s.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:k=>t({...e,output_suffix:k.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:f,onChange:k=>{h(k.target.value)}})}),s.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[s.jsx("button",{onClick:y,className:"text-primary hover:underline",children:"Select All"}),s.jsx("span",{className:"text-muted-foreground",children:"|"}),s.jsx("button",{onClick:b,className:"text-muted-foreground hover:underline",children:"None"}),s.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),s.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:o?s.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):g.length===0?s.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:p.length===0?"No numeric columns found.":`No columns match "${f}"`}):s.jsx("div",{className:"space-y-1",children:g.map(k=>s.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:e.columns.includes(k),onChange:()=>{_(k)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("span",{className:"truncate",title:k,children:k})]},k))})})]})]})]})},Jpe={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:u1,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:Qpe,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},ege=({nodeId:e})=>{var a;const t=Ie(i=>i.executionResult),r=e?(a=t==null?void 0:t.node_results)==null?void 0:a[e]:void 0;if(!r)return null;const n=i=>s.jsx("div",{className:"space-y-1",children:Object.entries(i).map(([o,l])=>typeof l=="object"&&l!==null?s.jsxs("div",{className:"mt-1",children:[s.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[o.replace(/_/g," "),":"]}),s.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(l)})]},o):s.jsxs("div",{className:"flex justify-between text-[10px]",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[o.replace(/_/g," "),":"]}),s.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(l)})]},o))});return s.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[s.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),s.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&s.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&s.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&s.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},tge=({config:e,onChange:t,nodeId:r})=>{var w;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),u=At(r||""),d=Array.isArray(u)?u.filter(Boolean):[],f=(w=d.find(k=>typeof k.datasetId=="string"))==null?void 0:w.datasetId,{data:h}=xt(f),p=d.find(k=>{const j=k.config;if(!j||typeof j!="object")return!1;const N=j.target_column;return typeof N=="string"&&N.trim().length>0}),g=p?p.config.target_column??void 0:void 0;x.useEffect(()=>{if(!e.target_column){if(p&&g)t({...e,target_column:g});else if(h!=null&&h.columns){const k=Object.values(h.columns).find(j=>j.name.toLowerCase()==="target"||j.name.toLowerCase()==="class"||j.column_type==="target");k&&t({...e,target_column:k.name})}}},[h,p,g,e.target_column,e,t]),x.useEffect(()=>{if(!n.current)return;const k=new ResizeObserver(j=>{for(const N of j)i(N.contentRect.width>400)});return k.observe(n.current),()=>{k.disconnect()}},[]);const y=su(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),b=k=>{k.suggested_params&&t({...e,...k.suggested_params})},_=(k,j)=>{const N={...e,[k]:j};k==="type"&&(j==="oversampling"?N.method="smote":N.method="random_under_sampling"),t(N)};return s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:k=>{_("type",k.target.value)},children:[s.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),s.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),s.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:k=>{_("method",k.target.value)},children:e.type==="oversampling"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"smote",children:"SMOTE"}),s.jsx("option",{value:"adasyn",children:"ADASYN"}),s.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),s.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),s.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),s.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),s.jsx("option",{value:"nearmiss",children:"NearMiss"}),s.jsx("option",{value:"tomek_links",children:"Tomek Links"}),s.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:k=>{_("target_column",k.target.value)},list:"target-column-suggestions"}),(h==null?void 0:h.columns)&&s.jsx("datalist",{id:"target-column-suggestions",children:Object.values(h.columns).map(k=>s.jsx("option",{value:k.name},k.name))})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:p?"Auto-detected from upstream node.":"The column containing the class labels."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:k=>{_("sampling_strategy",k.target.value)},children:[s.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),s.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),s.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),s.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),s.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:k=>{_("random_state",parseInt(k.target.value))}})]})]}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&s.jsxs(s.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:k=>{_("k_neighbors",parseInt(k.target.value))}})]}),["borderline_smote","svm_smote"].includes(e.method)&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:k=>{_("m_neighbors",parseInt(k.target.value))}})]}),e.method==="borderline_smote"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:k=>{_("kind",k.target.value)},children:[s.jsx("option",{value:"borderline-1",children:"Borderline-1"}),s.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:k=>{_("out_step",parseFloat(k.target.value))}})]}),e.method==="kmeans_smote"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),s.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:k=>{_("cluster_balance_threshold",parseFloat(k.target.value))}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),s.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:k=>{_("density_exponent",k.target.value)}})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),s.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:k=>{_("replacement",k.target.checked)}})]}),e.type==="undersampling"&&e.method==="nearmiss"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:k=>{_("version",parseInt(k.target.value))},children:[s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),s.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:k=>{_("n_neighbors",parseInt(k.target.value))}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),s.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:k=>{_("kind_sel",k.target.value)},children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"mode",children:"Mode"})]})]})]}),y.length>0&&s.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>{l(!o)},children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",y.length,")"]}),o?s.jsx(xf,{size:16}):s.jsx(or,{size:16})]}),o&&s.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:s.jsx(ol,{recommendations:y,onApply:b})})]}),r&&s.jsx(ege,{nodeId:r})]})]})})},rge=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},nge={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:ln,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:tge,validate:rge,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},age=[{value:"arithmetic",label:"Arithmetic",icon:d1},{value:"datetime_extract",label:"Date Extraction",icon:xc},{value:"ratio",label:"Ratio",icon:$7},{value:"similarity",label:"Similarity",icon:E7},{value:"group_agg",label:"Group Agg",icon:OM}],ige=["add","subtract","multiply","divide"],sge=["year","month","day","weekday","hour","quarter","is_weekend"],oge=["ratio","token_sort_ratio","token_set_ratio"],lge=["mean","sum","count","min","max","std","median"],li=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[i,o]=x.useState(""),l=e.filter(d=>d.toLowerCase().includes(i.toLowerCase())),u=d=>{a?r([d]):t.includes(d)?r(t.filter(f=>f!==d)):r([...t,d])};return s.jsxs("div",{className:"space-y-1.5",children:[n&&s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Ws,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:i,onChange:d=>{o(d.target.value)}})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(d=>{const f=t.includes(d);return s.jsxs("div",{onClick:()=>{u(d)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${f?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[s.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${f?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:f&&s.jsx(Id,{size:8,strokeWidth:4})}),s.jsx("span",{className:"truncate",children:d})]},d)}):s.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},cge=({config:e,onChange:t,nodeId:r})=>{var A;const a=(A=At(r||"").find(O=>O.datasetId))==null?void 0:A.datasetId,{data:i}=xt(a),o=Ie(O=>O.executionResult),l=r?o==null?void 0:o.node_results[r]:null,u=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null,d=u&&Array.isArray(u.generated_features)?u.generated_features.map(O=>String(O)):[],[f,h]=x.useState(!1),p=i?Object.values(i.columns).map(O=>O.name):[],g=i?Object.values(i.columns).filter(O=>["int","float","number"].some(M=>O.dtype.toLowerCase().includes(M))).map(O=>O.name):[],y=i?Object.values(i.columns).filter(O=>["date","time"].some(M=>O.dtype.toLowerCase().includes(M))).map(O=>O.name):[],b=i?Object.values(i.columns).filter(O=>["string","object","text"].some(M=>O.dtype.toLowerCase().includes(M))).map(O=>O.name):[],_=su(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),w=O=>{},k=O=>{const M={operation_type:O,method:O==="arithmetic"?"add":O==="similarity"?"ratio":O==="group_agg"?"mean":"year",input_columns:[],output_column:"",datetime_features:O==="datetime_extract"?["year"]:void 0,isExpanded:!0};t({operations:[...e.operations||[],M]})},j=(O,M)=>{const $=[...e.operations||[]];$[O]={...$[O],...M},t({operations:$})},N=(O,M)=>{M.stopPropagation();const $=[...e.operations||[]];$.splice(O,1),t({operations:$})},P=O=>{const M=[...e.operations||[]];M[O]={...M[O],isExpanded:!M[O].isExpanded},t({operations:M})},C=(O,M)=>`${O.operation_type}_${M}`;return s.jsxs("div",{className:"flex h-full",children:[s.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[s.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),age.map(O=>s.jsxs("button",{onClick:()=>{k(O.value)},className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:O.label,children:[s.jsx(O.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),s.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:O.label.replace(" ",`
`)})]},O.value))]}),s.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[_.length>0&&s.jsxs("div",{className:"border-b bg-muted/10",children:[s.jsxs("button",{onClick:()=>{h(!f)},className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kp,{size:14,className:_.length>0?"text-yellow-500":""}),s.jsxs("span",{children:["Recommendations (",_.length,")"]})]}),f?s.jsx(or,{size:14}):s.jsx(Ua,{size:14})]}),f&&s.jsx("div",{className:"p-4 bg-muted/5 border-t",children:s.jsx(ol,{recommendations:_,onApply:w,className:"mb-0"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((O,M)=>{var $,I,R;return s.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{P(M)},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[O.isExpanded?s.jsx(or,{size:14,className:"text-muted-foreground"}):s.jsx(Ua,{size:14,className:"text-muted-foreground"}),s.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:O.operation_type==="datetime_extract"?"Date":O.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(O.operation_type)&&s.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:O.method,onClick:B=>{B.stopPropagation()},onChange:B=>{j(M,{method:B.target.value})},children:(O.operation_type==="arithmetic"?ige:O.operation_type==="similarity"?oge:O.operation_type==="group_agg"?lge:[]).map(B=>s.jsx("option",{value:B,children:B.replace("_"," ")},B))})]}),s.jsx("button",{onClick:B=>{N(M,B)},className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:s.jsx(Vs,{size:14})})]}),O.isExpanded&&s.jsxs("div",{className:"p-3 space-y-4",children:[O.operation_type==="arithmetic"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:O.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),s.jsx(li,{label:"Column A (Left Operand)",columns:g,selected:O.input_columns.slice(0,1),onChange:B=>{j(M,{input_columns:B})},single:!0}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:O.method==="add"?"+":O.method==="subtract"?"-":O.method==="multiply"?"":""}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(li,{label:"Column B (Right Operand)",columns:g,selected:(($=O.secondary_columns)==null?void 0:$.slice(0,1))||[],onChange:B=>{j(M,{secondary_columns:B})},single:!0})]}),O.operation_type==="ratio"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",s.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),s.jsx(li,{label:"Numerator (Sum)",columns:g,selected:O.input_columns,onChange:B=>{j(M,{input_columns:B})}}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-dashed"})}),s.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),s.jsx(li,{label:"Denominator (Sum)",columns:g,selected:O.secondary_columns||[],onChange:B=>{j(M,{secondary_columns:B})}})]}),O.operation_type==="similarity"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[s.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),s.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),s.jsxs("li",{children:[s.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),s.jsx(li,{label:"String A",columns:b,selected:O.input_columns.slice(0,1),onChange:B=>j(M,{input_columns:B}),single:!0}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-px bg-border flex-1"}),s.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),s.jsx("div",{className:"h-px bg-border flex-1"})]}),s.jsx(li,{label:"String B",columns:b,selected:((I=O.secondary_columns)==null?void 0:I.slice(0,1))||[],onChange:B=>j(M,{secondary_columns:B}),single:!0})]}),O.operation_type==="group_agg"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),s.jsx(li,{label:"Group By (Categorical)",columns:b.length>0?b:p,selected:O.input_columns.slice(0,1),onChange:B=>j(M,{input_columns:B}),single:!0}),s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-dashed"})}),s.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),s.jsx(li,{label:"Target (Numeric)",columns:g,selected:((R=O.secondary_columns)==null?void 0:R.slice(0,1))||[],onChange:B=>j(M,{secondary_columns:B}),single:!0})]}),O.operation_type==="datetime_extract"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(li,{label:"Date Column",columns:y.length>0?y:p,selected:O.input_columns.slice(0,1),onChange:B=>j(M,{input_columns:B}),single:!0}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:sge.map(B=>s.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(O.datetime_features||[]).includes(B),onChange:F=>{const q=O.datetime_features||[],W=F.target.checked?[...q,B]:q.filter(V=>V!==B);j(M,{datetime_features:W})}}),s.jsx("span",{className:"capitalize",children:B.replace("_"," ")})]},B))})]})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),s.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:C(O,M),value:O.output_column||"",onChange:B=>{j(M,{output_column:B.target.value})}})]})]})]},M)}),(!e.operations||e.operations.length===0)&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[s.jsx(d1,{size:32,className:"mb-2 opacity-20"}),s.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),s.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),u&&s.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[s.jsx(ln,{size:14}),s.jsx("span",{children:"Last Run Results"})]}),s.jsx("div",{className:"space-y-2 text-xs",children:d.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),s.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:d.length})]}),s.jsxs("div",{className:"pt-2",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:d.map(O=>s.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:O},O))})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[s.jsx(vi,{size:12}),s.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},uge={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:d1,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n,a;if(!((t=e.operations)!=null&&t.length))return{isValid:!1,message:"Add at least one operation."};for(const i of e.operations){if(i.operation_type==="arithmetic"&&(i.input_columns.length===0||!((r=i.secondary_columns)!=null&&r.length)&&!((n=i.constants)!=null&&n.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(i.operation_type==="datetime_extract"&&i.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(i.operation_type==="group_agg"&&(i.input_columns.length===0||!((a=i.secondary_columns)!=null&&a.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:cge,getDefaultConfig:()=>({operations:[]})},dge=({columns:e,selected:t,onChange:r,label:n})=>{const[a,i]=x.useState(""),o=e.filter(u=>u.toLowerCase().includes(a.toLowerCase())),l=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return s.jsxs("div",{className:"space-y-1.5",children:[n&&s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Ws,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:a,onChange:u=>{i(u.target.value)}})]}),s.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:o.length>0?o.map(u=>{const d=t.includes(u);return s.jsxs("div",{onClick:()=>{l(u)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[s.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&s.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-sm"})}),s.jsx("span",{className:"truncate",children:u})]},u)}):s.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center",children:"No columns found"})})]}),s.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[t.length," selected"]})]})},fge={type:"PolynomialFeaturesNode",label:"Polynomial Features",description:"Generate polynomial and interaction features.",category:"Preprocessing",icon:nS,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Transformed Data",type:"dataset"}],getDefaultConfig:()=>({columns:[],degree:2,interaction_only:!1,include_bias:!1,output_prefix:"poly",include_input_features:!1,isExpanded:!0}),settings:({config:e,onChange:t,nodeId:r})=>{var d;const a=(d=At(r||"").find(f=>f.datasetId))==null?void 0:d.datasetId,{data:i}=xt(a),o=i?Object.values(i.columns).filter(f=>["int","float","number","double","long"].some(h=>f.dtype.toLowerCase().includes(h))).map(f=>f.name):[],l=f=>{t({...e,...f})},u=()=>{l({isExpanded:!e.isExpanded})};return s.jsx("div",{className:"space-y-2 min-w-[280px]",children:s.jsxs("div",{className:"border rounded-md bg-card",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:u,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nS,{size:14,className:"text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"Configuration"})]}),e.isExpanded?s.jsx(or,{size:14}):s.jsx(Ua,{size:14})]}),e.isExpanded&&s.jsxs("div",{className:"p-3 space-y-4 border-t",children:[s.jsx(dge,{label:"Input Columns (Numeric)",columns:o,selected:e.columns||[],onChange:f=>l({columns:f})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:["Degree",s.jsxs("div",{className:"group relative",children:[s.jsx(vi,{size:10,className:"cursor-help"}),s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block w-48 p-2 bg-popover text-popover-foreground text-[10px] rounded border shadow-lg z-50",children:"The degree of the polynomial features. Default = 2."})]})]}),s.jsx("input",{type:"number",min:2,max:5,className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.degree||2,onChange:f=>l({degree:parseInt(f.target.value)||2})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Prefix"}),s.jsx("input",{type:"text",className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.output_prefix||"poly",onChange:f=>l({output_prefix:f.target.value})})]}),s.jsxs("div",{className:"space-y-2 pt-1",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.interaction_only||!1,onChange:f=>l({interaction_only:f.target.checked})}),s.jsx("span",{className:"text-xs",children:"Interaction Only"})]}),s.jsx("p",{className:"text-[10px] text-muted-foreground pl-5",children:"If true, only interaction features are produced: features that are products of at most degree distinct input features."}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_bias||!1,onChange:f=>l({include_bias:f.target.checked})}),s.jsx("span",{className:"text-xs",children:"Include Bias"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_input_features||!1,onChange:f=>l({include_input_features:f.target.checked})}),s.jsx("span",{className:"text-xs",children:"Include Input Features"})]})]})]})]})]})})},validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one input column."}:e.degree<2?{isValid:!1,message:"Degree must be at least 2."}:{isValid:!0}},hge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Ws,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},mge=({operation:e,onChange:t,onDelete:r})=>s.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let i="both";a==="case"&&(i="lower"),a==="remove_special"&&(i="keep_alphanumeric"),a==="regex"&&(i="custom"),t({...e,op:a,mode:i})},children:[s.jsx("option",{value:"trim",children:"Trim Whitespace"}),s.jsx("option",{value:"case",children:"Change Case"}),s.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),s.jsx("option",{value:"regex",children:"Regex Replace"})]}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(Vs,{size:14})})]}),s.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"both",children:"Both Ends"}),s.jsx("option",{value:"leading",children:"Leading Only"}),s.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"lower",children:"Lower Case"}),s.jsx("option",{value:"upper",children:"Upper Case"}),s.jsx("option",{value:"title",children:"Title Case"}),s.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),s.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),s.jsx("option",{value:"letters_only",children:"Letters Only"}),s.jsx("option",{value:"digits_only",children:"Digits Only"})]}),s.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[s.jsx("option",{value:"custom",children:"Custom Pattern"}),s.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),s.jsx("option",{value:"extract_digits",children:"Extract Digits"}),s.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),s.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:s.jsx(Q7,{size:14})})]}),s.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),pge=({config:e,onChange:t,nodeId:r})=>{var b;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),d=(b=At(r||"").find(_=>_.datasetId))==null?void 0:b.datasetId,{data:f}=xt(d),h=f?Object.values(f.columns).filter(_=>{const w=String(_.dtype).toLowerCase();return w.includes("object")||w.includes("string")||w.includes("category")||w.includes("text")}).map(_=>_.name):[];x.useEffect(()=>{if(!n.current)return;const _=new ResizeObserver(w=>{for(const k of w)i(k.contentRect.width>400)});return _.observe(n.current),()=>{_.disconnect()}},[]);const p=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},g=(_,w)=>{const k=[...e.operations];k[_]=w,t({...e,operations:k})},y=_=>{const w=e.operations.filter((k,j)=>j!==_);t({...e,operations:w})};return s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),s.jsx(hge,{columns:h,selected:e.columns,onChange:_=>t({...e,columns:_})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsx(vi,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),s.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),o?s.jsx(xf,{size:14,className:"text-blue-600 dark:text-blue-400"}):s.jsx(or,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&s.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:s.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),s.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[s.jsx(nl,{size:14}),"Add Step"]})]}),s.jsx("div",{className:"space-y-3",children:e.operations.length===0?s.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),s.jsx("button",{onClick:p,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((_,w)=>s.jsx(mge,{operation:_,onChange:k=>{g(w,k)},onDelete:()=>{y(w)}},w))})]})]})})},gge={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:_7,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:pge,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},yge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Ws,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},NO=({value:e,type:t,onChange:r,placeholder:n})=>{const a=o=>{let l=e;o==="number"&&(l=Number(e)||0),o==="boolean"&&(l=!!e),o==="string"&&(l=String(e)),o==="null"&&(l=null),o==="nan"&&(l="NaN"),r(l,o)},i=o=>{let l=o.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:o=>{a(o.target.value)},children:[s.jsx("option",{value:"string",children:"Text"}),s.jsx("option",{value:"number",children:"Num"}),s.jsx("option",{value:"boolean",children:"Bool"}),s.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&s.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="number"&&s.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:i,placeholder:n}),t==="boolean"&&s.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:o=>r(o.target.value==="true","boolean"),children:[s.jsx("option",{value:"true",children:"True"}),s.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&s.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},xge=({item:e,onChange:t,onDelete:r})=>s.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),s.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:s.jsx(Vs,{size:14})})]}),s.jsx(NO,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-gray-400",children:s.jsx(y7,{size:14,className:"rotate-90"})}),s.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),s.jsx(NO,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),vge=({config:e,onChange:t,nodeId:r})=>{var f;const a=(f=At(r||"").find(h=>h==null?void 0:h.datasetId))==null?void 0:f.datasetId,{data:i}=xt(a),o=i?Object.values(i.columns).map(h=>h.name):[],l=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},u=(h,p)=>{const g=[...e.replacements];g[h]=p,t({...e,replacements:g})},d=h=>{const p=e.replacements.filter((g,y)=>y!==h);t({...e,replacements:p})};return s.jsxs("div",{className:"space-y-4 p-1",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Target Columns"}),s.jsx(yge,{columns:o,selected:e.columns,onChange:h=>t({...e,columns:h})}),s.jsx("p",{className:"text-[10px] text-gray-500",children:"Select columns to apply replacements to. If empty, applies to all compatible columns."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Replacements"}),s.jsxs("button",{onClick:l,className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[s.jsx(nl,{size:12})," Add"]})]}),s.jsxs("div",{className:"space-y-3",children:[e.replacements.map((h,p)=>s.jsx(xge,{item:h,onChange:g=>{u(p,g)},onDelete:()=>{d(p)}},p)),e.replacements.length===0&&s.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border border-dashed rounded",children:"No replacements defined."})]})]})]})},bge={type:"value_replacement",label:"Replace Values",category:"Preprocessing",description:"Replace specific values in columns (e.g. -999 to NaN).",icon:B7,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Dataset",type:"dataset"}],settings:vge,validate:e=>{var t;return(t=e.replacements)!=null&&t.length?{isValid:!0}:{isValid:!0,message:"No replacements defined (pass-through)."}},getDefaultConfig:()=>({columns:[],replacements:[]})},wge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Ws,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},_ge=({pairs:e,onChange:t})=>{const[r,n]=x.useState(""),[a,i]=x.useState(""),o=()=>{r&&a&&(t({...e,[r]:a}),n(""),i(""))},l=u=>{const d={...e};Reflect.deleteProperty(d,u),t(d)};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-2 items-end",children:[s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),s.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:u=>{n(u.target.value)}})]}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),s.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:u=>{i(u.target.value)}})]}),s.jsx("button",{onClick:o,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(nl,{size:16})})]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?s.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([u,d])=>s.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:u}),s.jsx(_M,{size:12,className:"text-gray-400 shrink-0"}),s.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:d})]}),s.jsx("button",{onClick:()=>{l(u)},className:"text-gray-400 hover:text-red-500",children:s.jsx(Vs,{size:14})})]},u))})]})},jge=({config:e,onChange:t,nodeId:r})=>{var p;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),d=(p=At(r||"").find(g=>g.datasetId))==null?void 0:p.datasetId,{data:f}=xt(d),h=f?Object.values(f.columns).filter(g=>{const y=String(g.dtype).toLowerCase();return y.includes("object")||y.includes("string")||y.includes("category")||y.includes("text")}).map(g=>g.name):[];return x.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(y=>{for(const b of y)i(b.contentRect.width>400)});return g.observe(n.current),()=>{g.disconnect()}},[]),s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),s.jsx(wge,{columns:h,selected:e.columns,onChange:g=>t({...e,columns:g})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsx(vi,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),s.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),o?s.jsx(xf,{size:14,className:"text-blue-600 dark:text-blue-400"}):s.jsx(or,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&s.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:s.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:g=>t({...e,mode:g.target.value}),children:[s.jsx("option",{value:"custom",children:"Custom Mapping"}),s.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),s.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),s.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),s.jsx(_ge,{pairs:e.custom_pairs,onChange:g=>t({...e,custom_pairs:g})})]})]})]})})},kge={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:_M,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:jge,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},Nge=({columns:e,selected:t,onChange:r})=>{const[n,a]=x.useState(""),i=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),o=l=>{t.includes(l)?r(t.filter(u=>u!==l)):r([...t,l])};return s.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[s.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[s.jsx(Ws,{size:12,className:"text-muted-foreground mr-1.5"}),s.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),s.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(l=>{const u=t.includes(l);return s.jsxs("div",{onClick:()=>{o(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${u?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[s.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${u?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:u&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:"truncate",children:l})]},l)}):s.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},Sge=({config:e,onChange:t,nodeId:r})=>{var p;const n=x.useRef(null),[a,i]=x.useState(!1),[o,l]=x.useState(!0),d=(p=At(r||"").find(g=>g.datasetId))==null?void 0:p.datasetId,{data:f}=xt(d),h=f?Object.values(f.columns).filter(g=>["int","float","number"].some(y=>g.dtype.toLowerCase().includes(y))).map(g=>String(g.name)):[];return x.useEffect(()=>{if(!n.current)return;const g=new ResizeObserver(y=>{for(const b of y)i(b.contentRect.width>400)});return g.observe(n.current),()=>{g.disconnect()}},[]),s.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:s.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[s.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),s.jsx(Nge,{columns:h,selected:e.columns,onChange:g=>t({...e,columns:g})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),s.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[s.jsxs("button",{onClick:()=>{l(!o)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsx(vi,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),s.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),o?s.jsx(xf,{size:14,className:"text-blue-600 dark:text-blue-400"}):s.jsx(or,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),o&&s.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:s.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),s.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:g=>t({...e,mode:g.target.value}),children:[s.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),s.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),s.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),s.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),s.jsx("option",{value:"custom_range",children:"Custom Range"})]}),s.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),s.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:g=>t({...e,min_value:g.target.value?parseFloat(g.target.value):void 0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),s.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:g=>t({...e,max_value:g.target.value?parseFloat(g.target.value):void 0})})]}),s.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},Pge={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:t0,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:Sge,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},Cge=()=>{Ke.register(lpe),Ke.register(dpe),Ke.register(hpe),Ke.register(ppe),Ke.register(ype),Ke.register(Kpe),Ke.register(Gpe),Ke.register(Jpe),Ke.register(nge),Ke.register(uge),Ke.register(fge),Ke.register(gge),Ke.register(bge),Ke.register(kge),Ke.register(Pge),Ke.register(Wpe),Ke.register(Epe),Ke.register(Ape),Ke.register(Mpe),Ke.register(Lpe),Ke.register(Rpe),Ke.register($pe),Ke.register(Upe),Ke.register(_pe),Ke.register(Ppe)};Cge();const Ege=new j8,SO=document.getElementById("root");SO&&Cv.createRoot(SO).render(s.jsx(Sr.StrictMode,{children:s.jsx(N8,{client:Ege,children:s.jsx(ape,{})})}));
