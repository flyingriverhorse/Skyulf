var R3=Object.defineProperty;var z1=e=>{throw TypeError(e)};var L3=(e,t,r)=>t in e?R3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rl=(e,t,r)=>L3(e,typeof t!="symbol"?t+"":t,r),og=(e,t,r)=>t.has(e)||z1("Cannot "+r);var z=(e,t,r)=>(og(e,t,"read from private field"),r?r.call(e):t.get(e)),he=(e,t,r)=>t.has(e)?z1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),se=(e,t,r,n)=>(og(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(og(e,t,"access private method"),r);var bd=(e,t,r,n)=>({set _(a){se(e,t,a,r)},get _(){return z(e,t,n)}});function $3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G_={exports:{}},kh={},X_={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ju=Symbol.for("react.element"),z3=Symbol.for("react.portal"),F3=Symbol.for("react.fragment"),B3=Symbol.for("react.strict_mode"),U3=Symbol.for("react.profiler"),H3=Symbol.for("react.provider"),V3=Symbol.for("react.context"),W3=Symbol.for("react.forward_ref"),K3=Symbol.for("react.suspense"),q3=Symbol.for("react.memo"),Y3=Symbol.for("react.lazy"),F1=Symbol.iterator;function G3(e){return e===null||typeof e!="object"?null:(e=F1&&e[F1]||e["@@iterator"],typeof e=="function"?e:null)}var Q_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J_=Object.assign,Z_={};function gl(e,t,r){this.props=e,this.context=t,this.refs=Z_,this.updater=r||Q_}gl.prototype.isReactComponent={};gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eE(){}eE.prototype=gl.prototype;function Zx(e,t,r){this.props=e,this.context=t,this.refs=Z_,this.updater=r||Q_}var ev=Zx.prototype=new eE;ev.constructor=Zx;J_(ev,gl.prototype);ev.isPureReactComponent=!0;var B1=Array.isArray,tE=Object.prototype.hasOwnProperty,tv={current:null},rE={key:!0,ref:!0,__self:!0,__source:!0};function nE(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)tE.call(t,n)&&!rE.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ju,type:e,key:s,ref:i,props:a,_owner:tv.current}}function X3(e,t){return{$$typeof:ju,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rv(e){return typeof e=="object"&&e!==null&&e.$$typeof===ju}function Q3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var U1=/\/+/g;function lg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q3(""+e.key):t.toString(36)}function yf(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ju:case z3:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+lg(i,0):n,B1(a)?(r="",e!=null&&(r=e.replace(U1,"$&/")+"/"),yf(a,t,r,"",function(u){return u})):a!=null&&(rv(a)&&(a=X3(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(U1,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",B1(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+lg(s,l);i+=yf(s,t,r,c,a)}else if(c=G3(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+lg(s,l++),i+=yf(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function wd(e,t,r){if(e==null)return e;var n=[],a=0;return yf(e,n,"","",function(s){return t.call(r,s,a++)}),n}function J3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var or={current:null},xf={transition:null},Z3={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:xf,ReactCurrentOwner:tv};function aE(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:wd,forEach:function(e,t,r){wd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wd(e,function(){t++}),t},toArray:function(e){return wd(e,function(t){return t})||[]},only:function(e){if(!rv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=gl;ve.Fragment=F3;ve.Profiler=U3;ve.PureComponent=Zx;ve.StrictMode=B3;ve.Suspense=K3;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z3;ve.act=aE;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=J_({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=tv.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tE.call(t,c)&&!rE.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ju,type:e.type,key:a,ref:s,props:n,_owner:i}};ve.createContext=function(e){return e={$$typeof:V3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:H3,_context:e},e.Consumer=e};ve.createElement=nE;ve.createFactory=function(e){var t=nE.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:W3,render:e}};ve.isValidElement=rv;ve.lazy=function(e){return{$$typeof:Y3,_payload:{_status:-1,_result:e},_init:J3}};ve.memo=function(e,t){return{$$typeof:q3,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=xf.transition;xf.transition={};try{e()}finally{xf.transition=t}};ve.unstable_act=aE;ve.useCallback=function(e,t){return or.current.useCallback(e,t)};ve.useContext=function(e){return or.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return or.current.useDeferredValue(e)};ve.useEffect=function(e,t){return or.current.useEffect(e,t)};ve.useId=function(){return or.current.useId()};ve.useImperativeHandle=function(e,t,r){return or.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return or.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return or.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return or.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return or.current.useReducer(e,t,r)};ve.useRef=function(e){return or.current.useRef(e)};ve.useState=function(e){return or.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return or.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return or.current.useTransition()};ve.version="18.3.1";X_.exports=ve;var g=X_.exports;const Mr=aa(g),eR=$3({__proto__:null,default:Mr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tR=g,rR=Symbol.for("react.element"),nR=Symbol.for("react.fragment"),aR=Object.prototype.hasOwnProperty,sR=tR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iR={key:!0,ref:!0,__self:!0,__source:!0};function sE(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)aR.call(t,n)&&!iR.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:rR,type:e,key:s,ref:i,props:a,_owner:sR.current}}kh.Fragment=nR;kh.jsx=sE;kh.jsxs=sE;G_.exports=kh;var o=G_.exports,j0={},iE={exports:{}},Ur={},oE={exports:{}},lE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var L=T.length;T.push(P);e:for(;0<L;){var F=L-1>>>1,U=T[F];if(0<a(U,P))T[F]=P,T[L]=U,L=F;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var P=T[0],L=T.pop();if(L!==P){T[0]=L;e:for(var F=0,U=T.length,q=U>>>1;F<q;){var Y=2*(F+1)-1,re=T[Y],ne=Y+1,G=T[ne];if(0>a(re,L))ne<U&&0>a(G,re)?(T[F]=G,T[ne]=L,F=ne):(T[F]=re,T[Y]=L,F=Y);else if(ne<U&&0>a(G,L))T[F]=G,T[ne]=L,F=ne;else break e}}return P}function a(T,P){var L=T.sortIndex-P.sortIndex;return L!==0?L:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=T)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(T){if(x=!1,w(T),!p)if(r(c)!==null)p=!0,I(k);else{var P=r(u);P!==null&&R(j,P.startTime-T)}}function k(T,P){p=!1,x&&(x=!1,y(S),S=-1),h=!0;var L=m;try{for(w(P),f=r(c);f!==null&&(!(f.expirationTime>P)||T&&!C());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var U=F(f.expirationTime<=P);P=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),w(P)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var Y=r(u);Y!==null&&R(j,Y.startTime-P),q=!1}return q}finally{f=null,m=L,h=!1}}var N=!1,_=null,S=-1,E=5,O=-1;function C(){return!(e.unstable_now()-O<E)}function A(){if(_!==null){var T=e.unstable_now();O=T;var P=!0;try{P=_(!0,T)}finally{P?D():(N=!1,_=null)}}else N=!1}var D;if(typeof b=="function")D=function(){b(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,$=M.port2;M.port1.onmessage=A,D=function(){$.postMessage(null)}}else D=function(){v(A,0)};function I(T){_=T,N||(N=!0,D())}function R(T,P){S=v(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,I(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var L=m;m=P;try{return T()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=m;m=T;try{return P()}finally{m=L}},e.unstable_scheduleCallback=function(T,P,L){var F=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?F+L:F):L=F,T){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,T={id:d++,callback:P,priorityLevel:T,startTime:L,expirationTime:U,sortIndex:-1},L>F?(T.sortIndex=L,t(u,T),r(c)===null&&T===r(u)&&(x?(y(S),S=-1):x=!0,R(j,L-F))):(T.sortIndex=U,t(c,T),p||h||(p=!0,I(k))),T},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(T){var P=m;return function(){var L=m;m=P;try{return T.apply(this,arguments)}finally{m=L}}}})(lE);oE.exports=lE;var oR=oE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=g,Lr=oR;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cE=new Set,Pc={};function Wi(e,t){Uo(e,t),Uo(e+"Capture",t)}function Uo(e,t){for(Pc[e]=t,e=0;e<t.length;e++)cE.add(t[e])}var Pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k0=Object.prototype.hasOwnProperty,cR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H1={},V1={};function uR(e){return k0.call(V1,e)?!0:k0.call(H1,e)?!1:cR.test(e)?V1[e]=!0:(H1[e]=!0,!1)}function dR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fR(e,t,r,n){if(t===null||typeof t>"u"||dR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lr(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var nv=/[\-:]([a-z])/g;function av(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nv,av);Vt[t]=new lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nv,av);Vt[t]=new lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nv,av);Vt[t]=new lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new lr(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function sv(e,t,r,n){var a=Vt.hasOwnProperty(t)?Vt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fR(t,r,a,n)&&(r=null),n||a===null?uR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ha=lR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),ao=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),N0=Symbol.for("react.profiler"),uE=Symbol.for("react.provider"),dE=Symbol.for("react.context"),ov=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),_0=Symbol.for("react.suspense_list"),lv=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),fE=Symbol.for("react.offscreen"),W1=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=W1&&e[W1]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,cg;function sc(e){if(cg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cg=t&&t[1]||""}return`
`+cg+e}var ug=!1;function dg(e,t){if(!e||ug)return"";ug=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{ug=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sc(e):""}function mR(e){switch(e.tag){case 5:return sc(e.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return e=dg(e.type,!1),e;case 11:return e=dg(e.type.render,!1),e;case 1:return e=dg(e.type,!0),e;default:return""}}function E0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case so:return"Fragment";case ao:return"Portal";case N0:return"Profiler";case iv:return"StrictMode";case S0:return"Suspense";case _0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dE:return(e.displayName||"Context")+".Consumer";case uE:return(e._context.displayName||"Context")+".Provider";case ov:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lv:return t=e.displayName||null,t!==null?t:E0(e.type)||"Memo";case ts:t=e._payload,e=e._init;try{return E0(e(t))}catch{}}return null}function hR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E0(t);case 8:return t===iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function As(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pR(e){var t=mE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kd(e){e._valueTracker||(e._valueTracker=pR(e))}function hE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function C0(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function K1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=As(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pE(e,t){t=t.checked,t!=null&&sv(e,"checked",t,!1)}function P0(e,t){pE(e,t);var r=As(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?O0(e,t.type,r):t.hasOwnProperty("defaultValue")&&O0(e,t.type,As(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function O0(e,t,r){(t!=="number"||Wf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ic=Array.isArray;function wo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+As(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function A0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Y1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(ic(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:As(r)}}function gE(e,t){var r=As(t.value),n=As(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function G1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nd,xE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nd=Nd||document.createElement("div"),Nd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gR=["Webkit","ms","Moz","O"];Object.keys(yc).forEach(function(e){gR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yc[t]=yc[e]})});function vE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yc.hasOwnProperty(e)&&yc[e]?(""+t).trim():t+"px"}function bE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=vE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var yR=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T0(e,t){if(t){if(yR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function I0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=null;function cv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var R0=null,jo=null,ko=null;function X1(e){if(e=Su(e)){if(typeof R0!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Ch(t),R0(e.stateNode,e.type,t))}}function wE(e){jo?ko?ko.push(e):ko=[e]:jo=e}function jE(){if(jo){var e=jo,t=ko;if(ko=jo=null,X1(e),t)for(e=0;e<t.length;e++)X1(t[e])}}function kE(e,t){return e(t)}function NE(){}var fg=!1;function SE(e,t,r){if(fg)return e(t,r);fg=!0;try{return kE(e,t,r)}finally{fg=!1,(jo!==null||ko!==null)&&(NE(),jE())}}function Ac(e,t){var r=e.stateNode;if(r===null)return null;var n=Ch(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var L0=!1;if(Pa)try{var $l={};Object.defineProperty($l,"passive",{get:function(){L0=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{L0=!1}function xR(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xc=!1,Kf=null,qf=!1,$0=null,vR={onError:function(e){xc=!0,Kf=e}};function bR(e,t,r,n,a,s,i,l,c){xc=!1,Kf=null,xR.apply(vR,arguments)}function wR(e,t,r,n,a,s,i,l,c){if(bR.apply(this,arguments),xc){if(xc){var u=Kf;xc=!1,Kf=null}else throw Error(X(198));qf||(qf=!0,$0=u)}}function Ki(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _E(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Q1(e){if(Ki(e)!==e)throw Error(X(188))}function jR(e){var t=e.alternate;if(!t){if(t=Ki(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Q1(a),e;if(s===n)return Q1(a),t;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function EE(e){return e=jR(e),e!==null?CE(e):null}function CE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=CE(e);if(t!==null)return t;e=e.sibling}return null}var PE=Lr.unstable_scheduleCallback,J1=Lr.unstable_cancelCallback,kR=Lr.unstable_shouldYield,NR=Lr.unstable_requestPaint,ot=Lr.unstable_now,SR=Lr.unstable_getCurrentPriorityLevel,uv=Lr.unstable_ImmediatePriority,OE=Lr.unstable_UserBlockingPriority,Yf=Lr.unstable_NormalPriority,_R=Lr.unstable_LowPriority,AE=Lr.unstable_IdlePriority,Nh=null,qn=null;function ER(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Nh,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:OR,CR=Math.log,PR=Math.LN2;function OR(e){return e>>>=0,e===0?32:31-(CR(e)/PR|0)|0}var Sd=64,_d=4194304;function oc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=oc(l):(s&=i,s!==0&&(n=oc(s)))}else i=r&~a,i!==0?n=oc(i):s!==0&&(n=oc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Sn(t),a=1<<r,n|=e[r],t&=~a;return n}function AR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Sn(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=AR(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function z0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ME(){var e=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),e}function mg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ku(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=r}function TR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Sn(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function dv(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Sn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Me=0;function TE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var IE,fv,DE,RE,LE,F0=!1,Ed=[],bs=null,ws=null,js=null,Mc=new Map,Tc=new Map,ss=[],IR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z1(e,t){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Mc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(t.pointerId)}}function zl(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Su(t),t!==null&&fv(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function DR(e,t,r,n,a){switch(t){case"focusin":return bs=zl(bs,e,t,r,n,a),!0;case"dragenter":return ws=zl(ws,e,t,r,n,a),!0;case"mouseover":return js=zl(js,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Mc.set(s,zl(Mc.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Tc.set(s,zl(Tc.get(s)||null,e,t,r,n,a)),!0}return!1}function $E(e){var t=ri(e.target);if(t!==null){var r=Ki(t);if(r!==null){if(t=r.tag,t===13){if(t=_E(r),t!==null){e.blockedOn=t,LE(e.priority,function(){DE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=B0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);D0=n,r.target.dispatchEvent(n),D0=null}else return t=Su(r),t!==null&&fv(t),e.blockedOn=r,!1;t.shift()}return!0}function ej(e,t,r){vf(e)&&r.delete(t)}function RR(){F0=!1,bs!==null&&vf(bs)&&(bs=null),ws!==null&&vf(ws)&&(ws=null),js!==null&&vf(js)&&(js=null),Mc.forEach(ej),Tc.forEach(ej)}function Fl(e,t){e.blockedOn===t&&(e.blockedOn=null,F0||(F0=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,RR)))}function Ic(e){function t(a){return Fl(a,e)}if(0<Ed.length){Fl(Ed[0],e);for(var r=1;r<Ed.length;r++){var n=Ed[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bs!==null&&Fl(bs,e),ws!==null&&Fl(ws,e),js!==null&&Fl(js,e),Mc.forEach(t),Tc.forEach(t),r=0;r<ss.length;r++)n=ss[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)$E(r),r.blockedOn===null&&ss.shift()}var No=Ha.ReactCurrentBatchConfig,Xf=!0;function LR(e,t,r,n){var a=Me,s=No.transition;No.transition=null;try{Me=1,mv(e,t,r,n)}finally{Me=a,No.transition=s}}function $R(e,t,r,n){var a=Me,s=No.transition;No.transition=null;try{Me=4,mv(e,t,r,n)}finally{Me=a,No.transition=s}}function mv(e,t,r,n){if(Xf){var a=B0(e,t,r,n);if(a===null)kg(e,t,n,Qf,r),Z1(e,n);else if(DR(a,e,t,r,n))n.stopPropagation();else if(Z1(e,n),t&4&&-1<IR.indexOf(e)){for(;a!==null;){var s=Su(a);if(s!==null&&IE(s),s=B0(e,t,r,n),s===null&&kg(e,t,n,Qf,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else kg(e,t,n,null,r)}}var Qf=null;function B0(e,t,r,n){if(Qf=null,e=cv(n),e=ri(e),e!==null)if(t=Ki(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_E(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qf=e,null}function zE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SR()){case uv:return 1;case OE:return 4;case Yf:case _R:return 16;case AE:return 536870912;default:return 16}default:return 16}}var ys=null,hv=null,bf=null;function FE(){if(bf)return bf;var e,t=hv,r=t.length,n,a="value"in ys?ys.value:ys.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return bf=a.slice(e,1<n?1-n:void 0)}function wf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cd(){return!0}function tj(){return!1}function Hr(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cd:tj,this.isPropagationStopped=tj,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cd)},persist:function(){},isPersistent:Cd}),t}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pv=Hr(yl),Nu=et({},yl,{view:0,detail:0}),zR=Hr(Nu),hg,pg,Bl,Sh=et({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bl&&(Bl&&e.type==="mousemove"?(hg=e.screenX-Bl.screenX,pg=e.screenY-Bl.screenY):pg=hg=0,Bl=e),hg)},movementY:function(e){return"movementY"in e?e.movementY:pg}}),rj=Hr(Sh),FR=et({},Sh,{dataTransfer:0}),BR=Hr(FR),UR=et({},Nu,{relatedTarget:0}),gg=Hr(UR),HR=et({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),VR=Hr(HR),WR=et({},yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KR=Hr(WR),qR=et({},yl,{data:0}),nj=Hr(qR),YR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XR[e])?!!t[e]:!1}function gv(){return QR}var JR=et({},Nu,{key:function(e){if(e.key){var t=YR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gv,charCode:function(e){return e.type==="keypress"?wf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZR=Hr(JR),eL=et({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aj=Hr(eL),tL=et({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gv}),rL=Hr(tL),nL=et({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),aL=Hr(nL),sL=et({},Sh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iL=Hr(sL),oL=[9,13,27,32],yv=Pa&&"CompositionEvent"in window,vc=null;Pa&&"documentMode"in document&&(vc=document.documentMode);var lL=Pa&&"TextEvent"in window&&!vc,BE=Pa&&(!yv||vc&&8<vc&&11>=vc),sj=" ",ij=!1;function UE(e,t){switch(e){case"keyup":return oL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var io=!1;function cL(e,t){switch(e){case"compositionend":return HE(t);case"keypress":return t.which!==32?null:(ij=!0,sj);case"textInput":return e=t.data,e===sj&&ij?null:e;default:return null}}function uL(e,t){if(io)return e==="compositionend"||!yv&&UE(e,t)?(e=FE(),bf=hv=ys=null,io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BE&&t.locale!=="ko"?null:t.data;default:return null}}var dL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dL[e.type]:t==="textarea"}function VE(e,t,r,n){wE(n),t=Jf(t,"onChange"),0<t.length&&(r=new pv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bc=null,Dc=null;function fL(e){tC(e,0)}function _h(e){var t=co(e);if(hE(t))return e}function mL(e,t){if(e==="change")return t}var WE=!1;if(Pa){var yg;if(Pa){var xg="oninput"in document;if(!xg){var lj=document.createElement("div");lj.setAttribute("oninput","return;"),xg=typeof lj.oninput=="function"}yg=xg}else yg=!1;WE=yg&&(!document.documentMode||9<document.documentMode)}function cj(){bc&&(bc.detachEvent("onpropertychange",KE),Dc=bc=null)}function KE(e){if(e.propertyName==="value"&&_h(Dc)){var t=[];VE(t,Dc,e,cv(e)),SE(fL,t)}}function hL(e,t,r){e==="focusin"?(cj(),bc=t,Dc=r,bc.attachEvent("onpropertychange",KE)):e==="focusout"&&cj()}function pL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _h(Dc)}function gL(e,t){if(e==="click")return _h(t)}function yL(e,t){if(e==="input"||e==="change")return _h(t)}function xL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pn=typeof Object.is=="function"?Object.is:xL;function Rc(e,t){if(Pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!k0.call(t,a)||!Pn(e[a],t[a]))return!1}return!0}function uj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dj(e,t){var r=uj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uj(r)}}function qE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YE(){for(var e=window,t=Wf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wf(e.document)}return t}function xv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vL(e){var t=YE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qE(r.ownerDocument.documentElement,r)){if(n!==null&&xv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dj(r,s);var i=dj(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bL=Pa&&"documentMode"in document&&11>=document.documentMode,oo=null,U0=null,wc=null,H0=!1;function fj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;H0||oo==null||oo!==Wf(n)||(n=oo,"selectionStart"in n&&xv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wc&&Rc(wc,n)||(wc=n,n=Jf(U0,"onSelect"),0<n.length&&(t=new pv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oo)))}function Pd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lo={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},vg={},GE={};Pa&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Eh(e){if(vg[e])return vg[e];if(!lo[e])return e;var t=lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in GE)return vg[e]=t[r];return e}var XE=Eh("animationend"),QE=Eh("animationiteration"),JE=Eh("animationstart"),ZE=Eh("transitionend"),eC=new Map,mj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){eC.set(e,t),Wi(t,[e])}for(var bg=0;bg<mj.length;bg++){var wg=mj[bg],wL=wg.toLowerCase(),jL=wg[0].toUpperCase()+wg.slice(1);Rs(wL,"on"+jL)}Rs(XE,"onAnimationEnd");Rs(QE,"onAnimationIteration");Rs(JE,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(ZE,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kL=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function hj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wR(n,t,void 0,e),e.currentTarget=null}function tC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;hj(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;hj(a,l,u),s=c}}}if(qf)throw e=$0,qf=!1,$0=null,e}function ze(e,t){var r=t[Y0];r===void 0&&(r=t[Y0]=new Set);var n=e+"__bubble";r.has(n)||(rC(t,e,2,!1),r.add(n))}function jg(e,t,r){var n=0;t&&(n|=4),rC(r,e,n,t)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[Od]){e[Od]=!0,cE.forEach(function(r){r!=="selectionchange"&&(kL.has(r)||jg(r,!1,e),jg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Od]||(t[Od]=!0,jg("selectionchange",!1,t))}}function rC(e,t,r,n){switch(zE(t)){case 1:var a=LR;break;case 4:a=$R;break;default:a=mv}r=a.bind(null,t,r,e),a=void 0,!L0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kg(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ri(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}SE(function(){var u=s,d=cv(r),f=[];e:{var m=eC.get(e);if(m!==void 0){var h=pv,p=e;switch(e){case"keypress":if(wf(r)===0)break e;case"keydown":case"keyup":h=ZR;break;case"focusin":p="focus",h=gg;break;case"focusout":p="blur",h=gg;break;case"beforeblur":case"afterblur":h=gg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=rj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=BR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rL;break;case XE:case QE:case JE:h=VR;break;case ZE:h=aL;break;case"scroll":h=zR;break;case"wheel":h=iL;break;case"copy":case"cut":case"paste":h=KR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=aj}var x=(t&4)!==0,v=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=Ac(b,y),j!=null&&x.push($c(b,j,w)))),v)break;b=b.return}0<x.length&&(m=new h(m,p,null,r,d),f.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==D0&&(p=r.relatedTarget||r.fromElement)&&(ri(p)||p[Oa]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?ri(p):null,p!==null&&(v=Ki(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(x=rj,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=aj,j="onPointerLeave",y="onPointerEnter",b="pointer"),v=h==null?m:co(h),w=p==null?m:co(p),m=new x(j,b+"leave",h,r,d),m.target=v,m.relatedTarget=w,j=null,ri(d)===u&&(x=new x(y,b+"enter",p,r,d),x.target=w,x.relatedTarget=v,j=x),v=j,h&&p)t:{for(x=h,y=p,b=0,w=x;w;w=Ji(w))b++;for(w=0,j=y;j;j=Ji(j))w++;for(;0<b-w;)x=Ji(x),b--;for(;0<w-b;)y=Ji(y),w--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=Ji(x),y=Ji(y)}x=null}else x=null;h!==null&&pj(f,m,h,x,!1),p!==null&&v!==null&&pj(f,v,p,x,!0)}}e:{if(m=u?co(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var k=mL;else if(oj(m))if(WE)k=yL;else{k=pL;var N=hL}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=gL);if(k&&(k=k(e,u))){VE(f,k,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&O0(m,"number",m.value)}switch(N=u?co(u):window,e){case"focusin":(oj(N)||N.contentEditable==="true")&&(oo=N,U0=u,wc=null);break;case"focusout":wc=U0=oo=null;break;case"mousedown":H0=!0;break;case"contextmenu":case"mouseup":case"dragend":H0=!1,fj(f,r,d);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":fj(f,r,d)}var _;if(yv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else io?UE(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(BE&&r.locale!=="ko"&&(io||S!=="onCompositionStart"?S==="onCompositionEnd"&&io&&(_=FE()):(ys=d,hv="value"in ys?ys.value:ys.textContent,io=!0)),N=Jf(u,S),0<N.length&&(S=new nj(S,e,null,r,d),f.push({event:S,listeners:N}),_?S.data=_:(_=HE(r),_!==null&&(S.data=_)))),(_=lL?cL(e,r):uL(e,r))&&(u=Jf(u,"onBeforeInput"),0<u.length&&(d=new nj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}tC(f,t)})}function $c(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Ac(e,r),s!=null&&n.unshift($c(e,s,a)),s=Ac(e,t),s!=null&&n.push($c(e,s,a))),e=e.return}return n}function Ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pj(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ac(r,s),c!=null&&i.unshift($c(r,c,l))):a||(c=Ac(r,s),c!=null&&i.push($c(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var NL=/\r\n?/g,SL=/\u0000|\uFFFD/g;function gj(e){return(typeof e=="string"?e:""+e).replace(NL,`
`).replace(SL,"")}function Ad(e,t,r){if(t=gj(t),gj(e)!==t&&r)throw Error(X(425))}function Zf(){}var V0=null,W0=null;function K0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var q0=typeof setTimeout=="function"?setTimeout:void 0,_L=typeof clearTimeout=="function"?clearTimeout:void 0,yj=typeof Promise=="function"?Promise:void 0,EL=typeof queueMicrotask=="function"?queueMicrotask:typeof yj<"u"?function(e){return yj.resolve(null).then(e).catch(CL)}:q0;function CL(e){setTimeout(function(){throw e})}function Ng(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ic(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ic(t)}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Wn="__reactFiber$"+xl,zc="__reactProps$"+xl,Oa="__reactContainer$"+xl,Y0="__reactEvents$"+xl,PL="__reactListeners$"+xl,OL="__reactHandles$"+xl;function ri(e){var t=e[Wn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oa]||r[Wn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xj(e);e!==null;){if(r=e[Wn])return r;e=xj(e)}return t}e=r,r=e.parentNode}return null}function Su(e){return e=e[Wn]||e[Oa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Ch(e){return e[zc]||null}var G0=[],uo=-1;function Ls(e){return{current:e}}function Be(e){0>uo||(e.current=G0[uo],G0[uo]=null,uo--)}function $e(e,t){uo++,G0[uo]=e.current,e.current=t}var Ms={},Qt=Ls(Ms),wr=Ls(!1),Ei=Ms;function Ho(e,t){var r=e.type.contextTypes;if(!r)return Ms;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function jr(e){return e=e.childContextTypes,e!=null}function em(){Be(wr),Be(Qt)}function vj(e,t,r){if(Qt.current!==Ms)throw Error(X(168));$e(Qt,t),$e(wr,r)}function nC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(X(108,hR(e)||"Unknown",a));return et({},r,n)}function tm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ms,Ei=Qt.current,$e(Qt,e),$e(wr,wr.current),!0}function bj(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=nC(e,t,Ei),n.__reactInternalMemoizedMergedChildContext=e,Be(wr),Be(Qt),$e(Qt,e)):Be(wr),$e(wr,r)}var ma=null,Ph=!1,Sg=!1;function aC(e){ma===null?ma=[e]:ma.push(e)}function AL(e){Ph=!0,aC(e)}function $s(){if(!Sg&&ma!==null){Sg=!0;var e=0,t=Me;try{var r=ma;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ma=null,Ph=!1}catch(a){throw ma!==null&&(ma=ma.slice(e+1)),PE(uv,$s),a}finally{Me=t,Sg=!1}}return null}var fo=[],mo=0,rm=null,nm=0,Qr=[],Jr=0,Ci=null,va=1,ba="";function Ys(e,t){fo[mo++]=nm,fo[mo++]=rm,rm=e,nm=t}function sC(e,t,r){Qr[Jr++]=va,Qr[Jr++]=ba,Qr[Jr++]=Ci,Ci=e;var n=va;e=ba;var a=32-Sn(n)-1;n&=~(1<<a),r+=1;var s=32-Sn(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,va=1<<32-Sn(t)+a|r<<a|n,ba=s+e}else va=1<<s|r<<a|n,ba=e}function vv(e){e.return!==null&&(Ys(e,1),sC(e,1,0))}function bv(e){for(;e===rm;)rm=fo[--mo],fo[mo]=null,nm=fo[--mo],fo[mo]=null;for(;e===Ci;)Ci=Qr[--Jr],Qr[Jr]=null,ba=Qr[--Jr],Qr[Jr]=null,va=Qr[--Jr],Qr[Jr]=null}var Dr=null,Tr=null,Ve=!1,xn=null;function iC(e,t){var r=Zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dr=e,Tr=ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dr=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ci!==null?{id:va,overflow:ba}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dr=e,Tr=null,!0):!1;default:return!1}}function X0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Q0(e){if(Ve){var t=Tr;if(t){var r=t;if(!wj(e,t)){if(X0(e))throw Error(X(418));t=ks(r.nextSibling);var n=Dr;t&&wj(e,t)?iC(n,r):(e.flags=e.flags&-4097|2,Ve=!1,Dr=e)}}else{if(X0(e))throw Error(X(418));e.flags=e.flags&-4097|2,Ve=!1,Dr=e}}}function jj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dr=e}function Md(e){if(e!==Dr)return!1;if(!Ve)return jj(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K0(e.type,e.memoizedProps)),t&&(t=Tr)){if(X0(e))throw oC(),Error(X(418));for(;t;)iC(e,t),t=ks(t.nextSibling)}if(jj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tr=ks(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=Dr?ks(e.stateNode.nextSibling):null;return!0}function oC(){for(var e=Tr;e;)e=ks(e.nextSibling)}function Vo(){Tr=Dr=null,Ve=!1}function wv(e){xn===null?xn=[e]:xn.push(e)}var ML=Ha.ReactCurrentBatchConfig;function Ul(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function Td(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kj(e){var t=e._init;return t(e._payload)}function lC(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Es(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,j){return b===null||b.tag!==6?(b=Mg(w,y.mode,j),b.return=y,b):(b=a(b,w),b.return=y,b)}function c(y,b,w,j){var k=w.type;return k===so?d(y,b,w.props.children,j,w.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ts&&kj(k)===b.type)?(j=a(b,w.props),j.ref=Ul(y,b,w),j.return=y,j):(j=Cf(w.type,w.key,w.props,null,y.mode,j),j.ref=Ul(y,b,w),j.return=y,j)}function u(y,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Tg(w,y.mode,j),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,j,k){return b===null||b.tag!==7?(b=wi(w,y.mode,j,k),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Mg(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jd:return w=Cf(b.type,b.key,b.props,null,y.mode,w),w.ref=Ul(y,null,b),w.return=y,w;case ao:return b=Tg(b,y.mode,w),b.return=y,b;case ts:var j=b._init;return f(y,j(b._payload),w)}if(ic(b)||Ll(b))return b=wi(b,y.mode,w,null),b.return=y,b;Td(y,b)}return null}function m(y,b,w,j){var k=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(y,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jd:return w.key===k?c(y,b,w,j):null;case ao:return w.key===k?u(y,b,w,j):null;case ts:return k=w._init,m(y,b,k(w._payload),j)}if(ic(w)||Ll(w))return k!==null?null:d(y,b,w,j,null);Td(y,w)}return null}function h(y,b,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(b,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jd:return y=y.get(j.key===null?w:j.key)||null,c(b,y,j,k);case ao:return y=y.get(j.key===null?w:j.key)||null,u(b,y,j,k);case ts:var N=j._init;return h(y,b,w,N(j._payload),k)}if(ic(j)||Ll(j))return y=y.get(w)||null,d(b,y,j,k,null);Td(b,j)}return null}function p(y,b,w,j){for(var k=null,N=null,_=b,S=b=0,E=null;_!==null&&S<w.length;S++){_.index>S?(E=_,_=null):E=_.sibling;var O=m(y,_,w[S],j);if(O===null){_===null&&(_=E);break}e&&_&&O.alternate===null&&t(y,_),b=s(O,b,S),N===null?k=O:N.sibling=O,N=O,_=E}if(S===w.length)return r(y,_),Ve&&Ys(y,S),k;if(_===null){for(;S<w.length;S++)_=f(y,w[S],j),_!==null&&(b=s(_,b,S),N===null?k=_:N.sibling=_,N=_);return Ve&&Ys(y,S),k}for(_=n(y,_);S<w.length;S++)E=h(_,y,S,w[S],j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?S:E.key),b=s(E,b,S),N===null?k=E:N.sibling=E,N=E);return e&&_.forEach(function(C){return t(y,C)}),Ve&&Ys(y,S),k}function x(y,b,w,j){var k=Ll(w);if(typeof k!="function")throw Error(X(150));if(w=k.call(w),w==null)throw Error(X(151));for(var N=k=null,_=b,S=b=0,E=null,O=w.next();_!==null&&!O.done;S++,O=w.next()){_.index>S?(E=_,_=null):E=_.sibling;var C=m(y,_,O.value,j);if(C===null){_===null&&(_=E);break}e&&_&&C.alternate===null&&t(y,_),b=s(C,b,S),N===null?k=C:N.sibling=C,N=C,_=E}if(O.done)return r(y,_),Ve&&Ys(y,S),k;if(_===null){for(;!O.done;S++,O=w.next())O=f(y,O.value,j),O!==null&&(b=s(O,b,S),N===null?k=O:N.sibling=O,N=O);return Ve&&Ys(y,S),k}for(_=n(y,_);!O.done;S++,O=w.next())O=h(_,y,S,O.value,j),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?S:O.key),b=s(O,b,S),N===null?k=O:N.sibling=O,N=O);return e&&_.forEach(function(A){return t(y,A)}),Ve&&Ys(y,S),k}function v(y,b,w,j){if(typeof w=="object"&&w!==null&&w.type===so&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case jd:e:{for(var k=w.key,N=b;N!==null;){if(N.key===k){if(k=w.type,k===so){if(N.tag===7){r(y,N.sibling),b=a(N,w.props.children),b.return=y,y=b;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ts&&kj(k)===N.type){r(y,N.sibling),b=a(N,w.props),b.ref=Ul(y,N,w),b.return=y,y=b;break e}r(y,N);break}else t(y,N);N=N.sibling}w.type===so?(b=wi(w.props.children,y.mode,j,w.key),b.return=y,y=b):(j=Cf(w.type,w.key,w.props,null,y.mode,j),j.ref=Ul(y,b,w),j.return=y,y=j)}return i(y);case ao:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Tg(w,y.mode,j),b.return=y,y=b}return i(y);case ts:return N=w._init,v(y,b,N(w._payload),j)}if(ic(w))return p(y,b,w,j);if(Ll(w))return x(y,b,w,j);Td(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=Mg(w,y.mode,j),b.return=y,y=b),i(y)):r(y,b)}return v}var Wo=lC(!0),cC=lC(!1),am=Ls(null),sm=null,ho=null,jv=null;function kv(){jv=ho=sm=null}function Nv(e){var t=am.current;Be(am),e._currentValue=t}function J0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function So(e,t){sm=e,jv=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yr=!0),e.firstContext=null)}function rn(e){var t=e._currentValue;if(jv!==e)if(e={context:e,memoizedValue:t,next:null},ho===null){if(sm===null)throw Error(X(308));ho=e,sm.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return t}var ni=null;function Sv(e){ni===null?ni=[e]:ni.push(e)}function uC(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Sv(t)):(r.next=a.next,a.next=r),t.interleaved=r,Aa(e,n)}function Aa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var rs=!1;function _v(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Aa(e,r)}return a=n.interleaved,a===null?(t.next=t,Sv(n)):(t.next=a.next,a.next=t),n.interleaved=t,Aa(e,r)}function jf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dv(e,r)}}function Nj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function im(e,t,r,n){var a=e.updateQueue;rs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(m=t,h=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=et({},f,m);break e;case 2:rs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Oi|=i,e.lanes=i,e.memoizedState=f}}function Sj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(X(191,a));a.call(n)}}}var _u={},Yn=Ls(_u),Fc=Ls(_u),Bc=Ls(_u);function ai(e){if(e===_u)throw Error(X(174));return e}function Ev(e,t){switch($e(Bc,t),$e(Fc,e),$e(Yn,_u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:M0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=M0(t,e)}Be(Yn),$e(Yn,t)}function Ko(){Be(Yn),Be(Fc),Be(Bc)}function fC(e){ai(Bc.current);var t=ai(Yn.current),r=M0(t,e.type);t!==r&&($e(Fc,e),$e(Yn,r))}function Cv(e){Fc.current===e&&(Be(Yn),Be(Fc))}var Xe=Ls(0);function om(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _g=[];function Pv(){for(var e=0;e<_g.length;e++)_g[e]._workInProgressVersionPrimary=null;_g.length=0}var kf=Ha.ReactCurrentDispatcher,Eg=Ha.ReactCurrentBatchConfig,Pi=0,Qe=null,yt=null,At=null,lm=!1,jc=!1,Uc=0,TL=0;function Wt(){throw Error(X(321))}function Ov(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pn(e[r],t[r]))return!1;return!0}function Av(e,t,r,n,a,s){if(Pi=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kf.current=e===null||e.memoizedState===null?LL:$L,e=r(n,a),jc){s=0;do{if(jc=!1,Uc=0,25<=s)throw Error(X(301));s+=1,At=yt=null,t.updateQueue=null,kf.current=zL,e=r(n,a)}while(jc)}if(kf.current=cm,t=yt!==null&&yt.next!==null,Pi=0,At=yt=Qe=null,lm=!1,t)throw Error(X(300));return e}function Mv(){var e=Uc!==0;return Uc=0,e}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Qe.memoizedState=At=e:At=At.next=e,At}function nn(){if(yt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=At===null?Qe.memoizedState:At.next;if(t!==null)At=t,yt=e;else{if(e===null)throw Error(X(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?Qe.memoizedState=At=e:At=At.next=e}return At}function Hc(e,t){return typeof t=="function"?t(e):t}function Cg(e){var t=nn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=yt,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Pi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Qe.lanes|=d,Oi|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,Pn(n,t.memoizedState)||(yr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Qe.lanes|=s,Oi|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pg(e){var t=nn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Pn(s,t.memoizedState)||(yr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function mC(){}function hC(e,t){var r=Qe,n=nn(),a=t(),s=!Pn(n.memoizedState,a);if(s&&(n.memoizedState=a,yr=!0),n=n.queue,Tv(yC.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Vc(9,gC.bind(null,r,n,a,t),void 0,null),Tt===null)throw Error(X(349));Pi&30||pC(r,t,a)}return a}function pC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gC(e,t,r,n){t.value=r,t.getSnapshot=n,xC(t)&&vC(e)}function yC(e,t,r){return r(function(){xC(t)&&vC(e)})}function xC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pn(e,r)}catch{return!0}}function vC(e){var t=Aa(e,1);t!==null&&_n(t,e,1,-1)}function _j(e){var t=Fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:e},t.queue=e,e=e.dispatch=RL.bind(null,Qe,e),[t.memoizedState,e]}function Vc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bC(){return nn().memoizedState}function Nf(e,t,r,n){var a=Fn();Qe.flags|=e,a.memoizedState=Vc(1|t,r,void 0,n===void 0?null:n)}function Oh(e,t,r,n){var a=nn();n=n===void 0?null:n;var s=void 0;if(yt!==null){var i=yt.memoizedState;if(s=i.destroy,n!==null&&Ov(n,i.deps)){a.memoizedState=Vc(t,r,s,n);return}}Qe.flags|=e,a.memoizedState=Vc(1|t,r,s,n)}function Ej(e,t){return Nf(8390656,8,e,t)}function Tv(e,t){return Oh(2048,8,e,t)}function wC(e,t){return Oh(4,2,e,t)}function jC(e,t){return Oh(4,4,e,t)}function kC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function NC(e,t,r){return r=r!=null?r.concat([e]):null,Oh(4,4,kC.bind(null,t,e),r)}function Iv(){}function SC(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ov(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _C(e,t){var r=nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ov(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function EC(e,t,r){return Pi&21?(Pn(r,t)||(r=ME(),Qe.lanes|=r,Oi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yr=!0),e.memoizedState=r)}function IL(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=Eg.transition;Eg.transition={};try{e(!1),t()}finally{Me=r,Eg.transition=n}}function CC(){return nn().memoizedState}function DL(e,t,r){var n=_s(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PC(e))OC(t,r);else if(r=uC(e,t,r,n),r!==null){var a=ar();_n(r,e,n,a),AC(r,t,n)}}function RL(e,t,r){var n=_s(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PC(e))OC(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,Pn(l,i)){var c=t.interleaved;c===null?(a.next=a,Sv(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=uC(e,t,a,n),r!==null&&(a=ar(),_n(r,e,n,a),AC(r,t,n))}}function PC(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function OC(e,t){jc=lm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AC(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dv(e,r)}}var cm={readContext:rn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},LL={readContext:rn,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:rn,useEffect:Ej,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nf(4194308,4,kC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nf(4,2,e,t)},useMemo:function(e,t){var r=Fn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=DL.bind(null,Qe,e),[n.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:_j,useDebugValue:Iv,useDeferredValue:function(e){return Fn().memoizedState=e},useTransition:function(){var e=_j(!1),t=e[0];return e=IL.bind(null,e[1]),Fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Qe,a=Fn();if(Ve){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Tt===null)throw Error(X(349));Pi&30||pC(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Ej(yC.bind(null,n,s,e),[e]),n.flags|=2048,Vc(9,gC.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Fn(),t=Tt.identifierPrefix;if(Ve){var r=ba,n=va;r=(n&~(1<<32-Sn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Uc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$L={readContext:rn,useCallback:SC,useContext:rn,useEffect:Tv,useImperativeHandle:NC,useInsertionEffect:wC,useLayoutEffect:jC,useMemo:_C,useReducer:Cg,useRef:bC,useState:function(){return Cg(Hc)},useDebugValue:Iv,useDeferredValue:function(e){var t=nn();return EC(t,yt.memoizedState,e)},useTransition:function(){var e=Cg(Hc)[0],t=nn().memoizedState;return[e,t]},useMutableSource:mC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1},zL={readContext:rn,useCallback:SC,useContext:rn,useEffect:Tv,useImperativeHandle:NC,useInsertionEffect:wC,useLayoutEffect:jC,useMemo:_C,useReducer:Pg,useRef:bC,useState:function(){return Pg(Hc)},useDebugValue:Iv,useDeferredValue:function(e){var t=nn();return yt===null?t.memoizedState=e:EC(t,yt.memoizedState,e)},useTransition:function(){var e=Pg(Hc)[0],t=nn().memoizedState;return[e,t]},useMutableSource:mC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1};function mn(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Z0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ah={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ar(),a=_s(e),s=Na(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ns(e,s,a),t!==null&&(_n(t,e,a,n),jf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ar(),a=_s(e),s=Na(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ns(e,s,a),t!==null&&(_n(t,e,a,n),jf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ar(),n=_s(e),a=Na(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ns(e,a,n),t!==null&&(_n(t,e,n,r),jf(t,e,n))}};function Cj(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Rc(r,n)||!Rc(a,s):!0}function MC(e,t,r){var n=!1,a=Ms,s=t.contextType;return typeof s=="object"&&s!==null?s=rn(s):(a=jr(t)?Ei:Qt.current,n=t.contextTypes,s=(n=n!=null)?Ho(e,a):Ms),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ah,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ah.enqueueReplaceState(t,t.state,null)}function ey(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},_v(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=rn(s):(s=jr(t)?Ei:Qt.current,a.context=Ho(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Z0(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ah.enqueueReplaceState(a,a.state,null),im(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qo(e,t){try{var r="",n=t;do r+=mR(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Og(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ty(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var FL=typeof WeakMap=="function"?WeakMap:Map;function TC(e,t,r){r=Na(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){dm||(dm=!0,dy=n),ty(e,t)},r}function IC(e,t,r){r=Na(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ty(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ty(e,t),typeof n!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Oj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new FL;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=e$.bind(null,e,t,r),t.then(e,e))}function Aj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Na(-1,1),t.tag=2,Ns(r,t,1))),r.lanes|=1),e)}var BL=Ha.ReactCurrentOwner,yr=!1;function tr(e,t,r,n){t.child=e===null?cC(t,null,r,n):Wo(t,e.child,r,n)}function Tj(e,t,r,n,a){r=r.render;var s=t.ref;return So(t,a),n=Av(e,t,r,n,s,a),r=Mv(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ma(e,t,a)):(Ve&&r&&vv(t),t.flags|=1,tr(e,t,n,a),t.child)}function Ij(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Uv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,DC(e,t,s,n,a)):(e=Cf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Rc,r(i,n)&&e.ref===t.ref)return Ma(e,t,a)}return t.flags|=1,e=Es(s,n),e.ref=t.ref,e.return=t,t.child=e}function DC(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Rc(s,n)&&e.ref===t.ref)if(yr=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(yr=!0);else return t.lanes=e.lanes,Ma(e,t,a)}return ry(e,t,r,n,a)}function RC(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(go,Cr),Cr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(go,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,$e(go,Cr),Cr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,$e(go,Cr),Cr|=n;return tr(e,t,a,r),t.child}function LC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ry(e,t,r,n,a){var s=jr(r)?Ei:Qt.current;return s=Ho(t,s),So(t,a),r=Av(e,t,r,n,s,a),n=Mv(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ma(e,t,a)):(Ve&&n&&vv(t),t.flags|=1,tr(e,t,r,a),t.child)}function Dj(e,t,r,n,a){if(jr(r)){var s=!0;tm(t)}else s=!1;if(So(t,a),t.stateNode===null)Sf(e,t),MC(t,r,n),ey(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=rn(u):(u=jr(r)?Ei:Qt.current,u=Ho(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Pj(t,i,n,u),rs=!1;var m=t.memoizedState;i.state=m,im(t,n,i,a),c=t.memoizedState,l!==n||m!==c||wr.current||rs?(typeof d=="function"&&(Z0(t,r,d,n),c=t.memoizedState),(l=rs||Cj(t,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,dC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:mn(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=jr(r)?Ei:Qt.current,c=Ho(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Pj(t,i,n,c),rs=!1,m=t.memoizedState,i.state=m,im(t,n,i,a);var p=t.memoizedState;l!==f||m!==p||wr.current||rs?(typeof h=="function"&&(Z0(t,r,h,n),p=t.memoizedState),(u=rs||Cj(t,r,u,n,m,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return ny(e,t,r,n,s,a)}function ny(e,t,r,n,a,s){LC(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&bj(t,r,!1),Ma(e,t,s);n=t.stateNode,BL.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Wo(t,e.child,null,s),t.child=Wo(t,null,l,s)):tr(e,t,l,s),t.memoizedState=n.state,a&&bj(t,r,!0),t.child}function $C(e){var t=e.stateNode;t.pendingContext?vj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vj(e,t.context,!1),Ev(e,t.containerInfo)}function Rj(e,t,r,n,a){return Vo(),wv(a),t.flags|=256,tr(e,t,r,n),t.child}var ay={dehydrated:null,treeContext:null,retryLane:0};function sy(e){return{baseLanes:e,cachePool:null,transitions:null}}function zC(e,t,r){var n=t.pendingProps,a=Xe.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$e(Xe,a&1),e===null)return Q0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ih(i,n,0,null),e=wi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=sy(r),t.memoizedState=ay,e):Dv(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return UL(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Es(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Es(l,s):(s=wi(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?sy(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=ay,n}return s=e.child,e=s.sibling,n=Es(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Dv(e,t){return t=Ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Id(e,t,r,n){return n!==null&&wv(n),Wo(t,e.child,null,r),e=Dv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UL(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Og(Error(X(422))),Id(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Ih({mode:"visible",children:n.children},a,0,null),s=wi(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Wo(t,e.child,null,i),t.child.memoizedState=sy(i),t.memoizedState=ay,s);if(!(t.mode&1))return Id(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(X(419)),n=Og(s,n,void 0),Id(e,t,i,n)}if(l=(i&e.childLanes)!==0,yr||l){if(n=Tt,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Aa(e,a),_n(n,e,a,-1))}return Bv(),n=Og(Error(X(421))),Id(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=t$.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Tr=ks(a.nextSibling),Dr=t,Ve=!0,xn=null,e!==null&&(Qr[Jr++]=va,Qr[Jr++]=ba,Qr[Jr++]=Ci,va=e.id,ba=e.overflow,Ci=t),t=Dv(t,n.children),t.flags|=4096,t)}function Lj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),J0(e.return,t,r)}function Ag(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function FC(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(tr(e,t,n.children,r),n=Xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lj(e,r,t);else if(e.tag===19)Lj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Xe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&om(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ag(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&om(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ag(t,!0,r,null,s);break;case"together":Ag(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ma(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Oi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Es(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Es(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HL(e,t,r){switch(t.tag){case 3:$C(t),Vo();break;case 5:fC(t);break;case 1:jr(t.type)&&tm(t);break;case 4:Ev(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;$e(am,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($e(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?zC(e,t,r):($e(Xe,Xe.current&1),e=Ma(e,t,r),e!==null?e.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return FC(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$e(Xe,Xe.current),n)break;return null;case 22:case 23:return t.lanes=0,RC(e,t,r)}return Ma(e,t,r)}var BC,iy,UC,HC;BC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};iy=function(){};UC=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ai(Yn.current);var s=null;switch(r){case"input":a=C0(e,a),n=C0(e,n),s=[];break;case"select":a=et({},a,{value:void 0}),n=et({},n,{value:void 0}),s=[];break;case"textarea":a=A0(e,a),n=A0(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zf)}T0(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ze("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};HC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hl(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function VL(e,t,r){var n=t.pendingProps;switch(bv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return jr(t.type)&&em(),Kt(t),null;case 3:return n=t.stateNode,Ko(),Be(wr),Be(Qt),Pv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Md(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(hy(xn),xn=null))),iy(e,t),Kt(t),null;case 5:Cv(t);var a=ai(Bc.current);if(r=t.type,e!==null&&t.stateNode!=null)UC(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Kt(t),null}if(e=ai(Yn.current),Md(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Wn]=t,n[zc]=s,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<lc.length;a++)ze(lc[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":K1(n,s),ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ze("invalid",n);break;case"textarea":Y1(n,s),ze("invalid",n)}T0(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ad(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ad(n.textContent,l,e),a=["children",""+l]):Pc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ze("scroll",n)}switch(r){case"input":kd(n),q1(n,s,!0);break;case"textarea":kd(n),G1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Zf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Wn]=t,e[zc]=n,BC(e,t,!1,!1),t.stateNode=e;e:{switch(i=I0(r,n),r){case"dialog":ze("cancel",e),ze("close",e),a=n;break;case"iframe":case"object":case"embed":ze("load",e),a=n;break;case"video":case"audio":for(a=0;a<lc.length;a++)ze(lc[a],e);a=n;break;case"source":ze("error",e),a=n;break;case"img":case"image":case"link":ze("error",e),ze("load",e),a=n;break;case"details":ze("toggle",e),a=n;break;case"input":K1(e,n),a=C0(e,n),ze("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=et({},n,{value:void 0}),ze("invalid",e);break;case"textarea":Y1(e,n),a=A0(e,n),ze("invalid",e);break;default:a=n}T0(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?bE(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xE(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Oc(e,c):typeof c=="number"&&Oc(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",e):c!=null&&sv(e,s,c,i))}switch(r){case"input":kd(e),q1(e,n,!1);break;case"textarea":kd(e),G1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+As(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?wo(e,!!n.multiple,s,!1):n.defaultValue!=null&&wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)HC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=ai(Bc.current),ai(Yn.current),Md(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wn]=t,(s=n.nodeValue!==r)&&(e=Dr,e!==null))switch(e.tag){case 3:Ad(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ad(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wn]=t,t.stateNode=n}return Kt(t),null;case 13:if(Be(Xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Tr!==null&&t.mode&1&&!(t.flags&128))oC(),Vo(),t.flags|=98560,s=!1;else if(s=Md(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(X(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Wn]=t}else Vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),s=!1}else xn!==null&&(hy(xn),xn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?vt===0&&(vt=3):Bv())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return Ko(),iy(e,t),e===null&&Lc(t.stateNode.containerInfo),Kt(t),null;case 10:return Nv(t.type._context),Kt(t),null;case 17:return jr(t.type)&&em(),Kt(t),null;case 19:if(Be(Xe),s=t.memoizedState,s===null)return Kt(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Hl(s,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=om(e),i!==null){for(t.flags|=128,Hl(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Xe,Xe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ot()>Yo&&(t.flags|=128,n=!0,Hl(s,!1),t.lanes=4194304)}else{if(!n)if(e=om(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ve)return Kt(t),null}else 2*ot()-s.renderingStartTime>Yo&&r!==1073741824&&(t.flags|=128,n=!0,Hl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ot(),t.sibling=null,r=Xe.current,$e(Xe,n?r&1|2:r&1),t):(Kt(t),null);case 22:case 23:return Fv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cr&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function WL(e,t){switch(bv(t),t.tag){case 1:return jr(t.type)&&em(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ko(),Be(wr),Be(Qt),Pv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cv(t),null;case 13:if(Be(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Xe),null;case 4:return Ko(),null;case 10:return Nv(t.type._context),null;case 22:case 23:return Fv(),null;case 24:return null;default:return null}}var Dd=!1,Yt=!1,KL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nt(e,t,n)}else r.current=null}function oy(e,t,r){try{r()}catch(n){nt(e,t,n)}}var $j=!1;function qL(e,t){if(V0=Xf,e=YE(),xv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(W0={focusedElem:e,selectionRange:r},Xf=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:mn(t.type,x),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){nt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return p=$j,$j=!1,p}function kc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&oy(t,r,s)}a=a.next}while(a!==n)}}function Mh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ly(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function VC(e){var t=e.alternate;t!==null&&(e.alternate=null,VC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wn],delete t[zc],delete t[Y0],delete t[PL],delete t[OL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WC(e){return e.tag===5||e.tag===3||e.tag===4}function zj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zf));else if(n!==4&&(e=e.child,e!==null))for(cy(e,t,r),e=e.sibling;e!==null;)cy(e,t,r),e=e.sibling}function uy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uy(e,t,r),e=e.sibling;e!==null;)uy(e,t,r),e=e.sibling}var zt=null,gn=!1;function Xa(e,t,r){for(r=r.child;r!==null;)KC(e,t,r),r=r.sibling}function KC(e,t,r){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Nh,r)}catch{}switch(r.tag){case 5:Yt||po(r,t);case 6:var n=zt,a=gn;zt=null,Xa(e,t,r),zt=n,gn=a,zt!==null&&(gn?(e=zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(gn?(e=zt,r=r.stateNode,e.nodeType===8?Ng(e.parentNode,r):e.nodeType===1&&Ng(e,r),Ic(e)):Ng(zt,r.stateNode));break;case 4:n=zt,a=gn,zt=r.stateNode.containerInfo,gn=!0,Xa(e,t,r),zt=n,gn=a;break;case 0:case 11:case 14:case 15:if(!Yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&oy(r,t,i),a=a.next}while(a!==n)}Xa(e,t,r);break;case 1:if(!Yt&&(po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){nt(r,t,l)}Xa(e,t,r);break;case 21:Xa(e,t,r);break;case 22:r.mode&1?(Yt=(n=Yt)||r.memoizedState!==null,Xa(e,t,r),Yt=n):Xa(e,t,r);break;default:Xa(e,t,r)}}function Fj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KL),t.forEach(function(n){var a=r$.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,gn=!1;break e;case 3:zt=l.stateNode.containerInfo,gn=!0;break e;case 4:zt=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(zt===null)throw Error(X(160));KC(s,i,a),zt=null,gn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){nt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qC(t,e),t=t.sibling}function qC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fn(t,e),$n(e),n&4){try{kc(3,e,e.return),Mh(3,e)}catch(x){nt(e,e.return,x)}try{kc(5,e,e.return)}catch(x){nt(e,e.return,x)}}break;case 1:fn(t,e),$n(e),n&512&&r!==null&&po(r,r.return);break;case 5:if(fn(t,e),$n(e),n&512&&r!==null&&po(r,r.return),e.flags&32){var a=e.stateNode;try{Oc(a,"")}catch(x){nt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&pE(a,s),I0(l,i);var u=I0(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?bE(a,f):d==="dangerouslySetInnerHTML"?xE(a,f):d==="children"?Oc(a,f):sv(a,d,f,u)}switch(l){case"input":P0(a,s);break;case"textarea":gE(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?wo(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?wo(a,!!s.multiple,s.defaultValue,!0):wo(a,!!s.multiple,s.multiple?[]:"",!1))}a[zc]=s}catch(x){nt(e,e.return,x)}}break;case 6:if(fn(t,e),$n(e),n&4){if(e.stateNode===null)throw Error(X(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){nt(e,e.return,x)}}break;case 3:if(fn(t,e),$n(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ic(t.containerInfo)}catch(x){nt(e,e.return,x)}break;case 4:fn(t,e),$n(e);break;case 13:fn(t,e),$n(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||($v=ot())),n&4&&Fj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Yt=(u=Yt)||d,fn(t,e),Yt=u):fn(t,e),$n(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(m=ie,h=m.child,m.tag){case 0:case 11:case 14:case 15:kc(4,m,m.return);break;case 1:po(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){nt(n,r,x)}}break;case 5:po(m,m.return);break;case 22:if(m.memoizedState!==null){Uj(f);continue}}h!==null?(h.return=m,ie=h):Uj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vE("display",i))}catch(x){nt(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){nt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(t,e),$n(e),n&4&&Fj(e);break;case 21:break;default:fn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(WC(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Oc(a,""),n.flags&=-33);var s=zj(e);uy(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=zj(e);cy(e,l,i);break;default:throw Error(X(161))}}catch(c){nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YL(e,t,r){ie=e,YC(e)}function YC(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var a=ie,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Dd;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Yt;l=Dd;var u=Yt;if(Dd=i,(Yt=c)&&!u)for(ie=a;ie!==null;)i=ie,c=i.child,i.tag===22&&i.memoizedState!==null?Hj(a):c!==null?(c.return=i,ie=c):Hj(a);for(;s!==null;)ie=s,YC(s),s=s.sibling;ie=a,Dd=l,Yt=u}Bj(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ie=s):Bj(e)}}function Bj(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||Mh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:mn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sj(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sj(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ic(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Yt||t.flags&512&&ly(t)}catch(m){nt(t,t.return,m)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Uj(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Hj(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mh(4,t)}catch(c){nt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){nt(t,a,c)}}var s=t.return;try{ly(t)}catch(c){nt(t,s,c)}break;case 5:var i=t.return;try{ly(t)}catch(c){nt(t,i,c)}}}catch(c){nt(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var GL=Math.ceil,um=Ha.ReactCurrentDispatcher,Rv=Ha.ReactCurrentOwner,tn=Ha.ReactCurrentBatchConfig,Ne=0,Tt=null,dt=null,Ut=0,Cr=0,go=Ls(0),vt=0,Wc=null,Oi=0,Th=0,Lv=0,Nc=null,gr=null,$v=0,Yo=1/0,fa=null,dm=!1,dy=null,Ss=null,Rd=!1,xs=null,fm=0,Sc=0,fy=null,_f=-1,Ef=0;function ar(){return Ne&6?ot():_f!==-1?_f:_f=ot()}function _s(e){return e.mode&1?Ne&2&&Ut!==0?Ut&-Ut:ML.transition!==null?(Ef===0&&(Ef=ME()),Ef):(e=Me,e!==0||(e=window.event,e=e===void 0?16:zE(e.type)),e):1}function _n(e,t,r,n){if(50<Sc)throw Sc=0,fy=null,Error(X(185));ku(e,r,n),(!(Ne&2)||e!==Tt)&&(e===Tt&&(!(Ne&2)&&(Th|=r),vt===4&&is(e,Ut)),kr(e,n),r===1&&Ne===0&&!(t.mode&1)&&(Yo=ot()+500,Ph&&$s()))}function kr(e,t){var r=e.callbackNode;MR(e,t);var n=Gf(e,e===Tt?Ut:0);if(n===0)r!==null&&J1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&J1(r),t===1)e.tag===0?AL(Vj.bind(null,e)):aC(Vj.bind(null,e)),EL(function(){!(Ne&6)&&$s()}),r=null;else{switch(TE(n)){case 1:r=uv;break;case 4:r=OE;break;case 16:r=Yf;break;case 536870912:r=AE;break;default:r=Yf}r=rP(r,GC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function GC(e,t){if(_f=-1,Ef=0,Ne&6)throw Error(X(327));var r=e.callbackNode;if(_o()&&e.callbackNode!==r)return null;var n=Gf(e,e===Tt?Ut:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mm(e,n);else{t=n;var a=Ne;Ne|=2;var s=QC();(Tt!==e||Ut!==t)&&(fa=null,Yo=ot()+500,bi(e,t));do try{JL();break}catch(l){XC(e,l)}while(!0);kv(),um.current=s,Ne=a,dt!==null?t=0:(Tt=null,Ut=0,t=vt)}if(t!==0){if(t===2&&(a=z0(e),a!==0&&(n=a,t=my(e,a))),t===1)throw r=Wc,bi(e,0),is(e,n),kr(e,ot()),r;if(t===6)is(e,n);else{if(a=e.current.alternate,!(n&30)&&!XL(a)&&(t=mm(e,n),t===2&&(s=z0(e),s!==0&&(n=s,t=my(e,s))),t===1))throw r=Wc,bi(e,0),is(e,n),kr(e,ot()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:Gs(e,gr,fa);break;case 3:if(is(e,n),(n&130023424)===n&&(t=$v+500-ot(),10<t)){if(Gf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ar(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=q0(Gs.bind(null,e,gr,fa),t);break}Gs(e,gr,fa);break;case 4:if(is(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Sn(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*GL(n/1960))-n,10<n){e.timeoutHandle=q0(Gs.bind(null,e,gr,fa),n);break}Gs(e,gr,fa);break;case 5:Gs(e,gr,fa);break;default:throw Error(X(329))}}}return kr(e,ot()),e.callbackNode===r?GC.bind(null,e):null}function my(e,t){var r=Nc;return e.current.memoizedState.isDehydrated&&(bi(e,t).flags|=256),e=mm(e,t),e!==2&&(t=gr,gr=r,t!==null&&hy(t)),e}function hy(e){gr===null?gr=e:gr.push.apply(gr,e)}function XL(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Pn(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t){for(t&=~Lv,t&=~Th,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Sn(t),n=1<<r;e[r]=-1,t&=~n}}function Vj(e){if(Ne&6)throw Error(X(327));_o();var t=Gf(e,0);if(!(t&1))return kr(e,ot()),null;var r=mm(e,t);if(e.tag!==0&&r===2){var n=z0(e);n!==0&&(t=n,r=my(e,n))}if(r===1)throw r=Wc,bi(e,0),is(e,t),kr(e,ot()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gs(e,gr,fa),kr(e,ot()),null}function zv(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Yo=ot()+500,Ph&&$s())}}function Ai(e){xs!==null&&xs.tag===0&&!(Ne&6)&&_o();var t=Ne;Ne|=1;var r=tn.transition,n=Me;try{if(tn.transition=null,Me=1,e)return e()}finally{Me=n,tn.transition=r,Ne=t,!(Ne&6)&&$s()}}function Fv(){Cr=go.current,Be(go)}function bi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_L(r)),dt!==null)for(r=dt.return;r!==null;){var n=r;switch(bv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&em();break;case 3:Ko(),Be(wr),Be(Qt),Pv();break;case 5:Cv(n);break;case 4:Ko();break;case 13:Be(Xe);break;case 19:Be(Xe);break;case 10:Nv(n.type._context);break;case 22:case 23:Fv()}r=r.return}if(Tt=e,dt=e=Es(e.current,null),Ut=Cr=t,vt=0,Wc=null,Lv=Th=Oi=0,gr=Nc=null,ni!==null){for(t=0;t<ni.length;t++)if(r=ni[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}ni=null}return e}function XC(e,t){do{var r=dt;try{if(kv(),kf.current=cm,lm){for(var n=Qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}lm=!1}if(Pi=0,At=yt=Qe=null,jc=!1,Uc=0,Rv.current=null,r===null||r.return===null){vt=1,Wc=t,dt=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Ut,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Aj(i);if(h!==null){h.flags&=-257,Mj(h,i,l,s,t),h.mode&1&&Oj(s,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){Oj(s,u,t),Bv();break e}c=Error(X(426))}}else if(Ve&&l.mode&1){var v=Aj(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Mj(v,i,l,s,t),wv(qo(c,l));break e}}s=c=qo(c,l),vt!==4&&(vt=2),Nc===null?Nc=[s]:Nc.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=TC(s,c,t);Nj(s,y);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ss===null||!Ss.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=IC(s,l,t);Nj(s,j);break e}}s=s.return}while(s!==null)}ZC(r)}catch(k){t=k,dt===r&&r!==null&&(dt=r=r.return);continue}break}while(!0)}function QC(){var e=um.current;return um.current=cm,e===null?cm:e}function Bv(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||!(Oi&268435455)&&!(Th&268435455)||is(Tt,Ut)}function mm(e,t){var r=Ne;Ne|=2;var n=QC();(Tt!==e||Ut!==t)&&(fa=null,bi(e,t));do try{QL();break}catch(a){XC(e,a)}while(!0);if(kv(),Ne=r,um.current=n,dt!==null)throw Error(X(261));return Tt=null,Ut=0,vt}function QL(){for(;dt!==null;)JC(dt)}function JL(){for(;dt!==null&&!kR();)JC(dt)}function JC(e){var t=tP(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?ZC(e):dt=t,Rv.current=null}function ZC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=WL(r,t),r!==null){r.flags&=32767,dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,dt=null;return}}else if(r=VL(r,t,Cr),r!==null){dt=r;return}if(t=t.sibling,t!==null){dt=t;return}dt=t=e}while(t!==null);vt===0&&(vt=5)}function Gs(e,t,r){var n=Me,a=tn.transition;try{tn.transition=null,Me=1,ZL(e,t,r,n)}finally{tn.transition=a,Me=n}return null}function ZL(e,t,r,n){do _o();while(xs!==null);if(Ne&6)throw Error(X(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(TR(e,s),e===Tt&&(dt=Tt=null,Ut=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rd||(Rd=!0,rP(Yf,function(){return _o(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=tn.transition,tn.transition=null;var i=Me;Me=1;var l=Ne;Ne|=4,Rv.current=null,qL(e,r),qC(r,e),vL(W0),Xf=!!V0,W0=V0=null,e.current=r,YL(r),NR(),Ne=l,Me=i,tn.transition=s}else e.current=r;if(Rd&&(Rd=!1,xs=e,fm=a),s=e.pendingLanes,s===0&&(Ss=null),ER(r.stateNode),kr(e,ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(dm)throw dm=!1,e=dy,dy=null,e;return fm&1&&e.tag!==0&&_o(),s=e.pendingLanes,s&1?e===fy?Sc++:(Sc=0,fy=e):Sc=0,$s(),null}function _o(){if(xs!==null){var e=TE(fm),t=tn.transition,r=Me;try{if(tn.transition=null,Me=16>e?16:e,xs===null)var n=!1;else{if(e=xs,xs=null,fm=0,Ne&6)throw Error(X(331));var a=Ne;for(Ne|=4,ie=e.current;ie!==null;){var s=ie,i=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:kc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var m=d.sibling,h=d.return;if(VC(d),d===u){ie=null;break}if(m!==null){m.return=h,ie=m;break}ie=h}}}var p=s.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ie=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ie=i;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var b=e.current;for(ie=b;ie!==null;){i=ie;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ie=w;else e:for(i=b;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mh(9,l)}}catch(k){nt(l,l.return,k)}if(l===i){ie=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ie=j;break e}ie=l.return}}if(Ne=a,$s(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Nh,e)}catch{}n=!0}return n}finally{Me=r,tn.transition=t}}return!1}function Wj(e,t,r){t=qo(r,t),t=TC(e,t,1),e=Ns(e,t,1),t=ar(),e!==null&&(ku(e,1,t),kr(e,t))}function nt(e,t,r){if(e.tag===3)Wj(e,e,r);else for(;t!==null;){if(t.tag===3){Wj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ss===null||!Ss.has(n))){e=qo(r,e),e=IC(t,e,1),t=Ns(t,e,1),e=ar(),t!==null&&(ku(t,1,e),kr(t,e));break}}t=t.return}}function e$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ar(),e.pingedLanes|=e.suspendedLanes&r,Tt===e&&(Ut&r)===r&&(vt===4||vt===3&&(Ut&130023424)===Ut&&500>ot()-$v?bi(e,0):Lv|=r),kr(e,t)}function eP(e,t){t===0&&(e.mode&1?(t=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):t=1);var r=ar();e=Aa(e,t),e!==null&&(ku(e,t,r),kr(e,r))}function t$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),eP(e,r)}function r$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),eP(e,r)}var tP;tP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)yr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yr=!1,HL(e,t,r);yr=!!(e.flags&131072)}else yr=!1,Ve&&t.flags&1048576&&sC(t,nm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sf(e,t),e=t.pendingProps;var a=Ho(t,Qt.current);So(t,r),a=Av(null,t,n,e,a,r);var s=Mv();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jr(n)?(s=!0,tm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,_v(t),a.updater=Ah,t.stateNode=a,a._reactInternals=t,ey(t,n,e,r),t=ny(null,t,n,!0,s,r)):(t.tag=0,Ve&&s&&vv(t),tr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=a$(n),e=mn(n,e),a){case 0:t=ry(null,t,n,e,r);break e;case 1:t=Dj(null,t,n,e,r);break e;case 11:t=Tj(null,t,n,e,r);break e;case 14:t=Ij(null,t,n,mn(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mn(n,a),ry(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mn(n,a),Dj(e,t,n,a,r);case 3:e:{if($C(t),e===null)throw Error(X(387));n=t.pendingProps,s=t.memoizedState,a=s.element,dC(e,t),im(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=qo(Error(X(423)),t),t=Rj(e,t,n,r,a);break e}else if(n!==a){a=qo(Error(X(424)),t),t=Rj(e,t,n,r,a);break e}else for(Tr=ks(t.stateNode.containerInfo.firstChild),Dr=t,Ve=!0,xn=null,r=cC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vo(),n===a){t=Ma(e,t,r);break e}tr(e,t,n,r)}t=t.child}return t;case 5:return fC(t),e===null&&Q0(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,K0(n,a)?i=null:s!==null&&K0(n,s)&&(t.flags|=32),LC(e,t),tr(e,t,i,r),t.child;case 6:return e===null&&Q0(t),null;case 13:return zC(e,t,r);case 4:return Ev(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wo(t,null,n,r):tr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mn(n,a),Tj(e,t,n,a,r);case 7:return tr(e,t,t.pendingProps,r),t.child;case 8:return tr(e,t,t.pendingProps.children,r),t.child;case 12:return tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,$e(am,n._currentValue),n._currentValue=i,s!==null)if(Pn(s.value,i)){if(s.children===a.children&&!wr.current){t=Ma(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Na(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),J0(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(X(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),J0(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}tr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,So(t,r),a=rn(a),n=n(a),t.flags|=1,tr(e,t,n,r),t.child;case 14:return n=t.type,a=mn(n,t.pendingProps),a=mn(n.type,a),Ij(e,t,n,a,r);case 15:return DC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:mn(n,a),Sf(e,t),t.tag=1,jr(n)?(e=!0,tm(t)):e=!1,So(t,r),MC(t,n,a),ey(t,n,a,r),ny(null,t,n,!0,e,r);case 19:return FC(e,t,r);case 22:return RC(e,t,r)}throw Error(X(156,t.tag))};function rP(e,t){return PE(e,t)}function n$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,r,n){return new n$(e,t,r,n)}function Uv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a$(e){if(typeof e=="function")return Uv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ov)return 11;if(e===lv)return 14}return 2}function Es(e,t){var r=e.alternate;return r===null?(r=Zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cf(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")Uv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case so:return wi(r.children,a,s,t);case iv:i=8,a|=8;break;case N0:return e=Zr(12,r,t,a|2),e.elementType=N0,e.lanes=s,e;case S0:return e=Zr(13,r,t,a),e.elementType=S0,e.lanes=s,e;case _0:return e=Zr(19,r,t,a),e.elementType=_0,e.lanes=s,e;case fE:return Ih(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uE:i=10;break e;case dE:i=9;break e;case ov:i=11;break e;case lv:i=14;break e;case ts:i=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Zr(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function wi(e,t,r,n){return e=Zr(7,e,n,t),e.lanes=r,e}function Ih(e,t,r,n){return e=Zr(22,e,n,t),e.elementType=fE,e.lanes=r,e.stateNode={isHidden:!1},e}function Mg(e,t,r){return e=Zr(6,e,null,t),e.lanes=r,e}function Tg(e,t,r){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s$(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mg(0),this.expirationTimes=mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mg(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Hv(e,t,r,n,a,s,i,l,c){return e=new s$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(s),e}function i$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function nP(e){if(!e)return Ms;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(jr(r))return nC(e,r,t)}return t}function aP(e,t,r,n,a,s,i,l,c){return e=Hv(r,n,!0,e,a,s,i,l,c),e.context=nP(null),r=e.current,n=ar(),a=_s(r),s=Na(n,a),s.callback=t??null,Ns(r,s,a),e.current.lanes=a,ku(e,a,n),kr(e,n),e}function Dh(e,t,r,n){var a=t.current,s=ar(),i=_s(a);return r=nP(r),t.context===null?t.context=r:t.pendingContext=r,t=Na(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ns(a,t,i),e!==null&&(_n(e,a,i,s),jf(e,a,i)),i}function hm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vv(e,t){Kj(e,t),(e=e.alternate)&&Kj(e,t)}function o$(){return null}var sP=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wv(e){this._internalRoot=e}Rh.prototype.render=Wv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Dh(e,t,null,null)};Rh.prototype.unmount=Wv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ai(function(){Dh(null,e,null,null)}),t[Oa]=null}};function Rh(e){this._internalRoot=e}Rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=RE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ss.length&&t!==0&&t<ss[r].priority;r++);ss.splice(r,0,e),r===0&&$E(e)}};function Kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qj(){}function l$(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=hm(i);s.call(u)}}var i=aP(t,n,e,0,null,!1,!1,"",qj);return e._reactRootContainer=i,e[Oa]=i.current,Lc(e.nodeType===8?e.parentNode:e),Ai(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=hm(c);l.call(u)}}var c=Hv(e,0,!1,null,null,!1,!1,"",qj);return e._reactRootContainer=c,e[Oa]=c.current,Lc(e.nodeType===8?e.parentNode:e),Ai(function(){Dh(t,c,r,n)}),c}function $h(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=hm(i);l.call(c)}}Dh(t,i,e,a)}else i=l$(r,t,e,a,n);return hm(i)}IE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=oc(t.pendingLanes);r!==0&&(dv(t,r|1),kr(t,ot()),!(Ne&6)&&(Yo=ot()+500,$s()))}break;case 13:Ai(function(){var n=Aa(e,1);if(n!==null){var a=ar();_n(n,e,1,a)}}),Vv(e,1)}};fv=function(e){if(e.tag===13){var t=Aa(e,134217728);if(t!==null){var r=ar();_n(t,e,134217728,r)}Vv(e,134217728)}};DE=function(e){if(e.tag===13){var t=_s(e),r=Aa(e,t);if(r!==null){var n=ar();_n(r,e,t,n)}Vv(e,t)}};RE=function(){return Me};LE=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};R0=function(e,t,r){switch(t){case"input":if(P0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ch(n);if(!a)throw Error(X(90));hE(n),P0(n,a)}}}break;case"textarea":gE(e,r);break;case"select":t=r.value,t!=null&&wo(e,!!r.multiple,t,!1)}};kE=zv;NE=Ai;var c$={usingClientEntryPoint:!1,Events:[Su,co,Ch,wE,jE,zv]},Vl={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u$={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=EE(e),e===null?null:e.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||o$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Nh=Ld.inject(u$),qn=Ld}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c$;Ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kv(t))throw Error(X(200));return i$(e,t,null,r)};Ur.createRoot=function(e,t){if(!Kv(e))throw Error(X(299));var r=!1,n="",a=sP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Hv(e,1,!1,null,null,r,!1,n,a),e[Oa]=t.current,Lc(e.nodeType===8?e.parentNode:e),new Wv(t)};Ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=EE(t),e=e===null?null:e.stateNode,e};Ur.flushSync=function(e){return Ai(e)};Ur.hydrate=function(e,t,r){if(!Lh(t))throw Error(X(200));return $h(null,e,t,!0,r)};Ur.hydrateRoot=function(e,t,r){if(!Kv(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=sP;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=aP(t,null,e,1,r??null,a,!1,s,i),e[Oa]=t.current,Lc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Rh(t)};Ur.render=function(e,t,r){if(!Lh(t))throw Error(X(200));return $h(null,e,t,!1,r)};Ur.unmountComponentAtNode=function(e){if(!Lh(e))throw Error(X(40));return e._reactRootContainer?(Ai(function(){$h(null,null,e,!1,function(){e._reactRootContainer=null,e[Oa]=null})}),!0):!1};Ur.unstable_batchedUpdates=zv;Ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lh(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return $h(e,t,r,!1,n)};Ur.version="18.3.1-next-f1338f8080-20240426";function iP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iP)}catch(e){console.error(e)}}iP(),iE.exports=Ur;var Eu=iE.exports,Yj=Eu;j0.createRoot=Yj.createRoot,j0.hydrateRoot=Yj.hydrateRoot;var Cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},d$={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},cs,Jx,z_,f$=(z_=class{constructor(){he(this,cs,d$);he(this,Jx,!1)}setTimeoutProvider(e){se(this,cs,e)}setTimeout(e,t){return z(this,cs).setTimeout(e,t)}clearTimeout(e){z(this,cs).clearTimeout(e)}setInterval(e,t){return z(this,cs).setInterval(e,t)}clearInterval(e){z(this,cs).clearInterval(e)}},cs=new WeakMap,Jx=new WeakMap,z_),si=new f$;function m$(e){setTimeout(e,0)}var Mi=typeof window>"u"||"Deno"in globalThis;function pr(){}function h$(e,t){return typeof e=="function"?e(t):e}function py(e){return typeof e=="number"&&e>=0&&e!==1/0}function oP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Cs(e,t){return typeof e=="function"?e(t):e}function Xr(e,t){return typeof e=="function"?e(t):e}function Gj(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==qv(i,t.options))return!1}else if(!qc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function Xj(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Kc(t.options.mutationKey)!==Kc(s))return!1}else if(!qc(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function qv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Kc)(e)}function Kc(e){return JSON.stringify(e,(t,r)=>yy(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>qc(e[r],t[r])):!1}var p$=Object.prototype.hasOwnProperty;function lP(e,t){if(e===t)return e;const r=Qj(e)&&Qj(t);if(!r&&!(yy(e)&&yy(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),i=s.length,l=r?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=r?u:s[u],f=e[d],m=t[d];if(f===m){l[d]=f,(r?u<a:p$.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const h=lP(f,m);l[d]=h,h===f&&c++}return a===i&&c===a?e:l}function gy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Qj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yy(e){if(!Jj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Jj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jj(e){return Object.prototype.toString.call(e)==="[object Object]"}function g$(e){return new Promise(t=>{si.setTimeout(t,e)})}function xy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?lP(e,t):t}function y$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function x$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Yv=Symbol();function cP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Yv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function v$(e,t){return typeof e=="function"?e(...t):!!e}var di,us,Oo,F_,b$=(F_=class extends Cu{constructor(){super();he(this,di);he(this,us);he(this,Oo);se(this,Oo,t=>{if(!Mi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){z(this,us)||this.setEventListener(z(this,Oo))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,us))==null||t.call(this),se(this,us,void 0))}setEventListener(t){var r;se(this,Oo,t),(r=z(this,us))==null||r.call(this),se(this,us,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){z(this,di)!==t&&(se(this,di,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof z(this,di)=="boolean"?z(this,di):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},di=new WeakMap,us=new WeakMap,Oo=new WeakMap,F_),Gv=new b$;function vy(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var w$=m$;function j$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=w$;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ft=j$(),Ao,ds,Mo,B_,k$=(B_=class extends Cu{constructor(){super();he(this,Ao,!0);he(this,ds);he(this,Mo);se(this,Mo,t=>{if(!Mi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){z(this,ds)||this.setEventListener(z(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,ds))==null||t.call(this),se(this,ds,void 0))}setEventListener(t){var r;se(this,Mo,t),(r=z(this,ds))==null||r.call(this),se(this,ds,t(this.setOnline.bind(this)))}setOnline(t){z(this,Ao)!==t&&(se(this,Ao,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return z(this,Ao)}},Ao=new WeakMap,ds=new WeakMap,Mo=new WeakMap,B_),pm=new k$;function N$(e){return Math.min(1e3*2**e,3e4)}function uP(e){return(e??"online")==="online"?pm.isOnline():!0}var by=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dP(e){let t=!1,r=0,n;const a=vy(),s=()=>a.status!=="pending",i=x=>{var v;if(!s()){const y=new by(x);m(y),(v=e.onCancel)==null||v.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Gv.isFocused()&&(e.networkMode==="always"||pm.isOnline())&&e.canRun(),d=()=>uP(e.networkMode)&&e.canRun(),f=x=>{s()||(n==null||n(),a.resolve(x))},m=x=>{s()||(n==null||n(),a.reject(x))},h=()=>new Promise(x=>{var v;n=y=>{(s()||u())&&x(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var x;n=void 0,s()||(x=e.onContinue)==null||x.call(e)}),p=()=>{if(s())return;let x;const v=r===0?e.initialPromise:void 0;try{x=v??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(f).catch(y=>{var N;if(s())return;const b=e.retry??(Mi?0:3),w=e.retryDelay??N$,j=typeof w=="function"?w(r,y):w,k=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!k){m(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),g$(j).then(()=>u()?void 0:h()).then(()=>{t?m(y):p()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():h().then(p),a)}}var fi,U_,fP=(U_=class{constructor(){he(this,fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),py(this.gcTime)&&se(this,fi,si.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mi?1/0:5*60*1e3))}clearGcTimeout(){z(this,fi)&&(si.clearTimeout(z(this,fi)),se(this,fi,void 0))}},fi=new WeakMap,U_),mi,To,Gr,hi,Pt,yu,pi,hn,da,H_,S$=(H_=class extends fP{constructor(t){super();he(this,hn);he(this,mi);he(this,To);he(this,Gr);he(this,hi);he(this,Pt);he(this,yu);he(this,pi);se(this,pi,!1),se(this,yu,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,hi,t.client),se(this,Gr,z(this,hi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,mi,ek(this.options)),this.state=t.state??z(this,mi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,Pt))==null?void 0:t.promise}setOptions(t){if(this.options={...z(this,yu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ek(this.options);r.data!==void 0&&(this.setState(Zj(r.data,r.dataUpdatedAt)),se(this,mi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Gr).remove(this)}setData(t,r){const n=xy(this.state.data,t,this.options);return be(this,hn,da).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,hn,da).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=z(this,Pt))==null?void 0:n.promise;return(a=z(this,Pt))==null||a.cancel(t),r?r.then(pr).catch(pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,mi))}isActive(){return this.observers.some(t=>Xr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Cs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!oP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,Pt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,Pt)&&(z(this,pi)?z(this,Pt).cancel({revert:!0}):z(this,Pt).cancelRetry()),this.scheduleGc()),z(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,hn,da).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,m,h,p,x,v,y,b,w;if(this.state.fetchStatus!=="idle"&&((c=z(this,Pt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Pt))return z(this,Pt).continueRetry(),z(this,Pt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(k=>k.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(se(this,pi,!0),n.signal)})},s=()=>{const j=cP(this.options,r),N=(()=>{const _={client:z(this,hi),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return se(this,pi,!1),this.options.persister?this.options.persister(j,N,this):j(N)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,hi),state:this.state,fetchFn:s};return a(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),se(this,To,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&be(this,hn,da).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),se(this,Pt,dP({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof by&&j.revert&&this.setState({...z(this,To),fetchStatus:"idle"}),n.abort()},onFail:(j,k)=>{be(this,hn,da).call(this,{type:"failed",failureCount:j,error:k})},onPause:()=>{be(this,hn,da).call(this,{type:"pause"})},onContinue:()=>{be(this,hn,da).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await z(this,Pt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(h=(m=z(this,Gr).config).onSuccess)==null||h.call(m,j,this),(x=(p=z(this,Gr).config).onSettled)==null||x.call(p,j,this.state.error,this),j}catch(j){if(j instanceof by){if(j.silent)return z(this,Pt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw be(this,hn,da).call(this,{type:"error",error:j}),(y=(v=z(this,Gr).config).onError)==null||y.call(v,j,this),(w=(b=z(this,Gr).config).onSettled)==null||w.call(b,this.state.data,j,this),j}finally{this.scheduleGc()}}},mi=new WeakMap,To=new WeakMap,Gr=new WeakMap,hi=new WeakMap,Pt=new WeakMap,yu=new WeakMap,pi=new WeakMap,hn=new WeakSet,da=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mP(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Zj(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,To,t.manual?a:void 0),a;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),z(this,Gr).notify({query:this,type:"updated",action:t})})},H_);function mP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Zj(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ek(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mr,we,xu,Zt,gi,Io,pa,fs,vu,Do,Ro,yi,xi,ms,Lo,Pe,cc,wy,jy,ky,Ny,Sy,_y,Ey,hP,V_,_$=(V_=class extends Cu{constructor(t,r){super();he(this,Pe);he(this,mr);he(this,we);he(this,xu);he(this,Zt);he(this,gi);he(this,Io);he(this,pa);he(this,fs);he(this,vu);he(this,Do);he(this,Ro);he(this,yi);he(this,xi);he(this,ms);he(this,Lo,new Set);this.options=r,se(this,mr,t),se(this,fs,null),se(this,pa,vy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,we).addObserver(this),tk(z(this,we),this.options)?be(this,Pe,cc).call(this):this.updateResult(),be(this,Pe,Ny).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cy(z(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cy(z(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Pe,Sy).call(this),be(this,Pe,_y).call(this),z(this,we).removeObserver(this)}setOptions(t){const r=this.options,n=z(this,we);if(this.options=z(this,mr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xr(this.options.enabled,z(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Pe,Ey).call(this),z(this,we).setOptions(this.options),r._defaulted&&!gy(this.options,r)&&z(this,mr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,we),observer:this});const a=this.hasListeners();a&&rk(z(this,we),n,this.options,r)&&be(this,Pe,cc).call(this),this.updateResult(),a&&(z(this,we)!==n||Xr(this.options.enabled,z(this,we))!==Xr(r.enabled,z(this,we))||Cs(this.options.staleTime,z(this,we))!==Cs(r.staleTime,z(this,we)))&&be(this,Pe,wy).call(this);const s=be(this,Pe,jy).call(this);a&&(z(this,we)!==n||Xr(this.options.enabled,z(this,we))!==Xr(r.enabled,z(this,we))||s!==z(this,ms))&&be(this,Pe,ky).call(this,s)}getOptimisticResult(t){const r=z(this,mr).getQueryCache().build(z(this,mr),t),n=this.createResult(r,t);return C$(this,n)&&(se(this,Zt,n),se(this,Io,this.options),se(this,gi,z(this,we).state)),n}getCurrentResult(){return z(this,Zt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&z(this,pa).status==="pending"&&z(this,pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){z(this,Lo).add(t)}getCurrentQuery(){return z(this,we)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=z(this,mr).defaultQueryOptions(t),n=z(this,mr).getQueryCache().build(z(this,mr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,Pe,cc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Zt)))}createResult(t,r){var E;const n=z(this,we),a=this.options,s=z(this,Zt),i=z(this,gi),l=z(this,Io),u=t!==n?t.state:z(this,xu),{state:d}=t;let f={...d},m=!1,h;if(r._optimisticResults){const O=this.hasListeners(),C=!O&&tk(t,r),A=O&&rk(t,n,r,a);(C||A)&&(f={...f,...mP(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:x,status:v}=f;h=f.data;let y=!1;if(r.placeholderData!==void 0&&h===void 0&&v==="pending"){let O;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(O=s.data,y=!0):O=typeof r.placeholderData=="function"?r.placeholderData((E=z(this,Ro))==null?void 0:E.state.data,z(this,Ro)):r.placeholderData,O!==void 0&&(v="success",h=xy(s==null?void 0:s.data,O,r),m=!0)}if(r.select&&h!==void 0&&!y)if(s&&h===(i==null?void 0:i.data)&&r.select===z(this,vu))h=z(this,Do);else try{se(this,vu,r.select),h=r.select(h),h=xy(s==null?void 0:s.data,h,r),se(this,Do,h),se(this,fs,null)}catch(O){se(this,fs,O)}z(this,fs)&&(p=z(this,fs),h=z(this,Do),x=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",j=v==="error",k=w&&b,N=h!==void 0,S={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:j,isInitialLoading:k,isLoading:k,data:h,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&N,isStale:Xv(t,r),refetch:this.refetch,promise:z(this,pa),isEnabled:Xr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=D=>{S.status==="error"?D.reject(S.error):S.data!==void 0&&D.resolve(S.data)},C=()=>{const D=se(this,pa,S.promise=vy());O(D)},A=z(this,pa);switch(A.status){case"pending":t.queryHash===n.queryHash&&O(A);break;case"fulfilled":(S.status==="error"||S.data!==A.value)&&C();break;case"rejected":(S.status!=="error"||S.error!==A.reason)&&C();break}}return S}updateResult(){const t=z(this,Zt),r=this.createResult(z(this,we),this.options);if(se(this,gi,z(this,we).state),se(this,Io,this.options),z(this,gi).data!==void 0&&se(this,Ro,z(this,we)),gy(r,t))return;se(this,Zt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!z(this,Lo).size)return!0;const i=new Set(s??z(this,Lo));return this.options.throwOnError&&i.add("error"),Object.keys(z(this,Zt)).some(l=>{const c=l;return z(this,Zt)[c]!==t[c]&&i.has(c)})};be(this,Pe,hP).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Pe,Ny).call(this)}},mr=new WeakMap,we=new WeakMap,xu=new WeakMap,Zt=new WeakMap,gi=new WeakMap,Io=new WeakMap,pa=new WeakMap,fs=new WeakMap,vu=new WeakMap,Do=new WeakMap,Ro=new WeakMap,yi=new WeakMap,xi=new WeakMap,ms=new WeakMap,Lo=new WeakMap,Pe=new WeakSet,cc=function(t){be(this,Pe,Ey).call(this);let r=z(this,we).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(pr)),r},wy=function(){be(this,Pe,Sy).call(this);const t=Cs(this.options.staleTime,z(this,we));if(Mi||z(this,Zt).isStale||!py(t))return;const n=oP(z(this,Zt).dataUpdatedAt,t)+1;se(this,yi,si.setTimeout(()=>{z(this,Zt).isStale||this.updateResult()},n))},jy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,we)):this.options.refetchInterval)??!1},ky=function(t){be(this,Pe,_y).call(this),se(this,ms,t),!(Mi||Xr(this.options.enabled,z(this,we))===!1||!py(z(this,ms))||z(this,ms)===0)&&se(this,xi,si.setInterval(()=>{(this.options.refetchIntervalInBackground||Gv.isFocused())&&be(this,Pe,cc).call(this)},z(this,ms)))},Ny=function(){be(this,Pe,wy).call(this),be(this,Pe,ky).call(this,be(this,Pe,jy).call(this))},Sy=function(){z(this,yi)&&(si.clearTimeout(z(this,yi)),se(this,yi,void 0))},_y=function(){z(this,xi)&&(si.clearInterval(z(this,xi)),se(this,xi,void 0))},Ey=function(){const t=z(this,mr).getQueryCache().build(z(this,mr),this.options);if(t===z(this,we))return;const r=z(this,we);se(this,we,t),se(this,xu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},hP=function(t){Ft.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(z(this,Zt))}),z(this,mr).getQueryCache().notify({query:z(this,we),type:"observerResultsUpdated"})})},V_);function E$(e,t){return Xr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tk(e,t){return E$(e,t)||e.state.data!==void 0&&Cy(e,t,t.refetchOnMount)}function Cy(e,t,r){if(Xr(t.enabled,e)!==!1&&Cs(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Xv(e,t)}return!1}function rk(e,t,r,n){return(e!==t||Xr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Xv(e,r)}function Xv(e,t){return Xr(t.enabled,e)!==!1&&e.isStaleByTime(Cs(t.staleTime,e))}function C$(e,t){return!gy(e.getCurrentResult(),t)}function nk(e){return{onFetch:(t,r)=>{var d,f,m,h,p;const n=t.options,a=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},y=cP(t.options,t.fetchOptions),b=async(w,j,k)=>{if(x)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};return v(C),C})(),S=await y(_),{maxPages:E}=t.options,O=k?x$:y$;return{pages:O(w.pages,S,E),pageParams:O(w.pageParams,j,E)}};if(a&&s.length){const w=a==="backward",j=w?P$:ak,k={pages:s,pageParams:i},N=j(n,k);l=await b(k,N,w)}else{const w=e??s.length;do{const j=c===0?i[0]??n.initialPageParam:ak(n,l);if(c>0&&j==null)break;l=await b(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var x,v;return(v=(x=t.options).persister)==null?void 0:v.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ak(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function P$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var bu,Bn,er,vi,Un,es,W_,O$=(W_=class extends fP{constructor(t){super();he(this,Un);he(this,bu);he(this,Bn);he(this,er);he(this,vi);se(this,bu,t.client),this.mutationId=t.mutationId,se(this,er,t.mutationCache),se(this,Bn,[]),this.state=t.state||A$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Bn).includes(t)||(z(this,Bn).push(t),this.clearGcTimeout(),z(this,er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Bn,z(this,Bn).filter(r=>r!==t)),this.scheduleGc(),z(this,er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Bn).length||(this.state.status==="pending"?this.scheduleGc():z(this,er).remove(this))}continue(){var t;return((t=z(this,vi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,c,u,d,f,m,h,p,x,v,y,b,w,j,k,N,_,S,E;const r=()=>{be(this,Un,es).call(this,{type:"continue"})},n={client:z(this,bu),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,vi,dP({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(O,C)=>{be(this,Un,es).call(this,{type:"failed",failureCount:O,error:C})},onPause:()=>{be(this,Un,es).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,er).canRun(this)}));const a=this.state.status==="pending",s=!z(this,vi).canStart();try{if(a)r();else{be(this,Un,es).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(i=z(this,er).config).onMutate)==null?void 0:l.call(i,t,this,n));const C=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));C!==this.state.context&&be(this,Un,es).call(this,{type:"pending",context:C,variables:t,isPaused:s})}const O=await z(this,vi).start();return await((f=(d=z(this,er).config).onSuccess)==null?void 0:f.call(d,O,t,this.state.context,this,n)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,O,t,this.state.context,n)),await((x=(p=z(this,er).config).onSettled)==null?void 0:x.call(p,O,null,this.state.variables,this.state.context,this,n)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,O,null,t,this.state.context,n)),be(this,Un,es).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(b=z(this,er).config).onError)==null?void 0:w.call(b,O,t,this.state.context,this,n)),await((k=(j=this.options).onError)==null?void 0:k.call(j,O,t,this.state.context,n)),await((_=(N=z(this,er).config).onSettled)==null?void 0:_.call(N,void 0,O,this.state.variables,this.state.context,this,n)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,O,t,this.state.context,n)),O}finally{be(this,Un,es).call(this,{type:"error",error:O})}}finally{z(this,er).runNext(this)}}},bu=new WeakMap,Bn=new WeakMap,er=new WeakMap,vi=new WeakMap,Un=new WeakSet,es=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{z(this,Bn).forEach(n=>{n.onMutationUpdate(t)}),z(this,er).notify({mutation:this,type:"updated",action:t})})},W_);function A$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ga,pn,wu,K_,M$=(K_=class extends Cu{constructor(t={}){super();he(this,ga);he(this,pn);he(this,wu);this.config=t,se(this,ga,new Set),se(this,pn,new Map),se(this,wu,0)}build(t,r,n){const a=new O$({client:t,mutationCache:this,mutationId:++bd(this,wu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){z(this,ga).add(t);const r=$d(t);if(typeof r=="string"){const n=z(this,pn).get(r);n?n.push(t):z(this,pn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,ga).delete(t)){const r=$d(t);if(typeof r=="string"){const n=z(this,pn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&z(this,pn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=$d(t);if(typeof r=="string"){const n=z(this,pn).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=$d(t);if(typeof r=="string"){const a=(n=z(this,pn).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ft.batch(()=>{z(this,ga).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,ga).clear(),z(this,pn).clear()})}getAll(){return Array.from(z(this,ga))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Xj(r,n))}findAll(t={}){return this.getAll().filter(r=>Xj(t,r))}notify(t){Ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ft.batch(()=>Promise.all(t.map(r=>r.continue().catch(pr))))}},ga=new WeakMap,pn=new WeakMap,wu=new WeakMap,K_);function $d(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hn,q_,T$=(q_=class extends Cu{constructor(t={}){super();he(this,Hn);this.config=t,se(this,Hn,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??qv(a,r);let i=this.get(s);return i||(i=new S$({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){z(this,Hn).has(t.queryHash)||(z(this,Hn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=z(this,Hn).get(t.queryHash);r&&(t.destroy(),r===t&&z(this,Hn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ft.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Hn).get(t)}getAll(){return[...z(this,Hn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gj(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Gj(t,n)):r}notify(t){Ft.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hn=new WeakMap,q_),rt,hs,ps,$o,zo,gs,Fo,Bo,Y_,I$=(Y_=class{constructor(e={}){he(this,rt);he(this,hs);he(this,ps);he(this,$o);he(this,zo);he(this,gs);he(this,Fo);he(this,Bo);se(this,rt,e.queryCache||new T$),se(this,hs,e.mutationCache||new M$),se(this,ps,e.defaultOptions||{}),se(this,$o,new Map),se(this,zo,new Map),se(this,gs,0)}mount(){bd(this,gs)._++,z(this,gs)===1&&(se(this,Fo,Gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,rt).onFocus())})),se(this,Bo,pm.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,rt).onOnline())})))}unmount(){var e,t;bd(this,gs)._--,z(this,gs)===0&&((e=z(this,Fo))==null||e.call(this),se(this,Fo,void 0),(t=z(this,Bo))==null||t.call(this),se(this,Bo,void 0))}isFetching(e){return z(this,rt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,hs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,rt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=z(this,rt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Cs(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return z(this,rt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=z(this,rt).get(n.queryHash),s=a==null?void 0:a.state.data,i=h$(t,s);if(i!==void 0)return z(this,rt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ft.batch(()=>z(this,rt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=z(this,rt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=z(this,rt);Ft.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=z(this,rt);return Ft.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ft.batch(()=>z(this,rt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(pr).catch(pr)}invalidateQueries(e,t={}){return Ft.batch(()=>(z(this,rt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ft.batch(()=>z(this,rt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(pr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(pr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=z(this,rt).build(this,t);return r.isStaleByTime(Cs(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pr).catch(pr)}fetchInfiniteQuery(e){return e.behavior=nk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pr).catch(pr)}ensureInfiniteQueryData(e){return e.behavior=nk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return pm.isOnline()?z(this,hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,rt)}getMutationCache(){return z(this,hs)}getDefaultOptions(){return z(this,ps)}setDefaultOptions(e){se(this,ps,e)}setQueryDefaults(e,t){z(this,$o).set(Kc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,$o).values()],r={};return t.forEach(n=>{qc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){z(this,zo).set(Kc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,zo).values()],r={};return t.forEach(n=>{qc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,rt).clear(),z(this,hs).clear()}},rt=new WeakMap,hs=new WeakMap,ps=new WeakMap,$o=new WeakMap,zo=new WeakMap,gs=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,Y_),pP=g.createContext(void 0),D$=e=>{const t=g.useContext(pP);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},R$=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(pP.Provider,{value:e,children:t})),gP=g.createContext(!1),L$=()=>g.useContext(gP);gP.Provider;function $$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var z$=g.createContext($$()),F$=()=>g.useContext(z$),B$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},U$=e=>{g.useEffect(()=>{e.clearReset()},[e])},H$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||v$(r,[e.error,n])),V$=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},W$=(e,t)=>e.isLoading&&e.isFetching&&!t,K$=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,sk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function q$(e,t,r){var f,m,h,p,x;const n=L$(),a=F$(),s=D$(),i=s.defaultQueryOptions(e);(m=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",V$(i),B$(i,a),U$(a);const l=!s.getQueryCache().get(i.queryHash),[c]=g.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(v=>{const y=d?c.subscribe(Ft.batchCalls(v)):pr;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(i)},[i,c]),K$(i,u))throw sk(i,c,a);if(H$({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((p=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,i,u),i.experimental_prefetchInRender&&!Mi&&W$(u,n)){const v=l?sk(i,c,a):(x=s.getQueryCache().get(i.queryHash))==null?void 0:x.promise;v==null||v.catch(pr).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Y$(e,t){return q$(e,_$)}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ik="popstate";function G$(e={}){function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return Py("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Yc(a)}return Q$(t,r,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X$(){return Math.random().toString(36).substring(2,10)}function ok(e,t){return{usr:e.state,key:e.key,idx:t}}function Py(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vl(t):t,state:r,key:t&&t.key||n||X$()}}function Yc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Q$(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l="POP",c=null,u=d();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function d(){return(i.state||{idx:null}).idx}function f(){l="POP";let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:y})}function m(v,y){l="PUSH";let b=Py(x.location,v,y);u=d()+1;let w=ok(b,u),j=x.createHref(b);try{i.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}s&&c&&c({action:l,location:x.location,delta:1})}function h(v,y){l="REPLACE";let b=Py(x.location,v,y);u=d();let w=ok(b,u),j=x.createHref(b);i.replaceState(w,"",j),s&&c&&c({action:l,location:x.location,delta:0})}function p(v){return J$(v)}let x={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ik,f),c=v,()=>{a.removeEventListener(ik,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:h,go(v){return i.go(v)}};return x}function J$(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Je(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Yc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function yP(e,t,r="/"){return Z$(e,t,r,!1)}function Z$(e,t,r,n){let a=typeof t=="string"?vl(t):t,s=Ta(a.pathname||"/",r);if(s==null)return null;let i=xP(e);ez(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=dz(s);l=cz(i[c],u,n)}return l}function xP(e,t=[],r=[],n="",a=!1){let s=(i,l,c=a,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Je(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Sa([n,d.relativePath]),m=r.concat(d);i.children&&i.children.length>0&&(Je(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),xP(i.children,t,m,f,c)),!(i.path==null&&!i.index)&&t.push({path:f,score:oz(f,i.index),routesMeta:m})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,l);else for(let u of vP(i.path))s(i,l,!0,u)}),t}function vP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=vP(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ez(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:lz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var tz=/^:[\w-]+$/,rz=3,nz=2,az=1,sz=10,iz=-2,lk=e=>e==="*";function oz(e,t){let r=e.split("/"),n=r.length;return r.some(lk)&&(n+=iz),t&&(n+=nz),r.filter(a=>!lk(a)).reduce((a,s)=>a+(tz.test(s)?rz:s===""?az:sz),n)}function lz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function cz(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Sa([s,f.pathname]),pathnameBase:gz(Sa([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Sa([s,f.pathnameBase]))}return i}function gm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},m)=>{if(d==="*"){let p=l[m]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const h=l[m];return f&&!h?u[d]=void 0:u[d]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function uz(e,t=!1,r=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function dz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var fz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mz=e=>fz.test(e);function hz(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?vl(e):e,s;if(r)if(mz(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),On(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${r}`)}r.startsWith("/")?s=ck(r.substring(1),"/"):s=ck(r,t)}else s=t;return{pathname:s,search:yz(n),hash:xz(a)}}function ck(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ig(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bP(e){let t=pz(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function wP(e,t,r,n=!1){let a;typeof e=="string"?a=vl(e):(a={...e},Je(!a.pathname||!a.pathname.includes("?"),Ig("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),Ig("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),Ig("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=hz(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Sa=e=>e.join("/").replace(/\/\/+/g,"/"),gz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function bz(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jP=["POST","PUT","PATCH","DELETE"];new Set(jP);var wz=["GET",...jP];new Set(wz);var bl=g.createContext(null);bl.displayName="DataRouter";var zh=g.createContext(null);zh.displayName="DataRouterState";g.createContext(!1);var kP=g.createContext({isTransitioning:!1});kP.displayName="ViewTransition";var jz=g.createContext(new Map);jz.displayName="Fetchers";var kz=g.createContext(null);kz.displayName="Await";var In=g.createContext(null);In.displayName="Navigation";var Pu=g.createContext(null);Pu.displayName="Location";var sa=g.createContext({outlet:null,matches:[],isDataRoute:!1});sa.displayName="Route";var Qv=g.createContext(null);Qv.displayName="RouteError";function Nz(e,{relative:t}={}){Je(Ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(In),{hash:a,pathname:s,search:i}=Au(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:Sa([r,s])),n.createHref({pathname:l,search:i,hash:a})}function Ou(){return g.useContext(Pu)!=null}function zs(){return Je(Ou(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Pu).location}var NP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SP(e){g.useContext(In).static||g.useLayoutEffect(e)}function Jv(){let{isDataRoute:e}=g.useContext(sa);return e?zz():Sz()}function Sz(){Je(Ou(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(bl),{basename:t,navigator:r}=g.useContext(In),{matches:n}=g.useContext(sa),{pathname:a}=zs(),s=JSON.stringify(bP(n)),i=g.useRef(!1);return SP(()=>{i.current=!0}),g.useCallback((c,u={})=>{if(On(i.current,NP),!i.current)return;if(typeof c=="number"){r.go(c);return}let d=wP(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sa([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}var _z=g.createContext(null);function Ez(e){let t=g.useContext(sa).outlet;return g.useMemo(()=>t&&g.createElement(_z.Provider,{value:e},t),[t,e])}function Au(e,{relative:t}={}){let{matches:r}=g.useContext(sa),{pathname:n}=zs(),a=JSON.stringify(bP(r));return g.useMemo(()=>wP(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Cz(e,t){return _P(e,t)}function _P(e,t,r,n,a){var b;Je(Ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(In),{matches:i}=g.useContext(sa),l=i[i.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let w=f&&f.path||"";EP(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=zs(),h;if(t){let w=typeof t=="string"?vl(t):t;Je(d==="/"||((b=w.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=m;let p=h.pathname||"/",x=p;if(d!=="/"){let w=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=yP(e,{pathname:x});On(f||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),On(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Tz(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Sa([d,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Sa([d,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),i,r,n,a);return t&&y?g.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function Pz(){let e=$z(),t=vz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:s},"ErrorBoundary")," or"," ",g.createElement("code",{style:s},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,i)}var Oz=g.createElement(Pz,null),Az=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?g.createElement(sa.Provider,{value:this.props.routeContext},g.createElement(Qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mz({routeContext:e,match:t,children:r}){let n=g.useContext(bl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(sa.Provider,{value:e},r)}function Tz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r==null?void 0:r.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:h}=r,p=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=r&&n?(d,f)=>{var m,h;n(d,{location:r.location,params:((h=(m=r.matches)==null?void 0:m[0])==null?void 0:h.params)??{},unstable_pattern:bz(r.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,m)=>{let h,p=!1,x=null,v=null;r&&(h=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||Oz,l&&(c<0&&m===0?(EP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===m&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,m+1)),b=()=>{let w;return h?w=x:p?w=v:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(Mz,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?g.createElement(Az,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):b()},null)}function Zv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iz(e){let t=g.useContext(bl);return Je(t,Zv(e)),t}function Dz(e){let t=g.useContext(zh);return Je(t,Zv(e)),t}function Rz(e){let t=g.useContext(sa);return Je(t,Zv(e)),t}function eb(e){let t=Rz(e),r=t.matches[t.matches.length-1];return Je(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Lz(){return eb("useRouteId")}function $z(){var n;let e=g.useContext(Qv),t=Dz("useRouteError"),r=eb("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function zz(){let{router:e}=Iz("useNavigate"),t=eb("useNavigate"),r=g.useRef(!1);return SP(()=>{r.current=!0}),g.useCallback(async(a,s={})=>{On(r.current,NP),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var uk={};function EP(e,t,r){!t&&!uk[e]&&(uk[e]=!0,On(!1,r))}g.memo(Fz);function Fz({routes:e,future:t,state:r,unstable_onError:n}){return _P(e,void 0,r,n,t)}function Bz(e){return Ez(e.context)}function Xs(e){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:i}){Je(!Ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:a,static:s,unstable_useTransitions:i,future:{}}),[l,a,s,i]);typeof r=="string"&&(r=vl(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:h="default"}=r,p=g.useMemo(()=>{let x=Ta(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:h},navigationType:n}},[l,u,d,f,m,h,n]);return On(p!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:g.createElement(In.Provider,{value:c},g.createElement(Pu.Provider,{children:t,value:p}))}function Hz({children:e,location:t}){return Cz(Oy(e),t)}function Oy(e,t=[]){let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let s=[...t,a];if(n.type===g.Fragment){r.push.apply(r,Oy(n.props.children,s));return}Je(n.type===Xs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Oy(n.props.children,s)),r.push(i)}),r}var Pf="get",Of="application/x-www-form-urlencoded";function Fh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Vz(e){return Fh(e)&&e.tagName.toLowerCase()==="button"}function Wz(e){return Fh(e)&&e.tagName.toLowerCase()==="form"}function Kz(e){return Fh(e)&&e.tagName.toLowerCase()==="input"}function qz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Yz(e,t){return e.button===0&&(!t||t==="_self")&&!qz(e)}var zd=null;function Gz(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var Xz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(e){return e!=null&&!Xz.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):e}function Qz(e,t){let r,n,a,s,i;if(Wz(e)){let l=e.getAttribute("action");n=l?Ta(l,t):null,r=e.getAttribute("method")||Pf,a=Dg(e.getAttribute("enctype"))||Of,s=new FormData(e)}else if(Vz(e)||Kz(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ta(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Pf,a=Dg(e.getAttribute("formenctype"))||Dg(l.getAttribute("enctype"))||Of,s=new FormData(l,e),!Gz()){let{name:u,type:d,value:f}=e;if(d==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,f)}}else{if(Fh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pf,n=null,a=Of,i=e}return s&&a==="text/plain"&&(i=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jz(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Ta(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Zz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tF(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let i=await Zz(s,r);return i.links?i.links():[]}return[]}));return sF(n.flat(1).filter(eF).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dk(e,t,r,n,a,s){let i=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>i(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(i(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function rF(e,t,{includeHydrateFallback:r}={}){return nF(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function nF(e){return[...new Set(e)]}function aF(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function sF(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(aF(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function CP(){let e=g.useContext(bl);return tb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iF(){let e=g.useContext(zh);return tb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rb=g.createContext(void 0);rb.displayName="FrameworkContext";function PP(){let e=g.useContext(rb);return tb(e,"You must render this element inside a <HydratedRouter> element"),e}function oF(e,t){let r=g.useContext(rb),[n,a]=g.useState(!1),[s,i]=g.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,m=g.useRef(null);g.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=y=>{y.forEach(b=>{i(b.isIntersecting)})},v=new IntersectionObserver(x,{threshold:.5});return m.current&&v.observe(m.current),()=>{v.disconnect()}}},[e]),g.useEffect(()=>{if(n){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[n]);let h=()=>{a(!0)},p=()=>{a(!1),i(!1)};return r?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Wl(l,h),onBlur:Wl(c,p),onMouseEnter:Wl(u,h),onMouseLeave:Wl(d,p),onTouchStart:Wl(f,h)}]:[!1,m,{}]}function Wl(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function lF({page:e,...t}){let{router:r}=CP(),n=g.useMemo(()=>yP(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?g.createElement(uF,{page:e,matches:n,...t}):null}function cF(e){let{manifest:t,routeModules:r}=PP(),[n,a]=g.useState([]);return g.useEffect(()=>{let s=!1;return tF(e,t,r).then(i=>{s||a(i)}),()=>{s=!0}},[e,t,r]),n}function uF({page:e,matches:t,...r}){let n=zs(),{manifest:a,routeModules:s}=PP(),{basename:i}=CP(),{loaderData:l,matches:c}=iF(),u=g.useMemo(()=>dk(e,t,c,a,n,"data"),[e,t,c,a,n]),d=g.useMemo(()=>dk(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=g.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,x=!1;if(t.forEach(y=>{var w;let b=a.routes[y.route.id];!b||!b.hasLoader||(!u.some(j=>j.route.id===y.route.id)&&y.route.id in l&&((w=s[y.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?x=!0:p.add(y.route.id))}),p.size===0)return[];let v=Jz(e,i,"data");return x&&p.size>0&&v.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[i,l,n,a,u,t,e,s]),m=g.useMemo(()=>rF(d,a),[d,a]),h=cF(d);return g.createElement(g.Fragment,null,f.map(p=>g.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),m.map(p=>g.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),h.map(({key:p,link:x})=>g.createElement("link",{key:p,nonce:r.nonce,...x})))}function dF(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var OP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OP&&(window.__reactRouterVersion="7.10.1")}catch{}function fF({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=g.useRef();a.current==null&&(a.current=G$({window:n,v5Compat:!0}));let s=a.current,[i,l]=g.useState({action:s.action,location:s.location}),c=g.useCallback(u=>{r===!1?l(u):g.startTransition(()=>l(u))},[r]);return g.useLayoutEffect(()=>s.listen(c),[s,c]),g.createElement(Uz,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s,unstable_useTransitions:r===!0})}var AP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bh=g.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...m},h){let{basename:p,unstable_useTransitions:x}=g.useContext(In),v=typeof u=="string"&&AP.test(u),y,b=!1;if(typeof u=="string"&&v&&(y=u,OP))try{let O=new URL(window.location.href),C=u.startsWith("//")?new URL(O.protocol+u):new URL(u),A=Ta(C.pathname,p);C.origin===O.origin&&A!=null?u=A+C.search+C.hash:b=!0}catch{On(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Nz(u,{relative:a}),[j,k,N]=oF(n,m),_=gF(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f,unstable_useTransitions:x});function S(O){t&&t(O),O.defaultPrevented||_(O)}let E=g.createElement("a",{...m,...N,href:y||w,onClick:b||s?t:S,ref:dF(h,k),target:c,"data-discover":!v&&r==="render"?"true":void 0});return j&&!v?g.createElement(g.Fragment,null,E,g.createElement(lF,{page:w})):E});Bh.displayName="Link";var mF=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:i,viewTransition:l,children:c,...u},d){let f=Au(i,{relative:u.relative}),m=zs(),h=g.useContext(zh),{navigator:p,basename:x}=g.useContext(In),v=h!=null&&wF(f)&&l===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,b=m.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(b=b.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&x&&(w=Ta(w,x)||w);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=b===y||!a&&b.startsWith(y)&&b.charAt(j)==="/",N=w!=null&&(w===y||!a&&w.startsWith(y)&&w.charAt(y.length)==="/"),_={isActive:k,isPending:N,isTransitioning:v},S=k?t:void 0,E;typeof n=="function"?E=n(_):E=[n,k?"active":null,N?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(_):s;return g.createElement(Bh,{...u,"aria-current":S,className:E,ref:d,style:O,to:i,viewTransition:l},typeof c=="function"?c(_):c)});mF.displayName="NavLink";var hF=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:i=Pf,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...m},h)=>{let{unstable_useTransitions:p}=g.useContext(In),x=vF(),v=bF(l,{relative:u}),y=i.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&AP.test(l),w=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let k=j.nativeEvent.submitter,N=(k==null?void 0:k.getAttribute("formmethod"))||i,_=()=>x(k||j.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f});p&&r!==!1?g.startTransition(()=>_()):_()};return g.createElement("form",{ref:h,method:y,action:v,onSubmit:n?c:w,...m,"data-discover":!b&&e==="render"?"true":void 0})});hF.displayName="Form";function pF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MP(e){let t=g.useContext(bl);return Je(t,pF(e)),t}function gF(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:i,unstable_useTransitions:l}={}){let c=Jv(),u=zs(),d=Au(e,{relative:s});return g.useCallback(f=>{if(Yz(f,t)){f.preventDefault();let m=r!==void 0?r:Yc(u)===Yc(d),h=()=>c(e,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:i});l?g.startTransition(()=>h()):h()}},[u,c,d,r,n,t,e,a,s,i,l])}var yF=0,xF=()=>`__${String(++yF)}__`;function vF(){let{router:e}=MP("useSubmit"),{basename:t}=g.useContext(In),r=Lz(),n=e.fetch,a=e.navigate;return g.useCallback(async(s,i={})=>{let{action:l,method:c,encType:u,formData:d,body:f}=Qz(s,t);if(i.navigate===!1){let m=i.fetcherKey||xF();await n(m,r,i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await a(i.action||l,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,t,r])}function bF(e,{relative:t}={}){let{basename:r}=g.useContext(In),n=g.useContext(sa);Je(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Au(e||".",{relative:t})},i=zs();if(e==null){s.search=i.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Sa([r,s.pathname])),Yc(s)}function wF(e,{relative:t}={}){let r=g.useContext(kP);Je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=MP("useViewTransitionState"),a=Au(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ta(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Ta(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gm(a.pathname,i)!=null||gm(a.pathname,s)!=null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...jF,width:a,height:a,stroke:n,strokeWidth:i?Number(s)*24/Number(a):s,className:["lucide",`lucide-${kF(e)}`,l].join(" "),...u},[...t.map(([f,m])=>g.createElement(f,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ee("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ee("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=ee("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ee("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ee("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ee("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ee("CopyMinus",[["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ee("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ee("FileType2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 13v-1h6v1",key:"1dh9dg"}],["path",{d:"M5 12v6",key:"150t9c"}],["path",{d:"M4 18h2",key:"1xrofg"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ee("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=ee("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=ee("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=ee("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ee("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=ee("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=ee("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ee("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ee("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ee("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=ee("TableProperties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ee("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=ee("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=ee("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),l6=()=>{const e=zs(),[t,r]=g.useState(!1);g.useEffect(()=>{document.documentElement.classList.contains("dark")?r(!0):window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),r(!0))},[]);const n=()=>{const i=!t;r(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},a=i=>e.pathname===i,s=e.pathname==="/canvas";return o.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-200",children:[o.jsxs("aside",{className:`${s?"w-16":"w-64"} bg-slate-900 dark:bg-slate-950 text-white flex flex-col shrink-0 transition-all duration-200`,children:[o.jsxs("div",{className:`${s?"p-4":"p-6"} border-b border-slate-800 dark:border-slate-900 flex items-center ${s?"justify-center":"gap-3"}`,children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-lg shrink-0 shadow-lg shadow-blue-900/20",children:"S"}),!s&&o.jsx("h1",{className:"text-xl font-bold tracking-tight whitespace-nowrap bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Skyulf ML"})]}),o.jsxs("nav",{className:"flex-1 p-2 space-y-2",children:[o.jsx(Kl,{to:"/",active:a("/"),icon:o.jsx(LP,{size:20}),collapsed:s,children:"Dashboard"}),o.jsx(Kl,{to:"/canvas",active:a("/canvas"),icon:o.jsx(RP,{size:20}),collapsed:s,children:"ML Canvas"}),o.jsx(Kl,{to:"/data",active:a("/data"),icon:o.jsx(Jn,{size:20}),collapsed:s,children:"Data Sources"}),o.jsx(Kl,{to:"/registry",active:a("/registry"),icon:o.jsx(Ay,{size:20}),collapsed:s,children:"Model Registry"}),o.jsx(Kl,{to:"/deployments",active:a("/deployments"),icon:o.jsx(Uh,{size:20}),collapsed:s,children:"Deployments"})]}),o.jsx("div",{className:`${s?"p-2":"p-4"} border-t border-slate-800 space-y-4`,children:o.jsxs("button",{onClick:n,className:`flex items-center ${s?"justify-center":"gap-3"} w-full ${s?"px-2":"px-4"} py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-md transition-colors`,title:t?"Light Mode":"Dark Mode",children:[t?o.jsx(n6,{size:20}):o.jsx(KF,{size:20}),!s&&(t?"Light Mode":"Dark Mode")]})})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(Bz,{})})]})},Kl=({to:e,children:t,active:r,icon:n,collapsed:a})=>o.jsxs(Bh,{to:e,className:`flex items-center ${a?"justify-center":"gap-3"} ${a?"px-2":"px-4"} py-3 rounded-md text-sm font-medium transition-colors ${r?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:a?t:void 0,children:[n,!a&&t]});function UP(e,t){return function(){return e.apply(t,arguments)}}const{toString:c6}=Object.prototype,{getPrototypeOf:ub}=Object,{iterator:Hh,toStringTag:HP}=Symbol,Vh=(e=>t=>{const r=c6.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Dn=e=>(e=e.toLowerCase(),t=>Vh(t)===e),Wh=e=>t=>typeof t===e,{isArray:wl}=Array,Go=Wh("undefined");function Iu(e){return e!==null&&!Go(e)&&e.constructor!==null&&!Go(e.constructor)&&Nr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const VP=Dn("ArrayBuffer");function u6(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&VP(e.buffer),t}const d6=Wh("string"),Nr=Wh("function"),WP=Wh("number"),Du=e=>e!==null&&typeof e=="object",f6=e=>e===!0||e===!1,Af=e=>{if(Vh(e)!=="object")return!1;const t=ub(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(HP in e)&&!(Hh in e)},m6=e=>{if(!Du(e)||Iu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},h6=Dn("Date"),p6=Dn("File"),g6=Dn("Blob"),y6=Dn("FileList"),x6=e=>Du(e)&&Nr(e.pipe),v6=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Nr(e.append)&&((t=Vh(e))==="formdata"||t==="object"&&Nr(e.toString)&&e.toString()==="[object FormData]"))},b6=Dn("URLSearchParams"),[w6,j6,k6,N6]=["ReadableStream","Request","Response","Headers"].map(Dn),S6=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ru(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),wl(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Iu(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let l;for(n=0;n<i;n++)l=s[n],t.call(null,e[l],l,e)}}function KP(e,t){if(Iu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qP=e=>!Go(e)&&e!==ii;function Iy(){const{caseless:e,skipUndefined:t}=qP(this)&&this||{},r={},n=(a,s)=>{const i=e&&KP(r,s)||s;Af(r[i])&&Af(a)?r[i]=Iy(r[i],a):Af(a)?r[i]=Iy({},a):wl(a)?r[i]=a.slice():(!t||!Go(a))&&(r[i]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ru(arguments[a],n);return r}const _6=(e,t,r,{allOwnKeys:n}={})=>(Ru(t,(a,s)=>{r&&Nr(a)?e[s]=UP(a,r):e[s]=a},{allOwnKeys:n}),e),E6=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),C6=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},P6=(e,t,r,n)=>{let a,s,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],(!n||n(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=r!==!1&&ub(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},O6=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},A6=e=>{if(!e)return null;if(wl(e))return e;let t=e.length;if(!WP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},M6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ub(Uint8Array)),T6=(e,t)=>{const n=(e&&e[Hh]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},I6=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},D6=Dn("HTMLFormElement"),R6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),pk=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),L6=Dn("RegExp"),YP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ru(r,(a,s)=>{let i;(i=t(a,s,e))!==!1&&(n[s]=i||a)}),Object.defineProperties(e,n)},$6=e=>{YP(e,(t,r)=>{if(Nr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Nr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},z6=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return wl(e)?n(e):n(String(e).split(t)),r},F6=()=>{},B6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function U6(e){return!!(e&&Nr(e.append)&&e[HP]==="FormData"&&e[Hh])}const H6=e=>{const t=new Array(10),r=(n,a)=>{if(Du(n)){if(t.indexOf(n)>=0)return;if(Iu(n))return n;if(!("toJSON"in n)){t[a]=n;const s=wl(n)?[]:{};return Ru(n,(i,l)=>{const c=r(i,a+1);!Go(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},V6=Dn("AsyncFunction"),W6=e=>e&&(Du(e)||Nr(e))&&Nr(e.then)&&Nr(e.catch),GP=((e,t)=>e?setImmediate:t?((r,n)=>(ii.addEventListener("message",({source:a,data:s})=>{a===ii&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ii.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Nr(ii.postMessage)),K6=typeof queueMicrotask<"u"?queueMicrotask.bind(ii):typeof process<"u"&&process.nextTick||GP,q6=e=>e!=null&&Nr(e[Hh]),W={isArray:wl,isArrayBuffer:VP,isBuffer:Iu,isFormData:v6,isArrayBufferView:u6,isString:d6,isNumber:WP,isBoolean:f6,isObject:Du,isPlainObject:Af,isEmptyObject:m6,isReadableStream:w6,isRequest:j6,isResponse:k6,isHeaders:N6,isUndefined:Go,isDate:h6,isFile:p6,isBlob:g6,isRegExp:L6,isFunction:Nr,isStream:x6,isURLSearchParams:b6,isTypedArray:M6,isFileList:y6,forEach:Ru,merge:Iy,extend:_6,trim:S6,stripBOM:E6,inherits:C6,toFlatObject:P6,kindOf:Vh,kindOfTest:Dn,endsWith:O6,toArray:A6,forEachEntry:T6,matchAll:I6,isHTMLForm:D6,hasOwnProperty:pk,hasOwnProp:pk,reduceDescriptors:YP,freezeMethods:$6,toObjectSet:z6,toCamelCase:R6,noop:F6,toFiniteNumber:B6,findKey:KP,global:ii,isContextDefined:qP,isSpecCompliantForm:U6,toJSONObject:H6,isAsyncFn:V6,isThenable:W6,setImmediate:GP,asap:K6,isIterable:q6};function ye(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const XP=ye.prototype,QP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{QP[e]={value:e}});Object.defineProperties(ye,QP);Object.defineProperty(XP,"isAxiosError",{value:!0});ye.from=(e,t,r,n,a,s)=>{const i=Object.create(XP);W.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ye.call(i,l,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const Y6=null;function Dy(e){return W.isPlainObject(e)||W.isArray(e)}function JP(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function gk(e,t,r){return e?e.concat(t).map(function(a,s){return a=JP(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function G6(e){return W.isArray(e)&&!e.some(Dy)}const X6=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function Kh(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!W.isUndefined(v[x])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(W.isDate(p))return p.toISOString();if(W.isBoolean(p))return p.toString();if(!c&&W.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(p)||W.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,v){let y=p;if(p&&!v&&typeof p=="object"){if(W.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(W.isArray(p)&&G6(p)||(W.isFileList(p)||W.endsWith(x,"[]"))&&(y=W.toArray(p)))return x=JP(x),y.forEach(function(w,j){!(W.isUndefined(w)||w===null)&&t.append(i===!0?gk([x],j,s):i===null?x:x+"[]",u(w))}),!1}return Dy(p)?!0:(t.append(gk(v,x,s),u(p)),!1)}const f=[],m=Object.assign(X6,{defaultVisitor:d,convertValue:u,isVisitable:Dy});function h(p,x){if(!W.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(p),W.forEach(p,function(y,b){(!(W.isUndefined(y)||y===null)&&a.call(t,y,W.isString(b)?b.trim():b,x,m))===!0&&h(y,x?x.concat(b):[b])}),f.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return h(e),t}function yk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function db(e,t){this._pairs=[],e&&Kh(e,this,t)}const ZP=db.prototype;ZP.append=function(t,r){this._pairs.push([t,r])};ZP.toString=function(t){const r=t?function(n){return t.call(this,n,yk)}:yk;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Q6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function eO(e,t,r){if(!t)return e;const n=r&&r.encode||Q6;W.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=W.isURLSearchParams(t)?t.toString():new db(t,r).toString(n),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class xk{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const tO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J6=typeof URLSearchParams<"u"?URLSearchParams:db,Z6=typeof FormData<"u"?FormData:null,e8=typeof Blob<"u"?Blob:null,t8={isBrowser:!0,classes:{URLSearchParams:J6,FormData:Z6,Blob:e8},protocols:["http","https","file","blob","url","data"]},fb=typeof window<"u"&&typeof document<"u",Ry=typeof navigator=="object"&&navigator||void 0,r8=fb&&(!Ry||["ReactNative","NativeScript","NS"].indexOf(Ry.product)<0),n8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a8=fb&&window.location.href||"http://localhost",s8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fb,hasStandardBrowserEnv:r8,hasStandardBrowserWebWorkerEnv:n8,navigator:Ry,origin:a8},Symbol.toStringTag,{value:"Module"})),Xt={...s8,...t8};function i8(e,t){return Kh(e,new Xt.classes.URLSearchParams,{visitor:function(r,n,a,s){return Xt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function o8(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function l8(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function rO(e){function t(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&W.isArray(a)?a.length:i,c?(W.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!W.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],s)&&W.isArray(a[i])&&(a[i]=l8(a[i])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,a)=>{t(o8(n),a,r,0)}),r}return null}function c8(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Lu={transitional:tO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=W.isObject(t);if(s&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return a?JSON.stringify(rO(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return i8(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kh(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),c8(t)):t}],transformResponse:[function(t){const r=this.transitional||Lu.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Lu.headers[e]={}});const u8=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d8=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&u8[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},vk=Symbol("internals");function ql(e){return e&&String(e).trim().toLowerCase()}function Mf(e){return e===!1||e==null?e:W.isArray(e)?e.map(Mf):String(e)}function f8(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const m8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rg(e,t,r,n,a){if(W.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function h8(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function p8(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,i){return this[n].call(this,t,a,s,i)},configurable:!0})})}let Sr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=ql(c);if(!d)throw new Error("header name must be a non-empty string");const f=W.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Mf(l))}const i=(l,c)=>W.forEach(l,(u,d)=>s(u,d,c));if(W.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(W.isString(t)&&(t=t.trim())&&!m8(t))i(d8(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,u;for(const d of t){if(!W.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?W.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=ql(t),t){const n=W.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return f8(a);if(W.isFunction(r))return r.call(this,a,n);if(W.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ql(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Rg(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(i){if(i=ql(i),i){const l=W.findKey(n,i);l&&(!r||Rg(n,n[l],l,r))&&(delete n[l],a=!0)}}return W.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||Rg(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return W.forEach(this,(a,s)=>{const i=W.findKey(n,s);if(i){r[i]=Mf(a),delete r[s];return}const l=t?h8(s):String(s).trim();l!==s&&delete r[s],r[l]=Mf(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[vk]=this[vk]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=ql(i);n[l]||(p8(a,i),n[l]=!0)}return W.isArray(t)?t.forEach(s):s(t),this}};Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Sr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(Sr);function Lg(e,t){const r=this||Lu,n=t||r,a=Sr.from(n.headers);let s=n.data;return W.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function nO(e){return!!(e&&e.__CANCEL__)}function jl(e,t,r){ye.call(this,e??"canceled",ye.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(jl,ye,{__CANCEL__:!0});function aO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function g8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function y8(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-i<t)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function x8(e,t){let r=0,n=1e3/t,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const xm=(e,t,r=3)=>{let n=0;const a=y8(50,250);return x8(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},bk=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},wk=e=>(...t)=>W.asap(()=>e(...t)),v8=Xt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,b8=Xt.hasStandardBrowserEnv?{write(e,t,r,n,a,s,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];W.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),W.isString(n)&&l.push(`path=${n}`),W.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),W.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function w8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function j8(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sO(e,t,r){let n=!w8(t);return e&&(n||r==!1)?j8(e,t):t}const jk=e=>e instanceof Sr?{...e}:e;function Ii(e,t){t=t||{};const r={};function n(u,d,f,m){return W.isPlainObject(u)&&W.isPlainObject(d)?W.merge.call({caseless:m},u,d):W.isPlainObject(d)?W.merge({},d):W.isArray(d)?d.slice():d}function a(u,d,f,m){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!W.isUndefined(d))return n(void 0,d)}function i(u,d){if(W.isUndefined(d)){if(!W.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(jk(u),jk(d),f,!0)};return W.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,m=f(e[d],t[d],d);W.isUndefined(m)&&f!==l||(r[d]=m)}),r}const iO=e=>{const t=Ii({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=t;if(t.headers=i=Sr.from(i),t.url=eO(sO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Xt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&v8(t.url))){const c=a&&s&&b8.read(s);c&&i.set(a,c)}return t},k8=typeof XMLHttpRequest<"u",N8=k8&&function(e){return new Promise(function(r,n){const a=iO(e);let s=a.data;const i=Sr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,p;function x(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const w=Sr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};aO(function(_){r(_),x()},function(_){n(_),x()},k),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new ye("Request aborted",ye.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const k=j&&j.message?j.message:"Network Error",N=new ye(k,ye.ERR_NETWORK,e,v);N.event=j||null,n(N),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||tO;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ye(j,k.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,v)),v=null},s===void 0&&i.setContentType(null),"setRequestHeader"in v&&W.forEach(i.toJSON(),function(j,k){v.setRequestHeader(k,j)}),W.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([m,p]=xm(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,h]=xm(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new jl(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=g8(a.url);if(b&&Xt.protocols.indexOf(b)===-1){n(new ye("Unsupported protocol "+b+":",ye.ERR_BAD_REQUEST,e));return}v.send(s||null)})},S8=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new jl(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,s(new ye(`timeout ${t} of ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},_8=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},E8=async function*(e,t){for await(const r of C8(e))yield*_8(r,t)},C8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},kk=(e,t,r,n)=>{const a=E8(e,t);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Nk=64*1024,{isFunction:Fd}=W,P8=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:Sk,TextEncoder:_k}=W.global,Ek=(e,...t)=>{try{return!!e(...t)}catch{return!1}},O8=e=>{e=W.merge.call({skipUndefined:!0},P8,e);const{fetch:t,Request:r,Response:n}=e,a=t?Fd(t):typeof fetch=="function",s=Fd(r),i=Fd(n);if(!a)return!1;const l=a&&Fd(Sk),c=a&&(typeof _k=="function"?(p=>x=>p.encode(x))(new _k):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&Ek(()=>{let p=!1;const x=new r(Xt.origin,{body:new Sk,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=i&&l&&Ek(()=>W.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(x,v)=>{let y=x&&x[p];if(y)return y.call(x);throw new ye(`Response type '${p}' is not supported`,ye.ERR_NOT_SUPPORT,v)})});const m=async p=>{if(p==null)return 0;if(W.isBlob(p))return p.size;if(W.isSpecCompliantForm(p))return(await new r(Xt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(W.isArrayBufferView(p)||W.isArrayBuffer(p))return p.byteLength;if(W.isURLSearchParams(p)&&(p=p+""),W.isString(p))return(await c(p)).byteLength},h=async(p,x)=>{const v=W.toFiniteNumber(p.getContentLength());return v??m(x)};return async p=>{let{url:x,method:v,data:y,signal:b,cancelToken:w,timeout:j,onDownloadProgress:k,onUploadProgress:N,responseType:_,headers:S,withCredentials:E="same-origin",fetchOptions:O}=iO(p),C=t||fetch;_=_?(_+"").toLowerCase():"text";let A=S8([b,w&&w.toAbortSignal()],j),D=null;const M=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let $;try{if(N&&u&&v!=="get"&&v!=="head"&&($=await h(S,y))!==0){let F=new r(x,{method:"POST",body:y,duplex:"half"}),U;if(W.isFormData(y)&&(U=F.headers.get("content-type"))&&S.setContentType(U),F.body){const[q,Y]=bk($,xm(wk(N)));y=kk(F.body,Nk,q,Y)}}W.isString(E)||(E=E?"include":"omit");const I=s&&"credentials"in r.prototype,R={...O,signal:A,method:v.toUpperCase(),headers:S.normalize().toJSON(),body:y,duplex:"half",credentials:I?E:void 0};D=s&&new r(x,R);let T=await(s?C(D,O):C(x,R));const P=d&&(_==="stream"||_==="response");if(d&&(k||P&&M)){const F={};["status","statusText","headers"].forEach(re=>{F[re]=T[re]});const U=W.toFiniteNumber(T.headers.get("content-length")),[q,Y]=k&&bk(U,xm(wk(k),!0))||[];T=new n(kk(T.body,Nk,q,()=>{Y&&Y(),M&&M()}),F)}_=_||"text";let L=await f[W.findKey(f,_)||"text"](T,p);return!P&&M&&M(),await new Promise((F,U)=>{aO(F,U,{data:L,headers:Sr.from(T.headers),status:T.status,statusText:T.statusText,config:p,request:D})})}catch(I){throw M&&M(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,p,D),{cause:I.cause||I}):ye.from(I,I&&I.code,p,D)}}},A8=new Map,oO=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let i=s.length,l=i,c,u,d=A8;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:O8(t)),d=u;return u};oO();const mb={http:Y6,xhr:N8,fetch:{get:oO}};W.forEach(mb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ck=e=>`- ${e}`,M8=e=>W.isFunction(e)||e===null||e===!1;function T8(e,t){e=W.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let i=0;i<r;i++){n=e[i];let l;if(a=n,!M8(n)&&(a=mb[(l=String(n)).toLowerCase()],a===void 0))throw new ye(`Unknown adapter '${l}'`);if(a&&(W.isFunction(a)||(a=a.get(t))))break;s[l||"#"+i]=a}if(!a){const i=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(Ck).join(`
`):" "+Ck(i[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const lO={getAdapter:T8,adapters:mb};function $g(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jl(null,e)}function Pk(e){return $g(e),e.headers=Sr.from(e.headers),e.data=Lg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lO.getAdapter(e.adapter||Lu.adapter,e)(e).then(function(n){return $g(e),n.data=Lg.call(e,e.transformResponse,n),n.headers=Sr.from(n.headers),n},function(n){return nO(n)||($g(e),n&&n.response&&(n.response.data=Lg.call(e,e.transformResponse,n.response),n.response.headers=Sr.from(n.response.headers))),Promise.reject(n)})}const cO="1.13.2",qh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ok={};qh.transitional=function(t,r,n){function a(s,i){return"[Axios v"+cO+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(t===!1)throw new ye(a(i," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!Ok[i]&&(Ok[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,i,l):!0}};qh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function I8(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],i=t[s];if(i){const l=e[s],c=l===void 0||i(l,s,e);if(c!==!0)throw new ye("option "+s+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+s,ye.ERR_BAD_OPTION)}}const Tf={assertOptions:I8,validators:qh},zn=Tf.validators;let ji=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xk,response:new xk}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ii(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Tf.assertOptions(n,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),a!=null&&(W.isFunction(a)?r.paramsSerializer={serialize:a}:Tf.assertOptions(a,{encode:zn.function,serialize:zn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tf.assertOptions(r,{baseUrl:zn.spelling("baseURL"),withXsrfToken:zn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&W.merge(s.common,s[r.method]);s&&W.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Sr.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,m;if(!c){const p=[Pk.bind(this),void 0];for(p.unshift(...l),p.push(...u),m=p.length,d=Promise.resolve(r);f<m;)d=d.then(p[f++],p[f++]);return d}m=l.length;let h=r;for(;f<m;){const p=l[f++],x=l[f++];try{h=p(h)}catch(v){x.call(this,v);break}}try{d=Pk.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Ii(this.defaults,t);const r=sO(t.baseURL,t.url,t.allowAbsoluteUrls);return eO(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){ji.prototype[t]=function(r,n){return this.request(Ii(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(s,i,l){return this.request(Ii(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}ji.prototype[t]=r(),ji.prototype[t+"Form"]=r(!0)});let D8=class uO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},t(function(s,i,l){n.reason||(n.reason=new jl(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new uO(function(a){t=a}),cancel:t}}};function R8(e){return function(r){return e.apply(null,r)}}function L8(e){return W.isObject(e)&&e.isAxiosError===!0}const Ly={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ly).forEach(([e,t])=>{Ly[t]=e});function dO(e){const t=new ji(e),r=UP(ji.prototype.request,t);return W.extend(r,ji.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return dO(Ii(e,a))},r}const ct=dO(Lu);ct.Axios=ji;ct.CanceledError=jl;ct.CancelToken=D8;ct.isCancel=nO;ct.VERSION=cO;ct.toFormData=Kh;ct.AxiosError=ye;ct.Cancel=ct.CanceledError;ct.all=function(t){return Promise.all(t)};ct.spread=R8;ct.isAxiosError=L8;ct.mergeConfig=Ii;ct.AxiosHeaders=Sr;ct.formToJSON=e=>rO(W.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=lO.getAdapter;ct.HttpStatusCode=Ly;ct.default=ct;const{Axios:bfe,AxiosError:wfe,CanceledError:jfe,isCancel:kfe,CancelToken:Nfe,VERSION:Sfe,all:_fe,Cancel:Efe,isAxiosError:Cfe,spread:Pfe,toFormData:Ofe,AxiosHeaders:Afe,HttpStatusCode:Mfe,formToJSON:Tfe,getAdapter:Ife,mergeConfig:Dfe}=ct,$8="/api",at=ct.create({baseURL:$8,headers:{"Content-Type":"application/json"}}),z8=async e=>(await at.post("/pipeline/preview",e)).data,F8=async e=>(await at.get(`/pipeline/datasets/${e}/schema`)).data,B8=async(e,t)=>(await at.post(`/pipeline/save/${e}`,t)).data,U8=async e=>{const t=await at.get(`/pipeline/load/${e}`);return t.data?t.data:null},Mt={runPipeline:async e=>(await at.post("/pipeline/run",e)).data,getJob:async e=>(await at.get(`/pipeline/jobs/${e}`)).data,cancelJob:async e=>{await at.post(`/pipeline/jobs/${e}/cancel`)},getJobs:async(e=10,t=0,r)=>{const n={limit:e,skip:t};return r&&(n.job_type=r),(await at.get("/pipeline/jobs",{params:n})).data},getHyperparameters:async e=>(await at.get(`/pipeline/hyperparameters/${e}`)).data,getDefaultSearchSpace:async e=>(await at.get(`/pipeline/hyperparameters/${e}/defaults`)).data,getLatestTuningJob:async e=>(await at.get(`/pipeline/jobs/tuning/latest/${e}`)).data,getBestTuningJob:async e=>(await at.get(`/pipeline/jobs/tuning/best/${e}`)).data,getTuningHistory:async e=>(await at.get(`/pipeline/jobs/tuning/history/${e}`)).data},Ak=e=>typeof e=="object"&&e!==null,H8=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,s]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const[l,c]=await Promise.all([at.get("/pipeline/stats"),Mt.getJobs(5,0,"training")]);t(l.data),n(c.map(u=>({id:u.job_id,status:u.status,model_type:u.model_type||"Unknown",created_at:u.start_time||u.created_at||new Date().toISOString(),metrics:(()=>{const d=u.metrics??(Ak(u.result)?u.result.metrics:void 0);return Ak(d)?d:void 0})()})))}catch(l){console.error("Failed to fetch dashboard data:",l)}finally{s(!1)}})()},[]),o.jsxs("div",{className:"p-8 space-y-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),o.jsx(Bh,{to:"/canvas",className:"text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:"New Experiment"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(zg,{title:"Total Jobs",value:(e==null?void 0:e.total_jobs)??"-",loading:a,subtext:`${(e==null?void 0:e.training_jobs)??0} Training, ${(e==null?void 0:e.tuning_jobs)??0} Tuning`}),o.jsx(zg,{title:"Active Deployments",value:(e==null?void 0:e.active_deployments)??"-",loading:a,color:"text-green-600 dark:text-green-400"}),o.jsx(zg,{title:"Data Sources",value:(e==null?void 0:e.data_sources)??"-",loading:a})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-900 dark:text-slate-100",children:"Recent Activity"}),a?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Loading..."}):r.length===0?o.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"No recent jobs found."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:r.map(i=>o.jsxs("tr",{children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",title:i.id,children:[i.id.substring(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:i.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${i.status==="succeeded"?"bg-green-100 text-green-800":i.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:i.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(i.created_at).toLocaleString()})]},i.id))})]})})]})]})},zg=({title:e,value:t,loading:r,subtext:n,color:a="text-slate-900 dark:text-slate-100"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${a}`,children:r?"...":t}),n&&o.jsx("div",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:n})]}),Yl="/data/api",Bd="/api/ingestion",En={getAll:async()=>{const e=await fetch(`${Yl}/sources`);if(!e.ok)throw new Error("Failed to fetch datasets");return(await e.json()).sources||[]},getUsable:async()=>{const e=await fetch(`${Yl}/sources/usable`);if(!e.ok)throw new Error("Failed to fetch usable datasets");return(await e.json()).sources||[]},upload:async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Bd}/upload`,{method:"POST",body:t});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to upload file")}return await r.json()},createSource:async e=>{const t=await fetch(`${Bd}/database`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to create data source")}return await t.json()},getIngestionStatus:async e=>{const t=await fetch(`${Bd}/${encodeURIComponent(e)}/status`);if(!t.ok)throw new Error("Failed to fetch ingestion status");return await t.json()},cancelIngestion:async e=>{const t=await fetch(`${Bd}/${encodeURIComponent(e)}/cancel`,{method:"POST"});if(!t.ok){const r=await t.json();throw new Error(r.detail||"Failed to cancel ingestion")}},getById:async e=>{const t=await fetch(`${Yl}/sources/${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to fetch dataset");return(await t.json()).source},getSample:async(e,t=1)=>{const r=new URLSearchParams({limit:t.toString()}),n=await fetch(`${Yl}/sources/${encodeURIComponent(e)}/sample?${r.toString()}`);if(!n.ok)throw new Error("Failed to fetch dataset sample");return(await n.json()).data},getProfile:async e=>{const t=await fetch(`/api/pipeline/datasets/${encodeURIComponent(e)}/schema`);if(!t.ok)throw new Error("Failed to fetch dataset profile");const r=await t.json(),n=Object.values(r.columns).map(i=>{const l=i;return{name:l.name,dtype:l.dtype,missing_count:l.missing_count||0,missing_percentage:(l.missing_ratio||0)*100,distinct_count:l.unique_count||0,numeric_summary:l.column_type==="numeric"?{mean:l.mean_value,std:l.std_value,minimum:l.min_value,maximum:l.max_value}:void 0}}),a=r.row_count*r.column_count,s=n.reduce((i,l)=>i+l.missing_count,0);return{metrics:{row_count:r.row_count,column_count:r.column_count,missing_cells:s,missing_percentage:a>0?Number((s/a*100).toFixed(2)):0},columns:n}},delete:async e=>{if(!(await fetch(`${Yl}/sources/${encodeURIComponent(e)}`,{method:"DELETE"})).ok)throw new Error("Failed to delete dataset")}},fO=({onUploadComplete:e,onCancel:t})=>{const[r,n]=g.useState(!1),[a,s]=g.useState(!1),[i,l]=g.useState(null),[c,u]=g.useState(0),d=g.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?n(!0):p.type==="dragleave"&&n(!1)},[]),f=g.useCallback(p=>{p.preventDefault(),p.stopPropagation(),n(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&h(p.dataTransfer.files[0])},[]),m=p=>{p.preventDefault(),p.target.files&&p.target.files[0]&&h(p.target.files[0])},h=async p=>{s(!0),l(null),u(0);try{const x=await En.upload(p);e(x.job_id,p.name)}catch(x){console.error("Upload failed:",x),l(x.message||"Failed to upload file. Please try again.")}finally{s(!1)}};return o.jsxs("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-900 dark:border-slate-700 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full text-slate-500 dark:text-slate-400",children:o.jsx(sr,{size:16})}),o.jsxs("h3",{className:"font-medium mb-4 flex items-center gap-2 text-slate-900 dark:text-slate-100",children:[o.jsx(i6,{size:18,className:"text-blue-600 dark:text-blue-400"}),"Upload New Dataset"]}),o.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-300 dark:border-slate-700 hover:border-slate-400 dark:hover:border-slate-600"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:a?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:o.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Uploading... ",c,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(IF,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-3"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Drag and drop your file here, or"," ",o.jsxs("label",{className:"text-blue-600 dark:text-blue-400 hover:underline cursor-pointer font-medium",children:["browse",o.jsx("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.parquet,.json",onChange:m})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports CSV, Excel, Parquet, JSON"})]})}),i&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 text-sm rounded-md flex items-start gap-2",children:[o.jsx(An,{size:16,className:"mt-0.5 shrink-0"}),o.jsx("span",{children:i})]})]})},mO=(e,t=2)=>{if(!+e)return"0 Bytes";const r=1024,n=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(r));return`${parseFloat((e/Math.pow(r,s)).toFixed(n))} ${a[s]}`},V8=({dataset:e,isOpen:t,onClose:r})=>{const[n,a]=g.useState([]),[s,i]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState(null),[f,m]=g.useState("sample"),[h,p]=g.useState(100);g.useEffect(()=>{t&&e?x(100):(a([]),i(null),d(null),m("sample"),p(100))},[t,e]);const x=async k=>{if(e){c(!0),d(null);try{const[N,_]=await Promise.all([En.getSample(e.id,k),En.getProfile(e.id)]);a(N),i(_)}catch(N){console.error("Failed to fetch data:",N),d("Failed to load dataset preview.")}finally{c(!1)}}},v=()=>{const k=h+500;p(k),x(k)};if(!t||!e)return null;const y=n.length>0?Object.keys(n[0]):[],b=(s==null?void 0:s.metrics.row_count)??e.rows??0,w=(s==null?void 0:s.metrics.column_count)??e.columns??0,j=e.size_bytes??0;return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:o.jsx(Jn,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:e.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 dark:text-slate-400 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ob,{size:14})," ",e.format||"CSV"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(NF,{size:14})," ",b.toLocaleString()," rows"]}),o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(OF,{size:14})," ",w," columns"]}),o.jsx("span",{children:""}),o.jsx("span",{children:mO(j)})]})]})]}),o.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:o.jsx(sr,{size:20})})]}),o.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 px-6",children:[o.jsx("button",{onClick:()=>{m("sample")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="sample"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Data Sample"}),o.jsx("button",{onClick:()=>{m("stats")},className:`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${f==="stats"?"border-blue-600 text-blue-600 dark:text-blue-400 dark:border-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:"Statistics"})]}),o.jsx("div",{className:"flex-1 overflow-auto p-6",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("p",{children:"Loading preview data..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx("p",{children:u}),o.jsx("button",{onClick:()=>{x(h)},className:"mt-4 px-4 py-2 bg-white dark:bg-slate-800 border border-red-200 dark:border-red-800 rounded-md text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Retry"})]}):f==="sample"?n.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"No data available to preview."}):y.length===0?o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Data loaded but no columns found."}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10",children:o.jsx("tr",{children:y.map(k=>o.jsx("th",{className:"px-4 py-3 font-semibold whitespace-nowrap bg-slate-50 dark:bg-slate-800",children:k},k))})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n.map((k,N)=>o.jsx("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:y.map(_=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:String(k[_]??"")},`${N}-${_}`))},N))})]})})}),o.jsxs("div",{className:"flex justify-center items-center gap-4",children:[o.jsx("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Load More (+500 rows)"}),o.jsxs("span",{className:"text-xs text-slate-500",children:["Showing first ",n.length," rows"]})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Ud,{label:"Total Rows",value:s==null?void 0:s.metrics.row_count.toLocaleString()}),o.jsx(Ud,{label:"Total Columns",value:s==null?void 0:s.metrics.column_count}),o.jsx(Ud,{label:"Missing Cells",value:s==null?void 0:s.metrics.missing_cells.toLocaleString()}),o.jsx(Ud,{label:"Missing %",value:`${s==null?void 0:s.metrics.missing_percentage}%`})]}),o.jsx("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Column"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Type"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Missing"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Unique"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Min"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Max"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Mean"}),o.jsx("th",{className:"px-4 py-3 font-semibold",children:"Std Dev"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:s==null?void 0:s.columns.map(k=>{var N,_,S,E;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-slate-900 dark:text-slate-100",children:k.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-500",children:k.dtype}),o.jsxs("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:[k.missing_count," ",o.jsxs("span",{className:"text-xs text-slate-400",children:["(",k.missing_percentage,"%)"]})]}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300",children:k.distinct_count}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((N=k.numeric_summary)==null?void 0:N.minimum.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((_=k.numeric_summary)==null?void 0:_.maximum.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((S=k.numeric_summary)==null?void 0:S.mean.toFixed(2))??"-"}),o.jsx("td",{className:"px-4 py-3 text-slate-600 dark:text-slate-300 font-mono text-xs",children:((E=k.numeric_summary)==null?void 0:E.std.toFixed(2))??"-"})]},k.name)})})]})})]})}),o.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 flex justify-end rounded-b-xl",children:o.jsx("button",{onClick:r,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})},Ud=({label:e,value:t})=>o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:e}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-1",children:t??"-"})]}),W8=({isOpen:e,onClose:t,onSuccess:r})=>{const[n,a]=g.useState("database"),[s,i]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(""),[f,m]=g.useState(""),[h,p]=g.useState("GET"),[x,v]=g.useState(!1),[y,b]=g.useState(null);if(!e)return null;const w=async j=>{j.preventDefault(),v(!0),b(null);try{const k={};n==="database"?(k.connection_string=l,k.query=u):(k.url=f,k.method=h);const N={name:s,type:n,config:k,description:`Imported from ${n}`},_=await En.createSource(N);r(_.job_id),t()}catch(k){b(k.message||"Failed to create source")}finally{v(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-slate-100",children:"Add Data Source"}),o.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:o.jsx(sr,{size:20})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs("button",{onClick:()=>{a("database")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="database"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(Jn,{size:16})," Database"]}),o.jsxs("button",{onClick:()=>{a("api")},className:`flex-1 py-2 px-4 rounded-md flex items-center justify-center gap-2 border ${n==="api"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/20 dark:border-blue-400 dark:text-blue-400":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400"}`,children:[o.jsx(FF,{size:16})," API"]})]}),o.jsxs("form",{onSubmit:j=>{w(j)},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name"}),o.jsx("input",{type:"text",required:!0,value:s,onChange:j=>{i(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"My Dataset"})]}),n==="database"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Connection String"}),o.jsx("input",{type:"text",required:!0,value:l,onChange:j=>{c(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"postgresql://user:pass@localhost:5432/db"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"SQL Query"}),o.jsx("textarea",{required:!0,value:u,onChange:j=>{d(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 h-24",placeholder:"SELECT * FROM users"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"API URL"}),o.jsx("input",{type:"url",required:!0,value:f,onChange:j=>{m(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"https://api.example.com/data"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Method"}),o.jsxs("select",{value:h,onChange:j=>{p(j.target.value)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"GET",children:"GET"}),o.jsx("option",{value:"POST",children:"POST"})]})]})]}),y&&o.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-md",children:y}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md flex items-center gap-2 disabled:opacity-50",children:x?"Creating...":o.jsxs(o.Fragment,{children:[o.jsx(Gc,{size:16})," Create Source"]})})]})]})]})]})})},K8=({isOpen:e,onClose:t,datasets:r,onRefresh:n})=>{const[a,s]=g.useState(null);if(!e)return null;const i=async c=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){s(c);try{await En.cancelIngestion(c),n&&n()}catch(u){console.error("Failed to cancel ingestion:",u),alert("Failed to cancel ingestion")}finally{s(null)}}},l=r.map(c=>{var u,d,f,m,h,p;return{id:c.id,name:c.name,status:((d=(u=c.source_metadata)==null?void 0:u.ingestion_status)==null?void 0:d.status)||"completed",created_at:c.created_at,message:((m=(f=c.source_metadata)==null?void 0:f.ingestion_status)==null?void 0:m.error)||(((p=(h=c.source_metadata)==null?void 0:h.ingestion_status)==null?void 0:p.status)==="cancelled"?"Ingestion cancelled":"Ingestion completed successfully")}}).sort((c,u)=>new Date(u.created_at).getTime()-new Date(c.created_at).getTime());return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-3xl max-h-[80vh] flex flex-col border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Data Ingestion Jobs"}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300",children:o.jsx(sr,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.length===0?o.jsx("div",{className:"text-center text-slate-500 py-8",children:"No ingestion jobs found."}):o.jsx("div",{className:"space-y-4",children:l.map(c=>o.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[o.jsx("div",{className:"mt-1",children:c.status==="processing"||c.status==="pending"?o.jsx(Gn,{className:"text-blue-500 animate-spin",size:20}):c.status==="failed"?o.jsx(sb,{className:"text-red-500",size:20}):c.status==="cancelled"?o.jsx(fk,{className:"text-slate-500",size:20}):o.jsx(Qn,{className:"text-green-500",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:c.name}),o.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[o.jsx(ib,{size:12}),new Date(c.created_at).toLocaleString()]})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Status: ",o.jsx("span",{className:"capitalize",children:c.status})]}),(c.status==="failed"||c.status==="cancelled")&&o.jsx("p",{className:`text-sm mt-1 p-2 rounded ${c.status==="failed"?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10":"text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-800"}`,children:c.message})]}),(c.status==="processing"||c.status==="pending")&&o.jsx("button",{onClick:()=>{i(c.id)},disabled:a===c.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:a===c.id?o.jsx(Gn,{className:"animate-spin",size:20}):o.jsx(fk,{size:20})})]},c.id))})})]})})},q8=()=>{const e=Jv(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),[f,m]=g.useState(null),[h,p]=g.useState(null),[x,v]=g.useState(null),[y,b]=g.useState("completed"),w=t.filter(C=>{var D,M;const A=((M=(D=C.source_metadata)==null?void 0:D.ingestion_status)==null?void 0:M.status)||"completed";return y==="all"?!0:y==="active"?["processing","pending"].includes(A):A===y}),j=async()=>{t.length===0&&a(!0);try{const C=await En.getAll();r(C)}catch(C){console.error("Failed to fetch datasets:",C)}finally{a(!1)}};g.useEffect(()=>{j()},[]),g.useEffect(()=>{const C=setInterval(()=>{t.some(D=>{var M,$,I,R;return(($=(M=D.source_metadata)==null?void 0:M.ingestion_status)==null?void 0:$.status)==="pending"||((R=(I=D.source_metadata)==null?void 0:I.ingestion_status)==null?void 0:R.status)==="processing"})&&j()},5e3);return()=>{clearInterval(C)}},[t]);const k=async C=>{if(window.confirm("Are you sure you want to delete this dataset?")){m(C);try{await En.delete(C),r(t.filter(A=>A.id!==C))}catch(A){console.error("Failed to delete dataset:",A),alert("Failed to delete dataset")}finally{m(null)}}},N=async C=>{if(window.confirm("Are you sure you want to cancel this ingestion job?")){p(C);try{await En.cancelIngestion(C),j()}catch(A){console.error("Failed to cancel ingestion:",A),alert("Failed to cancel ingestion")}finally{p(null)}}},_=C=>{e(`/canvas?source_id=${C}`)},S=()=>{i(!1),j()},E=()=>{c(!1),j()},O=C=>{var D,M;const A=(M=(D=C.source_metadata)==null?void 0:D.ingestion_status)==null?void 0:M.status;return!A||A==="completed"?null:A==="failed"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",children:"Failed"}):A==="cancelled"?o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-400",children:"Cancelled"}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:[o.jsx(Gn,{size:12,className:"animate-spin"}),A==="processing"?"Processing...":"Pending..."]})};return o.jsxs("div",{className:"p-8 space-y-6 max-w-7xl mx-auto",children:[o.jsx(V8,{dataset:x,isOpen:!!x,onClose:()=>{v(null)}}),o.jsx(W8,{isOpen:l,onClose:()=>{c(!1)},onSuccess:E}),o.jsx(K8,{isOpen:u,onClose:()=>{d(!1)},datasets:t,onRefresh:j}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Data Sources"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your uploaded datasets and use them in experiments."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>{d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md shadow-sm hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[o.jsx(My,{size:18}),"Ingestion Jobs"]}),o.jsxs("button",{onClick:()=>{c(!0)},className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-300 dark:border-slate-600 px-4 py-2 rounded-md shadow-sm transition-all hover:bg-slate-50 dark:hover:bg-slate-700",children:[o.jsx(Jn,{size:18}),"Add Source"]}),o.jsxs("button",{onClick:()=>{i(!s)},className:"flex items-center gap-2 text-white px-4 py-2 rounded-md shadow-sm transition-all hover:opacity-90",style:{background:"var(--main-gradient)"},children:[o.jsx(Yi,{size:18}),s?"Cancel Upload":"Upload File"]})]})]}),s&&o.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:o.jsx(fO,{onUploadComplete:S,onCancel:()=>{i(!1)}})}),o.jsx("div",{className:"flex items-center gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:["all","active","completed","failed","cancelled"].map(C=>o.jsx("button",{onClick:()=>{b(C)},className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${y===C?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-white dark:bg-slate-800 text-slate-600 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Dataset Name"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Format"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Size"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Created"}),o.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700 bg-white dark:bg-slate-900",children:n&&t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"Loading datasets..."]})})}):w.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:t.length===0?o.jsxs(o.Fragment,{children:[o.jsx(Jn,{className:"w-12 h-12 mx-auto text-slate-300 dark:text-slate-600 mb-3"}),o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets found"}),o.jsx("p",{className:"text-sm",children:"Upload a dataset to get started with your analysis."})]}):o.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-slate-100",children:"No datasets match the selected filter"})})}):w.map(C=>{var A,D,M,$,I,R,T;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-blue-600 dark:text-blue-400",children:o.jsx(ob,{size:18})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[C.name,O(C)]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 font-mono mt-0.5",title:"Dataset ID",children:C.source_id||C.id})]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 uppercase border border-slate-200 dark:border-slate-700",children:C.format||"CSV"})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:mO(C.size_bytes||0)}),o.jsxs("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:[((A=C.rows)==null?void 0:A.toLocaleString())||"-"," rows  ",C.columns||"-"," cols"]})]})}),o.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(My,{size:14,className:"text-slate-400 dark:text-slate-500"}),new Date(C.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[((M=(D=C.source_metadata)==null?void 0:D.ingestion_status)==null?void 0:M.status)==="completed"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{v(C)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Preview Dataset",children:o.jsx(TF,{size:16})}),o.jsxs("button",{onClick:()=>{_(C.id)},className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors",title:"Use in Canvas",children:[o.jsx(qi,{size:16}),"Canvas"]})]}),(((I=($=C.source_metadata)==null?void 0:$.ingestion_status)==null?void 0:I.status)==="pending"||((T=(R=C.source_metadata)==null?void 0:R.ingestion_status)==null?void 0:T.status)==="processing")&&o.jsx("button",{onClick:()=>{N(C.id)},disabled:h===C.id,className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-md transition-colors disabled:opacity-50",title:"Cancel Ingestion",children:h===C.id?o.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):o.jsx(sb,{size:16})}),o.jsx("button",{onClick:()=>{k(C.id)},disabled:f===C.id,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50",title:"Delete Dataset",children:f===C.id?o.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):o.jsx(Bs,{size:16})})]})})]},C.id)})})]})})})]})},ti=class ti{constructor(){Rl(this,"nodes",new Map)}static getInstance(){return ti.instance||(ti.instance=new ti),ti.instance}register(t){this.nodes.has(t.type)&&console.warn(`Node type "${t.type}" is already registered. Overwriting.`),this.nodes.set(t.type,t)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values())}getByCategory(){const t={};return this.nodes.forEach(r=>{t[r.category]||(t[r.category]=[]),t[r.category].push(r)}),t}};Rl(ti,"instance");let $y=ti;const _e=$y.getInstance(),Y8={},Mk=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(p=>p(t,h))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(Y8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,a,c);return c},hO=e=>e?Mk(e):Mk;var pO={exports:{}},gO={},yO={exports:{}},xO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=g;function G8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X8=typeof Object.is=="function"?Object.is:G8,Q8=Xo.useState,J8=Xo.useEffect,Z8=Xo.useLayoutEffect,eB=Xo.useDebugValue;function tB(e,t){var r=t(),n=Q8({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return Z8(function(){a.value=r,a.getSnapshot=t,Fg(a)&&s({inst:a})},[e,r,t]),J8(function(){return Fg(a)&&s({inst:a}),e(function(){Fg(a)&&s({inst:a})})},[e]),eB(r),r}function Fg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!X8(e,r)}catch{return!0}}function rB(e,t){return t()}var nB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rB:tB;xO.useSyncExternalStore=Xo.useSyncExternalStore!==void 0?Xo.useSyncExternalStore:nB;yO.exports=xO;var aB=yO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=g,sB=aB;function iB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oB=typeof Object.is=="function"?Object.is:iB,lB=sB.useSyncExternalStore,cB=Yh.useRef,uB=Yh.useEffect,dB=Yh.useMemo,fB=Yh.useDebugValue;gO.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=cB(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=dB(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var p=i.value;if(a(p,h))return f=p}return f=h}if(p=f,oB(d,h))return p;var x=n(h);return a!==void 0&&a(p,x)?(d=h,p):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=lB(e,s[0],s[1]);return uB(function(){i.hasValue=!0,i.value=l},[l]),fB(l),l};pO.exports=gO;var vO=pO.exports;const bO=aa(vO),wO={},{useDebugValue:mB}=Mr,{useSyncExternalStoreWithSelector:hB}=bO;let Tk=!1;const pB=e=>e;function gB(e,t=pB,r){(wO?"production":void 0)!=="production"&&r&&!Tk&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Tk=!0);const n=hB(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return mB(n),n}const Ik=e=>{(wO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?hO(e):e,r=(n,a)=>gB(t,n,a);return Object.assign(r,t),r},hb=e=>e?Ik(e):Ik;function mt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=mt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var yB={value:()=>{}};function Gh(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new If(r)}function If(e){this._=e}function xB(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}If.prototype=Gh.prototype={constructor:If,on:function(e,t){var r=this._,n=xB(e+"",r),a,s=-1,i=n.length;if(arguments.length<2){for(;++s<i;)if((a=(e=n[s]).type)&&(a=vB(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(a=(e=n[s]).type)r[a]=Dk(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Dk(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new If(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,s;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,r)}};function vB(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Dk(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=yB,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var zy="http://www.w3.org/1999/xhtml";const Rk={svg:"http://www.w3.org/2000/svg",xhtml:zy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xh(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Rk.hasOwnProperty(t)?{space:Rk[t],local:e}:e}function bB(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===zy&&t.documentElement.namespaceURI===zy?t.createElement(e):t.createElementNS(r,e)}}function wB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jO(e){var t=Xh(e);return(t.local?wB:bB)(t)}function jB(){}function pb(e){return e==null?jB:function(){return this.querySelector(e)}}function kB(e){typeof e!="function"&&(e=pb(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=new Array(i),c,u,d=0;d<i;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new $r(n,this._parents)}function NB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function SB(){return[]}function kO(e){return e==null?SB:function(){return this.querySelectorAll(e)}}function _B(e){return function(){return NB(e.apply(this,arguments))}}function EB(e){typeof e=="function"?e=_B(e):e=kO(e);for(var t=this._groups,r=t.length,n=[],a=[],s=0;s<r;++s)for(var i=t[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&(n.push(e.call(c,c.__data__,u,i)),a.push(c));return new $r(n,a)}function NO(e){return function(){return this.matches(e)}}function SO(e){return function(t){return t.matches(e)}}var CB=Array.prototype.find;function PB(e){return function(){return CB.call(this.children,e)}}function OB(){return this.firstElementChild}function AB(e){return this.select(e==null?OB:PB(typeof e=="function"?e:SO(e)))}var MB=Array.prototype.filter;function TB(){return Array.from(this.children)}function IB(e){return function(){return MB.call(this.children,e)}}function DB(e){return this.selectAll(e==null?TB:IB(typeof e=="function"?e:SO(e)))}function RB(e){typeof e!="function"&&(e=NO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new $r(n,this._parents)}function _O(e){return new Array(e.length)}function LB(){return new $r(this._enter||this._groups.map(_O),this._parents)}function vm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}vm.prototype={constructor:vm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function $B(e){return function(){return e}}function zB(e,t,r,n,a,s){for(var i=0,l,c=t.length,u=s.length;i<u;++i)(l=t[i])?(l.__data__=s[i],n[i]=l):r[i]=new vm(e,s[i]);for(;i<c;++i)(l=t[i])&&(a[i]=l)}function FB(e,t,r,n,a,s,i){var l,c,u=new Map,d=t.length,f=s.length,m=new Array(d),h;for(l=0;l<d;++l)(c=t[l])&&(m[l]=h=i.call(c,c.__data__,l,t)+"",u.has(h)?a[l]=c:u.set(h,c));for(l=0;l<f;++l)h=i.call(e,s[l],l,s)+"",(c=u.get(h))?(n[l]=c,c.__data__=s[l],u.delete(h)):r[l]=new vm(e,s[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(m[l])===c&&(a[l]=c)}function BB(e){return e.__data__}function UB(e,t){if(!arguments.length)return Array.from(this,BB);var r=t?FB:zB,n=this._parents,a=this._groups;typeof e!="function"&&(e=$B(e));for(var s=a.length,i=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var d=n[u],f=a[u],m=f.length,h=HB(e.call(d,d&&d.__data__,u,n)),p=h.length,x=l[u]=new Array(p),v=i[u]=new Array(p),y=c[u]=new Array(m);r(d,f,x,v,y,h,t);for(var b=0,w=0,j,k;b<p;++b)if(j=x[b]){for(b>=w&&(w=b+1);!(k=v[w])&&++w<p;);j._next=k||null}}return i=new $r(i,n),i._enter=l,i._exit=c,i}function HB(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VB(){return new $r(this._exit||this._groups.map(_O),this._parents)}function WB(e,t,r){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?s.remove():r(s),n&&a?n.merge(a).order():a}function KB(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,s=n.length,i=Math.min(a,s),l=new Array(a),c=0;c<i;++c)for(var u=r[c],d=n[c],f=u.length,m=l[c]=new Array(f),h,p=0;p<f;++p)(h=u[p]||d[p])&&(m[p]=h);for(;c<a;++c)l[c]=r[c];return new $r(l,this._parents)}function qB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,s=n[a],i;--a>=0;)(i=n[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function YB(e){e||(e=GB);function t(f,m){return f&&m?e(f.__data__,m.__data__):!f-!m}for(var r=this._groups,n=r.length,a=new Array(n),s=0;s<n;++s){for(var i=r[s],l=i.length,c=a[s]=new Array(l),u,d=0;d<l;++d)(u=i[d])&&(c[d]=u);c.sort(t)}return new $r(a,this._parents).order()}function GB(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function XB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function QB(){return Array.from(this)}function JB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var i=n[a];if(i)return i}return null}function ZB(){let e=0;for(const t of this)++e;return e}function e7(){return!this.node()}function t7(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],s=0,i=a.length,l;s<i;++s)(l=a[s])&&e.call(l,l.__data__,s,a);return this}function r7(e){return function(){this.removeAttribute(e)}}function n7(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a7(e,t){return function(){this.setAttribute(e,t)}}function s7(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function i7(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function o7(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function l7(e,t){var r=Xh(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?n7:r7:typeof t=="function"?r.local?o7:i7:r.local?s7:a7)(r,t))}function EO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function c7(e){return function(){this.style.removeProperty(e)}}function u7(e,t,r){return function(){this.style.setProperty(e,t,r)}}function d7(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function f7(e,t,r){return arguments.length>1?this.each((t==null?c7:typeof t=="function"?d7:u7)(e,t,r??"")):Qo(this.node(),e)}function Qo(e,t){return e.style.getPropertyValue(t)||EO(e).getComputedStyle(e,null).getPropertyValue(t)}function m7(e){return function(){delete this[e]}}function h7(e,t){return function(){this[e]=t}}function p7(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function g7(e,t){return arguments.length>1?this.each((t==null?m7:typeof t=="function"?p7:h7)(e,t)):this.node()[e]}function CO(e){return e.trim().split(/^|\s+/)}function gb(e){return e.classList||new PO(e)}function PO(e){this._node=e,this._names=CO(e.getAttribute("class")||"")}PO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function OO(e,t){for(var r=gb(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function AO(e,t){for(var r=gb(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function y7(e){return function(){OO(this,e)}}function x7(e){return function(){AO(this,e)}}function v7(e,t){return function(){(t.apply(this,arguments)?OO:AO)(this,e)}}function b7(e,t){var r=CO(e+"");if(arguments.length<2){for(var n=gb(this.node()),a=-1,s=r.length;++a<s;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?v7:t?y7:x7)(r,t))}function w7(){this.textContent=""}function j7(e){return function(){this.textContent=e}}function k7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function N7(e){return arguments.length?this.each(e==null?w7:(typeof e=="function"?k7:j7)(e)):this.node().textContent}function S7(){this.innerHTML=""}function _7(e){return function(){this.innerHTML=e}}function E7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function C7(e){return arguments.length?this.each(e==null?S7:(typeof e=="function"?E7:_7)(e)):this.node().innerHTML}function P7(){this.nextSibling&&this.parentNode.appendChild(this)}function O7(){return this.each(P7)}function A7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M7(){return this.each(A7)}function T7(e){var t=typeof e=="function"?e:jO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function I7(){return null}function D7(e,t){var r=typeof e=="function"?e:jO(e),n=t==null?I7:typeof t=="function"?t:pb(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function R7(){var e=this.parentNode;e&&e.removeChild(this)}function L7(){return this.each(R7)}function $7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function z7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function F7(e){return this.select(e?z7:$7)}function B7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function U7(e){return function(t){e.call(this,t,this.__data__)}}function H7(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function V7(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,s;r<a;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function W7(e,t,r){return function(){var n=this.__on,a,s=U7(t);if(n){for(var i=0,l=n.length;i<l;++i)if((a=n[i]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=r),a.value=t;return}}this.addEventListener(e.type,s,r),a={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(a):this.__on=[a]}}function K7(e,t,r){var n=H7(e+""),a,s=n.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(a=0,d=l[c];a<s;++a)if((i=n[a]).type===d.type&&i.name===d.name)return d.value}return}for(l=t?W7:V7,a=0;a<s;++a)this.each(l(n[a],t,r));return this}function MO(e,t,r){var n=EO(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function q7(e,t){return function(){return MO(this,e,t)}}function Y7(e,t){return function(){return MO(this,e,t.apply(this,arguments))}}function G7(e,t){return this.each((typeof t=="function"?Y7:q7)(e,t))}function*X7(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,s=n.length,i;a<s;++a)(i=n[a])&&(yield i)}var TO=[null];function $r(e,t){this._groups=e,this._parents=t}function $u(){return new $r([[document.documentElement]],TO)}function Q7(){return this}$r.prototype=$u.prototype={constructor:$r,select:kB,selectAll:EB,selectChild:AB,selectChildren:DB,filter:RB,data:UB,enter:LB,exit:VB,join:WB,merge:KB,selection:Q7,order:qB,sort:YB,call:XB,nodes:QB,node:JB,size:ZB,empty:e7,each:t7,attr:l7,style:f7,property:g7,classed:b7,text:N7,html:C7,raise:O7,lower:M7,append:T7,insert:D7,remove:L7,clone:F7,datum:B7,on:K7,dispatch:G7,[Symbol.iterator]:X7};function Or(e){return typeof e=="string"?new $r([[document.querySelector(e)]],[document.documentElement]):new $r([[e]],TO)}function J7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function yn(e,t){if(e=J7(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Z7={passive:!1},Xc={capture:!0,passive:!1};function Bg(e){e.stopImmediatePropagation()}function Eo(e){e.preventDefault(),e.stopImmediatePropagation()}function IO(e){var t=e.document.documentElement,r=Or(e).on("dragstart.drag",Eo,Xc);"onselectstart"in t?r.on("selectstart.drag",Eo,Xc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function DO(e,t){var r=e.document.documentElement,n=Or(e).on("dragstart.drag",null);t&&(n.on("click.drag",Eo,Xc),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Hd=e=>()=>e;function Fy(e,{sourceEvent:t,subject:r,target:n,identifier:a,active:s,x:i,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}Fy.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function e9(e){return!e.ctrlKey&&!e.button}function t9(){return this.parentNode}function r9(e,t){return t??{x:e.x,y:e.y}}function n9(){return navigator.maxTouchPoints||"ontouchstart"in this}function RO(){var e=e9,t=t9,r=r9,n=n9,a={},s=Gh("start","drag","end"),i=0,l,c,u,d,f=0;function m(j){j.on("mousedown.drag",h).filter(n).on("touchstart.drag",v).on("touchmove.drag",y,Z7).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(j,k){if(!(d||!e.call(this,j,k))){var N=w(this,t.call(this,j,k),j,k,"mouse");N&&(Or(j.view).on("mousemove.drag",p,Xc).on("mouseup.drag",x,Xc),IO(j.view),Bg(j),u=!1,l=j.clientX,c=j.clientY,N("start",j))}}function p(j){if(Eo(j),!u){var k=j.clientX-l,N=j.clientY-c;u=k*k+N*N>f}a.mouse("drag",j)}function x(j){Or(j.view).on("mousemove.drag mouseup.drag",null),DO(j.view,u),Eo(j),a.mouse("end",j)}function v(j,k){if(e.call(this,j,k)){var N=j.changedTouches,_=t.call(this,j,k),S=N.length,E,O;for(E=0;E<S;++E)(O=w(this,_,j,k,N[E].identifier,N[E]))&&(Bg(j),O("start",j,N[E]))}}function y(j){var k=j.changedTouches,N=k.length,_,S;for(_=0;_<N;++_)(S=a[k[_].identifier])&&(Eo(j),S("drag",j,k[_]))}function b(j){var k=j.changedTouches,N=k.length,_,S;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),_=0;_<N;++_)(S=a[k[_].identifier])&&(Bg(j),S("end",j,k[_]))}function w(j,k,N,_,S,E){var O=s.copy(),C=yn(E||N,k),A,D,M;if((M=r.call(j,new Fy("beforestart",{sourceEvent:N,target:m,identifier:S,active:i,x:C[0],y:C[1],dx:0,dy:0,dispatch:O}),_))!=null)return A=M.x-C[0]||0,D=M.y-C[1]||0,function $(I,R,T){var P=C,L;switch(I){case"start":a[S]=$,L=i++;break;case"end":delete a[S],--i;case"drag":C=yn(T||R,k),L=i;break}O.call(I,j,new Fy(I,{sourceEvent:R,subject:M,target:m,identifier:S,active:L,x:C[0]+A,y:C[1]+D,dx:C[0]-P[0],dy:C[1]-P[1],dispatch:O}),_)}}return m.filter=function(j){return arguments.length?(e=typeof j=="function"?j:Hd(!!j),m):e},m.container=function(j){return arguments.length?(t=typeof j=="function"?j:Hd(j),m):t},m.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Hd(j),m):r},m.touchable=function(j){return arguments.length?(n=typeof j=="function"?j:Hd(!!j),m):n},m.on=function(){var j=s.on.apply(s,arguments);return j===s?m:j},m.clickDistance=function(j){return arguments.length?(f=(j=+j)*j,m):Math.sqrt(f)},m}function yb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function LO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zu(){}var Qc=.7,bm=1/Qc,Co="\\s*([+-]?\\d+)\\s*",Jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a9=/^#([0-9a-f]{3,8})$/,s9=new RegExp(`^rgb\\(${Co},${Co},${Co}\\)$`),i9=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),o9=new RegExp(`^rgba\\(${Co},${Co},${Co},${Jc}\\)$`),l9=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${Jc}\\)$`),c9=new RegExp(`^hsl\\(${Jc},${Xn},${Xn}\\)$`),u9=new RegExp(`^hsla\\(${Jc},${Xn},${Xn},${Jc}\\)$`),Lk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yb(zu,Di,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$k,formatHex:$k,formatHex8:d9,formatHsl:f9,formatRgb:zk,toString:zk});function $k(){return this.rgb().formatHex()}function d9(){return this.rgb().formatHex8()}function f9(){return $O(this).formatHsl()}function zk(){return this.rgb().formatRgb()}function Di(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=a9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Fk(t):r===3?new xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s9.exec(e))?new xr(t[1],t[2],t[3],1):(t=i9.exec(e))?new xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=o9.exec(e))?Vd(t[1],t[2],t[3],t[4]):(t=l9.exec(e))?Vd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=c9.exec(e))?Hk(t[1],t[2]/100,t[3]/100,1):(t=u9.exec(e))?Hk(t[1],t[2]/100,t[3]/100,t[4]):Lk.hasOwnProperty(e)?Fk(Lk[e]):e==="transparent"?new xr(NaN,NaN,NaN,0):null}function Fk(e){return new xr(e>>16&255,e>>8&255,e&255,1)}function Vd(e,t,r,n){return n<=0&&(e=t=r=NaN),new xr(e,t,r,n)}function m9(e){return e instanceof zu||(e=Di(e)),e?(e=e.rgb(),new xr(e.r,e.g,e.b,e.opacity)):new xr}function By(e,t,r,n){return arguments.length===1?m9(e):new xr(e,t,r,n??1)}function xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}yb(xr,By,LO(zu,{brighter(e){return e=e==null?bm:Math.pow(bm,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xr(ki(this.r),ki(this.g),ki(this.b),wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bk,formatHex:Bk,formatHex8:h9,formatRgb:Uk,toString:Uk}));function Bk(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}`}function h9(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}${oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uk(){const e=wm(this.opacity);return`${e===1?"rgb(":"rgba("}${ki(this.r)}, ${ki(this.g)}, ${ki(this.b)}${e===1?")":`, ${e})`}`}function wm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oi(e){return e=ki(e),(e<16?"0":"")+e.toString(16)}function Hk(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bn(e,t,r,n)}function $O(e){if(e instanceof bn)return new bn(e.h,e.s,e.l,e.opacity);if(e instanceof zu||(e=Di(e)),!e)return new bn;if(e instanceof bn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new bn(i,l,c,e.opacity)}function p9(e,t,r,n){return arguments.length===1?$O(e):new bn(e,t,r,n??1)}function bn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}yb(bn,p9,LO(zu,{brighter(e){return e=e==null?bm:Math.pow(bm,e),new bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qc:Math.pow(Qc,e),new bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xr(Ug(e>=240?e-240:e+120,a,n),Ug(e,a,n),Ug(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new bn(Vk(this.h),Wd(this.s),Wd(this.l),wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wm(this.opacity);return`${e===1?"hsl(":"hsla("}${Vk(this.h)}, ${Wd(this.s)*100}%, ${Wd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vk(e){return e=(e||0)%360,e<0?e+360:e}function Wd(e){return Math.max(0,Math.min(1,e||0))}function Ug(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const xb=e=>()=>e;function g9(e,t){return function(r){return e+r*t}}function y9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function x9(e){return(e=+e)==1?zO:function(t,r){return r-t?y9(t,r,e):xb(isNaN(t)?r:t)}}function zO(e,t){var r=t-e;return r?g9(e,r):xb(isNaN(e)?t:e)}const jm=function e(t){var r=x9(t);function n(a,s){var i=r((a=By(a)).r,(s=By(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=zO(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function v9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function b9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=_a(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function j9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function k9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=_a(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Uy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hg=new RegExp(Uy.source,"g");function N9(e){return function(){return e}}function S9(e){return function(t){return e(t)+""}}function FO(e,t){var r=Uy.lastIndex=Hg.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Uy.exec(e))&&(a=Hg.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:vn(n,a)})),r=Hg.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?S9(c[0].x):N9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function _a(e,t){var r=typeof t,n;return t==null||r==="boolean"?xb(t):(r==="number"?vn:r==="string"?(n=Di(t))?(t=n,jm):FO:t instanceof Di?jm:t instanceof Date?j9:b9(t)?v9:Array.isArray(t)?w9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?k9:vn)(e,t)}function vb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Wk=180/Math.PI,Hy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function BO(e,t,r,n,a,s){var i,l,c;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*Wk,skewX:Math.atan(c)*Wk,scaleX:i,scaleY:l}}var Kd;function _9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Hy:BO(t.a,t.b,t.c,t.d,t.e,t.f)}function E9(e){return e==null||(Kd||(Kd=document.createElementNS("http://www.w3.org/2000/svg","g")),Kd.setAttribute("transform",e),!(e=Kd.transform.baseVal.consolidate()))?Hy:(e=e.matrix,BO(e.a,e.b,e.c,e.d,e.e,e.f))}function UO(e,t,r,n){function a(u){return u.length?u.pop()+" ":""}function s(u,d,f,m,h,p){if(u!==f||d!==m){var x=h.push("translate(",null,t,null,r);p.push({i:x-4,x:vn(u,f)},{i:x-2,x:vn(d,m)})}else(f||m)&&h.push("translate("+f+t+m+r)}function i(u,d,f,m){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),m.push({i:f.push(a(f)+"rotate(",null,n)-2,x:vn(u,d)})):d&&f.push(a(f)+"rotate("+d+n)}function l(u,d,f,m){u!==d?m.push({i:f.push(a(f)+"skewX(",null,n)-2,x:vn(u,d)}):d&&f.push(a(f)+"skewX("+d+n)}function c(u,d,f,m,h,p){if(u!==f||d!==m){var x=h.push(a(h)+"scale(",null,",",null,")");p.push({i:x-4,x:vn(u,f)},{i:x-2,x:vn(d,m)})}else(f!==1||m!==1)&&h.push(a(h)+"scale("+f+","+m+")")}return function(u,d){var f=[],m=[];return u=e(u),d=e(d),s(u.translateX,u.translateY,d.translateX,d.translateY,f,m),i(u.rotate,d.rotate,f,m),l(u.skewX,d.skewX,f,m),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,m),u=d=null,function(h){for(var p=-1,x=m.length,v;++p<x;)f[(v=m[p]).i]=v.x(h);return f.join("")}}}var C9=UO(_9,"px, ","px)","deg)"),P9=UO(E9,", ",")",")"),O9=1e-12;function Kk(e){return((e=Math.exp(e))+1/e)/2}function A9(e){return((e=Math.exp(e))-1/e)/2}function M9(e){return((e=Math.exp(2*e))-1)/(e+1)}const Df=function e(t,r,n){function a(s,i){var l=s[0],c=s[1],u=s[2],d=i[0],f=i[1],m=i[2],h=d-l,p=f-c,x=h*h+p*p,v,y;if(x<O9)y=Math.log(m/u)/t,v=function(_){return[l+_*h,c+_*p,u*Math.exp(t*_*y)]};else{var b=Math.sqrt(x),w=(m*m-u*u+n*x)/(2*u*r*b),j=(m*m-u*u-n*x)/(2*m*r*b),k=Math.log(Math.sqrt(w*w+1)-w),N=Math.log(Math.sqrt(j*j+1)-j);y=(N-k)/t,v=function(_){var S=_*y,E=Kk(k),O=u/(r*b)*(E*M9(t*S+k)-A9(k));return[l+O*h,c+O*p,u*E/Kk(t*S+k)]}}return v.duration=y*1e3*t/Math.SQRT2,v}return a.rho=function(s){var i=Math.max(.001,+s),l=i*i,c=l*l;return e(i,l,c)},a}(Math.SQRT2,2,4);function T9(e,t){t===void 0&&(t=e,e=_a);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}var Jo=0,uc=0,Gl=0,HO=1e3,km,dc,Nm=0,Ri=0,Qh=0,Zc=typeof performance=="object"&&performance.now?performance:Date,VO=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function bb(){return Ri||(VO(I9),Ri=Zc.now()+Qh)}function I9(){Ri=0}function Sm(){this._call=this._time=this._next=null}Sm.prototype=WO.prototype={constructor:Sm,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?bb():+r)+(t==null?0:+t),!this._next&&dc!==this&&(dc?dc._next=this:km=this,dc=this),this._call=e,this._time=r,Vy()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vy())}};function WO(e,t,r){var n=new Sm;return n.restart(e,t,r),n}function D9(){bb(),++Jo;for(var e=km,t;e;)(t=Ri-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Jo}function qk(){Ri=(Nm=Zc.now())+Qh,Jo=uc=0;try{D9()}finally{Jo=0,L9(),Ri=0}}function R9(){var e=Zc.now(),t=e-Nm;t>HO&&(Qh-=t,Nm=e)}function L9(){for(var e,t=km,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:km=r);dc=e,Vy(n)}function Vy(e){if(!Jo){uc&&(uc=clearTimeout(uc));var t=e-Ri;t>24?(e<1/0&&(uc=setTimeout(qk,e-Zc.now()-Qh)),Gl&&(Gl=clearInterval(Gl))):(Gl||(Nm=Zc.now(),Gl=setInterval(R9,HO)),Jo=1,VO(qk))}}function Yk(e,t,r){var n=new Sm;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var $9=Gh("start","end","cancel","interrupt"),z9=[],KO=0,Gk=1,Wy=2,Rf=3,Xk=4,Ky=5,Lf=6;function Jh(e,t,r,n,a,s){var i=e.__transition;if(!i)e.__transition={};else if(r in i)return;F9(e,r,{name:t,index:n,group:a,on:$9,tween:z9,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:KO})}function wb(e,t){var r=Rn(e,t);if(r.state>KO)throw new Error("too late; already scheduled");return r}function ia(e,t){var r=Rn(e,t);if(r.state>Rf)throw new Error("too late; already running");return r}function Rn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function F9(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=WO(s,0,r.time);function s(u){r.state=Gk,r.timer.restart(i,r.delay,r.time),r.delay<=u&&i(u-r.delay)}function i(u){var d,f,m,h;if(r.state!==Gk)return c();for(d in n)if(h=n[d],h.name===r.name){if(h.state===Rf)return Yk(i);h.state===Xk?(h.state=Lf,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[d]):+d<t&&(h.state=Lf,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[d])}if(Yk(function(){r.state===Rf&&(r.state=Xk,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=Wy,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Wy){for(r.state=Rf,a=new Array(m=r.tween.length),d=0,f=-1;d<m;++d)(h=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=h);a.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=Ky,1),f=-1,m=a.length;++f<m;)a[f].call(e,d);r.state===Ky&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Lf,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function $f(e,t){var r=e.__transition,n,a,s=!0,i;if(r){t=t==null?null:t+"";for(i in r){if((n=r[i]).name!==t){s=!1;continue}a=n.state>Wy&&n.state<Ky,n.state=Lf,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]}s&&delete e.__transition}}function B9(e){return this.each(function(){$f(this,e)})}function U9(e,t){var r,n;return function(){var a=ia(this,e),s=a.tween;if(s!==r){n=r=s;for(var i=0,l=n.length;i<l;++i)if(n[i].name===t){n=n.slice(),n.splice(i,1);break}}a.tween=n}}function H9(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var s=ia(this,e),i=s.tween;if(i!==n){a=(n=i).slice();for(var l={name:t,value:r},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=l;break}c===u&&a.push(l)}s.tween=a}}function V9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Rn(this.node(),r).tween,a=0,s=n.length,i;a<s;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((t==null?U9:H9)(r,e,t))}function jb(e,t,r){var n=e._id;return e.each(function(){var a=ia(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Rn(a,n).value[t]}}function qO(e,t){var r;return(typeof t=="number"?vn:t instanceof Di?jm:(r=Di(t))?(t=r,jm):FO)(e,t)}function W9(e){return function(){this.removeAttribute(e)}}function K9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function q9(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttribute(e);return i===a?null:i===n?s:s=t(n=i,r)}}function Y9(e,t,r){var n,a=r+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?s:s=t(n=i,r)}}function G9(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function X9(e,t,r){var n,a,s;return function(){var i,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),c=l+"",i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l)))}}function Q9(e,t){var r=Xh(e),n=r==="transform"?P9:qO;return this.attrTween(e,typeof t=="function"?(r.local?X9:G9)(r,n,jb(this,"attr."+e,t)):t==null?(r.local?K9:W9)(r):(r.local?Y9:q9)(r,n,t))}function J9(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Z9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function eU(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&Z9(e,s)),r}return a._value=t,a}function tU(e,t){var r,n;function a(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&J9(e,s)),r}return a._value=t,a}function rU(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Xh(e);return this.tween(r,(n.local?eU:tU)(n,t))}function nU(e,t){return function(){wb(this,e).delay=+t.apply(this,arguments)}}function aU(e,t){return t=+t,function(){wb(this,e).delay=t}}function sU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nU:aU)(t,e)):Rn(this.node(),t).delay}function iU(e,t){return function(){ia(this,e).duration=+t.apply(this,arguments)}}function oU(e,t){return t=+t,function(){ia(this,e).duration=t}}function lU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iU:oU)(t,e)):Rn(this.node(),t).duration}function cU(e,t){if(typeof t!="function")throw new Error;return function(){ia(this,e).ease=t}}function uU(e){var t=this._id;return arguments.length?this.each(cU(t,e)):Rn(this.node(),t).ease}function dU(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ia(this,e).ease=r}}function fU(e){if(typeof e!="function")throw new Error;return this.each(dU(this._id,e))}function mU(e){typeof e!="function"&&(e=NO(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var s=t[a],i=s.length,l=n[a]=[],c,u=0;u<i;++u)(c=s[u])&&e.call(c,c.__data__,u,s)&&l.push(c);return new Da(n,this._parents,this._name,this._id)}function hU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,s=Math.min(n,a),i=new Array(n),l=0;l<s;++l)for(var c=t[l],u=r[l],d=c.length,f=i[l]=new Array(d),m,h=0;h<d;++h)(m=c[h]||u[h])&&(f[h]=m);for(;l<n;++l)i[l]=t[l];return new Da(i,this._parents,this._name,this._id)}function pU(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function gU(e,t,r){var n,a,s=pU(t)?wb:ia;return function(){var i=s(this,e),l=i.on;l!==n&&(a=(n=l).copy()).on(t,r),i.on=a}}function yU(e,t){var r=this._id;return arguments.length<2?Rn(this.node(),r).on.on(e):this.each(gU(r,e,t))}function xU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function vU(){return this.on("end.remove",xU(this._id))}function bU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=pb(e));for(var n=this._groups,a=n.length,s=new Array(a),i=0;i<a;++i)for(var l=n[i],c=l.length,u=s[i]=new Array(c),d,f,m=0;m<c;++m)(d=l[m])&&(f=e.call(d,d.__data__,m,l))&&("__data__"in d&&(f.__data__=d.__data__),u[m]=f,Jh(u[m],t,r,m,u,Rn(d,r)));return new Da(s,this._parents,t,r)}function wU(e){var t=this._name,r=this._id;typeof e!="function"&&(e=kO(e));for(var n=this._groups,a=n.length,s=[],i=[],l=0;l<a;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var m=e.call(d,d.__data__,f,c),h,p=Rn(d,r),x=0,v=m.length;x<v;++x)(h=m[x])&&Jh(h,t,r,x,m,p);s.push(m),i.push(d)}return new Da(s,i,t,r)}var jU=$u.prototype.constructor;function kU(){return new jU(this._groups,this._parents)}function NU(e,t){var r,n,a;return function(){var s=Qo(this,e),i=(this.style.removeProperty(e),Qo(this,e));return s===i?null:s===r&&i===n?a:a=t(r=s,n=i)}}function YO(e){return function(){this.style.removeProperty(e)}}function SU(e,t,r){var n,a=r+"",s;return function(){var i=Qo(this,e);return i===a?null:i===n?s:s=t(n=i,r)}}function _U(e,t,r){var n,a,s;return function(){var i=Qo(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Qo(this,e))),i===c?null:i===n&&c===a?s:(a=c,s=t(n=i,l))}}function EU(e,t){var r,n,a,s="style."+t,i="end."+s,l;return function(){var c=ia(this,e),u=c.on,d=c.value[s]==null?l||(l=YO(t)):void 0;(u!==r||a!==d)&&(n=(r=u).copy()).on(i,a=d),c.on=n}}function CU(e,t,r){var n=(e+="")=="transform"?C9:qO;return t==null?this.styleTween(e,NU(e,n)).on("end.style."+e,YO(e)):typeof t=="function"?this.styleTween(e,_U(e,n,jb(this,"style."+e,t))).each(EU(this._id,e)):this.styleTween(e,SU(e,n,t),r).on("end.style."+e,null)}function PU(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function OU(e,t,r){var n,a;function s(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&PU(e,i,r)),n}return s._value=t,s}function AU(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,OU(e,t,r??""))}function MU(e){return function(){this.textContent=e}}function TU(e){return function(){var t=e(this);this.textContent=t??""}}function IU(e){return this.tween("text",typeof e=="function"?TU(jb(this,"text",e)):MU(e==null?"":e+""))}function DU(e){return function(t){this.textContent=e.call(this,t)}}function RU(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&DU(a)),t}return n._value=e,n}function LU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,RU(e))}function $U(){for(var e=this._name,t=this._id,r=GO(),n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)if(c=i[u]){var d=Rn(c,t);Jh(c,e,r,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Da(n,this._parents,e,r)}function zU(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(s,i){var l={value:i},c={value:function(){--a===0&&s()}};r.each(function(){var u=ia(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),a===0&&s()})}var FU=0;function Da(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function GO(){return++FU}var ca=$u.prototype;Da.prototype={constructor:Da,select:bU,selectAll:wU,selectChild:ca.selectChild,selectChildren:ca.selectChildren,filter:mU,merge:hU,selection:kU,transition:$U,call:ca.call,nodes:ca.nodes,node:ca.node,size:ca.size,empty:ca.empty,each:ca.each,on:yU,attr:Q9,attrTween:rU,style:CU,styleTween:AU,text:IU,textTween:LU,remove:vU,tween:V9,delay:sU,duration:lU,ease:uU,easeVarying:fU,end:zU,[Symbol.iterator]:ca[Symbol.iterator]};function BU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var UU={time:null,delay:0,duration:250,ease:BU};function HU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function VU(e){var t,r;e instanceof Da?(t=e._id,e=e._name):(t=GO(),(r=UU).time=bb(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var i=n[s],l=i.length,c,u=0;u<l;++u)(c=i[u])&&Jh(c,e,t,u,i,r||HU(c,t));return new Da(n,this._parents,e,t)}$u.prototype.interrupt=B9;$u.prototype.transition=VU;const qd=e=>()=>e;function WU(e,{sourceEvent:t,target:r,transform:n,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:a}})}function wa(e,t,r){this.k=e,this.x=t,this.y=r}wa.prototype={constructor:wa,scale:function(e){return e===1?this:new wa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zh=new wa(1,0,0);XO.prototype=wa.prototype;function XO(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Zh;return e.__zoom}function Vg(e){e.stopImmediatePropagation()}function Xl(e){e.preventDefault(),e.stopImmediatePropagation()}function KU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function qU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Qk(){return this.__zoom||Zh}function YU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function GU(){return navigator.maxTouchPoints||"ontouchstart"in this}function XU(e,t,r){var n=e.invertX(t[0][0])-r[0][0],a=e.invertX(t[1][0])-r[1][0],s=e.invertY(t[0][1])-r[0][1],i=e.invertY(t[1][1])-r[1][1];return e.translate(a>n?(n+a)/2:Math.min(0,n)||Math.max(0,a),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function QO(){var e=KU,t=qU,r=XU,n=YU,a=GU,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Df,u=Gh("start","zoom","end"),d,f,m,h=500,p=150,x=0,v=10;function y(M){M.property("__zoom",Qk).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",O).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(M,$,I,R){var T=M.selection?M.selection():M;T.property("__zoom",Qk),M!==T?k(M,$,I,R):T.interrupt().each(function(){N(this,arguments).event(R).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(M,$,I,R){y.scaleTo(M,function(){var T=this.__zoom.k,P=typeof $=="function"?$.apply(this,arguments):$;return T*P},I,R)},y.scaleTo=function(M,$,I,R){y.transform(M,function(){var T=t.apply(this,arguments),P=this.__zoom,L=I==null?j(T):typeof I=="function"?I.apply(this,arguments):I,F=P.invert(L),U=typeof $=="function"?$.apply(this,arguments):$;return r(w(b(P,U),L,F),T,i)},I,R)},y.translateBy=function(M,$,I,R){y.transform(M,function(){return r(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),i)},null,R)},y.translateTo=function(M,$,I,R,T){y.transform(M,function(){var P=t.apply(this,arguments),L=this.__zoom,F=R==null?j(P):typeof R=="function"?R.apply(this,arguments):R;return r(Zh.translate(F[0],F[1]).scale(L.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof I=="function"?-I.apply(this,arguments):-I),P,i)},R,T)};function b(M,$){return $=Math.max(s[0],Math.min(s[1],$)),$===M.k?M:new wa($,M.x,M.y)}function w(M,$,I){var R=$[0]-I[0]*M.k,T=$[1]-I[1]*M.k;return R===M.x&&T===M.y?M:new wa(M.k,R,T)}function j(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function k(M,$,I,R){M.on("start.zoom",function(){N(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(R).end()}).tween("zoom",function(){var T=this,P=arguments,L=N(T,P).event(R),F=t.apply(T,P),U=I==null?j(F):typeof I=="function"?I.apply(T,P):I,q=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),Y=T.__zoom,re=typeof $=="function"?$.apply(T,P):$,ne=c(Y.invert(U).concat(q/Y.k),re.invert(U).concat(q/re.k));return function(G){if(G===1)G=re;else{var Q=ne(G),B=q/Q[2];G=new wa(B,U[0]-Q[0]*B,U[1]-Q[1]*B)}L.zoom(null,G)}})}function N(M,$,I){return!I&&M.__zooming||new _(M,$)}function _(M,$){this.that=M,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,$),this.taps=0}_.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,$){return this.mouse&&M!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var $=Or(this.that).datum();u.call(M,this.that,new WU(M,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),$)}};function S(M,...$){if(!e.apply(this,arguments))return;var I=N(this,$).event(M),R=this.__zoom,T=Math.max(s[0],Math.min(s[1],R.k*Math.pow(2,n.apply(this,arguments)))),P=yn(M);if(I.wheel)(I.mouse[0][0]!==P[0]||I.mouse[0][1]!==P[1])&&(I.mouse[1]=R.invert(I.mouse[0]=P)),clearTimeout(I.wheel);else{if(R.k===T)return;I.mouse=[P,R.invert(P)],$f(this),I.start()}Xl(M),I.wheel=setTimeout(L,p),I.zoom("mouse",r(w(b(R,T),I.mouse[0],I.mouse[1]),I.extent,i));function L(){I.wheel=null,I.end()}}function E(M,...$){if(m||!e.apply(this,arguments))return;var I=M.currentTarget,R=N(this,$,!0).event(M),T=Or(M.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",q,!0),P=yn(M,I),L=M.clientX,F=M.clientY;IO(M.view),Vg(M),R.mouse=[P,this.__zoom.invert(P)],$f(this),R.start();function U(Y){if(Xl(Y),!R.moved){var re=Y.clientX-L,ne=Y.clientY-F;R.moved=re*re+ne*ne>x}R.event(Y).zoom("mouse",r(w(R.that.__zoom,R.mouse[0]=yn(Y,I),R.mouse[1]),R.extent,i))}function q(Y){T.on("mousemove.zoom mouseup.zoom",null),DO(Y.view,R.moved),Xl(Y),R.event(Y).end()}}function O(M,...$){if(e.apply(this,arguments)){var I=this.__zoom,R=yn(M.changedTouches?M.changedTouches[0]:M,this),T=I.invert(R),P=I.k*(M.shiftKey?.5:2),L=r(w(b(I,P),R,T),t.apply(this,$),i);Xl(M),l>0?Or(this).transition().duration(l).call(k,L,R,M):Or(this).call(y.transform,L,R,M)}}function C(M,...$){if(e.apply(this,arguments)){var I=M.touches,R=I.length,T=N(this,$,M.changedTouches.length===R).event(M),P,L,F,U;for(Vg(M),L=0;L<R;++L)F=I[L],U=yn(F,this),U=[U,this.__zoom.invert(U),F.identifier],T.touch0?!T.touch1&&T.touch0[2]!==U[2]&&(T.touch1=U,T.taps=0):(T.touch0=U,P=!0,T.taps=1+!!d);d&&(d=clearTimeout(d)),P&&(T.taps<2&&(f=U[0],d=setTimeout(function(){d=null},h)),$f(this),T.start())}}function A(M,...$){if(this.__zooming){var I=N(this,$).event(M),R=M.changedTouches,T=R.length,P,L,F,U;for(Xl(M),P=0;P<T;++P)L=R[P],F=yn(L,this),I.touch0&&I.touch0[2]===L.identifier?I.touch0[0]=F:I.touch1&&I.touch1[2]===L.identifier&&(I.touch1[0]=F);if(L=I.that.__zoom,I.touch1){var q=I.touch0[0],Y=I.touch0[1],re=I.touch1[0],ne=I.touch1[1],G=(G=re[0]-q[0])*G+(G=re[1]-q[1])*G,Q=(Q=ne[0]-Y[0])*Q+(Q=ne[1]-Y[1])*Q;L=b(L,Math.sqrt(G/Q)),F=[(q[0]+re[0])/2,(q[1]+re[1])/2],U=[(Y[0]+ne[0])/2,(Y[1]+ne[1])/2]}else if(I.touch0)F=I.touch0[0],U=I.touch0[1];else return;I.zoom("touch",r(w(L,F,U),I.extent,i))}}function D(M,...$){if(this.__zooming){var I=N(this,$).event(M),R=M.changedTouches,T=R.length,P,L;for(Vg(M),m&&clearTimeout(m),m=setTimeout(function(){m=null},h),P=0;P<T;++P)L=R[P],I.touch0&&I.touch0[2]===L.identifier?delete I.touch0:I.touch1&&I.touch1[2]===L.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&(L=yn(L,this),Math.hypot(f[0]-L[0],f[1]-L[1])<v)){var F=Or(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return y.wheelDelta=function(M){return arguments.length?(n=typeof M=="function"?M:qd(+M),y):n},y.filter=function(M){return arguments.length?(e=typeof M=="function"?M:qd(!!M),y):e},y.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:qd(!!M),y):a},y.extent=function(M){return arguments.length?(t=typeof M=="function"?M:qd([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),y):t},y.scaleExtent=function(M){return arguments.length?(s[0]=+M[0],s[1]=+M[1],y):[s[0],s[1]]},y.translateExtent=function(M){return arguments.length?(i[0][0]=+M[0][0],i[1][0]=+M[1][0],i[0][1]=+M[0][1],i[1][1]=+M[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(M){return arguments.length?(r=M,y):r},y.duration=function(M){return arguments.length?(l=+M,y):l},y.interpolate=function(M){return arguments.length?(c=M,y):c},y.on=function(){var M=u.on.apply(u,arguments);return M===u?y:M},y.clickDistance=function(M){return arguments.length?(x=(M=+M)*M,y):Math.sqrt(x)},y.tapDistance=function(M){return arguments.length?(v=+M,y):v},y}const Zn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:r,targetHandle:n})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:n}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},eu=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],JO=["Enter"," ","Escape"],ZO={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:r})=>`Moved selected node ${e}. New position, x: ${t}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Zo;(function(e){e.Strict="strict",e.Loose="loose"})(Zo||(Zo={}));var Ni;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ni||(Ni={}));var tu;(function(e){e.Partial="partial",e.Full="full"})(tu||(tu={}));const eA={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var os;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(os||(os={}));var _m;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(_m||(_m={}));var fe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(fe||(fe={}));const Jk={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top};function tA(e){return e===null?null:e?"valid":"invalid"}const rA=e=>"id"in e&&"source"in e&&"target"in e,QU=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),kb=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Us=(e,t,r)=>{if(!e.id)return[];const n=new Set;return r.forEach(a=>{a.target===e.id&&n.add(a.source)}),t.filter(a=>n.has(a.id))},Fu=(e,t=[0,0])=>{const{width:r,height:n}=Va(e),a=e.origin??t,s=r*a[0],i=n*a[1];return{x:e.position.x-s,y:e.position.y-i}},JU=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,a)=>{const s=typeof a=="string";let i=!t.nodeLookup&&!s?a:void 0;t.nodeLookup&&(i=s?t.nodeLookup.get(a):kb(a)?a:t.nodeLookup.get(a.id));const l=i?Em(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ep(n,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return tp(r)},Bu=(e,t={})=>{let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0},n=!1;return e.forEach(a=>{(t.filter===void 0||t.filter(a))&&(r=ep(r,Em(a)),n=!0)}),n?tp(r):{x:0,y:0,width:0,height:0}},Nb=(e,t,[r,n,a]=[0,0,1],s=!1,i=!1)=>{const l={...Hu(t,[r,n,a]),width:t.width/a,height:t.height/a},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:m=!1}=u;if(i&&!f||m)continue;const h=d.width??u.width??u.initialWidth??null,p=d.height??u.height??u.initialHeight??null,x=ru(l,tl(u)),v=(h??0)*(p??0),y=s&&x>0;(!u.internals.handleBounds||y||x>=v||u.dragging)&&c.push(u)}return c},ZU=(e,t)=>{const r=new Set;return e.forEach(n=>{r.add(n.id)}),t.filter(n=>r.has(n.source)||r.has(n.target))};function eH(e,t){const r=new Map,n=t!=null&&t.nodes?new Set(t.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!a.hidden)&&(!n||n.has(a.id))&&r.set(a.id,a)}),r}async function tH({nodes:e,width:t,height:r,panZoom:n,minZoom:a,maxZoom:s},i){if(e.size===0)return Promise.resolve(!0);const l=eH(e,i),c=Bu(l),u=Sb(c,t,r,(i==null?void 0:i.minZoom)??a,(i==null?void 0:i.maxZoom)??s,(i==null?void 0:i.padding)??.1);return await n.setViewport(u,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function nA({nodeId:e,nextPosition:t,nodeLookup:r,nodeOrigin:n=[0,0],nodeExtent:a,onError:s}){const i=r.get(e),l=i.parentId?r.get(i.parentId):void 0,{x:c,y:u}=l?l.internals.positionAbsolute:{x:0,y:0},d=i.origin??n;let f=i.extent||a;if(i.extent==="parent"&&!i.expandParent)if(!l)s==null||s("005",Zn.error005());else{const h=l.measured.width,p=l.measured.height;h&&p&&(f=[[c,u],[c+h,u+p]])}else l&&rl(i.extent)&&(f=[[i.extent[0][0]+c,i.extent[0][1]+u],[i.extent[1][0]+c,i.extent[1][1]+u]]);const m=rl(f)?Li(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(s==null||s("015",Zn.error015())),{position:{x:m.x-c+(i.measured.width??0)*d[0],y:m.y-u+(i.measured.height??0)*d[1]},positionAbsolute:m}}async function rH({nodesToRemove:e=[],edgesToRemove:t=[],nodes:r,edges:n,onBeforeDelete:a}){const s=new Set(e.map(m=>m.id)),i=[];for(const m of r){if(m.deletable===!1)continue;const h=s.has(m.id),p=!h&&m.parentId&&i.find(x=>x.id===m.parentId);(h||p)&&i.push(m)}const l=new Set(t.map(m=>m.id)),c=n.filter(m=>m.deletable!==!1),d=ZU(i,c);for(const m of c)l.has(m.id)&&!d.find(p=>p.id===m.id)&&d.push(m);if(!a)return{edges:d,nodes:i};const f=await a({nodes:i,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:i}:{edges:[],nodes:[]}:f}const el=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Li=(e={x:0,y:0},t,r)=>({x:el(e.x,t[0][0],t[1][0]-((r==null?void 0:r.width)??0)),y:el(e.y,t[0][1],t[1][1]-((r==null?void 0:r.height)??0))});function aA(e,t,r){const{width:n,height:a}=Va(r),{x:s,y:i}=r.internals.positionAbsolute;return Li(e,[[s,i],[s+n,i+a]],t)}const Zk=(e,t,r)=>e<t?el(Math.abs(e-t),1,t)/t:e>r?-el(Math.abs(e-r),1,t)/t:0,sA=(e,t,r=15,n=40)=>{const a=Zk(e.x,n,t.width-n)*r,s=Zk(e.y,n,t.height-n)*r;return[a,s]},ep=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),qy=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),tp=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),tl=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=kb(e)?e.internals.positionAbsolute:Fu(e,t);return{x:r,y:n,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},Em=(e,t=[0,0])=>{var a,s;const{x:r,y:n}=kb(e)?e.internals.positionAbsolute:Fu(e,t);return{x:r,y:n,x2:r+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:n+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},iA=(e,t)=>tp(ep(qy(e),qy(t))),ru=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},eN=e=>kn(e.width)&&kn(e.height)&&kn(e.x)&&kn(e.y),kn=e=>!isNaN(e)&&isFinite(e),nH=(e,t)=>{},Uu=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Hu=({x:e,y:t},[r,n,a],s=!1,i=[1,1])=>{const l={x:(e-r)/a,y:(t-n)/a};return s?Uu(l,i):l},Cm=({x:e,y:t},[r,n,a])=>({x:e*a+r,y:t*a+n});function Zi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(t*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function aH(e,t,r){if(typeof e=="string"||typeof e=="number"){const n=Zi(e,r),a=Zi(e,t);return{top:n,right:a,bottom:n,left:a,x:a*2,y:n*2}}if(typeof e=="object"){const n=Zi(e.top??e.y??0,r),a=Zi(e.bottom??e.y??0,r),s=Zi(e.left??e.x??0,t),i=Zi(e.right??e.x??0,t);return{top:n,right:i,bottom:a,left:s,x:s+i,y:n+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function sH(e,t,r,n,a,s){const{x:i,y:l}=Cm(e,[t,r,n]),{x:c,y:u}=Cm({x:e.x+e.width,y:e.y+e.height},[t,r,n]),d=a-c,f=s-u;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(d),bottom:Math.floor(f)}}const Sb=(e,t,r,n,a,s)=>{const i=aH(s,t,r),l=(t-i.x)/e.width,c=(r-i.y)/e.height,u=Math.min(l,c),d=el(u,n,a),f=e.x+e.width/2,m=e.y+e.height/2,h=t/2-f*d,p=r/2-m*d,x=sH(e,h,p,d,t,r),v={left:Math.min(x.left-i.left,0),top:Math.min(x.top-i.top,0),right:Math.min(x.right-i.right,0),bottom:Math.min(x.bottom-i.bottom,0)};return{x:h-v.left+v.right,y:p-v.top+v.bottom,zoom:d}},nu=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function rl(e){return e!=null&&e!=="parent"}function Va(e){var t,r;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight??0}}function oA(e){var t,r;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((r=e.measured)==null?void 0:r.height)??e.height??e.initialHeight)!==void 0}function lA(e,t={width:0,height:0},r,n,a){const s={...e},i=n.get(r);if(i){const l=i.origin||a;s.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],s.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return s}function tN(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function iH(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}function oH(e){return{...ZO,...e||{}}}function _c(e,{snapGrid:t=[0,0],snapToGrid:r=!1,transform:n,containerBounds:a}){const{x:s,y:i}=Nn(e),l=Hu({x:s-((a==null?void 0:a.left)??0),y:i-((a==null?void 0:a.top)??0)},n),{x:c,y:u}=r?Uu(l,t):l;return{xSnapped:c,ySnapped:u,...l}}const _b=e=>({width:e.offsetWidth,height:e.offsetHeight}),cA=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},lH=["INPUT","SELECT","TEXTAREA"];function uA(e){var n,a;const t=((a=(n=e.composedPath)==null?void 0:n.call(e))==null?void 0:a[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:lH.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const dA=e=>"clientX"in e,Nn=(e,t)=>{var s,i;const r=dA(e),n=r?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,a=r?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},rN=(e,t,r,n,a)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:a,position:i.getAttribute("data-handlepos"),x:(l.left-r.left)/n,y:(l.top-r.top)/n,..._b(i)}})};function fA({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:a,sourceControlY:s,targetControlX:i,targetControlY:l}){const c=e*.125+a*.375+i*.375+r*.125,u=t*.125+s*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function Yd(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function nN({pos:e,x1:t,y1:r,x2:n,y2:a,c:s}){switch(e){case fe.Left:return[t-Yd(t-n,s),r];case fe.Right:return[t+Yd(n-t,s),r];case fe.Top:return[t,r-Yd(r-a,s)];case fe.Bottom:return[t,r+Yd(a-r,s)]}}function mA({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top,curvature:i=.25}){const[l,c]=nN({pos:r,x1:e,y1:t,x2:n,y2:a,c:i}),[u,d]=nN({pos:s,x1:n,y1:a,x2:e,y2:t,c:i}),[f,m,h,p]=fA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${a}`,f,m,h,p]}function hA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const a=Math.abs(r-e)/2,s=r<e?r+a:r-a,i=Math.abs(n-t)/2,l=n<t?n+i:n-i;return[s,l,a,i]}function cH({sourceNode:e,targetNode:t,selected:r=!1,zIndex:n=0,elevateOnSelect:a=!1,zIndexMode:s="basic"}){if(s==="manual")return n;const i=a&&r?n+1e3:n,l=Math.max(e.parentId||a&&e.selected?e.internals.z:0,t.parentId||a&&t.selected?t.internals.z:0);return i+l}function uH({sourceNode:e,targetNode:t,width:r,height:n,transform:a}){const s=ep(Em(e),Em(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const i={x:-a[0]/a[2],y:-a[1]/a[2],width:r/a[2],height:n/a[2]};return ru(i,tp(s))>0}const dH=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`xy-edge__${e}${t||""}-${r}${n||""}`,fH=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),pA=(e,t,r={})=>{if(!e.source||!e.target)return t;const n=r.getEdgeId||dH;let a;return rA(e)?a={...e}:a={...e,id:n(e)},fH(a,t)?t:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,t.concat(a))};function gA({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[a,s,i,l]=hA({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,a,s,i,l]}const aN={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}},mH=({source:e,sourcePosition:t=fe.Bottom,target:r})=>t===fe.Left||t===fe.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},sN=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function hH({source:e,sourcePosition:t=fe.Bottom,target:r,targetPosition:n=fe.Top,center:a,offset:s,stepPosition:i}){const l=aN[t],c=aN[n],u={x:e.x+l.x*s,y:e.y+l.y*s},d={x:r.x+c.x*s,y:r.y+c.y*s},f=mH({source:u,sourcePosition:t,target:d}),m=f.x!==0?"x":"y",h=f[m];let p=[],x,v;const y={x:0,y:0},b={x:0,y:0},[,,w,j]=hA({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(l[m]*c[m]===-1){m==="x"?(x=a.x??u.x+(d.x-u.x)*i,v=a.y??(u.y+d.y)/2):(x=a.x??(u.x+d.x)/2,v=a.y??u.y+(d.y-u.y)*i);const N=[{x,y:u.y},{x,y:d.y}],_=[{x:u.x,y:v},{x:d.x,y:v}];l[m]===h?p=m==="x"?N:_:p=m==="x"?_:N}else{const N=[{x:u.x,y:d.y}],_=[{x:d.x,y:u.y}];if(m==="x"?p=l.x===h?_:N:p=l.y===h?N:_,t===n){const A=Math.abs(e[m]-r[m]);if(A<=s){const D=Math.min(s-1,s-A);l[m]===h?y[m]=(u[m]>e[m]?-1:1)*D:b[m]=(d[m]>r[m]?-1:1)*D}}if(t!==n){const A=m==="x"?"y":"x",D=l[m]===c[A],M=u[A]>d[A],$=u[A]<d[A];(l[m]===1&&(!D&&M||D&&$)||l[m]!==1&&(!D&&$||D&&M))&&(p=m==="x"?N:_)}const S={x:u.x+y.x,y:u.y+y.y},E={x:d.x+b.x,y:d.y+b.y},O=Math.max(Math.abs(S.x-p[0].x),Math.abs(E.x-p[0].x)),C=Math.max(Math.abs(S.y-p[0].y),Math.abs(E.y-p[0].y));O>=C?(x=(S.x+E.x)/2,v=p[0].y):(x=p[0].x,v=(S.y+E.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...p,{x:d.x+b.x,y:d.y+b.y},r],x,v,w,j]}function pH(e,t,r,n){const a=Math.min(sN(e,t)/2,sN(t,r)/2,n),{x:s,y:i}=t;if(e.x===s&&s===r.x||e.y===i&&i===r.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${s+a*u},${i}Q ${s},${i} ${s},${i+a*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${s},${i+a*c}Q ${s},${i} ${s+a*l},${i}`}function Pm({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top,borderRadius:i=5,centerX:l,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,m,h,p,x]=hH({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:a},targetPosition:s,center:{x:l,y:c},offset:u,stepPosition:d});return[f.reduce((y,b,w)=>{let j="";return w>0&&w<f.length-1?j=pH(f[w-1],b,f[w+1],i):j=`${w===0?"M":"L"}${b.x} ${b.y}`,y+=j,y},""),m,h,p,x]}function iN(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function gH(e){var f;const{sourceNode:t,targetNode:r}=e;if(!iN(t)||!iN(r))return null;const n=t.internals.handleBounds||oN(t.handles),a=r.internals.handleBounds||oN(r.handles),s=lN((n==null?void 0:n.source)??[],e.sourceHandle),i=lN(e.connectionMode===Zo.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!s||!i)return(f=e.onError)==null||f.call(e,"008",Zn.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(s==null?void 0:s.position)||fe.Bottom,c=(i==null?void 0:i.position)||fe.Top,u=$i(t,s,l),d=$i(r,i,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:l,targetPosition:c}}function oN(e){if(!e)return null;const t=[],r=[];for(const n of e)n.width=n.width??1,n.height=n.height??1,n.type==="source"?t.push(n):n.type==="target"&&r.push(n);return{source:t,target:r}}function $i(e,t,r=fe.Left,n=!1){const a=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Va(e);if(n)return{x:a+i/2,y:s+l/2};switch((t==null?void 0:t.position)??r){case fe.Top:return{x:a+i/2,y:s};case fe.Right:return{x:a+i,y:s+l/2};case fe.Bottom:return{x:a+i/2,y:s+l};case fe.Left:return{x:a,y:s+l/2}}}function lN(e,t){return e&&(t?e.find(r=>r.id===t):e[0])||null}function Yy(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`:""}function yH(e,{id:t,defaultColor:r,defaultMarkerStart:n,defaultMarkerEnd:a}){const s=new Set;return e.reduce((i,l)=>([l.markerStart||n,l.markerEnd||a].forEach(c=>{if(c&&typeof c=="object"){const u=Yy(c,t);s.has(u)||(i.push({id:u,color:c.color||r,...c}),s.add(u))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const yA=1e3,xH=10,Eb={nodeOrigin:[0,0],nodeExtent:eu,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},vH={...Eb,checkEquality:!0};function Cb(e,t){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}function bH(e,t,r){const n=Cb(Eb,r);for(const a of e.values())if(a.parentId)Ob(a,e,t,n);else{const s=Fu(a,n.nodeOrigin),i=rl(a.extent)?a.extent:n.nodeExtent,l=Li(s,i,Va(a));a.internals.positionAbsolute=l}}function wH(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const r=[],n=[];for(const a of e.handles){const s={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?r.push(s):a.type==="target"&&n.push(s)}return{source:r,target:n}}function Pb(e){return e==="manual"}function Gy(e,t,r,n={}){var u,d;const a=Cb(vH,n),s={i:0},i=new Map(t),l=a!=null&&a.elevateNodesOnSelect&&!Pb(a.zIndexMode)?yA:0;let c=e.length>0;t.clear(),r.clear();for(const f of e){let m=i.get(f.id);if(a.checkEquality&&f===(m==null?void 0:m.internals.userNode))t.set(f.id,m);else{const h=Fu(f,a.nodeOrigin),p=rl(f.extent)?f.extent:a.nodeExtent,x=Li(h,p,Va(f));m={...a.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:x,handleBounds:wH(f,m),z:xA(f,l,a.zIndexMode),userNode:f}},t.set(f.id,m)}(m.measured===void 0||m.measured.width===void 0||m.measured.height===void 0)&&!m.hidden&&(c=!1),f.parentId&&Ob(m,t,r,n,s)}return c}function jH(e,t){if(!e.parentId)return;const r=t.get(e.parentId);r?r.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Ob(e,t,r,n,a){const{elevateNodesOnSelect:s,nodeOrigin:i,nodeExtent:l,zIndexMode:c}=Cb(Eb,n),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}jH(e,r),a&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++a.i,d.internals.z=d.internals.z+a.i*xH),a&&d.internals.rootParentIndex!==void 0&&(a.i=d.internals.rootParentIndex);const f=s&&!Pb(c)?yA:0,{x:m,y:h,z:p}=kH(e,d,i,l,f,c),{positionAbsolute:x}=e.internals,v=m!==x.x||h!==x.y;(v||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:m,y:h}:x,z:p}})}function xA(e,t,r){const n=kn(e.zIndex)?e.zIndex:0;return Pb(r)?n:n+(e.selected?t:0)}function kH(e,t,r,n,a,s){const{x:i,y:l}=t.internals.positionAbsolute,c=Va(e),u=Fu(e,r),d=rl(e.extent)?Li(u,e.extent,c):u;let f=Li({x:i+d.x,y:l+d.y},n,c);e.extent==="parent"&&(f=aA(f,c,t));const m=xA(e,a,s),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=m?h+1:m}}function Ab(e,t,r,n=[0,0]){var i;const a=[],s=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=((i=s.get(l.parentId))==null?void 0:i.expandedRect)??tl(c),d=iA(u,l.rect);s.set(l.parentId,{expandedRect:d,parent:c})}return s.size>0&&s.forEach(({expandedRect:l,parent:c},u)=>{var w;const d=c.internals.positionAbsolute,f=Va(c),m=c.origin??n,h=l.x<d.x?Math.round(Math.abs(d.x-l.x)):0,p=l.y<d.y?Math.round(Math.abs(d.y-l.y)):0,x=Math.max(f.width,Math.round(l.width)),v=Math.max(f.height,Math.round(l.height)),y=(x-f.width)*m[0],b=(v-f.height)*m[1];(h>0||p>0||y||b)&&(a.push({id:u,type:"position",position:{x:c.position.x-h+y,y:c.position.y-p+b}}),(w=r.get(u))==null||w.forEach(j=>{e.some(k=>k.id===j.id)||a.push({id:j.id,type:"position",position:{x:j.position.x+h,y:j.position.y+p}})})),(f.width<l.width||f.height<l.height||h||p)&&a.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:x+(h?m[0]*h-y:0),height:v+(p?m[1]*p-b:0)}})}),a}function NH(e,t,r,n,a,s,i){const l=n==null?void 0:n.querySelector(".xyflow__viewport");let c=!1;if(!l)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),c=!0;continue}const x=_b(h.nodeElement),v=p.measured.width!==x.width||p.measured.height!==x.height;if(!!(x.width&&x.height&&(v||!p.internals.handleBounds||h.force))){const b=h.nodeElement.getBoundingClientRect(),w=rl(p.extent)?p.extent:s;let{positionAbsolute:j}=p.internals;p.parentId&&p.extent==="parent"?j=aA(j,x,t.get(p.parentId)):w&&(j=Li(j,w,x));const k={...p,measured:x,internals:{...p.internals,positionAbsolute:j,handleBounds:{source:rN("source",h.nodeElement,b,f,p.id),target:rN("target",h.nodeElement,b,f,p.id)}}};t.set(p.id,k),p.parentId&&Ob(k,t,r,{nodeOrigin:a,zIndexMode:i}),c=!0,v&&(u.push({id:p.id,type:"dimensions",dimensions:x}),p.expandParent&&p.parentId&&m.push({id:p.id,parentId:p.parentId,rect:tl(k,a)}))}}if(m.length>0){const h=Ab(m,t,r,a);u.push(...h)}return{changes:u,updatedInternals:c}}async function SH({delta:e,panZoom:t,transform:r,translateExtent:n,width:a,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[a,s]],n),l=!!i&&(i.x!==r[0]||i.y!==r[1]||i.k!==r[2]);return Promise.resolve(l)}function cN(e,t,r,n,a,s){let i=a;const l=n.get(i)||new Map;n.set(i,l.set(r,t)),i=`${a}-${e}`;const c=n.get(i)||new Map;if(n.set(i,c.set(r,t)),s){i=`${a}-${e}-${s}`;const u=n.get(i)||new Map;n.set(i,u.set(r,t))}}function vA(e,t,r){e.clear(),t.clear();for(const n of r){const{source:a,target:s,sourceHandle:i=null,targetHandle:l=null}=n,c={edgeId:n.id,source:a,target:s,sourceHandle:i,targetHandle:l},u=`${a}-${i}--${s}-${l}`,d=`${s}-${l}--${a}-${i}`;cN("source",c,d,e,a,i),cN("target",c,u,e,s,l),t.set(n.id,n)}}function bA(e,t){if(!e.parentId)return!1;const r=t.get(e.parentId);return r?r.selected?!0:bA(r,t):!1}function uN(e,t,r){var a;let n=e;do{if((a=n==null?void 0:n.matches)!=null&&a.call(n,t))return!0;if(n===r)return!1;n=n==null?void 0:n.parentElement}while(n);return!1}function _H(e,t,r,n){const a=new Map;for(const[s,i]of e)if((i.selected||i.id===n)&&(!i.parentId||!bA(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(s);l&&a.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:r.x-l.internals.positionAbsolute.x,y:r.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return a}function Wg({nodeId:e,dragItems:t,nodeLookup:r,dragging:n=!0}){var i,l,c;const a=[];for(const[u,d]of t){const f=(i=r.get(u))==null?void 0:i.internals.userNode;f&&a.push({...f,position:d.position,dragging:n})}if(!e)return[a[0],a];const s=(l=r.get(e))==null?void 0:l.internals.userNode;return[s?{...s,position:((c=t.get(e))==null?void 0:c.position)||s.position,dragging:n}:a[0],a]}function EH({dragItems:e,snapGrid:t,x:r,y:n}){const a=e.values().next().value;if(!a)return null;const s={x:r-a.distance.x,y:n-a.distance.y},i=Uu(s,t);return{x:i.x-s.x,y:i.y-s.y}}function CH({onNodeMouseDown:e,getStoreItems:t,onDragStart:r,onDrag:n,onDragStop:a}){let s={x:null,y:null},i=0,l=new Map,c=!1,u={x:0,y:0},d=null,f=!1,m=null,h=!1,p=!1,x=null;function v({noDragClassName:b,handleSelector:w,domNode:j,isSelectable:k,nodeId:N,nodeClickDistance:_=0}){m=Or(j);function S({x:A,y:D}){const{nodeLookup:M,nodeExtent:$,snapGrid:I,snapToGrid:R,nodeOrigin:T,onNodeDrag:P,onSelectionDrag:L,onError:F,updateNodePositions:U}=t();s={x:A,y:D};let q=!1;const Y=l.size>1,re=Y&&$?qy(Bu(l)):null,ne=Y&&R?EH({dragItems:l,snapGrid:I,x:A,y:D}):null;for(const[G,Q]of l){if(!M.has(G))continue;let B={x:A-Q.distance.x,y:D-Q.distance.y};R&&(B=ne?{x:Math.round(B.x+ne.x),y:Math.round(B.y+ne.y)}:Uu(B,I));let te=null;if(Y&&$&&!Q.extent&&re){const{positionAbsolute:ae}=Q.internals,ce=ae.x-re.x+$[0][0],ge=ae.x+Q.measured.width-re.x2+$[1][0],pe=ae.y-re.y+$[0][1],Te=ae.y+Q.measured.height-re.y2+$[1][1];te=[[ce,pe],[ge,Te]]}const{position:J,positionAbsolute:K}=nA({nodeId:G,nextPosition:B,nodeLookup:M,nodeExtent:te||$,nodeOrigin:T,onError:F});q=q||Q.position.x!==J.x||Q.position.y!==J.y,Q.position=J,Q.internals.positionAbsolute=K}if(p=p||q,!!q&&(U(l,!0),x&&(n||P||!N&&L))){const[G,Q]=Wg({nodeId:N,dragItems:l,nodeLookup:M});n==null||n(x,l,G,Q),P==null||P(x,G,Q),N||L==null||L(x,Q)}}async function E(){if(!d)return;const{transform:A,panBy:D,autoPanSpeed:M,autoPanOnNodeDrag:$}=t();if(!$){c=!1,cancelAnimationFrame(i);return}const[I,R]=sA(u,d,M);(I!==0||R!==0)&&(s.x=(s.x??0)-I/A[2],s.y=(s.y??0)-R/A[2],await D({x:I,y:R})&&S(s)),i=requestAnimationFrame(E)}function O(A){var Y;const{nodeLookup:D,multiSelectionActive:M,nodesDraggable:$,transform:I,snapGrid:R,snapToGrid:T,selectNodesOnDrag:P,onNodeDragStart:L,onSelectionDragStart:F,unselectNodesAndEdges:U}=t();f=!0,(!P||!k)&&!M&&N&&((Y=D.get(N))!=null&&Y.selected||U()),k&&P&&N&&(e==null||e(N));const q=_c(A.sourceEvent,{transform:I,snapGrid:R,snapToGrid:T,containerBounds:d});if(s=q,l=_H(D,$,q,N),l.size>0&&(r||L||!N&&F)){const[re,ne]=Wg({nodeId:N,dragItems:l,nodeLookup:D});r==null||r(A.sourceEvent,l,re,ne),L==null||L(A.sourceEvent,re,ne),N||F==null||F(A.sourceEvent,ne)}}const C=RO().clickDistance(_).on("start",A=>{const{domNode:D,nodeDragThreshold:M,transform:$,snapGrid:I,snapToGrid:R}=t();d=(D==null?void 0:D.getBoundingClientRect())||null,h=!1,p=!1,x=A.sourceEvent,M===0&&O(A),s=_c(A.sourceEvent,{transform:$,snapGrid:I,snapToGrid:R,containerBounds:d}),u=Nn(A.sourceEvent,d)}).on("drag",A=>{const{autoPanOnNodeDrag:D,transform:M,snapGrid:$,snapToGrid:I,nodeDragThreshold:R,nodeLookup:T}=t(),P=_c(A.sourceEvent,{transform:M,snapGrid:$,snapToGrid:I,containerBounds:d});if(x=A.sourceEvent,(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||N&&!T.has(N))&&(h=!0),!h){if(!c&&D&&f&&(c=!0,E()),!f){const L=Nn(A.sourceEvent,d),F=L.x-u.x,U=L.y-u.y;Math.sqrt(F*F+U*U)>R&&O(A)}(s.x!==P.xSnapped||s.y!==P.ySnapped)&&l&&f&&(u=Nn(A.sourceEvent,d),S(P))}}).on("end",A=>{if(!(!f||h)&&(c=!1,f=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:D,updateNodePositions:M,onNodeDragStop:$,onSelectionDragStop:I}=t();if(p&&(M(l,!1),p=!1),a||$||!N&&I){const[R,T]=Wg({nodeId:N,dragItems:l,nodeLookup:D,dragging:!1});a==null||a(A.sourceEvent,l,R,T),$==null||$(A.sourceEvent,R,T),N||I==null||I(A.sourceEvent,T)}}}).filter(A=>{const D=A.target;return!A.button&&(!b||!uN(D,`.${b}`,j))&&(!w||uN(D,w,j))});m.call(C)}function y(){m==null||m.on(".drag",null)}return{update:v,destroy:y}}function PH(e,t,r){const n=[],a={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const s of t.values())ru(a,tl(s))>0&&n.push(s);return n}const OH=250;function AH(e,t,r,n){var l,c;let a=[],s=1/0;const i=PH(e,r,t+OH);for(const u of i){const d=[...((l=u.internals.handleBounds)==null?void 0:l.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(n.nodeId===f.nodeId&&n.type===f.type&&n.id===f.id)continue;const{x:m,y:h}=$i(u,f,f.position,!0),p=Math.sqrt(Math.pow(m-e.x,2)+Math.pow(h-e.y,2));p>t||(p<s?(a=[{...f,x:m,y:h}],s=p):p===s&&a.push({...f,x:m,y:h}))}}if(!a.length)return null;if(a.length>1){const u=n.type==="source"?"target":"source";return a.find(d=>d.type===u)??a[0]}return a[0]}function wA(e,t,r,n,a,s=!1){var u,d,f;const i=n.get(e);if(!i)return null;const l=a==="strict"?(u=i.internals.handleBounds)==null?void 0:u[t]:[...((d=i.internals.handleBounds)==null?void 0:d.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],c=(r?l==null?void 0:l.find(m=>m.id===r):l==null?void 0:l[0])??null;return c&&s?{...c,...$i(i,c,c.position,!0)}:c}function jA(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function MH(e,t){let r=null;return t?r=!0:e&&!t&&(r=!1),r}const kA=()=>!0;function TH(e,{connectionMode:t,connectionRadius:r,handleId:n,nodeId:a,edgeUpdaterType:s,isTarget:i,domNode:l,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:m,cancelConnection:h,onConnectStart:p,onConnect:x,onConnectEnd:v,isValidConnection:y=kA,onReconnectEnd:b,updateConnection:w,getTransform:j,getFromHandle:k,autoPanSpeed:N,dragThreshold:_=1,handleDomNode:S}){const E=cA(e.target);let O=0,C;const{x:A,y:D}=Nn(e),M=jA(s,S),$=l==null?void 0:l.getBoundingClientRect();let I=!1;if(!$||!M)return;const R=wA(a,M,n,c,t);if(!R)return;let T=Nn(e,$),P=!1,L=null,F=!1,U=null;function q(){if(!d||!$)return;const[J,K]=sA(T,$,N);m({x:J,y:K}),O=requestAnimationFrame(q)}const Y={...R,nodeId:a,type:M,position:R.position},re=c.get(a);let G={inProgress:!0,isValid:null,from:$i(re,Y,fe.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:re,to:T,toHandle:null,toPosition:Jk[Y.position],toNode:null,pointer:T};function Q(){I=!0,w(G),p==null||p(e,{nodeId:a,handleId:n,handleType:M})}_===0&&Q();function B(J){if(!I){const{x:Te,y:dr}=Nn(J),Vr=Te-A,H=dr-D;if(!(Vr*Vr+H*H>_*_))return;Q()}if(!k()||!Y){te(J);return}const K=j();T=Nn(J,$),C=AH(Hu(T,K,!1,[1,1]),r,c,Y),P||(q(),P=!0);const ae=NA(J,{handle:C,connectionMode:t,fromNodeId:a,fromHandleId:n,fromType:i?"target":"source",isValidConnection:y,doc:E,lib:u,flowId:f,nodeLookup:c});U=ae.handleDomNode,L=ae.connection,F=MH(!!C,ae.isValid);const ce=c.get(a),ge=ce?$i(ce,Y,fe.Left,!0):G.from,pe={...G,from:ge,isValid:F,to:ae.toHandle&&F?Cm({x:ae.toHandle.x,y:ae.toHandle.y},K):T,toHandle:ae.toHandle,toPosition:F&&ae.toHandle?ae.toHandle.position:Jk[Y.position],toNode:ae.toHandle?c.get(ae.toHandle.nodeId):null,pointer:T};w(pe),G=pe}function te(J){if(!("touches"in J&&J.touches.length>0)){if(I){(C||U)&&L&&F&&(x==null||x(L));const{inProgress:K,...ae}=G,ce={...ae,toPosition:G.toHandle?G.toPosition:null};v==null||v(J,ce),s&&(b==null||b(J,ce))}h(),cancelAnimationFrame(O),P=!1,F=!1,L=null,U=null,E.removeEventListener("mousemove",B),E.removeEventListener("mouseup",te),E.removeEventListener("touchmove",B),E.removeEventListener("touchend",te)}}E.addEventListener("mousemove",B),E.addEventListener("mouseup",te),E.addEventListener("touchmove",B),E.addEventListener("touchend",te)}function NA(e,{handle:t,connectionMode:r,fromNodeId:n,fromHandleId:a,fromType:s,doc:i,lib:l,flowId:c,isValidConnection:u=kA,nodeLookup:d}){const f=s==="target",m=t?i.querySelector(`.${l}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=Nn(e),x=i.elementFromPoint(h,p),v=x!=null&&x.classList.contains(`${l}-flow__handle`)?x:m,y={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const b=jA(void 0,v),w=v.getAttribute("data-nodeid"),j=v.getAttribute("data-handleid"),k=v.classList.contains("connectable"),N=v.classList.contains("connectableend");if(!w||!b)return y;const _={source:f?w:n,sourceHandle:f?j:a,target:f?n:w,targetHandle:f?a:j};y.connection=_;const E=k&&N&&(r===Zo.Strict?f&&b==="source"||!f&&b==="target":w!==n||j!==a);y.isValid=E&&u(_),y.toHandle=wA(w,b,j,d,r,!0)}return y}const Xy={onPointerDown:TH,isValid:NA};function IH({domNode:e,panZoom:t,getTransform:r,getViewScale:n}){const a=Or(e);function s({translateExtent:l,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:m=!0,inversePan:h=!1}){const p=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const j=r(),k=w.sourceEvent.ctrlKey&&nu()?10:1,N=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*d,_=j[2]*Math.pow(2,N*k);t.scaleTo(_)};let x=[0,0];const v=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(x=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},y=w=>{const j=r();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const k=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],N=[k[0]-x[0],k[1]-x[1]];x=k;const _=n()*Math.max(j[2],Math.log(j[2]))*(h?-1:1),S={x:j[0]-N[0]*_,y:j[1]-N[1]*_},E=[[0,0],[c,u]];t.setViewportConstrained({x:S.x,y:S.y,zoom:j[2]},E,l)},b=QO().on("start",v).on("zoom",f?y:null).on("zoom.wheel",m?p:null);a.call(b,{})}function i(){a.on("zoom",null)}return{update:s,destroy:i,pointer:yn}}const rp=e=>({x:e.x,y:e.y,zoom:e.k}),Kg=({x:e,y:t,zoom:r})=>Zh.translate(e,t).scale(r),yo=(e,t)=>e.target.closest(`.${t}`),SA=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),DH=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,qg=(e,t=0,r=DH,n=()=>{})=>{const a=typeof t=="number"&&t>0;return a||n(),a?e.transition().duration(t).ease(r).on("end",n):e},_A=e=>{const t=e.ctrlKey&&nu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function RH({zoomPanValues:e,noWheelClassName:t,d3Selection:r,d3Zoom:n,panOnScrollMode:a,panOnScrollSpeed:s,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(yo(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=r.property("__zoom").k||1;if(d.ctrlKey&&i){const v=yn(d),y=_A(d),b=f*Math.pow(2,y);n.scaleTo(r,b,v,d);return}const m=d.deltaMode===1?20:1;let h=a===Ni.Vertical?0:d.deltaX*m,p=a===Ni.Horizontal?0:d.deltaY*m;!nu()&&d.shiftKey&&a!==Ni.Vertical&&(h=d.deltaY*m,p=0),n.translateBy(r,-(h/f)*s,-(p/f)*s,{internal:!0});const x=rp(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,x),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,x),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(d,x))}}function LH({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:r}){return function(n,a){const s=n.type==="wheel",i=!t&&s&&!n.ctrlKey,l=yo(n,e);if(n.ctrlKey&&s&&l&&n.preventDefault(),i||l)return null;n.preventDefault(),r.call(this,n,a)}}function $H({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:r}){return n=>{var s,i,l;if((s=n.sourceEvent)!=null&&s.internal)return;const a=rp(n.transform);e.mouseButton=((i=n.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((l=n.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),r&&(r==null||r(n.sourceEvent,a))}}function zH({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:r,onTransformChange:n,onPanZoom:a}){return s=>{var i,l;e.usedRightMouseButton=!!(r&&SA(t,e.mouseButton??0)),(i=s.sourceEvent)!=null&&i.sync||n([s.transform.x,s.transform.y,s.transform.k]),a&&!((l=s.sourceEvent)!=null&&l.internal)&&(a==null||a(s.sourceEvent,rp(s.transform)))}}function FH({zoomPanValues:e,panOnDrag:t,panOnScroll:r,onDraggingChange:n,onPanZoomEnd:a,onPaneContextMenu:s}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,s&&SA(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&s(i.sourceEvent),e.usedRightMouseButton=!1,n(!1),a)){const c=rp(i.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(i.sourceEvent,c)},r?150:0)}}}function BH({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:r,panOnDrag:n,panOnScroll:a,zoomOnDoubleClick:s,userSelectionActive:i,noWheelClassName:l,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var v;const m=e||t,h=r&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(yo(f,`${u}-flow__node`)||yo(f,`${u}-flow__edge`)))return!0;if(!n&&!m&&!a&&!s&&!r||i||d&&!p||yo(f,l)&&p||yo(f,c)&&(!p||a&&p&&!e)||!r&&f.ctrlKey&&p)return!1;if(!r&&f.type==="touchstart"&&((v=f.touches)==null?void 0:v.length)>1)return f.preventDefault(),!1;if(!m&&!a&&!h&&p||!n&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(n)&&!n.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(n)&&n.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&x}}function UH({domNode:e,minZoom:t,maxZoom:r,translateExtent:n,viewport:a,onPanZoom:s,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=QO().scaleExtent([t,r]).translateExtent(n),m=Or(e).call(f);b({x:a.x,y:a.y,zoom:el(a.zoom,t,r)},[[0,0],[d.width,d.height]],n);const h=m.on("wheel.zoom"),p=m.on("dblclick.zoom");f.wheelDelta(_A);function x(C,A){return m?new Promise(D=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?_a:Df).transform(qg(m,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>D(!0)),C)}):Promise.resolve(!1)}function v({noWheelClassName:C,noPanClassName:A,onPaneContextMenu:D,userSelectionActive:M,panOnScroll:$,panOnDrag:I,panOnScrollMode:R,panOnScrollSpeed:T,preventScrolling:P,zoomOnPinch:L,zoomOnScroll:F,zoomOnDoubleClick:U,zoomActivationKeyPressed:q,lib:Y,onTransformChange:re,connectionInProgress:ne,paneClickDistance:G,selectionOnDrag:Q}){M&&!u.isZoomingOrPanning&&y();const B=$&&!q&&!M;f.clickDistance(Q?1/0:!kn(G)||G<0?0:G);const te=B?RH({zoomPanValues:u,noWheelClassName:C,d3Selection:m,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:T,zoomOnPinch:L,onPanZoomStart:i,onPanZoom:s,onPanZoomEnd:l}):LH({noWheelClassName:C,preventScrolling:P,d3ZoomHandler:h});if(m.on("wheel.zoom",te,{passive:!1}),!M){const K=$H({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:i});f.on("start",K);const ae=zH({zoomPanValues:u,panOnDrag:I,onPaneContextMenu:!!D,onPanZoom:s,onTransformChange:re});f.on("zoom",ae);const ce=FH({zoomPanValues:u,panOnDrag:I,panOnScroll:$,onPaneContextMenu:D,onPanZoomEnd:l,onDraggingChange:c});f.on("end",ce)}const J=BH({zoomActivationKeyPressed:q,panOnDrag:I,zoomOnScroll:F,panOnScroll:$,zoomOnDoubleClick:U,zoomOnPinch:L,userSelectionActive:M,noPanClassName:A,noWheelClassName:C,lib:Y,connectionInProgress:ne});f.filter(J),U?m.on("dblclick.zoom",p):m.on("dblclick.zoom",null)}function y(){f.on("zoom",null)}async function b(C,A,D){const M=Kg(C),$=f==null?void 0:f.constrain()(M,A,D);return $&&await x($),new Promise(I=>I($))}async function w(C,A){const D=Kg(C);return await x(D,A),new Promise(M=>M(D))}function j(C){if(m){const A=Kg(C),D=m.property("__zoom");(D.k!==C.zoom||D.x!==C.x||D.y!==C.y)&&(f==null||f.transform(m,A,null,{sync:!0}))}}function k(){const C=m?XO(m.node()):{x:0,y:0,k:1};return{x:C.x,y:C.y,zoom:C.k}}function N(C,A){return m?new Promise(D=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?_a:Df).scaleTo(qg(m,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>D(!0)),C)}):Promise.resolve(!1)}function _(C,A){return m?new Promise(D=>{f==null||f.interpolate((A==null?void 0:A.interpolate)==="linear"?_a:Df).scaleBy(qg(m,A==null?void 0:A.duration,A==null?void 0:A.ease,()=>D(!0)),C)}):Promise.resolve(!1)}function S(C){f==null||f.scaleExtent(C)}function E(C){f==null||f.translateExtent(C)}function O(C){const A=!kn(C)||C<0?0:C;f==null||f.clickDistance(A)}return{update:v,destroy:y,setViewport:w,setViewportConstrained:b,getViewport:k,scaleTo:N,scaleBy:_,setScaleExtent:S,setTranslateExtent:E,syncViewport:j,setClickDistance:O}}var nl;(function(e){e.Line="line",e.Handle="handle"})(nl||(nl={}));function HH({width:e,prevWidth:t,height:r,prevHeight:n,affectsX:a,affectsY:s}){const i=e-t,l=r-n,c=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&a&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function dN(e){const t=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),n=e.includes("left"),a=e.includes("top");return{isHorizontal:t,isVertical:r,affectsX:n,affectsY:a}}function Qa(e,t){return Math.max(0,t-e)}function Ja(e,t){return Math.max(0,e-t)}function Gd(e,t,r){return Math.max(0,t-e,e-r)}function fN(e,t){return e?!t:t}function VH(e,t,r,n,a,s,i,l){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,m=d&&f,{xSnapped:h,ySnapped:p}=r,{minWidth:x,maxWidth:v,minHeight:y,maxHeight:b}=n,{x:w,y:j,width:k,height:N,aspectRatio:_}=e;let S=Math.floor(d?h-e.pointerX:0),E=Math.floor(f?p-e.pointerY:0);const O=k+(c?-S:S),C=N+(u?-E:E),A=-s[0]*k,D=-s[1]*N;let M=Gd(O,x,v),$=Gd(C,y,b);if(i){let T=0,P=0;c&&S<0?T=Qa(w+S+A,i[0][0]):!c&&S>0&&(T=Ja(w+O+A,i[1][0])),u&&E<0?P=Qa(j+E+D,i[0][1]):!u&&E>0&&(P=Ja(j+C+D,i[1][1])),M=Math.max(M,T),$=Math.max($,P)}if(l){let T=0,P=0;c&&S>0?T=Ja(w+S,l[0][0]):!c&&S<0&&(T=Qa(w+O,l[1][0])),u&&E>0?P=Ja(j+E,l[0][1]):!u&&E<0&&(P=Qa(j+C,l[1][1])),M=Math.max(M,T),$=Math.max($,P)}if(a){if(d){const T=Gd(O/_,y,b)*_;if(M=Math.max(M,T),i){let P=0;!c&&!u||c&&!u&&m?P=Ja(j+D+O/_,i[1][1])*_:P=Qa(j+D+(c?S:-S)/_,i[0][1])*_,M=Math.max(M,P)}if(l){let P=0;!c&&!u||c&&!u&&m?P=Qa(j+O/_,l[1][1])*_:P=Ja(j+(c?S:-S)/_,l[0][1])*_,M=Math.max(M,P)}}if(f){const T=Gd(C*_,x,v)/_;if($=Math.max($,T),i){let P=0;!c&&!u||u&&!c&&m?P=Ja(w+C*_+A,i[1][0])/_:P=Qa(w+(u?E:-E)*_+A,i[0][0])/_,$=Math.max($,P)}if(l){let P=0;!c&&!u||u&&!c&&m?P=Qa(w+C*_,l[1][0])/_:P=Ja(w+(u?E:-E)*_,l[0][0])/_,$=Math.max($,P)}}}E=E+(E<0?$:-$),S=S+(S<0?M:-M),a&&(m?O>C*_?E=(fN(c,u)?-S:S)/_:S=(fN(c,u)?-E:E)*_:d?(E=S/_,u=c):(S=E*_,c=u));const I=c?w+S:w,R=u?j+E:j;return{width:k+(c?-S:S),height:N+(u?-E:E),x:s[0]*S*(c?-1:1)+I,y:s[1]*E*(u?-1:1)+R}}const EA={width:0,height:0,x:0,y:0},WH={...EA,pointerX:0,pointerY:0,aspectRatio:1};function KH(e){return[[0,0],[e.measured.width,e.measured.height]]}function qH(e,t,r){const n=t.position.x+e.position.x,a=t.position.y+e.position.y,s=e.measured.width??0,i=e.measured.height??0,l=r[0]*s,c=r[1]*i;return[[n-l,a-c],[n+s-l,a+i-c]]}function YH({domNode:e,nodeId:t,getStoreItems:r,onChange:n,onEnd:a}){const s=Or(e);let i={controlDirection:dN("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:m,onResizeStart:h,onResize:p,onResizeEnd:x,shouldResize:v}){let y={...EA},b={...WH};i={boundaries:d,resizeDirection:m,keepAspectRatio:f,controlDirection:dN(u)};let w,j=null,k=[],N,_,S,E=!1;const O=RO().on("start",C=>{const{nodeLookup:A,transform:D,snapGrid:M,snapToGrid:$,nodeOrigin:I,paneDomNode:R}=r();if(w=A.get(t),!w)return;j=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:P}=_c(C.sourceEvent,{transform:D,snapGrid:M,snapToGrid:$,containerBounds:j});y={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},b={...y,pointerX:T,pointerY:P,aspectRatio:y.width/y.height},N=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(N=A.get(w.parentId),_=N&&w.extent==="parent"?KH(N):void 0),k=[],S=void 0;for(const[L,F]of A)if(F.parentId===t&&(k.push({id:L,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const U=qH(F,w,F.origin??I);S?S=[[Math.min(U[0][0],S[0][0]),Math.min(U[0][1],S[0][1])],[Math.max(U[1][0],S[1][0]),Math.max(U[1][1],S[1][1])]]:S=U}h==null||h(C,{...y})}).on("drag",C=>{const{transform:A,snapGrid:D,snapToGrid:M,nodeOrigin:$}=r(),I=_c(C.sourceEvent,{transform:A,snapGrid:D,snapToGrid:M,containerBounds:j}),R=[];if(!w)return;const{x:T,y:P,width:L,height:F}=y,U={},q=w.origin??$,{width:Y,height:re,x:ne,y:G}=VH(b,i.controlDirection,I,i.boundaries,i.keepAspectRatio,q,_,S),Q=Y!==L,B=re!==F,te=ne!==T&&Q,J=G!==P&&B;if(!te&&!J&&!Q&&!B)return;if((te||J||q[0]===1||q[1]===1)&&(U.x=te?ne:y.x,U.y=J?G:y.y,y.x=U.x,y.y=U.y,k.length>0)){const ge=ne-T,pe=G-P;for(const Te of k)Te.position={x:Te.position.x-ge+q[0]*(Y-L),y:Te.position.y-pe+q[1]*(re-F)},R.push(Te)}if((Q||B)&&(U.width=Q&&(!i.resizeDirection||i.resizeDirection==="horizontal")?Y:y.width,U.height=B&&(!i.resizeDirection||i.resizeDirection==="vertical")?re:y.height,y.width=U.width,y.height=U.height),N&&w.expandParent){const ge=q[0]*(U.width??0);U.x&&U.x<ge&&(y.x=ge,b.x=b.x-(U.x-ge));const pe=q[1]*(U.height??0);U.y&&U.y<pe&&(y.y=pe,b.y=b.y-(U.y-pe))}const K=HH({width:y.width,prevWidth:L,height:y.height,prevHeight:F,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),ae={...y,direction:K};(v==null?void 0:v(C,ae))!==!1&&(E=!0,p==null||p(C,ae),n(U,R))}).on("end",C=>{E&&(x==null||x(C,{...y}),a==null||a({...y}),E=!1)});s.call(O)}function c(){s.on(".drag",null)}return{update:l,destroy:c}}const{useDebugValue:GH}=Mr,{useSyncExternalStoreWithSelector:XH}=bO,QH=e=>e;function CA(e,t=QH,r){const n=XH(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return GH(n),n}const mN=(e,t)=>{const r=hO(e),n=(a,s=t)=>CA(r,a,s);return Object.assign(n,r),n},JH=(e,t)=>e?mN(e,t):mN;function Ke(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const np=g.createContext(null),ZH=np.Provider,PA=Zn.error001();function je(e,t){const r=g.useContext(np);if(r===null)throw new Error(PA);return CA(r,e,t)}function qe(){const e=g.useContext(np);if(e===null)throw new Error(PA);return g.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const hN={display:"none"},eV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},OA="react-flow__node-desc",AA="react-flow__edge-desc",tV="react-flow__aria-live",rV=e=>e.ariaLiveMessage,nV=e=>e.ariaLabelConfig;function aV({rfId:e}){const t=je(rV);return o.jsx("div",{id:`${tV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:eV,children:t})}function sV({rfId:e,disableKeyboardA11y:t}){const r=je(nV);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${OA}-${e}`,style:hN,children:t?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${AA}-${e}`,style:hN,children:r["edge.a11yDescription.default"]}),!t&&o.jsx(aV,{rfId:e})]})}const ap=g.forwardRef(({position:e="top-left",children:t,className:r,style:n,...a},s)=>{const i=`${e}`.split("-");return o.jsx("div",{className:mt(["react-flow__panel",r,...i]),style:n,ref:s,...a,children:t})});ap.displayName="Panel";function iV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:o.jsx(ap,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const oV=e=>{const t=[],r=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,n]of e.edgeLookup)n.selected&&r.push(n);return{selectedNodes:t,selectedEdges:r}},Xd=e=>e.id;function lV(e,t){return Ke(e.selectedNodes.map(Xd),t.selectedNodes.map(Xd))&&Ke(e.selectedEdges.map(Xd),t.selectedEdges.map(Xd))}function cV({onSelectionChange:e}){const t=qe(),{selectedNodes:r,selectedEdges:n}=je(oV,lV);return g.useEffect(()=>{const a={nodes:r,edges:n};e==null||e(a),t.getState().onSelectionChangeHandlers.forEach(s=>s(a))},[r,n,e]),null}const uV=e=>!!e.onSelectionChangeHandlers;function dV({onSelectionChange:e}){const t=je(uV);return e||t?o.jsx(cV,{onSelectionChange:e}):null}const MA=[0,0],fV={x:0,y:0,zoom:1},mV=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],pN=[...mV,"rfId"],hV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),gN={translateExtent:eu,nodeOrigin:MA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function pV(e){const{setNodes:t,setEdges:r,setMinZoom:n,setMaxZoom:a,setTranslateExtent:s,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:c}=je(hV,Ke),u=qe();g.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=gN,l()}),[]);const d=g.useRef(gN);return g.useEffect(()=>{for(const f of pN){const m=e[f],h=d.current[f];m!==h&&(typeof e[f]>"u"||(f==="nodes"?t(m):f==="edges"?r(m):f==="minZoom"?n(m):f==="maxZoom"?a(m):f==="translateExtent"?s(m):f==="nodeExtent"?i(m):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:oH(m)}):f==="fitView"?u.setState({fitViewQueued:m}):f==="fitViewOptions"?u.setState({fitViewOptions:m}):u.setState({[f]:m})))}d.current=e},pN.map(f=>e[f])),null}function yN(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function gV(e){var n;const[t,r]=g.useState(e==="system"?null:e);return g.useEffect(()=>{if(e!=="system"){r(e);return}const a=yN(),s=()=>r(a!=null&&a.matches?"dark":"light");return s(),a==null||a.addEventListener("change",s),()=>{a==null||a.removeEventListener("change",s)}},[e]),t!==null?t:(n=yN())!=null&&n.matches?"dark":"light"}const xN=typeof document<"u"?document:null;function au(e=null,t={target:xN,actInsideInputWithModifier:!0}){const[r,n]=g.useState(!1),a=g.useRef(!1),s=g.useRef(new Set([])),[i,l]=g.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,m)=>f.concat(...m),[]);return[u,d]}return[[],[]]},[e]);return g.useEffect(()=>{const c=(t==null?void 0:t.target)??xN,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=h=>{var v,y;if(a.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!a.current||a.current&&!u)&&uA(h))return!1;const x=bN(h.code,l);if(s.current.add(h[x]),vN(i,s.current,!1)){const b=((y=(v=h.composedPath)==null?void 0:v.call(h))==null?void 0:y[0])||h.target,w=(b==null?void 0:b.nodeName)==="BUTTON"||(b==null?void 0:b.nodeName)==="A";t.preventDefault!==!1&&(a.current||!w)&&h.preventDefault(),n(!0)}},f=h=>{const p=bN(h.code,l);vN(i,s.current,!0)?(n(!1),s.current.clear()):s.current.delete(h[p]),h.key==="Meta"&&s.current.clear(),a.current=!1},m=()=>{s.current.clear(),n(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[e,n]),r}function vN(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(a=>t.has(a)))}function bN(e,t){return t.includes(e)?"code":"key"}const yV=()=>{const e=qe();return g.useMemo(()=>({zoomIn:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,r)=>{const{panZoom:n}=e.getState();return n?n.scaleTo(t,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,r)=>{const{transform:[n,a,s],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??n,y:t.y??a,zoom:t.zoom??s},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,r,n]=e.getState().transform;return{x:t,y:r,zoom:n}},setCenter:async(t,r,n)=>e.getState().setCenter(t,r,n),fitBounds:async(t,r)=>{const{width:n,height:a,minZoom:s,maxZoom:i,panZoom:l}=e.getState(),c=Sb(t,n,a,s,i,(r==null?void 0:r.padding)??.1);return l?(await l.setViewport(c,{duration:r==null?void 0:r.duration,ease:r==null?void 0:r.ease,interpolate:r==null?void 0:r.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,r={})=>{const{transform:n,snapGrid:a,snapToGrid:s,domNode:i}=e.getState();if(!i)return t;const{x:l,y:c}=i.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=r.snapGrid??a,f=r.snapToGrid??s;return Hu(u,n,f,d)},flowToScreenPosition:t=>{const{transform:r,domNode:n}=e.getState();if(!n)return t;const{x:a,y:s}=n.getBoundingClientRect(),i=Cm(t,r);return{x:i.x+a,y:i.y+s}}}),[])};function TA(e,t){const r=[],n=new Map,a=[];for(const s of e)if(s.type==="add"){a.push(s);continue}else if(s.type==="remove"||s.type==="replace")n.set(s.id,[s]);else{const i=n.get(s.id);i?i.push(s):n.set(s.id,[s])}for(const s of t){const i=n.get(s.id);if(!i){r.push(s);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){r.push({...i[0].item});continue}const l={...s};for(const c of i)xV(c,l);r.push(l)}return a.length&&a.forEach(s=>{s.index!==void 0?r.splice(s.index,0,{...s.item}):r.push({...s.item})}),r}function xV(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function IA(e,t){return TA(e,t)}function DA(e,t){return TA(e,t)}function Qs(e,t){return{id:e,type:"select",selected:t}}function xo(e,t=new Set,r=!1){const n=[];for(const[a,s]of e){const i=t.has(a);!(s.selected===void 0&&!i)&&s.selected!==i&&(r&&(s.selected=i),n.push(Qs(s.id,i)))}return n}function wN({items:e=[],lookup:t}){var a;const r=[],n=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const l=t.get(i.id),c=((a=l==null?void 0:l.internals)==null?void 0:a.userNode)??l;c!==void 0&&c!==i&&r.push({id:i.id,item:i,type:"replace"}),c===void 0&&r.push({item:i,type:"add",index:s})}for(const[s]of t)n.get(s)===void 0&&r.push({id:s,type:"remove"});return r}function jN(e){return{id:e.id,type:"remove"}}const kN=e=>QU(e),vV=e=>rA(e);function RA(e){return g.forwardRef(e)}const bV=typeof window<"u"?g.useLayoutEffect:g.useEffect;function NN(e){const[t,r]=g.useState(BigInt(0)),[n]=g.useState(()=>wV(()=>r(a=>a+BigInt(1))));return bV(()=>{const a=n.get();a.length&&(e(a),n.reset())},[t]),n}function wV(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:r=>{t.push(r),e()}}}const LA=g.createContext(null);function jV({children:e}){const t=qe(),r=g.useCallback(l=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:m,fitViewQueued:h,onNodesChangeMiddlewareMap:p}=t.getState();let x=c;for(const y of l)x=typeof y=="function"?y(x):y;let v=wN({items:x,lookup:m});for(const y of p.values())v=y(v);d&&u(x),v.length>0?f==null||f(v):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:b,setNodes:w}=t.getState();y&&w(b)})},[]),n=NN(r),a=g.useCallback(l=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:m}=t.getState();let h=c;for(const p of l)h=typeof p=="function"?p(h):p;d?u(h):f&&f(wN({items:h,lookup:m}))},[]),s=NN(a),i=g.useMemo(()=>({nodeQueue:n,edgeQueue:s}),[]);return o.jsx(LA.Provider,{value:i,children:e})}function kV(){const e=g.useContext(LA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const NV=e=>!!e.panZoom;function kl(){const e=yV(),t=qe(),r=kV(),n=je(NV),a=g.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),i=f=>{r.nodeQueue.push(f)},l=f=>{r.edgeQueue.push(f)},c=f=>{var y,b;const{nodeLookup:m,nodeOrigin:h}=t.getState(),p=kN(f)?f:m.get(f.id),x=p.parentId?lA(p.position,p.measured,p.parentId,m,h):p.position,v={...p,position:x,width:((y=p.measured)==null?void 0:y.width)??p.width,height:((b=p.measured)==null?void 0:b.height)??p.height};return tl(v)},u=(f,m,h={replace:!1})=>{i(p=>p.map(x=>{if(x.id===f){const v=typeof m=="function"?m(x):m;return h.replace&&kN(v)?v:{...x,...v}}return x}))},d=(f,m,h={replace:!1})=>{l(p=>p.map(x=>{if(x.id===f){const v=typeof m=="function"?m(x):m;return h.replace&&vV(v)?v:{...x,...v}}return x}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var m;return(m=s(f))==null?void 0:m.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(m=>({...m}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:l,addNodes:f=>{const m=Array.isArray(f)?f:[f];r.nodeQueue.push(h=>[...h,...m])},addEdges:f=>{const m=Array.isArray(f)?f:[f];r.edgeQueue.push(h=>[...h,...m])},toObject:()=>{const{nodes:f=[],edges:m=[],transform:h}=t.getState(),[p,x,v]=h;return{nodes:f.map(y=>({...y})),edges:m.map(y=>({...y})),viewport:{x:p,y:x,zoom:v}}},deleteElements:async({nodes:f=[],edges:m=[]})=>{const{nodes:h,edges:p,onNodesDelete:x,onEdgesDelete:v,triggerNodeChanges:y,triggerEdgeChanges:b,onDelete:w,onBeforeDelete:j}=t.getState(),{nodes:k,edges:N}=await rH({nodesToRemove:f,edgesToRemove:m,nodes:h,edges:p,onBeforeDelete:j}),_=N.length>0,S=k.length>0;if(_){const E=N.map(jN);v==null||v(N),b(E)}if(S){const E=k.map(jN);x==null||x(k),y(E)}return(S||_)&&(w==null||w({nodes:k,edges:N})),{deletedNodes:k,deletedEdges:N}},getIntersectingNodes:(f,m=!0,h)=>{const p=eN(f),x=p?f:c(f),v=h!==void 0;return x?(h||t.getState().nodes).filter(y=>{const b=t.getState().nodeLookup.get(y.id);if(b&&!p&&(y.id===f.id||!b.internals.positionAbsolute))return!1;const w=tl(v?y:b),j=ru(w,x);return m&&j>0||j>=w.width*w.height||j>=x.width*x.height}):[]},isNodeIntersecting:(f,m,h=!0)=>{const x=eN(f)?f:c(f);if(!x)return!1;const v=ru(x,m);return h&&v>0||v>=m.width*m.height||v>=x.width*x.height},updateNode:u,updateNodeData:(f,m,h={replace:!1})=>{u(f,p=>{const x=typeof m=="function"?m(p):m;return h.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},h)},updateEdge:d,updateEdgeData:(f,m,h={replace:!1})=>{d(f,p=>{const x=typeof m=="function"?m(p):m;return h.replace?{...p,data:x}:{...p,data:{...p.data,...x}}},h)},getNodesBounds:f=>{const{nodeLookup:m,nodeOrigin:h}=t.getState();return JU(f,{nodeLookup:m,nodeOrigin:h})},getHandleConnections:({type:f,id:m,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${m?`-${m}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:m,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?m?`-${f}-${m}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const m=t.getState().fitViewResolver??iH();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:m}),r.nodeQueue.push(h=>[...h]),m.promise}}},[]);return g.useMemo(()=>({...a,...e,viewportInitialized:n}),[n])}const SN=e=>e.selected,SV=typeof window<"u"?window:void 0;function _V({deleteKeyCode:e,multiSelectionKeyCode:t}){const r=qe(),{deleteElements:n}=kl(),a=au(e,{actInsideInputWithModifier:!1}),s=au(t,{target:SV});g.useEffect(()=>{if(a){const{edges:i,nodes:l}=r.getState();n({nodes:l.filter(SN),edges:i.filter(SN)}),r.setState({nodesSelectionActive:!1})}},[a]),g.useEffect(()=>{r.setState({multiSelectionActive:s})},[s])}function EV(e){const t=qe();g.useEffect(()=>{const r=()=>{var a,s,i,l;if(!e.current||!(((s=(a=e.current).checkVisibility)==null?void 0:s.call(a))??!0))return!1;const n=_b(e.current);(n.height===0||n.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",Zn.error004())),t.setState({width:n.width||500,height:n.height||500})};if(e.current){r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>r());return n.observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}}},[])}const sp={position:"absolute",width:"100%",height:"100%",top:0,left:0},CV=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function PV({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:r=!0,panOnScroll:n=!1,panOnScrollSpeed:a=.5,panOnScrollMode:s=Ni.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:m,preventScrolling:h=!0,children:p,noWheelClassName:x,noPanClassName:v,onViewportChange:y,isControlledViewport:b,paneClickDistance:w,selectionOnDrag:j}){const k=qe(),N=g.useRef(null),{userSelectionActive:_,lib:S,connectionInProgress:E}=je(CV,Ke),O=au(m),C=g.useRef();EV(N);const A=g.useCallback(D=>{y==null||y({x:D[0],y:D[1],zoom:D[2]}),b||k.setState({transform:D})},[y,b]);return g.useEffect(()=>{if(N.current){C.current=UH({domNode:N.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:I=>k.setState({paneDragging:I}),onPanZoomStart:(I,R)=>{const{onViewportChangeStart:T,onMoveStart:P}=k.getState();P==null||P(I,R),T==null||T(R)},onPanZoom:(I,R)=>{const{onViewportChange:T,onMove:P}=k.getState();P==null||P(I,R),T==null||T(R)},onPanZoomEnd:(I,R)=>{const{onViewportChangeEnd:T,onMoveEnd:P}=k.getState();P==null||P(I,R),T==null||T(R)}});const{x:D,y:M,zoom:$}=C.current.getViewport();return k.setState({panZoom:C.current,transform:[D,M,$],domNode:N.current.closest(".react-flow")}),()=>{var I;(I=C.current)==null||I.destroy()}}},[]),g.useEffect(()=>{var D;(D=C.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:r,panOnScroll:n,panOnScrollSpeed:a,panOnScrollMode:s,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:O,preventScrolling:h,noPanClassName:v,userSelectionActive:_,noWheelClassName:x,lib:S,onTransformChange:A,connectionInProgress:E,selectionOnDrag:j,paneClickDistance:w})},[e,t,r,n,a,s,i,l,O,h,v,_,x,S,A,E,j,w]),o.jsx("div",{className:"react-flow__renderer",ref:N,style:sp,children:p})}const OV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function AV(){const{userSelectionActive:e,userSelectionRect:t}=je(OV,Ke);return e&&t?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Yg=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},MV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function TV({isSelecting:e,selectionKeyPressed:t,selectionMode:r=tu.Full,panOnDrag:n,paneClickDistance:a,selectionOnDrag:s,onSelectionStart:i,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:m,onPaneMouseLeave:h,children:p}){const x=qe(),{userSelectionActive:v,elementsSelectable:y,dragging:b,connectionInProgress:w}=je(MV,Ke),j=y&&(e||v),k=g.useRef(null),N=g.useRef(),_=g.useRef(new Set),S=g.useRef(new Set),E=g.useRef(!1),O=T=>{if(E.current||w){E.current=!1;return}c==null||c(T),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},C=T=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){T.preventDefault();return}u==null||u(T)},A=d?T=>d(T):void 0,D=T=>{E.current&&(T.stopPropagation(),E.current=!1)},M=T=>{var re,ne;const{domNode:P}=x.getState();if(N.current=P==null?void 0:P.getBoundingClientRect(),!N.current)return;const L=T.target===k.current;if(!L&&!!T.target.closest(".nokey")||!e||!(s&&L||t)||T.button!==0||!T.isPrimary)return;(ne=(re=T.target)==null?void 0:re.setPointerCapture)==null||ne.call(re,T.pointerId),E.current=!1;const{x:q,y:Y}=Nn(T.nativeEvent,N.current);x.setState({userSelectionRect:{width:0,height:0,startX:q,startY:Y,x:q,y:Y}}),L||(T.stopPropagation(),T.preventDefault())},$=T=>{const{userSelectionRect:P,transform:L,nodeLookup:F,edgeLookup:U,connectionLookup:q,triggerNodeChanges:Y,triggerEdgeChanges:re,defaultEdgeOptions:ne,resetSelectedElements:G}=x.getState();if(!N.current||!P)return;const{x:Q,y:B}=Nn(T.nativeEvent,N.current),{startX:te,startY:J}=P;if(!E.current){const pe=t?0:a;if(Math.hypot(Q-te,B-J)<=pe)return;G(),i==null||i(T)}E.current=!0;const K={startX:te,startY:J,x:Q<te?Q:te,y:B<J?B:J,width:Math.abs(Q-te),height:Math.abs(B-J)},ae=_.current,ce=S.current;_.current=new Set(Nb(F,K,L,r===tu.Partial,!0).map(pe=>pe.id)),S.current=new Set;const ge=(ne==null?void 0:ne.selectable)??!0;for(const pe of _.current){const Te=q.get(pe);if(Te)for(const{edgeId:dr}of Te.values()){const Vr=U.get(dr);Vr&&(Vr.selectable??ge)&&S.current.add(dr)}}if(!tN(ae,_.current)){const pe=xo(F,_.current,!0);Y(pe)}if(!tN(ce,S.current)){const pe=xo(U,S.current);re(pe)}x.setState({userSelectionRect:K,userSelectionActive:!0,nodesSelectionActive:!1})},I=T=>{var P,L;T.button===0&&((L=(P=T.target)==null?void 0:P.releasePointerCapture)==null||L.call(P,T.pointerId),!v&&T.target===k.current&&x.getState().userSelectionRect&&(O==null||O(T)),x.setState({userSelectionActive:!1,userSelectionRect:null}),E.current&&(l==null||l(T),x.setState({nodesSelectionActive:_.current.size>0})))},R=n===!0||Array.isArray(n)&&n.includes(0);return o.jsxs("div",{className:mt(["react-flow__pane",{draggable:R,dragging:b,selection:e}]),onClick:j?void 0:Yg(O,k),onContextMenu:Yg(C,k),onWheel:Yg(A,k),onPointerEnter:j?void 0:f,onPointerMove:j?$:m,onPointerUp:j?I:void 0,onPointerDownCapture:j?M:void 0,onClickCapture:j?D:void 0,onPointerLeave:h,ref:k,style:sp,children:[p,o.jsx(AV,{})]})}function Qy({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:a,unselectNodesAndEdges:s,multiSelectionActive:i,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",Zn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&i)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):a([e])}function $A({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:a,isSelectable:s,nodeClickDistance:i}){const l=qe(),[c,u]=g.useState(!1),d=g.useRef();return g.useEffect(()=>{d.current=CH({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{Qy({id:f,store:l,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),g.useEffect(()=>{var f,m;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(m=d.current)==null||m.update({noDragClassName:r,handleSelector:n,domNode:e.current,isSelectable:s,nodeId:a,nodeClickDistance:i}),()=>{var h;(h=d.current)==null||h.destroy()}},[r,n,t,s,e,a]),c}const IV=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function zA(){const e=qe();return g.useCallback(r=>{const{nodeExtent:n,snapToGrid:a,snapGrid:s,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,m=IV(i),h=a?s[0]:5,p=a?s[1]:5,x=r.direction.x*h*r.factor,v=r.direction.y*p*r.factor;for(const[,y]of u){if(!m(y))continue;let b={x:y.internals.positionAbsolute.x+x,y:y.internals.positionAbsolute.y+v};a&&(b=Uu(b,s));const{position:w,positionAbsolute:j}=nA({nodeId:y.id,nextPosition:b,nodeLookup:u,nodeExtent:n,nodeOrigin:d,onError:l});y.position=w,y.internals.positionAbsolute=j,f.set(y.id,y)}c(f)},[])}const Mb=g.createContext(null),DV=Mb.Provider;Mb.Consumer;const FA=()=>g.useContext(Mb),RV=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),LV=(e,t,r)=>n=>{const{connectionClickStartHandle:a,connectionMode:s,connection:i}=n,{fromHandle:l,toHandle:c,isValid:u}=i,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===r;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===r,connectingTo:d,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===r,isPossibleEndHandle:s===Zo.Strict?(l==null?void 0:l.type)!==r:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!a,valid:d&&u}};function $V({type:e="source",position:t=fe.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:a=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...m},h){var $,I;const p=i||null,x=e==="target",v=qe(),y=FA(),{connectOnClick:b,noPanClassName:w,rfId:j}=je(RV,Ke),{connectingFrom:k,connectingTo:N,clickConnecting:_,isPossibleEndHandle:S,connectionInProcess:E,clickConnectionInProcess:O,valid:C}=je(LV(y,p,e),Ke);y||(I=($=v.getState()).onError)==null||I.call($,"010",Zn.error010());const A=R=>{const{defaultEdgeOptions:T,onConnect:P,hasDefaultEdges:L}=v.getState(),F={...T,...R};if(L){const{edges:U,setEdges:q}=v.getState();q(pA(F,U))}P==null||P(F),l==null||l(F)},D=R=>{if(!y)return;const T=dA(R.nativeEvent);if(a&&(T&&R.button===0||!T)){const P=v.getState();Xy.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:x,handleId:p,nodeId:y,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:P.onConnectEnd,updateConnection:P.updateConnection,onConnect:A,isValidConnection:r||P.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}T?d==null||d(R):f==null||f(R)},M=R=>{const{onClickConnectStart:T,onClickConnectEnd:P,connectionClickStartHandle:L,connectionMode:F,isValidConnection:U,lib:q,rfId:Y,nodeLookup:re,connection:ne}=v.getState();if(!y||!L&&!a)return;if(!L){T==null||T(R.nativeEvent,{nodeId:y,handleId:p,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:y,type:e,id:p}});return}const G=cA(R.target),Q=r||U,{connection:B,isValid:te}=Xy.isValid(R.nativeEvent,{handle:{nodeId:y,id:p,type:e},connectionMode:F,fromNodeId:L.nodeId,fromHandleId:L.id||null,fromType:L.type,isValidConnection:Q,flowId:Y,doc:G,lib:q,nodeLookup:re});te&&B&&A(B);const J=structuredClone(ne);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,P==null||P(R,J),v.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":p,"data-nodeid":y,"data-handlepos":t,"data-id":`${j}-${y}-${p}-${e}`,className:mt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!x,target:x,connectable:n,connectablestart:a,connectableend:s,clickconnecting:_,connectingfrom:k,connectingto:N,valid:C,connectionindicator:n&&(!E||S)&&(E||O?s:a)}]),onMouseDown:D,onTouchStart:D,onClick:b?M:void 0,ref:h,...m,children:c})}const al=g.memo(RA($V));function zV({data:e,isConnectable:t,sourcePosition:r=fe.Bottom}){return o.jsxs(o.Fragment,{children:[e==null?void 0:e.label,o.jsx(al,{type:"source",position:r,isConnectable:t})]})}function FV({data:e,isConnectable:t,targetPosition:r=fe.Top,sourcePosition:n=fe.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(al,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,o.jsx(al,{type:"source",position:n,isConnectable:t})]})}function BV(){return null}function UV({data:e,isConnectable:t,targetPosition:r=fe.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(al,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label]})}const Om={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},_N={input:zV,default:FV,output:UV,group:BV};function HV(e){var t,r,n,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((r=e.style)==null?void 0:r.height)}:{width:e.width??((n=e.style)==null?void 0:n.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const VV=e=>{const{width:t,height:r,x:n,y:a}=Bu(e.nodeLookup,{filter:s=>!!s.selected});return{width:kn(t)?t:null,height:kn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${n}px,${a}px)`}};function WV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=qe(),{width:a,height:s,transformString:i,userSelectionActive:l}=je(VV,Ke),c=zA(),u=g.useRef(null);if(g.useEffect(()=>{var m;r||(m=u.current)==null||m.focus({preventScroll:!0})},[r]),$A({nodeRef:u}),l||!a||!s)return null;const d=e?m=>{const h=n.getState().nodes.filter(p=>p.selected);e(m,h)}:void 0,f=m=>{Object.prototype.hasOwnProperty.call(Om,m.key)&&(m.preventDefault(),c({direction:Om[m.key],factor:m.shiftKey?4:1}))};return o.jsx("div",{className:mt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:o.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:r?void 0:-1,onKeyDown:r?void 0:f,style:{width:a,height:s}})})}const EN=typeof window<"u"?window:void 0,KV=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function BA({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:x,zoomActivationKeyCode:v,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:j,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:S,defaultViewport:E,translateExtent:O,minZoom:C,maxZoom:A,preventScrolling:D,onSelectionContextMenu:M,noWheelClassName:$,noPanClassName:I,disableKeyboardA11y:R,onViewportChange:T,isControlledViewport:P}){const{nodesSelectionActive:L,userSelectionActive:F}=je(KV,Ke),U=au(u,{target:EN}),q=au(x,{target:EN}),Y=q||S,re=q||j,ne=d&&Y!==!0,G=U||F||ne;return _V({deleteKeyCode:c,multiSelectionKeyCode:p}),o.jsx(PV,{onPaneContextMenu:s,elementsSelectable:y,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:re,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:_,panOnDrag:!U&&Y,defaultViewport:E,translateExtent:O,minZoom:C,maxZoom:A,zoomActivationKeyCode:v,preventScrolling:D,noWheelClassName:$,noPanClassName:I,onViewportChange:T,isControlledViewport:P,paneClickDistance:l,selectionOnDrag:ne,children:o.jsxs(TV,{onSelectionStart:m,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:Y,isSelecting:!!G,selectionMode:f,selectionKeyPressed:U,paneClickDistance:l,selectionOnDrag:ne,children:[e,L&&o.jsx(WV,{onSelectionContextMenu:M,noPanClassName:I,disableKeyboardA11y:R})]})})}BA.displayName="FlowRenderer";const qV=g.memo(BA),YV=e=>t=>e?Nb(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(r=>r.id):Array.from(t.nodeLookup.keys());function GV(e){return je(g.useCallback(YV(e),[e]),Ke)}const XV=e=>e.updateNodeInternals;function QV(){const e=je(XV),[t]=g.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const n=new Map;r.forEach(a=>{const s=a.target.getAttribute("data-id");n.set(s,{id:s,nodeElement:a.target,force:!0})}),e(n)}));return g.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function JV({node:e,nodeType:t,hasDimensions:r,resizeObserver:n}){const a=qe(),s=g.useRef(null),i=g.useRef(null),l=g.useRef(e.sourcePosition),c=g.useRef(e.targetPosition),u=g.useRef(t),d=r&&!!e.internals.handleBounds;return g.useEffect(()=>{s.current&&!e.hidden&&(!d||i.current!==s.current)&&(i.current&&(n==null||n.unobserve(i.current)),n==null||n.observe(s.current),i.current=s.current)},[d,e.hidden]),g.useEffect(()=>()=>{i.current&&(n==null||n.unobserve(i.current),i.current=null)},[]),g.useEffect(()=>{if(s.current){const f=u.current!==t,m=l.current!==e.sourcePosition,h=c.current!==e.targetPosition;(f||m||h)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function ZV({id:e,onClick:t,onMouseEnter:r,onMouseMove:n,onMouseLeave:a,onContextMenu:s,onDoubleClick:i,nodesDraggable:l,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:m,noPanClassName:h,disableKeyboardA11y:p,rfId:x,nodeTypes:v,nodeClickDistance:y,onError:b}){const{node:w,internals:j,isParent:k}=je(Q=>{const B=Q.nodeLookup.get(e),te=Q.parentLookup.has(e);return{node:B,internals:B.internals,isParent:te}},Ke);let N=w.type||"default",_=(v==null?void 0:v[N])||_N[N];_===void 0&&(b==null||b("003",Zn.error003(N)),N="default",_=(v==null?void 0:v.default)||_N.default);const S=!!(w.draggable||l&&typeof w.draggable>"u"),E=!!(w.selectable||c&&typeof w.selectable>"u"),O=!!(w.connectable||u&&typeof w.connectable>"u"),C=!!(w.focusable||d&&typeof w.focusable>"u"),A=qe(),D=oA(w),M=JV({node:w,nodeType:N,hasDimensions:D,resizeObserver:f}),$=$A({nodeRef:M,disabled:w.hidden||!S,noDragClassName:m,handleSelector:w.dragHandle,nodeId:e,isSelectable:E,nodeClickDistance:y}),I=zA();if(w.hidden)return null;const R=Va(w),T=HV(w),P=E||S||t||r||n||a,L=r?Q=>r(Q,{...j.userNode}):void 0,F=n?Q=>n(Q,{...j.userNode}):void 0,U=a?Q=>a(Q,{...j.userNode}):void 0,q=s?Q=>s(Q,{...j.userNode}):void 0,Y=i?Q=>i(Q,{...j.userNode}):void 0,re=Q=>{const{selectNodesOnDrag:B,nodeDragThreshold:te}=A.getState();E&&(!B||!S||te>0)&&Qy({id:e,store:A,nodeRef:M}),t&&t(Q,{...j.userNode})},ne=Q=>{if(!(uA(Q.nativeEvent)||p)){if(JO.includes(Q.key)&&E){const B=Q.key==="Escape";Qy({id:e,store:A,unselect:B,nodeRef:M})}else if(S&&w.selected&&Object.prototype.hasOwnProperty.call(Om,Q.key)){Q.preventDefault();const{ariaLabelConfig:B}=A.getState();A.setState({ariaLiveMessage:B["node.a11yDescription.ariaLiveMessage"]({direction:Q.key.replace("Arrow","").toLowerCase(),x:~~j.positionAbsolute.x,y:~~j.positionAbsolute.y})}),I({direction:Om[Q.key],factor:Q.shiftKey?4:1})}}},G=()=>{var ce;if(p||!((ce=M.current)!=null&&ce.matches(":focus-visible")))return;const{transform:Q,width:B,height:te,autoPanOnNodeFocus:J,setCenter:K}=A.getState();if(!J)return;Nb(new Map([[e,w]]),{x:0,y:0,width:B,height:te},Q,!0).length>0||K(w.position.x+R.width/2,w.position.y+R.height/2,{zoom:Q[2]})};return o.jsx("div",{className:mt(["react-flow__node",`react-flow__node-${N}`,{[h]:S},w.className,{selected:w.selected,selectable:E,parent:k,draggable:S,dragging:$}]),ref:M,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:P?"all":"none",visibility:D?"visible":"hidden",...w.style,...T},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:L,onMouseMove:F,onMouseLeave:U,onContextMenu:q,onClick:re,onDoubleClick:Y,onKeyDown:C?ne:void 0,tabIndex:C?0:void 0,onFocus:C?G:void 0,role:w.ariaRole??(C?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${OA}-${x}`,"aria-label":w.ariaLabel,...w.domAttributes,children:o.jsx(DV,{value:e,children:o.jsx(_,{id:e,data:w.data,type:N,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:w.selected??!1,selectable:E,draggable:S,deletable:w.deletable??!0,isConnectable:O,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:$,dragHandle:w.dragHandle,zIndex:j.z,parentId:w.parentId,...R})})})}var eW=g.memo(ZV);const tW=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function UA(e){const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,onError:s}=je(tW,Ke),i=GV(e.onlyRenderVisibleElements),l=QV();return o.jsx("div",{className:"react-flow__nodes",style:sp,children:i.map(c=>o.jsx(eW,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:s},c))})}UA.displayName="NodeRenderer";const rW=g.memo(UA);function nW(e){return je(g.useCallback(r=>{if(!e)return r.edges.map(a=>a.id);const n=[];if(r.width&&r.height)for(const a of r.edges){const s=r.nodeLookup.get(a.source),i=r.nodeLookup.get(a.target);s&&i&&uH({sourceNode:s,targetNode:i,width:r.width,height:r.height,transform:r.transform})&&n.push(a.id)}return n},[e]),Ke)}const aW=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},sW=({color:e="none",strokeWidth:t=1})=>{const r={strokeWidth:t,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},CN={[_m.Arrow]:aW,[_m.ArrowClosed]:sW};function iW(e){const t=qe();return g.useMemo(()=>{var a,s;return Object.prototype.hasOwnProperty.call(CN,e)?CN[e]:((s=(a=t.getState()).onError)==null||s.call(a,"009",Zn.error009(e)),null)},[e])}const oW=({id:e,type:t,color:r,width:n=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const c=iW(t);return c?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:o.jsx(c,{color:r,strokeWidth:i})}):null},HA=({defaultColor:e,rfId:t})=>{const r=je(s=>s.edges),n=je(s=>s.defaultEdgeOptions),a=g.useMemo(()=>yH(r,{id:t,defaultColor:e,defaultMarkerStart:n==null?void 0:n.markerStart,defaultMarkerEnd:n==null?void 0:n.markerEnd}),[r,n,t,e]);return a.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:a.map(s=>o.jsx(oW,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};HA.displayName="MarkerDefinitions";var lW=g.memo(HA);function VA({x:e,y:t,label:r,labelStyle:n,labelShowBg:a=!0,labelBgStyle:s,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d}){const[f,m]=g.useState({x:1,y:0,width:0,height:0}),h=mt(["react-flow__edge-textwrapper",u]),p=g.useRef(null);return g.useEffect(()=>{if(p.current){const x=p.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...d,children:[a&&o.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),o.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:n,children:r}),c]}):null}VA.displayName="EdgeText";const cW=g.memo(VA);function sl({path:e,labelX:t,labelY:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...d,d:e,fill:"none",className:mt(["react-flow__edge-path",d.className])}),u?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,n&&kn(t)&&kn(r)?o.jsx(cW,{x:t,y:r,label:n,labelStyle:a,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function PN({pos:e,x1:t,y1:r,x2:n,y2:a}){return e===fe.Left||e===fe.Right?[.5*(t+n),r]:[t,.5*(r+a)]}function WA({sourceX:e,sourceY:t,sourcePosition:r=fe.Bottom,targetX:n,targetY:a,targetPosition:s=fe.Top}){const[i,l]=PN({pos:r,x1:e,y1:t,x2:n,y2:a}),[c,u]=PN({pos:s,x1:n,y1:a,x2:e,y2:t}),[d,f,m,h]=fA({sourceX:e,sourceY:t,targetX:n,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${i},${l} ${c},${u} ${n},${a}`,d,f,m,h]}function KA(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:y})=>{const[b,w,j]=WA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l}),k=e.isInternal?void 0:t;return o.jsx(sl,{id:k,path:b,labelX:w,labelY:j,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:y})})}const uW=KA({isInternal:!1}),qA=KA({isInternal:!0});uW.displayName="SimpleBezierEdge";qA.displayName="SimpleBezierEdgeInternal";function YA(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,sourcePosition:h=fe.Bottom,targetPosition:p=fe.Top,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[w,j,k]=Pm({sourceX:r,sourceY:n,sourcePosition:h,targetX:a,targetY:s,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset,stepPosition:y==null?void 0:y.stepPosition}),N=e.isInternal?void 0:t;return o.jsx(sl,{id:N,path:w,labelX:j,labelY:k,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:x,markerStart:v,interactionWidth:b})})}const GA=YA({isInternal:!1}),XA=YA({isInternal:!0});GA.displayName="SmoothStepEdge";XA.displayName="SmoothStepEdgeInternal";function QA(e){return g.memo(({id:t,...r})=>{var a;const n=e.isInternal?void 0:t;return o.jsx(GA,{...r,id:n,pathOptions:g.useMemo(()=>{var s;return{borderRadius:0,offset:(s=r.pathOptions)==null?void 0:s.offset}},[(a=r.pathOptions)==null?void 0:a.offset])})})}const dW=QA({isInternal:!1}),JA=QA({isInternal:!0});dW.displayName="StepEdge";JA.displayName="StepEdgeInternal";function ZA(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:x})=>{const[v,y,b]=gA({sourceX:r,sourceY:n,targetX:a,targetY:s}),w=e.isInternal?void 0:t;return o.jsx(sl,{id:w,path:v,labelX:y,labelY:b,label:i,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:m,markerEnd:h,markerStart:p,interactionWidth:x})})}const fW=ZA({isInternal:!1}),eM=ZA({isInternal:!0});fW.displayName="StraightEdge";eM.displayName="StraightEdgeInternal";function tM(e){return g.memo(({id:t,sourceX:r,sourceY:n,targetX:a,targetY:s,sourcePosition:i=fe.Bottom,targetPosition:l=fe.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[w,j,k]=mA({sourceX:r,sourceY:n,sourcePosition:i,targetX:a,targetY:s,targetPosition:l,curvature:y==null?void 0:y.curvature}),N=e.isInternal?void 0:t;return o.jsx(sl,{id:N,path:w,labelX:j,labelY:k,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:h,style:p,markerEnd:x,markerStart:v,interactionWidth:b})})}const mW=tM({isInternal:!1}),rM=tM({isInternal:!0});mW.displayName="BezierEdge";rM.displayName="BezierEdgeInternal";const ON={default:rM,straight:eM,step:JA,smoothstep:XA,simplebezier:qA},AN={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},hW=(e,t,r)=>r===fe.Left?e-t:r===fe.Right?e+t:e,pW=(e,t,r)=>r===fe.Top?e-t:r===fe.Bottom?e+t:e,MN="react-flow__edgeupdater";function TN({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:a,onMouseEnter:s,onMouseOut:i,type:l}){return o.jsx("circle",{onMouseDown:a,onMouseEnter:s,onMouseOut:i,className:mt([MN,`${MN}-${l}`]),cx:hW(t,n,e),cy:pW(r,n,e),r:n,stroke:"transparent",fill:"transparent"})}function gW({isReconnectable:e,reconnectRadius:t,edge:r,sourceX:n,sourceY:a,targetX:s,targetY:i,sourcePosition:l,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:m,setUpdateHover:h}){const p=qe(),x=(j,k)=>{if(j.button!==0)return;const{autoPanOnConnect:N,domNode:_,isValidConnection:S,connectionMode:E,connectionRadius:O,lib:C,onConnectStart:A,onConnectEnd:D,cancelConnection:M,nodeLookup:$,rfId:I,panBy:R,updateConnection:T}=p.getState(),P=k.type==="target",L=(q,Y)=>{m(!1),f==null||f(q,r,k.type,Y)},F=q=>u==null?void 0:u(r,q),U=(q,Y)=>{m(!0),d==null||d(j,r,k.type),A==null||A(q,Y)};Xy.onPointerDown(j.nativeEvent,{autoPanOnConnect:N,connectionMode:E,connectionRadius:O,domNode:_,handleId:k.id,nodeId:k.nodeId,nodeLookup:$,isTarget:P,edgeUpdaterType:k.type,lib:C,flowId:I,cancelConnection:M,panBy:R,isValidConnection:S,onConnect:F,onConnectStart:U,onConnectEnd:D,onReconnectEnd:L,updateConnection:T,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:j.currentTarget})},v=j=>x(j,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),y=j=>x(j,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),b=()=>h(!0),w=()=>h(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(TN,{position:l,centerX:n,centerY:a,radius:t,onMouseDown:v,onMouseEnter:b,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&o.jsx(TN,{position:c,centerX:s,centerY:i,radius:t,onMouseDown:y,onMouseEnter:b,onMouseOut:w,type:"target"})]})}function yW({id:e,edgesFocusable:t,edgesReconnectable:r,elementsSelectable:n,onClick:a,onDoubleClick:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:h,rfId:p,edgeTypes:x,noPanClassName:v,onError:y,disableKeyboardA11y:b}){let w=je(K=>K.edgeLookup.get(e));const j=je(K=>K.defaultEdgeOptions);w=j?{...j,...w}:w;let k=w.type||"default",N=(x==null?void 0:x[k])||ON[k];N===void 0&&(y==null||y("011",Zn.error011(k)),k="default",N=(x==null?void 0:x.default)||ON.default);const _=!!(w.focusable||t&&typeof w.focusable>"u"),S=typeof f<"u"&&(w.reconnectable||r&&typeof w.reconnectable>"u"),E=!!(w.selectable||n&&typeof w.selectable>"u"),O=g.useRef(null),[C,A]=g.useState(!1),[D,M]=g.useState(!1),$=qe(),{zIndex:I,sourceX:R,sourceY:T,targetX:P,targetY:L,sourcePosition:F,targetPosition:U}=je(g.useCallback(K=>{const ae=K.nodeLookup.get(w.source),ce=K.nodeLookup.get(w.target);if(!ae||!ce)return{zIndex:w.zIndex,...AN};const ge=gH({id:e,sourceNode:ae,targetNode:ce,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:K.connectionMode,onError:y});return{zIndex:cH({selected:w.selected,zIndex:w.zIndex,sourceNode:ae,targetNode:ce,elevateOnSelect:K.elevateEdgesOnSelect,zIndexMode:K.zIndexMode}),...ge||AN}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Ke),q=g.useMemo(()=>w.markerStart?`url('#${Yy(w.markerStart,p)}')`:void 0,[w.markerStart,p]),Y=g.useMemo(()=>w.markerEnd?`url('#${Yy(w.markerEnd,p)}')`:void 0,[w.markerEnd,p]);if(w.hidden||R===null||T===null||P===null||L===null)return null;const re=K=>{var pe;const{addSelectedEdges:ae,unselectNodesAndEdges:ce,multiSelectionActive:ge}=$.getState();E&&($.setState({nodesSelectionActive:!1}),w.selected&&ge?(ce({nodes:[],edges:[w]}),(pe=O.current)==null||pe.blur()):ae([e])),a&&a(K,w)},ne=s?K=>{s(K,{...w})}:void 0,G=i?K=>{i(K,{...w})}:void 0,Q=l?K=>{l(K,{...w})}:void 0,B=c?K=>{c(K,{...w})}:void 0,te=u?K=>{u(K,{...w})}:void 0,J=K=>{var ae;if(!b&&JO.includes(K.key)&&E){const{unselectNodesAndEdges:ce,addSelectedEdges:ge}=$.getState();K.key==="Escape"?((ae=O.current)==null||ae.blur(),ce({edges:[w]})):ge([e])}};return o.jsx("svg",{style:{zIndex:I},children:o.jsxs("g",{className:mt(["react-flow__edge",`react-flow__edge-${k}`,w.className,v,{selected:w.selected,animated:w.animated,inactive:!E&&!a,updating:C,selectable:E}]),onClick:re,onDoubleClick:ne,onContextMenu:G,onMouseEnter:Q,onMouseMove:B,onMouseLeave:te,onKeyDown:_?J:void 0,tabIndex:_?0:void 0,role:w.ariaRole??(_?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":_?`${AA}-${p}`:void 0,ref:O,...w.domAttributes,children:[!D&&o.jsx(N,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:E,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:R,sourceY:T,targetX:P,targetY:L,sourcePosition:F,targetPosition:U,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:q,markerEnd:Y,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),S&&o.jsx(gW,{edge:w,isReconnectable:S,reconnectRadius:d,onReconnect:f,onReconnectStart:m,onReconnectEnd:h,sourceX:R,sourceY:T,targetX:P,targetY:L,sourcePosition:F,targetPosition:U,setUpdateHover:A,setReconnecting:M})]})})}var xW=g.memo(yW);const vW=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function nM({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:r,edgeTypes:n,noPanClassName:a,onReconnect:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:m,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:x}){const{edgesFocusable:v,edgesReconnectable:y,elementsSelectable:b,onError:w}=je(vW,Ke),j=nW(t);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(lW,{defaultColor:e,rfId:r}),j.map(k=>o.jsx(xW,{id:k,edgesFocusable:v,edgesReconnectable:y,elementsSelectable:b,noPanClassName:a,onReconnect:s,onContextMenu:i,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:m,onReconnectStart:h,onReconnectEnd:p,rfId:r,onError:w,edgeTypes:n,disableKeyboardA11y:x},k))]})}nM.displayName="EdgeRenderer";const bW=g.memo(nM),wW=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function jW({children:e}){const t=je(wW);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function kW(e){const t=kl(),r=g.useRef(!1);g.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const NW=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function SW(e){const t=je(NW),r=qe();return g.useEffect(()=>{e&&(t==null||t(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function _W(e){return e.connection.inProgress?{...e.connection,to:Hu(e.connection.to,e.transform)}:{...e.connection}}function EW(e){return _W}function CW(e){const t=EW();return je(t,Ke)}const PW=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function OW({containerStyle:e,style:t,type:r,component:n}){const{nodesConnectable:a,width:s,height:i,isValid:l,inProgress:c}=je(PW,Ke);return!(s&&a&&c)?null:o.jsx("svg",{style:e,width:s,height:i,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:mt(["react-flow__connection",tA(l)]),children:o.jsx(aM,{style:t,type:r,CustomComponent:n,isValid:l})})})}const aM=({style:e,type:t=os.Bezier,CustomComponent:r,isValid:n})=>{const{inProgress:a,from:s,fromNode:i,fromHandle:l,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:m,pointer:h}=CW();if(!a)return;if(r)return o.jsx(r,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:m,connectionStatus:tA(n),toNode:d,toHandle:f,pointer:h});let p="";const x={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:m};switch(t){case os.Bezier:[p]=mA(x);break;case os.SimpleBezier:[p]=WA(x);break;case os.Step:[p]=Pm({...x,borderRadius:0});break;case os.SmoothStep:[p]=Pm(x);break;default:[p]=gA(x)}return o.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};aM.displayName="ConnectionLine";const AW={};function IN(e=AW){g.useRef(e),qe(),g.useEffect(()=>{},[e])}function MW(){qe(),g.useRef(!1),g.useEffect(()=>{},[])}function sM({nodeTypes:e,edgeTypes:t,onInit:r,onNodeClick:n,onEdgeClick:a,onNodeDoubleClick:s,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:m,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:x,connectionLineComponent:v,connectionLineContainerStyle:y,selectionKeyCode:b,selectionOnDrag:w,selectionMode:j,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:_,deleteKeyCode:S,onlyRenderVisibleElements:E,elementsSelectable:O,defaultViewport:C,translateExtent:A,minZoom:D,maxZoom:M,preventScrolling:$,defaultMarkerColor:I,zoomOnScroll:R,zoomOnPinch:T,panOnScroll:P,panOnScrollSpeed:L,panOnScrollMode:F,zoomOnDoubleClick:U,panOnDrag:q,onPaneClick:Y,onPaneMouseEnter:re,onPaneMouseMove:ne,onPaneMouseLeave:G,onPaneScroll:Q,onPaneContextMenu:B,paneClickDistance:te,nodeClickDistance:J,onEdgeContextMenu:K,onEdgeMouseEnter:ae,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,onReconnect:Te,onReconnectStart:dr,onReconnectEnd:Vr,noDragClassName:H,noWheelClassName:Z,noPanClassName:me,disableKeyboardA11y:ue,nodeExtent:ke,rfId:tt,viewport:fr,onViewportChange:pt}){return IN(e),IN(t),MW(),kW(r),SW(fr),o.jsx(qV,{onPaneClick:Y,onPaneMouseEnter:re,onPaneMouseMove:ne,onPaneMouseLeave:G,onPaneContextMenu:B,onPaneScroll:Q,paneClickDistance:te,deleteKeyCode:S,selectionKeyCode:b,selectionOnDrag:w,selectionMode:j,onSelectionStart:m,onSelectionEnd:h,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:_,elementsSelectable:O,zoomOnScroll:R,zoomOnPinch:T,zoomOnDoubleClick:U,panOnScroll:P,panOnScrollSpeed:L,panOnScrollMode:F,panOnDrag:q,defaultViewport:C,translateExtent:A,minZoom:D,maxZoom:M,onSelectionContextMenu:f,preventScrolling:$,noDragClassName:H,noWheelClassName:Z,noPanClassName:me,disableKeyboardA11y:ue,onViewportChange:pt,isControlledViewport:!!fr,children:o.jsxs(jW,{children:[o.jsx(bW,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:i,onReconnect:Te,onReconnectStart:dr,onReconnectEnd:Vr,onlyRenderVisibleElements:E,onEdgeContextMenu:K,onEdgeMouseEnter:ae,onEdgeMouseMove:ce,onEdgeMouseLeave:ge,reconnectRadius:pe,defaultMarkerColor:I,noPanClassName:me,disableKeyboardA11y:ue,rfId:tt}),o.jsx(OW,{style:x,type:p,component:v,containerStyle:y}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(rW,{nodeTypes:e,onNodeClick:n,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:J,onlyRenderVisibleElements:E,noPanClassName:me,noDragClassName:H,disableKeyboardA11y:ue,nodeExtent:ke,rfId:tt}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}sM.displayName="GraphView";const TW=g.memo(sM),DN=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:m="basic"}={})=>{const h=new Map,p=new Map,x=new Map,v=new Map,y=n??t??[],b=r??e??[],w=d??[0,0],j=f??eu;vA(x,v,y);const k=Gy(b,h,p,{nodeOrigin:w,nodeExtent:j,zIndexMode:m});let N=[0,0,1];if(i&&a&&s){const _=Bu(h,{filter:C=>!!((C.width||C.initialWidth)&&(C.height||C.initialHeight))}),{x:S,y:E,zoom:O}=Sb(_,a,s,c,u,(l==null?void 0:l.padding)??.1);N=[S,E,O]}return{rfId:"1",width:a??0,height:s??0,transform:N,nodes:b,nodesInitialized:k,nodeLookup:h,parentLookup:p,edges:y,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:n!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:eu,nodeExtent:j,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Zo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...eA},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:nH,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:ZO,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},IW=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:m})=>JH((h,p)=>{async function x(){const{nodeLookup:v,panZoom:y,fitViewOptions:b,fitViewResolver:w,width:j,height:k,minZoom:N,maxZoom:_}=p();y&&(await tH({nodes:v,width:j,height:k,panZoom:y,minZoom:N,maxZoom:_},b),w==null||w.resolve(!0),h({fitViewResolver:null}))}return{...DN({nodes:e,edges:t,width:a,height:s,fitView:i,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:r,defaultEdges:n,zIndexMode:m}),setNodes:v=>{const{nodeLookup:y,parentLookup:b,nodeOrigin:w,elevateNodesOnSelect:j,fitViewQueued:k,zIndexMode:N}=p(),_=Gy(v,y,b,{nodeOrigin:w,nodeExtent:f,elevateNodesOnSelect:j,checkEquality:!0,zIndexMode:N});k&&_?(x(),h({nodes:v,nodesInitialized:_,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:v,nodesInitialized:_})},setEdges:v=>{const{connectionLookup:y,edgeLookup:b}=p();vA(y,b,v),h({edges:v})},setDefaultNodesAndEdges:(v,y)=>{if(v){const{setNodes:b}=p();b(v),h({hasDefaultNodes:!0})}if(y){const{setEdges:b}=p();b(y),h({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:y,nodeLookup:b,parentLookup:w,domNode:j,nodeOrigin:k,nodeExtent:N,debug:_,fitViewQueued:S,zIndexMode:E}=p(),{changes:O,updatedInternals:C}=NH(v,b,w,j,k,N,E);C&&(bH(b,w,{nodeOrigin:k,nodeExtent:N,zIndexMode:E}),S?(x(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(O==null?void 0:O.length)>0&&(_&&console.log("React Flow: trigger node changes",O),y==null||y(O)))},updateNodePositions:(v,y=!1)=>{const b=[];let w=[];const{nodeLookup:j,triggerNodeChanges:k,connection:N,updateConnection:_,onNodesChangeMiddlewareMap:S}=p();for(const[E,O]of v){const C=j.get(E),A=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(O!=null&&O.position)),D={id:E,type:"position",position:A?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:y};if(C&&N.inProgress&&N.fromNode.id===C.id){const M=$i(C,N.fromHandle,fe.Left,!0);_({...N,from:M})}A&&C.parentId&&b.push({id:E,parentId:C.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),w.push(D)}if(b.length>0){const{parentLookup:E,nodeOrigin:O}=p(),C=Ab(b,j,E,O);w.push(...C)}for(const E of S.values())w=E(w);k(w)},triggerNodeChanges:v=>{const{onNodesChange:y,setNodes:b,nodes:w,hasDefaultNodes:j,debug:k}=p();if(v!=null&&v.length){if(j){const N=IA(v,w);b(N)}k&&console.log("React Flow: trigger node changes",v),y==null||y(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:y,setEdges:b,edges:w,hasDefaultEdges:j,debug:k}=p();if(v!=null&&v.length){if(j){const N=DA(v,w);b(N)}k&&console.log("React Flow: trigger edge changes",v),y==null||y(v)}},addSelectedNodes:v=>{const{multiSelectionActive:y,edgeLookup:b,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(y){const N=v.map(_=>Qs(_,!0));j(N);return}j(xo(w,new Set([...v]),!0)),k(xo(b))},addSelectedEdges:v=>{const{multiSelectionActive:y,edgeLookup:b,nodeLookup:w,triggerNodeChanges:j,triggerEdgeChanges:k}=p();if(y){const N=v.map(_=>Qs(_,!0));k(N);return}k(xo(b,new Set([...v]))),j(xo(w,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:y}={})=>{const{edges:b,nodes:w,nodeLookup:j,triggerNodeChanges:k,triggerEdgeChanges:N}=p(),_=v||w,S=y||b,E=_.map(C=>{const A=j.get(C.id);return A&&(A.selected=!1),Qs(C.id,!1)}),O=S.map(C=>Qs(C.id,!1));k(E),N(O)},setMinZoom:v=>{const{panZoom:y,maxZoom:b}=p();y==null||y.setScaleExtent([v,b]),h({minZoom:v})},setMaxZoom:v=>{const{panZoom:y,minZoom:b}=p();y==null||y.setScaleExtent([b,v]),h({maxZoom:v})},setTranslateExtent:v=>{var y;(y=p().panZoom)==null||y.setTranslateExtent(v),h({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:y,triggerNodeChanges:b,triggerEdgeChanges:w,elementsSelectable:j}=p();if(!j)return;const k=y.reduce((_,S)=>S.selected?[..._,Qs(S.id,!1)]:_,[]),N=v.reduce((_,S)=>S.selected?[..._,Qs(S.id,!1)]:_,[]);b(k),w(N)},setNodeExtent:v=>{const{nodes:y,nodeLookup:b,parentLookup:w,nodeOrigin:j,elevateNodesOnSelect:k,nodeExtent:N,zIndexMode:_}=p();v[0][0]===N[0][0]&&v[0][1]===N[0][1]&&v[1][0]===N[1][0]&&v[1][1]===N[1][1]||(Gy(y,b,w,{nodeOrigin:j,nodeExtent:v,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:_}),h({nodeExtent:v}))},panBy:v=>{const{transform:y,width:b,height:w,panZoom:j,translateExtent:k}=p();return SH({delta:v,panZoom:j,transform:y,translateExtent:k,width:b,height:w})},setCenter:async(v,y,b)=>{const{width:w,height:j,maxZoom:k,panZoom:N}=p();if(!N)return Promise.resolve(!1);const _=typeof(b==null?void 0:b.zoom)<"u"?b.zoom:k;return await N.setViewport({x:w/2-v*_,y:j/2-y*_,zoom:_},{duration:b==null?void 0:b.duration,ease:b==null?void 0:b.ease,interpolate:b==null?void 0:b.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...eA}})},updateConnection:v=>{h({connection:v})},reset:()=>h({...DN()})}},Object.is);function iM({initialNodes:e,initialEdges:t,defaultNodes:r,defaultEdges:n,initialWidth:a,initialHeight:s,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:m,children:h}){const[p]=g.useState(()=>IW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,width:a,height:s,fitView:u,minZoom:i,maxZoom:l,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:m}));return o.jsx(ZH,{value:p,children:o.jsx(jV,{children:h})})}function DW({children:e,nodes:t,edges:r,defaultNodes:n,defaultEdges:a,width:s,height:i,fitView:l,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:m,zIndexMode:h}){return g.useContext(np)?o.jsx(o.Fragment,{children:e}):o.jsx(iM,{initialNodes:t,initialEdges:r,defaultNodes:n,defaultEdges:a,initialWidth:s,initialHeight:i,fitView:l,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:m,zIndexMode:h,children:e})}const RW={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function LW({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:a,nodeTypes:s,edgeTypes:i,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:m,onConnect:h,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:N,onNodeDragStart:_,onNodeDrag:S,onNodeDragStop:E,onNodesDelete:O,onEdgesDelete:C,onDelete:A,onSelectionChange:D,onSelectionDragStart:M,onSelectionDrag:$,onSelectionDragStop:I,onSelectionContextMenu:R,onSelectionStart:T,onSelectionEnd:P,onBeforeDelete:L,connectionMode:F,connectionLineType:U=os.Bezier,connectionLineStyle:q,connectionLineComponent:Y,connectionLineContainerStyle:re,deleteKeyCode:ne="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Q=!1,selectionMode:B=tu.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:J=nu()?"Meta":"Control",zoomActivationKeyCode:K=nu()?"Meta":"Control",snapToGrid:ae,snapGrid:ce,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:pe,nodesDraggable:Te,autoPanOnNodeFocus:dr,nodesConnectable:Vr,nodesFocusable:H,nodeOrigin:Z=MA,edgesFocusable:me,edgesReconnectable:ue,elementsSelectable:ke=!0,defaultViewport:tt=fV,minZoom:fr=.5,maxZoom:pt=2,translateExtent:un=eu,preventScrolling:St=!0,nodeExtent:gt,defaultMarkerColor:dn="#b1b1b7",zoomOnScroll:qs=!0,zoomOnPinch:_t=!0,panOnScroll:Ga=!1,panOnScrollSpeed:$5=.5,panOnScrollMode:z5=Ni.Free,zoomOnDoubleClick:F5=!0,panOnDrag:B5=!0,onPaneClick:U5,onPaneMouseEnter:H5,onPaneMouseMove:V5,onPaneMouseLeave:W5,onPaneScroll:K5,onPaneContextMenu:q5,paneClickDistance:Y5=1,nodeClickDistance:G5=0,children:X5,onReconnect:Q5,onReconnectStart:J5,onReconnectEnd:Z5,onEdgeContextMenu:e3,onEdgeDoubleClick:t3,onEdgeMouseEnter:r3,onEdgeMouseMove:n3,onEdgeMouseLeave:a3,reconnectRadius:s3=10,onNodesChange:i3,onEdgesChange:o3,noDragClassName:l3="nodrag",noWheelClassName:c3="nowheel",noPanClassName:M1="nopan",fitView:T1,fitViewOptions:I1,connectOnClick:u3,attributionPosition:d3,proOptions:f3,defaultEdgeOptions:m3,elevateNodesOnSelect:h3=!0,elevateEdgesOnSelect:p3=!1,disableKeyboardA11y:D1=!1,autoPanOnConnect:g3,autoPanOnNodeDrag:y3,autoPanSpeed:x3,connectionRadius:v3,isValidConnection:b3,onError:w3,style:j3,id:R1,nodeDragThreshold:k3,connectionDragThreshold:N3,viewport:S3,onViewportChange:_3,width:E3,height:C3,colorMode:P3="light",debug:O3,onScroll:vd,ariaLabelConfig:A3,zIndexMode:L1="basic",...M3},T3){const ig=R1||"1",I3=gV(P3),D3=g.useCallback($1=>{$1.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),vd==null||vd($1)},[vd]);return o.jsx("div",{"data-testid":"rf__wrapper",...M3,onScroll:D3,style:{...j3,...RW},ref:T3,className:mt(["react-flow",a,I3]),id:R1,role:"application",children:o.jsxs(DW,{nodes:e,edges:t,width:E3,height:C3,fitView:T1,fitViewOptions:I1,minZoom:fr,maxZoom:pt,nodeOrigin:Z,nodeExtent:gt,zIndexMode:L1,children:[o.jsx(TW,{onInit:u,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:k,onNodeDoubleClick:N,nodeTypes:s,edgeTypes:i,connectionLineType:U,connectionLineStyle:q,connectionLineComponent:Y,connectionLineContainerStyle:re,selectionKeyCode:G,selectionOnDrag:Q,selectionMode:B,deleteKeyCode:ne,multiSelectionKeyCode:J,panActivationKeyCode:te,zoomActivationKeyCode:K,onlyRenderVisibleElements:ge,defaultViewport:tt,translateExtent:un,minZoom:fr,maxZoom:pt,preventScrolling:St,zoomOnScroll:qs,zoomOnPinch:_t,zoomOnDoubleClick:F5,panOnScroll:Ga,panOnScrollSpeed:$5,panOnScrollMode:z5,panOnDrag:B5,onPaneClick:U5,onPaneMouseEnter:H5,onPaneMouseMove:V5,onPaneMouseLeave:W5,onPaneScroll:K5,onPaneContextMenu:q5,paneClickDistance:Y5,nodeClickDistance:G5,onSelectionContextMenu:R,onSelectionStart:T,onSelectionEnd:P,onReconnect:Q5,onReconnectStart:J5,onReconnectEnd:Z5,onEdgeContextMenu:e3,onEdgeDoubleClick:t3,onEdgeMouseEnter:r3,onEdgeMouseMove:n3,onEdgeMouseLeave:a3,reconnectRadius:s3,defaultMarkerColor:dn,noDragClassName:l3,noWheelClassName:c3,noPanClassName:M1,rfId:ig,disableKeyboardA11y:D1,nodeExtent:gt,viewport:S3,onViewportChange:_3}),o.jsx(pV,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:h,onConnectStart:p,onConnectEnd:x,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:Te,autoPanOnNodeFocus:dr,nodesConnectable:Vr,nodesFocusable:H,edgesFocusable:me,edgesReconnectable:ue,elementsSelectable:ke,elevateNodesOnSelect:h3,elevateEdgesOnSelect:p3,minZoom:fr,maxZoom:pt,nodeExtent:gt,onNodesChange:i3,onEdgesChange:o3,snapToGrid:ae,snapGrid:ce,connectionMode:F,translateExtent:un,connectOnClick:u3,defaultEdgeOptions:m3,fitView:T1,fitViewOptions:I1,onNodesDelete:O,onEdgesDelete:C,onDelete:A,onNodeDragStart:_,onNodeDrag:S,onNodeDragStop:E,onSelectionDrag:$,onSelectionDragStart:M,onSelectionDragStop:I,onMove:d,onMoveStart:f,onMoveEnd:m,noPanClassName:M1,nodeOrigin:Z,rfId:ig,autoPanOnConnect:g3,autoPanOnNodeDrag:y3,autoPanSpeed:x3,onError:w3,connectionRadius:v3,isValidConnection:b3,selectNodesOnDrag:pe,nodeDragThreshold:k3,connectionDragThreshold:N3,onBeforeDelete:L,debug:O3,ariaLabelConfig:A3,zIndexMode:L1}),o.jsx(dV,{onSelectionChange:D}),X5,o.jsx(iV,{proOptions:f3,position:d3}),o.jsx(sV,{rfId:ig,disableKeyboardA11y:D1})]})})}var $W=RA(LW);const zW=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function FW({children:e}){const t=je(zW);return t?Eu.createPortal(e,t):null}function BW({dimensions:e,lineWidth:t,variant:r,className:n}){return o.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:mt(["react-flow__background-pattern",r,n])})}function UW({radius:e,className:t}){return o.jsx("circle",{cx:e,cy:e,r:e,className:mt(["react-flow__background-pattern","dots",t])})}var Ps;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ps||(Ps={}));const HW={[Ps.Dots]:1,[Ps.Lines]:1,[Ps.Cross]:6},VW=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function oM({id:e,variant:t=Ps.Dots,gap:r=20,size:n,lineWidth:a=1,offset:s=0,color:i,bgColor:l,style:c,className:u,patternClassName:d}){const f=g.useRef(null),{transform:m,patternId:h}=je(VW,Ke),p=n||HW[t],x=t===Ps.Dots,v=t===Ps.Cross,y=Array.isArray(r)?r:[r,r],b=[y[0]*m[2]||1,y[1]*m[2]||1],w=p*m[2],j=Array.isArray(s)?s:[s,s],k=v?[w,w]:b,N=[j[0]*m[2]||1+k[0]/2,j[1]*m[2]||1+k[1]/2],_=`${h}${e||""}`;return o.jsxs("svg",{className:mt(["react-flow__background",u]),style:{...c,...sp,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[o.jsx("pattern",{id:_,x:m[0]%b[0],y:m[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:x?o.jsx(UW,{radius:w/2,className:d}):o.jsx(BW,{dimensions:k,lineWidth:a,variant:t,className:d})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_})`})]})}oM.displayName="Background";const WW=g.memo(oM);function KW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function qW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function YW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function GW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function XW(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Qd({children:e,className:t,...r}){return o.jsx("button",{type:"button",className:mt(["react-flow__controls-button",t]),...r,children:e})}const QW=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function lM({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:a,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:m="vertical","aria-label":h}){const p=qe(),{isInteractive:x,minZoomReached:v,maxZoomReached:y,ariaLabelConfig:b}=je(QW,Ke),{zoomIn:w,zoomOut:j,fitView:k}=kl(),N=()=>{w(),s==null||s()},_=()=>{j(),i==null||i()},S=()=>{k(a),l==null||l()},E=()=>{p.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)},O=m==="horizontal"?"horizontal":"vertical";return o.jsxs(ap,{className:mt(["react-flow__controls",O,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??b["controls.ariaLabel"],children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(Qd,{onClick:N,className:"react-flow__controls-zoomin",title:b["controls.zoomIn.ariaLabel"],"aria-label":b["controls.zoomIn.ariaLabel"],disabled:y,children:o.jsx(KW,{})}),o.jsx(Qd,{onClick:_,className:"react-flow__controls-zoomout",title:b["controls.zoomOut.ariaLabel"],"aria-label":b["controls.zoomOut.ariaLabel"],disabled:v,children:o.jsx(qW,{})})]}),r&&o.jsx(Qd,{className:"react-flow__controls-fitview",onClick:S,title:b["controls.fitView.ariaLabel"],"aria-label":b["controls.fitView.ariaLabel"],children:o.jsx(YW,{})}),n&&o.jsx(Qd,{className:"react-flow__controls-interactive",onClick:E,title:b["controls.interactive.ariaLabel"],"aria-label":b["controls.interactive.ariaLabel"],children:x?o.jsx(XW,{}):o.jsx(GW,{})}),d]})}lM.displayName="Controls";const JW=g.memo(lM);function ZW({id:e,x:t,y:r,width:n,height:a,style:s,color:i,strokeColor:l,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:m,onClick:h}){const{background:p,backgroundColor:x}=s||{},v=i||p||x;return o.jsx("rect",{className:mt(["react-flow__minimap-node",{selected:m},u]),x:t,y:r,rx:d,ry:d,width:n,height:a,style:{fill:v,stroke:l,strokeWidth:c},shapeRendering:f,onClick:h?y=>h(y,e):void 0})}const eK=g.memo(ZW),tK=e=>e.nodes.map(t=>t.id),Gg=e=>e instanceof Function?e:()=>e;function rK({nodeStrokeColor:e,nodeColor:t,nodeClassName:r="",nodeBorderRadius:n=5,nodeStrokeWidth:a,nodeComponent:s=eK,onClick:i}){const l=je(tK,Ke),c=Gg(t),u=Gg(e),d=Gg(r),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:l.map(m=>o.jsx(aK,{id:m,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:n,nodeStrokeWidth:a,NodeComponent:s,onClick:i,shapeRendering:f},m))})}function nK({id:e,nodeColorFunc:t,nodeStrokeColorFunc:r,nodeClassNameFunc:n,nodeBorderRadius:a,nodeStrokeWidth:s,shapeRendering:i,NodeComponent:l,onClick:c}){const{node:u,x:d,y:f,width:m,height:h}=je(p=>{const{internals:x}=p.nodeLookup.get(e),v=x.userNode,{x:y,y:b}=x.positionAbsolute,{width:w,height:j}=Va(v);return{node:v,x:y,y:b,width:w,height:j}},Ke);return!u||u.hidden||!oA(u)?null:o.jsx(l,{x:d,y:f,width:m,height:h,style:u.style,selected:!!u.selected,className:n(u),color:t(u),borderRadius:a,strokeColor:r(u),strokeWidth:s,shapeRendering:i,onClick:c,id:u.id})}const aK=g.memo(nK);var sK=g.memo(rK);const iK=200,oK=150,lK=e=>!e.hidden,cK=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?iA(Bu(e.nodeLookup,{filter:lK}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},uK="react-flow__minimap-desc";function cM({style:e,className:t,nodeStrokeColor:r,nodeColor:n,nodeClassName:a="",nodeBorderRadius:s=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:m="bottom-right",onClick:h,onNodeClick:p,pannable:x=!1,zoomable:v=!1,ariaLabel:y,inversePan:b,zoomStep:w=1,offsetScale:j=5}){const k=qe(),N=g.useRef(null),{boundingRect:_,viewBB:S,rfId:E,panZoom:O,translateExtent:C,flowWidth:A,flowHeight:D,ariaLabelConfig:M}=je(cK,Ke),$=(e==null?void 0:e.width)??iK,I=(e==null?void 0:e.height)??oK,R=_.width/$,T=_.height/I,P=Math.max(R,T),L=P*$,F=P*I,U=j*P,q=_.x-(L-_.width)/2-U,Y=_.y-(F-_.height)/2-U,re=L+U*2,ne=F+U*2,G=`${uK}-${E}`,Q=g.useRef(0),B=g.useRef();Q.current=P,g.useEffect(()=>{if(N.current&&O)return B.current=IH({domNode:N.current,panZoom:O,getTransform:()=>k.getState().transform,getViewScale:()=>Q.current}),()=>{var ae;(ae=B.current)==null||ae.destroy()}},[O]),g.useEffect(()=>{var ae;(ae=B.current)==null||ae.update({translateExtent:C,width:A,height:D,inversePan:b,pannable:x,zoomStep:w,zoomable:v})},[x,v,b,w,C,A,D]);const te=h?ae=>{var pe;const[ce,ge]=((pe=B.current)==null?void 0:pe.pointer(ae))||[0,0];h(ae,{x:ce,y:ge})}:void 0,J=p?g.useCallback((ae,ce)=>{const ge=k.getState().nodeLookup.get(ce).internals.userNode;p(ae,ge)},[]):void 0,K=y??M["minimap.ariaLabel"];return o.jsx(ap,{position:m,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*P:void 0,"--xy-minimap-node-background-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:mt(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:$,height:I,viewBox:`${q} ${Y} ${re} ${ne}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:N,onClick:te,children:[K&&o.jsx("title",{id:G,children:K}),o.jsx(sK,{onClick:J,nodeColor:n,nodeStrokeColor:r,nodeBorderRadius:s,nodeClassName:a,nodeStrokeWidth:i,nodeComponent:l}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-U},${Y-U}h${re+U*2}v${ne+U*2}h${-re-U*2}z
        M${S.x},${S.y}h${S.width}v${S.height}h${-S.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}cM.displayName="MiniMap";g.memo(cM);const dK=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,fK={[nl.Line]:"right",[nl.Handle]:"bottom-right"};function mK({nodeId:e,position:t,variant:r=nl.Handle,className:n,style:a=void 0,children:s,color:i,minWidth:l=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:m,autoScale:h=!0,shouldResize:p,onResizeStart:x,onResize:v,onResizeEnd:y}){const b=FA(),w=typeof e=="string"?e:b,j=qe(),k=g.useRef(null),N=r===nl.Handle,_=je(g.useCallback(dK(N&&h),[N,h]),Ke),S=g.useRef(null),E=t??fK[r];g.useEffect(()=>{if(!(!k.current||!w))return S.current||(S.current=YH({domNode:k.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:C,transform:A,snapGrid:D,snapToGrid:M,nodeOrigin:$,domNode:I}=j.getState();return{nodeLookup:C,transform:A,snapGrid:D,snapToGrid:M,nodeOrigin:$,paneDomNode:I}},onChange:(C,A)=>{const{triggerNodeChanges:D,nodeLookup:M,parentLookup:$,nodeOrigin:I}=j.getState(),R=[],T={x:C.x,y:C.y},P=M.get(w);if(P&&P.expandParent&&P.parentId){const L=P.origin??I,F=C.width??P.measured.width??0,U=C.height??P.measured.height??0,q={id:P.id,parentId:P.parentId,rect:{width:F,height:U,...lA({x:C.x??P.position.x,y:C.y??P.position.y},{width:F,height:U},P.parentId,M,L)}},Y=Ab([q],M,$,I);R.push(...Y),T.x=C.x?Math.max(L[0]*F,C.x):void 0,T.y=C.y?Math.max(L[1]*U,C.y):void 0}if(T.x!==void 0&&T.y!==void 0){const L={id:w,type:"position",position:{...T}};R.push(L)}if(C.width!==void 0&&C.height!==void 0){const F={id:w,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:C.width,height:C.height}};R.push(F)}for(const L of A){const F={...L,type:"position"};R.push(F)}D(R)},onEnd:({width:C,height:A})=>{const D={id:w,type:"dimensions",resizing:!1,dimensions:{width:C,height:A}};j.getState().triggerNodeChanges([D])}})),S.current.update({controlPosition:E,boundaries:{minWidth:l,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:m,onResizeStart:x,onResize:v,onResizeEnd:y,shouldResize:p}),()=>{var C;(C=S.current)==null||C.destroy()}},[E,l,c,u,d,f,x,v,y,p]);const O=E.split("-");return o.jsx("div",{className:mt(["react-flow__resize-control","nodrag",...O,r,n]),ref:k,style:{...a,scale:_,...i&&{[N?"backgroundColor":"borderColor"]:i}},children:s})}g.memo(mK);const Lt=[];for(let e=0;e<256;++e)Lt.push((e+256).toString(16).slice(1));function hK(e,t=0){return(Lt[e[t+0]]+Lt[e[t+1]]+Lt[e[t+2]]+Lt[e[t+3]]+"-"+Lt[e[t+4]]+Lt[e[t+5]]+"-"+Lt[e[t+6]]+Lt[e[t+7]]+"-"+Lt[e[t+8]]+Lt[e[t+9]]+"-"+Lt[e[t+10]]+Lt[e[t+11]]+Lt[e[t+12]]+Lt[e[t+13]]+Lt[e[t+14]]+Lt[e[t+15]]).toLowerCase()}let Xg;const pK=new Uint8Array(16);function gK(){if(!Xg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Xg=crypto.getRandomValues.bind(crypto)}return Xg(pK)}const yK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),RN={randomUUID:yK};function xK(e,t,r){var a;e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??gK();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,hK(n)}function uM(e,t,r){return RN.randomUUID&&!e?RN.randomUUID():xK(e)}const xe=hb((e,t)=>({nodes:[],edges:[],executionResult:null,setExecutionResult:r=>e({executionResult:r}),setGraph:(r,n)=>e({nodes:r,edges:n}),onNodesChange:r=>{e({nodes:IA(r,t().nodes)})},onEdgesChange:r=>{e({edges:DA(r,t().edges)})},onConnect:r=>{e({edges:pA(r,t().edges)})},addNode:(r,n,a={})=>{const s=_e.get(r);if(!s)return console.error(`Node type ${r} not found in registry`),"";const i=`${r}-${uM()}`,l={id:i,type:"custom",position:n,data:{definitionType:r,catalogType:r,...s.getDefaultConfig(),...a}};return e({nodes:[...t().nodes,l]}),i},updateNodeData:(r,n)=>{e({nodes:t().nodes.map(a=>a.id===r?{...a,data:{...a.data,...n}}:a)})},validateGraph:async()=>{const{nodes:r,edges:n}=t();if(r.length===0)return!1;for(const a of r){const s=_e.get(a.data.definitionType);if(s){const i=s.validate(a.data);if(!i.isValid)return console.warn(`Node ${a.id} validation failed: ${i.message}`),!1}}for(const a of r){const s=_e.get(a.data.definitionType);if(s&&s.inputs.length>0&&!n.some(l=>l.target===a.id))return console.warn(`Node ${a.id} (${s.label}) is disconnected.`),!1}return!0}})),Nl=hb(e=>({activeView:"canvas",setView:t=>e({activeView:t}),isSidebarOpen:!0,setSidebarOpen:t=>e({isSidebarOpen:t}),isPropertiesPanelExpanded:!1,setPropertiesPanelExpanded:t=>e({isPropertiesPanelExpanded:t}),isResultsPanelExpanded:!0,setResultsPanelExpanded:t=>e({isResultsPanelExpanded:t})})),vK=()=>{const e=_e.getAll(),t=xe(u=>u.addNode),{isSidebarOpen:r,setSidebarOpen:n}=Nl(),[a,s]=g.useState(""),i=(u,d)=>{u.dataTransfer.setData("application/reactflow",d),u.dataTransfer.effectAllowed="move"};if(!r)return o.jsx("div",{className:"absolute left-4 top-4 z-50",children:o.jsx("button",{onClick:()=>n(!0),className:"p-2 bg-background border shadow-md rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Expand Components",children:o.jsx(GF,{className:"w-5 h-5"})})});const l=e.filter(u=>u.label.toLowerCase().includes(a.toLowerCase())||u.category.toLowerCase().includes(a.toLowerCase())),c=["Data Source","Preprocessing","Modeling","Evaluation","Utility"];return o.jsxs("aside",{className:"w-64 shrink-0 border-r bg-background flex flex-col h-full shadow-sm z-10 transition-all duration-300",children:[o.jsxs("div",{className:"p-4 border-b space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold tracking-tight",children:"Components"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag and drop to canvas"})]}),o.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",title:"Collapse Sidebar",children:o.jsx(YF,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx("input",{placeholder:"Search nodes...",className:"w-full pl-9 pr-3 py-2 text-sm border rounded-md bg-muted/50 focus:bg-background focus:outline-none focus:ring-1 focus:ring-primary transition-colors",value:a,onChange:u=>{s(u.target.value)}})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 scrollbar-thin",children:c.map(u=>{const d=l.filter(f=>f.category===u);return d.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider px-1",children:u}),o.jsx("div",{className:"space-y-2",children:d.map(f=>o.jsxs("div",{className:"group flex items-center p-3 border rounded-lg bg-card hover:border-primary/50 hover:shadow-sm cursor-grab active:cursor-grabbing transition-all",draggable:!0,onDragStart:m=>{i(m,f.type)},onClick:()=>t(f.type,{x:100,y:100}),children:[o.jsx("div",{className:"p-2 bg-primary/5 group-hover:bg-primary/10 rounded-md mr-3 transition-colors",children:f.icon&&o.jsx(f.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium truncate",children:f.label}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:f.description})]})]},f.type))})]},u)})})]})};function bK(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,a]of e)if(!Object.is(a,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}const{useRef:wK}=Mr;function jK(e){const t=wK();return r=>{const n=e(r);return bK(t.current,n)?t.current:t.current=n}}const kK=g.memo(({id:e,data:t,selected:r})=>{var u;const n=t.definitionType,a=_e.get(n),{deleteElements:s}=kl(),i=xe(d=>d.executionResult),l=(u=i==null?void 0:i.node_results)==null?void 0:u[e],c=d=>{d.stopPropagation(),s({nodes:[{id:e}]})};return a?o.jsxs("div",{className:`
      min-w-[200px] bg-card border-2 rounded-lg shadow-sm transition-all
      ${r?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"}
    `,children:[o.jsxs("div",{className:"flex items-center p-3 border-b bg-muted/30 rounded-t-lg relative group",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded mr-3",children:a.icon&&o.jsx(a.icon,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-sm font-bold",children:a.label}),l&&o.jsx("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-full text-[10px] font-medium border ${l.status==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-900":"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-900"}`,children:l.status==="success"?o.jsx(PF,{size:10}):o.jsx(sb,{size:10})})]}),o.jsx("div",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:a.category})]}),o.jsx("button",{onClick:c,className:"p-1 rounded-md hover:bg-destructive/10 hover:text-destructive text-muted-foreground/50 transition-all opacity-0 group-hover:opacity-100 ml-2",title:"Remove Node",children:o.jsx(sr,{size:14})})]}),o.jsx("div",{className:"p-3",children:a.component?o.jsx(a.component,{data:t}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No configuration needed"})}),a.inputs.map((d,f)=>o.jsx(al,{type:"target",position:fe.Left,id:d.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(a.inputs.length+1)}%`},children:o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:d.label})},`input-${d.id}`)),a.outputs.map((d,f)=>o.jsx(al,{type:"source",position:fe.Right,id:d.id,className:"!w-3 !h-3 !bg-muted-foreground hover:!bg-primary transition-colors",style:{top:`${(f+1)*100/(a.outputs.length+1)}%`},children:o.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-[10px] text-muted-foreground pointer-events-none whitespace-nowrap",children:d.label})},`output-${d.id}`))]}):o.jsxs("div",{className:"p-4 border-2 border-destructive bg-destructive/10 rounded-md min-w-[150px]",children:[o.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[o.jsx(An,{size:16}),o.jsx("span",{className:"text-sm font-bold",children:"Unknown Node"})]}),o.jsxs("div",{className:"text-xs mt-1",children:["Type: ",n]})]})}),NK=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:a,sourcePosition:s,targetPosition:i,style:l={},markerEnd:c})=>{const{deleteElements:u}=kl(),[d,f,m]=Pm({sourceX:t,sourceY:r,sourcePosition:s,targetX:n,targetY:a,targetPosition:i,borderRadius:24}),h=p=>{p.stopPropagation(),u({edges:[{id:e}]})};return o.jsxs(o.Fragment,{children:[o.jsx(sl,{path:d,style:{strokeWidth:20,stroke:"transparent",cursor:"pointer"}}),o.jsx(sl,{path:d,markerEnd:c,style:{...l,strokeWidth:2},className:"react-flow__edge-path"}),o.jsx(FW,{children:o.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${m}px)`,fontSize:12,pointerEvents:"all"},className:"nodrag nopan",children:o.jsx("button",{className:"w-5 h-5 bg-background border border-border text-muted-foreground rounded-full flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors shadow-sm",onClick:h,title:"Remove Connection",children:o.jsx(sr,{size:10})})})})]})},SK={custom:kK},_K={custom:NK},EK=()=>{const e=g.useRef(null),{screenToFlowPosition:t}=kl(),{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,addNode:l,executionResult:c}=xe(jK(m=>({nodes:m.nodes,edges:m.edges,onNodesChange:m.onNodesChange,onEdgesChange:m.onEdgesChange,onConnect:m.onConnect,addNode:m.addNode,executionResult:m.executionResult}))),{isResultsPanelExpanded:u}=Nl(),d=g.useCallback(m=>{m.preventDefault(),m.dataTransfer.dropEffect="move"},[]),f=g.useCallback(m=>{m.preventDefault();const h=m.dataTransfer.getData("application/reactflow");if(typeof h>"u"||!h)return;const p=t({x:m.clientX,y:m.clientY});l(h,p)},[t,l]);return o.jsx("div",{className:"w-full h-full outline-none",ref:e,tabIndex:0,children:o.jsxs($W,{nodes:r,edges:n,onNodesChange:a,onEdgesChange:s,onConnect:i,nodeTypes:SK,onDragOver:d,onDrop:f,fitView:!0,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"custom",style:{stroke:"url(#edge-gradient)",strokeWidth:3,strokeDasharray:"8 6",filter:"url(#glow)"},animated:!0},edgeTypes:_K,deleteKeyCode:["Backspace","Delete"],children:[o.jsx("svg",{style:{position:"absolute",top:0,left:0,width:0,height:0,pointerEvents:"none"},children:o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"edge-gradient",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1"}),o.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]}),o.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]})}),o.jsx(WW,{}),o.jsx(JW,{position:"bottom-left",style:c&&!u?{marginBottom:"40px",transition:"margin-bottom 0.3s ease-in-out"}:{transition:"margin-bottom 0.3s ease-in-out"}})]})})},CK=()=>o.jsx(iM,{children:o.jsx(EK,{})}),PK=()=>{const e=xe(i=>i.nodes),{isSidebarOpen:t,isPropertiesPanelExpanded:r,setPropertiesPanelExpanded:n}=Nl(),a=e.find(i=>i.selected);Mr.useEffect(()=>{a||n(!1)},[a,n]);const s=t?"w-[calc(100vw-300px)]":"w-[calc(100vw-50px)]";return o.jsx("aside",{className:`border-l bg-background shrink-0 transition-all duration-300 ease-in-out overflow-hidden ${a?r?`${s} opacity-100`:"w-80 opacity-100":"w-0 opacity-0"}`,children:a&&o.jsx(OK,{selectedNode:a,isExpanded:r,toggleExpand:()=>n(!r)})})},OK=({selectedNode:e,isExpanded:t,toggleExpand:r})=>{const n=xe(u=>u.updateNodeData),a=xe(u=>u.onNodesChange),s=()=>{a([{id:e.id,type:"select",selected:!1}])},i=e.data.definitionType,l=_e.get(i);if(!l)return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"text-destructive flex items-center gap-2",children:[o.jsx(sr,{className:"w-4 h-4"}),"Error: Node definition '",i,"' not found."]})});const c=l.settings;return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:o.jsx(lb,{className:"w-4 h-4 text-primary"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-sm",children:String(e.data.label||l.label)}),o.jsxs("div",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",e.id]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:r,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:t?o.jsx(WF,{className:"w-4 h-4"}):o.jsx(VF,{className:"w-4 h-4"})}),o.jsx("button",{onClick:s,className:"p-1.5 hover:bg-accent rounded-md text-muted-foreground hover:text-foreground transition-colors",children:o.jsx(sr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o.jsx("div",{className:"space-y-6",children:o.jsx(c,{config:e.data,onChange:u=>n(e.id,u),nodeId:e.id})})})]})},AK=3e3,Za=50,Sl=hb((e,t)=>{let r=null;return{jobs:[],isLoading:!1,isDrawerOpen:!1,activeTab:"training",hasMore:!0,skip:0,fetchJobs:async()=>{e({isLoading:!0,skip:0});try{const n=await Mt.getJobs(Za,0);e({jobs:n,isLoading:!1,hasMore:n.length===Za})}catch(n){console.error("Failed to fetch jobs:",n),e({isLoading:!1})}},loadMoreJobs:async()=>{const{skip:n,jobs:a,isLoading:s,hasMore:i}=t();if(s||!i)return;const l=n+Za;e({isLoading:!0});try{const c=await Mt.getJobs(Za,l);e({jobs:[...a,...c],isLoading:!1,skip:l,hasMore:c.length===Za})}catch(c){console.error("Failed to load more jobs:",c),e({isLoading:!1})}},submitJob:async n=>{try{const a=await Mt.runPipeline(n);return await t().fetchJobs(),t().startPolling(),a.job_id}catch(a){throw console.error("Failed to submit job:",a),a}},cancelJob:async n=>{try{await Mt.cancelJob(n),await t().fetchJobs()}catch(a){throw console.error("Failed to cancel job:",a),a}},toggleDrawer:n=>{const a=t().isDrawerOpen,s=n!==void 0?n:!a;e({isDrawerOpen:s}),s?(t().fetchJobs(),t().startPolling()):t().jobs.some(l=>l.status==="running"||l.status==="queued")||t().stopPolling()},setTab:n=>e({activeTab:n}),startPolling:()=>{r||(r=setInterval(()=>{(async()=>{try{const n=await Mt.getJobs(Za,0);e(s=>s.jobs.length<=Za?{jobs:n}:{jobs:[...n,...s.jobs.slice(Za)]}),!n.some(s=>s.status==="running"||s.status==="queued")&&!t().isDrawerOpen&&t().stopPolling()}catch(n){console.error("Polling error:",n)}})()},AK))},stopPolling:()=>{r&&(clearInterval(r),r=null)}}}),ip=(e,t)=>{const r=[],n=new Set,a=[],s=e.find(l=>l.data.definitionType==="dataset_node"),i=s==null?void 0:s.data.datasetId;for(s&&a.push(s.id);a.length>0;){const l=a.shift();if(!l||n.has(l))continue;n.add(l);const c=e.find(p=>p.id===l);if(!c)continue;let u="unknown",d={};const m=t.filter(p=>p.target===l).map(p=>p.source);if(c.data.definitionType==="dataset_node")u="data_loader",d={dataset_id:c.data.datasetId};else if(c.data.definitionType==="imputation_node"){const p=c.data.method||"simple";p==="knn"?(u="KNNImputer",d={columns:c.data.columns,n_neighbors:c.data.n_neighbors,weights:c.data.weights}):p==="iterative"?(u="IterativeImputer",d={columns:c.data.columns,max_iter:c.data.max_iter,estimator:c.data.estimator,random_state:0}):(u="SimpleImputer",d={columns:c.data.columns,strategy:c.data.strategy,fill_value:c.data.fill_value})}else if(c.data.definitionType==="simple_imputer")u="SimpleImputer",d=c.data||{};else if(c.data.definitionType==="drop_missing_columns"||c.data.definitionType==="DropMissingColumns")u="DropMissingColumns",d={columns:c.data.columns||[],missing_threshold:c.data.missing_threshold};else if(c.data.definitionType==="drop_missing_rows"||c.data.definitionType==="DropMissingRows")u="DropMissingRows",d={missing_threshold:c.data.missing_threshold,drop_if_any_missing:c.data.drop_if_any_missing};else if(c.data.definitionType==="deduplicate"||c.data.definitionType==="Deduplicate")u="Deduplicate",d={subset:c.data.subset,keep:c.data.keep};else if(c.data.definitionType==="casting"||c.data.definitionType==="Casting")u="Casting",d={column_types:c.data.column_types};else if(c.data.definitionType==="MissingIndicator"||c.data.definitionType==="missing_indicator")u="MissingIndicator",d={columns:c.data.columns,flag_suffix:c.data.flag_suffix};else if(c.data.definitionType==="scale_numeric_features"){const p=c.data&&typeof c.data=="object"?c.data:{},x=p.method||"standard";x==="minmax"?u="MinMaxScaler":x==="maxabs"?u="MaxAbsScaler":x==="robust"?u="RobustScaler":u="StandardScaler",d=p}else if(c.data.definitionType==="encoding"){const p=c.data.method;p==="onehot"?u="OneHotEncoder":p==="dummy"?(u="DummyEncoder",d={...c.data,drop_first:!0}):p==="label"?u="LabelEncoder":p==="ordinal"?u="OrdinalEncoder":p==="target"?u="TargetEncoder":p==="hash"?u="HashEncoder":u="OneHotEncoder",u!=="DummyEncoder"&&(d=c.data)}else if(c.data.definitionType==="TrainTestSplitter")u="TrainTestSplitter",d=c.data||{};else if(c.data.definitionType==="label_encoding")u="LabelEncoder",d=c.data||{};else if(c.data.definitionType==="feature_target_split")u="feature_target_split",d=c.data||{};else if(c.data.definitionType==="feature_selection")u="feature_selection",d=c.data||{};else if(c.data.definitionType==="outlier"){const p=c.data.method||"iqr";p==="iqr"?u="IQR":p==="zscore"?u="ZScore":p==="winsorize"?u="Winsorize":p==="elliptic_envelope"?u="EllipticEnvelope":u="IQR",d=c.data}else if(c.data.definitionType==="TransformationNode"){u="GeneralTransformation";const p=c.data.transformations||[],x=[];for(const v of p){const y=v;if(y.columns&&Array.isArray(y.columns))for(const b of y.columns)x.push({column:b,method:y.method,...y.params})}d={transformations:x}}else c.data.definitionType==="BinningNode"?(u="GeneralBinning",d={columns:c.data.columns,strategy:c.data.strategy,n_bins:c.data.n_bins,label_format:c.data.label_format,output_suffix:c.data.output_suffix,drop_original:c.data.drop_original,custom_bins:c.data.custom_bins,custom_labels:c.data.custom_labels}):c.data.definitionType==="ResamplingNode"?((c.data.type||"oversampling")==="oversampling"?u="Oversampling":u="Undersampling",d=c.data):c.data.definitionType==="FeatureGenerationNode"?(u="FeatureMath",d={operations:c.data.operations}):c.data.definitionType==="PolynomialFeaturesNode"?(u="PolynomialFeatures",d={columns:c.data.columns,degree:c.data.degree,interaction_only:c.data.interaction_only,include_bias:c.data.include_bias,output_prefix:c.data.output_prefix,include_input_features:c.data.include_input_features}):c.data.definitionType==="TextCleaning"?(u="TextCleaning",d=c.data):c.data.definitionType==="ValueReplacement"?(u="ValueReplacement",d=c.data):c.data.definitionType==="AliasReplacement"?(u="AliasReplacement",d=c.data):c.data.definitionType==="InvalidValueReplacement"?(u="InvalidValueReplacement",d=c.data):c.data.definitionType==="model_training"?(u="model_training",d={target_column:c.data.target_column,model_type:c.data.model_type,hyperparameters:c.data.hyperparameters,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state}):c.data.definitionType==="hyperparameter_tuning"?(u="model_tuning",d={target_column:c.data.target_column,algorithm:c.data.model_type,tuning_config:{strategy:c.data.search_strategy,metric:c.data.metric,n_trials:c.data.n_trials,search_space:c.data.search_space,cv_enabled:c.data.cv_enabled,cv_folds:c.data.cv_folds,cv_type:c.data.cv_type,cv_shuffle:c.data.cv_shuffle,cv_random_state:c.data.cv_random_state,random_state:c.data.random_state}}):c.data.definitionType==="data_preview"?(u="data_preview",d={}):(console.warn(`Unknown node type: ${c.data.definitionType}`),u="Unknown",d=c.data&&typeof c.data=="object"?c.data:{});r.push({node_id:c.id,step_type:u,params:d,inputs:m}),t.filter(p=>p.source===l).forEach(p=>a.push(p.target))}return{pipeline_id:`preview_${uM()}`,nodes:r,metadata:{dataset_source_id:i}}},MK=()=>{const e=xe(x=>x.nodes),t=xe(x=>x.edges),r=xe(x=>x.setExecutionResult),n=xe(x=>x.setGraph),{toggleDrawer:a}=Sl(),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(!1),f=()=>({nodes:e.map(x=>({id:x.id,type:x.type,position:x.position,data:{...x.data,catalogType:x.data.catalogType||x.data.definitionType}})),edges:t.map(x=>({id:x.id,source:x.source,target:x.target,sourceHandle:x.sourceHandle,targetHandle:x.targetHandle,type:x.type,data:x.data}))}),m=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot save pipeline without a dataset context.");return}c(!0);try{await B8(v,{name:"My Pipeline",description:"Saved from Canvas",graph:f()}),alert("Pipeline saved successfully!")}catch(y){console.error("Save failed:",y),alert("Failed to save pipeline.")}finally{c(!1)}},h=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node"),v=x==null?void 0:x.data.datasetId;if(!v){alert("No dataset node found! Cannot load pipeline without a dataset context.");return}if(confirm("Loading a pipeline will overwrite your current work. Continue?")){d(!0);try{const y=await U8(v);if(y){const b=Array.isArray(y.graph.nodes)?y.graph.nodes:[],w=Array.isArray(y.graph.edges)?y.graph.edges:[];n(b,w),alert("Pipeline loaded successfully!")}else alert("No saved pipeline found for this dataset.")}catch(y){console.error("Load failed:",y),alert("Failed to load pipeline.")}finally{d(!1)}}},p=async()=>{const x=e.find(y=>y.data.definitionType==="dataset_node");if(!(x==null?void 0:x.data.datasetId)){alert("No dataset node found!");return}i(!0),r(null);try{const y=ip(e,t),b=await z8(y);r(b)}catch(y){console.error("Pipeline failed:",y),alert("Pipeline execution failed. Check console for details.")}finally{i(!1)}};return o.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[o.jsxs("button",{onClick:()=>a(),className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors",children:[o.jsx(UF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Jobs"})]}),o.jsxs("button",{onClick:()=>{h()},disabled:u||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[u?o.jsx(Gn,{className:"w-4 h-4 animate-spin"}):o.jsx($F,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:u?"Loading...":"Load"})]}),o.jsxs("button",{onClick:()=>{m()},disabled:l||s,className:"flex items-center gap-2 px-4 py-2 bg-background border rounded-md shadow-sm hover:bg-accent transition-colors disabled:opacity-50",children:[l?o.jsx(Gn,{className:"w-4 h-4 animate-spin"}):o.jsx(JF,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:l?"Saving...":"Save"})]}),o.jsxs("button",{onClick:()=>{p()},disabled:s,className:"flex items-center gap-2 px-4 py-2 text-white rounded-md shadow-sm transition-all disabled:opacity-50",style:{background:"var(--main-gradient)"},children:[s?o.jsx(Gn,{className:"w-4 h-4 animate-spin"}):o.jsx(qi,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:s?"Running...":"Run Preview"})]})]})},TK=()=>{var h;const e=xe(p=>p.executionResult),{isResultsPanelExpanded:t,setResultsPanelExpanded:r}=Nl(),[n,a]=g.useState(null),s=g.useMemo(()=>{const p=e==null?void 0:e.preview_data;return p?Array.isArray(p)?{Result:p}:typeof p=="object"?p:{}:{}},[e]),i=Object.keys(s);if(Mr.useEffect(()=>{i.length>0&&(!n||!i.includes(n))&&(i.includes("train")?a("train"):i.includes("X")?a("X"):a(i[0]))},[i,n]),!e)return null;const l=n&&s[n]?s[n]:[],c=l.length>0?Object.keys(l[0]??{}):[],u=e.node_results?Object.keys(e.node_results):[],d=e.node_results||{},f=Object.keys(d).find(p=>{const x=d[p];return(x==null?void 0:x.status)==="failed"}),m=f?(h=d[f])==null?void 0:h.error:null;return o.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-background border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transition-all duration-300 z-20 flex flex-col ${t?"h-96":"h-10"}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/10 cursor-pointer hover:bg-muted/20 border-b select-none",onClick:()=>r(!t),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(BP,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"font-semibold text-sm",children:"Preview Results"}),o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:[l.length," rows shown"]}),e.status==="failed"&&o.jsx("span",{className:"text-xs text-red-600 font-bold ml-2",children:"(Failed)"})]}),o.jsx("button",{className:"p-1 hover:bg-muted rounded",children:t?o.jsx(Ht,{className:"w-4 h-4"}):o.jsx(Mu,{className:"w-4 h-4"})})]}),t&&o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 border-b text-red-800 text-sm overflow-auto max-h-32",children:[o.jsx("div",{className:"font-bold mb-1",children:"Pipeline Execution Failed"}),o.jsx("div",{className:"font-mono text-xs whitespace-pre-wrap",children:m||"Unknown error occurred during execution."})]}),i.length>1&&o.jsxs("div",{className:"flex items-center gap-1 px-2 pt-2 border-b bg-muted/5",children:[o.jsx(HF,{className:"w-3 h-3 text-muted-foreground mr-1"}),i.map(p=>o.jsx("button",{onClick:()=>{a(p)},className:`px-3 py-1 text-xs font-medium rounded-t-md border-t border-l border-r transition-colors ${n===p?"bg-background text-primary border-b-background translate-y-[1px]":"bg-muted/30 text-muted-foreground hover:bg-muted/50 border-transparent"}`,children:p},p))]}),u.length>0&&e.status!=="failed"&&o.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/20 border-b dark:border-blue-900/30 flex gap-2 overflow-x-auto",children:u.map((p,x)=>o.jsx("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded border border-blue-200 dark:border-blue-800 whitespace-nowrap",children:p},x))}),o.jsxs("div",{className:"flex-1 overflow-auto",children:[o.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[o.jsx("thead",{className:"text-xs text-muted-foreground uppercase bg-muted sticky top-0 z-10 shadow-sm",children:o.jsx("tr",{children:c.map(p=>o.jsx("th",{className:"px-4 py-2 font-medium border-b whitespace-nowrap",children:p},p))})}),o.jsx("tbody",{children:l.map((p,x)=>o.jsx("tr",{className:"border-b hover:bg-muted/10",children:c.map(v=>o.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono text-xs",children:p[v]!==null?String(p[v]):o.jsx("span",{className:"text-muted-foreground italic",children:"null"})},`${x}-${v}`))},x))})]}),l.length===0&&o.jsxs("div",{className:"flex items-center justify-center h-32 text-muted-foreground text-sm",children:["No preview data available ",n?`for ${n}`:""]})]})]})]})},IK=()=>{const{activeView:e,setView:t}=Nl();return o.jsx("div",{className:"h-14 border-b bg-card px-4 flex items-center justify-center shrink-0 relative",children:o.jsxs("div",{className:"flex items-center gap-1 bg-secondary/50 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>t("canvas"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="canvas"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(RP,{className:"w-4 h-4"}),"Canvas"]}),o.jsxs("button",{onClick:()=>t("experiments"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="experiments"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(EF,{className:"w-4 h-4"}),"Experiments"]}),o.jsxs("button",{onClick:()=>t("inference"),className:`flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e==="inference"?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[o.jsx(Uh,{className:"w-4 h-4"}),"Inference"]})]})})},DK=()=>{const{isDrawerOpen:e,toggleDrawer:t,jobs:r,isLoading:n,activeTab:a,setTab:s,fetchJobs:i,hasMore:l,loadMoreJobs:c}=Sl(),[u,d]=g.useState(null);if(!e)return null;const f=r.filter(m=>m.job_type===a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),o.jsx("div",{className:"relative w-[900px] h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-lg flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden transition-all",children:u?o.jsx(RK,{job:u,onBack:()=>{d(null)},onClose:()=>t(!1)}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsx("h2",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Job History"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>i(),className:`p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ${n?"animate-spin":""}`,title:"Refresh",children:o.jsx(Ti,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>t(!1),className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(sr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="tuning"?"border-purple-500 text-purple-600 dark:text-purple-400 bg-purple-50/50 dark:bg-purple-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("tuning"),children:"Model Optimization"}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="training"?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>s("training"),children:"Standard Training"})]}),o.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 text-xs font-medium text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"col-span-2",children:"Status"}),o.jsx("div",{className:"col-span-2",children:"Dataset / Model"}),o.jsx("div",{className:"col-span-3",children:"Job ID"}),o.jsx("div",{className:"col-span-2",children:"Started"}),o.jsx("div",{className:"col-span-1",children:"Duration"}),o.jsx("div",{className:"col-span-1",children:"Ready"}),o.jsx("div",{className:"col-span-1",children:"Result"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-gray-50/30 dark:bg-gray-900/30",children:f.length===0?o.jsxs("div",{className:"text-center py-10 text-gray-400 dark:text-gray-500 text-sm",children:["No ",a==="tuning"?"optimization":"training"," jobs found."]}):o.jsxs(o.Fragment,{children:[f.map(m=>o.jsx(LK,{job:m,onClick:()=>{d(m)}},m.job_id)),l&&o.jsx("div",{className:"flex justify-center pt-2 pb-4",children:o.jsxs("button",{onClick:()=>c(),disabled:n,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[n?o.jsx(Ti,{className:"w-3 h-3 animate-spin"}):o.jsx(Ht,{className:"w-3 h-3"}),"Load More History"]})})]})})]})})]})},RK=({job:e,onBack:t,onClose:r})=>{const{cancelJob:n}=Sl(),[a,s]=g.useState(e),[i,l]=g.useState("overview"),[c,u]=g.useState(!1),d=g.useRef(null);g.useEffect(()=>{let m;const h=async()=>{try{const p=await Mt.getJob(e.job_id);s(p)}catch(p){console.error("Failed to fetch job details",p)}};return h(),(a.status==="running"||a.status==="queued")&&(m=setInterval(()=>{h()},2e3)),()=>{m&&clearInterval(m)}},[e.job_id,a.status]),g.useEffect(()=>{i==="logs"&&d.current&&d.current.scrollIntoView({behavior:"smooth"})},[a.logs,i]);const f=async()=>{if(confirm("Are you sure you want to stop this job?")){u(!0);try{await n(a.job_id)}catch{alert("Failed to cancel job")}finally{u(!1)}}};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-500",children:o.jsx(SF,{className:"w-4 h-4"})}),o.jsx("div",{children:o.jsxs("h2",{className:"font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:["Job Details",o.jsx("span",{className:"text-xs font-normal text-gray-500 font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:a.job_id.slice(0,8)})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[(a.status==="running"||a.status==="queued")&&o.jsxs("button",{onClick:()=>{f()},disabled:c,className:"flex items-center gap-1 px-3 py-1.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 rounded text-xs font-medium transition-colors border border-red-200 dark:border-red-800",children:[o.jsx(r6,{className:"w-3 h-3 fill-current"}),c?"Stopping...":"Stop Job"]}),o.jsx("button",{onClick:r,className:"p-1.5 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:o.jsx(sr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-4",children:[o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="overview"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("overview")},children:[o.jsx(LP,{className:"w-4 h-4"}),"Overview"]}),o.jsxs("button",{className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${i==="logs"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,onClick:()=>{l("logs")},children:[o.jsx(ob,{className:"w-4 h-4"}),"Live Logs",a.status==="running"&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="overview"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),o.jsx("div",{className:"font-medium capitalize flex items-center gap-2 text-gray-800 dark:text-gray-200",children:a.status})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Dataset"}),o.jsxs("div",{className:"font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(Jn,{className:"w-3 h-3 text-gray-400"}),a.dataset_name||a.dataset_id||"Unknown"]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Duration"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 font-mono",children:a.start_time&&a.end_time?`${Math.round((new Date(a.end_time).getTime()-new Date(a.start_time).getTime())/1e3)}s`:"-"})]})]}),a.error&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 rounded-lg",children:[o.jsxs("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300 mb-2 flex items-center gap-2",children:[o.jsx(An,{className:"w-4 h-4"}),"Error Log"]}),o.jsx("pre",{className:"text-xs text-red-700 dark:text-red-400 whitespace-pre-wrap font-mono",children:a.error})]}),a.result&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[o.jsx(s6,{className:"w-4 h-4"}),"Execution Results"]}),a.status==="completed"&&o.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 font-medium",children:[o.jsx(Qn,{className:"w-3 h-3"})," Model Ready"]})]}),a.job_type==="training"&&!!a.result.metrics&&o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).map(([m,h])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:m.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof h=="number"?h.toFixed(4):String(h)})]},m))}),a.job_type==="tuning"&&o.jsxs("div",{className:"space-y-4",children:[a.result.best_score!==void 0&&o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg w-fit",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Best Score"}),o.jsx("div",{className:"font-mono font-bold text-lg text-purple-600 dark:text-purple-400",children:Number(a.result.best_score).toFixed(4)})]}),!!a.result.metrics&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Evaluation Metrics"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(a.result.metrics).filter(([m])=>!["best_score","best_params","trials"].includes(m)).map(([m,h])=>o.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 capitalize",children:m.replace(/_/g," ")}),o.jsx("div",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof h=="number"?h.toFixed(4):String(h)})]},m))})]}),!!a.result.best_params&&o.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-xs overflow-x-auto",children:[o.jsx("div",{className:"text-gray-500 mb-2",children:"# Best Hyperparameters"}),o.jsx("pre",{children:JSON.stringify(a.result.best_params,null,2)})]})]})]})]}):o.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 min-h-[400px] font-mono text-xs text-gray-300 overflow-x-auto",children:[a.logs&&a.logs.length>0?a.logs.map((m,h)=>o.jsx("div",{className:"mb-1 border-b border-gray-800 pb-1 last:border-0",children:m},h)):o.jsx("div",{className:"text-gray-500 italic",children:"No logs available yet..."}),o.jsx("div",{ref:d})]})})]})},LK=({job:e,onClick:t})=>{var i;const r=l=>{switch(l){case"completed":case"succeeded":return o.jsx(Qn,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(An,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"running":return o.jsx(Ti,{className:"w-4 h-4 text-blue-500 dark:text-blue-400 animate-spin"});default:return o.jsx(ib,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})}},n=l=>{switch(l){case"completed":return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50";case"failed":return"bg-red-50/30 dark:bg-red-900/10 border-red-100 dark:border-red-900/30 hover:bg-red-50/50 dark:hover:bg-red-900/20";case"running":return"bg-blue-50/30 dark:bg-blue-900/10 border-blue-100 dark:border-blue-900/30 hover:bg-blue-50/50 dark:hover:bg-blue-900/20";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}},a=l=>l?new Date(l).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=(l,c)=>{if(!l||!c)return"-";const u=new Date(c).getTime()-new Date(l).getTime(),d=Math.floor(u/1e3);return d<60?`${d}s`:`${Math.floor(d/60)}m ${d%60}s`};return o.jsxs("div",{onClick:t,className:`grid grid-cols-12 gap-4 p-3 rounded-lg border text-sm items-center transition-colors cursor-pointer ${n(e.status)}`,children:[o.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[r(e.status),o.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize truncate",children:e.status})]}),o.jsxs("div",{className:"col-span-2 flex flex-col justify-center text-xs text-gray-600 dark:text-gray-400 truncate",children:[o.jsxs("div",{className:"flex items-center gap-1",title:e.dataset_name||e.dataset_id,children:[o.jsx(Jn,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate",children:e.dataset_name||e.dataset_id||"-"})]}),o.jsxs("div",{className:"flex items-center gap-1 mt-0.5 text-[10px] text-gray-500",children:[o.jsx("span",{className:"font-medium truncate",children:e.model_type||"Unknown Model"}),e.job_type==="tuning"&&!!e.config&&!!e.config.tuning&&o.jsxs("span",{className:"text-gray-400 truncate",children:["(",(i=e.config.tuning)==null?void 0:i.strategy,")"]})]})]}),o.jsx("div",{className:"col-span-3 font-mono text-xs text-gray-500 dark:text-gray-400 break-all",title:e.job_id,children:e.job_id}),o.jsx("div",{className:"col-span-2 text-gray-600 dark:text-gray-400 text-xs",children:a(e.start_time)}),o.jsx("div",{className:"col-span-1 text-gray-600 dark:text-gray-400 text-xs font-mono",children:s(e.start_time,e.end_time)}),o.jsx("div",{className:"col-span-1",children:e.status==="completed"&&o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1 border border-green-200 dark:border-green-800 w-fit",children:o.jsx(Qn,{className:"w-3 h-3"})})}),o.jsx("div",{className:"col-span-1",children:e.error?o.jsx("span",{className:"text-red-600 dark:text-red-400 text-xs truncate block",title:e.error,children:"Error"}):e.status==="completed"&&e.result?e.job_type==="training"&&e.result.metrics?o.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.result.metrics).slice(0,1).map(([l,c])=>o.jsxs("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 truncate max-w-full",children:[l,": ",Number(c).toFixed(3)]},l))}):e.job_type==="tuning"?o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.result.best_score!==void 0&&o.jsxs("span",{className:"text-[10px] bg-purple-50 dark:bg-purple-900/20 px-1.5 py-0.5 rounded text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 truncate",children:["Score: ",Number(e.result.best_score).toFixed(4)]}),!e.result.best_score&&!!e.result.best_params&&o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:"Params found"})]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"}):o.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]})};function dM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=dM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ee(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=dM(e))&&(n&&(n+=" "),n+=t);return n}var $K=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tb(e){if(typeof e!="string")return!1;var t=$K;return t.includes(e)}var zK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FK=new Set(zK);function fM(e){return typeof e!="string"?!1:FK.has(e)}function mM(e){return typeof e=="string"&&e.startsWith("data-")}function zr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(fM(r)||mM(r))&&(t[r]=e[r]);return t}function _l(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return zr(t)}return typeof e=="object"&&!Array.isArray(e)?zr(e):null}function Jt(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(fM(r)||mM(r)||Tb(r))&&(t[r]=e[r]);return t}function BK(e){return e==null?null:g.isValidElement(e)?Jt(e.props):typeof e=="object"&&!Array.isArray(e)?Jt(e):null}var UK=["children","width","height","viewBox","className","style","title","desc"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function HK(e,t){if(e==null)return{};var r,n,a=VK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ib=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:l,title:c,desc:u}=e,d=HK(e,UK),f=s||{width:n,height:a,x:0,y:0},m=Ee("recharts-surface",i);return g.createElement("svg",Jy({},Jt(d),{className:m,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),WK=["children","className"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function KK(e,t){if(e==null)return{};var r,n,a=qK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var It=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=KK(e,WK),s=Ee("recharts-layer",n);return g.createElement("g",Zy({className:s},Jt(a),{ref:t}),r)}),hM=g.createContext(null),YK=()=>g.useContext(hM);function Re(e){return function(){return e}}const pM=Math.cos,Am=Math.sin,Ln=Math.sqrt,Mm=Math.PI,op=2*Mm,ex=Math.PI,tx=2*ex,Js=1e-6,GK=tx-Js;function gM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function XK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gM;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class QK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gM:XK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Js)if(!(Math.abs(f*c-u*d)>Js)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-i,p=a-l,x=c*c+u*u,v=h*h+p*p,y=Math.sqrt(x),b=Math.sqrt(m),w=s*Math.tan((ex-Math.acos((x+m-v)/(2*y*b)))/2),j=w/b,k=w/y;Math.abs(j-1)>Js&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*h>d*p)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Js||Math.abs(this._y1-d)>Js)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%tx+tx),m>GK?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Js&&this._append`A${n},${n},0,${+(m>=ex)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Db(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new QK(t)}function Rb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yM(e){this._context=e}yM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lp(e){return new yM(e)}function xM(e){return e[0]}function vM(e){return e[1]}function bM(e,t){var r=Re(!0),n=null,a=lp,s=null,i=Db(l);e=typeof e=="function"?e:e===void 0?xM:Re(e),t=typeof t=="function"?t:t===void 0?vM:Re(t);function l(c){var u,d=(c=Rb(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(f,u,c),+t(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Jd(e,t,r){var n=null,a=Re(!0),s=null,i=lp,l=null,c=Db(u);e=typeof e=="function"?e:e===void 0?xM:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?vM:Re(+r);function u(f){var m,h,p,x=(f=Rb(f)).length,v,y=!1,b,w=new Array(x),j=new Array(x);for(s==null&&(l=i(b=c())),m=0;m<=x;++m){if(!(m<x&&a(v=f[m],m,f))===y)if(y=!y)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=m-1;p>=h;--p)l.point(w[p],j[p]);l.lineEnd(),l.areaEnd()}y&&(w[m]=+e(v,m,f),j[m]=+t(v,m,f),l.point(n?+n(v,m,f):w[m],r?+r(v,m,f):j[m]))}if(b)return l=null,b+""||null}function d(){return bM().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Re(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class wM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function JK(e){return new wM(e,!0)}function ZK(e){return new wM(e,!1)}const Lb={draw(e,t){const r=Ln(t/Mm);e.moveTo(r,0),e.arc(0,0,r,0,op)}},eq={draw(e,t){const r=Ln(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jM=Ln(1/3),tq=jM*2,rq={draw(e,t){const r=Ln(t/tq),n=r*jM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nq={draw(e,t){const r=Ln(t),n=-r/2;e.rect(n,n,r,r)}},aq=.8908130915292852,kM=Am(Mm/10)/Am(7*Mm/10),sq=Am(op/10)*kM,iq=-pM(op/10)*kM,oq={draw(e,t){const r=Ln(t*aq),n=sq*r,a=iq*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=op*s/5,l=pM(i),c=Am(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Qg=Ln(3),lq={draw(e,t){const r=-Ln(t/(Qg*3));e.moveTo(0,r*2),e.lineTo(-Qg*r,-r),e.lineTo(Qg*r,-r),e.closePath()}},Wr=-.5,Kr=Ln(3)/2,rx=1/Ln(12),cq=(rx/2+1)*3,uq={draw(e,t){const r=Ln(t/cq),n=r/2,a=r*rx,s=n,i=r*rx+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(Wr*n-Kr*a,Kr*n+Wr*a),e.lineTo(Wr*s-Kr*i,Kr*s+Wr*i),e.lineTo(Wr*l-Kr*c,Kr*l+Wr*c),e.lineTo(Wr*n+Kr*a,Wr*a-Kr*n),e.lineTo(Wr*s+Kr*i,Wr*i-Kr*s),e.lineTo(Wr*l+Kr*c,Wr*c-Kr*l),e.closePath()}};function dq(e,t){let r=null,n=Db(a);e=typeof e=="function"?e:Re(e||Lb),t=typeof t=="function"?t:Re(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Re(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Tm(){}function Im(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NM(e){this._context=e}NM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Im(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fq(e){return new NM(e)}function SM(e){this._context=e}SM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mq(e){return new SM(e)}function _M(e){this._context=e}_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Im(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hq(e){return new _M(e)}function EM(e){this._context=e}EM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pq(e){return new EM(e)}function LN(e){return e<0?-1:1}function $N(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(LN(s)+LN(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function zN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function Dm(e){this._context=e}Dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jg(this,this._t0,zN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jg(this,zN(this,r=$N(this,e,t)),r);break;default:Jg(this,this._t0,r=$N(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function CM(e){this._context=new PM(e)}(CM.prototype=Object.create(Dm.prototype)).point=function(e,t){Dm.prototype.point.call(this,t,e)};function PM(e){this._context=e}PM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function gq(e){return new Dm(e)}function yq(e){return new CM(e)}function OM(e){this._context=e}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=FN(e),a=FN(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FN(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function xq(e){return new OM(e)}function cp(e,t){this._context=e,this._t=t}cp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function vq(e){return new cp(e,.5)}function bq(e){return new cp(e,0)}function wq(e){return new cp(e,1)}function il(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function nx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jq(e,t){return e[t]}function kq(e){const t=[];return t.key=e,t}function Nq(){var e=Re([]),t=nx,r=il,n=jq;function a(s){var i=Array.from(e.apply(this,arguments),kq),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=Rb(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Re(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Re(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?nx:typeof s=="function"?s:Re(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??il,a):r},a}function Sq(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}il(e,t)}}function _q(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}il(e,t)}}function Eq(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,p=0;p<l;++p){var x=e[t[p]],v=x[n][1]||0,y=x[n-1][1]||0;h+=v-y}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,il(e,t)}}var up={},AM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(AM);var $b={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})($b);var dp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(dp);var fp={},MM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(MM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MM,r=dp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),l++);l<i;){const f=a[l];u?f==="\\"&&l+1<i?(l++,c+=a[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(c),c=""):c+=f:f==="["?(d=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}e.toPath=n})(fp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AM,r=$b,n=dp,a=fp;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function i(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(up);var Cq=up.get;const ol=aa(Cq);var vr=e=>e===0?0:e>0?1:-1,Fr=e=>typeof e=="number"&&e!=+e,Ra=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,de=e=>(typeof e=="number"||e instanceof Number)&&!Fr(e),an=e=>de(e)||typeof e=="string",Pq=0,su=e=>{var t=++Pq;return"".concat(e||"").concat(t)},Mn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&typeof t!="string")return n;var s;if(Ra(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Fr(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},TM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Le(e,t,r){return de(e)&&de(t)?e+r*(t-e):t}function IM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ol(n,t))===r)}var Oq=e=>{for(var t=e.length,r=0,n=0,a=0,s=0,i=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,s+=c*c,i=Math.min(i,c),l=Math.max(l,c);var f=t*s!==r*r?(t*a-r*n)/(t*s-r*r):0;return{xmin:i,xmax:l,a:f,b:(n-f*r)/t}},Ae=e=>e===null||typeof e>"u",Vu=e=>Ae(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Aq(e){return e!=null}function Wu(){}var Mq=["type","size","sizeType"];function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(null,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Dq(e,"string");return typeof t=="symbol"?t:t+""}function Dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e,t){if(e==null)return{};var r,n,a=Lq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DM={symbolCircle:Lb,symbolCross:eq,symbolDiamond:rq,symbolSquare:nq,symbolStar:oq,symbolTriangle:lq,symbolWye:uq},$q=Math.PI/180,zq=e=>{var t="symbol".concat(Vu(e));return DM[t]||Lb},Fq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*$q;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Bq=(e,t)=>{DM["symbol".concat(Vu(e))]=t},mp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Rq(e,Mq),s=UN(UN({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var l=()=>{var m=zq(i),h=dq().type(m).size(Fq(r,n,i)),p=h();if(p!==null)return p},{className:c,cx:u,cy:d}=s,f=Jt(s);return de(u)&&de(d)&&de(r)?g.createElement("path",ax({},f,{className:Ee("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};mp.registerSymbol=Bq;var RM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Tb(a)&&(n[a]=s=>r[a](r,s))}),n},Uq=(e,t,r)=>n=>(e(t,r,n),null),Ku=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Tb(a)&&typeof s=="function"&&(n||(n={}),n[a]=Uq(s,t,r))}),n},Hq=e=>Array.isArray(e)&&e.length>0;function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){Wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t){var r=Vq({},e),n=t,a=Object.keys(t),s=a.reduce((i,l)=>(i[l]===void 0&&n[l]!==void 0&&(i[l]=n[l]),i),r);return s}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Qq(e,"string");return typeof t=="symbol"?t:t+""}function Qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yr=32,Jq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Zq(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Yr/2,s=Yr/6,i=Yr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Yr,y2:a,className:"recharts-legend-icon"})}if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Yr,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yr/8,"h").concat(Yr,"v").concat(Yr*3/4,"h").concat(-Yr,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=Yq({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(mp,{fill:l,cx:a,cy:a,size:Yr,sizeType:"diameter",type:c})}function eY(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,l={x:0,y:0,width:Yr,height:Yr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var m=d.formatter||a,h=Ee({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,x=m?m(d.value,d,f):d.value;return g.createElement("li",Rm({className:h,style:c,key:"legend-item-".concat(f)},Ku(e,d,f)),g.createElement(Ib,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},g.createElement(Zq,{data:d,iconType:i,inactiveColor:s})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}var tY=e=>{var t=ht(e,Jq),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:s},g.createElement(eY,Rm({},t,{payload:r})))},LM={},$M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],l=n(i);a.has(l)||a.set(l,i)}return Array.from(a.values())}e.uniqBy=t})($M);var Fb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Fb);var zM={},hp={},FM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(FM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(hp);var BM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(BM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hp,r=BM;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(zM);var UM={},HM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=up;function r(n){return function(a){return t.get(a,n)}}e.property=r})(HM);var VM={},Bb={},WM={},Ub={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ub);var Hb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Hb);var Vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Vb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub,r=Hb,n=Vb;function a(d,f,m){return typeof m!="function"?a(d,f,()=>{}):s(d,f,function h(p,x,v,y,b,w){const j=m(p,x,v,y,b,w);return j!==void 0?!!j:s(p,x,h,w)},new Map)}function s(d,f,m,h){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,m,h);case"function":return Object.keys(f).length>0?s(d,{...f},m,h):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,m,h){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,h);if(f instanceof Map)return l(d,f,m,h);if(f instanceof Set)return u(d,f,m,h);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===d;h==null||h.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!m(d[v],f[v],v,d,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function l(d,f,m,h){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(m(v,x,p,d,f,h)===!1)return!1}return!0}function c(d,f,m,h){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let y=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let j=!1;if(m(w,v,x,d,f,h)&&(j=!0),j){p.add(b),y=!0;break}}if(!y)return!1}return!0}function u(d,f,m,h){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(WM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WM;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Bb);var KM={},Wb={},qM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(qM);var Kb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Kb);var qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",k="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=_,e.int8ArrayTag=k,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(qb);var YM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(YM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM,r=Kb,n=qb,a=Hb,s=YM;function i(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,m,h=new Map,p=void 0){const x=p==null?void 0:p(d,f,m,h);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const v=new Array(d.length);h.set(d,v);for(let y=0;y<d.length;y++)v[y]=l(d[y],y,m,h,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;h.set(d,v);for(const[y,b]of d)v.set(y,l(b,y,m,h,p));return v}if(d instanceof Set){const v=new Set;h.set(d,v);for(const y of d)v.add(l(y,void 0,m,h,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,v);for(let y=0;y<d.length;y++)v[y]=l(d[y],y,m,h,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,v),c(v,d,m,h,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return h.set(d,v),c(v,d,m,h,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof Error){const v=new d.constructor;return h.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,m,h,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(d instanceof String){const v=new String(d.valueOf());return h.set(d,v),c(v,d,m,h,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return h.set(d,v),c(v,d,m,h,p),v}return d}function c(d,f,m=d,h,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const y=x[v],b=Object.getOwnPropertyDescriptor(d,y);(b==null||b.writable)&&(d[y]=l(f[y],y,m,h,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=l,e.copyProperties=c})(Wb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wb;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(KM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bb,r=KM;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(VM);var GM={},XM={},QM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wb,r=qb;function n(a,s){return t.cloneDeepWith(a,(i,l,c,u)=>{const d=s==null?void 0:s(i,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(QM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(XM);var JM={},Yb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Yb);var ZM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kb;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$b,r=Yb,n=ZM,a=fp;function s(i,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(i==null?void 0:i[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(JM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bb,r=dp,n=XM,a=up,s=JM;function i(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(GM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fb,r=HM,n=VM,a=GM;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(UM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$M,r=Fb,n=zM,a=UM;function s(i,l=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(l)):[]}e.uniqBy=s})(LM);var rY=LM.uniqBy;const WN=aa(rY);function eT(e,t,r){return t===!0?WN(e,r):typeof t=="function"?WN(e,t):e}var Gb=g.createContext(null),nY=e=>e,Ye=()=>{var e=g.useContext(Gb);return e?e.store.dispatch:nY},zf=()=>{},aY=()=>zf,sY=(e,t)=>e===t;function oe(e){var t=g.useContext(Gb);return vO.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:aY,t?t.store.getState:zf,t?t.store.getState:zf,t?e:zf,sY)}function iY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function oY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var KN=e=>Array.isArray(e)?e:[e];function cY(e){const t=Array.isArray(e[0])?e[0]:e;return lY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function uY(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var dY=class{constructor(e){this.value=e}deref(){return this.value}},fY=typeof WeakRef<"u"?WeakRef:dY,mY=0,qN=1;function Zd(){return{s:mY,v:void 0,o:null,p:null}}function tT(e,t={}){let r=Zd();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let l=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const p=arguments[m];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const v=x.get(p);v===void 0?(l=Zd(),x.set(p,l)):l=v}else{let x=l.p;x===null&&(l.p=x=new Map);const v=x.get(p);v===void 0?(l=Zd(),x.set(p,l)):l=v}}const u=l;let d;if(l.s===qN)d=l.v;else if(d=e.apply(null,arguments),s++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,d)&&(d=m,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new fY(d):d}return u.s=qN,u.v=d,d}return i.clearCache=()=>{r=Zd(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function hY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),iY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:h=tT,argsMemoizeOptions:p=[]}=d,x=KN(m),v=KN(p),y=cY(a),b=f(function(){return s++,u.apply(null,arguments)},...x),w=h(function(){i++;const k=uY(y,arguments);return l=b.apply(null,k),l},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var V=hY(tT),pY=Object.assign((e,t=V)=>{oY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,l,c)=>(i[r[c]]=l,i),{}))},{withTypes:()=>pY}),rT={},nT={},aT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),l=t(a);if(i===l&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?l-i:i-l}return 0};e.compareValues=r})(aT);var sT={},Xb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Xb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(sT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aT,r=sT,n=fp;function a(s,i,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(h=>String(h));const u=(h,p)=>{let x=h;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:u(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?u(p,h):typeof p=="object"?p[h]:p,f=i.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return s.map(h=>({original:h,criteria:f.map(p=>d(p,h))})).slice().sort((h,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(h.criteria[x],p.criteria[x],l[x]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=a})(nT);var iT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?i(d,c+1):a.push(d)}};return i(r,0),a}e.flatten=t})(iT);var Qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yb,r=hp,n=Ub,a=Vb;function s(i,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],i):!1}e.isIterateeCall=s})(Qb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nT,r=iT,n=Qb;function a(s,...i){const l=i.length;return l>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:l>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(rT);var gY=rT.sortBy;const pp=aa(gY);var oT=e=>e.legend.settings,yY=e=>e.legend.size,xY=e=>e.legend.payload,vY=V([xY,oT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?pp(n,r):n});function bY(){return oe(vY)}var ef=1;function lT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>ef||Math.abs(i.left-t.left)>ef||Math.abs(i.top-t.top)>ef||Math.abs(i.width-t.width)>ef)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function $t(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wY=typeof Symbol=="function"&&Symbol.observable||"@@observable",YN=wY,Zg=()=>Math.random().toString(36).substring(7).split("").join("."),jY={INIT:`@@redux/INIT${Zg()}`,REPLACE:`@@redux/REPLACE${Zg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zg()}`},Lm=jY;function Jb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function cT(e,t,r){if(typeof e!="function")throw new Error($t(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($t(1));return r(cT)(e,t)}let n=e,a=t,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((v,y)=>{i.set(y,v)}))}function d(){if(c)throw new Error($t(3));return a}function f(v){if(typeof v!="function")throw new Error($t(4));if(c)throw new Error($t(5));let y=!0;u();const b=l++;return i.set(b,v),function(){if(y){if(c)throw new Error($t(6));y=!1,u(),i.delete(b),s=null}}}function m(v){if(!Jb(v))throw new Error($t(7));if(typeof v.type>"u")throw new Error($t(8));if(typeof v.type!="string")throw new Error($t(17));if(c)throw new Error($t(9));try{c=!0,a=n(a,v)}finally{c=!1}return(s=i).forEach(b=>{b()}),v}function h(v){if(typeof v!="function")throw new Error($t(10));n=v,m({type:Lm.REPLACE})}function p(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error($t(11));function b(){const j=y;j.next&&j.next(d())}return b(),{unsubscribe:v(b)}},[YN](){return this}}}return m({type:Lm.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[YN]:p}}function kY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Lm.INIT})>"u")throw new Error($t(12));if(typeof r(void 0,{type:Lm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($t(13))})}function uT(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{kY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],p=m(h,l);if(typeof p>"u")throw l&&l.type,new Error($t(14));u[f]=p,c=c||p!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function $m(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function NY(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error($t(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(i));return s=$m(...l)(a.dispatch),{...a,dispatch:s}}}function dT(e){return Jb(e)&&"type"in e&&typeof e.type=="string"}var fT=Symbol.for("immer-nothing"),GN=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ir=Object,ll=Ir.getPrototypeOf,zm="constructor",gp="prototype",sx="configurable",Fm="enumerable",Ff="writable",iu="value",La=e=>!!e&&!!e[ir];function Tn(e){var t;return e?mT(e)||yp(e)||!!e[GN]||!!((t=e[zm])!=null&&t[GN])||xp(e)||vp(e):!1}var SY=Ir[gp][zm].toString(),XN=new WeakMap;function mT(e){if(!e||!Zb(e))return!1;const t=ll(e);if(t===null||t===Ir[gp])return!0;const r=Ir.hasOwnProperty.call(t,zm)&&t[zm];if(r===Object)return!0;if(!no(r))return!1;let n=XN.get(r);return n===void 0&&(n=Function.toString.call(r),XN.set(r,n)),n===SY}function qu(e,t,r=!0){Yu(e)===0?(r?Reflect.ownKeys(e):Ir.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Yu(e){const t=e[ir];return t?t.type_:yp(e)?1:xp(e)?2:vp(e)?3:0}var QN=(e,t,r=Yu(e))=>r===2?e.has(t):Ir[gp].hasOwnProperty.call(e,t),ix=(e,t,r=Yu(e))=>r===2?e.get(t):e[t],Bm=(e,t,r,n=Yu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function _Y(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var yp=Array.isArray,xp=e=>e instanceof Map,vp=e=>e instanceof Set,Zb=e=>typeof e=="object",no=e=>typeof e=="function",e0=e=>typeof e=="boolean",ha=e=>e.copy_||e.base_,ew=e=>e.modified_?e.copy_:e.base_;function ox(e,t){if(xp(e))return new Map(e);if(vp(e))return new Set(e);if(yp(e))return Array[gp].slice.call(e);const r=mT(e);if(t===!0||t==="class_only"&&!r){const n=Ir.getOwnPropertyDescriptors(e);delete n[ir];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l[Ff]===!1&&(l[Ff]=!0,l[sx]=!0),(l.get||l.set)&&(n[i]={[sx]:!0,[Ff]:!0,[Fm]:l[Fm],[iu]:e[i]})}return Ir.create(ll(e),n)}else{const n=ll(e);if(n!==null&&r)return{...e};const a=Ir.create(n);return Ir.assign(a,e)}}function tw(e,t=!1){return bp(e)||La(e)||!Tn(e)||(Yu(e)>1&&Ir.defineProperties(e,{set:tf,add:tf,clear:tf,delete:tf}),Ir.freeze(e),t&&qu(e,(r,n)=>{tw(n,!0)},!1)),e}function EY(){wn(2)}var tf={[iu]:EY};function bp(e){return e===null||!Zb(e)?!0:Ir.isFrozen(e)}var Um="MapSet",lx="Patches",hT={};function cl(e){const t=hT[e];return t||wn(0,e),t}var CY=e=>!!hT[e],ou,pT=()=>ou,PY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:CY(Um)?cl(Um):void 0});function JN(e,t){t&&(e.patchPlugin_=cl(lx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cx(e){ux(e),e.drafts_.forEach(OY),e.drafts_=null}function ux(e){e===ou&&(ou=e.parent_)}var ZN=e=>ou=PY(ou,e);function OY(e){const t=e[ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function e2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ir].modified_&&(cx(t),wn(4)),Tn(e)&&(e=t2(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ir].base_,e,t)}else e=t2(t,r);return AY(t,e,!0),cx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fT?e:void 0}function t2(e,t){if(bp(t))return t;const r=t[ir];if(!r)return rw(t,e.handledSet_,e);if(!wp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);xT(r,e)}return r.copy_}function AY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tw(t,r)}function gT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var wp=(e,t)=>e.scope_===t,MY=[];function yT(e,t,r,n){const a=ha(e),s=e.type_;if(n!==void 0&&ix(a,n,s)===t){Bm(a,n,r,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;qu(a,(c,u)=>{if(La(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const i=e.draftLocations_.get(t)??MY;for(const l of i)Bm(a,l,r,s)}function TY(e,t,r){e.callbacks_.push(function(a){var l;const s=t;if(!s||!wp(s,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(s);const i=ew(s);yT(e,s.draft_??s,i,r),xT(s,a)})}function xT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}gT(e)}}function IY(e,t,r){const{scope_:n}=e;if(La(r)){const a=r[ir];wp(a,n)&&a.callbacks_.push(function(){Bf(e);const i=ew(a);yT(e,r,i,t)})}else Tn(r)&&e.callbacks_.push(function(){const s=ha(e);ix(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&rw(ix(e.copy_,t,e.type_),n.handledSet_,n)})}function rw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||La(e)||t.has(e)||!Tn(e)||bp(e)||(t.add(e),qu(e,(n,a)=>{if(La(a)){const s=a[ir];if(wp(s,r)){const i=ew(s);Bm(e,n,i,e.type_),gT(s)}}else Tn(a)&&rw(a,t,r)})),e}function DY(e,t){const r=yp(e),n={type_:r?1:0,scope_:t?t.scope_:pT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=nw;r&&(a=[n],s=lu);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,[l,n]}var nw={get(e,t){if(t===ir)return e;const r=ha(e);if(!QN(r,t,e.type_))return RY(e,r,t);const n=r[t];if(e.finalized_||!Tn(n))return n;if(n===t0(e.base_,t)){Bf(e);const a=e.type_===1?+t:t,s=fx(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in ha(e)},ownKeys(e){return Reflect.ownKeys(ha(e))},set(e,t,r){const n=vT(ha(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=t0(ha(e),t),s=a==null?void 0:a[ir];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(_Y(r,a)&&(r!==void 0||QN(e.base_,t,e.type_)))return!0;Bf(e),dx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),IY(e,t,r)),!0},deleteProperty(e,t){return Bf(e),t0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),dx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ha(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ff]:!0,[sx]:e.type_!==1||t!=="length",[Fm]:n[Fm],[iu]:r[t]}},defineProperty(){wn(11)},getPrototypeOf(e){return ll(e.base_)},setPrototypeOf(){wn(12)}},lu={};qu(nw,(e,t)=>{lu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});lu.deleteProperty=function(e,t){return lu.set.call(this,e,t,void 0)};lu.set=function(e,t,r){return nw.set.call(this,e[0],t,r,e[0])};function t0(e,t){const r=e[ir];return(r?ha(r):e)[t]}function RY(e,t,r){var a;const n=vT(t,r);return n?iu in n?n[iu]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function vT(e,t){if(!(t in e))return;let r=ll(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ll(r)}}function dx(e){e.modified_||(e.modified_=!0,e.parent_&&dx(e.parent_))}function Bf(e){e.copy_||(e.assigned_=new Map,e.copy_=ox(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var LY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(no(r)&&!no(n)){const i=n;n=r;const l=this;return function(u=i,...d){return l.produce(u,f=>n.call(this,f,...d))}}no(n)||wn(6),a!==void 0&&!no(a)&&wn(7);let s;if(Tn(r)){const i=ZN(this),l=fx(i,r,void 0);let c=!0;try{s=n(l),c=!1}finally{c?cx(i):ux(i)}return JN(i,a),e2(s,i)}else if(!r||!Zb(r)){if(s=n(r),s===void 0&&(s=r),s===fT&&(s=void 0),this.autoFreeze_&&tw(s,!0),a){const i=[],l=[];cl(lx).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:l}),a(i,l)}return s}else wn(1,r)},this.produceWithPatches=(r,n)=>{if(no(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,s;return[this.produce(r,n,(l,c)=>{a=l,s=c}),a,s]},e0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),e0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),e0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Tn(t)||wn(8),La(t)&&(t=Cn(t));const r=ZN(this),n=fx(r,t,void 0);return n[ir].isManual_=!0,ux(r),n}finishDraft(t,r){const n=t&&t[ir];(!n||!n.isManual_)&&wn(9);const{scope_:a}=n;return JN(a,r),e2(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=cl(lx).applyPatches_;return La(t)?a(t,r):this.produce(t,s=>a(s,r))}};function fx(e,t,r,n){const[a,s]=xp(t)?cl(Um).proxyMap_(t,r):vp(t)?cl(Um).proxySet_(t,r):DY(t,r);return((r==null?void 0:r.scope_)??pT()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?TY(r,s,n):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),a}function Cn(e){return La(e)||wn(10,e),bT(e)}function bT(e){if(!Tn(e)||bp(e))return e;const t=e[ir];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ox(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ox(e,!0);return qu(r,(a,s)=>{Bm(r,a,bT(s))},n),t&&(t.finalized_=!1),r}var $Y=new LY,wT=$Y.produce;function jT(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var zY=jT(),FY=jT,BY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$m:$m.apply(null,arguments)};function sn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Rr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>dT(n)&&n.type===e,r}var kT=class fc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fc.prototype)}static get[Symbol.species](){return fc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fc(...t[0].concat(this)):new fc(...t.concat(this))}};function r2(e){return Tn(e)?wT(e,()=>{}):e}function rf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function UY(e){return typeof e=="boolean"}var HY=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new kT;return r&&(UY(r)?i.push(zY):i.push(FY(r.extraArgument))),i},NT="RTK_autoBatch",He=()=>e=>({payload:e,meta:{[NT]:!0}}),n2=e=>t=>{setTimeout(t,e)},ST=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n2(10):e.type==="callback"?e.queueNotification:n2(e.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[NT]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},VY=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new kT(e);return n&&a.push(ST(typeof n=="object"?n:void 0)),a};function WY(e){const t=HY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Jb(r))l=uT(r);else throw new Error(Rr(1));let c;typeof n=="function"?c=n(t):c=t();let u=$m;a&&(u=BY({trace:!1,...typeof a=="object"&&a}));const d=NY(...c),f=VY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return cT(l,s,h)}function _T(e){const t={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Rr(28));if(l in t)throw new Error(Rr(29));return t[l]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function KY(e){return typeof e=="function"}function qY(e,t){let[r,n,a]=_T(t),s;if(KY(e))s=()=>r2(e());else{const l=r2(e);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(La(d)){const h=f(d,c);return h===void 0?d:h}else{if(Tn(d))return wT(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var YY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GY=(e=21)=>{let t="",r=e;for(;r--;)t+=YY[Math.random()*64|0];return t},XY=Symbol.for("rtk-slice-createasyncthunk");function QY(e,t){return`${e}/${t}`}function JY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[XY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Rr(11));const l=(typeof a.reducers=="function"?a.reducers(eG()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,k){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(Rr(12));if(N in u.sliceCaseReducersByType)throw new Error(Rr(13));return u.sliceCaseReducersByType[N]=k,d},addMatcher(j,k){return u.sliceMatchers.push({matcher:j,reducer:k}),d},exposeAction(j,k){return u.actionCreators[j]=k,d},exposeCaseReducer(j,k){return u.sliceCaseReducersByName[j]=k,d}};c.forEach(j=>{const k=l[j],N={reducerName:j,type:QY(s,j),createNotation:typeof a.reducers=="function"};rG(k)?aG(N,k,d,t):tG(N,k,d)});function f(){const[j={},k=[],N=void 0]=typeof a.extraReducers=="function"?_T(a.extraReducers):[a.extraReducers],_={...j,...u.sliceCaseReducersByType};return qY(a.initialState,S=>{for(let E in _)S.addCase(E,_[E]);for(let E of u.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of k)S.addMatcher(E.matcher,E.reducer);N&&S.addDefaultCase(N)})}const m=j=>j,h=new Map,p=new WeakMap;let x;function v(j,k){return x||(x=f()),x(j,k)}function y(){return x||(x=f()),x.getInitialState()}function b(j,k=!1){function N(S){let E=S[j];return typeof E>"u"&&k&&(E=rf(p,N,y)),E}function _(S=m){const E=rf(h,k,()=>new WeakMap);return rf(E,S,()=>{const O={};for(const[C,A]of Object.entries(a.selectors??{}))O[C]=ZY(A,S,()=>rf(p,S,y),k);return O})}return{reducerPath:j,getSelectors:_,get selectors(){return _(N)},selectSlice:N}}const w={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...b(i),injectInto(j,{reducerPath:k,...N}={}){const _=k??i;return j.inject({reducerPath:_,reducer:v},N),{...w,...b(_,!0)}}};return w}}function ZY(e,t,r,n){function a(s,...i){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...i)}return a.unwrapped=e,a}var Er=JY();function eG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function tG({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!nG(n))throw new Error(Rr(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?sn(e,i):sn(e))}function rG(e){return e._reducerDefinitionType==="asyncThunk"}function nG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function aG({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Rr(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||nf,pending:l||nf,rejected:c||nf,settled:u||nf})}function nf(){}var sG="task",ET="listener",CT="completed",aw="cancelled",iG=`task-${aw}`,oG=`task-${CT}`,mx=`${ET}-${aw}`,lG=`${ET}-${CT}`,jp=class{constructor(e){Rl(this,"name","TaskAbortError");Rl(this,"message");this.code=e,this.message=`${sG} ${aw} (reason: ${e})`}},sw=(e,t)=>{if(typeof e!="function")throw new TypeError(Rr(32))},Hm=()=>{},PT=(e,t=Hm)=>(e.catch(t),e),OT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Si=e=>{if(e.aborted)throw new jp(e.reason)};function AT(e,t){let r=Hm;return new Promise((n,a)=>{const s=()=>a(new jp(e.reason));if(e.aborted){s();return}r=OT(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Hm})}var cG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof jp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vm=e=>t=>PT(AT(e,t).then(r=>(Si(e),r))),MT=e=>{const t=Vm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Po}=Object,a2={},kp="listenerMiddleware",uG=(e,t)=>{const r=n=>OT(e,()=>n.abort(e.reason));return(n,a)=>{sw(n);const s=new AbortController;r(s);const i=cG(async()=>{Si(e),Si(s.signal);const l=await n({pause:Vm(s.signal),delay:MT(s.signal),signal:s.signal});return Si(s.signal),l},()=>s.abort(oG));return a!=null&&a.autoJoin&&t.push(i.catch(Hm)),{result:Vm(e)(i),cancel(){s.abort(iG)}}}},dG=(e,t)=>{const r=async(n,a)=>{Si(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await AT(t,Promise.race(l));return Si(t),c}finally{s()}};return(n,a)=>PT(r(n,a))},TT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=sn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Rr(21));return sw(s),{predicate:a,type:t,effect:s}},IT=Po(e=>{const{type:t,predicate:r,effect:n}=TT(e);return{id:GY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Rr(22))}}},{withTypes:()=>IT}),s2=(e,t)=>{const{type:r,effect:n,predicate:a}=TT(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},hx=e=>{e.pending.forEach(t=>{t.abort(mx)})},fG=(e,t)=>()=>{for(const r of t.keys())hx(r);e.clear()},i2=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},DT=Po(sn(`${kp}/add`),{withTypes:()=>DT}),mG=sn(`${kp}/removeAll`),RT=Po(sn(`${kp}/remove`),{withTypes:()=>RT}),hG=(...e)=>{console.error(`${kp}/error`,...e)},Gu=(e={})=>{const t=new Map,r=new Map,n=h=>{const p=r.get(h)??0;r.set(h,p+1)},a=h=>{const p=r.get(h)??1;p===1?r.delete(h):r.set(h,p-1)},{extra:s,onError:i=hG}=e;sw(i);const l=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&hx(h)}),c=h=>{const p=s2(t,h)??IT(h);return l(p)};Po(c,{withTypes:()=>c});const u=h=>{const p=s2(t,h);return p&&(p.unsubscribe(),h.cancelActive&&hx(p)),!!p};Po(u,{withTypes:()=>u});const d=async(h,p,x,v)=>{const y=new AbortController,b=dG(c,y.signal),w=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(p,Po({},x,{getOriginalState:v,condition:(j,k)=>b(j,k).then(Boolean),take:b,delay:MT(y.signal),pause:Vm(y.signal),extra:s,signal:y.signal,fork:uG(y.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((j,k,N)=>{j!==y&&(j.abort(mx),N.delete(j))})},cancel:()=>{y.abort(mx),h.pending.delete(y)},throwIfCancelled:()=>{Si(y.signal)}})))}catch(j){j instanceof jp||i2(i,j,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(lG),a(h),h.pending.delete(y)}},f=fG(t,r);return{middleware:h=>p=>x=>{if(!dT(x))return p(x);if(DT.match(x))return c(x.payload);if(mG.match(x)){f();return}if(RT.match(x))return u(x.payload);let v=h.getState();const y=()=>{if(v===a2)throw new Error(Rr(23));return v};let b;try{if(b=p(x),t.size>0){const w=h.getState(),j=Array.from(t.values());for(const k of j){let N=!1;try{N=k.predicate(x,w,v)}catch(_){N=!1,i2(i,_,{raisedBy:"predicate"})}N&&d(k,x,h,y)}}}finally{v=a2}return b},startListening:c,stopListening:u,clearListeners:f}};function Rr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},LT=Er({name:"chartLayout",initialState:pG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:gG,setLayout:yG,setChartSize:xG,setScale:vG}=LT.actions,bG=LT.reducer;function $T(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){wG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t,r){return(t=jG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ze(e,t,r){return Ae(e)||Ae(t)?r:an(t)?ol(e,t,r):typeof t=="function"?t(e):r}var NG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:l}=t;if((l==="vertical"||l==="horizontal"&&i==="middle")&&s!=="center"&&de(e[s]))return vo(vo({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&i!=="middle"&&de(e[i]))return vo(vo({},e),{},{[i]:e[i]+(a||0)})}return e},Hs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",zT=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,s,i=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(s=!0),l.coordinate));return a||i.push(t),s||i.push(r),i},FT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:h}=e;if(!i)return null;var p=l==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,x=a==="category"&&i.bandwidth?i.bandwidth()/p:0;if(x=h==="angleAxis"&&s&&s.length>=2?vr(s[0]-s[1])*2*x:x,f||m){var v=(f||m||[]).map((y,b)=>{var w=n?n.indexOf(y):y;return{coordinate:i(w)+x,value:y,offset:x,index:b}});return v.filter(y=>!Fr(y.coordinate))}return c&&u?u.map((y,b)=>({coordinate:i(y)+x,value:y,index:b,offset:x})):i.ticks&&d!=null?i.ticks(d).map((y,b)=>({coordinate:i(y)+x,value:y,offset:x,index:b})):i.domain().map((y,b)=>({coordinate:i(y)+x,value:n?n[y]:y,index:b,offset:x}))},l2=1e-4,SG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-l2,s=Math.max(n[0],n[1])+l2,i=e(t[0]),l=e(t[r-1]);(i<a||i>s||l<a||l>s)&&e.domain([t[0],t[r-1]])}},_G=(e,t)=>{if(!t||t.length!==2||!de(t[0])||!de(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!de(e[0])||e[0]<r)&&(a[0]=r),(!de(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},EG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var l=Fr(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+l,s=e[i][r][1])}},CG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=Fr(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},PG={sign:EG,expand:Sq,none:il,silhouette:_q,wiggle:Eq,positive:CG},OG=(e,t,r)=>{var n=PG[r],a=Nq().keys(t).value((s,i)=>Number(Ze(s,i,0))).order(nx).offset(n);return a(e)};function AG(e){return e==null?void 0:String(e)}function Wm(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ae(a[t.dataKey])){var l=IM(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ze(a,Ae(i)?t.dataKey:i);return Ae(c)?null:t.scale(c)}var c2=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var l=Ze(s,t.dataKey,t.scale.domain()[i]);return Ae(l)?null:t.scale(l)-a/2+n},MG=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},TG=e=>{var t=e.flat(2).filter(de);return[Math.min(...t),Math.max(...t)]},IG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],DG=(e,t,r)=>{if(e!=null)return IG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,l=i.reduce((c,u)=>{var d=$T(u,t,r),f=TG(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},u2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ul=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=pp(t,d=>d.coordinate),s=1/0,i=1,l=a.length;i<l;i++){var c=a[i],u=a[i-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function f2(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return vo(vo({},t),{},{dataKey:r,payload:n,value:a,name:s})}function El(e,t){if(e)return String(e);if(typeof t=="string")return t}var RG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},LG=(e,t)=>t==="centric"?e.angle:e.radius,Wa=e=>e.layout.width,Ka=e=>e.layout.height,$G=e=>e.layout.scale,BT=e=>e.layout.margin,Np=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Sp=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),UT="data-recharts-item-index",HT="data-recharts-item-data-key",Xu=60;function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UG=e=>e.brush.height;function HG(e){var t=Sp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xu;return r+a}return r},0)}function VG(e){var t=Sp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xu;return r+a}return r},0)}function WG(e){var t=Np(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function KG(e){var t=Np(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Dt=V([Wa,Ka,BT,UG,HG,VG,WG,KG,oT,yY],(e,t,r,n,a,s,i,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+l},m=af(af({},f),d),h=m.bottom;m.bottom+=n,m=NG(m,c,u);var p=e-m.left-m.right,x=t-m.top-m.bottom;return af(af({brushBottom:h},m),{},{width:Math.max(p,0),height:Math.max(x,0)})}),qG=V(Dt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),iw=V(Wa,Ka,(e,t)=>({x:0,y:0,width:e,height:t})),YG=g.createContext(null),bt=()=>g.useContext(YG)!=null,_p=e=>e.brush,Ep=V([_p,Dt,BT],(e,t,r)=>({height:e.height,x:de(e.x)?e.x:t.left,y:de(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:de(e.width)?e.width:t.width})),VT={},WT={},KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(i,l),i=void 0,l=null)},f=()=>{u&&d(),x()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},p=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{p(),i=void 0,l=null},v=()=>{d()},y=function(...b){if(a!=null&&a.aborted)return;i=this,l=b;const w=m==null;h(),c&&w&&d()};return y.schedule=h,y.cancel=x,y.flush=v,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(KT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const m=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),h=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},p=()=>(m.flush(),d);return h.cancel=m.cancel,h.flush=p,h}e.debounce=r})(WT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT;function r(n,a=0,s={}){const{leading:i=!0,trailing:l=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:l})}e.throttle=r})(VT);var GG=VT.throttle;const XG=aa(GG);var Km=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},qT=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,l=Ra(n)?e:Number(n),c=Ra(a)?t:Number(a);return s&&s>0&&(l?c=l/s:c&&(l=c*s),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:l,calculatedHeight:c}},QG={width:0,height:0,overflow:"visible"},JG={width:0,overflowX:"visible"},ZG={height:0,overflowY:"visible"},eX={},tX=e=>{var{width:t,height:r}=e,n=Ra(t),a=Ra(r);return n&&a?QG:n?JG:a?ZG:eX};function rX(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function Ue(e){return Number.isFinite(e)}function ea(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(null,arguments)}function h2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return(t=aX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YT=g.createContext({width:-1,height:-1});function iX(e){return ea(e.width)&&ea(e.height)}function GT(e){var{children:t,width:r,height:n}=e,a=g.useMemo(()=>({width:r,height:n}),[r,n]);return iX(a)?g.createElement(YT.Provider,{value:a},t):null}var ow=()=>g.useContext(YT),oX=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:h,style:p={}}=e,x=g.useRef(null),v=g.useRef();v.current=h,g.useImperativeHandle(t,()=>x.current);var[y,b]=g.useState({containerWidth:n.width,containerHeight:n.height}),w=g.useCallback((S,E)=>{b(O=>{var C=Math.round(S),A=Math.round(E);return O.containerWidth===C&&O.containerHeight===A?O:{containerWidth:C,containerHeight:A}})},[]);g.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Wu;var S=A=>{var D,{width:M,height:$}=A[0].contentRect;w(M,$),(D=v.current)===null||D===void 0||D.call(v,M,$)};d>0&&(S=XG(S,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:O,height:C}=x.current.getBoundingClientRect();return w(O,C),E.observe(x.current),()=>{E.disconnect()}},[w,d]);var{containerWidth:j,containerHeight:k}=y;Km(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:N,calculatedHeight:_}=qT(j,k,{width:a,height:s,aspect:r,maxHeight:c});return Km(N!=null&&N>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,_,a,s,i,l,r),g.createElement("div",{id:f?"".concat(f):void 0,className:Ee("recharts-responsive-container",m),style:p2(p2({},p),{},{width:a,height:s,minWidth:i,minHeight:l,maxHeight:c}),ref:x},g.createElement("div",{style:tX({width:a,height:s})},g.createElement(GT,{width:N,height:_},u)))}),sf=g.forwardRef((e,t)=>{var r=ow();if(ea(r.width)&&ea(r.height))return e.children;var{width:n,height:a}=rX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=qT(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return de(s)&&de(i)?g.createElement(GT,{width:s,height:i},e.children):g.createElement(oX,px({},e,{width:n,height:a,ref:t}))});function XT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Cl=()=>{var e,t=bt(),r=oe(qG),n=oe(Ep),a=(e=oe(_p))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},lX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QT=()=>{var e;return(e=oe(Dt))!==null&&e!==void 0?e:lX},lw=()=>oe(Wa),cw=()=>oe(Ka),cX=()=>oe(e=>e.layout.margin),Ce=e=>e.layout.layoutType,Qu=()=>oe(Ce),uX=()=>{var e=Qu();return e!==void 0},Cp=e=>{var t=Ye(),r=bt(),{width:n,height:a}=e,s=ow(),i=n,l=a;return s&&(i=s.width>0?s.width:n,l=s.height>0?s.height:a),g.useEffect(()=>{!r&&ea(i)&&ea(l)&&t(xG({width:i,height:l}))},[t,r,i,l]),null},JT=Symbol.for("immer-nothing"),g2=Symbol.for("immer-draftable"),Br=Symbol.for("immer-state");function jn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cu=Object.getPrototypeOf;function dl(e){return!!e&&!!e[Br]}function zi(e){var t;return e?ZT(e)||Array.isArray(e)||!!e[g2]||!!((t=e.constructor)!=null&&t[g2])||Ju(e)||Op(e):!1}var dX=Object.prototype.constructor.toString(),y2=new WeakMap;function ZT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=y2.get(r);return n===void 0&&(n=Function.toString.call(r),y2.set(r,n)),n===dX}function qm(e,t,r=!0){Pp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Pp(e){const t=e[Br];return t?t.type_:Array.isArray(e)?1:Ju(e)?2:Op(e)?3:0}function gx(e,t){return Pp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function eI(e,t,r){const n=Pp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ju(e){return e instanceof Map}function Op(e){return e instanceof Set}function Zs(e){return e.copy_||e.base_}function yx(e,t){if(Ju(e))return new Map(e);if(Op(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ZT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Br];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(cu(e),n)}else{const n=cu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function uw(e,t=!1){return Ap(e)||dl(e)||!zi(e)||(Pp(e)>1&&Object.defineProperties(e,{set:of,add:of,clear:of,delete:of}),Object.freeze(e),t&&Object.values(e).forEach(r=>uw(r,!0))),e}function mX(){jn(2)}var of={value:mX};function Ap(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var hX={};function Fi(e){const t=hX[e];return t||jn(0,e),t}var uu;function tI(){return uu}function pX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function x2(e,t){t&&(Fi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xx(e){vx(e),e.drafts_.forEach(gX),e.drafts_=null}function vx(e){e===uu&&(uu=e.parent_)}function v2(e){return uu=pX(uu,e)}function gX(e){const t=e[Br];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function b2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Br].modified_&&(xx(t),jn(4)),zi(e)&&(e=Ym(t,e),t.parent_||Gm(t,e)),t.patches_&&Fi("Patches").generateReplacementPatches_(r[Br].base_,e,t.patches_,t.inversePatches_)):e=Ym(t,r,[]),xx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JT?e:void 0}function Ym(e,t,r){if(Ap(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Br];if(!a)return qm(t,(s,i)=>w2(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Gm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,l=!1;a.type_===3&&(i=new Set(s),s.clear(),l=!0),qm(i,(c,u)=>w2(e,a,s,c,u,r,l),n),Gm(e,s,!1),r&&e.patches_&&Fi("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function w2(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const l=Ap(a);if(!(l&&!i)){if(dl(a)){const c=s&&t&&t.type_!==3&&!gx(t.assigned_,n)?s.concat(n):void 0,u=Ym(e,a,c);if(eI(r,n,u),dl(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(zi(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;Ym(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ju(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Gm(e,a)}}}function Gm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uw(t,r)}function yX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:tI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=dw;r&&(a=[n],s=du);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var dw={get(e,t){if(t===Br)return e;const r=Zs(e);if(!gx(r,t))return xX(e,r,t);const n=r[t];return e.finalized_||!zi(n)?n:n===r0(e.base_,t)?(n0(e),e.copy_[t]=wx(n,e)):n},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,r){const n=rI(Zs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=r0(Zs(e),t),s=a==null?void 0:a[Br];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(fX(r,a)&&(r!==void 0||gx(e.base_,t)))return!0;n0(e),bx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return r0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,n0(e),bx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Zs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){jn(11)},getPrototypeOf(e){return cu(e.base_)},setPrototypeOf(){jn(12)}},du={};qm(dw,(e,t)=>{du[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});du.deleteProperty=function(e,t){return du.set.call(this,e,t,void 0)};du.set=function(e,t,r){return dw.set.call(this,e[0],t,r,e[0])};function r0(e,t){const r=e[Br];return(r?Zs(r):e)[t]}function xX(e,t,r){var a;const n=rI(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function rI(e,t){if(!(t in e))return;let r=cu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cu(r)}}function bx(e){e.modified_||(e.modified_=!0,e.parent_&&bx(e.parent_))}function n0(e){e.copy_||(e.copy_=yx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&jn(6),n!==void 0&&typeof n!="function"&&jn(7);let a;if(zi(t)){const s=v2(this),i=wx(t,void 0);let l=!0;try{a=r(i),l=!1}finally{l?xx(s):vx(s)}return x2(s,n),b2(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===JT&&(a=void 0),this.autoFreeze_&&uw(a,!0),n){const s=[],i=[];Fi("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else jn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let n,a;return[this.produce(t,r,(i,l)=>{n=i,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){zi(e)||jn(8),dl(e)&&(e=bX(e));const t=v2(this),r=wx(e,void 0);return r[Br].isManual_=!0,vx(t),r}finishDraft(e,t){const r=e&&e[Br];(!r||!r.isManual_)&&jn(9);const{scope_:n}=r;return x2(n,t),b2(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Fi("Patches").applyPatches_;return dl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function wx(e,t){const r=Ju(e)?Fi("MapSet").proxyMap_(e,t):Op(e)?Fi("MapSet").proxySet_(e,t):yX(e,t);return(t?t.scope_:tI()).drafts_.push(r),r}function bX(e){return dl(e)||jn(10,e),nI(e)}function nI(e){if(!zi(e)||Ap(e))return e;const t=e[Br];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=yx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=yx(e,!0);return qm(r,(a,s)=>{eI(r,a,nI(s))},n),t&&(t.finalized_=!1),r}var wX=new vX;wX.produce;var jX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},aI=Er({name:"legend",initialState:jX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:He()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Cn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:He()},removeLegendPayload:{reducer(e,t){var r=Cn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:He()}}}),{setLegendSize:j2,setLegendSettings:kX,addLegendPayload:NX,replaceLegendPayload:SX,removeLegendPayload:_X}=aI.actions,EX=aI.reducer,CX=["contextPayload"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(null,arguments)}function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MX(e,t){if(e==null)return{};var r,n,a=TX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IX(e){return e.value}function DX(e){var{contextPayload:t}=e,r=MX(e,CX),n=eT(t,e.payloadUniqBy,IX),a=fl(fl({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(tY,a)}function RX(e,t,r,n,a,s){var{layout:i,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&i==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),fl(fl({},u),d)}function LX(e){var t=Ye();return g.useEffect(()=>{t(kX(e))},[t,e]),null}function $X(e){var t=Ye();return g.useEffect(()=>(t(j2(e)),()=>{t(j2({width:0,height:0}))}),[t,e]),null}function zX(e,t,r,n){return e==="vertical"&&de(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var FX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function sI(e){var t=ht(e,FX),r=bY(),n=YK(),a=cX(),{width:s,height:i,wrapperStyle:l,portal:c}=t,[u,d]=lT([r]),f=lw(),m=cw();if(f==null||m==null)return null;var h=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),p=zX(t.layout,i,s,h),x=c?l:fl(fl({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},RX(l,t,a,f,m,u)),l),v=c??n;if(v==null||r==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},g.createElement(LX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&g.createElement($X,{width:u.width,height:u.height}),g.createElement(DX,jx({},t,p,{margin:a,chartWidth:f,chartHeight:m,contextPayload:r})));return Eu.createPortal(y,v)}sI.displayName="Legend";function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(null,arguments)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VX(e){return Array.isArray(e)&&an(e[0])&&an(e[1])?e.join(" ~ "):e}var WX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(s&&s.length){var k={padding:0,margin:0},N=(l?pp(s,l):s).map((_,S)=>{if(_.type==="none")return null;var E=_.formatter||i||VX,{value:O,name:C}=_,A=O,D=C;if(E){var M=E(O,C,_,S,s);if(Array.isArray(M))[A,D]=M;else if(M!=null)A=M;else return null}var $=a0({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:$},an(D)?g.createElement("span",{className:"recharts-tooltip-item-name"},D):null,an(D)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},A),g.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:k},N)}return null},p=a0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=a0({margin:0},a),v=!Ae(d),y=v?d:"",b=Ee("recharts-default-tooltip",c),w=Ee("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(y=f(d,s));var j=m?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",kx({className:b,style:p},j),g.createElement("p",{className:w,style:x},g.isValidElement(y)?y:"".concat(y)),h())},Ql="recharts-tooltip-wrapper",KX={visibility:"hidden"};function qX(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ee(Ql,{["".concat(Ql,"-right")]:de(r)&&t&&de(t.x)&&r>=t.x,["".concat(Ql,"-left")]:de(r)&&t&&de(t.x)&&r<t.x,["".concat(Ql,"-bottom")]:de(n)&&t&&de(t.y)&&n>=t.y,["".concat(Ql,"-top")]:de(n)&&t&&de(t.y)&&n<t.y})}function S2(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&de(s[n]))return s[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var m=c[n];if(m==null)return 0;if(i[n]){var h=d,p=m;return h<p?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var x=f+l,v=m+u;return x>v?Math.max(d,m):Math.max(f,m)}function YX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function GX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:l,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=S2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=S2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=YX({translateX:d,translateY:f,useTranslate3d:l})):u=KX,{cssProperties:u,cssClasses:qX({translateX:d,translateY:f,coordinate:r})}}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){Nx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nx(e,t,r){return(t=XX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JX extends g.PureComponent{constructor(){super(...arguments),Nx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:w}=GX({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:h}),j=y?{}:lf(lf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=lf(lf({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:k,ref:v},s)}}var iI=()=>{var e;return(e=oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(null,arguments)}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P2={curveBasisClosed:mq,curveBasisOpen:hq,curveBasis:fq,curveBumpX:JK,curveBumpY:ZK,curveLinearClosed:pq,curveLinear:lp,curveMonotoneX:gq,curveMonotoneY:yq,curveNatural:xq,curveStep:vq,curveStepAfter:wq,curveStepBefore:bq},Xm=e=>Ue(e.x)&&Ue(e.y),O2=e=>e.base!=null&&Xm(e.base)&&Xm(e),Jl=e=>e.x,Zl=e=>e.y,rQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Vu(e));return(r==="curveMonotone"||r==="curveBump")&&t?P2["".concat(r).concat(t==="vertical"?"Y":"X")]:P2[r]||lp},nQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=rQ(t,a),l=s?r.filter(Xm):r,c;if(Array.isArray(n)){var u=r.map((h,p)=>C2(C2({},h),{},{base:n[p]}));a==="vertical"?c=Jd().y(Zl).x1(Jl).x0(h=>h.base.x):c=Jd().x(Jl).y1(Zl).y0(h=>h.base.y);var d=c.defined(O2).curve(i),f=s?u.filter(O2):u;return d(f)}a==="vertical"&&de(n)?c=Jd().y(Zl).x1(Jl).x0(n):de(n)?c=Jd().x(Jl).y1(Zl).y0(n):c=bM().x(Jl).y(Zl);var m=c.defined(Xm).curve(i);return m(l)},fw=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?nQ(e):n;return g.createElement("path",Sx({},zr(e),zb(e),{className:Ee("recharts-curve",t),d:s===null?void 0:s,ref:a}))},aQ=["x","y","top","left","width","height","className"];function _x(){return _x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_x.apply(null,arguments)}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){iQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iQ(e,t,r){return(t=oQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oQ(e){var t=lQ(e,"string");return typeof t=="symbol"?t:t+""}function lQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cQ(e,t){if(e==null)return{};var r,n,a=uQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),fQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:l}=e,c=cQ(e,aQ),u=sQ({x:t,y:r,top:n,left:a,width:s,height:i},c);return!de(t)||!de(r)||!de(s)||!de(i)||!de(n)||!de(a)?null:g.createElement("path",_x({},Jt(u),{className:Ee("recharts-cross",l),d:dQ(t,r,s,i,n,a)}))};function mQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function M2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(r),!0).forEach(function(n){hQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hQ(e,t,r){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),oI=(e,t,r)=>e.map(n=>"".concat(yQ(n)," ").concat(t,"ms ").concat(r)).join(","),xQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),fu=(e,t)=>Object.keys(t).reduce((r,n)=>T2(T2({},r),{},{[n]:e(n,t[n])}),{});function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){vQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vQ(e,t,r){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm=(e,t,r)=>e+(t-e)*r,Ex=e=>{var{from:t,to:r}=e;return t!==r},lI=(e,t,r)=>{var n=fu((a,s)=>{if(Ex(s)){var[i,l]=e(s.from,s.to,s.velocity);return xt(xt({},s),{},{from:i,velocity:l})}return s},t);return r<1?fu((a,s)=>Ex(s)?xt(xt({},s),{},{velocity:Qm(s.velocity,n[a].velocity,r),from:Qm(s.from,n[a].from,r)}):s,t):lI(e,n,r-1)};function jQ(e,t,r,n,a,s){var i,l=n.reduce((m,h)=>xt(xt({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>fu((m,h)=>h.from,l),u=()=>!Object.values(l).filter(Ex).length,d=null,f=m=>{i||(i=m);var h=m-i,p=h/r.dt;l=lI(r,l,p),a(xt(xt(xt({},e),t),c())),i=m,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function kQ(e,t,r,n,a,s,i){var l=null,c=a.reduce((f,m)=>xt(xt({},f),{},{[m]:[e[m],t[m]]}),{}),u,d=f=>{u||(u=f);var m=(f-u)/n,h=fu((x,v)=>Qm(...v,r(m)),c);if(s(xt(xt(xt({},e),t),h)),m<1)l=i.setTimeout(d);else{var p=fu((x,v)=>Qm(...v,r(1)),c);s(xt(xt(xt({},e),t),p))}};return()=>(l=i.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const NQ=(e,t,r,n,a,s)=>{var i=xQ(e,t);return r==null?()=>(a(xt(xt({},e),t)),()=>{}):r.isStepper===!0?jQ(e,t,r,i,a,s):kQ(e,t,r,n,i,a,s)};var Jm=1e-4,cI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),D2=(e,t)=>r=>{var n=cI(e,t);return uI(n,r)},SQ=(e,t)=>r=>{var n=cI(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return uI(a,r)},_Q=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},EQ=(e,t,r,n)=>{var a=D2(e,r),s=D2(t,n),i=SQ(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var h=a(f)-d,p=i(f);if(Math.abs(h-d)<Jm||p<Jm)return s(f);f=l(f-h/p)}return s(f)};return c.isStepper=!1,c},R2=function(){return EQ(..._Q(...arguments))},CQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,l,c)=>{var u=-(i-l)*r,d=c*n,f=c+(u-d)*a/1e3,m=c*a/1e3+i;return Math.abs(m-l)<Jm&&Math.abs(f)<Jm?[l,0]:[m,f]};return s.isStepper=!0,s.dt=a,s},PQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R2(e);case"spring":return CQ();default:if(e.split("(")[0]==="cubic-bezier")return R2(e)}return typeof e=="function"?e:null};function OQ(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(s.bind(null,u),c);return}s(c),a=e.setTimeout(s.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class AQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function MQ(){return OQ(new AQ)}var TQ=g.createContext(MQ);function IQ(e,t){var r=g.useContext(TQ);return g.useMemo(()=>t??r(e),[e,t,r])}var DQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zu={devToolsEnabled:!1,isSsr:DQ()},RQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},L2={t:0},s0={t:1};function ed(e){var t=ht(e,RQ),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!Zu.isSsr:r,f=IQ(t.animationId,t.animationManager),[m,h]=g.useState(d?L2:s0),p=g.useRef(null);return g.useEffect(()=>{d||h(s0)},[d]),g.useEffect(()=>{if(!d||!n)return Wu;var x=NQ(L2,s0,PQ(s),a,h,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([c,i,v,a,l]),()=>{f.stop(),p.current&&p.current(),l()}},[d,n,a,s,i,c,l,f]),u(m.t)}function td(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(su(t)),n=g.useRef(e);return n.current!==e&&(r.current=su(t),n.current=e),r.current}var LQ=["radius"],$Q=["radius"];function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(n){zQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t,r){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zm.apply(null,arguments)}function F2(e,t){if(e==null)return{};var r,n,a=UQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B2=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=a[f]>s?s:a[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);u="M ".concat(e,",").concat(t+i*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,`
            L `).concat(e+r-l*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*h,`
            L `).concat(e+r,",").concat(t+n-i*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-l*h,",").concat(t+n,`
            L `).concat(e+l*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},U2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dI=e=>{var t=ht(e,U2),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:s,y:i,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=g.useRef(l),y=g.useRef(c),b=g.useRef(s),w=g.useRef(i),j=g.useMemo(()=>({x:s,y:i,width:l,height:c,radius:u}),[s,i,l,c,u]),k=td(j,"rectangle-");if(s!==+s||i!==+i||l!==+l||c!==+c||l===0||c===0)return null;var N=Ee("recharts-rectangle",d);if(!x){var _=Jt(t),{radius:S}=_,E=F2(_,LQ);return g.createElement("path",Zm({},E,{radius:typeof u=="number"?u:void 0,className:N,d:B2(s,i,l,c,u)}))}var O=v.current,C=y.current,A=b.current,D=w.current,M="0px ".concat(n===-1?1:n,"px"),$="".concat(n,"px 0px"),I=oI(["strokeDasharray"],m,typeof f=="string"?f:U2.animationEasing);return g.createElement(ed,{animationId:k,key:k,canBegin:n>0,duration:m,easing:f,isActive:x,begin:h},R=>{var T=Le(O,l,R),P=Le(C,c,R),L=Le(A,s,R),F=Le(D,i,R);r.current&&(v.current=T,y.current=P,b.current=L,w.current=F);var U;p?R>0?U={transition:I,strokeDasharray:$}:U={strokeDasharray:M}:U={strokeDasharray:$};var q=Jt(t),{radius:Y}=q,re=F2(q,$Q);return g.createElement("path",Zm({},re,{radius:typeof u=="number"?u:void 0,className:N,d:B2(L,F,T,P,u),ref:r,style:z2(z2({},U),t.style)}))})};function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=Math.PI/180,KQ=e=>e*180/Math.PI,Bt=(e,t,r,n)=>({x:e+Math.cos(-eh*n)*r,y:t+Math.sin(-eh*n)*r}),qQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},YQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},GQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=YQ({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var l=(r-a)/i,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:i,angle:KQ(c),angleInRadian:c}},XQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},QQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},JQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=GQ({x:r,y:n},t),{innerRadius:i,outerRadius:l}=t;if(a<i||a>l||a===0)return null;var{startAngle:c,endAngle:u}=XQ(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?V2(V2({},t),{},{radius:a,angle:QQ(d,t)}):null};function fI(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Bt(t,r,n,a),l=Bt(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(null,arguments)}var ZQ=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},cf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:l,cornerIsExternal:c}=e,u=l*(i?1:-1)+n,d=Math.asin(l/u)/eh,f=c?a:a+s*d,m=Bt(t,r,u,f),h=Bt(t,r,n,f),p=c?a-s*d:a,x=Bt(t,r,u*Math.cos(d*eh),p);return{center:m,circleTangency:h,lineTangency:x,theta:d}},mI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,l=ZQ(s,i),c=s+l,u=Bt(t,r,a,s),d=Bt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var m=Bt(t,r,n,s),h=Bt(t,r,n,c);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},eJ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=vr(u-c),{circleTangency:f,lineTangency:m,theta:h}=cf({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:v}=cf({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-h-v;if(y<0)return i?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):mI({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:k}=cf({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:_,theta:S}=cf({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-k-S;if(E<0&&s===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},tJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hI=e=>{var t=ht(e,tJ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<a||u===d)return null;var m=Ee("recharts-sector",f),h=s-a,p=Mn(i,h,0,!0),x;return p>0&&Math.abs(u-d)<360?x=eJ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(p,h/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=mI({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),g.createElement("path",Cx({},Jt(t),{className:m,d:x}))};function rJ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(RM(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:l}=t,c=Bt(n,a,s,l),u=Bt(n,a,i,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return fI(t)}}var pI={},gI={},yI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(yI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(gI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qb,r=gI;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const l=Math.max(Math.ceil((s-a)/(i||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=i;return c}e.range=n})(pI);var nJ=pI.range;const xI=aa(nJ);function Os(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mw(e){let t,r,n;e.length!==2?(t=Os,r=(l,c)=>Os(e(l),c),n=(l,c)=>e(l)-c):(t=e===Os||e===aJ?e:sJ,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function sJ(){return 0}function vI(e){return e===null?NaN:+e}function*iJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oJ=mw(Os),rd=oJ.right;mw(vI).center;class W2 extends Map{constructor(t,r=uJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(K2(this,t))}has(t){return super.has(K2(this,t))}set(t,r){return super.set(lJ(this,t),r)}delete(t){return super.delete(cJ(this,t))}}function K2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dJ(e=Os){if(e===Os)return bI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function bI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fJ=Math.sqrt(50),mJ=Math.sqrt(10),hJ=Math.sqrt(2);function th(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=fJ?10:s>=mJ?5:s>=hJ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?th(e,t,r*2):[l,c,u]}function Px(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?th(t,e,r):th(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function Ox(e,t,r){return t=+t,e=+e,r=+r,th(e,t,r)[2]}function Ax(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ox(t,e,r):Ox(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function q2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Y2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wI(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?bI:dJ(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/c+m)),p=Math.min(n,Math.floor(t+(c-u)*f/c+m));wI(e,t,h,p,a)}const s=e[t];let i=r,l=n;for(ec(e,r,t),a(e[n],s)>0&&ec(e,r,n);i<l;){for(ec(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?ec(e,r,l):(++l,ec(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ec(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pJ(e,t,r){if(e=Float64Array.from(iJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Y2(e);if(t>=1)return q2(e);var n,a=(n-1)*t,s=Math.floor(a),i=q2(wI(e,s).subarray(0,s+1)),l=Y2(e.subarray(s+1));return i+(l-i)*(a-s)}}function gJ(e,t,r=vI){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function yJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function ln(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mx=Symbol("implicit");function hw(){var e=new W2,t=[],r=[],n=Mx;function a(s){let i=e.get(s);if(i===void 0){if(n!==Mx)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new W2;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return hw(t,r).unknown(n)},ln.apply(a,arguments),a}function pw(){var e=hw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<n,p=h?a:n,x=h?n:a;s=(x-p)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),p+=(x-p-s*(m-c))*d,i=s*(1-c),l&&(p=Math.round(p),i=Math.round(i));var v=yJ(m).map(function(y){return p+s*y});return r(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return pw(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ln.apply(f(),arguments)}function jI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jI(t())},e}function xJ(){return jI(pw.apply(null,arguments).paddingInner(1))}function vJ(e){return function(){return e}}function rh(e){return+e}var G2=[0,1];function nr(e){return e}function Tx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vJ(isNaN(t)?NaN:.5)}function bJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wJ(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Tx(a,n),s=r(i,s)):(n=Tx(n,a),s=r(s,i)),function(l){return s(n(l))}}function jJ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Tx(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=rd(e,l,1,n)-1;return s[c](a[c](l))}}function nd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mp(){var e=G2,t=G2,r=_a,n,a,s,i=nr,l,c,u;function d(){var m=Math.min(e.length,t.length);return i!==nr&&(i=bJ(e[0],e[m-1])),l=m>2?jJ:wJ,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(n),t,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(t,e.map(n),vn)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,rh),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=vb,d()},f.clamp=function(m){return arguments.length?(i=m?!0:nr,d()):i!==nr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function gw(){return Mp()(nr,nr)}function kJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ml(e){return e=nh(Math.abs(e)),e?e[1]:NaN}function NJ(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function SJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _J=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mu(e){if(!(t=_J.exec(e)))throw new Error("invalid format: "+e);var t;return new yw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mu.prototype=yw.prototype;function yw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function EJ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var kI;function CJ(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(kI=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+nh(e,Math.max(0,t+s-1))[0]}function X2(e,t){var r=nh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Q2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>X2(e*100,t),r:X2,s:CJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function J2(e){return e}var Z2=Array.prototype.map,eS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PJ(e){var t=e.grouping===void 0||e.thousands===void 0?J2:NJ(Z2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?J2:SJ(Z2.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=mu(f);var m=f.fill,h=f.align,p=f.sign,x=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,j=f.trim,k=f.type;k==="n"?(b=!0,k="g"):Q2[k]||(w===void 0&&(w=12),j=!0,k="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=x==="$"?n:/[%p]/.test(k)?i:"",S=Q2[k],E=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(C){var A=N,D=_,M,$,I;if(k==="c")D=S(C)+D,C="";else{C=+C;var R=C<0||1/C<0;if(C=isNaN(C)?c:S(Math.abs(C),w),j&&(C=EJ(C)),R&&+C==0&&p!=="+"&&(R=!1),A=(R?p==="("?p:l:p==="-"||p==="("?"":p)+A,D=(k==="s"?eS[8+kI/3]:"")+D+(R&&p==="("?")":""),E){for(M=-1,$=C.length;++M<$;)if(I=C.charCodeAt(M),48>I||I>57){D=(I===46?a+C.slice(M+1):C.slice(M))+D,C=C.slice(0,M);break}}}b&&!v&&(C=t(C,1/0));var T=A.length+C.length+D.length,P=T<y?new Array(y-T+1).join(m):"";switch(b&&v&&(C=t(P+C,P.length?y-D.length:1/0),P=""),h){case"<":C=A+C+D+P;break;case"=":C=A+P+C+D;break;case"^":C=P.slice(0,T=P.length>>1)+A+C+D+P.slice(T);break;default:C=P+A+C+D;break}return s(C)}return O.toString=function(){return f+""},O}function d(f,m){var h=u((f=mu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(ml(m)/3)))*3,x=Math.pow(10,-p),v=eS[8+p/3];return function(y){return h(x*y)+v}}return{format:u,formatPrefix:d}}var uf,xw,NI;OJ({thousands:",",grouping:[3],currency:["$",""]});function OJ(e){return uf=PJ(e),xw=uf.format,NI=uf.formatPrefix,uf}function AJ(e){return Math.max(0,-ml(Math.abs(e)))}function MJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ml(t)/3)))*3-ml(Math.abs(e)))}function TJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ml(t)-ml(e))+1}function SI(e,t,r,n){var a=Ax(e,t,r),s;switch(n=mu(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=MJ(a,i))&&(n.precision=s),NI(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=TJ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=AJ(a))&&(n.precision=s-(n.type==="%")*2);break}}return xw(n)}function Vs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Px(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return SI(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Ox(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _I(){var e=gw();return e.copy=function(){return nd(e,_I())},ln.apply(e,arguments),Vs(e)}function EI(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return EI(e).unknown(t)},e=arguments.length?Array.from(e,rh):[0,1],Vs(r)}function CI(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function tS(e){return Math.log(e)}function rS(e){return Math.exp(e)}function IJ(e){return-Math.log(-e)}function DJ(e){return-Math.exp(-e)}function RJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LJ(e){return e===10?RJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $J(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nS(e){return(t,r)=>-e(-t,r)}function vw(e){const t=e(tS,rS),r=t.domain;let n=10,a,s;function i(){return a=$J(n),s=LJ(n),r()[0]<0?(a=nS(a),s=nS(s),e(IJ,DJ)):e(tS,rS),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),p,x;const v=l==null?10:+l;let y=[];if(!(n%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(p=1;p<n;++p)if(x=m<0?p/s(-m):p*s(m),!(x<u)){if(x>d)break;y.push(x)}}else for(;m<=h;++m)for(p=n-1;p>=1;--p)if(x=m>0?p/s(-m):p*s(m),!(x<u)){if(x>d)break;y.push(x)}y.length*2<v&&(y=Px(u,d,v))}else y=Px(m,h,Math.min(h-m,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=mu(c)).precision==null&&(c.trim=!0),c=xw(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(CI(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function PI(){const e=vw(Mp()).domain([1,10]);return e.copy=()=>nd(e,PI()).base(e.base()),ln.apply(e,arguments),e}function aS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bw(e){var t=1,r=e(aS(t),sS(t));return r.constant=function(n){return arguments.length?e(aS(t=+n),sS(t)):t},Vs(r)}function OI(){var e=bw(Mp());return e.copy=function(){return nd(e,OI()).constant(e.constant())},ln.apply(e,arguments)}function iS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FJ(e){return e<0?-e*e:e*e}function ww(e){var t=e(nr,nr),r=1;function n(){return r===1?e(nr,nr):r===.5?e(zJ,FJ):e(iS(r),iS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vs(t)}function jw(){var e=ww(Mp());return e.copy=function(){return nd(e,jw()).exponent(e.exponent())},ln.apply(e,arguments),e}function BJ(){return jw.apply(null,arguments).exponent(.5)}function oS(e){return Math.sign(e)*e*e}function UJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AI(){var e=gw(),t=[0,1],r=!1,n;function a(s){var i=UJ(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(oS(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,rh)).map(oS)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return AI(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ln.apply(a,arguments),Vs(a)}function MI(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=gJ(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[rd(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Os),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return MI().domain(e).range(t).unknown(n)},ln.apply(s,arguments)}function TI(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[rd(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return TI().domain([e,t]).range(a).unknown(s)},ln.apply(Vs(i),arguments)}function II(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[rd(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return II().domain(e).range(t).unknown(r)},ln.apply(a,arguments)}const i0=new Date,o0=new Date;function wt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>wt(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(i0.setTime(+s),o0.setTime(+i),e(i0),e(o0),Math.floor(r(i0,o0))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const ah=wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ah.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ah);ah.range;const ja=1e3,en=ja*60,ka=en*60,$a=ka*24,kw=$a*7,lS=$a*30,l0=$a*365,li=wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCSeconds());li.range;const Nw=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja)},(e,t)=>{e.setTime(+e+t*en)},(e,t)=>(t-e)/en,e=>e.getMinutes());Nw.range;const Sw=wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*en)},(e,t)=>(t-e)/en,e=>e.getUTCMinutes());Sw.range;const _w=wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja-e.getMinutes()*en)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getHours());_w.range;const Ew=wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getUTCHours());Ew.range;const ad=wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*en)/$a,e=>e.getDate()-1);ad.range;const Tp=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>e.getUTCDate()-1);Tp.range;const DI=wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>Math.floor(e/$a));DI.range;function Gi(e){return wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*en)/kw)}const Ip=Gi(0),sh=Gi(1),HJ=Gi(2),VJ=Gi(3),hl=Gi(4),WJ=Gi(5),KJ=Gi(6);Ip.range;sh.range;HJ.range;VJ.range;hl.range;WJ.range;KJ.range;function Xi(e){return wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kw)}const Dp=Xi(0),ih=Xi(1),qJ=Xi(2),YJ=Xi(3),pl=Xi(4),GJ=Xi(5),XJ=Xi(6);Dp.range;ih.range;qJ.range;YJ.range;pl.range;GJ.range;XJ.range;const Cw=wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Cw.range;const Pw=wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pw.range;const za=wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});za.range;const Fa=wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fa.range;function RI(e,t,r,n,a,s){const i=[[li,1,ja],[li,5,5*ja],[li,15,15*ja],[li,30,30*ja],[s,1,en],[s,5,5*en],[s,15,15*en],[s,30,30*en],[a,1,ka],[a,3,3*ka],[a,6,6*ka],[a,12,12*ka],[n,1,$a],[n,2,2*$a],[r,1,kw],[t,1,lS],[t,3,3*lS],[e,1,l0]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),p=h?h.range(u,+d+1):[];return m?p.reverse():p}function c(u,d,f){const m=Math.abs(d-u)/f,h=mw(([,,v])=>v).right(i,m);if(h===i.length)return e.every(Ax(u/l0,d/l0,f));if(h===0)return ah.every(Math.max(Ax(u,d,f),1));const[p,x]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return p.every(x)}return[l,c]}const[QJ,JJ]=RI(Fa,Pw,Dp,DI,Ew,Sw),[ZJ,eZ]=RI(za,Cw,Ip,ad,_w,Nw);function c0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=rc(a),d=nc(a),f=rc(s),m=nc(s),h=rc(i),p=nc(i),x=rc(l),v=nc(l),y=rc(c),b=nc(c),w={a:R,A:T,b:P,B:L,c:null,d:hS,e:hS,f:NZ,g:IZ,G:RZ,H:wZ,I:jZ,j:kZ,L:LI,m:SZ,M:_Z,p:F,q:U,Q:yS,s:xS,S:EZ,u:CZ,U:PZ,V:OZ,w:AZ,W:MZ,x:null,X:null,y:TZ,Y:DZ,Z:LZ,"%":gS},j={a:q,A:Y,b:re,B:ne,c:null,d:pS,e:pS,f:BZ,g:QZ,G:ZZ,H:$Z,I:zZ,j:FZ,L:zI,m:UZ,M:HZ,p:G,q:Q,Q:yS,s:xS,S:VZ,u:WZ,U:KZ,V:qZ,w:YZ,W:GZ,x:null,X:null,y:XZ,Y:JZ,Z:eee,"%":gS},k={a:O,A:C,b:A,B:D,c:M,d:fS,e:fS,f:yZ,g:dS,G:uS,H:mS,I:mS,j:mZ,L:gZ,m:fZ,M:hZ,p:E,q:dZ,Q:vZ,s:bZ,S:pZ,u:iZ,U:oZ,V:lZ,w:sZ,W:cZ,x:$,X:I,y:dS,Y:uS,Z:uZ,"%":xZ};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(B,te){return function(J){var K=[],ae=-1,ce=0,ge=B.length,pe,Te,dr;for(J instanceof Date||(J=new Date(+J));++ae<ge;)B.charCodeAt(ae)===37&&(K.push(B.slice(ce,ae)),(Te=cS[pe=B.charAt(++ae)])!=null?pe=B.charAt(++ae):Te=pe==="e"?" ":"0",(dr=te[pe])&&(pe=dr(J,Te)),K.push(pe),ce=ae+1);return K.push(B.slice(ce,ae)),K.join("")}}function _(B,te){return function(J){var K=tc(1900,void 0,1),ae=S(K,B,J+="",0),ce,ge;if(ae!=J.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(te&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(ce=u0(tc(K.y,0,1)),ge=ce.getUTCDay(),ce=ge>4||ge===0?ih.ceil(ce):ih(ce),ce=Tp.offset(ce,(K.V-1)*7),K.y=ce.getUTCFullYear(),K.m=ce.getUTCMonth(),K.d=ce.getUTCDate()+(K.w+6)%7):(ce=c0(tc(K.y,0,1)),ge=ce.getDay(),ce=ge>4||ge===0?sh.ceil(ce):sh(ce),ce=ad.offset(ce,(K.V-1)*7),K.y=ce.getFullYear(),K.m=ce.getMonth(),K.d=ce.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ge="Z"in K?u0(tc(K.y,0,1)).getUTCDay():c0(tc(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ge+5)%7:K.w+K.U*7-(ge+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,u0(K)):c0(K)}}function S(B,te,J,K){for(var ae=0,ce=te.length,ge=J.length,pe,Te;ae<ce;){if(K>=ge)return-1;if(pe=te.charCodeAt(ae++),pe===37){if(pe=te.charAt(ae++),Te=k[pe in cS?te.charAt(ae++):pe],!Te||(K=Te(B,J,K))<0)return-1}else if(pe!=J.charCodeAt(K++))return-1}return K}function E(B,te,J){var K=u.exec(te.slice(J));return K?(B.p=d.get(K[0].toLowerCase()),J+K[0].length):-1}function O(B,te,J){var K=h.exec(te.slice(J));return K?(B.w=p.get(K[0].toLowerCase()),J+K[0].length):-1}function C(B,te,J){var K=f.exec(te.slice(J));return K?(B.w=m.get(K[0].toLowerCase()),J+K[0].length):-1}function A(B,te,J){var K=y.exec(te.slice(J));return K?(B.m=b.get(K[0].toLowerCase()),J+K[0].length):-1}function D(B,te,J){var K=x.exec(te.slice(J));return K?(B.m=v.get(K[0].toLowerCase()),J+K[0].length):-1}function M(B,te,J){return S(B,t,te,J)}function $(B,te,J){return S(B,r,te,J)}function I(B,te,J){return S(B,n,te,J)}function R(B){return i[B.getDay()]}function T(B){return s[B.getDay()]}function P(B){return c[B.getMonth()]}function L(B){return l[B.getMonth()]}function F(B){return a[+(B.getHours()>=12)]}function U(B){return 1+~~(B.getMonth()/3)}function q(B){return i[B.getUTCDay()]}function Y(B){return s[B.getUTCDay()]}function re(B){return c[B.getUTCMonth()]}function ne(B){return l[B.getUTCMonth()]}function G(B){return a[+(B.getUTCHours()>=12)]}function Q(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var te=N(B+="",w);return te.toString=function(){return B},te},parse:function(B){var te=_(B+="",!1);return te.toString=function(){return B},te},utcFormat:function(B){var te=N(B+="",j);return te.toString=function(){return B},te},utcParse:function(B){var te=_(B+="",!0);return te.toString=function(){return B},te}}}var cS={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,rZ=/^%/,nZ=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function aZ(e){return e.replace(nZ,"\\$&")}function rc(e){return new RegExp("^(?:"+e.map(aZ).join("|")+")","i")}function nc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function sZ(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function iZ(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function oZ(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lZ(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cZ(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uS(e,t,r){var n=Rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dS(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dZ(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fZ(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fS(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function mZ(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function mS(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function hZ(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function pZ(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gZ(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function yZ(e,t,r){var n=Rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function xZ(e,t,r){var n=rZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vZ(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bZ(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hS(e,t){return Se(e.getDate(),t,2)}function wZ(e,t){return Se(e.getHours(),t,2)}function jZ(e,t){return Se(e.getHours()%12||12,t,2)}function kZ(e,t){return Se(1+ad.count(za(e),e),t,3)}function LI(e,t){return Se(e.getMilliseconds(),t,3)}function NZ(e,t){return LI(e,t)+"000"}function SZ(e,t){return Se(e.getMonth()+1,t,2)}function _Z(e,t){return Se(e.getMinutes(),t,2)}function EZ(e,t){return Se(e.getSeconds(),t,2)}function CZ(e){var t=e.getDay();return t===0?7:t}function PZ(e,t){return Se(Ip.count(za(e)-1,e),t,2)}function $I(e){var t=e.getDay();return t>=4||t===0?hl(e):hl.ceil(e)}function OZ(e,t){return e=$I(e),Se(hl.count(za(e),e)+(za(e).getDay()===4),t,2)}function AZ(e){return e.getDay()}function MZ(e,t){return Se(sh.count(za(e)-1,e),t,2)}function TZ(e,t){return Se(e.getFullYear()%100,t,2)}function IZ(e,t){return e=$I(e),Se(e.getFullYear()%100,t,2)}function DZ(e,t){return Se(e.getFullYear()%1e4,t,4)}function RZ(e,t){var r=e.getDay();return e=r>=4||r===0?hl(e):hl.ceil(e),Se(e.getFullYear()%1e4,t,4)}function LZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function pS(e,t){return Se(e.getUTCDate(),t,2)}function $Z(e,t){return Se(e.getUTCHours(),t,2)}function zZ(e,t){return Se(e.getUTCHours()%12||12,t,2)}function FZ(e,t){return Se(1+Tp.count(Fa(e),e),t,3)}function zI(e,t){return Se(e.getUTCMilliseconds(),t,3)}function BZ(e,t){return zI(e,t)+"000"}function UZ(e,t){return Se(e.getUTCMonth()+1,t,2)}function HZ(e,t){return Se(e.getUTCMinutes(),t,2)}function VZ(e,t){return Se(e.getUTCSeconds(),t,2)}function WZ(e){var t=e.getUTCDay();return t===0?7:t}function KZ(e,t){return Se(Dp.count(Fa(e)-1,e),t,2)}function FI(e){var t=e.getUTCDay();return t>=4||t===0?pl(e):pl.ceil(e)}function qZ(e,t){return e=FI(e),Se(pl.count(Fa(e),e)+(Fa(e).getUTCDay()===4),t,2)}function YZ(e){return e.getUTCDay()}function GZ(e,t){return Se(ih.count(Fa(e)-1,e),t,2)}function XZ(e,t){return Se(e.getUTCFullYear()%100,t,2)}function QZ(e,t){return e=FI(e),Se(e.getUTCFullYear()%100,t,2)}function JZ(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function ZZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?pl(e):pl.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function eee(){return"+0000"}function gS(){return"%"}function yS(e){return+e}function xS(e){return Math.floor(+e/1e3)}var eo,BI,UI;tee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tee(e){return eo=tZ(e),BI=eo.format,eo.parse,UI=eo.utcFormat,eo.utcParse,eo}function ree(e){return new Date(e)}function nee(e){return e instanceof Date?+e:+new Date(+e)}function Ow(e,t,r,n,a,s,i,l,c,u){var d=gw(),f=d.invert,m=d.domain,h=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function k(N){return(c(N)<N?h:l(N)<N?p:i(N)<N?x:s(N)<N?v:n(N)<N?a(N)<N?y:b:r(N)<N?w:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,nee)):m().map(ree)},d.ticks=function(N){var _=m();return e(_[0],_[_.length-1],N??10)},d.tickFormat=function(N,_){return _==null?k:u(_)},d.nice=function(N){var _=m();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?m(CI(_,N)):d},d.copy=function(){return nd(d,Ow(e,t,r,n,a,s,i,l,c,u))},d}function aee(){return ln.apply(Ow(ZJ,eZ,za,Cw,Ip,ad,_w,Nw,li,BI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function see(){return ln.apply(Ow(QJ,JJ,Fa,Pw,Dp,Tp,Ew,Sw,li,UI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rp(){var e=0,t=1,r,n,a,s,i=nr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,p;return arguments.length?([h,p]=m,i=f(h,p),u):[i(0),i(1)]}}return u.range=d(_a),u.rangeRound=d(vb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ws(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HI(){var e=Vs(Rp()(nr));return e.copy=function(){return Ws(e,HI())},qa.apply(e,arguments)}function VI(){var e=vw(Rp()).domain([1,10]);return e.copy=function(){return Ws(e,VI()).base(e.base())},qa.apply(e,arguments)}function WI(){var e=bw(Rp());return e.copy=function(){return Ws(e,WI()).constant(e.constant())},qa.apply(e,arguments)}function Aw(){var e=ww(Rp());return e.copy=function(){return Ws(e,Aw()).exponent(e.exponent())},qa.apply(e,arguments)}function iee(){return Aw.apply(null,arguments).exponent(.5)}function KI(){var e=[],t=nr;function r(n){if(n!=null&&!isNaN(n=+n))return t((rd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Os),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>pJ(e,s/n))},r.copy=function(){return KI(t).domain(e)},qa.apply(r,arguments)}function Lp(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=nr,d,f=!1,m;function h(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[e,t,r]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function p(x){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,u=T9(x,[y,b,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(_a),h.rangeRound=p(vb),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return d=x,a=x(e),s=x(t),i=x(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function qI(){var e=Vs(Lp()(nr));return e.copy=function(){return Ws(e,qI())},qa.apply(e,arguments)}function YI(){var e=vw(Lp()).domain([.1,1,10]);return e.copy=function(){return Ws(e,YI()).base(e.base())},qa.apply(e,arguments)}function GI(){var e=bw(Lp());return e.copy=function(){return Ws(e,GI()).constant(e.constant())},qa.apply(e,arguments)}function Mw(){var e=ww(Lp());return e.copy=function(){return Ws(e,Mw()).exponent(e.exponent())},qa.apply(e,arguments)}function oee(){return Mw.apply(null,arguments).exponent(.5)}const mc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pw,scaleDiverging:qI,scaleDivergingLog:YI,scaleDivergingPow:Mw,scaleDivergingSqrt:oee,scaleDivergingSymlog:GI,scaleIdentity:EI,scaleImplicit:Mx,scaleLinear:_I,scaleLog:PI,scaleOrdinal:hw,scalePoint:xJ,scalePow:jw,scaleQuantile:MI,scaleQuantize:TI,scaleRadial:AI,scaleSequential:HI,scaleSequentialLog:VI,scaleSequentialPow:Aw,scaleSequentialQuantile:KI,scaleSequentialSqrt:iee,scaleSequentialSymlog:WI,scaleSqrt:BJ,scaleSymlog:OI,scaleThreshold:II,scaleTime:aee,scaleUtc:see,tickFormat:SI},Symbol.toStringTag,{value:"Module"}));var Ks=e=>e.chartData,lee=V([Ks],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sd=(e,t,r,n)=>n?lee(e):Ks(e);function Ts(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ue(t)&&Ue(r))return!0}return!1}function vS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function XI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(Ue(r))a=r;else if(typeof r=="function")return;if(Ue(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Ts(i))return i}}function cee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ts(n))return vS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,l;if(a==="auto")t!=null&&(i=Math.min(...t));else if(de(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&u2.test(a)){var c=u2.exec(a);if(c==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(de(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&d2.test(s)){var d=d2.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var m=[i,l];if(Ts(m))return t==null?m:vS(m,t,r)}}}var Pl=1e9,uee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Iw,We=!0,on="[DecimalError] ",_i=on+"Invalid argument: ",Tw=on+"Exponent out of range: ",Ol=Math.floor,ei=Math.pow,dee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,Ot=1e7,Fe=7,QI=9007199254740991,oh=Ol(QI/Fe),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(e){return Ea(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,r=t.constructor;return Ie(Ea(t,new r(e),0,1),r.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return ft(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ar))throw Error(on+"NaN");if(r.s<1)throw Error(on+(r.s?"NaN":"-Infinity"));return r.eq(Ar)?new n(0):(We=!1,t=Ea(hu(r,s),hu(e,s),s),We=!0,Ie(t,a))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eD(t,e):JI(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(on+"NaN");return r.s?(We=!1,t=Ea(r,e,0,1).times(e),We=!0,r.minus(t)):Ie(new n(r),a)};le.naturalExponential=le.exp=function(){return ZI(this)};le.naturalLogarithm=le.ln=function(){return hu(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JI(t,e):eD(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_i+e);if(t=ft(a)+1,n=a.d.length-1,r=n*Fe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};le.squareRoot=le.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(on+"NaN")}for(e=ft(l),We=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Kn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ol((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Ea(l,s,i+2)).times(.5),Kn(s.d).slice(0,i)===(t=Kn(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Ie(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return We=!0,Ie(n,r)};le.times=le.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+t,s[a--]=l%Ot|0,t=l/Ot|0;s[a]=(s[a]+t)%Ot|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,We?Ie(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ta(e,0,Pl),t===void 0?t=n.rounding:ta(t,0,8),Ie(r,e+ft(r)+1,t))};le.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Bi(n,!0):(ta(e,0,Pl),t===void 0?t=a.rounding:ta(t,0,8),n=Ie(new a(n),e+1,t),r=Bi(n,!0,e+1)),r};le.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Bi(a):(ta(e,0,Pl),t===void 0?t=s.rounding:ta(t,0,8),n=Ie(new s(a),e+ft(a)+1,t),r=Bi(n.abs(),!1,e+ft(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ft(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ar);if(l=new c(l),!l.s){if(e.s<1)throw Error(on+"Infinity");return l}if(l.eq(Ar))return l;if(n=c.precision,e.eq(Ar))return Ie(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=QI){for(a=new c(Ar),t=Math.ceil(n/Fe+4),We=!1;r%2&&(a=a.times(l),wS(a.d,t)),r=Ol(r/2),r!==0;)l=l.times(l),wS(l.d,t);return We=!0,e.s<0?new c(Ar).div(a):Ie(a,n)}}else if(s<0)throw Error(on+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,a=e.times(hu(l,n+u)),We=!0,a=ZI(a),a.s=s,a};le.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=ft(a),n=Bi(a,r<=s.toExpNeg||r>=s.toExpPos)):(ta(e,1,Pl),t===void 0?t=s.rounding:ta(t,0,8),a=Ie(new s(a),e,t),r=ft(a),n=Bi(a,e<=r||r<=s.toExpNeg,e)),n};le.toSignificantDigits=le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ta(e,1,Pl),t===void 0?t=n.rounding:ta(t,0,8)),Ie(new n(r),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ft(e),r=e.constructor;return Bi(e,t<=r.toExpNeg||t>=r.toExpPos)};function JI(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?Ie(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Fe),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ot|0,c[s]%=Ot;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,We?Ie(t,f):t}function ta(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_i+e)}function Kn(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=ns(r)),s+=n;i=e[t],n=i+"",r=Fe-n.length,r&&(s+=ns(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Ea=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%Ot|0,i=s/Ot|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Ot+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,p,x,v,y,b,w,j,k,N,_,S,E=n.constructor,O=n.s==a.s?1:-1,C=n.d,A=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(on+"Division by zero");for(c=n.e-a.e,_=A.length,k=C.length,h=new E(O),p=h.d=[],u=0;A[u]==(C[u]||0);)++u;if(A[u]>(C[u]||0)&&--c,s==null?b=s=E.precision:i?b=s+(ft(n)-ft(a))+1:b=s,b<0)return new E(0);if(b=b/Fe+2|0,u=0,_==1)for(d=0,A=A[0],b++;(u<k||d)&&b--;u++)w=d*Ot+(C[u]||0),p[u]=w/A|0,d=w%A|0;else{for(d=Ot/(A[0]+1)|0,d>1&&(A=e(A,d),C=e(C,d),_=A.length,k=C.length),j=_,x=C.slice(0,_),v=x.length;v<_;)x[v++]=0;S=A.slice(),S.unshift(0),N=A[0],A[1]>=Ot/2&&++N;do d=0,l=t(A,x,_,v),l<0?(y=x[0],_!=v&&(y=y*Ot+(x[1]||0)),d=y/N|0,d>1?(d>=Ot&&(d=Ot-1),f=e(A,d),m=f.length,v=x.length,l=t(f,x,m,v),l==1&&(d--,r(f,_<m?S:A,m))):(d==0&&(l=d=1),f=A.slice()),m=f.length,m<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=t(A,x,_,v),l<1&&(d++,r(x,_<v?S:A,v))),v=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[v++]=C[j]||0:(x=[C[j]],v=1);while((j++<k||x[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=c,Ie(h,i?s+ft(h)+1:s)}}();function ZI(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(ft(e)>16)throw Error(Tw+ft(e));if(!e.s)return new d(Ar);for(We=!1,l=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(ei(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Ar),d.precision=l;;){if(a=Ie(a.times(e),l),r=r.times(++c),i=s.plus(Ea(a,r,l)),Kn(i.d).slice(0,l)===Kn(s.d).slice(0,l)){for(;u--;)s=Ie(s.times(s),l);return d.precision=f,t==null?(We=!0,Ie(s,f)):s}s=i}}function ft(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function d0(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(on+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function ns(e){for(var t="";e--;)t+="0";return t}function hu(e,t){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=e,p=h.d,x=h.constructor,v=x.precision;if(h.s<1)throw Error(on+(h.s?"NaN":"-Infinity"));if(h.eq(Ar))return new x(0);if(t==null?(We=!1,u=v):u=t,h.eq(10))return t==null&&(We=!0),d0(x,u);if(u+=m,x.precision=u,r=Kn(p),n=r.charAt(0),s=ft(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Kn(h.d),n=r.charAt(0),f++;s=ft(h),n>1?(h=new x("0."+r),s++):h=new x(n+"."+r.slice(1))}else return c=d0(x,u+2,v).times(s+""),h=hu(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=v,t==null?(We=!0,Ie(h,v)):h;for(l=i=h=Ea(h.minus(Ar),h.plus(Ar),u),d=Ie(h.times(h),u),a=3;;){if(i=Ie(i.times(d),u),c=l.plus(Ea(i,new x(a),u)),Kn(c.d).slice(0,u)===Kn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(d0(x,u+2,v).times(s+""))),l=Ea(l,new x(f),u),x.precision=v,t==null?(We=!0,Ie(l,v)):l;l=c,a+=2}}function bS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ol(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Fe;n<a;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),We&&(e.e>oh||e.e<-oh))throw Error(Tw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Fe,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Fe,a=n-Fe+i}if(r!==void 0&&(s=ei(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ei(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ft(e),f.length=1,t=t-s-1,f[0]=ei(10,(Fe-t%Fe)%Fe),e.e=Ol(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ei(10,Fe-n),f[d]=a>0?(u/ei(10,i-a)%ei(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ot&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Ot)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(We&&(e.e>oh||e.e<-oh))throw Error(Tw+ft(e));return e}function eD(e,t){var r,n,a,s,i,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),We?Ie(t,h):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Fe),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Ot-1;--c[s],c[a]+=Ot}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,We?Ie(t,h):t):new m(0)}function Bi(e,t,r){var n,a=ft(e),s=Kn(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+ns(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ns(-a-1)+s,r&&(n=r-i)>0&&(s+=ns(n))):a>=i?(s+=ns(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+ns(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=ns(n))),e.s<0?"-"+s:s}function wS(e,t){if(e.length>t)return e.length=t,!0}function tD(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(_i+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return bS(i,s.toString())}else if(typeof s!="string")throw Error(_i+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,dee.test(s))bS(i,s);else throw Error(_i+s)}if(a.prototype=le,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=tD,a.config=a.set=fee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fee(e){if(!e||typeof e!="object")throw Error(on+"Object expected");var t,r,n,a=["precision",1,Pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ol(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(_i+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_i+r+": "+n);return this}var Iw=tD(uee);Ar=new Iw(1);const Oe=Iw;var mee=e=>e,rD={},nD=e=>e===rD,jS=e=>function t(){return arguments.length===0||arguments.length===1&&nD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},aD=(e,t)=>e===1?t:jS(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==rD).length;return s>=e?t(...n):aD(e-s,jS(function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];var u=n.map(d=>nD(d)?l.shift():d);return t(...u,...l)}))}),hee=e=>aD(e.length,e),Ix=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},pee=hee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),gee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mee;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((l,c)=>c(l),s(...arguments))}},Dx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function sD(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function iD(e,t,r){for(var n=new Oe(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var oD=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},lD=(e,t,r)=>{if(e.lte(0))return new Oe(0);var n=sD(e.toNumber()),a=new Oe(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new Oe(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?new Oe(c.toNumber()):new Oe(Math.ceil(c.toNumber()))},yee=(e,t,r)=>{var n=new Oe(1),a=new Oe(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Oe(10).pow(sD(e)-1),a=new Oe(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Oe(Math.floor(e)))}else e===0?a=new Oe(Math.floor((t-1)/2)):r||(a=new Oe(Math.floor(e)));var i=Math.floor((t-1)/2),l=gee(pee(c=>a.add(new Oe(c-i).mul(n)).toNumber()),Ix);return l(0,t)},cD=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var i=lD(new Oe(r).sub(t).div(n-1),a,s),l;t<=0&&r>=0?l=new Oe(0):(l=new Oe(t).add(r).div(2),l=l.sub(new Oe(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),u=Math.ceil(new Oe(r).sub(l).div(i).toNumber()),d=c+u+1;return d>n?cD(t,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:l.sub(new Oe(c).mul(i)),tickMax:l.add(new Oe(u).mul(i))})},xee=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,c]=oD([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Ix(0,a-1).map(()=>1/0)]:[...Ix(0,a-1).map(()=>-1/0),c];return r>n?Dx(u):u}if(l===c)return yee(l,a,s);var{step:d,tickMin:f,tickMax:m}=cD(l,c,i,s,0),h=iD(f,m.add(new Oe(.1).mul(d)),d);return r>n?Dx(h):h},vee=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=oD([n,a]);if(i===-1/0||l===1/0)return[n,a];if(i===l)return[i];var c=Math.max(r,2),u=lD(new Oe(l).sub(i).div(c-1),s,0),d=[...iD(new Oe(i),new Oe(l),u),l];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?Dx(d):d},uD=e=>e.rootProps.maxBarSize,bee=e=>e.rootProps.barGap,dD=e=>e.rootProps.barCategoryGap,wee=e=>e.rootProps.barSize,$p=e=>e.rootProps.stackOffset,fD=e=>e.rootProps.reverseStackOrder,Dw=e=>e.options.chartName,Rw=e=>e.rootProps.syncId,mD=e=>e.rootProps.syncMethod,Lw=e=>e.options.eventEmitter,lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ya={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},jee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ya.angleAxisId,includeHidden:!1,name:void 0,reversed:ya.reversed,scale:ya.scale,tick:ya.tick,tickCount:void 0,ticks:void 0,type:ya.type,unit:void 0},kee={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:Pr.type,unit:void 0},Nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ya.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ya.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ya.scale,tick:ya.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},See={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,ticks:void 0,type:"category",unit:void 0},$w=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Nee:jee,zw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?See:kee,Fp=e=>e.polarOptions,Fw=V([Wa,Ka,Dt],qQ),hD=V([Fp,Fw],(e,t)=>{if(e!=null)return Mn(e.innerRadius,t,0)}),pD=V([Fp,Fw],(e,t)=>{if(e!=null)return Mn(e.outerRadius,t,t*.8)}),_ee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},gD=V([Fp],_ee);V([$w,gD],zp);var yD=V([Fw,hD,pD],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([zw,yD],zp);var xD=V([Ce,Fp,hD,pD,Wa,Ka],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:l,startAngle:c,endAngle:u}=t;return{cx:Mn(i,a,a/2),cy:Mn(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),jt=(e,t)=>t,Bp=(e,t,r)=>r;function Bw(e){return e==null?void 0:e.id}function vD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Bw(l);u.forEach((f,m)=>{var h=s==null||a?m:String(Ze(f,s,null)),p=Ze(f,l.dataKey,0),x;i.has(h)?x=i.get(h):x={},Object.assign(x,{[d]:p}),i.set(h,x)})}}),Array.from(i.values())}function Up(e){return e.stackId!=null&&e.dataKey!=null}var Hp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Vp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Eee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var kt=e=>{var t=Ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Al=e=>e.tooltip.settings.axisId;function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){Cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Oee(e,"string");return typeof t=="symbol"?t:t+""}function Oee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rx=[0,"auto"],Et={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bD=(e,t)=>e.cartesianAxis.xAxis[t],oa=(e,t)=>{var r=bD(e,t);return r??Et},Ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Rx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xu},wD=(e,t)=>e.cartesianAxis.yAxis[t],la=(e,t)=>{var r=wD(e,t);return r??Ct},jD={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Uw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??jD},cr=(e,t,r)=>{switch(t){case"xAxis":return oa(e,r);case"yAxis":return la(e,r);case"zAxis":return Uw(e,r);case"angleAxis":return $w(e,r);case"radiusAxis":return zw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Aee=(e,t,r)=>{switch(t){case"xAxis":return oa(e,r);case"yAxis":return la(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},id=(e,t,r)=>{switch(t){case"xAxis":return oa(e,r);case"yAxis":return la(e,r);case"angleAxis":return $w(e,r);case"radiusAxis":return zw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},kD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ND(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var od=e=>e.graphicalItems.cartesianItems,Mee=V([jt,Bp],ND),SD=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ld=V([od,cr,Mee],SD,{memoizeOptions:{resultEqualityCheck:Vp}}),_D=V([ld],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Up)),ED=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Tee=V([ld],ED),CD=e=>e.map(t=>t.data).filter(Boolean).flat(1),Iee=V([ld],CD,{memoizeOptions:{resultEqualityCheck:Vp}}),PD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Hw=V([Iee,sd],PD),OD=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ze(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ze(a,n)}))):e.map(n=>({value:n})),Wp=V([Hw,cr,ld],OD);function AD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uf(e){if(an(e)||e instanceof Date){var t=Number(e);if(Ue(t))return t}}function NS(e){if(Array.isArray(e)){var t=[Uf(e[0]),Uf(e[1])];return Ts(t)?t:void 0}var r=Uf(e);if(r!=null)return[r,r]}function Ba(e){return e.map(Uf).filter(Aq)}function Dee(e,t,r){return!r||typeof t!="number"||Fr(t)?[]:r.length?Ba(r.flatMap(n=>{var a=Ze(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!Ue(s)||!Ue(i)))return[t-s,t+i]})):[]}var Nt=e=>{var t=kt(e),r=Al(e);return id(e,t,r)},cd=V([Nt],e=>e==null?void 0:e.dataKey),Ree=V([_D,sd,Nt],vD),MD=(e,t,r,n)=>{var a={},s=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[l,c]=i,u=n?[...c].reverse():c,d=u.map(Bw);return[l,{stackedData:OG(e,d,r),graphicalItems:u}]}))},Lx=V([Ree,_D,$p,fD],MD),TD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=DG(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Lee=V([cr],e=>e.allowDataOverflow),Vw=e=>{var t;if(e==null||!("domain"in e))return Rx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ba(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Rx},ID=V([cr],Vw),DD=V([ID,Lee],XI),$ee=V([Lx,Ks,jt,DD],TD,{memoizeOptions:{resultEqualityCheck:Hp}}),Ww=e=>e.errorBars,zee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>AD(r,n)),ch=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),l=Math.max(...s);return[i,l]}},RD=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>AD(a,y)),m=Ze(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),h=Dee(l,m,f);if(h.length>=2){var p=Math.min(...h),x=Math.max(...h);(s==null||p<s)&&(s=p),(i==null||x>i)&&(i=x)}var v=NS(m);v!=null&&(s=s==null?v[0]:Math.min(s,v[0]),i=i==null?v[1]:Math.max(i,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=NS(Ze(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),Ue(s)&&Ue(i))return[s,i]},Fee=V([Hw,cr,Tee,Ww,jt],RD,{memoizeOptions:{resultEqualityCheck:Hp}});function Bee(e){var{value:t}=e;if(an(t)||t instanceof Date)return t}var Uee=(e,t,r)=>{var n=e.map(Bee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&TM(n))?xI(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},LD=e=>e.referenceElements.dots,Ml=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Hee=V([LD,jt,Bp],Ml),$D=e=>e.referenceElements.areas,Vee=V([$D,jt,Bp],Ml),zD=e=>e.referenceElements.lines,Wee=V([zD,jt,Bp],Ml),FD=(e,t)=>{var r=Ba(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Kee=V(Hee,jt,FD),BD=(e,t)=>{var r=Ba(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qee=V([Vee,jt],BD);function Yee(e){var t;if(e.x!=null)return Ba([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ba(r)}function Gee(e){var t;if(e.y!=null)return Ba([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ba(r)}var UD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Yee(n):Gee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Xee=V([Wee,jt],UD),Qee=V(Kee,Xee,qee,(e,t,r)=>ch(e,r,t)),HD=(e,t,r,n,a,s,i,l)=>{if(r!=null)return r;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?ch(n,s,a):ch(s,a);return cee(t,u,e.allowDataOverflow)},Jee=V([cr,ID,DD,$ee,Fee,Qee,Ce,jt],HD,{memoizeOptions:{resultEqualityCheck:Hp}}),Zee=[0,1],VD=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:l,type:c}=e,u=Hs(t,s);if(u&&l==null){var d;return xI(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?Uee(n,e,u):a==="expand"?Zee:i}},Kw=V([cr,Ce,Hw,Wp,$p,jt,Jee],VD),WD=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Vu(s));return l in mc?l:"point"}}},ud=V([cr,Ce,kD,Dw,jt],WD);function ete(e){if(e!=null){if(e in mc)return mc[e]();var t="scale".concat(Vu(e));if(t in mc)return mc[t]()}}function qw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=ete(t);if(a!=null){var s=a.domain(r).range(n);return SG(s),s}}}var KD=(e,t,r)=>{var n=Vw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ts(e))return xee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ts(e))return vee(e,t.tickCount,t.allowDecimals)}},Yw=V([Kw,id,ud],KD),qD=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ts(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],l=r[r.length-1];return[Math.min(a,s),Math.max(i,l)]}return t},tte=V([cr,Kw,Yw,jt],qD),rte=V(Wp,cr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ba(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),YD=V(rte,Ce,dD,Dt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ue(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=Mn(r,e*s),l=e*s/2;return l-i-(l-i)/s*i}return 0}),nte=(e,t)=>{var r=oa(e,t);return r==null||typeof r.padding!="string"?0:YD(e,"xAxis",t,r.padding)},ate=(e,t)=>{var r=la(e,t);return r==null||typeof r.padding!="string"?0:YD(e,"yAxis",t,r.padding)},ste=V(oa,nte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),ite=V(la,ate,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),ote=V([Dt,ste,Ep,_p,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),lte=V([Dt,Ce,ite,Ep,_p,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),dd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return ote(e,r,n);case"yAxis":return lte(e,r,n);case"zAxis":return(a=Uw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return gD(e);case"radiusAxis":return yD(e,r);default:return}},GD=V([cr,dd],zp),Is=V([cr,ud,tte,GD],qw);V([ld,Ww,jt],zee);function XD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Kp=(e,t)=>t,qp=(e,t,r)=>r,cte=V(Np,Kp,qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XD)),ute=V(Sp,Kp,qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XD)),QD=(e,t)=>({width:e.width,height:t.height}),dte=(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}},JD=V(Dt,oa,QD),fte=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},mte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},hte=V(Ka,Dt,cte,Kp,qp,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=QD(t,l);i==null&&(i=fte(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;s[l.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),s}),pte=V(Wa,Dt,ute,Kp,qp,(e,t,r,n,a)=>{var s={},i;return r.forEach(l=>{var c=dte(t,l);i==null&&(i=mte(t,n,e));var u=n==="left"&&!a||n==="right"&&a;s[l.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),s}),gte=(e,t)=>{var r=oa(e,t);if(r!=null)return hte(e,r.orientation,r.mirror)},yte=V([Dt,oa,gte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),xte=(e,t)=>{var r=la(e,t);if(r!=null)return pte(e,r.orientation,r.mirror)},vte=V([Dt,la,xte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),ZD=V(Dt,la,(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}}),SS=(e,t,r)=>{switch(t){case"xAxis":return JD(e,r).width;case"yAxis":return ZD(e,r).height;default:return}},e4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,l=Hs(e,n),c=t.map(u=>u.value);if(i&&l&&s==="category"&&a&&TM(c))return c}},Gw=V([Ce,Wp,cr,jt],e4),t4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Hs(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(l=>l.value)}},Xw=V([Ce,Wp,id,jt],t4),_S=V([Ce,Aee,ud,Is,Gw,Xw,dd,Yw,jt],(e,t,r,n,a,s,i,l,c)=>{if(t!=null){var u=Hs(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:a,isCategorical:u,niceTicks:l,range:i,realScaleType:r,scale:n}}}),bte=(e,t,r,n,a,s,i,l,c)=>{if(!(t==null||n==null)){var u=Hs(e,c),{type:d,ticks:f,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&s!=null&&s.length>=2?vr(s[0]-s[1])*2*p:p;var x=f||a;if(x){var v=x.map((y,b)=>{var w=i?i.indexOf(y):y;return{index:b,coordinate:n(w)+p,value:y,offset:p}});return v.filter(y=>Ue(y.coordinate))}return u&&l?l.map((y,b)=>({coordinate:n(y)+p,value:y,index:b,offset:p})).filter(y=>Ue(y.coordinate)):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,b)=>({coordinate:n(y)+p,value:i?i[y]:y,index:b,offset:p}))}},r4=V([Ce,id,ud,Is,Yw,dd,Gw,Xw,jt],bte),wte=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Hs(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?vr(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},ra=V([Ce,id,Is,dd,Gw,Xw,jt],wte),na=V(cr,Is,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})}),jte=V([cr,ud,Kw,GD],qw),kte=V((e,t,r)=>Uw(e,r),jte,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})}),Nte=V([Ce,Np,Sp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),n4=e=>e.options.defaultTooltipEventType,a4=e=>e.options.validateTooltipEventTypes;function s4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Qw(e,t){var r=n4(e),n=a4(e);return s4(t,r,n)}function Ste(e){return oe(t=>Qw(t,e))}var i4=(e,t)=>{var r,n=Number(t);if(!(Fr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},_te=e=>e.tooltip.settings,ls={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Ete={itemInteraction:{click:ls,hover:ls},axisInteraction:{click:ls,hover:ls},keyboardInteraction:ls,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},o4=Er({name:"tooltip",initialState:Ete,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:He()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Cn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:He()},removeTooltipEntrySettings:{reducer(e,t){var r=Cn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:He()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Cte,replaceTooltipEntrySettings:Pte,removeTooltipEntrySettings:Ote,setTooltipSettingsState:Ate,setActiveMouseOverItemIndex:l4,mouseLeaveItem:Mte,mouseLeaveChart:c4,setActiveClickItemIndex:Tte,setMouseOverAxisIndex:u4,setMouseClickAxisIndex:Ite,setSyncInteraction:$x,setKeyboardInteraction:zx}=o4.actions,Dte=o4.reducer;function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){Rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rte(e,t,r){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fte(e){return e.index!=null}var d4=(e,t,r,n)=>{if(t==null)return ls;var a=zte(e,t,r);if(a==null)return ls;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Fte(a)){if(s)return df(df({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return df(df({},ls),{},{coordinate:a.coordinate})};function Bte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Ute(e,t){var r=Bte(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function Hte(e,t,r){if(r==null||t==null)return!0;var n=Ze(e,t);return n==null||!Ts(r)?!0:Ute(n,r)}var Jw=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!Ue(s))return a;var i=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(i,Math.min(s,l)),u=t[c];return u==null||Hte(u,r,n)?String(c):null},f4=(e,t,r,n,a,s,i,l)=>{if(!(s==null||l==null)){var c=i[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},m4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},fd=e=>e.options.tooltipPayloadSearcher,Tl=e=>e.tooltip;function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){Vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vte(e,t,r){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=Kte(e,"string");return typeof t=="symbol"?t:t+""}function Kte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qte(e,t){return e??t}var h4=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((m,h)=>{var p,{dataDefinedOnItem:x,settings:v}=h,y=qte(x,l),b=Array.isArray(y)?$T(y,u,d):y,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,j=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?k=IM(b,n,a):k=s(b,t,c,j),Array.isArray(k))k.forEach(_=>{var S=PS(PS({},v),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(f2({tooltipEntrySettings:S,dataKey:_.dataKey,payload:_.payload,value:Ze(_.payload,_.dataKey),name:_.name}))});else{var N;m.push(f2({tooltipEntrySettings:v,dataKey:w,payload:k,value:Ze(k,w),name:(N=Ze(k,j))!==null&&N!==void 0?N:v==null?void 0:v.name}))}return m},f)}},Zw=V([Nt,Ce,kD,Dw,kt],WD),Yte=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Gte=V([kt,Al],ND),md=V([Yte,Nt,Gte],SD,{memoizeOptions:{resultEqualityCheck:Vp}}),Xte=V([md],e=>e.filter(Up)),Qte=V([md],CD,{memoizeOptions:{resultEqualityCheck:Vp}}),Il=V([Qte,Ks],PD),Jte=V([Xte,Ks,Nt],vD),e1=V([Il,Nt,md],OD),p4=V([Nt],Vw),Zte=V([Nt],e=>e.allowDataOverflow),g4=V([p4,Zte],XI),ere=V([md],e=>e.filter(Up)),tre=V([Jte,ere,$p,fD],MD),rre=V([tre,Ks,kt,g4],TD),nre=V([md],ED),are=V([Il,Nt,nre,Ww,kt],RD,{memoizeOptions:{resultEqualityCheck:Hp}}),sre=V([LD,kt,Al],Ml),ire=V([sre,kt],FD),ore=V([$D,kt,Al],Ml),lre=V([ore,kt],BD),cre=V([zD,kt,Al],Ml),ure=V([cre,kt],UD),dre=V([ire,ure,lre],ch),fre=V([Nt,p4,g4,rre,are,dre,Ce,kt],HD),hd=V([Nt,Ce,Il,e1,$p,kt,fre],VD),mre=V([hd,Nt,Zw],KD),hre=V([Nt,hd,mre,kt],qD),y4=e=>{var t=kt(e),r=Al(e),n=!1;return dd(e,t,r,n)},x4=V([Nt,y4],zp),v4=V([Nt,Zw,hre,x4],qw),pre=V([Ce,e1,Nt,kt],e4),gre=V([Ce,e1,Nt,kt],t4),yre=(e,t,r,n,a,s,i,l)=>{if(t){var{type:c}=t,u=Hs(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?vr(a[0]-a[1])*2*f:f,u&&i?i.map((m,h)=>({coordinate:n(m)+f,value:m,index:h,offset:f})):n.domain().map((m,h)=>({coordinate:n(m)+f,value:s?s[m]:m,index:h,offset:f}))}}},Ya=V([Ce,Nt,Zw,v4,y4,pre,gre,kt],yre),t1=V([n4,a4,_te],(e,t,r)=>s4(r.shared,e,t)),b4=e=>e.tooltip.settings.trigger,r1=e=>e.tooltip.settings.defaultIndex,pd=V([Tl,t1,b4,r1],d4),Ds=V([pd,Il,cd,hd],Jw),w4=V([Ya,Ds],i4),j4=V([pd],e=>{if(e)return e.dataKey});V([pd],e=>{if(e)return e.graphicalItemId});var k4=V([Tl,t1,b4,r1],m4),xre=V([Wa,Ka,Ce,Dt,Ya,r1,k4,fd],f4),vre=V([pd,xre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bre=V([pd],e=>e.active),wre=V([k4,Ds,Ks,cd,w4,fd,t1],h4),jre=V([wre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){kre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kre(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _re=()=>oe(Nt),Ere=()=>{var e=_re(),t=oe(Ya),r=oe(v4);return ul(!e||!r?void 0:AS(AS({},e),{},{scale:r}),t)};function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return(t=Pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Are=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Mre=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return to(to(to({},n),Bt(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var l=a.coordinate,{angle:c}=n;return to(to(to({},n),Bt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Tre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var N4=(e,t,r,n,a)=>{var s,i=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(vr(d-u)!==vr(f-d)){var h=[];if(vr(f-d)===vr(a[1]-a[0])){m=f;var p=d+a[1]-a[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{m=u;var x=f+a[1]-a[0];h[0]=Math.min(d,(x+d)/2),h[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){({index:i}=r[c]);break}}else{var y=Math.min(u,f),b=Math.max(u,f);if(e>(y+d)/2&&e<=(b+d)/2){({index:i}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:i}=t[w]);break}}return i},Ire=()=>oe(Dw),n1=(e,t)=>t,S4=(e,t,r)=>r,a1=(e,t,r,n)=>n,Dre=V(Ya,e=>pp(e,t=>t.coordinate)),s1=V([Tl,n1,S4,a1],d4),i1=V([s1,Il,cd,hd],Jw),Rre=(e,t,r)=>{if(t!=null){var n=Tl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},_4=V([Tl,n1,S4,a1],m4),uh=V([Wa,Ka,Ce,Dt,Ya,a1,_4,fd],f4),Lre=V([s1,uh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),E4=V([Ya,i1],i4),$re=V([_4,i1,Ks,cd,E4,fd,n1],h4),zre=V([s1,i1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Fre=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&Tre(e,i)){var l=RG(e,t),c=N4(l,s,a,r,n),u=Are(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},Bre=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var l=JQ(e,r);if(l){var c=LG(l,t),u=N4(c,i,s,n,a),d=Mre(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Ure=(e,t,r,n,a,s,i,l)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Fre(e,t,n,a,s,i,l):Bre(e,t,r,n,a,s,i)},Hre=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Vre=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(lt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Eee}});function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){Wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wre(e,t,r){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kre(e){var t=qre(e,"string");return typeof t=="symbol"?t:t+""}function qre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yre={},Gre={zIndexMap:Object.values(lt).reduce((e,t)=>IS(IS({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Yre)},Xre=new Set(Object.values(lt));function Qre(e){return Xre.has(e)}var C4=Er({name:"zIndex",initialState:Gre,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:He()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Qre(r)&&delete e.zIndexMap[r])},prepare:He()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:He()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:He()}}}),{registerZIndexPortal:Jre,unregisterZIndexPortal:Zre,registerZIndexPortalId:ene,unregisterZIndexPortalId:tne}=C4.actions,rne=C4.reducer;function ur(e){var{zIndex:t,children:r}=e,n=uX(),a=n&&t!==void 0&&t!==0,s=bt(),i=Ye();g.useLayoutEffect(()=>a?(i(Jre({zIndex:t})),()=>{i(Zre({zIndex:t}))}):Wu,[i,t,a]);var l=oe(u=>Hre(u,t,s));if(!a)return r;if(!l)return null;var c=document.getElementById(l);return c?Eu.createPortal(r,c):null}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(null,arguments)}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nne(e,t,r){return(t=ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ane(e){var t=sne(e,"string");return typeof t=="symbol"?t:t+""}function sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ine(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function one(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,m=n,h=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=fQ,v=lt.cursorLine;else if(d==="BarChart")p=mQ(l,f,s,i),x=dI,v=lt.cursorRectangle;else if(l==="radial"&&RM(f)){var{cx:y,cy:b,radius:w,startAngle:j,endAngle:k}=fI(f);p={cx:y,cy:b,startAngle:j,endAngle:k,innerRadius:w,outerRadius:w},x=hI,v=lt.cursorLine}else p={points:rJ(l,f,s)},x=fw,v=lt.cursorLine;var N=typeof c=="object"&&"className"in c?c.className:void 0,_=ff(ff(ff(ff({stroke:"#ccc",pointerEvents:"none"},s),p),_l(c)),{},{payload:m,payloadIndex:h,className:Ee("recharts-tooltip-cursor",N)});return g.createElement(ur,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},g.createElement(ine,{cursor:c,cursorComp:x,cursorProps:_}))}function lne(e){var t=Ere(),r=QT(),n=Qu(),a=Ire();return t==null||r==null||n==null||a==null?null:g.createElement(one,Fx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var P4=g.createContext(null),cne=()=>g.useContext(P4),O4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,p){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,p),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,k;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,m);break;default:if(!b)for(k=1,b=new Array(y-1);k<y;k++)b[k-1]=arguments[k];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!m||p.once)&&(!f||p.context===f)&&i(this,h);else{for(var x=0,v=[],y=p.length;x<y;x++)(p[x].fn!==d||m&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[h]=v.length===1?v[0]:v:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(O4);var une=O4.exports;const dne=aa(une);var pu=new dne,Bx="recharts.syncEvent.tooltip",RS="recharts.syncEvent.brush";function o1(e,t){if(t){var r=Number.parseInt(t,10);if(!Fr(r))return e==null?void 0:e[r]}}var fne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},A4=Er({name:"options",initialState:fne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mne=A4.reducer,{createEventEmitter:hne}=A4.actions;function pne(e){return e.tooltip.syncInteraction}var gne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M4=Er({name:"chartData",initialState:gne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:LS,setDataStartEndIndexes:yne,setComputedData:Lfe}=M4.actions,xne=M4.reducer,vne=["x","y"];function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bne(e,t,r){return(t=wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wne(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kne(e,t){if(e==null)return{};var r,n,a=Nne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sne(){var e=oe(Rw),t=oe(Lw),r=Ye(),n=oe(mD),a=oe(Ya),s=Qu(),i=Cl(),l=oe(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return Wu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var m;if(i&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var h=d.payload.coordinate,{x:p,y:x}=h,v=kne(h,vne),{x:y,y:b,width:w,height:j}=d.payload.sourceViewBox,k=ro(ro({},v),{},{x:i.x+(w?(p-y)/w:0)*i.width,y:i.y+(j?(x-b)/j:0)*i.height});r(ro(ro({},d),{},{payload:ro(ro({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var N;if(typeof n=="function"){var _={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,_);N=a[S]}else n==="value"&&(N=a.find(I=>String(I.value)===d.payload.label));var{coordinate:E}=d.payload;if(N==null||d.payload.active===!1||E==null||i==null){r($x({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:C}=E,A=Math.min(O,i.x+i.width),D=Math.min(C,i.y+i.height),M={x:s==="horizontal"?N.coordinate:A,y:s==="horizontal"?D:N.coordinate},$=$x({active:d.payload.active,coordinate:M,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r($)}}};return pu.on(Bx,c),()=>{pu.off(Bx,c)}},[l,r,t,e,n,a,s,i])}function _ne(){var e=oe(Rw),t=oe(Lw),r=Ye();g.useEffect(()=>{if(e==null)return Wu;var n=(a,s,i)=>{t!==i&&e===a&&r(yne(s))};return pu.on(RS,n),()=>{pu.off(RS,n)}},[r,t,e])}function Ene(){var e=Ye();g.useEffect(()=>{e(hne())},[e]),Sne(),_ne()}function Cne(e,t,r,n,a,s){var i=oe(h=>Rre(h,e,t)),l=oe(Lw),c=oe(Rw),u=oe(mD),d=oe(pne),f=d==null?void 0:d.active,m=Cl();g.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=$x({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});pu.emit(Bx,c,h,l)}},[f,r,i,a,n,l,c,u,s,m])}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){Pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pne(e,t,r){return(t=One(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function One(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mne(e){return e.dataKey}function Tne(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(WX,t)}var BS=[],Ine={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mf(e){var t,r,n=ht(e,Ine),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:h,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:y,shared:b,trigger:w,defaultIndex:j,portal:k,axisId:N}=n,_=Ye(),S=typeof j=="number"?String(j):j;g.useEffect(()=>{_(Ate({shared:b,trigger:w,axisId:N,active:a,defaultIndex:S}))},[_,b,w,N,a,S]);var E=Cl(),O=iI(),C=Ste(b),{activeIndex:A,isActive:D}=(t=oe(G=>zre(G,C,w,S)))!==null&&t!==void 0?t:{},M=oe(G=>$re(G,C,w,S)),$=oe(G=>E4(G,C,w,S)),I=oe(G=>Lre(G,C,w,S)),R=M,T=cne(),P=(r=a??D)!==null&&r!==void 0?r:!1,[L,F]=lT([R,P]),U=C==="axis"?$:void 0;Cne(C,w,I,U,A,P);var q=k??T;if(q==null||E==null||C==null)return null;var Y=R??BS;P||(Y=BS),u&&Y.length&&(Y=eT(Y.filter(G=>G.value!=null&&(G.hide!==!0||n.includeHidden)),m,Mne));var re=Y.length>0,ne=g.createElement(JX,{allowEscapeViewBox:s,animationDuration:i,animationEasing:l,isAnimationActive:d,active:P,coordinate:I,hasPayload:re,offset:f,position:h,reverseDirection:p,useTranslate3d:x,viewBox:E,wrapperStyle:v,lastBoundingBox:L,innerRef:F,hasPortalFromProps:!!k},Tne(c,FS(FS({},n),{},{payload:Y,label:U,active:P,activeIndex:A,coordinate:I,accessibilityLayer:O})));return g.createElement(g.Fragment,null,Eu.createPortal(ne,q),P&&g.createElement(lne,{cursor:y,tooltipEventType:C,coordinate:I,payload:Y,index:A}))}var l1=e=>null;l1.displayName="Cell";function Dne(e,t,r){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rne(e){var t=Lne(e,"string");return typeof t=="symbol"?t:t+""}function Lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $ne{constructor(t){Dne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){Fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t,r){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hne={cacheSize:2e3,enableCache:!0},T4=zne({},Hne),HS=new $ne(T4.cacheSize),Vne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VS="recharts_measurement_span";function Wne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(l)}var WS=(e,t)=>{try{var r=document.getElementById(VS);r||(r=document.createElement("span"),r.setAttribute("id",VS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Vne,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ec=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zu.isSsr)return{width:0,height:0};if(!T4.enableCache)return WS(t,r);var n=Wne(t,r),a=HS.get(n);if(a)return a;var s=WS(t,r);return HS.set(n,s),s},KS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,I4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yne=Object.keys(I4),bo="NaN";function Gne(e,t){return e*I4[t]}class hr{static parse(t){var r,[,n,a]=(r=qne.exec(t))!==null&&r!==void 0?r:[];return new hr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fr(t)&&(this.unit=""),r!==""&&!Kne.test(r)&&(this.num=NaN,this.unit=""),Yne.includes(r)&&(this.num=Gne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fr(this.num)}}function D4(e){if(e.includes(bo))return bo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=KS.exec(t))!==null&&r!==void 0?r:[],i=hr.parse(n??""),l=hr.parse(s??""),c=a==="*"?i.multiply(l):i.divide(l);if(c.isNaN())return bo;t=t.replace(KS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,m]=(u=qS.exec(t))!==null&&u!==void 0?u:[],h=hr.parse(d??""),p=hr.parse(m??""),x=f==="+"?h.add(p):h.subtract(p);if(x.isNaN())return bo;t=t.replace(qS,x.toString())}return t}var YS=/\(([^()]*)\)/;function Xne(e){for(var t=e,r;(r=YS.exec(t))!=null;){var[,n]=r;t=t.replace(YS,D4(n))}return t}function Qne(e){var t=e.replace(/\s+/g,"");return t=Xne(t),t=D4(t),t}function Jne(e){try{return Qne(e)}catch{return bo}}function f0(e){var t=Jne(e.slice(5,-1));return t===bo?"":t}var Zne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],eae=["dx","dy","angle","className","breakAll"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function GS(e,t){if(e==null)return{};var r,n,a=tae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var R4=/[ \f\n\r\t\v\u2028\u2029]+/,L4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ae(t)||(r?a=t.toString().split(""):a=t.toString().split(R4));var s=a.map(l=>({word:l,width:Ec(l,n).width})),i=r?0:Ec("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function rae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var $4=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:l}=s,c=a[a.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(i),c.width+=l+r;else{var u={words:[i],width:l};a.push(u)}return a},[]),z4=e=>e.reduce((t,r)=>t.width>r.width?t:r),nae="",XS=(e,t,r,n,a,s,i,l)=>{var c=e.slice(0,t),u=L4({breakAll:r,style:n,children:c+nae});if(!u)return[!1,[]];var d=$4(u.wordsWithComputedWidth,s,i,l),f=d.length>a||z4(d).width>Number(s);return[f,d]},aae=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:l,breakAll:c}=e,u=de(s),d=String(i),f=$4(t,n,r,a);if(!u||a)return f;var m=f.length>s||z4(f).width>Number(n);if(!m)return f;for(var h=0,p=d.length-1,x=0,v;h<=p&&x<=d.length-1;){var y=Math.floor((h+p)/2),b=y-1,[w,j]=XS(d,b,c,l,s,n,r,a),[k]=XS(d,y,c,l,s,n,r,a);if(!w&&!k&&(h=y+1),w&&k&&(p=y-1),!w&&k){v=j;break}x++}return v||f},QS=e=>{var t=Ae(e)?[]:e.toString().split(R4);return[{words:t,width:void 0}]},sae=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Zu.isSsr){var l,c,u=L4({breakAll:s,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return QS(n);return aae({breakAll:s,children:n,maxLines:i,style:a},l,c,t,!!r)}return QS(n)},F4="#808080",iae={angle:0,breakAll:!1,capHeight:"0.71em",fill:F4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},c1=g.forwardRef((e,t)=>{var r=ht(e,iae),{x:n,y:a,lineHeight:s,capHeight:i,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=GS(r,Zne),m=g.useMemo(()=>sae({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:h,dy:p,angle:x,className:v,breakAll:y}=f,b=GS(f,eae);if(!an(n)||!an(a)||m.length===0)return null;var w=Number(n)+(de(h)?h:0),j=Number(a)+(de(p)?p:0);if(!Ue(w)||!Ue(j))return null;var k;switch(d){case"start":k=f0("calc(".concat(i,")"));break;case"middle":k=f0("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:k=f0("calc(".concat(m.length-1," * -").concat(s,")"));break}var N=[];if(c){var _=m[0].width,{width:S}=f;N.push("scale(".concat(de(S)&&de(_)?S/_:1,")"))}return x&&N.push("rotate(".concat(x,", ").concat(w,", ").concat(j,")")),N.length&&(b.transform=N.join(" ")),g.createElement("text",Ux({},Jt(b),{ref:t,x:w,y:j,className:Ee("recharts-text",v),textAnchor:u,fill:l.includes("url")?F4:l}),m.map((E,O)=>{var C=E.words.join(y?"":" ");return g.createElement("tspan",{x:w,dy:O===0?k:s,key:"".concat(C,"-").concat(O)},C)}))});c1.displayName="Text";var oae=["labelRef"];function lae(e,t){if(e==null)return{};var r,n,a=cae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t,r){return(t=dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xa.apply(null,arguments)}var B4=g.createContext(null),U4=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:l}=e,c=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return g.createElement(B4.Provider,{value:c},l)},H4=()=>{var e=g.useContext(B4),t=Cl();return e||XT(t)},mae=g.createContext(null),hae=()=>{var e=g.useContext(mae),t=oe(xD);return e||t},pae=e=>{var{value:t,formatter:r}=e,n=Ae(e.children)?t:e.children;return typeof r=="function"?r(n):n},u1=e=>e!=null&&typeof e=="function",gae=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},yae=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:h}=a,p=(u+d)/2,x=gae(f,m),v=x>=0?1:-1,y,b;switch(t){case"insideStart":y=f+v*s,b=h;break;case"insideEnd":y=m-v*s,b=!h;break;case"end":y=m+v*s,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=x<=0?b:!b;var w=Bt(l,c,p,y),j=Bt(l,c,p,y+(b?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),N=Ae(e.id)?su("recharts-radial-line-"):e.id;return g.createElement("text",xa({},n,{dominantBaseline:"central",className:Ee("recharts-radial-bar-label",i)}),g.createElement("defs",null,g.createElement("path",{id:N,d:k})),g.createElement("textPath",{xlinkHref:"#".concat(N)},r))},xae=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Bt(n,a,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(s+i)/2,{x:h,y:p}=Bt(n,a,m,u);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Hx=e=>"cx"in e&&de(e.cx),vae=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Hx(r)&&(s=r);var{x:i,y:l,upperWidth:c,lowerWidth:u,height:d}=t,f=i,m=i+(c-u)/2,h=(f+m)/2,p=(c+u)/2,x=f+c/2,v=d>=0?1:-1,y=v*n,b=v>0?"end":"start",w=v>0?"start":"end",j=c>=0?1:-1,k=j*n,N=j>0?"end":"start",_=j>0?"start":"end";if(a==="top"){var S={x:f+c/2,y:l-y,textAnchor:"middle",verticalAnchor:b};return it(it({},S),s?{height:Math.max(l-s.y,0),width:c}:{})}if(a==="bottom"){var E={x:m+u/2,y:l+d+y,textAnchor:"middle",verticalAnchor:w};return it(it({},E),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(a==="left"){var O={x:h-k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"};return it(it({},O),s?{width:Math.max(O.x-s.x,0),height:d}:{})}if(a==="right"){var C={x:h+p+k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return it(it({},C),s?{width:Math.max(s.x+s.width-C.x,0),height:d}:{})}var A=s?{width:p,height:d}:{};return a==="insideLeft"?it({x:h+k,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},A):a==="insideRight"?it({x:h+p-k,y:l+d/2,textAnchor:N,verticalAnchor:"middle"},A):a==="insideTop"?it({x:f+c/2,y:l+y,textAnchor:"middle",verticalAnchor:w},A):a==="insideBottom"?it({x:m+u/2,y:l+d-y,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?it({x:f+k,y:l+y,textAnchor:_,verticalAnchor:w},A):a==="insideTopRight"?it({x:f+c-k,y:l+y,textAnchor:N,verticalAnchor:w},A):a==="insideBottomLeft"?it({x:m+k,y:l+d-y,textAnchor:_,verticalAnchor:b},A):a==="insideBottomRight"?it({x:m+u-k,y:l+d-y,textAnchor:N,verticalAnchor:b},A):a&&typeof a=="object"&&(de(a.x)||Ra(a.x))&&(de(a.y)||Ra(a.y))?it({x:i+Mn(a.x,p),y:l+Mn(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):it({x,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},bae={angle:0,offset:5,zIndex:lt.label,position:"middle",textBreakAll:!1};function as(e){var t=ht(e,bae),{viewBox:r,position:n,value:a,children:s,content:i,className:l="",textBreakAll:c,labelRef:u}=t,d=hae(),f=H4(),m=n==="center"?f:d??f,h,p,x;if(r==null?h=m:Hx(r)?h=r:h=XT(r),!h||Ae(a)&&Ae(s)&&!g.isValidElement(i)&&typeof i!="function")return null;var v=it(it({},t),{},{viewBox:h});if(g.isValidElement(i)){var{labelRef:y}=v,b=lae(v,oae);return g.cloneElement(i,b)}if(typeof i=="function"){if(p=g.createElement(i,v),g.isValidElement(p))return p}else p=pae(t);var w=Jt(t);if(Hx(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return yae(t,n,p,w,h);x=xae(h,t.offset,t.position)}else x=vae(t,h);return g.createElement(ur,{zIndex:t.zIndex},g.createElement(c1,xa({ref:u,className:Ee("recharts-label",l)},w,x,{textAnchor:rae(w.textAnchor)?w.textAnchor:x.textAnchor,breakAll:c}),p))}as.displayName="Label";var wae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(as,xa({key:"label-implicit"},n)):an(e)?g.createElement(as,xa({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===as?g.cloneElement(e,it({key:"label-implicit"},n)):g.createElement(as,xa({key:"label-implicit",content:e},n)):u1(e)?g.createElement(as,xa({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(as,xa({},e,{key:"label-implicit"},n)):null};function V4(e){var{label:t,labelRef:r}=e,n=H4();return wae(t,n,r)||null}var W4={},K4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(K4);var q4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(q4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4,r=q4,n=hp;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(W4);var jae=W4.last;const kae=aa(jae);var Nae=["valueAccessor"],Sae=["dataKey","clockWise","id","textBreakAll","zIndex"];function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(null,arguments)}function ZS(e,t){if(e==null)return{};var r,n,a=_ae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _ae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eae=e=>Array.isArray(e.value)?kae(e.value):e.value,Y4=g.createContext(void 0),d1=Y4.Provider,G4=g.createContext(void 0);G4.Provider;function Cae(){return g.useContext(Y4)}function Pae(){return g.useContext(G4)}function Hf(e){var{valueAccessor:t=Eae}=e,r=ZS(e,Nae),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:l}=r,c=ZS(r,Sae),u=Cae(),d=Pae(),f=u||d;return!f||!f.length?null:g.createElement(ur,{zIndex:l??lt.label},g.createElement(It,{className:"recharts-label-list"},f.map((m,h)=>{var p,x=Ae(n)?t(m,h):Ze(m&&m.payload,n),v=Ae(s)?{}:{id:"".concat(s,"-").concat(h)};return g.createElement(as,dh({key:"label-".concat(h)},Jt(m),c,v,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:i,viewBox:m.viewBox,index:h,zIndex:0}))})))}Hf.displayName="LabelList";function f1(e){var{label:t}=e;return t?t===!0?g.createElement(Hf,{key:"labelList-implicit"}):g.isValidElement(t)||u1(t)?g.createElement(Hf,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Hf,dh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}var X4=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ee("recharts-dot",a);return de(t)&&de(r)&&de(n)?g.createElement("circle",Vx({},zr(e),zb(e),{className:s,cx:t,cy:r,r:n})):null},Oae={radiusAxis:{},angleAxis:{}},Q4=Er({name:"polarAxis",initialState:Oae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$fe,removeRadiusAxis:zfe,addAngleAxis:Ffe,removeAngleAxis:Bfe}=Q4.actions,Aae=Q4.reducer,J4={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1=Symbol.for("react.transitional.element"),h1=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Qp=Symbol.for("react.consumer"),Jp=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),rg=Symbol.for("react.memo"),ng=Symbol.for("react.lazy"),Mae=Symbol.for("react.view_transition"),Tae=Symbol.for("react.client.reference");function cn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case m1:switch(e=e.type,e){case Yp:case Xp:case Gp:case eg:case tg:case Mae:return e;default:switch(e=e&&e.$$typeof,e){case Jp:case Zp:case ng:case rg:return e;case Qp:return e;default:return t}}case h1:return t}}}De.ContextConsumer=Qp;De.ContextProvider=Jp;De.Element=m1;De.ForwardRef=Zp;De.Fragment=Yp;De.Lazy=ng;De.Memo=rg;De.Portal=h1;De.Profiler=Xp;De.StrictMode=Gp;De.Suspense=eg;De.SuspenseList=tg;De.isContextConsumer=function(e){return cn(e)===Qp};De.isContextProvider=function(e){return cn(e)===Jp};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===m1};De.isForwardRef=function(e){return cn(e)===Zp};De.isFragment=function(e){return cn(e)===Yp};De.isLazy=function(e){return cn(e)===ng};De.isMemo=function(e){return cn(e)===rg};De.isPortal=function(e){return cn(e)===h1};De.isProfiler=function(e){return cn(e)===Xp};De.isStrictMode=function(e){return cn(e)===Gp};De.isSuspense=function(e){return cn(e)===eg};De.isSuspenseList=function(e){return cn(e)===tg};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yp||e===Xp||e===Gp||e===eg||e===tg||typeof e=="object"&&e!==null&&(e.$$typeof===ng||e.$$typeof===rg||e.$$typeof===Jp||e.$$typeof===Qp||e.$$typeof===Zp||e.$$typeof===Tae||e.getModuleId!==void 0)};De.typeOf=cn;J4.exports=De;var Iae=J4.exports,e_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",t_=null,m0=null,Z4=e=>{if(e===t_&&Array.isArray(m0))return m0;var t=[];return g.Children.forEach(e,r=>{Ae(r)||(Iae.isFragment(r)?t=t.concat(Z4(r.props.children)):t.push(r))}),m0=t,t_=e,t};function e5(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>e_(a)):n=[e_(t)],Z4(e).forEach(a=>{var s=ol(a,"type.displayName")||ol(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var t5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,r5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(r5);var Dae=r5.isPlainObject;const Rae=aa(Dae);function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){Lae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lae(e,t,r){return(t=$ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ae(e){var t=zae(e,"string");return typeof t=="symbol"?t:t+""}function zae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}var a_=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Fae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bae=e=>{var t=ht(e,Fae),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,m=g.useRef(null),[h,p]=g.useState(-1),x=g.useRef(a),v=g.useRef(s),y=g.useRef(i),b=g.useRef(r),w=g.useRef(n),j=td(e,"trapezoid-");if(g.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var M=m.current.getTotalLength();M&&p(M)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var k=Ee("recharts-trapezoid",l);if(!f)return g.createElement("g",null,g.createElement("path",fh({},Jt(t),{className:k,d:a_(r,n,a,s,i)})));var N=x.current,_=v.current,S=y.current,E=b.current,O=w.current,C="0px ".concat(h===-1?1:h,"px"),A="".concat(h,"px 0px"),D=oI(["strokeDasharray"],u,c);return g.createElement(ed,{animationId:j,key:j,canBegin:h>0,duration:u,easing:c,isActive:f,begin:d},M=>{var $=Le(N,a,M),I=Le(_,s,M),R=Le(S,i,M),T=Le(E,r,M),P=Le(O,n,M);m.current&&(x.current=$,v.current=I,y.current=R,b.current=T,w.current=P);var L=M>0?{transition:D,strokeDasharray:A}:{strokeDasharray:C};return g.createElement("path",fh({},Jt(t),{className:k,d:a_(T,P,$,I,R),ref:m,style:n_(n_({},L),t.style)}))})},Uae=["option","shapeType","propTransformer","activeClassName"];function Hae(e,t){if(e==null)return{};var r,n,a=Vae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){Wae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wae(e,t,r){return(t=Kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kae(e){var t=qae(e,"string");return typeof t=="symbol"?t:t+""}function qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yae(e,t){return mh(mh({},t),e)}function Gae(e,t){return e==="symbols"}function i_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(dI,r);case"trapezoid":return g.createElement(Bae,r);case"sector":return g.createElement(hI,r);case"symbols":if(Gae(t))return g.createElement(mp,r);break;case"curve":return g.createElement(fw,r);default:return null}}function Xae(e){return g.isValidElement(e)?e.props:e}function hh(e){var{option:t,shapeType:r,propTransformer:n=Yae,activeClassName:a="recharts-active-shape"}=e,s=Hae(e,Uae),i;if(g.isValidElement(t))i=g.cloneElement(t,mh(mh({},s),Xae(t)));else if(typeof t=="function")i=t(s,s.index);else if(Rae(t)&&typeof t!="boolean"){var l=n(t,s);i=g.createElement(i_,{shapeType:r,elementProps:l})}else{var c=s;i=g.createElement(i_,{shapeType:r,elementProps:c})}return s.isActive?g.createElement(It,{className:a},i):i}var p1=(e,t,r)=>{var n=Ye();return(a,s)=>i=>{e==null||e(a,s,i),n(l4({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},g1=e=>{var t=Ye();return(r,n)=>a=>{e==null||e(r,n,a),t(Mte())}},y1=(e,t,r)=>{var n=Ye();return(a,s)=>i=>{e==null||e(a,s,i),n(Tte({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function x1(e){var{tooltipEntrySettings:t}=e,r=Ye(),n=bt(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(Cte(t)):a.current!==t&&r(Pte({prev:a.current,next:t})),a.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{a.current&&(r(Ote(a.current)),a.current=null)},[r]),null}function v1(e){var{legendPayload:t}=e,r=Ye(),n=bt(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(NX(t)):a.current!==t&&r(SX({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(_X(a.current)),a.current=null)},[r]),null}var h0,Qae=()=>{var[e]=g.useState(()=>su("uid-"));return e},Jae=(h0=eR.useId)!==null&&h0!==void 0?h0:Qae;function n5(e,t){var r=Jae();return t||(e?"".concat(e,"-").concat(r):r)}var Zae=g.createContext(void 0),b1=e=>{var{id:t,type:r,children:n}=e,a=n5("recharts-".concat(r),t);return g.createElement(Zae.Provider,{value:a},n(a))},ese={cartesianItems:[],polarItems:[]},a5=Er({name:"graphicalItems",initialState:ese,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:He()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Cn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:He()},removeCartesianGraphicalItem:{reducer(e,t){var r=Cn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:He()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:He()},removePolarGraphicalItem:{reducer(e,t){var r=Cn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:He()}}}),{addCartesianGraphicalItem:tse,replaceCartesianGraphicalItem:rse,removeCartesianGraphicalItem:nse,addPolarGraphicalItem:Ufe,removePolarGraphicalItem:Hfe}=a5.actions,ase=a5.reducer,sse=e=>{var t=Ye(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(tse(e)):r.current!==e&&t(rse({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(nse(r.current)),r.current=null)},[t]),null},w1=g.memo(sse),ise=["points"];function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){ose(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ose(e,t,r){return(t=lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lse(e){var t=cse(e,"string");return typeof t=="symbol"?t:t+""}function cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function use(e,t){if(e==null)return{};var r,n,a=dse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fse(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Ee(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,l=use(s,ise);return g.createElement(X4,ph({},l,{className:a}))}function mse(e,t){return e==null?!1:t?!0:e.length===1}function hse(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:l,clipPathId:c,zIndex:u=lt.scatter}=e;if(!mse(t,r))return null;var d=t5(r),f=BK(r),m=t.map((p,x)=>{var v,y,b=p0(p0(p0({r:3},i),f),{},{index:x,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(y=p.y)!==null&&y!==void 0?y:void 0,dataKey:s,value:p.value,payload:p.payload,points:t});return g.createElement(fse,{key:"dot-".concat(x),option:r,dotProps:b,className:a})}),h={};return l&&c!=null&&(h.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),g.createElement(ur,{zIndex:u},g.createElement(It,ph({className:n},h),m))}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pse(e,t,r){return(t=gse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xse={xAxis:{},yAxis:{},zAxis:{}},s5=Er({name:"cartesianAxis",initialState:xse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:He()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:He()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:He()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:He()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:He()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:He()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:He()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:He()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:He()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=c_(c_({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:vse,replaceXAxis:bse,removeXAxis:wse,addYAxis:jse,replaceYAxis:kse,removeYAxis:Nse,addZAxis:Vfe,replaceZAxis:Wfe,removeZAxis:Kfe,updateYAxisWidth:Sse}=s5.actions,_se=s5.reducer,Ese=V([Dt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Cse=V([Ese,Wa,Ka],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),j1=()=>oe(Cse),Pse=()=>oe(jre);function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){Ose(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ose(e,t,r){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ase(e){var t=Mse(e,"string");return typeof t=="symbol"?t:t+""}function Mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tse=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=g0(g0(g0({},l),_l(a)),zb(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,c):typeof a=="function"?u=a(c):u=g.createElement(X4,c),g.createElement(It,{className:"recharts-active-dot",clipPath:i},u)};function Ise(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=lt.activeDot}=e,l=oe(Ds),c=Pse();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Ae(u)?null:g.createElement(ur,{zIndex:i},g.createElement(Tse,{point:u,childIndex:Number(l),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Dse="Invariant failed";function Rse(e,t){throw new Error(Dse)}var Lse=["x","y"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){$se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $se(e,t,r){return(t=zse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zse(e){var t=Fse(e,"string");return typeof t=="symbol"?t:t+""}function Fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bse(e,t){if(e==null)return{};var r,n,a=Use(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Use(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hse(e,t){var{x:r,y:n}=e,a=Bse(e,Lse),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return ac(ac(ac(ac(ac({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function gh(e){return g.createElement(hh,Wx({shapeType:"rectangle",propTransformer:Hse,activeClassName:"recharts-active-bar"},e))}var Vse=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(de(t))return t;var s=de(n)||Ae(n);return s?t(n,a):(s||Rse(),r)}},Wse={},i5=Er({name:"errorBars",initialState:Wse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:qfe,replaceErrorBar:Yfe,removeErrorBar:Gfe}=i5.actions,Kse=i5.reducer,qse=["children"];function Yse(e,t){if(e==null)return{};var r,n,a=Gse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qse=g.createContext(Xse);function k1(e){var{children:t}=e,r=Yse(e,qse);return g.createElement(Qse.Provider,{value:r},t)}function ag(e,t){var r,n,a=oe(u=>oa(u,e)),s=oe(u=>la(u,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Et.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Ct.allowDataOverflow,c=i||l;return{needClip:c,needClipX:i,needClipY:l}}function N1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=j1(),{needClipX:s,needClipY:i,needClip:l}=ag(t,r);if(!l||!a)return null;var{x:c,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:s?c:c-d/2,y:i?u:u-f/2,width:s?d:d*2,height:i?f:f*2}))}function Jse(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ue(e.zIndex)?e.zIndex:t}var Zse={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=g;function eie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tie=typeof Object.is=="function"?Object.is:eie,rie=gd.useSyncExternalStore,nie=gd.useRef,aie=gd.useEffect,sie=gd.useMemo,iie=gd.useDebugValue;Zse.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=nie(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=sie(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var p=i.value;if(a(p,h))return f=p}return f=h}if(p=f,tie(d,h))return p;var x=n(h);return a!==void 0&&a(p,x)?(d=h,p):(d=h,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=rie(e,s[0],s[1]);return aie(function(){i.hasValue=!0,i.value=l},[l]),iie(l),l};function oie(e){e()}function lie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var f_={notify(){},get:()=>[]};function cie(e,t){let r,n=f_,a=0,s=!1;function i(x){d();const v=n.subscribe(x);let y=!1;return()=>{y||(y=!0,v(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){a++,r||(r=e.subscribe(c),n=lie())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=f_)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const p={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return p}var uie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",die=uie(),fie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mie=fie(),hie=()=>die||mie?g.useLayoutEffect:g.useEffect,pie=hie();function m_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function gie(e,t){if(m_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!m_(e[r[a]],t[r[a]]))return!1;return!0}var y0=Symbol.for("react-redux-context"),x0=typeof globalThis<"u"?globalThis:{};function yie(){if(!g.createContext)return{};const e=x0[y0]??(x0[y0]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var xie=yie();function vie(e){const{children:t,context:r,serverState:n,store:a}=e,s=g.useMemo(()=>{const c=cie(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=g.useMemo(()=>a.getState(),[a]);pie(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||xie;return g.createElement(l.Provider,{value:s},t)}var bie=vie,wie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function jie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function yd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(wie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!gie(e[n],t[n]))return!1}else if(!jie(e[n],t[n]))return!1;return!0}var kie=["onMouseEnter","onMouseLeave","onClick"],Nie=["value","background","tooltipPosition"],Sie=["id"],_ie=["onMouseEnter","onClick","onMouseLeave"];function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){Eie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eie(e,t,r){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cie(e){var t=Pie(e,"string");return typeof t=="symbol"?t:t+""}function Pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(e,t){if(e==null)return{};var r,n,a=Oie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Aie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:El(r,t),payload:e}]},Mie=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:El(s,t),hide:i,type:c,color:a,unit:l}};return g.createElement(x1,{tooltipEntrySettings:u})});function Tie(e){var t=oe(Ds),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:l,onClick:c}=s,u=yh(s,kie),d=p1(i,n),f=g1(l),m=y1(c,n);if(!a||r==null)return null;var h=_l(a);return g.createElement(ur,{zIndex:Jse(a,lt.barBackground)},r.map((p,x)=>{var{value:v,background:y,tooltipPosition:b}=p,w=yh(p,Nie);if(!y)return null;var j=d(p,x),k=f(p,x),N=m(p,x),_=rr(rr(rr(rr(rr({option:a,isActive:String(x)===t},w),{},{fill:"#eee"},y),h),Ku(u,p,x)),{},{onMouseEnter:j,onMouseLeave:k,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return g.createElement(gh,Ua({key:"background-bar-".concat(x)},_))}))}function Iie(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return rr(rr({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return g.createElement(d1,{value:t?a:void 0},r)}function Die(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,l=oe(Ds),c=oe(j4),u=r&&String(s)===l&&(c==null||i===c),d=u?r:t;return u?g.createElement(ur,{zIndex:lt.activeBar},g.createElement(gh,Ua({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))):g.createElement(gh,Ua({},n,{name:String(n.name)},a,{isActive:u,option:d,index:s,dataKey:i}))}function Rie(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return g.createElement(gh,Ua({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Lie(e){var t,{data:r,props:n}=e,a=(t=zr(n))!==null&&t!==void 0?t:{},{id:s}=a,i=yh(a,Sie),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,h=yh(n,_ie),p=p1(d,c),x=g1(m),v=y1(f,c);return r?g.createElement(g.Fragment,null,r.map((y,b)=>g.createElement(It,Ua({key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(b),className:"recharts-bar-rectangle"},Ku(h,y,b),{onMouseEnter:p(y,b),onMouseLeave:x(y,b),onClick:v(y,b)}),u?g.createElement(Die,{shape:l,activeBar:u,baseProps:i,entry:y,index:b,dataKey:c}):g.createElement(Rie,{shape:l,baseProps:i,entry:y,index:b,dataKey:c})))):null}function $ie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,m=td(t,"recharts-bar-"),[h,p]=g.useState(!1),x=!h,v=g.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),y=g.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return g.createElement(Iie,{showLabels:x,rects:n},g.createElement(ed,{animationId:m,begin:i,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:y,key:m},b=>{var w=b===1?n:n==null?void 0:n.map((j,k)=>{var N=f&&f[k];if(N)return rr(rr({},j),{},{x:Le(N.x,j.x,b),y:Le(N.y,j.y,b),width:Le(N.width,j.width,b),height:Le(N.height,j.height,b)});if(a==="horizontal"){var _=Le(0,j.height,b),S=Le(j.stackedBarStart,j.y,b);return rr(rr({},j),{},{y:S,height:_})}var E=Le(0,j.width,b),O=Le(j.stackedBarStart,j.x,b);return rr(rr({},j),{},{width:E,x:O})});return b>0&&(r.current=w??null),w==null?null:g.createElement(It,null,g.createElement(Lie,{props:t,data:w}))}),g.createElement(f1,{label:t.label}),t.children)}function zie(e){var t=g.useRef(null);return g.createElement($ie,{previousRectanglesRef:t,props:e})}var o5=0,Fie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ze(e,t)}};class Bie extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ee("recharts-bar",a),f=u;return g.createElement(It,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(N1,{clipPathId:f,xAxisId:s,yAxisId:i})),g.createElement(It,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},g.createElement(Tie,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(zie,this.props)))}}var Uie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:o5,xAxisId:0,yAxisId:0,zIndex:lt.bar};function Hie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=ag(t,r),m=Qu(),h=bt(),p=e5(e.children,l1),x=oe(b=>yoe(b,t,r,h,e.id,p));if(m!=="vertical"&&m!=="horizontal")return null;var v,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?v=0:v=m==="vertical"?y.height/2:y.width/2,g.createElement(k1,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Fie,errorBarOffset:v},g.createElement(Bie,Ua({},e,{layout:m,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Vie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:h,parentViewBox:p,dataStartIndex:x}=e,v=t==="horizontal"?l:i,y=d?v.scale.domain():null,b=MG({numericAxis:v}),w=v.scale(b);return f.map((j,k)=>{var N,_,S,E,O,C;d?N=_G(d[k+x],y):(N=Ze(j,r),Array.isArray(N)||(N=[b,N]));var A=Vse(n,o5)(N[1],k);if(t==="horizontal"){var D,[M,$]=[l.scale(N[0]),l.scale(N[1])];_=c2({axis:i,ticks:c,bandSize:s,offset:a.offset,entry:j,index:k}),S=(D=$??M)!==null&&D!==void 0?D:void 0,E=a.size;var I=M-$;if(O=Fr(I)?0:I,C={x:_,y:m.top,width:E,height:m.height},Math.abs(A)>0&&Math.abs(O)<Math.abs(A)){var R=vr(O||A)*(Math.abs(A)-Math.abs(O));S-=R,O+=R}}else{var[T,P]=[i.scale(N[0]),i.scale(N[1])];if(_=T,S=c2({axis:l,ticks:u,bandSize:s,offset:a.offset,entry:j,index:k}),E=P-T,O=a.size,C={x:m.left,y:S,width:m.width,height:O},Math.abs(A)>0&&Math.abs(E)<Math.abs(A)){var L=vr(E||A)*(Math.abs(A)-Math.abs(E));E+=L}}if(_==null||S==null||E==null||O==null)return null;var F=rr(rr({},j),{},{stackedBarStart:w,x:_,y:S,width:E,height:O,value:d?N:N[1],payload:j,background:C,tooltipPosition:{x:_+E/2,y:S+O/2},parentViewBox:p},h&&h[k]&&h[k].props);return F}).filter(Boolean)}function Wie(e){var t=ht(e,Uie),r=bt();return g.createElement(b1,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(v1,{legendPayload:Aie(t)}),g.createElement(Mie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(w1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:AG(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(ur,{zIndex:t.zIndex},g.createElement(Hie,Ua({},t,{id:n})))))}var l5=g.memo(Wie,yd);l5.displayName="Bar";function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){Kie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kie(e,t,r){return(t=qie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gie=(e,t)=>t,Xie=(e,t,r)=>r,Qie=(e,t,r,n)=>n,Jie=(e,t,r,n,a)=>a,xd=V([od,Jie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Zie=V([xd],e=>e==null?void 0:e.maxBarSize),eoe=(e,t,r,n,a,s)=>s,g_=(e,t,r)=>{var n=r??e;if(!Ae(n))return Mn(n,t,0)},toe=V([Ce,od,Gie,Xie,Qie],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),roe=(e,t,r,n)=>{var a=Ce(e);return a==="horizontal"?Lx(e,"yAxis",r,n):Lx(e,"xAxis",t,n)},noe=(e,t,r)=>{var n=Ce(e);return n==="horizontal"?SS(e,"xAxis",t):SS(e,"yAxis",r)},aoe=(e,t,r)=>{var n={},a=e.filter(Up),s=e.filter(u=>u.stackId==null),i=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(i).map(u=>{var[d,f]=u,m=f.map(p=>p.dataKey),h=g_(t,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:h}}),c=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=g_(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},soe=V([toe,wee,noe],aoe),ioe=(e,t,r,n,a)=>{var s,i,l=xd(e,t,r,n,a);if(l!=null){var c=Ce(e),u=uD(e),{maxBarSize:d}=l,f=Ae(d)?u:d,m,h;return c==="horizontal"?(m=na(e,"xAxis",t,n),h=ra(e,"xAxis",t,n)):(m=na(e,"yAxis",r,n),h=ra(e,"yAxis",r,n)),(s=(i=ul(m,h,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},c5=(e,t,r,n)=>{var a=Ce(e),s,i;return a==="horizontal"?(s=na(e,"xAxis",t,n),i=ra(e,"xAxis",t,n)):(s=na(e,"yAxis",r,n),i=ra(e,"yAxis",r,n)),ul(s,i)};function ooe(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=Mn(e,r,0,!0),l,c=[];if(Ue(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,b)=>y+(b.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var m=(r-f)/2>>0,h={offset:m-i,size:0};l=n.reduce((y,b)=>{var w,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+i,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},k=[...y,j];return h=k[k.length-1].position,k},c)}else{var p=Mn(t,r,0,!0);r-2*p-(s-1)*i<=0&&(i=0);var x=(r-2*p-(s-1)*i)/s;x>1&&(x>>=0);var v=Ue(a)?Math.min(x,a):x;l=n.reduce((y,b,w)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(x+i)*w+(x-v)/2,size:v}}],c)}return l}}var loe=(e,t,r,n,a,s,i)=>{var l=Ae(i)?t:i,c=ooe(r,n,a!==s?a:s,e,l);return a!==s&&c!=null&&(c=c.map(u=>hf(hf({},u),{},{position:hf(hf({},u.position),{},{offset:u.position.offset-a/2})}))),c},coe=V([soe,uD,bee,dD,ioe,c5,Zie],loe),uoe=(e,t,r,n)=>na(e,"xAxis",t,n),doe=(e,t,r,n)=>na(e,"yAxis",r,n),foe=(e,t,r,n)=>ra(e,"xAxis",t,n),moe=(e,t,r,n)=>ra(e,"yAxis",r,n),hoe=V([coe,xd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),poe=(e,t)=>{var r=Bw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},goe=V([roe,xd],poe),yoe=V([Dt,iw,uoe,doe,foe,moe,hoe,Ce,sd,c5,goe,xd,eoe],(e,t,r,n,a,s,i,l,c,u,d,f,m)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:x}=c;if(!(f==null||i==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||s==null||u==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=h==null?void 0:h.slice(p,x+1),y!=null)return Vie({layout:l,barSettings:f,pos:i,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:y,offset:e,cells:m,dataStartIndex:p})}}),xoe=e=>{var{chartData:t}=e,r=Ye(),n=bt();return g.useEffect(()=>n?()=>{}:(r(LS(t)),()=>{r(LS(void 0))}),[t,r,n]),null},y_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},u5=Er({name:"brush",initialState:y_,reducers:{setBrushSettings(e,t){return t.payload==null?y_:t.payload}}}),{setBrushSettings:Xfe}=u5.actions,voe=u5.reducer;function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){d5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d5(e,t,r){return(t=boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function boe(e){var t=woe(e,"string");return typeof t=="symbol"?t:t+""}function woe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var joe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},koe=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return joe({x:t,y:r},{x:n,y:a})};class sg{static create(t){return new sg(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}d5(sg,"EPS",1e-4);var Noe=e=>{var t=Object.keys(e).reduce((r,n)=>pf(pf({},r),{},{[n]:sg.create(e[n])}),{});return pf(pf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,l]=s;return[i,t[i].apply(l,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function Soe(e){return(e%180+180)%180}var _oe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Soe(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},Eoe={dots:[],areas:[],lines:[]},f5=Er({name:"referenceElements",initialState:Eoe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Cn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Cn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Cn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Qfe,removeDot:Jfe,addArea:Zfe,removeArea:eme,addLine:Coe,removeLine:Poe}=f5.actions,Ooe=f5.reducer,m5=g.createContext(void 0),Aoe=e=>{var{children:t}=e,[r]=g.useState("".concat(su("recharts"),"-clip")),n=j1();if(n==null)return null;var{x:a,y:s,width:i,height:l}=n;return g.createElement(m5.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:s,height:l,width:i}))),t)},Moe=()=>g.useContext(m5);function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){Toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Toe(e,t,r){return(t=Ioe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ioe(e){var t=Doe(e,"string");return typeof t=="symbol"?t:t+""}function Doe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xh.apply(null,arguments)}var Roe=(e,t)=>{var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Ue(t.x1)||!Ue(t.y1)||!Ue(t.x2)||!Ue(t.y2))return null;r=g.createElement("line",xh({},t,{className:"recharts-reference-line-line"}))}return r},Loe=(e,t,r,n,a,s)=>{var{x:i,width:l}=s,c=a.y.apply(e,{position:r});if(Fr(c)||t==="discard"&&!a.y.isInRange(c))return null;var u=[{x:i+l,y:c},{x:i,y:c}];return n==="left"?u.reverse():u},$oe=(e,t,r,n,a,s)=>{var{y:i,height:l}=s,c=a.x.apply(e,{position:r});if(Fr(c)||t==="discard"&&!a.x.isInRange(c))return null;var u=[{x:c,y:i+l},{x:c,y:i}];return n==="top"?u.reverse():u},zoe=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Foe=(e,t,r,n,a,s)=>{var{x:i,y:l,segment:c,ifOverflow:u}=s,d=an(i),f=an(l);return f?Loe(l,u,r,a,e,t):d?$oe(i,u,r,n,e,t):c!=null&&c.length===2?zoe(c,u,r,e):null};function Boe(e){var t=Ye();return g.useEffect(()=>(t(Coe(e)),()=>{t(Poe(e))})),null}function Uoe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=bt(),l=Moe(),c=oe(N=>oa(N,t)),u=oe(N=>la(N,r)),d=oe(N=>Is(N,"xAxis",t,i)),f=oe(N=>Is(N,"yAxis",r,i)),m=Cl();if(!l||!m||c==null||u==null||d==null||f==null)return null;var h=Noe({x:d,y:f}),p=Foe(h,m,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x,y:v},{x:y,y:b}]=p,w=s==="hidden"?"url(#".concat(l,")"):void 0,j=b_(b_({clipPath:w},Jt(e)),{},{x1:x,y1:v,x2:y,y2:b}),k=koe({x1:x,y1:v,x2:y,y2:b});return g.createElement(ur,{zIndex:e.zIndex},g.createElement(It,{className:Ee("recharts-reference-line",a)},Roe(n,j),g.createElement(U4,xh({},k,{lowerWidth:k.width,upperWidth:k.width}),g.createElement(V4,{label:e.label}),e.children)))}var Hoe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:lt.line};function h5(e){var t=ht(e,Hoe);return g.createElement(g.Fragment,null,g.createElement(Boe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(Uoe,t))}h5.displayName="ReferenceLine";function p5(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Voe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return _oe(n,r)}function Woe(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:l}=e;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function vh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Koe(e,t){return p5(e,t+1)}function qoe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:l}=t,c=0,u=1,d=i,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:p5(n,u)};var x=c,v,y=()=>(v===void 0&&(v=r(p,x)),v),b=p.coordinate,w=c===0||vh(e,b,y,d,l);w||(c=0,d=i,u+=1),w&&(d=b+e*(y()/2+a),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){Yoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yoe(e,t,r){return(t=Goe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Goe(e){var t=Xoe(e,"string");return typeof t=="symbol"?t:t+""}function Xoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qoe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:l}=t,{end:c}=t,u=function(m){var h=s[m],p,x=()=>(p===void 0&&(p=r(h,m)),p);if(m===i-1){var v=e*(h.coordinate+e*x()/2-c);s[m]=h=qt(qt({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else s[m]=h=qt(qt({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var y=vh(e,h.tickCoord,x,l,c);y&&(c=h.tickCoord-e*(x()/2+a),s[m]=qt(qt({},h),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return s}function Joe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),m=e*(d.coordinate+e*f/2-u);if(i[l-1]=d=qt(qt({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var h=vh(e,d.tickCoord,()=>f,c,u);h&&(u=d.tickCoord-e*(f/2+a),i[l-1]=qt(qt({},d),{},{isShow:!0}))}}for(var p=s?l-1:l,x=function(b){var w=i[b],j,k=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var N=e*(w.coordinate-e*k()/2-c);i[b]=w=qt(qt({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else i[b]=w=qt(qt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var _=vh(e,w.tickCoord,k,c,u);_&&(c=w.tickCoord+e*(k()/2+a),i[b]=qt(qt({},w),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return i}function S1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(de(c)||Zu.isSsr){var m;return(m=Koe(a,de(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?Ec(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,j)=>{var k=typeof u=="function"?u(w.value,j):w.value;return p==="width"?Voe(Ec(k,{fontSize:t,letterSpacing:r}),x,f):Ec(k,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?vr(a[1].coordinate-a[0].coordinate):1,b=Woe(s,y,p);return c==="equidistantPreserveStart"?qoe(y,b,v,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=Joe(y,b,v,a,i,c==="preserveStartEnd"):h=Qoe(y,b,v,a,i),h.filter(w=>w.isShow))}var Zoe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+s,u=i+c+l+(r?n:0);return Math.round(u)}return 0},ele=["axisLine","width","height","className","hide","ticks","axisType"];function tle(e,t){if(e==null)return{};var r,n,a=rle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(null,arguments)}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){nle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nle(e,t,r){return(t=ale(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ale(e){var t=sle(e,"string");return typeof t=="symbol"?t:t+""}function sle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ca={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:lt.axis};function ile(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=ut(ut(ut({},c),zr(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);u=ut(ut({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);u=ut(ut({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return g.createElement("line",Ui({},u,{className:Ee("recharts-cartesian-axis-line",ol(l,"className"))}))}function ole(e,t,r,n,a,s,i,l,c){var u,d,f,m,h,p,x=l?-1:1,v=e.tickSize||i,y=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,m=r+ +!l*a,f=m-x*v,p=f-x*c,h=y;break;case"left":f=m=e.coordinate,d=t+ +!l*n,u=d-x*v,h=u-x*c,p=y;break;case"right":f=m=e.coordinate,d=t+ +l*n,u=d+x*v,h=u+x*c,p=y;break;default:u=d=e.coordinate,m=r+ +l*a,f=m+x*v,p=f+x*c,h=y;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:h,y:p}}}function lle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function cle(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ule(e){var{option:t,tickProps:r,value:n}=e,a,s=Ee(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,ut(ut({},r),{},{className:s}));else if(typeof t=="function")a=t(ut(ut({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=Ee(i,t==null?void 0:t.className)),a=g.createElement(c1,Ui({},r,{className:i}),n)}return a}var dle=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:h,width:p,height:x,tickSize:v,tickMargin:y,fontSize:b,letterSpacing:w,getTicksConfig:j,events:k,axisType:N}=e,_=S1(ut(ut({},j),{},{ticks:r}),b,w),S=lle(d,f),E=cle(d,f),O=zr(j),C=_l(n),A={};typeof a=="object"&&(A=a);var D=ut(ut({},O),{},{fill:"none"},A),M=_.map(R=>ut({entry:R},ole(R,m,h,p,x,d,v,f,y))),$=M.map(R=>{var{entry:T,line:P}=R;return g.createElement(It,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},a&&g.createElement("line",Ui({},D,P,{className:Ee("recharts-cartesian-axis-tick-line",ol(a,"className"))})))}),I=M.map((R,T)=>{var{entry:P,tick:L}=R,F=ut(ut(ut(ut({textAnchor:S,verticalAnchor:E},O),{},{stroke:"none",fill:s},C),L),{},{index:T,payload:P,visibleTicksCount:_.length,tickFormatter:i,padding:c},u);return g.createElement(It,Ui({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Ku(k,P,T)),n&&g.createElement(ule,{option:n,tickProps:F,value:"".concat(typeof i=="function"?i(P.value,T):P.value).concat(l||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},I.length>0&&g.createElement(ur,{zIndex:lt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},I)),$.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},$))}),fle=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:l,axisType:c}=e,u=tle(e,ele),[d,f]=g.useState(""),[m,h]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Zoe({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=g.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=y;var b=y[0];if(b){var w=window.getComputedStyle(b),j=w.fontSize,k=w.letterSpacing;(j!==d||k!==m)&&(f(j),h(k))}}},[d,m]);return i||n!=null&&n<=0||a!=null&&a<=0?null:g.createElement(ur,{zIndex:e.zIndex},g.createElement(It,{className:Ee("recharts-cartesian-axis",s)},g.createElement(ile,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:zr(e)}),g.createElement(dle,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(U4,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(V4,{label:e.label,labelRef:e.labelRef}),e.children)))}),_1=g.forwardRef((e,t)=>{var r=ht(e,Ca);return g.createElement(fle,Ui({},r,{ref:t}))});_1.displayName="CartesianAxis";var mle=["x1","y1","x2","y2","key"],hle=["offset"],ple=["xAxisId","yAxisId"],gle=["xAxisId","yAxisId"];function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){yle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yle(e,t,r){return(t=xle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xle(e){var t=vle(e,"string");return typeof t=="symbol"?t:t+""}function vle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function bh(e,t){if(e==null)return{};var r,n,a=ble(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ble(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:l}=e;return g.createElement("rect",{x:n,y:a,ry:l,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function g5(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:l,y2:c,key:u}=r,d=bh(r,mle),f=(a=zr(d))!==null&&a!==void 0?a:{},{offset:m}=f,h=bh(f,hle);n=g.createElement("line",ci({},h,{x1:s,y1:i,x2:l,y2:c,fill:"none",key:u}))}return n}function jle(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=bh(e,ple),c=a.map((u,d)=>{var f=Gt(Gt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return g.createElement(g5,{key:"line-".concat(d),option:n,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function kle(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,l=bh(e,gle),c=a.map((u,d)=>{var f=Gt(Gt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return g.createElement(g5,{option:n,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Nle(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],p=h?a+i-f:u[m+1]-f;if(p<=0)return null;var x=m%t.length;return g.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Sle(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var h=!u[m+1],p=h?a+i-f:u[m+1]-f;if(p<=0)return null;var x=m%r.length;return g.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:p,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _le=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return zT(S1(Gt(Gt(Gt({},Ca),r),{},{ticks:FT(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Ele=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return zT(S1(Gt(Gt(Gt({},Ca),r),{},{ticks:FT(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Cle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:lt.grid};function hc(e){var t=lw(),r=cw(),n=QT(),a=Gt(Gt({},ht(e,Cle)),{},{x:de(e.x)?e.x:n.left,y:de(e.y)?e.y:n.top,width:de(e.width)?e.width:n.width,height:de(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:h}=a,p=bt(),x=oe(E=>_S(E,"xAxis",s,p)),v=oe(E=>_S(E,"yAxis",i,p));if(!ea(u)||!ea(d)||!de(l)||!de(c))return null;var y=a.verticalCoordinatesGenerator||_le,b=a.horizontalCoordinatesGenerator||Ele,{horizontalPoints:w,verticalPoints:j}=a;if((!w||!w.length)&&typeof b=="function"){var k=m&&m.length,N=b({yAxis:v?Gt(Gt({},v),{},{ticks:k?m:v.ticks}):void 0,width:t??u,height:r??d,offset:n},k?!0:f);Km(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!j||!j.length)&&typeof y=="function"){var _=h&&h.length,S=y({xAxis:x?Gt(Gt({},x),{},{ticks:_?h:x.ticks}):void 0,width:t??u,height:r??d,offset:n},_?!0:f);Km(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return g.createElement(ur,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(wle,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Nle,ci({},a,{horizontalPoints:w})),g.createElement(Sle,ci({},a,{verticalPoints:j})),g.createElement(jle,ci({},a,{offset:n,horizontalPoints:w,xAxis:x,yAxis:v})),g.createElement(kle,ci({},a,{offset:n,verticalPoints:j,xAxis:x,yAxis:v}))))}hc.displayName="CartesianGrid";var y5=(e,t,r,n)=>na(e,"xAxis",t,n),x5=(e,t,r,n)=>ra(e,"xAxis",t,n),v5=(e,t,r,n)=>na(e,"yAxis",r,n),b5=(e,t,r,n)=>ra(e,"yAxis",r,n),Ple=V([Ce,y5,v5,x5,b5],(e,t,r,n,a)=>Hs(e,"xAxis")?ul(t,n,!1):ul(r,a,!1)),Ole=(e,t,r,n,a)=>a;function Ale(e){return e.type==="line"}var Mle=V([od,Ole],(e,t)=>e.filter(Ale).find(r=>r.id===t)),Tle=V([Ce,y5,v5,x5,b5,Mle,Ple,sd],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=s,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(u,d+1),h!=null)return ece({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:h})}});function Ile(e){var t=_l(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),l=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(l)||l<0)&&(l=n),{r:i,strokeWidth:l}}return{r,strokeWidth:n}}var Dle=["id"],Rle=["type","layout","connectNulls","needClip","shape"],Lle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(null,arguments)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){$le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $le(e,t,r){return(t=zle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zle(e){var t=Fle(e,"string");return typeof t=="symbol"?t:t+""}function Fle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E1(e,t){if(e==null)return{};var r,n,a=Ble(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ble(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ule=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:El(r,t),payload:e}]},Hle=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:El(i,t),hide:l,type:u,color:n,unit:c}};return g.createElement(x1,{tooltipEntrySettings:d})}),w5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Vle(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Wle=(e,t,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return w5(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,i]:[i];return[...Vle(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Kle(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:l}=n,c=E1(n,Dle),u=zr(c);return g.createElement(hse,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:t})}function qle(e){var{showLabels:t,children:r,points:n}=e,a=g.useMemo(()=>n==null?void 0:n.map(s=>{var i,l,c={x:(i=s.x)!==null&&i!==void 0?i:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vn(Vn({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return g.createElement(d1,{value:t?a:void 0},r)}function S_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:l,connectNulls:c,needClip:u,shape:d}=s,f=E1(s,Rle),m=Vn(Vn({},Jt(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:l,connectNulls:c,strokeDasharray:a??s.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(hh,gu({shapeType:"curve",option:d},m,{pathRef:r})),g.createElement(Kle,{points:n,clipPathId:t,props:s}))}function Yle(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Gle(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:m,width:h,height:p,onAnimationEnd:x,onAnimationStart:v}=r,y=a.current,b=td(i,"recharts-line-"),w=g.useRef(b),[j,k]=g.useState(!1),N=!j,_=g.useCallback(()=>{typeof x=="function"&&x(),k(!1)},[x]),S=g.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]),E=Yle(n.current),O=g.useRef(0);w.current!==b&&(O.current=s.current,w.current=b);var C=O.current;return g.createElement(qle,{points:i,showLabels:N},r.children,g.createElement(ed,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:_,onAnimationStart:S,key:b},A=>{var D=Le(C,E+C,A),M=Math.min(D,E),$;if(c)if(l){var I="".concat(l).split(/[,\s]+/gim).map(P=>parseFloat(P));$=Wle(M,E,I)}else $=w5(E,M);else $=l==null?void 0:String(l);if(A>0&&E>0&&(a.current=i,s.current=Math.max(s.current,M)),y){var R=y.length/i.length,T=A===1?i:i.map((P,L)=>{var F=Math.floor(L*R);if(y[F]){var U=y[F];return Vn(Vn({},P),{},{x:Le(U.x,P.x,A),y:Le(U.y,P.y,A)})}return m?Vn(Vn({},P),{},{x:Le(h*2,P.x,A),y:Le(p/2,P.y,A)}):Vn(Vn({},P),{},{x:P.x,y:P.y})});return a.current=T,g.createElement(S_,{props:r,points:T,clipPathId:t,pathRef:n,strokeDasharray:$})}return g.createElement(S_,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:$})}),g.createElement(f1,{label:r.label}))}function Xle(e){var{clipPathId:t,props:r}=e,n=g.useRef(null),a=g.useRef(0),s=g.useRef(null);return g.createElement(Gle,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var Qle=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Ze(e.payload,t)}};class Jle extends g.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:l,left:c,width:u,height:d,id:f,needClip:m,zIndex:h}=this.props;if(t)return null;var p=Ee("recharts-line",a),x=f,{r:v,strokeWidth:y}=Ile(r),b=t5(r),w=v*2+y,j=m?"url(#clipPath-".concat(b?"":"dots-").concat(x,")"):void 0;return g.createElement(ur,{zIndex:h},g.createElement(It,{className:p},m&&g.createElement("defs",null,g.createElement(N1,{clipPathId:x,xAxisId:s,yAxisId:i}),!b&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:d+w}))),g.createElement(k1,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:Qle,errorBarOffset:0},g.createElement(Xle,{props:this.props,clipPathId:x}))),g.createElement(Ise,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var j5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:lt.line,type:"linear"};function Zle(e){var t=ht(e,j5),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:m,xAxisId:h,yAxisId:p,id:x}=t,v=E1(t,Lle),{needClip:y}=ag(h,p),b=j1(),w=Qu(),j=bt(),k=oe(O=>Tle(O,h,p,j,x));if(w!=="horizontal"&&w!=="vertical"||k==null||b==null)return null;var{height:N,width:_,x:S,y:E}=b;return g.createElement(Jle,gu({},v,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:m,xAxisId:h,yAxisId:p,points:k,layout:w,height:N,width:_,left:S,top:E,needClip:y}))}function ece(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Ze(u,i);if(t==="horizontal"){var m=Wm({axis:r,ticks:a,bandSize:l,entry:u,index:d}),h=Ae(f)?null:n.scale(f);return{x:m,y:h,value:f,payload:u}}var p=Ae(f)?null:r.scale(f),x=Wm({axis:n,ticks:s,bandSize:l,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function tce(e){var t=ht(e,j5),r=bt();return g.createElement(b1,{id:t.id,type:"line"},n=>g.createElement(g.Fragment,null,g.createElement(v1,{legendPayload:Ule(t)}),g.createElement(Hle,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),g.createElement(w1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement(Zle,gu({},t,{id:n}))))}var Vf=g.memo(tce,yd);Vf.displayName="Line";var rce=["option","isActive"];function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(null,arguments)}function nce(e,t){if(e==null)return{};var r,n,a=ace(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ace(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sce(e){var{option:t,isActive:r}=e,n=nce(e,rce);return typeof t=="string"?g.createElement(hh,Cc({option:g.createElement(mp,Cc({type:t},n)),isActive:r,shapeType:"symbols"},n)):g.createElement(hh,Cc({option:t,isActive:r,shapeType:"symbols"},n))}var ice=(e,t,r,n,a,s,i)=>na(e,"xAxis",t,i),oce=(e,t,r,n,a,s,i)=>ra(e,"xAxis",t,i),lce=(e,t,r,n,a,s,i)=>na(e,"yAxis",r,i),cce=(e,t,r,n,a,s,i)=>ra(e,"yAxis",r,i),uce=(e,t,r,n)=>kte(e,"zAxis",n,!1),dce=(e,t,r,n,a)=>a,fce=(e,t,r,n,a,s)=>s,mce=(e,t,r,n,a,s,i)=>sd(e,t,r,i),hce=V([od,dce],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),pce=V([mce,ice,oce,lce,cce,uce,hce,fce],(e,t,r,n,a,s,i,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=e;if(i!=null){var f;if((i==null?void 0:i.data)!=null&&i.data.length>0?f=i.data:f=c==null?void 0:c.slice(u,d+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return Pce({displayedData:f,xAxis:t,yAxis:n,zAxis:s,scatterSettings:i,xAxisTicks:r,yAxisTicks:a,cells:l})}}),gce=["onMouseEnter","onClick","onMouseLeave"],yce=["id"],xce=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Kx(e,t){if(e==null)return{};var r,n,a=vce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bce(e,t,r){return(t=wce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wce(e){var t=jce(e,"string");return typeof t=="symbol"?t:t+""}function jce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:El(r,t),payload:e}]},Nce=g.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:El(i,t),hide:l,type:c,color:s,unit:""}};return g.createElement(x1,{tooltipEntrySettings:u})});function Sce(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:s}=r;if(!n)return null;var i=zr(r),l=_l(n),c,u;if(a==="joint")c=t.map(v=>{var y,b;return{x:(y=v.cx)!==null&&y!==void 0?y:null,y:(b=v.cy)!==null&&b!==void 0?b:null}});else if(a==="fitting"){var{xmin:d,xmax:f,a:m,b:h}=Oq(t),p=v=>m*v+h;c=[{x:d,y:p(d)},{x:f,y:p(f)}]}var x=br(br(br({},i),{},{fill:"none",stroke:i&&i.fill},l),{},{points:c});return g.isValidElement(n)?u=g.cloneElement(n,x):typeof n=="function"?u=n(x):u=g.createElement(fw,Hi({},x,{type:s})),g.createElement(It,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function _ce(e){var{showLabels:t,points:r,children:n}=e,a=Cl(),s=g.useMemo(()=>r==null?void 0:r.map(i=>{var l,c,u={x:(l=i.x)!==null&&l!==void 0?l:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:i.width,height:i.height,lowerWidth:i.width,upperWidth:i.width};return br(br({},u),{},{value:void 0,payload:i.payload,viewBox:u,parentViewBox:a,fill:void 0})}),[a,r]);return g.createElement(d1,{value:t?s:void 0},n)}function Ece(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:s}=r,i=oe(Ds),{onMouseEnter:l,onClick:c,onMouseLeave:u}=r,d=Kx(r,gce),f=p1(l,r.dataKey),m=g1(u),h=y1(c,r.dataKey);if(!Hq(t))return null;var{id:p}=r,x=Kx(r,yce),v=zr(x);return g.createElement(g.Fragment,null,g.createElement(Sce,{points:t,props:x}),t.map((y,b)=>{var w=a!=null&&a!==!1,j=w&&i===String(b),k=w&&j?a:n,N=br(br(br({},v),y),{},{[UT]:b,[HT]:String(s)});return g.createElement(ur,{key:"symbol-".concat(y==null?void 0:y.cx,"-").concat(y==null?void 0:y.cy,"-").concat(y==null?void 0:y.size,"-").concat(b),zIndex:j?lt.activeDot:void 0},g.createElement(It,Hi({className:"recharts-scatter-symbol"},Ku(d,y,b),{onMouseEnter:f(y,b),onMouseLeave:m(y,b),onClick:h(y,b)}),g.createElement(sce,Hi({option:k,isActive:j},N))))}))}function Cce(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:l}=r,c=t.current,u=td(r,"recharts-scatter-"),[d,f]=g.useState(!1),m=g.useCallback(()=>{f(!1)},[]),h=g.useCallback(()=>{f(!0)},[]),p=!d;return g.createElement(_ce,{showLabels:p,points:n},r.children,g.createElement(ed,{animationId:u,begin:s,duration:i,isActive:a,easing:l,onAnimationEnd:m,onAnimationStart:h,key:u},x=>{var v=x===1?n:n==null?void 0:n.map((y,b)=>{var w=c&&c[b];return w?br(br({},y),{},{cx:y.cx==null?void 0:Le(w.cx,y.cx,x),cy:y.cy==null?void 0:Le(w.cy,y.cy,x),size:Le(w.size,y.size,x)}):br(br({},y),{},{size:Le(0,y.size,x)})});return x>0&&(t.current=v),g.createElement(It,null,g.createElement(Ece,{points:v,allOtherScatterProps:r,showLabels:p}))}),g.createElement(f1,{label:r.label}))}function Pce(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:i,yAxisTicks:l,cells:c}=e,u=Ae(r.dataKey)?s.dataKey:r.dataKey,d=Ae(n.dataKey)?s.dataKey:n.dataKey,f=a&&a.dataKey,m=a?a.range:jD.range,h=m&&m[0],p=r.scale.bandwidth?r.scale.bandwidth():0,x=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((v,y)=>{var b=Ze(v,u),w=Ze(v,d),j=!Ae(f)&&Ze(v,f)||"-",k=[{name:Ae(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:b,payload:v,dataKey:u,type:s.tooltipType},{name:Ae(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:w,payload:v,dataKey:d,type:s.tooltipType}];j!=="-"&&k.push({name:a.name||a.dataKey,unit:a.unit||"",value:j,payload:v,dataKey:f,type:s.tooltipType});var N=Wm({axis:r,ticks:i,bandSize:p,entry:v,index:y,dataKey:u}),_=Wm({axis:n,ticks:l,bandSize:x,entry:v,index:y,dataKey:d}),S=j!=="-"?a.scale(j):h,E=Math.sqrt(Math.max(S,0)/Math.PI);return br(br({},v),{},{cx:N,cy:_,x:N==null?void 0:N-E,y:_==null?void 0:_-E,width:2*E,height:2*E,size:S,node:{x:b,y:w,z:j},tooltipPayload:k,tooltipPosition:{x:N,y:_},payload:v},c&&c[y]&&c[y].props)})}var Oce=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Ze(e,t)});function Ace(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:s,yAxisId:i,id:l}=e,c=g.useRef(null);if(t)return null;var u=Ee("recharts-scatter",n),d=l;return g.createElement(ur,{zIndex:e.zIndex},g.createElement(It,{className:u,clipPath:a?"url(#clipPath-".concat(d,")"):void 0,id:l},a&&g.createElement("defs",null,g.createElement(N1,{clipPathId:d,xAxisId:s,yAxisId:i})),g.createElement(k1,{xAxisId:s,yAxisId:i,data:r,dataPointFormatter:Oce,errorBarOffset:0},g.createElement(It,{key:"recharts-scatter-symbols"},g.createElement(Cce,{props:e,previousPointsRef:c})))))}var k5={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:lt.scatter};function Mce(e){var t=ht(e,k5),{animationBegin:r,animationDuration:n,animationEasing:a,hide:s,isAnimationActive:i,legendType:l,lineJointType:c,lineType:u,shape:d,xAxisId:f,yAxisId:m,zAxisId:h}=t,p=Kx(t,xce),{needClip:x}=ag(f,m),v=g.useMemo(()=>e5(e.children,l1),[e.children]),y=bt(),b=oe(w=>pce(w,f,m,h,e.id,v,y));return x==null||b==null?null:g.createElement(g.Fragment,null,g.createElement(Nce,{dataKey:e.dataKey,points:b,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),g.createElement(Ace,Hi({},p,{xAxisId:f,yAxisId:m,zAxisId:h,lineType:u,lineJointType:c,legendType:l,shape:d,hide:s,isAnimationActive:i,animationBegin:r,animationDuration:n,animationEasing:a,points:b,needClip:x})))}function Tce(e){var t=ht(e,k5),r=bt();return g.createElement(b1,{id:t.id,type:"scatter"},n=>g.createElement(g.Fragment,null,g.createElement(v1,{legendPayload:kce(t)}),g.createElement(w1,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),g.createElement(Mce,Hi({},t,{id:n}))))}var qx=g.memo(Tce,yd);qx.displayName="Scatter";var Ice=["domain","range"],Dce=["domain","range"];function E_(e,t){if(e==null)return{};var r,n,a=Rce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function C_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function N5(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=E_(e,Ice),{domain:s,range:i}=t,l=E_(t,Dce);return!C_(r,s)||!C_(n,i)?!1:yd(a,l)}var Lce=["dangerouslySetInnerHTML","ticks"],$ce=["id"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(null,arguments)}function P_(e,t){if(e==null)return{};var r,n,a=zce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fce(e){var t=Ye(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(vse(e)):r.current!==e&&t(bse({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(wse(r.current)),r.current=null)},[t]),null}var Bce=e=>{var{xAxisId:t,className:r}=e,n=oe(iw),a=bt(),s="xAxis",i=oe(v=>Is(v,s,t,a)),l=oe(v=>r4(v,s,t,a)),c=oe(v=>JD(v,t)),u=oe(v=>yte(v,t)),d=oe(v=>bD(v,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:m}=e,h=P_(e,Lce),{id:p}=d,x=P_(d,$ce);return g.createElement(_1,Yx({},h,x,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:Ee("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},Uce={allowDataOverflow:Et.allowDataOverflow,allowDecimals:Et.allowDecimals,allowDuplicatedCategory:Et.allowDuplicatedCategory,angle:Et.angle,axisLine:Ca.axisLine,height:Et.height,hide:!1,includeHidden:Et.includeHidden,interval:Et.interval,minTickGap:Et.minTickGap,mirror:Et.mirror,orientation:Et.orientation,padding:Et.padding,reversed:Et.reversed,scale:Et.scale,tick:Et.tick,tickCount:Et.tickCount,tickLine:Ca.tickLine,tickSize:Ca.tickSize,type:Et.type,xAxisId:0},Hce=e=>{var t=ht(e,Uce);return g.createElement(g.Fragment,null,g.createElement(Fce,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(Bce,t))},pc=g.memo(Hce,N5);pc.displayName="XAxis";var Vce=["dangerouslySetInnerHTML","ticks"],Wce=["id"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(null,arguments)}function O_(e,t){if(e==null)return{};var r,n,a=Kce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qce(e){var t=Ye(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(jse(e)):r.current!==e&&t(kse({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Nse(r.current)),r.current=null)},[t]),null}var Yce=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=g.useRef(null),i=g.useRef(null),l=oe(iw),c=bt(),u=Ye(),d="yAxis",f=oe(k=>Is(k,d,t,c)),m=oe(k=>ZD(k,t)),h=oe(k=>vte(k,t)),p=oe(k=>r4(k,d,t,c)),x=oe(k=>wD(k,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!m||u1(a)||g.isValidElement(a)||x==null)){var k=s.current;if(k){var N=k.getCalculatedWidth();Math.round(m.width)!==Math.round(N)&&u(Sse({id:t,width:N}))}}},[p,m,u,a,t,n,x]),m==null||h==null||x==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,b=O_(e,Vce),{id:w}=x,j=O_(x,Wce);return g.createElement(_1,Gx({},b,j,{ref:s,labelRef:i,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ee("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))},Gce={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:Ct.allowDecimals,allowDuplicatedCategory:Ct.allowDuplicatedCategory,angle:Ct.angle,axisLine:Ca.axisLine,hide:!1,includeHidden:Ct.includeHidden,interval:Ct.interval,minTickGap:Ct.minTickGap,mirror:Ct.mirror,orientation:Ct.orientation,padding:Ct.padding,reversed:Ct.reversed,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,tickLine:Ca.tickLine,tickSize:Ca.tickSize,type:Ct.type,width:Ct.width,yAxisId:0},Xce=e=>{var t=ht(e,Gce);return g.createElement(g.Fragment,null,g.createElement(qce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(Yce,t))},gc=g.memo(Xce,N5);gc.displayName="YAxis";var Qce=(e,t)=>t,C1=V([Qce,Ce,xD,kt,x4,Ya,Dre,Dt],Ure),P1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},S5=sn("mouseClick"),_5=Gu();_5.startListening({actionCreator:S5,effect:(e,t)=>{var r=e.payload,n=C1(t.getState(),P1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Ite({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Xx=sn("mouseMove"),E5=Gu(),gf=null;E5.startListening({actionCreator:Xx,effect:(e,t)=>{var r=e.payload;gf!==null&&cancelAnimationFrame(gf);var n=P1(r);gf=requestAnimationFrame(()=>{var a=t.getState(),s=Qw(a,a.tooltip.settings.shared);if(s==="axis"){var i=C1(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(u4({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(c4())}gf=null})}});var A_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},C5=Er({name:"rootProps",initialState:A_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:A_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Jce=C5.reducer,{updateOptions:Zce}=C5.actions,P5=Er({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tme}=P5.actions,eue=P5.reducer,O5=sn("keyDown"),A5=sn("focus"),O1=Gu();O1.startListening({actionCreator:O5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=Jw(a,Il(r),cd(r),hd(r)),l=i==null?-1:Number(i);if(!(!Number.isFinite(l)||l<0)){var c=Ya(r);if(s==="Enter"){var u=uh(r,"axis","hover",String(a.index));t.dispatch(zx({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:u}));return}var d=Nte(r),f=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,h=l+m*f;if(!(c==null||h>=c.length||h<0)){var p=uh(r,"axis","hover",String(h));t.dispatch(zx({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}}});O1.startListening({actionCreator:A5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=uh(r,"axis","hover",String(s));t.dispatch(zx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var qr=sn("externalEvent"),M5=Gu(),v0=new Map;M5.startListening({actionCreator:qr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=v0.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:vre(l),activeDataKey:j4(l),activeIndex:Ds(l),activeLabel:w4(l),activeTooltipIndex:Ds(l),isTooltipActive:bre(l)};r(c,n)}finally{v0.delete(a)}});v0.set(a,i)}}});var tue=V([Tl],e=>e.tooltipItemPayloads),rue=V([tue,fd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),T5=sn("touchMove"),I5=Gu();I5.startListening({actionCreator:T5,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Qw(n,n.tooltip.settings.shared);if(a==="axis"){var s=C1(n,P1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(u4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,l=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(UT),d=(i=c.getAttribute(HT))!==null&&i!==void 0?i:void 0,f=rue(t.getState(),u,d);t.dispatch(l4({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var nue=uT({brush:voe,cartesianAxis:_se,chartData:xne,errorBars:Kse,graphicalItems:ase,layout:bG,legend:EX,options:mne,polarAxis:Aae,polarOptions:eue,referenceElements:Ooe,rootProps:Jce,tooltip:Dte,zIndex:rne}),aue=function(t){return WY({reducer:nue,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([_5.middleware,E5.middleware,O1.middleware,M5.middleware,I5.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(ST({type:"raf"}))},devTools:Zu.devToolsEnabled})};function sue(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=bt(),s=g.useRef(null);if(a)return r;s.current==null&&(s.current=aue(t));var i=Gb;return g.createElement(bie,{context:i,store:s.current},r)}function iue(e){var{layout:t,margin:r}=e,n=Ye(),a=bt();return g.useEffect(()=>{a||(n(yG(t)),n(gG(r)))},[n,a,t,r]),null}var oue=g.memo(iue,yd);function lue(e){var t=Ye();return g.useEffect(()=>{t(Zce(e))},[t,e]),null}function M_(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=n5("".concat(n).concat(t)),s=Ye();return g.useLayoutEffect(()=>(s(ene({zIndex:t,elementId:a,isPanorama:r})),()=>{s(tne({zIndex:t,isPanorama:r}))}),[s,t,a,r]),g.createElement("g",{tabIndex:-1,id:a})}function T_(e){var{children:t,isPanorama:r}=e,n=oe(Vre);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return g.createElement(g.Fragment,null,a.map(i=>g.createElement(M_,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>g.createElement(M_,{key:i,zIndex:i,isPanorama:r})))}var cue=["children"];function uue(e,t){if(e==null)return{};var r,n,a=due(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function due(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(null,arguments)}var fue={width:"100%",height:"100%",display:"block"},mue=g.forwardRef((e,t)=>{var r=lw(),n=cw(),a=iI();if(!ea(r)||!ea(n))return null;var{children:s,otherAttributes:i,title:l,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0),g.createElement(Ib,wh({},i,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:fue,ref:t}),s)}),hue=e=>{var{children:t}=e,r=oe(Ep);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return g.createElement(Ib,{width:n,height:a,x:i,y:s},t)},I_=g.forwardRef((e,t)=>{var{children:r}=e,n=uue(e,cue),a=bt();return a?g.createElement(hue,null,g.createElement(T_,{isPanorama:!0},r)):g.createElement(mue,wh({ref:t},n),g.createElement(T_,{isPanorama:!1},r))});function pue(){var e=Ye(),[t,r]=g.useState(null),n=oe($G);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ue(s)&&s!==n&&e(vG(s))}},[t,e,n]),r}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yue(e,t,r){return(t=xue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(null,arguments)}var bue=()=>(Ene(),null);function jh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var wue=g.forwardRef((e,t)=>{var r,n,a=g.useRef(null),[s,i]=g.useState({containerWidth:jh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:jh((n=e.style)===null||n===void 0?void 0:n.height)}),l=g.useCallback((u,d)=>{i(f=>{var m=Math.round(u),h=Math.round(d);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),c=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var m=p=>{var{width:x,height:v}=p[0].contentRect;l(x,v)},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,l]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),g.createElement(g.Fragment,null,g.createElement(Cp,{width:s.containerWidth,height:s.containerHeight}),g.createElement("div",Vi({ref:c},e)))}),jue=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=g.useState({containerWidth:jh(r),containerHeight:jh(n)}),i=g.useCallback((c,u)=>{s(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),l=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return g.createElement(g.Fragment,null,g.createElement(Cp,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Vi({ref:l},e)))}),kue=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(Cp,{width:r,height:n}),g.createElement("div",Vi({ref:t},e)))}),Nue=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ra(r)||Ra(n)?g.createElement(jue,Vi({},e,{ref:t})):g.createElement(kue,Vi({},e,{ref:t}))});function Sue(e){return e===!0?wue:Nue}var _ue=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:p,onTouchStart:x,style:v,width:y,responsive:b,dispatchTouchEvents:w=!0}=e,j=g.useRef(null),k=Ye(),[N,_]=g.useState(null),[S,E]=g.useState(null),O=pue(),C=ow(),A=(C==null?void 0:C.width)>0?C.width:y,D=(C==null?void 0:C.height)>0?C.height:a,M=g.useCallback(B=>{O(B),typeof t=="function"&&t(B),_(B),E(B),B!=null&&(j.current=B)},[O,t,_,E]),$=g.useCallback(B=>{k(S5(B)),k(qr({handler:s,reactEvent:B}))},[k,s]),I=g.useCallback(B=>{k(Xx(B)),k(qr({handler:u,reactEvent:B}))},[k,u]),R=g.useCallback(B=>{k(c4()),k(qr({handler:d,reactEvent:B}))},[k,d]),T=g.useCallback(B=>{k(Xx(B)),k(qr({handler:f,reactEvent:B}))},[k,f]),P=g.useCallback(()=>{k(A5())},[k]),L=g.useCallback(B=>{k(O5(B.key))},[k]),F=g.useCallback(B=>{k(qr({handler:i,reactEvent:B}))},[k,i]),U=g.useCallback(B=>{k(qr({handler:l,reactEvent:B}))},[k,l]),q=g.useCallback(B=>{k(qr({handler:c,reactEvent:B}))},[k,c]),Y=g.useCallback(B=>{k(qr({handler:m,reactEvent:B}))},[k,m]),re=g.useCallback(B=>{k(qr({handler:x,reactEvent:B}))},[k,x]),ne=g.useCallback(B=>{w&&k(T5(B)),k(qr({handler:p,reactEvent:B}))},[k,w,p]),G=g.useCallback(B=>{k(qr({handler:h,reactEvent:B}))},[k,h]),Q=Sue(b);return g.createElement(P4.Provider,{value:N},g.createElement(hM.Provider,{value:S},g.createElement(Q,{width:A??(v==null?void 0:v.width),height:D??(v==null?void 0:v.height),className:Ee("recharts-wrapper",n),style:gue({position:"relative",cursor:"default",width:A,height:D},v),onClick:$,onContextMenu:F,onDoubleClick:U,onFocus:P,onKeyDown:L,onMouseDown:q,onMouseEnter:I,onMouseLeave:R,onMouseMove:T,onMouseUp:Y,onTouchEnd:G,onTouchMove:ne,onTouchStart:re,ref:M},g.createElement(bue,null),r)))}),Eue=["width","height","responsive","children","className","style","compact","title","desc"];function Cue(e,t){if(e==null)return{};var r,n,a=Pue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oue=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:l,compact:c,title:u,desc:d}=e,f=Cue(e,Eue),m=zr(f);return c?g.createElement(g.Fragment,null,g.createElement(Cp,{width:r,height:n}),g.createElement(I_,{otherAttributes:m,title:u,desc:d},s)):g.createElement(_ue,{className:i,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(I_,{otherAttributes:m,title:u,desc:d,ref:t},g.createElement(Aoe,null,s)))});function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(null,arguments)}var Aue={top:5,right:5,bottom:5,left:5},Mue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Aue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},A1=g.forwardRef(function(t,r){var n,a=ht(t.categoricalChartProps,Mue),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(sue,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},g.createElement(xoe,{chartData:u.data}),g.createElement(oue,{layout:a.layout,margin:a.margin}),g.createElement(lue,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(Oue,Qx({},a,{ref:r})))}),Tue=["axis"],Iue=g.forwardRef((e,t)=>g.createElement(A1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tue,tooltipPayloadSearcher:o1,categoricalChartProps:e,ref:t})),Due=["axis","item"],Rue=g.forwardRef((e,t)=>g.createElement(A1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Due,tooltipPayloadSearcher:o1,categoricalChartProps:e,ref:t})),Lue=["item"],R_=g.forwardRef((e,t)=>g.createElement(A1,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Lue,tooltipPayloadSearcher:o1,categoricalChartProps:e,ref:t}));const vs={deployModel:async e=>(await at.post(`/deployment/deploy/${e}`)).data,getActive:async()=>{try{return(await at.get("/deployment/active")).data}catch(e){const t=e;if(t.response&&t.response.status===404)return null;throw e}},getHistory:async(e=50,t=0)=>(await at.get("/deployment/history",{params:{limit:e,skip:t}})).data,deactivate:async()=>{await at.post("/deployment/deactivate")},predict:async e=>(await at.post("/deployment/predict",{data:e})).data},$ue=()=>{var pe,Te,dr,Vr;const{jobs:e,fetchJobs:t,hasMore:r,loadMoreJobs:n,isLoading:a}=Sl(),[s,i]=g.useState([]),[l,c]=g.useState("all"),[u,d]=g.useState([]),[f,m]=g.useState("all"),[h,p]=g.useState(null),[x,v]=g.useState(!0),[y,b]=g.useState(!0),[w,j]=g.useState(!0),[k,N]=g.useState(!0),[_,S]=g.useState(!0),[E,O]=g.useState("charts"),[C,A]=g.useState(null),[D,M]=g.useState(!1),[$,I]=g.useState(null),[R,T]=g.useState(null),[P,L]=g.useState(null);g.useEffect(()=>{t(),F()},[t]),g.useEffect(()=>{var H,Z,me;if((Z=(H=C==null?void 0:C.splits.train)==null?void 0:H.y_proba)!=null&&Z.classes&&C.splits.train.y_proba.classes.length>0){const ue=C.splits.train.y_proba,ke=((me=ue.labels)==null?void 0:me[0])??ue.classes[0];L(String(ke))}},[C]);const F=async()=>{try{const H=await at.get("/pipeline/datasets/list");d(H.data)}catch(H){console.error("Failed to fetch datasets",H)}},U=async(H,Z)=>{if(H.stopPropagation(),!!confirm("Are you sure you want to deploy this model to production?"))try{await vs.deployModel(Z),alert("Model deployed successfully!")}catch(me){alert("Failed to deploy model"),console.error(me)}},q=async H=>{var Z,me;M(!0),A(null),I(null),T(H);try{const ue=await at.get(`/pipeline/jobs/${H}/evaluation`);A(ue.data)}catch(ue){console.error("Failed to fetch evaluation data",ue),I(((me=(Z=ue.response)==null?void 0:Z.data)==null?void 0:me.detail)||"Failed to fetch evaluation data")}finally{M(!1)}},Y=(H,Z,me)=>{const ue=me&&me.length>0?[...me]:Array.from(new Set([...H,...Z])).sort((tt,fr)=>String(tt).localeCompare(String(fr))),ke=ue.map(tt=>ue.map(fr=>H.reduce((pt,un,St)=>{const gt=Z[St];return String(un)===String(tt)&&String(gt)===String(fr)?pt+1:pt},0)));return{classes:ue,matrix:ke}},re=(H,Z,me)=>{const ue=String(me),tt=((Z.labels&&Z.labels.length===Z.classes.length?Z.labels:void 0)??Z.classes).findIndex(_t=>String(_t)===ue);if(tt===-1)return null;const pt=Z.values.map(_t=>_t[tt]).map((_t,Ga)=>({score:_t,actual:String(H[Ga])===ue?1:0}));pt.sort((_t,Ga)=>Ga.score-_t.score);const un=[];let St=0,gt=0;const dn=pt.filter(_t=>_t.actual===1).length,qs=pt.length-dn;if(dn===0||qs===0)return null;un.push({fpr:0,tpr:0});for(let _t=0;_t<pt.length;_t++)pt[_t].actual===1?St++:gt++,un.push({fpr:gt/qs,tpr:St/dn});return un};g.useEffect(()=>{E==="evaluation"&&(!R&&s.length>0||R&&!s.includes(R)&&s.length>0?q(s[0]):s.length===0&&(A(null),T(null)))},[E,s,R]);const ne=e.filter(H=>{const Z=l==="all"||H.job_type===l,me=f==="all"||H.dataset_id===f,ue=H.status==="completed";return Z&&me&&ue}),G=e.filter(H=>s.includes(H.job_id)),Q=H=>{i(Z=>Z.includes(H)?Z.filter(me=>me!==H):[...Z,H])},B=G.map(H=>{var me;const Z=H.metrics||((me=H.result)==null?void 0:me.metrics)||{};return{name:H.job_id,...Z}}),te=Array.from(new Set(G.flatMap(H=>{var me;const Z=H.metrics||((me=H.result)==null?void 0:me.metrics)||{};return Object.keys(Z).filter(ue=>{const ke=Z[ue];return typeof ke=="number"&&!isNaN(ke)})}))).filter(H=>!(H.startsWith("train_")&&!x||H.startsWith("test_")&&!y||H.startsWith("val_")&&!w)),J=(H,Z)=>{if(!H||!Z)return"-";const me=new Date(Z).getTime()-new Date(H).getTime(),ue=Math.floor(me/1e3);return ue<60?`${ue}s`:`${Math.floor(ue/60)}m ${ue%60}s`},K=H=>H==="best_score"?{type:"val",base:"best_score"}:H.startsWith("train_")?{type:"train",base:H.replace("train_","")}:H.startsWith("test_")?{type:"test",base:H.replace("test_","")}:H.startsWith("val_")?{type:"val",base:H.replace("val_","")}:{type:"other",base:H},ae=new Map;te.forEach(H=>{var me;const{base:Z}=K(H);ae.has(Z)||ae.set(Z,[]),(me=ae.get(Z))==null||me.push(H)}),ae.forEach((H,Z)=>{ae.set(Z,H.sort())});const ce=Array.from(ae.keys()).sort(),ge=h&&ce.includes(h)?h:ce[0]||null;return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:"Experiments & Comparison"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Compare metrics and parameters across multiple runs"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:f,onChange:H=>{m(H.target.value)},children:[o.jsx("option",{value:"all",children:"All Datasets"}),u.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]}),o.jsxs("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5",value:l,onChange:H=>{c(H.target.value)},children:[o.jsx("option",{value:"all",children:"All Experiments"}),o.jsx("option",{value:"tuning",children:"Model Optimization"}),o.jsx("option",{value:"training",children:"Standard Training"})]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-xs font-medium text-gray-500 uppercase",children:["Select Runs to Compare (",s.length,")"]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[ne.map(H=>{var Z,me;return o.jsxs("div",{onClick:()=>{Q(H.job_id)},className:`p-3 border-b border-gray-100 dark:border-gray-700 cursor-pointer transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${s.includes(H.job_id)?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsxs("span",{className:"font-mono text-xs font-semibold text-gray-700 dark:text-gray-300 break-all",children:["#",H.version," - ",H.job_id]}),o.jsxs("div",{className:"flex items-center gap-2",children:[H.status==="completed"&&(H.job_type==="training"||H.job_type==="tuning")&&o.jsx("button",{onClick:ue=>{U(ue,H.job_id)},className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900 rounded text-blue-600 dark:text-blue-400",title:"Deploy to Test",children:o.jsx(Uh,{className:"w-3 h-3"})}),o.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded capitalize ${H.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":H.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:H.status})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[H.model_type,"  ",H.dataset_name||"Unknown Dataset",H.job_type==="tuning"&&(H.search_strategy||((Z=H.config.tuning)==null?void 0:Z.strategy))&&o.jsxs("span",{className:"ml-1 text-gray-400",children:["(",H.search_strategy||((me=H.config.tuning)==null?void 0:me.strategy),")"]})]}),o.jsxs("div",{className:"flex justify-between items-center text-[10px] text-gray-400",children:[o.jsx("span",{children:new Date(H.start_time||H.created_at).toLocaleString()}),o.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded text-gray-600 dark:text-gray-300",children:J(H.start_time,H.end_time)})]})]},H.job_id)}),r&&o.jsx("div",{className:"p-2 flex justify-center border-t border-gray-100 dark:border-gray-700",children:o.jsxs("button",{onClick:()=>n(),disabled:a,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline disabled:opacity-50 flex items-center gap-1",children:[a?o.jsx(Ti,{className:"w-3 h-3 animate-spin"}):o.jsx(Ht,{className:"w-3 h-3"}),"Load More"]})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:G.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[o.jsx(DP,{className:"w-12 h-12 mb-4 opacity-20"}),o.jsx("p",{children:"Select runs from the sidebar to compare them."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="charts"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{O("charts")},children:"Visual Comparison"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="table"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{O("table")},children:"Detailed Metrics & Params"}),o.jsx("button",{className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${E==="evaluation"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{O("evaluation")},children:"Model Evaluation"})]}),E==="charts"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Metrics Comparison"}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:H=>{v(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:H=>{b(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:H=>{j(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]})]}),ce.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 dark:border-gray-700 pb-2",children:ce.map(H=>o.jsx("button",{onClick:()=>{p(H)},className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${ge===H?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:H.toUpperCase()},H))}),ge&&ae.has(ge)&&o.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs(Rue,{data:B,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(hc,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),o.jsx(pc,{dataKey:"name",stroke:"#6B7280",fontSize:12}),o.jsx(gc,{stroke:"#6B7280",fontSize:12}),o.jsx(mf,{shared:!1,cursor:{fill:"rgba(107, 114, 128, 0.1)"},contentStyle:{backgroundColor:"#1F2937",borderColor:"#374151",color:"#F3F4F6"},itemStyle:{color:"#F3F4F6"}}),o.jsx(sI,{}),(pe=ae.get(ge))==null?void 0:pe.map(H=>{const{type:Z}=K(H);let me="#8884d8";return Z==="train"&&(me="#3b82f6"),Z==="test"&&(me="#22c55e"),Z==="val"&&(me="#f97316"),Z==="other"&&(me="#a855f7"),o.jsx(l5,{dataKey:H,fill:me,name:`${Z} (${ge})`},H)})]})})})})]}),E==="table"&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in duration-300",children:[o.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Detailed Comparison"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs text-left",children:[o.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900/50 dark:text-gray-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Parameter / Metric"}),G.map(H=>o.jsx("th",{className:"px-4 py-2 font-mono break-all min-w-[100px]",children:H.job_id},H.job_id))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[o.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[o.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100",children:"Model Type"}),G.map(H=>o.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:H.model_type},H.job_id))]}),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{N(!k)},children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:G.length+1,children:[k?o.jsx(Ht,{className:"w-3 h-3"}):o.jsx(Ia,{className:"w-3 h-3"}),"Key Metrics"]})}),k&&te.map(H=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:H}),G.map(Z=>{var ke;const ue=(Z.metrics||((ke=Z.result)==null?void 0:ke.metrics)||{})[H];return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:typeof ue=="number"?ue.toFixed(4):"-"},Z.job_id)})]},H)),o.jsx("tr",{className:"bg-gray-50/50 dark:bg-gray-900/20 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-colors",onClick:()=>{S(!_)},children:o.jsxs("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",colSpan:G.length+1,children:[_?o.jsx(Ht,{className:"w-3 h-3"}):o.jsx(Ia,{className:"w-3 h-3"}),"Hyperparameters"]})}),_&&Array.from(new Set(G.flatMap(H=>Object.keys(H.hyperparameters||{})))).map(H=>o.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[o.jsx("td",{className:"px-4 py-1.5 text-gray-500 dark:text-gray-400 pl-8",children:H}),G.map(Z=>{var me;return o.jsx("td",{className:"px-4 py-1.5 font-mono text-gray-600 dark:text-gray-300",children:String(((me=Z.hyperparameters)==null?void 0:me[H])??"-")},Z.job_id)})]},H))]})]})})]}),E==="evaluation"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.length>1&&o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:s.map(H=>o.jsx("button",{onClick:()=>{q(H)},className:`px-3 py-1 text-xs font-mono rounded border whitespace-nowrap ${R===H?"bg-blue-100 border-blue-300 text-blue-700 dark:bg-blue-900/30 dark:border-blue-700 dark:text-blue-300":"bg-white border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400"}`,children:H},H))}),D?o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400",children:[o.jsx(_r,{className:"w-6 h-6 animate-spin mr-2"}),"Loading evaluation data..."]}):$?o.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[o.jsx("p",{className:"font-medium",children:"Error loading evaluation data"}),o.jsx("p",{className:"text-sm mt-2 opacity-80",children:$})]}):C?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:H=>{v(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Train"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:H=>{b(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Test"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:H=>{j(H.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Validation"})]})]}),C.problem_type==="classification"&&((Te=C.splits.train)==null?void 0:Te.y_proba)&&(()=>{const H=C.splits.train.y_proba;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Target Class (ROC):"}),o.jsx("select",{className:"bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-1.5",value:P||"",onChange:Z=>{L(Z.target.value)},children:H.classes.map((Z,me)=>{var ke;const ue=((ke=H.labels)==null?void 0:ke[me])??Z;return o.jsx("option",{value:String(ue),children:String(ue)},String(Z))})})]})})()]}),C.problem_type==="classification"&&((Vr=(dr=C.splits.train)==null?void 0:dr.y_proba)==null?void 0:Vr.labels)&&(()=>{const H=C.splits.train.y_proba;return o.jsxs("div",{className:"w-full text-xs text-gray-500 dark:text-gray-400",children:["Mapping: ",H.classes.map((Z,me)=>{var ue;return`${String(Z)}${String(((ue=H.labels)==null?void 0:ue[me])??Z)}`}).join(", ")]})})()]}),o.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(C.splits).filter(([H])=>!(H==="train"&&!x||H==="test"&&!y||H==="validation"&&!w)).map(([H,Z])=>{const me=Z.y_true.map((ue,ke)=>({x:ue,y:Z.y_pred[ke]}));return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 capitalize",children:[H," Set"]}),C.problem_type==="regression"?o.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Actual vs Predicted"}),o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs(R_,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(hc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(pc,{type:"number",dataKey:"x",name:"Actual",unit:"",label:{value:"Actual Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(gc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(mf,{cursor:{strokeDasharray:"3 3"},content:({active:ue,payload:ke})=>{if(ue&&ke&&ke.length){const tt=ke[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Actual: ",tt.x.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Predicted: ",tt.y.toFixed(4)]}),o.jsxs("p",{className:"text-gray-500",children:["Error: ",(tt.y-tt.x).toFixed(4)]})]})}return null}}),o.jsx(Vf,{dataKey:"x",stroke:"#ccc",strokeDasharray:"3 3",dot:!1,activeDot:!1,legendType:"none",isAnimationActive:!1}),o.jsx(qx,{name:"Predictions",data:me,fill:"#8884d8",fillOpacity:.6})]})})]}),o.jsxs("div",{className:"h-[300px]",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"Residuals vs Predicted"}),o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs(R_,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(hc,{strokeDasharray:"3 3",opacity:.2}),o.jsx(pc,{type:"number",dataKey:"y",name:"Predicted",unit:"",label:{value:"Predicted Values",position:"bottom",offset:0,fontSize:12},tick:{fontSize:11}}),o.jsx(gc,{type:"number",dataKey:"residual",name:"Residual",unit:"",label:{value:"Residuals (Actual - Predicted)",angle:-90,position:"left",fontSize:12},tick:{fontSize:11}}),o.jsx(mf,{cursor:{strokeDasharray:"3 3"},content:({active:ue,payload:ke})=>{if(ue&&ke&&ke.length){const tt=ke[0].payload;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-2 border border-gray-200 dark:border-gray-700 shadow-sm rounded text-xs",children:[o.jsxs("p",{className:"font-medium",children:["Predicted: ",tt.y.toFixed(4)]}),o.jsxs("p",{className:"font-medium",children:["Residual: ",tt.residual.toFixed(4)]})]})}return null}}),o.jsx(h5,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),o.jsx(qx,{name:"Residuals",data:me.map(ue=>{const ke=ue;return{...ke,residual:ke.x-ke.y}}),fill:"#82ca9d",fillOpacity:.6})]})})]})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"h-[300px] flex flex-col items-center justify-center",children:(()=>{const ue=Z.y_proba,ke=ue==null?void 0:ue.classes;let tt=Z.y_true,fr=Z.y_pred;if(ue!=null&&ue.labels&&ue.labels.length===ue.classes.length){const St=new Map;ue.labels.forEach((gt,dn)=>{St.set(String(gt),ue.classes[dn])}),tt=Z.y_true.map(gt=>St.get(String(gt))??gt),fr=Z.y_pred.map(gt=>St.get(String(gt))??gt)}const{classes:pt,matrix:un}=Y(tt,fr,ke);return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-8"})," ",o.jsxs("div",{className:"flex ml-2",children:[" ",pt.map(St=>o.jsxs("div",{className:"w-16 text-center text-xs font-medium text-gray-500 dark:text-gray-400 pb-2",children:["Pred ",String(St)]},String(St)))]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex flex-col justify-center mr-2",children:pt.map(St=>o.jsxs("div",{className:"h-16 flex items-center justify-end text-xs font-medium text-gray-500 dark:text-gray-400 pr-2",children:["True ",String(St)]},String(St)))}),o.jsx("div",{className:"border border-gray-200 dark:border-gray-700",children:un.map((St,gt)=>o.jsx("div",{className:"flex",children:St.map((dn,qs)=>{const _t=Math.max(...un.flat()),Ga=_t>0?dn/_t:0;return o.jsx("div",{className:"w-16 h-16 flex items-center justify-center text-sm font-mono border border-gray-100 dark:border-gray-800",style:{backgroundColor:`rgba(59, 130, 246, ${Ga*.8+.1})`,color:Ga>.5?"white":"inherit"},title:`True: ${pt[gt]}, Pred: ${pt[qs]}, Count: ${dn}`,children:dn},qs)})},gt))})]}),o.jsx("div",{className:"mt-4 text-xs text-gray-400",children:"Confusion Matrix"})]})})()}),Z.y_proba&&o.jsxs("div",{className:"h-[300px] w-full",children:[o.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2 text-center",children:"ROC Curve"}),(()=>{if(!P)return o.jsx("div",{className:"text-center text-xs text-gray-400",children:"Select a class"});const ue=re(Z.y_true,Z.y_proba,P);return ue?o.jsx(sf,{width:"100%",height:"100%",children:o.jsxs(Iue,{data:ue,margin:{top:5,right:20,bottom:20,left:20},children:[o.jsx(hc,{strokeDasharray:"3 3",opacity:.1}),o.jsx(pc,{type:"number",dataKey:"fpr",domain:[0,1],label:{value:"False Positive Rate",position:"bottom",offset:0,fontSize:12}}),o.jsx(gc,{type:"number",dataKey:"tpr",domain:[0,1],label:{value:"True Positive Rate",angle:-90,position:"left",fontSize:12}}),o.jsx(mf,{}),o.jsx(Vf,{type:"monotone",dataKey:"tpr",stroke:"#8884d8",dot:!1,strokeWidth:2}),o.jsx(Vf,{dataKey:"fpr",stroke:"#ccc",strokeDasharray:"3 3",dot:!1})]})}):o.jsx("div",{className:"text-center text-xs text-gray-400",children:"ROC not available (multiclass or missing proba)"})})()]})]})]},H)})})]}):o.jsxs("div",{className:"h-64 flex items-center justify-center text-gray-400 italic text-center",children:[o.jsx("p",{children:"Select a completed job to view evaluation details."}),o.jsx("p",{className:"text-xs mt-2 opacity-70",children:"(Note: Only jobs run after this update have evaluation artifacts)"})]})]})]})})]})]})},zue=()=>{const[e,t]=g.useState(null),[r,n]=g.useState(`[
  {
    "feature1": 0.5,
    "feature2": 1.2
  }
]`),[a,s]=g.useState(null),[i,l]=g.useState(!1),[c,u]=g.useState(null),[d,f]=g.useState(null);g.useEffect(()=>{m()},[]);const m=async()=>{try{const x=await vs.getActive();if(t(x),x&&x.job_id)try{const v=await Mt.getJob(x.job_id);if(v.dataset_id){const y=v.target_column,b=v.dropped_columns||[],w=await En.getSample(v.dataset_id,1);if(w.length>0){const j=w.map(N=>{const S={...N&&typeof N=="object"?N:{}};return typeof y=="string"&&y in S&&Reflect.deleteProperty(S,y),b.forEach(E=>{typeof E=="string"&&E in S&&Reflect.deleteProperty(S,E)}),S});n(JSON.stringify(j,null,2));const k=[];y&&k.push(`Target: ${y}`),b.length>0&&k.push(`Dropped: ${b.length} cols`),k.length>0&&f(`Auto-filtered: ${k.join(", ")}`)}}}catch(v){console.warn("Failed to fetch dataset sample for inference auto-fill",v)}}catch{t(null)}},h=async()=>{if(confirm("Are you sure you want to undeploy the current model?"))try{await vs.deactivate(),t(null),s(null)}catch(x){console.error("Failed to deactivate",x)}},p=async()=>{l(!0),u(null),s(null);try{const x=JSON.parse(r);if(!Array.isArray(x))throw new Error("Input must be a JSON array of objects");const v=await vs.predict(x);s(v.predictions)}catch(x){u(x.message||"Prediction failed")}finally{l(!1)}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 p-6 overflow-hidden",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100 mb-6 shrink-0",children:"Model Inference"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-1 min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100",children:"Input Data (JSON)"}),d&&o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded border border-amber-200 dark:border-amber-800",children:d}),o.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"Please verify fields before running"})]})]}),o.jsx("textarea",{className:"flex-1 w-full p-4 font-mono text-sm bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none resize-none",value:r,onChange:x=>{n(x.target.value)},placeholder:'[{"col1": 1, "col2": "A"}]'}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsx("button",{onClick:()=>{p()},disabled:!e||i,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${!e||i?"bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-gray-800 dark:text-gray-600":"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"}`,children:i?"Running...":o.jsxs(o.Fragment,{children:[o.jsx(qi,{className:"w-4 h-4"})," Run Prediction"]})})})]}),o.jsxs("div",{className:"flex flex-col gap-6 h-full min-h-0",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 shrink-0",children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ym,{className:"w-5 h-5 text-blue-500"}),"Active Deployment"]}),e&&o.jsxs("button",{onClick:()=>{h()},className:"flex items-center gap-1 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50 transition-colors",title:"Undeploy Model",children:[o.jsx(Ty,{className:"w-3 h-3"}),"Undeploy"]})]}),e?o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Model Type"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:e.model_type})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Job ID"}),o.jsx("div",{className:"font-mono text-sm text-gray-800 dark:text-gray-200 break-all",children:e.job_id})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Deployed At"}),o.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:new Date(e.created_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 font-medium text-sm",children:[o.jsx(Qn,{className:"w-4 h-4"})," Active"]})]})]}):o.jsxs("div",{className:"text-gray-500 dark:text-gray-400 italic flex items-center gap-2",children:[o.jsx(An,{className:"w-4 h-4"}),"No model is currently deployed. Go to Experiments page to deploy one."]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col flex-1 min-h-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-100 mb-4",children:"Prediction Results"}),o.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 overflow-auto",children:c?o.jsxs("div",{className:"text-red-600 dark:text-red-400 flex items-start gap-2",children:[o.jsx(An,{className:"w-5 h-5 shrink-0 mt-0.5"}),o.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm",children:c})]}):a?o.jsx("div",{className:"space-y-2",children:a.map((x,v)=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-800 rounded border border-gray-100 dark:border-gray-700",children:[o.jsxs("span",{className:"text-xs text-gray-500 w-8",children:["#",v+1]}),o.jsx("span",{className:"font-mono font-medium text-blue-600 dark:text-blue-400",children:typeof x=="object"?JSON.stringify(x):String(x)})]},v))}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm italic",children:"Run a prediction to see results here..."})})]})]})]})]})},Fue=()=>{const{activeView:e,isPropertiesPanelExpanded:t}=Nl();return o.jsxs("div",{className:"flex h-full w-full bg-background overflow-hidden flex-col",children:[o.jsx(DK,{}),o.jsx(IK,{}),e==="canvas"?o.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[o.jsx(vK,{}),o.jsxs("main",{className:"flex-1 h-full relative flex flex-col transition-all duration-300 ease-in-out",children:[!t&&o.jsx(MK,{}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(CK,{}),o.jsx(TK,{})]})]}),o.jsx(PK,{})]}):e==="experiments"?o.jsx($ue,{}):o.jsx(zue,{})]})},Bue=()=>{const e=xe(t=>t.addNode);return Mr.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("source_id");r&&setTimeout(()=>{e("dataset_node",{x:100,y:100},{datasetId:r})},100)},[]),o.jsx(Fue,{})},Uue=()=>{const e=Jv(),[t,r]=g.useState(null),[n,a]=g.useState([]),[s,i]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[h,p]=g.useState(0),[x,v]=g.useState(!0),y=10,[b,w]=g.useState(""),[j,k]=g.useState(""),[N,_]=g.useState(()=>{try{const I=localStorage.getItem("skyulf_manual_deployments");return I?JSON.parse(I):{}}catch{return{}}}),S=I=>{_(R=>{const T={...R,[I]:!R[I]};return localStorage.setItem("skyulf_manual_deployments",JSON.stringify(T)),T})},E=async()=>{try{const I=await fetch("/api/registry/stats");if(I.ok){const R=await I.json();r(R)}}catch(I){console.error("Failed to fetch stats",I)}},O=async(I,R=!1)=>{if(!s)try{i(!0);const T=I*y,P=new URLSearchParams({skip:T.toString(),limit:y.toString()}),L=await fetch(`/api/registry/models?${P.toString()}`);if(!L.ok)throw new Error("Failed to fetch models");const F=await L.json();return F.length<y?v(!1):v(!0),a(U=>R?F:[...U,...F]),F}catch(T){return c(T.message),null}finally{i(!1)}};g.useEffect(()=>{E(),O(0,!0)},[]),g.useEffect(()=>{const I=T=>{const P=T.target;P.scrollTop+P.clientHeight>=P.scrollHeight-100&&!s&&x&&p(L=>L+1)},R=document.querySelector("main");return R?(R.addEventListener("scroll",I),()=>{R.removeEventListener("scroll",I)}):(window.addEventListener("scroll",I),()=>{window.removeEventListener("scroll",I)})},[s,x]),g.useEffect(()=>{h>0&&O(h,!1)},[h]);const C=async I=>{if(confirm("Are you sure you want to deploy this model version? This will replace the currently active deployment."))try{m(I);const R=await fetch(`/api/deployment/deploy/${I}`,{method:"POST"});if(!R.ok){const P=await R.json();throw new Error(P.detail||"Deployment failed")}p(0);const T=await O(0,!0);if(u&&T){const P=T.find(L=>L.model_type===u.model_type&&L.dataset_id===u.dataset_id);P&&d(P)}confirm("Model deployed successfully! Do you want to go to the inference page?")&&e("/deployments")}catch(R){alert(`Error deploying model: ${R.message}`)}finally{m(null)}},A=I=>{switch(I.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-slate-300"}},D=I=>{const R=I.score||I.accuracy||I.f1_score||I.rmse||I.mse;if(R!==void 0)return typeof R=="number"?R.toFixed(4):String(R);const T=Object.keys(I);if(T.length>0){const P=I[T[0]];return`${T[0]}: ${typeof P=="number"?P.toFixed(4):P}`}return"-"},M=I=>I.toLowerCase()==="tuning"?"Advanced Training":I.toLowerCase()==="training"?"Standard Training":I.charAt(0).toUpperCase()+I.slice(1),$=n.filter(I=>{const R=(I.dataset_name||"").toLowerCase().includes(b.toLowerCase())||(I.dataset_id||"").toLowerCase().includes(b.toLowerCase()),T=I.model_type.toLowerCase().includes(j.toLowerCase());return R&&T});return s&&!t&&n.length===0?o.jsxs("div",{className:"p-8 flex justify-center items-center h-full text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),"Loading registry..."]}):l?o.jsxs("div",{className:"p-8 text-center text-red-600 dark:text-red-400",children:["Error: ",l]}):o.jsxs("div",{className:"p-8 min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[o.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:"Model Registry"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage versions, track metrics, and deploy your best models."})]}),o.jsx("button",{onClick:()=>{p(0),O(0,!0),E()},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm",children:"Refresh"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(b0,{title:"Total Versions",value:(t==null?void 0:t.total_versions)||0,icon:o.jsx(ym,{className:"text-blue-500"})}),o.jsx(b0,{title:"Active Deployments",value:(t==null?void 0:t.active_deployments)||0,icon:o.jsx(Hue,{className:"text-green-500"}),valueColor:"text-green-600 dark:text-green-400"}),o.jsx(b0,{title:"Model Types",value:n.length,icon:o.jsx(Ay,{className:"text-purple-500"}),valueColor:"text-purple-600 dark:text-purple-400"})]}),o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Model Type"}),o.jsx("input",{type:"text",placeholder:"e.g. RandomForest",value:j,onChange:I=>{k(I.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Filter by Dataset"}),o.jsx("input",{type:"text",placeholder:"e.g. Iris Dataset",value:b,onChange:I=>{w(I.target.value)},className:"w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Ay,{size:20,className:"text-slate-400"}),"Registered Models"]}),o.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",$.length," of ",n.length," models"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Dataset"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Latest Version"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Source"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Created At"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Deployments"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:$.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(ym,{size:48,className:"mb-4 opacity-20"}),o.jsx("p",{children:"No models found matching your filters."})]})})}):$.map(I=>{const R=I.latest_version;if(!R)return null;const T=`${I.model_type}-${I.dataset_id}`,P=I.deployment_count>0,L=N[T]||!1,F=P||L;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:I.model_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:I.dataset_name}),o.jsx("span",{className:"text-xs text-slate-400 font-mono mt-0.5",children:I.dataset_id})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:o.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-xs",children:["v",R.version]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:M(R.source)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(R.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${A(R.status)}`,children:R.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:o.jsxs("div",{className:"flex items-center gap-2",onClick:U=>{U.stopPropagation()},children:[o.jsx("input",{type:"checkbox",checked:F,onChange:()=>{S(T)},disabled:P,className:`w-4 h-4 rounded border-gray-300 focus:ring-green-500 ${P?"text-green-600 opacity-50 cursor-not-allowed":"text-blue-600 cursor-pointer"}`}),F?o.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full text-xs",children:[o.jsx(Qn,{size:12})," ",P?"Active":"Manual"]}):o.jsx("span",{className:"text-slate-400 dark:text-slate-600 text-xs",children:"None"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("button",{onClick:()=>{d(I)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 flex items-center justify-end gap-1 ml-auto",children:["View Versions ",o.jsx(Ia,{size:16})]})})]},T)})})]})})]}),s&&n.length>0&&o.jsxs("div",{className:"py-4 flex justify-center text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-2"}),"Loading more models..."]}),u&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>{d(null)},children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden border border-slate-200 dark:border-slate-700",onClick:I=>{I.stopPropagation()},children:[o.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900/50",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:u.model_type}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Version History"})]}),o.jsx("button",{onClick:()=>{d(null)},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:o.jsx(sr,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Version"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Date"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Metrics"}),o.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:u.versions.map(I=>o.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${I.is_deployed?"bg-green-50/50 dark:bg-green-900/10":""}`,children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-mono",children:["v",I.version]}),I.is_deployed&&o.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-1.5 py-0.5 rounded border border-green-200 dark:border-green-800",children:"Deployed"})]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(I.created_at).toLocaleString()}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-600 dark:text-slate-300 font-mono",children:D(I.metrics)}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${A(I.status)}`,children:I.status})}),o.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:[I.status==="completed"&&!I.is_deployed&&o.jsxs("button",{onClick:()=>{C(I.job_id)},disabled:f===I.job_id,className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 disabled:opacity-50 flex items-center gap-1 ml-auto",children:[f===I.job_id?o.jsx("span",{className:"animate-spin h-3 w-3 border-b-2 border-current rounded-full"}):o.jsx(qi,{size:14}),"Deploy"]}),I.is_deployed&&o.jsxs("span",{className:"text-green-600 dark:text-green-400 text-xs flex items-center justify-end gap-1",children:[o.jsx(Qn,{size:14})," Active"]})]})]},I.job_id))})]})}),o.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 flex justify-end",children:o.jsx("button",{onClick:()=>{d(null)},className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-md text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Close"})})]})})]})},b0=({title:e,value:t,icon:r,valueColor:n="text-slate-900 dark:text-white"})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:e}),o.jsx("div",{className:`mt-2 text-3xl font-bold ${n}`,children:t})]}),o.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:r})]}),Hue=({className:e})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[o.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),o.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),o.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),o.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),Vue=()=>{const[e,t]=g.useState(null),[r,n]=g.useState([]),[a,s]=g.useState(!1),[i,l]=g.useState(null),c=async()=>{s(!0),l(null);try{const[f,m]=await Promise.all([vs.getActive(),vs.getHistory(50,0)]);t(f),n(m)}catch(f){console.error("Failed to load deployments",f),l("Failed to load deployment data.")}finally{s(!1)}};g.useEffect(()=>{c()},[]);const u=async()=>{if(confirm("Are you sure you want to deactivate the current deployment?"))try{await vs.deactivate(),await c()}catch(f){console.error("Failed to deactivate",f),alert("Failed to deactivate deployment.")}},d=async f=>{if(confirm(`Are you sure you want to redeploy job ${f}?`))try{await vs.deployModel(f),await c()}catch(m){console.error("Failed to redeploy",m),alert("Failed to redeploy model.")}};return o.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:"Model Deployments"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage active models and view deployment history"})]}),o.jsx("button",{onClick:()=>{c()},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Ti,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[i&&o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-800 flex items-center gap-2",children:[o.jsx(An,{className:"w-5 h-5"}),i]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(Uh,{className:"w-5 h-5 text-green-500"}),"Active Deployment"]}),e?o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-green-200 dark:border-green-900 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:o.jsx(ym,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:e.model_type}),o.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 text-xs font-medium rounded-full flex items-center gap-1",children:[o.jsx(Qn,{className:"w-3 h-3"})," Active"]})]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Job ID: ",e.job_id]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deployed: ",new Date(e.created_at).toLocaleString()]})]})]}),o.jsxs("button",{onClick:()=>{u()},className:"flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-600 dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 rounded-lg transition-colors text-sm font-medium",children:[o.jsx(Ty,{className:"w-4 h-4"}),"Deactivate"]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-xs font-mono text-gray-500 dark:text-gray-400 break-all",children:["Artifact URI: ",e.artifact_uri]})]}):o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-3",children:o.jsx(Ty,{className:"w-6 h-6 text-gray-400"})}),o.jsx("h3",{className:"text-gray-900 dark:text-gray-100 font-medium",children:"No Active Model"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Deploy a model from the Experiments page to see it here."})]})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[o.jsx(ib,{className:"w-5 h-5 text-blue-500"}),"Deployment History"]}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-500 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3",children:"Model Type"}),o.jsx("th",{className:"px-6 py-3",children:"Job ID"}),o.jsx("th",{className:"px-6 py-3",children:"Deployed At"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"No deployment history found."})}):r.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:f.is_active?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Active"]}):o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),"Inactive"]})}),o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 dark:text-gray-100",children:f.model_type}),o.jsxs("td",{className:"px-6 py-4 font-mono text-xs text-gray-500 dark:text-gray-400",children:[f.job_id.slice(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(f.created_at).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-right",children:!f.is_active&&o.jsx("button",{onClick:()=>{d(f.job_id)},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium text-xs",children:"Redeploy"})})]},f.id))})]})})})]})]})]})};function Wue(){return o.jsx(fF,{children:o.jsx(Hz,{children:o.jsxs(Xs,{path:"/",element:o.jsx(l6,{}),children:[o.jsx(Xs,{index:!0,element:o.jsx(H8,{})}),o.jsx(Xs,{path:"data",element:o.jsx(q8,{})}),o.jsx(Xs,{path:"canvas",element:o.jsx(Bue,{})}),o.jsx(Xs,{path:"registry",element:o.jsx(Uue,{})}),o.jsx(Xs,{path:"deployments",element:o.jsx(Vue,{})})]})})})}const ui=e=>e&&typeof e=="object"?e:null,Kue=e=>{const t=ui(e),r=t==null?void 0:t.sample;if(!t||!Array.isArray(r)||r.length===0)return o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No data available"});const n=ui(r[0])??{},a=Object.keys(n).slice(0,5),s=typeof t.name=="string"?t.name:"Dataset",i=Array.isArray(t.shape)?t.shape:null,l=i&&i.length>0?i[0]:void 0,c=i&&i.length>1?i[1]:void 0;return o.jsxs("div",{className:"overflow-x-auto rounded border border-border",children:[o.jsxs("div",{className:"text-xs font-semibold mb-1 flex justify-between p-2 bg-muted/50 border-b border-border",children:[o.jsx("span",{children:s}),o.jsxs("span",{className:"text-muted-foreground",children:[l??"?"," rows x ",c??"?"," cols"]})]}),o.jsxs("table",{className:"w-full text-[10px] border-collapse",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-muted/30",children:a.map(u=>o.jsx("th",{className:"p-2 border-b border-r border-border text-left font-medium text-muted-foreground last:border-r-0",children:u},u))})}),o.jsx("tbody",{children:r.slice(0,5).map((u,d)=>o.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/20",children:a.map(f=>{var m;return o.jsx("td",{className:"p-2 border-r border-border truncate max-w-[80px] last:border-r-0",children:String(((m=ui(u))==null?void 0:m[f])??"")},f)})},d))})]})]})},que=({config:e,onChange:t,nodeId:r})=>{var y;const{nodes:n,edges:a}=xe(),[s,i]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState("train");g.useEffect(()=>{const b=e.lastRunJobId;if(!b)return;const w=async()=>{try{const k=await Mt.getJob(b);c(k),k.status!=="completed"&&k.status}catch(k){console.error("Failed to fetch job",k)}};w();const j=setInterval(()=>{w()},2e3);return()=>{clearInterval(j)}},[e.lastRunJobId]);const f=async()=>{if(r){i(!0);try{const b=ip(n,a),w=await Mt.runPipeline({...b,target_node_id:r,job_type:"preview"});t({...e,lastRunJobId:w.job_id})}catch(b){console.error("Failed to run preview:",b),alert("Failed to start preview job.")}finally{i(!1)}}},m=((y=l==null?void 0:l.result)==null?void 0:y.metrics)??(l==null?void 0:l.result),h=ui(m),p=h?ui(h.data_summary):null,x=h==null?void 0:h.operation_mode,v=typeof x=="string"?x:void 0;return o.jsxs("div",{className:"p-4 space-y-4 h-full overflow-y-auto",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Connect this node to any data output to inspect the data state, schema, and applied transformations."}),o.jsxs("button",{onClick:()=>{f()},disabled:s,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-[#38bdf8] via-[#6366f1] to-[#a855f7] text-white px-3 py-1.5 rounded-md hover:opacity-90 disabled:opacity-50 transition-all text-xs font-medium shadow-md",children:[s?o.jsx(_r,{size:14,className:"animate-spin"}):o.jsx(qi,{size:14}),s?"Running...":"Run Preview"]}),e.lastRunJobId&&l&&l.status!=="completed"&&o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2 p-2 bg-muted/30 rounded border border-border",children:[o.jsx("span",{children:"Status:"}),o.jsx("span",{className:`ml-auto font-medium px-1.5 py-0.5 rounded text-[10px] ${l.status==="failed"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}`,children:l.status})]}),(l==null?void 0:l.status)==="completed"&&m&&o.jsxs("div",{className:"space-y-4 border-t border-border pt-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[o.jsxs("div",{className:"text-[10px] bg-blue-50 dark:bg-blue-950/30 text-blue-700 dark:text-blue-300 p-2 rounded border border-blue-100 dark:border-blue-900/50",children:[o.jsx("strong",{className:"block mb-0.5",children:"Operation Mode"}),v||"Unknown"]}),p&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex border-b border-border",children:["train","test","validation"].map(b=>p[b]?o.jsx("button",{className:`text-[10px] px-3 py-1.5 border-b-2 transition-colors ${u===b?"border-primary font-medium text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,onClick:()=>{d(b)},children:b.charAt(0).toUpperCase()+b.slice(1)},b):null)}),p[u]?Kue(p[u]):o.jsxs("div",{className:"text-xs text-muted-foreground p-4 text-center border border-dashed border-border rounded",children:["No ",u," data available"]})]}),Array.isArray(h==null?void 0:h.applied_transformations)&&h.applied_transformations.length>0&&o.jsxs("div",{className:"pt-2 border-t border-border",children:[o.jsx("div",{className:"text-[10px] font-semibold mb-2 text-foreground",children:"Applied Steps"}),o.jsx("div",{className:"space-y-1.5",children:h.applied_transformations.map((b,w)=>{var j,k;return o.jsxs("div",{className:"text-[10px] flex items-center gap-2 text-muted-foreground p-1.5 bg-muted/30 rounded border border-border",children:[o.jsx("span",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center text-[8px] font-medium text-foreground",children:w+1}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-foreground",children:String(((j=ui(b))==null?void 0:j.transformer_name)??"")}),o.jsx("span",{className:"text-[9px] opacity-80",children:String(((k=ui(b))==null?void 0:k.transformer_type)??"")})]})]},w)})})]})]})]})},Yue=({data:e})=>{const[t,r]=g.useState(null);return g.useEffect(()=>{const n=e.lastRunJobId;if(!n)return;const a=async()=>{try{const i=await Mt.getJob(n);r(i.status)}catch{r("error")}};a();const s=setInterval(()=>{a()},5e3);return()=>{clearInterval(s)}},[e.lastRunJobId]),o.jsx("div",{className:"text-xs flex items-center gap-2",children:e.lastRunJobId?t==="completed"?o.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium flex items-center gap-1",children:[o.jsx(Qn,{size:12})," Ready"]}):t==="failed"?o.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium flex items-center gap-1",children:[o.jsx(An,{size:12})," Failed"]}):o.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1",children:[o.jsx(_r,{size:12,className:"animate-spin"})," Running"]}):o.jsx("span",{className:"text-muted-foreground italic",children:"Not run yet"})})},Gue={type:"data_preview",label:"Data Preview",category:"Evaluation",description:"Inspect data state and transformations at this point.",icon:BP,inputs:[{id:"in",label:"Input Data",type:"any"}],outputs:[],component:Yue,settings:que,validate:()=>({isValid:!0}),getDefaultConfig:()=>({})},Ge=e=>Y$({queryKey:["dataset-schema",e],queryFn:()=>F8(e),enabled:!!e,staleTime:1e3*60*5}),Xue=({config:e,onChange:t})=>{const[r,n]=g.useState([]),[a,s]=g.useState(!1),[i,l]=g.useState(!1),{data:c,isLoading:u}=Ge(e.datasetId),d=()=>{s(!0),En.getUsable().then(n).catch(console.error).finally(()=>{s(!1)})};g.useEffect(()=>{d()},[]);const f=h=>{const p=h.target.value,x=r.find(v=>String(v.id)===p);t({...e,datasetId:p,datasetName:x==null?void 0:x.name})},m=(h,p)=>{l(!1),d(),t({...e,datasetId:h,datasetName:p})};return i?o.jsx(fO,{onUploadComplete:m,onCancel:()=>{l(!1)}}):o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Select Dataset"}),o.jsxs("button",{onClick:()=>{l(!0)},className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium",children:[o.jsx(Yi,{size:14}),"New Upload"]})]}),a?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading datasets..."}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.datasetId||"",onChange:f,children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(h=>o.jsx("option",{value:h.id,children:h.name},h.id))]})]}),e.datasetId&&o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[o.jsx(a6,{size:14}),o.jsx("span",{children:"Dataset Schema"})]}),u?o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}):c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-md bg-muted/10 max-h-60 overflow-auto",children:o.jsxs("table",{className:"w-full text-xs text-left min-w-max",children:[o.jsx("thead",{className:"bg-muted/20 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Column"}),o.jsx("th",{className:"p-2 font-medium border-b bg-muted/20",children:"Type"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Missing"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Unique"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Min"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Max"}),o.jsx("th",{className:"p-2 font-medium border-b text-right bg-muted/20",children:"Mean"})]})}),o.jsx("tbody",{children:Object.values(c.columns).map(h=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-muted/20",children:[o.jsx("td",{className:"p-2 font-mono font-medium whitespace-nowrap",children:h.name}),o.jsx("td",{className:"p-2 text-muted-foreground whitespace-nowrap",children:h.dtype}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.missing_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.unique_count}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.min_value!==void 0?Number(h.min_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.max_value!==void 0?Number(h.max_value).toFixed(2):"-"}),o.jsx("td",{className:"p-2 text-right text-muted-foreground",children:h.mean_value!==void 0?Number(h.mean_value).toFixed(2):"-"})]},h.name))})]})}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1 text-center italic",children:"Expand node to see full details"})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No schema available."})]})]})},Que=({data:e})=>{const[t,r]=g.useState(void 0);g.useEffect(()=>{e.datasetId&&!e.datasetName&&t===void 0&&En.getById(e.datasetId).then(a=>{r(a.name)}).catch(()=>{r(e.datasetId)})},[e.datasetId,e.datasetName,t]);const n=e.datasetName||t||e.datasetId;return o.jsx("div",{className:"text-xs",children:e.datasetId?o.jsx("div",{className:"font-medium truncate max-w-[150px]",title:n,children:n||"Loading..."}):o.jsx("div",{className:"text-muted-foreground italic",children:"Select a dataset"})})},Jue={type:"dataset_node",label:"Dataset",category:"Data Source",description:"Load a dataset from the registry.",icon:Jn,inputs:[],outputs:[{id:"data",label:"Data",type:"dataset"}],settings:Xue,component:Que,validate:e=>({isValid:!!e.datasetId,message:e.datasetId?void 0:"Dataset is required"}),getDefaultConfig:()=>({datasetId:""})},D5=(e,t,r,n=new Set)=>{var s;if(n.has(e.id))return;if(n.add(e.id),(s=e.data)!=null&&s.datasetId)return e.data.datasetId;const a=Us(e,t,r);for(const i of a){const l=D5(i,t,r,n);if(l)return l}},st=e=>{const t=xe(s=>s.nodes),r=xe(s=>s.edges),n=t.find(s=>s.id===e);return n?Us(n,t,r).map(s=>{const i=D5(s,t,r);return i&&!s.data.datasetId?{...s.data,datasetId:i}:s.data}):[]},Dl=(e,t={})=>{var s;const n=(s=st(e).find(i=>i.datasetId))==null?void 0:s.datasetId,a=xe(i=>i.executionResult);return g.useMemo(()=>!n||!(a!=null&&a.recommendations)?[]:a.recommendations.filter(i=>{var l,c;if(t.types||t.suggestedNodeTypes){const u=(l=t.types)==null?void 0:l.includes(i.type),d=(c=t.suggestedNodeTypes)==null?void 0:c.includes(i.suggested_node_type);if(!u&&!d)return!1}return!(t.scope==="column"&&(!i.target_columns||i.target_columns.length===0))}),[a,n,t.types,t.suggestedNodeTypes,t.scope])},Qi=({recommendations:e,onApply:t,className:r=""})=>!e||e.length===0?null:o.jsxs("div",{className:`bg-blue-50 border border-blue-100 rounded-md p-3 ${r}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-800 font-medium text-sm",children:[o.jsx($P,{className:"w-4 h-4"}),o.jsx("span",{children:"Recommendations"})]}),o.jsx("div",{className:"space-y-2",children:e.map(n=>o.jsx("div",{className:"bg-white border border-blue-100 rounded p-2 text-sm shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-800 font-medium text-xs mb-1",children:n.type.replace("_"," ").toUpperCase()}),o.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:n.description}),n.reasoning&&o.jsxs("p",{className:"text-gray-400 text-[10px] mt-1 italic",children:["Why: ",n.reasoning]})]}),t&&o.jsx("button",{onClick:()=>t(n),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Apply Recommendation",children:o.jsx(Qn,{className:"w-5 h-5"})})]})},n.rule_id))})]}),Zue=({config:e,onChange:t,nodeId:r})=>{var k;const a=(k=st(r||"").find(N=>N.datasetId))==null?void 0:k.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(N=>N.name):[],c=xe(N=>N.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=g.useRef(null),[m,h]=g.useState(!1);g.useEffect(()=>{if(!f.current)return;const N=new ResizeObserver(_=>{for(const S of _)h(S.contentRect.width>450)});return N.observe(f.current),()=>{N.disconnect()}},[]);const p=Dl(r||"",{types:["cleaning","feature_selection"],suggestedNodeTypes:["DropMissingColumns"],scope:"column"}),x=N=>{var _;if((_=N.target_columns)!=null&&_.length){const S=Array.from(new Set([...e.columns,...N.target_columns]));t({...e,columns:S})}},[v,y]=g.useState(""),b=g.useMemo(()=>l.filter(N=>N.toLowerCase().includes(v.toLowerCase())),[l,v]),w=()=>{t({...e,columns:b})},j=()=>{const N=e.columns.filter(_=>!b.includes(_));t({...e,columns:N})};return o.jsxs("div",{ref:f,className:`flex flex-col h-full w-full bg-background ${m?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${m?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${m?"overflow-y-auto pr-2":"shrink-0"}`,children:[p.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Qi,{recommendations:p,onApply:x})}),o.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-muted/5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Missing Value Threshold"}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Drop columns with >",e.missing_threshold??0,"% missing values"]})]}),o.jsxs("span",{className:"text-sm font-mono font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:[e.missing_threshold??0,"%"]})]}),o.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.missing_threshold??0,onChange:N=>t({...e,missing_threshold:parseInt(N.target.value)}),className:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"})]}),d&&d.dropped_columns_count!==void 0&&o.jsxs("div",{className:"p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Dropped:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(d.dropped_columns_count)})]}),Array.isArray(d.dropped_columns)&&d.dropped_columns.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Dropped Names:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:d.dropped_columns.map(N=>{const _=String(N);return o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:_},_)})})]})]})]})]}),o.jsxs("div",{className:`flex flex-col border rounded-md bg-background shadow-sm overflow-hidden ${m?"min-h-0 flex-1":"h-96 shrink-0"}`,children:[o.jsxs("div",{className:"p-3 border-b bg-muted/5 space-y-3 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Explicitly Drop Columns"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"relative group",children:o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full pl-9 pr-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary focus:border-primary transition-all outline-none",value:v,onChange:N=>{y(N.target.value)}})}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:w,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:j,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-1",children:l.length>0?b.length>0?o.jsx("div",{className:"space-y-0.5",children:b.map(N=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-2 rounded cursor-pointer transition-colors select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(N),onChange:_=>{const S=_.target.checked?[...e.columns,N]:e.columns.filter(E=>E!==N);t({...e,columns:S})},className:"rounded border-gray-300 text-primary focus:ring-primary w-4 h-4"}),o.jsx("span",{className:"truncate font-mono text-xs",title:N,children:N})]},N))}):o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8",children:['No columns match "',v,'"']}):o.jsx("div",{className:"text-xs text-muted-foreground italic p-8 text-center",children:"No columns available"})})]})]})]})},ede={type:"drop_missing_columns",label:"Drop Columns",category:"Preprocessing",description:"Remove specific columns or those with high missing values.",icon:Bs,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Data",type:"dataset"}],settings:Zue,validate:e=>({isValid:e.columns.length>0||e.missing_threshold!==void 0&&e.missing_threshold>0,message:e.columns.length===0&&(!e.missing_threshold||e.missing_threshold===0)?"Select columns or set a threshold":void 0}),getDefaultConfig:()=>({columns:[],missing_threshold:0})},tde=({config:e,onChange:t,nodeId:r})=>{var S;const a=(S=st(r||"").find(E=>E.datasetId))==null?void 0:S.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(E=>E.name):[],c=xe(E=>E.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=d!=null&&d.fill_values&&typeof d.fill_values=="object"?d.fill_values:null,m=d!=null&&d.missing_counts&&typeof d.missing_counts=="object"?d.missing_counts:null,h=g.useRef(null),[p,x]=g.useState(!1);g.useEffect(()=>{if(!h.current)return;const E=new ResizeObserver(O=>{for(const C of O)x(C.contentRect.width>450)});return E.observe(h.current),()=>{E.disconnect()}},[]);const v=Dl(r||"",{types:["imputation"],suggestedNodeTypes:["SimpleImputer","KNNImputer","IterativeImputer"],scope:"column"}),y=E=>{if(E.target_columns.length>0){const O=Array.from(new Set([...e.columns,...E.target_columns]));t({...e,columns:O})}},[b,w]=g.useState(""),j=g.useMemo(()=>l.filter(E=>E.toLowerCase().includes(b.toLowerCase())),[l,b]),k=()=>{t({...e,columns:j})},N=()=>{const E=e.columns.filter(O=>!j.includes(O));t({...e,columns:E})},_=()=>d?o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs",children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-2",children:"Execution Feedback"}),f&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Imputed Values:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(f).map(([E,O])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:E,children:[E,":"]}),o.jsx("span",{className:"font-mono",children:typeof O=="number"?O.toFixed(4):String(O)})]},E))})]}),m&&o.jsxs("div",{className:"space-y-1 mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Missing Values Filled:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 max-h-32 overflow-y-auto",children:Object.entries(m).map(([E,O])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:E,children:[E,":"]}),o.jsx("span",{className:"font-mono",children:String(O)})]},E))}),d.total_missing!==void 0&&o.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1 pt-1 border-t",children:["Total Filled: ",o.jsx("span",{className:"font-mono font-medium",children:String(d.total_missing)})]})]}),!f&&!m&&(u==null?void 0:u.status)==="success"&&o.jsx("div",{className:"text-green-600",children:"Imputation completed successfully."})]}):null;return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[v.length>0&&o.jsx("div",{className:"shrink-0",children:o.jsx(Qi,{recommendations:v,onApply:y})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Imputation Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method||"simple",onChange:E=>t({...e,method:E.target.value}),children:[o.jsx("option",{value:"simple",children:"Simple Imputer (Univariate)"}),o.jsx("option",{value:"knn",children:"KNN Imputer (Multivariate)"}),o.jsx("option",{value:"iterative",children:"Iterative Imputer (MICE)"})]})]}),(e.method==="simple"||!e.method)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.strategy,onChange:E=>t({...e,strategy:E.target.value}),children:[o.jsx("option",{value:"mean",children:"Mean (Average)"}),o.jsx("option",{value:"median",children:"Median (Middle Value)"}),o.jsx("option",{value:"most_frequent",children:"Most Frequent (Mode)"}),o.jsx("option",{value:"constant",children:"Constant Value"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.strategy==="mean"&&"Replaces missing values with the mean of the column. (Numeric only)",e.strategy==="median"&&"Replaces missing values with the median. (Robust to outliers)",e.strategy==="most_frequent"&&"Replaces missing with the most common value. (Categorical/Numeric)",e.strategy==="constant"&&"Replaces missing values with a specific value."]})]}),e.strategy==="constant"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fill Value"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",value:e.fill_value||"",onChange:E=>t({...e,fill_value:E.target.value}),placeholder:"Enter value..."})]})]}),e.method==="knn"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Neighbors"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.n_neighbors||5,onChange:E=>t({...e,n_neighbors:parseInt(E.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Weights"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.weights||"uniform",onChange:E=>t({...e,weights:E.target.value}),children:[o.jsx("option",{value:"uniform",children:"Uniform"}),o.jsx("option",{value:"distance",children:"Distance"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Uniform: All points in each neighborhood are weighted equally. Distance: Weight points by the inverse of their distance."})]})]}),e.method==="iterative"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Iterations"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.max_iter||10,onChange:E=>t({...e,max_iter:parseInt(E.target.value)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator||"bayesian_ridge",onChange:E=>t({...e,estimator:E.target.value}),children:[o.jsx("option",{value:"bayesian_ridge",children:"Bayesian Ridge"}),o.jsx("option",{value:"decision_tree",children:"Decision Tree"}),o.jsx("option",{value:"extra_trees",children:"Extra Trees"}),o.jsx("option",{value:"knn",children:"KNN"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"The estimator to use for the imputation steps."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state??0,onChange:E=>t({...e,random_state:parseInt(E.target.value)})})]})]}),p&&o.jsx(_,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${p?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Target Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:k,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:N,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:b,onChange:E=>{w(E.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:j.length>0?j.map(E=>o.jsxs("label",{className:"flex items-center justify-between gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(E),onChange:O=>{const C=O.target.checked?[...e.columns,E]:e.columns.filter(A=>A!==E);t({...e,columns:C})},className:"rounded border-gray-300 text-primary focus:ring-primary shrink-0"}),o.jsx("span",{className:"truncate",title:E,children:E})]}),m&&m[E]!==void 0&&o.jsx("span",{className:"text-[10px] text-muted-foreground font-mono shrink-0 bg-muted px-1.5 py-0.5 rounded",title:`${String(m[E])} missing values filled`,children:String(m[E])})]},E)):o.jsx("div",{className:"p-4 text-center text-xs text-muted-foreground",children:l.length===0?"No columns available":"No matches found"})})]}),!p&&o.jsx(_,{})]})]})},rde={type:"imputation_node",label:"Imputation",category:"Preprocessing",description:"Fill missing values using Simple, KNN, or Iterative strategies.",icon:qF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:tde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column"}:e.method==="simple"&&e.strategy==="constant"&&(e.fill_value===void 0||e.fill_value==="")?{isValid:!1,message:"Fill value is required for Constant strategy"}:{isValid:!0},getDefaultConfig:()=>({columns:[],method:"simple",strategy:"mean",fill_value:0,n_neighbors:5,weights:"uniform",max_iter:10,estimator:"bayesian_ridge",random_state:0})},nde=({config:e,onChange:t,nodeId:r})=>{var w;const a=(w=st(r||"").find(j=>j.datasetId))==null?void 0:w.datasetId,{data:s,isLoading:i}=Ge(a),l=xe(j=>j.executionResult),c=r?l==null?void 0:l.node_results[r]:null,u=g.useRef(null),[d,f]=g.useState(!1),[m,h]=g.useState("");g.useEffect(()=>{if(!u.current)return;const j=new ResizeObserver(k=>{for(const N of k)f(N.contentRect.width>450)});return j.observe(u.current),()=>{j.disconnect()}},[]);const p=s?Object.values(s.columns).filter(j=>["int","float","number"].some(k=>j.dtype.toLowerCase().includes(k))).map(j=>j.name):[],x=p.filter(j=>j.toLowerCase().includes(m.toLowerCase())),v=()=>{t({...e,columns:x})},y=()=>{const j=e.columns.filter(k=>!x.includes(k));t({...e,columns:j})},b=()=>{if(!c||!c.metrics)return null;const j=c.metrics,k=j.columns;if(!k)return null;const N=()=>{switch(e.method){case"standard":return"Target:   0,   1";case"minmax":return`Target: ${e.feature_range_min??0} to ${e.feature_range_max??1}`;case"robust":return"Target: Median  0, IQR  1";case"maxabs":return"Target: MaxAbs = 1";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Scaling Statistics"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Values close to these targets indicate successful scaling.",children:N()})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:k.map((_,S)=>{let E="";if(e.method==="standard"){const O=j.mean[S],C=j.scale[S];typeof O=="number"&&(E=`=${O.toFixed(2)}, =${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="minmax"){const O=j.data_min[S],C=j.data_max[S];typeof O=="number"&&(E=`Min=${O.toFixed(2)}, Max=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="robust"){const O=j.center[S],C=j.scale[S];typeof O=="number"&&(E=`Med=${O.toFixed(2)}, IQR=${typeof C=="number"?C.toFixed(2):"-"}`)}else if(e.method==="maxabs"){const O=j.max_abs[S];typeof O=="number"&&(E=`MaxAbs=${O.toFixed(2)}`)}return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:_,children:_}),o.jsx("span",{className:"font-mono text-[10px] text-muted-foreground",children:E})]},_)})})]})};return o.jsxs("div",{ref:u,className:`flex flex-col h-full w-full bg-background ${d?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${d?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${d?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Scaling Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:j=>t({...e,method:j.target.value}),children:[o.jsx("option",{value:"standard",children:"Standard Scaler (Z-Score)"}),o.jsx("option",{value:"minmax",children:"MinMax Scaler (0-1)"}),o.jsx("option",{value:"maxabs",children:"MaxAbs Scaler"}),o.jsx("option",{value:"robust",children:"Robust Scaler (Outlier Safe)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="standard"&&"Centers data around 0 with unit variance.",e.method==="minmax"&&"Scales data to a fixed range [0, 1].",e.method==="maxabs"&&"Scales data by its maximum absolute value.",e.method==="robust"&&"Scales data using statistics that are robust to outliers."]})]}),e.method==="standard"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_mean??!0,onChange:j=>t({...e,with_mean:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (with_mean)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_std??!0,onChange:j=>t({...e,with_std:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Variance (with_std)"})]})]}),e.method==="minmax"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Feature Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (0)",value:e.feature_range_min??0,onChange:j=>t({...e,feature_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (1)",value:e.feature_range_max??1,onChange:j=>t({...e,feature_range_max:parseFloat(j.target.value)})})]})]}),e.method==="robust"&&o.jsxs("div",{className:"space-y-2 border-t pt-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Quantile Range"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Min (25.0)",value:e.quantile_range_min??25,onChange:j=>t({...e,quantile_range_min:parseFloat(j.target.value)})}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"Max (75.0)",value:e.quantile_range_max??75,onChange:j=>t({...e,quantile_range_max:parseFloat(j.target.value)})})]}),o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_centering??!0,onChange:j=>t({...e,with_centering:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Center Data (Median)"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.with_scaling??!0,onChange:j=>t({...e,with_scaling:j.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{children:"Scale Data (IQR)"})]})]})]}),d&&o.jsx(b,{})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${d?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:v,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:y,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:m,onChange:j=>{h(j.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:x.length>0?x.map(j=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(j),onChange:k=>{const N=k.target.checked?[...e.columns,j]:e.columns.filter(_=>_!==j);t({...e,columns:N})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:j,children:j})]},j)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:i?"Loading schema...":p.length===0?"No numeric columns found":"No matches found"})})]}),!d&&o.jsx(b,{})]})]})},ade={type:"scale_numeric_features",label:"Scaling",category:"Preprocessing",description:"Scale numeric features to a standard range.",icon:ZF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Scaled Data",type:"dataset"}],settings:nde,validate:e=>({isValid:e.columns.length>0,message:e.columns.length===0?"Select at least one column":void 0}),getDefaultConfig:()=>({columns:[],method:"standard"})},R5={getAllNodes:async()=>(await at.get("/ml/registry")).data};function L5(){const[e,t]=g.useState(null),[r,n]=g.useState({width:0,height:0}),a=g.useCallback(s=>{if(s.length===0)return;const{width:i,height:l}=s[0].contentRect;n({width:i,height:l})},[]);return g.useEffect(()=>{if(!e)return;const s=new ResizeObserver(a);return s.observe(e),()=>{s.disconnect()}},[e,a]),[t,r]}const sde=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(IP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),ide=({isOpen:e,onClose:t,modelType:r,onSelect:n})=>{const[a,s]=g.useState(r),[i,l]=g.useState([]),[c,u]=g.useState(!1),[d,f]=g.useState(null);g.useEffect(()=>{e&&s(r)},[e,r]);const m=g.useCallback(()=>{a&&(u(!0),f(null),Mt.getTuningHistory(a).then(h=>{l(h)}).catch(h=>{console.error("Failed to fetch jobs",h),f("Failed to load history.")}).finally(()=>{u(!1)}))},[a]);return g.useEffect(()=>{e&&m()},[e,m]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(_r,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Select parameters for:"}),o.jsxs("select",{value:a,onChange:h=>{s(h.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-blue-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:m,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Ti,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(sr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Gn,{className:"w-8 h-8 animate-spin mb-2 text-blue-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):d?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(An,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:d}),o.jsx("button",{onClick:m,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):i.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Jn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):i.map(h=>{var p;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",h.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:h.end_time?new Date(h.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((p=h.result)==null?void 0:p.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:h.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Gc,{className:"w-3 h-3"})," Model Ready"]})]})]}),o.jsxs("button",{onClick:()=>{var x;(x=h.result)!=null&&x.best_params&&(n({params:h.result.best_params,modelType:a}),t())},className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors flex items-center gap-1 shadow-sm shadow-blue-500/20",children:[o.jsx(Gc,{className:"w-3 h-3"}),"Apply"]})]})},h.job_id)})})]})]}):null},ode=({value:e,type:t,onChange:r,step:n,min:a,max:s})=>{const[i,l]=g.useState("");g.useEffect(()=>{l(e===null?"None":(e==null?void 0:e.toString())??"")},[e]);const c=()=>{const u=i.trim();if(u.toLowerCase()==="none"){r(null);return}if(t==="number"){if(u==="")return;const d=Number(u);isNaN(d)?l(e===null?"None":(e==null?void 0:e.toString())??""):r(d)}else t==="boolean"?u.toLowerCase()==="true"?r(!0):u.toLowerCase()==="false"?r(!1):l((e==null?void 0:e.toString())??""):r(u)};return o.jsx("input",{type:"text",value:i,onChange:u=>{l(u.target.value)},onBlur:c,placeholder:e===null?"None":"",className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",...t==="number"?{step:n,min:a,max:s}:{}})},lde=({config:e,onChange:t,nodeId:r})=>{const[n,a]=g.useState([]),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState(()=>!sessionStorage.getItem("hide_info_model_training")),{toggleDrawer:f,setTab:m}=Sl(),h=st(r||""),p=xe(P=>P.nodes),x=xe(P=>P.edges),y=(P=>{var U,q,Y,re;const L=new Set,F=[P];for(;F.length>0;){const ne=F.shift();if(!ne||L.has(ne))continue;L.add(ne);const G=p.find(B=>B.id===ne);if(!G)continue;if(ne!==P){if((U=G.data)!=null&&U.datasetId)return G.data.datasetId;if((q=G.data)!=null&&q.dataset_id)return G.data.dataset_id;if((Y=G.data)!=null&&Y.config){const B=G.data.config;if(B.datasetId)return B.datasetId;if(B.dataset_id)return B.dataset_id}if((re=G.data)!=null&&re.params){const B=G.data.params;if(B.datasetId)return B.datasetId;if(B.dataset_id)return B.dataset_id}}const Q=Us(G,p,x);for(const B of Q)F.push(B.id)}})(r||""),{data:b}=Ge(y),w=b?Object.values(b.columns):[],[j,{width:k}]=L5(),N=k>450,[_,S]=g.useState("model"),[E,O]=g.useState(!1),[C,A]=g.useState([]),[D,M]=g.useState(!1);g.useEffect(()=>{(async()=>{M(!0);try{const F=(await R5.getAllNodes()).filter(U=>U.category==="Model");A(F)}catch(L){console.error("Failed to fetch models:",L),A([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{M(!1)}})()},[]);const $=g.useRef(!1);g.useEffect(()=>{e.model_type&&(c(!0),Mt.getHyperparameters(e.model_type).then(P=>{const L=P;if(a(L),$.current){const F={};L.forEach(U=>{F[U.name]=U.default}),t({...e,hyperparameters:F}),$.current=!1}}).catch(console.error).finally(()=>{c(!1)}))},[e.model_type]),g.useEffect(()=>{var L;const P=(L=h.find(F=>F.target_column))==null?void 0:L.target_column;P&&e.target_column!==P&&(e.target_column||t({...e,target_column:P}))},[h,e.target_column,t]);const I=async()=>{if(r)try{const P=ip(p,x);await Mt.runPipeline({...P,target_node_id:r,job_type:"training"}),alert("Training job submitted successfully!"),m("training"),f(!0)}catch(P){console.error("Failed to submit training job:",P),alert("Failed to submit training job. Check console for details.")}},R=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:e.model_type,onChange:P=>{Object.keys(e.hyperparameters).length>0&&($.current=!0),t({...e,model_type:P.target.value,hyperparameters:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:D,children:C.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))}),o.jsx(Ht,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),w.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(cb,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[w.length>0?o.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),w.map(P=>o.jsx("option",{value:P.name,children:P.name},P.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),w.length>0&&o.jsx(Ht,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>{O(!E)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nb,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Ia,{className:`w-4 h-4 text-gray-400 transition-transform ${E?"rotate-90":""}`})]}),E&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"}),o.jsx("option",{value:"shuffle_split",children:"Shuffle Split"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),T=()=>{const P=Object.keys(e.hyperparameters).length>0,L=F=>{if(F){const U={};n.forEach(q=>{U[q.name]=q.default}),Object.keys(e.hyperparameters).length===0&&t({...e,hyperparameters:U})}else t({...e,hyperparameters:{}})};return o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(lb,{className:"w-4 h-4 text-blue-500"}),"Hyperparameters"]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("label",{className:`text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2 cursor-pointer select-none ${l?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("input",{type:"checkbox",checked:P,onChange:F=>{L(F.target.checked)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:l}),"Customize"]})})]}),P?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex justify-end mb-2",children:o.jsxs("button",{onClick:()=>{i(!0)},className:"text-xs flex items-center gap-1.5 px-2 py-1 text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors",children:[o.jsx(mk,{className:"w-3 h-3"}),"Load Best"]})}),l?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(Gn,{className:"w-5 h-5 animate-spin text-blue-500"})}):n.map(F=>{var U;return o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:F.label}),F.description&&o.jsx(sde,{text:F.description})]}),F.type==="select"?o.jsx("select",{value:e.hyperparameters[F.name]??F.default,onChange:q=>t({...e,hyperparameters:{...e.hyperparameters,[F.name]:q.target.value}}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",children:(U=F.options)==null?void 0:U.map(q=>o.jsx("option",{value:String(q.value),children:q.label},String(q.value)))}):o.jsx(ode,{type:F.type,value:e.hyperparameters[F.name]??F.default,onChange:q=>t({...e,hyperparameters:{...e.hyperparameters,[F.name]:q}}),step:F.step,min:F.min,max:F.max})]},F.name)}),n.length===0&&!l&&o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic text-center py-4",children:"No parameters available."})]}):o.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-900/50 rounded-lg border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Using default hyperparameters."}),o.jsxs("button",{onClick:()=>{i(!0)},className:"mt-3 text-xs flex items-center gap-1.5 px-3 py-1.5 mx-auto bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-md border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors shadow-sm",children:[o.jsx(mk,{className:"w-3 h-3"}),"Load Best Params"]})]})]})};return o.jsxs("div",{className:"flex flex-col h-full",ref:j,children:[u&&o.jsxs("div",{className:"mb-4 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded text-xs text-blue-700 dark:text-blue-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Train a model using fixed parameters or defaults."}),o.jsx("button",{onClick:()=>{d(!1),sessionStorage.setItem("hide_info_model_training","true")},className:"text-blue-400 hover:text-blue-600 dark:hover:text-blue-200",children:o.jsx(sr,{className:"w-3 h-3"})})]}),o.jsx(ide,{isOpen:s,onClose:()=>{i(!1)},modelType:e.model_type,onSelect:P=>{const L=P;L.modelType&&L.modelType!==e.model_type?t({...e,model_type:L.modelType,hyperparameters:L.params}):t({...e,hyperparameters:L.params})}}),!N&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${_==="model"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("model")},children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${_==="params"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{S("params")},children:"Hyperparameters"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:N?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:R}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:o.jsx(T,{})})]}):o.jsxs(o.Fragment,{children:[_==="model"&&R,_==="params"&&o.jsx(T,{})]})}),o.jsx("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:o.jsxs("button",{onClick:()=>{I()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(qi,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Training"})]})})]})},cde={type:"model_training",label:"Standard Training",category:"Modeling",description:"Train a model with fixed or default parameters.",icon:CF,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Trained Model",type:"model"}],settings:lde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",hyperparameters:{},cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42})},ude=({text:e})=>o.jsxs("div",{className:"group relative flex items-center",children:[o.jsx(IP,{className:"w-3 h-3 text-gray-400 cursor-help"}),o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg z-50",children:[e,o.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]}),dde=({def:e,value:t,onChange:r})=>{const[n,a]=g.useState(""),[s,i]=g.useState(null);g.useEffect(()=>{a(Array.isArray(t)?t.map(u=>u===null?"None":u).join(", "):"")},[t]);const l=u=>{if(!u.trim())return[];const d=u.split(",").map(m=>m.trim()).filter(m=>m!==""),f=[];for(const m of d){if(m.toLowerCase()==="none"){f.push(null);continue}if(e.type==="number"){const h=Number(m);if(isNaN(h))throw new Error(`"${m}" is not a valid number`);f.push(h)}else if(e.type==="boolean"){const h=m.toLowerCase();if(h==="true")f.push(!0);else if(h==="false")f.push(!1);else throw new Error(`"${m}" must be true or false`)}else f.push(m)}return f},c=()=>{try{const u=l(n);i(null),JSON.stringify(u)!==JSON.stringify(t)&&r(u)}catch(u){i(u.message)}};return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1",children:[e.label,e.description&&o.jsx(ude,{text:e.description})]}),o.jsx("span",{className:"text-[10px] text-gray-400 uppercase",children:e.type})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:`w-full border rounded px-2 py-1.5 text-sm font-mono bg-white dark:bg-gray-900 dark:text-gray-100 outline-none transition-all ${s?"border-red-500 focus:ring-2 focus:ring-red-500/20":"border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500"}`,placeholder:e.type==="select"?"e.g. lbfgs, liblinear":"e.g. 10, 50, 100",value:n,onChange:u=>{a(u.target.value),i(null)},onBlur:c}),e.type==="select"&&e.options&&o.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.options.map(u=>o.jsx("button",{onClick:()=>{const d=l(n),m=d.includes(u.value)?d.filter(h=>h!==u.value):[...d,u.value];r(m)},className:`text-[10px] px-1.5 py-0.5 rounded border transition-colors ${t.includes(u.value)?"bg-purple-100 border-purple-200 text-purple-700 dark:bg-purple-900/30 dark:border-purple-800 dark:text-purple-300":"bg-gray-50 border-gray-200 text-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:u.label},String(u.value)))})]}),s&&o.jsxs("p",{className:"text-[10px] text-red-500 flex items-center gap-1",children:[o.jsx(An,{className:"w-3 h-3"}),s]})]})},fde=({isOpen:e,onClose:t,modelType:r})=>{const[n,a]=g.useState(r),[s,i]=g.useState([]),[l,c]=g.useState(!1),[u,d]=g.useState(null);g.useEffect(()=>{e&&a(r)},[e,r]);const f=g.useCallback(()=>{n&&(c(!0),d(null),Mt.getTuningHistory(n).then(m=>{i(m)}).catch(m=>{console.error("Failed to fetch jobs",m),d("Failed to load history.")}).finally(()=>{c(!1)}))},[n]);return g.useEffect(()=>{e&&f()},[e,f]),e?o.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-center items-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{className:"relative w-full max-w-2xl max-h-[85vh] bg-white dark:bg-gray-800 shadow-2xl rounded-xl flex flex-col border border-gray-200 dark:border-gray-700 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:o.jsx(_r,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Best Parameters History"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View parameters for:"}),o.jsxs("select",{value:n,onChange:m=>{a(m.target.value)},className:"text-xs border border-gray-200 dark:border-gray-700 rounded px-2 py-0.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-1 focus:ring-purple-500 outline-none",children:[o.jsx("option",{value:"random_forest_classifier",children:"Random Forest Classifier"}),o.jsx("option",{value:"logistic_regression",children:"Logistic Regression"}),o.jsx("option",{value:"ridge_regression",children:"Ridge Regression"}),o.jsx("option",{value:"random_forest_regressor",children:"Random Forest Regressor"})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:f,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",title:"Refresh",children:o.jsx(Ti,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500 transition-colors",children:o.jsx(sr,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50/30 dark:bg-gray-900/30",children:l?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[o.jsx(Gn,{className:"w-8 h-8 animate-spin mb-2 text-purple-500"}),o.jsx("p",{className:"text-sm",children:"Loading history..."})]}):u?o.jsxs("div",{className:"text-center py-12 text-red-500 bg-red-50 dark:bg-red-900/10 rounded-lg border border-red-100 dark:border-red-900/20",children:[o.jsx(An,{className:"w-8 h-8 mx-auto mb-2"}),o.jsx("p",{className:"text-sm",children:u}),o.jsx("button",{onClick:f,className:"mt-2 text-xs underline hover:text-red-600",children:"Try Again"})]}):s.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Jn,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No completed optimization jobs found."}),o.jsx("p",{className:"text-xs opacity-70 mt-1",children:"Run an optimization job to see results here."})]}):s.map(m=>{var h;return o.jsx("div",{className:"group bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 hover:shadow-md hover:border-purple-200 dark:hover:border-purple-800 transition-all",children:o.jsx("div",{className:"flex justify-between items-start mb-3",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["#",m.job_id.slice(0,8)]}),o.jsx("span",{className:"text-xs text-gray-400",children:m.end_time?new Date(m.end_time).toLocaleString():"Unknown Date"})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[typeof((h=m.result)==null?void 0:h.best_score)=="number"&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Score:"}),o.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:m.result.best_score.toFixed(4)})]}),o.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full flex items-center gap-1",children:[o.jsx(Gc,{className:"w-3 h-3"})," Model Ready"]})]})]})})},m.job_id)})})]})]}):null},mde=({config:e,onChange:t,nodeId:r})=>{const[n,a]=g.useState([]),[s,i]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState("config"),[f,m]=g.useState(!1),[h,p]=g.useState(()=>!sessionStorage.getItem("hide_info_model_optimizer")),[x,{width:v}]=L5(),y=v>450,{toggleDrawer:b,setTab:w}=Sl(),j=st(r||""),k=xe(P=>P.nodes),N=xe(P=>P.edges),S=(P=>{var U,q,Y,re;const L=new Set,F=[P];for(;F.length>0;){const ne=F.shift();if(L.has(ne))continue;L.add(ne);const G=k.find(B=>B.id===ne);if(!G)continue;if(ne!==P){if((U=G.data)!=null&&U.datasetId)return G.data.datasetId;if((q=G.data)!=null&&q.dataset_id)return G.data.dataset_id;const B=G.data;if((Y=B.config)!=null&&Y.datasetId)return B.config.datasetId;if((re=B.config)!=null&&re.dataset_id)return B.config.dataset_id}const Q=Us(G,k,N);for(const B of Q)F.push(B.id)}})(r||""),{data:E}=Ge(S),O=E?Object.values(E.columns):[],[C,A]=g.useState([]),[D,M]=g.useState(!1);g.useEffect(()=>{(async()=>{M(!0);try{const F=(await R5.getAllNodes()).filter(U=>U.category==="Model");A(F)}catch(L){console.error("Failed to fetch models:",L),A([{id:"random_forest_classifier",name:"Random Forest Classifier",category:"Model",description:"",params:{}},{id:"logistic_regression",name:"Logistic Regression",category:"Model",description:"",params:{}},{id:"ridge_regression",name:"Ridge Regression",category:"Model",description:"",params:{}},{id:"random_forest_regressor",name:"Random Forest Regressor",category:"Model",description:"",params:{}}])}finally{M(!1)}})()},[]),g.useEffect(()=>{var L;const P=(L=j.find(F=>F.target_column))==null?void 0:L.target_column;P&&e.target_column!==P&&t({...e,target_column:P})},[j,e.target_column]);const $=g.useRef(null);g.useEffect(()=>{(async()=>{const L=e.model_type;if(!L)return;const F=L!==$.current;if(!(!F&&n.length>0)){i(!0);try{const U=await Mt.getHyperparameters(L);if(a(U),F){const q=await Mt.getDefaultSearchSpace(L);t({...e,search_space:q||{}}),$.current=L}}catch(U){console.error("Failed to load model hyperparameters:",U)}finally{i(!1)}}})()},[e.model_type]);const I=async()=>{if(r)try{const P=ip(k,N);await Mt.runPipeline({...P,target_node_id:r,job_type:"tuning"}),alert("Tuning job submitted successfully!"),w("tuning"),b(!0)}catch(P){console.error("Failed to submit tuning job:",P),alert("Failed to submit tuning job.")}},R=o.jsx("div",{className:"space-y-5 animate-in fade-in duration-300",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Model Configuration"}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Model Type"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:e.model_type,onChange:P=>{t({...e,model_type:P.target.value,search_space:{}})},className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",disabled:D,children:C.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))}),o.jsx(Ht,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Target Column"}),O.length===0&&o.jsxs("div",{className:"mb-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-xs text-yellow-700 dark:text-yellow-400 flex items-center gap-2",children:[o.jsx(cb,{className:"w-3 h-3"}),o.jsx("span",{children:"Connect a dataset node to see available columns"})]}),o.jsxs("div",{className:"relative",children:[O.length>0?o.jsxs("select",{value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full appearance-none border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-all",children:[o.jsx("option",{value:"",children:"Select target..."}),O.map(P=>o.jsx("option",{value:P.name,children:P.name},P.name))]}):o.jsx("input",{type:"text",value:e.target_column,onChange:P=>t({...e,target_column:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",placeholder:"e.g., target"}),O.length>0&&o.jsx(Ht,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700"}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tuning Strategy"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Search Method"}),o.jsxs("select",{value:e.search_strategy??"random",onChange:P=>t({...e,search_strategy:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"random",children:"Random Search"}),o.jsx("option",{value:"grid",children:"Grid Search"}),o.jsx("option",{value:"halving_grid",children:"Successive Halving (Grid)"}),o.jsx("option",{value:"halving_random",children:"Successive Halving (Randomized)"}),o.jsx("option",{value:"optuna",children:"Optuna Search"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Metric"}),o.jsxs("select",{value:e.metric,onChange:P=>t({...e,metric:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"accuracy",children:"Accuracy"}),o.jsx("option",{value:"f1",children:"F1 Score"}),o.jsx("option",{value:"roc_auc",children:"ROC AUC"}),o.jsx("option",{value:"mse",children:"MSE"}),o.jsx("option",{value:"r2",children:"R2 Score"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Trials"}),o.jsx("input",{type:"number",value:e.n_trials,onChange:P=>t({...e,n_trials:Number(P.target.value)}),disabled:["grid","halving_grid"].includes(e.search_strategy),className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg p-2 text-sm bg-white dark:bg-gray-800 dark:text-gray-100 disabled:opacity-50",min:1})]})]})]}),o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>{m(!f)},className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nb,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cross Validation"})]}),o.jsx(Ia,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-90":""}`})]}),f&&o.jsxs("div",{className:"p-3 space-y-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 animate-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"cv_enabled",checked:e.cv_enabled!==!1,onChange:P=>t({...e,cv_enabled:P.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_enabled",className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Cross-Validation"})]}),e.cv_enabled!==!1&&o.jsxs("div",{className:"space-y-3 pl-6 border-l-2 border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Folds"}),o.jsx("input",{type:"number",value:e.cv_folds??5,onChange:P=>t({...e,cv_folds:Number(P.target.value)}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",min:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Method"}),o.jsxs("select",{value:e.cv_type??"k_fold",onChange:P=>t({...e,cv_type:P.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded p-1.5 text-sm bg-white dark:bg-gray-800 dark:text-gray-100",children:[o.jsx("option",{value:"k_fold",children:"K-Fold"}),o.jsx("option",{value:"stratified_k_fold",children:"Stratified"}),o.jsx("option",{value:"time_series_split",children:"Time Series"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"cv_shuffle",checked:e.cv_shuffle!==!1,onChange:P=>t({...e,cv_shuffle:P.target.checked}),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),o.jsx("label",{htmlFor:"cv_shuffle",className:"text-xs text-gray-600 dark:text-gray-400",children:"Shuffle Data"})]})]})]})]})]})}),T=o.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[o.jsx(lb,{className:"w-4 h-4 text-purple-500"}),"Hyperparameters"]})}),s?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Gn,{className:"w-6 h-6 animate-spin text-purple-500"})}):o.jsxs("div",{className:"space-y-3",children:[n.map(P=>{var L;return o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:o.jsx(dde,{def:P,value:((L=e.search_space)==null?void 0:L[P.name])||[],onChange:F=>{t({...e,search_space:{...e.search_space,[P.name]:F}})}})},`${e.model_type}-${P.name}`)}),n.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No hyperparameters available for this model."})]})]});return o.jsxs("div",{className:"flex flex-col h-full",ref:x,children:[h&&o.jsxs("div",{className:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded text-xs text-purple-700 dark:text-purple-300 flex justify-between items-start gap-2",children:[o.jsx("span",{children:"Automatically explore configurations to find the best performing model."}),o.jsx("button",{onClick:()=>{p(!1),sessionStorage.setItem("hide_info_model_optimizer","true")},className:"text-purple-400 hover:text-purple-600 dark:hover:text-purple-200",children:o.jsx(sr,{className:"w-3 h-3"})})]}),!y&&o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="config"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("config")},children:"Configuration"}),o.jsx("button",{className:`flex-1 py-2.5 text-xs font-medium text-center border-b-2 transition-colors ${u==="search_space"?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700"}`,onClick:()=>{d("search_space")},children:"Search Space"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-1 pb-4 custom-scrollbar",children:y?o.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[o.jsx("div",{className:"overflow-y-auto pr-2",children:R}),o.jsx("div",{className:"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-800",children:T})]}):o.jsxs(o.Fragment,{children:[u==="config"&&R,u==="search_space"&&T]})}),o.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-100 dark:border-gray-700 flex flex-col gap-3 items-center",children:[o.jsxs("button",{onClick:()=>{I()},className:"w-full max-w-xs flex items-center justify-center gap-2 px-6 py-2.5 text-white rounded-lg shadow-lg transition-all hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0",style:{background:"var(--main-gradient)"},children:[o.jsx(qi,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm font-semibold",children:"Start Train-Optimization"})]}),o.jsxs("button",{onClick:()=>{c(!0)},className:"text-xs text-gray-500 hover:text-purple-600 dark:text-gray-400 dark:hover:text-purple-400 flex items-center gap-1.5 transition-colors px-3 py-1 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800",children:[o.jsx(_r,{className:"w-3.5 h-3.5"}),"View Best Parameters History"]})]}),o.jsx(fde,{isOpen:l,onClose:()=>{c(!1)},modelType:e.model_type})]})},hde={type:"hyperparameter_tuning",label:"Train Model and Optimize",category:"Modeling",description:"Automatically optimize model performance.",icon:t6,inputs:[{id:"in",label:"Training Data",type:"dataset"}],outputs:[{id:"model",label:"Best Model",type:"model"}],settings:mde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:"",model_type:"random_forest_classifier",n_trials:10,metric:"accuracy",search_strategy:"random",cv_enabled:!0,cv_folds:5,cv_type:"k_fold",cv_shuffle:!0,cv_random_state:42,random_state:42,search_space:{}})},pde=({config:e,onChange:t,nodeId:r})=>{var j;const n=st(r||""),a=xe(k=>k.nodes),s=xe(k=>k.edges),i=xe(k=>k.executionResult),c=(k=>{var S;const N=new Set,_=[k];for(;_.length>0;){const E=_.shift();if(!E||N.has(E))continue;N.add(E);const O=a.find(A=>A.id===E);if(!O)continue;if(E!==k&&((S=O.data)!=null&&S.datasetId))return O.data.datasetId;const C=Us(O,a,s);for(const A of C)_.push(A.id)}})(r||""),u=(j=n.find(k=>k.target_column))==null?void 0:j.target_column;g.useEffect(()=>{const k={};c&&e.datasetId!==c&&(k.datasetId=c),u&&e.target_column!==u&&(k.target_column=u),Object.keys(k).length>0&&t({...e,...k})},[c,u,e.datasetId,e.target_column,t]);const{data:d,isLoading:f}=Ge(c||e.datasetId),m=d?Object.values(d.columns).map(k=>k.name):[],h=g.useRef(null),[p,x]=g.useState(!1);g.useEffect(()=>{if(!h.current)return;const k=new ResizeObserver(N=>{for(const _ of N)x(_.contentRect.width>450)});return k.observe(h.current),()=>{k.disconnect()}},[]);const v=()=>{const k=e.problem_type||"auto";return k==="classification"?[{value:"f_classif",label:"ANOVA F-value"},{value:"mutual_info_classif",label:"Mutual Information"},{value:"chi2",label:"Chi-squared"}]:k==="regression"?[{value:"f_regression",label:"F-value"},{value:"mutual_info_regression",label:"Mutual Information"},{value:"r_regression",label:"Pearson Correlation"}]:[{value:"f_classif",label:"ANOVA F-value (Classif)"},{value:"f_regression",label:"F-value (Reg)"},{value:"mutual_info_classif",label:"Mutual Info (Classif)"},{value:"mutual_info_regression",label:"Mutual Info (Reg)"}]},y=["select_k_best","select_percentile","select_fpr","select_fdr","select_fwe","generic_univariate_select"].includes(e.method),b=["select_from_model","rfe"].includes(e.method),w=()=>{const k=i==null?void 0:i.node_results[r||""];if(!k)return null;const N=k.metrics||{},_=N.dropped_columns,S=N.feature_scores,E=N.p_values,O=N.feature_importances,C=N.variances,A=N.ranking;return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),k.error&&o.jsx("div",{className:"p-2 bg-destructive/10 text-destructive rounded border border-destructive/20",children:k.error}),_&&_.length>0?o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1 flex justify-between items-center",children:o.jsxs("span",{children:["Dropped Columns (",_.length,")"]})}),o.jsx("div",{className:"max-h-40 overflow-y-auto bg-background p-2 rounded border space-y-1",children:_.map(D=>{const M=S==null?void 0:S[D],$=E==null?void 0:E[D],I=O==null?void 0:O[D],R=C==null?void 0:C[D],T=A==null?void 0:A[D];return o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[120px] font-medium text-destructive",title:D,children:D}),o.jsxs("div",{className:"flex flex-col items-end text-[10px] text-muted-foreground",children:[M!==void 0&&o.jsxs("span",{children:["Score: ",M.toFixed(4)]}),$!==void 0&&o.jsxs("span",{children:["p-val: ",$.toExponential(2)]}),I!==void 0&&o.jsxs("span",{children:["Imp: ",I.toFixed(4)]}),R!==void 0&&o.jsxs("span",{children:["Var: ",R.toFixed(4)]}),T!==void 0&&o.jsxs("span",{children:["Rank: ",T]})]})]},D)})})]}):k.status==="success"&&o.jsxs("div",{className:"text-green-600 text-[10px] space-y-1",children:[o.jsx("div",{children:"No columns were dropped."}),e.method==="variance_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["All features have variance > ",e.threshold??0,". Try increasing the threshold."]}),e.method==="select_k_best"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["K (",e.k??10,") is likely larger than or equal to the number of features. Try reducing K."]}),e.method==="correlation_threshold"&&o.jsxs("div",{className:"text-muted-foreground italic",children:["No feature pairs found with correlation > ",e.threshold??.95,"."]})]}),(S||O)&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Top 5 Features"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(S||O||{}).sort(([,D],[,M])=>M-D).slice(0,5).map(([D,M])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"truncate max-w-[120px]",title:D,children:D}),o.jsx("span",{className:"font-mono text-[10px]",children:M.toFixed(4)})]},D))})]})]})};return o.jsxs("div",{ref:h,className:`flex flex-col h-full w-full bg-background ${p?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!c&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to configure."}),f&&!!c&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${p?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Selection Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:k=>t({...e,method:k.target.value}),children:[o.jsxs("optgroup",{label:"Simple",children:[o.jsx("option",{value:"variance_threshold",children:"Variance Threshold"}),o.jsx("option",{value:"correlation_threshold",children:"Correlation Threshold"})]}),o.jsxs("optgroup",{label:"Univariate",children:[o.jsx("option",{value:"select_k_best",children:"Select K Best"}),o.jsx("option",{value:"select_percentile",children:"Select Percentile"}),o.jsx("option",{value:"select_fpr",children:"False Positive Rate (FPR)"}),o.jsx("option",{value:"select_fdr",children:"False Discovery Rate (FDR)"}),o.jsx("option",{value:"select_fwe",children:"Family-wise Error (FWE)"}),o.jsx("option",{value:"generic_univariate_select",children:"Generic Univariate"})]}),o.jsxs("optgroup",{label:"Model Based",children:[o.jsx("option",{value:"select_from_model",children:"Select From Model"}),o.jsx("option",{value:"rfe",children:"Recursive Feature Elimination (RFE)"})]})]})]}),e.method!=="variance_threshold"&&e.method!=="correlation_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),u?o.jsxs("div",{className:"p-2 bg-muted rounded text-sm text-muted-foreground border",children:[u," ",o.jsx("span",{className:"text-xs italic",children:"(Auto-detected)"})]}):o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:k=>t({...e,target_column:k.target.value}),children:[o.jsx("option",{value:"",children:"Select Target..."}),m.map(k=>o.jsx("option",{value:k,children:k},k))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for supervised selection methods."})]}),(y||b)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Problem Type"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.problem_type??"auto",onChange:k=>t({...e,problem_type:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto-detect"}),o.jsx("option",{value:"classification",children:"Classification"}),o.jsx("option",{value:"regression",children:"Regression"})]})]}),p&&o.jsx(w,{})]}),o.jsxs("div",{className:`space-y-4 ${p?"overflow-y-auto pl-2 border-l":"shrink-0 border-t pt-4"}`,children:[o.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Parameters"}),e.method==="variance_threshold"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??0,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features with variance lower than this will be removed."})]}),e.method==="correlation_threshold"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"number",step:"0.01",max:"1",min:"0",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??.95,onChange:k=>t({...e,threshold:parseFloat(k.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.correlation_method??"pearson",onChange:k=>t({...e,correlation_method:k.target.value}),children:[o.jsx("option",{value:"pearson",children:"Pearson"}),o.jsx("option",{value:"spearman",children:"Spearman"}),o.jsx("option",{value:"kendall",children:"Kendall"})]})]})]}),y&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Scoring Function"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.score_func??"",onChange:k=>t({...e,score_func:k.target.value}),children:[o.jsx("option",{value:"",children:"Auto (Default)"}),v().map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]}),(e.method==="select_k_best"||e.method==="rfe")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"K (Number of Features)"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.k??10,onChange:k=>t({...e,k:parseInt(k.target.value)})})]}),e.method==="select_percentile"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Percentile"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.percentile??10,onChange:k=>t({...e,percentile:parseInt(k.target.value)})})]}),["select_fpr","select_fdr","select_fwe"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Alpha (Significance)"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.alpha??.05,onChange:k=>t({...e,alpha:parseFloat(k.target.value)})})]}),e.method==="generic_univariate_select"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Mode"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.mode??"k_best",onChange:k=>t({...e,mode:k.target.value}),children:[o.jsx("option",{value:"k_best",children:"K Best"}),o.jsx("option",{value:"percentile",children:"Percentile"}),o.jsx("option",{value:"fpr",children:"FPR"}),o.jsx("option",{value:"fdr",children:"FDR"}),o.jsx("option",{value:"fwe",children:"FWE"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Parameter"}),o.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 border rounded bg-background text-sm",value:e.param??1e-5,onChange:k=>t({...e,param:parseFloat(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value for the selected mode (e.g., k, percentile, or alpha)."})]})]}),b&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Estimator"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.estimator??"auto",onChange:k=>t({...e,estimator:k.target.value}),children:[o.jsx("option",{value:"auto",children:"Auto"}),o.jsx("option",{value:"RandomForest",children:"Random Forest"}),o.jsx("option",{value:"LogisticRegression",children:"Logistic Regression"}),o.jsx("option",{value:"LinearRegression",children:"Linear Regression"})]})]}),e.method==="select_from_model"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Threshold"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background text-sm",placeholder:"e.g., median, mean, 1.25*mean",value:e.threshold??"median",onChange:k=>t({...e,threshold:k.target.value})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:'String (e.g. "median") or float.'})]}),e.method==="rfe"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Step"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded bg-background text-sm",value:e.step??1,onChange:k=>t({...e,step:parseInt(k.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Features to remove at each iteration."})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[o.jsx("input",{type:"checkbox",id:"drop_columns",className:"rounded border-gray-300",checked:e.drop_columns!==!1,onChange:k=>t({...e,drop_columns:k.target.checked})}),o.jsx("label",{htmlFor:"drop_columns",className:"text-sm font-medium",children:"Drop Columns"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If unchecked, columns will be identified but not removed from the dataset."}),!p&&o.jsx(w,{})]})]})]})},gde={type:"feature_selection",label:"Feature Selection",category:"Preprocessing",description:"Select the most important features.",icon:DP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Selected",type:"dataset"}],settings:pde,validate:e=>e.method!=="variance_threshold"&&!e.target_column?{isValid:!1,message:"Target column is required for this method."}:{isValid:!0},getDefaultConfig:()=>({method:"select_k_best",k:10})},yde=({config:e,onChange:t,nodeId:r})=>{var y;const n=st(r||""),a=xe(b=>b.nodes),s=xe(b=>b.edges),l=(b=>{var k;const w=new Set,j=[b];for(;j.length>0;){const N=j.shift();if(!N||w.has(N))continue;w.add(N);const _=a.find(E=>E.id===N);if(!_)continue;if(N!==b&&((k=_.data)!=null&&k.datasetId))return _.data.datasetId;const S=Us(_,a,s);for(const E of S)j.push(E.id)}})(r||""),c=(y=n.find(b=>b.target_column))==null?void 0:y.target_column;Mr.useEffect(()=>{const b={};l&&e.datasetId!==l&&(b.datasetId=l),c&&e.target_column!==c&&(b.target_column=c),Object.keys(b).length>0&&t({...e,...b})},[l,c,e.datasetId,e.target_column,t]);const{data:u,isLoading:d}=Ge(l||e.datasetId),f=u?Object.values(u.columns).map(b=>b.name):[],m=e.validation_size||0,h=1-e.test_size-m,p=Mr.useRef(null),[x,v]=Mr.useState(!1);return Mr.useEffect(()=>{if(!p.current)return;const b=new ResizeObserver(w=>{for(const j of w)v(j.contentRect.width>450)});return b.observe(p.current),()=>{b.disconnect()}},[]),o.jsxs("div",{ref:p,className:`flex flex-col h-full w-full bg-background ${x?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsxs("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:[!l&&!e.datasetId&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),d&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."})]}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${x?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.05",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:e.test_size,onChange:b=>t({...e,test_size:parseFloat(b.target.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Validation Size (0.0 - 1.0)"}),o.jsx("input",{type:"number",step:"0.05",min:"0.00",max:"0.95",className:"w-full p-2 border rounded bg-background text-sm",value:m,onChange:b=>t({...e,validation_size:parseFloat(b.target.value)})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(h*100),"% Training, ",Math.round(m*100),"% Validation, ",Math.round(e.test_size*100),"% Testing"]}),h<=0&&o.jsx("p",{className:"text-xs text-red-500 font-medium",children:"Error: Total split size exceeds 100%"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.random_state,onChange:b=>t({...e,random_state:parseInt(b.target.value)})})]})]}),o.jsxs("div",{className:`space-y-4 ${x?"overflow-y-auto pl-2 border-l":"shrink-0 pt-4 border-t"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"shuffle",checked:e.shuffle,onChange:b=>t({...e,shuffle:b.target.checked})}),o.jsx("label",{htmlFor:"shuffle",className:"text-sm font-medium",children:"Shuffle Data"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"stratify",checked:e.stratify,onChange:b=>t({...e,stratify:b.target.checked})}),o.jsx("label",{htmlFor:"stratify",className:"text-sm font-medium",children:"Stratify by Target"})]}),o.jsxs("div",{className:"space-y-2 pl-6 border-l-2 border-muted",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column??"",onChange:b=>t({...e,target_column:b.target.value}),disabled:!e.stratify,children:[o.jsx("option",{value:"",children:"-- Select Target --"}),f.map(b=>o.jsx("option",{value:b,children:b},b))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for stratification. If input is already separated (X, y), this is ignored."})]})]})]})]})},xde={type:"TrainTestSplitter",label:"Train-Test Split",category:"Preprocessing",description:"Split data into training and testing sets.",icon:zP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"train",label:"Train",type:"dataset"},{id:"validation",label:"Validation",type:"dataset"},{id:"test",label:"Test",type:"dataset"}],settings:yde,validate:e=>{if(e.test_size<=0||e.test_size>=1)return{isValid:!1,message:"Test size must be between 0 and 1."};const t=e.validation_size||0;return t<0||t>=1?{isValid:!1,message:"Validation size must be between 0 and 1."}:e.test_size+t>=1?{isValid:!1,message:"Sum of Test and Validation sizes must be less than 1."}:{isValid:!0}},getDefaultConfig:()=>({test_size:.2,validation_size:0,random_state:42,stratify:!1,shuffle:!0})},vde=({config:e,onChange:t,nodeId:r})=>{const n=xe(u=>u.nodes),a=xe(u=>u.edges),i=(u=>{var m;const d=new Set,f=[u];for(;f.length>0;){const h=f.shift();if(!h||d.has(h))continue;d.add(h);const p=n.find(v=>v.id===h);if(!p)continue;if(h!==u&&((m=p.data)!=null&&m.datasetId))return p.data.datasetId;const x=Us(p,n,a);for(const v of x)f.push(v.id)}})(r||"");Mr.useEffect(()=>{i&&e.datasetId!==i&&t({...e,datasetId:i})},[i,e.datasetId,t]);const{data:l}=Ge(i||e.datasetId),c=l?Object.values(l.columns).map(u=>u.name):[];return o.jsx("div",{className:"p-4 space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column,onChange:u=>t({...e,target_column:u.target.value}),children:[o.jsx("option",{value:"",children:"-- Select Target --"}),c.map(u=>o.jsx("option",{value:u,children:u},u))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This column will be separated as the target (y), and all other columns will be features (X)."})]})})},bde={type:"feature_target_split",label:"Feature-Target Split",category:"Preprocessing",description:"Separate features (X) from target (y).",icon:zP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"X",label:"Features (X)",type:"dataset"},{id:"y",label:"Target (y)",type:"dataset"}],settings:vde,validate:e=>e.target_column?{isValid:!0}:{isValid:!1,message:"Target column is required."},getDefaultConfig:()=>({target_column:""})},wde=({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=st(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{isLoading:s}=Ge(a),i=xe(d=>d.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null;return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),s&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("input",{type:"checkbox",checked:e.drop_if_any_missing,onChange:d=>t({...e,drop_if_any_missing:d.target.checked}),className:"rounded border-gray-300"}),"Drop rows with ANY missing values"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"If checked, any row containing at least one missing value will be removed."})]}),o.jsxs("div",{className:`space-y-2 ${e.drop_if_any_missing?"opacity-50 pointer-events-none":""}`,children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing Value Threshold (%)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:e.missing_threshold||0,onChange:d=>t({...e,missing_threshold:parseInt(d.target.value)}),className:"flex-1"}),o.jsxs("span",{className:"text-sm w-12 text-right",children:[e.missing_threshold||0,"%"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Drop rows that have more than this percentage of missing values."})]}),c&&c.DropMissingRows_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(c.DropMissingRows_rows_removed)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:String(c.DropMissingRows_rows_remaining)})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:String(c.DropMissingRows_rows_total)})]})]})]})]})},jde={type:"drop_missing_rows",label:"Drop Rows",category:"Preprocessing",description:"Drop rows based on missing values.",icon:RF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:wde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({drop_if_any_missing:!1,missing_threshold:50})},kde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=st(r||"").find(y=>y.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(y=>y.name):[],c=xe(y=>y.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,[f,m]=g.useState(""),h=g.useMemo(()=>l.filter(y=>y.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,subset:h})},x=()=>{const y=e.subset.filter(b=>!h.includes(b));t({...e,subset:y})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keep Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.keep,onChange:y=>t({...e,keep:y.target.value}),children:[o.jsx("option",{value:"first",children:"Keep First Occurrence"}),o.jsx("option",{value:"last",children:"Keep Last Occurrence"}),o.jsx("option",{value:"none",children:"Drop All Duplicates"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Determines which duplicates (if any) to keep."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Subset Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.subset.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Only consider these columns for identifying duplicates. If empty, all columns are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:y=>{m(y.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[h.map(y=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.subset.includes(y),onChange:b=>{const w=b.target.checked?[...e.subset,y]:e.subset.filter(j=>j!==y);t({...e,subset:w})}}),y]},y)),h.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),d&&d.Deduplicate_rows_removed!==void 0&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Duplicates Removed:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(d.Deduplicate_rows_removed)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Remaining:"}),o.jsx("span",{className:"font-medium",children:String(d.Deduplicate_rows_remaining)})]}),o.jsxs("div",{className:"flex justify-between pt-1 border-t",children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Rows:"}),o.jsx("span",{className:"font-medium",children:String(d.Deduplicate_rows_total)})]})]})]})]})},Nde={type:"deduplicate",label:"Deduplicate",category:"Preprocessing",description:"Remove duplicate rows.",icon:AF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Unique Data",type:"dataset"}],settings:kde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({subset:[],keep:"first"})},Sde=[{value:"float",label:"Float (Decimal)"},{value:"int",label:"Integer"},{value:"string",label:"String (Text)"},{value:"category",label:"Category"},{value:"bool",label:"Boolean"},{value:"datetime",label:"Datetime"}],_de=({config:e,onChange:t,nodeId:r})=>{var b;const a=(b=st(r||"").find(w=>w.datasetId))==null?void 0:b.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(w=>w.name):[],c=xe(w=>w.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,f=g.useRef(null),[m,h]=g.useState(!1);g.useEffect(()=>{if(!f.current)return;const w=new ResizeObserver(j=>{for(const k of j)h(k.contentRect.width>450)});return w.observe(f.current),()=>{w.disconnect()}},[]);const p=()=>{if(l.length===0)return;const w=l.find(j=>!e.column_types[j])||l[0];t({...e,column_types:{...e.column_types,[w]:"float"}})},x=w=>{const j={...e.column_types};Reflect.deleteProperty(j,w),t({...e,column_types:j})},v=(w,j)=>{if(w===j)return;const k=e.column_types[w],N={...e.column_types};Reflect.deleteProperty(N,w),N[j]=k,t({...e,column_types:N})},y=(w,j)=>{t({...e,column_types:{...e.column_types,[w]:j}})};return o.jsxs("div",{ref:f,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium",children:"Casting Rules"}),o.jsx("button",{onClick:p,disabled:!a||l.length===0,className:"p-1.5 bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 transition-colors",title:"Add Casting Rule",children:o.jsx(Yi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:`space-y-2 ${m?"grid grid-cols-2 gap-2 space-y-0":""}`,children:[Object.entries(e.column_types).map(([w,j])=>o.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded bg-muted/10 group",children:[o.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:w,onChange:k=>{v(w,k.target.value)},children:l.map(k=>o.jsx("option",{value:k,disabled:k!==w&&!!e.column_types[k],children:k},k))}),o.jsx("select",{className:"w-full p-1.5 text-sm border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:j,onChange:k=>{y(w,k.target.value)},children:Sde.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsx("button",{onClick:()=>{x(w)},className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Remove Rule",children:o.jsx(Bs,{className:"w-4 h-4"})})]},w)),Object.keys(e.column_types).length===0&&o.jsx("div",{className:`text-xs text-muted-foreground italic border border-dashed rounded p-8 text-center ${m?"col-span-2":""}`,children:"No casting rules defined. Click + to add one."})]})]}),d&&(d.cast_errors!==void 0||d.casted_columns_count!==void 0)&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[d.casted_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Casted:"}),o.jsx("span",{className:"font-medium",children:String(d.casted_columns_count)})]}),d.cast_errors!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Errors Encountered:"}),o.jsx("span",{className:"font-medium text-destructive",children:String(d.cast_errors)})]})]})]})]})},Ede={type:"casting",label:"Cast Types",category:"Preprocessing",description:"Cast columns to specific data types.",icon:DF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Casted Data",type:"dataset"}],settings:_de,validate:e=>({isValid:!0}),getDefaultConfig:()=>({column_types:{}})},Cde=({config:e,onChange:t,nodeId:r})=>{var v;const a=(v=st(r||"").find(y=>y.datasetId))==null?void 0:v.datasetId,{data:s,isLoading:i}=Ge(a),l=s?Object.values(s.columns).map(y=>y.name):[],c=xe(y=>y.executionResult),u=r?c==null?void 0:c.node_results[r]:null,d=u!=null&&u.metrics&&typeof u.metrics=="object"?u.metrics:null,[f,m]=g.useState(""),h=g.useMemo(()=>l.filter(y=>y.toLowerCase().includes(f.toLowerCase())),[l,f]),p=()=>{t({...e,columns:h})},x=()=>{const y=e.columns.filter(b=>!h.includes(b));t({...e,columns:y})};return o.jsxs("div",{className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Indicator Suffix"}),o.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.flag_suffix,onChange:y=>t({...e,flag_suffix:y.target.value}),placeholder:"_was_missing"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Suffix added to the new indicator columns (e.g., "Age_was_missing").'})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns (Optional)"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Create indicators for these columns. If empty, all columns with missing values are used."}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:f,onChange:y=>{m(y.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:p,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:x,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),l.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[h.map(y=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(y),onChange:b=>{const w=b.target.checked?[...e.columns,y]:e.columns.filter(j=>j!==y);t({...e,columns:w})}}),y]},y)),h.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',f,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No columns available"})]}),(()=>{const y=d==null?void 0:d.missing_indicators_created,b=Array.isArray(d==null?void 0:d.missing_indicators_columns)?d==null?void 0:d.missing_indicators_columns:[];return y===void 0?null:o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Indicators Created:"}),o.jsx("span",{className:"font-medium text-primary",children:String(y)})]}),b.length>0&&o.jsxs("div",{className:"pt-1 border-t mt-1",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"New Columns:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:b.map(w=>{const j=String(w);return o.jsx("span",{className:"px-1.5 py-0.5 bg-background border rounded text-[10px] font-mono",children:j},j)})})]})]})]})})()]})},Pde={type:"MissingIndicator",label:"Missing Indicator",category:"Preprocessing",description:"Create binary indicators for missing values.",icon:LF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Augmented Data",type:"dataset"}],settings:Cde,validate:e=>({isValid:!0}),getDefaultConfig:()=>({columns:[],flag_suffix:"_was_missing"})},Ode=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=st(r||"").find(S=>S.datasetId))==null?void 0:_.datasetId,{data:s,isLoading:i}=Ge(a),[l,c]=g.useState(""),u=g.useRef(null),[d,f]=g.useState(!1),m=xe(S=>S.executionResult),h=r?m==null?void 0:m.node_results[r]:null,p=h!=null&&h.metrics&&typeof h.metrics=="object"?h.metrics:null,x=p!=null&&p.categories_count&&typeof p.categories_count=="object"?p.categories_count:null,v=p!=null&&p.classes_count&&typeof p.classes_count=="object"?p.classes_count:null,b=((m==null?void 0:m.recommendations)||[]).filter(S=>S.suggested_node_type==="encoding"||S.type.includes("encoding")||S.type.includes("cardinality"));g.useEffect(()=>{if(!u.current)return;const S=new ResizeObserver(E=>{for(const O of E)f(O.contentRect.width>400)});return S.observe(u.current),()=>{S.disconnect()}},[]);const w=s?Object.values(s.columns).filter(S=>["object","string","category","bool"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],j=w.filter(S=>S.toLowerCase().includes(l.toLowerCase())),k=()=>{t({...e,columns:[...w]})},N=()=>{t({...e,columns:[]})};return o.jsxs("div",{ref:u,className:"p-4 space-y-4",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),i&&!!a&&o.jsx("div",{className:"text-xs text-muted-foreground animate-pulse",children:"Loading schema..."}),o.jsxs("div",{className:`grid gap-4 ${d?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Encoding Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.method,onChange:S=>t({...e,method:S.target.value}),children:[o.jsx("option",{value:"onehot",children:"One-Hot Encoding"}),o.jsx("option",{value:"dummy",children:"Dummy Encoding"}),o.jsx("option",{value:"label",children:"Label Encoding"}),o.jsx("option",{value:"ordinal",children:"Ordinal Encoding"}),o.jsx("option",{value:"target",children:"Target Encoding"}),o.jsx("option",{value:"hash",children:"Hash Encoding"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.method==="onehot"&&"Creates binary columns for each category.",e.method==="dummy"&&"Like One-Hot but drops first category to avoid collinearity.",e.method==="label"&&"Assigns a unique integer to each category.",e.method==="ordinal"&&"Encodes categories as ordered integers.",e.method==="target"&&"Encodes categories based on target mean.",e.method==="hash"&&"Maps categories to a fixed number of features."]}),o.jsxs("div",{className:"pt-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.drop_original!==!1,onChange:S=>t({...e,drop_original:S.target.checked}),className:"rounded border-gray-300"}),"Drop Original Column"]}),o.jsx("p",{className:"text-[10px] text-muted-foreground ml-5",children:"If unchecked, keeps the original column alongside encoded features."})]})]}),o.jsxs("div",{className:"space-y-2",children:[(e.method==="onehot"||e.method==="dummy")&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx("input",{type:"checkbox",checked:e.method==="dummy"?!0:e.drop_first||!1,disabled:e.method==="dummy",onChange:S=>t({...e,drop_first:S.target.checked}),className:"rounded border-gray-300"}),"Drop First Category"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Handle Unknown"}),o.jsxs("select",{className:"w-full p-1 text-sm border rounded",value:e.handle_unknown||"ignore",onChange:S=>t({...e,handle_unknown:S.target.value}),title:"How to handle categories seen in test data but not in training data.",children:[o.jsx("option",{value:"ignore",children:"Ignore (Zeros)"}),o.jsx("option",{value:"error",children:"Raise Error"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:'"Ignore" produces all-zeros for unknown categories.'})]})]}),e.method==="target"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Column"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.target_column||"",onChange:S=>t({...e,target_column:S.target.value}),children:[o.jsx("option",{value:"",children:"Select a target column..."}),s&&Object.values(s.columns).map(S=>o.jsxs("option",{value:S.name,children:[S.name," (",S.dtype,")"]},S.name))]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"The column to use for calculating target statistics."})]}),e.method==="hash"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Features"}),o.jsx("input",{type:"number",min:"1",className:"w-full p-2 border rounded",value:e.n_features||8,onChange:S=>t({...e,n_features:parseInt(S.target.value)})})]}),e.method==="ordinal"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Unknown Value"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.unknown_value??-1,onChange:S=>t({...e,unknown_value:parseInt(S.target.value)}),title:"Integer to assign for unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to unknown categories (default: -1)."})]}),e.method==="label"&&o.jsxs("div",{className:"space-y-2 p-3 bg-muted/20 rounded border h-full",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Missing/Unknown Code"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded",value:e.missing_code??-1,onChange:S=>t({...e,missing_code:parseInt(S.target.value)}),title:"Integer to assign for missing or unknown categories."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Value assigned to missing/unknown categories (default: -1)."})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Columns to Encode"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsxs("div",{className:"space-y-2 mb-2",children:[o.jsx("input",{type:"text",placeholder:"Search columns...",className:"block w-full px-3 py-1.5 text-sm bg-background border rounded-md shadow-sm focus:ring-1 focus:ring-primary outline-none",value:l,onChange:S=>{c(S.target.value)}}),o.jsxs("div",{className:"flex gap-2 text-xs justify-end",children:[o.jsx("button",{onClick:k,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Select All"}),o.jsx("span",{className:"text-border",children:"|"}),o.jsx("button",{onClick:N,className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Deselect All"})]})]}),w.length>0?o.jsxs("div",{className:"space-y-1 max-h-40 overflow-y-auto border rounded p-2 bg-background",children:[j.map(S=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary focus:ring-primary",checked:e.columns.includes(S),onChange:E=>{const O=E.target.checked?[...e.columns,S]:e.columns.filter(C=>C!==S);t({...e,columns:O})}}),S]},S)),j.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-2",children:['No columns match "',l,'"']})]}):o.jsx("div",{className:"text-xs text-muted-foreground italic border rounded p-4 text-center",children:"No categorical columns found"})]}),b.length>0&&o.jsx(Qi,{recommendations:b}),p&&o.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-md border border-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsxs("div",{className:"space-y-1 text-xs",children:[p.encoded_columns_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Columns Encoded:"}),o.jsx("span",{className:"font-medium",children:String(p.encoded_columns_count)})]}),p.new_features_count!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary",children:String(p.new_features_count)})]}),x&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Categories Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(x).map(([S,E])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),o.jsx("span",{className:"font-mono",children:String(E)})]},S))})]}),v&&o.jsxs("div",{className:"mt-2 border-t pt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1 font-medium",children:"Classes Found:"}),o.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(v).map(([S,E])=>o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"truncate max-w-[100px]",title:S,children:[S,":"]}),o.jsx("span",{className:"font-mono",children:String(E)})]},S))})]})]})]})]})},Ade={type:"encoding",label:"Encoding",category:"Preprocessing",description:"Encode categorical variables.",icon:BF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Encoded Data",type:"dataset"}],settings:Ode,validate:e=>e.columns.length===0?{isValid:!1,error:"Select at least one column"}:{isValid:!0},getDefaultConfig:()=>({method:"onehot",columns:[],drop_first:!1,handle_unknown:"ignore",n_features:8,unknown_value:-1,missing_code:-1})},Mde=({config:e,onChange:t,nodeId:r})=>{const n=xe(_=>_.nodes),a=xe(_=>_.edges),i=(_=>{var O;const S=new Set,E=[_];for(;E.length>0;){const C=E.shift();if(!C||S.has(C))continue;S.add(C);const A=n.find(M=>M.id===C);if(!A)continue;if(C!==_&&((O=A.data)!=null&&O.datasetId))return A.data.datasetId;const D=Us(A,n,a);for(const M of D)E.push(M.id)}})(r||""),{data:l,isLoading:c}=Ge(i),u=Dl(r||"",{types:["outlier_removal","cleaning"],suggestedNodeTypes:["OutlierRemoval","outlier"],scope:"column"}),d=xe(_=>_.executionResult),f=r?d==null?void 0:d.node_results[r]:null,m=g.useRef(null),[h,p]=g.useState(!1),[x,v]=g.useState("");g.useEffect(()=>{if(!m.current)return;const _=new ResizeObserver(S=>{for(const E of S)p(E.contentRect.width>450)});return _.observe(m.current),()=>{_.disconnect()}},[]);const y=l?Object.values(l.columns).filter(_=>["int","float","number"].some(S=>_.dtype.toLowerCase().includes(S))).map(_=>_.name):[],b=y.filter(_=>_.toLowerCase().includes(x.toLowerCase())),w=()=>{t({...e,columns:b})},j=()=>{const _=e.columns.filter(S=>!b.includes(S));t({...e,columns:_})},k=()=>{if(!f||!f.metrics)return null;const _=f.metrics,S=_.rows_removed,E=_.rows_remaining,O=_.rows_total??(S??0)+(E??0),C=_.bounds,A=_.stats,D=_.contamination,M=_.warnings,$=_.values_clipped;if(S===void 0&&!C&&!A&&D===void 0&&!M&&$===void 0)return null;const I=()=>{switch(e.method){case"iqr":return"Removes statistical outliers (IQR)";case"zscore":return"Removes deviations > 3";case"winsorize":return"Clips extreme values";case"elliptic_envelope":return"Detects multivariate anomalies";default:return""}};return o.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded border text-xs space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"font-medium text-muted-foreground",children:"Execution Feedback"}),o.jsx("div",{className:"text-[10px] text-primary/80 bg-primary/5 px-1.5 py-0.5 rounded border border-primary/10",title:"Goal of the selected method",children:I()})]}),M&&M.length>0&&o.jsxs("div",{className:"p-2 bg-yellow-50 text-yellow-800 rounded border border-yellow-200",children:[o.jsx("div",{className:"font-medium mb-1",children:"Warnings"}),o.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:M.map((R,T)=>o.jsx("li",{className:"truncate",title:R,children:R},T))})]}),e.method==="winsorize"?o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Values Clipped"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"font-mono font-medium text-blue-600",children:$??0}),o.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"(Replaced with bounds)"})]})]}):o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Rows Removed"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("span",{className:"font-mono font-medium text-destructive",children:S??0}),O>0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["(",((S??0)/O*100).toFixed(1),"%)"]})]}),E!==void 0&&o.jsxs("span",{className:"text-[10px] text-muted-foreground block",children:[E," remaining"]})]})]}),D!==void 0&&o.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded border",children:[o.jsx("span",{className:"text-muted-foreground",children:"Contamination"}),o.jsxs("span",{className:"font-mono font-medium",children:[(D*100).toFixed(1),"%"]})]}),C&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Calculated Bounds"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(C).map(([R,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["[",T.lower.toFixed(2),", ",T.upper.toFixed(2),"]"]})]},R))})]}),A&&o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Z-Score Stats"}),o.jsx("div",{className:"max-h-32 overflow-y-auto bg-background p-2 rounded border space-y-1",children:Object.entries(A).map(([R,T])=>o.jsxs("div",{className:"flex justify-between items-center border-b border-border/50 last:border-0 pb-1 last:pb-0",children:[o.jsx("span",{className:"truncate max-w-[100px] font-medium",title:R,children:R}),o.jsxs("span",{className:"font-mono text-[10px] text-muted-foreground",children:["=",T.mean.toFixed(2),", =",T.std.toFixed(2)]})]},R))})]})]})},N=()=>{const _=[];if(f&&f.metrics){const E=f.metrics,O=E.rows_removed,A=E.rows_total??E[`${e.method==="elliptic_envelope"?"EllipticEnvelope":e.method==="zscore"?"ZScore":e.method==="winsorize"?"Winsorize":"IQR"}_rows_total`];if(O!==void 0&&A!==void 0&&A>0){const D=O/A;D>.2?_.push({rule_id:"high_data_loss",type:"warning",description:"High data loss (>20%).",reasoning:"Consider relaxing parameters (e.g., higher IQR multiplier or Z-Score threshold) or using Winsorization to clip values instead of removing rows.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]}):D===0&&e.method!=="winsorize"&&_.push({rule_id:"no_outliers",type:"info",description:"No outliers detected.",reasoning:"If you suspect outliers, try tightening the parameters (e.g., lower IQR multiplier).",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}e.method==="elliptic_envelope"&&_.push({rule_id:"elliptic_stochastic",type:"info",description:"Stochastic Method",reasoning:"Elliptic Envelope is stochastic. Results may vary slightly between runs.",suggested_node_type:"OutlierRemoval",suggested_params:{},confidence:1,target_columns:[]})}const S=[...u,..._];return S.length===0?null:o.jsx("div",{className:"mt-4",children:o.jsx(Qi,{recommendations:S})})};return o.jsxs("div",{ref:m,className:`flex flex-col h-full w-full bg-background ${h?"overflow-hidden":"overflow-y-auto"}`,children:[o.jsx("div",{className:"shrink-0 p-4 pb-0 space-y-2",children:!i&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."})}),o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${h?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${h?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Method"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background text-sm",value:e.method,onChange:_=>t({...e,method:_.target.value}),children:[o.jsx("option",{value:"iqr",children:"IQR (Interquartile Range)"}),o.jsx("option",{value:"zscore",children:"Z-Score (Standard Deviation)"}),o.jsx("option",{value:"winsorize",children:"Winsorize (Clip Values)"}),o.jsx("option",{value:"elliptic_envelope",children:"Elliptic Envelope (Multivariate)"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[e.method==="iqr"&&"Removes rows with values outside Q1/Q3  multiplier * IQR.",e.method==="zscore"&&"Removes rows with values more than N standard deviations from mean.",e.method==="winsorize"&&"Clips values to specified percentiles instead of removing rows.",e.method==="elliptic_envelope"&&"Fits a robust covariance estimate to detect outliers."]})]}),e.method==="iqr"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Multiplier"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.multiplier??1.5,onChange:_=>t({...e,multiplier:parseFloat(_.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usually 1.5 for outliers, 3.0 for extreme outliers."})]}),e.method==="zscore"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Threshold (Sigma)"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full p-2 border rounded bg-background text-sm",value:e.threshold??3,onChange:_=>t({...e,threshold:parseFloat(_.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Number of standard deviations to tolerate."})]}),e.method==="winsorize"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Percentiles"}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Lower"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.lower_percentile??5,onChange:_=>t({...e,lower_percentile:parseFloat(_.target.value)})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-[10px] text-muted-foreground",children:"Upper"}),o.jsx("input",{type:"number",className:"w-full p-2 border rounded bg-background text-sm",value:e.upper_percentile??95,onChange:_=>t({...e,upper_percentile:parseFloat(_.target.value)})})]})]})]}),e.method==="elliptic_envelope"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Contamination"}),o.jsx("input",{type:"number",step:"0.01",min:"0",max:"0.5",className:"w-full p-2 border rounded bg-background text-sm",value:e.contamination??.01,onChange:_=>t({...e,contamination:parseFloat(_.target.value)})}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected proportion of outliers in the dataset."})]}),h&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(N,{})]})]}),o.jsxs("div",{className:`flex flex-col h-full min-h-[200px] border rounded-md overflow-hidden ${h?"":"shrink-0"}`,children:[o.jsxs("div",{className:"p-2 border-b bg-muted/30 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Numeric Columns (",e.columns.length,")"]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:w,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"All"}),o.jsx("button",{onClick:j,className:"text-[10px] px-2 py-1 hover:bg-accent rounded",children:"None"})]})]}),o.jsx("input",{type:"text",placeholder:"Search columns...",className:"w-full text-xs p-1.5 border rounded bg-background",value:x,onChange:_=>{v(_.target.value)}})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:b.length>0?b.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm hover:bg-accent/50 p-1.5 rounded cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(_),onChange:S=>{const E=S.target.checked?[...e.columns,_]:e.columns.filter(O=>O!==_);t({...e,columns:E})},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:_,children:_})]},_)):o.jsx("div",{className:"text-xs text-muted-foreground italic p-4 text-center",children:c?"Loading schema...":y.length===0?"No numeric columns found":"No matches found"})})]}),!h&&o.jsxs(o.Fragment,{children:[o.jsx(k,{}),o.jsx(N,{})]})]})]})},Tde={type:"outlier",label:"Outlier Removal",category:"Preprocessing",description:"Detect and remove or clip outliers.",icon:e6,inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Cleaned"}],settings:Mde,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:{isValid:!0},getDefaultConfig:()=>({method:"iqr",columns:[],multiplier:1.5,threshold:3,lower_percentile:5,upper_percentile:95,contamination:.01})},w0={power:{label:"Power Transforms",methods:[{value:"yeo-johnson",label:"Yeo-Johnson"},{value:"box-cox",label:"Box-Cox (>0 only)"}]},simple:{label:"Simple Math",methods:[{value:"log",label:"Log (log1p)"},{value:"square_root",label:"Square Root"},{value:"cube_root",label:"Cube Root"},{value:"reciprocal",label:"Reciprocal (1/x)"},{value:"square",label:"Square (x)"},{value:"exponential",label:"Exponential (e)"}]}},Ide=e=>["yeo-johnson","box-cox"].includes(e)?"power":"simple",Dde=({allColumns:e,selectedColumns:t,onChange:r})=>{const[n,a]=g.useState(""),s=g.useMemo(()=>e.filter(u=>u.toLowerCase().includes(n.toLowerCase())),[e,n]),i=()=>{const u=Array.from(new Set([...t,...s]));r(u)},l=()=>{const u=t.filter(d=>!s.includes(d));r(u)},c=u=>{t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-background",children:[o.jsx("div",{className:"flex gap-2 items-center",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Fs,{className:"absolute left-2 top-1.5 w-3 h-3 text-muted-foreground"}),o.jsx("input",{className:"w-full pl-7 pr-2 py-1 text-xs border rounded bg-background",placeholder:"Search columns...",value:n,onChange:u=>{a(u.target.value)}})]})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-2",children:[o.jsx("button",{onClick:i,className:"text-primary hover:underline font-medium",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:l,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[t.length," selected"]})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 pt-1",children:s.length===0?o.jsxs("div",{className:"text-xs text-muted-foreground p-2 text-center",children:['No columns match "',n,'"']}):s.map(u=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:t.includes(u),onChange:()=>{c(u)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:u,children:u})]},u))})]})},Rde=({config:e,onChange:t,nodeId:r})=>{var j;const n=g.useMemo(()=>e||{transformations:[]},[e]),a=g.useMemo(()=>Array.isArray(n.transformations)?n.transformations:[],[n.transformations]),[s,i]=g.useState([]),l=g.useRef(null),[c,u]=g.useState(!1);g.useEffect(()=>{if(!l.current)return;const k=new ResizeObserver(N=>{for(const _ of N)u(_.contentRect.width>450)});return k.observe(l.current),()=>{k.disconnect()}},[]);const f=(j=st(r||"").find(k=>k.datasetId))==null?void 0:j.datasetId,{data:m}=Ge(f),h=g.useMemo(()=>m!=null&&m.columns?Object.values(m.columns).filter(k=>["int","float","number"].some(N=>k.dtype.toLowerCase().includes(N))).map(k=>k.name):[],[m]),p=()=>{const k=a.length;i(N=>[...N,k]),t({transformations:[...a,{columns:[],method:"log",params:{}}]})},x=(k,N)=>{const _=[...a];_[k]={..._[k],...N},t({transformations:_})},v=k=>{const N=[...a];N.splice(k,1),t({transformations:N}),i(_=>_.filter(S=>S!==k).map(S=>S>k?S-1:S))},y=k=>{i(N=>N.includes(k)?N.filter(_=>_!==k):[...N,k])},b=(k,N)=>{const _=w0[N].methods[0].value;x(k,{method:_})},w=Dl(r||"",{types:["transformation","preprocessing"],suggestedNodeTypes:["TransformationNode"],scope:"column"});return o.jsxs("div",{ref:l,className:"p-4 space-y-6 h-full overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-sm font-medium",children:"Transformation Rules"}),o.jsxs("button",{onClick:p,className:"flex items-center gap-1 text-xs bg-primary text-primary-foreground px-2 py-1 rounded hover:bg-primary/90",children:[o.jsx(Yi,{size:12})," Add Rule"]})]}),o.jsxs("div",{className:"space-y-4",children:[a.map((k,N)=>{var O,C,A;const _=Ide(k.method),S=s.includes(N),E=((O=w0[_].methods.find(D=>D.value===k.method))==null?void 0:O.label)||k.method;return o.jsxs("div",{className:"border rounded bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>{y(N)},children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S?o.jsx(Ht,{size:16,className:"text-muted-foreground flex-shrink-0"}):o.jsx(Ia,{size:16,className:"text-muted-foreground flex-shrink-0"}),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx("span",{className:"text-sm font-medium truncate",children:E}),o.jsx("span",{className:"text-xs text-muted-foreground truncate",children:k.columns.length===0?"No columns selected":`${k.columns.length} columns`})]})]}),o.jsx("button",{onClick:D=>{D.stopPropagation(),v(N)},className:"text-destructive hover:bg-destructive/10 p-1.5 rounded flex-shrink-0",title:"Remove rule",children:o.jsx(Bs,{size:14})})]}),S&&o.jsxs("div",{className:`p-3 border-t bg-accent/5 animate-in slide-in-from-top-2 duration-200 ${c?"grid grid-cols-2 gap-4":"space-y-3"}`,children:[o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Method"}),o.jsxs("select",{className:"w-full p-1.5 border rounded text-xs bg-background font-medium",value:_,onChange:D=>{b(N,D.target.value)},onClick:D=>{D.stopPropagation()},children:[o.jsx("option",{value:"simple",children:"Simple Math"}),o.jsx("option",{value:"power",children:"Power Transform"})]}),o.jsx("select",{className:"w-full p-1.5 border rounded text-xs bg-background",value:k.method,onChange:D=>{x(N,{method:D.target.value})},onClick:D=>{D.stopPropagation()},children:w0[_].methods.map(D=>o.jsx("option",{value:D.value,children:D.label},D.value))})]}),(k.method==="yeo-johnson"||k.method==="box-cox")&&o.jsxs("div",{className:"flex items-center gap-2 pt-1",onClick:D=>{D.stopPropagation()},children:[o.jsx("input",{type:"checkbox",id:`std-${N}`,checked:((C=k.params)==null?void 0:C.standardize)!==!1,onChange:D=>{x(N,{params:{...k.params,standardize:D.target.checked}})}}),o.jsx("label",{htmlFor:`std-${N}`,className:"text-xs text-muted-foreground",children:"Standardize result"})]}),k.method==="exponential"&&o.jsxs("div",{className:"flex flex-col gap-1 pt-1",onClick:D=>{D.stopPropagation()},children:[o.jsx("label",{className:"text-xs text-muted-foreground",children:"Clip Threshold:"}),o.jsx("input",{type:"number",className:"w-full p-1 border rounded text-xs",value:((A=k.params)==null?void 0:A.clip_threshold)||700,onChange:D=>{x(N,{params:{...k.params,clip_threshold:parseFloat(D.target.value)}})}})]})]}),o.jsxs("div",{className:"space-y-1 min-w-0",onClick:D=>{D.stopPropagation()},children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Target Columns"}),o.jsx(Dde,{allColumns:h,selectedColumns:k.columns,onChange:D=>{x(N,{columns:D})}})]})]})]},N)}),a.length===0&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center py-8 border border-dashed rounded bg-muted/20",children:["No transformation rules defined.",o.jsx("br",{}),'Click "Add Rule" to start.']})]}),o.jsx(Qi,{recommendations:w||[],onApply:k=>{var E;const N=k,_=N.suggested_params.method||((E=N.params)==null?void 0:E.method)||"log",S=N.target_columns||[];if(S.length>0){const O=a.length;i(C=>[...C,O]),t({transformations:[...a,{columns:S,method:_,params:{}}]})}}})]})},Lde={type:"TransformationNode",label:"Transformation",description:"Apply mathematical transformations to features.",icon:FP,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Transformed"}],validate:e=>{if(e.transformations.length===0)return{isValid:!1,message:"Add at least one transformation rule."};for(const t of e.transformations)if(t.columns.length===0)return{isValid:!1,message:"Each rule must have at least one column selected."};return{isValid:!0}},settings:Rde,getDefaultConfig:()=>({transformations:[]})},$de=({value:e,onChange:t})=>{const[r,n]=g.useState((e==null?void 0:e.join(", "))||""),a=g.useRef(e);g.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(a.current)&&(n((e==null?void 0:e.join(", "))||""),a.current=e)},[e]);const s=()=>{const i=r.split(",").map(l=>parseFloat(l.trim())).filter(l=>!isNaN(l)).sort((l,c)=>l-c);t(i)};return o.jsx("input",{type:"text",className:"w-full p-1 text-xs border rounded bg-background text-foreground",placeholder:"0, 10, 20, 100...",value:r,onChange:i=>{n(i.target.value)},onBlur:s})},zde=({config:e,onChange:t,nodeId:r})=>{var y;const a=(y=st(r||"").find(b=>b.datasetId))==null?void 0:y.datasetId,{data:s,isLoading:i}=Ge(a),l=g.useRef(null),[c,u]=g.useState(!1),[d,f]=g.useState("");g.useEffect(()=>{if(!l.current)return;const b=new ResizeObserver(w=>{for(const j of w)u(j.contentRect.width>450)});return b.observe(l.current),()=>{b.disconnect()}},[]);const m=s?Object.values(s.columns).filter(b=>["int","float","number"].some(w=>b.dtype.toLowerCase().includes(w))).map(b=>b.name):[],h=m.filter(b=>b.toLowerCase().includes(d.toLowerCase())),p=()=>{t({...e,columns:h})},x=()=>{const b=e.columns.filter(w=>!h.includes(w));t({...e,columns:b})},v=b=>{e.columns.includes(b)?t({...e,columns:e.columns.filter(w=>w!==b)}):t({...e,columns:[...e.columns,b]})};return o.jsxs("div",{ref:l,className:"p-4 space-y-4 h-full overflow-y-auto",children:[!a&&o.jsx("div",{className:"p-2 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:"Connect a dataset node to see available columns."}),o.jsxs("div",{className:`grid gap-4 ${c?"grid-cols-2":"grid-cols-1"}`,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Binning Strategy"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.strategy,onChange:b=>t({...e,strategy:b.target.value}),children:[o.jsx("option",{value:"equal_width",children:"Equal Width (Uniform)"}),o.jsx("option",{value:"equal_frequency",children:"Equal Frequency (Quantile)"}),o.jsx("option",{value:"kmeans",children:"K-Means Clustering"}),o.jsx("option",{value:"custom",children:"Custom Edges"})]}),o.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[e.strategy==="equal_width"&&"Bins have equal width ranges.",e.strategy==="equal_frequency"&&"Bins have equal number of records.",e.strategy==="kmeans"&&"Bins based on K-Means clustering centers.",e.strategy==="custom"&&"Define specific bin edges for each column."]})]}),e.strategy!=="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Number of Bins"}),o.jsx("input",{type:"number",min:2,max:100,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.n_bins,onChange:b=>t({...e,n_bins:parseInt(b.target.value)||5})})]}),e.strategy==="custom"&&o.jsxs("div",{className:"space-y-2 border rounded p-2 bg-muted/10",children:[o.jsx("label",{className:"block text-xs font-medium",children:"Custom Edges"}),e.columns.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:"Select columns first."}):o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.columns.map(b=>{var w;return o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-medium",children:b}),o.jsx($de,{value:(w=e.custom_bins)==null?void 0:w[b],onChange:j=>t({...e,custom_bins:{...e.custom_bins,[b]:j}})})]},b)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Label Format"}),o.jsxs("select",{className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.label_format,onChange:b=>t({...e,label_format:b.target.value}),children:[o.jsx("option",{value:"ordinal",children:"Ordinal (0, 1, 2...)"}),o.jsx("option",{value:"range",children:"Range Intervals ([0-10], [10-20]...)"}),o.jsx("option",{value:"bin_index",children:"Bin Index"})]})]}),e.label_format==="range"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Precision (Decimals)"}),o.jsx("input",{type:"number",min:0,max:10,className:"w-full p-2 border rounded bg-background focus:ring-1 focus:ring-primary outline-none",value:e.precision??3,onChange:b=>t({...e,precision:parseInt(b.target.value)||0})}),o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Number of decimal places to show in interval labels (e.g. 2 gives [0.00, 10.00])."})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"drop_original",checked:e.drop_original,onChange:b=>t({...e,drop_original:b.target.checked}),className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("label",{htmlFor:"drop_original",className:"text-sm",children:"Drop Original Columns"})]}),!e.drop_original&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Suffix"}),o.jsx("input",{type:"text",className:"w-full p-1.5 border rounded text-xs",placeholder:"_binned",value:e.output_suffix||"",onChange:b=>t({...e,output_suffix:b.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2 flex flex-col h-full min-h-[200px]",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Target Columns"}),o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{className:"w-full px-2 py-1 text-xs border rounded bg-background text-foreground",placeholder:"Search columns...",value:d,onChange:b=>{f(b.target.value)}})}),o.jsxs("div",{className:"flex gap-2 text-xs border-b pb-1",children:[o.jsx("button",{onClick:p,className:"text-primary hover:underline",children:"Select All"}),o.jsx("span",{className:"text-muted-foreground",children:"|"}),o.jsx("button",{onClick:x,className:"text-muted-foreground hover:underline",children:"None"}),o.jsxs("span",{className:"ml-auto text-muted-foreground",children:[e.columns.length," selected"]})]}),o.jsx("div",{className:"flex-1 border rounded bg-background overflow-y-auto p-2 max-h-[300px]",children:i?o.jsx("div",{className:"text-xs text-muted-foreground p-2",children:"Loading columns..."}):h.length===0?o.jsx("div",{className:"text-xs text-muted-foreground p-2 text-center",children:m.length===0?"No numeric columns found.":`No columns match "${d}"`}):o.jsx("div",{className:"space-y-1",children:h.map(b=>o.jsxs("label",{className:"flex items-center gap-2 text-xs cursor-pointer hover:bg-accent/50 p-1 rounded",children:[o.jsx("input",{type:"checkbox",checked:e.columns.includes(b),onChange:()=>{v(b)},className:"rounded border-gray-300 text-primary focus:ring-primary"}),o.jsx("span",{className:"truncate",title:b,children:b})]},b))})})]})]})]})},Fde={type:"BinningNode",label:"Binning / Discretization",description:"Convert continuous variables into discrete bins.",icon:nb,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Binned"}],validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column to bin."}:e.n_bins<2?{isValid:!1,message:"Number of bins must be at least 2."}:{isValid:!0},settings:zde,getDefaultConfig:()=>({columns:[],strategy:"equal_width",n_bins:5,label_format:"ordinal",output_suffix:"_binned",drop_original:!1})},Bde=({nodeId:e})=>{var a;const t=xe(s=>s.executionResult),r=e?(a=t==null?void 0:t.node_results)==null?void 0:a[e]:void 0;if(!r)return null;const n=s=>o.jsx("div",{className:"space-y-1",children:Object.entries(s).map(([i,l])=>typeof l=="object"&&l!==null?o.jsxs("div",{className:"mt-1",children:[o.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[i.replace(/_/g," "),":"]}),o.jsx("div",{className:"pl-2 border-l-2 border-gray-200 dark:border-gray-700 ml-1",children:n(l)})]},i):o.jsxs("div",{className:"flex justify-between text-[10px]",children:[o.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[i.replace(/_/g," "),":"]}),o.jsx("span",{className:"font-mono text-gray-900 dark:text-gray-100",children:String(l)})]},i))});return o.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Last Run Results"}),o.jsxs("div",{className:"text-xs space-y-1 text-gray-600 dark:text-gray-300",children:[r.metrics&&o.jsx("div",{className:"mt-2",children:n(r.metrics)}),r.error&&o.jsxs("div",{className:"mt-2 text-red-500 break-words",children:["Error: ",r.error]}),!r.metrics&&!r.error&&o.jsx("div",{className:"italic text-gray-500",children:"No metrics available"})]})]})},Ude=({config:e,onChange:t,nodeId:r})=>{var y;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),c=st(r||""),u=Array.isArray(c)?c.filter(Boolean):[],d=(y=u.find(b=>typeof b.datasetId=="string"))==null?void 0:y.datasetId,{data:f}=Ge(d),m=u.find(b=>{const w=b.config;if(!w||typeof w!="object")return!1;const j=w.target_column;return typeof j=="string"&&j.trim().length>0}),h=m?m.config.target_column??void 0:void 0;g.useEffect(()=>{if(!e.target_column){if(m&&h)t({...e,target_column:h});else if(f!=null&&f.columns){const b=Object.values(f.columns).find(w=>w.name.toLowerCase()==="target"||w.name.toLowerCase()==="class"||w.column_type==="target");b&&t({...e,target_column:b.name})}}},[f,m,h,e.target_column,e,t]),g.useEffect(()=>{if(!n.current)return;const b=new ResizeObserver(w=>{for(const j of w)s(j.contentRect.width>400)});return b.observe(n.current),()=>{b.disconnect()}},[]);const p=Dl(r||"",{types:["resampling"],suggestedNodeTypes:["ResamplingNode"]}),x=b=>{b.suggested_params&&t({...e,...b.suggested_params})},v=(b,w)=>{const j={...e,[b]:w};b==="type"&&(w==="oversampling"?j.method="smote":j.method="random_under_sampling"),t(j)};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resampling Type"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.type,onChange:b=>{v("type",b.target.value)},children:[o.jsx("option",{value:"oversampling",children:"Oversampling (Minority)"}),o.jsx("option",{value:"undersampling",children:"Undersampling (Majority)"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Method"}),o.jsx("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.method,onChange:b=>{v("method",b.target.value)},children:e.type==="oversampling"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"smote",children:"SMOTE"}),o.jsx("option",{value:"adasyn",children:"ADASYN"}),o.jsx("option",{value:"borderline_smote",children:"Borderline SMOTE"}),o.jsx("option",{value:"svm_smote",children:"SVM SMOTE"}),o.jsx("option",{value:"kmeans_smote",children:"KMeans SMOTE"}),o.jsx("option",{value:"smote_tomek",children:"SMOTE + Tomek"})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"random_under_sampling",children:"Random Under Sampling"}),o.jsx("option",{value:"nearmiss",children:"NearMiss"}),o.jsx("option",{value:"tomek_links",children:"Tomek Links"}),o.jsx("option",{value:"edited_nearest_neighbours",children:"Edited Nearest Neighbours"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type==="oversampling"?"Generate synthetic samples for the minority class.":"Remove samples from the majority class."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Column"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g., target",value:e.target_column,onChange:b=>{v("target_column",b.target.value)},list:"target-column-suggestions"}),(f==null?void 0:f.columns)&&o.jsx("datalist",{id:"target-column-suggestions",children:Object.values(f.columns).map(b=>o.jsx("option",{value:b.name},b.name))})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m?"Auto-detected from upstream node.":"The column containing the class labels."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampling Strategy"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.sampling_strategy,onChange:b=>{v("sampling_strategy",b.target.value)},children:[o.jsx("option",{value:"auto",children:"Auto (Resample all classes but majority)"}),o.jsx("option",{value:"minority",children:"Minority (Resample only minority class)"}),o.jsx("option",{value:"not minority",children:"Not Minority (Resample all but minority)"}),o.jsx("option",{value:"not majority",children:"Not Majority (Resample all but majority)"}),o.jsx("option",{value:"all",children:"All (Resample all classes)"})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Defines which classes to resample."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Random State"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.random_state,onChange:b=>{v("random_state",parseInt(b.target.value))}})]})]}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[e.type==="oversampling"&&o.jsxs(o.Fragment,{children:[["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"k Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.k_neighbors??5,onChange:b=>{v("k_neighbors",parseInt(b.target.value))}})]}),["borderline_smote","svm_smote"].includes(e.method)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"m Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.m_neighbors??10,onChange:b=>{v("m_neighbors",parseInt(b.target.value))}})]}),e.method==="borderline_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind??"borderline-1",onChange:b=>{v("kind",b.target.value)},children:[o.jsx("option",{value:"borderline-1",children:"Borderline-1"}),o.jsx("option",{value:"borderline-2",children:"Borderline-2"})]})]}),e.method==="svm_smote"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Out Step"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.out_step??.5,onChange:b=>{v("out_step",parseFloat(b.target.value))}})]}),e.method==="kmeans_smote"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cluster Balance Threshold"}),o.jsx("input",{type:"number",step:"0.1",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.cluster_balance_threshold??.1,onChange:b=>{v("cluster_balance_threshold",parseFloat(b.target.value))}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Density Exponent"}),o.jsx("input",{type:"text",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.density_exponent??"auto",onChange:b=>{v("density_exponent",b.target.value)}})]})]})]}),e.type==="undersampling"&&e.method==="random_under_sampling"&&o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block",children:"Replacement"}),o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sample with replacement"})]}),o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500",checked:e.replacement??!1,onChange:b=>{v("replacement",b.target.checked)}})]}),e.type==="undersampling"&&e.method==="nearmiss"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Version"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.version??1,onChange:b=>{v("version",parseInt(b.target.value))},children:[o.jsx("option",{value:"1",children:"1"}),o.jsx("option",{value:"2",children:"2"}),o.jsx("option",{value:"3",children:"3"})]})]}),e.type==="undersampling"&&e.method==="edited_nearest_neighbours"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"n Neighbors"}),o.jsx("input",{type:"number",className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.n_neighbors??3,onChange:b=>{v("n_neighbors",parseInt(b.target.value))}})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selection Kind"}),o.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2 text-sm text-gray-900 dark:text-gray-100 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:e.kind_sel??"all",onChange:b=>{v("kind_sel",b.target.value)},children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"mode",children:"Mode"})]})]})]}),p.length>0&&o.jsxs("div",{className:"mt-0 border rounded-md overflow-hidden border-gray-200 dark:border-gray-700",children:[o.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>{l(!i)},children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["Recommendations (",p.length,")"]}),i?o.jsx(Mu,{size:16}):o.jsx(Ht,{size:16})]}),i&&o.jsx("div",{className:"p-3 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:o.jsx(Qi,{recommendations:p,onApply:x})})]}),r&&o.jsx(Bde,{nodeId:r})]})]})})},Hde=e=>e.target_column?e.type==="oversampling"&&["smote","adasyn","borderline_smote","svm_smote","kmeans_smote"].includes(e.method)&&(e.k_neighbors??5)<1?{isValid:!1,message:"k_neighbors must be at least 1."}:{isValid:!0}:{isValid:!1,message:"Target column is required for resampling."},Vde={type:"ResamplingNode",label:"Resampling",category:"Preprocessing",description:"Balance dataset classes using oversampling or undersampling techniques.",icon:_r,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Balanced Data",type:"dataset"}],settings:Ude,validate:Hde,getDefaultConfig:()=>({type:"oversampling",method:"smote",target_column:"",sampling_strategy:"auto",random_state:42,k_neighbors:5,replacement:!1,version:1,n_neighbors:3,kind_sel:"all"})},Wde=[{value:"arithmetic",label:"Arithmetic",icon:ab},{value:"datetime_extract",label:"Date Extraction",icon:My},{value:"ratio",label:"Ratio",icon:XF},{value:"similarity",label:"Similarity",icon:zF},{value:"group_agg",label:"Group Agg",icon:FP}],Kde=["add","subtract","multiply","divide"],qde=["year","month","day","weekday","hour","quarter","is_weekend"],Yde=["ratio","token_sort_ratio","token_set_ratio"],Gde=["mean","sum","count","min","max","std","median"],ua=({columns:e,selected:t,onChange:r,label:n,single:a})=>{const[s,i]=g.useState(""),l=e.filter(u=>u.toLowerCase().includes(s.toLowerCase())),c=u=>{a?r([u]):t.includes(u)?r(t.filter(d=>d!==u)):r([...t,u])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:s,onChange:u=>{i(u.target.value)}})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:l.length>0?l.map(u=>{const d=t.includes(u);return o.jsxs("div",{onClick:()=>{c(u)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${d?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${d?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:d&&o.jsx(Gc,{size:8,strokeWidth:4})}),o.jsx("span",{className:"truncate",children:u})]},u)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center italic",children:"No columns found"})})]})]})},Xde=({config:e,onChange:t,nodeId:r})=>{var _;const a=(_=st(r||"").find(S=>S.datasetId))==null?void 0:_.datasetId,{data:s}=Ge(a),i=xe(S=>S.executionResult),l=r?i==null?void 0:i.node_results[r]:null,c=l!=null&&l.metrics&&typeof l.metrics=="object"?l.metrics:null,u=c&&Array.isArray(c.generated_features)?c.generated_features.map(S=>String(S)):[],[d,f]=g.useState(!1),m=s?Object.values(s.columns).map(S=>S.name):[],h=s?Object.values(s.columns).filter(S=>["int","float","number"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],p=s?Object.values(s.columns).filter(S=>["date","time"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],x=s?Object.values(s.columns).filter(S=>["string","object","text"].some(E=>S.dtype.toLowerCase().includes(E))).map(S=>S.name):[],v=Dl(r||"",{types:["feature_generation"],suggestedNodeTypes:["FeatureGenerationNode"],scope:"column"}),y=S=>{},b=S=>{const E={operation_type:S,method:S==="arithmetic"?"add":S==="similarity"?"ratio":S==="group_agg"?"mean":"year",input_columns:[],output_column:"",datetime_features:S==="datetime_extract"?["year"]:void 0,isExpanded:!0};t({operations:[...e.operations||[],E]})},w=(S,E)=>{const O=[...e.operations||[]];O[S]={...O[S],...E},t({operations:O})},j=(S,E)=>{E.stopPropagation();const O=[...e.operations||[]];O.splice(S,1),t({operations:O})},k=S=>{const E=[...e.operations||[]];E[S]={...E[S],isExpanded:!E[S].isExpanded},t({operations:E})},N=(S,E)=>`${S.operation_type}_${E}`;return o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"w-20 border-r bg-muted/10 flex flex-col items-center py-4 gap-2 overflow-y-auto shrink-0",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground mb-2 uppercase tracking-wider",children:"Add"}),Wde.map(S=>o.jsxs("button",{onClick:()=>{b(S.value)},className:"flex flex-col items-center justify-center gap-1 p-1.5 rounded-md border bg-card hover:bg-accent hover:border-primary/50 transition-all group w-16 h-14 shadow-sm",title:S.label,children:[o.jsx(S.icon,{size:18,className:"text-muted-foreground group-hover:text-primary"}),o.jsx("span",{className:"text-[9px] font-medium text-muted-foreground group-hover:text-foreground text-center leading-tight line-clamp-2",children:S.label.replace(" ",`
`)})]},S.value))]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:[v.length>0&&o.jsxs("div",{className:"border-b bg-muted/10",children:[o.jsxs("button",{onClick:()=>{f(!d)},className:"w-full flex items-center justify-between px-4 py-2 text-xs font-medium text-muted-foreground hover:text-primary hover:bg-muted/20 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($P,{size:14,className:v.length>0?"text-yellow-500":""}),o.jsxs("span",{children:["Recommendations (",v.length,")"]})]}),d?o.jsx(Ht,{size:14}):o.jsx(Ia,{size:14})]}),d&&o.jsx("div",{className:"p-4 bg-muted/5 border-t",children:o.jsx(Qi,{recommendations:v,onApply:y,className:"mb-0"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[(e.operations||[]).map((S,E)=>{var O,C,A;return o.jsxs("div",{className:"border rounded-lg bg-card shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-muted/30 border-b cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{k(E)},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[S.isExpanded?o.jsx(Ht,{size:14,className:"text-muted-foreground"}):o.jsx(Ia,{size:14,className:"text-muted-foreground"}),o.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-primary bg-primary/10 px-1.5 py-0.5 rounded",children:S.operation_type==="datetime_extract"?"Date":S.operation_type.replace("_"," ")}),["arithmetic","similarity","group_agg"].includes(S.operation_type)&&o.jsx("select",{className:"text-sm border-none bg-transparent font-semibold focus:ring-0 cursor-pointer hover:text-primary",value:S.method,onClick:D=>{D.stopPropagation()},onChange:D=>{w(E,{method:D.target.value})},children:(S.operation_type==="arithmetic"?Kde:S.operation_type==="similarity"?Yde:S.operation_type==="group_agg"?Gde:[]).map(D=>o.jsx("option",{value:D,children:D.replace("_"," ")},D))})]}),o.jsx("button",{onClick:D=>{j(E,D)},className:"text-muted-foreground hover:text-destructive transition-colors p-1 rounded-full hover:bg-destructive/10",children:o.jsx(Bs,{size:14})})]}),S.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4",children:[S.operation_type==="arithmetic"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:S.method==="divide"?"Performs row-by-row division (Col A / Col B) for each record.":"Performs row-by-row arithmetic between two columns."}),o.jsx(ua,{label:"Column A (Left Operand)",columns:h,selected:S.input_columns.slice(0,1),onChange:D=>{w(E,{input_columns:D})},single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-lg font-bold text-muted-foreground bg-muted/20 w-8 h-8 rounded flex items-center justify-center",children:S.method==="add"?"+":S.method==="subtract"?"-":S.method==="multiply"?"":""}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(ua,{label:"Column B (Right Operand)",columns:h,selected:((O=S.secondary_columns)==null?void 0:O.slice(0,1))||[],onChange:D=>{w(E,{secondary_columns:D})},single:!0})]}),S.operation_type==="ratio"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:["Calculates aggregate ratio: ",o.jsx("strong",{children:"Sum(Numerator) / Sum(Denominator)"}),"."]}),o.jsx(ua,{label:"Numerator (Sum)",columns:h,selected:S.input_columns,onChange:D=>{w(E,{input_columns:D})}}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Divided By"})]}),o.jsx(ua,{label:"Denominator (Sum)",columns:h,selected:S.secondary_columns||[],onChange:D=>{w(E,{secondary_columns:D})}})]}),S.operation_type==="similarity"&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20 space-y-1",children:[o.jsx("p",{children:"Calculates string similarity score (0-100) between two text columns."}),o.jsxs("ul",{className:"list-disc pl-3 space-y-0.5 opacity-80",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Ratio:"}),' Strict character matching (Levenshtein). "apple banana" != "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Sort:"}),' Sorts words alphabetically then compares. "apple banana" == "banana apple".']}),o.jsxs("li",{children:[o.jsx("strong",{children:"Token Set:"})," Compares intersection of words. Handles duplicates/subsets well."]})]})]}),o.jsx(ua,{label:"String A",columns:x,selected:S.input_columns.slice(0,1),onChange:D=>w(E,{input_columns:D}),single:!0}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-px bg-border flex-1"}),o.jsx("span",{className:"text-xs font-bold text-muted-foreground bg-muted/20 px-2 py-1 rounded",children:"vs"}),o.jsx("div",{className:"h-px bg-border flex-1"})]}),o.jsx(ua,{label:"String B",columns:x,selected:((C=S.secondary_columns)==null?void 0:C.slice(0,1))||[],onChange:D=>w(E,{secondary_columns:D}),single:!0})]}),S.operation_type==="group_agg"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-[10px] text-muted-foreground bg-muted/20 p-1.5 rounded border border-muted/20",children:"Calculates aggregate statistics (e.g., Mean Salary) grouped by a categorical column (e.g., Department) and assigns it back to each row."}),o.jsx(ua,{label:"Group By (Categorical)",columns:x.length>0?x:m,selected:S.input_columns.slice(0,1),onChange:D=>w(E,{input_columns:D}),single:!0}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-dashed"})}),o.jsx("span",{className:"relative bg-card px-2 text-xs text-muted-foreground font-medium",children:"Target Column"})]}),o.jsx(ua,{label:"Target (Numeric)",columns:h,selected:((A=S.secondary_columns)==null?void 0:A.slice(0,1))||[],onChange:D=>w(E,{secondary_columns:D}),single:!0})]}),S.operation_type==="datetime_extract"&&o.jsxs("div",{className:"space-y-3",children:[o.jsx(ua,{label:"Date Column",columns:p.length>0?p:m,selected:S.input_columns.slice(0,1),onChange:D=>w(E,{input_columns:D}),single:!0}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Features to Extract"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:qde.map(D=>o.jsxs("label",{className:"flex items-center gap-2 text-xs p-1.5 border rounded hover:bg-accent cursor-pointer transition-colors",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted-foreground/40 text-primary focus:ring-0",checked:(S.datetime_features||[]).includes(D),onChange:M=>{const $=S.datetime_features||[],I=M.target.checked?[...$,D]:$.filter(R=>R!==D);w(E,{datetime_features:I})}}),o.jsx("span",{className:"capitalize",children:D.replace("_"," ")})]},D))})]})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("label",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider mb-1 block",children:"Output Column Name"}),o.jsx("input",{type:"text",className:"w-full text-xs border rounded px-2 py-1.5 bg-background focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all",placeholder:N(S,E),value:S.output_column||"",onChange:D=>{w(E,{output_column:D.target.value})}})]})]})]},E)}),(!e.operations||e.operations.length===0)&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed rounded-lg bg-muted/5 text-muted-foreground",children:[o.jsx(ab,{size:32,className:"mb-2 opacity-20"}),o.jsx("p",{className:"text-xs font-medium",children:"No operations added"}),o.jsx("p",{className:"text-[10px] opacity-70",children:"Select a type above to start"})]}),c&&o.jsxs("div",{className:"border rounded-lg bg-muted/10 p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold text-primary",children:[o.jsx(_r,{size:14}),o.jsx("span",{children:"Last Run Results"})]}),o.jsx("div",{className:"space-y-2 text-xs",children:u.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"New Features Created:"}),o.jsx("span",{className:"font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:u.length})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wider font-semibold mb-1.5 block",children:"Generated Columns"}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(S=>o.jsx("span",{className:"px-2 py-1 bg-background border rounded text-[10px] font-mono text-foreground shadow-sm",children:S},S))})]})]}):o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(Tu,{size:12}),o.jsx("span",{children:"No features generated in last run."})]})})]})]})]})]})},Qde={type:"FeatureGenerationNode",label:"Feature Generation",description:"Create new features via math, stats, or date extraction.",icon:ab,category:"Preprocessing",inputs:[{id:"in",type:"dataset",label:"Dataset"}],outputs:[{id:"out",type:"dataset",label:"Enhanced"}],validate:e=>{var t,r,n,a;if(!((t=e.operations)!=null&&t.length))return{isValid:!1,message:"Add at least one operation."};for(const s of e.operations){if(s.operation_type==="arithmetic"&&(s.input_columns.length===0||!((r=s.secondary_columns)!=null&&r.length)&&!((n=s.constants)!=null&&n.length)))return{isValid:!1,message:"Arithmetic requires two operands."};if(s.operation_type==="datetime_extract"&&s.input_columns.length===0)return{isValid:!1,message:"Select a date column."};if(s.operation_type==="group_agg"&&(s.input_columns.length===0||!((a=s.secondary_columns)!=null&&a.length)))return{isValid:!1,message:"Select both Group By and Target columns."}}return{isValid:!0}},settings:Xde,getDefaultConfig:()=>({operations:[]})},Jde=({columns:e,selected:t,onChange:r,label:n})=>{const[a,s]=g.useState(""),i=e.filter(c=>c.toLowerCase().includes(a.toLowerCase())),l=c=>{t.includes(c)?r(t.filter(u=>u!==c)):r([...t,c])};return o.jsxs("div",{className:"space-y-1.5",children:[n&&o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:n}),o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:a,onChange:c=>{s(c.target.value)}})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto p-1 space-y-0.5",children:i.length>0?i.map(c=>{const u=t.includes(c);return o.jsxs("div",{onClick:()=>{l(c)},className:`
                    flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                    ${u?"bg-primary/10 text-primary font-medium":"hover:bg-accent text-foreground"}
                  `,children:[o.jsx("div",{className:`
                    w-3 h-3 rounded border flex items-center justify-center
                    ${u?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/40"}
                  `,children:u&&o.jsx("div",{className:"w-1.5 h-1.5 bg-current rounded-sm"})}),o.jsx("span",{className:"truncate",children:c})]},c)}):o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center",children:"No columns found"})})]}),o.jsxs("div",{className:"text-[10px] text-muted-foreground text-right",children:[t.length," selected"]})]})},Zde={type:"PolynomialFeaturesNode",label:"Polynomial Features",description:"Generate polynomial and interaction features.",category:"Preprocessing",icon:hk,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Transformed Data",type:"dataset"}],getDefaultConfig:()=>({columns:[],degree:2,interaction_only:!1,include_bias:!1,output_prefix:"poly",include_input_features:!1,isExpanded:!0}),settings:({config:e,onChange:t,nodeId:r})=>{var u;const a=(u=st(r||"").find(d=>d.datasetId))==null?void 0:u.datasetId,{data:s}=Ge(a),i=s?Object.values(s.columns).filter(d=>["int","float","number","double","long"].some(f=>d.dtype.toLowerCase().includes(f))).map(d=>d.name):[],l=d=>{t({...e,...d})},c=()=>{l({isExpanded:!e.isExpanded})};return o.jsx("div",{className:"space-y-2 min-w-[280px]",children:o.jsxs("div",{className:"border rounded-md bg-card",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:c,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hk,{size:14,className:"text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Configuration"})]}),e.isExpanded?o.jsx(Ht,{size:14}):o.jsx(Ia,{size:14})]}),e.isExpanded&&o.jsxs("div",{className:"p-3 space-y-4 border-t",children:[o.jsx(Jde,{label:"Input Columns (Numeric)",columns:i,selected:e.columns||[],onChange:d=>l({columns:d})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("label",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1",children:["Degree",o.jsxs("div",{className:"group relative",children:[o.jsx(Tu,{size:10,className:"cursor-help"}),o.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:block w-48 p-2 bg-popover text-popover-foreground text-[10px] rounded border shadow-lg z-50",children:"The degree of the polynomial features. Default = 2."})]})]}),o.jsx("input",{type:"number",min:2,max:5,className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.degree||2,onChange:d=>l({degree:parseInt(d.target.value)||2})})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Output Prefix"}),o.jsx("input",{type:"text",className:"w-full px-2 py-1.5 text-xs border rounded bg-background",value:e.output_prefix||"poly",onChange:d=>l({output_prefix:d.target.value})})]}),o.jsxs("div",{className:"space-y-2 pt-1",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.interaction_only||!1,onChange:d=>l({interaction_only:d.target.checked})}),o.jsx("span",{className:"text-xs",children:"Interaction Only"})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground pl-5",children:"If true, only interaction features are produced: features that are products of at most degree distinct input features."}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_bias||!1,onChange:d=>l({include_bias:d.target.checked})}),o.jsx("span",{className:"text-xs",children:"Include Bias"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",className:"rounded border-muted",checked:e.include_input_features||!1,onChange:d=>l({include_input_features:d.target.checked})}),o.jsx("span",{className:"text-xs",children:"Include Input Features"})]})]})]})]})]})})},validate:e=>!e.columns||e.columns.length===0?{isValid:!1,message:"Select at least one input column."}:e.degree<2?{isValid:!1,message:"Degree must be at least 2."}:{isValid:!0}},efe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},tfe=({operation:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-3 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("select",{className:"text-xs font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-gray-100",value:e.op,onChange:n=>{const a=n.target.value;let s="both";a==="case"&&(s="lower"),a==="remove_special"&&(s="keep_alphanumeric"),a==="regex"&&(s="custom"),t({...e,op:a,mode:s})},children:[o.jsx("option",{value:"trim",children:"Trim Whitespace"}),o.jsx("option",{value:"case",children:"Change Case"}),o.jsx("option",{value:"remove_special",children:"Remove Special Chars"}),o.jsx("option",{value:"regex",children:"Regex Replace"})]}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Bs,{size:14})})]}),o.jsxs("div",{className:"space-y-2",children:[e.op==="trim"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"both",children:"Both Ends"}),o.jsx("option",{value:"leading",children:"Leading Only"}),o.jsx("option",{value:"trailing",children:"Trailing Only"})]}),e.op==="case"&&o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"lower",children:"Lower Case"}),o.jsx("option",{value:"upper",children:"Upper Case"}),o.jsx("option",{value:"title",children:"Title Case"}),o.jsx("option",{value:"sentence",children:"Sentence Case"})]}),e.op==="remove_special"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"keep_alphanumeric",children:"Keep Alphanumeric"}),o.jsx("option",{value:"keep_alphanumeric_space",children:"Keep Alphanumeric & Space"}),o.jsx("option",{value:"letters_only",children:"Letters Only"}),o.jsx("option",{value:"digits_only",children:"Digits Only"})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement (optional)",value:e.replacement||"",onChange:n=>t({...e,replacement:n.target.value})})]}),e.op==="regex"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",value:e.mode,onChange:n=>t({...e,mode:n.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Pattern"}),o.jsx("option",{value:"collapse_whitespace",children:"Collapse Whitespace"}),o.jsx("option",{value:"extract_digits",children:"Extract Digits"}),o.jsx("option",{value:"normalize_slash_dates",children:"Normalize Dates (MM/DD/YYYY)"})]}),e.mode==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1",children:[o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5 font-mono",placeholder:"Regex Pattern",value:e.pattern||"",onChange:n=>t({...e,pattern:n.target.value})}),o.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",title:"Generate regex from literal text",onClick:()=>{const n=prompt("Enter the exact text you want to match (it will be escaped):");if(n){const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t({...e,pattern:a})}},children:o.jsx(o6,{size:14})})]}),o.jsx("input",{type:"text",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-1.5",placeholder:"Replacement",value:e.repl||"",onChange:n=>t({...e,repl:n.target.value})})]})]})]})]}),rfe=({config:e,onChange:t,nodeId:r})=>{var x;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),u=(x=st(r||"").find(v=>v.datasetId))==null?void 0:x.datasetId,{data:d}=Ge(u),f=d?Object.values(d.columns).filter(v=>{const y=String(v.dtype).toLowerCase();return y.includes("object")||y.includes("string")||y.includes("category")||y.includes("text")}).map(v=>v.name):[];g.useEffect(()=>{if(!n.current)return;const v=new ResizeObserver(y=>{for(const b of y)s(b.contentRect.width>400)});return v.observe(n.current),()=>{v.disconnect()}},[]);const m=()=>{t({...e,operations:[...e.operations,{op:"trim",mode:"both"}]})},h=(v,y)=>{const b=[...e.operations];b[v]=y,t({...e,operations:b})},p=v=>{const y=e.operations.filter((b,w)=>w!==v);t({...e,operations:y})};return o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(efe,{columns:f,selected:e.columns,onChange:v=>t({...e,columns:v})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Tu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Text Cleaning"}),i?o.jsx(Mu,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Ht,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Clean and standardize text columns by trimming whitespace, changing case, removing special characters, or applying custom regex patterns."})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cleaning Operations"}),o.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[o.jsx(Yi,{size:14}),"Add Step"]})]}),o.jsx("div",{className:"space-y-3",children:e.operations.length===0?o.jsxs("div",{className:"text-center p-6 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"No operations added."}),o.jsx("button",{onClick:m,className:"mt-2 text-xs text-blue-600 hover:underline",children:"Add your first cleaning step"})]}):e.operations.map((v,y)=>o.jsx(tfe,{operation:v,onChange:b=>{h(y,b)},onDelete:()=>{p(y)}},y))})]})]})})},nfe={type:"TextCleaning",label:"Text Cleaning",category:"Preprocessing",description:"Clean and standardize text columns.",icon:MF,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:rfe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.operations.length===0?{isValid:!1,message:"Add at least one operation."}:{isValid:!0},getDefaultConfig:()=>({columns:[],operations:[{op:"trim",mode:"both"}]})},afe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},L_=({value:e,type:t,onChange:r,placeholder:n})=>{const a=i=>{let l=e;i==="number"&&(l=Number(e)||0),i==="boolean"&&(l=!!e),i==="string"&&(l=String(e)),i==="null"&&(l=null),i==="nan"&&(l="NaN"),r(l,i)},s=i=>{let l=i.target.value;t==="number"&&(l=parseFloat(l)),r(l,t)};return o.jsxs("div",{className:"flex gap-1",children:[o.jsxs("select",{className:"w-20 text-[10px] rounded border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 px-1",value:t,onChange:i=>{a(i.target.value)},children:[o.jsx("option",{value:"string",children:"Text"}),o.jsx("option",{value:"number",children:"Num"}),o.jsx("option",{value:"boolean",children:"Bool"}),o.jsx("option",{value:"null",children:"Null"})]}),t==="string"&&o.jsx("input",{type:"text",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="number"&&o.jsx("input",{type:"number",className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:e||"",onChange:s,placeholder:n}),t==="boolean"&&o.jsxs("select",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1",value:String(e),onChange:i=>r(i.target.value==="true","boolean"),children:[o.jsx("option",{value:"true",children:"True"}),o.jsx("option",{value:"false",children:"False"})]}),(t==="null"||t==="nan")&&o.jsx("div",{className:"flex-1 min-w-0 text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 italic flex items-center",children:t==="null"?"None / Null":"NaN"})]})},sfe=({item:e,onChange:t,onDelete:r})=>o.jsxs("div",{className:"p-2 border rounded-md bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Find"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors p-1",children:o.jsx(Bs,{size:14})})]}),o.jsx(L_,{value:e.old,type:e.oldType,onChange:(n,a)=>t({...e,old:n,oldType:a}),placeholder:"Value to find"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"text-gray-400",children:o.jsx(_F,{size:14,className:"rotate-90"})}),o.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Replace With"})]}),o.jsx(L_,{value:e.new,type:e.newType,onChange:(n,a)=>t({...e,new:n,newType:a}),placeholder:"New value"})]}),ife=({config:e,onChange:t,nodeId:r})=>{var d;const a=(d=st(r||"").find(f=>f==null?void 0:f.datasetId))==null?void 0:d.datasetId,{data:s}=Ge(a),i=s?Object.values(s.columns).map(f=>f.name):[],l=()=>{t({...e,replacements:[...e.replacements,{old:"",new:"",oldType:"string",newType:"string"}]})},c=(f,m)=>{const h=[...e.replacements];h[f]=m,t({...e,replacements:h})},u=f=>{const m=e.replacements.filter((h,p)=>p!==f);t({...e,replacements:m})};return o.jsxs("div",{className:"space-y-4 p-1",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Target Columns"}),o.jsx(afe,{columns:i,selected:e.columns,onChange:f=>t({...e,columns:f})}),o.jsx("p",{className:"text-[10px] text-gray-500",children:"Select columns to apply replacements to. If empty, applies to all compatible columns."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Replacements"}),o.jsxs("button",{onClick:l,className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700 dark:text-blue-400",children:[o.jsx(Yi,{size:12})," Add"]})]}),o.jsxs("div",{className:"space-y-3",children:[e.replacements.map((f,m)=>o.jsx(sfe,{item:f,onChange:h=>{c(m,h)},onDelete:()=>{u(m)}},m)),e.replacements.length===0&&o.jsx("div",{className:"text-center py-4 text-xs text-gray-500 border border-dashed rounded",children:"No replacements defined."})]})]})]})},ofe={type:"value_replacement",label:"Replace Values",category:"Preprocessing",description:"Replace specific values in columns (e.g. -999 to NaN).",icon:QF,inputs:[{id:"in",label:"Input Dataset",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Dataset",type:"dataset"}],settings:ife,validate:e=>{var t;return(t=e.replacements)!=null&&t.length?{isValid:!0}:{isValid:!0,message:"No replacements defined (pass-through)."}},getDefaultConfig:()=>({columns:[],replacements:[]})},lfe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},cfe=({pairs:e,onChange:t})=>{const[r,n]=g.useState(""),[a,s]=g.useState(""),i=()=>{r&&a&&(t({...e,[r]:a}),n(""),s(""))},l=c=>{const u={...e};Reflect.deleteProperty(u,c),t(u)};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Alias (Old)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. NY",value:r,onChange:c=>{n(c.target.value)}})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Canonical (New)"}),o.jsx("input",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:"e.g. New York",value:a,onChange:c=>{s(c.target.value)}})]}),o.jsx("button",{onClick:i,disabled:!r||!a,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Yi,{size:16})})]}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border rounded-md p-2 bg-gray-50 dark:bg-gray-800/50",children:Object.entries(e).length===0?o.jsx("div",{className:"text-center text-xs text-gray-500 py-2",children:"No custom aliases defined."}):Object.entries(e).map(([c,u])=>o.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[o.jsx("span",{className:"font-medium text-red-600 truncate max-w-[80px]",children:c}),o.jsx(TP,{size:12,className:"text-gray-400 shrink-0"}),o.jsx("span",{className:"font-medium text-green-600 truncate max-w-[80px]",children:u})]}),o.jsx("button",{onClick:()=>{l(c)},className:"text-gray-400 hover:text-red-500",children:o.jsx(Bs,{size:14})})]},c))})]})},ufe=({config:e,onChange:t,nodeId:r})=>{var m;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),u=(m=st(r||"").find(h=>h.datasetId))==null?void 0:m.datasetId,{data:d}=Ge(u),f=d?Object.values(d.columns).filter(h=>{const p=String(h.dtype).toLowerCase();return p.includes("object")||p.includes("string")||p.includes("category")||p.includes("text")}).map(h=>h.name):[];return g.useEffect(()=>{if(!n.current)return;const h=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return h.observe(n.current),()=>{h.disconnect()}},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(lfe,{columns:f,selected:e.columns,onChange:h=>t({...e,columns:h})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only text/categorical columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Tu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Alias Replacement"}),i?o.jsx(Mu,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Ht,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Standardize data by mapping multiple variations (aliases) to a single canonical value. Useful for country codes, boolean strings, or custom synonyms."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:h=>t({...e,mode:h.target.value}),children:[o.jsx("option",{value:"custom",children:"Custom Mapping"}),o.jsx("option",{value:"canonicalize_country_codes",children:"Canonicalize Country Codes"}),o.jsx("option",{value:"normalize_boolean",children:"Normalize Booleans (yes/no -> True/False)"}),o.jsx("option",{value:"punctuation",children:"Remove Punctuation"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="custom"&&"Define your own alias mappings below.",e.mode==="canonicalize_country_codes"&&"Standardizes country codes (e.g. 'USA', 'U.S.A.' -> 'US').",e.mode==="normalize_boolean"&&"Converts 'yes', 'y', '1' to True and 'no', 'n', '0' to False.",e.mode==="punctuation"&&"Removes common punctuation characters from text."]})]}),e.mode==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Custom Aliases"}),o.jsx(cfe,{pairs:e.custom_pairs,onChange:h=>t({...e,custom_pairs:h})})]})]})]})})},dfe={type:"AliasReplacement",label:"Alias Replacement",category:"Preprocessing",description:"Standardize values by mapping aliases to canonical forms.",icon:TP,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Standardized Data",type:"dataset"}],settings:ufe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom"&&Object.keys(e.custom_pairs).length===0?{isValid:!1,message:"Add at least one alias pair for custom mode."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"custom",custom_pairs:{}})},ffe=({columns:e,selected:t,onChange:r})=>{const[n,a]=g.useState(""),s=e.filter(l=>l.toLowerCase().includes(n.toLowerCase())),i=l=>{t.includes(l)?r(t.filter(c=>c!==l)):r([...t,l])};return o.jsxs("div",{className:"border rounded bg-background overflow-hidden flex flex-col max-h-40",children:[o.jsxs("div",{className:"flex items-center px-2 py-1.5 border-b bg-muted/20",children:[o.jsx(Fs,{size:12,className:"text-muted-foreground mr-1.5"}),o.jsx("input",{className:"flex-1 bg-transparent text-xs outline-none placeholder:text-muted-foreground/70",placeholder:"Search columns...",value:n,onChange:l=>{a(l.target.value)}})]}),o.jsx("div",{className:"overflow-y-auto p-1 space-y-0.5",children:s.length>0?s.map(l=>{const c=t.includes(l);return o.jsxs("div",{onClick:()=>{i(l)},className:`
                  flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer transition-colors
                  ${c?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}
                `,children:[o.jsx("div",{className:`
                  w-3 h-3 rounded border flex items-center justify-center
                  ${c?"border-blue-500 bg-blue-500 text-white":"border-gray-400 dark:border-gray-600"}
                `,children:c&&o.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),o.jsx("span",{className:"truncate",children:l})]},l)}):o.jsx("div",{className:"p-2 text-xs text-gray-500 text-center italic",children:"No columns found"})})]})},mfe=({config:e,onChange:t,nodeId:r})=>{var m;const n=g.useRef(null),[a,s]=g.useState(!1),[i,l]=g.useState(!0),u=(m=st(r||"").find(h=>h.datasetId))==null?void 0:m.datasetId,{data:d}=Ge(u),f=d?Object.values(d.columns).filter(h=>["int","float","number"].some(p=>h.dtype.toLowerCase().includes(p))).map(h=>String(h.name)):[];return g.useEffect(()=>{if(!n.current)return;const h=new ResizeObserver(p=>{for(const x of p)s(x.contentRect.width>400)});return h.observe(n.current),()=>{h.disconnect()}},[]),o.jsx("div",{ref:n,className:`flex flex-col h-full w-full bg-white dark:bg-gray-900 ${a?"overflow-hidden":"overflow-y-auto"}`,children:o.jsxs("div",{className:`flex-1 min-h-0 p-4 gap-4 ${a?"grid grid-cols-2":"flex flex-col"}`,children:[o.jsx("div",{className:`space-y-4 ${a?"overflow-y-auto pr-2":"shrink-0"}`,children:o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:["Target Columns (",e.columns.length,")"]}),o.jsx(ffe,{columns:f,selected:e.columns,onChange:h=>t({...e,columns:h})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only numeric columns are shown."})]})}),o.jsxs("div",{className:`space-y-4 ${a?"overflow-y-auto pl-2 border-l border-gray-100 dark:border-gray-700":"shrink-0 pt-4 border-t border-gray-100 dark:border-gray-700"}`,children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800 overflow-hidden",children:[o.jsxs("button",{onClick:()=>{l(!i)},className:"w-full flex items-center gap-2 p-3 text-left hover:bg-blue-100/50 dark:hover:bg-blue-900/30 transition-colors",children:[o.jsx(Tu,{className:"text-blue-600 dark:text-blue-400 shrink-0",size:16}),o.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200 flex-1",children:"About Invalid Value Replacement"}),i?o.jsx(Mu,{size:14,className:"text-blue-600 dark:text-blue-400"}):o.jsx(Ht,{size:14,className:"text-blue-600 dark:text-blue-400"})]}),i&&o.jsx("div",{className:"px-3 pb-3 text-xs text-blue-800 dark:text-blue-200 pl-9",children:o.jsx("p",{children:"Use this node to handle data quality issues by replacing invalid numeric values (like negative ages or out-of-bounds sensor readings) with NaN (Missing)."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Replacement Mode"}),o.jsxs("select",{className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 p-2",value:e.mode,onChange:h=>t({...e,mode:h.target.value}),children:[o.jsx("option",{value:"negative_to_nan",children:"Negative to NaN"}),o.jsx("option",{value:"zero_to_nan",children:"Zero to NaN"}),o.jsx("option",{value:"percentage_bounds",children:"Percentage Bounds (0-100)"}),o.jsx("option",{value:"age_bounds",children:"Age Bounds (0-120)"}),o.jsx("option",{value:"custom_range",children:"Custom Range"})]}),o.jsxs("p",{className:"text-[10px] text-gray-500 mt-1",children:[e.mode==="negative_to_nan"&&"Replaces all negative values (< 0) with NaN.",e.mode==="zero_to_nan"&&"Replaces all zero values (== 0) with NaN.",e.mode==="percentage_bounds"&&"Replaces values outside 0-100 range with NaN.",e.mode==="age_bounds"&&"Replaces values outside 0-120 range with NaN.",e.mode==="custom_range"&&"Replaces values outside the specified Min/Max range with NaN."]})]}),(e.mode==="custom_range"||e.mode==="percentage_bounds"||e.mode==="age_bounds")&&o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Min Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"0":"Min",value:e.min_value??"",onChange:h=>t({...e,min_value:h.target.value?parseFloat(h.target.value):void 0})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Max Value"}),o.jsx("input",{type:"number",className:"w-full text-xs rounded border border-gray-300 dark:border-gray-600 px-2 py-1.5",placeholder:e.mode==="percentage_bounds"?"100":"Max",value:e.max_value??"",onChange:h=>t({...e,max_value:h.target.value?parseFloat(h.target.value):void 0})})]}),o.jsx("p",{className:"col-span-2 text-[10px] text-gray-500",children:"Values outside this range will be replaced with NaN."})]})]})]})})},hfe={type:"InvalidValueReplacement",label:"Invalid Value Replacement",category:"Preprocessing",description:"Replace invalid or out-of-range values with NaN.",icon:cb,inputs:[{id:"in",label:"Data",type:"dataset"}],outputs:[{id:"out",label:"Cleaned Data",type:"dataset"}],settings:mfe,validate:e=>e.columns.length===0?{isValid:!1,message:"Select at least one column."}:e.mode==="custom_range"&&e.min_value===void 0&&e.max_value===void 0?{isValid:!1,message:"Specify at least a min or max value for custom range."}:{isValid:!0},getDefaultConfig:()=>({columns:[],mode:"negative_to_nan"})},pfe=()=>{_e.register(Gue),_e.register(Jue),_e.register(ede),_e.register(rde),_e.register(ade),_e.register(Tde),_e.register(Lde),_e.register(Fde),_e.register(Vde),_e.register(Qde),_e.register(Zde),_e.register(nfe),_e.register(ofe),_e.register(dfe),_e.register(hfe),_e.register(Ade),_e.register(gde),_e.register(xde),_e.register(bde),_e.register(jde),_e.register(Nde),_e.register(Ede),_e.register(Pde),_e.register(cde),_e.register(hde)};pfe();const gfe=new I$,$_=document.getElementById("root");$_&&j0.createRoot($_).render(o.jsx(Mr.StrictMode,{children:o.jsx(R$,{client:gfe,children:o.jsx(Wue,{})})}));
